---
title: Getting Started (directxmath)
description: Die directxmath-Bibliothek implementiert eine optimale und portabel-Schnittstelle für arithmetische und lineare Algebra-Vorgänge für Gleit Komma Vektoren mit einfacher Genauigkeit (2D, 3D und 4D) oder Matrizen (3 × 3 und 4 × 4).
ms.assetid: 9972e382-7a0f-88a7-ad44-18521af3520d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 05e599acfc498e28b33acfc5bbbba2bea5669d2a
ms.sourcegitcommit: 3bdf30edb314e0fcd17dc4ddbc70e4ec7d3596e6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/10/2021
ms.locfileid: "104351019"
---
# <a name="getting-started-directxmath"></a><span data-ttu-id="6477f-103">Getting Started (directxmath)</span><span class="sxs-lookup"><span data-stu-id="6477f-103">Getting started (DirectXMath)</span></span>

<span data-ttu-id="6477f-104">Die directxmath-Bibliothek implementiert eine optimale und portabel-Schnittstelle für arithmetische und lineare Algebra-Vorgänge für Gleit Komma Vektoren mit einfacher Genauigkeit (2D, 3D und 4D) oder Matrizen (3 × 3 und 4 × 4).</span><span class="sxs-lookup"><span data-stu-id="6477f-104">The DirectXMath Library implements an optimal and portable interface for arithmetic and linear algebra operations on single-precision floating-point vectors (2D, 3D, and 4D) or matrices (3×3 and 4×4).</span></span> <span data-ttu-id="6477f-105">Die Bibliothek verfügt über eine begrenzte Unterstützung für ganzzahlige Vektor Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="6477f-105">The library has some limited support for integer vector operations.</span></span> <span data-ttu-id="6477f-106">Diese Vorgänge werden ausgiebig beim Rendering und bei der Animation durch Grafikprogramme verwendet.</span><span class="sxs-lookup"><span data-stu-id="6477f-106">These operations are used extensively in rendering and animation by graphics programs.</span></span> <span data-ttu-id="6477f-107">Es gibt keine Unterstützung für Vektoren mit doppelter Genauigkeit (einschließlich Longs, Shorts oder Bytes) und nur eingeschränkte ganzzahlige Vektor Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="6477f-107">There is no support for double-precision vectors (including longs, shorts, or bytes), and only limited integer vector operations.</span></span>

<span data-ttu-id="6477f-108">Die Bibliothek ist auf einer Vielzahl von Windows-Plattformen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="6477f-108">The library is available on a variety of Windows platforms.</span></span> <span data-ttu-id="6477f-109">Da die Bibliothek Funktionen bereitstellt, die bisher nicht verfügbar waren, ersetzt diese Version die folgenden Bibliotheken:</span><span class="sxs-lookup"><span data-stu-id="6477f-109">Because the library provides functionality not available previously, this version supersedes the following libraries:</span></span>

-   <span data-ttu-id="6477f-110">Von der xboxmath. h-Kopfzeile bereitgestellte Xbox Math-Bibliothek</span><span class="sxs-lookup"><span data-stu-id="6477f-110">Xbox Math library provided by the Xboxmath.h header</span></span>
-   <span data-ttu-id="6477f-111">D3DX 9-Bibliothek von D3DX 9-DLLs bereitgestellt</span><span class="sxs-lookup"><span data-stu-id="6477f-111">D3DX 9 library provided by the D3DX 9 DLLs</span></span>
-   <span data-ttu-id="6477f-112">D3DX 10 Math Library über die D3DX 10-DLLs bereitgestellt</span><span class="sxs-lookup"><span data-stu-id="6477f-112">D3DX 10 math library provided through the D3DX 10 DLLs</span></span>
-   <span data-ttu-id="6477f-113">XNA-mathematische Bibliothek, bereitgestellt vom xnamath. h-Header im DirectX SDK und Xbox 360 XDK</span><span class="sxs-lookup"><span data-stu-id="6477f-113">XNA Math library provided by the xnamath.h header in the DirectX SDK and Xbox 360 XDK</span></span>

<span data-ttu-id="6477f-114">In diesen Abschnitten werden die Grundlagen der ersten Schritte erläutert.</span><span class="sxs-lookup"><span data-stu-id="6477f-114">These sections outline the basics of getting started.</span></span>

-   [<span data-ttu-id="6477f-115">Download</span><span class="sxs-lookup"><span data-stu-id="6477f-115">Download</span></span>](#download)
-   [<span data-ttu-id="6477f-116">System Anforderungen für die Laufzeit</span><span class="sxs-lookup"><span data-stu-id="6477f-116">Run-Time System Requirements</span></span>](#run-time-system-requirements)
-   [<span data-ttu-id="6477f-117">Entwurfs Übersicht</span><span class="sxs-lookup"><span data-stu-id="6477f-117">Design Overview</span></span>](#design-overview)
-   [<span data-ttu-id="6477f-118">Matrix Konvention</span><span class="sxs-lookup"><span data-stu-id="6477f-118">Matrix convention</span></span>](#matrix-convention)
-   [<span data-ttu-id="6477f-119">Grundlegende Verwendung</span><span class="sxs-lookup"><span data-stu-id="6477f-119">Basic Usage</span></span>](#basic-usage)
-   [<span data-ttu-id="6477f-120">Typverwendungs Richtlinien</span><span class="sxs-lookup"><span data-stu-id="6477f-120">Type Usage Guidelines</span></span>](#type-usage-guidelines)
-   [<span data-ttu-id="6477f-121">Erstellen von Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-121">Creating Vectors</span></span>](#creating-vectors)
    -   [<span data-ttu-id="6477f-122">Konstante Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-122">CONSTANT VECTORS</span></span>](#constant-vectors)
    -   [<span data-ttu-id="6477f-123">Vektoren aus Variablen</span><span class="sxs-lookup"><span data-stu-id="6477f-123">VECTORS FROM VARIABLES</span></span>](#vectors-from-variables)
    -   [<span data-ttu-id="6477f-124">Vektoren von Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-124">VECTORS FROM VECTORS</span></span>](#vectors-from-vectors)
    -   [<span data-ttu-id="6477f-125">Vektoren aus dem Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="6477f-125">VECTORS FROM MEMORY</span></span>](#vectors-from-memory)
-   [<span data-ttu-id="6477f-126">Extrahieren von Komponenten aus Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-126">Extracting Components from Vectors</span></span>](#extracting-components-from-vectors)
-   [<span data-ttu-id="6477f-127">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6477f-127">Related topics</span></span>](#related-topics)

## <a name="download"></a><span data-ttu-id="6477f-128">Herunterladen</span><span class="sxs-lookup"><span data-stu-id="6477f-128">Download</span></span>

<span data-ttu-id="6477f-129">Die directxmath-Bibliothek ist in der Windows SDK enthalten.</span><span class="sxs-lookup"><span data-stu-id="6477f-129">The DirectXMath library is included in the Windows SDK.</span></span> <span data-ttu-id="6477f-130">Alternativ können Sie es von [GitHub/Microsoft/directxmath](https://github.com/Microsoft/DirectXMath)herunterladen.</span><span class="sxs-lookup"><span data-stu-id="6477f-130">Alternatively you can download it from [GitHub/Microsoft/DirectXMath](https://github.com/Microsoft/DirectXMath).</span></span> <span data-ttu-id="6477f-131">Diese Site enthält auch Verwandte Beispiel Projekte.</span><span class="sxs-lookup"><span data-stu-id="6477f-131">This site also contains related sample projects.</span></span>

## <a name="run-time-system-requirements"></a><span data-ttu-id="6477f-132">System Anforderungen Run-Time</span><span class="sxs-lookup"><span data-stu-id="6477f-132">Run-Time System Requirements</span></span>

<span data-ttu-id="6477f-133">Die directxmath-Bibliothek verwendet spezielle Prozessor Anweisungen für Vektor Vorgänge, wenn diese verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="6477f-133">The DirectXMath Library uses specialized processor instructions for vector operations when they are available.</span></span> <span data-ttu-id="6477f-134">Um zu vermeiden, dass ein Programmfehler vom Typ "unbekannte Anweisungs Ausnahme" generiert, überprüfen Sie die Prozessorunterstützung durch Aufrufen von [**xmverifycpusupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport) vor der Verwendung der directxmath-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="6477f-134">To avoid having a program generate "unknown instruction exception" faults, check for processor support by calling [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport) before using the DirectXMath Library.</span></span>

<span data-ttu-id="6477f-135">Dies sind die grundlegenden Anforderungen an die Laufzeitunterstützung der directxmath-Bibliothek:</span><span class="sxs-lookup"><span data-stu-id="6477f-135">These are the basic DirectXMath Library run-time support requirements:</span></span>

-   <span data-ttu-id="6477f-136">Die Standard Kompilierung auf einer Windows-Plattform (x86/x64) erfordert die Unterstützung von SSE/SSE2-Anweisungen.</span><span class="sxs-lookup"><span data-stu-id="6477f-136">Default compilation on a Windows (x86/x64) platform requires SSE/SSE2 instruction support.</span></span>
-   <span data-ttu-id="6477f-137">Standardmäßige compliationen auf einer Windows RT-Plattform erfordern eine Arm-Neon-Anweisungs Unterstützung.</span><span class="sxs-lookup"><span data-stu-id="6477f-137">Default compliation on a Windows RT platform requires ARM-NEON instruction support.</span></span>
-   <span data-ttu-id="6477f-138">Die Kompilierung mit XM, für die [**\_ \_ keine \_ \_**](ovw-xnamath-reference-directives.md) systeminternen Funktionen definiert sind, erfordert nur standardmäßige Gleit Komma Operationen</span><span class="sxs-lookup"><span data-stu-id="6477f-138">Compilation with [**\_XM\_NO\_INTRINSICS\_**](ovw-xnamath-reference-directives.md) defined requires only standard floating-point operation support.</span></span>

> [!Note]  
> <span data-ttu-id="6477f-139">Wenn Sie [**xmverifycpusupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport)aufgerufen haben, schließen Sie <Windows. h-> ein, bevor Sie <directxmath. h-> einschließen.</span><span class="sxs-lookup"><span data-stu-id="6477f-139">When you call [**XMVerifyCPUSupport**](/windows/win32/api/directxmath/nf-directxmath-xmverifycpusupport), include <windows.h> before you include <DirectXMath.h>.</span></span> <span data-ttu-id="6477f-140">Dies ist die einzige Funktion in der Bibliothek, die Inhalte aus <Windows. h benötigt> damit Sie nicht <Windows. h-> in jedes Modul einschließen müssen, das <directxmath. h> verwendet.</span><span class="sxs-lookup"><span data-stu-id="6477f-140">This is the only function in the library that requires any content from <windows.h> so you aren't required to include <windows.h> in every module that uses <DirectXMath.h>.</span></span>

 

## <a name="design-overview"></a><span data-ttu-id="6477f-141">Entwurfsübersicht</span><span class="sxs-lookup"><span data-stu-id="6477f-141">Design Overview</span></span>

<span data-ttu-id="6477f-142">Die directxmath-Bibliothek unterstützt hauptsächlich die Programmiersprache C++.</span><span class="sxs-lookup"><span data-stu-id="6477f-142">The DirectXMath Library primarily supports the C++ programming language.</span></span> <span data-ttu-id="6477f-143">Die Bibliothek wird mithilfe von Inline Routinen in den Header Dateien, directxmath \* . INL, directxpackedvector. INL und directxcollision. INL implementiert.</span><span class="sxs-lookup"><span data-stu-id="6477f-143">The library is implemented using inline routines in the header files, DirectXMath\*.inl, DirectXPackedVector.inl and DirectXCollision.inl.</span></span> <span data-ttu-id="6477f-144">Diese Implementierung nutzt hochleistungsfähige Compilerfunktionen.</span><span class="sxs-lookup"><span data-stu-id="6477f-144">This implementation makes use of high-performance compiler intrinsics.</span></span>

<span data-ttu-id="6477f-145">Die directxmath-Bibliothek bietet Folgendes:</span><span class="sxs-lookup"><span data-stu-id="6477f-145">The DirectXMath Library provides:</span></span>

-   <span data-ttu-id="6477f-146">Eine-Implementierung mit systeminternen SSE/SSE2-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="6477f-146">An implementation using SSE/SSE2 intrinsics.</span></span>
-   <span data-ttu-id="6477f-147">Eine-Implementierung ohne systeminterne Funktionen.</span><span class="sxs-lookup"><span data-stu-id="6477f-147">An implementation without intrinsics.</span></span>
-   <span data-ttu-id="6477f-148">Eine-Implementierung, die systeminterne Arm-Neon-Funktionen verwendet.</span><span class="sxs-lookup"><span data-stu-id="6477f-148">An implementation using ARM-NEON intrinsics.</span></span>

<span data-ttu-id="6477f-149">Da die Bibliothek mithilfe von Header Dateien übermittelt wird, verwenden Sie den Quellcode, um Ihre eigene APP anzupassen und zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="6477f-149">Because the library is delivered using header files, use the source code to customize and optimize for your own app.</span></span>

## <a name="matrix-convention"></a><span data-ttu-id="6477f-150">Matrix Konvention</span><span class="sxs-lookup"><span data-stu-id="6477f-150">Matrix convention</span></span>

<span data-ttu-id="6477f-151">Directxmath verwendet Zeilen hauptmatrizen, Zeilen Vektoren und prämultiplikation.</span><span class="sxs-lookup"><span data-stu-id="6477f-151">DirectXMath uses row-major matrices, row vectors, and pre-multiplication.</span></span> <span data-ttu-id="6477f-152">Die Fälligkeit wird durch die verwendete Funktions Version (RH und LH) bestimmt; andernfalls funktioniert die Funktion entweder mit Links oder rechts gerichteten Ansichts Koordinaten.</span><span class="sxs-lookup"><span data-stu-id="6477f-152">Handedness is determined by which function version is used (RH vs. LH), otherwise the function works with either left-handed or right-handed view coordinates.</span></span>

<span data-ttu-id="6477f-153">Für den Verweis hat Direct3D in der Vergangenheit ein Links hängendes Koordinatensystem, Zeilen hauptmatrizen, Zeilen Vektoren und die prämultiplikation verwendet.</span><span class="sxs-lookup"><span data-stu-id="6477f-153">For reference, Direct3D has historically used left-handed coordinate system, row-major matrices, row vectors, and pre-multiplication.</span></span> <span data-ttu-id="6477f-154">Modern Direct3D hat keine starke Anforderung für linke und rechts gerichtete Koordinaten, und in der Regel werden HLSL-Shader standardmäßig für die Verwendung von Spalten hauptmatrizen verwendet.</span><span class="sxs-lookup"><span data-stu-id="6477f-154">Modern Direct3D does not have a strong requirement for left vs. right-handed coordinates, and typically HLSL shaders default to consuming column-major matrices.</span></span> <span data-ttu-id="6477f-155">Weitere Informationen finden Sie unter [HLSL-Matrix Reihen](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-per-component-math) Folge.</span><span class="sxs-lookup"><span data-stu-id="6477f-155">See [HLSL Matrix Ordering](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-per-component-math) for details.</span></span>

## <a name="basic-usage"></a><span data-ttu-id="6477f-156">Grundlegende Verwendung</span><span class="sxs-lookup"><span data-stu-id="6477f-156">Basic Usage</span></span>

<span data-ttu-id="6477f-157">Um directxmath-Bibliotheksfunktionen zu verwenden, schließen Sie die Header "directxmath. h", "directxpackedvector. h", "directxcolors. h" und "directxcollision. h" ein.</span><span class="sxs-lookup"><span data-stu-id="6477f-157">To use DirectXMath Library functions, include the DirectXMath.h, DirectXPackedVector.h, DirectXColors.h, and/or DirectXCollision.h headers.</span></span> <span data-ttu-id="6477f-158">Die Header finden Sie im Windows Software Development Kit für Windows Store-Apps.</span><span class="sxs-lookup"><span data-stu-id="6477f-158">The headers are found in the Windows Software Development Kit for Windows Store apps.</span></span>

## <a name="type-usage-guidelines"></a><span data-ttu-id="6477f-159">Typverwendungs Richtlinien</span><span class="sxs-lookup"><span data-stu-id="6477f-159">Type Usage Guidelines</span></span>

<span data-ttu-id="6477f-160">Die [**xmvector**](xmvector-data-type.md) -und [**xmmatrix**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) -Typen sind die Arbeitspferde für die directxmath-Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="6477f-160">The [**XMVECTOR**](xmvector-data-type.md) and [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) types are the work horses for the DirectXMath Library.</span></span> <span data-ttu-id="6477f-161">Jeder Vorgang verwendet oder erzeugt Daten dieser Typen.</span><span class="sxs-lookup"><span data-stu-id="6477f-161">Every operation consumes or produces data of these types.</span></span> <span data-ttu-id="6477f-162">Das Arbeiten mit Ihnen ist der Schlüssel für die Verwendung der Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="6477f-162">Working with them is key to using the library.</span></span> <span data-ttu-id="6477f-163">Da directxmath jedoch die SIMD-Anweisungs Sätze nutzt, unterliegen diese Datentypen einer Reihe von Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="6477f-163">However, since DirectXMath makes use of the SIMD instruction sets, these data types are subject to a number of restrictions.</span></span> <span data-ttu-id="6477f-164">Es ist wichtig, dass Sie diese Einschränkungen verstehen, wenn Sie die directxmath-Funktionen optimal verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="6477f-164">It is critical that you understand these restrictions if you want to make good use of the DirectXMath functions.</span></span>

<span data-ttu-id="6477f-165">Sie sollten sich [**xmvector**](xmvector-data-type.md) als Proxy für ein SIMD-Hardware Register vorstellen, und [**xmmatrix**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) als Proxy für eine logische Gruppierung von vier SIMD-Hardware Registern.</span><span class="sxs-lookup"><span data-stu-id="6477f-165">You should think of [**XMVECTOR**](xmvector-data-type.md) as a proxy for a SIMD hardware register, and [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as a proxy for a logical grouping of four SIMD hardware registers.</span></span> <span data-ttu-id="6477f-166">Diese Typen werden mit Anmerkungen versehen, um anzugeben, dass die 16-Byte-Ausrichtung für die ordnungsgemäße Ausführung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="6477f-166">These types are annotated to indicate they require 16-byte alignment to work correctly.</span></span> <span data-ttu-id="6477f-167">Der Compiler platziert Sie automatisch ordnungsgemäß auf dem Stapel, wenn Sie als lokale Variable verwendet werden, oder platziert Sie im Daten Segment, wenn Sie als globale Variable verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6477f-167">The compiler will automatically place them correctly on the stack when they are used as a local variable, or place them in the data segment when they are used as a global variable.</span></span> <span data-ttu-id="6477f-168">Mit ordnungsgemäßen Konventionen können Sie auch sicher als Parameter an eine Funktion übermittelt werden (Weitere Informationen finden Sie unter [Aufrufen von Konventionen](pg-xnamath-internals.md) ).</span><span class="sxs-lookup"><span data-stu-id="6477f-168">With proper conventions, they can also be passed safely as parameters to a function (see [Calling Conventions](pg-xnamath-internals.md) for details).</span></span>

<span data-ttu-id="6477f-169">Zuordnungen aus dem Heap sind jedoch komplizierter.</span><span class="sxs-lookup"><span data-stu-id="6477f-169">Allocations from the heap, however, are more complicated.</span></span> <span data-ttu-id="6477f-170">Daher müssen Sie sorgfältig vorgehen, wenn Sie entweder [**xmvector**](xmvector-data-type.md) oder [**xmmatrix**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) als Member einer Klasse oder Struktur verwenden, die vom Heap zugewiesen werden soll.</span><span class="sxs-lookup"><span data-stu-id="6477f-170">As such, you need to be careful whenever you use either [**XMVECTOR**](xmvector-data-type.md) or [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) as a member of a class or structure to be allocated from the heap.</span></span> <span data-ttu-id="6477f-171">Unter Windows x64 sind alle Heap Zuordnungen auf 16-Byte ausgerichtet, aber für Windows x86 sind Sie nur 8-Byte-ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="6477f-171">On Windows x64, all heap allocations are 16-byte aligned, but for Windows x86, they are only 8-byte aligned.</span></span> <span data-ttu-id="6477f-172">Es gibt Optionen zum Zuordnen von Strukturen aus dem Heap mit 16-Byte-Ausrichtung (siehe [ordnungsgemäßes ausrichten](pg-xnamath-optimizing.md)von Zuordnungen).</span><span class="sxs-lookup"><span data-stu-id="6477f-172">There are options for allocating structures from the heap with 16-byte alignment (see [Properly Align Allocations](pg-xnamath-optimizing.md)).</span></span> <span data-ttu-id="6477f-173">Für C++-Programme können Sie den Operator new/delete/New \[ \] /Delete \[ \] über Ladungen (entweder global oder klassenspezifisch) verwenden, um bei Bedarf optimale Ausrichtung zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="6477f-173">For C++ programs, you can use operator new/delete/new\[\]/delete\[\] overloads (either globally or class-specific) to enforce optimal alignment if desired.</span></span>

> [!Note]  
> <span data-ttu-id="6477f-174">Als Alternative zum direkten erzwingen der Ausrichtung in der C++-Klasse durch Überladen von New/DELETE können Sie das [pimpl-Ausdrucks Wort](https://en.wikipedia.org/wiki/Opaque_pointer)verwenden.</span><span class="sxs-lookup"><span data-stu-id="6477f-174">As an alternative to enforcing alignment in your C++ class directly by overloading new/delete, you can use the [pImpl idiom](https://en.wikipedia.org/wiki/Opaque_pointer).</span></span> <span data-ttu-id="6477f-175">Wenn Sie sicherstellen, dass Ihre **impl** -Klasse intern über [**\_ ausgerichteten \_ malloc**](/cpp/c-runtime-library/reference/aligned-malloc) ausgerichtet ist, können Sie in der internen Implementierung die ausgerichteten Typen frei verwenden.</span><span class="sxs-lookup"><span data-stu-id="6477f-175">If you ensure your **Impl** class is aligned via [**\_aligned\_malloc**](/cpp/c-runtime-library/reference/aligned-malloc) internally, you can then freely use aligned types within the internal implementation.</span></span> <span data-ttu-id="6477f-176">Dies ist eine gute Option, wenn die "Public"-Klasse eine Windows-Runtime Verweis Klasse ist oder für die Verwendung mit [**Std:: Shared \_ ptr<>**](/cpp/standard-library/shared-ptr-class)vorgesehen ist, die eine sorgfältige Ausrichtung andernfalls unterbrechen kann.</span><span class="sxs-lookup"><span data-stu-id="6477f-176">This is a good option when the 'public' class is a Windows Runtime ref class or intended for use with [**std::shared\_ptr<>**](/cpp/standard-library/shared-ptr-class), which can otherwise disrupt careful alignment.</span></span>

 

<span data-ttu-id="6477f-177">Häufig ist es jedoch einfacher und kompakter, die Verwendung von [**xmvector**](xmvector-data-type.md) oder [**xmmatrix**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) direkt in einer Klasse oder Struktur zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="6477f-177">However, often it is easier and more compact to avoid using [**XMVECTOR**](xmvector-data-type.md) or [**XMMATRIX**](/windows/win32/api/directxmath/ns-directxmath-xmmatrix) directly in a class or structure.</span></span> <span data-ttu-id="6477f-178">Verwenden Sie stattdessen [**XMFLOAT3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat3), [**XMFLOAT4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4), [**XMFLOAT4X3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x3), [**XMFLOAT4X4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x4)usw. als Member ihrer Struktur.</span><span class="sxs-lookup"><span data-stu-id="6477f-178">Instead, make use of the [**XMFLOAT3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat3), [**XMFLOAT4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4), [**XMFLOAT4X3**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x3), [**XMFLOAT4X4**](/windows/win32/api/directxmath/ns-directxmath-xmfloat4x4), and so on, as members of your structure.</span></span> <span data-ttu-id="6477f-179">Außerdem können Sie die Funktionen [Vector Load](ovw-xnamath-reference-functions-load.md) und [Vector Storage](ovw-xnamath-reference-functions-storage.md) verwenden, um die Daten effizient in lokale **xmvector** -oder **xmmatrix** -Variablen zu verschieben, Berechnungen auszuführen und die Ergebnisse zu speichern.</span><span class="sxs-lookup"><span data-stu-id="6477f-179">Further, you can use the [Vector Loading](ovw-xnamath-reference-functions-load.md) and [Vector Storage](ovw-xnamath-reference-functions-storage.md) functions to move the data efficiently into **XMVECTOR** or **XMMATRIX** local variables, perform computations, and store the results.</span></span> <span data-ttu-id="6477f-180">Es gibt auch Streamingfunktionen ([**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream), [**XMVector4TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector4transformstream)usw.), die effizient direkt mit Arrays dieser Datentypen arbeiten.</span><span class="sxs-lookup"><span data-stu-id="6477f-180">There are also streaming functions ([**XMVector3TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector3transformstream), [**XMVector4TransformStream**](/windows/win32/api/directxmath/nf-directxmath-xmvector4transformstream), and so on) that efficiently operate directly on arrays of these data types.</span></span>

## <a name="creating-vectors"></a><span data-ttu-id="6477f-181">Erstellen von Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-181">Creating Vectors</span></span>

### <a name="constant-vectors"></a><span data-ttu-id="6477f-182">Konstante Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-182">CONSTANT VECTORS</span></span>

<span data-ttu-id="6477f-183">Viele Vorgänge erfordern die Verwendung von Konstanten in Vektor Berechnungen, und es gibt eine Reihe von Möglichkeiten, [**xmvector**](xmvector-data-type.md) mit den gewünschten Werten zu laden.</span><span class="sxs-lookup"><span data-stu-id="6477f-183">Many operations require the use of constants in vector computations, and there are a number of ways to load an [**XMVECTOR**](xmvector-data-type.md) with the desired values.</span></span>

-   <span data-ttu-id="6477f-184">Verwenden Sie [**xmvector replizieren**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) oder [**xmvector repligeint**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint), wenn Sie eine skalare Konstante in alle Elemente eines [**xmvector-Vektors**](xmvector-data-type.md)laden.</span><span class="sxs-lookup"><span data-stu-id="6477f-184">If loading a scalar constant into all elements of an [**XMVECTOR**](xmvector-data-type.md), use [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) or [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span></span>
    ```
    XMVECTOR vFive = XMVectorReplicate( 5.f );
    ```

    

-   <span data-ttu-id="6477f-185">Verwenden Sie die [**XMVECTORF32**](xmvectorf32-data-type.md)-, [**XMVECTORU32**](xmvectoru32-data-type.md)-, **XMVECTORI32**-oder [**XMVECTORU8**](xmvectoru8-data-type.md) -Strukturen, wenn Sie eine Vektor Konstante mit unterschiedlichen Fixed-Werten als [**xmvector**](xmvector-data-type.md)verwenden.</span><span class="sxs-lookup"><span data-stu-id="6477f-185">If using a vector constant with different fixed values as an [**XMVECTOR**](xmvector-data-type.md), use the [**XMVECTORF32**](xmvectorf32-data-type.md), [**XMVECTORU32**](xmvectoru32-data-type.md), **XMVECTORI32**, or [**XMVECTORU8**](xmvectoru8-data-type.md) structures.</span></span> <span data-ttu-id="6477f-186">Diese können dann direkt überall referenziert werden, wenn Sie einen **xmvector** -Wert übergeben würden.</span><span class="sxs-lookup"><span data-stu-id="6477f-186">These can be then referenced directly anywhere you would pass an **XMVECTOR** value.</span></span>
    ```
    static const XMVECTORF32 vFactors = { 1.0f, 2.0f, 3.0f, 4.0f };
    ```

    

    > [!Note]  
    > <span data-ttu-id="6477f-187">Verwenden Sie keine Initialisiererlisten direkt mit [**xmvector**](xmvector-data-type.md) (d. h. xmvector v = {1.0 f, 2.0 f, 3.0 f, 4.0 f}).</span><span class="sxs-lookup"><span data-stu-id="6477f-187">Do not use initializer lists directly with [**XMVECTOR**](xmvector-data-type.md) (that is, XMVECTOR v = { 1.0f, 2.0f, 3.0f, 4.0f }).</span></span> <span data-ttu-id="6477f-188">Ein solcher Code ist ineffizient und auf allen Plattformen, die von directxmath unterstützt werden, nicht portabel.</span><span class="sxs-lookup"><span data-stu-id="6477f-188">Such code is inefficient and is not portable across all platforms that are supported by DirectXMath.</span></span>

     

-   <span data-ttu-id="6477f-189">Directxmath enthält eine Reihe vordefinierter globaler Konstanten, die Sie in Ihrem Code verwenden können (g \_ xmone, g \_ XMOne3, g \_ xmtwo, g \_ xmonehalf, g \_ xmhalfpi, g \_ xmpi usw.).</span><span class="sxs-lookup"><span data-stu-id="6477f-189">DirectXMath includes a number of pre-defined global constants you can make use of in your code (g\_XMOne, g\_XMOne3, g\_XMTwo, g\_XMOneHalf, g\_XMHalfPi, g\_XMPi, and so on).</span></span> <span data-ttu-id="6477f-190">Durchsuchen Sie den directxmath. h-Header nach den **xmglobalconstant** -Werten.</span><span class="sxs-lookup"><span data-stu-id="6477f-190">Search the DirectXMath.h header for the **XMGLOBALCONSTANT** values.</span></span>
-   <span data-ttu-id="6477f-191">Es gibt eine Reihe von Vektor Konstanten für gängige RGB-Farben (rot, grün, blau, gelb usw.).</span><span class="sxs-lookup"><span data-stu-id="6477f-191">There are a set of vector constants for common RGB colors (Red, Green, Blue, Yellow, and so on).</span></span> <span data-ttu-id="6477f-192">Weitere Informationen zu diesen Vektor Konstanten finden Sie unter directxcolors. h und im DirectX:: Colors-Namespace.</span><span class="sxs-lookup"><span data-stu-id="6477f-192">For more info about these vector constants, see DirectXColors.h and the DirectX::Colors namespace.</span></span>

### <a name="vectors-from-variables"></a><span data-ttu-id="6477f-193">Vektoren aus Variablen</span><span class="sxs-lookup"><span data-stu-id="6477f-193">VECTORS FROM VARIABLES</span></span>

-   <span data-ttu-id="6477f-194">Wenn Sie einen Vektor aus einer einzelnen skalaren Variablen erstellen, finden Sie unter [**xmvector replizieren**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) und [**xmvector repligeint**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint)Weitere Informationen.</span><span class="sxs-lookup"><span data-stu-id="6477f-194">If creating a vector from a single scalar variable, see [**XMVectorReplicate**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicate) and [**XMVectorReplicateInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateint).</span></span>
    ```
    XMVECTOR v = XMVectorReplicate( f  );
    ```

    

-   <span data-ttu-id="6477f-195">Wenn Sie einen Vektor aus vier skalaren Variablen erstellen, finden Sie unter [**xmvector Set**](/windows/win32/api/directxmath/nf-directxmath-xmvectorset) und [**xmvector setInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsetint)Weitere Informationen.</span><span class="sxs-lookup"><span data-stu-id="6477f-195">If creating a vector from four scalar variables, see [**XMVectorSet**](/windows/win32/api/directxmath/nf-directxmath-xmvectorset) and [**XMVectorSetInt**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsetint).</span></span>
    ```
    XMVECTOR v = XMVectorSet( fx, fy, fz, fw );
    ```

    

### <a name="vectors-from-vectors"></a><span data-ttu-id="6477f-196">Vektoren von Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-196">VECTORS FROM VECTORS</span></span>

-   <span data-ttu-id="6477f-197">Wenn Sie einen Vektor aus einem anderen Vektor mit einer bestimmten Komponente erstellen, die auf eine Variable festgelegt ist, können Sie die Verwendung von [Vektor Zugriffs](ovw-xnamath-reference-functions-accessors.md)Methoden in Erwägung gezogen.</span><span class="sxs-lookup"><span data-stu-id="6477f-197">If creating a vector from another vector with a specific component set to a variable, you can consider using [Vector Accessor Functions](ovw-xnamath-reference-functions-accessors.md).</span></span>
    ```
    XMVECTOR v2 = XMVectorSetW( v1, fw );
    ```

    

-   <span data-ttu-id="6477f-198">Wenn Sie einen Vektor aus einem anderen Vektor mit einer einzelnen replizierten Komponente erstellen, verwenden Sie [**xmvector splatx**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatx), [**xmvector splaty**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplaty), [**xmvector**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatz)und [**xmvector splatw**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatw).</span><span class="sxs-lookup"><span data-stu-id="6477f-198">If creating a vector from another vector with a single component replicated, use [**XMVectorSplatX**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatx), [**XMVectorSplatY**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplaty), [**XMVectorSplatZ**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatz), and [**XMVectorSplatW**](/windows/win32/api/directxmath/nf-directxmath-xmvectorsplatw).</span></span>
    ```
    XMVECTOR vz = XMVectorSplatZ( v );
    ```

    

-   <span data-ttu-id="6477f-199">Wenn Sie einen Vektor aus einem anderen Vektor oder einem Vektoren Paar mit neu bestellten Komponenten erstellen, finden Sie weitere Informationen unter [**xmvectorswizzle**](/windows/win32/api/directxmath/nf-directxmath-xmvectorswizzle) und [**xmvectorperstumm**](/windows/win32/api/directxmath/nf-directxmath-xmvectorpermute).</span><span class="sxs-lookup"><span data-stu-id="6477f-199">If creating a vector from another vector or pair of vectors with reordered components, see [**XMVectorSwizzle**](/windows/win32/api/directxmath/nf-directxmath-xmvectorswizzle) and [**XMVectorPermute**](/windows/win32/api/directxmath/nf-directxmath-xmvectorpermute).</span></span>
    ```
    XMVECTOR v2 = XMVectorSwizzle<XM_SWIZZLE_Z, XM_SWIZZLE_Y, XM_SWIZZLE_W, XM_SWIZZLE_X>( v1 );

    XMVECTOR v3 = XMVectorPermute<XM_PERMUTE_0W, XM_PERMUTE_1X, XM_PERMUTE_0X, XM_PERMUTE_1Z>( v1, v2 );
    ```

    

### <a name="vectors-from-memory"></a><span data-ttu-id="6477f-200">Vektoren aus dem Arbeitsspeicher</span><span class="sxs-lookup"><span data-stu-id="6477f-200">VECTORS FROM MEMORY</span></span>

-   <span data-ttu-id="6477f-201">Informationen zum Laden eines einzelnen Float-Werts aus dem Arbeitsspeicher finden Sie unter [**xmvector repliereptr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateptr), [**xmvector repliereintptr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateintptr), [**xmloadfloat**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat)und [**xmloadint**](/windows/win32/api/directxmath/nf-directxmath-xmloadint).</span><span class="sxs-lookup"><span data-stu-id="6477f-201">For loading a single float value from memory, see [**XMVectorReplicatePtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateptr), [**XMVectorReplicateIntPtr**](/windows/win32/api/directxmath/nf-directxmath-xmvectorreplicateintptr), [**XMLoadFloat**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat), and [**XMLoadInt**](/windows/win32/api/directxmath/nf-directxmath-xmloadint).</span></span>
-   <span data-ttu-id="6477f-202">Gängige Methoden zum Laden von float-Arrays sind: [**XMLoadFloat2**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat2), [**XMLoadFloat3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3), [**XMLoadFloat4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4), [**XMLoadFloat3x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3x3), [**XMLoadFloat4x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x3)und [**XMLoadFloat4x4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x4).</span><span class="sxs-lookup"><span data-stu-id="6477f-202">Common ways to load float arrays are: [**XMLoadFloat2**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat2), [**XMLoadFloat3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3), [**XMLoadFloat4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4), [**XMLoadFloat3x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat3x3), [**XMLoadFloat4x3**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x3), and [**XMLoadFloat4x4**](/windows/win32/api/directxmath/nf-directxmath-xmloadfloat4x4).</span></span>
-   <span data-ttu-id="6477f-203">Directxmath umfasst einen umfangreichen Satz von Typen und zugehörige Lade-und Speichervorgänge, um verschiedene Datenstrukturen und gängige GPU-Formate zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="6477f-203">DirectXMath includes a rich set of types and related loads and stores for handling various data-structures and common GPU formats.</span></span> <span data-ttu-id="6477f-204">Siehe [Vector Load](ovw-xnamath-reference-functions-load.md) and [Vector Store](ovw-xnamath-reference-functions-storage.md).</span><span class="sxs-lookup"><span data-stu-id="6477f-204">See [Vector Load](ovw-xnamath-reference-functions-load.md) and [Vector Store](ovw-xnamath-reference-functions-storage.md).</span></span>

## <a name="extracting-components-from-vectors"></a><span data-ttu-id="6477f-205">Extrahieren von Komponenten aus Vektoren</span><span class="sxs-lookup"><span data-stu-id="6477f-205">Extracting Components from Vectors</span></span>

<span data-ttu-id="6477f-206">Die SIMD-Verarbeitung ist am effizientesten, wenn Daten in die SIMD-Register geladen und vor dem Extrahieren der Ergebnisse vollständig verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="6477f-206">SIMD processing is most efficient when data is loaded into the SIMD registers and fully processed before extracting the results.</span></span> <span data-ttu-id="6477f-207">Die Konvertierung zwischen skalaren und Vektor Formularen ist ineffizient. Daher wird empfohlen, dass Sie Sie nur bei Bedarf verwenden.</span><span class="sxs-lookup"><span data-stu-id="6477f-207">Conversion between scalar and vector forms is inefficient, so we recommend that you do it only when required.</span></span> <span data-ttu-id="6477f-208">Aus diesem Grund werden Funktionen in der directxmath-Bibliothek, die einen skalaren Wert erstellen, in einer Vektor Form zurückgegeben, in der das skalare Ergebnis über den resultierenden Vektor repliziert wird (d. h. [**XMVector2Dot**](/windows/win32/api/directxmath/nf-directxmath-xmvector2dot), [**XMVector3Length**](/windows/win32/api/directxmath/nf-directxmath-xmvector3length)usw.).</span><span class="sxs-lookup"><span data-stu-id="6477f-208">For this reason, functions in the DirectXMath library that produce a scalar value are returned in a vector form where the scalar result is replicated across the resulting vector (that is, [**XMVector2Dot**](/windows/win32/api/directxmath/nf-directxmath-xmvector2dot), [**XMVector3Length**](/windows/win32/api/directxmath/nf-directxmath-xmvector3length), and so on).</span></span> <span data-ttu-id="6477f-209">Wenn Sie jedoch skalare Werte benötigen, finden Sie hier einige Optionen für die Vorgehensweise:</span><span class="sxs-lookup"><span data-stu-id="6477f-209">However, when you need scalar values, here are a few choices on how to go about it:</span></span>

-   <span data-ttu-id="6477f-210">Wenn eine einzelne skalare Antwort berechnet wird, ist die Verwendung der [vektoraccessorfunktionen](ovw-xnamath-reference-functions-accessors.md) angemessen:</span><span class="sxs-lookup"><span data-stu-id="6477f-210">If a single scalar answer is computed, use of the [Vector Accessor Functions](ovw-xnamath-reference-functions-accessors.md) is appropriate:</span></span>
    ```
    float f = XMVectorGetX( v );
    ```

    

-   <span data-ttu-id="6477f-211">Wenn mehrere Komponenten des Vektors extrahiert werden müssen, sollten Sie den Vektor in einer Speicherstruktur speichern und wieder lesen.</span><span class="sxs-lookup"><span data-stu-id="6477f-211">If multiple components of the vector are required to be extracted, consider storing the vector in a memory structure and reading it back.</span></span> <span data-ttu-id="6477f-212">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="6477f-212">For example:</span></span>
    ```
    XMFLOAT4A t;
    XMStoreFloat4A( &t, v );
    // t.x, t.y, t.z, and t.w can be individually accessed now
    ```

    

-   <span data-ttu-id="6477f-213">Die effizienteste Form der Vektor Verarbeitung ist die Verwendung von Speicher-zu-Speicher-Streaming, bei dem die Eingabedaten aus dem Arbeitsspeicher geladen werden (mithilfe von [Vektor Ladefunktionen](ovw-xnamath-reference-functions-load.md)), vollständig in SIMD-Form verarbeitet und anschließend in den Arbeitsspeicher geschrieben werden (mithilfe von [Vektor Speicherfunktionen](ovw-xnamath-reference-functions-storage.md)).</span><span class="sxs-lookup"><span data-stu-id="6477f-213">The most efficient form of vector processing is to use memory-to-memory streaming where the input data is loaded from memory (using [Vector Load Functions](ovw-xnamath-reference-functions-load.md)), processed fully in SIMD form, and then written to memory (using [Vector Store Functions](ovw-xnamath-reference-functions-storage.md)).</span></span>

## <a name="related-topics"></a><span data-ttu-id="6477f-214">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6477f-214">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6477f-215">Directxmath-Programmier Handbuch</span><span class="sxs-lookup"><span data-stu-id="6477f-215">DirectXMath Programming Guide</span></span>](ovw-xnamath-progguide.md)
</dt> </dl>

 

 