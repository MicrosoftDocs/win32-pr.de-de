---
description: Eine Dateizeit ist ein 64-Bit-Wert, der die Anzahl der 100-Nanosekunden-Intervalle darstellt, die seit 12:00 Uhr vergangen sind. 1. Januar 1601 koordinierte Weltzeit (UTC). Das System zeichnet Datei Zeiten auf, wenn Anwendungen Dateien erstellen, darauf zugreifen und in Dateien schreiben.
ms.assetid: 52d80b82-9ab0-4631-9e70-85df21da4946
title: Datei Zeiten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5919a2378e08798e4cd64d8f8357cb55692bd22e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103869220"
---
# <a name="file-times"></a><span data-ttu-id="6db33-105">Datei Zeiten</span><span class="sxs-lookup"><span data-stu-id="6db33-105">File Times</span></span>

<span data-ttu-id="6db33-106">Eine *Dateizeit* ist ein 64-Bit-Wert, der die Anzahl der 100-Nanosekunden-Intervalle darstellt, die seit 12:00 Uhr vergangen sind.</span><span class="sxs-lookup"><span data-stu-id="6db33-106">A *file time* is a 64-bit value that represents the number of 100-nanosecond intervals that have elapsed since 12:00 A.M.</span></span> <span data-ttu-id="6db33-107">1. Januar 1601 koordinierte Weltzeit (UTC).</span><span class="sxs-lookup"><span data-stu-id="6db33-107">January 1, 1601 Coordinated Universal Time (UTC).</span></span> <span data-ttu-id="6db33-108">Das System zeichnet Datei Zeiten auf, wenn Anwendungen Dateien erstellen, darauf zugreifen und in Dateien schreiben.</span><span class="sxs-lookup"><span data-stu-id="6db33-108">The system records file times when applications create, access, and write to files.</span></span>

<span data-ttu-id="6db33-109">Das NTFS-Dateisystem speichert Zeitwerte im UTC-Format, sodass Sie von Änderungen in der Zeitzone oder der Sommerzeit nicht betroffen sind.</span><span class="sxs-lookup"><span data-stu-id="6db33-109">The NTFS file system stores time values in UTC format, so they are not affected by changes in time zone or daylight saving time.</span></span> <span data-ttu-id="6db33-110">Das FAT-Dateisystem speichert Zeitwerte basierend auf der lokalen Zeit des Computers.</span><span class="sxs-lookup"><span data-stu-id="6db33-110">The FAT file system stores time values based on the local time of the computer.</span></span> <span data-ttu-id="6db33-111">Beispielsweise wird eine Datei, die am 3.00PM PST in Washington gespeichert wird, als 6:00PM EST in New York auf einem NTFS-Volume angezeigt, aber Sie wird in New York auf einem FAT-Volume als "3:00PM EST" betrachtet.</span><span class="sxs-lookup"><span data-stu-id="6db33-111">For example, a file that is saved at 3:00pm PST in Washington is seen as 6:00pm EST in New York on an NTFS volume, but it is seen as 3:00pm EST in New York on a FAT volume.</span></span>

<span data-ttu-id="6db33-112">Zeitstempel werden zu verschiedenen Zeitpunkten und aus verschiedenen Gründen aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="6db33-112">Time stamps are updated at various times and for various reasons.</span></span> <span data-ttu-id="6db33-113">Die einzige Garantie für einen Datei Zeitstempel ist, dass die Datei Zeit ordnungsgemäß widergespiegelt wird, wenn das Handle, das die Änderung vornimmt, geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="6db33-113">The only guarantee about a file time stamp is that the file time is correctly reflected when the handle that makes the change is closed.</span></span>

<span data-ttu-id="6db33-114">Nicht alle Dateisysteme können Erstellungs-und letzten Zugriffszeiten aufzeichnen, und nicht alle Dateisysteme zeichnen Sie auf die gleiche Weise auf.</span><span class="sxs-lookup"><span data-stu-id="6db33-114">Not all file systems can record creation and last access times, and not all file systems record them in the same manner.</span></span> <span data-ttu-id="6db33-115">Beispielsweise beträgt die Auflösung der Erstellungszeit auf FAT 10 Millisekunden, während die Schreibzeit eine Auflösung von 2 Sekunden und die Zugriffszeit eine Auflösung von 1 Tag hat, sodass Sie tatsächlich das Zugriffs Datum ist.</span><span class="sxs-lookup"><span data-stu-id="6db33-115">For example, the resolution of create time on FAT is 10 milliseconds, while write time has a resolution of 2 seconds and access time has a resolution of 1 day, so it is really the access date.</span></span> <span data-ttu-id="6db33-116">Das NTFS-Dateisystem verzögert Updates zum Zeitpunkt des letzten Zugriffs für eine Datei um bis zu einer Stunde nach dem letzten Zugriff.</span><span class="sxs-lookup"><span data-stu-id="6db33-116">The NTFS file system delays updates to the last access time for a file by up to 1 hour after the last access.</span></span>

<span data-ttu-id="6db33-117">Verwenden Sie die [**GetFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-getfiletime) -Funktion, um die Datei Zeiten für eine angegebene Datei abzurufen.</span><span class="sxs-lookup"><span data-stu-id="6db33-117">To retrieve the file times for a specified file, use the [**GetFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-getfiletime) function.</span></span> <span data-ttu-id="6db33-118">**GetFileTime** kopiert die Erstellungs-, letzten Zugriffs-und letzten Schreibzeiten in einzelne [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) -Strukturen.</span><span class="sxs-lookup"><span data-stu-id="6db33-118">**GetFileTime** copies the creation, last access, and last write times to individual [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) structures.</span></span> <span data-ttu-id="6db33-119">Sie können auch Datei Zeiten mithilfe der Funktionen " [**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea) " und " [**FindNextFile**](/windows/desktop/api/fileapi/nf-fileapi-findnextfilea) " abrufen.</span><span class="sxs-lookup"><span data-stu-id="6db33-119">You can also retrieve file times using the [**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea) and [**FindNextFile**](/windows/desktop/api/fileapi/nf-fileapi-findnextfilea) functions.</span></span> <span data-ttu-id="6db33-120">Diese Funktionen kopieren die Datei Zeiten in **FILETIME** -Strukturen in einer [**Win32- \_ \_ Datenstruktur suchen**](/windows/desktop/api/minwinbase/ns-minwinbase-win32_find_dataa) .</span><span class="sxs-lookup"><span data-stu-id="6db33-120">These functions copy the file times to **FILETIME** structures in a [**WIN32\_FIND\_DATA**](/windows/desktop/api/minwinbase/ns-minwinbase-win32_find_dataa) structure.</span></span> <span data-ttu-id="6db33-121">Beim Schreiben in eine Datei wird der letzte Schreib Zeitpunkt nicht vollständig aktualisiert, bis alle Handles, die zum Schreiben verwendet werden, geschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="6db33-121">When writing to a file, the last write time is not fully updated until all handles that are used for writing are closed.</span></span>

<span data-ttu-id="6db33-122">Verwenden Sie die [**SetFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-setfiletime) -Funktion, um die Datei Zeiten für eine Datei festzulegen.</span><span class="sxs-lookup"><span data-stu-id="6db33-122">To set the file times for a file, use the [**SetFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-setfiletime) function.</span></span> <span data-ttu-id="6db33-123">Mit dieser Funktion können Sie die Erstellung, den letzten Zugriff und die letzten Schreibzeiten ändern, ohne den Inhalt der Datei zu ändern.</span><span class="sxs-lookup"><span data-stu-id="6db33-123">This function lets you modify creation, last access, and last write times without changing the content of the file.</span></span> <span data-ttu-id="6db33-124">Mit der [**comparefiletime**](/windows/desktop/api/FileAPI/nf-fileapi-comparefiletime) -Funktion können Sie die Zeiten verschiedener Dateien vergleichen.</span><span class="sxs-lookup"><span data-stu-id="6db33-124">You can compare the times of different files by using the [**CompareFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-comparefiletime) function.</span></span> <span data-ttu-id="6db33-125">Die-Funktion vergleicht zwei Datei Zeiten und gibt einen Wert zurück, der angibt, welcher Zeitpunkt später ist, oder gibt 0 (null) zurück, wenn die Uhrzeiten gleich sind.</span><span class="sxs-lookup"><span data-stu-id="6db33-125">The function compares two file times and returns a value that indicates which time is later or returns 0 (zero) if the times are equal.</span></span>

<span data-ttu-id="6db33-126">Wenn Sie die Datei Zeiten für angegebene Dateien ändern möchten, können Sie ein Datum und eine Uhrzeit in einen dateizeitpunkt konvertieren, indem Sie die [**systemtimedefiletime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetofiletime) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="6db33-126">If you plan to modify file times for specified files, you can convert a date and time of day to a file time by using the [**SystemTimeToFileTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetofiletime) function.</span></span> <span data-ttu-id="6db33-127">Sie können auch die Systemzeit in einer [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) -Struktur abrufen, indem Sie die [**GetSystemTimeAsFileTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getsystemtimeasfiletime) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6db33-127">You can also obtain the system time in a [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) structure by calling the [**GetSystemTimeAsFileTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getsystemtimeasfiletime) function.</span></span>

<span data-ttu-id="6db33-128">Verwenden Sie die [**filetimedesystemtime**](/windows/win32/api/timezoneapi/nf-timezoneapi-filetimetosystemtime) -Funktion, damit eine Datei Zeit für Benutzer leicht angezeigt werden kann.</span><span class="sxs-lookup"><span data-stu-id="6db33-128">To make a file time easy to display to a user, use the [**FileTimeToSystemTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-filetimetosystemtime) function.</span></span> <span data-ttu-id="6db33-129">**Filetimedesystemtime** konvertiert die Dateizeit und kopiert den Monat, den Tag, das Jahr und die Uhrzeit von der Dateizeit in eine [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="6db33-129">**FileTimeToSystemTime** converts the file time and copies the month, day, year, and time of day from the file time to a [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) structure.</span></span>

## <a name="file-times-and-daylight-saving-time"></a><span data-ttu-id="6db33-130">Datei Zeiten und Sommerzeit</span><span class="sxs-lookup"><span data-stu-id="6db33-130">File Times and Daylight Saving Time</span></span>

<span data-ttu-id="6db33-131">Sie müssen bei der Verwendung von Datei Zeiten darauf achten, dass der Benutzer das System für die automatische Anpassung der Sommerzeit festgelegt hat.</span><span class="sxs-lookup"><span data-stu-id="6db33-131">You must take care when using file times if the user has set the system to automatically adjust for daylight saving time.</span></span>

<span data-ttu-id="6db33-132">Verwenden Sie die [**filetimetolocalfiletime**](/windows/desktop/api/FileAPI/nf-fileapi-filetimetolocalfiletime) -Funktion, um eine Dateizeit in eine lokale Zeit zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="6db33-132">To convert a file time to local time, use the [**FileTimeToLocalFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-filetimetolocalfiletime) function.</span></span> <span data-ttu-id="6db33-133">Allerdings verwendet **filetimetolocalfiletime** die aktuellen Einstellungen für die Zeitzone und die Sommerzeit.</span><span class="sxs-lookup"><span data-stu-id="6db33-133">However, **FileTimeToLocalFileTime** uses the current settings for the time zone and daylight saving time.</span></span> <span data-ttu-id="6db33-134">Wenn es sich um Sommerzeit handelt, ist die Sommerzeit auch dann in Betracht gezogen, wenn die Dateizeit, die Sie umrechnen, normal ist.</span><span class="sxs-lookup"><span data-stu-id="6db33-134">Therefore, if it is daylight saving time, it takes daylight saving time into account, even if the file time you are converting is in standard time.</span></span>

<span data-ttu-id="6db33-135">Im FAT-Dateisystem werden Zeiten auf dem Datenträger in der Ortszeit aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6db33-135">The FAT file system records times on disk in local time.</span></span> <span data-ttu-id="6db33-136">[**GetFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-getfiletime) ruft zwischengespeicherte UTC-Zeiten aus dem FAT-Dateisystem ab.</span><span class="sxs-lookup"><span data-stu-id="6db33-136">[**GetFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-getfiletime) retrieves cached UTC times from the FAT file system.</span></span> <span data-ttu-id="6db33-137">Wenn es sich um Sommerzeit handelt, liegt die von **GetFileTime** abgerufene Zeit außerhalb einer Stunde, da der Cache nicht aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="6db33-137">When it becomes daylight saving time, the time retrieved by **GetFileTime** is off an hour, because the cache is not updated.</span></span> <span data-ttu-id="6db33-138">Wenn Sie den Computer neu starten, ist die zwischengespeicherte Zeit, die **GetFileTime** abruft, richtig.</span><span class="sxs-lookup"><span data-stu-id="6db33-138">When you restart the computer, the cached time that **GetFileTime** retrieves is correct.</span></span> <span data-ttu-id="6db33-139">[**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea) Ruft die Ortszeit aus dem FAT-Dateisystem ab und konvertiert Sie mithilfe der aktuellen Einstellungen für die Zeitzone und die Sommerzeit in die UTC.</span><span class="sxs-lookup"><span data-stu-id="6db33-139">[**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea) retrieves the local time from the FAT file system and converts it to UTC by using the current settings for the time zone and daylight saving time.</span></span> <span data-ttu-id="6db33-140">Wenn es sich um die Sommerzeit handelt, nimmt **FindFirstFile** die Sommerzeit an, selbst wenn die Dateizeit, die Sie umrechnen, normal ist.</span><span class="sxs-lookup"><span data-stu-id="6db33-140">Therefore, if it is daylight saving time, **FindFirstFile** takes daylight saving time into account, even if the file time you are converting is in standard time.</span></span>

<span data-ttu-id="6db33-141">Das NTFS-Dateisystem zeichnet Zeiten auf dem Datenträger in UTC auf.</span><span class="sxs-lookup"><span data-stu-id="6db33-141">The NTFS file system records times on disk in UTC.</span></span> <span data-ttu-id="6db33-142">Verwenden Sie die folgende Abfolge von Funktionen anstelle von [**filetimetolocalfiletime**](/windows/desktop/api/FileAPI/nf-fileapi-filetimetolocalfiletime), um die Sommerzeit beim Umrechnen einer Datei Zeit in eine lokale Zeit zu berücksichtigen:</span><span class="sxs-lookup"><span data-stu-id="6db33-142">To account for daylight saving time when converting a file time to a local time, use the following sequence of functions instead of using [**FileTimeToLocalFileTime**](/windows/desktop/api/FileAPI/nf-fileapi-filetimetolocalfiletime):</span></span>

-   [<span data-ttu-id="6db33-143">**Filetimeto SYSTEMTIME**</span><span class="sxs-lookup"><span data-stu-id="6db33-143">**FileTimeToSystemTime**</span></span>](/windows/win32/api/timezoneapi/nf-timezoneapi-filetimetosystemtime)
-   [<span data-ttu-id="6db33-144">**Systemtimeumtzspecificlocaltime**</span><span class="sxs-lookup"><span data-stu-id="6db33-144">**SystemTimeToTzSpecificLocalTime**</span></span>](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime)
-   [<span data-ttu-id="6db33-145">**Fehler bei SystemTimeToFileTime**</span><span class="sxs-lookup"><span data-stu-id="6db33-145">**SystemTimeToFileTime**</span></span>](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetofiletime)

## <a name="file-times-and-cdfs"></a><span data-ttu-id="6db33-146">Datei Zeiten und CDFS</span><span class="sxs-lookup"><span data-stu-id="6db33-146">File Times and CDFS</span></span>

<span data-ttu-id="6db33-147">Die Datums-und Zeitstempel von Dateien, die sich auf dem bzw. von einem Medium mithilfe von CDFS (Compact Disk File System) befinden, werden für die lokale Zeitzone angepasst.</span><span class="sxs-lookup"><span data-stu-id="6db33-147">The date and time stamps of files that are located on or originate from media using Compact Disc File System (CDFS) are adjusted for the local time zone.</span></span> <span data-ttu-id="6db33-148">ISO 9660 gibt an, dass CDFS die Datumsinformationen für die lokale Zeitzone korrekt anzeigen soll.</span><span class="sxs-lookup"><span data-stu-id="6db33-148">ISO 9660 states that CDFS is to display the date information correctly for the local time zone.</span></span> <span data-ttu-id="6db33-149">Dies wird dadurch erreicht, dass Datumsangaben für Dateien auf CDFS identisch mit denen im Format Universal Disk Format (UDF) angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6db33-149">This is done so that dates for files on CDFS are displayed the same as those on Universal Disk Format (UDF).</span></span> <span data-ttu-id="6db33-150">UDF ist der neuere Standard für Verteilungs Medien.</span><span class="sxs-lookup"><span data-stu-id="6db33-150">UDF is the newer standard for distribution media.</span></span> <span data-ttu-id="6db33-151">Wenn Ihr Code von den nicht geänderten Datumsinformationen für eine Datei abhängig ist, die sich in einem oder aus einem Medium mithilfe von CDFS befindet, funktioniert Sie möglicherweise nicht ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="6db33-151">If your code depends on the unmodified date information for a file that resides on or originates from media using CDFS, it may not function correctly.</span></span>

 

 
