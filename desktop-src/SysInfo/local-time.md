---
description: Während das System die UTC-basierte Zeit intern verwendet, zeigen ihre Anwendungen im Allgemeinen die Ortszeit an, die das Datum und die Uhrzeit für die Zeitzone ist.
ms.assetid: a6570ec5-ac77-427a-86d9-32cbecc62e37
title: Ortszeit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c60eb9ca53245a12eba1bc0096b522eae97de75a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103862995"
---
# <a name="local-time"></a><span data-ttu-id="212ec-103">Ortszeit</span><span class="sxs-lookup"><span data-stu-id="212ec-103">Local Time</span></span>

<span data-ttu-id="212ec-104">Während das System die UTC-basierte Zeit intern verwendet, zeigen ihre Anwendungen im Allgemeinen die **Ortszeit** an, die das Datum und die Uhrzeit für die Zeitzone ist.</span><span class="sxs-lookup"><span data-stu-id="212ec-104">While the system uses UTC-based time internally, your applications will generally display the **local time**, which is the date and time of day for your time zone.</span></span> <span data-ttu-id="212ec-105">Um korrekte Ergebnisse sicherzustellen, müssen Sie daher wissen, ob eine Funktion einen UTC-basierten Zeitpunkt oder eine Ortszeit erwartet und ob die Funktion eine UTC-basierte Zeit oder eine lokale Zeit zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="212ec-105">Therefore, to ensure correct results, you must be aware of whether a function expects to receive a UTC-based time or a local time, and whether the function returns a UTC-based time or a local time.</span></span>

<span data-ttu-id="212ec-106">Die aktuellen Zeitzoneneinstellungen steuern, wie das System zwischen UTC und Ortszeit konvertiert.</span><span class="sxs-lookup"><span data-stu-id="212ec-106">The current time-zone settings control how the system converts between UTC and local time.</span></span> <span data-ttu-id="212ec-107">Sie können die aktuellen Zeitzoneneinstellungen mithilfe der [**GetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformation) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="212ec-107">You can retrieve the current time-zone settings by using the [**GetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformation) function.</span></span> <span data-ttu-id="212ec-108">Die-Funktion kopiert das Ergebnis in eine [**Zeit \_ Zonen \_ Informations**](/windows/win32/api/timezoneapi/ns-timezoneapi-time_zone_information) Struktur und gibt einen Wert zurück, der angibt, ob Ortszeit Normalzeit oder Sommerzeit (DST) ist.</span><span class="sxs-lookup"><span data-stu-id="212ec-108">The function copies the result to a [**TIME\_ZONE\_INFORMATION**](/windows/win32/api/timezoneapi/ns-timezoneapi-time_zone_information) structure and returns a value indicating whether local time is currently in standard time or daylight saving time (DST).</span></span> <span data-ttu-id="212ec-109">Die Zeitzoneneinstellungen können mithilfe der [**settimezoneinformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-settimezoneinformation) -Funktion festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="212ec-109">You can set the time-zone settings by using the [**SetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-settimezoneinformation) function.</span></span> <span data-ttu-id="212ec-110">Um Grenzen für die Sommerzeit zu unterstützen, die sich von Jahr zu Jahr ändern, verwenden Sie die Funktionen [**gettimezoneinformationforyear**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformationforyear), [**getdynamictimezoneinformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-getdynamictimezoneinformation) und [**setdynamictimezoneinformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-setdynamictimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="212ec-110">To support boundaries for daylight saving time that change from year to year, use the [**GetTimeZoneInformationForYear**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformationforyear), [**GetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-getdynamictimezoneinformation) and [**SetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-setdynamictimezoneinformation) functions.</span></span>

<span data-ttu-id="212ec-111">Verwenden Sie die [**getlocaltime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlocaltime) -Funktion, um die lokale Zeit abzurufen.</span><span class="sxs-lookup"><span data-stu-id="212ec-111">To retrieve the local time, use the [**GetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlocaltime) function.</span></span> <span data-ttu-id="212ec-112">**Getlocaltime** konvertiert die Systemzeit auf Grundlage der aktuellen Zeitzoneneinstellungen in eine lokale Zeit und kopiert das Ergebnis in eine [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="212ec-112">**GetLocalTime** converts the system time to a local time based on the current time-zone settings and copies the result to a [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) structure.</span></span> <span data-ttu-id="212ec-113">Sie können die Systemzeit mithilfe der [**setlocaltime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime) -Funktion festlegen.</span><span class="sxs-lookup"><span data-stu-id="212ec-113">You can set the system time by using the [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime) function.</span></span> <span data-ttu-id="212ec-114">**Setlocaltime** geht davon aus, dass Sie vor dem Festlegen der Systemzeit eine lokale Uhrzeit angegeben und in UTC konvertiert haben.</span><span class="sxs-lookup"><span data-stu-id="212ec-114">**SetLocalTime** assumes you have specified a local time and converts to UTC before setting the system time.</span></span>

<span data-ttu-id="212ec-115">Wenn Sie [**setlocaltime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime)aufrufen, verwendet das System die aktuellen Zeitzoneninformationen, einschließlich der Einstellung für die Sommerzeit, um die Konvertierung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="212ec-115">When you call [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime), the system uses the current time zone information, including the daylight saving time setting, to perform the conversion.</span></span> <span data-ttu-id="212ec-116">Beachten Sie, dass das System die Sommerzeit Einstellung der aktuellen Uhrzeit verwendet, nicht die neue Zeit, die Sie festlegen.</span><span class="sxs-lookup"><span data-stu-id="212ec-116">Note that the system uses the daylight saving time setting of the current time, not the new time you are setting.</span></span> <span data-ttu-id="212ec-117">Um das richtige Ergebnis zu gewährleisten, müssen Sie **setlocaltime** ein zweites Mal aufrufen, nachdem der erste Aufruf die Sommerzeit Einstellung aktualisiert hat.</span><span class="sxs-lookup"><span data-stu-id="212ec-117">Therefore, to ensure the correct result, call **SetLocalTime** a second time, now that the first call has updated the daylight saving time setting.</span></span>

<span data-ttu-id="212ec-118">Verwenden Sie die [**SystemTimeToTzSpecificLocalTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime) -Funktion, um eine UTC-basierte Zeit in eine lokale Zeit zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="212ec-118">To convert a UTC-based time to a local time, use the [**SystemTimeToTzSpecificLocalTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime) function.</span></span> <span data-ttu-id="212ec-119">Verwenden Sie die Funktion " [**tzspecificlocaltimetosystemtime**](/windows/win32/api/timezoneapi/nf-timezoneapi-tzspecificlocaltimetosystemtime) ", um eine Ortszeit in eine UTC-basierte Zeit zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="212ec-119">To convert a local time to a UTC-based time, use the [**TzSpecificLocalTimeToSystemTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-tzspecificlocaltimetosystemtime) function.</span></span>

 

 
