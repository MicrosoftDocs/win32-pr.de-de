---
description: Zum Abrufen von Daten aus der Registrierung listet eine Anwendung in der Regel die Unterschlüssel eines Schlüssels auf, bis eine bestimmte gefunden wird, und ruft dann Daten aus den zugeordneten Werten ab.
ms.assetid: ce4be388-5506-4d01-a73c-33372ef4ccd7
title: Abrufen von Daten aus der Registrierung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45d8dd6f6e4d667cf2760c7cba441200755fb6c3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104050426"
---
# <a name="retrieving-data-from-the-registry"></a><span data-ttu-id="3560e-103">Abrufen von Daten aus der Registrierung</span><span class="sxs-lookup"><span data-stu-id="3560e-103">Retrieving Data from the Registry</span></span>

<span data-ttu-id="3560e-104">Zum Abrufen von Daten aus der Registrierung listet eine Anwendung in der Regel die Unterschlüssel eines Schlüssels auf, bis eine bestimmte gefunden wird, und ruft dann Daten aus den zugeordneten Werten ab.</span><span class="sxs-lookup"><span data-stu-id="3560e-104">To retrieve data from the registry, an application typically enumerates the subkeys of a key until it finds a particular one and then retrieves data from the value or values associated with it.</span></span> <span data-ttu-id="3560e-105">Eine Anwendung kann die Funktion " [**RegEnumKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) " aufrufen, um die Unterschlüssel eines bestimmten Schlüssels aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="3560e-105">An application can call the [**RegEnumKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regenumkeyexa) function to enumerate the subkeys of a given key.</span></span>

<span data-ttu-id="3560e-106">Um ausführliche Daten zu einem bestimmten Unterschlüssel abzurufen, kann eine Anwendung die [**regqueryinfokey**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="3560e-106">To retrieve detailed data about a particular subkey, an application can call the [**RegQueryInfoKey**](/windows/desktop/api/Winreg/nf-winreg-regqueryinfokeya) function.</span></span> <span data-ttu-id="3560e-107">Die [**reggetkeysecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) -Funktion Ruft eine Kopie der Sicherheits Beschreibung ab, die einen Schlüssel schützt.</span><span class="sxs-lookup"><span data-stu-id="3560e-107">The [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity) function retrieves a copy of the security descriptor protecting a key.</span></span>

<span data-ttu-id="3560e-108">Eine Anwendung kann mit der Funktion " [**RegEnumValue**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) " die Werte für einen bestimmten Schlüssel auflisten und die Funktion " [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) " zum Abrufen eines bestimmten Werts für einen Schlüssel verwenden.</span><span class="sxs-lookup"><span data-stu-id="3560e-108">An application can use the [**RegEnumValue**](/windows/desktop/api/Winreg/nf-winreg-regenumvaluea) function to enumerate the values for a given key, and [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) function to retrieve a particular value for a key.</span></span> <span data-ttu-id="3560e-109">Eine Anwendung ruft normalerweise " **regenenumvalue** " auf, um die Wertnamen zu ermitteln, und dann " **RegQueryValueEx** ", um die Daten für die Namen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="3560e-109">An application typically calls **RegEnumValue** to determine the value names and then **RegQueryValueEx** to retrieve the data for the names.</span></span>

<span data-ttu-id="3560e-110">Die [**regquerymultiplevalues**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) -Funktion Ruft den Typ und die Daten für eine Liste von Wert Namen ab, die einem geöffneten Registrierungsschlüssel zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="3560e-110">The [**RegQueryMultipleValues**](/windows/desktop/api/Winreg/nf-winreg-regquerymultiplevaluesa) function retrieves the type and data for a list of value names associated with an open registry key.</span></span> <span data-ttu-id="3560e-111">Diese Funktion ist für dynamische Schlüssel Anbieter nützlich, da Sie die Konsistenz der Daten gewährleistet, indem mehrere Werte in einer atomaren Operation abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="3560e-111">This function is useful for dynamic key providers because it assures consistency of data by retrieving multiple values in an atomic operation.</span></span>

<span data-ttu-id="3560e-112">Da andere Anwendungen die Daten in einem Registrierungs Wert zwischen dem Zeitpunkt, an dem die Anwendung einen Wert lesen und verwenden kann, ändern können, müssen Sie möglicherweise sicherstellen, dass Ihre Anwendung über die neuesten Daten verfügt.</span><span class="sxs-lookup"><span data-stu-id="3560e-112">Because other applications can change the data in a registry value between the time your application can read a value and use it, you may need to ensure your application has the latest data.</span></span> <span data-ttu-id="3560e-113">Sie können die [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) -Funktion verwenden, um den aufrufenden Thread zu benachrichtigen, wenn Änderungen an den Attributen oder an den Inhalten eines Registrierungsschlüssels vorgenommen werden oder wenn der Schlüssel gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="3560e-113">You can use the [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) function to notify the calling thread when there are changes to the attributes or contents of a registry key, or if the key is deleted.</span></span> <span data-ttu-id="3560e-114">Die-Funktion signalisiert einem Ereignis Objekt, den Aufrufer zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="3560e-114">The function signals an event object to notify the caller.</span></span> <span data-ttu-id="3560e-115">Wenn der Thread, der **RegNotifyChangeKeyValue** aufruft, beendet wird, wird das Ereignis signalisiert, und die Überwachung des Registrierungsschlüssels wird beendet.</span><span class="sxs-lookup"><span data-stu-id="3560e-115">If the thread that calls **RegNotifyChangeKeyValue** exits, the event is signaled and the monitoring of the registry key is stopped.</span></span>

<span data-ttu-id="3560e-116">Sie können steuern oder angeben, welche Änderungen durch die Verwendung eines Benachrichtigungs Filters oder-Flags gemeldet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="3560e-116">You can control or specify what changes should be reported through the use of a notify filter or flag.</span></span> <span data-ttu-id="3560e-117">Normalerweise werden Änderungen gemeldet, indem ein Ereignis signalisiert wird, das Sie für die Funktion angeben.</span><span class="sxs-lookup"><span data-stu-id="3560e-117">Usually, changes are reported by signaling an event that you specify to the function.</span></span> <span data-ttu-id="3560e-118">Beachten Sie, dass die [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) -Funktion nicht mit Remote Handles funktioniert.</span><span class="sxs-lookup"><span data-stu-id="3560e-118">Note that the [**RegNotifyChangeKeyValue**](/windows/desktop/api/Winreg/nf-winreg-regnotifychangekeyvalue) function does not work with remote handles.</span></span>

<span data-ttu-id="3560e-119">Weitere Informationen zum Überwachen von Registrierungs Vorgängen finden Sie unter [**Registrierung**](/windows/desktop/ETW/registry).</span><span class="sxs-lookup"><span data-stu-id="3560e-119">To monitor registry operations in more detail, see [**Registry**](/windows/desktop/ETW/registry).</span></span>

 

 
