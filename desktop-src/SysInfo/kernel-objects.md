---
description: Kernelobjekthandles sind prozessspezifisch.
ms.assetid: 3e3288dd-155a-41d0-9d43-5f49ed4c4a9d
title: Kernelobjekte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f115229d11485ec14d530d87fb0e26451aaa1059752ae8d52cea40849256802b
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/11/2021
ms.locfileid: "117958226"
---
# <a name="kernel-objects"></a>Kernelobjekte

Kernelobjekthandles sind prozessspezifisch. Das heißt, ein Prozess muss entweder das -Objekt erstellen oder ein vorhandenes -Objekt öffnen, um ein Kernelobjekthand handle zu erhalten. Das Pro-Prozess-Limit für Kernelhandles beträgt 2^24. Handles werden jedoch im ausgelagerten Pool gespeichert, sodass die tatsächliche Anzahl von Handles, die Sie erstellen können, auf dem verfügbaren Arbeitsspeicher basiert. Die Anzahl der Handles, die Sie auf 32-Bit-Windows erstellen können, ist deutlich niedriger als 2^24.

Jeder Prozess kann ein neues Handle für ein vorhandenes Kernelobjekt erstellen (auch eines, das von einem anderen Prozess erstellt wurde), vorausgesetzt, der Prozess kennt den Namen des Objekts und verfügt über Sicherheitszugriff auf das Objekt. Kernelobjekthandles enthalten Zugriffsrechte, die die Aktionen angeben, die einem Prozess gewährt oder verweigert werden können. Eine Anwendung gibt Zugriffsrechte an, wenn sie ein Objekt erstellt oder ein vorhandenes Objekthandler erhält. Jeder Typ von Kernelobjekt unterstützt einen eigenen Satz von Zugriffsrechten. Ereignishandles können z. B. über festgelegten Zugriff oder Wartezugriff (oder beides) verfügen, Dateihandles können Lese- oder Schreibzugriff (oder beides) haben und so weiter. Weitere Informationen finden Sie unter [Securable Objects](/windows/desktop/SecAuthZ/securable-objects).

In der folgenden Abbildung erstellt eine Anwendung ein Ereignisobjekt. Die [**CreateEvent-Funktion**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) erstellt das Ereignisobjekt und gibt ein Objekthand handle zurück.

![Anwendung, die ein Ereignisobjekt erstellt](images/cshob-03.png)

Nachdem das Ereignisobjekt erstellt wurde, kann die Anwendung das Ereignishand handle verwenden, um das Ereignis zu festlegen oder darauf zu warten. Das Handle bleibt gültig, bis die Anwendung das Handle schließt oder beendet.

Die meisten Kernelobjekte unterstützen mehrere Handles für ein einzelnes Objekt. Beispielsweise könnte die Anwendung in der obigen Abbildung zusätzliche Ereignisobjekthandles mithilfe der [**OpenEvent-Funktion**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) abrufen, wie in der folgenden Abbildung dargestellt.

![Anwendung, die ein Ereignisobjekt mit mehreren Handles erstellt](images/cshob-04.png)

Mit dieser Methode kann eine Anwendung über Handles mit unterschiedlichen Zugriffsrechten verfügen. Handle 1 kann z. B. den Zugriff auf das Ereignis festlegen und warten, und Handle 2 hat möglicherweise nur Wartezugriff.

Wenn ein anderer Prozess den Ereignisnamen kennt und über Sicherheitszugriff auf das Objekt verfügt, kann er mit OpenEvent ein eigenes Ereignisobjekthand handle [**erstellen.**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) Die erstellende Anwendung kann auch einen ihrer Handles mithilfe der DuplicateHandle-Funktion in den gleichen oder einen anderen [**Prozess duplizieren.**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle)

Ein Objekt verbleibt im Arbeitsspeicher, solange mindestens ein Objekthand handle vorhanden ist. In der folgenden Abbildung verwenden die Anwendungen die [**CloseHandle-Funktion,**](/windows/win32/api/handleapi/nf-handleapi-closehandle) um ihre Ereignisobjekthandles zu schließen. Wenn keine Ereignishandles verfügbar sind, entfernt das System das Objekt aus dem Arbeitsspeicher, wie in der folgenden Abbildung dargestellt.

![Schließende Ereignisobjekthandles der Anwendung zum Entfernen des Objekts aus dem Arbeitsspeicher](images/cshob-08.png)

Das System verwaltet Dateiobjekte etwas anders als andere Kernelobjekte. Dateiobjekte enthalten den Dateizeiger – den Zeiger auf das nächste Byte, das gelesen oder in eine Datei geschrieben werden soll. Wenn eine Anwendung ein neues Dateihand handle erstellt, erstellt das System ein neues Dateiobjekt. Aus diesem Grund kann mehr als ein Dateiobjekt auf eine einzelne Datei auf dem Datenträger verweisen, wie in der nächsten Abbildung gezeigt.

![Mehrere Dateiobjekte, die auf eine Datei auf dem Datenträger verweisen](images/cshob-09.png)

Nur durch Duplizierung oder Vererbung kann mehr als ein Dateihand handle auf dasselbe Dateiobjekt verweisen, wie in der folgenden Abbildung dargestellt.

![Zwei Dateihandles verweisen auf dasselbe Dateiobjekt.](images/cshob-10.png)

In der folgenden Tabelle sind die einzelnen Kernelobjekte sowie die Ersteller- und Zerstören-Funktionen der einzelnen Objekte aufgeführt. Die Erstellerfunktionen erstellen entweder das Objekt und ein Objekthand handle oder erstellen ein neues vorhandenes Objekthand handle. Die Zerstören-Funktionen schließen das Objekthand handle. Wenn eine Anwendung das letzte Handle für ein Kernelobjekt schließt, entfernt das System das Objekt aus dem Arbeitsspeicher.



| Kernel-Objekt                | Creator-Funktion                                                                                                                                                                                                                                                  | Destroyer-Funktion                                                                      |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| Zugriffstoken                 | [**CreateRestrictedToken,**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) [**DuplicateToken,**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetoken) [**DuplicateTokenEx,**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex) [**OpenProcessToken,**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocesstoken) [**OpenThreadToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Änderungsbenachrichtigung          | [**FindFirstChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findfirstchangenotificationa)                                                                                                                                                                                                 | [**FindCloseChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findclosechangenotification)                       |
| Kommunikationsgerät        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                   | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Konsoleneingabe                | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)mit CONIN$                                                                                                                                                                                                                      | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Konsolenbildschirmpuffer        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)mit CONOUT$                                                                                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Desktop                      | [**GetThreadDesktop**](/windows/desktop/api/winuser/nf-winuser-getthreaddesktop)                                                                                                                                                                                                                     | Anwendungen können dieses Objekt nicht löschen.                                                 |
| Ereignis                        | [**CreateEvent,**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) [**CreateEventEx,**](/windows/desktop/api/synchapi/nf-synchapi-createeventexa) [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa)                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Ereignisprotokoll                    | [**OpenEventLog,**](/windows/desktop/api/winbase/nf-winbase-openeventloga) [**RegisterEventSource,**](/windows/desktop/api/winbase/nf-winbase-registereventsourcea) [**OpenBackupEventLog**](/windows/desktop/api/winbase/nf-winbase-openbackupeventloga)                                                                                                                     | [**CloseEventLog**](/windows/desktop/api/winbase/nf-winbase-closeeventlog)                                                 |
| Datei                         | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                 | [**CloseHandle,**](/windows/win32/api/handleapi/nf-handleapi-closehandle) [ **DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)                     |
| Dateizuordnung                 | [**CreateFileMapping,**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga) [ **OpenFileMapping**](/windows/desktop/api/winbase/nf-winbase-openfilemappinga)                                                                                                                                                                          | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Datei suchen                    | [**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea)                                                                                                                                                                                                                             | [**FindClose**](/windows/desktop/api/fileapi/nf-fileapi-findclose)                                                           |
| Heap                         | [**HeapErzeugen**](/windows/desktop/api/heapapi/nf-heapapi-heapcreate)                                                                                                                                                                                                                                 | [**HeapDestroy**](/windows/desktop/api/heapapi/nf-heapapi-heapdestroy)                                                     |
| E/A-Abschlussport          | [**CreateIoCompletionPort**](/windows/desktop/FileIO/createiocompletionport)                                                                                                                                                                                                           | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Auftrag                          | [**CreateJobObject**](/windows/desktop/api/winbase/nf-winbase-createjobobjecta)                                                                                                                                                                                                                       | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Mailslot                     | [**CreateMailslot**](/windows/desktop/api/winbase/nf-winbase-createmailslota)                                                                                                                                                                                                                         | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Benachrichtigung über Arbeitsspeicherressourcen | [**CreateMemoryResourceNotification**](/windows/desktop/api/memoryapi/nf-memoryapi-creatememoryresourcenotification)                                                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Modul                       | [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya), [ **GetModuleHandle**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea)                                                                                                                                                                                  | [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary)                                                     |
| Mutex                        | [**CreateMutex,**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa) [**CreateMutexEx,**](/windows/desktop/api/synchapi/nf-synchapi-createmutexexa) [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw)                                                                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Pipe                         | [**CreateNamedPipe,**](/windows/desktop/api/winbase/nf-winbase-createnamedpipea) [ **CreatePipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-createpipe)                                                                                                                                                                                    | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DisconnectNamedPipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-disconnectnamedpipe) |
| Prozess                      | [**CreateProcess,**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa) [**OpenProcess,**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocess) [**GetCurrentProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess)                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminateprocess)       |
| Semaphore                    | [**CreateSemaphore,**](/windows/desktop/api/winbase/nf-winbase-createsemaphorea) [**CreateSemaphoreEx,**](/windows/desktop/api/winbase/nf-winbase-createsemaphoreexa) [**OpenSemaphore**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew)                                                                                                                             | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Steckdose                       | [**socket**](/windows/desktop/api/winsock2/nf-winsock2-socket), [ **accept**](/windows/desktop/api/winsock2/nf-winsock2-accept)                                                                                                                                                                                                    | [**closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket)                                                |
| Thread                       | [**CreateThread,**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread) [**CreateRemoteThread,**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createremotethread) [**GetCurrentThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentthread)                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminatethread)         |
| Zeitgeber                        | [**CreateWaitableTimer,**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) [**CreateWaitableTimerEx,**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw) [**OpenWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw)                                                                                                     | [**Closehandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Aktualisieren von Ressourcen              | [**BeginUpdateResource**](/windows/win32/api/winbase/nf-winbase-beginupdateresourcea)                                                                                                                                                                                                         | [**EndUpdateResource**](/windows/win32/api/winbase/nf-winbase-endupdateresourcea)                                   |
| Fensterstation               | [**GetProcessWindowStation**](/windows/desktop/api/winuser/nf-winuser-getprocesswindowstation)                                                                                                                                                                                                       | Anwendungen können dieses Objekt nicht löschen.                                                 |



 

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[Kernelobjektnamespaces](/windows/desktop/TermServ/kernel-object-namespaces)
</dt> </dl>

 

 
