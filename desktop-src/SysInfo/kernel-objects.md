---
description: Kernel Objekt Handles sind Prozess spezifisch.
ms.assetid: 3e3288dd-155a-41d0-9d43-5f49ed4c4a9d
title: Kernel Objekte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a7cf8c46e4754c46e81cfd959f62de052332594
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104550921"
---
# <a name="kernel-objects"></a>Kernel Objekte

Kernel Objekt Handles sind Prozess spezifisch. Das heißt, ein Prozess muss entweder das-Objekt erstellen oder ein vorhandenes-Objekt öffnen, um ein Kernel Objekt Handle zu erhalten. Der pro-Prozess-Grenzwert für Kernel Handles beträgt 2 ^ 24. Handles werden jedoch im ausgelagerten Pool gespeichert, sodass die tatsächliche Anzahl von Handles, die Sie erstellen können, auf dem verfügbaren Arbeitsspeicher basiert. Die Anzahl der Handles, die Sie auf 32-Bit-Fenstern erstellen können, ist deutlich niedriger als 2 ^ 24.

Jeder Prozess kann ein neues Handle für ein vorhandenes Kernel Objekt erstellen (auch von einem anderen Prozess erstellt), vorausgesetzt, dass der Prozess den Namen des Objekts kennt und über Sicherheits Zugriff auf das Objekt verfügt. Kernel Objekt Handles enthalten Zugriffsrechte, die angeben, welche Aktionen einem Prozess erteilt oder verweigert werden können. Eine Anwendung gibt Zugriffsrechte an, wenn ein Objekt erstellt wird oder ein vorhandenes Objekt Handle abgerufen wird. Jeder Kernel Objekttyp unterstützt seinen eigenen Satz von Zugriffsrechten. So können z. b. für Ereignis Handles der Zugriff festgelegt oder gewartet werden (oder beides), Datei Handles können über Lese-oder Schreibzugriff (oder beides) usw. verfügen. Weitere Informationen finden Sie unter Sicherungs [fähige Objekte](/windows/desktop/SecAuthZ/securable-objects).

In der folgenden Abbildung erstellt eine Anwendung ein Ereignis Objekt. Die [**Funktion "**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) -Funktion" erstellt das Ereignis Objekt und gibt ein Objekt Handle zurück.

![Anwendung, die ein Ereignis Objekt erstellt](images/cshob-03.png)

Nachdem das Ereignis Objekt erstellt wurde, kann die Anwendung das Ereignis Handle verwenden, um auf das Ereignis festzulegen oder es zu warten. Das Handle bleibt gültig, bis die Anwendung das Handle schließt oder beendet wird.

Die meisten Kernel Objekte unterstützen mehrere Handles für ein einzelnes Objekt. Die Anwendung in der obigen Abbildung könnte z. b. zusätzliche Ereignis Objekt Handles mithilfe der [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) -Funktion abrufen, wie in der folgenden Abbildung dargestellt.

![Anwendung, die ein Ereignis Objekt mit mehreren Handles erstellt](images/cshob-04.png)

Diese Methode ermöglicht es einer Anwendung, Handles mit unterschiedlichen Zugriffsrechten zu haben. Handle 1 kann z. b. den Zugriff auf das Ereignis festgelegt haben und auf das Ereignis warten, und handle 2 kann nur auf den Zugriff warten.

Wenn ein anderer Prozess den Ereignis Namen kennt und über Sicherheits Zugriff auf das Objekt verfügt, kann er mithilfe von [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa)ein eigenes Ereignis Objekt Handle erstellen. Die erstellenden Anwendung kann auch eines ihrer Handles in den gleichen Prozess oder in einen anderen Prozess duplizieren, indem die [**duplikatandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) -Funktion verwendet wird.

Ein Objekt verbleibt im Arbeitsspeicher, solange mindestens ein Objekt Handle vorhanden ist. In der folgenden Abbildung verwenden die Anwendungen die [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle) -Funktion, um Ihre Ereignis Objekt Handles zu schließen. Wenn keine Ereignis Handles vorhanden sind, entfernt das System das Objekt aus dem Arbeitsspeicher, wie in der folgenden Abbildung dargestellt.

![Objekt Handles zum Schließen des Ereignisses zum Entfernen des Objekts aus dem Arbeitsspeicher](images/cshob-08.png)

Das System verwaltet Datei Objekte etwas anders als andere Kernel Objekte. Datei Objekte enthalten den Dateizeiger – den Zeiger auf das nächste Byte, das in einer Datei gelesen oder geschrieben werden soll. Jedes Mal, wenn eine Anwendung ein neues Datei Handle erstellt, erstellt das System ein neues Datei Objekt. Daher können mehr als ein Datei Objekt auf eine einzelne Datei auf dem Datenträger verweisen, wie in der folgenden Abbildung dargestellt.

![mehrere Datei Objekte, die auf eine Datei auf dem Datenträger verweisen](images/cshob-09.png)

Nur durch Duplizierung oder Vererbung können mehr als ein Datei Handle auf dasselbe Datei Objekt verweisen, wie in der folgenden Abbildung dargestellt.

![zwei Datei Handles verweisen auf dasselbe Datei Objekt](images/cshob-10.png)

In der folgenden Tabelle sind die einzelnen Kernel Objekte sowie die Ersteller-und Zerstörungs Funktionen der einzelnen Objekte aufgelistet. Die Ersteller-Funktionen erstellen entweder das-Objekt und ein-Objekt Handle oder erstellen ein neues vorhandenes Objekt handle. Die zerstörerfunktionen schließen das Objekt handle. Wenn eine Anwendung das letzte Handle eines Kernel Objekts schließt, entfernt das System das Objekt aus dem Arbeitsspeicher.



| Kernel Objekt                | Creator-Funktion                                                                                                                                                                                                                                                  | Destroyer-Funktion                                                                      |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| Zugriffstoken                 | [**Kreaterestrictedtoken**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken), [**duplicatetoken**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetoken), [**duplicatetokenex**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex), [**OpenProcessToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocesstoken), [**openthumctoken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Benachrichtigung ändern          | [**FindFirstChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findfirstchangenotificationa)                                                                                                                                                                                                 | [**Findclosechangenotifizierung**](/windows/desktop/api/fileapi/nf-fileapi-findclosechangenotification)                       |
| Kommunikationsgerät        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                   | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Konsolen Eingabe                | " [**Kreatefile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)" mit "$"                                                                                                                                                                                                                      | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Bildschirm Puffer der Konsole        | " [**Kreatefile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)" mit "$"                                                                                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Desktop                      | [**Getthreaddesktop**](/windows/desktop/api/winuser/nf-winuser-getthreaddesktop)                                                                                                                                                                                                                     | Das Objekt kann von Anwendungen nicht gelöscht werden.                                                 |
| Ereignis                        | "Up [**Event**](/windows/desktop/api/synchapi/nf-synchapi-createeventa)", " [**kreateeventex**](/windows/desktop/api/synchapi/nf-synchapi-createeventexa)", " [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) "                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Ereignisprotokoll                    | [**OpenEventLog**](/windows/desktop/api/winbase/nf-winbase-openeventloga), [**registereventsource**](/windows/desktop/api/winbase/nf-winbase-registereventsourcea), [**openbackumaxventlog**](/windows/desktop/api/winbase/nf-winbase-openbackupeventloga)                                                                                                                     | [**Closeeventlog**](/windows/desktop/api/winbase/nf-winbase-closeeventlog)                                                 |
| File                         | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                 | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)                     |
| Datei Zuordnung                 | " [**Kreatefilemapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga)", " [ **OpenFileMapping** "](/windows/desktop/api/winbase/nf-winbase-openfilemappinga)                                                                                                                                                                          | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Datei suchen                    | [**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea)                                                                                                                                                                                                                             | [**FindClose**](/windows/desktop/api/fileapi/nf-fileapi-findclose)                                                           |
| Heap                         | [**HeapCreate**](/windows/desktop/api/heapapi/nf-heapapi-heapcreate)                                                                                                                                                                                                                                 | [**HeapDestroy**](/windows/desktop/api/heapapi/nf-heapapi-heapdestroy)                                                     |
| E/a-Abschlussport          | [**CreateIoCompletionPort**](/windows/desktop/FileIO/createiocompletionport)                                                                                                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Auftrag                          | [**"Kreatejobobject"**](/windows/desktop/api/winbase/nf-winbase-createjobobjecta)                                                                                                                                                                                                                       | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Mailslot                     | [**"Kreatemailslot"**](/windows/desktop/api/winbase/nf-winbase-createmailslota)                                                                                                                                                                                                                         | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Benachrichtigung zu Speicherressourcen | [**"Kreatememoryresourcenotifi"**](/windows/desktop/api/memoryapi/nf-memoryapi-creatememoryresourcenotification)                                                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Modul                       | [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya), [ **GetModuleHandle**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea)                                                                                                                                                                                  | [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary)                                                     |
| Mutex                        | " [**Kreatemutex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa)", " [**kreatemutexex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexexa)", " [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw) "                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Pipe                         | " [**Kreatenamedpipe**](/windows/desktop/api/winbase/nf-winbase-createnamedpipea)", " [ **kreatepipe** "](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-createpipe)                                                                                                                                                                                    | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **disconnectnamedpipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-disconnectnamedpipe) |
| Prozess                      | "Up [**Process**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa)", " [**OpenProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocess)", " [**GetCurrentProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) "                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminateprocess)       |
| Semaphore                    | " [**Kreatesemaphore**](/windows/desktop/api/winbase/nf-winbase-createsemaphorea)", " [**kreatesemaphoreex**](/windows/desktop/api/winbase/nf-winbase-createsemaphoreexa)", " [**opensemaphore**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew) "                                                                                                                             | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Steckdose                       | [**Socket**](/windows/desktop/api/winsock2/nf-winsock2-socket), [ **Accept**](/windows/desktop/api/winsock2/nf-winsock2-accept)                                                                                                                                                                                                    | [**closesocket**](/windows/desktop/api/winsock/nf-winsock-closesocket)                                                |
| Thread                       | " [**Foratethread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread)", " [**conateremotethread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createremotethread)", " [**GetCurrentThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) "                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminatethread)         |
| Timer                        | " [**Kreatewaitabletimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw)", " [**kreatewaitabletimerex**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw)", " [**openwaitabletimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw) "                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Aktualisieren von Ressourcen              | [**Beginupdateresource**](/windows/win32/api/winbase/nf-winbase-beginupdateresourcea)                                                                                                                                                                                                         | [**Endupdateresource**](/windows/win32/api/winbase/nf-winbase-endupdateresourcea)                                   |
| Fenster Station               | [**Getprocesswindowstation**](/windows/desktop/api/winuser/nf-winuser-getprocesswindowstation)                                                                                                                                                                                                       | Das Objekt kann von Anwendungen nicht gelöscht werden.                                                 |



 

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[Kernelobjektnamespaces](/windows/desktop/TermServ/kernel-object-namespaces)
</dt> </dl>

 

 
