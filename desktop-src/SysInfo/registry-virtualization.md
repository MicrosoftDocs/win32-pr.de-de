---
description: Die Registrierungsvirtualisierung ist eine Anwendungs Kompatibilitäts Technologie, die es ermöglicht, Registrierungs Schreibvorgänge mit globaler Auswirkung an benutzerspezifische Speicherorte umzuleiten.
ms.assetid: dace2f65-df60-419a-8be8-ab60668e6396
title: Registrierungsvirtualisierung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 642bda46b43fc0b4f7efa60cfcd9e2178643811f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106351611"
---
# <a name="registry-virtualization"></a><span data-ttu-id="9d7af-103">Registrierungsvirtualisierung</span><span class="sxs-lookup"><span data-stu-id="9d7af-103">Registry Virtualization</span></span>

<span data-ttu-id="9d7af-104">Die *Registrierungsvirtualisierung* ist eine Anwendungs Kompatibilitäts Technologie, die es ermöglicht, Registrierungs Schreibvorgänge mit globaler Auswirkung an benutzerspezifische Speicherorte umzuleiten.</span><span class="sxs-lookup"><span data-stu-id="9d7af-104">*Registry virtualization* is an application compatibility technology that enables registry write operations that have global impact to be redirected to per-user locations.</span></span> <span data-ttu-id="9d7af-105">Diese Umleitung ist für Anwendungen transparent, die aus der Registrierung lesen oder in diese schreiben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-105">This redirection is transparent to applications reading from or writing to the registry.</span></span> <span data-ttu-id="9d7af-106">Sie wird ab Windows Vista unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9d7af-106">It is supported starting with Windows Vista.</span></span>

<span data-ttu-id="9d7af-107">Diese Form der Virtualisierung ist eine zwischen Anwendungs Kompatibilitäts Technologie. Microsoft beabsichtigt, Sie aus zukünftigen Versionen des Windows-Betriebssystems zu entfernen, da mehr Anwendungen mit Windows Vista und neueren Windows-Versionen kompatibel gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="9d7af-107">This form of virtualization is an interim application compatibility technology; Microsoft intends to remove it from future versions of the Windows operating system as more applications are made compatible with Windows Vista and later versions of Windows.</span></span> <span data-ttu-id="9d7af-108">Daher ist es wichtig, dass Ihre Anwendung nicht vom Verhalten der Registrierungsvirtualisierung im System abhängig ist.</span><span class="sxs-lookup"><span data-stu-id="9d7af-108">Therefore, it is important that your application does not become dependent on the behavior of registry virtualization in the system.</span></span>

<span data-ttu-id="9d7af-109">Die Virtualisierung soll lediglich die Kompatibilität vorhandener Anwendungen gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="9d7af-109">Virtualization is intended only to provide compatibility for existing applications.</span></span> <span data-ttu-id="9d7af-110">Anwendungen, die für Windows Vista und spätere Versionen von Windows entwickelt wurden, sollten nicht in sensible Systembereiche schreiben und sollten sich nicht auf die Virtualisierung verlassen, um Probleme zu beheben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-110">Applications designed for Windows Vista and later versions of Windows should not write to sensitive system areas, nor should they rely on virtualization to remedy any problems.</span></span> <span data-ttu-id="9d7af-111">Beim Aktualisieren von vorhandenem Code für die Ausführung unter Windows Vista und höheren Versionen von Windows sollten die Entwickler sicherstellen, dass Anwendungen nur Daten an benutzerspezifischen Speicherorten oder an Computer Standorten innerhalb von% alluserprofile% speichern, die eine Zugriffs Steuerungs Liste (ACL) ordnungsgemäß verwenden.</span><span class="sxs-lookup"><span data-stu-id="9d7af-111">When updating existing code to run on Windows Vista and later versions of Windows, developers should ensure that applications only store data in per-user locations or in computer locations within %alluserprofile% that properly use an access control list (ACL).</span></span>

<span data-ttu-id="9d7af-112">Weitere Informationen zum Entwickeln von UAC-kompatiblen Anwendungen finden Sie im [UAC-Entwicklerhandbuch](/previous-versions/dotnet/articles/aa480150(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="9d7af-112">For more information about building UAC-compliant applications, see the [UAC Developer Guide](/previous-versions/dotnet/articles/aa480150(v=msdn.10)).</span></span>

## <a name="virtualization-overview"></a><span data-ttu-id="9d7af-113">Übersicht über die Virtualisierung</span><span class="sxs-lookup"><span data-stu-id="9d7af-113">Virtualization Overview</span></span>

<span data-ttu-id="9d7af-114">Vor Windows Vista wurden Anwendungen in der Regel von Administratoren ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="9d7af-114">Prior to Windows Vista, applications were typically run by administrators.</span></span> <span data-ttu-id="9d7af-115">Daher können Anwendungen kostenlos auf Systemdateien und Registrierungsschlüssel zugreifen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-115">As a result, applications could freely access system files and registry keys.</span></span> <span data-ttu-id="9d7af-116">Wenn diese Anwendungen von einem Standardbenutzer ausgeführt wurden, können Sie aufgrund unzureichender Zugriffsrechte nicht ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="9d7af-116">If these applications were run by a standard user, they would fail due to insufficient access rights.</span></span> <span data-ttu-id="9d7af-117">Windows Vista und spätere Versionen von Windows verbessern die Anwendungs Kompatibilität für diese Anwendungen, indem diese Vorgänge automatisch umgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="9d7af-117">Windows Vista and later versions of Windows improve application compatibility for these applications by automatically redirecting these operations.</span></span> <span data-ttu-id="9d7af-118">Registrierungs Vorgänge für den globalen Speicher (**HKEY \_ local \_ Machine \\ Software**) werden z. b. an einen benutzerspezifischen Speicherort im Benutzerprofil umgeleitet, das als *virtueller Speicher* (**HKEY \_ Users \\ <User SID> \_ Classes \\ virtualstore \\ Machine \\ Software**) bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="9d7af-118">For example, registry operations to the global store (**HKEY\_LOCAL\_MACHINE\\Software**) are redirected to a per-user location within the user's profile known as the *virtual store* (**HKEY\_USERS\\<User SID>\_Classes\\VirtualStore\\Machine\\Software**).</span></span>

<span data-ttu-id="9d7af-119">Die Registrierungsvirtualisierung kann im Allgemeinen in folgende Typen eingeteilt werden:</span><span class="sxs-lookup"><span data-stu-id="9d7af-119">Registry virtualization can be broadly classified into the following types:</span></span>

<dl> <dt>

<span data-ttu-id="9d7af-120"><span id="Open_Registry_Virtualization"></span><span id="open_registry_virtualization"></span><span id="OPEN_REGISTRY_VIRTUALIZATION"></span>Registrierungsvirtualisierung öffnen</span><span class="sxs-lookup"><span data-stu-id="9d7af-120"><span id="Open_Registry_Virtualization"></span><span id="open_registry_virtualization"></span><span id="OPEN_REGISTRY_VIRTUALIZATION"></span>Open Registry Virtualization</span></span>
</dt> <dd>

<span data-ttu-id="9d7af-121">Wenn der Aufrufer keinen Schreibzugriff auf einen Schlüssel hat und versucht, den Schlüssel zu öffnen, wird der Schlüssel mit dem maximal zulässigen Zugriff für diesen Aufrufer geöffnet.</span><span class="sxs-lookup"><span data-stu-id="9d7af-121">If the caller does not have write access to a key and attempts to open the key, the key is opened with the maximum allowed access for that caller.</span></span>

<span data-ttu-id="9d7af-122">Wenn das Flag "nicht unbeaufsichtigtes \_ \_ \_ \_ fehlschlagen" für den Schlüssel festgelegt ist, schlägt der Vorgang fehl, und der Schlüssel wird nicht geöffnet.</span><span class="sxs-lookup"><span data-stu-id="9d7af-122">If the REG\_KEY\_DONT\_SILENT\_FAIL flag is set for the key, the operation fails and the key is not opened.</span></span> <span data-ttu-id="9d7af-123">Weitere Informationen finden Sie weiter unten in diesem Thema unter "Steuern der Registrierungsvirtualisierung".</span><span class="sxs-lookup"><span data-stu-id="9d7af-123">For more information, see "Controlling Registry Virtualization" later in this topic.</span></span>

</dd> <dt>

<span data-ttu-id="9d7af-124"><span id="Write_Registry_Virtualization"></span><span id="write_registry_virtualization"></span><span id="WRITE_REGISTRY_VIRTUALIZATION"></span>Registrierungs-Virtualisierung schreiben</span><span class="sxs-lookup"><span data-stu-id="9d7af-124"><span id="Write_Registry_Virtualization"></span><span id="write_registry_virtualization"></span><span id="WRITE_REGISTRY_VIRTUALIZATION"></span>Write Registry Virtualization</span></span>
</dt> <dd>

<span data-ttu-id="9d7af-125">Wenn der Aufrufer keinen Schreibzugriff auf einen Schlüssel hat und versucht, einen Wert in den Schlüssel zu schreiben oder einen Unterschlüssel zu erstellen, wird der Wert in den virtuellen Speicher geschrieben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-125">If the caller does not have write access to a key and attempts to write a value to it or create a subkey, the value is written to the virtual store.</span></span>

<span data-ttu-id="9d7af-126">Wenn ein eingeschränkter Benutzer z. b. versucht, einen Wert in den folgenden Schlüssel zu schreiben: **HKEY \_ local \_ Machine \\** \\ *AppKey1*, wird der Schreibvorgang von der Virtualisierung an die **HKEY- \_ Benutzer \\ <User SID> \_ Klassen \\ virtualstore- \\ Computer \\ Software** \\ *AppKey1* umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="9d7af-126">For example, if a limited user attempts to write a value to the following key: **HKEY\_LOCAL\_MACHINE\\Software**\\*AppKey1*, virtualization redirects the write operation to **HKEY\_USERS\\<User SID>\_Classes\\VirtualStore\\Machine\\Software**\\*AppKey1*.</span></span>

</dd> <dt>

<span data-ttu-id="9d7af-127"><span id="Read_Registry_Virtualization"></span><span id="read_registry_virtualization"></span><span id="READ_REGISTRY_VIRTUALIZATION"></span>Lesen der Registrierungsvirtualisierung</span><span class="sxs-lookup"><span data-stu-id="9d7af-127"><span id="Read_Registry_Virtualization"></span><span id="read_registry_virtualization"></span><span id="READ_REGISTRY_VIRTUALIZATION"></span>Read Registry Virtualization</span></span>
</dt> <dd>

<span data-ttu-id="9d7af-128">Wenn der Aufrufer aus einem virtualisierten Schlüssel liest, stellt die Registrierung eine zusammengeführte Ansicht der virtualisierten Werte (aus dem virtuellen Speicher) und der nicht virtuellen Werte (aus dem globalen Speicher) für den Aufrufer dar.</span><span class="sxs-lookup"><span data-stu-id="9d7af-128">If the caller reads from a key that is virtualized, the registry presents a merged view of both the virtualized values (from the virtual store) and the non-virtual values (from the global store) to the caller.</span></span>

<span data-ttu-id="9d7af-129">Nehmen wir beispielsweise an, dass **HKEY \_ local \_ Machine \\ Software** \\ *AppKey1* die beiden Werte v1 und v2 enthält und dass ein eingeschränkter Benutzer einen Wert v3 in den Schlüssel schreibt.</span><span class="sxs-lookup"><span data-stu-id="9d7af-129">For example, suppose **HKEY\_LOCAL\_MACHINE\\Software**\\*AppKey1* contains two values V1 and V2 and that a limited user writes a value V3 to the key.</span></span> <span data-ttu-id="9d7af-130">Wenn der Benutzer versucht, Werte aus diesem Schlüssel zu lesen, enthält die zusammengeführte Sicht die Werte v1 und v2 aus dem globalen Speicher und Wert V3 aus dem virtuellen Speicher.</span><span class="sxs-lookup"><span data-stu-id="9d7af-130">When the user attempts to read values from this key, the merged view includes values V1 and V2 from the global store and value V3 from the virtual store.</span></span>

<span data-ttu-id="9d7af-131">Beachten Sie, dass virtuelle Werte, wenn Sie vorhanden sind, Vorrang vor globalen Werten haben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-131">Note that virtual values take precedence over global values when present.</span></span> <span data-ttu-id="9d7af-132">Im obigen Beispiel, auch wenn der globale Speicher unter diesem Schlüssel den Wert V3 hat, wird der Wert V3 weiterhin vom virtuellen Speicher an den Aufrufer zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-132">In the example above, even if the global store had value V3 under this key, the value V3 would still be returned to the caller from the virtual store.</span></span> <span data-ttu-id="9d7af-133">Wenn V3 aus dem virtuellen Speicher gelöscht werden soll, wird V3 aus dem globalen Speicher zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-133">If V3 were to be deleted from the virtual store, then V3 would be returned from the global store.</span></span> <span data-ttu-id="9d7af-134">Anders ausgedrückt: Wenn V3 aus **HKEY- \_ Benutzer \\ <User SID> \_ Klassen, \\ virtualstore- \\ Computer \\ Software** \\ *AppKey1* , aber **HKEY \_ local \_ Machine \\ Software** AppKey1 mit dem Wert "v3" gelöscht werden soll \\  , wird dieser Wert aus dem globalen Speicher zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-134">In other words, if V3 were to be deleted from **HKEY\_USERS\\<User SID>\_Classes\\VirtualStore\\Machine\\Software**\\*AppKey1* but **HKEY\_LOCAL\_MACHINE\\Software**\\*AppKey1* had a value V3, then that value would be returned from the global store.</span></span>

</dd> </dl>

## <a name="registry-virtualization-scope"></a><span data-ttu-id="9d7af-135">Gültigkeitsbereich der Registrierungs Virtualisierung</span><span class="sxs-lookup"><span data-stu-id="9d7af-135">Registry Virtualization Scope</span></span>

<span data-ttu-id="9d7af-136">Die Registrierungsvirtualisierung ist nur für Folgendes aktiviert:</span><span class="sxs-lookup"><span data-stu-id="9d7af-136">Registry virtualization is enabled only for the following:</span></span>

-   <span data-ttu-id="9d7af-137">interaktive 32-Bit-Prozesse.</span><span class="sxs-lookup"><span data-stu-id="9d7af-137">32-bit interactive processes.</span></span>
-   <span data-ttu-id="9d7af-138">Schlüssel in der **lokalen HKEY- \_ \_ Computer \\ Software**.</span><span class="sxs-lookup"><span data-stu-id="9d7af-138">Keys in **HKEY\_LOCAL\_MACHINE\\Software**.</span></span>
-   <span data-ttu-id="9d7af-139">Schlüssel, in die ein Administrator schreiben kann.</span><span class="sxs-lookup"><span data-stu-id="9d7af-139">Keys that an administrator can write to.</span></span> <span data-ttu-id="9d7af-140">(Wenn ein Administrator nicht in einen Schlüssel schreiben kann, würde die Anwendung auf früheren Versionen von Windows fehlgeschlagen sein, auch wenn Sie von einem Administrator ausgeführt wurde.)</span><span class="sxs-lookup"><span data-stu-id="9d7af-140">(If an administrator cannot write to a key, then the application would have failed on previous versions of Windows even if it was run by an administrator.)</span></span>

<span data-ttu-id="9d7af-141">Die Registrierungsvirtualisierung ist für Folgendes deaktiviert:</span><span class="sxs-lookup"><span data-stu-id="9d7af-141">Registry virtualization is disabled for the following:</span></span>

-   <span data-ttu-id="9d7af-142">64-Bit-Prozesse.</span><span class="sxs-lookup"><span data-stu-id="9d7af-142">64-bit processes.</span></span>
-   <span data-ttu-id="9d7af-143">Prozesse, die nicht interaktiv sind, z. b. Dienste.</span><span class="sxs-lookup"><span data-stu-id="9d7af-143">Processes that are not interactive, such as services.</span></span>

    <span data-ttu-id="9d7af-144">Beachten Sie, dass die Registrierung als Mechanismus für die prozessübergreifende Kommunikation (Inter-Process Communication, IPC) zwischen einem Dienst (oder einem anderen Prozess, für den keine Virtualisierung aktiviert ist) verwendet wird und eine Anwendung nicht ordnungsgemäß funktioniert, wenn der Schlüssel virtualisiert ist.</span><span class="sxs-lookup"><span data-stu-id="9d7af-144">Note that using the registry as an inter-process communication (IPC) mechanism between a service (or any other process that does not have virtualization enabled) and an application will not work correctly if the key is virtualized.</span></span> <span data-ttu-id="9d7af-145">Wenn beispielsweise ein Antivirendienst seine Signatur Dateien auf Grundlage eines von einer Anwendung festgelegten Werts aktualisiert, aktualisiert der Dienst seine Signatur Dateien nie, da der Dienst aus dem globalen Speicher liest, die Anwendung jedoch in den virtuellen Speicher schreibt.</span><span class="sxs-lookup"><span data-stu-id="9d7af-145">For instance, if an antivirus service updates its signature files based on a value set by an application, the service will never update its signature files because the service reads from the global store but the application writes to the virtual store.</span></span>

-   <span data-ttu-id="9d7af-146">Prozesse, die die Identität eines Benutzers annehmen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-146">Processes that impersonate a user.</span></span> <span data-ttu-id="9d7af-147">Wenn ein Prozess einen Vorgang während der Identität eines Benutzers annimmt, wird dieser Vorgang nicht virtualisiert.</span><span class="sxs-lookup"><span data-stu-id="9d7af-147">If a process attempts an operation while impersonating a user, that operation will not be virtualized.</span></span>
-   <span data-ttu-id="9d7af-148">Kernel Modus-Prozesse, z. b. Treiber.</span><span class="sxs-lookup"><span data-stu-id="9d7af-148">Kernel-mode processes such as drivers.</span></span>
-   <span data-ttu-id="9d7af-149">Prozesse, für die **requestedExecutionLevel** in ihren Manifesten angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="9d7af-149">Processes that have **requestedExecutionLevel** specified in their manifests.</span></span>
-   <span data-ttu-id="9d7af-150">Schlüssel und Unterschlüssel von **HKEY \_ - \_ \\ Software \\ Klassen für lokale Computer**, **HKEY \_ local \_ Machine \\ Software \\ Microsoft \\ Windows** und **HKEY \_ local \_ Machine \\ Software \\ Microsoft \\ Windows NT**.</span><span class="sxs-lookup"><span data-stu-id="9d7af-150">Keys and subkeys of **HKEY\_LOCAL\_MACHINE\\Software\\Classes**, **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows**, and **HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT**.</span></span>

## <a name="controlling-registry-virtualization"></a><span data-ttu-id="9d7af-151">Steuern der Registrierungsvirtualisierung</span><span class="sxs-lookup"><span data-stu-id="9d7af-151">Controlling Registry Virtualization</span></span>

<span data-ttu-id="9d7af-152">Zusätzlich zur Steuerung der Virtualisierung auf Anwendungsebene, indem **requestedExecutionLevel** im Manifest verwendet wird, kann ein Administrator die Virtualisierung auf Schlüssel Basis für Schlüssel in der **\_ lokalen \_ Computer \\ Software von HKEY** aktivieren bzw. deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="9d7af-152">In addition to controlling virtualization at an application level by using **requestedExecutionLevel** in the manifest, an administrator can enable or disable virtualization on a per-key basis for keys in **HKEY\_LOCAL\_MACHINE\\Software**.</span></span> <span data-ttu-id="9d7af-153">Verwenden Sie hierzu die Option Flags für Reg.exe Befehlszeilen-Hilfsprogramm mit den Flags, die in der folgenden Tabelle aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="9d7af-153">To do this, use the Reg.exe command-line utility FLAGS option with the flags listed in the following table.</span></span>



| <span data-ttu-id="9d7af-154">Flag</span><span class="sxs-lookup"><span data-stu-id="9d7af-154">Flag</span></span>                         | <span data-ttu-id="9d7af-155">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="9d7af-155">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                    |
|------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9d7af-156">REG \_ - \_ Schlüssel \_ \_ nicht unbeaufsichtigt</span><span class="sxs-lookup"><span data-stu-id="9d7af-156">REG\_KEY\_DONT\_SILENT\_FAIL</span></span> | <span data-ttu-id="9d7af-157">Dieses Flag deaktiviert die öffnende Registrierungsvirtualisierung.</span><span class="sxs-lookup"><span data-stu-id="9d7af-157">This flag disables open registry virtualization.</span></span> <span data-ttu-id="9d7af-158">Wenn dieses Flag festgelegt ist und ein Öffnungsvorgang für einen Schlüssel mit aktivierter Virtualisierung fehlschlägt, versucht die Registrierung nicht, den Schlüssel erneut zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-158">If this flag is set and an open operation fails on a key that has virtualization enabled, the registry does not attempt to reopen the key.</span></span> <span data-ttu-id="9d7af-159">Wenn dieses Flag eindeutig ist, versucht die Registrierung, den Schlüssel mit maximal zulässiger Zugriffsberechtigung erneut zu öffnen, \_ anstatt auf den angeforderten Zugriff zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-159">If this flag is clear, the registry attempts to reopen the key with MAXIMUM\_ALLOWED access instead of the requested access.</span></span>                                                                   |
| <span data-ttu-id="9d7af-160">REG- \_ Schlüssel nicht \_ \_ virtualisieren</span><span class="sxs-lookup"><span data-stu-id="9d7af-160">REG\_KEY\_DONT\_VIRTUALIZE</span></span>   | <span data-ttu-id="9d7af-161">Mit diesem Flag wird die Serialisierung der Schreib Registrierung deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="9d7af-161">This flag disables write registry virtualization.</span></span> <span data-ttu-id="9d7af-162">Wenn dieses Flag festgelegt ist und ein Vorgang zum Erstellen eines Schlüssels oder eines festgelegten Werts fehlschlägt, weil der Aufrufer nicht über ausreichende Zugriffsrechte für den übergeordneten Schlüssel verfügt, schlägt die Registrierung fehl.</span><span class="sxs-lookup"><span data-stu-id="9d7af-162">If this flag is set and a create key or set value operation fails because the caller does not have sufficient access right to the parent key, the registry fails the operation.</span></span> <span data-ttu-id="9d7af-163">Wenn dieses Flag eindeutig ist, versucht die Registrierung, den Schlüssel oder Wert im virtuellen Speicher zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-163">If this flag is clear, the registry attempts to write the key or value in the virtual store.</span></span> <span data-ttu-id="9d7af-164">Der Aufrufer muss über die Berechtigung zum Lesen des Schlüssels \_ für den übergeordneten Schlüssel verfügen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-164">The caller must have the KEY\_READ right on the parent key.</span></span> |
| <span data-ttu-id="9d7af-165">REG \_ Key \_ recurse- \_ Flag</span><span class="sxs-lookup"><span data-stu-id="9d7af-165">REG\_KEY\_RECURSE\_FLAG</span></span>      | <span data-ttu-id="9d7af-166">Wenn dieses Flag festgelegt ist, werden registrierungsvirtualisierungsflags aus dem übergeordneten Schlüssel weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-166">If this flag is set, registry virtualization flags are propagated from the parent key.</span></span> <span data-ttu-id="9d7af-167">Wenn dieses Flag eindeutig ist, werden die registrierungsvirtualisierungsflags nicht weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="9d7af-167">If this flag is clear, registry virtualization flags are not propagated.</span></span> <span data-ttu-id="9d7af-168">Das Ändern dieses Flags wirkt sich nur auf neue Nachfolger Schlüssel aus, die erstellt werden, nachdem das Flag geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="9d7af-168">Changing this flag affects only new descendent keys created after the flag is changed.</span></span> <span data-ttu-id="9d7af-169">Diese Flags für vorhandene Nachfolger Schlüssel werden nicht festgelegt oder deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="9d7af-169">It does not set or clear these flags for existing descendent keys.</span></span>                                                                  |



 

<span data-ttu-id="9d7af-170">Das folgende Beispiel zeigt die Verwendung des Befehlszeilen Dienstprogramms Reg.exe mit der Flags-Option, um den Status der virtualisierungsflags für einen Schlüssel abzufragen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-170">The following example shows the use of the Reg.exe command-line utility with the FLAGS option to query the state of the virtualization flags for a key.</span></span>

``` syntax
C:\>reg flags HKLM\Software\AppKey1 QUERY

HKEY_LOCAL_MACHINE\Software\AppKey1

        REG_KEY_DONT_VIRTUALIZE: CLEAR
        REG_KEY_DONT_SILENT_FAIL: CLEAR
        REG_KEY_RECURSE_FLAG: CLEAR

The operation completed successfully.
```

<span data-ttu-id="9d7af-171">Wenn die Überwachung für einen Schlüssel aktiviert ist, der virtualisiert wird, wird ein neues virtualisierungsprüfungs-Ereignis generiert, das angibt, dass der Schlüssel virtualisiert wird (zusätzlich zu den üblichen Überwachungs Ereignissen).</span><span class="sxs-lookup"><span data-stu-id="9d7af-171">Whenever auditing is enabled on a key that is being virtualized, a new virtualization audit event is generated to indicate that the key is being virtualized (addition to the usual audit events).</span></span> <span data-ttu-id="9d7af-172">Administratoren können diese Informationen verwenden, um den Status der Virtualisierung auf Ihren Systemen zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="9d7af-172">Administrators can use this information to monitor the status of virtualization on their systems.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9d7af-173">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="9d7af-173">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="9d7af-174">[Einstieg in die Benutzerkontensteuerung](/previous-versions/windows/it-pro/windows-vista/cc507861(v=technet.10))</span><span class="sxs-lookup"><span data-stu-id="9d7af-174">[Getting Started with User Account Control](/previous-versions/windows/it-pro/windows-vista/cc507861(v=technet.10))</span></span>
</dt> <dt>

<span data-ttu-id="9d7af-175">[Verstehen und Konfigurieren der Benutzerkontensteuerung](/previous-versions/windows/it-pro/windows-vista/cc709628(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="9d7af-175">[Understanding and Configuring User Account Control](/previous-versions/windows/it-pro/windows-vista/cc709628(v=ws.10))</span></span>
</dt> <dt>

<span data-ttu-id="9d7af-176">[Bewährte Methoden für Entwickler und Richtlinien für Anwendungen in einer Umgebung mit geringsten Rechten](/previous-versions/dotnet/articles/aa480150(v=msdn.10))</span><span class="sxs-lookup"><span data-stu-id="9d7af-176">[Developer Best Practices and Guidelines for Applications in a Least Privileged Environment](/previous-versions/dotnet/articles/aa480150(v=msdn.10))</span></span>
</dt> </dl>

 

 
