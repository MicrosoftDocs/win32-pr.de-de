---
description: Eine m&\# 215; n-Matrix ist ein Satz von Zahlen, der in m Zeilen und n Spalten angeordnet ist. Die folgende Abbildung zeigt mehrere Matrizen.
ms.assetid: 62215ae0-b095-42b2-911c-aa7607a8b61a
title: Matrixdarstellung von Transformationen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0577cae38c401e842cff2ff14179594f9118dfd2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103751336"
---
# <a name="matrix-representation-of-transformations"></a><span data-ttu-id="68bff-104">Matrixdarstellung von Transformationen</span><span class="sxs-lookup"><span data-stu-id="68bff-104">Matrix Representation of Transformations</span></span>

<span data-ttu-id="68bff-105">Eine *m × n* -Matrix ist ein Satz von Zahlen, der in *m* Zeilen und *n* Spalten angeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="68bff-105">An *m×n* matrix is a set of numbers arranged in *m* rows and *n* columns.</span></span> <span data-ttu-id="68bff-106">Die folgende Abbildung zeigt mehrere Matrizen.</span><span class="sxs-lookup"><span data-stu-id="68bff-106">The following illustration shows several matrices.</span></span>

![Darstellung von sechs Matrizen unterschiedlicher Dimensionen](images/aboutgdip05-art04.png)

<span data-ttu-id="68bff-108">Sie können zwei Matrizen derselben Größe hinzufügen, indem Sie einzelne Elemente hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="68bff-108">You can add two matrices of the same size by adding individual elements.</span></span> <span data-ttu-id="68bff-109">Die folgende Abbildung zeigt zwei Beispiele für das Hinzufügen von Matrizen.</span><span class="sxs-lookup"><span data-stu-id="68bff-109">The following illustration shows two examples of matrix addition.</span></span>

![Abbildung, die zeigt, wie Matrix Addition durchgeführt wird](images/aboutgdip05-art05.png)

<span data-ttu-id="68bff-111">Eine *m × n* -Matrix kann mit einer *n × p* -Matrix multipliziert werden, und das Ergebnis ist eine *m × p* -Matrix.</span><span class="sxs-lookup"><span data-stu-id="68bff-111">An *m×n* matrix can be multiplied by an *n×p* matrix, and the result is an *m×p* matrix.</span></span> <span data-ttu-id="68bff-112">Die Anzahl der Spalten in der ersten Matrix muss mit der Anzahl der Zeilen in der zweiten Matrix identisch sein.</span><span class="sxs-lookup"><span data-stu-id="68bff-112">The number of columns in the first matrix must be the same as the number of rows in the second matrix.</span></span> <span data-ttu-id="68bff-113">Beispielsweise kann eine 4 × 2-Matrix mit einer 2 × 3-Matrix multipliziert werden, um eine 4 × 3-Matrix zu schaffen.</span><span class="sxs-lookup"><span data-stu-id="68bff-113">For example, a 4 ×2 matrix can be multiplied by a 2 ×3 matrix to produce a 4 ×3 matrix.</span></span>

<span data-ttu-id="68bff-114">Punkte in der Ebene und die Zeilen und Spalten einer Matrix können als Vektoren betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="68bff-114">Points in the plane and rows and columns of a matrix can be thought of as vectors.</span></span> <span data-ttu-id="68bff-115">(2, 5) ist z. b. ein Vektor mit zwei Komponenten, und (3, 7, 1) ist ein Vektor mit drei Komponenten.</span><span class="sxs-lookup"><span data-stu-id="68bff-115">For example, (2, 5) is a vector with two components, and (3, 7, 1) is a vector with three components.</span></span> <span data-ttu-id="68bff-116">Das Punktprodukt von zwei Vektoren wird wie folgt definiert:</span><span class="sxs-lookup"><span data-stu-id="68bff-116">The dot product of two vectors is defined as follows:</span></span>

<span data-ttu-id="68bff-117">(a, b) • (c, d) = AC + BD</span><span class="sxs-lookup"><span data-stu-id="68bff-117">(a, b) • (c, d) = ac + bd</span></span>

<span data-ttu-id="68bff-118">(a, b, c) • (d, e, f) = AD + be + CF</span><span class="sxs-lookup"><span data-stu-id="68bff-118">(a, b, c) • (d, e, f) = ad + be + cf</span></span>

<span data-ttu-id="68bff-119">Beispielsweise ist das Punktprodukt von (2, 3) und (5, 4) (2) (5) + (3) (4) = 22.</span><span class="sxs-lookup"><span data-stu-id="68bff-119">For example, the dot product of (2, 3) and (5, 4) is (2)(5) + (3)(4) = 22.</span></span> <span data-ttu-id="68bff-120">Das Punktprodukt von (2, 5, 1) und (4, 3, 1) ist (2) (4) + (5) (3) + (1) (1) = 24.</span><span class="sxs-lookup"><span data-stu-id="68bff-120">The dot product of (2, 5, 1) and (4, 3, 1) is (2)(4) + (5)(3) + (1)(1) = 24.</span></span> <span data-ttu-id="68bff-121">Beachten Sie, dass es sich bei dem Punktprodukt zweier Vektoren um eine Zahl, nicht um einen anderen Vektor handelt.</span><span class="sxs-lookup"><span data-stu-id="68bff-121">Note that the dot product of two vectors is a number, not another vector.</span></span> <span data-ttu-id="68bff-122">Beachten Sie außerdem, dass Sie das Punktprodukt nur berechnen können, wenn die beiden Vektoren über die gleiche Anzahl von Komponenten verfügen.</span><span class="sxs-lookup"><span data-stu-id="68bff-122">Also note that you can calculate the dot product only if the two vectors have the same number of components.</span></span>

<span data-ttu-id="68bff-123">Let a (i, j) ist der Eintrag in Matrix A in der Zeile i **th** und in der **Spalte j.**</span><span class="sxs-lookup"><span data-stu-id="68bff-123">Let A(i, j) be the entry in matrix A in the i **th** row and the j **th** column.</span></span> <span data-ttu-id="68bff-124">Beispielsweise ist a (3, 2) der Eintrag in Matrix A in der 3-**RD** -Zeile und in **der Spalte 2.**</span><span class="sxs-lookup"><span data-stu-id="68bff-124">For example A(3, 2) is the entry in matrix A in the 3 **rd** row and the 2 **nd** column.</span></span> <span data-ttu-id="68bff-125">Angenommen, a, B und C sind Matrizen, und ab = c. Die Einträge von C werden wie folgt berechnet:</span><span class="sxs-lookup"><span data-stu-id="68bff-125">Suppose A, B, and C are matrices, and AB = C. The entries of C are calculated as follows:</span></span>

<span data-ttu-id="68bff-126">C (i, j) = (Zeile i von a) • (Spalte j von B)</span><span class="sxs-lookup"><span data-stu-id="68bff-126">C(i, j) = (row i of A) • (column j of B)</span></span>

<span data-ttu-id="68bff-127">Die folgende Abbildung zeigt mehrere Beispiele für die Matrix Multiplikation.</span><span class="sxs-lookup"><span data-stu-id="68bff-127">The following illustration shows several examples of matrix multiplication.</span></span>

![Darstellung der Matrix Multiplikation](images/aboutgdip05-art06.png)

<span data-ttu-id="68bff-129">Wenn Sie sich einen Punkt in der Ebene als 1 × 2-Matrix vorstellen, können Sie diesen Punkt transformieren, indem Sie ihn mit einer 2 × 2-Matrix multiplizieren.</span><span class="sxs-lookup"><span data-stu-id="68bff-129">If you think of a point in the plane as a 1 × 2 matrix, you can transform that point by multiplying it by a 2 × 2 matrix.</span></span> <span data-ttu-id="68bff-130">Die folgende Abbildung zeigt mehrere Transformationen, die auf den Punkt (2, 1) angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="68bff-130">The following illustration shows several transformations applied to the point (2, 1).</span></span>

![Abbildung, die zeigt, wie die Matrix Multiplikation verwendet wird, um einen Punkt in einer Ebene zu skalieren, zu drehen oder wiederzugeben](images/aboutgdip05-art07.png)

<span data-ttu-id="68bff-132">Alle in der vorherigen Abbildung gezeigten Transformationen sind lineare Transformationen.</span><span class="sxs-lookup"><span data-stu-id="68bff-132">All the transformations shown in the previous figure are linear transformations.</span></span> <span data-ttu-id="68bff-133">Bestimmte andere Transformationen, z. b. die Übersetzung, sind nicht linear und können nicht durch eine 2 × 2-Matrix als Multiplikation ausgedrückt werden.</span><span class="sxs-lookup"><span data-stu-id="68bff-133">Certain other transformations, such as translation, are not linear, and cannot be expressed as multiplication by a 2 × 2 matrix.</span></span> <span data-ttu-id="68bff-134">Angenommen, Sie möchten mit dem Punkt (2, 1) beginnen, ihn um 90 Grad drehen, 3 Einheiten in die x-Richtung übersetzen und vier Einheiten in y-Richtung übersetzen.</span><span class="sxs-lookup"><span data-stu-id="68bff-134">Suppose you want to start with the point (2, 1), rotate it 90 degrees, translate it 3 units in the x direction, and translate it 4 units in the y direction.</span></span> <span data-ttu-id="68bff-135">Dies erreichen Sie, indem Sie eine Matrix Multiplikation ausführen, gefolgt von einer Matrix Addition.</span><span class="sxs-lookup"><span data-stu-id="68bff-135">You can accomplish this by performing a matrix multiplication followed by a matrix addition.</span></span>

![Abbildung, die zeigt, wie die Matrix Multiplikation und Addition einen Punkt drehen und zweimal übersetzen können](images/aboutgdip05-art08.png)

<span data-ttu-id="68bff-137">Eine lineare Transformation (Multiplikation durch eine 2 × 2-Matrix), gefolgt von einer Übersetzung (Addition einer 1 × 2-Matrix), wird als affine Transformation bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="68bff-137">A linear transformation (multiplication by a 2 × 2 matrix) followed by a translation (addition of a 1 × 2 matrix) is called an affine transformation.</span></span> <span data-ttu-id="68bff-138">Eine Alternative zum Speichern einer affinen Transformation in einem Matrizen-Paar (eines für den linearen Teil und eines für die Übersetzung) ist das Speichern der gesamten Transformation in einer 3 × 3-Matrix.</span><span class="sxs-lookup"><span data-stu-id="68bff-138">An alternative to storing an affine transformation in a pair of matrices (one for the linear part and one for the translation) is to store the entire transformation in a 3 × 3 matrix.</span></span> <span data-ttu-id="68bff-139">Um dies zu ermöglichen, muss ein Punkt in der Ebene in einer 1 × 3-Matrix mit einer Dummy-Dritt-Koordinate gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="68bff-139">To make this work, a point in the plane must be stored in a 1 × 3 matrix with a dummy 3rd coordinate.</span></span> <span data-ttu-id="68bff-140">Die übliche Vorgehensweise besteht darin, alle Dritt-Koordinaten gleich 1 zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="68bff-140">The usual technique is to make all 3rd coordinates equal to 1.</span></span> <span data-ttu-id="68bff-141">Der Punkt (2, 1) wird z. b. durch die Matrix \[ 2 1 1 dargestellt \] .</span><span class="sxs-lookup"><span data-stu-id="68bff-141">For example, the point (2, 1) is represented by the matrix \[2 1 1\].</span></span> <span data-ttu-id="68bff-142">Die folgende Abbildung zeigt eine affine Transformation (Drehen von 90 Grad) und übersetzt 3 Einheiten in der x-Richtung, 4 Einheiten in der y-Richtung), die durch eine einzelne 3 × 3-Matrix als Multiplikation ausgedrückt werden.</span><span class="sxs-lookup"><span data-stu-id="68bff-142">The following illustration shows an affine transformation (rotate 90 degrees; translate 3 units in the x direction, 4 units in the y direction) expressed as multiplication by a single 3 × 3 matrix.</span></span>

![Abbildung, die zeigt, wie die Matrix Multiplikation eine affine Transformation ausführen kann](images/aboutgdip05-art09.png)

<span data-ttu-id="68bff-144">Im vorherigen Beispiel wird der Punkt (2, 1) dem Punkt (2, 6) zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="68bff-144">In the previous example, the point (2, 1) is mapped to the point (2, 6).</span></span> <span data-ttu-id="68bff-145">Beachten Sie, dass die dritte Spalte der 3 × 3-Matrix die Zahlen 0, 0, 1 enthält.</span><span class="sxs-lookup"><span data-stu-id="68bff-145">Note that the third column of the 3 × 3 matrix contains the numbers 0, 0, 1.</span></span> <span data-ttu-id="68bff-146">Dies ist immer die Groß-/Kleinschreibung für die 3 × 3-Matrix einer affinen Transformation.</span><span class="sxs-lookup"><span data-stu-id="68bff-146">This will always be the case for the 3 × 3 matrix of an affine transformation.</span></span> <span data-ttu-id="68bff-147">Die wichtigsten Zahlen sind die sechs Zahlen in den Spalten 1 und 2.</span><span class="sxs-lookup"><span data-stu-id="68bff-147">The important numbers are the six numbers in columns 1 and 2.</span></span> <span data-ttu-id="68bff-148">Der obere linke 2 × 2-Teil der Matrix stellt den linearen Teil der Transformation dar, und die ersten beiden Einträge in der dritten Zeile stellen die Übersetzung dar.</span><span class="sxs-lookup"><span data-stu-id="68bff-148">The upper-left 2 × 2 portion of the matrix represents the linear part of the transformation, and the first two entries in the 3rd row represent the translation.</span></span>

![Abbildung, die anzeigt, dass die ersten beiden Spalten für eine 3X3-Matrix einer affinen Transformation am signifikantesten sind](images/aboutgdip05-art10.png)

<span data-ttu-id="68bff-150">In Windows GDI+ können Sie eine affine Transformation in einem [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) Objekt speichern.</span><span class="sxs-lookup"><span data-stu-id="68bff-150">In Windows GDI+ you can store an affine transformation in a [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span> <span data-ttu-id="68bff-151">Da die dritte Spalte einer Matrix, die eine affine-Transformation darstellt, immer (0, 0, 1) ist, geben Sie nur die sechs Zahlen in den ersten beiden Spalten an, wenn Sie ein **Matrix** Objekt erstellen.</span><span class="sxs-lookup"><span data-stu-id="68bff-151">Because the third column of a matrix that represents an affine transformation is always (0, 0, 1), you specify only the six numbers in the first two columns when you construct a **Matrix** object.</span></span> <span data-ttu-id="68bff-152">Die-Anweisung erstellt `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` die in der vorherigen Abbildung gezeigte Matrix.</span><span class="sxs-lookup"><span data-stu-id="68bff-152">The statement `Matrix myMatrix(0.0f, 1.0f, -1.0f, 0.0f, 3.0f, 4.0f);` constructs the matrix shown in the previous figure.</span></span>

## <a name="composite-transformations"></a><span data-ttu-id="68bff-153">Zusammengesetzte Transformationen</span><span class="sxs-lookup"><span data-stu-id="68bff-153">Composite Transformations</span></span>

<span data-ttu-id="68bff-154">Eine zusammengesetzte Transformation ist eine Sequenz von Transformationen, von denen eine nacheinander folgt.</span><span class="sxs-lookup"><span data-stu-id="68bff-154">A composite transformation is a sequence of transformations, one followed by the other.</span></span> <span data-ttu-id="68bff-155">Beachten Sie die Matrizen und Transformationen in der folgenden Liste:</span><span class="sxs-lookup"><span data-stu-id="68bff-155">Consider the matrices and transformations in the following list:</span></span>

-   <span data-ttu-id="68bff-156">Matrix Drehung um 90 Grad</span><span class="sxs-lookup"><span data-stu-id="68bff-156">Matrix A    Rotate 90 degrees</span></span>
-   <span data-ttu-id="68bff-157">Matrix B Skalieren mit dem Faktor 2 in der x-Richtung</span><span class="sxs-lookup"><span data-stu-id="68bff-157">Matrix B    Scale by a factor of 2 in the x direction</span></span>
-   <span data-ttu-id="68bff-158">Matrix C übersetzt 3 Einheiten in y-Richtung.</span><span class="sxs-lookup"><span data-stu-id="68bff-158">Matrix C    Translate 3 units in the y direction</span></span>

<span data-ttu-id="68bff-159">Wenn Sie mit dem Punkt (2, 1) – dargestellt durch die Matrix \[ 2 1 1 \] – und Multiplizieren von a, dann C, wird der Punkt (2, 1) die drei Transformationen in der aufgelisteten Reihenfolge durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="68bff-159">If you start with the point (2, 1) — represented by the matrix \[2 1 1\] — and multiply by A, then B, then C, the point (2,1) will undergo the three transformations in the order listed.</span></span>

<span data-ttu-id="68bff-160">\[2 1 1 \] ABC = \[ – 2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="68bff-160">\[2 1 1\]ABC = \[ –2 5 1\]</span></span>

<span data-ttu-id="68bff-161">Anstatt die drei Teile der zusammengesetzten Transformation in drei separaten Matrizen zu speichern, können Sie a, B und C zusammen multiplizieren, um eine einzelne 3 × 3-Matrix zu erhalten, in der die gesamte zusammengesetzte Transformation gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="68bff-161">Rather than store the three parts of the composite transformation in three separate matrices, you can multiply A, B, and C together to get a single 3 × 3 matrix that stores the entire composite transformation.</span></span> <span data-ttu-id="68bff-162">Angenommen, ABC = D. Ein Punkt, der mit D multipliziert ist, gibt das gleiche Ergebnis wie ein Punkt multipliziert mit a, dann B und dann C.</span><span class="sxs-lookup"><span data-stu-id="68bff-162">Suppose ABC = D. Then a point multiplied by D gives the same result as a point multiplied by A, then B, then C.</span></span>

<span data-ttu-id="68bff-163">\[2 1 1 \] D = \[ – 2 5 1\]</span><span class="sxs-lookup"><span data-stu-id="68bff-163">\[2 1 1\]D = \[ –2 5 1\]</span></span>

<span data-ttu-id="68bff-164">Die folgende Abbildung zeigt die Matrizen A, B, C und D.</span><span class="sxs-lookup"><span data-stu-id="68bff-164">The following illustration shows the matrices A, B, C, and D.</span></span>

![Darstellung der Durchführung mehrerer Transformationen durch Multiplizieren der einzelnen Matrizen](images/aboutgdip05-art12.png)

<span data-ttu-id="68bff-166">Die Tatsache, dass die Matrix einer zusammengesetzten Transformation durch Multiplizieren der einzelnen Transformations Matrizen gebildet werden kann, bedeutet, dass jede Sequenz von affinen Transformationen in einem einzelnen [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) Objekt gespeichert werden kann.</span><span class="sxs-lookup"><span data-stu-id="68bff-166">The fact that the matrix of a composite transformation can be formed by multiplying the individual transformation matrices means that any sequence of affine transformations can be stored in a single [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) object.</span></span>

> [!Note]  
> <span data-ttu-id="68bff-167">Die Reihenfolge einer zusammengesetzten Transformation ist wichtig.</span><span class="sxs-lookup"><span data-stu-id="68bff-167">The order of a composite transformation is important.</span></span> <span data-ttu-id="68bff-168">Im Allgemeinen ist die Drehung, Skalierung und Übersetzung nicht dasselbe wie die Skalierung, dann drehen und übersetzen.</span><span class="sxs-lookup"><span data-stu-id="68bff-168">In general, rotate, then scale, then translate is not the same as scale, then rotate, then translate.</span></span> <span data-ttu-id="68bff-169">Ebenso ist die Reihenfolge der Matrix Multiplikation wichtig.</span><span class="sxs-lookup"><span data-stu-id="68bff-169">Similarly, the order of matrix multiplication is important.</span></span> <span data-ttu-id="68bff-170">Im Allgemeinen ist ABC nicht mit der Bac identisch.</span><span class="sxs-lookup"><span data-stu-id="68bff-170">In general, ABC is not the same as BAC.</span></span>

 

<span data-ttu-id="68bff-171">Die [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) Klasse bietet mehrere Methoden zum Aufbauen einer zusammengesetzten Transformation: [**Matrix:: Multiplizieren**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix:: Rotation**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix:: RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix:: Scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix:: Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear)und [**Matrix:: Translation**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span><span class="sxs-lookup"><span data-stu-id="68bff-171">The [**Matrix**](/windows/desktop/api/gdiplusmatrix/nl-gdiplusmatrix-matrix) class provides several methods for building a composite transformation: [**Matrix::Multiply**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-multiply), [**Matrix::Rotate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotate), [**Matrix::RotateAt**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-rotateat), [**Matrix::Scale**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-scale), [**Matrix::Shear**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-shear), and [**Matrix::Translate**](/windows/desktop/api/Gdiplusmatrix/nf-gdiplusmatrix-matrix-translate).</span></span> <span data-ttu-id="68bff-172">Im folgenden Beispiel wird die Matrix einer zusammengesetzten Transformation erstellt, die zuerst 30 Grad rotiert, dann mit einem Faktor von 2 in der y-Richtung skaliert und dann 5 Einheiten in der x-Richtung übersetzt.</span><span class="sxs-lookup"><span data-stu-id="68bff-172">The following example creates the matrix of a composite transformation that first rotates 30 degrees, then scales by a factor of 2 in the y direction, and then translates 5 units in the x direction.</span></span>


```
Matrix myMatrix;
myMatrix.Rotate(30.0f);
myMatrix.Scale(1.0f, 2.0f, MatrixOrderAppend);
myMatrix.Translate(5.0f, 0.0f, MatrixOrderAppend);
```



<span data-ttu-id="68bff-173">Die folgende Abbildung zeigt die Matrix.</span><span class="sxs-lookup"><span data-stu-id="68bff-173">The following illustration shows the matrix.</span></span>

![die Abbildung zeigt eine Matrix mit Werten, die als drei-und-Werte ausgedrückt werden, und eine Matrix mit ungefähren Werten dieser Funktionen.](images/aboutgdip05-art13.png)

 

 



