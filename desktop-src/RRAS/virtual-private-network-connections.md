---
title: Verbindungen mit einem virtuellen privaten Netzwerk
description: Der RAS-Dienst (RAS) unterstützt neben herkömmlichen RAS-Verbindungen auch VPN-Verbindungen (Virtual Private Network), die Point-to-Point-Protokoll (PPP) verwenden.
ms.assetid: c1195ebb-3107-4429-bc67-b64577d66268
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09f5fc0b80a6eb00e7587e941eea39c056a11d14
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104039104"
---
# <a name="virtual-private-network-connections"></a><span data-ttu-id="a0457-103">Verbindungen mit einem virtuellen privaten Netzwerk</span><span class="sxs-lookup"><span data-stu-id="a0457-103">Virtual Private Network Connections</span></span>

<span data-ttu-id="a0457-104">Der RAS-Dienst (RAS) unterstützt neben herkömmlichen RAS-Verbindungen auch VPN-Verbindungen (Virtual Private Network), die Point-to-Point-Protokoll (PPP) verwenden.</span><span class="sxs-lookup"><span data-stu-id="a0457-104">The Remote Access Service (RAS) supports Virtual Private Network (VPN) connections in addition to conventional remote access connections that use Point-to-Point Protocol (PPP).</span></span> <span data-ttu-id="a0457-105">In einer VPN-Verbindung werden die VPN-Pakete in IP-Paketen gekapselt und über ein IP-Netzwerk, z. b. das Internet, gesendet.</span><span class="sxs-lookup"><span data-stu-id="a0457-105">In a VPN connection, the VPN packets are encapsulated in IP packets and sent across an IP network such as the Internet.</span></span> <span data-ttu-id="a0457-106">Daher ist der Zugriff auf ein IP-Netzwerk erforderlich, um eine VPN-Verbindung herzustellen.</span><span class="sxs-lookup"><span data-stu-id="a0457-106">Therefore, access to an IP network is a requirement in order to establish a VPN connection.</span></span> <span data-ttu-id="a0457-107">Wenn der Client Computer über eine Always on-Verbindung mit einem IP-Netzwerk verfügt, z. b. eine Verbindung mit einem IP-LAN, kann der Client die VPN-Verbindung mithilfe eines einzelnen Aufrufes der Funktion " [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) " herstellen.</span><span class="sxs-lookup"><span data-stu-id="a0457-107">If the client computer has an always-on connection to an IP network, for example a connection to an IP LAN, the client can establish the VPN connection using a single call to the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function.</span></span>

<span data-ttu-id="a0457-108">Wenn der Client Computer nicht über eine Always on-Verbindung mit einem IP-Netzwerk verfügt, sind zwei Aufrufe von " [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) " erforderlich, um die VPN-Verbindung herzustellen.</span><span class="sxs-lookup"><span data-stu-id="a0457-108">If the client computer does not have an always-on connection to an IP network, two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) are required to establish the VPN connection.</span></span> <span data-ttu-id="a0457-109">Der erste-Befehl richtet eine DFÜ-Verbindung zum IP-Netzwerk ein. mit dem zweiten-Rückruf wird die VPN-Verbindung hergestellt.</span><span class="sxs-lookup"><span data-stu-id="a0457-109">The first call establishes a dial-up connection to the IP network; the second call establishes the VPN connection.</span></span>

<span data-ttu-id="a0457-110">Der **szlocalphonenumber** -Member der [**rasentry**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) -Struktur für die VPN-Verbindung muss entweder den DNS-Namen oder die IP-Adresse des VPN-Zielservers enthalten.</span><span class="sxs-lookup"><span data-stu-id="a0457-110">The **szLocalPhoneNumber** member of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure for the VPN connection should contain either the DNS name or IP address of the destination VPN server.</span></span>

<span data-ttu-id="a0457-111">Jede Verbindung erfordert einen separaten [Telefonbuch](ras-phone-books.md) Eintrag.</span><span class="sxs-lookup"><span data-stu-id="a0457-111">Each connection requires a separate [phone-book](ras-phone-books.md) entry.</span></span> <span data-ttu-id="a0457-112">Der erste Aufrufs von " [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) " gibt den Telefonbucheintrag für das IP-Netzwerk an.</span><span class="sxs-lookup"><span data-stu-id="a0457-112">The first call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) specifies the phone-book entry for the IP network.</span></span> <span data-ttu-id="a0457-113">Der zweite Anruf gibt den Telefonbucheintrag für das VPN an.</span><span class="sxs-lookup"><span data-stu-id="a0457-113">The second call specifies the phone-book entry for the VPN.</span></span>

<span data-ttu-id="a0457-114">Die Funktion " [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) " übernimmt einen Zeiger auf eine " [**rasdialparameams**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) "-Struktur als Parameter.</span><span class="sxs-lookup"><span data-stu-id="a0457-114">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function takes a pointer to a [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure as a parameter.</span></span> <span data-ttu-id="a0457-115">Diese Struktur gibt die Anmelde Informationen für die Authentifizierung an, die für das durch den Telefonbucheintrag angegebene Netzwerk verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a0457-115">This structure specifies the authentication credentials to use for the network specified by the phone-book entry.</span></span> <span data-ttu-id="a0457-116">Die für den Zugriff auf das IP-Netzwerk erforderlichen Anmelde Informationen unterscheiden sich in der Regel von denen für das VPN.</span><span class="sxs-lookup"><span data-stu-id="a0457-116">The credentials required to access the IP network are typically different from those for the VPN.</span></span> <span data-ttu-id="a0457-117">Beim ersten Aufrufe von " **rasdial** " sollten Anmelde Informationen für das IP-Netzwerk angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="a0457-117">The first call to **RasDial** should specify credentials for the IP network.</span></span> <span data-ttu-id="a0457-118">Der zweite-Befehl sollte Anmelde Informationen für das VPN angeben.</span><span class="sxs-lookup"><span data-stu-id="a0457-118">The second call should specify credentials for the VPN.</span></span>

<span data-ttu-id="a0457-119">Wenn die Funktion " [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) " erfolgreich ist, gibt Sie ein Handle für die Verbindung zurück.</span><span class="sxs-lookup"><span data-stu-id="a0457-119">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function is successful, it returns a handle for the connection.</span></span> <span data-ttu-id="a0457-120">Verwenden Sie dieses Handle in einem aufzurufenden [**rashangup**](/windows/desktop/api/Ras/nf-ras-rashangupa) -Befehl, um die Verbindung zu beenden.</span><span class="sxs-lookup"><span data-stu-id="a0457-120">Use this handle in a call to [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) to terminate the connection.</span></span>

<span data-ttu-id="a0457-121">Im vorangehenden Szenario geben die beiden Aufrufe von [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) separate Verbindungs Handles für das IP-Netzwerk und das VPN zurück.</span><span class="sxs-lookup"><span data-stu-id="a0457-121">In the preceding scenario, the two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) return separate connection handles for the IP network and the VPN.</span></span> <span data-ttu-id="a0457-122">Wenn Sie [**rashangup**](/windows/desktop/api/Ras/nf-ras-rashangupa) mit dem Handle für die VPN-Verbindung aufrufen, wird die VPN-Verbindung beendet, die Verbindung mit dem IP-Netzwerk bleibt jedoch erhalten.</span><span class="sxs-lookup"><span data-stu-id="a0457-122">Calling [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) with the handle for the VPN connection terminates the VPN connection but leaves the connection to the IP network intact.</span></span>

 

 