---
title: Informationen zu RAS-Verwaltungs-DLLs
description: Die RAS-Verwaltungs-dll exportiert Funktionen, die der RAS-Server aufruft, wenn ein Benutzer versucht, eine Verbindung herzustellen oder diese zu trennen
ms.assetid: c15c6e2d-3bb6-4583-9ac3-19528feb863f
keywords:
- RAS-Administration-RRAS, RAS-Verwaltungs-dll
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1cb170e8cfa331ab9591aa509772c6f6a743fa49
ms.sourcegitcommit: cba7f424a292fd7f3a8518947b9466439b455419
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/23/2019
ms.locfileid: "104516532"
---
# <a name="about-ras-administration-dlls"></a><span data-ttu-id="32cd2-104">Informationen zu RAS-Verwaltungs-DLLs</span><span class="sxs-lookup"><span data-stu-id="32cd2-104">About RAS administration DLLs</span></span>

<span data-ttu-id="32cd2-105">Die RAS-Verwaltungs-dll exportiert Funktionen, die der RAS-Server aufruft, wenn ein Benutzer versucht, eine Verbindung herzustellen oder diese zu trennen</span><span class="sxs-lookup"><span data-stu-id="32cd2-105">The RAS Administration DLL exports functions that the RAS server calls whenever a user tries to connect or disconnect.</span></span> <span data-ttu-id="32cd2-106">Im folgenden finden Sie einige der möglichen Verwendungsmöglichkeiten für eine RAS-Verwaltungs-dll:</span><span class="sxs-lookup"><span data-stu-id="32cd2-106">Here are some of the possible uses for a RAS administration DLL:</span></span>

-   <span data-ttu-id="32cd2-107">Entscheiden Sie, ob ein Benutzer eine Verbindung mit dem Server herstellen darf.</span><span class="sxs-lookup"><span data-stu-id="32cd2-107">Decide whether to allow a user to connect to the server.</span></span> <span data-ttu-id="32cd2-108">Die Verwaltungs-dll kann zusätzlich zur standardmäßigen RAS-Benutzerauthentifizierung eine Sicherheitsüberprüfung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="32cd2-108">The administration DLL can provide a security check in addition to the standard RAS user authentication.</span></span>
-   <span data-ttu-id="32cd2-109">Notieren Sie sich die Zeit, mit der die einzelnen Benutzer eine Verbindung mit dem Server herstellen und die Verbindung trennen.</span><span class="sxs-lookup"><span data-stu-id="32cd2-109">Record the time that each user connects to and disconnects from the server.</span></span> <span data-ttu-id="32cd2-110">Dies kann für Abrechnungs-oder Überwachungszwecke nützlich sein.</span><span class="sxs-lookup"><span data-stu-id="32cd2-110">This can be useful for billing or auditing purposes.</span></span>
-   <span data-ttu-id="32cd2-111">Weisen Sie jedem Benutzer eine IP-Adresse zu.</span><span class="sxs-lookup"><span data-stu-id="32cd2-111">Assign an IP address to each user.</span></span> <span data-ttu-id="32cd2-112">Dies ist für die Sicherheit nützlich, da diese Funktion verwendet wird, um die Verbindung eines Benutzers zu einem bestimmten Computer zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="32cd2-112">This is useful for security, because this feature is used to map a user's connection to a specific computer.</span></span>

<span data-ttu-id="32cd2-113">Der Speicherort der RAS-Verwaltungs-dll wird in der Registrierung angegeben. Weitere Informationen finden Sie unter [Registrierungs Einrichtung der RAS-Verwaltung](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="32cd2-113">The location of the RAS Administration DLL is specified in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="32cd2-114">RAS unterstützt mehrere DLLs für die Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="32cd2-114">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="32cd2-115">Die Registrierung unterstützt mehrere dll-Speicherorte.</span><span class="sxs-lookup"><span data-stu-id="32cd2-115">The registry supports multiple DLL locations.</span></span> <span data-ttu-id="32cd2-116">RAS Ruft die Funktionen in den DLLs in der Reihenfolge auf, in der die DLLs in der Registrierung aufgeführt sind. Weitere Informationen finden Sie unter [Registrierungs Einrichtung der RAS-Verwaltung](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="32cd2-116">RAS calls the functions in the DLLs in the order in which the DLLs are listed in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="32cd2-117">**Windows 2000-Server:** RAS unterstützt nicht mehrere DLLs.</span><span class="sxs-lookup"><span data-stu-id="32cd2-117">**Windows 2000 Server:** RAS does not support multiple DLLs.</span></span>

<span data-ttu-id="32cd2-118">Eine RAS-Verwaltungs-dll muss alle folgenden Funktionen implementieren und exportieren:</span><span class="sxs-lookup"><span data-stu-id="32cd2-118">A RAS administration DLL must implement and export all of the following functions:</span></span>

[<span data-ttu-id="32cd2-119">**Mpradminakzeptnewlink**</span><span class="sxs-lookup"><span data-stu-id="32cd2-119">**MprAdminAcceptNewLink**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink)

[<span data-ttu-id="32cd2-120">**Mpradmininitializedll**</span><span class="sxs-lookup"><span data-stu-id="32cd2-120">**MprAdminInitializeDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll)

[<span data-ttu-id="32cd2-121">**Mpradminlinkhangupnotification**</span><span class="sxs-lookup"><span data-stu-id="32cd2-121">**MprAdminLinkHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification)

[<span data-ttu-id="32cd2-122">**Mpradminterminatedll**</span><span class="sxs-lookup"><span data-stu-id="32cd2-122">**MprAdminTerminateDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll)

<span data-ttu-id="32cd2-123">Außerdem muss die RAS-Verwaltungs-dll entweder implementieren und exportieren.</span><span class="sxs-lookup"><span data-stu-id="32cd2-123">In addition, the RAS administration DLL must implement and export either</span></span>

<span data-ttu-id="32cd2-124">[**Mpradminakzeptnewconnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) und</span><span class="sxs-lookup"><span data-stu-id="32cd2-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and</span></span>

[<span data-ttu-id="32cd2-125">**Mpradminconnectionhangupnotification**</span><span class="sxs-lookup"><span data-stu-id="32cd2-125">**MprAdminConnectionHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification)

<span data-ttu-id="32cd2-126">oder</span><span class="sxs-lookup"><span data-stu-id="32cd2-126">or</span></span>

<span data-ttu-id="32cd2-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) und</span><span class="sxs-lookup"><span data-stu-id="32cd2-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and</span></span>

[<span data-ttu-id="32cd2-128">**MprAdminConnectionHangupNotification2**</span><span class="sxs-lookup"><span data-stu-id="32cd2-128">**MprAdminConnectionHangupNotification2**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2)

<span data-ttu-id="32cd2-129">Wenn alle erforderlichen Funktionen nicht implementiert sind, kann RAS nicht gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="32cd2-129">If all of the required functions are not implemented, RAS fails to start.</span></span>

<span data-ttu-id="32cd2-130">**Windows 2000-Server:** Eine Verwaltungs-dll muss die [**mpradmingetipaddressforuser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) -und [**mpradminreleaseipaddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) -Funktionen implementieren.</span><span class="sxs-lookup"><span data-stu-id="32cd2-130">**Windows 2000 Server:** An administration DLL must implement the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions.</span></span> <span data-ttu-id="32cd2-131">Wenn die DLL eine dieser Funktionen implementiert, muss Sie auch die andere implementieren.</span><span class="sxs-lookup"><span data-stu-id="32cd2-131">If the DLL implements one of these functions it must implement the other as well.</span></span>

<span data-ttu-id="32cd2-132">RAS Ruft die [**mpradmininitializedll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) -Funktion auf, wenn der Routing-und RAS-Dienst zum ersten Mal gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-132">RAS calls the [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) function when the Routing and Remote Access Service first starts up.</span></span> <span data-ttu-id="32cd2-133">Die **mpradmininitializedll** -Funktion bietet die Möglichkeit, dass die Verwaltungs-dll jede erforderliche Initialisierung durchführen kann.</span><span class="sxs-lookup"><span data-stu-id="32cd2-133">The **MprAdminInitializeDll** function provides an opportunity for the administration DLL to do any necessary initialization.</span></span> <span data-ttu-id="32cd2-134">Ebenso ruft RAS den [**mpradminterminatedll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) -Dienst auf, wenn der Routing-und RAS-Dienst heruntergefahren wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-134">Similarly, RAS calls the [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) service when the Routing and Remote Access Service shuts down.</span></span> <span data-ttu-id="32cd2-135">Mit dieser Funktion kann die Verwaltungs-dll alle notwendigen Bereinigungs Vorgänge ausführen, bevor Sie beendet wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-135">This function allows the administration DLL to perform any necessary cleanup before exiting.</span></span>

<span data-ttu-id="32cd2-136">Die Funktionen [**mpradminaccept tnewconnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) und [**mpradminconnectionhangupnotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) ermöglichen der dll, Benutzer Verbindungen mit dem Server zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="32cd2-136">The [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) functions enable the DLL to audit user connections to the server.</span></span> <span data-ttu-id="32cd2-137">Ein RAS-Server Ruft die **mpradminakzeptnewconnection** -Funktion auf, wenn ein Benutzer versucht, eine Verbindung herzustellen.</span><span class="sxs-lookup"><span data-stu-id="32cd2-137">A RAS server calls the **MprAdminAcceptNewConnection** function whenever a user tries to connect.</span></span> <span data-ttu-id="32cd2-138">Mit dieser Funktion kann verhindert werden, dass der Benutzer eine Verbindung herstellt.</span><span class="sxs-lookup"><span data-stu-id="32cd2-138">This function makes it possible to prevent the user from connecting.</span></span> <span data-ttu-id="32cd2-139">Die **mpradminaccept tnewconnection** -Funktion kann auch Protokolleinträge für die Abrechnung oder Überwachung generieren.</span><span class="sxs-lookup"><span data-stu-id="32cd2-139">The **MprAdminAcceptNewConnection** function could also generate log entries for billing or auditing.</span></span> <span data-ttu-id="32cd2-140">Wenn der Benutzer die Verbindung trennt, ruft der RAS-Server die **mpradminconnectionhangupnotification** -Funktion auf, die die Uhrzeit protokollieren kann, zu der der Benutzer die Verbindung getrennt hat.</span><span class="sxs-lookup"><span data-stu-id="32cd2-140">When the user disconnects, the RAS server calls the **MprAdminConnectionHangupNotification** function, which can log the time at which the user disconnected.</span></span>

<span data-ttu-id="32cd2-141">Die [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) -Funktion und die [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) -Funktion ähneln **mpradminaccept tnewconnection** und [**mpradminconnectionhangupnotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span><span class="sxs-lookup"><span data-stu-id="32cd2-141">The [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) functions are similar to **MprAdminAcceptNewConnection** and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span></span> <span data-ttu-id="32cd2-142">Wenn jedoch die **MprAdminAcceptNewConnection2** -Funktion und die **MprAdminConnectionHangupNotification2** -Funktion von RAS aufgerufen wird, übergibt RAS einen zusätzlichen Parameter vom Typ [**RAS- \_ Verbindung \_ 2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span><span class="sxs-lookup"><span data-stu-id="32cd2-142">However, when RAS calls the **MprAdminAcceptNewConnection2** and **MprAdminConnectionHangupNotification2** functions, RAS passes in an additional parameter of type [**RAS\_CONNECTION\_2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span></span>

<span data-ttu-id="32cd2-143">RAS unterstützt mehrere DLLs für die Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="32cd2-143">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="32cd2-144">Der Remote Zugriffs Benutzer darf nur dann eine Verbindung herstellen, wenn die Implementierung der [**mpradminaccept tnewconnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) -Funktion oder der [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) -Funktion in jeder der DLLs die Verbindung akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="32cd2-144">The remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="32cd2-145">Anders ausgedrückt muss jede dll die Verbindung akzeptieren, damit der Benutzer eine Verbindung herstellen darf.</span><span class="sxs-lookup"><span data-stu-id="32cd2-145">In other words, every DLL must accept the connection in order for the user to be allowed to connect.</span></span>

<span data-ttu-id="32cd2-146">Es ist möglich, dass eine einzelne RAS-Verbindung beim Herstellen einer Verbindung mit einem RAS-Server mehrere Verknüpfungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="32cd2-146">It is possible for a single RAS connection to use multiple links when connecting to a RAS server.</span></span> <span data-ttu-id="32cd2-147">Die Funktionen [**mpradminaccept tnewlink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) und [**mpradminlinkhangupnotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) ermöglichen es der Verwaltungs-dll, einzelne Verknüpfungen in einer Verbindung zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="32cd2-147">The [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) and [**MprAdminLinkHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) functions make it possible for the Administration DLL to manage individual links in a connection.</span></span> <span data-ttu-id="32cd2-148">RAS ruft **mpradminakzeptnewlink** auf, wenn ein neuer Link für eine Verbindung eingerichtet wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-148">RAS calls **MprAdminAcceptNewLink** whenever a new link is established for a connection.</span></span> <span data-ttu-id="32cd2-149">Da alle Verbindungen mindestens einen Link umfassen, ruft RAS immer sofort **mpradminakzeptnewlink** auf, sobald [**mpradminaccept tnewconnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) oder [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) zurückgegeben wurde, vorausgesetzt, dass [**mpradminakzeptnewconnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) oder [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) die Verbindung akzeptiert hat.</span><span class="sxs-lookup"><span data-stu-id="32cd2-149">Because all connections involve at least one link, RAS always calls **MprAdminAcceptNewLink** once immediately after [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) returns, provided that [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) accepted the connection.</span></span> <span data-ttu-id="32cd2-150">RAS ruft **mpradminlinkhangupnotification** immer dann auf, wenn ein Link für eine Verbindung heruntergefahren wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-150">RAS calls **MprAdminLinkHangupNotification** whenever a link for a connection is shutdown.</span></span>

<span data-ttu-id="32cd2-151">Da RAS mehrere Verwaltungs-DLLs unterstützt, darf der Remote Zugriffs Benutzer nur dann eine Verbindung herstellen, wenn die Implementierung der [**mpradminaccept tnewlink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) -Funktion in jeder der DLLs die Verbindung akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="32cd2-151">Because RAS supports multiple Administration DLLs, the remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="32cd2-152">Anders ausgedrückt, muss jede DLL den Link akzeptieren, damit der Link eingerichtet wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-152">In other words, every DLL must accept the link in order for the link to be established.</span></span>

<span data-ttu-id="32cd2-153">Nachdem der RAS-Server einen Benutzer authentifiziert hat, ruft er die [**mpradmingetipaddressforuser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) -Funktion auf, um eine IP-Adresse für den Remote Client zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="32cd2-153">After the RAS server has authenticated a user, it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) function to get an IP address for the remote client.</span></span> <span data-ttu-id="32cd2-154">Diese Funktion bietet ein alternatives Schema für die Zuordnung einer IP-Adresse zu einem Einwählbenutzer.</span><span class="sxs-lookup"><span data-stu-id="32cd2-154">This function provides an alternate scheme for mapping an IP address to a dial-in user.</span></span> <span data-ttu-id="32cd2-155">Wenn **mpradmingetipaddressforuser** nicht implementiert ist, ordnet ein RAS-Server den Remote Benutzer einer IP-Adresse zu, die aus einem statischen Pool von IP-Adressen ausgewählt wird, oder einen, der von einem DHCP-Server (Dynamic Host Configuration Protocol) ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="32cd2-155">If **MprAdminGetIpAddressForUser** is not implemented, a RAS server associates the remote user with an IP address that is selected from a static pool of IP addresses, or one selected by a Dynamic Host Configuration Protocol (DHCP) server.</span></span> <span data-ttu-id="32cd2-156">Die **mpradmingetipaddressforuser** -Funktion ermöglicht der dll, diese Standard-IP-Adresse zu überschreiben und eine bestimmte IP-Adresse für jeden Benutzer anzugeben.</span><span class="sxs-lookup"><span data-stu-id="32cd2-156">The **MprAdminGetIpAddressForUser** function allows the DLL to override this default IP address and specify a particular IP address for each user.</span></span> <span data-ttu-id="32cd2-157">Die **mpradmingetipaddressforuser** -Funktion kann ein Flag festlegen, das bewirkt, dass RAS die [**mpradminreleaseipaddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) -Funktion aufruft, wenn der Benutzer die Verbindung trennt.</span><span class="sxs-lookup"><span data-stu-id="32cd2-157">The **MprAdminGetIpAddressForUser** function can set a flag that causes RAS to call the [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) function when the user disconnects.</span></span> <span data-ttu-id="32cd2-158">Die dll kann dann **mpradminreleaseipaddress** verwenden, um die Zuordnung von Benutzer und IP-Adresse zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="32cd2-158">The DLL can then use **MprAdminReleaseIpAddress** to update its user-to-IP-address mapping.</span></span>

<span data-ttu-id="32cd2-159">RAS unterstützt mehrere Verwaltungs-DLLs, ruft jedoch die Funktionen [**mpradmingetipaddressforuser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) und [**mpradminreleaseipaddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) nur in der ersten dll auf, die Sie implementiert und exportiert.</span><span class="sxs-lookup"><span data-stu-id="32cd2-159">RAS supports multiple Administration DLLs, but it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions only in the first DLL that implements and export them.</span></span> <span data-ttu-id="32cd2-160">RAS ignoriert Implementierungen dieser Funktionen in den anderen DLLs.</span><span class="sxs-lookup"><span data-stu-id="32cd2-160">RAS ignores implementations of these functions in the other DLLs.</span></span> <span data-ttu-id="32cd2-161">RAS prüft die DLLs für diese Funktionen in der Reihenfolge, in der Sie in der [Registrierung](ras-administration-dll-registry-setup.md)aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="32cd2-161">RAS checks the DLLs for these functions in the order in which they are listed in the [registry](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="32cd2-162">RAS serialisiert Aufrufe in die Verwaltungs-dll.</span><span class="sxs-lookup"><span data-stu-id="32cd2-162">RAS serializes calls into the administration DLL.</span></span> <span data-ttu-id="32cd2-163">Ein Rückruf für eine der DLL-Funktionen für einen bestimmten RAS-Client führt nicht zu einem Aufrufe dieser Funktion für einen anderen RAS-Client. RAS Ruft die-Funktion für den anderen Client erst auf, wenn der erste-Vorgang beendet ist.</span><span class="sxs-lookup"><span data-stu-id="32cd2-163">A call into one of the DLL's functions for a given RAS client does not preempt a call to that function for a different RAS client; RAS does not call the function for the other client until the initial call is complete.</span></span> <span data-ttu-id="32cd2-164">Darüber hinaus erstreckt sich die Serialisierung auf bestimmte Gruppen von Funktionen.</span><span class="sxs-lookup"><span data-stu-id="32cd2-164">Furthermore, serialization extends to certain groups of functions.</span></span> <span data-ttu-id="32cd2-165">Die IP-Adress Funktionen werden als Gruppe serialisiert. ein Aufruf von [**mpradmingetipaddressforuser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) oder [**mpradminreleaseipaddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) blockiert Aufrufe beider Funktionen, bis der erste Aufruf zurückgegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="32cd2-165">The IP address functions are serialized as a group; a call into either [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) or [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) blocks calls into both functions until the initial call has returned.</span></span> <span data-ttu-id="32cd2-166">[**Mpradminaccept tnewconnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) und [**mpradminconnectionhangupnotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) werden ebenfalls als Gruppe serialisiert.</span><span class="sxs-lookup"><span data-stu-id="32cd2-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) are also serialized as a group.</span></span>

<span data-ttu-id="32cd2-167">RAS führt die Funktionen aus, die IP-Adressen in einem Prozess zuweisen. die Funktionen für Verbindungs-und Verbindungs Benachrichtigungen werden in einem anderen Prozess ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="32cd2-167">RAS executes the functions that assign IP addresses in one process; the functions for connection and disconnection notifications are executed in another process.</span></span> <span data-ttu-id="32cd2-168">Folglich hängt die dll nicht von freigegebenen Daten zwischen diesen beiden Funktions Sätzen ab.</span><span class="sxs-lookup"><span data-stu-id="32cd2-168">Consequently, the DLL does not depend on shared data between these two sets of functions.</span></span>

<span data-ttu-id="32cd2-169">Rufen Sie keine der RAS- [Verwaltungsfunktionen](ras-administration-functions.md) oder [RAS-Benutzer Verwaltungsfunktionen](ras-user-administration-functions.md) innerhalb einer Legenden Funktion auf.</span><span class="sxs-lookup"><span data-stu-id="32cd2-169">Do not call any of the [RAS Administration Functions](ras-administration-functions.md) or [RAS User Administration Functions](ras-user-administration-functions.md) from inside a callout function.</span></span> <span data-ttu-id="32cd2-170">Aufrufe dieser Funktionen werden nicht zurückgegeben, wenn Sie von innerhalb einer Legenden Funktion erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="32cd2-170">Calls to these functions will not return when made from within a callout function.</span></span>

<span data-ttu-id="32cd2-171">Der RAS-Server protokolliert einen Fehler im System Ereignisprotokoll, wenn beim Versuch, eine RAS-Verwaltungs-dll zu laden, oder beim Aufrufen einer der Funktionen der dll ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="32cd2-171">The RAS server logs an error in the system event log if an error occurs when it tries to load a RAS administration DLL or when calling one of the DLL's functions.</span></span> <span data-ttu-id="32cd2-172">Dies kann z. b. der Fall sein, wenn die dll den falschen Namen für eine exportierte Funktion angegeben hat, oder wenn der Funktionsname nicht in der DEF-Datei enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="32cd2-172">This can happen, for example, if the DLL specified the wrong name for an exported function, or if it did not include the function name in the DEF file.</span></span> <span data-ttu-id="32cd2-173">Der Eintrag im Ereignisprotokoll gibt den Grund für den Fehler an.</span><span class="sxs-lookup"><span data-stu-id="32cd2-173">The entry in the event log indicates the reason for the failure.</span></span>

<span data-ttu-id="32cd2-174">**Windows 2000/NT:** Mehrere Administrations-DLLs werden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="32cd2-174">**Windows 2000/NT:** Multiple administration DLLs are not supported.</span></span>

 

 




