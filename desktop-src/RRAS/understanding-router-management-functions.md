---
title: Grundlegendes zu routerverwaltungsfunktionen
description: In den folgenden Abschnitten werden die verschiedenen Typen von routerverwaltungfunktionen erläutert, und Sie sollten wissen, wie Sie diese effektiv verwenden sollten.
ms.assetid: 2f6831f2-39be-43b1-80bd-9a36c0f8a2af
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: be4b1891bc55b80a18a6d0dd928044da1e0e9709
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "106341957"
---
# <a name="understanding-router-management-functions"></a><span data-ttu-id="bf93a-103">Grundlegendes zu routerverwaltungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="bf93a-103">Understanding Router Management Functions</span></span>

<span data-ttu-id="bf93a-104">In den folgenden Abschnitten werden die verschiedenen Typen von routerverwaltungfunktionen erläutert, und Sie sollten wissen, wie Sie diese effektiv verwenden sollten.</span><span class="sxs-lookup"><span data-stu-id="bf93a-104">The following sections discuss the different types of router management functions and what you should know to use them effectively.</span></span>

<span data-ttu-id="bf93a-105">Alle routerverwaltungfunktionen erfordern Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="bf93a-105">All router management functions require administrator privileges.</span></span> <span data-ttu-id="bf93a-106">Ein Benutzer in der Hauptbenutzer Gruppe verfügt nicht über ausreichende Berechtigungen für die Verwendung der routerverwaltungfunktionen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-106">A user in the Power User group does not have sufficient privileges to use the router management functions.</span></span>

## <a name="the-different-classes-of-router-management-functions"></a><span data-ttu-id="bf93a-107">Die verschiedenen Klassen der routerverwaltungfunktionen</span><span class="sxs-lookup"><span data-stu-id="bf93a-107">The Different Classes of Router Management Functions</span></span>

<span data-ttu-id="bf93a-108">Die routerverwaltungfunktionen können in die Verwaltungsfunktionen und die Konfigurationsfunktionen aufgeteilt werden.</span><span class="sxs-lookup"><span data-stu-id="bf93a-108">The router management functions can be divided up into the administration functions and the configuration functions.</span></span> <span data-ttu-id="bf93a-109">Die [Verwaltungsfunktionen](router-administration-functions.md) haben das Präfix mpradmin, und die [Konfigurationsfunktionen](router-configuration-functions.md) haben das Präfix mprconfig.</span><span class="sxs-lookup"><span data-stu-id="bf93a-109">The [administration functions](router-administration-functions.md) have a prefix of MprAdmin and the [configuration functions](router-configuration-functions.md) have a prefix of MprConfig.</span></span> <span data-ttu-id="bf93a-110">Trotz der Benennung werden beide Funktions Sätze für die Routerverwaltung verwendet.</span><span class="sxs-lookup"><span data-stu-id="bf93a-110">Despite the naming, both sets of functions are used for router management.</span></span> <span data-ttu-id="bf93a-111">Die mpradmin-Funktionen arbeiten direkt auf dem laufenden Router.</span><span class="sxs-lookup"><span data-stu-id="bf93a-111">The MprAdmin functions operate directly on the running router.</span></span> <span data-ttu-id="bf93a-112">Die mprconfig-Funktionen verfügen über eine ähnliche Funktionalität, arbeiten jedoch mit der in der Registrierung gespeicherten Routerkonfiguration.</span><span class="sxs-lookup"><span data-stu-id="bf93a-112">The MprConfig functions have similar functionality, but operate on the router configuration stored in the registry.</span></span> <span data-ttu-id="bf93a-113">Beide Funktionstypen übergeben [Informationsblöcke](router-information-functions.md).</span><span class="sxs-lookup"><span data-stu-id="bf93a-113">Both types of functions pass [information blocks](router-information-functions.md).</span></span>

<span data-ttu-id="bf93a-114">Die routerverwaltungfunktionen können auch basierend auf den Komponenten des Routers, die Sie verwalten, aufgeteilt werden: Schnittstellen, routermanager oder Router-Manager-Clients.</span><span class="sxs-lookup"><span data-stu-id="bf93a-114">The router management functions can also be divided up based on what components of the router they manage: interfaces, router managers, or router manager clients.</span></span>

<span data-ttu-id="bf93a-115">Die [Routerschnittstellen-Funktionen](router-interface-functions.md) haben ein Präfix von mpradmininterface oder mprconfiginterface.</span><span class="sxs-lookup"><span data-stu-id="bf93a-115">The [router interface functions](router-interface-functions.md) have a prefix of either MprAdminInterface or MprConfigInterface.</span></span> <span data-ttu-id="bf93a-116">Verwenden Sie diese Funktionen für den Zugriff auf Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-116">Use these functions to access interfaces.</span></span> <span data-ttu-id="bf93a-117">Die [Router-Manager-Funktionen](router-manager-transport-functions.md) haben das Präfix mpradmintransport oder mprconfigtransport.</span><span class="sxs-lookup"><span data-stu-id="bf93a-117">The [router manager functions](router-manager-transport-functions.md) have a prefix of MprAdminTransport or MprConfigTransport.</span></span> <span data-ttu-id="bf93a-118">Verwenden Sie diese Funktionen, um auf die routermanager zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-118">Use these functions to access the router managers.</span></span> <span data-ttu-id="bf93a-119">Schließlich haben die [routermanager-Client Funktionen](router-manager-client-interfacetransport-functions.md) ein Präfix von mpradmininterfacetransport oder mprconfiginterfacetransport.</span><span class="sxs-lookup"><span data-stu-id="bf93a-119">Lastly, the [router manager client functions](router-manager-client-interfacetransport-functions.md) have a prefix of MprAdminInterfaceTransport or MprConfigInterfaceTransport.</span></span> <span data-ttu-id="bf93a-120">Verwenden Sie diese Funktionen, um auf die Clients zuzugreifen, die auf dem Router ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="bf93a-120">Use these functions to access the clients running on the router.</span></span>

<span data-ttu-id="bf93a-121">Eine Teilmenge der mpradmin-Funktionen sind die [mpradminmib](/windows/desktop/RRAS/about-router-management-with-mib)-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-121">A subset of MprAdmin functions are the [MprAdminMib functions](/windows/desktop/RRAS/about-router-management-with-mib).</span></span> <span data-ttu-id="bf93a-122">Diese werden auch nur auf der laufenden Route betrieben.</span><span class="sxs-lookup"><span data-stu-id="bf93a-122">These also operate on the running route alone.</span></span> <span data-ttu-id="bf93a-123">Diese Funktionen übergeben jedoch keine Informationsblöcke.</span><span class="sxs-lookup"><span data-stu-id="bf93a-123">However, these functions do not pass information blocks.</span></span> <span data-ttu-id="bf93a-124">Diese Funktionen bieten zusätzliche Flexibilität für den Protokoll-Designer, insbesondere zum Abrufen nicht Konfigurationsinformationen, wie z. b. Statistiken.</span><span class="sxs-lookup"><span data-stu-id="bf93a-124">These functions provide additional flexibility to the protocol designer, especially for retrieving non-configuration information, such as statistics.</span></span>

## <a name="ensuring-that-changes-occur-immediately-and-are-persistent"></a><span data-ttu-id="bf93a-125">Sicherstellen, dass Änderungen sofort auftreten und persistent sind</span><span class="sxs-lookup"><span data-stu-id="bf93a-125">Ensuring that Changes Occur Immediately and are Persistent</span></span>

<span data-ttu-id="bf93a-126">Ein Entwickler kann Änderungen an der Routerkonfiguration direkt mithilfe der [routerkonfigurationsfunktionen](router-configuration-functions.md)vornehmen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-126">A developer can make changes to the router configuration directly using the [router configuration functions](router-configuration-functions.md).</span></span> <span data-ttu-id="bf93a-127">Änderungen, die an der Konfiguration vorgenommen wurden, werden jedoch erst wirksam, wenn der Router neu gestartet wird, da dies die einzige Zeit ist, die die Konfiguration aus der Registrierung liest.</span><span class="sxs-lookup"><span data-stu-id="bf93a-127">However, any changes made to the configuration do not take effect until the router is restarted, since this is the only time that DIM reads the configuration from the registry.</span></span>

<span data-ttu-id="bf93a-128">Ein Entwickler kann mithilfe der [routerverwaltungsfunktionen](router-administration-functions.md)Änderungen am laufenden Router vornehmen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-128">A developer can make changes to the running router by using the [router administration functions](router-administration-functions.md).</span></span> <span data-ttu-id="bf93a-129">Diese Änderungen sind jedoch nicht persistent: da Sie nicht in die Registrierung geschrieben wurden, gehen Sie verloren, wenn der Router neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="bf93a-129">However, these changes are not persistent: since they have not been written to the registry, they are lost if the router is restarted.</span></span>

<span data-ttu-id="bf93a-130">Um Änderungen vorzunehmen, die sofort und persistent sind, muss ein Entwickler sowohl die routeradministration als auch die routerkonfigurationsfunktionen verwenden.</span><span class="sxs-lookup"><span data-stu-id="bf93a-130">In order to make changes that are both immediate and persistent, a developer needs to use both the router administration and the router configuration functions.</span></span> <span data-ttu-id="bf93a-131">Wenn der Router nicht ausgeführt wird, muss der Entwickler nur die entsprechenden routerkonfigurationsfunktionen aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-131">If the router is not running, the developer need only call the appropriate router configuration functions.</span></span>

<span data-ttu-id="bf93a-132">Verwenden Sie zum Abfragen von Informationen vom laufenden Router die routerverwaltungsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-132">For querying information from the running router, use the router administration functions.</span></span> <span data-ttu-id="bf93a-133">Wenn der Router nicht ausgeführt wird, Fragen Sie Informationen mithilfe der routerkonfigurationsfunktionen ab.</span><span class="sxs-lookup"><span data-stu-id="bf93a-133">If the router is not running, query information using the router configuration functions.</span></span>

<span data-ttu-id="bf93a-134">Die [**mpradmininterfacetten ecreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacecreate) -und [**mpradmininterfakesetinfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacesetinfo) -Funktionen unterstützen die [**MPR- \_ Schnittstelle \_ 2**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_2) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="bf93a-134">The [**MprAdminInterfaceCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacecreate) and [**MprAdminInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininterfacesetinfo) functions support the [**MPR\_INTERFACE\_2**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_2) structure.</span></span> <span data-ttu-id="bf93a-135">[**Mprconfiginterfacetten ecreate**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacecreate) und [**mprconfiginterfakesetinfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) hingegen nicht.</span><span class="sxs-lookup"><span data-stu-id="bf93a-135">However, [**MprConfigInterfaceCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacecreate) and [**MprConfigInterfaceSetInfo**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfiginterfacesetinfo) do not.</span></span> <span data-ttu-id="bf93a-136">Um eine Schnittstelle für die Bedarfs gesteuerte Übersetzung zu erstellen, die nach einem Neustart persistent ist, rufen Sie **mpradmininterfakecreate** mit **MPR \_ Interface \_ 2** auf, und rufen Sie dann **mprconfiginterfacetten ecreate** mit [**MPR \_ Interface \_ 0**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_0) oder [**MPR \_ Interface \_ 1**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_1)auf.</span><span class="sxs-lookup"><span data-stu-id="bf93a-136">In order to create a demand-dial interface that is persistent after a reboot, call **MprAdminInterfaceCreate** with **MPR\_INTERFACE\_2**, then call **MprConfigInterfaceCreate** with [**MPR\_INTERFACE\_0**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_0) or [**MPR\_INTERFACE\_1**](/windows/desktop/api/Mprapi/ns-mprapi-mpr_interface_1).</span></span> <span data-ttu-id="bf93a-137">Wenn Sie persistente Änderungen an einer Schnittstelle mit Bedarf an Bedarf vornehmen möchten, müssen Sie **mpradmininterfakesetinfo** mit **MPR- \_ Schnittstelle \_ 2** und dann **mprconfiginterfakesetinfo** mit **MPR Interface \_ \_ 0** oder **MPR \_ Interface \_ 1** aufruft.</span><span class="sxs-lookup"><span data-stu-id="bf93a-137">Similarly, to make persistent changes to a demand-dial interface, call **MprAdminInterfaceSetInfo** with **MPR\_INTERFACE\_2**, then call **MprConfigInterfaceSetInfo** with **MPR\_INTERFACE\_0** or **MPR\_INTERFACE\_1**.</span></span>

## <a name="using-router-administration-and-configuration-functions-remotely"></a><span data-ttu-id="bf93a-138">Remote Verwendung von routeradministration und Konfigurationsfunktionen</span><span class="sxs-lookup"><span data-stu-id="bf93a-138">Using Router Administration and Configuration Functions Remotely</span></span>

<span data-ttu-id="bf93a-139">Die meisten routerverwaltungs-und Konfigurationsfunktionen können auf einem anderen Computer als dem verwaltet werden, der nicht verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="bf93a-139">Most of the router administration and configuration functions can be called on a computer other than the one being administered.</span></span> <span data-ttu-id="bf93a-140">Diese Funktionen nehmen als Parameter, ein Handle für den zu verwaltenden Routerdienst oder die zu verwaltende Konfiguration.</span><span class="sxs-lookup"><span data-stu-id="bf93a-140">These functions take as a parameter, a handle to the router service or configuration to administer.</span></span> <span data-ttu-id="bf93a-141">Die Verwaltungsfunktionen verwenden RPC (Remote Prozedur Aufruf) für die Kommunikation mit dem Routing Dienst, der vom handle angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="bf93a-141">The administration functions use RPC (Remote Procedure Call) to communicate with the routing service specified by the handle.</span></span> <span data-ttu-id="bf93a-142">Die Konfigurationsfunktionen schreiben in die Registrierung des Computers, der durch das Handle angegeben ist, und lesen diese aus der Registrierung.</span><span class="sxs-lookup"><span data-stu-id="bf93a-142">The configuration functions write to and read from the registry of the computer specified by the handle.</span></span>

<span data-ttu-id="bf93a-143">Um den Routing Dienst auf einem Remote Computer zu verwalten, wird zuerst [**mpradminisservicerunning**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminisservicerunning) aufgerufen, um zu überprüfen, ob der Dienst ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="bf93a-143">To administer the routing service on a remote machine first call [**MprAdminIsServiceRunning**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminisservicerunning) to verify that the service is running.</span></span> <span data-ttu-id="bf93a-144">Rufen Sie dann [**mpradminserverconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminserverconnect) auf, um das Handle abzurufen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-144">Then call [**MprAdminServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminserverconnect) to obtain the handle.</span></span> <span data-ttu-id="bf93a-145">Wenn der Routerdienst nicht auf dem Remote Computer ausgeführt wird, schlagen alle routerverwaltungs-Aufrufe (mpradmin) fehl.</span><span class="sxs-lookup"><span data-stu-id="bf93a-145">If the router service is not running on the remote machine, all router administration (MprAdmin) calls fail.</span></span>

<span data-ttu-id="bf93a-146">Um Änderungen an der Routerkonfiguration auf einem Remote Computer vorzunehmen, erhalten Sie ein Handle, indem Sie die [**mprconfigserverconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigserverconnect) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="bf93a-146">To make changes to the router configuration on a remote machine obtain a handle by calling the [**MprConfigServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mprconfigserverconnect) function.</span></span>

 

 