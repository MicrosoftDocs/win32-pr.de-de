---
title: Verbindung wird getrennt
description: Wenn eine RAS-Client Anwendung einen Verbindungsvorgang startet, empfängt der rasdial-Befehl ein hrasconn-Verbindungs Handle, um die Verbindung zu identifizieren.
ms.assetid: a0fddc69-44bb-4bb0-ae57-ebecbe85cbe9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 859a3751bcbaf7d95927cdf6d14de859ddcc731e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104039527"
---
# <a name="disconnecting"></a><span data-ttu-id="d0f1d-103">Verbindung wird getrennt</span><span class="sxs-lookup"><span data-stu-id="d0f1d-103">Disconnecting</span></span>

<span data-ttu-id="d0f1d-104">Wenn eine RAS-Client Anwendung einen Verbindungsvorgang startet, empfängt der [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala) -Befehl ein **hrasconn** -Verbindungs Handle, um die Verbindung zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-104">When a RAS client application starts a connection operation, the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call receives an **HRASCONN** connection handle to identify the connection.</span></span> <span data-ttu-id="d0f1d-105">Wenn das zurückgegebene Handle nicht **null** ist, muss der Client schließlich die [**rashangup**](/windows/desktop/api/Ras/nf-ras-rashangupa) -Funktion zum Beenden der Verbindung abrufen.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-105">If the returned handle is not **NULL**, the client must eventually call the [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) function to end the connection.</span></span> <span data-ttu-id="d0f1d-106">Wenn während des Verbindungs Vorgangs ein Fehler auftritt, muss der Client **rashangup** anrufen, auch wenn die Verbindung nie hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-106">If an error occurs during the connection operation, the client must call **RasHangUp** even though the connection was never established.</span></span>

<span data-ttu-id="d0f1d-107">Die Anwendung, die [**rashangup**](/windows/desktop/api/Ras/nf-ras-rashangupa) aufruft, sollte nicht sofort beendet werden, da der Remote Zugriffs-Verbindungs-Manager Zeit benötigt, um die Verbindung ordnungsgemäß zu beenden.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-107">The application that calls [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) should not exit immediately because the Remote Access Connection Manager needs time to properly terminate the connection.</span></span> <span data-ttu-id="d0f1d-108">Stattdessen sollte die Anwendung warten, bis die Funktion " [**rasgetconnectstatus**](/windows/desktop/api/Ras/nf-ras-rasgetconnectstatusa) " ein \_ Ungültiges Handle zurückgibt \_ , das angibt, dass die Verbindung gelöscht wurde.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-108">Instead, the application should wait until the [**RasGetConnectStatus**](/windows/desktop/api/Ras/nf-ras-rasgetconnectstatusa) function returns ERROR\_INVALID\_HANDLE, indicating that the connection has been deleted.</span></span>

<span data-ttu-id="d0f1d-109">Eine RAS-Client Anwendung muss möglicherweise eine Verbindung beenden, auch wenn Sie nicht über das von [**rasdial**](/windows/desktop/api/Ras/nf-ras-rasdiala)zurückgegebene Handle verfügt.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-109">A RAS client application might need to end a connection even though it does not have the handle returned by [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala).</span></span> <span data-ttu-id="d0f1d-110">Beispielsweise kann die Anwendung, die " **rasdial** " aufgerufen hat, beendet werden, nachdem die Verbindung erfolgreich hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-110">For example, the application that called **RasDial** might have exited after the connection was successfully established.</span></span> <span data-ttu-id="d0f1d-111">In diesem Fall kann die Anwendung, die die Verbindung trennt, die Funktion " [**Rasen-Connections**](/windows/desktop/api/Ras/nf-ras-rasenumconnectionsa) " verwenden, um alle aktuellen Verbindungen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-111">In this case, the disconnecting application can use the [**RasEnumConnections**](/windows/desktop/api/Ras/nf-ras-rasenumconnectionsa) function to get all the current connections.</span></span> <span data-ttu-id="d0f1d-112">Für jede Verbindung gibt **rasenumschlag Connections** eine [**rasconn**](/previous-versions/windows/desktop/legacy/aa376725(v=vs.85)) -Struktur zurück, die das **hrasconn** -Verbindungs Handle und den Namen des Telefonbucheintrags oder die Telefonnummer enthält, die beim Starten des Verbindungs Vorgangs angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-112">For each connection, **RasEnumConnections** returns a [**RASCONN**](/previous-versions/windows/desktop/legacy/aa376725(v=vs.85)) structure that contains the **HRASCONN** connection handle and the phone-book entry name or phone number specified when the connection operation was started.</span></span> <span data-ttu-id="d0f1d-113">Diese Informationen können verwendet werden, um eine Liste der Verbindungen anzuzeigen, von denen der Benutzer die zu Ende Verbindung auswählen kann.</span><span class="sxs-lookup"><span data-stu-id="d0f1d-113">This information can be used to display a list of connections from which the user can select the connection to end.</span></span>

 

 