---
title: NAP-Client Architektur
description: Ein NAP-Client ist ein Computer, auf dem Windows XP mit Service Pack 3 (SP3), Windows Vista oder Windows Server 2008 mit der NAP-Plattform ausgeführt wird.
ms.assetid: 163c33c9-b18b-49f9-a2a1-fd90a1dc0826
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15862eaa6ae4f4c1f79c53cf9d540aedec295e8a
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104310991"
---
# <a name="nap-client-architecture"></a><span data-ttu-id="47c77-103">NAP-Client Architektur</span><span class="sxs-lookup"><span data-stu-id="47c77-103">NAP Client Architecture</span></span>

> [!Note]  
> <span data-ttu-id="47c77-104">Die Netzwerk Zugriffsschutz-Plattform ist ab Windows 10 nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="47c77-104">The Network Access Protection platform is not available starting with Windows 10</span></span>

 

<span data-ttu-id="47c77-105">Ein NAP-Client ist ein Computer, auf dem Windows XP mit Service Pack 3 (SP3), Windows Vista oder Windows Server 2008 mit der NAP-Plattform ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="47c77-105">A NAP client is a computer running Windows XP with Service Pack 3 (SP3), Windows Vista, or Windows Server 2008 that includes the NAP platform.</span></span>

<span data-ttu-id="47c77-106">Diese Abbildung zeigt die Architektur der NAP-Plattform auf einem NAP-Client.</span><span class="sxs-lookup"><span data-stu-id="47c77-106">This figure shows the architecture of the NAP platform on a NAP client.</span></span>

![Architektur der NAP-Plattform auf einem NAP-Client](images/nap-client-side-arch.png)

<span data-ttu-id="47c77-108">Die NAP-Client Architektur besteht aus den folgenden Elementen:</span><span class="sxs-lookup"><span data-stu-id="47c77-108">The NAP client architecture consists of the following:</span></span>

-   <span data-ttu-id="47c77-109">Eine Schicht von Erzwingungs Client-Komponenten (EC)</span><span class="sxs-lookup"><span data-stu-id="47c77-109">A layer of Enforcement Client (EC) components</span></span>

    <span data-ttu-id="47c77-110">Jede NAP EC ist für einen anderen Typ von Netzwerk Zugriff definiert.</span><span class="sxs-lookup"><span data-stu-id="47c77-110">Each NAP EC is defined for a different type of network access.</span></span> <span data-ttu-id="47c77-111">Beispielsweise gibt es eine NAP EC für die DHCP-Konfiguration und eine NAP EC für RAS-VPN-Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="47c77-111">For example, there is a NAP EC for DHCP configuration and a NAP EC for remote access VPN connections.</span></span> <span data-ttu-id="47c77-112">Der NAP EC kann mit einem bestimmten Typ von NAP-Erzwingungs Punkt abgeglichen werden.</span><span class="sxs-lookup"><span data-stu-id="47c77-112">The NAP EC can be matched to a specific type of NAP enforcement point.</span></span> <span data-ttu-id="47c77-113">Beispielsweise ist die DHCP-NAP EC für die Verwendung mit einem DHCP-basierten NAP-Erzwingungs Punkt konzipiert.</span><span class="sxs-lookup"><span data-stu-id="47c77-113">For example, the DHCP NAP EC is designed to work with a DHCP-based NAP enforcement point.</span></span> <span data-ttu-id="47c77-114">Einige NAP-ECS werden mit der NAP-Plattform und Drittanbieter-Softwareanbietern bereitgestellt, oder Microsoft kann andere bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="47c77-114">Some NAP ECs are provided with the NAP platform and third-party software vendors or Microsoft can provide others.</span></span>

-   <span data-ttu-id="47c77-115">Eine Ebene der Systemintegritäts-Agent-Komponenten (SHA)</span><span class="sxs-lookup"><span data-stu-id="47c77-115">A layer of System Health Agent (SHA) components</span></span>

    <span data-ttu-id="47c77-116">Eine SHA-Komponente verwaltet und meldet ein oder mehrere Elemente der Systemintegrität.</span><span class="sxs-lookup"><span data-stu-id="47c77-116">An SHA component maintains and reports one or multiple elements of system health.</span></span> <span data-ttu-id="47c77-117">Beispielsweise kann ein SHA für Antivirensignaturen und ein SHA für Betriebssystemupdates vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="47c77-117">For example, there might be an SHA for antivirus signatures and an SHA for operating system updates.</span></span> <span data-ttu-id="47c77-118">Ein SHA kann mit einem Wiederherstellungs Server abgeglichen werden. dabei handelt es sich um einen Computer, der Integritäts Update Ressourcen enthält, auf die NAP-Clients zugreifen können, um ihren nicht kompatiblen Zustand zu beheben.</span><span class="sxs-lookup"><span data-stu-id="47c77-118">An SHA can be matched to a remediation server, which is a computer that contains health update resources that NAP clients can access to remediate their noncompliant state.</span></span> <span data-ttu-id="47c77-119">Beispielsweise wird ein SHA zum Überprüfen von Antivirensignaturen mit dem Server abgeglichen, der die neueste Antivirus-Signatur Datei enthält.</span><span class="sxs-lookup"><span data-stu-id="47c77-119">For example, an SHA for checking antivirus signatures is matched to the server that contains the latest antivirus signature file.</span></span> <span data-ttu-id="47c77-120">SHAs müssen nicht über einen entsprechenden Wiederherstellungs Server verfügen.</span><span class="sxs-lookup"><span data-stu-id="47c77-120">SHAs do not have to have a corresponding remediation server.</span></span> <span data-ttu-id="47c77-121">Beispielsweise kann ein SHA nur lokale Systemeinstellungen überprüfen, um sicherzustellen, dass eine Host basierte Firewall aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="47c77-121">For example, an SHA can just check local system settings to ensure that a host-based firewall is enabled.</span></span> <span data-ttu-id="47c77-122">Windows Vista und Windows XP Service Pack 3 enthalten die Windows-Sicherheitsintegritäts-Agent (WSHA), mit der die Einstellungen der Windows-Security Center überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="47c77-122">Windows Vista and Windows XP Service Pack 3 include the Windows Security Health Agent (WSHA) that monitors the settings of the Windows Security Center.</span></span> <span data-ttu-id="47c77-123">Softwarehersteller von Drittanbietern oder Microsoft können zusätzliche SHAs für die NAP-Plattform bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="47c77-123">Third-party software vendors or Microsoft can provide additional SHAs to the NAP platform.</span></span>

-   <span data-ttu-id="47c77-124">NAP-Agent</span><span class="sxs-lookup"><span data-stu-id="47c77-124">NAP Agent</span></span>

    <span data-ttu-id="47c77-125">Verwaltet die aktuellen Integritäts Zustandsinformationen des NAP-Clients und ermöglicht die Kommunikation zwischen der NAP EC-und SHA-Schicht.</span><span class="sxs-lookup"><span data-stu-id="47c77-125">Maintains the current health state information of the NAP client and facilitates communication between the NAP EC and SHA layers.</span></span> <span data-ttu-id="47c77-126">Der NAP-Agent wird mit der NAP-Plattform bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="47c77-126">The NAP Agent is provided with the NAP platform.</span></span>

-   <span data-ttu-id="47c77-127">Systemintegritäts-Agent-API</span><span class="sxs-lookup"><span data-stu-id="47c77-127">System Health Agent API</span></span>

    <span data-ttu-id="47c77-128">Bietet eine Reihe von Funktionen, mit denen SHAs beim NAP-Agent registriert werden kann, um den Integritäts Status des Systems anzugeben, auf Abfragen des System Integritäts Status vom NAP-Agent zu Antworten und den NAP-Agent zum Übergeben von Systemintegritäts-Wiederherstellungs Informationen an einen SHA zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="47c77-128">Provides a set of functions that allow SHAs to register with the NAP Agent, to indicate system health status, respond to queries for system health status from the NAP Agent, and for the NAP Agent to pass system health remediation information to an SHA.</span></span> <span data-ttu-id="47c77-129">Die SHA-API ermöglicht es Anbietern, zusätzliche SHAs zu erstellen und zu installieren.</span><span class="sxs-lookup"><span data-stu-id="47c77-129">The SHA API allows vendors to create and install additional SHAs.</span></span> <span data-ttu-id="47c77-130">Die SHA-API wird mit der NAP-Plattform bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="47c77-130">The SHA API is provided with the NAP platform.</span></span> <span data-ttu-id="47c77-131">Sehen Sie sich die folgenden NAP-Schnittstellen an: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**inapsystemhealthagentcallback**](inapsystemhealthagentcallback.md)und [**inapsystemhealthagentrequest**](inapsystemhealthagentrequest.md).</span><span class="sxs-lookup"><span data-stu-id="47c77-131">See the following NAP interfaces: [**INapSystemHealthAgentBinding2**](inapsystemhealthagentbinding2.md), [**INapSystemHealthAgentCallback**](inapsystemhealthagentcallback.md), and [**INapSystemHealthAgentRequest**](inapsystemhealthagentrequest.md).</span></span>

<span data-ttu-id="47c77-132">Um den Integritäts Status eines bestimmten SHA anzugeben, erstellt ein SHA ein Statement of Health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) und übergibt es an den NAP-Agent.</span><span class="sxs-lookup"><span data-stu-id="47c77-132">To indicate the health state of a specific SHA, an SHA creates a statement of health ([**SoH**](/windows/win32/api/naptypes/ns-naptypes-soh)) and passes it to the NAP Agent.</span></span> <span data-ttu-id="47c77-133">Ein SoH kann ein oder mehrere Elemente der Systemintegrität enthalten.</span><span class="sxs-lookup"><span data-stu-id="47c77-133">An SoH can contain one or multiple elements of system health.</span></span> <span data-ttu-id="47c77-134">Beispielsweise kann das SHA für ein Antivirenprogramm ein SoH erstellen, das den Status der auf dem Computer, der Version und des letzten empfangene antivirensignaturupdates, die den Status der Antivirensoftware enthält.</span><span class="sxs-lookup"><span data-stu-id="47c77-134">For example, the SHA for an antivirus program can create an SoH containing the state of the antivirus software running on the computer, its version, and the last antivirus signature update received.</span></span> <span data-ttu-id="47c77-135">Wenn ein SHA seinen Status aktualisiert, erstellt er einen neuen SoH und übergibt ihn an den NAP-Agent.</span><span class="sxs-lookup"><span data-stu-id="47c77-135">Whenever an SHA updates its status, it creates a new SoH and passes it to the NAP Agent.</span></span> <span data-ttu-id="47c77-136">Um den Gesamt Integritäts Status eines NAP-Clients anzugeben, verwendet der NAP-Agent ein System Statement of Health (SSOH), das Versionsinformationen für den NAP-Client und den Satz von SoHs für die installierten SHAs umfasst.</span><span class="sxs-lookup"><span data-stu-id="47c77-136">To indicate the overall health state of a NAP client, the NAP Agent uses a system statement of health (SSoH), which includes version information for the NAP client and the set of SoHs for the installed SHAs.</span></span>

<span data-ttu-id="47c77-137">In den folgenden Abschnitten werden die Komponenten der NAP-Client Architektur ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="47c77-137">The following sections describe the components of the NAP client architecture in further detail.</span></span>

## <a name="nap-enforcement-client"></a><span data-ttu-id="47c77-138">NAP-Durchsetzungs Client</span><span class="sxs-lookup"><span data-stu-id="47c77-138">NAP Enforcement Client</span></span>

<span data-ttu-id="47c77-139">Ein NAP-Erzwingungs Client (EC) fordert eine gewisse Zugriffsebene für ein Netzwerk an und übergibt den Integritäts Status des Computers an einen NAP-Erzwingungs Punkt, der den Netzwerk Zugriff bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="47c77-139">A NAP Enforcement Client (EC) requests some level of access to a network, passes the computer's health status to a NAP enforcement point that is providing the network access.</span></span> <span data-ttu-id="47c77-140">NAP-Erzwingungs Punkte sind Computer oder Netzwerk Zugriffsgeräte, die NAP verwenden oder mit NAP verwendet werden können, um den Integritäts Status eines NAP-Clients zu evaluieren und eingeschränkten Netzwerk Zugriff oder Kommunikation zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="47c77-140">NAP enforcement points are computers or network access devices that use NAP or can be used with NAP to require the evaluation of a NAP client’s health state and provide restricted network access or communication.</span></span> <span data-ttu-id="47c77-141">Wenn die Integrität des Computers nicht kompatibel ist, gibt der NAP EC den eingeschränkten Status des NAP-Clients auf andere Komponenten der NAP-Client Architektur an.</span><span class="sxs-lookup"><span data-stu-id="47c77-141">If the computer’s health is not compliant, the NAP EC indicates the restricted status of the NAP client to other components of the NAP client architecture.</span></span>

<span data-ttu-id="47c77-142">Die NAP-ECS für die NAP-Plattform, die unter Windows XP mit SP3, Windows Vista und Windows Server 2008 bereitgestellt wird, lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="47c77-142">The NAP ECs for the NAP platform supplied in Windows XP with SP3, Windows Vista, and Windows Server 2008 are the following:</span></span>

-   <span data-ttu-id="47c77-143">Eine IPSec-NAP EC für die durch IPSec geschützte Kommunikation.</span><span class="sxs-lookup"><span data-stu-id="47c77-143">An IPsec NAP EC for IPsec-protected communications.</span></span>
-   <span data-ttu-id="47c77-144">Ein EAPHost-NAP EC für 802.1 x-authentifizierte Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="47c77-144">An EAPHost NAP EC for 802.1X-authenticated connections.</span></span>
-   <span data-ttu-id="47c77-145">Ein VPN-NAP EC für RAS-VPN-Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="47c77-145">A VPN NAP EC for remote access VPN connections.</span></span>
-   <span data-ttu-id="47c77-146">Ein DHCP-NAP EC für die Konfiguration der DHCP-basierten IPv4-Adresse.</span><span class="sxs-lookup"><span data-stu-id="47c77-146">A DHCP NAP EC for DHCP-based IPv4 address configuration.</span></span>
-   <span data-ttu-id="47c77-147">Ein TS-Gateway-NAP EC für Terminaldienstegateway-Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="47c77-147">A TS Gateway NAP EC for TS Gateway connections.</span></span>

<span data-ttu-id="47c77-148">Für Windows XP mit SP3 gibt es separate NAP-ECS für 802.1 x-authentifizierte Kabel-und Drahtlos Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="47c77-148">For Windows XP with SP3, there are separate NAP ECs for 802.1X-authenticated wired and wireless connections.</span></span>

### <a name="ipsec-nap-ec"></a><span data-ttu-id="47c77-149">IPSec-NAP EC</span><span class="sxs-lookup"><span data-stu-id="47c77-149">IPsec NAP EC</span></span>

<span data-ttu-id="47c77-150">Der IPSec-NAP EC ist eine Komponente, die SSOH vom NAP-Agent abruft und an eine Integritäts Registrierungsstelle (Health Registration Authority, HRA), einen Computer mit Windows Server 2008 und Internetinformationsdienste (IIS) sendet, der Integritäts Zertifikate von einer Zertifizierungsstelle (Certification Authority, ca) für kompatible Computer abruft.</span><span class="sxs-lookup"><span data-stu-id="47c77-150">The IPsec NAP EC is a component that obtains the SSoH from the NAP Agent and sends it to a Health Registration Authority (HRA), a computer running Windows Server 2008 and Internet Information Services (IIS) that obtains health certificates from a certification authority (CA) for compliant computers.</span></span> <span data-ttu-id="47c77-151">Der IPSec-NAP EC wird im NAP-Clientkonfigurations-Snap-in als IPSec-EC der vertrauenden Seite bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="47c77-151">The IPsec NAP EC is known as the IPsec Relying Party EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="47c77-152">Der IPSec-NAP EC interagiert auch mit folgendem:</span><span class="sxs-lookup"><span data-stu-id="47c77-152">The IPsec NAP EC also interacts with the following:</span></span>

-   <span data-ttu-id="47c77-153">Der Zertifikat Speicher zum Speichern des Integritäts Zertifikats.</span><span class="sxs-lookup"><span data-stu-id="47c77-153">The certificate store to store the health certificate.</span></span>
-   <span data-ttu-id="47c77-154">Die IPSec-Komponenten in Windows, um sicherzustellen, dass das Integritäts Zertifikat für die IPSec-geschützte Kommunikation verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="47c77-154">The IPsec components in Windows to ensure that the health certificate is used for IPsec-protected communication.</span></span>
-   <span data-ttu-id="47c77-155">Die Host basierte Firewall (z. b. die Windows-Firewall), sodass durch die Firewall durch IPSec geschützter Datenverkehr zugelassen wird.</span><span class="sxs-lookup"><span data-stu-id="47c77-155">The host-based firewall (such as Windows Firewall) so that IPsec-protected traffic is allowed by the firewall.</span></span>

### <a name="eaphost-nap-ec"></a><span data-ttu-id="47c77-156">EAPHost-NAP EC</span><span class="sxs-lookup"><span data-stu-id="47c77-156">EAPHost NAP EC</span></span>

<span data-ttu-id="47c77-157">Der EAPHost-NAP EC ist eine Komponente, die SSOH vom NAP-Agent abruft und Sie als eine Nachricht vom Typ PEAP-Type-Length-Value (TLV) für 802.1 x-authentifizierte Verbindungen sendet.</span><span class="sxs-lookup"><span data-stu-id="47c77-157">The EAPHost NAP EC is a component that obtains the SSoH from the NAP Agent and sends it as a PEAP-Type-Length-Value (TLV) message for 802.1X-authenticated connections.</span></span> <span data-ttu-id="47c77-158">Der EAPHost-NAP EC wird im NAP-Clientkonfigurations-Snap-in als EAP-Quarantäne-EC bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="47c77-158">The EAPHost NAP EC is known as the EAP Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="vpn-nap-ec"></a><span data-ttu-id="47c77-159">VPN-NAP EC</span><span class="sxs-lookup"><span data-stu-id="47c77-159">VPN NAP EC</span></span>

<span data-ttu-id="47c77-160">Der VPN-NAP EC ist die Funktionalität im RAS-Verbindungs-Manager-Dienst, der die SSOH vom NAP-Agent abruft und Sie als PEAP-TLV-Nachricht für RAS-VPN-Verbindungen sendet.</span><span class="sxs-lookup"><span data-stu-id="47c77-160">The VPN NAP EC is functionality in the Remote Access Connection Manager service that obtains the SSoH from the NAP Agent and sends it as a PEAP-TLV message for remote access VPN connections.</span></span> <span data-ttu-id="47c77-161">Der VPN-NAP EC wird im NAP-Clientkonfigurations-Snap-in als RAS-Quarantäne bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="47c77-161">The VPN NAP EC is known as the Remote Access Quarantine EC in the NAP Client Configuration snap-in.</span></span>

### <a name="dhcp-nap-ec"></a><span data-ttu-id="47c77-162">DHCP-NAP EC</span><span class="sxs-lookup"><span data-stu-id="47c77-162">DHCP NAP EC</span></span>

<span data-ttu-id="47c77-163">Der DHCP-NAP EC ist die Funktionalität des DHCP-Client diensdienstanbieter, der nach Industriestandard-DHCP-Nachrichten verwendet, um System Integritäts Meldungen und eingeschränkte Informationen</span><span class="sxs-lookup"><span data-stu-id="47c77-163">The DHCP NAP EC is functionality in the DHCP Client service that uses industry standard DHCP messages to exchange system health messages and limited network access information.</span></span> <span data-ttu-id="47c77-164">Der IPSec-DHCP-EC wird im NAP-Clientkonfigurations-Snap-in als DHCP-Quarantäne-EC bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="47c77-164">The IPsec DHCP EC is known as the DHCP Quarantine EC in the NAP Client Configuration snap-in.</span></span> <span data-ttu-id="47c77-165">Der DHCP-NAP EC Ruft den SSOH vom NAP-Agent ab.</span><span class="sxs-lookup"><span data-stu-id="47c77-165">The DHCP NAP EC obtains the SSoH from the NAP Agent.</span></span> <span data-ttu-id="47c77-166">Der DHCP-Client Dienst fragmentiert ggf. das SSOH und setzt jedes Fragment in eine herstellerspezifische DHCP-Option von Microsoft, die in DHCPDISCOVER-, DHCPREQUEST-oder DHCPInform-Nachrichten gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="47c77-166">The DHCP Client service fragments the SSoH, if required, and puts each fragment into a Microsoft vendor-specific DHCP option that is sent in DHCPDiscover, DHCPRequest or DHCPInform messages.</span></span> <span data-ttu-id="47c77-167">Die Nachrichten dhcpablehnen und DHCPRELEASE enthalten nicht den SSOH-Ausdruck.</span><span class="sxs-lookup"><span data-stu-id="47c77-167">DHCPDecline and DHCPRelease messages do not contain the SSoH.</span></span>

## <a name="system-health-agent"></a><span data-ttu-id="47c77-168">Systemintegritäts-Agent</span><span class="sxs-lookup"><span data-stu-id="47c77-168">System Health Agent</span></span>

<span data-ttu-id="47c77-169">Ein Systemintegritäts-Agent (System Health Agent, SHA) führt System Integritäts Updates aus und veröffentlicht seinen Status in Form eines SoH an den NAP-Agent.</span><span class="sxs-lookup"><span data-stu-id="47c77-169">A System Health Agent (SHA) performs system health updates and publishes its status in the form of an SoH to the NAP Agent.</span></span> <span data-ttu-id="47c77-170">Der SoH enthält Informationen, die der NAP-Integritäts Richtlinien Server verwenden kann, um zu überprüfen, ob sich der Client Computer im erforderlichen Integritäts Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="47c77-170">The SoH contains information that the NAP health policy server can use to verify that the client computer is in the required state of health.</span></span> <span data-ttu-id="47c77-171">Ein SHA wird mit einem System Integritäts Prüfungs Punkt (System Health Validator, SHV) auf Serverseite der NAP-Plattformarchitektur abgeglichen.</span><span class="sxs-lookup"><span data-stu-id="47c77-171">An SHA is matched to a System Health Validator (SHV) on the server-side of the NAP platform architecture.</span></span> <span data-ttu-id="47c77-172">Der entsprechende SHV kann eine SoH-Antwort (SoHR) an den NAP-Client zurückgeben, die von der NAP EC und dem NAP-Agent an den SHA-Agent geleitet wird, um ihn darüber zu informieren, was geschehen soll, wenn sich der SHA nicht in einem erforderlichen Integritäts Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="47c77-172">The corresponding SHV can return an SoH Response (SoHR) to the NAP client, which is passed by the NAP EC and the NAP Agent to the SHA, informing it of what to do if the SHA is not in a required state of health.</span></span> <span data-ttu-id="47c77-173">Beispielsweise könnte der von einem Antivirus-SHV gesendete SoH den entsprechenden Antivirus-SHA anweisen, einen Antivirus-Signatur Server abzufragen, um die neueste Version der Antivirus-Signatur Datei abzurufen.</span><span class="sxs-lookup"><span data-stu-id="47c77-173">For example, the SoHR sent by an antivirus SHV could instruct the corresponding antivirus SHA to query an antivirus signature server to obtain the latest version of the antivirus signature file.</span></span> <span data-ttu-id="47c77-174">Der Sohr kann auch den Namen oder die IP-Adresse des zu Abfrage enden Antivirensignatur Servers einschließen.</span><span class="sxs-lookup"><span data-stu-id="47c77-174">The SoHR can also include the name or IP address of the antivirus signature server to query.</span></span>

<span data-ttu-id="47c77-175">Ein SHA kann einen lokal installierten Richtlinien Client verwenden, um die Systemintegritäts-Verwaltungsfunktionen in Verbindung mit einem Richtlinien Server zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="47c77-175">An SHA can use a locally installed policy client to assist in system health management functions in conjunction with a policy server.</span></span> <span data-ttu-id="47c77-176">Beispielsweise kann ein Software Update-SHA mithilfe der lokal installierten Software Client Software (dem Richtlinien Client) Versions Überprüfung und Installations-und Aktualisierungs Funktionen mit dem Software Update Server (dem Richtlinien Server) ausführen.</span><span class="sxs-lookup"><span data-stu-id="47c77-176">For example, a software update SHA can use the locally installed software client software (the policy client) to perform version checking and installation and update functions with the software update server (the policy server).</span></span>

## <a name="nap-agent"></a><span data-ttu-id="47c77-177">NAP-Agent</span><span class="sxs-lookup"><span data-stu-id="47c77-177">NAP Agent</span></span>

<span data-ttu-id="47c77-178">Der NAP-Agent stellt die folgenden Dienste bereit:</span><span class="sxs-lookup"><span data-stu-id="47c77-178">The NAP Agent provides the following services:</span></span>

-   <span data-ttu-id="47c77-179">Sammelt die SoHs von jedem SHA und speichert Sie zwischen.</span><span class="sxs-lookup"><span data-stu-id="47c77-179">Collects the SoHs from each SHA and caches them.</span></span> <span data-ttu-id="47c77-180">Der SoH-Cache wird immer dann aktualisiert, wenn ein SHA ein neues oder aktualisiertes SoH bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="47c77-180">The SoH cache is updated whenever an SHA supplies a new or updated SoH.</span></span>
-   <span data-ttu-id="47c77-181">Speichert den SSOH und stellt ihn auf Anforderung an den NAP-ECS bereit.</span><span class="sxs-lookup"><span data-stu-id="47c77-181">Stores the SSoH and supplies it to the NAP ECs upon request.</span></span>
-   <span data-ttu-id="47c77-182">Übergibt Benachrichtigungen an SHAs, wenn sich der eingeschränkte Zustand ändert.</span><span class="sxs-lookup"><span data-stu-id="47c77-182">Passes notifications to SHAs when the restricted state changes.</span></span>
-   <span data-ttu-id="47c77-183">Behält den eingeschränkten Systemzustand bei und sammelt Statusinformationen von jedem SHA.</span><span class="sxs-lookup"><span data-stu-id="47c77-183">Maintains the system restricted state and collects status information from each SHA.</span></span>
-   <span data-ttu-id="47c77-184">Übergibt sostd an den entsprechenden SHA.</span><span class="sxs-lookup"><span data-stu-id="47c77-184">Passes SoHRs to the appropriate SHA.</span></span>

 

 




