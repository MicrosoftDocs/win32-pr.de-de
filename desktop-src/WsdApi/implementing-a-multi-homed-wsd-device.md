---
description: In diesem Thema wird die Unterstützung mehrfach vernetzter Geräte in WSDAPI beschrieben, und es werden Implementierungs Empfehlungen für Client-und Geräte Entwickler bereitgestellt.
ms.assetid: d30ed536-d477-4f50-8c80-aacc35f948b9
title: Implementieren eines mehrfach vernetzten WSD-Geräts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1ac3537b96a577db47419d55cb5c6f732f8f7906
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104218160"
---
# <a name="implementing-a-multi-homed-wsd-device"></a><span data-ttu-id="80681-103">Implementieren eines mehrfach vernetzten WSD-Geräts</span><span class="sxs-lookup"><span data-stu-id="80681-103">Implementing a Multi-Homed WSD Device</span></span>

<span data-ttu-id="80681-104">[WS-Discovery](https://specs.xmlsoap.org/ws/2005/04/discovery/ws-discovery.pdf) und das [Geräte Profil für Webdienste](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) beschreiben nicht die Implementierung von mehrfach vernetzten Geräten.</span><span class="sxs-lookup"><span data-stu-id="80681-104">[WS-Discovery](https://specs.xmlsoap.org/ws/2005/04/discovery/ws-discovery.pdf) and the [Devices Profile for Web Services](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) do not describe the implementation of multi-homed devices.</span></span> <span data-ttu-id="80681-105">In diesem Thema wird die Unterstützung mehrfach vernetzter Geräte in WSDAPI beschrieben, und es werden Implementierungs Empfehlungen für Client-und Geräte Entwickler bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="80681-105">This topic describes multi-homed device support in WSDAPI, and provides implementation recommendations to client and device developers.</span></span> <span data-ttu-id="80681-106">In diesem Thema wird davon ausgegangen, dass Ermittlungs Nachrichten über IPv4 und IPv6 (falls verfügbar) mit der gleichen Nachrichten-ID und den Informationen zur Anwendungs Sequenzierung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="80681-106">In this topic, it is assumed that discovery messages are sent over both IPv4 and IPv6 (if available) with the same message ID and application sequencing information.</span></span>

## <a name="discovery-in-a-multi-homed-environment"></a><span data-ttu-id="80681-107">Ermittlung in einer mehrfach vernetzten Umgebung</span><span class="sxs-lookup"><span data-stu-id="80681-107">Discovery in a multi-homed environment</span></span>

<span data-ttu-id="80681-108">Wie im Abschnitt [Hello](hello-message.md) und [xaddrs](xaddr-validation-rules.md) der [zusätzlichen WS-Discovery Funktionalität](additional-ws-discovery-functionality.md)erwähnt, stellt WSDAPI keine xaddrs in einer Hello-Nachricht bereit.</span><span class="sxs-lookup"><span data-stu-id="80681-108">As mentioned in [Hello](hello-message.md) and [XAddrs](xaddr-validation-rules.md) section of [Additional WS-Discovery Functionality](additional-ws-discovery-functionality.md), WSDAPI never provides XAddrs in a Hello message.</span></span> <span data-ttu-id="80681-109">Dies bedeutet, dass dieselbe Hello-Nachricht an alle Netzwerkschnittstellen mit der gleichen Nachrichten-ID und den Informationen zur Anwendungs Sequenzierung gesendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="80681-109">That means the same Hello message can be sent on all network interfaces with the same message ID and application sequencing information.</span></span> <span data-ttu-id="80681-110">Dies erleichtert es der clientkollisions Erkennung, mehrere Hello-Nachrichten vom gleichen Gerät zu verwerfen, wenn ein Client und das Gerät mehr als ein Subnetz gemeinsam verwenden.</span><span class="sxs-lookup"><span data-stu-id="80681-110">This makes it easier for client collision detection to discard multiple Hello messages from the same device when a client and the device share more than one subnet.</span></span>

<span data-ttu-id="80681-111">Da die [xaddrs](xaddr-validation-rules.md) nicht in der [Hello](hello-message.md) -Nachricht gesendet werden, müssen Client Implementierungen eine [Resolve](resolve-message.md) -Nachricht senden, um die relevante Geräteadresse zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="80681-111">Because the [XAddrs](xaddr-validation-rules.md) are not sent in the [Hello](hello-message.md) message, client implementations must send a [Resolve](resolve-message.md) message to get the relevant device address.</span></span> <span data-ttu-id="80681-112">Die Auflösung sollte an allen Client Schnittstellen mit derselben Nachrichten-ID gesendet werden, und das Gerät sollte bei Bedarf doppelte Nachrichten filtern.</span><span class="sxs-lookup"><span data-stu-id="80681-112">The Resolve should be sent on all client interfaces with the same message ID, and the device should filter duplicate messages as needed.</span></span> <span data-ttu-id="80681-113">Wenn Sie dieselbe Nachrichten-ID für die Auflösungs Nachricht verwenden, kann das Gerät bei Bedarf eine bevorzugte Schnittstelle für die Kommunikation mit Clients auswählen.</span><span class="sxs-lookup"><span data-stu-id="80681-113">Using the same message ID for the Resolve message allows the device to pick a preferred interface for communicating with clients if necessary.</span></span>

<span data-ttu-id="80681-114">Wenn eine [resolvematch](resolvematches-message.md) -Nachricht gesendet wird, sollte ein Gerät [xaddrs](xaddr-validation-rules.md) bereitstellen, die sich auf die Netzwerkschnittstelle beziehen, über die die Nachricht uniumgewandelt wird.</span><span class="sxs-lookup"><span data-stu-id="80681-114">When sending a [ResolveMatch](resolvematches-message.md) message, a device should provide [XAddrs](xaddr-validation-rules.md) that relate to the network interface over which it is unicasting the message.</span></span> <span data-ttu-id="80681-115">Diese Vorgehensweise hilft bei der Vermeidung mehrerer Client Verbindungsversuche und komplizierter Wiederholungs Logik.</span><span class="sxs-lookup"><span data-stu-id="80681-115">This practice helps to avoid multiple client connection attempts and complicated retry logic.</span></span>

## <a name="metadata-exchange-in-a-multi-homed-environment"></a><span data-ttu-id="80681-116">Metadatenaustausch in einer mehrfach vernetzten Umgebung</span><span class="sxs-lookup"><span data-stu-id="80681-116">Metadata exchange in a multi-homed environment</span></span>

<span data-ttu-id="80681-117">Das Implementieren von Metadatenaustausch in einer mehrfach vernetzten Umgebung ist schwieriger als das Implementieren der Ermittlung aufgrund der metadatenversionierung.</span><span class="sxs-lookup"><span data-stu-id="80681-117">Implementing metadata exchange in a multi-homed environment is more difficult than implementing discovery because of metadata versioning.</span></span> <span data-ttu-id="80681-118">Wenn ein Client Metadaten über mehrere Schnittstellen anfordert, kann der Client mehrere [GetResponse](getresponse--metadata-exchange--message.md) -Nachrichten über verschiedene Schnittstellen empfangen.</span><span class="sxs-lookup"><span data-stu-id="80681-118">If a client requests metadata over multiple interfaces, then the client can receive multiple [GetResponse](getresponse--metadata-exchange--message.md) messages over different interfaces.</span></span> <span data-ttu-id="80681-119">Diese GetResponse-Nachrichten können unterschiedliche **Beziehungs** Metadatenabschnitte mit derselben Metadatenversion enthalten.</span><span class="sxs-lookup"><span data-stu-id="80681-119">These GetResponse messages can contain different **Relationship** metadata sections with the same metadata version.</span></span> <span data-ttu-id="80681-120">Dadurch wird der Wert der Metadatenversionsnummer reduziert.</span><span class="sxs-lookup"><span data-stu-id="80681-120">This reduces the value of the metadata version number.</span></span>

<span data-ttu-id="80681-121">Es gibt einen alternativen Ansatz, bei dem eine einzelne [GetResponse](getresponse--metadata-exchange--message.md) -Nachricht als Antwort mit allen Adressen für den Dienst gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="80681-121">There is an alternative approach, where a single [GetResponse](getresponse--metadata-exchange--message.md) message is sent in response with all addresses for the service.</span></span> <span data-ttu-id="80681-122">Der Nachteil dieser Methode besteht darin, dass private Informationen, wie z. b. die Topologie von indirekt zugänglichen Netzwerken, offengelegt werden können.</span><span class="sxs-lookup"><span data-stu-id="80681-122">The disadvantage of this method is that private information, such as the topology of indirectly accessible networks, may be disclosed.</span></span>

<span data-ttu-id="80681-123">Unter Windows Vista enthalten die von WSDAPI bereitgestellten Metadaten nur Adressen, die für die Schnittstelle gültig sind, auf der die metadatenanforderung empfangen wurde.</span><span class="sxs-lookup"><span data-stu-id="80681-123">On Windows Vista, the metadata provided by WSDAPI contains only addresses that are valid for the interface upon which the metadata request was received.</span></span>

 

 



