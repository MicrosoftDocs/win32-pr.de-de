---
description: Die Web Service on Devices-API (WSDAPI) ist eine Implementierung des Geräte Profils für Webdienste (DPWS) für Windows Vista und Windows Server 2008.
ms.assetid: 8eaeacb3-43db-4a57-8548-e5b81213269c
title: Informationen zu Webdiensten auf Geräten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dca7f7dc97dabd3dde7af12f3cece992b4f0ef6d
ms.sourcegitcommit: 5b98bf8c68922f8f03c14f793fbe17504900559c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/12/2021
ms.locfileid: "103869400"
---
# <a name="about-web-services-on-devices"></a><span data-ttu-id="39c4e-103">Informationen zu Webdiensten auf Geräten</span><span class="sxs-lookup"><span data-stu-id="39c4e-103">About Web Services on Devices</span></span>

<span data-ttu-id="39c4e-104">Die Web Service on Devices-API (WSDAPI) ist eine Implementierung des [Geräte Profils für Webdienste](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) für Windows Vista und Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="39c4e-104">Web Service on Devices API (WSDAPI) is an implementation of the [Devices Profile for Web Services](https://specs.xmlsoap.org/ws/2006/02/devprof/) (DPWS) for Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="39c4e-105">Die DPWS schränkt Webdienst Spezifikationen ein, damit Clients problemlos Geräte ermitteln können.</span><span class="sxs-lookup"><span data-stu-id="39c4e-105">The DPWS constrains Web Services specifications so clients can easily discover devices.</span></span> <span data-ttu-id="39c4e-106">Nachdem ein Gerät erkannt wurde, kann ein Client eine Beschreibung der auf diesem Gerät gehosteten Dienste abrufen und diese Dienste verwenden.</span><span class="sxs-lookup"><span data-stu-id="39c4e-106">Once a device is discovered, a client can retrieve a description of services hosted on that device and use those services.</span></span>

## <a name="devices-and-services"></a><span data-ttu-id="39c4e-107">Geräte und Dienste</span><span class="sxs-lookup"><span data-stu-id="39c4e-107">Devices and Services</span></span>

<span data-ttu-id="39c4e-108">*Geräte* sind Komponenten, normalerweise Hardware, die mit dem Netzwerk verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="39c4e-108">*Devices* are components, usually hardware, which are attached to the network.</span></span> <span data-ttu-id="39c4e-109">Beispiele hierfür sind Drucker, Webkameras und Videosysteme.</span><span class="sxs-lookup"><span data-stu-id="39c4e-109">Examples include printers, Web cameras, and video systems.</span></span>

<span data-ttu-id="39c4e-110">Geräte können NULL oder mehr *Dienste* enthalten.</span><span class="sxs-lookup"><span data-stu-id="39c4e-110">Devices may include zero or more *services*.</span></span> <span data-ttu-id="39c4e-111">Ein Videogerät kann z. b. Dienste enthalten, die das Einschalten und deaktivieren, das Abspielen von Steuerelementen, das Steuern von Medien und das Video Streaming unterstützen.</span><span class="sxs-lookup"><span data-stu-id="39c4e-111">For example, a video device may include services that support power on and off, play control, media ejection, and video streaming.</span></span> <span data-ttu-id="39c4e-112">Die Wiedergabe Steuerung unterstützt möglicherweise Aktionen wie "Wiedergabe", "anhalten", "Zurückspulen" und "schneller</span><span class="sxs-lookup"><span data-stu-id="39c4e-112">Play control may support actions such as play, pause, rewind, and fast forward.</span></span>

## <a name="discovering-and-manipulating-a-device"></a><span data-ttu-id="39c4e-113">Entdecken und Bearbeiten eines Geräts</span><span class="sxs-lookup"><span data-stu-id="39c4e-113">Discovering and Manipulating a Device</span></span>

<span data-ttu-id="39c4e-114">WSDAPI erweitert das lokale Plug & Play Modell, indem es einem Client ermöglicht, ein Remote Gerät und seine zugeordneten Dienste über ein Netzwerk zu ermitteln und darauf zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="39c4e-114">WSDAPI extends the local Plug and Play model by allowing a client to discover and access a remote device and its associated services across a network.</span></span> <span data-ttu-id="39c4e-115">Es unterstützt Ermittlung, unidirektionales und bidirektionales Steuerungs Messaging und Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="39c4e-115">It supports discovery, one-way and two-way control messaging, and eventing.</span></span>

![Diagramm, das zeigt, wie WSDAPI einem Client das ermitteln und Zugreifen auf ein Remote Gerät ermöglicht.](images/overview01.png)

<span data-ttu-id="39c4e-117">DPWS-Geräte kündigen ihre Anwesenheits-und Bereitstellungs Dienste (sofern vorhanden) mit einer eindeutigen Adresse und einem standardisierten Satz von XML-Nachrichten an.</span><span class="sxs-lookup"><span data-stu-id="39c4e-117">DPWS devices announce their presence and expose services (if any) using a unique address and a standardized set of XML messages.</span></span> <span data-ttu-id="39c4e-118">DPWS-Clients können den Ermittlungsprozess zum Suchen des Geräts, zum Auflisten der zugehörigen Dienste und zum Herstellen einer Verbindung mit diesen Diensten verwenden, um bestimmte Aktionen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="39c4e-118">DPWS clients can use the discovery process to find the device, enumerate its services, and connect to those services to perform specific actions.</span></span>

<span data-ttu-id="39c4e-119">Ein WSDAPI-Client fragt zuerst das Gerät nach umfassenden Beschreibungen seiner Dienste ab, einschließlich der Dienst Typen (z. b. eines Drucker Dienst Typs oder eines Scanner-Dienst Typs).</span><span class="sxs-lookup"><span data-stu-id="39c4e-119">A WSDAPI client first queries the device for complete descriptions of its services, including the service types (such as a printer service type or a scanner service type).</span></span> <span data-ttu-id="39c4e-120">Der Client steuert dann das Gerät durch Aufrufen von Befehlen, die von einem Diensttyp definiert werden (z. b. durch Aufrufen von **createprintjob** auf einem Gerät mit einem druckerdiensttyp).</span><span class="sxs-lookup"><span data-stu-id="39c4e-120">The client then controls the device by calling commands defined by a service type (for example, by calling **CreatePrintJob** on a device with a printer service type).</span></span> <span data-ttu-id="39c4e-121">Optional kann der Client auch Zustandsänderungen in jedem Dienst überwachen, indem er Ereignisse abonniert, die während der Befehlsausführung auftreten.</span><span class="sxs-lookup"><span data-stu-id="39c4e-121">Optionally, the client can also monitor state changes in each service by subscribing to events that occur during command execution.</span></span>

![Diagramm, das zeigt, wie ein WSDAPI-Client ein Gerät abfragt und mit ihm interagiert.](images/netdevice01.png)

<span data-ttu-id="39c4e-123">Weitere Informationen zu Geräte Messaging Mustern finden Sie unter Ermittlungs [-und Metadatenaustausch-Nachrichten Muster](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="39c4e-123">For more information about device messaging patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

## <a name="logical-and-physical-addressing"></a><span data-ttu-id="39c4e-124">Logische und physische Adressierung</span><span class="sxs-lookup"><span data-stu-id="39c4e-124">Logical and Physical Addressing</span></span>

<span data-ttu-id="39c4e-125">Mithilfe der logischen Adressierung werden Geräte unabhängig von ihren physischen Adressen eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="39c4e-125">Logical addressing is used to uniquely identify devices independent of their physical addresses.</span></span> <span data-ttu-id="39c4e-126">WS-Discovery bietet einen Mechanismus, um logische Adressen in physische Adressen aufzulösen, sodass Client-zu-Gerät-Messaging erfolgen kann.</span><span class="sxs-lookup"><span data-stu-id="39c4e-126">WS-Discovery provides a mechanism to resolve logical addresses into physical addresses, allowing client-to-device messaging to take place.</span></span> <span data-ttu-id="39c4e-127">Ein Beispiel hierfür ist Network Attached Storage (NAS), den Sie mit Ihnen ausführen.</span><span class="sxs-lookup"><span data-stu-id="39c4e-127">An example is network attached storage (NAS) that you carry with you.</span></span> <span data-ttu-id="39c4e-128">Wenn Sie einen Laptop und NAS haben, sollte Ihr Laptop erkennen können, dass es sich um das gleiche Gerät handelt, unabhängig von der physischen Adresse (IP-Adresse), die der NAS beim Wechsel zwischen Subnetzen erhält.</span><span class="sxs-lookup"><span data-stu-id="39c4e-128">If you have a laptop and a NAS, your laptop should be able to recognize that it is the same device, regardless of the physical address (IP address) that the NAS obtains as you move between subnets.</span></span> <span data-ttu-id="39c4e-129">Um dies zu erreichen, muss das Gerät über eine Identität verfügen, die unabhängig von der abbenötigten IP-Adresse ist. Da herkömmliche Mechanismen wie DNS nicht in einem normalen Roamingszenario verfügbar sind, bieten WS-Addressing und WS-Discovery die logische Adressierung und Lösung als eine Ad-hoc-Alternative.</span><span class="sxs-lookup"><span data-stu-id="39c4e-129">Accomplishing this requires the device have identity that is independent of the IP address it obtains; since traditional mechanisms like DNS are not available in a normal roaming scenario, WS-Addressing and WS-Discovery provide logical addressing and resolution as an ad-hoc alternative.</span></span>

<span data-ttu-id="39c4e-130">Wenn ein Gerät hergestellt wird, erhält es eine Globally Unique Identifier, die als UUID-URI dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="39c4e-130">When a device is manufactured, it is given a globally unique identifier, represented as a UUID URI.</span></span> <span data-ttu-id="39c4e-131">Dieser Bezeichner ändert sich nie für das Gerät.</span><span class="sxs-lookup"><span data-stu-id="39c4e-131">This identifier will never change for the device.</span></span> <span data-ttu-id="39c4e-132">Wenn das Gerät eingeschaltet ist, kündigt es stets seine logische Adresse über eine WS-Discovery [Hello](hello-message.md) -Nachricht an und akzeptiert Anforderungen, die in eine physische Adresse (i. d. h. http) über WS-Discovery [Auflösen](resolve-message.md) [oder über](probe-message.md) prüfen von Nachrichten konvertiert werden.</span><span class="sxs-lookup"><span data-stu-id="39c4e-132">When the device is powered on, it will always announce its logical address via a WS-Discovery [Hello](hello-message.md) message, and will accept requests to convert that to a physical address (typically HTTP) via WS-Discovery [Resolve](resolve-message.md) or [Probe](probe-message.md) messages.</span></span> <span data-ttu-id="39c4e-133">Sobald eine gültige physische Adresse (IP-Adresse) abgerufen wurde, erfolgt das gesamte Messaging über diese Adresse. WS-Discovery wird nur verwendet, wenn sich die Adresse ändert, der Zustand des Geräts geändert wird und die Clients benachrichtigt werden müssen oder wenn das Gerät offline geschaltet wird.</span><span class="sxs-lookup"><span data-stu-id="39c4e-133">Once a valid physical address (IP address) is obtained, all messaging happens over that address, and WS-Discovery is used only if the address changes, the device changes state and the clients need to be notified, or the device goes offline.</span></span>

## <a name="building-applications"></a><span data-ttu-id="39c4e-134">Erstellen von Anwendungen</span><span class="sxs-lookup"><span data-stu-id="39c4e-134">Building Applications</span></span>

<span data-ttu-id="39c4e-135">WSDAPI bietet einen generischen DPWS-SOAP-Stapel für die Verwendung durch Client-und Dienst Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="39c4e-135">WSDAPI provides a generic DPWS SOAP stack for use by client and service applications.</span></span> <span data-ttu-id="39c4e-136">Der [Code-Generator für die Webdienste auf Geräten](web-services-for-devices-code-generator.md) (WsdCodeGen.exe) kann verwendet werden, um eine Dienst Beschreibung (WSDL) in Proxy-und Stub-Code zu konvertieren, der von Anwendungen direkt aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="39c4e-136">The [Web Services on Devices Code Generator](web-services-for-devices-code-generator.md) (WsdCodeGen.exe) can be used to convert a service description (WSDL) into proxy and stub code that applications can call directly.</span></span> <span data-ttu-id="39c4e-137">Dieser generierte Code transformiert automatisch Funktionsaufrufe und Parameter in SOAP-Nachrichten und XML-Felder und ruft dann WSDAPI auf, um Anforderungen an das Remote Gerät oder den Client auszugeben.</span><span class="sxs-lookup"><span data-stu-id="39c4e-137">This generated code automatically transforms function calls and parameters into SOAP messages and XML fields, and then calls into WSDAPI to issue to requests to the remote device or client.</span></span>

<span data-ttu-id="39c4e-138">Die Funktions Ermittlung kann beim Erstellen von WSDAPI-Anwendungen zum Erstellen und Aktivieren von Funktions Instanzen verwendet werden, die von PNP zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="39c4e-138">Function Discovery can be used when building WSDAPI applications to create and activate function instances returned by PnP.</span></span> <span data-ttu-id="39c4e-139">Diese Funktions Instanzen enthalten Daten, die verwendet werden können, um weitere Informationen über die PNP-APIs zu erhalten, wenn mehr als nur eine einfache Ermittlung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="39c4e-139">These function instances contain data that can be used to obtain more information through the PnP APIs when more than just simple discovery is required.</span></span> <span data-ttu-id="39c4e-140">Weitere Informationen finden Sie unter [Funktions](/previous-versions/windows/desktop/fundisc/fd-portal) Ermittlung und [PnP-X](/previous-versions/windows/desktop/fundisc/pnp-x).</span><span class="sxs-lookup"><span data-stu-id="39c4e-140">For more information, see [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) and [PnP-X](/previous-versions/windows/desktop/fundisc/pnp-x).</span></span>

## <a name="related-topics"></a><span data-ttu-id="39c4e-141">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="39c4e-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="39c4e-142">Ermittlungs-und Metadatenaustausch-Nachrichten Muster</span><span class="sxs-lookup"><span data-stu-id="39c4e-142">Discovery and Metadata Exchange Message Patterns</span></span>](discovery-and-metadata-exchange-message-patterns.md)
</dt> <dt>

[<span data-ttu-id="39c4e-143">WSDAPI-Spezifikation Konformität</span><span class="sxs-lookup"><span data-stu-id="39c4e-143">WSDAPI Specification Compliance</span></span>](wsdapi-specification-compliance.md)
</dt> <dt>

[<span data-ttu-id="39c4e-144">Übersicht über die WSDAPI-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="39c4e-144">Overview of the WSDAPI Interfaces</span></span>](overview-of-the-wsdapi-interfaces.md)
</dt> </dl>

 

 
