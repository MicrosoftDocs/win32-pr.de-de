---
description: Alle Network Packet Analyzer, die unformatierte Pakete anzeigen können, können zum Überprüfen von http-metadatenaustauschanforderungen verwendet werden. Microsoft-Netzwerkmonitor 3 (NetMon) wird empfohlen. Weitere Informationen zu Netmon finden Sie unter Herunterladen von Netmon und Beispiel-DPWS-filtern.
ms.assetid: b3b6c4d1-5fa3-41fb-ae1d-067638e385b0
title: Überprüfen von Netzwerk Ablauf Verfolgungen für http-Metadatenaustausch
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0c9993c542789b7f11eb35344dd6b0b03bfbafc3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104215429"
---
# <a name="inspecting-network-traces-for-http-metadata-exchange"></a><span data-ttu-id="5c886-105">Überprüfen von Netzwerk Ablauf Verfolgungen für http-Metadatenaustausch</span><span class="sxs-lookup"><span data-stu-id="5c886-105">Inspecting Network Traces for HTTP Metadata Exchange</span></span>

<span data-ttu-id="5c886-106">Alle Network Packet Analyzer, die unformatierte Pakete anzeigen können, können zum Überprüfen von http-metadatenaustauschanforderungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5c886-106">Any network packet analyzer that can display raw packets can be used to inspect HTTP metadata exchange requests.</span></span> <span data-ttu-id="5c886-107">Microsoft-Netzwerkmonitor 3 (NetMon) wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="5c886-107">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="5c886-108">Weitere Informationen zu Netmon finden Sie unter [Herunterladen von Netmon und Beispiel-DPWS-Filtern](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="5c886-108">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="5c886-109">Diese Diagnose Prozedur ist möglicherweise nicht so nützlich für Clients und Hosts, die einen sicheren Kommunikationskanal verwenden, da der Nachrichten Inhalt verschlüsselt ist.</span><span class="sxs-lookup"><span data-stu-id="5c886-109">This diagnostic procedure may not be as useful for clients and hosts using a secure channel for communications because the message contents are encrypted.</span></span>

<span data-ttu-id="5c886-110">**So überprüfen Sie die Netzwerk Ablauf Verfolgungen für http**</span><span class="sxs-lookup"><span data-stu-id="5c886-110">**To inspect network traces for HTTP metadata exchange**</span></span>

1.  <span data-ttu-id="5c886-111">Konfigurieren Sie den Host und den Client für die Netzwerk übergreifende Ausführung (d. h., stellen Sie sicher, dass der Host und der Client auf unterschiedlichen Computern ausgeführt werden).</span><span class="sxs-lookup"><span data-stu-id="5c886-111">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="5c886-112">Installieren Sie Packet Analyzer (NetMon) entweder auf dem Client oder auf dem Host.</span><span class="sxs-lookup"><span data-stu-id="5c886-112">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="5c886-113">Konfigurieren Sie die Paket Analyse für die Erfassung von Datenverkehr auf dem Netzwerkadapter, der den Host und den Client verbindet.</span><span class="sxs-lookup"><span data-stu-id="5c886-113">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="5c886-114">Reproduzieren Sie den Fehler Durchstarten des Hosts und Clients oder durch Drücken von F5 im Netzwerk-Explorer.</span><span class="sxs-lookup"><span data-stu-id="5c886-114">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="5c886-115">Filtern Sie die Ergebnisse, um WS-Discovery-und metadatenaustauschdatenverkehr zu isolieren</span><span class="sxs-lookup"><span data-stu-id="5c886-115">Filter the results to isolate WS-Discovery and metadata exchange traffic.</span></span> <span data-ttu-id="5c886-116">Beispiel-Netmon-Filter finden Sie unter [Herunterladen von Netmon und Beispiel-DPWS-Filtern](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="5c886-116">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="5c886-117">Dieser Schritt ist optional.</span><span class="sxs-lookup"><span data-stu-id="5c886-117">This step is optional.</span></span>

     

6.  <span data-ttu-id="5c886-118">Überprüfen Sie, ob Nachrichten, die zwischen Client und Host gesendet werden, grundlegende Anforderungen</span><span class="sxs-lookup"><span data-stu-id="5c886-118">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="5c886-119">Überprüfen, ob Nachrichten Datenverkehrs Anforderungen erfüllen</span><span class="sxs-lookup"><span data-stu-id="5c886-119">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="5c886-120">WSDAPI-Clients und-Hosts müssen Nachrichten senden, die den folgenden Kriterien entsprechen.</span><span class="sxs-lookup"><span data-stu-id="5c886-120">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="5c886-121">Allgemeine Informationen zu Nachrichten Mustern finden Sie unter Ermittlungs [-und Metadatenaustausch-Nachrichten Muster](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="5c886-121">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="5c886-122">Nachrichten müssen die im Thema [Überprüfen von Netzwerk Ablauf Verfolgungen für UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md)bereitgestellten Datenverkehrs Anforderungen erfüllen, es sei denn, es ist absolut sicher, dass WS-Discovery nicht für Metadatenaustausch verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5c886-122">Messages must meet the traffic requirements provided in the topic [Inspecting Network Traces for UDP WS-Discovery](inspecting-network-traces-for-udp-ws-discovery.md), unless it is absolutely certain that WS-Discovery is not being used for metadata exchange.</span></span>
-   <span data-ttu-id="5c886-123">Zwischen dem Client und der ersten Transport Adresse, die im **xaddrs** -Element einer [Probe Matches](probematches-message.md) -oder [resolvematches](resolvematches-message.md) -Nachricht angegeben ist, muss eine TCP-Verbindung hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5c886-123">A TCP connection must be established between the client and the first transport address provided in the **XAddrs** element of a [ProbeMatches](probematches-message.md) or [ResolveMatches](resolvematches-message.md) message.</span></span> <span data-ttu-id="5c886-124">Die folgende Liste zeigt einen typischen Paket Austausch, der zum Herstellen einer TCP-Verbindung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5c886-124">The following list shows a typical packet exchange used to establish a TCP connection.</span></span>
    -   <span data-ttu-id="5c886-125">Der Client sendet ein TCP-SYN-Paket an den Host an einem angegebenen Port.</span><span class="sxs-lookup"><span data-stu-id="5c886-125">The client sends a TCP SYN packet to the host at a specified port.</span></span>
    -   <span data-ttu-id="5c886-126">Der Host sendet ein TCP-SYN/ACK-Paket an den Client.</span><span class="sxs-lookup"><span data-stu-id="5c886-126">The host sends a TCP SYN/ACK packet to the client.</span></span>
    -   <span data-ttu-id="5c886-127">Der Client sendet ein TCP-ACK-Paket an den Host an einem angegebenen Port.</span><span class="sxs-lookup"><span data-stu-id="5c886-127">The client sends a TCP ACK packet to the host at a specified port.</span></span>

    <span data-ttu-id="5c886-128">Nachdem der Client ein TCP-ACK-Paket gesendet hat, wird die TCP-Verbindung hergestellt.</span><span class="sxs-lookup"><span data-stu-id="5c886-128">Once the client has sent a TCP ACK packet, the TCP connection is established.</span></span> <span data-ttu-id="5c886-129">Beachten Sie, dass dieser Nachrichtenaustausch nicht stattfindet, wenn zuvor eine TCP-Verbindung hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="5c886-129">Note that this message exchange will not occur if a TCP connection has previously been established.</span></span>
-   <span data-ttu-id="5c886-130">Der Client muss eine gültige [Get](get--metadata-exchange--http-request-and-message.md) http-Anforderung und-Nachricht senden.</span><span class="sxs-lookup"><span data-stu-id="5c886-130">The client must send a valid [Get](get--metadata-exchange--http-request-and-message.md) HTTP request and message.</span></span>
-   <span data-ttu-id="5c886-131">Der Host muss den URL-Pfad lauschen, der in der [Get](get--metadata-exchange--http-request-and-message.md) http-Anforderung angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="5c886-131">The host must be listening on the URL path specified in the [Get](get--metadata-exchange--http-request-and-message.md) HTTP request.</span></span>
-   <span data-ttu-id="5c886-132">Das **to** -Element einer [Get](get--metadata-exchange--http-request-and-message.md) -metadatennachricht muss vorhanden und nicht leer sein.</span><span class="sxs-lookup"><span data-stu-id="5c886-132">The **To** element of a [Get](get--metadata-exchange--http-request-and-message.md) metadata message must be present and not empty.</span></span> <span data-ttu-id="5c886-133">Der Wert des **to** -Elements muss mit einer der Endpunkt Adressen des Hosts identisch sein.</span><span class="sxs-lookup"><span data-stu-id="5c886-133">The value of the **To** element must match one of the host's endpoint addresses.</span></span> <span data-ttu-id="5c886-134">Die Endpunkt Adresse eines Hosts wird in der Regel in einer [Probe Matches](probematches-message.md) -oder [resolvematches](resolvematches-message.md) -Nachricht angekündigt.</span><span class="sxs-lookup"><span data-stu-id="5c886-134">A host's endpoint address is typically advertised in a [ProbeMatches](probematches-message.md) or [ResolveMatches](resolvematches-message.md) message.</span></span>
-   <span data-ttu-id="5c886-135">Der Host muss einen gültigen HTTP-Antwortheader senden.</span><span class="sxs-lookup"><span data-stu-id="5c886-135">The host must send a valid HTTP response header.</span></span> <span data-ttu-id="5c886-136">Wenn die anfängliche Anforderung erfolgreich war, sollte der Antwortheader den Statuscode HTTP/1.1 200 enthalten.</span><span class="sxs-lookup"><span data-stu-id="5c886-136">If the initial request was successful, the response header should contain the HTTP/1.1 200 status code.</span></span>
-   <span data-ttu-id="5c886-137">Der Host muss eine gültige [GetResponse](getresponse--metadata-exchange--message.md) -Nachricht senden.</span><span class="sxs-lookup"><span data-stu-id="5c886-137">The host must send a valid [GetResponse](getresponse--metadata-exchange--message.md) message.</span></span>
-   <span data-ttu-id="5c886-138">Das **RelatesTo** -Element einer [GetResponse](getresponse--metadata-exchange--message.md) -Nachricht muss vorhanden sein und darf nicht leer sein.</span><span class="sxs-lookup"><span data-stu-id="5c886-138">The **RelatesTo** element of a [GetResponse](getresponse--metadata-exchange--message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="5c886-139">Der Wert muss mit dem Wert des **MessageId** -Elements aus der entsprechenden [Get](get--metadata-exchange--http-request-and-message.md) -Nachricht übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="5c886-139">Its value must match the value of the **MessageId** element from the corresponding [Get](get--metadata-exchange--http-request-and-message.md) message.</span></span>

<span data-ttu-id="5c886-140">Wenn die vom Programm gesendeten HTTP-Anforderungen oder Metadatenaustausch-Nachrichten diesen Datenverkehrs Anforderungen nicht entsprechen, wurde die Ursache des Problems erfolgreich identifiziert, und es sind keine weiteren Schritte zur Problembehandlung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5c886-140">If the HTTP requests or metadata exchange messages sent by the program do not conform to these traffic requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="5c886-141">Schreiben Sie das Programm so um, dass konforme Nachrichten und Anforderungen generiert werden, und testen Sie das Programm erneut.</span><span class="sxs-lookup"><span data-stu-id="5c886-141">Rewrite the program so that it generates conformant messages and requests and retest the program.</span></span>

<span data-ttu-id="5c886-142">Wenn die Ursache des Problems weiterhin nicht identifiziert werden kann, wenden Sie sich an den Microsoft Support, um Hilfe zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="5c886-142">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="5c886-143">Bevor Sie sich an den Support wenden, erfassen Sie die entsprechenden Protokolldateien, um die Ursache des Problems zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="5c886-143">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="5c886-144">Weitere Informationen finden Sie unter [Aktivieren der WSDAPI](enabling-wsdapi-tracing.md)-Ablauf Verfolgung.</span><span class="sxs-lookup"><span data-stu-id="5c886-144">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="5c886-145">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="5c886-145">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5c886-146">WSDAPI-Diagnose Prozeduren</span><span class="sxs-lookup"><span data-stu-id="5c886-146">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="5c886-147">Ersten Schritte mit der WSDAPI-Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="5c886-147">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="5c886-148">Herunterladen von Netmon und Beispiel-DPWS-Filtern</span><span class="sxs-lookup"><span data-stu-id="5c886-148">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



