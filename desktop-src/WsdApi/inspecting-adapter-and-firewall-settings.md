---
description: Eine falsch konfigurierte Firewall kann dazu führen, dass WSD-Anwendungen fehlschlagen.
ms.assetid: eba61235-29b4-463a-b7c5-d34d3b39b095
title: Überprüfen der Adapter-und Firewalleinstellungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 490909c9f3acdc3025e72350118f303bfdae73d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104344878"
---
# <a name="inspecting-adapter-and-firewall-settings"></a><span data-ttu-id="1f0c8-103">Überprüfen der Adapter-und Firewalleinstellungen</span><span class="sxs-lookup"><span data-stu-id="1f0c8-103">Inspecting Adapter and Firewall Settings</span></span>

<span data-ttu-id="1f0c8-104">Eine falsch konfigurierte Firewall kann dazu führen, dass WSD-Anwendungen fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-104">A misconfigured firewall can cause WSD applications to fail.</span></span> <span data-ttu-id="1f0c8-105">Dieses Thema enthält einige Verfahren zur Problembehandlung, die verwendet werden können, wenn WSD-Clients und-Hosts sich nicht gegenseitig im Netzwerk sehen.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-105">This topic provides some troubleshooting procedures to use when WSD clients and hosts cannot see each other on the network.</span></span> <span data-ttu-id="1f0c8-106">Die Firewalleinstellungen sollten vor der Verwendung anderer anwendungsproblembehandlungs-Verfahren überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-106">The firewall settings should be inspected before using any other application troubleshooting procedure.</span></span>

<span data-ttu-id="1f0c8-107">**So überprüfen Sie die Adapter-und Firewalleinstellungen**</span><span class="sxs-lookup"><span data-stu-id="1f0c8-107">**To inspect the adapter and firewall settings**</span></span>

1.  <span data-ttu-id="1f0c8-108">Vergewissern Sie sich, dass die **Netzwerk** Ermittlungs Ausnahme aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-108">Verify that the **Network Discovery** exception is enabled.</span></span>
2.  <span data-ttu-id="1f0c8-109">Stellen Sie fest, dass die Anwendung nicht durch anwendungsspezifische Firewallregeln blockiert wird.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-109">Check that there are no application-specific firewall rules blocking the application.</span></span>
3.  <span data-ttu-id="1f0c8-110">Aktivieren Sie die Ports, die für den Discovery-und Metadatenaustausch verwendet werden</span><span class="sxs-lookup"><span data-stu-id="1f0c8-110">Explicitly enable the ports used for discovery and metadata exchange.</span></span>
4.  <span data-ttu-id="1f0c8-111">Deaktivieren Sie die Firewall, und testen Sie die Anwendung erneut.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-111">Disable the firewall and retest the application.</span></span>
    > [!Note]  
    > <span data-ttu-id="1f0c8-112">Die Firewall sollte nach Abschluss dieses Schritts erneut aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-112">The firewall should be re-enabled after completing this step.</span></span>

     

## <a name="verifying-that-the-network-discovery-exception-is-enabled"></a><span data-ttu-id="1f0c8-113">Es wird überprüft, ob die Netzwerk Ermittlungs Ausnahme aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-113">Verifying that the Network Discovery exception is enabled</span></span>

<span data-ttu-id="1f0c8-114">Wenn WS-Discovery Anwendungen ausgeführt werden, muss die Firewallausnahme für die **Netzwerk** Ermittlung zugelassen werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-114">If any WS-Discovery applications are running, the **Network Discovery** firewall exception must be allowed.</span></span>

<span data-ttu-id="1f0c8-115">**So aktivieren Sie die Firewallausnahme für die Netzwerk Ermittlung**</span><span class="sxs-lookup"><span data-stu-id="1f0c8-115">**To enable the Network Discovery firewall exception**</span></span>

1.  <span data-ttu-id="1f0c8-116">Klicken Sie im **Startmenü** auf **Ausführen**, und geben Sie dann **firewall.cpl** ein.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-116">Click **Start**, click **Run**, and then type **firewall.cpl**.</span></span> <span data-ttu-id="1f0c8-117">Dadurch wird das Applet **Windows-Firewall-Systemsteuerung** geöffnet.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-117">This opens the **Windows Firewall Control Panel** applet.</span></span>
2.  <span data-ttu-id="1f0c8-118">Wählen Sie **Programm durch Windows-Firewall zulassen** aus.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-118">Choose **Allow a program through Windows Firewall**.</span></span>
3.  <span data-ttu-id="1f0c8-119">Aktivieren Sie auf der Registerkarte **Ausnahmen** das Kontrollkästchen **Netzwerk** Ermittlung.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-119">On the **Exceptions** tab, select the **Network Discovery** check box.</span></span>
4.  <span data-ttu-id="1f0c8-120">Klicken Sie auf **OK** , um das Applet Firewall zu schließen.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-120">Click **OK** to close the firewall applet.</span></span>

<span data-ttu-id="1f0c8-121">Testen Sie das Programm erneut, nachdem Sie diese firewalländerung vorgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-121">Retest the program after making this firewall change.</span></span> <span data-ttu-id="1f0c8-122">Wenn das Programm nun erfolgreich funktioniert, wurde die Ursache des Problems identifiziert, und es sind keine weiteren Schritte zur Problembehandlung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-122">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="1f0c8-123">Fahren Sie andernfalls mit dem nächsten Schritt fort.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-123">Otherwise, move on to the next step.</span></span>

## <a name="checking-for-application-specific-firewall-rules"></a><span data-ttu-id="1f0c8-124">Überprüfen auf anwendungsspezifische Firewallregeln</span><span class="sxs-lookup"><span data-stu-id="1f0c8-124">Checking for application-specific firewall rules</span></span>

<span data-ttu-id="1f0c8-125">Die erweiterte Konfiguration der Windows-Firewall kann in einem MMC-Snap-in (Microsoft Management Control) namens **Windows-Firewall mit** erweiterter Sicherheit stattfinden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-125">Advanced configuration of the Windows Firewall can take place in a Microsoft Management Control (MMC) snap-in named **Windows Firewall with Advanced Security**.</span></span> <span data-ttu-id="1f0c8-126">Dieses Snap-in kann verwendet werden, um verdächtige Firewallprobleme zu beheben.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-126">This snap-in can be used to troubleshoot suspected firewall problems.</span></span>

<span data-ttu-id="1f0c8-127">Entwickler können die APIs der [Windows-Firewall mit](/previous-versions/windows/desktop/ics/windows-firewall-with-advanced-security-reference) erweiterter Sicherheit verwenden, um Firewallregeln zu erstellen, die für Ihre WSD-Anwendungen gelten.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-127">Developers can use the [Windows Firewall with Advanced Security](/previous-versions/windows/desktop/ics/windows-firewall-with-advanced-security-reference) APIs to create firewall rules that apply to their WSD applications.</span></span> <span data-ttu-id="1f0c8-128">Insbesondere kann die [**Add**](/previous-versions/windows/desktop/api/netfw/nf-netfw-inetfwrules-add) -Methode der [**inetfwrules**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwrules) -Schnittstelle verwendet werden, um eine neue Firewallregel hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-128">Specifically, the [**Add**](/previous-versions/windows/desktop/api/netfw/nf-netfw-inetfwrules-add) method of the [**INetFwRules**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwrules) interface can be used to add a new firewall rule.</span></span> <span data-ttu-id="1f0c8-129">Wenn Firewallregeln nicht ordnungsgemäß erstellt werden, können Clients und Hosts möglicherweise nicht im Netzwerk angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-129">If firewall rules are created incorrectly, clients and hosts may not be able to see each other on the network.</span></span>

<span data-ttu-id="1f0c8-130">**So überprüfen Sie anwendungsspezifische Firewallregeln**</span><span class="sxs-lookup"><span data-stu-id="1f0c8-130">**To check for application-specific firewall rules**</span></span>

1.  <span data-ttu-id="1f0c8-131">Klicken Sie auf **Start**, klicken Sie auf **Ausführen**, und geben Sie dann **WF. msc** ein.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-131">Click **Start**, click **Run**, and then type **wf.msc**.</span></span>
2.  <span data-ttu-id="1f0c8-132">Suchen Sie nach anwendungsspezifischen Regeln, die den Datenverkehr möglicherweise blockieren.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-132">Look for application-specific rules that may be blocking traffic.</span></span> <span data-ttu-id="1f0c8-133">Weitere Informationen finden Sie unter [Windows-Firewall mit erweiterter Sicherheit-Diagnose und Tools zur Problem](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc722062(v=ws.10)?ocid=fwlink)Behandlung.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-133">For more information, see [Windows Firewall with Advanced Security - Diagnostics and Troubleshooting Tools](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc722062(v=ws.10)?ocid=fwlink).</span></span>
3.  <span data-ttu-id="1f0c8-134">Entfernen Sie anwendungsspezifische Regeln.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-134">Remove application-specific rules.</span></span>

<span data-ttu-id="1f0c8-135">Wenn keine anwendungsspezifischen Regeln gefunden werden, fahren Sie mit dem nächsten Schritt fort.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-135">If no application-specific rules were found, move on to the next step.</span></span> <span data-ttu-id="1f0c8-136">Wenn eine anwendungsspezifische Regel gefunden und entfernt wurde, testen Sie das Programm erneut, nachdem Sie die Firewall geändert haben.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-136">If an application-specific rule was found and removed, retest the program after making the firewall change.</span></span> <span data-ttu-id="1f0c8-137">Wenn das Programm nun erfolgreich funktioniert, wurde die Ursache des Problems identifiziert, und es sind keine weiteren Schritte zur Problembehandlung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-137">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="1f0c8-138">Fahren Sie andernfalls mit dem nächsten Schritt fort.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-138">Otherwise, move on to the next step.</span></span>

## <a name="enabling-the-ports-used-for-discovery-and-metadata-exchange"></a><span data-ttu-id="1f0c8-139">Aktivieren der Ports, die für Ermittlungs-und Metadatenaustausch verwendet werden</span><span class="sxs-lookup"><span data-stu-id="1f0c8-139">Enabling the ports used for discovery and metadata exchange</span></span>

<span data-ttu-id="1f0c8-140">WS-Discovery verwendet den UDP-Port 3702 für den Nachrichtenaustausch.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-140">WS-Discovery uses the UDP port 3702 for message exchange.</span></span> <span data-ttu-id="1f0c8-141">Außerdem werden die TCP-Ports 5357 und 5358 manchmal für Metadatenaustausch verwendet.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-141">In addition, TCP ports 5357 and 5358 are sometimes used for metadata exchange.</span></span> <span data-ttu-id="1f0c8-142">Diese Ports können mithilfe der unter [Öffnen eines Ports in der Windows-Firewall](https://windowshelp.microsoft.com/Windows/Help/4da18300-9044-47b6-9038-595c78db81ab1033.mspx)beschriebenen Verfahren explizit in der Firewall geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-142">These ports can be explicitly opened on the firewall using the procedures described in [Open a port in Windows Firewall](https://windowshelp.microsoft.com/Windows/Help/4da18300-9044-47b6-9038-595c78db81ab1033.mspx).</span></span>

<span data-ttu-id="1f0c8-143">Testen Sie das Programm erneut, nachdem Sie diese firewalländerung vorgenommen haben.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-143">Retest the program after making this firewall change.</span></span> <span data-ttu-id="1f0c8-144">Wenn das Programm nun erfolgreich funktioniert, wurde die Ursache des Problems identifiziert, und es sind keine weiteren Schritte zur Problembehandlung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-144">If the program now works successfully, the cause of the problem has been identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="1f0c8-145">Fahren Sie andernfalls mit dem nächsten Schritt fort.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-145">Otherwise, move on to the next step.</span></span>

## <a name="disabling-the-firewall"></a><span data-ttu-id="1f0c8-146">Deaktivieren der Firewall</span><span class="sxs-lookup"><span data-stu-id="1f0c8-146">Disabling the firewall</span></span>

<span data-ttu-id="1f0c8-147">Die Windows-Firewall kann deaktiviert werden, um die Behandlung von verdächtigen Problemen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-147">The Windows Firewall can be disabled to help troubleshoot suspected problems.</span></span> <span data-ttu-id="1f0c8-148">Andere anwendbare Firewalls (z. b. die Firewall auf einem Router) können auch zu Problem Behandlungszwecken deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-148">Other applicable firewalls (such as the firewall on a router) can also be disabled for troubleshooting purposes.</span></span> <span data-ttu-id="1f0c8-149">Informationen zum Aktivieren und Deaktivieren der Windows-Firewall finden Sie unter Aktivieren oder Deaktivieren der [Windows](https://windowshelp.microsoft.com/Windows/Help/bfe523a9-7eec-4d3f-add1-2f68b9cfa1c01033.mspx)-Firewall.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-149">For information about enabling and disabling the Windows Firewall, see [Turn Windows Firewall on or off](https://windowshelp.microsoft.com/Windows/Help/bfe523a9-7eec-4d3f-add1-2f68b9cfa1c01033.mspx).</span></span>

<span data-ttu-id="1f0c8-150">Testen Sie die Anwendung neu, nachdem Sie alle anwendbaren Firewalls deaktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-150">Retest the application after disabling any applicable firewalls.</span></span> <span data-ttu-id="1f0c8-151">Wenn das Programm nun erfolgreich funktioniert, hat die Firewall den Datenverkehr blockiert.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-151">If the program now works successfully, then the firewall was blocking the traffic.</span></span> <span data-ttu-id="1f0c8-152">Es gibt einige mögliche Ursachen für blockierten Datenverkehr.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-152">There are a few possible causes of blocked traffic.</span></span>

-   <span data-ttu-id="1f0c8-153">Anwendungsspezifische Ausnahmen haben den Datenverkehr blockiert.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-153">Application-specific exceptions blocked the traffic.</span></span> <span data-ttu-id="1f0c8-154">Suchen Sie wie oben beschrieben nach anwendungsspezifischen Firewallregeln.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-154">Check for application-specific firewall rules as described above.</span></span>
-   <span data-ttu-id="1f0c8-155">Das Gerät benötigte zu lange, um auf UDP-Anforderungen zu reagieren.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-155">The device took too long to respond to UDP requests.</span></span> <span data-ttu-id="1f0c8-156">Die Windows-Firewall blockiert möglicherweise UDP-Antworten, die mehr als 4 Sekunden nach dem Senden der ursprünglichen Anforderung zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-156">The Windows Firewall may block UDP responses that return more than 4 seconds after the initial request was sent.</span></span> <span data-ttu-id="1f0c8-157">Setzen Sie die Problembehandlung fort, indem Sie die Anweisungen unter [Verwenden eines generischen Hosts und Clients für die UDP-WS-](using-a-generic-host-and-client-for-udp-ws-discovery.md) Ermittlung befolgen, um festzustellen, ob das Problem mit einem Host, der in weniger als 4 Sekunden antwortet, neu erzeugt</span><span class="sxs-lookup"><span data-stu-id="1f0c8-157">Continue troubleshooting by following the procedures given in [Using a Generic Host and Client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md) to see if the problem reproduces with a host that responds in less than 4 seconds.</span></span>

<span data-ttu-id="1f0c8-158">Wenn die Anwendung nach der Deaktivierung der Firewall weiterhin ausfällt, verursacht die Firewall nicht den Anwendungsfehler.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-158">If the application still fails after the firewall is disabled, then the firewall is not causing the application failure.</span></span> <span data-ttu-id="1f0c8-159">Aktivieren Sie die Firewalls erneut, und fahren Sie mit der Problembehandlung fort, indem Sie die Anweisungen unter [Verwenden eines generischen Hosts und Clients für UDP-WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md)befolgen.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-159">Re-enable the firewalls and continue troubleshooting by following the procedures given in [Using a Generic Host and Client for UDP WS-Discovery](using-a-generic-host-and-client-for-udp-ws-discovery.md).</span></span>

<span data-ttu-id="1f0c8-160">Firewalls sollten nach Abschluss der Problembehandlung immer erneut aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="1f0c8-160">Firewalls should always be re-enabled after troubleshooting has finished.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1f0c8-161">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="1f0c8-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1f0c8-162">WSDAPI-Diagnose Prozeduren</span><span class="sxs-lookup"><span data-stu-id="1f0c8-162">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="1f0c8-163">Ersten Schritte mit der WSDAPI-Problembehandlung</span><span class="sxs-lookup"><span data-stu-id="1f0c8-163">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> </dl>

 

 
