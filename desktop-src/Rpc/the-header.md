---
title: Der Header
description: Der folgende Header stellt einen der Header Stile dar, der von der aktuellen Version von "Mittel l" generiert werden kann. Zur einfacheren Bereitstellung wird hier die vollständige Liste der Header Felder bereitgestellt.
ms.assetid: 2078d2d9-1757-4449-9cc1-a21804654722
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0afcc9ad880278fdbcb8efc45fdabdc22ad06224
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "103858437"
---
# <a name="the-header"></a><span data-ttu-id="13157-104">Der Header</span><span class="sxs-lookup"><span data-stu-id="13157-104">The Header</span></span>

<span data-ttu-id="13157-105">Der folgende Header stellt einen der Header Stile dar, der von der aktuellen Version von "Mittel l" generiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="13157-105">The following header represents one of the header styles that can be generated by the current version of MIDL.</span></span> <span data-ttu-id="13157-106">Zur einfacheren Bereitstellung wird hier die vollständige Liste der Header Felder bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="13157-106">For convenience, the full list of header fields is provided here.</span></span>

<span data-ttu-id="13157-107">([**– OIF**](/windows/desktop/Midl/-oi) -Header)</span><span class="sxs-lookup"><span data-stu-id="13157-107">([**–Oif**](/windows/desktop/Midl/-oi) header)</span></span>

``` syntax
handle_type<1> 
Oi_flags<1>
[rpc_flags<4>]
proc_num<2>  
stack_size<2>
[explicit_handle_description<>]
constant_client_buffer_size<2>
constant_server_buffer_size<2>
INTERPRETER_OPT_FLAGS<1>
number_of_params<1>
```

<span data-ttu-id="13157-108">Erweiterungen beginnend mit Windows 2000: <8> für 32-Bit, <12> für 64-Bit)</span><span class="sxs-lookup"><span data-stu-id="13157-108">Extensions starting with Windows 2000: <8> for 32-bit, <12> for 64-bit)</span></span>

``` syntax
extension_version<1>
INTERPRETER_OPT_FLAGS2<1>
ClientCorrHint<2>
ServerCorrHint<2>
NotifyIndex<2>
[ FloatDoubleMask<2> ]
```

<span data-ttu-id="13157-109">Die Erweiterungs \_ Version<1> gibt die Größe des Erweiterungs Abschnitts in Bytes an.</span><span class="sxs-lookup"><span data-stu-id="13157-109">The extension\_version<1> provides the size of the extension section, in bytes.</span></span> <span data-ttu-id="13157-110">Dies ermöglicht es der aktuellen NDR-Engine, den Erweiterungs Abschnitt auch dann ordnungsgemäß zu überspringen, wenn der Abschnitt von einer neueren Compilerversion mit mehr Feldern stammt, als die aktuelle Engine versteht.</span><span class="sxs-lookup"><span data-stu-id="13157-110">Doing so makes it possible for the current NDR engine to step over the extension section correctly even if the section were to come from a later compiler version with more fields than the current engine understands.</span></span>

<span data-ttu-id="13157-111">Die \_ interpreteropt- \_ FLAGS2 werden wie folgt definiert:</span><span class="sxs-lookup"><span data-stu-id="13157-111">The INTERPRETER\_OPT\_FLAGS2 are defined as follow:</span></span>

``` syntax
typedef struct
  {
  unsigned char   HasNewCorrDesc      : 1;    // 0x01
  unsigned char   ClientCorrCheck     : 1;    // 0x02
  unsigned char   ServerCorrCheck     : 1;    // 0x04
  unsigned char   HasNotify           : 1;    // 0x08
  unsigned char   HasNotify2          : 1;    // 0x10
  unsigned char   Unused              : 3;
  } INTERPRETER_OPT_FLAGS2, *PINTERPRETER_OPT_FLAGS2;
```

<span data-ttu-id="13157-112">Der **hasnewcorrdesc** -Member gibt an, ob neue Korrelations Deskriptoren in den vom Compiler generierten Format Zeichenfolgen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="13157-112">The **HasNewCorrDesc** member indicates whether new correlation descriptors are used in the format strings generated by the compiler.</span></span> <span data-ttu-id="13157-113">Der neue Korrelations Deskriptor bezieht sich auf die Funktion zum Verweigern von Angriffen.</span><span class="sxs-lookup"><span data-stu-id="13157-113">The new correlation descriptor is related to the denial-of-attack functionality.</span></span> <span data-ttu-id="13157-114">Die **clientcorrcheck** -und **servercorrcheck** -Elemente werden festgelegt, wenn die Routine die Korrelations Überprüfung auf der angegeben Seite benötigt.</span><span class="sxs-lookup"><span data-stu-id="13157-114">The **ClientCorrCheck** and **ServerCorrCheck** members are set when the routine needs the correlation check on the indicated side.</span></span>

<span data-ttu-id="13157-115">Die Flags **hasnotify** und **HasNotify2** geben an, dass die Routine das Benachrichtigungs Feature verwendet, das von den Kennzeichen Attributen **\[ \] Benachrichtigen** bzw. **\[ Benachrichtigen \_ \]** definiert wird.</span><span class="sxs-lookup"><span data-stu-id="13157-115">The **HasNotify** and **HasNotify2** flags indicate that the routine uses the notify feature as defined by the **\[notify\]** and **\[notify\_flag\]** attributes, respectively.</span></span>

<span data-ttu-id="13157-116">Der **clientcorrcheck** -Member ist ein Cache Größen Hinweis auf der Clientseite, und **servercorrcheck** ist ein Hinweis auf der Serverseite.</span><span class="sxs-lookup"><span data-stu-id="13157-116">The **ClientCorrCheck** member is a cache size hint on the client side and **ServerCorrCheck** is a hint on the server side.</span></span> <span data-ttu-id="13157-117">Wenn die Größe Null ergibt, sollte eine Standardgröße verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="13157-117">When the size comes out as zero, a default size should be used.</span></span>

<span data-ttu-id="13157-118">Das **notifyindex** -Element ist ein Index für eine Benachrichtigungs Routine, wenn eine verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="13157-118">The **NotifyIndex** element is an index to a notify routine, if one is used.</span></span>

<span data-ttu-id="13157-119">Das **floatdoublemask** -Element adressiert das Problem eines Gleit Komma Arguments für 64-Bit-Windows.</span><span class="sxs-lookup"><span data-stu-id="13157-119">The **FloatDoubleMask** element addresses the issue of a floating point argument for 64-bit Windows.</span></span> <span data-ttu-id="13157-120">Dieses Feld wird nur für 64-Bit-stubwerte generiert.</span><span class="sxs-lookup"><span data-stu-id="13157-120">This field is generated only for 64-bit stubs.</span></span> <span data-ttu-id="13157-121">Die Maske ist für die Assemblyroutinen erforderlich, die die Register/Upload-Register von/zum virtuellen Stapel ausführen, um Gleit Komma Argumente zu verarbeiten und ordnungsgemäß zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="13157-121">The mask is needed for the assembly routines that download/upload registers from/to the virtual stack to handle floating-point arguments and registers properly.</span></span> <span data-ttu-id="13157-122">Die Maske besteht aus 2 Bits pro Argument oder und nicht mit einem Gleit Komma Register.</span><span class="sxs-lookup"><span data-stu-id="13157-122">The mask consist of 2 bits per argument, or rather per floating-point register.</span></span> <span data-ttu-id="13157-123">Das Codieren lautet wie folgt: die am wenigsten wichtigen Bits entsprechen dem ersten FP-Register, die nächsten 2 Bits entsprechen dem zweiten Register usw.</span><span class="sxs-lookup"><span data-stu-id="13157-123">The coding is as follows: The least significant bits correspond to the first FP register, the next 2 bits correspond to the second register, and so on.</span></span>

> [!Note]  
> <span data-ttu-id="13157-124">Bei Objekt Routinen endet das erste Argument im zweiten Register, da dieser Zeiger zuerst ist.</span><span class="sxs-lookup"><span data-stu-id="13157-124">For object routines, the first argument ends up in the second register due to this pointer being first.</span></span> <span data-ttu-id="13157-125">Für jedes Register ist die Bedeutung von Bits wie in der folgenden Tabelle dargestellt.</span><span class="sxs-lookup"><span data-stu-id="13157-125">For each register the meaning of bits is as shown in the following table.</span></span>

 



| <span data-ttu-id="13157-126">Bits</span><span class="sxs-lookup"><span data-stu-id="13157-126">Bits</span></span> | <span data-ttu-id="13157-127">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="13157-127">Meaning</span></span>                                          |
|------|--------------------------------------------------|
| <span data-ttu-id="13157-128">01</span><span class="sxs-lookup"><span data-stu-id="13157-128">01</span></span>   | <span data-ttu-id="13157-129">Ein float-Wert muss in das Register geladen werden.</span><span class="sxs-lookup"><span data-stu-id="13157-129">A float value should be loaded to the register.</span></span>  |
| <span data-ttu-id="13157-130">10</span><span class="sxs-lookup"><span data-stu-id="13157-130">10</span></span>   | <span data-ttu-id="13157-131">Ein Double-Wert muss in das Register geladen werden.</span><span class="sxs-lookup"><span data-stu-id="13157-131">A double value should be loaded to the register.</span></span> |



 

<span data-ttu-id="13157-132">00 und 11 sind ungültige Werte für die Bits.</span><span class="sxs-lookup"><span data-stu-id="13157-132">00 and 11 are invalid values for the bits.</span></span>

<span data-ttu-id="13157-133">Zurzeit gibt es acht FP-Register in einem Intel-Architektur-64-Bit-Prozessor, sodass für die Maske nur die niedrigsten 16B-Bits festgelegt werden können.</span><span class="sxs-lookup"><span data-stu-id="13157-133">Currently there are eight FP registers in an Intel Architecture 64-bit processor, hence the mask can have only 16b lowest bits set.</span></span> <span data-ttu-id="13157-134">Die Masken Größe wurde auf eine Summe von 16 Bits festgelegt, die auf der nicht geänderten C-compilermaske basiert.</span><span class="sxs-lookup"><span data-stu-id="13157-134">The mask size has been set to a total of 16 bits based on the C-compiler mask remaining unchanged.</span></span>

## <a name="header-streamlining-for-performance"></a><span data-ttu-id="13157-135">Header Optimierung für Leistung</span><span class="sxs-lookup"><span data-stu-id="13157-135">Header Streamlining for Performance</span></span>

<span data-ttu-id="13157-136">Um den Code zu vereinfachen und die Leistung zu verbessern, versucht der Compiler, wann immer möglich, einen Header fester Größe zu generieren.</span><span class="sxs-lookup"><span data-stu-id="13157-136">To simplify code and improve performance, the compiler attempts to generate a fixed size header whenever possible.</span></span> <span data-ttu-id="13157-137">Insbesondere wird der folgende Header für Async DCOM verwendet:</span><span class="sxs-lookup"><span data-stu-id="13157-137">In particular, the following header is used for async DCOM:</span></span>

``` syntax
typedef struct _NDR_DCOM_OI2_PROC_HEADER
  {
  unsigned char               HandleType;        // The Oi header
  INTERPRETER_FLAGS           OldOiFlags;        //
  unsigned short              RpcFlagsLow;       //
  unsigned short              RpcFlagsHi;        //
  unsigned short              ProcNum;           //
  unsigned short              StackSize;         //
  // expl handle descr is never generated        //
  unsigned short              ClientBufferSize;  // The Oi2 header
  unsigned short              ServerBufferSize;  //
  INTERPRETER_OPT_FLAGS       Oi2Flags;          //
  unsigned char               NumberParams;      //
  } NDR_DCOM_OI2_PROC_HEADER, *PNDR_DCOM_OI2_PROC_HEADER;
```

 

 