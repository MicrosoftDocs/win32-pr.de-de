---
title: Rückrufe (RPC)
description: Häufig erfordert das Programmiermodell einen Server Rückruf für einen Client über einen Remote Prozedur Aufruf (RPC) oder Client Aufrufe an einen nicht vertrauenswürdigen Server. Dies führt zu vielen potenziellen Fehlerquellen.
ms.assetid: a4f3ea26-ac4b-41e5-abde-96b4baedf2ae
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6260e2cff2cbaff86f210764e89d55859c4d33af
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2020
ms.locfileid: "104040013"
---
# <a name="callbacks-rpc"></a><span data-ttu-id="7857e-104">Rückrufe (RPC)</span><span class="sxs-lookup"><span data-stu-id="7857e-104">Callbacks (RPC)</span></span>

<span data-ttu-id="7857e-105">Häufig erfordert das Programmiermodell einen Server Rückruf für einen Client über einen Remote Prozedur Aufruf (RPC) oder Client Aufrufe an einen nicht vertrauenswürdigen Server.</span><span class="sxs-lookup"><span data-stu-id="7857e-105">Often the programming model necessitates a server callback to a client through a remote procedure call (RPC), or client calls into an untrusted server.</span></span> <span data-ttu-id="7857e-106">Dies führt zu vielen potenziellen Fehlerquellen.</span><span class="sxs-lookup"><span data-stu-id="7857e-106">This introduces many potential pitfalls.</span></span>

<span data-ttu-id="7857e-107">Zuerst muss der Rückruf an den Client mit einer ausreichend niedrigen Identitätswechsel Ebene durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="7857e-107">First, callback to the client must be made with a sufficiently low impersonation level.</span></span> <span data-ttu-id="7857e-108">Wenn es sich bei dem Server um einen Systemdienst mit hohen Berechtigungen handelt, kann es für den Client ausreichend Berechtigungen geben, das System zu übernehmen, wenn Sie einen lokalen Client mit einer Identitätswechsel Ebene von Identitätswechsel oder höher aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7857e-108">If the server is a highly privileged system service, calling back a local client with an impersonation level of impersonate or higher can provide the client with privileges sufficient to take over the system.</span></span> <span data-ttu-id="7857e-109">Wenn Sie einen Remote Client mit einer höheren Identitätswechsel Ebene als notwendig aufrufen, kann dies auch zu unerwünschten Folgen führen.</span><span class="sxs-lookup"><span data-stu-id="7857e-109">Calling back a remote client with higher impersonation level than necessary can also lead to undesirable consequences.</span></span>

<span data-ttu-id="7857e-110">Zweitens: Wenn ein Angreifer den Dienst zur Durchführung eines Rückrufs veranlasst, kann er das sogenannte *Black Hole*– Denial of Service-Angriff starten.</span><span class="sxs-lookup"><span data-stu-id="7857e-110">Second, if an attacker induces your service to perform a callback, it can launch what is called a *black hole*—denial of service attack.</span></span> <span data-ttu-id="7857e-111">Derartige Angriffe sind nicht spezifisch für RPC. bei diesen Angriffen werden Sie von einem Computer dazu veranlasst, Datenverkehr an ihn zu senden, aber er antwortet nicht auf Ihre Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="7857e-111">Such attacks are not specific to RPC; in these attacks, a machine induces you to send traffic to it, but it does not respond to your requests.</span></span> <span data-ttu-id="7857e-112">Sie werden immer mehr Ressourcen zum Aufrufen der schwarzen Lücke, aber Sie werden nie zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="7857e-112">You sink more and more resources into calling the black hole, but they never come back.</span></span> <span data-ttu-id="7857e-113">Ein allgemeines Beispiel für einen solchen Angriff ist ein Angriff auf TCP-Ebene, der als TCP/IP-SYN-Überflutungs Angriff bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="7857e-113">One generic example of such an attack is a TCP-level attack called a TCP/IP SYN flood attack.</span></span>

<span data-ttu-id="7857e-114">Auf der RPC-Ebene kommt es zu einem einfachen Black-Hole-Angriff, wenn ein Angreifer eine Schnittstelle aufruft, und fordert den Server auf, die Schnittstelle zurück aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="7857e-114">On the RPC level, a simple black-hole attack occurs when an attacker calls an interface, and requests the server to call the interface back.</span></span> <span data-ttu-id="7857e-115">Die-Schnittstelle erfüllt, aber der Angreifer gibt den-Befehl nicht zurück: ein Thread auf dem Server ist gebunden.</span><span class="sxs-lookup"><span data-stu-id="7857e-115">The interface complies, but the attacker never returns the call: one thread on the server is tied up.</span></span> <span data-ttu-id="7857e-116">Der Angreifer führt dies 100-Mal durch, wobei 100 Threads auf dem Server gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="7857e-116">The attacker does this 100 times, tying 100 threads on the server.</span></span> <span data-ttu-id="7857e-117">Der Server hat schließlich nicht mehr genügend Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="7857e-117">Eventually the server runs out of memory.</span></span> <span data-ttu-id="7857e-118">Das Debuggen des Servers kann die Identität des Aufrufers der schwarzen Löcher offenlegen, aber häufig wird der Server neu gestartet, ohne dass ein falsches Spiel zu vermuten ist, oder es ist nicht genügend Fachwissen verfügbar, um den Angreifer zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="7857e-118">Debugging the server can potentially reveal the identity of the black-hole caller, but often the server will be restarted without suspecting foul play, or there may not be enough expertise available to determine the attacker.</span></span>

<span data-ttu-id="7857e-119">Der dritte Fall ist auf dem Client.</span><span class="sxs-lookup"><span data-stu-id="7857e-119">The third pitfall is on the client.</span></span> <span data-ttu-id="7857e-120">Häufig Ruft ein Client den Server auf, der den Server darüber informiert, wie Sie ihn zurück aufrufen (normalerweise eine Zeichen folgen Bindung), und wartet dann auf den Empfang eines Aufrufens vom Server</span><span class="sxs-lookup"><span data-stu-id="7857e-120">Often a client makes a call to the server informing the server how to call it back (usually a string binding), and then waits for a call from the server to arrive, blindly accepting any call on that endpoint that claims to come from the server.</span></span> <span data-ttu-id="7857e-121">Das Rückruf Protokoll vom Server an den Client sollte über einen Überprüfungsmechanismus verfügen, um sicherzustellen, dass der Rückruf beim Client tatsächlich vom Server stammt.</span><span class="sxs-lookup"><span data-stu-id="7857e-121">The callback protocol from the server to the client should include some verification mechanism to ensure that when the callback comes to the client, it actually originated on the server.</span></span>

 

 




