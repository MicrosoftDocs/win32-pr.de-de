---
title: Registrieren von Schnittstellen
description: Registrieren einer Remote Prozedur Aufruf-Schnittstelle (RPC).
ms.assetid: c22e3fa8-98be-461a-b06d-292d3f655ffc
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 30ea9e851e8c9663c8f66d983d3400b1ee398a9d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104206235"
---
# <a name="registering-interfaces"></a><span data-ttu-id="e6450-103">Registrieren von Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="e6450-103">Registering Interfaces</span></span>

<span data-ttu-id="e6450-104">In diesem Abschnitt wird ausführlich erläutert, wie Sie eine RPC-Schnittstelle registrieren.</span><span class="sxs-lookup"><span data-stu-id="e6450-104">This section presents a detailed discussion of the process of registering an RPC interface.</span></span>

<span data-ttu-id="e6450-105">Die Informationen in diesem Abschnitt finden Sie in den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="e6450-105">The information in this section is presented in the following topics:</span></span>

-   [<span data-ttu-id="e6450-106">Schnittstellen Registrierungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="e6450-106">Interface Registration Functions</span></span>](#interface-registration-functions)
-   [<span data-ttu-id="e6450-107">Einstiegspunkt Vektoren</span><span class="sxs-lookup"><span data-stu-id="e6450-107">Entry-Point Vectors</span></span>](#entry-point-vectors)
-   [<span data-ttu-id="e6450-108">Manager-EPVs</span><span class="sxs-lookup"><span data-stu-id="e6450-108">Manager EPVs</span></span>](#manager-epvs)
-   [<span data-ttu-id="e6450-109">Registrieren einer einzelnen Implementierung einer Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="e6450-109">Registering a Single Implementation of an Interface</span></span>](#registering-a-single-implementation-of-an-interface)
-   [<span data-ttu-id="e6450-110">Registrieren mehrerer Implementierungen einer Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="e6450-110">Registering Multiple Implementations of an Interface</span></span>](#registering-multiple-implementations-of-an-interface)
-   [<span data-ttu-id="e6450-111">Regeln zum Aufrufen von Manager-Routinen</span><span class="sxs-lookup"><span data-stu-id="e6450-111">Rules for Invoking Manager Routines</span></span>](#rules-for-invoking-manager-routines)
-   [<span data-ttu-id="e6450-112">Senden eines Remote Prozedur Aufrufes an eine Server-Manager Routine</span><span class="sxs-lookup"><span data-stu-id="e6450-112">Dispatching a Remote Procedure Call to a Server-Manager Routine</span></span>](#dispatching-a-remote-procedure-call-to-a-server-manager-routine)
-   [<span data-ttu-id="e6450-113">Bereitstellen Ihrer eigenen Object-Inquiry-Funktion</span><span class="sxs-lookup"><span data-stu-id="e6450-113">Supplying Your Own Object-Inquiry Function</span></span>](#supplying-your-own-object-inquiry-function)

## <a name="interface-registration-functions"></a><span data-ttu-id="e6450-114">Schnittstellen Registrierungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="e6450-114">Interface Registration Functions</span></span>

<span data-ttu-id="e6450-115">Server registrieren ihre Schnittstellen durch Aufrufen der Funktion [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif) .</span><span class="sxs-lookup"><span data-stu-id="e6450-115">Servers register their interfaces by calling the [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif) function.</span></span> <span data-ttu-id="e6450-116">Komplexe Serverprogramme unterstützen häufig mehr als eine Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="e6450-116">Complex server programs often support more than one interface.</span></span> <span data-ttu-id="e6450-117">Server Anwendungen müssen diese Funktion für jede Schnittstelle, die Sie unterstützen, einmal aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="e6450-117">Server applications must call this function once for each interface they support.</span></span>

<span data-ttu-id="e6450-118">Außerdem können Server mehrere Versionen derselben Schnittstelle unterstützen, von denen jede über eine eigene Implementierung der Schnittstellen Funktionen verfügt.</span><span class="sxs-lookup"><span data-stu-id="e6450-118">Also, servers can support multiple versions of the same interface, each with its own implementation of the interface's functions.</span></span> <span data-ttu-id="e6450-119">Wenn das Serverprogramm dies durchführt, muss es einen Satz von Einstiegspunkten bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="e6450-119">If your server program does this, it must provide a set of entry points.</span></span> <span data-ttu-id="e6450-120">Ein Einstiegspunkt ist eine Manager-Routine, die Aufrufe für eine Version einer Schnittstelle sendet.</span><span class="sxs-lookup"><span data-stu-id="e6450-120">An entry point is a manager routine that dispatches calls for a version of an interface.</span></span> <span data-ttu-id="e6450-121">Für jede Version der Schnittstelle muss ein Einstiegspunkt vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="e6450-121">There must be one entry point for each version of the interface.</span></span> <span data-ttu-id="e6450-122">Die Gruppe der Einstiegspunkte wird als Einstiegspunkt Vektor bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e6450-122">The group of entry points is called an entry point vector.</span></span> <span data-ttu-id="e6450-123">Weitere Informationen finden Sie unter [Einstiegspunkt Vektoren](#entry-point-vectors).</span><span class="sxs-lookup"><span data-stu-id="e6450-123">For details, see [Entry-Point Vectors](#entry-point-vectors).</span></span>

<span data-ttu-id="e6450-124">Zusätzlich zur Standardfunktion [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif)unterstützt RPC auch andere Schnittstellen Registrierungsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="e6450-124">In addition to the standard function [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), RPC also supports other interface registration functions.</span></span> <span data-ttu-id="e6450-125">Die Funktion [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) erweitert die Funktionen von **RpcServerRegisterIf** , indem es Ihnen ermöglicht, einen Satz von Registrierungsflags (siehe [schnittstellenregistrierungs-Flags](interface-registration-flags.md)), die maximale Anzahl von gleichzeitigen Remote Prozedur aufrufen, die vom Server akzeptiert werden können, und die maximale Größe in Bytes eingehender Datenblöcke anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e6450-125">The [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) function extends the capabilities of **RpcServerRegisterIf** by enabling you to specify a set of registration flags (see [Interface Registration Flags](interface-registration-flags.md)), the maximum number of concurrent remote procedure call requests the server can accept, and the maximum size in bytes of incoming data blocks.</span></span>

<span data-ttu-id="e6450-126">Die RPC-Bibliothek enthält auch eine Funktion mit dem Namen " [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)".</span><span class="sxs-lookup"><span data-stu-id="e6450-126">The RPC library also contains a function called [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex).</span></span> <span data-ttu-id="e6450-127">Wie die Funktion [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif) registriert diese Funktion eine Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="e6450-127">Like the [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif) function, this function registers an interface.</span></span> <span data-ttu-id="e6450-128">Das Serverprogramm kann diese Funktion auch verwenden, um einen Satz von Registrierungsflags (siehe [schnittstellenregistrierungs-Flags](interface-registration-flags.md)), die maximale Anzahl von gleichzeitigen Remote Prozedur Aufrufanforderungen, die der Server akzeptieren kann, und eine Sicherheits Rückruffunktion anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e6450-128">Your server program can also use this function to specify a set of registration flags (see [Interface Registration Flags](interface-registration-flags.md)), the maximum number of concurrent remote procedure call requests the server can accept, and a security callback function.</span></span>

<span data-ttu-id="e6450-129">Die Funktionen [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)und [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) legen Werte in der Registrierungs Tabelle der internen Schnittstelle fest.</span><span class="sxs-lookup"><span data-stu-id="e6450-129">The [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), and [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) functions set values in the internal interface registry table.</span></span> <span data-ttu-id="e6450-130">Diese Tabelle wird verwendet, um die Schnittstelle UUID und die Objekt-UUIDs einem Manager-EPV zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e6450-130">This table is used to map the interface UUID and object UUIDs to a manager EPV.</span></span> <span data-ttu-id="e6450-131">Der Manager-EPV ist ein Array von Funktions Zeigern, das genau einen Funktionszeiger für jeden Funktionsprototyp in der Schnittstelle enthält, die in der IDL-Datei angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="e6450-131">The manager EPV is an array of function pointers that contains exactly one function pointer for each function prototype in the interface specified in the IDL file.</span></span>

<span data-ttu-id="e6450-132">Informationen zum Bereitstellen mehrerer EPVs zur Bereitstellung mehrerer Implementierungen der-Schnittstelle finden Sie unter [mehrere Schnittstellen Implementierungen](#registering-multiple-implementations-of-an-interface).</span><span class="sxs-lookup"><span data-stu-id="e6450-132">For information on supplying multiple EPVs to provide multiple implementations of the interface, see [Multiple Interface Implementations](#registering-multiple-implementations-of-an-interface).</span></span>

<span data-ttu-id="e6450-133">Die Lauf Zeit Bibliothek verwendet die Schnittstellen Registrierungs Tabelle (festgelegt durch Aufrufe der Funktion [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)) und die Objekt Registrierungs Tabelle (durch Aufrufe der Funktion [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype)festgelegt), um dem Funktionszeiger Schnittstellen-und Objekt-UUIDs zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e6450-133">The run-time library uses the interface registry table (set by calls to the function [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)) and the object registry table (set by calls to the function [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype)) to map interface and object UUIDs to the function pointer.</span></span>

<span data-ttu-id="e6450-134">Wenn Sie möchten, dass das Serverprogramm eine Schnittstelle aus der RPC-Lauf Zeit Bibliotheks Registrierung entfernt, müssen Sie die Funktion [**rpcserverunregisterif**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverunregisterif) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="e6450-134">When you want your server program to remove an interface from the RPC run-time library registry, call the [**RpcServerUnregisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverunregisterif) function.</span></span> <span data-ttu-id="e6450-135">Nachdem die Schnittstelle aus der Registrierung entfernt wurde, werden neue Aufrufe für diese Schnittstelle von der RPC-Lauf Zeit Bibliothek nicht mehr akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="e6450-135">After the interface is removed from the registry, the RPC run-time library will no longer accept new calls for that interface.</span></span>

## <a name="entry-point-vectors"></a><span data-ttu-id="e6450-136">Einstiegspunkt Vektoren</span><span class="sxs-lookup"><span data-stu-id="e6450-136">Entry-point Vectors</span></span>

<span data-ttu-id="e6450-137">Der-Manager-Einstiegspunkt Vektor (EPV) ist ein Array von Funktions Zeigern, die auf Implementierungen der in der IDL-Datei angegebenen Funktionen verweisen.</span><span class="sxs-lookup"><span data-stu-id="e6450-137">The manager entry-point vector (EPV) is an array of function pointers that point to implementations of the functions specified in the IDL file.</span></span> <span data-ttu-id="e6450-138">Die Anzahl der Elemente im Array entspricht der Anzahl von Funktionen, die in der IDL-Datei angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="e6450-138">The number of elements in the array corresponds to the number of functions specified in the IDL file.</span></span> <span data-ttu-id="e6450-139">RPC unterstützt mehrere Einstiegspunkt Vektoren, die mehrere Implementierungen der Funktionen darstellen, die in der-Schnittstelle angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="e6450-139">RPC supports multiple entry-point vectors representing multiple implementations of the functions specified in the interface.</span></span>

<span data-ttu-id="e6450-140">Der mittlerer l-Compiler generiert automatisch einen Manager-EPV-Datentyp für die Erstellung von Manager-EPVs.</span><span class="sxs-lookup"><span data-stu-id="e6450-140">The MIDL compiler automatically generates a manager EPV data type for use in constructing manager EPVs.</span></span> <span data-ttu-id="e6450-141">Der-Datentyp hat den Namen \* if-Name \***\_ Server \_ EPV**, wobei *if-Name* den Schnittstellen Bezeichner in der IDL-Datei angibt.</span><span class="sxs-lookup"><span data-stu-id="e6450-141">The data type is named \*if-name\***\_SERVER\_EPV**, where *if-name* specifies the interface identifier in the IDL file.</span></span>

<span data-ttu-id="e6450-142">Der mittlerer l-Compiler erstellt und initialisiert automatisch einen Standard-Manager-EPV unter der Annahme, dass für jede Prozedur in der Schnittstelle eine Manager-Routine mit dem gleichen Namen vorhanden ist und in der IDL-Datei angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="e6450-142">The MIDL compiler automatically creates and initializes a default manager EPV on the assumption that a manager routine of the same name exists for each procedure in the interface and is specified in the IDL file.</span></span>

<span data-ttu-id="e6450-143">Wenn ein Server mehrere Implementierungen derselben Schnittstelle bietet, muss der Server für jede Implementierung einen zusätzlichen Manager-EPV erstellen.</span><span class="sxs-lookup"><span data-stu-id="e6450-143">When a server offers multiple implementations of the same interface, the server must create one additional manager EPV for each implementation.</span></span> <span data-ttu-id="e6450-144">Jeder EPV muss genau einen Einstiegspunkt (Adresse einer Funktion) für jede Prozedur enthalten, die in der IDL-Datei definiert ist.</span><span class="sxs-lookup"><span data-stu-id="e6450-144">Each EPV must contain exactly one entry point (address of a function) for each procedure defined in the IDL file.</span></span> <span data-ttu-id="e6450-145">Die Serveranwendung deklariert und Initialisiert eine-Manager-EPV-Variable vom Typ " \*if-Name \* \* \* \_ Server \_ EPV\*\*" für jede zusätzliche Implementierung der-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="e6450-145">The server application declares and initializes one manager EPV variable of type *if-name\*\*\*\_SERVER\_EPV*\* for each additional implementation of the interface.</span></span> <span data-ttu-id="e6450-146">Um die EPVs zu registrieren, ruft Sie [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) Once für jeden unterstützten Objekttyp auf.</span><span class="sxs-lookup"><span data-stu-id="e6450-146">To register the EPVs it calls [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) once for each object type it supports.</span></span>

<span data-ttu-id="e6450-147">Wenn der Client einen Remote Prozedur Aufrufe an den Server ausführt, wird der EPV, der den Funktionszeiger enthält, basierend auf der Schnittstelle UUID und dem Objekttyp ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="e6450-147">When the client makes a remote procedure call to the server, the EPV containing the function pointer is selected based on the interface UUID and the object type.</span></span> <span data-ttu-id="e6450-148">Der Objekttyp wird von der Objekt-Abfragefunktion oder der durch [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype)kontrollierten Tabellen gesteuerten Zuordnung abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="e6450-148">The object type is derived from the object UUID by the object-inquiry function or the table-driven mapping controlled by [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype).</span></span>

## <a name="manager-epvs"></a><span data-ttu-id="e6450-149">Manager-EPVs</span><span class="sxs-lookup"><span data-stu-id="e6450-149">Manager EPVs</span></span>

<span data-ttu-id="e6450-150">Standardmäßig verwendet der mittlerer l-Compiler die Prozedur Namen aus der IDL-Datei einer Schnittstelle, um einen Manager-EPV zu generieren, den der Compiler direkt in den Serverstub platziert.</span><span class="sxs-lookup"><span data-stu-id="e6450-150">By default, the MIDL compiler uses the procedure names from an interface's IDL file to generate a manager EPV, which the compiler places directly into the server stub.</span></span> <span data-ttu-id="e6450-151">Dieser Standard-EPV wird statisch mithilfe der in der Schnittstellen Definition deklarierten Prozedur Namen initialisiert.</span><span class="sxs-lookup"><span data-stu-id="e6450-151">This default EPV is statically initialized using the procedure names declared in the interface definition.</span></span>

<span data-ttu-id="e6450-152">Wenn Sie einen Vorgesetzten mit dem Standard-EPV registrieren möchten, geben Sie **null** als Wert des *mgrepv* -Parameters in einem Aufrufen der Funktion [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) an.</span><span class="sxs-lookup"><span data-stu-id="e6450-152">To register a manager using the default EPV, specify **NULL** as the value of the *MgrEpv* parameter in a call to either the [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) function.</span></span> <span data-ttu-id="e6450-153">Wenn die von einem Vorgesetzten verwendeten Routine Namen denen der Schnittstellen Definition entsprechen, können Sie diesen Manager mit dem Standard-EPV der vom Mittelwert Compiler generierten Schnittstelle registrieren.</span><span class="sxs-lookup"><span data-stu-id="e6450-153">If the routine names used by a manager correspond to those of the interface definition, you can register this manager using the default EPV of the interface generated by the MIDL compiler.</span></span> <span data-ttu-id="e6450-154">Sie können einen Vorgesetzten auch mit einem von der Serveranwendung bereitgestellten EPV registrieren.</span><span class="sxs-lookup"><span data-stu-id="e6450-154">You can also register a manager using an EPV that the server application supplies.</span></span>

<span data-ttu-id="e6450-155">Ein Server kann (und manchmal) einen nicht-**null** -Manager-EPV für eine Schnittstelle erstellen und registrieren.</span><span class="sxs-lookup"><span data-stu-id="e6450-155">A server can (and sometimes must) create and register a non-**null** manager EPV for an interface.</span></span> <span data-ttu-id="e6450-156">Übergeben Sie die Adresse eines EPV, dessen Wert vom Server als Wert des *mgrepv* a-Parameters deklariert wurde, um eine von der Serveranwendung – bereitgestellte EPV-Anwendung auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="e6450-156">To select a server application–supplied EPV, pass the address of an EPV whose value has been declared by the server as the value of the *MgrEpv* a parameter.</span></span> <span data-ttu-id="e6450-157">Ein Wert ungleich **null** für den *mgrepv* -Parameter a überschreibt immer einen Standard-EPV im Server-Stub.</span><span class="sxs-lookup"><span data-stu-id="e6450-157">A non-**null** value for the *MgrEpv* a parameter always overrides a default EPV in the server stub.</span></span>

<span data-ttu-id="e6450-158">Der-Mittell-Compiler generiert automatisch einen-Manager-EPV-Datentyp (RPC \_ Mgr \_ EPV) für eine Serveranwendung, die beim Erstellen von Manager-EPVs verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="e6450-158">The MIDL compiler automatically generates a manager EPV data type (RPC\_MGR\_EPV) for a server application to use in constructing manager EPVs.</span></span> <span data-ttu-id="e6450-159">Ein Manager-EPV muss genau einen Einstiegspunkt (Funktions Adresse) für jede Prozedur enthalten, die in der IDL-Datei definiert ist.</span><span class="sxs-lookup"><span data-stu-id="e6450-159">A manager EPV must contain exactly one entry point (function address) for each procedure defined in the IDL file.</span></span>

<span data-ttu-id="e6450-160">Ein Server muss in den folgenden Fällen einen EPV ungleich **null** angeben:</span><span class="sxs-lookup"><span data-stu-id="e6450-160">A server must supply a non-**null** EPV in the following cases:</span></span>

-   <span data-ttu-id="e6450-161">Wenn sich die Namen der Manager-Routinen von den in der Schnittstellen Definition deklarierten Prozedur Namen unterscheiden</span><span class="sxs-lookup"><span data-stu-id="e6450-161">When the names of manager routines differ from the procedure names declared in the interface definition</span></span>
-   <span data-ttu-id="e6450-162">Wenn der Server den Standard-EPV zum Registrieren einer anderen Implementierung der-Schnittstelle verwendet</span><span class="sxs-lookup"><span data-stu-id="e6450-162">When the server uses the default EPV for registering another implementation of the interface</span></span>

<span data-ttu-id="e6450-163">Ein Server deklariert einen Manager-EPV, indem er für jede Implementierung der Schnittstelle eine Variable vom Typ " \*if-Name \* \* \* \_ Server \_ EPV\*\*" initialisiert.</span><span class="sxs-lookup"><span data-stu-id="e6450-163">A server declares a manager EPV by initializing a variable of type *if-name\*\*\*\_SERVER\_EPV*\* for each implementation of the interface.</span></span>

## <a name="registering-a-single-implementation-of-an-interface"></a><span data-ttu-id="e6450-164">Registrieren einer einzelnen Implementierung einer Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="e6450-164">Registering a Single Implementation of an Interface</span></span>

<span data-ttu-id="e6450-165">Wenn ein Server nur eine Implementierung einer Schnittstelle bietet, ruft der Server [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) nur einmal auf.</span><span class="sxs-lookup"><span data-stu-id="e6450-165">When a server offers only one implementation of an interface, the server calls [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) only once.</span></span> <span data-ttu-id="e6450-166">Im Standardfall verwendet der Server den Standard-Manager-EPV.</span><span class="sxs-lookup"><span data-stu-id="e6450-166">In the standard case, the server uses the default manager EPV.</span></span> <span data-ttu-id="e6450-167">(Die Ausnahme ist, wenn der Manager Routine Namen verwendet, die sich von den in der-Schnittstelle deklarierten Namen unterscheiden.)</span><span class="sxs-lookup"><span data-stu-id="e6450-167">(The exception is when the manager uses routine names that differ from those declared in the interface.)</span></span>

<span data-ttu-id="e6450-168">Für den Standardfall geben Sie die folgenden Werte für Aufrufe von [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)an:</span><span class="sxs-lookup"><span data-stu-id="e6450-168">For the standard case, you supply the following values for calls to [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2):</span></span>

-   <span data-ttu-id="e6450-169">Manager-EPVs</span><span class="sxs-lookup"><span data-stu-id="e6450-169">Manager EPVs</span></span>

    <span data-ttu-id="e6450-170">Um den Standard-EPV zu verwenden, geben Sie einen **null** -Wert für den *mgrepv* a-Parameter an.</span><span class="sxs-lookup"><span data-stu-id="e6450-170">To use the default EPV, specify a **null** value for the *MgrEpv* a parameter.</span></span>

-   <span data-ttu-id="e6450-171">Manager-Typ UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-171">Manager type UUID</span></span>

    <span data-ttu-id="e6450-172">Wenn Sie den Standard-EPV verwenden, registrieren Sie die Schnittstelle mit einem Nil-Manager-Typ UUID, indem Sie einen **null** -Wert oder eine Nil-UUID für den *mgrtypeuuid* -Parameter angeben.</span><span class="sxs-lookup"><span data-stu-id="e6450-172">When using the default EPV, register the interface with a nil manager type UUID by supplying either a **null** value or a nil UUID for the *MgrTypeUuid* a parameter.</span></span> <span data-ttu-id="e6450-173">In diesem Fall werden alle Remote Prozedur Aufrufe unabhängig von der Objekt-UUID in Ihrem Bindungs Handle an den Standard-EPV gesendet, wobei angenommen wird, dass keine [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Aufrufe durchgeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="e6450-173">In this case, all remote procedure calls, regardless of the object UUID in their binding handle, are dispatched to the default EPV, assuming no [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) calls have been made.</span></span>

    <span data-ttu-id="e6450-174">Sie können auch einen nicht-Nil-Manager-Typ "uuid" angeben.</span><span class="sxs-lookup"><span data-stu-id="e6450-174">You can also provide a non-nil manager type UUID.</span></span> <span data-ttu-id="e6450-175">In diesem Fall müssen Sie auch die [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine aufrufen.</span><span class="sxs-lookup"><span data-stu-id="e6450-175">In this case, you must also call the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine.</span></span>

## <a name="registering-multiple-implementations-of-an-interface"></a><span data-ttu-id="e6450-176">Registrieren mehrerer Implementierungen einer Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="e6450-176">Registering Multiple Implementations of an Interface</span></span>

<span data-ttu-id="e6450-177">Sie können mehr als eine Implementierung der in der IDL-Datei angegebenen remote Prozedur (en) bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="e6450-177">You can supply more than one implementation of the remote procedure(s) specified in the IDL file.</span></span> <span data-ttu-id="e6450-178">Die Serveranwendung ruft [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) auf, um dem Typ UUIDs Objekt-UUIDs zuzuordnen, und ruft [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) auf, um den Typ "uuid" von Manager EPVs zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e6450-178">The server application calls [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) to map object UUIDs to type UUIDs and calls [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) to associate manager EPVs with a type UUID.</span></span> <span data-ttu-id="e6450-179">Wenn ein Remote Prozedur Aufruf mit der Objekt-UUID eingeht, ordnet die RPC-Server Lauf Zeit Bibliothek das Objekt UUID einem Typ UUID zu.</span><span class="sxs-lookup"><span data-stu-id="e6450-179">When a remote procedure call arrives with its object UUID, the RPC server run-time library maps the object UUID to a type UUID.</span></span> <span data-ttu-id="e6450-180">Die Serveranwendung verwendet dann den Typ "uuid" und die Schnittstelle "uuid", um den Manager-EPV auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="e6450-180">The server application then uses the type UUID and the interface UUID to select the manager EPV.</span></span>

<span data-ttu-id="e6450-181">Sie können auch eine eigene Funktion angeben, um die Zuordnung von Objekt UUID zum Manager-Typ UUID aufzulösen.</span><span class="sxs-lookup"><span data-stu-id="e6450-181">You can also specify your own function to resolve the mapping from object UUID to manager type UUID.</span></span> <span data-ttu-id="e6450-182">Sie geben die Zuordnungs Funktion an, wenn Sie " [**rpcobjectsettinqfn**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsetinqfn)" aufrufen.</span><span class="sxs-lookup"><span data-stu-id="e6450-182">You specify the mapping function when you call [**RpcObjectSetInqFn**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsetinqfn).</span></span>

<span data-ttu-id="e6450-183">Zum Bereitstellen mehrerer Implementierungen einer Schnittstelle muss ein Server jede Implementierung durch Aufrufen von [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) separat registrieren.</span><span class="sxs-lookup"><span data-stu-id="e6450-183">To offer multiple implementations of an interface, a server must register each implementation by calling [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) separately.</span></span> <span data-ttu-id="e6450-184">Für jede Implementierung, die ein Server registriert, liefert er denselben *ifspec* -Parameter, aber ein anderes Paar von *mgrtypeuuid* -und *mgrepv* -Parametern.</span><span class="sxs-lookup"><span data-stu-id="e6450-184">For each implementation a server registers, it supplies the same *IfSpec* a parameter, but a different pair of *MgrTypeUuid* and *MgrEpv* a parameters.</span></span>

<span data-ttu-id="e6450-185">Verwenden Sie im Fall mehrerer Manager [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) wie folgt:</span><span class="sxs-lookup"><span data-stu-id="e6450-185">In the case of multiple managers, use [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) as follows:</span></span>

-   <span data-ttu-id="e6450-186">Manager-EPVs</span><span class="sxs-lookup"><span data-stu-id="e6450-186">Manager EPVs</span></span>

    <span data-ttu-id="e6450-187">Zum anbieten mehrerer Implementierungen einer Schnittstelle muss ein Server folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="e6450-187">To offer multiple implementations of an interface, a server must:</span></span>

    -   <span data-ttu-id="e6450-188">Erstellen Sie einen nicht-**null** -Manager-EPV für jede weitere Implementierung.</span><span class="sxs-lookup"><span data-stu-id="e6450-188">Create a non-**null** manager EPV for each additional implementation.</span></span>
    -   <span data-ttu-id="e6450-189">Geben Sie einen Wert ungleich **null** für den *mgrepv* a-Parameter in [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)an.</span><span class="sxs-lookup"><span data-stu-id="e6450-189">Specify a non-**null** value for the *MgrEpv* a parameter in [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2).</span></span>

    <span data-ttu-id="e6450-190">Beachten Sie, dass sich der Server auch beim Standard-Manager-EPV registrieren kann.</span><span class="sxs-lookup"><span data-stu-id="e6450-190">Please note that the server can also register with the default manager EPV.</span></span>

-   <span data-ttu-id="e6450-191">Manager-Typ UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-191">Manager type UUID</span></span>

    <span data-ttu-id="e6450-192">Stellen Sie für jeden EPV der Schnittstelle eine UUID für den Manager bereit.</span><span class="sxs-lookup"><span data-stu-id="e6450-192">Provide a manager type UUID for each EPV of the interface.</span></span> <span data-ttu-id="e6450-193">Der **Nulltyp** UUID (oder NULL-Wert) für den *mgrtypeuuid* -Parameter kann für einen der Manager-EPVs angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="e6450-193">The nil type UUID (or **null** value) for the *MgrTypeUuid* a parameter can be specified for one of the manager EPVs.</span></span> <span data-ttu-id="e6450-194">Jeder Typ UUID muss anders sein.</span><span class="sxs-lookup"><span data-stu-id="e6450-194">Each type UUID must be different.</span></span>

## <a name="rules-for-invoking-manager-routines"></a><span data-ttu-id="e6450-195">Regeln zum Aufrufen von Manager-Routinen</span><span class="sxs-lookup"><span data-stu-id="e6450-195">Rules for Invoking Manager Routines</span></span>

<span data-ttu-id="e6450-196">Die RPC-Lauf Zeit Bibliothek sendet einen eingehenden Remote Prozedur Aufruf an einen Vorgesetzten, der die angeforderte RPC-Schnittstelle anbietet.</span><span class="sxs-lookup"><span data-stu-id="e6450-196">The RPC run-time library dispatches an incoming remote procedure call to a manager that offers the requested RPC interface.</span></span> <span data-ttu-id="e6450-197">Wenn mehrere Manager für eine Schnittstelle registriert sind, muss von der RPC-Lauf Zeit Bibliothek eine ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="e6450-197">When multiple managers are registered for an interface, the RPC run-time library must select one of them.</span></span> <span data-ttu-id="e6450-198">Zur Auswahl eines Vorgesetzten verwendet die RPC-Lauf Zeit Bibliothek die vom Bindungs Handle des Aufrufs angegebene Objekt-UUID.</span><span class="sxs-lookup"><span data-stu-id="e6450-198">To select a manager, the RPC run-time library uses the object UUID specified by the call's binding handle.</span></span>

<span data-ttu-id="e6450-199">Die Lauf Zeit Bibliothek wendet die folgenden Regeln an, wenn die Objekt-UUID eines Remote Prozedur Aufrufes interpretiert wird:</span><span class="sxs-lookup"><span data-stu-id="e6450-199">The run-time library applies the following rules when interpreting the object UUID of a remote procedure call:</span></span>

-   <span data-ttu-id="e6450-200">Nil-Objekt UUIDs</span><span class="sxs-lookup"><span data-stu-id="e6450-200">Nil object UUIDs</span></span>

    <span data-ttu-id="e6450-201">Der UUID des Nil-Objekts wird automatisch der Nulltyp "uuid" zugewiesen (es ist unzulässig, eine NULL-Objekt-UUID in der [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine anzugeben).</span><span class="sxs-lookup"><span data-stu-id="e6450-201">A nil object UUID is automatically assigned the nil type UUID (it is illegal to specify a nil object UUID in the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine).</span></span> <span data-ttu-id="e6450-202">Daher wird ein Remote Prozedur aufruter, dessen Bindungs Handle ein Nil-Objekt UUID enthält, automatisch an den Manager gesendet, der mit dem Nil-Typ UUID registriert ist, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="e6450-202">Therefore, a remote procedure call whose binding handle contains a nil object UUID is automatically dispatched to the manager registered with the nil type UUID, if any.</span></span>

-   <span data-ttu-id="e6450-203">Nicht-Nil-Objekt-UUIDs</span><span class="sxs-lookup"><span data-stu-id="e6450-203">Non-nil object UUIDs</span></span>

    <span data-ttu-id="e6450-204">Im Prinzip sollte ein Remote Prozedur aufrucher, dessen Bindungs Handle ein nicht-Nil-Objekt UUID enthält, von einem Vorgesetzten verarbeitet werden, dessen Typ UUID mit dem Typ der UUID des Objekts übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="e6450-204">In principle, a remote procedure call whose binding handle contains a non-nil object UUID should be processed by a manager whose type UUID matches the type of the object UUID.</span></span> <span data-ttu-id="e6450-205">Wenn Sie jedoch den richtigen Vorgesetzten identifizieren, muss der Server den Typ des Objekts "uuid" durch Aufrufen der " [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) "-Routine angegeben haben.</span><span class="sxs-lookup"><span data-stu-id="e6450-205">However, identifying the correct manager requires that the server has specified the type of that object UUID by calling the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine.</span></span>

    <span data-ttu-id="e6450-206">Wenn ein Server die [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine für eine nicht-Nil-Objekt-UUID nicht aufrufen kann, wird ein Remote Prozedur Aufruf für das Objekt UUID an den Manager-EPV weitergeleitet, der Remote Prozedur Aufrufe mit einem Nil-Objekt UUID (d. h. der Nil-Typ UUID) aufruft.</span><span class="sxs-lookup"><span data-stu-id="e6450-206">If a server fails to call the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine for a non-nil object UUID, a remote procedure call for that object UUID goes to the manager EPV that services remote procedure calls with a nil object UUID (that is, the nil type UUID).</span></span>

    <span data-ttu-id="e6450-207">Remote Prozedur Aufrufe mit einer nicht-Nil-Objekt-UUID im Bindungs Handle können nicht ausgeführt werden, wenn der Server das nicht-Nil-Objekt "uuid" mit dem Typ "uuid" durch Aufrufen der [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine zugewiesen hat. es wurde jedoch nicht auch ein Manager-EPV für den Typ "uuid" registriert, indem [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="e6450-207">Remote procedure calls with a non-nil object UUID in the binding handle cannot be executed if the server assigned that non-nil object UUID a type UUID by calling the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine, but did not also register a manager EPV for that type UUID by calling [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2).</span></span>

<span data-ttu-id="e6450-208">In der folgenden Tabelle werden die Aktionen zusammengefasst, die von der-Lauf Zeit Bibliothek zum Auswählen der Manager-Routine verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e6450-208">The following table summarizes the actions that the run-time library uses to select the manager routine.</span></span>



| <span data-ttu-id="e6450-209">Objekt-UUID des Aufrufes</span><span class="sxs-lookup"><span data-stu-id="e6450-209">Object UUID of call</span></span> | <span data-ttu-id="e6450-210">Der Servertyp für das Objekt "uuid"?</span><span class="sxs-lookup"><span data-stu-id="e6450-210">Server set type for object UUID?</span></span> | <span data-ttu-id="e6450-211">Vom Server registrierter EPV-Typ?</span><span class="sxs-lookup"><span data-stu-id="e6450-211">Server registered EPV type?</span></span> | <span data-ttu-id="e6450-212">Dispatching-Aktion</span><span class="sxs-lookup"><span data-stu-id="e6450-212">Dispatching action</span></span>                                                                                                                                 |
|---------------------|----------------------------------|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="e6450-213">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-213">Nil</span></span>                 | <span data-ttu-id="e6450-214">Nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="e6450-214">Not applicable</span></span>                   | <span data-ttu-id="e6450-215">Ja</span><span class="sxs-lookup"><span data-stu-id="e6450-215">Yes</span></span>                         | <span data-ttu-id="e6450-216">Verwendet den Manager mit dem Nil-Typ UUID.</span><span class="sxs-lookup"><span data-stu-id="e6450-216">Uses the manager with the nil type UUID.</span></span>                                                                                                           |
| <span data-ttu-id="e6450-217">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-217">Nil</span></span>                 | <span data-ttu-id="e6450-218">Nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="e6450-218">Not applicable</span></span>                   | <span data-ttu-id="e6450-219">Nein</span><span class="sxs-lookup"><span data-stu-id="e6450-219">No</span></span>                          | <span data-ttu-id="e6450-220">Fehler ( \_ \_ nicht unterstützter RPC- \_ Typ); lehnt den Remote Prozedur Aufruf ab.</span><span class="sxs-lookup"><span data-stu-id="e6450-220">Error (RPC\_S\_UNSUPPORTED\_TYPE); rejects the remote procedure call.</span></span>                                                                              |
| <span data-ttu-id="e6450-221">Nicht-NULL</span><span class="sxs-lookup"><span data-stu-id="e6450-221">Non-nil</span></span>             | <span data-ttu-id="e6450-222">Ja</span><span class="sxs-lookup"><span data-stu-id="e6450-222">Yes</span></span>                              | <span data-ttu-id="e6450-223">Ja</span><span class="sxs-lookup"><span data-stu-id="e6450-223">Yes</span></span>                         | <span data-ttu-id="e6450-224">Verwendet den Manager mit dem gleichen Typ UUID.</span><span class="sxs-lookup"><span data-stu-id="e6450-224">Uses the manager with the same type UUID.</span></span>                                                                                                          |
| <span data-ttu-id="e6450-225">Nicht-NULL</span><span class="sxs-lookup"><span data-stu-id="e6450-225">Non-nil</span></span>             | <span data-ttu-id="e6450-226">Nein</span><span class="sxs-lookup"><span data-stu-id="e6450-226">No</span></span>                               | <span data-ttu-id="e6450-227">Wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="e6450-227">Ignored</span></span>                     | <span data-ttu-id="e6450-228">Verwendet den Manager mit dem Nil-Typ UUID.</span><span class="sxs-lookup"><span data-stu-id="e6450-228">Uses the manager with the nil type UUID.</span></span> <span data-ttu-id="e6450-229">Wenn kein Manager mit dem Nulltyp UUID, Error (RPC \_ S \_ unsupportedtype) ist, lehnt den Remote Prozedur Aufruf ab.</span><span class="sxs-lookup"><span data-stu-id="e6450-229">If no manager with the nil type UUID, error (RPC\_S\_UNSUPPORTEDTYPE); rejects the remote procedure call.</span></span> |
| <span data-ttu-id="e6450-230">Nicht-NULL</span><span class="sxs-lookup"><span data-stu-id="e6450-230">Non-nil</span></span>             | <span data-ttu-id="e6450-231">Ja</span><span class="sxs-lookup"><span data-stu-id="e6450-231">Yes</span></span>                              | <span data-ttu-id="e6450-232">Nein</span><span class="sxs-lookup"><span data-stu-id="e6450-232">No</span></span>                          | <span data-ttu-id="e6450-233">Fehler (RPC \_ S \_ unsupportedtype); lehnt den Remote Prozedur Aufruf ab.</span><span class="sxs-lookup"><span data-stu-id="e6450-233">Error (RPC\_S\_UNSUPPORTEDTYPE); rejects the remote procedure call.</span></span>                                                                                |



 

<span data-ttu-id="e6450-234">Die Objekt-UUID des Aufrufes ist das Objekt UUID, das in einem Bindungs Handle für einen Remote Prozedur Aufrufvorgang gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="e6450-234">The object UUID of the call is the object UUID found in a binding handle for a remote procedure call.</span></span>

<span data-ttu-id="e6450-235">Der Server legt den Typ der UUID des Objekts fest, indem er [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) aufruft, um den Typ UUID für ein Objekt anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e6450-235">The server sets the type of the object UUID by calling [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) to specify the type UUID for an object.</span></span>

<span data-ttu-id="e6450-236">Der Server registriert den Typ für den Manager-EPV durch Aufrufen von [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) unter Verwendung desselben Typs UUID.</span><span class="sxs-lookup"><span data-stu-id="e6450-236">The server registers the type for the manager EPV by calling [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex) or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) using the same type UUID.</span></span>

> [!Note]  
> <span data-ttu-id="e6450-237">Dem Nil-Objekt UUID wird immer automatisch der Nulltyp UUID zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e6450-237">The nil object UUID is always automatically assigned the nil type UUID.</span></span> <span data-ttu-id="e6450-238">In der [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine ist es unzulässig, eine NULL-Objekt-UUID anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e6450-238">It is illegal to specify a nil object UUID in the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine.</span></span>

 

## <a name="dispatching-a-remote-procedure-call-to-a-server-manager-routine"></a><span data-ttu-id="e6450-239">Senden eines Remote Prozedur Aufrufes an eine Server-Manager-Routine</span><span class="sxs-lookup"><span data-stu-id="e6450-239">Dispatching a Remote Procedure Call to a Server-manager Routine</span></span>

<span data-ttu-id="e6450-240">In den folgenden Tabellen sind die Schritte aufgeführt, die von der RPC-Lauf Zeit Bibliothek zum Senden eines Remote Prozedur Aufrufs an eine Server-Manager-Routine benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="e6450-240">The following tables show the steps that the RPC run-time library takes to dispatch a remote procedure call to a server-manager routine.</span></span>

<span data-ttu-id="e6450-241">Ein einfacher Fall, bei dem der Server den Standard-Manager-EPV registriert, wird in den folgenden Tabellen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="e6450-241">A simple case where the server registers the default manager EPV, is described in the following tables.</span></span>

<span data-ttu-id="e6450-242">**Schnittstellen Registrierungs Tabelle**</span><span class="sxs-lookup"><span data-stu-id="e6450-242">**Interface Registry Table**</span></span>



| <span data-ttu-id="e6450-243">Schnittstellen-UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-243">Interface UUID</span></span> | <span data-ttu-id="e6450-244">Manager-Typ UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-244">Manager type UUID</span></span> | <span data-ttu-id="e6450-245">Einstiegspunkt Vektor</span><span class="sxs-lookup"><span data-stu-id="e6450-245">Entry-point vector</span></span> |
|----------------|-------------------|--------------------|
| <span data-ttu-id="e6450-246">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-246">*uuid1*</span></span>        | <span data-ttu-id="e6450-247">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-247">Nil</span></span>               | <span data-ttu-id="e6450-248">Standard-EPV</span><span class="sxs-lookup"><span data-stu-id="e6450-248">Default EPV</span></span>        |



 

<span data-ttu-id="e6450-249">**Objekt Registrierungs Tabelle**</span><span class="sxs-lookup"><span data-stu-id="e6450-249">**Object Registry Table**</span></span>



| <span data-ttu-id="e6450-250">Objekt-UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-250">Object UUID</span></span>             | <span data-ttu-id="e6450-251">Objekttyp</span><span class="sxs-lookup"><span data-stu-id="e6450-251">Object type</span></span> |
|-------------------------|-------------|
| <span data-ttu-id="e6450-252">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-252">Nil</span></span>                     | <span data-ttu-id="e6450-253">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-253">Nil</span></span>         |
| <span data-ttu-id="e6450-254">(Beliebige andere Objekt-UUID)</span><span class="sxs-lookup"><span data-stu-id="e6450-254">(Any other object UUID)</span></span> | <span data-ttu-id="e6450-255">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-255">Nil</span></span>         |



 

<span data-ttu-id="e6450-256">**Mapping des Bindungs Handles zu einem Einstiegspunkt Vektor (EPV)**</span><span class="sxs-lookup"><span data-stu-id="e6450-256">**Mapping the Binding Handle to an Entry-point Vector (EPV)**</span></span>



| <span data-ttu-id="e6450-257">Interface UUID (aus Client Bindungs handle)</span><span class="sxs-lookup"><span data-stu-id="e6450-257">Interface UUID (from client binding handle)</span></span> | <span data-ttu-id="e6450-258">Objekt-UUID (aus Client Bindungs handle)</span><span class="sxs-lookup"><span data-stu-id="e6450-258">Object UUID (from client binding handle)</span></span> | <span data-ttu-id="e6450-259">Objekttyp (aus Objekt Registrierungs Tabelle)</span><span class="sxs-lookup"><span data-stu-id="e6450-259">Object type (from object registry table)</span></span> | <span data-ttu-id="e6450-260">Manager-EPV (aus Schnittstellen Registrierungs Tabelle)</span><span class="sxs-lookup"><span data-stu-id="e6450-260">Manager EPV (from interface registry table)</span></span> |
|---------------------------------------------|------------------------------------------|------------------------------------------|---------------------------------------------|
| <span data-ttu-id="e6450-261">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-261">*uuid1*</span></span>                                     | <span data-ttu-id="e6450-262">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-262">Nil</span></span>                                      | <span data-ttu-id="e6450-263">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-263">Nil</span></span>                                      | <span data-ttu-id="e6450-264">Standard-EPV</span><span class="sxs-lookup"><span data-stu-id="e6450-264">Default EPV</span></span>                                 |
| <span data-ttu-id="e6450-265">Wie oben</span><span class="sxs-lookup"><span data-stu-id="e6450-265">Same as above</span></span>                               | <span data-ttu-id="e6450-266">*uuida*</span><span class="sxs-lookup"><span data-stu-id="e6450-266">*uuidA*</span></span>                                  | <span data-ttu-id="e6450-267">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-267">Nil</span></span>                                      | <span data-ttu-id="e6450-268">Standard-EPV</span><span class="sxs-lookup"><span data-stu-id="e6450-268">Default EPV</span></span>                                 |



 

<span data-ttu-id="e6450-269">In den folgenden Schritten werden die Aktionen beschrieben, die die Lauf Zeit Bibliothek des RPC-Servers durchführt, wie in den vorangehenden Tabellen dargestellt, wenn ein Client mit der Schnittstelle UUID *uuid1* diese aufruft.</span><span class="sxs-lookup"><span data-stu-id="e6450-269">The following steps describe the actions that the RPC server's run-time library take, as shown in the preceding tables, when a client with interface UUID *uuid1* calls it.</span></span>

1.  <span data-ttu-id="e6450-270">Der Server ruft [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) auf, um eine Schnittstelle mit dem Nil-Manager-Typ UUID und dem von der Mitte generierten Standard-Manager-EPV zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e6450-270">The server calls [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) to associate an interface it offers with the nil manager type UUID and with the MIDL-generated default manager EPV.</span></span> <span data-ttu-id="e6450-271">Dieser Befehl fügt einen Eintrag in die Registrierungs Tabelle der-Schnittstelle ein.</span><span class="sxs-lookup"><span data-stu-id="e6450-271">This call adds an entry in the interface registry table.</span></span> <span data-ttu-id="e6450-272">Die UUID der Schnittstelle ist in den *ifspec* -Parametern enthalten.</span><span class="sxs-lookup"><span data-stu-id="e6450-272">The interface UUID is contained in the *IfSpec* a parameter.</span></span>
2.  <span data-ttu-id="e6450-273">Standardmäßig verknüpft die Objekt Registrierungs Tabelle alle Objekt-UUIDs mit dem Nil-Typ UUID.</span><span class="sxs-lookup"><span data-stu-id="e6450-273">By default, the object registry table associates all object UUIDs with the nil type UUID.</span></span> <span data-ttu-id="e6450-274">In diesem Beispiel ruft der Server " [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype)" nicht auf.</span><span class="sxs-lookup"><span data-stu-id="e6450-274">In this example, the server does not call [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype).</span></span>
3.  <span data-ttu-id="e6450-275">Die Server Lauf Zeit Bibliothek empfängt einen Remote Prozedur Code, der die Schnittstelle uuid enthält, zu der der Aufruf gehört, und das Objekt UUID aus dem Bindungs Handle des Aufrufes.</span><span class="sxs-lookup"><span data-stu-id="e6450-275">The server run-time library receives a remote procedure code containing the interface UUID that the call belongs to and the object UUID from the call's binding handle.</span></span>

    <span data-ttu-id="e6450-276">In den folgenden Funktions Verweis Einträgen finden Sie Informationen dazu, wie ein Objekt UUID in ein Bindungs handle festgelegt wird:</span><span class="sxs-lookup"><span data-stu-id="e6450-276">See the following function reference entries for discussions of how an object UUID is set into a binding handle:</span></span>

    -   [<span data-ttu-id="e6450-277">**Rpcnsbindingimportbegin**</span><span class="sxs-lookup"><span data-stu-id="e6450-277">**RpcNsBindingImportBegin**</span></span>](/windows/desktop/api/Rpcnsi/nf-rpcnsi-rpcnsbindingimportbegina)
    -   [<span data-ttu-id="e6450-278">**Rpcnsbindinglookupbegin**</span><span class="sxs-lookup"><span data-stu-id="e6450-278">**RpcNsBindingLookupBegin**</span></span>](/windows/desktop/api/Rpcnsi/nf-rpcnsi-rpcnsbindinglookupbegina)
    -   [<span data-ttu-id="e6450-279">**RpcBindingFromStringBinding**</span><span class="sxs-lookup"><span data-stu-id="e6450-279">**RpcBindingFromStringBinding**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingfromstringbinding)
    -   [<span data-ttu-id="e6450-280">**Rpcbindingsetobject**</span><span class="sxs-lookup"><span data-stu-id="e6450-280">**RpcBindingSetObject**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetobject)

4.  <span data-ttu-id="e6450-281">Mithilfe der UUID-Schnittstelle aus dem Remote Prozedur Aufruf wird in der Lauf Zeit Bibliothek des Servers diese Schnittstelle uuid in der Registrierungs Tabelle der-Schnittstelle lokalisiert.</span><span class="sxs-lookup"><span data-stu-id="e6450-281">Using the interface UUID from the remote procedure call, the server's run-time library locates that interface UUID in the interface registry table.</span></span>

    <span data-ttu-id="e6450-282">Wenn der Server die Schnittstelle nicht mithilfe von [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)registriert hat, wird der Remote Prozedur Aufruf an den Aufrufer zurückgegeben, \_ Wenn der \_ Statuscode RPC S unbekannt ist \_ .</span><span class="sxs-lookup"><span data-stu-id="e6450-282">If the server did not register the interface using [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2), then the remote procedure call returns to the caller with an RPC\_S\_UNKNOWN\_IF status code.</span></span>

5.  <span data-ttu-id="e6450-283">Mithilfe der Objekt-UUID aus dem Bindungs Handle wird in der Lauf Zeit Bibliothek des Servers das Objekt UUID in der Objekt Registrierungs Tabelle angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e6450-283">Using the object UUID from the binding handle, the server's run-time library locates that object UUID in the object registry table.</span></span> <span data-ttu-id="e6450-284">In diesem Beispiel werden alle Objekt-UUIDs dem Nil-Objekttyp zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="e6450-284">In this example, all object UUIDs map to the nil object type.</span></span>
6.  <span data-ttu-id="e6450-285">Die Lauf Zeit Bibliothek des Servers gibt den Nil-Manager-Typ in der Schnittstellen Registrierungs Tabelle an.</span><span class="sxs-lookup"><span data-stu-id="e6450-285">The server's run-time library locates the nil manager type in the interface registry table.</span></span>
7.  <span data-ttu-id="e6450-286">Das Kombinieren der Schnittstellen-UUID und des Nil-Typs in der Schnittstellen Registrierungs Tabelle wird in den Standard-EPV aufgelöst, der die Server-Manager-Routinen enthält, die für die im Remote Prozedur aufrufende Schnittstelle UUID ausgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="e6450-286">Combining the interface UUID and nil type in the interface registry table resolves to the default EPV, which contains the server-manager routines to be executed for the interface UUID found in the remote procedure call.</span></span>

<span data-ttu-id="e6450-287">Angenommen, der Server bietet mehrere Schnittstellen und mehrere Implementierungen jeder Schnittstelle, wie in den folgenden Tabellen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="e6450-287">Assume that the server offers multiple interfaces and multiple implementations of each interface, as described in the following tables.</span></span>

<span data-ttu-id="e6450-288">**Schnittstellen Registrierungs Tabelle**</span><span class="sxs-lookup"><span data-stu-id="e6450-288">**Interface Registry Table**</span></span>



| <span data-ttu-id="e6450-289">Schnittstellen-UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-289">Interface UUID</span></span> | <span data-ttu-id="e6450-290">Manager-Typ UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-290">Manager-type UUID</span></span> | <span data-ttu-id="e6450-291">Einstiegspunkt Vektor</span><span class="sxs-lookup"><span data-stu-id="e6450-291">Entry-point vector</span></span> |
|----------------|-------------------|--------------------|
| <span data-ttu-id="e6450-292">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-292">*uuid1*</span></span>        | <span data-ttu-id="e6450-293">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-293">Nil</span></span>               | <span data-ttu-id="e6450-294">*epv1*</span><span class="sxs-lookup"><span data-stu-id="e6450-294">*epv1*</span></span>             |
| <span data-ttu-id="e6450-295">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-295">*uuid1*</span></span>        | <span data-ttu-id="e6450-296">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-296">*uuid3*</span></span>           | <span data-ttu-id="e6450-297">*epv4*</span><span class="sxs-lookup"><span data-stu-id="e6450-297">*epv4*</span></span>             |
| <span data-ttu-id="e6450-298">*uuid2*</span><span class="sxs-lookup"><span data-stu-id="e6450-298">*uuid2*</span></span>        | <span data-ttu-id="e6450-299">*uuid4*</span><span class="sxs-lookup"><span data-stu-id="e6450-299">*uuid4*</span></span>           | <span data-ttu-id="e6450-300">*epv2*</span><span class="sxs-lookup"><span data-stu-id="e6450-300">*epv2*</span></span>             |
| <span data-ttu-id="e6450-301">*uuid2*</span><span class="sxs-lookup"><span data-stu-id="e6450-301">*uuid2*</span></span>        | <span data-ttu-id="e6450-302">*uuid7*</span><span class="sxs-lookup"><span data-stu-id="e6450-302">*uuid7*</span></span>           | <span data-ttu-id="e6450-303">*epv3*</span><span class="sxs-lookup"><span data-stu-id="e6450-303">*epv3*</span></span>             |



 

<span data-ttu-id="e6450-304">**Objekt Registrierungs Tabelle**</span><span class="sxs-lookup"><span data-stu-id="e6450-304">**Object Registry Table**</span></span>



| <span data-ttu-id="e6450-305">Objekt-UUID</span><span class="sxs-lookup"><span data-stu-id="e6450-305">Object UUID</span></span>      | <span data-ttu-id="e6450-306">Objekttyp</span><span class="sxs-lookup"><span data-stu-id="e6450-306">Object type</span></span> |
|------------------|-------------|
| <span data-ttu-id="e6450-307">*uuida*</span><span class="sxs-lookup"><span data-stu-id="e6450-307">*uuidA*</span></span>          | <span data-ttu-id="e6450-308">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-308">*uuid3*</span></span>     |
| <span data-ttu-id="e6450-309">*uuidb*</span><span class="sxs-lookup"><span data-stu-id="e6450-309">*uuidB*</span></span>          | <span data-ttu-id="e6450-310">*uuid7*</span><span class="sxs-lookup"><span data-stu-id="e6450-310">*uuid7*</span></span>     |
| <span data-ttu-id="e6450-311">*uuidc*</span><span class="sxs-lookup"><span data-stu-id="e6450-311">*uuidC*</span></span>          | <span data-ttu-id="e6450-312">*uuid7*</span><span class="sxs-lookup"><span data-stu-id="e6450-312">*uuid7*</span></span>     |
| <span data-ttu-id="e6450-313">*uuidd*</span><span class="sxs-lookup"><span data-stu-id="e6450-313">*uuidD*</span></span>          | <span data-ttu-id="e6450-314">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-314">*uuid3*</span></span>     |
| <span data-ttu-id="e6450-315">*uuide*</span><span class="sxs-lookup"><span data-stu-id="e6450-315">*uuidE*</span></span>          | <span data-ttu-id="e6450-316">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-316">*uuid3*</span></span>     |
| <span data-ttu-id="e6450-317">*uuidf*</span><span class="sxs-lookup"><span data-stu-id="e6450-317">*uuidF*</span></span>          | <span data-ttu-id="e6450-318">*uuid8*</span><span class="sxs-lookup"><span data-stu-id="e6450-318">*uuid8*</span></span>     |
| <span data-ttu-id="e6450-319">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-319">Nil</span></span>              | <span data-ttu-id="e6450-320">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-320">Nil</span></span>         |
| <span data-ttu-id="e6450-321">(Beliebige andere UUID)</span><span class="sxs-lookup"><span data-stu-id="e6450-321">(Any other UUID)</span></span> | <span data-ttu-id="e6450-322">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-322">Nil</span></span>         |



 

<span data-ttu-id="e6450-323">**Zuordnung des Bindungs Handles zu einem Einstiegspunkt Vektor**</span><span class="sxs-lookup"><span data-stu-id="e6450-323">**Mapping the Binding Handle to an Entry-point Vector**</span></span>



| <span data-ttu-id="e6450-324">Interface UUID (aus Client Bindungs handle)</span><span class="sxs-lookup"><span data-stu-id="e6450-324">Interface UUID (from client binding handle)</span></span> | <span data-ttu-id="e6450-325">Objekt-UUID (aus Client Bindungs handle)</span><span class="sxs-lookup"><span data-stu-id="e6450-325">Object UUID (from client binding handle)</span></span> | <span data-ttu-id="e6450-326">Objekttyp (aus Objekt Registrierungs Tabelle)</span><span class="sxs-lookup"><span data-stu-id="e6450-326">Object type (from object registry table)</span></span> | <span data-ttu-id="e6450-327">Manager-EPV (aus Schnittstellen Registrierungs Tabelle)</span><span class="sxs-lookup"><span data-stu-id="e6450-327">Manager EPV (from interface registry table)</span></span> |
|---------------------------------------------|------------------------------------------|------------------------------------------|---------------------------------------------|
| <span data-ttu-id="e6450-328">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-328">*uuid1*</span></span>                                     | <span data-ttu-id="e6450-329">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-329">Nil</span></span>                                      | <span data-ttu-id="e6450-330">Trägers</span><span class="sxs-lookup"><span data-stu-id="e6450-330">Nil</span></span>                                      | <span data-ttu-id="e6450-331">*epv1*</span><span class="sxs-lookup"><span data-stu-id="e6450-331">*epv1*</span></span>                                      |
| <span data-ttu-id="e6450-332">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-332">*uuid1*</span></span>                                     | <span data-ttu-id="e6450-333">*uuida*</span><span class="sxs-lookup"><span data-stu-id="e6450-333">*uuidA*</span></span>                                  | <span data-ttu-id="e6450-334">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-334">*uuid3*</span></span>                                  | <span data-ttu-id="e6450-335">*epv4*</span><span class="sxs-lookup"><span data-stu-id="e6450-335">*epv4*</span></span>                                      |
| <span data-ttu-id="e6450-336">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-336">*uuid1*</span></span>                                     | <span data-ttu-id="e6450-337">*uuidd*</span><span class="sxs-lookup"><span data-stu-id="e6450-337">*uuidD*</span></span>                                  | <span data-ttu-id="e6450-338">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-338">*uuid3*</span></span>                                  | <span data-ttu-id="e6450-339">*epv4*</span><span class="sxs-lookup"><span data-stu-id="e6450-339">*epv4*</span></span>                                      |
| <span data-ttu-id="e6450-340">*uuid1*</span><span class="sxs-lookup"><span data-stu-id="e6450-340">*uuid1*</span></span>                                     | <span data-ttu-id="e6450-341">*uuide*</span><span class="sxs-lookup"><span data-stu-id="e6450-341">*uuidE*</span></span>                                  | <span data-ttu-id="e6450-342">*uuid3*</span><span class="sxs-lookup"><span data-stu-id="e6450-342">*uuid3*</span></span>                                  | <span data-ttu-id="e6450-343">*epv4*</span><span class="sxs-lookup"><span data-stu-id="e6450-343">*epv4*</span></span>                                      |
| <span data-ttu-id="e6450-344">*uuid2*</span><span class="sxs-lookup"><span data-stu-id="e6450-344">*uuid2*</span></span>                                     | <span data-ttu-id="e6450-345">*uuidb*</span><span class="sxs-lookup"><span data-stu-id="e6450-345">*uuidB*</span></span>                                  | <span data-ttu-id="e6450-346">*uuid7*</span><span class="sxs-lookup"><span data-stu-id="e6450-346">*uuid7*</span></span>                                  | <span data-ttu-id="e6450-347">*epv3*</span><span class="sxs-lookup"><span data-stu-id="e6450-347">*epv3*</span></span>                                      |
| <span data-ttu-id="e6450-348">*uuid2*</span><span class="sxs-lookup"><span data-stu-id="e6450-348">*uuid2*</span></span>                                     | <span data-ttu-id="e6450-349">*uuidc*</span><span class="sxs-lookup"><span data-stu-id="e6450-349">*uuidC*</span></span>                                  | <span data-ttu-id="e6450-350">*uuid7*</span><span class="sxs-lookup"><span data-stu-id="e6450-350">*uuid7*</span></span>                                  | <span data-ttu-id="e6450-351">*epv3*</span><span class="sxs-lookup"><span data-stu-id="e6450-351">*epv3*</span></span>                                      |



 

<span data-ttu-id="e6450-352">In den folgenden Schritten werden die Aktionen beschrieben, die die Lauf Zeit Bibliothek des Servers durchführt, wie in den vorangehenden Tabellen dargestellt, wenn ein Client mit der Interface UUID *uuid2* und dem Objekt UUID *uuidc* ihn aufruft.</span><span class="sxs-lookup"><span data-stu-id="e6450-352">The following steps describe the actions that the server's run-time library take, as shown in the preceding tables when a client with interface UUID *uuid2* and object UUID *uuidC* calls it.</span></span>

1.  <span data-ttu-id="e6450-353">Der Server ruft [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) auf, um die angebotenen Schnittstellen den verschiedenen Manager-EPVs zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e6450-353">The server calls [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) to associate the interfaces it offers with the different manager EPVs.</span></span> <span data-ttu-id="e6450-354">Die Einträge in der Schnittstellen Registrierungs Tabelle reflektieren vier Aufrufe von [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) , um zwei Schnittstellen mit zwei Implementierungen (EPVs) für jede Schnittstelle zu bieten.</span><span class="sxs-lookup"><span data-stu-id="e6450-354">The entries in the interface registry table reflect four calls of [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) to offer two interfaces, with two implementations (EPVs) for each interface.</span></span>
2.  <span data-ttu-id="e6450-355">Der Server ruft [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) auf, um den Typ der einzelnen angebotenen Objekte festzulegen.</span><span class="sxs-lookup"><span data-stu-id="e6450-355">The server calls [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) to establish the type of each object it offers.</span></span> <span data-ttu-id="e6450-356">Zusätzlich zur Standard Zuordnung des Nil-Objekts zu einem Nil-Typ werden alle anderen Objekt-UUIDs, die nicht explizit in der Objekt Registrierungs Tabelle gefunden werden, auch dem Nil-Typ UUID zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="e6450-356">In addition to the default association of the nil object to a nil type, all other object UUIDs not explicitly found in the object registry table also map to the nil type UUID.</span></span>

    <span data-ttu-id="e6450-357">In diesem Beispiel ruft der Server die [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine sechs Mal auf.</span><span class="sxs-lookup"><span data-stu-id="e6450-357">In this example, the server calls the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine six times.</span></span>

3.  <span data-ttu-id="e6450-358">Die Server Lauf Zeit Bibliothek empfängt einen Remote Prozedur Aufruf, der die Schnittstelle uuid enthält, zu der der Aufruf gehört, und eine Objekt-UUID aus dem Bindungs Handle des Aufrufes.</span><span class="sxs-lookup"><span data-stu-id="e6450-358">The server run-time library receives a remote procedure call containing the interface UUID that the call belongs to and an object UUID from the call's binding handle.</span></span>
4.  <span data-ttu-id="e6450-359">Mithilfe der UUID-Schnittstelle aus dem Remote Prozedur Aufruf wird in der Lauf Zeit Bibliothek des Servers die Schnittstelle uuid in der Schnittstellen Registrierungs Tabelle angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e6450-359">Using the interface UUID from the remote procedure call, the server's run-time library locates the interface UUID in the interface registry table.</span></span>
5.  <span data-ttu-id="e6450-360">Mithilfe der *uuidc* -Objekt-UUID aus dem Bindungs handle sucht die Lauf Zeit Bibliothek des Servers nach dem Objekt UUID in der Objekt Registrierungs Tabelle und ermittelt, dass es dem Typ *uuid7* zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="e6450-360">Using the *uuidC* object UUID from the binding handle, the server's run-time library locates the object UUID in the object registry table and finds that it maps to type *uuid7*.</span></span>
6.  <span data-ttu-id="e6450-361">Um den Manager-Typ zu finden, kombiniert die Lauf Zeit Bibliothek des Servers die Schnittstelle UUID, *uuid2* und Type *uuid7* in der Registrierungs Tabelle der-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="e6450-361">To locate the manager type, the server's run-time library combines the interface UUID, *uuid2*, and type *uuid7* in the interface registry table.</span></span> <span data-ttu-id="e6450-362">Dies wird in *epv3* aufgelöst, das die Server-Manager-Routine enthält, die für den Remote Prozedur aufrufrufe ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="e6450-362">This resolves to *epv3*, which contains the server manager routine to be executed for the remote procedure call.</span></span>

<span data-ttu-id="e6450-363">Die Routinen in *epv2* werden nie ausgeführt, weil der Server die [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Routine nicht aufgerufen hat, um der Objekt Registrierungs Tabelle Objekte mit dem Typ "uuid" *uuid4* hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="e6450-363">The routines in *epv2* will never be executed because the server has not called the [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) routine to add any objects with a type UUID of *uuid4* to the object registry table.</span></span>

<span data-ttu-id="e6450-364">Ein Remote Prozedur Aufruf mit der Schnittstelle UUID *uuid2* und der Objekt-UUID *uuidf* kehrt an den Aufrufer mit einem unbekannten RPC- \_ \_ \_ \_ typstatus Code zurück, da der Server [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)oder [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) nicht aufgerufen hat, um die Schnittstelle mit dem Manager-Typ *uuid8* zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="e6450-364">A remote procedure call with interface UUID *uuid2* and object UUID *uuidF* returns to the caller with an RPC\_S\_UNKNOWN\_MGR\_TYPE status code because the server did not call [**RpcServerRegisterIf**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif), [**RpcServerRegisterIfEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex), or [**RpcServerRegisterIf2**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2) to register the interface with a manager type of *uuid8*.</span></span>

## <a name="return-values"></a><span data-ttu-id="e6450-365">Rückgabewerte</span><span class="sxs-lookup"><span data-stu-id="e6450-365">Return Values</span></span>

<span data-ttu-id="e6450-366">Diese Funktion gibt einen der folgenden Werte zurück.</span><span class="sxs-lookup"><span data-stu-id="e6450-366">This function returns one of the following values.</span></span>



| <span data-ttu-id="e6450-367">Wert</span><span class="sxs-lookup"><span data-stu-id="e6450-367">Value</span></span>                             | <span data-ttu-id="e6450-368">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="e6450-368">Meaning</span></span>                      |
|-----------------------------------|------------------------------|
| <span data-ttu-id="e6450-369">RPC \_ S \_ OK</span><span class="sxs-lookup"><span data-stu-id="e6450-369">RPC\_S\_OK</span></span>                        | <span data-ttu-id="e6450-370">Erfolg</span><span class="sxs-lookup"><span data-stu-id="e6450-370">Success</span></span>                      |
| <span data-ttu-id="e6450-371">der RPC- \_ \_ Typ ist \_ bereits \_ registriert.</span><span class="sxs-lookup"><span data-stu-id="e6450-371">RPC\_S\_TYPE\_ALREADY\_REGISTERED</span></span> | <span data-ttu-id="e6450-372">Der Typ UUID ist bereits registriert.</span><span class="sxs-lookup"><span data-stu-id="e6450-372">Type UUID already registered</span></span> |



 

## <a name="supplying-your-own-object-inquiry-function"></a><span data-ttu-id="e6450-373">Bereitstellen einer eigenen Object-Inquiry-Funktion</span><span class="sxs-lookup"><span data-stu-id="e6450-373">Supplying Your Own Object-inquiry Function</span></span>

<span data-ttu-id="e6450-374">Stellen Sie sich einen Server vor, der Tausende von Objekten vieler unterschiedlicher Typen verwaltet.</span><span class="sxs-lookup"><span data-stu-id="e6450-374">Consider a server that manages thousands of objects of many different types.</span></span> <span data-ttu-id="e6450-375">Wenn der Server gestartet wird, muss die Serveranwendung die [**rpcobjectsettype**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) -Funktion für jedes der Objekte aufrufen, auch wenn Clients möglicherweise nur auf einige wenige Objekte verweisen (oder sich sehr viel Zeit nehmen, um darauf zu verweisen).</span><span class="sxs-lookup"><span data-stu-id="e6450-375">Whenever the server started, the server application would have to call the function [**RpcObjectSetType**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype) for every one of the objects, even though clients might refer to only a few of them (or take a long time to refer to them).</span></span> <span data-ttu-id="e6450-376">Diese Tausenden von Objekten sind wahrscheinlich auf dem Datenträger, sodass das Abrufen ihrer Typen zeitaufwändig wäre.</span><span class="sxs-lookup"><span data-stu-id="e6450-376">These thousands of objects are likely to be on disk, so retrieving their types would be time consuming.</span></span> <span data-ttu-id="e6450-377">Außerdem dupliziert die interne Tabelle, die das Objekt UUID dem Manager-Typ "uuid" entspricht, im Wesentlichen die Zuordnung, die mit den Objekten selbst verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="e6450-377">Also, the internal table that is mapping the object UUID to the manager type UUID would essentially duplicate the mapping maintained with the objects themselves.</span></span>

<span data-ttu-id="e6450-378">Der Zweck der RPC-Funktion enthält die [**rpcobjectsetinqfn**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsetinqfn)-Funktion.</span><span class="sxs-lookup"><span data-stu-id="e6450-378">For convenience, the RPC function set includes the function [**RpcObjectSetInqFn**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsetinqfn).</span></span> <span data-ttu-id="e6450-379">Mit dieser Funktion stellen Sie Ihre eigene Objekt Abfragefunktion bereit.</span><span class="sxs-lookup"><span data-stu-id="e6450-379">With this function, you provide your own object-inquiry function.</span></span>

<span data-ttu-id="e6450-380">Beispielsweise können Sie eine eigene Objekt Abfragefunktion bereitstellen, wenn Sie die Objekte 100 – 199 der Typnummer 1, 200 – 299 der Typnummer 2 zuordnen usw.</span><span class="sxs-lookup"><span data-stu-id="e6450-380">As an example, you can supply your own object-inquiry function when you map objects 100–199 to type number 1, 200–299 to type number 2, and so on.</span></span> <span data-ttu-id="e6450-381">Die Objekt Abfragefunktion kann auch auf ein verteiltes Dateisystem erweitert werden, in dem die Serveranwendung nicht über eine Liste aller verfügbaren Dateien (Objekt-UUIDs) verfügt, oder wenn Objekt-UUIDs Dateien im Dateisystem benennen und Sie nicht alle Zuordnungen zwischen Objekt-UUIDs und Typ UUIDs vorab laden möchten.</span><span class="sxs-lookup"><span data-stu-id="e6450-381">The object inquiry function can also be extended to a distributed file system, where the server application does not have a list of all the files (object UUIDs) available, or when object UUIDs name files in the file system and you do not want to preload all of the mappings between object UUIDs and type UUIDs.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e6450-382">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="e6450-382">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e6450-383">**RpcBindingFromStringBinding**</span><span class="sxs-lookup"><span data-stu-id="e6450-383">**RpcBindingFromStringBinding**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingfromstringbinding)
</dt> <dt>

[<span data-ttu-id="e6450-384">**Rpcbindingsetobject**</span><span class="sxs-lookup"><span data-stu-id="e6450-384">**RpcBindingSetObject**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetobject)
</dt> <dt>

[<span data-ttu-id="e6450-385">**Rpcnsbindingexport**</span><span class="sxs-lookup"><span data-stu-id="e6450-385">**RpcNsBindingExport**</span></span>](/windows/desktop/api/Rpcnsi/nf-rpcnsi-rpcnsbindingexporta)
</dt> <dt>

[<span data-ttu-id="e6450-386">**Rpcnsbindingimportbegin**</span><span class="sxs-lookup"><span data-stu-id="e6450-386">**RpcNsBindingImportBegin**</span></span>](/windows/desktop/api/Rpcnsi/nf-rpcnsi-rpcnsbindingimportbegina)
</dt> <dt>

[<span data-ttu-id="e6450-387">**Rpcnsbindinglookupbegin**</span><span class="sxs-lookup"><span data-stu-id="e6450-387">**RpcNsBindingLookupBegin**</span></span>](/windows/desktop/api/Rpcnsi/nf-rpcnsi-rpcnsbindinglookupbegina)
</dt> <dt>

[<span data-ttu-id="e6450-388">**Rpcobjectsettype**</span><span class="sxs-lookup"><span data-stu-id="e6450-388">**RpcObjectSetType**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcobjectsettype)
</dt> <dt>

[<span data-ttu-id="e6450-389">**RpcServerRegisterIf**</span><span class="sxs-lookup"><span data-stu-id="e6450-389">**RpcServerRegisterIf**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif)
</dt> <dt>

[<span data-ttu-id="e6450-390">**RpcServerRegisterIf2**</span><span class="sxs-lookup"><span data-stu-id="e6450-390">**RpcServerRegisterIf2**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterif2)
</dt> <dt>

[<span data-ttu-id="e6450-391">**RpcServerRegisterIfEx**</span><span class="sxs-lookup"><span data-stu-id="e6450-391">**RpcServerRegisterIfEx**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverregisterifex)
</dt> <dt>

[<span data-ttu-id="e6450-392">**Rpcserverunregisterif**</span><span class="sxs-lookup"><span data-stu-id="e6450-392">**RpcServerUnregisterIf**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverunregisterif)
</dt> <dt>

[<span data-ttu-id="e6450-393">**Rpcserverunregisterifex**</span><span class="sxs-lookup"><span data-stu-id="e6450-393">**RpcServerUnregisterIfEx**</span></span>](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserverunregisterifex)
</dt> </dl>

 

 




