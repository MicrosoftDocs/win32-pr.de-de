---
title: Definieren von Pipes in IDL-Dateien
description: Wenn eine Pipe in einer IDL-Datei definiert ist, generiert der Mittelwert Compiler eine Pipe-Steuerungsstruktur, deren Member Zeiger auf Push-, Pull-und Zuordnungs Prozeduren sowie eine Zustands Variable sind, die diese Prozeduren koordiniert.
ms.assetid: f6c282e4-3056-48c4-bd12-dfcae6d238d7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 115be7fc5d00458d13df102afebe9ba5b55de070
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104390686"
---
# <a name="defining-pipes-in-idl-files"></a>Definieren von Pipes in IDL-Dateien

Wenn eine Pipe in einer IDL-Datei definiert ist, generiert der Mittelwert Compiler eine Pipe-Steuerungsstruktur, deren Member Zeiger auf Push-, Pull-und Zuordnungs Prozeduren sowie eine Zustands Variable sind, die diese Prozeduren koordiniert. Die Client Anwendung initialisiert die Felder in der Pipe-Steuerelement Struktur, behält deren Zustands Variable bei und verwaltet die Datenübertragung mit eigenen Push-, Pull-und Zuordnungsfunktionen. Der Client-Stub-Code ruft diese Anwendungsfunktionen während der Datenübertragung in Schleifen auf. Bei einer Eingabe Pipe marshunscht der Clientstub die Übertragungsdaten und überträgt sie an den Serverstub. Bei einer Ausgabe Pipe werden die Daten vom Clientstub in einen Puffer entmarshunpliziert, und ein Zeiger an den Puffer wird an die Client Anwendung zurückgeleitet.

Der Server-Stub-Code initialisiert die Felder der Pipe-Steuerelement Struktur mit einer Statusvariablen sowie Zeiger auf Push-und Pull-Routinen. Der Server-Stub verwaltet den Status und verwaltet seinen privaten Speicher für die Übertragungsdaten. Die Serveranwendung ruft während des Remote Prozedur Aufrufs die Pull-und pushroutinen in Schleifen auf, da Sie Daten vom Clientstub empfängt und abmarshalls oder Daten an den Client-Stub überträgt.

Die folgende Beispiel-IDL-Datei definiert eine lange Pipe des pipetyps \_ , deren Elementgröße als **Long**-Wert definiert ist. Außerdem werden Funktionsprototypen für die Remote Prozedur Aufrufe von inpipe und outpipe zum Senden bzw. empfangen von Daten deklariert. Wenn der Mittell-Compiler die IDL-Datei verarbeitet, generiert er die im Beispiel gezeigte Header Datei.

## <a name="example"></a>Beispiel

``` syntax
// File: pipedemo.idl
typedef pipe long LONG_PIPE;
void InPipe( [in] LONG_PIPE pipe_data );
void OutPipe( [out] LONG_PIPE *pipe_data ); 
//end pipedemo.idl
 
// File: pipedemo.h (fragment)
// Generated by the MIDL compiler from pipedemo.idl
typedef struct pipe_LONG_PIPE
{
    void (__RPC_FAR * pull) (
        char __RPC_FAR * state,
        long __RPC_FAR * buf,
        unsigned long esize,
        unsigned long __RPC_FAR * ecount );
    void (__RPC_FAR * push) (
        char __RPC_FAR * state,
        long __RPC_FAR * buf,
        unsigned long ecount );
    void (__RPC_FAR * alloc) (
        char __RPC_FAR * state,
        unsigned long bsize,
        long __RPC_FAR * __RPC_FAR * buf,
        unsigned long __RPC_FAR * bcount );
    char __RPC_FAR * state;
} LONG_PIPE;
 
void InPipe( 
    /* [in] */ LONG_PIPE pipe_data);
void OutPipe( 
    /* [out] */ LONG_PIPE __RPC_FAR *pipe_data);
//end pipedemo.h
```

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[Kanal](/windows/desktop/Midl/pipe)
</dt> <dt>

[**/Oi**](/windows/desktop/Midl/-oi)
</dt> </dl>

 

 