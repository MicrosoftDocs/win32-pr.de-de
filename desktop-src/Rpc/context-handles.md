---
title: Kontext Handles
description: Manchmal ist es bei verteilten Anwendungen erforderlich, dass das Serverprogramm Statusinformationen zwischen Client aufrufen beibehält.
ms.assetid: 91732a75-0a3a-44bd-9db9-c11be6fd2d70
keywords:
- Remote Prozedur Aufruf RPC, beschrieben, Kontext Handles
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a8ff36ff8f1a36843293060e091b7eecee0d8666
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "106338992"
---
# <a name="context-handles"></a><span data-ttu-id="9edfb-104">Kontext Handles</span><span class="sxs-lookup"><span data-stu-id="9edfb-104">Context Handles</span></span>

<span data-ttu-id="9edfb-105">Manchmal ist es bei verteilten Anwendungen erforderlich, dass das Serverprogramm Statusinformationen zwischen Client aufrufen beibehält.</span><span class="sxs-lookup"><span data-stu-id="9edfb-105">It is sometimes the case that distributed applications require the server program to maintain status information between client calls.</span></span> <span data-ttu-id="9edfb-106">Server Programme, die mehrere Clients gleichzeitig bedienen, müssen die Zustandsinformationen für jeden Client beibehalten.</span><span class="sxs-lookup"><span data-stu-id="9edfb-106">Server programs that service more than one client at a time must keep the state information for each client.</span></span> <span data-ttu-id="9edfb-107">Da der Client und der Server unterschiedliche Adressräume auf unterschiedlichen Computern verwenden und sich nicht notwendigerweise gegenseitig vertrauen, funktionieren häufige Ansätze für die Datenfreigabe häufig nicht.</span><span class="sxs-lookup"><span data-stu-id="9edfb-107">Because the client and the server use different address spaces on different computers, and they do not necessarily trust each other, common approaches to data sharing often do not work.</span></span> <span data-ttu-id="9edfb-108">Beispielsweise können Client und Server keine Statusinformationen in Ihrer Remote Sitzung in globalen Variablen verwalten, da Sie nicht denselben globalen Adressraum gemeinsam verwenden.</span><span class="sxs-lookup"><span data-stu-id="9edfb-108">For instance, the client and server are unable to maintain status information on their remote session in global variables because they do not share the same global address space.</span></span> <span data-ttu-id="9edfb-109">Es ist schwierig, die Informationen in einer freigegebenen Datei aufzubewahren, da Sie auf unterschiedlichen Computern ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="9edfb-109">It is difficult to keep the information in a shared file because they run on different computers.</span></span> <span data-ttu-id="9edfb-110">Ein vereinfachter Ansatz besteht darin, den gesamten Zustand an den Client zu senden und den Client beim nächsten-Rückruf zurückzugeben, aber dieser Ansatz weist Mängel auf: der Server vertraut nicht notwendigerweise dem Client, um den richtigen Status zurückzugeben, und der Zustand ist möglicherweise implizit an einen anderen Status auf dem Server gebunden, z. b. Datei Handles oder geöffnete Sockets.</span><span class="sxs-lookup"><span data-stu-id="9edfb-110">A simplistic approach may be to ship all state to the client and have the client return it on the next call, but this approach has flaws: the server does not necessarily trust the client to return the right state, and the state may be implicitly tied to some other state on the server, such as file handles or opened sockets.</span></span>

<span data-ttu-id="9edfb-111">Microsoft RPC bietet einen leistungsfähigen und sicheren Mechanismus namens Kontext Handles, mit dem der Zustand eines bestimmten Clients auf einem Server beibehalten wird.</span><span class="sxs-lookup"><span data-stu-id="9edfb-111">Microsoft RPC provides a powerful and secure mechanism called context handles for keeping state associated with a given client on a server.</span></span> <span data-ttu-id="9edfb-112">Die Zustandsinformationen werden als Kontext des Servers bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9edfb-112">The state information is called the server's context.</span></span> <span data-ttu-id="9edfb-113">Clients können einen Kontext Handle abrufen, um den Kontext des Servers für die einzelnen RPC-Sitzungen zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="9edfb-113">Clients can obtain a context handle to identify the server's context for their individual RPC sessions.</span></span>

<span data-ttu-id="9edfb-114">Beispielsweise kann für jeden Client in einer verteilten Anwendung das Serverprogramm eine Datendatei für die RPC-Sitzung erstellen und aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="9edfb-114">As an example, each client in a distributed application can have the server program create and update a data file for their RPC session.</span></span> <span data-ttu-id="9edfb-115">Der Server kann sein Datei Handle für die Datendatei jedes Clients als Kontext Handle verwenden.</span><span class="sxs-lookup"><span data-stu-id="9edfb-115">The server can use its file handle for each client's data file as the context handle.</span></span> <span data-ttu-id="9edfb-116">Jedes Mal, wenn ein Client Vorgänge für die Datendatei anfordert, die der Server dafür erstellt hat, übergibt der Client das Kontext Handle an den Server.</span><span class="sxs-lookup"><span data-stu-id="9edfb-116">Each time a client requests operations on the data file that the server creates for it, the client passes the context handle to the server.</span></span> <span data-ttu-id="9edfb-117">Der Client erhält nicht das eigentliche Datei handle. Es wird ein nicht transparentes Token abgerufen, das von der RPC-Laufzeit des Servers dem Datei Handle eindeutig zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="9edfb-117">The client does not actually get the file handle itself; it gets an opaque token that the server RPC run time can uniquely associate with the file handle.</span></span> <span data-ttu-id="9edfb-118">Da es sich bei dem Kontext Handle tatsächlich um ein Datei Handle handelt, ist das Kontext Handle nur im Adressraum des Servers sinnvoll.</span><span class="sxs-lookup"><span data-stu-id="9edfb-118">Since the context handle is really a file handle, the context handle only makes sense in the server's address space.</span></span> <span data-ttu-id="9edfb-119">Allerdings kann das Client Programm das Kontext Handle verwenden, um dem Server mitzuteilen, welche Datei Updates ausführen soll.</span><span class="sxs-lookup"><span data-stu-id="9edfb-119">However, the client program can use the context handle to tell the server on which file to perform updates.</span></span>

<span data-ttu-id="9edfb-120">Andere Daten können auch Kontext Handles sein.</span><span class="sxs-lookup"><span data-stu-id="9edfb-120">Other data can also be context handles.</span></span> <span data-ttu-id="9edfb-121">Beispielsweise können ein Client und ein Server eine Datensatznummer eines Datenbankdaten Satzes als Datei Handle verwenden.</span><span class="sxs-lookup"><span data-stu-id="9edfb-121">For instance, a client and server can use a record number of a database record as a file handle.</span></span> <span data-ttu-id="9edfb-122">Wenn der Client eine Reihe von Updates für einen bestimmten Datensatz ausführen muss, kann er die Datensatznummer als Kontext Handle abrufen.</span><span class="sxs-lookup"><span data-stu-id="9edfb-122">If the client needed to perform a number of updates on a particular record, it could obtain the record number as a context handle.</span></span> <span data-ttu-id="9edfb-123">Die Datensatznummer wird bei jedem Aufruf einer Remote Prozedur zum Aktualisieren des Datenbankdaten Satzes an den Server übergeben.</span><span class="sxs-lookup"><span data-stu-id="9edfb-123">It would pass the record number to the server each time it invoked a remote procedure to update the database record.</span></span>

<span data-ttu-id="9edfb-124">In den meisten Fällen verweist ein Kontext Handle auf einen Speicherblock auf dem Server, auf dem der Server verschiedene Verwaltungsinformationen beibehält.</span><span class="sxs-lookup"><span data-stu-id="9edfb-124">Most often a context handle points to a block of memory on the server where the server keeps various management information.</span></span>

<span data-ttu-id="9edfb-125">Dieser Abschnitt enthält Informationen zum Definieren und Verwenden von Kontext Handles.</span><span class="sxs-lookup"><span data-stu-id="9edfb-125">This section presents information on defining and using context handles.</span></span> <span data-ttu-id="9edfb-126">Die Erörterung finden Sie in den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="9edfb-126">The discussion is presented in the following topics:</span></span>

-   [<span data-ttu-id="9edfb-127">Schnittstellen Entwicklung mithilfe von Kontext Handles</span><span class="sxs-lookup"><span data-stu-id="9edfb-127">Interface Development Using Context Handles</span></span>](interface-development-using-context-handles.md)
-   [<span data-ttu-id="9edfb-128">Server Entwicklung mithilfe von Kontext Handles</span><span class="sxs-lookup"><span data-stu-id="9edfb-128">Server Development Using Context Handles</span></span>](server-development-using-context-handles.md)
-   [<span data-ttu-id="9edfb-129">Client Entwicklung mithilfe von Kontext Handles</span><span class="sxs-lookup"><span data-stu-id="9edfb-129">Client Development Using Context Handles</span></span>](client-development-using-context-handles.md)
-   [<span data-ttu-id="9edfb-130">Server Kontext-Lauf-ab-Routine</span><span class="sxs-lookup"><span data-stu-id="9edfb-130">Server Context Run-down Routine</span></span>](server-context-run-down-routine.md)
-   [<span data-ttu-id="9edfb-131">Client Kontext Zurücksetzung</span><span class="sxs-lookup"><span data-stu-id="9edfb-131">Client Context Reset</span></span>](client-context-reset.md)
-   [<span data-ttu-id="9edfb-132">Multithread-Clients und Kontext Handles</span><span class="sxs-lookup"><span data-stu-id="9edfb-132">Multithreaded Clients and Context Handles</span></span>](multithreaded-clients-and-context-handles.md)

 

 




