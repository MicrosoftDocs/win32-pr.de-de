---
title: Verwenden von http als RPC-Transport
description: RPC-über-HTTP ermöglicht Client Programmen die Verwendung des Internets zum Ausführen von Prozeduren, die von Serverprogrammen in entfernten Netzwerken bereitgestellt werden.
ms.assetid: b5062d70-7625-4a9f-a8c1-025ef8342fcb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5860757a6c5df9937e77fc078df2526affb967fa
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104471365"
---
# <a name="using-http-as-an-rpc-transport"></a><span data-ttu-id="61ba4-103">Verwenden von http als RPC-Transport</span><span class="sxs-lookup"><span data-stu-id="61ba4-103">Using HTTP as an RPC Transport</span></span>

<span data-ttu-id="61ba4-104">RPC-über-HTTP ermöglicht Client Programmen die Verwendung des Internets zum Ausführen von Prozeduren, die von Serverprogrammen in entfernten Netzwerken bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="61ba4-104">RPC-over-HTTP enables client programs to use the Internet to execute procedures provided by server programs on distant networks.</span></span> <span data-ttu-id="61ba4-105">RPC-über-HTTP-Tunnel durch einen eingerichteten HTTP-Port.</span><span class="sxs-lookup"><span data-stu-id="61ba4-105">RPC over HTTP tunnels its calls through an established HTTP port.</span></span> <span data-ttu-id="61ba4-106">Daher können die zugehörigen Aufrufe Netzwerk Firewalls sowohl in den Client-als auch in den Server Netzwerken überschreiten.</span><span class="sxs-lookup"><span data-stu-id="61ba4-106">Thus, its calls can cross network firewalls on both the client and server networks.</span></span>

<span data-ttu-id="61ba4-107">RPC-über-HTTP leitet die Aufrufe an den RPC-Proxy weiter, der sich im Netzwerk des RPC-Servers befindet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-107">RPC over HTTP routes its calls to the RPC proxy located on the RPC server's network.</span></span> <span data-ttu-id="61ba4-108">Der RPC-Proxy stellt eine Verbindung mit dem RPC-Server her und verwaltet diese.</span><span class="sxs-lookup"><span data-stu-id="61ba4-108">The RPC Proxy establishes and maintains a connection to the RPC server.</span></span> <span data-ttu-id="61ba4-109">Er dient als Proxy, der Remote Prozedur Aufrufe an den RPC-Server sendet und die Antwort des Servers über das Internet an die Client Anwendung sendet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-109">It serves as a proxy, dispatching remote procedure calls to the RPC server and sending the server's replies back across the Internet to the client application.</span></span> <span data-ttu-id="61ba4-110">Dieser Vorgang wird in der folgenden Abbildung veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="61ba4-110">This process is illustrated in the following diagram.</span></span>

![Interaktion zwischen einem RPC-Server und einem Internet Informationsserver für RPC http](images/httprpc1.png)

<span data-ttu-id="61ba4-112">Das Diagramm zeigt eine Firewall im Netzwerk der Client Anwendung.</span><span class="sxs-lookup"><span data-stu-id="61ba4-112">The diagram shows a firewall on the client application's network.</span></span> <span data-ttu-id="61ba4-113">Dies ist für den Betrieb von RPC-über-HTTP nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="61ba4-113">This is not required for RPC over HTTP to operate.</span></span> <span data-ttu-id="61ba4-114">Wenn das Client Netzwerk jedoch über eine Firewall verfügt, wird auch ein Proxy Serverprogramm wie Microsoft Proxy Server benötigt.</span><span class="sxs-lookup"><span data-stu-id="61ba4-114">However, if the client network does have a firewall, it will also need a proxy server program such as Microsoft Proxy Server.</span></span>

<span data-ttu-id="61ba4-115">Wenn das Client Programm einen Remote Prozedur Aufruf mithilfe von http als Transport ausgibt, kontaktiert die RPC-Lauf Zeit Bibliothek auf dem Client den RPC-Proxy.</span><span class="sxs-lookup"><span data-stu-id="61ba4-115">When the client program issues a remote procedure call using HTTP as the transport, the RPC run-time library on the client contacts the RPC proxy.</span></span> <span data-ttu-id="61ba4-116">Abhängig davon, ob der RPC-Client zur Verwendung von http oder HTTPS (http mit SSL) aufgefordert wurde, wird Port 80 bzw. Port 443 verwendet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-116">Depending on whether the RPC client was asked to use HTTP or HTTPS (HTTP with SSL) port 80 or port 443 is used, respectively.</span></span> <span data-ttu-id="61ba4-117">Der RPC-Proxy kontaktiert das RPC-Serverprogramm und stellt eine TCP/IP-Verbindung her.</span><span class="sxs-lookup"><span data-stu-id="61ba4-117">The RPC proxy contacts the RPC server program and establishes a TCP/IP connection.</span></span> <span data-ttu-id="61ba4-118">Der Client und der RPC-Proxy behalten ihre http-oder HTTPS-Verbindung über das Internet bei.</span><span class="sxs-lookup"><span data-stu-id="61ba4-118">The client and the RPC proxy maintain their HTTP or HTTPS connection across the Internet.</span></span> <span data-ttu-id="61ba4-119">Die http-oder HTTPS-Verbindung des Clients mit dem RPC-Proxy kann eine Firewall (abhängig von den entsprechenden Zugriffsberechtigungen) durchlaufen, sofern eine vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="61ba4-119">The client's HTTP or HTTPS connection to the RPC proxy can pass through a firewall (subject to appropriate access permissions) if one is present.</span></span> <span data-ttu-id="61ba4-120">Der Server kann dann den Remote Prozedur Aufruf ausführen und die Verbindung über den RPC-Proxy verwenden, um an den Client zu antworten.</span><span class="sxs-lookup"><span data-stu-id="61ba4-120">The server can then execute the remote procedure call and use the connection through the RPC proxy to reply to the client.</span></span> <span data-ttu-id="61ba4-121">Der RPC-Proxy ist eine ISAPI-Erweiterung, die im Kontext von IIS ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-121">The RPC proxy is an ISAPI extension running in the context of IIS.</span></span>

<span data-ttu-id="61ba4-122">Wenn der Client oder der Server aus irgendeinem Grund die Verbindung trennt, wird er vom RPC-Proxy erkannt und die RPC-Sitzung beendet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-122">If either the client or the server disconnects for any reason, the RPC proxy will detect it and end the RPC session.</span></span> <span data-ttu-id="61ba4-123">Solange die Sitzung fortgesetzt wird, behält der RPC-Proxy seine Verbindungen mit dem Client und dem Server bei.</span><span class="sxs-lookup"><span data-stu-id="61ba4-123">As long as the session continues, the RPC proxy will maintain its connections to the client and the server.</span></span> <span data-ttu-id="61ba4-124">Remote Prozedur Aufrufe werden vom Client an den Server weiterleiten und Antworten vom Server an den Client gesendet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-124">It will forward remote procedure calls from the client to the server, and send replies from the server to the client.</span></span>

<span data-ttu-id="61ba4-125">Das RPC-Client Programm kann seine RPC-Aufrufe über das Internet Tunneln, indem er eine Zeichen folgen Bindung im folgenden Format erstellt:</span><span class="sxs-lookup"><span data-stu-id="61ba4-125">The RPC client program can tunnel its RPC calls through the Internet by creating a string binding of the form:</span></span>

``` syntax
[object_uuid@]ncacn_http:rpc_server[endpoint,HttpProxy=proxy_server:http_port,RpcProxy=rpc_proxy:rpc_port,HttpConnectionOption=UseHttpProxy]
```

<span data-ttu-id="61ba4-126">Hierbei gilt:</span><span class="sxs-lookup"><span data-stu-id="61ba4-126">Where:</span></span>

-   <span data-ttu-id="61ba4-127">*Objekt \_ UUID* gibt eine RPC-Objekt-UUID an.</span><span class="sxs-lookup"><span data-stu-id="61ba4-127">*object\_uuid* specifies an RPC object UUID.</span></span> <span data-ttu-id="61ba4-128">Weitere Informationen finden Sie unter [generierende Schnittstelle UUIDs](generating-interface-uuids.md) und [Zeichenfolge UUID](string-uuid.md).</span><span class="sxs-lookup"><span data-stu-id="61ba4-128">For more information, see [Generating Interface UUIDs](generating-interface-uuids.md) and [String UUID](string-uuid.md).</span></span>
-   <span data-ttu-id="61ba4-129">**ncacn \_ http** wählt die Protokoll Sequenz Spezifikation für RPC über HTTP aus.</span><span class="sxs-lookup"><span data-stu-id="61ba4-129">**ncacn\_http** selects the protocol sequence specification for RPC over HTTP.</span></span> <span data-ttu-id="61ba4-130">Weitere Informationen finden Sie unter [Protokoll Sequenz Konstanten](protocol-sequence-constants.md) und [Zeichen folgen Bindung](string-binding.md).</span><span class="sxs-lookup"><span data-stu-id="61ba4-130">For more information, see [Protocol Sequence Constants](protocol-sequence-constants.md) and [String Binding](string-binding.md).</span></span>
-   <span data-ttu-id="61ba4-131">der *RPC- \_ Server* ist die Netzwerkadresse des Computers, auf dem der RPC-Server Prozess ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-131">*rpc\_server* is the network address of the computer that is executing the RPC server process.</span></span> <span data-ttu-id="61ba4-132">Die Server Adresse muss in einem Formular angegeben werden, das vom RPC-Proxy Computer, nicht vom-Client, sichtbar und verständlich ist.</span><span class="sxs-lookup"><span data-stu-id="61ba4-132">The server address must be specified in a form visible and understandable by the RPC proxy computer, not by the client.</span></span> <span data-ttu-id="61ba4-133">Da der Client keine direkte Verbindung mit dem Server herstellt, muss er nicht in der Lage sein, den Namen des Servers aufzulösen oder eine Verbindung mit ihm herzustellen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-133">Since the client does not connect directly to the server, it does not need to be able to resolve the name of the server, or establish a connection to it.</span></span> <span data-ttu-id="61ba4-134">Der RPC-Proxy stellt die Verbindung im Auftrag des Clients her, und aus diesem Grund muss der *RPC- \_ Server* ein Name sein, der vom RPC-Proxy erkannt werden kann.</span><span class="sxs-lookup"><span data-stu-id="61ba4-134">The RPC proxy will establish the connection on the client's behalf, and therefore, *rpc\_server* must be a name recognizable by the RPC proxy.</span></span>
-   <span data-ttu-id="61ba4-135">*Endpunkt* gibt den TCP/IP-Port an, den der RPC-Server Prozess für Remote Prozedur Aufrufe überwacht.</span><span class="sxs-lookup"><span data-stu-id="61ba4-135">*endpoint* specifies the TCP/IP port that the RPC server process listens to for remote procedure calls.</span></span> <span data-ttu-id="61ba4-136">Weitere Informationen finden Sie untersuchen von [Endpunkten](finding-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="61ba4-136">For more information, see [Finding Endpoints](finding-endpoints.md).</span></span>
-   <span data-ttu-id="61ba4-137">**Httpproxy** gibt optional einen HTTP-Proxy Server im Netzwerk des RPC-Clients an, z. b. Microsoft Proxy Server.</span><span class="sxs-lookup"><span data-stu-id="61ba4-137">**HttpProxy** optionally specifies an HTTP proxy server on the RPC client's network, such as Microsoft Proxy Server.</span></span> <span data-ttu-id="61ba4-138">Wenn ein Proxy Server ausgewählt ist, wird keine Portnummer angegeben. der RPC-Stub verwendet standardmäßig Port 80, wenn SSL nicht angefordert wird, und Port 443, wenn SSL angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-138">If a proxy server is selected, no port number is specified, the RPC stub uses port 80 by default if SSL is not requested, and port 443 if SSL is specified.</span></span>
-   <span data-ttu-id="61ba4-139">**RpcProxy** gibt die Adresse und die Portnummer des IIS-Computers an, der als Proxy für den RPC-Server fungiert.</span><span class="sxs-lookup"><span data-stu-id="61ba4-139">**RpcProxy** specifies the address and port number of the IIS computer that acts as a proxy to the RPC server.</span></span> <span data-ttu-id="61ba4-140">Sie müssen dies nur angeben, wenn der RPC-Server Prozess sich auf einem anderen Computer als der RPC-Proxy befindet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-140">You only need to specify this if the RPC server process resides on a different computer than the RPC proxy.</span></span> <span data-ttu-id="61ba4-141">Wenn Sie keine Portnummer angeben, verwendet der Client-Stub für den RPC-Client standardmäßig Port 80, wenn SSL nicht angegeben ist, und verwendet Port 443, wenn SSL (HTTPS) angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-141">If you do not specify a port number, the RPC client stub by default uses port 80 if SSL is not specified, and uses port 443 if SSL (HTTPS) is specified.</span></span>
-   <span data-ttu-id="61ba4-142">**Httpconnectionoption** ermöglicht optional das RPC-Verhalten beim Herstellen von http-Verbindungen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-142">**HttpConnectionOption** optionally allows you to direct RPC’s behavior when making HTTP connections.</span></span> <span data-ttu-id="61ba4-143">Der **usehttpproxy** -Wert weist RPC an, den Datenverkehr jederzeit über den HTTP-Proxy zu leiten. Dies gilt auch, wenn der Client seine Internetoptionen in Internet Explorer auf "Proxy Server für lokale Adressen umgehen" festgelegt hat.</span><span class="sxs-lookup"><span data-stu-id="61ba4-143">The **UseHttpProxy** value instructs RPC to route its traffic through the Http proxy at all times, including when the client has their Internet Options set in Internet Explorer to “Bypass proxy server for local addresses.”</span></span>

    <span data-ttu-id="61ba4-144">Diese Option wird unter Windows 7, Windows Server 2008 R2, Windows 8.1 und Windows Server 2012 R2 mit installiertem KB2916915 unterstützt.</span><span class="sxs-lookup"><span data-stu-id="61ba4-144">This option is supported on Windows 7, Windows Server 2008 R2, Windows 8.1, and Windows Server 2012 R2 with KB2916915 installed.</span></span> <span data-ttu-id="61ba4-145">Diese Option wird unter Windows 8 und Windows Server 2012 nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="61ba4-145">This option is not supported on Windows 8 and Windows Server 2012.</span></span> <span data-ttu-id="61ba4-146">Anwendungen können bestimmen, ob diese Option von der RPC-Laufzeit unterstützt wird, indem Sie den Registrierungs Wert **connectionoptionsflag** unter dem folgenden Registrierungsschlüssel überprüfen:</span><span class="sxs-lookup"><span data-stu-id="61ba4-146">Applications can determine if this option is supported by the RPC runtime by checking the **ConnectionOptionsFlag** registry value located under the following registry key:</span></span>

    <span data-ttu-id="61ba4-147">**HKEY \_ local \_ Machine \\ Software \\ Microsoft \\ RPC**</span><span class="sxs-lookup"><span data-stu-id="61ba4-147">**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Rpc**</span></span>

    <span data-ttu-id="61ba4-148">Wenn das Bit 0 (LSB) dieses Registrierungs Werts festgelegt ist, wird diese spezielle Option unterstützt. Andernfalls wird diese Option von der RPC-Laufzeit im System nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="61ba4-148">If the bit 0 (LSB) of this registry value is set, then this specific option is supported; otherwise, this option is not supported by the RPC runtime in the system.</span></span>

<span data-ttu-id="61ba4-149">Weitere Informationen zum Erstellen von Zeichen folgen Bindungen finden Sie unter [Bindung und Handles](binding-and-handles.md).</span><span class="sxs-lookup"><span data-stu-id="61ba4-149">For more information on creating string bindings, see [Binding and Handles](binding-and-handles.md).</span></span>

<span data-ttu-id="61ba4-150">Das RPC-Serverprogramm kann getunnerte RPC-Aufrufe akzeptieren, indem er die HTTP-Protokoll Sequenz von ncacn abhört \_ .</span><span class="sxs-lookup"><span data-stu-id="61ba4-150">The RPC server program can accept tunneled RPC calls by listening on the ncacn\_http protocol sequence.</span></span>

<span data-ttu-id="61ba4-151">Microsoft verfügt über zwei Haupt Implementierungen von RPC über http: Version 1 und Version 2.</span><span class="sxs-lookup"><span data-stu-id="61ba4-151">Microsoft has two major implementations of RPC over HTTP: Version 1 and Version 2.</span></span>

<span data-ttu-id="61ba4-152">Version 1 (RPC über HTTP v1) wird durch Windows XP unterstützt.</span><span class="sxs-lookup"><span data-stu-id="61ba4-152">Version 1 (called RPC over HTTP v1) is supported through Windows XP.</span></span> <span data-ttu-id="61ba4-153">Version 1 des RPC-Proxys wird über Windows 2000 unterstützt.</span><span class="sxs-lookup"><span data-stu-id="61ba4-153">Version 1 of the RPC proxy is supported through Windows 2000.</span></span>

<span data-ttu-id="61ba4-154">Version 2 (RPC-über-HTTP v2) ist die aktuelle Version.</span><span class="sxs-lookup"><span data-stu-id="61ba4-154">Version 2 (called RPC over HTTP v2) is the current version.</span></span>

<span data-ttu-id="61ba4-155">Die beiden Versionen verfügen über unterschiedliche Funktionen und eine eingeschränkte Interoperabilität.</span><span class="sxs-lookup"><span data-stu-id="61ba4-155">The two versions have different capabilities and limited interoperability.</span></span> <span data-ttu-id="61ba4-156">Eine Zusammenfassung der Unterschiede finden Sie hier.</span><span class="sxs-lookup"><span data-stu-id="61ba4-156">A summary of the differences is provided here.</span></span> <span data-ttu-id="61ba4-157">Überlegungen zur Interoperabilität finden Sie unter [System Anforderungen und Interoperabilität für RPC über HTTP](system-requirements-and-interoperability-for-rpc-over-http.md).</span><span class="sxs-lookup"><span data-stu-id="61ba4-157">For interoperability considerations, see [System Requirements and Interoperability for RPC over HTTP](system-requirements-and-interoperability-for-rpc-over-http.md).</span></span>

-   <span data-ttu-id="61ba4-158">RPC über HTTP v1 erfordert, dass SSL-Tunnelung für alle HTTP-Proxys/Firewalls zwischen dem RPC-über-HTTP-Client und dem RPC-Proxy aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="61ba4-158">RPC over HTTP v1 requires SSL Tunneling to be enabled on all HTTP proxies/firewalls between the RPC over HTTP client and the RPC proxy.</span></span> <span data-ttu-id="61ba4-159">RPC über HTTP v1 versucht, einen SSL-Tunnel über Port 80 zu erstellen, auch wenn die gesendeten Daten nicht tatsächlich SSL-verschlüsselt sind.</span><span class="sxs-lookup"><span data-stu-id="61ba4-159">RPC over HTTP v1 attempts to build an SSL Tunnel over port 80 even though the data it sends is not actually SSL-encrypted.</span></span> <span data-ttu-id="61ba4-160">Proxys und Firewalls lehnen diese Anforderungen in der Regel ab, sofern Sie nicht explizit dafür konfiguriert sind</span><span class="sxs-lookup"><span data-stu-id="61ba4-160">Proxies and firewalls usually reject such requests unless explicitly configured to allow them.</span></span> <span data-ttu-id="61ba4-161">RPC-über-HTTP v2 ist nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="61ba4-161">RPC over HTTP v2 has no such requirement.</span></span>
-   <span data-ttu-id="61ba4-162">RPC-über-HTTP v1 kann keine SSL-Sitzung mit dem RPC-Proxy herstellen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-162">RPC over HTTP v1 cannot establish an SSL session to the RPC proxy.</span></span> <span data-ttu-id="61ba4-163">Der RPC über HTTP v2 kann den gesamten RPC-über-HTTP-Datenverkehr innerhalb einer SSL-Sitzung senden. Standardmäßig erfordert v2, dass die Daten innerhalb einer SSL-Sitzung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="61ba4-163">The RPC over HTTP v2 can send all RPC over HTTP traffic within an SSL session; by default v2 requires the data be sent within an SSL session.</span></span>
-   <span data-ttu-id="61ba4-164">RPC-über-HTTP v1 kann sich nicht beim RPC-Proxy authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="61ba4-164">RPC over HTTP v1 cannot authenticate to the RPC proxy.</span></span> <span data-ttu-id="61ba4-165">RPC-über-HTTP v2 kann authentifiziert werden. Standardmäßig ist für V2 eine Authentifizierung beim RPC-Proxy erforderlich.</span><span class="sxs-lookup"><span data-stu-id="61ba4-165">RPC over HTTP v2 can authenticate; by default v2 requires authentication to the RPC proxy.</span></span>
-   <span data-ttu-id="61ba4-166">Der RPC-Proxy v1 funktioniert nicht ordnungsgemäß, wenn der IIS-Computer, auf dem er installiert ist, Teil einer Webfarm ist.</span><span class="sxs-lookup"><span data-stu-id="61ba4-166">RPC proxy v1 does not operate correctly when the IIS machine on which it is installed is part of a web farm.</span></span> <span data-ttu-id="61ba4-167">Der RPC-Proxy v2 funktioniert ordnungsgemäß, wenn der IIS-Computer, auf dem er installiert ist, Teil einer Webfarm ist.</span><span class="sxs-lookup"><span data-stu-id="61ba4-167">RPC proxy v2 operates properly when the IIS machine on which it is installed is part of a web farm.</span></span>

> [!Note]  
> <span data-ttu-id="61ba4-168">Wenn Microsoft Internet Explorer auf dem Computer des Client Programms installiert ist und Ihr Client in der Zeichen folgen Bindung keinen **httpproxy** angibt, durchsucht der RPC-Clientstub die Registrierung auf dem Client Computer nach einem **httpproxy** -Eintrag.</span><span class="sxs-lookup"><span data-stu-id="61ba4-168">If Microsoft Internet Explorer is installed on the client program's computer and your client does not specify an **HttpProxy** in its string binding, the RPC client stub will search the registry on the client computer for an **HttpProxy** entry.</span></span> <span data-ttu-id="61ba4-169">Wenn eine solche gefunden wird, wird der im Registrierungs Eintrag angegebene Proxy verwendet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-169">If it finds one, it will use the proxy specified in the registry entry.</span></span>

 

<span data-ttu-id="61ba4-170">Angenommen, Ihr Client Programm muss über das Internet eine Verbindung mit einem RPC-Server auf einem Computer mit dem Namen "Server7.Microsoft.com" herstellen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-170">Suppose, for instance, your client program needs to connect across the Internet to an RPC server on a computer called Server7.microsoft.com.</span></span> <span data-ttu-id="61ba4-171">Nehmen Sie außerdem an, dass der RPC-Proxy auf Major7.Microsoft.com ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-171">Further, suppose that the RPC proxy runs on Major7.microsoft.com.</span></span> <span data-ttu-id="61ba4-172">Das RPC-Serverprogramm lauscht an Port 2225.</span><span class="sxs-lookup"><span data-stu-id="61ba4-172">The RPC server program listens to port 2225.</span></span> <span data-ttu-id="61ba4-173">Der Client verwendet die Zeichen folgen Bindung:</span><span class="sxs-lookup"><span data-stu-id="61ba4-173">Your client would use the string binding:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[2225, RpcProxy=Major7.microsoft.com]
```

<span data-ttu-id="61ba4-174">Wenn der RPC-Proxy den Servernamen als Server7 auflösen kann, ohne dass ein voll qualifizierter Domänen Name erforderlich ist, können Sie auch Folgendes angeben:</span><span class="sxs-lookup"><span data-stu-id="61ba4-174">If the RPC proxy can resolve the server name as Server7, without requiring a fully qualified domain name, you can also specify:</span></span>

``` syntax
ncacn_http:Server7 [2225, RpcProxy=Major7.microsoft.com]
```

<span data-ttu-id="61ba4-175">Wenn das Client Netzwerk eine Firewall und einen Internet Proxyserver mit dem Namen myProxy verwendet und Internet Explorer auf dem Client nicht für die Verwendung dieses Proxys konfiguriert ist, müssen Sie die Zeichen folgen Bindung des Clients wie folgt ändern:</span><span class="sxs-lookup"><span data-stu-id="61ba4-175">If the client network uses a firewall and an Internet proxy server called myproxy, and Internet Explorer on the client is not configured to use that proxy, you would need to modify the client's string binding to:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[,HttpProxy=myproxy:80,RpcProxy=Major7.microsoft.com:80]
```

<span data-ttu-id="61ba4-176">Dadurch wird der Client angewiesen, eine Verbindung mit dem RPC-Serverprogramm auf Server7.Microsoft.com herzustellen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-176">This directs the client to connect to the RPC server program on Server7.microsoft.com.</span></span> <span data-ttu-id="61ba4-177">Dazu verwendet der Client zuerst Port 80 (oder Port 443, wenn SSL verwendet wird), um eine Verbindung mit myProxy herzustellen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-177">To do this, the client will first use port 80 (or port 443 if SSL is used) to connect to myproxy.</span></span> <span data-ttu-id="61ba4-178">Dadurch erhält das Client Programm Zugriff auf das Internet.</span><span class="sxs-lookup"><span data-stu-id="61ba4-178">This will give the client program access to the Internet.</span></span> <span data-ttu-id="61ba4-179">Über das Internet stellt das Client Programm als nächstes eine Verbindung mit dem RPC-Proxy auf Major7.Microsoft.com her.</span><span class="sxs-lookup"><span data-stu-id="61ba4-179">Using the Internet, the client program next connects to the RPC proxy on Major7.microsoft.com.</span></span> <span data-ttu-id="61ba4-180">Der RPC-Proxy stellt eine Verbindung mit dem RPC-Serverprogramm her, das auf Server7.Microsoft.com ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-180">The RPC proxy will establish a connection to the RPC server program running on Server7.microsoft.com.</span></span>

<span data-ttu-id="61ba4-181">Wenn das Client Netzwerk eine Firewall verwendet und der RPC-Proxy nicht direkt erreicht werden kann, um eine schnellere Verbindung herzustellen, kann die Client Zeichenfolgen-Bindung wie folgt geändert werden:</span><span class="sxs-lookup"><span data-stu-id="61ba4-181">If the client network uses a firewall and if the RPC proxy cannot be reached directly, in order to get a connection established faster, the client string binding can be modified to:</span></span>

``` syntax
ncacn_http:Server7.microsoft.com[RpcProxy=Major7.microsoft.com:80,HttpConnectionOption=UseHttpProxy]
```

<span data-ttu-id="61ba4-182">Mit der **httpconnectionoption** können Sie das RPC-Verhalten beim Herstellen von http-Verbindungen weiterleiten.</span><span class="sxs-lookup"><span data-stu-id="61ba4-182">The **HttpConnectionOption** allows you to direct RPC’s behavior when making HTTP connections.</span></span> <span data-ttu-id="61ba4-183">Der **usehttpproxy** -Wert weist RPC an, den Datenverkehr jederzeit über den HTTP-Proxy zu leiten. Dies gilt auch, wenn der Client seine Internetoptionen in Internet Explorer auf "Proxy Server für lokale Adressen umgehen" festgelegt hat.</span><span class="sxs-lookup"><span data-stu-id="61ba4-183">The **UseHttpProxy** value instructs RPC to route its traffic through the Http proxy at all times, including when the client has their Internet Options set in Internet Explorer to “Bypass proxy server for local addresses.”</span></span> <span data-ttu-id="61ba4-184">Dadurch wird der Client angewiesen, eine zwangsweise über den HTTP-Proxy eine Verbindung mit dem RPC-Proxy herzustellen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-184">This directs the client to forcefully connect to the RPC proxy through the Http proxy.</span></span> <span data-ttu-id="61ba4-185">Dies beschleunigt die Zeit, um eine Verbindung herzustellen, da die Verzögerung bei der Suche nach dem RPC-Server unmittelbar vor der Verwendung des HTTP-Proxys umgangen wird.</span><span class="sxs-lookup"><span data-stu-id="61ba4-185">This speeds up the time to establish a connection since it bypasses any delay searching for the RPC server directly prior to using the HTTP proxy.</span></span>

<span data-ttu-id="61ba4-186">Wenn die Option **httpconnectionoption** verwendet wird und Internet Explorer auf dem Client nicht für die Verwendung dieses HTTP-Proxys konfiguriert ist, können Verbindungen mit **\_ ungültigen RPC S- \_ \_ Netzwerk \_ Optionen** fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="61ba4-186">If the **HttpConnectionOption** option is used and Internet Explorer on the client is not configured to use that Http proxy, connections may fail with **RPC\_S\_INVALID\_NETWORK\_OPTIONS**.</span></span>

<span data-ttu-id="61ba4-187">Die meisten Computer sind heute für das Webbrowser konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="61ba4-187">The vast majority of computers today are configured for Web browsing.</span></span> <span data-ttu-id="61ba4-188">Daher müssen die meisten Clients den **httpproxy** nicht angeben, da Sie aus den internetkonnektivitätseinstellungen abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="61ba4-188">Therefore, most clients do not need to specify the **HttpProxy**, because it will be retrieved from Internet connectivity settings.</span></span>

 

 




