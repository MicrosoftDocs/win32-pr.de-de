---
title: Quality of Service (RPC)
description: Client Programme können die Funktion rpcbindingsetauthinfoex anstelle der rpcbindingsetauthinfo-Funktion verwenden, um eine authentifizierte Bindung zu erstellen.
ms.assetid: bc3d47ba-3c1b-4aba-8fe3-b4501a621931
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ee93b1aa376c9d6f4e2b3eedab73c91471d42498
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2020
ms.locfileid: "103858591"
---
# <a name="quality-of-service-rpc"></a><span data-ttu-id="e0766-103">Quality of Service (RPC)</span><span class="sxs-lookup"><span data-stu-id="e0766-103">Quality of Service (RPC)</span></span>

<span data-ttu-id="e0766-104">Client Programme können die Funktion [**rpcbindingsetauthinfoex**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfoexa) anstelle der [**rpcbindingsetauthinfo**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfo) -Funktion verwenden, um eine authentifizierte Bindung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="e0766-104">Client programs can use the [**RpcBindingSetAuthInfoEx**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfoexa) function rather than the [**RpcBindingSetAuthInfo**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfo) function to create an authenticated binding.</span></span> <span data-ttu-id="e0766-105">Wenn dies der Fall ist, übergeben Sie einen Zeiger auf eine [**RPC- \_ Sicherheits- \_ QoS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) -Struktur als letzten Parameter von **rpcbindingsetauthinfoex**.</span><span class="sxs-lookup"><span data-stu-id="e0766-105">If they do, they pass a pointer to an [**RPC\_SECURITY\_QOS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) structure as the final parameter of **RpcBindingSetAuthInfoEx**.</span></span> <span data-ttu-id="e0766-106">Diese Struktur enthält Informationen über die Quality of Service.</span><span class="sxs-lookup"><span data-stu-id="e0766-106">This structure contains information about the quality of service.</span></span> <span data-ttu-id="e0766-107">Client Programme können auch die Identitäts Überwachung angeben und den Identitätswechsel auswählen.</span><span class="sxs-lookup"><span data-stu-id="e0766-107">Client programs can also specify the identity tracking and select the impersonation type.</span></span>

<span data-ttu-id="e0766-108">Verwenden Sie das Element **Funktionen** der [**RPC- \_ Sicherheits- \_ QoS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) -Struktur, um festzulegen, welche Teile der Client/Server-Anwendung authentifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="e0766-108">Use the **Capabilities** member of the [**RPC\_SECURITY\_QOS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) structure to set which portions of the client/server application are authenticated.</span></span> <span data-ttu-id="e0766-109">Wenn die RPC- \_ C \_ -QoS- \_ Funktionen \_ standardmäßig ausgewählt ist, wird der Client oder Server von der RPC-Lauf Zeit Bibliothek entsprechend der Standardeinstellung für den SSP authentifiziert.</span><span class="sxs-lookup"><span data-stu-id="e0766-109">If RPC\_C\_QOS\_CAPABILITIES\_DEFAULT is selected, the RPC run-time library authenticates the client or server according to the default for the SSP.</span></span> <span data-ttu-id="e0766-110">Standardmäßig authentifiziert der Kerberos-Protokoll-SSP sowohl den Client als auch den Server.</span><span class="sxs-lookup"><span data-stu-id="e0766-110">By default, the Kerberos protocol SSP authenticates both the client and the server.</span></span> <span data-ttu-id="e0766-111">Der Standardwert für alle anderen SSPs, die Microsoft bereitstellt, ist die Authentifizierung des Clients beim Server, aber nicht der Authentifizieren des Servers für den Client.</span><span class="sxs-lookup"><span data-stu-id="e0766-111">The default for all other SSPs that Microsoft provides is to authenticate the client to the server, but not to authenticate the server to the client.</span></span>

<span data-ttu-id="e0766-112">Wenn sich der Client und der Server immer untereinander authentifizieren sollen, legen Sie den **Funktions Mitglied der** [**RPC- \_ Sicherheits- \_ QoS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) -Struktur auf die gegenseitige Authentifizierung von RPC- \_ C- \_ QoS- \_ Funktionen fest \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="e0766-112">If the client and the server should always authenticate to each other, set the **Capabilities** member of the [**RPC\_SECURITY\_QOS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) structure to RPC\_C\_QOS\_CAPABILITIES\_MUTUAL\_AUTH.</span></span> <span data-ttu-id="e0766-113">Einige Sicherheitsanbieter unterstützen möglicherweise keine gegenseitige Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="e0766-113">Some security providers may not support mutual authentication.</span></span> <span data-ttu-id="e0766-114">Wenn \_ eine gegenseitige Authentifizierung der RPC-C- \_ QoS- \_ Funktionen \_ \_ für solche Sicherheitsanbieter festgelegt ist, wird beim Ausführen eines Remote Prozedur Aufrufs ein Fehler zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e0766-114">If RPC\_C\_QOS\_CAPABILITIES\_MUTUAL\_AUTH is specified for such security providers, an error is returned when a remote procedure call is made.</span></span> <span data-ttu-id="e0766-115">Bei der Verwendung des Schannel-SSP ist es möglich, auch das Element " **Funktionen** " auf RPC- \_ C- \_ QoS-Funktionen für beliebige Berechtigungen festzulegen \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="e0766-115">When using the SCHANNEL SSP, it is possible to also set the **Capabilities** member to RPC\_C\_QOS\_CAPABILITIES\_ANY\_AUTHORITY.</span></span> <span data-ttu-id="e0766-116">Diese Konstante gibt an, dass der SSP den Remote Prozedur Rückruf überprüfen soll, auch wenn sich die Zertifizierungsstelle, die das Authentifizierungszertifikat des Clients ausgestellt hat, nicht im Stamm Zertifikat Speicher des SSP befindet.</span><span class="sxs-lookup"><span data-stu-id="e0766-116">This constant specifies that the SSP shall validate the remote procedure call even if the certificate authority that issued the client's authentication certificate is not in the SSP's root certificate store.</span></span> <span data-ttu-id="e0766-117">Der Standardwert besteht darin, das Zertifikat abzulehnen, wenn der SSP die Zertifizierungsstelle nicht erkennt.</span><span class="sxs-lookup"><span data-stu-id="e0766-117">The default is to reject the certificate if the SSP does not recognize the certificate authority.</span></span> <span data-ttu-id="e0766-118">Die Zertifizierungsstelle ist ein unabhängiges Unternehmen oder eine unabhängige Organisation, z. b. VeriSign, das Authentifizierungs Zertifikate ausgibt.</span><span class="sxs-lookup"><span data-stu-id="e0766-118">The certificate authority is an independent company or organization, such as VeriSign, that issues authentication certificates.</span></span>

<span data-ttu-id="e0766-119">Anwendungen können auch die Identitäts Überwachung festlegen, die von der RPC-Lauf Zeit Bibliothek verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e0766-119">Applications can also set the identity tracking that the RPC run-time library uses.</span></span> <span data-ttu-id="e0766-120">Programme verwenden im Allgemeinen die [*statische Identitäts Überwachung*](s-glos.md).</span><span class="sxs-lookup"><span data-stu-id="e0766-120">Programs generally use [*static identity tracking*](s-glos.md).</span></span> <span data-ttu-id="e0766-121">Bei der statischen Nachverfolgung werden die Anmelde Informationen des Clients festgelegt, wenn die [**rpcbindingsetauthinfo**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfo) -Funktion aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="e0766-121">With static tracking, the client's credentials are set when it calls the [**RpcBindingSetAuthInfo**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingsetauthinfo) function.</span></span> <span data-ttu-id="e0766-122">Die RPC-Lauf Zeit Bibliothek verwendet dann diese Anmelde Informationen für alle RPC-Aufrufe der Bindung, unabhängig von Änderungen in der Identität des aufrufenden Threads oder des aufrufenden Prozesses.</span><span class="sxs-lookup"><span data-stu-id="e0766-122">The RPC run-time library then uses those credentials for all RPC calls on the binding, regardless of changes in the identity of the calling thread or the calling process.</span></span> <span data-ttu-id="e0766-123">Anwendungen können auch [*dynamische Identitäts Nachverfolgung*](d-glos.md)auswählen.</span><span class="sxs-lookup"><span data-stu-id="e0766-123">Applications can also select [*dynamic identity tracking*](d-glos.md).</span></span> <span data-ttu-id="e0766-124">Die dynamische Identitäts Verfolgung weist die RPC-Lauf Zeit Bibliothek an, die Anmelde Informationen des aufrufenden Threads zum Zeitpunkt des Aufrufs zu verwenden, anstatt das Bindungs Handle zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e0766-124">Dynamic identity tracking instructs the RPC run-time library to use the credentials of the calling thread at the time of each call, rather than the binding handle.</span></span> <span data-ttu-id="e0766-125">Die Standard-Identitäts Überwachung ist statisch.</span><span class="sxs-lookup"><span data-stu-id="e0766-125">The default identity tracking is static.</span></span>

<span data-ttu-id="e0766-126">Wenn die Identität des Clients nicht geändert wird, kann die statische Identitäts Überwachung bessere Leistungsmerkmale aufweisen und die RPC-Laufzeit aus der Überprüfung speichern, wenn die Identität des aufrufenden Threads mit der Identität des Sicherheitssystems übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="e0766-126">If the identity of the client is not going to change, static identity tracking can have better performance characteristics, and can save the RPC run time from checking each time whether the identity on the calling thread is the same as the identity given to the security system.</span></span> <span data-ttu-id="e0766-127">Wenn die Identität des aufrufenden Threads zwischen den Aufrufen geändert werden kann und der Server diese Änderungen erkennen muss, empfiehlt es sich, die dynamische Identitäts Überwachung anzugeben – die RPC-Laufzeit wird in Echtzeit und effizient die Identität für Sie nachverfolgt. wenn sich die Identität ändert, verwaltet diese Änderung in Ihrem Namen.</span><span class="sxs-lookup"><span data-stu-id="e0766-127">If the identity of the calling thread may change between calls, and the server needs to recognize those changes, it is best to specify dynamic identity tracking—the RPC run time quietly and efficiently tracks the identity for you, and if the identity changes, manages that change on your behalf.</span></span>

> [!Note]  
> <span data-ttu-id="e0766-128">Bei **Ncalrpc** -aufrufen weisen die statische und dynamische Identitäts Verfolgung unterschiedliche Leistungsmerkmale auf. abhängig von den jeweiligen Umständen sind beide möglicherweise schneller.</span><span class="sxs-lookup"><span data-stu-id="e0766-128">For **ncalrpc** calls, static and dynamic identity tracking have different performance characteristics, and depending on the circumstances, either may be faster.</span></span>

 

<span data-ttu-id="e0766-129">Im Rahmen der QoS-Spezifikation kann das Client Programm auch den Typ des Identitäts Wechsels festlegen, der von einem Serverprogramm in seinem Auftrag durchgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="e0766-129">As part of the QOS specification, the client program can also set the type of impersonation that a server program can perform on its behalf.</span></span> <span data-ttu-id="e0766-130">Weitere Informationen finden Sie unter [Client](client-impersonation.md)Identitätswechsel.</span><span class="sxs-lookup"><span data-stu-id="e0766-130">For more information, see [Client Impersonation](client-impersonation.md).</span></span>

<span data-ttu-id="e0766-131">Das Feld Versionsnummer der [**RPC- \_ Sicherheits- \_ QoS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) -Struktur sollte immer auf RPC- \_ C-Sicherheits- \_ \_ QoS- \_ Version festgelegt sein.</span><span class="sxs-lookup"><span data-stu-id="e0766-131">The version number field of the [**RPC\_SECURITY\_QOS**](/windows/desktop/api/Rpcdce/ns-rpcdce-rpc_security_qos) structure should always be set to RPC\_C\_SECURITY\_QOS\_VERSION.</span></span>

 

 




