---
title: Suchen von Endpunkten
description: Server Programme lauschen an Endpunkten für Client Anforderungen. Die Syntax der Endpunkt Zeichenfolge hängt von der verwendeten Protokoll Sequenz ab. Beispielsweise ist der Endpunkt für TCP/IP eine Portnummer, und die Endpunkt Syntax für Named Pipes ist ein gültiger Pipename.
ms.assetid: 330bbe9f-b7e9-4a5b-86d8-824edec960d2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bb0a97df3408a4d3c24dff9de28553f9e4b2210d
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104315368"
---
# <a name="finding-endpoints"></a><span data-ttu-id="0ce10-105">Suchen von Endpunkten</span><span class="sxs-lookup"><span data-stu-id="0ce10-105">Finding Endpoints</span></span>

<span data-ttu-id="0ce10-106">Server Programme lauschen an Endpunkten für Client Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-106">Server programs listen to endpoints for client requests.</span></span> <span data-ttu-id="0ce10-107">Die Syntax der Endpunkt Zeichenfolge hängt von der verwendeten Protokoll Sequenz ab.</span><span class="sxs-lookup"><span data-stu-id="0ce10-107">The syntax of the endpoint string depends on the protocol sequence you use.</span></span> <span data-ttu-id="0ce10-108">Beispielsweise ist der Endpunkt für TCP/IP eine Portnummer, und die Endpunkt Syntax für Named Pipes ist ein gültiger Pipename.</span><span class="sxs-lookup"><span data-stu-id="0ce10-108">For example, the endpoint for TCP/IP is a port number, and the endpoint syntax for named pipes is a valid pipe name.</span></span>

<span data-ttu-id="0ce10-109">Es gibt zwei Typen von Endpunkten: bekannt und dynamisch.</span><span class="sxs-lookup"><span data-stu-id="0ce10-109">There are two types of endpoints: well-known and dynamic.</span></span> <span data-ttu-id="0ce10-110">Welche Art von Endpunkt das Programm verwendet, bestimmt, ob die verteilte Anwendung oder die Lauf Zeit Bibliothek den Endpunkt angibt.</span><span class="sxs-lookup"><span data-stu-id="0ce10-110">Your choice of which type of endpoint your program uses determines whether the distributed application or the run-time library specifies the endpoint.</span></span>

<span data-ttu-id="0ce10-111">In diesem Abschnitt werden Endpunkte erläutert und Informationen dazu angezeigt, wie Sie gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="0ce10-111">This section discusses endpoints and presents information on how to find them.</span></span> <span data-ttu-id="0ce10-112">Es ist in die folgenden Themen unterteilt:</span><span class="sxs-lookup"><span data-stu-id="0ce10-112">It is organized into the following topics:</span></span>

-   [<span data-ttu-id="0ce10-113">Verwenden von Well-Known-Endpunkten</span><span class="sxs-lookup"><span data-stu-id="0ce10-113">Using Well-Known Endpoints</span></span>](#using-well-known-endpoints)
-   [<span data-ttu-id="0ce10-114">Verwenden dynamischer Endpunkte</span><span class="sxs-lookup"><span data-stu-id="0ce10-114">Using Dynamic Endpoints</span></span>](#using-dynamic-endpoints)
-   [<span data-ttu-id="0ce10-115">Exportieren von Well-Known Endpunkten in die Datenbank "Endpoint Map"</span><span class="sxs-lookup"><span data-stu-id="0ce10-115">Exporting Well-Known Endpoints Into the Endpoint Map Database</span></span>](#exporting-well-known-endpoints-into-the-endpoint-map-database)

> [!Note]  
> <span data-ttu-id="0ce10-116">Die Begriffe *statische Endpunkte* und *bekannte Endpunkte* sind gleichwertig und austauschbar.</span><span class="sxs-lookup"><span data-stu-id="0ce10-116">The terms *static endpoints* and *well-known endpoints* are equivalent, and used interchangeably.</span></span>

 

<span data-ttu-id="0ce10-117">Es ist möglich, dass Ihre Client Anwendung die Endpunkt Zuordnung verwendet, um zu bestimmen, ob ein Serverprogramm derzeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0ce10-117">It is possible for your client application to use the endpoint map to determine whether or not a server program is currently running.</span></span> <span data-ttu-id="0ce10-118">Der Client kann [**RpcMgmtInqIfIds**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtinqifids), [**RpcMgmtEpEltInqBegin**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqbegin)und [**RpcMgmtEpEltInqDone**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqdone) aufzurufen, um festzustellen, ob der Server die jeweilige Schnittstelle registriert hat, die er in der Endpunkt Zuordnung benötigt.</span><span class="sxs-lookup"><span data-stu-id="0ce10-118">Your client can call [**RpcMgmtInqIfIds**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtinqifids), [**RpcMgmtEpEltInqBegin**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqbegin), and [**RpcMgmtEpEltInqDone**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqdone) to see if the server has registered the particular interface it requires in the endpoint map.</span></span>

## <a name="using-well-known-endpoints"></a><span data-ttu-id="0ce10-119">Verwenden bekannter Endpunkte</span><span class="sxs-lookup"><span data-stu-id="0ce10-119">Using Well-known Endpoints</span></span>

<span data-ttu-id="0ce10-120">Bekannte Endpunkte sind vorab zugewiesene Endpunkte, die vom Serverprogramm jedes Mal verwendet werden, wenn es ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="0ce10-120">Well-known endpoints are pre-assigned endpoints that the server program uses every time it runs.</span></span> <span data-ttu-id="0ce10-121">Da der Server immer auf diesen bestimmten Endpunkt lauscht, versucht der Client immer, eine Verbindung mit ihm herzustellen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-121">Because the server always listens to that particular endpoint, the client always attempts to connect to it.</span></span> <span data-ttu-id="0ce10-122">Bekannte Endpunkte werden in der Regel von der Autorität zugewiesen, die für das Transportprotokoll zuständig ist.</span><span class="sxs-lookup"><span data-stu-id="0ce10-122">Well-known endpoints are usually assigned by the authority responsible for the transport protocol.</span></span> <span data-ttu-id="0ce10-123">Da Server Host Computer über eine begrenzte Anzahl verfügbarer Endpunkte verfügen, wird dringend davon abgeraten, bekannte Endpunkte zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="0ce10-123">Because server host computers have a finite number of available endpoints, application developers are strongly discouraged from using well-known endpoints.</span></span> <span data-ttu-id="0ce10-124">Ein weiterer Vorteil dynamischer Endpunkte besteht darin, dass Sie die langfristige Verwaltung und Wartung des Systems vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-124">Another advantage of dynamic endpoints is that they simplify long-term management and maintenance of the system.</span></span>

<span data-ttu-id="0ce10-125">Eine verteilte Anwendung kann einen bekannten Endpunkt in einer Zeichenfolge angeben und diese Zeichenfolge als Parameter an die Funktion [**rpcserveruseprotseqep**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserveruseprotseqep)übergeben.</span><span class="sxs-lookup"><span data-stu-id="0ce10-125">A distributed application can specify a well-known endpoint in a string and pass that string as a parameter to the function [**RpcServerUseProtseqEp**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserveruseprotseqep).</span></span> <span data-ttu-id="0ce10-126">Alternativ kann die Endpunkt Zeichenfolge im IDL-Datei Schnittstellen Header als Teil des \[ [](/windows/desktop/Midl/endpoint) \] Attributs der Endpunkt Schnittstelle angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="0ce10-126">Alternatively, the endpoint string can appear in the IDL file interface header as part of the \[ [endpoint](/windows/desktop/Midl/endpoint)\] interface attribute.</span></span>

<span data-ttu-id="0ce10-127">Sie können zwei Ansätze verwenden, um den bekannten Endpunkt zu implementieren:</span><span class="sxs-lookup"><span data-stu-id="0ce10-127">You can use two approaches to implement the well-known endpoint:</span></span>

-   <span data-ttu-id="0ce10-128">Alle Informationen in einer Zeichen folgen Bindung angeben</span><span class="sxs-lookup"><span data-stu-id="0ce10-128">Specify all information in a string binding</span></span>
-   <span data-ttu-id="0ce10-129">Speichert den bekannten Endpunkt in der Name Service-Datenbank.</span><span class="sxs-lookup"><span data-stu-id="0ce10-129">Store the well-known endpoint in the name service database</span></span>

<span data-ttu-id="0ce10-130">Sie können alle Informationen schreiben, die erforderlich sind, um eine Bindung in eine verteilte Anwendung zu erstellen, wenn Sie Sie entwickeln.</span><span class="sxs-lookup"><span data-stu-id="0ce10-130">You can write all of the information needed to establish a binding into a distributed application when you develop it.</span></span> <span data-ttu-id="0ce10-131">Der Client kann den bekannten Endpunkt direkt in einer Zeichenfolge angeben, [**rpcstringbindingcompose**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcstringbindingcompose) aufrufen, um eine Zeichenfolge zu erstellen, die alle Bindungs Informationen enthält, und diese Zeichenfolge an die Funktion [**RpcBindingFromStringBinding**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingfromstringbinding) übergeben, um ein Handle zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="0ce10-131">The client can specify the well-known endpoint directly in a string, call [**RpcStringBindingCompose**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcstringbindingcompose) to create a string that contains all the binding information, and supply this string to the function [**RpcBindingFromStringBinding**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcbindingfromstringbinding) to obtain a handle.</span></span> <span data-ttu-id="0ce10-132">Der Client und der Server können hart codiert werden, um einen bekannten Endpunkt zu verwenden, oder so geschrieben, dass die Endpunkt Informationen von der Befehlszeile, einer Datendatei, einer Konfigurationsdatei oder der IDL-Datei stammen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-132">The client and server can be hard-coded to use a well-known endpoint, or written so that the endpoint information comes from the command line, a data file, a configuration file, or the IDL file.</span></span>

<span data-ttu-id="0ce10-133">Die Client Anwendung kann auch eine Name Service-Datenbank nach bekannten Endpunkt Informationen Abfragen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-133">Your client application can also query a name service database for well-known endpoint information.</span></span>

## <a name="using-dynamic-endpoints"></a><span data-ttu-id="0ce10-134">Verwenden dynamischer Endpunkte</span><span class="sxs-lookup"><span data-stu-id="0ce10-134">Using Dynamic Endpoints</span></span>

<span data-ttu-id="0ce10-135">Die Anzahl der Endpunkte für einen bestimmten Server und eine bestimmte Protokoll Sequenz ist normalerweise eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="0ce10-135">The number of endpoints for a particular server and a particular protocol sequence are usually limited.</span></span> <span data-ttu-id="0ce10-136">Wenn Sie z. b. die [ncacn \_ IP- \_ TCP-](/windows/desktop/Midl/ncacn-ip-tcp) Protokoll Sequenz verwenden, die anzeigt, dass die RPC-Netzwerkkommunikation mithilfe von TCP/IP erfolgt, ist nur eine begrenzte Anzahl von Ports verfügbar (die meisten Systeme verfügen nur über den Bereich 1025 bis 5000 geöffnet).</span><span class="sxs-lookup"><span data-stu-id="0ce10-136">For example, when you use the [ncacn\_ip\_tcp](/windows/desktop/Midl/ncacn-ip-tcp) protocol sequence, indicating that RPC network communication occurs using TCP/IP, only a limited number of ports are available (most systems have only the range 1025 through 5000 opened).</span></span> <span data-ttu-id="0ce10-137">Mit den RPC-Laufzeitbibliotheken können Sie Endpunkte nach Bedarf dynamisch zuweisen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-137">The RPC run-time libraries allow you to assign endpoints dynamically, as needed.</span></span> <span data-ttu-id="0ce10-138">Da die Anzahl der möglichen Schnittstellen-UUIDs praktisch unbegrenzt ist, bietet die Verwendung der Interface UUID zur Weiterleitung des Aufrufes mehr Raum für die Erweiterung und mehr Flexibilität.</span><span class="sxs-lookup"><span data-stu-id="0ce10-138">Since the number of possible interface UUIDs is practically unlimited, using the interface UUID to direct the call offers more room for expansion and more flexibility.</span></span>

<span data-ttu-id="0ce10-139">Standardmäßig suchen die Funktionen der RPC-Lauf Zeit Bibliothek nach Endpunkt Informationen, wenn Sie eine Name Service-Datenbank Abfragen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-139">By default, the RPC run-time library functions search for endpoint information when they query a name service database.</span></span> <span data-ttu-id="0ce10-140">Wenn der Endpunkt dynamisch ist, enthält die Name Service-Datenbank keine Endpunkt Informationen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-140">If the endpoint is dynamic, the name service database will not contain endpoint information.</span></span> <span data-ttu-id="0ce10-141">Die Abfrage gibt jedoch Ihrem Client Programm den Namen eines Servers.</span><span class="sxs-lookup"><span data-stu-id="0ce10-141">However, the query will give your client program the name of a server.</span></span> <span data-ttu-id="0ce10-142">Anschließend kann die Endpunkt Zuordnung des Servers durchsucht werden.</span><span class="sxs-lookup"><span data-stu-id="0ce10-142">It can then search the server's endpoint map.</span></span>

<span data-ttu-id="0ce10-143">Wenn der Client einen Remote Prozedur Aufrufvorgang mithilfe eines dynamischen Endpunkts ausführen muss, besteht die bevorzugte Methode darin, den-Befehl für ein teilweise gebundenes Bindungs handle auszuführen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-143">If the client needs to make a remote procedure call using a dynamic endpoint, the preferred method is to make the call on a partially bound binding handle.</span></span> <span data-ttu-id="0ce10-144">Die RPC-Laufzeit löst den Endpunkt transparent auf.</span><span class="sxs-lookup"><span data-stu-id="0ce10-144">The RPC run time resolves the endpoint transparently.</span></span> <span data-ttu-id="0ce10-145">Diese Methode ist für die Verwendung der Funktion [**rpcepresolvebinding**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcepresolvebinding) besser, da Sie in der RPC-Laufzeit erweiterte zwischen Speicherungs Mechanismen zulässt.</span><span class="sxs-lookup"><span data-stu-id="0ce10-145">This method is superior to using the [**RpcEpResolveBinding**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcepresolvebinding) function, as it allows advanced caching mechanisms in the RPC run time.</span></span>

<span data-ttu-id="0ce10-146">Wenn eine genauere Steuerung der Endpunkt Auswahl erforderlich ist, können Clients die Endpunkt Zuordnung nacheinander durch Aufrufen der [**RpcMgmtEpEltInqBegin**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqbegin)-, [**RpcMgmtEpEltInqNext**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqnext)-und [**RpcMgmtEpEltInqDone**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqdone) -Funktionen durchsuchen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-146">If more specific control over endpoint selection is required, clients can search the endpoint map one entry at a time by calling the [**RpcMgmtEpEltInqBegin**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqbegin), [**RpcMgmtEpEltInqNext**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqnext), and [**RpcMgmtEpEltInqDone**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcmgmtepeltinqdone) functions.</span></span>

## <a name="exporting-well-known-endpoints-into-the-endpoint-map-database"></a><span data-ttu-id="0ce10-147">Exportieren von bekannten Endpunkten in die Datenbank der Endpunkt Zuordnung</span><span class="sxs-lookup"><span data-stu-id="0ce10-147">Exporting Well-known Endpoints into the Endpoint Map Database</span></span>

<span data-ttu-id="0ce10-148">Es ist möglich, die beiden Ansätze zum Ermitteln von Endpunkten zu mischen, insbesondere wenn ein verteiltes System von einem bekannten Endpunkt Modell in ein dynamisches Endpunkt Modell übergeht.</span><span class="sxs-lookup"><span data-stu-id="0ce10-148">It is possible to mix the two approaches to finding endpoints, especially when a distributed system is transitioning from a well-known endpoint model to a dynamic endpoint model.</span></span> <span data-ttu-id="0ce10-149">Bei solchen Übergängen wird für eine zwischen Version des Servers ein bekannter Endpunkt verwendet, aber auch der bekannte Endpunkt wird bei der Datenbank der Endpunkt Zuordnung registriert.</span><span class="sxs-lookup"><span data-stu-id="0ce10-149">In such transitions, an intermediate version of the server will use a well-known endpoint, but it will also register the well-known endpoint with the endpoint map database.</span></span> <span data-ttu-id="0ce10-150">Dieser Ansatz ermöglicht es Clients, die bekannte Endpunkte und Clients verwenden, die einen dynamischen Endpunkt verwenden, um eine Verbindung herzustellen.</span><span class="sxs-lookup"><span data-stu-id="0ce10-150">This approach allows clients that use well known endpoint and clients that use a dynamic endpoint to connect.</span></span> <span data-ttu-id="0ce10-151">Nachdem alle Server aktualisiert wurden, kann eine neue Client Version bereitgestellt werden, die nur dynamische Endpunkte verwendet.</span><span class="sxs-lookup"><span data-stu-id="0ce10-151">Once all servers are upgraded, a new client version can be deployed that uses dynamic endpoints only.</span></span> <span data-ttu-id="0ce10-152">Nachdem alle Clients aktualisiert wurden, kann die endgültige Server Version die Verwendung bekannter Endpunkte nicht mehr unterbinden und nur dynamische Endpunkte verwenden.</span><span class="sxs-lookup"><span data-stu-id="0ce10-152">Once all clients are upgraded, a final server version can stop using well-known endpoints and begin using dynamic endpoints only.</span></span>

<span data-ttu-id="0ce10-153">Dieser Ansatz ermöglicht einen Übergangs Pfad für Anwendungen, die mit einem bekannten Endpunkt gestartet wurden, aber zu einem dynamischen Endpunkt migrieren möchten, ohne dass ein gleichzeitiges Update aller Server und Clients erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="0ce10-153">This approach allows a transition path for applications that have started with a well-known endpoint but want to migrate to a dynamic endpoint without requiring a simultaneous update of all servers and clients.</span></span>

 

 