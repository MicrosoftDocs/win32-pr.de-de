---
description: Bei der Kryptografie mit öffentlichem Schlüssel (auch als Kryptografie mit asymmetrischem Schlüssel bezeichnet) wird ein Schlüsselpaar zum Verschlüsseln und Entschlüsseln von Inhalten verwendet.
ms.assetid: 93f65367-ca4b-4b44-9833-0653cfd3f3d3
title: Public Key-Infrastruktur
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 55e4ff0b2b3912bc44851be105c2e2b15200eb62
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106347455"
---
# <a name="public-key-infrastructure"></a><span data-ttu-id="6c662-103">Public Key-Infrastruktur</span><span class="sxs-lookup"><span data-stu-id="6c662-103">Public Key Infrastructure</span></span>

<span data-ttu-id="6c662-104">Bei der Kryptografie mit öffentlichem Schlüssel (auch als Kryptografie mit asymmetrischem Schlüssel bezeichnet) wird ein Schlüsselpaar zum Verschlüsseln und Entschlüsseln von Inhalten verwendet.</span><span class="sxs-lookup"><span data-stu-id="6c662-104">Public-key cryptography (also called asymmetric-key cryptography) uses a key pair to encrypt and decrypt content.</span></span> <span data-ttu-id="6c662-105">Das Schlüsselpaar besteht aus einem öffentlichen und einem privaten Schlüssel, der mathematisch verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="6c662-105">The key pair consists of one public and one private key that are mathematically related.</span></span> <span data-ttu-id="6c662-106">Eine Person, die eine sichere Kommunikation mit anderen durchführen möchte, kann den [*öffentlichen Schlüssel*](/windows/desktop/SecGloss/p-gly) verteilen, muss den geheimen [*Schlüssel des privaten Schlüssels*](/windows/desktop/SecGloss/p-gly) jedoch beibehalten.</span><span class="sxs-lookup"><span data-stu-id="6c662-106">An individual who intends to communicate securely with others can distribute the [*public key*](/windows/desktop/SecGloss/p-gly) but must keep the [*private key*](/windows/desktop/SecGloss/p-gly) secret.</span></span> <span data-ttu-id="6c662-107">Inhalte, die mit einem der Schlüssel verschlüsselt wurden, können mit dem anderen entschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="6c662-107">Content encrypted by using one of the keys can be decrypted by using the other.</span></span> <span data-ttu-id="6c662-108">Nehmen wir beispielsweise an, dass Bob eine sichere e-Mail-Nachricht an Alice senden möchte.</span><span class="sxs-lookup"><span data-stu-id="6c662-108">Assume, for example, that Bob wants to send a secure email message to Alice.</span></span> <span data-ttu-id="6c662-109">Dies kann auf folgende Weise erreicht werden:</span><span class="sxs-lookup"><span data-stu-id="6c662-109">This can be accomplished in the following manner:</span></span>

1.  <span data-ttu-id="6c662-110">Bob und Alice verfügen über eigene Schlüsselpaare.</span><span class="sxs-lookup"><span data-stu-id="6c662-110">Both Bob and Alice have their own key pairs.</span></span> <span data-ttu-id="6c662-111">Sie haben Ihre privaten Schlüssel sicher in sich selbst aufbewahrt und ihre öffentlichen Schlüssel direkt an Sie gesendet.</span><span class="sxs-lookup"><span data-stu-id="6c662-111">They have kept their private keys securely to themselves and have sent their public keys directly to each other.</span></span>
2.  <span data-ttu-id="6c662-112">Bob verwendet den öffentlichen Schlüssel von Alice, um die Nachricht zu verschlüsseln und an Sie zu senden.</span><span class="sxs-lookup"><span data-stu-id="6c662-112">Bob uses Alice's public key to encrypt the message and sends it to her.</span></span>
3.  <span data-ttu-id="6c662-113">Alice verwendet Ihren privaten Schlüssel zum Entschlüsseln der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6c662-113">Alice uses her private key to decrypt the message.</span></span>

<span data-ttu-id="6c662-114">In diesem vereinfachten Beispiel wird mindestens ein offensichtliches Problem hervorgehoben, das Bob über den öffentlichen Schlüssel verfügen muss, den er zum Verschlüsseln der Nachricht verwendet hat.</span><span class="sxs-lookup"><span data-stu-id="6c662-114">This simplified example highlights at least one obvious concern Bob must have about the public key he used to encrypt the message.</span></span> <span data-ttu-id="6c662-115">Das heißt, er kann nicht mit Sicherheit wissen, dass der Schlüssel, den er für die Verschlüsselung verwendet hat, tatsächlich zu Alice gehört.</span><span class="sxs-lookup"><span data-stu-id="6c662-115">That is, he cannot know with certainty that the key he used for encryption actually belonged to Alice.</span></span> <span data-ttu-id="6c662-116">Es ist möglich, dass eine andere Partei, die den Kommunikationskanal zwischen Bob und Alice überwacht, einen anderen Schlüssel ersetzt.</span><span class="sxs-lookup"><span data-stu-id="6c662-116">It is possible that another party monitoring the communication channel between Bob and Alice substituted a different key.</span></span>

<span data-ttu-id="6c662-117">Das Konzept der Public Key-Infrastruktur wurde entwickelt, um dieses Problem und andere zu beheben.</span><span class="sxs-lookup"><span data-stu-id="6c662-117">The public key infrastructure concept has evolved to help address this problem and others.</span></span> <span data-ttu-id="6c662-118">Eine Public Key-Infrastruktur (PKI) besteht aus Software-und Hardware Elementen, die von einem vertrauenswürdigen Drittanbieter verwendet werden können, um die Integrität und den Besitz eines öffentlichen Schlüssels zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="6c662-118">A public key infrastructure (PKI) consists of software and hardware elements that a trusted third party can use to establish the integrity and ownership of a public key.</span></span> <span data-ttu-id="6c662-119">Die vertrauenswürdige Partei, die als Zertifizierungsstelle ( [*Certification Authority*](/windows/desktop/SecGloss/c-gly) , ca) bezeichnet wird, erreicht dies in der Regel durch die Ausgabe signierter (verschlüsselter) Binär Zertifikate, die die Identität des Zertifikat Antragstellers bestätigen und diese Identität an den im Zertifikat enthaltenen öffentlichen Schlüssel binden.</span><span class="sxs-lookup"><span data-stu-id="6c662-119">The trusted party, called a [*certification authority*](/windows/desktop/SecGloss/c-gly) (CA), typically accomplishes this by issuing signed (encrypted) binary certificates that affirm the identity of the certificate subject and bind that identity to the public key contained in the certificate.</span></span> <span data-ttu-id="6c662-120">Die Zertifizierungsstelle signiert das Zertifikat mit dem privaten Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="6c662-120">The CA signs the certificate by using its private key.</span></span> <span data-ttu-id="6c662-121">Der entsprechende öffentliche Schlüssel wird für alle interessierten Parteien in einem selbst signierten Zertifizierungsstellen Zertifikat ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="6c662-121">It issues the corresponding public key to all interested parties in a self-signed CA certificate.</span></span> <span data-ttu-id="6c662-122">Wenn eine Zertifizierungsstelle verwendet wird, kann das vorherige Beispiel folgendermaßen geändert werden:</span><span class="sxs-lookup"><span data-stu-id="6c662-122">When a CA is used, the preceding example can be modified in the following manner:</span></span>

1.  <span data-ttu-id="6c662-123">Angenommen, die Zertifizierungsstelle hat ein signiertes digitales Zertifikat ausgestellt, das den öffentlichen Schlüssel enthält.</span><span class="sxs-lookup"><span data-stu-id="6c662-123">Assume that the CA has issued a signed digital certificate that contains its public key.</span></span> <span data-ttu-id="6c662-124">Das Zertifikat wird von der Zertifizierungsstelle selbst signiert, indem der private Schlüssel verwendet wird, der dem öffentlichen Schlüssel im Zertifikat entspricht.</span><span class="sxs-lookup"><span data-stu-id="6c662-124">The CA self-signs this certificate by using the private key that corresponds to the public key in the certificate.</span></span>
2.  <span data-ttu-id="6c662-125">Alice und Bob stimmen zu, dass Sie die Zertifizierungsstelle zum Überprüfen Ihrer Identitäten verwenden.</span><span class="sxs-lookup"><span data-stu-id="6c662-125">Alice and Bob agree to use the CA to verify their identities.</span></span>
3.  <span data-ttu-id="6c662-126">Alice fordert von der Zertifizierungsstelle ein Zertifikat für öffentliche Schlüssel an.</span><span class="sxs-lookup"><span data-stu-id="6c662-126">Alice requests a public key certificate from the CA.</span></span>
4.  <span data-ttu-id="6c662-127">Die Zertifizierungsstelle überprüft Ihre Identität, berechnet einen Hash der Inhalte, aus denen Ihr Zertifikat besteht, signiert den Hash mithilfe des privaten Schlüssels, der dem öffentlichen Schlüssel im veröffentlichten Zertifizierungsstellen Zertifikat entspricht, erstellt ein neues Zertifikat, indem der Zertifikat Inhalt und der signierte Hash verkettet werden, und das neue Zertifikat wird öffentlich verfügbar.</span><span class="sxs-lookup"><span data-stu-id="6c662-127">The CA verifies her identity, computes a hash of the content that will make up her certificate, signs the hash by using the private key that corresponds to the public key in the published CA certificate, creates a new certificate by concatenating the certificate content and the signed hash, and makes the new certificate publicly available.</span></span>
5.  <span data-ttu-id="6c662-128">Bob Ruft das Zertifikat ab, entschlüsselt den signierten Hash mithilfe des öffentlichen Schlüssels der Zertifizierungsstelle, berechnet einen neuen Hash des Zertifikats Inhalts und vergleicht die beiden Hashes.</span><span class="sxs-lookup"><span data-stu-id="6c662-128">Bob retrieves the certificate, decrypts the signed hash by using the public key of the CA, computes a new hash of the certificate content, and compares the two hashes.</span></span> <span data-ttu-id="6c662-129">Wenn die Hashwerte Stimmen, wird die Signatur überprüft, und Bob kann davon ausgehen, dass der öffentliche Schlüssel im Zertifikat tatsächlich zu Alice gehört.</span><span class="sxs-lookup"><span data-stu-id="6c662-129">If the hashes match, the signature is verified and Bob can assume that the public key in the certificate does indeed belong to Alice.</span></span>
6.  <span data-ttu-id="6c662-130">Bob verwendet den überprüften öffentlichen Schlüssel von Alice, um eine Nachricht zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="6c662-130">Bob uses Alice's verified public key to encrypt a message to her.</span></span>
7.  <span data-ttu-id="6c662-131">Alice verwendet Ihren privaten Schlüssel zum Entschlüsseln der Nachricht aus Bob.</span><span class="sxs-lookup"><span data-stu-id="6c662-131">Alice uses her private key to decrypt the message from Bob.</span></span>

<span data-ttu-id="6c662-132">Zusammengefasst ermöglicht der Zertifikat Signier Vorgang Bob, sicherzustellen, dass der öffentliche Schlüssel während der Übertragung nicht manipuliert oder beschädigt wurde.</span><span class="sxs-lookup"><span data-stu-id="6c662-132">In summary, the certificate signing process enables Bob to verify that the public key was not tampered with or corrupted during transit.</span></span> <span data-ttu-id="6c662-133">Vor dem Ausstellen eines Zertifikats erstellt die Zertifizierungsstelle einen Hashwert für den Inhalt, signiert (verschlüsselt) den Hash mithilfe seines eigenen privaten Schlüssels und schließt den verschlüsselten Hash in das ausgegebene Zertifikat ein.</span><span class="sxs-lookup"><span data-stu-id="6c662-133">Before issuing a certificate, the CA hashes the contents, signs (encrypts) the hash by using its own private key, and includes the encrypted hash in the issued certificate.</span></span> <span data-ttu-id="6c662-134">Bob überprüft den Zertifikat Inhalt, indem er den Hash mit dem öffentlichen Schlüssel der Zertifizierungsstelle entschlüsselt, einen separaten Hash der Zertifikat Inhalte durchführt und die beiden Hashes vergleicht.</span><span class="sxs-lookup"><span data-stu-id="6c662-134">Bob verifies the certificate contents by decrypting the hash with the CA public key, performing a separate hash of the certificate contents, and comparing the two hashes.</span></span> <span data-ttu-id="6c662-135">Wenn Sie einander entsprechen, kann Bob sicher sein, dass das Zertifikat und der öffentliche Schlüssel nicht geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="6c662-135">If they match, Bob can be reasonably certain that the certificate and the public key it contains have not been altered.</span></span>

<span data-ttu-id="6c662-136">Eine typische PKI besteht aus den folgenden Elementen.</span><span class="sxs-lookup"><span data-stu-id="6c662-136">A typical PKI consists of the following elements.</span></span>

| <span data-ttu-id="6c662-137">Element</span><span class="sxs-lookup"><span data-stu-id="6c662-137">Element</span></span>                            | <span data-ttu-id="6c662-138">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="6c662-138">Description</span></span>                                                                                                                                                                               |
|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6c662-139">Zertifizierungsstelle</span><span class="sxs-lookup"><span data-stu-id="6c662-139">Certification Authority</span></span><br/> | <span data-ttu-id="6c662-140">Fungiert als Stamm der Vertrauensstellung in einer Public Key-Infrastruktur und stellt Dienste bereit, mit denen die Identität von Einzelpersonen, Computern und anderen Entitäten in einem Netzwerk authentifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="6c662-140">Acts as the root of trust in a public key infrastructure and provides services that authenticate the identity of individuals, computers, and other entities in a network.</span></span><br/>      |
| <span data-ttu-id="6c662-141">Registrierungsstelle</span><span class="sxs-lookup"><span data-stu-id="6c662-141">Registration Authority</span></span><br/>  | <span data-ttu-id="6c662-142">Wird von einer Stamm Zertifizierungsstelle zertifiziert, um Zertifikate für bestimmte vom Stamm zugelassene Verwendungen auszustellen.</span><span class="sxs-lookup"><span data-stu-id="6c662-142">Is certified by a root CA to issue certificates for specific uses permitted by the root.</span></span> <span data-ttu-id="6c662-143">In einer Microsoft-PKI wird eine Registrierungsstelle (Registration Authority, RA) in der Regel als untergeordnete Zertifizierungsstelle bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6c662-143">In a Microsoft PKI, a registration authority (RA) is usually called a subordinate CA.</span></span><br/> |
| <span data-ttu-id="6c662-144">Zertifikat Datenbank</span><span class="sxs-lookup"><span data-stu-id="6c662-144">Certificate Database</span></span><br/>    | <span data-ttu-id="6c662-145">Speichert Zertifikat Anforderungen und ausgestellte und widerrufene Zertifikate und Zertifikat Anforderungen für die Zertifizierungsstelle oder RA.</span><span class="sxs-lookup"><span data-stu-id="6c662-145">Saves certificate requests and issued and revoked certificates and certificate requests on the CA or RA.</span></span><br/>                                                                       |
| <span data-ttu-id="6c662-146">Zertifikatspeicher</span><span class="sxs-lookup"><span data-stu-id="6c662-146">Certificate Store</span></span><br/>       | <span data-ttu-id="6c662-147">Speichert ausgestellte Zertifikate und ausstehende oder abgelehnte Zertifikat Anforderungen auf dem lokalen Computer.</span><span class="sxs-lookup"><span data-stu-id="6c662-147">Saves issued certificates and pending or rejected certificate requests on the local computer.</span></span><br/>                                                                                  |
| <span data-ttu-id="6c662-148">Schlüssel Archivierungs Server</span><span class="sxs-lookup"><span data-stu-id="6c662-148">Key Archival Server</span></span><br/>     | <span data-ttu-id="6c662-149">Speichert verschlüsselte private Schlüssel in der Zertifikat Datenbank zur Wiederherstellung nach dem Verlust.</span><span class="sxs-lookup"><span data-stu-id="6c662-149">Saves encrypted private keys in the certificate database for recovery after loss.</span></span><br/>                                                                                              |



 

<span data-ttu-id="6c662-150">Die Zertifikatregistrierungs-API ermöglicht es Ihnen, Zertifikat-und Schlüssel Archivierungsanforderungen an Zertifizierungs-und Registrierungsstellen zu übermitteln und das ausgestellte Zertifikat auf einem lokalen Computer zu installieren.</span><span class="sxs-lookup"><span data-stu-id="6c662-150">The Certificate Enrollment API enables you to submit certificate and key archival requests to certification and registration authorities and install the issued certificate on a local computer.</span></span> <span data-ttu-id="6c662-151">Sie können die Zertifikat Datenbank oder den Zertifikat Speicher nicht direkt bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="6c662-151">It does not enable you to directly manipulate the certificate database or certificate store.</span></span>

<span data-ttu-id="6c662-152">In den folgenden Themen wird die Public Key-Infrastruktur von Microsoft ausführlicher erläutert:</span><span class="sxs-lookup"><span data-stu-id="6c662-152">The following topics discuss the Microsoft public key infrastructure in more detail:</span></span>

-   [<span data-ttu-id="6c662-153">X. 509-Zertifikate für öffentliche Schlüssel</span><span class="sxs-lookup"><span data-stu-id="6c662-153">X.509 Public Key Certificates</span></span>](about-x-509-public-key-certificates.md)
-   [<span data-ttu-id="6c662-154">PKI-Elemente</span><span class="sxs-lookup"><span data-stu-id="6c662-154">PKI Elements</span></span>](about-pki-components.md)
-   [<span data-ttu-id="6c662-155">Trust-Modelle</span><span class="sxs-lookup"><span data-stu-id="6c662-155">Trust Models</span></span>](about-trust-models.md)

## <a name="related-topics"></a><span data-ttu-id="6c662-156">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6c662-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6c662-157">Informationen zur Zertifikatregistrierungs-API</span><span class="sxs-lookup"><span data-stu-id="6c662-157">About the Certificate Enrollment API</span></span>](about-the-certificate-enrollment-api.md)
</dt> </dl>

 

