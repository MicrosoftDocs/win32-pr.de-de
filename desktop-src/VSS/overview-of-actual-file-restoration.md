---
description: Nachdem Sie die unter Übersicht über die Wiederherstellungs Initialisierung und die Übersicht über die Vorbereitung der Wiederherstellung beschriebenen Aktionen durchgeführt haben, verfügt der Anforderer über ausreichend Informationen, um die Wiederherstellung
ms.assetid: 15df39fa-1eb1-4e96-9e26-14470f391de4
title: Übersicht über die tatsächliche Dateiwiederherstellung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6527a10d0880b1e599377abb797449816019ab89
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106345287"
---
# <a name="overview-of-actual-file-restoration"></a><span data-ttu-id="53784-103">Übersicht über die tatsächliche Dateiwiederherstellung</span><span class="sxs-lookup"><span data-stu-id="53784-103">Overview of Actual File Restoration</span></span>

<span data-ttu-id="53784-104">Nachdem Sie die unter [Übersicht über die Wiederherstellungs Initialisierung](overview-of-restore-initialization.md) und die Übersicht über die [Vorbereitung der Wiederherstellung](overview-of-preparing-for-restore.md)beschriebenen Aktionen durchgeführt haben, verfügt der Anforderer über ausreichend Informationen, um die Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="53784-104">After performing the actions described in [Overview of Restore Initialization](overview-of-restore-initialization.md) and [Overview of Preparing for Restore](overview-of-preparing-for-restore.md), the requester has sufficient information to begin restoring files.</span></span> <span data-ttu-id="53784-105">Die Wiederherstellung von Dateien umfasst weder Writer-Interaktionen noch die Generierung von Ereignissen.</span><span class="sxs-lookup"><span data-stu-id="53784-105">File restoration does not involve writer interactions or the generation of events.</span></span> <span data-ttu-id="53784-106">Weitere Informationen finden Sie [unter Übersicht über die Verarbeitung einer Wiederherstellung unter VSS](overview-of-processing-a-restore-under-vss.md).</span><span class="sxs-lookup"><span data-stu-id="53784-106">For more information, see [Overview of Processing a Restore Under VSS](overview-of-processing-a-restore-under-vss.md).</span></span>

<span data-ttu-id="53784-107">In der folgenden Tabelle wird die Abfolge der Aktionen und Ereignisse angezeigt, die zum Wiederherstellen von Dateien erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="53784-107">The following table shows the sequence of actions and events that are required to restore files.</span></span>



| <span data-ttu-id="53784-108">Requestaktion</span><span class="sxs-lookup"><span data-stu-id="53784-108">Requester action</span></span>                                                                                                                                                                                                                                                                                                          | <span data-ttu-id="53784-109">Ereignis</span><span class="sxs-lookup"><span data-stu-id="53784-109">Event</span></span> | <span data-ttu-id="53784-110">Writer-Aktion</span><span class="sxs-lookup"><span data-stu-id="53784-110">Writer action</span></span> |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------|---------------|
| <span data-ttu-id="53784-111">Erstellen Sie eine Wiederherstellungs Gruppe für Dateien auf dem Sicherungsmedium.</span><span class="sxs-lookup"><span data-stu-id="53784-111">Generate a restore set listing for files on backup media.</span></span>                                                                                                                                                                                                                                                                 | <span data-ttu-id="53784-112">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-112">None</span></span>  | <span data-ttu-id="53784-113">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-113">None</span></span>          |
| <span data-ttu-id="53784-114">Behandeln von [*gerichteten Zielen*](vssgloss-d.md) oder der Wiederherstellung von [*Teil Dateien*](vssgloss-p.md) (siehe [**IVssComponent:: getdirectedtarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtarget), [**IVssComponent:: GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)).</span><span class="sxs-lookup"><span data-stu-id="53784-114">Handle [*directed targets*](vssgloss-d.md) or [*partial file*](vssgloss-p.md) restoration (see [**IVssComponent::GetDirectedTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtarget), [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)).</span></span> | <span data-ttu-id="53784-115">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-115">None</span></span>  | <span data-ttu-id="53784-116">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-116">None</span></span>          |
| <span data-ttu-id="53784-117">Ignorieren Sie ggf. alle angegebenen Wiederherstellungs Speicherorte, und stellen Sie Sie an einem neuen Speicherort wieder her, der in einem früheren Vorgang von [**IVssBackupComponents:: addnewtarget**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addnewtarget)angegeben wurde</span><span class="sxs-lookup"><span data-stu-id="53784-117">If necessary, ignore all specified restore locations and restore to a new location specified in an earlier call to [**IVssBackupComponents::AddNewTarget**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addnewtarget).</span></span>                                                                                                                       | <span data-ttu-id="53784-118">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-118">None</span></span>  | <span data-ttu-id="53784-119">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-119">None</span></span>          |
| <span data-ttu-id="53784-120">Wenn die Wiederherstellung inkrementell ist und weitere Wiederherstellungen erforderlich sind, geben Sie an (siehe [**IVssBackupComponents:: setadditionalrestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores) und [inkrementelle und differenzielle Sicherungen](incremental-and-differential-backups.md))</span><span class="sxs-lookup"><span data-stu-id="53784-120">If the restore is incremental and further restores are needed, indicate (see [**IVssBackupComponents::SetAdditionalRestores**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores) and [Incremental and Differential Backups](incremental-and-differential-backups.md)).</span></span>                                                     | <span data-ttu-id="53784-121">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-121">None</span></span>  | <span data-ttu-id="53784-122">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-122">None</span></span>          |
| <span data-ttu-id="53784-123">Um zu erfahren, ob ein Writer den Inhalt des Dokuments mit den Sicherungs Komponenten geändert hat, nennen Sie [**IVssBackupComponents:: getschreitercomponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="53784-123">To learn whether a writer has modified the contents of the Backup Components Document, call [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span> <span data-ttu-id="53784-124">Der Writer hat z. b. möglicherweise das Wiederherstellungs Ziel geändert.</span><span class="sxs-lookup"><span data-stu-id="53784-124">For example, the writer might have changed the restore target.</span></span>                                                                 | <span data-ttu-id="53784-125">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-125">None</span></span>  | <span data-ttu-id="53784-126">Keine</span><span class="sxs-lookup"><span data-stu-id="53784-126">None</span></span>          |



 

## <a name="requester-actions-during-restoring-files"></a><span data-ttu-id="53784-127">Requestaktionen beim Wiederherstellen von Dateien</span><span class="sxs-lookup"><span data-stu-id="53784-127">Requester Actions during Restoring Files</span></span>

<span data-ttu-id="53784-128">Bei den meisten Dateien auf dem Sicherungsmedium muss die anfordernde Person ihre ursprünglichen Speicherorte und alle neuen Speicherorte oder alternativen Speicherort Zuordnungen ermitteln, die für Sie gelten.</span><span class="sxs-lookup"><span data-stu-id="53784-128">For most files on the backup media, the requester needs to determine their original locations and any new locations or alternate location mappings that apply to them.</span></span> <span data-ttu-id="53784-129">(Weitere Informationen zu bewährten Methoden bei der Ermittlung der wiederherzustellenden Dateien und deren Wiederherstellung finden Sie unter [Erstellen einer Wiederherstellungs Gruppe](generating-a-restore-set.md) .)</span><span class="sxs-lookup"><span data-stu-id="53784-129">(See [Generating a Restore Set](generating-a-restore-set.md) for a discussion of best practices in determining which files to restore and where to restore them.)</span></span>

<span data-ttu-id="53784-130">Darüber hinaus können einige Dateien über [*gesteuerte Ziele*](vssgloss-d.md) verfügen oder die Wiederherstellung von [*Teil*](vssgloss-p.md) Dateien unterstützen.</span><span class="sxs-lookup"><span data-stu-id="53784-130">In addition, some files may have [*directed targets*](vssgloss-d.md) or support [*partial file*](vssgloss-p.md) restoration.</span></span> <span data-ttu-id="53784-131">Die Anzahl dieser Dateien kann durch Aufrufen von [**IVssComponent:: getdirectedtargetcount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtargetcount) und [**IVssComponent:: GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount)gefunden werden. Informationen zu detaillierten Wiederherstellungs Anweisungen finden Sie unter " [**IVssComponent:: adddirectedtarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddirectedtarget) " und " [**IVssComponent:: GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile)".</span><span class="sxs-lookup"><span data-stu-id="53784-131">The number of such files can be found by calling [**IVssComponent::GetDirectedTargetCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdirectedtargetcount) and [**IVssComponent::GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount), and information on detailed restoration instructions can be found by calling [**IVssComponent::AddDirectedTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddirectedtarget) and [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile).</span></span> <span data-ttu-id="53784-132">(Partielle und gesteuerte Dateien können Teil der Komponenten sein, die der ursprünglichen Sicherung implizit oder explizit hinzugefügt wurden. Weitere Informationen finden Sie unter [Arbeiten mit selekabilität für die Wiederherstellung und unter Komponenten](working-with-selectability-for-restore-and-subcomponents.md) .)</span><span class="sxs-lookup"><span data-stu-id="53784-132">(Partial and directed files can be part of components added implicitly or explicitly to the original backup, see [Working with Selectability For Restore and Subcomponents](working-with-selectability-for-restore-and-subcomponents.md) for more information.)</span></span>

<span data-ttu-id="53784-133">Der Erfolg oder das Fehlschlagen einer Wiederherstellung wird auf Komponentenbasis mithilfe von [**IVssBackupComponents:: setfilerestorestatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setfilerestorestatus)angegeben.</span><span class="sxs-lookup"><span data-stu-id="53784-133">Success or failure of a restore is indicated on a component-by-component basis using [**IVssBackupComponents::SetFileRestoreStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setfilerestorestatus).</span></span> <span data-ttu-id="53784-134">Der Bedarf an weiteren Wiederherstellungs Vorgängen (im Fall von inkrementellen oder differenziellen Wiederherstellungen) wird auch auf Komponentenbasis mithilfe von [**IVssBackupComponents:: setadditionalrestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores)angegeben.</span><span class="sxs-lookup"><span data-stu-id="53784-134">The need for further restore operations (in the case of incremental or differential restores) is also indicated on a component-by-component basis using [**IVssBackupComponents::SetAdditionalRestores**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setadditionalrestores).</span></span>

<span data-ttu-id="53784-135">Im Allgemeinen gibt VSS keinen Mechanismus zum Abrufen von Daten von einem Speichermedium, eine Auswahl von Speichermedien oder die Art und Weise an, wie bestimmt werden soll, wo die Dateien wieder hergestellt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="53784-135">In general, VSS does not specify a mechanism for retrieving data from a storage media, a choice of storage medium, or how to determine which files should be restored where.</span></span>

<span data-ttu-id="53784-136">Für bestimmte Writer kann das Wiederherstellen von Dateien jedoch die Verwendung einer dokumentierten benutzerdefinierten Schnittstelle und Prozedur beinhalten.</span><span class="sxs-lookup"><span data-stu-id="53784-136">However, for certain writers, restoring files may involve the use of a documented custom interface and procedure.</span></span> <span data-ttu-id="53784-137">Windows-System Schreiber, die derzeit eine solche Unterstützung erfordern, sind in [speziellen VSS-Verwendungs Fällen](special-vss-usage-cases.md)dokumentiert.</span><span class="sxs-lookup"><span data-stu-id="53784-137">Windows system writers, which currently require such support, are documented in [Special VSS Usage Cases](special-vss-usage-cases.md).</span></span>

<span data-ttu-id="53784-138">Im Allgemeinen wird empfohlen, dass die Dateien der einzelnen Komponenten jeder Writer- [*Instanz*](vssgloss-w.md) als Einheit verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="53784-138">In general, it is recommended that the files of each component of each [*writer instance*](vssgloss-w.md) be processed as a unit.</span></span> <span data-ttu-id="53784-139">Dafür ist Folgendes erforderlich:</span><span class="sxs-lookup"><span data-stu-id="53784-139">This requires the following:</span></span>

-   <span data-ttu-id="53784-140">Zuordnen der einzelnen wiederherzustellenden Dateien mit der verwalteten Komponente.</span><span class="sxs-lookup"><span data-stu-id="53784-140">Associating each file to be restored with the component that managed it.</span></span> <span data-ttu-id="53784-141">Dies erfordert die Verwendung von Writer-Metadatendokumenten.</span><span class="sxs-lookup"><span data-stu-id="53784-141">This requires the use of Writer Metadata Documents.</span></span>
-   <span data-ttu-id="53784-142">Abrufen der richtigen Wiederherstellungs Ziel Informationen.</span><span class="sxs-lookup"><span data-stu-id="53784-142">Obtaining correct restoration target information.</span></span> <span data-ttu-id="53784-143">Hierfür sind Informationen aus dem Dokument mit den Sicherungs Komponenten erforderlich.</span><span class="sxs-lookup"><span data-stu-id="53784-143">This requires information from the Backup Components Document.</span></span>

 

 



