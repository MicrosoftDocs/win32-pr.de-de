---
description: 'Während eines Sicherungs Vorgangs verwendet der Anforderer IVssBackupComponents:: SetBackupState, um den Typ des laufenden Vorgangs zu definieren.'
ms.assetid: 43dcdac7-ed8e-4150-83eb-585e0e92f13c
title: VSS-Sicherungs Status
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9aa9250139aee9f48f9880fd4a657fa7c6c4991
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103751568"
---
# <a name="vss-backup-state"></a><span data-ttu-id="113d5-103">VSS-Sicherungs Status</span><span class="sxs-lookup"><span data-stu-id="113d5-103">VSS Backup State</span></span>

<span data-ttu-id="113d5-104">Während eines Sicherungs Vorgangs verwendet der Anforderer [**IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) , um den Typ des laufenden Vorgangs zu definieren.</span><span class="sxs-lookup"><span data-stu-id="113d5-104">During a backup operation, the requester uses [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) to define the type of operation in progress.</span></span>

<span data-ttu-id="113d5-105">Diese Informationen sind nicht in einem leicht abrufbaren Formular im Dokument mit den Sicherungs Komponenten enthalten, sodass Entwickler diese Informationen unabhängig von allen Sicherungsmedien speichern sollten.</span><span class="sxs-lookup"><span data-stu-id="113d5-105">This information is not included in an easily retrievable form in the Backup Components Document, so requester developers should store this information independently on any backup media.</span></span>

<span data-ttu-id="113d5-106">Der Sicherungs Status enthält Folgendes:</span><span class="sxs-lookup"><span data-stu-id="113d5-106">The backup state contains the following:</span></span>

<dl> <dt>

<span data-ttu-id="113d5-107"><span id="Backup_Type"></span><span id="backup_type"></span><span id="BACKUP_TYPE"></span>Sicherungstyp</span><span class="sxs-lookup"><span data-stu-id="113d5-107"><span id="Backup_Type"></span><span id="backup_type"></span><span id="BACKUP_TYPE"></span>Backup Type</span></span>
</dt> <dd>

<span data-ttu-id="113d5-108">Der Sicherungstyp gibt Kriterien für die Identifizierung von Dateien an, die gesichert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="113d5-108">The backup type specifies criteria for identifying files to be backed up.</span></span> <span data-ttu-id="113d5-109">Die Auswertung dieser Kriterien muss mithilfe der VSS-API erfolgen.</span><span class="sxs-lookup"><span data-stu-id="113d5-109">The evaluation of these criteria must be made using the VSS API.</span></span>

<span data-ttu-id="113d5-110">Wenn Sie entscheiden, welche Art von Sicherung Sie verfolgen und welche Writer verwendet werden sollen, sollten die Anforderer die Arten (oder Schemas – siehe [Unterstützung des Writer-Sicherungs Schemas](writer-backup-schema-support.md)) von Sicherungs Vorgängen untersuchen, die von den einzelnen Writer des Systems unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="113d5-110">When deciding on the type of backup to pursue and which writers to work with, requesters should examine the kinds (or schemas—see [Writer Backup Schema Support](writer-backup-schema-support.md)) of backup operations that each of the system's writers supports.</span></span> <span data-ttu-id="113d5-111">Sicherungen unter VSS können folgende Typen aufweisen:</span><span class="sxs-lookup"><span data-stu-id="113d5-111">Backups under VSS can be the following types:</span></span>

-   <span data-ttu-id="113d5-112">Vollständig (VSS \_ BT \_ Full) – Dateien werden unabhängig vom Zeitpunkt der letzten Sicherung gesichert.</span><span class="sxs-lookup"><span data-stu-id="113d5-112">Full (VSS\_BT\_FULL)—files will be backed up regardless of their last backup date.</span></span> <span data-ttu-id="113d5-113">Der Sicherungs Verlauf der einzelnen Dateien wird aktualisiert, und dieser Sicherungstyp kann als Grundlage für eine inkrementelle oder differenzielle Sicherung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="113d5-113">The backup history of each file will be updated, and this type of backup can be used as the basis of an incremental or differential backup.</span></span> <span data-ttu-id="113d5-114">Zum Wiederherstellen einer vollständigen Sicherung ist nur ein einzelnes Sicherungs Abbild erforderlich.</span><span class="sxs-lookup"><span data-stu-id="113d5-114">Restoring a full backup requires only a single backup image.</span></span>
-   <span data-ttu-id="113d5-115">Kopier Sicherung (VSS \_ BT- \_ Kopie) – wie der \_ Vollständige VSS BT- \_ Sicherungstyp werden Dateien unabhängig vom Zeitpunkt der letzten Sicherung gesichert.</span><span class="sxs-lookup"><span data-stu-id="113d5-115">Copy Backup (VSS\_BT\_COPY)—like the VSS\_BT\_FULL backup type, files will be backed up regardless of their last backup date.</span></span> <span data-ttu-id="113d5-116">Der Sicherungs Verlauf der einzelnen Dateien wird jedoch nicht aktualisiert, und diese Art der Sicherung kann nicht als Grundlage für eine inkrementelle oder differenzielle Sicherung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="113d5-116">However, the backup history of each file will not be updated, and this sort of backup cannot be used as the basis of an incremental or differential backup.</span></span>
-   <span data-ttu-id="113d5-117">Inkrementell (VSS \_ BT \_ inkrementell) – mit der VSS-API wird sichergestellt, dass nur Dateien, die seit der letzten vollständigen oder inkrementellen Sicherung geändert oder hinzugefügt wurden, auf ein Speichermedium kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="113d5-117">Incremental (VSS\_BT\_INCREMENTAL)—the VSS API is used to ensure that only files that have been changed or added since the last full or incremental backup are to be copied to a storage medium.</span></span> <span data-ttu-id="113d5-118">Zum Wiederherstellen einer inkrementellen Sicherung sind das ursprüngliche Sicherungs Abbild und alle inkrementellen Sicherungs Abbilder seit der ersten Sicherung</span><span class="sxs-lookup"><span data-stu-id="113d5-118">Restoring an incremental backup requires the original backup image and all incremental backup images made since the initial backup.</span></span>
-   <span data-ttu-id="113d5-119">Differenziell (VSS \_ BT \_ differenziell) – die VSS-API wird verwendet, um sicherzustellen, dass nur Dateien, die seit der letzten vollständigen Sicherung geändert oder hinzugefügt wurden, auf ein Speichermedium kopiert werden. alle zwischen Sicherungs Informationen werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="113d5-119">Differential (VSS\_BT\_DIFFERENTIAL)—the VSS API is used to ensure that only files that have been changed or added since the last full backup are to be copied to a storage media; all intermediate backup information is ignored.</span></span> <span data-ttu-id="113d5-120">Zum Wiederherstellen einer differenziellen Sicherung sind das ursprüngliche Sicherungs Image und das letzte differenzielle Sicherungs Abbild erforderlich, das seit der letzten vollständigen Sicherung erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="113d5-120">Restoring a differential backup requires the original backup image and the most recent differential backup image made since the last full backup.</span></span>
-   <span data-ttu-id="113d5-121">Protokolldatei (VSS \_ BT \_ -Protokoll) – nur die Protokolldateien eines Writers (Dateien, die zu einer Komponente mit der [**ivsskreateschreitermetadata:: adddatabaselogfiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) -Methode hinzugefügt und durch einen Aufrufen von [**ivsswmcomponent:: getdatabaselogfile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile)abgerufen wurden) werden gesichert.</span><span class="sxs-lookup"><span data-stu-id="113d5-121">Log File (VSS\_BT\_LOG)—only a writer's log files (files added to a component with the [**IVssCreateWriterMetadata::AddDataBaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) method, and retrieved by a call to [**IVssWMComponent::GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile)) will be backed up.</span></span> <span data-ttu-id="113d5-122">Dieser Sicherungstyp ist spezifisch für VSS.</span><span class="sxs-lookup"><span data-stu-id="113d5-122">This backup type is specific to VSS.</span></span>

<span data-ttu-id="113d5-123">Es ist möglich, dass Anforderer diese Sicherungen mithilfe von Informationen und Methoden außerhalb von VSS implementieren kann.</span><span class="sxs-lookup"><span data-stu-id="113d5-123">It is possible for requesters to implement these backups using information and methods outside of VSS.</span></span> <span data-ttu-id="113d5-124">Nur wenn ein Anforderer eine Sicherung mithilfe der VSS-API implementiert, sollte er einen der aufgelisteten Sicherungs Typen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="113d5-124">Only when a requester implements a backup using the VSS API should it be said to have one of the listed backup types.</span></span> <span data-ttu-id="113d5-125">Beispielsweise nimmt ein Anforderer an einem VSS \_ BT- \_ Protokolltyp "Backup" nur dann Teil, wenn er die von [**ivsswmcomponent:: getdatabaselogfile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile) zurückgegebenen Informationen verwendet hat, um Protokolldateien zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="113d5-125">For instance, a requester participates in a VSS\_BT\_LOG type of backup only if it used the information returned by [**IVssWMComponent::GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile) to identify log files.</span></span> <span data-ttu-id="113d5-126">Entsprechend \_ \_ gelten die differenziellen Typen VSS BT und VSS \_ BT \_ nur für inkrementelle oder differenzielle Vorgänge, wie in [inkrementellen und differenziellen Sicherungen](incremental-and-differential-backups.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="113d5-126">Similarly, the VSS\_BT\_INCREMENTAL and VSS\_BT\_DIFFERENTIAL types apply only to incremental or differential operations, as described in [Incremental and Differential Backups](incremental-and-differential-backups.md).</span></span>

</dd> <dt>

<span data-ttu-id="113d5-127"><span id="Specification_about_Selectability"></span><span id="specification_about_selectability"></span><span id="SPECIFICATION_ABOUT_SELECTABILITY"></span>Spezifikation zur selekabilität</span><span class="sxs-lookup"><span data-stu-id="113d5-127"><span id="Specification_about_Selectability"></span><span id="specification_about_selectability"></span><span id="SPECIFICATION_ABOUT_SELECTABILITY"></span>Specification about Selectability</span></span>
</dt> <dd>

<span data-ttu-id="113d5-128">Bei einer VSS-Sicherung können VSS-Konzepte der Komponentenauswahl berücksichtigt werden – dies wird als Ausführung im [*Komponenten Modus*](vssgloss-c.md)bezeichnet – oder, um Sie zu ignorieren.</span><span class="sxs-lookup"><span data-stu-id="113d5-128">A VSS backup may choose to respect VSS notions of component selectability—this is referred to as running in [*component mode*](vssgloss-c.md)—or to ignore them.</span></span>

<span data-ttu-id="113d5-129">Ein Beispiel für die Nichtausführung von im Komponenten Modus wäre die Durchführung einer System Abbild Sicherung, bei der die Sicherungs Anwendung eine Writer-Zusammenarbeit benötigt, um die Daten Stabilität sicherzustellen, wobei die Auswahl von Komponenten irrelevant wäre.</span><span class="sxs-lookup"><span data-stu-id="113d5-129">An example of not running in component mode would be performing a system image backup, where the backup application would need writer cooperation to ensure data stability but where selection of components would be irrelevant.</span></span>

</dd> <dt>

<span data-ttu-id="113d5-130"><span id="Saving_Bootable_State"></span><span id="saving_bootable_state"></span><span id="SAVING_BOOTABLE_STATE"></span>Start barer Zustand wird gespeichert.</span><span class="sxs-lookup"><span data-stu-id="113d5-130"><span id="Saving_Bootable_State"></span><span id="saving_bootable_state"></span><span id="SAVING_BOOTABLE_STATE"></span>Saving Bootable State</span></span>
</dt> <dd>

<span data-ttu-id="113d5-131">VSS unterstützt das Speichern des Betriebssystem Zustands in einer vollständig Start baren Konfiguration.</span><span class="sxs-lookup"><span data-stu-id="113d5-131">VSS supports saving the running system state in a fully bootable configuration.</span></span> <span data-ttu-id="113d5-132">Dies ist jedoch nicht immer erforderlich, und die Schreib Vorbereitung zum Speichern eines Start baren Zustands kann mitunter die Echtzeitleistung eines laufenden Systems beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="113d5-132">However, this is not always necessary, and writer preparation to save a bootable state can sometimes degrade real-time performance of a running system.</span></span>

<span data-ttu-id="113d5-133">Daher geben Anforderer an, ob eine Sicherung einen Start fähigen Systemstatus als Argument für [**IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)enthält.</span><span class="sxs-lookup"><span data-stu-id="113d5-133">Therefore, requesters indicate whether a backup will include a bootable system state as an argument to [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate).</span></span> <span data-ttu-id="113d5-134">Writer bestimmen, ob das Speichern des Start baren Systemzustands durch Aufrufen von [**CVssWriter:: isbootablestatebackedup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-isbootablesystemstatebackedup)unterstützt werden muss.</span><span class="sxs-lookup"><span data-stu-id="113d5-134">Writers determine whether they have to support saving the bootable system state by calling [**CVssWriter::IsBootableStateBackedUp**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-isbootablesystemstatebackedup).</span></span>

<span data-ttu-id="113d5-135">Selbst wenn der Start Bare Systemstatus nicht ausgewählt ist, werden Schatten Kopien der Systemdateien erstellt, und die Dateien können gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="113d5-135">Even if bootable system state is not selected, shadow copies of the system files will be made and the files may be backed up.</span></span>

<span data-ttu-id="113d5-136">Beim Wiederherstellen von Systemdateien sollte jedoch sehr sorgfältig vorgegangen werden, wenn die Sicherung den Start baren Systemstatus nicht gespeichert hat (siehe [Sichern und Wiederherstellen des Systemstatus in Windows Server 2003 R2 und Windows Server 2003 SP1](backing-up-and-restoring-system-state-under-vss.md)).</span><span class="sxs-lookup"><span data-stu-id="113d5-136">However, great care should be exercised in restoring system files if the backup did not save the bootable system state (see [Backing Up and Restoring System State in Windows Server 2003 R2 and Windows Server 2003 SP1](backing-up-and-restoring-system-state-under-vss.md)).</span></span>

<span data-ttu-id="113d5-137">Es ist nicht möglich, diese Informationen aus einem abgerufenen Sicherungs Komponenten Dokument wiederherzustellen, sodass die Autoren von Anforderern speichern können, ob das System mit einem Start baren Systemstatus gesichert wurde.</span><span class="sxs-lookup"><span data-stu-id="113d5-137">It is not possible to recover this information from a retrieved Backup Components Document, so requester authors should store whether the system was backed up with a bootable system state or not.</span></span>

</dd> <dt>

<span data-ttu-id="113d5-138"><span id="Partial_File_Support"></span><span id="partial_file_support"></span><span id="PARTIAL_FILE_SUPPORT"></span>Unterstützung für Teil Dateien</span><span class="sxs-lookup"><span data-stu-id="113d5-138"><span id="Partial_File_Support"></span><span id="partial_file_support"></span><span id="PARTIAL_FILE_SUPPORT"></span>Partial File Support</span></span>
</dt> <dd>

<span data-ttu-id="113d5-139">Einige Writer unterstützen die Wiederherstellung von Dateien durch das Überschreiben von Teilen der Dateien, die Sie verwalten.</span><span class="sxs-lookup"><span data-stu-id="113d5-139">Some writers support file restoration through the overwriting of parts of the files they manage.</span></span> <span data-ttu-id="113d5-140">Ein Anforderer kann diese Funktion nutzen, und wenn dies der Fall ist, wird er durch Festlegen der Informationen in [**IVssBackupComponents:: SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate)festgelegt.</span><span class="sxs-lookup"><span data-stu-id="113d5-140">A requester may be designed to take advantage of this, and if so it indicates this by setting the information in [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate).</span></span>

</dd> </dl>

 

 



