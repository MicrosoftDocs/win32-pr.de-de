---
description: Aufgaben vor der Sicherung unter VSS sind darauf ausgerichtet, eine Schatten Kopie der Volumes zu erstellen, die Daten für die Sicherung enthalten.
ms.assetid: e6b082af-719b-4426-8217-0fc940f5884d
title: Übersicht über Aufgaben vor der Sicherung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 709345b8aa0421699efe26ad2901cc497b7d4ac0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106349785"
---
# <a name="overview-of-pre-backup-tasks"></a><span data-ttu-id="a3e2f-103">Übersicht über Aufgaben vor der Sicherung</span><span class="sxs-lookup"><span data-stu-id="a3e2f-103">Overview of Pre-Backup Tasks</span></span>

<span data-ttu-id="a3e2f-104">Aufgaben vor der Sicherung unter VSS sind darauf ausgerichtet, eine Schatten Kopie der Volumes zu erstellen, die Daten für die Sicherung enthalten.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-104">Pre-backup tasks under VSS are focused on creating a shadow copy of the volumes containing data for backup.</span></span> <span data-ttu-id="a3e2f-105">Die Sicherungsanwendung speichert Daten aus der Schattenkopie, nicht aus dem zugrunde liegenden Volume.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-105">The backup application will save data from the shadow copy, not the actual volume.</span></span> <span data-ttu-id="a3e2f-106">Weitere Informationen finden Sie [unter Übersicht über die Verarbeitung einer Sicherung unter VSS](overview-of-processing-a-backup-under-vss.md).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-106">For more information, see [Overview of Processing a Backup Under VSS](overview-of-processing-a-backup-under-vss.md).</span></span>

<span data-ttu-id="a3e2f-107">Anforderer wartet in der Regel darauf, dass Writer die Sicherung vorbereiten und die Schatten Kopie erstellen.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-107">Requesters typically wait for writers to prepare for backup and creating the shadow copy.</span></span> <span data-ttu-id="a3e2f-108">Der Writer muss feststellen, ob er an der Sicherung teilnehmen soll. wenn dies der Fall ist, muss er seine Dateien konfigurieren und sich selbst für die Sicherung und Schatten Kopie entscheiden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-108">The writer must determine if it is to participate in the backup and, if it is, configure its files and itself to be ready for backup and shadow copy.</span></span> <span data-ttu-id="a3e2f-109">In der folgenden Tabelle wird die Abfolge der Aktionen und Ereignisse angezeigt, die für die Vorbereitung eines Sicherungs Vorgangs erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-109">The following table shows the sequence of actions and events that are required to prepare for a backup operation.</span></span>



| <span data-ttu-id="a3e2f-110">Requestaktion</span><span class="sxs-lookup"><span data-stu-id="a3e2f-110">Requester action</span></span>                                                                                                                                                                                                                                                                                                            | <span data-ttu-id="a3e2f-111">Ereignis</span><span class="sxs-lookup"><span data-stu-id="a3e2f-111">Event</span></span>                                                                      | <span data-ttu-id="a3e2f-112">Writer-Aktion</span><span class="sxs-lookup"><span data-stu-id="a3e2f-112">Writer action</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a3e2f-113">Der Anforderer kann Sicherungs Optionen festlegen (siehe [**IVssBackupComponents:: setbackupoptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupoptions)).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-113">The requester can set backup options (see [**IVssBackupComponents::SetBackupOptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupoptions))</span></span>                                                                                                                                                                                          | <span data-ttu-id="a3e2f-114">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-114">None</span></span>                                                                       | <span data-ttu-id="a3e2f-115">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-115">None</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="a3e2f-116">Unterstützung von inkrementellen und differenziellen Sicherungs Vorgängen durch untersuchen gespeicherter Sicherungs Stempel (siehe [**IVssComponent:: getbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp), [**IVssBackupComponents:: setpreviousbackupstamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp))</span><span class="sxs-lookup"><span data-stu-id="a3e2f-116">Support incremental and differential backup operations by examining any stored backup stamps (see [**IVssComponent::GetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp), [**IVssBackupComponents::SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp))</span></span>                                               | <span data-ttu-id="a3e2f-117">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-117">None</span></span>                                                                       | <span data-ttu-id="a3e2f-118">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-118">None</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="a3e2f-119">Benachrichtigen von Writern, dass ein Sicherungs Vorgang mithilfe von [ **IVssBackupComponents vorbereitet wird::P Analyse forbackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup)</span><span class="sxs-lookup"><span data-stu-id="a3e2f-119">Notify writers to prepare for a backup operation using [**IVssBackupComponents::PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup)</span></span>                                                                                                                                                                              | [<span data-ttu-id="a3e2f-120">*PrepareForBackup*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-120">*PrepareForBackup*</span></span>](vssgloss-p.md)  | <span data-ttu-id="a3e2f-121">Die Writer-Vorbereitung umfasst das bestimmen, ob Dateien gesichert werden sollen, ob der Writer am schattenkopiereinfrieren beteiligt ist, sowie das Erstellen von Writer-spezifischen Metadaten (siehe [**CVssWriter:: onpreparebackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup), [**CVssWriter:: ispathbetroff,**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispathaffected) [**ivssschreitercomponents**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswritercomponents), [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent), [**IVssComponent:: getbackupoptions**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupoptions), [**CVssWriter:: arecomponentsswählten**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-arecomponentsselected), [**IVssComponent:: setbackupmetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupmetadata)und [**IVssComponent:: getpreviousbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-121">Writer preparations include determining if files are to be backed up, whether the writer will participate in the shadow copy freeze, as well as creating writer-specific metadata (see [**CVssWriter::OnPrepareBackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup), [**CVssWriter::IsPathAffected**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispathaffected), [**IVssWriterComponents**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswritercomponents), [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent), [**IVssComponent::GetBackupOptions**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupoptions), [**CVssWriter::AreComponentsSelected**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-arecomponentsselected), [**IVssComponent::SetBackupMetadata**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupmetadata), and [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp).</span></span> |
| <span data-ttu-id="a3e2f-122">Der Anforderer wartet darauf, dass Writer mithilfe von [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync)für die Sicherung eingerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-122">The requester waits for writers to set up for backup using [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync).</span></span> <span data-ttu-id="a3e2f-123">Außerdem sollte der Writer-Status überprüft werden (siehe [**IVssBackupComponents:: gatherschreiterstatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwriterstatus), [**IVssBackupComponents:: getschreiterstatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwriterstatus)).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-123">It should also verify writer status (see [**IVssBackupComponents::GatherWriterStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwriterstatus), [**IVssBackupComponents::GetWriterStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwriterstatus))</span></span>     | <span data-ttu-id="a3e2f-124">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-124">None</span></span>                                                                       | <span data-ttu-id="a3e2f-125">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-125">None</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="a3e2f-126">Der Anforderer fordert mithilfe von [ **IVssBackupComponents eine Schatten Kopie an::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset)</span><span class="sxs-lookup"><span data-stu-id="a3e2f-126">Requester requests a shadow copy using [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset)</span></span>                                                                                                                                                                                                    | <span data-ttu-id="a3e2f-127">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-127">None</span></span>                                                                       | <span data-ttu-id="a3e2f-128">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-128">None</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="a3e2f-129">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-129">None</span></span>                                                                                                                                                                                                                                                                                                                        | [<span data-ttu-id="a3e2f-130">*Prepareforsnapshot*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-130">*PrepareForSnapshot*</span></span>](vssgloss-p.md) | <span data-ttu-id="a3e2f-131">[**CVssWriter:: OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot): versetzen Sie den Writer in den Zustand "Schatten Kopie bereit".</span><span class="sxs-lookup"><span data-stu-id="a3e2f-131">[**CVssWriter::OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot): Put the writer into a shadow copy ready state.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="a3e2f-132">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-132">None</span></span>                                                                                                                                                                                                                                                                                                                        | [<span data-ttu-id="a3e2f-133">*Einfrieren*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-133">*Freeze*</span></span>](vssgloss-f.md)                      | <span data-ttu-id="a3e2f-134">[**CVssWriter:: OnFreeze**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onfreeze): endgültige Einrichtung vor der Schatten Kopie.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-134">[**CVssWriter::OnFreeze**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onfreeze): Final setup before the shadow copy.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="a3e2f-135">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-135">None</span></span>                                                                                                                                                                                                                                                                                                                        | [<span data-ttu-id="a3e2f-136">*Reaktivieren*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-136">*Thaw*</span></span>](vssgloss-t.md)                          | <span data-ttu-id="a3e2f-137">[**CVssWriter:: OnThaw**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onthaw): normale Funktionsweise (einschließlich e/a) kann fortgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-137">[**CVssWriter::OnThaw**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onthaw): Normal functioning (including I/O) can resume.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="a3e2f-138">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-138">None</span></span>                                                                                                                                                                                                                                                                                                                        | [<span data-ttu-id="a3e2f-139">*PostSnapshot*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-139">*PostSnapshot*</span></span>](vssgloss-p.md)          | <span data-ttu-id="a3e2f-140">[**CVssWriter:: OnPostSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpostsnapshot): endgültige Bereinigungen der schattenkopievorbereitung.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-140">[**CVssWriter::OnPostSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpostsnapshot): Final clean ups of shadow copy preparations.</span></span> <span data-ttu-id="a3e2f-141">Weitere Informationen finden Sie unter [**IVssComponent:: AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime) und [**IVssComponent:: setbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-141">See [**IVssComponent::AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime) and [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="a3e2f-142">Der Anforderer wartet auf den Abschluss der Schatten Kopie mithilfe von: [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync). Außerdem sollte er den Writer-Status überprüfen (siehe [**IVssBackupComponents:: gatherschreiterstatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwriterstatus), [**IVssBackupComponents:: getschreiterstatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwriterstatus) ).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-142">Requester waits for completion of shadow copy using: [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync), it should also verify writer status (see [**IVssBackupComponents::GatherWriterStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwriterstatus), [**IVssBackupComponents::GetWriterStatus**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwriterstatus)</span></span><br/> | <span data-ttu-id="a3e2f-143">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-143">None</span></span>                                                                       | <span data-ttu-id="a3e2f-144">Keine</span><span class="sxs-lookup"><span data-stu-id="a3e2f-144">None</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |



 

## <a name="requester-pre-backup-tasks"></a><span data-ttu-id="a3e2f-145">Aufgaben vor der Sicherungs Anforderung</span><span class="sxs-lookup"><span data-stu-id="a3e2f-145">Requester Pre-Backup Tasks</span></span>

<span data-ttu-id="a3e2f-146">Außerdem kann ein Anforderer vor dem Erstellen eines [**IVssBackupComponents::P Analyse forbackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignisses auch Sicherungs Optionen für einzelne Writer mithilfe von [**IVssBackupComponents:: setbackupoptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupoptions) festlegen. Dies hängt von den Besonderheiten der einzelnen Writer und davon ab, ob ein Anforderer diese kennt.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-146">In addition, before creating a [**IVssBackupComponents::PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event, a requester may also set backup options for individual writers using [**IVssBackupComponents::SetBackupOptions**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupoptions) depending on the specifics of each writer and whether a requester is aware of them.</span></span>

<span data-ttu-id="a3e2f-147">Zur Unterstützung von inkrementellen und differenziellen Vorgängen können sich anfordernde Personen zu diesem Zeitpunkt entscheiden, Komponenten für Zeitstempel eines früheren Sicherungs Vorgangs (mit [**IVssComponent:: getbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp)) zu überprüfen und mithilfe dieser Informationen einen vorherigen Zeitstempel für die Verarbeitung durch einen Writer festzulegen (mit [**IVssBackupComponents:: setpreviousbackupstamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp)).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-147">To support incremental and differential operations, requesters may at this point choose to examine components for time stamps of earlier backup operation (using [**IVssComponent::GetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getbackupstamp)) and use that information to set a previous time stamp for a writer to process (using [**IVssBackupComponents::SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp)).</span></span> <span data-ttu-id="a3e2f-148">Weitere Informationen finden Sie unter [inkrementelle und differenzielle Sicherungen](incremental-and-differential-backups.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e2f-148">See [Incremental and Differential Backups](incremental-and-differential-backups.md) for more information.</span></span>

<span data-ttu-id="a3e2f-149">Ein Anforderer kann jetzt die Writer des Systems anweisen, die Vorbereitung vor der Sicherung abzuschließen und die Erstellung einer Schatten Kopie zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-149">A requester can now direct the system's writers to complete pre-backup preparations and to handle the creation of a shadow copy.</span></span>

<span data-ttu-id="a3e2f-150">Zuerst generiert der Anforderer ein [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignis, indem [**IVssBackupComponents::P Analyse forbackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-150">First, the requester generates a [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event by calling [**IVssBackupComponents::PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup).</span></span>

<span data-ttu-id="a3e2f-151">Nachdem alle Beteiligten Writer die Verarbeitung des [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignisses (das ein Anforderer mithilfe der Instanz der von **PrepareForBackup** zurückgegebenen Schnittstelle " [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync) " bestimmt) zurückgegeben hat, der Anforderer kann die Schatten Kopie durch Aufrufen von [**IVssBackupComponents::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset)initiieren, die im Laufe des Vorgangs [*prepareforsnapshot*](vssgloss-p.md)-, [*Freeze*](vssgloss-f.md)-, [*Thaw*](vssgloss-t.md)-und [*PostSnapshot*](vssgloss-p.md) -Ereignisse für die zu behandelnden Writer generiert.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-151">After all participating writers return from handling the [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event (which a requester determines by using the instance of the [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync) interface returned by **PrepareForBackup**), the requester can initiate the shadow copy by calling [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset), which, as it progresses, will generate [*PrepareForSnapshot*](vssgloss-p.md), [*Freeze*](vssgloss-f.md), [*Thaw*](vssgloss-t.md), and [*PostSnapshot*](vssgloss-p.md) events for the writers to handle.</span></span>

<span data-ttu-id="a3e2f-152">In einigen Fällen muss ein Anforderer möglicherweise keine Schatten Kopie erstellen.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-152">There are some cases where a requester may not need to create a shadow copy.</span></span> <span data-ttu-id="a3e2f-153">Insbesondere verfügt jeder durch eine der-Komponenten eines bestimmten Writers verwaltete [*Datei Satz*](vssgloss-f.md) über eine Sicherungs Maske der Datei Spezifikation (angegeben durch eine bitweise OR- [**VSS \_ - \_ \_ \_ Sicherungstyp**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) Werte), die während des [*Identifizierungs*](vssgloss-i.md) Ereignisses festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-153">Specifically, each [*file set*](vssgloss-f.md) managed by one of a given writer's components has a File Specification Backup mask (indicated by a bitwise OR of [**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) values) set during the [*Identify*](vssgloss-i.md) event.</span></span> <span data-ttu-id="a3e2f-154">Diese Maske gibt unter anderem an, ob für einen Datei Satz vor der Sicherung eine Schatten Kopie des Systems erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-154">This mask specifies, among other things, whether a file set requires the system to be shadow copied before its backup is performed.</span></span>

<span data-ttu-id="a3e2f-155">Wenn keine auf Volumes zu sichernden Dateigruppen eine Schatten Kopie erfordern, muss [**IVssBackupComponents::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) nicht aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-155">If no file sets to be backed up on any volumes require a shadow copy, then [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) need not be called.</span></span>

## <a name="writer-pre-backup-tasks"></a><span data-ttu-id="a3e2f-156">Task für Schreibvorgänge vor der Sicherung</span><span class="sxs-lookup"><span data-stu-id="a3e2f-156">Writer Pre-Backup Tasks</span></span>

<span data-ttu-id="a3e2f-157">Wenn das [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignis verarbeitet wird, ruft VSS die [**CVssWriter:: onpreparebackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup) -Methode jedes Writers auf, eine virtuelle Methode, die standardmäßig einfach "true" zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-157">When handling the [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event, VSS will call each writer's [**CVssWriter::OnPrepareBackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup) method, a virtual method, which by default simply returns true.</span></span>

<span data-ttu-id="a3e2f-158">Writer können diese Standard Implementierung überschreiben und mithilfe der Behandlung nach Informationen über die anstehende Sicherung suchen und Maßnahmen ergreifen.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-158">Writers can override this default implementation and use the handling to find information about the upcoming backup and take action.</span></span>

<span data-ttu-id="a3e2f-159">Ein Writer kann Informationen zur Art des Sicherungs Vorgangs ermitteln, die mit den folgenden Methoden in Erwägung gezogen werden:</span><span class="sxs-lookup"><span data-stu-id="a3e2f-159">A writer can determine information about the sort of backup operation contemplated by using the following methods:</span></span>

1.  [<span data-ttu-id="a3e2f-160">**CVssWriter:: getbackuptype**</span><span class="sxs-lookup"><span data-stu-id="a3e2f-160">**CVssWriter::GetBackupType**</span></span>](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-getbackuptype)
2.  [<span data-ttu-id="a3e2f-161">**CVssWriter:: isbootablestatebackedup**</span><span class="sxs-lookup"><span data-stu-id="a3e2f-161">**CVssWriter::IsBootableStateBackedUp**</span></span>](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-isbootablesystemstatebackedup)
3.  [<span data-ttu-id="a3e2f-162">**CVssWriter:: arecomponentssgewählt**</span><span class="sxs-lookup"><span data-stu-id="a3e2f-162">**CVssWriter::AreComponentsSelected**</span></span>](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-arecomponentsselected)

<span data-ttu-id="a3e2f-163">Ein Writer bestimmt, ob die von ihm verwalteten Dateien mithilfe von [**CVssWriter:: ispathbetroffin**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispathaffected)die Schatten Kopie einbezogen werden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-163">A writer determines if the files it manages will be involved in the shadow copy by using [**CVssWriter::IsPathAffected**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispathaffected).</span></span>

<span data-ttu-id="a3e2f-164">Wichtiger ist Folgendes: wenn VSS die [**CVssWriter:: onpreparebackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup) -Methode aufruft, wird eine Instanz der [**ivssschreitercomponents**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswritercomponents) -Schnittstelle übergeben, die den direkten Zugriff über die [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle auf die Komponenten ermöglicht, die explizit im Dokument mit den Sicherungs Komponenten des Anforderers [*enthalten*](vssgloss-e.md) sind.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-164">More important, when VSS calls the [**CVssWriter::OnPrepareBackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup) method, it passes in an instance of the [**IVssWriterComponents**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswritercomponents) interface, which allows direct access through the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface to those of its components [*explicitly included*](vssgloss-e.md) in the requester's Backup Components Document.</span></span> <span data-ttu-id="a3e2f-165">Der Writer hat die Instanzen der **IVssComponent** -Schnittstelle verwendet, die Komponenten Sätze definieren, um Zugriff auf die *implizit enthaltene* Komponente zu erhalten (siehe [selectlichkeit und arbeiten mit Komponenteneigenschaften](selectability-and-working-with-component-properties.md)).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-165">The writer used the instances of the **IVssComponent** interface that define component sets to gain access to its *implicitly included* component (see [Selectability and working with Component Properties](selectability-and-working-with-component-properties.md)).</span></span>

<span data-ttu-id="a3e2f-166">Während der Behandlung des [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignisses verwenden Writer die [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle zum Ausführen von Komponenten-zu-Komponente-Vorgängen (oder Komponenten, die von Komponenten festgelegt wurden), einschließlich:</span><span class="sxs-lookup"><span data-stu-id="a3e2f-166">During the handling of the [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event, writers use the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface to perform component-by-component (or component set by component set) operations, including:</span></span>

1.  <span data-ttu-id="a3e2f-167">Durch Aufrufen von [**IVssComponent:: addpartialfile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-addpartialfile)werden [*partielle Dateien*](vssgloss-p.md) (falls unterstützt) hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-167">Adding [*partial files*](vssgloss-p.md) (if supported) by calling [**IVssComponent::AddPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-addpartialfile).</span></span>
2.  <span data-ttu-id="a3e2f-168">Festlegen privater Metadaten, die der Writer benötigt, um die Wiederherstellung zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-168">Setting any private metadata that the writer will need to handle the restore.</span></span>
3.  <span data-ttu-id="a3e2f-169">, Wenn der Writer inkrementelle und differenzielle Sicherungen unterstützt (siehe [inkrementelle und differenzielle Sicherungen](incremental-and-differential-backups.md))</span><span class="sxs-lookup"><span data-stu-id="a3e2f-169">If the writer supports incremental and differential backups (see [Incremental and Differential Backups](incremental-and-differential-backups.md)), doing the following:</span></span>
    -   <span data-ttu-id="a3e2f-170">Es wird auf vorherige Sicherungs Zeitstempel durch Aufrufen von [**IVssComponent:: getpreviousbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp)geprüft.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-170">Checking for previous backup time stamps by calling [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp).</span></span>
    -   <span data-ttu-id="a3e2f-171">Hinzufügen Erforderlicher [*differenzierter Dateien*](vssgloss-d.md) durch Aufrufen von [**IVssComponent:: AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-171">Adding any required [*differenced files*](vssgloss-d.md) by calling [**IVssComponent::AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime).</span></span>
    -   <span data-ttu-id="a3e2f-172">Wenn der Writer das Schema für den **VSS- \_ SB \_** -Zeitstempel unterstützt, werden Sicherungs Zeitstempel-Zeichen folgen im eigenen Format des Writers mithilfe von [**IVssComponent:: setbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp)hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-172">If the writer supports the **VSS\_BS\_TIMESTAMPED** schema, adding backup time-stamp strings in the writer's own format using [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp).</span></span>
4.  <span data-ttu-id="a3e2f-173">Initiieren sehr zeitaufwändiger asynchroner Vorgänge, z. b. das Synchronisieren von Daten auf mehreren Datenträgern.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-173">Initiating very time-consuming asynchronous operations, such as synchronizing data across multiple disks.</span></span> <span data-ttu-id="a3e2f-174">Dadurch kann der Writer weiterhin arbeiten, während der Vorgang verarbeitet wird, einschließlich der Verarbeitung anderer VSS-Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-174">This will allow the writer to continue working while the operation is processed, including handling other VSS events.</span></span> <span data-ttu-id="a3e2f-175">Diese Vorgänge müssen vor dem [*Freeze*](vssgloss-f.md) -Ereignis beendet werden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-175">These operations must terminate before the [*Freeze*](vssgloss-f.md) event.</span></span>

<span data-ttu-id="a3e2f-176">Der Anforderer von [**IVssBackupComponents::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) initiiert die Schatten Kopie und generiert die folgenden Ereignisse, die von den Writern behandelt werden sollen:</span><span class="sxs-lookup"><span data-stu-id="a3e2f-176">The requester's call to [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) initiates the shadow copy and generates the following events for the writers to handle:</span></span>

-   [<span data-ttu-id="a3e2f-177">*Prepareforsnapshot*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-177">*PrepareForSnapshot*</span></span>](vssgloss-p.md)
-   [<span data-ttu-id="a3e2f-178">*Einfrieren*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-178">*Freeze*</span></span>](vssgloss-f.md)
-   [<span data-ttu-id="a3e2f-179">*Reaktivieren*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-179">*Thaw*</span></span>](vssgloss-t.md)
-   [<span data-ttu-id="a3e2f-180">*PostSnapshot*</span><span class="sxs-lookup"><span data-stu-id="a3e2f-180">*PostSnapshot*</span></span>](vssgloss-p.md)

<span data-ttu-id="a3e2f-181">Drei der Handlers des Writers –[**CVssWriter:: OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot), [**CVssWriter:: OnFreeze**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onfreeze)und [**CVssWriter:: OnThaw**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onthaw)– sind reine virtuelle Methoden, und jeder Writer muss Sie implementieren, anstatt auf Standardwerte zu vertrauen.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-181">Three of the writer's handlers—[**CVssWriter::OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot), [**CVssWriter::OnFreeze**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onfreeze), and [**CVssWriter::OnThaw**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onthaw)—are pure virtual methods, and each writer must implement them rather than relying on defaults.</span></span> <span data-ttu-id="a3e2f-182">Abhängig von den Anforderungen eines Writers können Sie als dummymethoden codiert werden, wobei einfach " **true**" zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-182">Depending on a writer's needs, they may be coded as dummy methods, simply returning **TRUE**.</span></span>

<span data-ttu-id="a3e2f-183">Da es in der Regel ein enges Zeitfenster zwischen dem Ausgeben eines [*Freeze*](vssgloss-f.md) -Ereignisses und dem Ausgeben eines [*Thaw*](vssgloss-t.md) -Ereignisses gibt, werden die meisten Hauptaufgaben beim Vorbereiten der Schatten Kopie – beispielsweise das Herunterfahren von Prozessen, das Erstellen temporärer Dateien oder das Leeren von e/a-Warteschlangen – in [**CVssWriter:: OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot)behandelt.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-183">Because there is typically a narrow time window between the issuing of a [*Freeze*](vssgloss-f.md) event and the issuing of a [*Thaw*](vssgloss-t.md) event, most of the major work in preparing for the shadow copy—such as shutting down processes, creating temporary files, or draining I/O queues—would be handled in [**CVssWriter::OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot).</span></span>

<span data-ttu-id="a3e2f-184">Die Art und Weise, in der ein Writer [**CVssWriter:: OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot) verwendet, um die e/a-Vorgänge zu verarbeiten, bevor die Erstellung einer Schatten Kopie stark von der eigenen Architektur des Writers abhängig ist.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-184">How a writer might use [**CVssWriter::OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot) to handle its I/O before the creation of a shadow copy is highly dependent on the writer's own architecture.</span></span>

<span data-ttu-id="a3e2f-185">Writer, die alle Schreibvorgänge speichern und die Daten vor dem [*Einfrieren*](vssgloss-f.md)in einem absoluten konsistenten Zustand belassen können, sollten dies tun.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-185">Writers that can afford to hold all writes and keep the data in an absolute consistent state before [*Freeze*](vssgloss-f.md), should do so.</span></span>

<span data-ttu-id="a3e2f-186">Wenn der Writer seine e/a nicht fixieren kann, sollte er Maßnahmen ergreifen, um eine stabile Quelle für die Sicherung zu erstellen und die Wiederherstellungszeit für eine Schatten Kopie zu verringern.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-186">If the writer cannot freeze its I/O, then it should take actions to create a stable source for backup and to reduce the recovery time for a shadow copy.</span></span> <span data-ttu-id="a3e2f-187">Beispiele hierfür sind u. a. Warteschlangen für eingehende e/a-Anforderungen oder das Erstellen eines doppelten Satzes von Dateien in einem [*alternativen Pfad*](vssgloss-a.md) , der als Quelle für eine Sicherung verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-187">Examples of this might include queuing incoming I/O requests or generating a duplicate set of files in an [*alternate path*](vssgloss-a.md) to be used as the source of a backup.</span></span>

<span data-ttu-id="a3e2f-188">Die [**CVssWriter:: OnFreeze**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onfreeze) -Methode führt einfache, kurze Aufgaben aus, z. b. zu überprüfen, ob [**CVssWriter:: OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot) den e/a-Vorgang im richtigen Zustand aufließ und alle asynchronen Tasks, die von [**CVssWriter:: onpreparebackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup) gestartet wurden, abgeschlossen wurden.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-188">The [**CVssWriter::OnFreeze**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onfreeze) method performs simple, short tasks such as verifying that the [**CVssWriter::OnPrepareSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparesnapshot) left I/O in the correct state, and that any asynchronous tasks started by [**CVssWriter::OnPrepareBackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup) completed.</span></span> <span data-ttu-id="a3e2f-189">Diese Methode ist die letzte Chance eines Writers, ein Veto gegen eine Schatten Kopie zu überprüfen (siehe [Writer-Fehler und-Vetos](writer-errors-and-vetoes.md)).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-189">This method is a writer's last chance to veto a shadow copy if there are problems (see [Writer Errors and Vetoes](writer-errors-and-vetoes.md)).</span></span>

<span data-ttu-id="a3e2f-190">Es ist in der Regel möglich, dass ein Writer nach einem [*Thaw*](vssgloss-t.md) -Ereignis den normalen Betrieb wieder aufnimmt: eine Schatten Kopie ist möglicherweise nicht sofort nach dem Thaw für die Sicherung bereit, aber ein Writer sollte in der Lage sein, den normalen Betrieb wieder aufzunehmen.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-190">It is generally possible for a writer to resume normal operation following a [*Thaw*](vssgloss-t.md) event: a shadow copy may not be immediately ready for backup after the Thaw, but a writer should be able to resume normal operation.</span></span> <span data-ttu-id="a3e2f-191">Daher wird in der Regel [**CVssWriter:: OnThaw**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onthaw) von Writern verwendet, um zu einem Zustand vor dem Einfrieren zurückzukehren.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-191">Therefore, typically [**CVssWriter::OnThaw**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onthaw) is used by writers to return to a pre-freeze state.</span></span> <span data-ttu-id="a3e2f-192">Allerdings sollten temporäre Dateien, die zur Unterstützung der Schatten Kopie erstellt wurden, bis zum [*PostSnapshot*](vssgloss-p.md) -Ereignis bestehen bleiben.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-192">However, any temporary files created to support the shadow copy should be left in place until the [*PostSnapshot*](vssgloss-p.md) event.</span></span> <span data-ttu-id="a3e2f-193">In der Regel verwenden Sie [**CVssWriter:: OnPostSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpostsnapshot) für diese Art von Cleanup.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-193">Typically, you would use [**CVssWriter::OnPostSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpostsnapshot) for this sort of cleanup.</span></span> <span data-ttu-id="a3e2f-194">Da viele Anwendungen diese Art der Bereinigung nicht benötigen, ist **CVssWriter:: OnPostSnapshot** eine virtuelle Methode mit einer Standard Implementierung, die einfach " **true**" zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-194">Because many applications do not require this sort of cleanup, **CVssWriter::OnPostSnapshot** is a virtual method with a default implementation that simply returns **TRUE**.</span></span> <span data-ttu-id="a3e2f-195">Wenn eine inkrementelle oder differenzielle Sicherung ausgeführt wird, kann der Writer [**IVssComponent:: getpreviousbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp) und [**IVssComponent:: setbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a3e2f-195">If an incremental or differential backup is being performed, the writer may call [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp) and [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp).</span></span> <span data-ttu-id="a3e2f-196">Weitere Informationen finden Sie unter [Writer-Rolle beim Sichern komplexer Stores](writer-role-in-backing-up-complex-stores.md).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-196">For more information, see [Writer Role in Backing Up Complex Stores](writer-role-in-backing-up-complex-stores.md).</span></span> <span data-ttu-id="a3e2f-197">Eine andere Methode, die zu diesem Zeitpunkt aufgerufen werden kann, ist [**IVssComponent:: AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime).</span><span class="sxs-lookup"><span data-stu-id="a3e2f-197">Another method that can be called at this time is [**IVssComponent::AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime).</span></span>

 

 




