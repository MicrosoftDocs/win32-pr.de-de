---
description: 'Die Teilnahme an inkrementellen und differenziellen Sicherungen durch einen Writer findet in der Regel statt, wenn die Ereignisse "identifisswriter:: OnIdentify", "PrepareForBackup" (CVssWriter: onpreparebackup) und "PostSnapshot" (CVssWriter: OnPostSnapshot) verarbeitet werden.'
ms.assetid: 85c4e003-b531-4283-83aa-dd5cc53f35b1
title: Schreib Rolle in inkrementellen und differenziellen VSS-Sicherungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f2cda57d907bed4572f0c0f71f9ee829bee18299
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104526255"
---
# <a name="writer-role-in-vss-incremental-and-differential-backups"></a><span data-ttu-id="530ce-103">Schreib Rolle in inkrementellen und differenziellen VSS-Sicherungen</span><span class="sxs-lookup"><span data-stu-id="530ce-103">Writer Role in VSS Incremental and Differential Backups</span></span>

<span data-ttu-id="530ce-104">Die Teilnahme an inkrementellen und differenziellen Sicherungen durch einen Writer [](vssgloss-i.md) findet in der Regel statt, wenn die Ereignisse "[**identifisswriter:: OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify)", " [*PrepareForBackup*](vssgloss-p.md) " ([**CVssWriter: onpreparebackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup)) und " *PostSnapshot* " ([**CVssWriter: OnPostSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpostsnapshot)) verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="530ce-104">A writer's participation in incremental and differential backups typically takes place while handling [*Identify*](vssgloss-i.md) ([**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify)), [*PrepareForBackup*](vssgloss-p.md) ([**CVssWriter:OnPrepareBackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup)), and *PostSnapshot* ([**CVssWriter:OnPostSnapshot**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpostsnapshot)) events.</span></span> <span data-ttu-id="530ce-105">Wie ein Writer teilnimmt, ist dadurch strukturiert, ob er Sicherungs-und Zeit Änderungs Zeiten unterstützt und ob der Anforderer, der die Sicherung ausgeführt hat, [*partielle Datei Vorgänge*](vssgloss-p.md)unterstützt.</span><span class="sxs-lookup"><span data-stu-id="530ce-105">How a writer participates is shaped by whether it supports backup stamps and last modification times, and whether the requester running the backup supports [*partial file operations*](vssgloss-p.md).</span></span>

## <a name="handling-identify-events-during-incremental-and-differential-backups"></a><span data-ttu-id="530ce-106">Behandeln von Ereignis Ereignissen bei inkrementellen und differenziellen</span><span class="sxs-lookup"><span data-stu-id="530ce-106">Handling Identify Events during Incremental and Differential Backups</span></span>

<span data-ttu-id="530ce-107">Bei der Behandlung des Identifizierungs Ereignisses richten Writer ihre grundlegende Architektur für den inkrementellen und differenziellen Sicherungs Vorgang über das Sicherungs Schema ([**VSS- \_ Sicherungs \_ Schema**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema)) und den Sicherungstyp für die Datei Spezifikation ([**VSS- \_ dateispezifikentyp \_ \_ \_**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type))</span><span class="sxs-lookup"><span data-stu-id="530ce-107">While handling the Identify event, writers establish their basic architecture for incremental and differential backup operation through the backup schema ([**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema)) and file specification backup type ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) masks.</span></span>

<span data-ttu-id="530ce-108">Ein Writer gibt an, welche Vorgänge er in seinem Writer-Metadatendokument unterstützt, indem er eine Bitmaske von [**VSS- \_ Sicherungs \_ Schema**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) Werten erstellt und an die [**ivsskreateschreitermetadata:: setbackupschema**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setbackupschema) -Methode übergibt.</span><span class="sxs-lookup"><span data-stu-id="530ce-108">A writer indicates which operations it supports in its Writer Metadata Document by creating a bit mask of [**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) values and passing it to the [**IVssCreateWriterMetadata::SetBackupSchema**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setbackupschema) method.</span></span> <span data-ttu-id="530ce-109">Dadurch kann ein Writer angeben, ob er Folgendes unterstützt:</span><span class="sxs-lookup"><span data-stu-id="530ce-109">With this, a writer can indicate whether it supports the following:</span></span>

-   <span data-ttu-id="530ce-110">Inkrementelle Sicherungen (**\_ \_ inkrementell VSS**</span><span class="sxs-lookup"><span data-stu-id="530ce-110">Incremental backups (**VSS\_BS\_INCREMENTAL**)</span></span>
-   <span data-ttu-id="530ce-111">Differenzielle Sicherungen (**VSS- \_ SB- \_ differenziell**)</span><span class="sxs-lookup"><span data-stu-id="530ce-111">Differential backups (**VSS\_BS\_DIFFERENTIAL**)</span></span>
-   <span data-ttu-id="530ce-112">Inkrementelle und differenzielle Sicherungen können nicht gemischt werden (**\_ \_ exklusive \_ inkrementelle \_ VSS**-Sicherungen</span><span class="sxs-lookup"><span data-stu-id="530ce-112">Incremental and differential backups cannot be mixed (**VSS\_BS\_EXCLUSIVE\_INCREMENTAL\_DIFFERENTIAL**)</span></span>
-   <span data-ttu-id="530ce-113">Inkrementelle und differenzielle Sicherungen mit Sicherungs Stempeln (**VSS- \_ SB- \_ Zeit** Stempel)</span><span class="sxs-lookup"><span data-stu-id="530ce-113">Incremental and differential backups using backup stamps (**VSS\_BS\_TIMESTAMPED**)</span></span>
-   <span data-ttu-id="530ce-114">Inkrementelle und differenzielle Sicherungen auf Basis von Informationen über die letzte Änderung einer Datei (Letzte Änderung von **VSS- \_ SB \_ \_**)</span><span class="sxs-lookup"><span data-stu-id="530ce-114">Incremental and differential backups on the basis of information about a file's last modification (**VSS\_BS\_LAST\_MODIFY**)</span></span>

<span data-ttu-id="530ce-115">Writer verwenden die dateispezifikations-Sicherungstyp Maske, um den anfordernden Informationen über das Einschließen von Dateien in einer inkrementellen oder differenziellen Sicherung zur Verfügung zu stellen.</span><span class="sxs-lookup"><span data-stu-id="530ce-115">Writers use the file specification backup type mask to provide file set level information to requesters on how to include files in an incremental or differential backup.</span></span>

<span data-ttu-id="530ce-116">Ein Writer kann die dateispezifikations-Sicherungstyp Maske eines Datei Satzes festlegen, wenn der Datei Satz einer Komponente hinzugefügt wird, indem eine Bitmaske von [**\_ \_ \_ \_ Sicherungstyp Werten der VSS-Datei**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) Spezifikation erstellt und an [**ivsskreateschreitermetadata übergeben wird: adddatabasefiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), [**ivsskreateschreitermetadata:: adddatabaselogfiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles)oder [**ivsskreateschreitermetadata:: addfilestofilegroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup).</span><span class="sxs-lookup"><span data-stu-id="530ce-116">A writer can set a file set's file specification backup type mask when it adds the file set to a component by creating a bit mask of [**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) values and passing it to [**IVssCreateWriterMetadata::AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles), or [**IVssCreateWriterMetadata::AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup).</span></span>

<span data-ttu-id="530ce-117">Es gibt drei Werte für "Backup required" der [**VSS- \_ dateispezifikations- \_ \_ \_ Sicherungstyp**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) -Enumeration, die differenzielle und inkrementelle Sicherungen</span><span class="sxs-lookup"><span data-stu-id="530ce-117">There are three "backup required" values of the [**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) enumeration that affect differential and incremental backups:</span></span>

-   <span data-ttu-id="530ce-118">**VSS \_ fsbt \_ alle \_ Sicherungen \_ erforderlich**</span><span class="sxs-lookup"><span data-stu-id="530ce-118">**VSS\_FSBT\_ALL\_BACKUP\_REQUIRED**</span></span>
-   <span data-ttu-id="530ce-119">**\_ \_ inkrementelle Sicherung von VSS fsbt \_ \_ erforderlich**</span><span class="sxs-lookup"><span data-stu-id="530ce-119">**VSS\_FSBT\_INCREMENTAL\_BACKUP\_REQUIRED**</span></span>
-   <span data-ttu-id="530ce-120">**VSS- \_ fsbt- \_ differenzielle \_ Sicherung \_ erforderlich**</span><span class="sxs-lookup"><span data-stu-id="530ce-120">**VSS\_FSBT\_DIFFERENTIAL\_BACKUP\_REQUIRED**</span></span>

<span data-ttu-id="530ce-121">Es gibt drei Werte für "schattenkopiebedarf":</span><span class="sxs-lookup"><span data-stu-id="530ce-121">There are three "shadow copy required" values:</span></span>

-   <span data-ttu-id="530ce-122">**VSS \_ fsbt \_ alle \_ Momentaufnahmen \_ erforderlich**</span><span class="sxs-lookup"><span data-stu-id="530ce-122">**VSS\_FSBT\_ALL\_SNAPSHOT\_REQUIRED**</span></span>
-   <span data-ttu-id="530ce-123">**VSS \_ fsbt- \_ inkrementelle \_ Momentaufnahme \_ erforderlich**</span><span class="sxs-lookup"><span data-stu-id="530ce-123">**VSS\_FSBT\_INCREMENTAL\_SNAPSHOT\_REQUIRED**</span></span>
-   <span data-ttu-id="530ce-124">**VSS- \_ fsbt- \_ differenzielle \_ Momentaufnahme \_ erforderlich**</span><span class="sxs-lookup"><span data-stu-id="530ce-124">**VSS\_FSBT\_DIFFERENTIAL\_SNAPSHOT\_REQUIRED**</span></span>

<span data-ttu-id="530ce-125">Dateigruppen, die mit dem Sicherungstyp "Schatten Kopie erforderlich" gekennzeichnet sind, geben an, ob ein Anforderer Daten aus einer Schatten Kopie kopieren muss, wenn inkrementelle, differenzielle oder alle (die sowohl inkrementelle als auch differenzielle Vorgänge umfassen) Sicherungs Vorgänge ausführen.</span><span class="sxs-lookup"><span data-stu-id="530ce-125">File sets tagged with a file specification backup type of "shadow copy required" indicate whether a requester needs to copy data from a shadow copy when performing INCREMENTAL, DIFFERENTIAL, or ALL (which includes both incremental and differential operations) backup operations.</span></span>

<span data-ttu-id="530ce-126">Das Flag "Backup required", das auf inkrementelle, differenzielle oder alle Sicherungs Vorgänge angewendet wird, gibt an, dass der Writer eine Kopie der aktuellen Version des Datei Satzes erwartet, die nach der Wiederherstellung eines beliebigen Sicherungs Vorgangs verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="530ce-126">The "backup required" flag, applied to INCREMENTAL, DIFFERENTIAL, or ALL backup operations, indicates that the writer expects a copy of the current version of the file set to be available following the restore of any backup operation.</span></span> <span data-ttu-id="530ce-127">Dies bedeutet in der Regel, dass, wenn ein Dateisatz mit "Sicherung erforderlich" gekennzeichnet ist, alle zugehörigen Mitglieder während einer inkrementellen oder differenziellen Sicherung auf Sicherungsmedien kopiert werden, unabhängig davon, wann die Sicherung oder Änderung zuletzt durchgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="530ce-127">Typically, this means that if a file set is tagged with "backup required," all its members will be copied to backup media during an incremental or differential backup, regardless of when their backup or modification last occurred.</span></span>

<span data-ttu-id="530ce-128">Standardmäßig werden Dateigruppen Komponenten mit dem Sicherungstyp der Datei Spezifikation **VSS \_ fsbt \_ alle \_ Sicherungen \_ erforderlich** \| **VSS \_ fsbt \_ alle Momentaufnahmen \_ \_ erforderlich**.</span><span class="sxs-lookup"><span data-stu-id="530ce-128">By default, file sets are added to components with a file specification backup type of **VSS\_FSBT\_ALL\_BACKUP\_REQUIRED** \| **VSS\_FSBT\_ALL\_SNAPSHOT\_REQUIRED**.</span></span> <span data-ttu-id="530ce-129">Wenn ein Writer-Entwickler daher nicht die Standardeinstellung (durch Auswahl eines anderen Sicherungstyp für die Datei Spezifikation, mithilfe partieller Datei Vorgänge oder mithilfe differenzierter Dateien) beschließt, werden die Dateien in den meisten Datei Sätzen in der Regel vollständig auf die Sicherungsmedien kopiert.</span><span class="sxs-lookup"><span data-stu-id="530ce-129">Therefore, unless a writer developer decides not to use the default (by choosing another file specification backup type, using partial file operations, or using differenced files), the files in most file sets will typically be copied in their entirety to backup media.</span></span>

<span data-ttu-id="530ce-130">An diesem Punkt wird das Writer-Metadatendokument des Writers vollständig mit den meisten Informationen aufgefüllt, die ein Anforderer benötigt, um eine differenzielle oder inkrementelle Sicherung zu starten.</span><span class="sxs-lookup"><span data-stu-id="530ce-130">At this point, the writer's Writer Metadata Document is fully populated with most of information a requester will need to start a differential or incremental backup.</span></span> <span data-ttu-id="530ce-131">Beim [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignis wird die Additions Angabe von Datei Satz-oder dateiebeneninformationen zur Unterstützung der Sicherung behandelt.</span><span class="sxs-lookup"><span data-stu-id="530ce-131">Addition specification of file set or file level information to support the backup will be handled during the [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event.</span></span>

## <a name="handling-prepareforbackup-events-during-incremental-and-differential-backups"></a><span data-ttu-id="530ce-132">Behandeln von PrepareForBackup-Ereignissen bei inkrementellen und differenziellen</span><span class="sxs-lookup"><span data-stu-id="530ce-132">Handling PrepareForBackup Events during Incremental and Differential Backups</span></span>

<span data-ttu-id="530ce-133">Bevor der Anforderer mit dem eigentlichen Sicherungs Vorgang fortfährt, können Writer die Angabe einer [*inkrementellen*](vssgloss-i.md) oder [*differenziellen*](vssgloss-d.md) Sicherung ändern, indem Sie das Dokument mit den Sicherungs Komponenten der Anforderer über die [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle ändern.</span><span class="sxs-lookup"><span data-stu-id="530ce-133">Before the requester proceeds with the actual backup operation, writers can modify the specification of an [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup by altering the requester's Backup Components Document through the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface.</span></span>

<span data-ttu-id="530ce-134">Da die Writer die [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle verwenden, führen Sie normalerweise diese Vorbereitungen aus, während das [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) -Ereignis verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="530ce-134">Because the writers use the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface, they typically perform these preparations while handling the [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event.</span></span>

<span data-ttu-id="530ce-135">In [**CVssWriter: onpreparebackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup)können Writer genauer angeben, wie einige Dateien für die Sicherung ausgewertet werden sollen, geben Sie an, welche Mechanismen bei der Sicherung verwendet werden sollen, und legen Sie möglicherweise Sicherungs Stempel fest.</span><span class="sxs-lookup"><span data-stu-id="530ce-135">In [**CVssWriter:OnPrepareBackup**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onpreparebackup), writers can more precisely specify how some files are to be evaluated for backup, specify what mechanisms should be used in backing them up, and possibly set backup stamps.</span></span>

<dl> <dt>

<span data-ttu-id="530ce-136"><span id="Partial_Files"></span><span id="partial_files"></span><span id="PARTIAL_FILES"></span>Partielle Dateien</span><span class="sxs-lookup"><span data-stu-id="530ce-136"><span id="Partial_Files"></span><span id="partial_files"></span><span id="PARTIAL_FILES"></span>Partial Files</span></span>
</dt> <dd>

<span data-ttu-id="530ce-137">Wenn eine anfordernde Person Sie unterstützt, kann ein Writer auswählen, dass eine inkrementelle oder differenzielle Sicherung mithilfe von partiellen Datei Vorgängen implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="530ce-137">If a requester supports them, a writer can choose to have an incremental or differential backup implemented by using partial file operations.</span></span> <span data-ttu-id="530ce-138">(Writer können bestimmen, ob eine anfordernde Person partielle Datei Vorgänge unterstützt, indem Sie [**CVssWriter:: ispartialfilesupportenabled**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispartialfilesupportenabled)aufrufen.)</span><span class="sxs-lookup"><span data-stu-id="530ce-138">(Writers can determine if a requester supports partial file operations by calling [**CVssWriter::IsPartialFileSupportEnabled**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-ispartialfilesupportenabled).)</span></span>

<span data-ttu-id="530ce-139">Writer verwenden [**IVssComponent:: addpartialfile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-addpartialfile) , um die Teile der ausgewählten Dateien anzugeben, die während der inkrementellen oder differenziellen Operation gesichert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="530ce-139">Writers use [**IVssComponent::AddPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-addpartialfile) to indicate those portions of the selected files to be backed up during the incremental or differential operation.</span></span> <span data-ttu-id="530ce-140">Anfordernde Personen müssen diese Spezifikation berücksichtigen und müssen immer die angegebenen Abschnitte der Dateien sichern.</span><span class="sxs-lookup"><span data-stu-id="530ce-140">Requesters must respect this specification, and must always back up the specified sections of the files.</span></span> <span data-ttu-id="530ce-141">(Weitere Informationen zu partiellen Datei Vorgängen finden Sie [unter Arbeiten mit partiellen Dateien](working-with-partial-files.md) .)</span><span class="sxs-lookup"><span data-stu-id="530ce-141">(See [Working with Partial Files](working-with-partial-files.md) for more information on partial file operations.)</span></span>

<span data-ttu-id="530ce-142">Verwenden von [**IVssComponent:: addpartialfile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-addpartialfile), ein Writer kann der Sicherung eine Datei hinzufügen, die nicht zuvor zu einem der zugehörigen Komponenten Sätze (von [**ivsskreateschreitermetadata:: adddatabasefiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), [**ivsskreateschreitermetadata:: adddatabaselogfiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles)oder [**ivsskreateschreitermetadata:: addfilestofilegroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup)) als Teil Datei hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="530ce-142">Using [**IVssComponent::AddPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-addpartialfile), a writer can add a file to the backup that was not previously added to one of its component sets (by [**IVssCreateWriterMetadata::AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles), or [**IVssCreateWriterMetadata::AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup)) as a partial file.</span></span> <span data-ttu-id="530ce-143">Alle neuen Dateien, die der Sicherung auf diese Weise hinzugefügt werden, müssen sich auf einem Volume befinden, das für diese Sicherung bereits als Schatten kopiert wird.</span><span class="sxs-lookup"><span data-stu-id="530ce-143">Any new files added to the backup in this manner must be on a volume that already is being shadow copied for this backup.</span></span>

<span data-ttu-id="530ce-144">Wenn eine Datei an partiellen Datei Vorgängen beteiligt ist, löst dies alle Datei Spezifikations Sicherungstyp aus, die ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="530ce-144">If a file is involved with partial file operations, this supersedes any file specification backup type, which is ignored.</span></span>

</dd> <dt>

<span data-ttu-id="530ce-145"><span id="Differenced_Files"></span><span id="differenced_files"></span><span id="DIFFERENCED_FILES"></span>Differenzierte Dateien</span><span class="sxs-lookup"><span data-stu-id="530ce-145"><span id="Differenced_Files"></span><span id="differenced_files"></span><span id="DIFFERENCED_FILES"></span>Differenced Files</span></span>
</dt> <dd>

<span data-ttu-id="530ce-146">Writer, die ein zuletzt geändertes Sicherungs Schema (**VSS- \_ \_ Schema**) unterstützen, können einer inkrementellen oder differenziellen Sicherung [*differenzierte Dateien*](vssgloss-d.md) hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="530ce-146">Writers that support a last modified backup schema (**VSS\_BS\_SCHEMA**) can add [*differenced files*](vssgloss-d.md) to an incremental or differential backup.</span></span>

<span data-ttu-id="530ce-147">Beim Angeben einer differenzierten Datei verwendet ein Writer [**IVssComponent:: adddifferencedfilebylastmodifytime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime) und gibt einen Pfad, einen Dateinamen und ein rekursives Flag an – diese müssen jedoch nicht mit einem in einer Komponente enthaltenen Datei Satz identisch sein.</span><span class="sxs-lookup"><span data-stu-id="530ce-147">In specifying a differenced file, a writer uses [**IVssComponent::AddDifferencedFileByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime) and specifies a path, a file name, and a recursive flag—however, these do not have to match a file set included in any component.</span></span>

<span data-ttu-id="530ce-148">Tatsächlich kann ein Writer eine Datei hinzufügen, die nicht zuvor zu einem ihrer Komponenten Sätze (von [**ivsskreateschreitermetadata:: adddatabasefiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), [**ivsskreateschreitermetadata:: adddatabaselogfiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles)oder [**ivsskreateschreitermetadata:: addfilestofilegroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup)) hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="530ce-148">In fact, a writer can add a file not previously added to one of its component sets (by [**IVssCreateWriterMetadata::AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles), or [**IVssCreateWriterMetadata::AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup)) to the backup as a differenced file.</span></span> <span data-ttu-id="530ce-149">Alle neuen Dateien, die der Sicherung auf diese Weise hinzugefügt werden, müssen sich auf einem Volume befinden, das für diese Sicherung bereits als Schatten kopiert wird.</span><span class="sxs-lookup"><span data-stu-id="530ce-149">Any new files added to the backup in this manner must be on a volume that already is being shadow copied for this backup.</span></span>

<span data-ttu-id="530ce-150">In der Regel gibt ein Writer auch eine Uhrzeit der letzten Änderung an, wenn eine differenzierte Datei – basierend auf dem eigenen Verlaufs Mechanismus des Writers hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="530ce-150">Typically, a writer will also specify a time of last modification when adding a differenced file—based on the writer's own history mechanism.</span></span> <span data-ttu-id="530ce-151">Diese letzte Änderungszeit muss, falls angegeben, immer von anfordernden verwendet werden, um zu bestimmen, ob eine Datei in eine inkrementelle oder differenzielle Sicherung eingeschlossen werden muss.</span><span class="sxs-lookup"><span data-stu-id="530ce-151">This last modification time, if specified, must always be used by requesters in determining if a file needs to be included in an incremental or differential backup.</span></span>

<span data-ttu-id="530ce-152">Ein Writer darf nicht angeben, dass beim Hinzufügen einer differenzierten Datei zu einem inkrementellen oder differenziellen Sicherungs Satz eine Uhrzeit der letzten Änderung angegeben werden soll.</span><span class="sxs-lookup"><span data-stu-id="530ce-152">A writer may choose not to specify a last modification time when adding a differenced file to an incremental or differential backup set.</span></span> <span data-ttu-id="530ce-153">Wenn dies der Fall ist, können Anforderer ihre eigenen Mechanismen – beispielsweise Protokolle vorheriger Sicherungen oder Dateisystem Informationen – verwenden, um zu bestimmen, ob die differenzielle Datei in eine inkrementelle oder differenzielle Sicherung eingeschlossen werden soll.</span><span class="sxs-lookup"><span data-stu-id="530ce-153">If this is the case, requesters are free to use their own mechanisms—for instance, logs of previous backups or file system information—to determine whether the differenced file should be included in an incremental or differential backup.</span></span>

<span data-ttu-id="530ce-154">Der Sicherungstyp für die Datei Spezifikation einer beliebigen differenzierten Datei wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="530ce-154">The file specification backup type of any differenced file is ignored.</span></span>

</dd> <dt>

<span data-ttu-id="530ce-155"><span id="Backup_Stamps"></span><span id="backup_stamps"></span><span id="BACKUP_STAMPS"></span>Sicherungs Stempel</span><span class="sxs-lookup"><span data-stu-id="530ce-155"><span id="Backup_Stamps"></span><span id="backup_stamps"></span><span id="BACKUP_STAMPS"></span>Backup Stamps</span></span>
</dt> <dd>

<span data-ttu-id="530ce-156">Writer, die Sicherungs Stempel (**VSS \_ - \_ Zeitstempel**) unterstützen, verfügen über ein eigenes privates Format zum Speichern von Informationen zum Zeitpunkt der letzten Sicherung.</span><span class="sxs-lookup"><span data-stu-id="530ce-156">Writers that support backup stamps (**VSS\_BS\_TIMESTAMP**) have their own private format for storing information about when a backup last occurred.</span></span> <span data-ttu-id="530ce-157">Diese Informationen werden während der Sicherung vom Writer generiert.</span><span class="sxs-lookup"><span data-stu-id="530ce-157">This information is generated by the writer during backup.</span></span>

<span data-ttu-id="530ce-158">Der Sicherungs Stempel wird im Dokument mit den Sicherungs Komponenten als Zeichenfolge von der [**IVssComponent:: setbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) -Methode gespeichert.</span><span class="sxs-lookup"><span data-stu-id="530ce-158">The backup stamp is stored in the Backup Components Document as a string by the [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) method.</span></span> <span data-ttu-id="530ce-159">Der Sicherungs Stempel gilt für alle Datei Sätze in der Komponente (bzw. den Komponenten Satz), die der Instanz von [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent)entsprechen.</span><span class="sxs-lookup"><span data-stu-id="530ce-159">The backup stamp applies to all file sets in the component (or component set) corresponding to the instance of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent).</span></span>

<span data-ttu-id="530ce-160">Wenn ein Anforderer Zugriff auf den Sicherungs Stempel einer vorherigen Sicherung hat, wird er durch Aufrufen von [**IVssBackupComponents:: setpreviousbackupstamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp)für den Writer verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="530ce-160">If a requester has access to the backup stamp of a previous backup, it will have made it available to the writer by calling [**IVssBackupComponents::SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp).</span></span>

<span data-ttu-id="530ce-161">Ein Writer kann diesen Zeitstempel dann mithilfe von [**IVssComponent:: getpreviousbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp)untersuchen.</span><span class="sxs-lookup"><span data-stu-id="530ce-161">A writer then can examine this time stamp using [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp).</span></span>

<span data-ttu-id="530ce-162">Beachten Sie, dass der Anforderer lediglich die Zeichenfolge speichert und zurückgibt, die den Sicherungs Stempel enthält.</span><span class="sxs-lookup"><span data-stu-id="530ce-162">Note that the requester merely stores and returns the string containing the backup stamp.</span></span> <span data-ttu-id="530ce-163">Es weiß nichts über das Format der Zeichenfolge oder seine Verwendung. nur der Writer verfügt über diese Informationen.</span><span class="sxs-lookup"><span data-stu-id="530ce-163">It does not know anything about the string's format or how to use it; only the writer has that information.</span></span>

<span data-ttu-id="530ce-164">Ein Writer kann den aktuellen Sicherungs Stempel mithilfe von [**IVssComponent:: setbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) aktualisieren, nachdem er [**IVssComponent:: getpreviousbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp)aufgerufen hat, sodass das Datum des aktuellen inkrementellen oder differenziellen Sicherungs Vorgangs im eigenen Format aufgezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="530ce-164">A writer may choose to update the current backup stamp using [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) after it has called [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp), thus recording in its own format the date of the current incremental or differential backup operation.</span></span>

</dd> </dl>

 

 



