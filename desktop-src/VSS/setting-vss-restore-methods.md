---
description: Die Konfiguration von Wiederherstellungs Vorgängen beginnt tatsächlich während der Datensicherung, wenn Writer in ihren Writer-Metadatendokumenten angeben, wie Ihre Daten wieder hergestellt werden sollen.
ms.assetid: b1f948cd-d3b0-4637-b76d-b54a74bb5948
title: Festlegen von VSS-Wiederherstellungsmethoden
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 412cb699fb791a973e280f63fec03bd2854ccd1d
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/04/2021
ms.locfileid: "104218911"
---
# <a name="setting-vss-restore-methods"></a><span data-ttu-id="38147-103">Festlegen von VSS-Wiederherstellungsmethoden</span><span class="sxs-lookup"><span data-stu-id="38147-103">Setting VSS Restore Methods</span></span>

<span data-ttu-id="38147-104">Die Konfiguration von Wiederherstellungs Vorgängen beginnt tatsächlich während der Datensicherung, wenn Writer in ihren Writer-Metadatendokumenten angeben, wie Ihre Daten wieder hergestellt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="38147-104">The configuration of restore operations actually begins during data backup, when writers specify, in their Writer Metadata Documents, how their data should be restored.</span></span>

<span data-ttu-id="38147-105">Diese Spezifikationen, die als [*Wiederherstellungsmethoden*](vssgloss-r.md) oder ursprüngliche [*Wiederherstellungs Ziele*](vssgloss-r.md)bezeichnet werden, können während der Wiederherstellung durch Writer geändert werden, indem neue Wiederherstellungs Ziele festgelegt werden oder wenn anfordernde Personen an neuen Speicherorten wieder hergestellt werden (siehe [nicht standardmäßige Sicherungs-und Wiederherstellungs](non-default-backup-and-restore-locations.md)Pfade</span><span class="sxs-lookup"><span data-stu-id="38147-105">These specifications, referred to either as [*restore methods*](vssgloss-r.md) or original [*restore targets*](vssgloss-r.md), can be modified during restore by writers setting new restore targets or by requesters restoring to new locations (see [Non-Default Backup and Restore Locations](non-default-backup-and-restore-locations.md)).</span></span>

<span data-ttu-id="38147-106">Durch den Aufruf von [**ivsscreateschreitermetadata:: abtrestoremethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod)gibt ein Writer an, welche Wiederherstellungsmethode in seinem Writer-Metadatendokument verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="38147-106">By calling [**IVssCreateWriterMetadata::SetRestoreMethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod), a writer indicates which restore method should be used in its Writer Metadata Document.</span></span> <span data-ttu-id="38147-107">Die Restore-Methode wird als Writer breit festgelegt und auf alle Dateien in allen von einem Writer verwalteten Komponenten angewendet.</span><span class="sxs-lookup"><span data-stu-id="38147-107">The restore method is set writer wide and applied to all files in all components that a writer manages.</span></span>

<span data-ttu-id="38147-108">Ein Anforderer erhält diese Informationen (und muss Sie berücksichtigen), indem [**ivssexamineschreitermetadata:: getrestoremethod**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getrestoremethod)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="38147-108">A requester obtains (and must respect) this information by calling [**IVssExamineWriterMetadata::GetRestoreMethod**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getrestoremethod).</span></span>

<span data-ttu-id="38147-109">Die Restore-Methode wird durch eine [**VSS \_ restoremethod \_**](/windows/desktop/api/VsWriter/ne-vswriter-vss_restoremethod_enum) -Enumeration definiert, die an [**ivsskreateschreitermetadata:: abtrestoremethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod) übergeben und von [**ivssexamineschreitermetadata:: getrestoremethod**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getrestoremethod)zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="38147-109">The restore method is defined by a [**VSS\_RESTOREMETHOD\_ENUM**](/windows/desktop/api/VsWriter/ne-vswriter-vss_restoremethod_enum) enumeration, which is passed to [**IVssCreateWriterMetadata::SetRestoreMethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod) and returned from [**IVssExamineWriterMetadata::GetRestoreMethod**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getrestoremethod).</span></span>

<span data-ttu-id="38147-110">Das Writer-Metadatendokument unterstützt die folgenden gültigen Wiederherstellungsmethoden (eine Wiederherstellungsmethode von VSS \_ RME ist \_ undefiniert und weist auf einen Schreiber Fehler hin)</span><span class="sxs-lookup"><span data-stu-id="38147-110">The Writer Metadata Document supports the following valid restore methods (a restore method of VSS\_RME\_UNDEFINED indicates a writer error).</span></span> <span data-ttu-id="38147-111">In den Abbildungen wird zusammengefasst, wie die verschiedenen unterstützten und definierten Wiederherstellungsmethoden implementiert werden sollten (VSS \_ RME \_ Custom hat keine Abbildung, da sie definitionsgemäß für den Writer spezifisch ist und den jeweiligen Writer-APIs und-Dokumentationen folgen muss):</span><span class="sxs-lookup"><span data-stu-id="38147-111">The figures summarize how the various supported and defined restore methods should be implemented (VSS\_RME\_CUSTOM has no figure associated with it, because by definition it is specific to the writer and must follow the specific writer APIs and documentation):</span></span>

-   <span data-ttu-id="38147-112">VSS \_ RME \_ Restore, wenn dies nicht der Fall \_ ist \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="38147-112">VSS\_RME\_RESTORE\_IF\_NOT\_THERE.</span></span> <span data-ttu-id="38147-113">Stellen Sie Komponenten Dateien auf dem Datenträger wieder her, wenn sich keine der Dateien bereits auf dem Datenträger befinden.</span><span class="sxs-lookup"><span data-stu-id="38147-113">Restore component files to disk if none of the files are on the disk already.</span></span> <span data-ttu-id="38147-114">Der Ziel Dateistatus sollte nach einem [**vorab**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prerestore) Ereignis geprüft werden.</span><span class="sxs-lookup"><span data-stu-id="38147-114">Target file status should be checked after a [**PreRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prerestore) event.</span></span>
    <span data-ttu-id="38147-115">![Diagramm, das eine Problem Behandlungs Struktur für VSS_RME_RESTORE_IF_NOT_THERE zeigt.](images/rint.png)</span><span class="sxs-lookup"><span data-stu-id="38147-115">![Diagram that shows a troubleshooting tree for VSS_RME_RESTORE_IF_NOT_THERE.](images/rint.png)</span></span>
-   <span data-ttu-id="38147-116">VSS \_ RME \_ Restore, \_ Wenn von \_ ersetzt werden kann \_ .</span><span class="sxs-lookup"><span data-stu-id="38147-116">VSS\_RME\_RESTORE\_IF\_CAN\_REPLACE.</span></span> <span data-ttu-id="38147-117">Stellen Sie Dateien auf dem Datenträger wieder her, wenn alle Dateien ersetzt werden können.</span><span class="sxs-lookup"><span data-stu-id="38147-117">Restore files to disk if all the files can be replaced.</span></span> <span data-ttu-id="38147-118">Der Ziel Dateistatus sollte nach einem [**vorab**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prerestore) Ereignis geprüft werden.</span><span class="sxs-lookup"><span data-stu-id="38147-118">Target file status should be checked after a [**PreRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prerestore) event.</span></span>
    <span data-ttu-id="38147-119">![Diagramm, das eine Problem Behandlungs Struktur für VSS_RME_RESTORE_IF_CAN_REPLACE zeigt.](images/ricr.png)</span><span class="sxs-lookup"><span data-stu-id="38147-119">![Diagram that shows a troubleshooting tree for VSS_RME_RESTORE_IF_CAN_REPLACE.](images/ricr.png)</span></span>
-   <span data-ttu-id="38147-120">der VSS- \_ RME \_ beendet die \_ Wiederherstellung \_ .</span><span class="sxs-lookup"><span data-stu-id="38147-120">VSS\_RME\_STOP\_RESTORE\_START.</span></span> <span data-ttu-id="38147-121">Ein Dienst wird beendet, bevor die Dateien wieder hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="38147-121">A service will be stopped prior to restoring the files.</span></span>
    <span data-ttu-id="38147-122">![Diagramm, das eine Problem Behandlungs Struktur für VSS_RME_STOP_RESTORE_START zeigt.](images/srr.png)</span><span class="sxs-lookup"><span data-stu-id="38147-122">![Diagram that shows a troubleshooting tree for VSS_RME_STOP_RESTORE_START.](images/srr.png)</span></span>
-   <span data-ttu-id="38147-123">VSS- \_ RME \_ \_ an einem \_ Alternativen \_ Speicherort wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="38147-123">VSS\_RME\_RESTORE\_TO\_ALTERNATE\_LOCATION.</span></span> <span data-ttu-id="38147-124">Wiederherstellen von Dateien auf einem Datenträger an einem alternativen Speicherort.</span><span class="sxs-lookup"><span data-stu-id="38147-124">Restore files to disk in an alternate location.</span></span> <span data-ttu-id="38147-125">Die alternativen Speicherort Zuordnungen werden im Writer-Metadatendokument angegeben.</span><span class="sxs-lookup"><span data-stu-id="38147-125">The alternate location mappings are specified in the Writer Metadata Document.</span></span>
    <span data-ttu-id="38147-126">![Diagramm, das eine Problem Behandlungs Struktur für VSS_RME_RESTORE_TO_ALTERNATE_LOCATION zeigt.](images/rtal.png)</span><span class="sxs-lookup"><span data-stu-id="38147-126">![Diagram that shows a troubleshooting tree for VSS_RME_RESTORE_TO_ALTERNATE_LOCATION.](images/rtal.png)</span></span>
-   <span data-ttu-id="38147-127">VSS- \_ RME- \_ Wiederherstellung \_ beim \_ Neustart.</span><span class="sxs-lookup"><span data-stu-id="38147-127">VSS\_RME\_RESTORE\_AT\_REBOOT.</span></span> <span data-ttu-id="38147-128">Bewirkt, dass Dateien wieder hergestellt (überschrieben) werden, wenn der Computer neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="38147-128">Cause files to be restored (overwritten) when the computer is rebooted.</span></span>
    <span data-ttu-id="38147-129">![Diagramm, das eine Problem Behandlungs Struktur für VSS_RME_RESTORE_AT_REBOOT zeigt.](images/rar.png)</span><span class="sxs-lookup"><span data-stu-id="38147-129">![Diagram that shows a troubleshooting tree for VSS_RME_RESTORE_AT_REBOOT.](images/rar.png)</span></span>
-   <span data-ttu-id="38147-130">VSS- \_ RME- \_ Wiederherstellung \_ beim \_ Neustart, \_ Wenn \_ nicht \_ ersetzen kann.</span><span class="sxs-lookup"><span data-stu-id="38147-130">VSS\_RME\_RESTORE\_AT\_REBOOT\_IF\_CANNOT\_REPLACE.</span></span> <span data-ttu-id="38147-131">Wenn eine Datei nicht auf dem Datenträger auf einem laufenden System wieder hergestellt werden konnte, wird Sie beim Neustart des Computers wieder hergestellt (überschrieben).</span><span class="sxs-lookup"><span data-stu-id="38147-131">If a file could not be restored to disk on a running system, then it is restored (overwritten) when the computer is rebooted.</span></span>
    <span data-ttu-id="38147-132">![Diagramm, das eine Problem Behandlungs Struktur forVSS_RME_RESTORE_AT_REBOOT_IF_CANNOT_REPLACE zeigt.</span><span class="sxs-lookup"><span data-stu-id="38147-132">![Diagram that shows a troubleshooting tree forVSS_RME_RESTORE_AT_REBOOT_IF_CANNOT_REPLACE.</span></span> ](images/raricr.png)
-   <span data-ttu-id="38147-133">VSS- \_ RME \_ Benutzer definiert.</span><span class="sxs-lookup"><span data-stu-id="38147-133">VSS\_RME\_CUSTOM.</span></span> <span data-ttu-id="38147-134">Keine der vordefinierten Methoden funktioniert. die Sicherungs Anwendung muss spezielle APIs verwenden, um den Wiederherstellungs Vorgang auszuführen.</span><span class="sxs-lookup"><span data-stu-id="38147-134">None of the predefined methods will work; the backup application must use specialized APIs to perform the restore operation.</span></span> <span data-ttu-id="38147-135">Bei dieser Sicherungsmethode muss der Anforderer den fraglichen Writer vollständig verstehen.</span><span class="sxs-lookup"><span data-stu-id="38147-135">For this backup method, the requester must completely understand the writer in question.</span></span> <span data-ttu-id="38147-136">Siehe [spezielle VSS-Verwendungs Fälle](special-vss-usage-cases.md) für derzeit unterstützte Instanzen.</span><span class="sxs-lookup"><span data-stu-id="38147-136">See [Special VSS Usage Cases](special-vss-usage-cases.md) for currently supported instances.</span></span>

 

 



