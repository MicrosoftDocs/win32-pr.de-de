---
description: Um eine Sicherung vollständig zu implementieren, ist die Teilnahme der Schreiber des Systems erforderlich.
ms.assetid: ea504f8e-26d9-499e-b3e9-03515b480a75
title: Unterstützung für Writer-Sicherungs Schema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 593df12f552f206d5d0eedbf8d021b69ef955c6d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214615"
---
# <a name="writer-backup-schema-support"></a><span data-ttu-id="e6bbc-103">Unterstützung für Writer-Sicherungs Schema</span><span class="sxs-lookup"><span data-stu-id="e6bbc-103">Writer Backup Schema Support</span></span>

<span data-ttu-id="e6bbc-104">Um eine Sicherung vollständig zu implementieren, ist die Teilnahme der Schreiber des Systems erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-104">To fully implement a backup requires participation of the system's writers.</span></span> <span data-ttu-id="e6bbc-105">Verschiedene Typen von unterstützten Sicherungen werden als Schemas bezeichnet und durch eine Bitmaske (oder ein bitweises OR) von Membern der [**VSS- \_ Sicherungs \_ Schema**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) -Enumeration angegeben.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-105">Different types of supported backups are referred to as schemas and are indicated by a bitmask (or bitwise OR) of members of the [**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) enumeration.</span></span> <span data-ttu-id="e6bbc-106">Die derzeit unterstützten gültigen Schemas umfassen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="e6bbc-106">The currently supported valid schemas include the following:</span></span>

-   <span data-ttu-id="e6bbc-107">Standard Schema: Full (VSS \_ - \_ undefiniert) – gibt an, dass ein Writer eine Sicherung unterstützt, in der alle Dateien unabhängig vom Zeitpunkt der letzten Sicherung gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-107">Default Schema: Full (VSS\_BS\_UNDEFINED)—indicates that a writer supports a backup where all files will be backed up regardless of their last backup date.</span></span> <span data-ttu-id="e6bbc-108">Der Sicherungs Verlauf der einzelnen Dateien kann von der anfordernden Person aktualisiert werden, und Writer, die den Enumerationswert von VSS-SB-Zeitstempel unterstützen \_ \_ , speichern einen aktualisierten Zeitstempel mit der Anforderer.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-108">The backup history of each file can be updated by the requester, and writers supporting the VSS\_BS\_TIMESTAMPED enumeration value, it will store an updated time stamp with the requester.</span></span> <span data-ttu-id="e6bbc-109">Dieses Sicherungs Schema kann als Grundlage für eine inkrementelle oder differenzielle Sicherung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-109">This backup scheme can be used as the basis of an incremental or differential backup.</span></span>

    <span data-ttu-id="e6bbc-110">Zum Wiederherstellen einer vollständigen Sicherung ist nur ein einzelnes Sicherungs Abbild erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-110">Restoring a full backup requires only a single backup image.</span></span>

-   <span data-ttu-id="e6bbc-111">Copy Backup (VSS \_ b \_ Copy) – wie das Schema der \_ vollständigen VSS- \_ Sicherung gibt an, dass ein Writer eine Sicherung unterstützt, in der alle Dateien unabhängig vom Zeitpunkt der letzten Sicherung gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-111">Copy Backup (VSS\_BS\_COPY)—like the VSS\_BS\_FULL backup schema, indicates that a writer supports a backup where all files will be backed up regardless of their last backup date.</span></span> <span data-ttu-id="e6bbc-112">Der Sicherungs Verlauf der einzelnen Dateien wird jedoch nicht von Anforderer oder Writer aktualisiert, und diese Art der Sicherung kann nicht als Grundlage für eine inkrementelle oder differenzielle Sicherung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-112">However, the backup history of each file will not be updated by either requester or writer, and this sort of backup cannot be used as the basis of an incremental or differential backup.</span></span>
-   <span data-ttu-id="e6bbc-113">Protokolldatei (VSS \_ - \_ Protokolldatei) – nur die Protokolldateien eines Writers müssen gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-113">Log File (VSS\_BS\_LOG)—only a writer's log files are to be backed up.</span></span> <span data-ttu-id="e6bbc-114">Hierfür ist es erforderlich, dass ein Writer mindestens eine Datei zu mindestens einer Komponente mithilfe der [**ivsskreateschreitermetadata:: adddatabaselogfiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) -Methode hinzugefügt hat.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-114">This requires a writer to have added at least one file to at least one component using the [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) method.</span></span> <span data-ttu-id="e6bbc-115">Dieser Sicherungstyp ist spezifisch für VSS.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-115">This backup type is specific to VSS.</span></span>
-   <span data-ttu-id="e6bbc-116">Benutzerdefinierte Wiederherstellungs Speicherorte (VSS- \_ \_ Writer \_ unterstützt \_ neues \_ Ziel) – gibt an, dass die Writer-Unterstützung für eine anfordernde Person, die die Dateien wiederherstellt, bei der Wiederherstellung geändert</span><span class="sxs-lookup"><span data-stu-id="e6bbc-116">Custom Restore Locations (VSS\_BS\_WRITER\_SUPPORTS\_NEW\_TARGET)—indicates writer support for a requester changing, at restore time, where its files are restored.</span></span> <span data-ttu-id="e6bbc-117">Dies bedeutet, dass ein Writer so codiert wurde, dass er eine solche Verschiebung prüft (mithilfe von [**IVssComponent:: getnewtarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtarget)) und über die Kapazität zum Arbeiten mit verschobenen Dateien verfügt.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-117">This means that a writer has been coded to check for such relocation (using [**IVssComponent::GetNewTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtarget)), and has the capacity for working with relocated files.</span></span>
-   <span data-ttu-id="e6bbc-118">Restore with Move (VSS \_ b \_ Writer \_ unterstützt \_ Restore \_ with \_ Move) – gibt an, dass der Writer das Ausführen mehrerer Writer-Instanzen mit derselben Klassen-ID unterstützt und dass eine Anforderer unterstützt, dass eine Komponente zum Zeitpunkt der Wiederherstellung in eine andere Writer-Instanz verschoben wird.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-118">Restore with Move (VSS\_BS\_WRITER\_SUPPORTS\_RESTORE\_WITH\_MOVE)—indicates that the writer supports running multiple writer instances with the same class ID, and it supports a requester moving a component to a different writer instance at restore time.</span></span> <span data-ttu-id="e6bbc-119">Die Writer-Instanz wird mithilfe eines permanenten Writer-Instanznamens angegeben, der als *wszschreiterinstancename* -Parameter an die [**CVssWriter:: Initialize**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-initialize) -Methode übergeben wurde.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-119">The writer instance is specified by using a persistent writer instance name that was passed as the *wszWriterInstanceName* parameter to the [**CVssWriter::Initialize**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-initialize) method.</span></span> <span data-ttu-id="e6bbc-120">Ein Anforderer kann den Writer-Instanznamen mithilfe von " [**IVssExamineWriterMetadataEx:: getidentityex**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadataex-getidentityex) " abrufen und die Komponenten während der Wiederherstellung mithilfe von [**ivssbackupcomponentsex:: setselectedforrestoreex**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex-setselectedforrestoreex)verschieben.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-120">A requester can obtain the writer instance name using [**IVssExamineWriterMetadataEx::GetIdentityEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadataex-getidentityex) and move components during restore using [**IVssBackupComponentsEx::SetSelectedForRestoreEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex-setselectedforrestoreex).</span></span>

    <span data-ttu-id="e6bbc-121">**Windows Server 2003 und Windows XP:** Dieser Wert wird bis Windows Server 2003 mit Service Pack 1 (SP1) nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-121">**Windows Server 2003 and Windows XP:** This value is not supported until Windows Server 2003 with Service Pack 1 (SP1).</span></span>

-   <span data-ttu-id="e6bbc-122">Inkrementell \_ ( \_ inkrementell) – gibt an, dass der Writer die VSS-API verwendet, um der anfordernden Person zu helfen, sicherzustellen, dass nur Dateien, die seit der letzten vollständigen oder inkrementellen Sicherung geändert oder hinzugefügt wurden, auf ein Speichermedium kopiert</span><span class="sxs-lookup"><span data-stu-id="e6bbc-122">Incremental (VSS\_BS\_INCREMENTAL)—indicates that the writer uses the VSS API to help the requester, ensuring that only files that have been changed or added since the last full or incremental backup are to be copied to a storage medium.</span></span>

    <span data-ttu-id="e6bbc-123">Zum Wiederherstellen einer inkrementellen Sicherung sind das ursprüngliche Sicherungs Abbild und alle inkrementellen Sicherungs Abbilder seit der ersten Sicherung</span><span class="sxs-lookup"><span data-stu-id="e6bbc-123">Restoring an incremental backup requires the original backup image and all incremental backup images made since the initial backup.</span></span>

-   <span data-ttu-id="e6bbc-124">Differenziell (VSS- \_ b- \_ differenziell) – gibt an, dass der Writer die VSS-API verwendet, um dem Anforderer zu helfen, sicherzustellen, dass nur Dateien, die seit der letzten vollständigen Sicherung geändert oder hinzugefügt wurden, auf ein Speichermedium kopiert werden. alle zwischen Sicherungs Informationen werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-124">Differential (VSS\_BS\_DIFFERENTIAL)—indicates that the writer uses the VSS API to help the requester ensure that only files that have been changed or added since the last full backup are to be copied to a storage medium; all intermediate backup information is ignored.</span></span>

    <span data-ttu-id="e6bbc-125">Zum Wiederherstellen einer differenziellen Sicherung sind das ursprüngliche Sicherungs Image und das letzte differenzielle Sicherungs Abbild erforderlich, das seit der letzten vollständigen Sicherung erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-125">Restoring a differential backup requires the original backup image and the most recent differential backup image made since the last full backup.</span></span>

-   <span data-ttu-id="e6bbc-126">Inkrementell/differenziell: Zeitstempel Unterstützung (VSS-SB-Zeitstempel \_ \_ ) – gibt an, dass ein Writer die Verwendung des VSS-Zeitstempel Mechanismus zum Einschließen von Dateien in inkrementelle oder differenzielle Operationen</span><span class="sxs-lookup"><span data-stu-id="e6bbc-126">Incremental/Differential: Time Stamping Support (VSS\_BS\_TIMESTAMPED)—indicates that a writer supports using the VSS time-stamp mechanism to include files in incremental or differential operations.</span></span> <span data-ttu-id="e6bbc-127">Bei der Sicherung muss der Writer den Sicherungs Stempel eines [*Datei Satzes*](vssgloss-f.md) mit der [**IVssComponent:: setbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) -Methode speichern und bei der Wiederherstellung mit [**IVssComponent:: getpreviousbackupstamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp)abrufen.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-127">At backup, the writer must store a [*file set's*](vssgloss-f.md) backup stamp with the [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) method, and at restore retrieve it with [**IVssComponent::GetPreviousBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpreviousbackupstamp).</span></span>
-   <span data-ttu-id="e6bbc-128">Inkrementell/differenziell: Zeit der letzten Änderungs Unterstützung (VSS- \_ \_ bletzte-Änderung \_ ) – gibt an, dass ein Writer bei der Implementierung von inkrementellen oder differenziellen Sicherungen mit differenzierten Dateien die Informationen zur letzten Änderungszeit unabhängig</span><span class="sxs-lookup"><span data-stu-id="e6bbc-128">Incremental/Differential: Time of Last Modification Support (VSS\_BS\_LAST\_MODIFY)—indicates that when implementing incremental or differential backups with differenced files, a writer can provide last modification time information independently.</span></span> <span data-ttu-id="e6bbc-129">Diese Informationen können einem Anforderer über die [**IVssComponent:: AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime) -Methode bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-129">This information can be provided to a requester via the [**IVssComponent::AddDifferencedFilesByLastModifyTime**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-adddifferencedfilesbylastmodifytime) method.</span></span>
-   <span data-ttu-id="e6bbc-130">Inkrementell/differenziell: Unterstützungs Beschränkung ( \_ \_ exklusive \_ inkrementelle VSS-Daten \_ ) – gibt die Schreibunterstützung sowohl für differenzielle als auch für inkrementelle Sicherungs Schemas an</span><span class="sxs-lookup"><span data-stu-id="e6bbc-130">Incremental/Differential: Support Limitation (VSS\_BS\_EXCLUSIVE\_INCREMENTAL\_DIFFERENTIAL)—indicates writer support of both differential or increment backup schemas, but only exclusively: for example, you cannot follow an incremental backup with a differential backup.</span></span>
-   <span data-ttu-id="e6bbc-131">Unabhängiger Systemstatus (VSS \_ BS \_ Independent \_ System \_ State) – gibt an, dass der Writer das Sichern von Daten unterstützt, die Teil des Systemstatus sind, aber auch unabhängig vom Systemstatus gesichert werden können.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-131">Independent System State (VSS\_BS\_INDEPENDENT\_SYSTEM\_STATE)—indicates that the writer supports backing up data that is part of the system state, but that can also be backed up independently of the system state.</span></span>

    <span data-ttu-id="e6bbc-132">**Windows Server 2003 und Windows XP:** Dieser Wert wird bis Windows Vista nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-132">**Windows Server 2003 and Windows XP:** This value is not supported until Windows Vista.</span></span>

-   <span data-ttu-id="e6bbc-133">Roll-Forward Restore (VSS-BVSS- \_ \_ rollforwardwiederherstellung \_ ) – gibt an, dass der Writer eine anfordernde Person unterstützt, die einen Roll Forward-Wiederherstellungspunkt mithilfe von " [**IVssBackupComponentsEx2::**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-setrollforward)\*"</span><span class="sxs-lookup"><span data-stu-id="e6bbc-133">Roll-Forward Restore (VSS\_BS\_ROLLFORWARD\_RESTORE)—indicates that the writer supports a requester setting a roll-forward restore point using [**IVssBackupComponentsEx2::SetRollForward**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-setrollforward).</span></span>

    <span data-ttu-id="e6bbc-134">**Windows Server 2003 und Windows XP:** Dieser Wert wird bis Windows Vista nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-134">**Windows Server 2003 and Windows XP:** This value is not supported until Windows Vista.</span></span>

-   <span data-ttu-id="e6bbc-135">Restore Rename (VSS \_ SB \_ Restore \_ Rename) – gibt an, dass der Writer eine anfordernde Person unterstützt, die einen Wiederherstellungs Namen mithilfe von [**IVssBackupComponentsEx2:: Setup StoreName**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-setrestorename)festlegt.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-135">Restore Rename (VSS\_BS\_RESTORE\_RENAME)—indicates that the writer supports a requester setting a restore name using [**IVssBackupComponentsEx2::SetRestoreName**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-setrestorename).</span></span>

    <span data-ttu-id="e6bbc-136">**Windows Server 2003 und Windows XP:** Dieser Wert wird bis Windows Vista nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e6bbc-136">**Windows Server 2003 and Windows XP:** This value is not supported until Windows Vista.</span></span>

-   <span data-ttu-id="e6bbc-137">Autoritative Wiederherstellung (autorisierende VSS-Speicher- \_ \_ \_ Wiederherstellung) – gibt an, dass der Writer eine anfordernde Person unterstützt, die eine autorisierende Wiederherstellung mithilfe von [**IVssBackupComponentsEx2:: setautorität**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-setauthoritativerestore)-</span><span class="sxs-lookup"><span data-stu-id="e6bbc-137">Authoritative Restore (VSS\_BS\_AUTHORITATIVE\_RESTORE)—indicates that the writer supports a requester setting authoritative restore using [**IVssBackupComponentsEx2::SetAuthoritativeRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-setauthoritativerestore).</span></span>

<span data-ttu-id="e6bbc-138">Writer legen ihre Schemas mithilfe der [**ivsscreatewritermetadata:: setbackupschema**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setbackupschema) -Methode fest, und ein Anforderer erhält das Schema jedes Writers durch Aufrufen von [**ivssexaminewritermetadata:: getbackupschema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema).</span><span class="sxs-lookup"><span data-stu-id="e6bbc-138">Writers set their schemas using the [**IVssCreateWriterMetadata::SetBackupSchema**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setbackupschema) method, and a requester obtains each writer's schema by calling [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema).</span></span>

 

 



