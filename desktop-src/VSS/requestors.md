---
description: Ein Anforderer ist eine beliebige Anwendung, die die VSS-API (insbesondere die IVssBackupComponents-Schnittstelle) zum Anfordern der Dienste des Volumeschattenkopie-Dienst zum Erstellen und Verwalten von Schatten Kopien und schattenkopiesätzen von einem oder mehreren Volumes verwendet.
ms.assetid: e49920d0-5b66-4aa1-b3ca-641629df5f8a
title: Anfordernde Personen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b676b8cd287365b257e3b6ee85a7e47a70f88ef3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104215544"
---
# <a name="requesters"></a><span data-ttu-id="4030c-103">Anfordernde Personen</span><span class="sxs-lookup"><span data-stu-id="4030c-103">Requesters</span></span>

<span data-ttu-id="4030c-104">Ein [*Anforderer*](vssgloss-r.md) ist eine beliebige Anwendung, die die VSS-API (insbesondere die [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) -Schnittstelle) zum Anfordern der Dienste des Volumeschattenkopie-Dienst zum Erstellen und Verwalten von Schatten Kopien und schattenkopiesätzen von einem oder mehreren Volumes verwendet.</span><span class="sxs-lookup"><span data-stu-id="4030c-104">A [*requester*](vssgloss-r.md) is any application that uses the VSS API (specifically the [**IVssBackupComponents**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssbackupcomponents) interface) to request the services of the Volume Shadow Copy Service to create and manage shadow copies and shadow copy sets of one or more volumes.</span></span>

<span data-ttu-id="4030c-105">Das typische Beispiel für einen Anforderer (und der einzige, der in dieser Dokumentation behandelt wird) ist eine VSS-fähige Sicherungs-/Wiederherstellungsanwendung, die Schatten kopierte Daten als stabile Quelle für die Sicherungs Vorgänge verwendet.</span><span class="sxs-lookup"><span data-stu-id="4030c-105">The most typical example of a requester (and the only one addressed in this documentation) is a VSS-aware backup/restore application, which uses shadow-copied data as a stable source for its backup operations.</span></span>

<span data-ttu-id="4030c-106">Neben der Einleitung von Schatten Kopien kommunizieren Sicherungs-/Wiederherstellungs Anforderer-Anwendungen mit Daten Producer (Writer), um Informationen zum System zu sammeln und Writer zu signalisieren, Ihre Daten für die Sicherung vorzubereiten.</span><span class="sxs-lookup"><span data-stu-id="4030c-106">In addition to initiating shadow copies, backup/recover requester applications communicate with data producers (writers) to gather information on the system and to signal writers to prepare their data for backup.</span></span>

## <a name="requester-state"></a><span data-ttu-id="4030c-107">Status der Anforderer</span><span class="sxs-lookup"><span data-stu-id="4030c-107">Requester State</span></span>

<span data-ttu-id="4030c-108">Ein Anforderer behält seine Zustandsinformationen in einem XML-basierten Metadatenobjekt bei, das als Sicherungs Komponenten Dokument bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="4030c-108">A requester maintains its state information in an XML-based metadata object called the Backup Components Document.</span></span> <span data-ttu-id="4030c-109">Die Anforderer-Metadaten sind erforderlich, aber nicht ausreichend, damit ein Anforderer ein Dateisystem sichern und wiederherstellen kann.</span><span class="sxs-lookup"><span data-stu-id="4030c-109">The requester metadata is necessary, but not sufficient to allow a requester to back up and then restore a file system.</span></span> <span data-ttu-id="4030c-110">Hierfür gibt es die folgenden Gründe:</span><span class="sxs-lookup"><span data-stu-id="4030c-110">The reasons for this are the following:</span></span>

-   <span data-ttu-id="4030c-111">Während eines Sicherungs Vorgangs wird nur eine Teilmenge aller Komponenten, die an der Sicherung beteiligt sind –[*nicht auswählbar für Sicherungs*](vssgloss-s.md) Komponenten ohne auswählbare für Sicherungs-und auswählbare Sicherungs Komponenten, die explizit in der Sicherung [*enthalten*](vssgloss-e.md) sind, dem Dokument mit den Sicherungs Komponenten der Anforderer hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="4030c-111">During a backup operation, only a subset of all the components involved in the backup—[*nonselectable for backup*](vssgloss-s.md) components without selectable for backup ancestors and selectable for backup components that have been [*included explicitly*](vssgloss-e.md) in the backup—have had their information added to the requester's Backup Components Document.</span></span>
-   <span data-ttu-id="4030c-112">Die Informationen selbst für die Komponenten, die dem Dokument mit den Sicherungs Komponenten hinzugefügt werden, sind unvollständig – Datei-und Pfadspezifikationen sind nicht enthalten.</span><span class="sxs-lookup"><span data-stu-id="4030c-112">The information even for those components added to the Backup Components Document is incomplete—file and path specifications are not included.</span></span>
-   <span data-ttu-id="4030c-113">Während des Wiederherstellungs Vorgangs kann eine Komponente, die implizit in der Sicherung [*enthalten*](vssgloss-i.md) ist, [*für die Wiederherstellung ausgewählt*](vssgloss-s.md) werden und kann daher explizit in die Wiederherstellung eingeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="4030c-113">During restore operations, a component [*implicitly included*](vssgloss-i.md) in the backup may be [*selectable for restore*](vssgloss-s.md) and therefore can be explicitly included in the restore.</span></span> <span data-ttu-id="4030c-114">Hierfür muss das Dokument mit den Sicherungs Komponenten der Anforderer mit Informationen aus gespeicherten Kopien des Writer-Metadatendokuments eines Writers aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="4030c-114">This will require the updating of the requester's Backup Components Document with information from stored copies of a writer's Writer Metadata Document.</span></span>

<span data-ttu-id="4030c-115">Um die vollständige Angabe eines Sicherungs-oder Wiederherstellungs Vorgangs zu ermöglichen, ermöglicht die VSS-API dem Anforderer das Abfragen der Metadaten von Writern (während der Sicherungen) oder das Überprüfen gespeicherter Writer-Metadaten (während der Wiederherstellung)</span><span class="sxs-lookup"><span data-stu-id="4030c-115">To allow for full specification of a backup or restore operation, the VSS API allows the requester to query running writers' metadata (during backups) or examine stored writer metadata (during restores).</span></span> <span data-ttu-id="4030c-116">Außerdem kann ein Writer im Rahmen eines Sicherungs-oder Wiederherstellungs Vorgangs Komponenten Informationen im Sicherungs Komponenten Dokument ändern.</span><span class="sxs-lookup"><span data-stu-id="4030c-116">In addition, a writer can modify component information in the Backup Components Document in the course of a backup or restore operation.</span></span>

<span data-ttu-id="4030c-117">Mithilfe der Informationen zu den Komponenten, die für die Sicherung und Wiederherstellung ausgewählt wurden, und den Regeln bezüglich der Komponentenauswahl (Weitere Informationen finden Sie unter [Einrichten der Komponenten Organisation](definition-of-components-by-writers.md) und [Arbeiten mit Selektierbarkeit und logischen Pfaden](working-with-selectability-and-logical-paths.md)), kann ein Anforderer ermitteln, welche Dateien er sichern oder wiederherstellen muss und wo er diese Dateien finden kann.</span><span class="sxs-lookup"><span data-stu-id="4030c-117">Using the information about which components have been selected for backup and restore and the rules regarding component selection (for more information, see [Setting up Component Organization](definition-of-components-by-writers.md) and [Working with Selectability and Logical Paths](working-with-selectability-and-logical-paths.md)), a requester can determine which files of which writer it needs to back up or restore, and where it can find those files.</span></span>

<span data-ttu-id="4030c-118">Als Teil einer Sicherung müssen sowohl die Anforderer-als auch die Writer-Metadaten gespeichert werden, damit Sie in der Wiederherstellung verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="4030c-118">As part of a backup, both requester and writer metadata must be stored so that it can be used in the restore.</span></span> <span data-ttu-id="4030c-119">Im Gegensatz dazu erfordern Wiederherstellungs Vorgänge das Abrufen der alten Sicherungs Komponenten und Writer-Metadatendokumente, um vollständige Anweisungen zum Wiederherstellen von Dateien zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="4030c-119">Conversely, restore operations require the retrieval of the old Backup Components and Writer Metadata Documents to obtain full instructions on restoring files.</span></span>

## <a name="requester-interprocess-communication"></a><span data-ttu-id="4030c-120">Prozessübergreifende Kommunikation mit Anforderer</span><span class="sxs-lookup"><span data-stu-id="4030c-120">Requester Interprocess Communication</span></span>

<span data-ttu-id="4030c-121">Der Anforderer behält die Kontrolle über VSS-Sicherungs-und Wiederherstellungs Vorgänge, indem er com-Ereignisse über verschiedene Aufrufe in der requestapi erzeugt.</span><span class="sxs-lookup"><span data-stu-id="4030c-121">The requester maintains control over VSS backup and restore operations by generating COM events through various calls in the requester API.</span></span> <span data-ttu-id="4030c-122">Diese Aufrufe können folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="4030c-122">These calls can do the following:</span></span>

-   <span data-ttu-id="4030c-123">Anforderungen an die Anbieter stellen, z. b. [**IVssBackupComponents::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) bewirkt, dass der Anbieter eine Schatten Kopie des ausgewählten Volumes erstellt.</span><span class="sxs-lookup"><span data-stu-id="4030c-123">Make requests of the providers, for example, [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) causes the provider to create a shadow copy of the selected volume.</span></span>
-   <span data-ttu-id="4030c-124">Veranlassen Sie, dass die Writer Informationen zurückgeben, z. b. [**IVssBackupComponents:: gatherwritermetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata) ermöglicht dem Anforderer, das Writer-Metadatendokument jedes Writers abzurufen.</span><span class="sxs-lookup"><span data-stu-id="4030c-124">Trigger the writers to return information, for example, [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata) enables the requester to obtain each writer's Writer Metadata Document.</span></span>
-   <span data-ttu-id="4030c-125">Erfordert, dass Writer verschiedene Phasen der Schattenkopie-und Sicherungs Vorgänge vorbereiten oder verarbeiten können, z. b. [**IVssBackupComponents::P Analyse forbackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) signalisiert Writer, dass die e/a-Sperre eingerichtet werden soll.</span><span class="sxs-lookup"><span data-stu-id="4030c-125">Require writers to prepare for or handle various phases of the shadow copy and backup operations, for example, [**IVssBackupComponents::PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) signals writers to set up for the I/O freeze.</span></span>

<span data-ttu-id="4030c-126">Ein Anforderer empfängt Informationen von den Writern mithilfe von livedokumenten oder gespeicherten Writer-Metadatendokumenten und durch die Verwendung der [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle, die der Writer aktualisieren kann.</span><span class="sxs-lookup"><span data-stu-id="4030c-126">A requester receives information from the writers through live or stored Writer Metadata Documents and through the use of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface, which the writer can update.</span></span>

## <a name="life-cycle-of-a-requester-during-backup"></a><span data-ttu-id="4030c-127">Lebenszyklus eines Anforderers während der Sicherung</span><span class="sxs-lookup"><span data-stu-id="4030c-127">Life Cycle of a Requester during Backup</span></span>

<span data-ttu-id="4030c-128">Im folgenden finden Sie eine Zusammenfassung des Lebenszyklus der Anforderer für die Sicherung:</span><span class="sxs-lookup"><span data-stu-id="4030c-128">The following is a summary of the requester life cycle for backup:</span></span>

1.  <span data-ttu-id="4030c-129">Instanziieren und Initialisieren von VSS-API-Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="4030c-129">Instantiate and initialize VSS API interfaces.</span></span>
2.  <span data-ttu-id="4030c-130">Wenden Sie sich an Writer, und rufen Sie Ihre Informationen ab</span><span class="sxs-lookup"><span data-stu-id="4030c-130">Contact writers and retrieve their information.</span></span>
3.  <span data-ttu-id="4030c-131">Wählen Sie die zu sichernden Daten aus.</span><span class="sxs-lookup"><span data-stu-id="4030c-131">Choose data to back up.</span></span>
4.  <span data-ttu-id="4030c-132">Fordern Sie eine Schatten Kopie des Anbieters an.</span><span class="sxs-lookup"><span data-stu-id="4030c-132">Request a shadow copy of the provider.</span></span>
5.  <span data-ttu-id="4030c-133">Sichern Sie die Daten.</span><span class="sxs-lookup"><span data-stu-id="4030c-133">Back up the data.</span></span>
6.  <span data-ttu-id="4030c-134">Geben Sie die-Schnittstelle und die Schatten Kopie frei.</span><span class="sxs-lookup"><span data-stu-id="4030c-134">Release the interface and the shadow copy.</span></span>

## <a name="life-cycle-of-a-requester-during-restore"></a><span data-ttu-id="4030c-135">Lebenszyklus eines Anforderers während der Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="4030c-135">Life Cycle of a Requester during Restore</span></span>

<span data-ttu-id="4030c-136">Der Lebenszyklus der Wiederherstellung erfordert keine Schatten Kopie, erfordert aber trotzdem die Writer-Zusammenarbeit:</span><span class="sxs-lookup"><span data-stu-id="4030c-136">The restore life cycle does not require a shadow copy, but still requires writer cooperation:</span></span>

1.  <span data-ttu-id="4030c-137">Instanziieren von VSS-API-Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="4030c-137">Instantiate VSS API interfaces.</span></span>
2.  <span data-ttu-id="4030c-138">Initialisieren Sie den Anforderer für den Wiederherstellungs Vorgang, indem Sie ein Dokument mit gespeicherten Sicherungs Komponenten laden.</span><span class="sxs-lookup"><span data-stu-id="4030c-138">Initialize the requester for the restore operation by loading a stored Backup Components Document.</span></span>
3.  <span data-ttu-id="4030c-139">Abrufen gespeicherter Writer-Metadaten und Sicherungs Komponenten Dokumente.</span><span class="sxs-lookup"><span data-stu-id="4030c-139">Retrieve stored Writer Metadata and Backup Components Documents.</span></span>
4.  <span data-ttu-id="4030c-140">Kontaktieren Sie die Writer, um die Zusammenarbeit zu initialisieren</span><span class="sxs-lookup"><span data-stu-id="4030c-140">Contact the writers to initialize cooperation.</span></span>
5.  <span data-ttu-id="4030c-141">Überprüfen Sie das Dokument mit den Sicherungs Komponenten auf Writer-Updates.</span><span class="sxs-lookup"><span data-stu-id="4030c-141">Check for writer updates to the Backup Components Document.</span></span>
6.  <span data-ttu-id="4030c-142">Stellen Sie die Daten wieder her.</span><span class="sxs-lookup"><span data-stu-id="4030c-142">Restore the data.</span></span>

 

 



