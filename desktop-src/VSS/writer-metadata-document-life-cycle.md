---
description: 'Als Reaktion auf ein identifizierungsereignis erstellt jeder Writer, der auf dem System vorhanden ist, sein eigenes Writer-Metadatendokument mithilfe von ivsskreateschreitermetadata. Ein identifizereignis wird normalerweise von einem Anforderer generiert, der IVssBackupComponents:: gatherschreibmetadata aufruft.'
ms.assetid: bae9bbe7-ca55-47cb-b253-8092007cb181
title: Lebenszyklus von Writer-Metadatendokumenten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 45be5748625d21f99abe3e77e0d6474a62210904
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106348400"
---
# <a name="writer-metadata-document-life-cycle"></a><span data-ttu-id="db2a8-104">Lebenszyklus von Writer-Metadatendokumenten</span><span class="sxs-lookup"><span data-stu-id="db2a8-104">Writer Metadata Document Life Cycle</span></span>

<span data-ttu-id="db2a8-105">Als Reaktion auf ein [*identifizierungsereignis*](vssgloss-i.md)erstellt jeder Writer, der auf dem System vorhanden ist, sein eigenes Writer-Metadatendokument mithilfe von [**ivsskreateschreitermetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata).</span><span class="sxs-lookup"><span data-stu-id="db2a8-105">In response to an [*Identify event*](vssgloss-i.md), each writer present on the system constructs its own Writer Metadata Document using [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata).</span></span> <span data-ttu-id="db2a8-106">Ein *identifizereignis* wird normalerweise von einem Anforderer generiert, der [**IVssBackupComponents:: gatherschreibmetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata)aufruft.</span><span class="sxs-lookup"><span data-stu-id="db2a8-106">An *Identify event* is typically generated by a requester calling [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span></span>

<span data-ttu-id="db2a8-107">Beim Erstellen eines Writer-Metadatendokuments entweder über die [**ivsskreateschreitermetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) -Schnittstelle oder über die Writer-Initialisierung ([**CVssWriter:: Initialize**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-initialize)) muss ein Writer Folgendes explizit angeben:</span><span class="sxs-lookup"><span data-stu-id="db2a8-107">When creating a Writer Metadata Document, either through the [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) interface or through writer initialization ([**CVssWriter::Initialize**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-initialize)), a writer must explicitly specify the following:</span></span>

-   [<span data-ttu-id="db2a8-108">*Wiederherstellungsmethode*</span><span class="sxs-lookup"><span data-stu-id="db2a8-108">*Restore method*</span></span>](vssgloss-r.md)
-   <span data-ttu-id="db2a8-109">Writer-Name</span><span class="sxs-lookup"><span data-stu-id="db2a8-109">Writer name</span></span>
-   [<span data-ttu-id="db2a8-110">*Writer-Klassen-ID*</span><span class="sxs-lookup"><span data-stu-id="db2a8-110">*Writer class ID*</span></span>](vssgloss-w.md)
-   <span data-ttu-id="db2a8-111">Datennutzung (siehe [**VSS \_ - \_ Verwendungstyp**](/windows/desktop/api/VsWriter/ne-vswriter-vss_usage_type))</span><span class="sxs-lookup"><span data-stu-id="db2a8-111">Data usage (see [**VSS\_USAGE\_TYPE**](/windows/desktop/api/VsWriter/ne-vswriter-vss_usage_type))</span></span>
-   <span data-ttu-id="db2a8-112">Datums Quelltyp (siehe [**VSS \_ - \_ Quelltyp**](/windows/desktop/api/VsWriter/ne-vswriter-vss_source_type))</span><span class="sxs-lookup"><span data-stu-id="db2a8-112">Date source type (see [**VSS\_SOURCE\_TYPE**](/windows/desktop/api/VsWriter/ne-vswriter-vss_source_type))</span></span>

<span data-ttu-id="db2a8-113">Außerdem kann Sie Folgendes angeben:</span><span class="sxs-lookup"><span data-stu-id="db2a8-113">In addition, it may also specify the following:</span></span>

-   <span data-ttu-id="db2a8-114">Komponenten (die Datei Sätze enthalten können oder enthalten dürfen)</span><span class="sxs-lookup"><span data-stu-id="db2a8-114">Components (which may or may not contain file sets)</span></span>
-   <span data-ttu-id="db2a8-115">Alternative Zuordnungen hinzufügen</span><span class="sxs-lookup"><span data-stu-id="db2a8-115">Add alternate mappings</span></span>
-   <span data-ttu-id="db2a8-116">Dateilisten ausschließen</span><span class="sxs-lookup"><span data-stu-id="db2a8-116">Exclude file lists</span></span>

<span data-ttu-id="db2a8-117">Eine Übersicht über die Erstellung von Writer-Metadatendokumenten finden Sie in [Writer-Aktionen während der Sicherungs Initialisierung](overview-of-backup-initialization.md).</span><span class="sxs-lookup"><span data-stu-id="db2a8-117">An overview of Writer Metadata Document creation is found in [Writer Actions during Backup Initialization](overview-of-backup-initialization.md).</span></span>

<span data-ttu-id="db2a8-118">Anforderer verwendet in der Regel eine von zwei Methoden, um Zugriff auf Writer-Metadaten zu erhalten:</span><span class="sxs-lookup"><span data-stu-id="db2a8-118">Requesters typically make use of one of two methods to obtain access to writer metadata:</span></span>

-   <span data-ttu-id="db2a8-119">Bei den meisten Sicherungs Vorgängen verwendet ein Anforderer [**IVssBackupComponents:: getschreibmetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) , um eine Instanz der [**ivssexaminewrite Metadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata) -Schnittstelle zu erhalten, um den Zugriff auf die Metadaten eines derzeit ausgeführten Writers zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="db2a8-119">During most backup operations, a requester uses [**IVssBackupComponents::GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) to obtain an instance of the [**IVssExamineWriterMetadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata) interface to allow access to the metadata of a currently executing writer.</span></span>
-   <span data-ttu-id="db2a8-120">Für Wiederherstellungs Vorgänge oder Sicherungen mit importierten Schatten Kopien (Weitere Informationen zum Importieren von Schatten Kopien finden Sie unter [Importieren von transportable-Schattenkopievolumes](importing-transportable-shadow-copied-volumes.md) ), Ruft ein Anforderer ein XML-Dokument ab, das die Metadaten enthält, [**und verwendet "**](/windows/desktop/api/VsBackup/nf-vsbackup-createvssexaminewritermetadata) ", um die Wiederherstellungs [**Metadaten zu**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata) lesen.</span><span class="sxs-lookup"><span data-stu-id="db2a8-120">For restore operations, or backups using imported shadow copies (see [Importing Transportable Shadow Copied Volumes](importing-transportable-shadow-copied-volumes.md) for more information on importing shadow copies), a requester retrieves an XML document containing the metadata and uses [**CreateVssExamineWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-createvssexaminewritermetadata) to obtain an [**IVssExamineWriterMetadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata) interface, which it uses to read the restore metadata.</span></span>

<span data-ttu-id="db2a8-121">Writer-Metadatendokumente ermöglichen es der anfordernden Person, eine Sicherung durchzuführen, um zu erfahren, wie derzeit Writer während der Ermittlungsphase einer Sicherung ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="db2a8-121">Writer Metadata Documents enable the requester performing a backup to learn about currently executing writers during the discovery phase of a backup.</span></span>

<span data-ttu-id="db2a8-122">Für diejenigen, die sich für die Teilnahme an einer Sicherung entschieden haben, importiert ein Anforderer während der Ermittlungsphase einer Sicherung viel, aber nicht alle Informationen im Writer-Metadatendokument in ein eigenes Sicherungs Komponenten Dokument.</span><span class="sxs-lookup"><span data-stu-id="db2a8-122">For those writers chosen to participate in a backup, a requester imports much, but not all, of the information in the Writer Metadata Document into its own Backup Components Document during the discovery phase of a backup.</span></span>

<span data-ttu-id="db2a8-123">Allerdings enthalten nur Writer-Metadatendokumente und nicht das Dokument mit den Sicherungs Komponenten die Datei-und Pfadspezifikationen.</span><span class="sxs-lookup"><span data-stu-id="db2a8-123">However, only Writer Metadata Documents and not the Backup Components Document contain the file and path specifications.</span></span>

<span data-ttu-id="db2a8-124">Weitere Informationen zur Durchführung der Ermittlungsphase eines Sicherungs Vorgangs finden Sie unter Übersicht über [die Sicherungs Ermittlungsphase](overview-of-the-backup-discovery-phase.md).</span><span class="sxs-lookup"><span data-stu-id="db2a8-124">For more information on how the discovery phase of a backup operation is conducted, see [Overview of the Backup Discovery Phase](overview-of-the-backup-discovery-phase.md).</span></span>

<span data-ttu-id="db2a8-125">Außerdem werden während eines Sicherungs Vorgangs nur [*explizit enthaltene*](vssgloss-e.md) Komponenten im Dokument mit den Sicherungs Komponenten gespeichert.</span><span class="sxs-lookup"><span data-stu-id="db2a8-125">In addition, only [*explicitly included*](vssgloss-e.md) components have their information stored in the Backup Components Document during a backup operation.</span></span> <span data-ttu-id="db2a8-126">Informationen zu [*implizit enthaltenen*](vssgloss-i.md) Komponenten sind während eines Sicherungs Vorgangs nicht im Dokument mit den Sicherungs Komponenten enthalten und müssen mithilfe von Informationen zu den explizit enthaltenen Komponenten und den verfügbaren Writer-Metadatendokumenten interpoliert werden.</span><span class="sxs-lookup"><span data-stu-id="db2a8-126">Information on [*implicitly included*](vssgloss-i.md) components is not included in the Backup Components Document during a backup operation, and must be interpolated using information about the explicitly included components and the available Writer Metadata Documents.</span></span>

<span data-ttu-id="db2a8-127">Implizit enthaltene Komponenten können weiterhin [*für die Wiederherstellung ausgewählt*](vssgloss-s.md) werden und müssen möglicherweise beim Wiederherstellungs Zeitpunkt explizit im Dokument mit den Sicherungs Komponenten enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="db2a8-127">Implicitly included components may still be [*selectable for restore*](vssgloss-s.md) and may need to be explicitly included in the Backup Components Document at restore time.</span></span> <span data-ttu-id="db2a8-128">Wenn in diesem Fall eine Komponente während eines Sicherungs Vorgangs Zugriff auf das Writer-Metadatendokument der Komponente benötigt (dann vom Writer abgerufen), benötigt ein Anforderer Zugriff auf eine Kopie der Writer-Metadatendokumente dieses Writers, die zum Zeitpunkt der Sicherung gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="db2a8-128">In this case, just as adding a component during a backup operation required access to the component's writer's Writer Metadata Document (then retrieved from the writer), a requester will require access to a copy of that writer's Writer Metadata Documents stored at backup time.</span></span>

<span data-ttu-id="db2a8-129">Daher besteht die einzige Möglichkeit zum Abrufen aller Informationen zu allen Dateien und Komponenten, die an einer Sicherung oder Wiederherstellung beteiligt sind, darin, dass jedes Writer-Metadatendokument für jeden Writer, der an einer Sicherung beteiligt ist, zusammen mit dem Sicherungs Komponenten Dokument gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="db2a8-129">Therefore, the only way to obtain all the information about all the files and components involved in a backup or restore is to have each Writer Metadata Document for each writer participating in a backup stored along with the Backup Components Document.</span></span> <span data-ttu-id="db2a8-130">(Weitere Informationen finden Sie unter [Übersicht über die tatsächliche Dateiwiederherstellung](overview-of-actual-file-restoration.md).)</span><span class="sxs-lookup"><span data-stu-id="db2a8-130">(For more information, see [Overview of Actual File Restoration](overview-of-actual-file-restoration.md).)</span></span>

 

 



