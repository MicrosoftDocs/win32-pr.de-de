---
description: 'Nach dem Aufrufen von IVssBackupComponents:: gatherwritermetadata verwendet eine anfordernde Person die Instanz der IVssAsync-Schnittstelle, die von diesem Aufruf zurückgegeben wird, um zu bestimmen, wann alle Writer im System die Erstellung Ihrer Writer-Metadatendokumente abgeschlossen haben.'
ms.assetid: 04658d50-04f0-4189-8b88-ff152f1bf482
title: Übersicht über die Sicherungs Ermittlungs Phase
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3d2d2a2d05220ecf3e25c77c18cc62b07726964f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106351625"
---
# <a name="overview-of-the-backup-discovery-phase"></a><span data-ttu-id="5fcf3-103">Übersicht über die Sicherungs Ermittlungs Phase</span><span class="sxs-lookup"><span data-stu-id="5fcf3-103">Overview of the Backup Discovery Phase</span></span>

<span data-ttu-id="5fcf3-104">Nach dem Aufrufen von [**IVssBackupComponents:: gatherwritermetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata)verwendet eine anfordernde Person die Instanz der [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync) -Schnittstelle, die von diesem Aufruf zurückgegeben wird, um zu bestimmen, wann alle Writer im System die Erstellung Ihrer Writer-Metadatendokumente abgeschlossen haben.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-104">After calling [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata), a requester uses the instance of the [**IVssAsync**](/windows/desktop/api/Vss/nn-vss-ivssasync) interface returned from this call to determine when all writers on the system have finished constructing their Writer Metadata Documents.</span></span> <span data-ttu-id="5fcf3-105">Weitere Informationen finden Sie [unter Übersicht über die Verarbeitung einer Sicherung unter VSS](overview-of-processing-a-backup-under-vss.md).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-105">For more information, see [Overview of Processing a Backup Under VSS](overview-of-processing-a-backup-under-vss.md).</span></span>

<span data-ttu-id="5fcf3-106">An diesem Punkt kann der Anforderer eine Ermittlungsphase starten und die Metadaten überprüfen, um zu bestimmen, welche Anwendungen ausgeführt werden und welche Volumes mit Schatten Kopien kopiert werden müssen, um eine komplette Sicherung zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-106">At this point, the requester can begin a discovery phase, examining metadata to determine what applications are running and which volumes must be shadow copied to get a complete backup.</span></span> <span data-ttu-id="5fcf3-107">In der folgenden Tabelle wird die Abfolge der Aktionen und Ereignisse angezeigt, die für die Sicherungs Ermittlungsphase erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-107">The following table shows the sequence of actions and events that are required for the backup discovery phase.</span></span>



| <span data-ttu-id="5fcf3-108">Requestaktion</span><span class="sxs-lookup"><span data-stu-id="5fcf3-108">Requester action</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | <span data-ttu-id="5fcf3-109">Ereignis</span><span class="sxs-lookup"><span data-stu-id="5fcf3-109">Event</span></span> | <span data-ttu-id="5fcf3-110">Writer-Aktion</span><span class="sxs-lookup"><span data-stu-id="5fcf3-110">Writer action</span></span>                                                                     |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------|-----------------------------------------------------------------------------------|
| <span data-ttu-id="5fcf3-111">Abrufen von Writer-Metadatendokumenten (siehe [**IVssBackupComponents:: getschreitermetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata), [**ivssexaminewrite Metadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata)).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-111">Retrieve Writer Metadata Documents (see [**IVssBackupComponents::GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata), [**IVssExamineWriterMetadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata)).</span></span>                                                                                                                                                                                                                                                                                                                                                 | <span data-ttu-id="5fcf3-112">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-112">None</span></span>  | <span data-ttu-id="5fcf3-113">Während dieses Zeitraums können Writer mit ihren normalen Vorgängen fortfahren.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-113">During this period, writers may be able to continue with their normal operations.</span></span> |
| <span data-ttu-id="5fcf3-114">Verwenden Sie die Liste der Komponenten und der zugehörigen [*Datei Sätze*](vssgloss-f.md)sowie ausgeschlossene Dateien, um eine Liste der an der Sicherung beteiligten Volumes und Dateien zu erhalten (siehe [**ivsswmcomponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent), [**ivsswmfiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc)).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-114">Use the list of components and their [*file sets*](vssgloss-f.md), as well as excluded files, to obtain a list of volumes and files involved in the backup (see [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent), [**IVssWMFiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc)).</span></span>                                                                                                                                                                                                                                                                      | <span data-ttu-id="5fcf3-115">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-115">None</span></span>  | <span data-ttu-id="5fcf3-116">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-116">None</span></span>                                                                              |
| <span data-ttu-id="5fcf3-117">Wählen Sie aus, welche Komponenten im Writer-Metadatendokument für die Sicherungskopie ausgewählt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-117">Choose which components in the writer's Writer Metadata Document to back up.</span></span> <span data-ttu-id="5fcf3-118">Nennen Sie [**IVssBackupComponents:: addComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent) für jede Komponente, um Sie dem Dokument mit den Sicherungs Komponenten hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-118">Call [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent) for each component to add it to the Backup Components Document.</span></span> <span data-ttu-id="5fcf3-119">(Weitere Informationen finden Sie unter [Arbeiten mit selectlichkeit für die Sicherung](working-with-selectability-for-backup.md) und [Arbeiten mit dem Sicherungs Komponenten Dokument](working-with-the-backup-components-document.md).)</span><span class="sxs-lookup"><span data-stu-id="5fcf3-119">(See [Working with Selectability for Backup](working-with-selectability-for-backup.md) and [Working with the Backup Components Document](working-with-the-backup-components-document.md).)</span></span>                                                                                                                      | <span data-ttu-id="5fcf3-120">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-120">None</span></span>  | <span data-ttu-id="5fcf3-121">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-121">None</span></span>                                                                              |
| <span data-ttu-id="5fcf3-122">Initialisieren Sie den Schattenkopiesatz, den Kontext und die Überprüfung auf unterstützte Volumes (siehe [**IVssBackupComponents:: startnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-startsnapshotset), [**IVssBackupComponents:: isvolumesupportiert**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-isvolumesupported)).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-122">Initialize the shadow copy set, context and check for supported volumes (see [**IVssBackupComponents::StartSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-startsnapshotset), [**IVssBackupComponents::IsVolumeSupported**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-isvolumesupported)).</span></span>                                                                                                                                                                                                                                                                                   | <span data-ttu-id="5fcf3-123">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-123">None</span></span>  | <span data-ttu-id="5fcf3-124">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-124">None</span></span>                                                                              |
| <span data-ttu-id="5fcf3-125">Wenn Sie eine Sicherung außerhalb der Komponenten durchführen, fügen Sie die gewünschten Zielvolumes aus dem Writer-Metadatendokument dem Schattenkopiesatz hinzu, indem Sie [**IVssBackupComponents:: addtosnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addtosnapshotset) für jedes Volume aufrufen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-125">If performing a non-component backup, add the desired target volumes from the Writer Metadata Document to the shadow copy set by calling [**IVssBackupComponents::AddToSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addtosnapshotset) for each volume.</span></span> <span data-ttu-id="5fcf3-126">Andernfalls muss die anfordernde Person für die Komponenten im Writer-Metadatendokument, die bereits zum Sicherungs Komponenten Dokument hinzugefügt wurden (durch Aufrufen von [**addComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)), auch **IVssBackupComponents:: addtosnapshotset** für jedes betroffene Volume aufrufen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-126">Otherwise, for the components in the Writer Metadata Document that were already added to the Backup Components Document (by calling [**AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)), the requester must also call **IVssBackupComponents::AddToSnapshotSet** for each affected volume.</span></span> | <span data-ttu-id="5fcf3-127">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-127">None</span></span>  | <span data-ttu-id="5fcf3-128">Keine</span><span class="sxs-lookup"><span data-stu-id="5fcf3-128">None</span></span>                                                                              |



 

## <a name="writer-actions-during-the-discovery-phase"></a><span data-ttu-id="5fcf3-129">Writer-Aktionen während der Ermittlungs Phase</span><span class="sxs-lookup"><span data-stu-id="5fcf3-129">Writer Actions during the Discovery Phase</span></span>

<span data-ttu-id="5fcf3-130">Da es sich bei der Ermittlungsphase einer Sicherung hauptsächlich um eine anfordernde Person handelt, die die aus Writer-Metadatendokumenten abgerufenen Informationen verarbeitet, gibt es nur wenige Anforderungen an einen Writer.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-130">Because the discovery phase of a backup consists primarily of a requester processing the information it has retrieved from Writer Metadata Documents, there are few if any requirements on a writer.</span></span>

<span data-ttu-id="5fcf3-131">Theoretisch kann ein Writer an dieser Stelle weiterhin normal ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-131">In theory, a writer could continue to run normally at this point.</span></span> <span data-ttu-id="5fcf3-132">Es kann jedoch wünschenswert sein, dass Writer Vorbereitungen für die bevorstehenden schattenkopievorgänge und Sicherungs Vorgänge beginnen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-132">However, it may be desirable for writers to begin preparations for the coming shadow copy and backup operations.</span></span>

## <a name="requester-actions-during-the-discovery-phase"></a><span data-ttu-id="5fcf3-133">Requestaktionen während der Ermittlungs Phase</span><span class="sxs-lookup"><span data-stu-id="5fcf3-133">Requester Actions during the Discovery Phase</span></span>

<span data-ttu-id="5fcf3-134">Ein Anforderer verwendet die [**ivssexaminewritermetadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata) -Objekte, die über [**IVssBackupComponents:: getwritermetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) abgerufen wurden, um alle Writer-Metadaten zu durchlaufen und die Writer auszuwählen, deren Daten gesichert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-134">A requester uses the [**IVssExamineWriterMetadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata) objects obtained through [**IVssBackupComponents::GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) to iterate over all the writers' metadata and selecting those writers whose data it intends to back up.</span></span>

<span data-ttu-id="5fcf3-135">An diesem Punkt muss die anfordernde Person eine anfängliche Liste der Sicherungs Kandidaten jedes Writers generieren, indem die Writer-Komponenten mithilfe von [**ivssexamineschreitermetadata:: getComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getcomponent)durchlaufen werden.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-135">At this point, the requester will need to generate an initial list of each writer's backup candidates by iterating over the writer's components using [**IVssExamineWriterMetadata::GetComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getcomponent).</span></span> <span data-ttu-id="5fcf3-136">Dadurch wird der Anforderer mit [**ivsswmcomponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) -Objekten bereitgestellt, über die Sie die Spezifikationen für die zu sichernden Dateien mithilfe von [**ivsswmcomponent:: GetFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getfile), [**ivsswmcomponent:: getdatabasefile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabasefile)und [**ivsswmcomponent:: getdatabaselogfile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile)erhalten können.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-136">This provides the requester with [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) objects, from which you can get the specifications for the files to be backed up using [**IVssWMComponent::GetFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getfile), [**IVssWMComponent::GetDatabaseFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabasefile), and [**IVssWMComponent::GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile).</span></span>

<span data-ttu-id="5fcf3-137">Da das [**ivsswmfiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc) -Objekt Platzhalter Zeichen verwenden kann, um Datei Speicherort Informationen zu speichern, kann es erforderlich sein, Funktionen wie " [**FindFirstFile**](/windows/win32/api/fileapi/nf-fileapi-findfirstfilea)", " [**findfirstfileex**](/windows/win32/api/fileapi/nf-fileapi-findfirstfileexa)" und " [**FindNextFile**](/windows/win32/api/fileapi/nf-fileapi-findnextfilea)" zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-137">Because the [**IVssWMFiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc) object can use wildcard characters to hold file location information, it may be necessary to use functions such as [**FindFirstFile**](/windows/win32/api/fileapi/nf-fileapi-findfirstfilea), [**FindFirstFileEx**](/windows/win32/api/fileapi/nf-fileapi-findfirstfileexa), and [**FindNextFile**](/windows/win32/api/fileapi/nf-fileapi-findnextfilea).</span></span>

<span data-ttu-id="5fcf3-138">Bis die Schatten Kopie abgeschlossen ist, können Writer im normalen Verlauf der Arbeit weiterhin Dateien auf dem Datenträger hinzufügen oder daraus entfernen. Daher sollten Sie die tatsächliche Liste der zu sichernden Dateien nicht generieren.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-138">Until the shadow copy has been completed, it is still possible for writers to add or remove files from disk in the normal course of their work, so you should not generate the actual list of files to be backed up at this time.</span></span>

<span data-ttu-id="5fcf3-139">Stattdessen wird die anfängliche Liste der zu sichernden Dateien und Volumes zu diesem Zeitpunkt wie folgt gefunden:</span><span class="sxs-lookup"><span data-stu-id="5fcf3-139">Instead, the initial list of files and volumes to be backed up is found at this point by doing the following:</span></span>

1.  <span data-ttu-id="5fcf3-140">Untersuchen aller auswählbaren für Sicherungs-und nicht auswählbaren Komponenten in den Writer-Metadatendokumenten der einzelnen Writer (mithilfe von [**ivssexaminewrite Metadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata)) und organisieren in Komponenten [*Gruppen*](vssgloss-c.md) verwenden den [*logischen Pfad*](vssgloss-l.md) (Weitere Informationen finden Sie [unter Arbeiten mit Auswahlmöglichkeiten und logischen Pfaden](working-with-selectability-and-logical-paths.md))</span><span class="sxs-lookup"><span data-stu-id="5fcf3-140">Examining all selectable for backup and nonselectable components in each writer's Writer Metadata Document (using [**IVssExamineWriterMetadata**](/windows/desktop/api/VsBackup/nl-vsbackup-ivssexaminewritermetadata)) and organizing them into [*component sets*](vssgloss-c.md) use [*logical path*](vssgloss-l.md) (see [Working with Selectability and Logical Paths](working-with-selectability-and-logical-paths.md))</span></span>
2.  <span data-ttu-id="5fcf3-141">[*Einschließen explizit*](vssgloss-e.md) aller erforderlichen Komponenten (nicht auswählbar für Sicherungs Komponenten ohne auswählbare für Sicherungs Vorgänger) im Dokument mit den Sicherungs Komponenten mithilfe von [ **IVssBackupComponents:: addComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)</span><span class="sxs-lookup"><span data-stu-id="5fcf3-141">[*Including explicitly*](vssgloss-e.md) all required components (nonselectable for backup components without selectable for backup ancestors) in the Backup Components Document using [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)</span></span>
3.  <span data-ttu-id="5fcf3-142">Explizites einschließen Optionaler auswählbarer für Sicherungs Komponenten, die keine Komponenten Sätze definieren (mithilfe von [**IVssBackupComponents:: addComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent))</span><span class="sxs-lookup"><span data-stu-id="5fcf3-142">Choosing to explicitly include optional selectable for backup components that do not define a component set (using [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent))</span></span>
4.  <span data-ttu-id="5fcf3-143">Auswählen von [*Komponenten Sätzen*](vssgloss-c.md) für die Teilnahme an einer Sicherung durch explizites Hinzufügen Ihrer definierenden auswählbaren for Backup-Komponente (mithilfe von [**IVssBackupComponents:: addComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)), die implizit die [*unter Komponenten*](vssgloss-s.md)des Komponenten Satzes [*einschließt*](vssgloss-i.md) .</span><span class="sxs-lookup"><span data-stu-id="5fcf3-143">Selecting [*component sets*](vssgloss-c.md) for participation in a backup by explicitly adding their defining selectable for backup component (using [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)), which [*implicitly includes*](vssgloss-i.md) the component set's [*subcomponents*](vssgloss-s.md).</span></span>
5.  <span data-ttu-id="5fcf3-144">Durch die Verwendung von [*Datei Satz*](vssgloss-f.md) Informationen im Writer-Metadatendokument und in den Volumen Verwaltungsfunktionen der ausgewählten Writer bestimmt ein Anforderer die Pfade der zu sichernden Dateien und die Volumes, die als Schatten kopiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-144">Using [*file set*](vssgloss-f.md) information in the selected writers' Writer Metadata Document and volume management functions, a requester determines the paths of files to be backed up and the volumes that will need to be shadow copied</span></span>

<span data-ttu-id="5fcf3-145">Beachten Sie, dass nur die Komponenten, die in der Sicherung und im Sicherungs Komponenten Dokument explizit (mithilfe von [**IVssBackupComponents:: addComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)) enthalten sind, dem Dokument Instanzen der [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-145">Note that only the components explicitly included (using [**IVssBackupComponents::AddComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addcomponent)) in the backup and in the Backup Components Document will have instances of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface added to that document.</span></span> <span data-ttu-id="5fcf3-146">Diese Instanzen werden zum Überprüfen und Ändern von Komponenten Einstellungen sowohl für explizit enthaltene Komponenten als auch für deren implizit enthaltene unter Komponenten verwendet (siehe [selectlichkeit und arbeiten mit Komponenteneigenschaften](selectability-and-working-with-component-properties.md)).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-146">These instances will be used to examine and modify component settings for both explicitly included components and any of their implicitly included subcomponents (see [Selectability and Working with Component Properties](selectability-and-working-with-component-properties.md)).</span></span>

<span data-ttu-id="5fcf3-147">Wenn ein Writer eine der Komponenten eines Writers enthält, muss er alle erforderlichen Komponenten hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-147">If a writer includes any of a writer's components, it must add all of its required components.</span></span> <span data-ttu-id="5fcf3-148">Ein Anforderer kann jedoch auch vollständig alle Komponenten Sätze eines Writers überspringen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-148">However, a requester is also free to entirely skip all of a writer's component sets.</span></span> <span data-ttu-id="5fcf3-149">Wenn keine der Komponenten eines Writers explizit ausgewählt ist, wird der Writer nicht ausgewählt, und VSS hindert den Writer daran, an dem Rest des Sicherungs Vorgangs teilzunehmen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-149">If none of a writer's components are explicitly selected, the writer is not selected, and VSS inhibits that writer from participating in the rest of the backup operation.</span></span>

<span data-ttu-id="5fcf3-150">Der Anforderer initiiert den Schattenkopiesatz, der die ausgewählten Volumes enthält, indem [**IVssBackupComponents:: startnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-startsnapshotset)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-150">The requester initiates the shadow copy set that will contain the selected volumes by calling [**IVssBackupComponents::StartSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-startsnapshotset).</span></span>

<span data-ttu-id="5fcf3-151">Wenn das Volume an einer Schatten Kopie teilnehmen kann (die mit [**IVssBackupComponents:: isvolumesupportiert**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-isvolumesupported)werden kann), kann der Anforderer dieses Volume mithilfe von [**IVssBackupComponents:: addtosnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addtosnapshotset)dem Schattenkopiesatz hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-151">If the volume can participate in a shadow copy (which can be checked with [**IVssBackupComponents::IsVolumeSupported**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-isvolumesupported)), the requester can add that volume to the shadow copy set using [**IVssBackupComponents::AddToSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addtosnapshotset).</span></span>

<span data-ttu-id="5fcf3-152">Obwohl es in der Regel nicht sinnvoll ist, kann ein Anforderer manchmal auch auswählen, welcher [*Anbieter*](vssgloss-p.md) die Schatten Kopie für ein bestimmtes Volume beibehält (Weitere Informationen finden Sie unter [Auswählen von Anbietern](selecting-providers.md) ).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-152">Although it is not generally useful, a requester can sometimes also choose which [*provider*](vssgloss-p.md) will maintain the shadow copy for a given volume (see [Selecting Providers](selecting-providers.md) for details).</span></span>

<span data-ttu-id="5fcf3-153">Der Umgang mit einem Volume, das eingebundene Ordner oder Analyse Punkte enthält, sollte Vorsicht geboten werden.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-153">Care should be given to the handling of a volume containing mounted folders or reparse points.</span></span> <span data-ttu-id="5fcf3-154">Ein bereitgestellter Ordner oder Analyse Punkt kann in einer Schatten Kopie angezeigt werden und kann gesichert werden.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-154">A mounted folder or reparse point can appear in a shadow copy and can be backed up.</span></span> <span data-ttu-id="5fcf3-155">Ein bereitgestellter Ordner oder Analyse Punkt kann jedoch nicht auf dem schattenkopierten Volume durchsucht werden (siehe [Arbeiten mit bereitgestellten Ordnern und Analyse Punkten](working-with-reparse-and-mount-points.md)).</span><span class="sxs-lookup"><span data-stu-id="5fcf3-155">However, a mounted folder or reparse point cannot be traversed on the shadow copied volume (see [Working with Mounted Folders and Reparse Points](working-with-reparse-and-mount-points.md)).</span></span>

<span data-ttu-id="5fcf3-156">An dieser Stelle der Sicherung wird das Dokument mit den Sicherungs Komponenten initialisiert und ausgefüllt.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-156">At this point in the backup, the Backup Components Document is initialized and filled.</span></span> <span data-ttu-id="5fcf3-157">In zukünftigen Vorgängen können Writer und Anforderer die [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle verwenden, um miteinander zu kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-157">In future operations, writers and requesters can use the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface to communicate with each other.</span></span>

<span data-ttu-id="5fcf3-158">Writer erhalten bei der Behandlung von [*PrepareForBackup*](vssgloss-p.md)-, [*PostSnapshot*](vssgloss-p.md)-und [*BackupComplete*](vssgloss-b.md) -Ereignissen Zugriff auf die [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="5fcf3-158">Writers are given access to the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface when handling the [*PrepareForBackup*](vssgloss-p.md), [*PostSnapshot*](vssgloss-p.md), and [*BackupComplete*](vssgloss-b.md) events.</span></span>

 

 
