---
description: Ein Anforderer muss möglicherweise Dateien an einem Speicherort wiederherstellen, der durch einen anderen als den Standardpfad eines Datei Satzes oder seine Alternative Speicherort Zuordnung angegeben wird.
ms.assetid: ce11485c-da0e-4c16-962e-eeedc2da3de4
title: Arbeiten mit neuen Zielen während der Wiederherstellung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31f20a6e8c27c186648d0f662921160ab5c76988
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106359838"
---
# <a name="working-with-new-targets-during-restore"></a><span data-ttu-id="d35c1-103">Arbeiten mit neuen Zielen während der Wiederherstellung</span><span class="sxs-lookup"><span data-stu-id="d35c1-103">Working with New Targets during Restore</span></span>

<span data-ttu-id="d35c1-104">Ein Anforderer muss möglicherweise Dateien an einem Speicherort wiederherstellen, der durch einen anderen als den Standardpfad eines Datei Satzes oder seine [*Alternative Speicherort Zuordnung*](vssgloss-a.md)angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d35c1-104">A requester may need to restore files to a location indicated by something other than a file set's default path or its [*alternate location mapping*](vssgloss-a.md).</span></span> <span data-ttu-id="d35c1-105">Es gibt viele Gründe, warum dies passieren kann – beispielsweise konnte nicht auf das Wiederherstellungs Ziel zugegriffen werden, oder ein Anforderer, der Benutzer absichtlich anfordert, dass Dateien an einem zuvor unbekannten Speicherort wieder hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="d35c1-105">There are many reasons why this might happen—for example, neither restore destination was accessible, or a requester user intentionally requests that files be restored to some previously unknown location.</span></span> <span data-ttu-id="d35c1-106">In diesem Fall verwendet der Anforderer den neuen Ziel Mechanismus, um Writer anzuzeigen, dass eine Datei in einem anderen Bereich auf dem Datenträger wieder hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="d35c1-106">In this case, the requester uses the new target mechanism to indicate to writers that it has restored a file to a different area on disk.</span></span>

<span data-ttu-id="d35c1-107">Nicht alle Writer unterstützen eine anfordernde Person, die das Wiederherstellungs Ziel einer Datei ändert.</span><span class="sxs-lookup"><span data-stu-id="d35c1-107">Not all writers support a requester changing the restore destination of a file.</span></span> <span data-ttu-id="d35c1-108">Ein Anforderer muss die Writer-Unterstützung überprüfen, indem er die Sicherungs Schema Maske des Writers prüft (von [**ivssexamineschreibmetadata:: getbackupschema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema)zurückgegeben) und sicherstellt, dass er den VSS- \_ \_ Writer-Writer \_ unterstützt das \_ neue \_ Zielflag enthält.</span><span class="sxs-lookup"><span data-stu-id="d35c1-108">A requester needs to verify writer support by checking the writer's backup schema mask (returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema)) and verifying that it contains the VSS\_BS\_WRITER\_SUPPORTS\_NEW\_TARGET flag.</span></span>

<span data-ttu-id="d35c1-109">Der Anforderer gibt eine solche Wiederherstellung über die [**IVssBackupComponents:: addnewtarget**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addnewtarget) -Methode an.</span><span class="sxs-lookup"><span data-stu-id="d35c1-109">The requester indicates such a restoration through the [**IVssBackupComponents::AddNewTarget**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-addnewtarget) method.</span></span> <span data-ttu-id="d35c1-110">Zusätzlich zur Angabe einer Datei Spezifikation und eines ursprünglichen und eines neuen Wiederherstellungs Ziels gibt der Anforderer die Komponenten Informationen an – einen logischen Pfad und einen Komponentennamen.</span><span class="sxs-lookup"><span data-stu-id="d35c1-110">In addition to specifying a file specification and an original and a new restore destination, the requester specifies component information—a logical path and component name.</span></span>

<span data-ttu-id="d35c1-111">Welche Komponenten Informationen verwendet werden, hängt davon ab, ob die Komponente, die die Datei mit einem neuen Ziel verwaltet, [*explizit eingeschlossen*](vssgloss-e.md) oder implizit in die Sicherung [*eingeschlossen*](vssgloss-i.md) wurde.</span><span class="sxs-lookup"><span data-stu-id="d35c1-111">Which component's information is used depends on whether or not the component managing the file having a new target added was [*explicitly included*](vssgloss-e.md) or [*implicitly included*](vssgloss-i.md) in the backup.</span></span>

<span data-ttu-id="d35c1-112">Wenn die Verwaltungs Komponente explizit eingeschlossen wurde, werden die zugehörigen Informationen verwendet.</span><span class="sxs-lookup"><span data-stu-id="d35c1-112">If the managing component was explicitly included, then its information is used.</span></span> <span data-ttu-id="d35c1-113">Wenn die Verwaltungs Komponente implizit eingeschlossen wurde, handelt es sich um eine Unterkomponente in einem Komponenten Satz.</span><span class="sxs-lookup"><span data-stu-id="d35c1-113">If the managing component was implicitly included, it is a subcomponent in a component set.</span></span> <span data-ttu-id="d35c1-114">In diesem Fall werden die Informationen des Komponenten Satzes der definierenden Komponente verwendet.</span><span class="sxs-lookup"><span data-stu-id="d35c1-114">In this case, the component set's defining component's information is used.</span></span>

<span data-ttu-id="d35c1-115">Während der Behandlung des [**postrestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-postrestore) -Ereignisses sollten die Writer überprüfen, ob eine Ihrer Dateien an einem neuen Speicherort wieder hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="d35c1-115">While handling the [**PostRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-postrestore) event, writers should check to see if any of its files were restored to a new location.</span></span> <span data-ttu-id="d35c1-116">Dies kann mithilfe der [**IVssComponent:: getnewtargetcount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtargetcount) -Methode und der [**IVssComponent:: getnewtarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtarget) -Methode erfolgen.</span><span class="sxs-lookup"><span data-stu-id="d35c1-116">This can be done by using the [**IVssComponent::GetNewTargetCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtargetcount) and [**IVssComponent::GetNewTarget**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getnewtarget) methods.</span></span>

<span data-ttu-id="d35c1-117">Welche Instanz der [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) -Schnittstelle verwendet wird, hängt davon ab, ob die Verwaltungs Komponente der Datei der Sicherung explizit oder implizit hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="d35c1-117">The instance of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface that is used depends on whether the file's managing component was explicitly or implicitly added to the backup.</span></span>

 

 



