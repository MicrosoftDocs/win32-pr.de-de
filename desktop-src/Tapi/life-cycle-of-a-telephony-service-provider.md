---
description: Dieses Thema bietet eine allgemeine Überprüfung von TSP-Vorgängen.
ms.assetid: 8ee592ff-387e-449e-8e3f-4f6407166fe5
title: Lebenszyklus eines Telefoniedienstanbieters
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 830bc16ca606bb5bd38c4bce7c1e6e39dadb65a6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104568126"
---
# <a name="life-cycle-of-a-telephony-service-provider"></a><span data-ttu-id="21a2f-103">Lebenszyklus eines Telefoniedienstanbieters</span><span class="sxs-lookup"><span data-stu-id="21a2f-103">Life Cycle of a Telephony Service Provider</span></span>

<span data-ttu-id="21a2f-104">Dieses Thema bietet eine allgemeine Überprüfung von TSP-Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-104">This topic provides a high-level review of TSP operations.</span></span>

<span data-ttu-id="21a2f-105">Eine Sitzung ist die Zeit, während der eine bestimmte Konfiguration gültig bleibt und telefonienvorgänge durchgeführt werden. Ein Dienstanbieter kann viele Sitzungen zwischen dem Zeitpunkt, zu dem er zum ersten Mal geladen wird, und dem Zeitpunkt, zu dem er freigegeben wird</span><span class="sxs-lookup"><span data-stu-id="21a2f-105">A session is the time during which a particular configuration remains valid and telephony operations are carried out. A service provider can support many sessions between the time it is first loaded and when it is finally freed.</span></span> <span data-ttu-id="21a2f-106">Für jede Sitzung aushandiert TAPI die Version der Schnittstelle, startet die Sitzung, führt Vorgänge aus und fährt schließlich die Sitzung herunter.</span><span class="sxs-lookup"><span data-stu-id="21a2f-106">For each session, TAPI negotiates the version of the interface, starts the session, carries out operations, and eventually shuts down the session.</span></span> <span data-ttu-id="21a2f-107">Der Dienstanbieter darf keine Informationen von einer Sitzung zur nächsten beibehalten.</span><span class="sxs-lookup"><span data-stu-id="21a2f-107">The service provider must not retain information from one session to the next.</span></span>

<span data-ttu-id="21a2f-108">Nachdem die Schnittstellen Version bekannt ist, ruft TAPI die [**TSPI \_ providerinit**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit) -Funktion auf, um alle operativen Parameter festzulegen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-108">After the interface version is known, TAPI calls the [**TSPI\_providerInit**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit) function to set all operational parameters.</span></span> <span data-ttu-id="21a2f-109">Der Dienstanbieter stellt sicher, dass alle Konfigurationsinformationen in der Registrierung stabil sind, wenn die **TSPI \_ providerinit** -Funktion aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="21a2f-109">The service provider is ensured that all of the configuration information in the registry is stable when the **TSPI\_providerInit** function is called.</span></span> <span data-ttu-id="21a2f-110">Die meisten Dienstanbieter lesen alle Konfigurationsinformationen zu diesem Zeitpunkt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-110">Most service providers read all configuration information at that time.</span></span>

<span data-ttu-id="21a2f-111">Normaler Betrieb kann in beliebiger Reihenfolge fortgesetzt werden, nachdem der Dienstanbieter initialisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="21a2f-111">Normal operations can proceed in any order, after the service provider is initialized.</span></span>

<span data-ttu-id="21a2f-112">TAPI verhandelt gerätespezifische Informationen auf Gerätebasis.</span><span class="sxs-lookup"><span data-stu-id="21a2f-112">TAPI negotiates device-specific information on a per-device basis.</span></span> <span data-ttu-id="21a2f-113">TAPI und der Dienstanbieter Commit für eine Version durch, wenn ein Gerät geöffnet wird.</span><span class="sxs-lookup"><span data-stu-id="21a2f-113">TAPI and the service provider commit to a version when a device is opened.</span></span>

<span data-ttu-id="21a2f-114">Der Dienstanbieter kann Anforderungen zum auswählen und Abbrechen von Erweiterungs Versionen empfangen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-114">The service provider can receive requests to select and cancel extension versions.</span></span> <span data-ttu-id="21a2f-115">Wenn eine Erweiterungs Version ausgewählt ist, funktioniert das Gerät strikt entsprechend der gerätespezifischen Erweiterungs Version.</span><span class="sxs-lookup"><span data-stu-id="21a2f-115">While an extension version is selected, the device operates strictly according to that device-specific extension version.</span></span>

<span data-ttu-id="21a2f-116">Die Aushandlung einer gerätespezifischen Erweiterungs Version kann mehrmals erfolgen, und zwar sowohl vor als auch nach dem Öffnen des Geräts.</span><span class="sxs-lookup"><span data-stu-id="21a2f-116">Negotiation of a device-specific extension version can happen multiple times, both before and after the device is opened.</span></span> <span data-ttu-id="21a2f-117">TAPI übergibt einen Versions Bereich, und der Dienstanbieter wählt einen Wert aus diesem Bereich aus und gibt ihn zurück.</span><span class="sxs-lookup"><span data-stu-id="21a2f-117">TAPI passes a version range, and the service provider chooses and returns a value from this range.</span></span> <span data-ttu-id="21a2f-118">Normalerweise sind gerätespezifische Erweiterungen für den Dienstanbieter deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="21a2f-118">Normally, the service provider has device-specific extensions disabled.</span></span>

<span data-ttu-id="21a2f-119">Dies führt dazu, dass TAPI und der Dienstanbieter auf dieser Erweiterungs Versions Ebene betrieben werden, bis die Auswahl abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="21a2f-119">This commits both TAPI and the service provider to operating at that extension version level until the selection is canceled.</span></span> <span data-ttu-id="21a2f-120">Während der Zeit, in der eine gerätespezifische Erweiterung wirksam ist, sollte der Versuch, eine Erweiterungs Versions Ebene auszuhandeln, nur die Versions Ebene zulassen, die zurzeit wirksam ist.</span><span class="sxs-lookup"><span data-stu-id="21a2f-120">During the time that a device-specific extension is in effect, an attempt to negotiate an extension version level should allow only the version level that is currently in effect.</span></span> <span data-ttu-id="21a2f-121">Nachdem die gerätespezifische Erweiterung abgebrochen wurde, kann eine andere Version ausgehandelt und ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-121">After the device-specific extension is canceled, a different version can be negotiated and selected.</span></span>

<span data-ttu-id="21a2f-122">Telefon Vorgänge innerhalb des Paars " **Öffnen/Schließen** " sind in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-122">Phone operations within the **Open/Close** pair are shown in the following illustration.</span></span> <span data-ttu-id="21a2f-123">Einige dieser Vorgänge sind synchron, andere sind asynchron.</span><span class="sxs-lookup"><span data-stu-id="21a2f-123">Some of these operations are synchronous, others are asynchronous.</span></span> <span data-ttu-id="21a2f-124">Wenn ein Vorgang asynchron abgeschlossen wird, kann ein anderer Vorgang vor dem Abschluss des ersten Berichts angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-124">If an operation completes asynchronously, another operation can be requested before the first reports completion.</span></span> <span data-ttu-id="21a2f-125">Folglich können sich Vorgänge in beliebiger Weise überlappen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-125">Thus, operations can overlap in any way.</span></span> <span data-ttu-id="21a2f-126">Der Dienstanbieter muss letztendlich den Abschluss eines asynchronen Vorgangs, der angefordert wird, melden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-126">The service provider must eventually report completion for any asynchronous operation requested.</span></span> <span data-ttu-id="21a2f-127">Durch das Schließen eines Telefons erzwingen Sie, dass ausstehende asynchrone Vorgänge abgeschlossen werden (möglicherweise mit dem Hinweis "Fehler").</span><span class="sxs-lookup"><span data-stu-id="21a2f-127">Closing a phone forces outstanding asynchronous operations to complete (possibly with a "failure" indication).</span></span>

<span data-ttu-id="21a2f-128">Der Lebenszyklus für Linien Geräte ähnelt dem Lebenszyklus für Smartphones, außer dass die Zeilen über eigene Aushandlungs-, Initialisierungs-, Öffnungs-und Schluss Prozeduren verfügen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-128">The life cycle for line devices is similar to the life cycle for phones, except that lines have their own negotiation, initialization, open, and close procedures.</span></span> <span data-ttu-id="21a2f-129">Vorgänge für geöffnete Zeilen werden durch ein eigenes **Open/Close-** Paar in Klammern gesetzt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-129">Operations on open lines are bracketed by their own **Open/Close** pair.</span></span> <span data-ttu-id="21a2f-130">Dieses Paar wird zwischen dem gleichen **Initialisierungs-** /Beendigungs-Paar in Klammern gesetzt, das beim **Öffnen/Schließen** des Telefons geöffnet ist.</span><span class="sxs-lookup"><span data-stu-id="21a2f-130">This pair is in turn bracketed between the same **Initialization/Shutdown** pair as the phone **Open/Close**.</span></span>

<span data-ttu-id="21a2f-131">Die Lebenszyklen von Aufrufen werden genau zwischen dem **Öffnen/Schließen** der Zeile, in der Sie enthalten sind, in Klammern gesetzt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-131">The life cycles of calls are bracketed strictly between the **Open/Close** of the line that contains them.</span></span> <span data-ttu-id="21a2f-132">Die Lebensdauer von aufrufen kann auf verschiedene Weise beginnen:</span><span class="sxs-lookup"><span data-stu-id="21a2f-132">Lifetimes of calls can begin in several ways:</span></span>

-   <span data-ttu-id="21a2f-133">Von TAPI durch Funktionen wie [**linemakecall**](/windows/win32/api/tapi/nf-tapi-linemakecall), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer)oder [**linesetupconference**](/windows/win32/api/tapi/nf-tapi-linesetupconference)angefordert.</span><span class="sxs-lookup"><span data-stu-id="21a2f-133">Requested from TAPI through functions such as [**lineMakeCall**](/windows/win32/api/tapi/nf-tapi-linemakecall), [**lineSetupTransfer**](/windows/win32/api/tapi/nf-tapi-linesetuptransfer), or [**lineSetupConference**](/windows/win32/api/tapi/nf-tapi-linesetupconference).</span></span>
-   <span data-ttu-id="21a2f-134">Wird von dem Dienstanbieter als neue eingehende Anrufe, von Benutzern initiierte Aufrufe an einem angehängten Telefongerät oder als Nebeneffekt von anderen Vorgängen, wie z. b. dem Platzieren eines vorhandenen Aufrufs, generiert.</span><span class="sxs-lookup"><span data-stu-id="21a2f-134">Spontaneously originated in the service provider as new incoming calls, user-initiated calls on an attached telephone handset, or calls generated as a side effect of other operations such as putting an existing call on hold.</span></span>

<span data-ttu-id="21a2f-135">Die Lebensdauer von eindeutigen aufrufen in derselben Zeile kann einander in beliebiger Weise überlappen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-135">The lifetimes of distinct calls within the same line can overlap each other in any way.</span></span> <span data-ttu-id="21a2f-136">Alle Aufrufe beenden ihre Lebensdauer zu dem Zeitpunkt, zu dem die TSPI-Funktion " [**TSPI \_ lineclosecall**](/windows/win32/api/tspi/nf-tspi-tspi_lineclosecall) " aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="21a2f-136">All calls end their lifetime at the time the TSPI function [**TSPI\_lineCloseCall**](/windows/win32/api/tspi/nf-tspi-tspi_lineclosecall) is invoked.</span></span> <span data-ttu-id="21a2f-137">Der Lebenszyklus mehrerer Aufrufe ist in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-137">The life cycle of several calls is shown in the following illustration.</span></span>

![Lebenszyklen von überlappenden aufrufen](images/modell.png)

<span data-ttu-id="21a2f-139">Ein-Anruf kann aus TAPI stammen, wie im **MakeCall/closecall-** paar gezeigt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-139">A call can originate in TAPI as shown with the **MakeCall/CloseCall** pair.</span></span> <span data-ttu-id="21a2f-140">Ein-Rückruf kann auch aus dem Dienstanbieter stammen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-140">A call can also originate in the service provider.</span></span> <span data-ttu-id="21a2f-141">Der Dienstanbieter kündigt dies mit einer [**Zeile \_ newcallenmeldung**](line-newcall.md) an eine von TAPI bereitgestellte Rückruf Prozedur an.</span><span class="sxs-lookup"><span data-stu-id="21a2f-141">The service provider announces this with a [**LINE\_NEWCALL**](line-newcall.md) message to a TAPI-supplied callback procedure.</span></span> <span data-ttu-id="21a2f-142">In einem solchen Fall gibt TAPI seinen Bezeichner für den Aufruf zurück, der in nachfolgenden Rückrufen enthalten ist, die Ereignisse für den Aufruf melden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-142">In such a case, TAPI returns its identifier for the call, which is included in subsequent callbacks reporting events occurring on the call.</span></span> <span data-ttu-id="21a2f-143">Bei aufrufen, deren Lebensdauer aus TAPI stammt, ist dieser Bezeichner in den TSPI-Vorgang eingeschlossen, der den Aufruf erstellt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-143">In the case of calls whose lifetime originates in TAPI, this identifier is included in the TSPI operation that creates the call.</span></span>

<span data-ttu-id="21a2f-144">Alle Vorgänge, die die Lebensdauer eines Aufrufes starten, führen dazu, dass TAPI und der Dienstanbieter Bezeichner für den neuen-Befehl austauscht.</span><span class="sxs-lookup"><span data-stu-id="21a2f-144">All of the operations that start the lifetime of a call result in TAPI and service provider exchanging identifiers for the new call.</span></span> <span data-ttu-id="21a2f-145">Im Fall von TAPI-Aufrufen übergibt TAPI seinen Bezeichner und empfängt den Bezeichner des Dienstanbieters als Rückgabe Parameter.</span><span class="sxs-lookup"><span data-stu-id="21a2f-145">In the case of TAPI originated calls, TAPI passes its identifier and receives the service provider's identifier as a return parameter.</span></span> <span data-ttu-id="21a2f-146">Wenn der-Befehl aus dem Dienstanbieter stammt, übergibt der Dienstanbieter seinen Bezeichner an TAPI und empfängt den TAPI-Bezeichner als Rückgabe Parameter.</span><span class="sxs-lookup"><span data-stu-id="21a2f-146">In the case where the call originates in the service provider, the service provider passes its identifier to TAPI and receives the TAPI identifier as a return parameter.</span></span>

<span data-ttu-id="21a2f-147">Die folgende Abbildung bietet eine allgemeine Übersicht über die Installation, Konfiguration und Entfernung von Dienstanbietern. Lebenszyklus Sequenzen, die viele Sitzungen umfassen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-147">The following illustration offers a very high-level view of service provider installation, configuration, and removal; life-cycle sequences that span many sessions.</span></span> <span data-ttu-id="21a2f-148">Der typische Lebenszyklus für diese Vorgänge kann mit der folgenden zeitzeile angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-148">The typical life-cycle for these operations can be shown with the following time line.</span></span>

![Installation, Konfiguration und Entfernung von Dienstanbietern](images/model2.png)

<span data-ttu-id="21a2f-150">Der typische Installations-und Entfernungs Lebenszyklus wird in mehreren Sitzungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-150">The typical installation and removal life cycle is shown, spanning multiple sessions.</span></span> <span data-ttu-id="21a2f-151">Aufrufe der **Installations** -und [**Entfernungs**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) Prozeduren werden strikt gekoppelt und überlappen sich nicht.</span><span class="sxs-lookup"><span data-stu-id="21a2f-151">Calls to the **Install** and [**Remove**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) procedures are strictly paired and do not overlap.</span></span> <span data-ttu-id="21a2f-152">Aufrufe der **Konfigurations** Prozedur können innerhalb dieses Paars mehrmals erfolgen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-152">Calls to the **Config** procedure can happen multiple times within this pair.</span></span> <span data-ttu-id="21a2f-153">Eine solche Vorgehensweise erfolgt in der Regel vom Dienstanbieter als interner Nebeneffekt des **Installations** Verfahrens zum Erstellen von Zeilen-und Telefon Einträgen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-153">One is typically done by the service provider as an internal side effect of the **Install** procedure to create line and phone entries.</span></span> <span data-ttu-id="21a2f-154">Die **Konfigurations** Prozedur kann zu anderen Zeitpunkten aufgerufen werden, um ein vorhandenes Setup zu ändern.</span><span class="sxs-lookup"><span data-stu-id="21a2f-154">The **Config** procedure may be called at other times to alter an existing setup.</span></span> <span data-ttu-id="21a2f-155">Die **Installations** Prozedur muss durchgeführt werden, bevor eine andere TSPI-Funktion zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="21a2f-155">The **Install** procedure must be done before any other TSPI function is permitted.</span></span> <span data-ttu-id="21a2f-156">Im idealen Szenario sind alle Sitzungen innerhalb des **Installations-/Entfernungs-** Prozedur Paars streng geschachtelt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-156">In the ideal scenario, all sessions are strictly nested within the **Install/Remove** procedure pair.</span></span>

<span data-ttu-id="21a2f-157">Die Funktionen [**TSPI \_ providerinstall**](/windows/win32/api/tspi/nf-tspi-tspi_providerinstall), [**TSPI \_ providerconfig**](/windows/win32/api/tspi/nf-tspi-tspi_providerconfig)und [**TSPI \_ providerremove**](/windows/win32/api/tspi/nf-tspi-tspi_providerremove) interagieren mit dem Dienstanbieter selbst und nicht mit einem bestimmten Gerät.</span><span class="sxs-lookup"><span data-stu-id="21a2f-157">The functions [**TSPI\_providerInstall**](/windows/win32/api/tspi/nf-tspi-tspi_providerinstall), [**TSPI\_providerConfig**](/windows/win32/api/tspi/nf-tspi-tspi_providerconfig), and [**TSPI\_providerRemove**](/windows/win32/api/tspi/nf-tspi-tspi_providerremove) interact with the service provider itself rather than with any specific device.</span></span> <span data-ttu-id="21a2f-158">Sie wirken sich auf statische Konfigurationsinformationen aus, die über mehrere Sitzungen hinweg bestehen und vorhanden sein müssen, damit jeder andere Vorgang fortgesetzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="21a2f-158">They affect static configuration information that survives across multiple sessions and must be present for any other operation to proceed.</span></span> <span data-ttu-id="21a2f-159">Folglich werden alle anderen Vorgänge zwischen dem Aufruf von **TSPI \_ providerinstall** und dem Abschluss des entsprechenden **TSPI \_ providerremove**-Vorgangs zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="21a2f-159">Thus, all other operations are nested between the invocation of **TSPI\_providerInstall** and the completion of its matching **TSPI\_providerRemove**.</span></span> <span data-ttu-id="21a2f-160">Diese beiden Vorgänge treten in der Regel sehr weit auseinander, wahrscheinlich in einer anderen Last des Dienstanbieters oder eines anderen Starts des Computers.</span><span class="sxs-lookup"><span data-stu-id="21a2f-160">These two operations typically happen very far apart, most likely in a different load of the service provider or a different boot of the machine.</span></span> <span data-ttu-id="21a2f-161">Das externe Aufrufen der **config** -Funktion ist optional, da die **Installations** Prozedur zusätzlich zu ihrer eigenen das **Konfigurations** Verhalten einschließen muss.</span><span class="sxs-lookup"><span data-stu-id="21a2f-161">Calling the **Config** function externally is optional, because the **Install** procedure is required to include the **Config** behavior in addition to its own.</span></span> <span data-ttu-id="21a2f-162">Der übliche Grund für einen externen Aufruf besteht darin, eine vorhandene Konfiguration zu ändern.</span><span class="sxs-lookup"><span data-stu-id="21a2f-162">The usual reason for calling it externally is to modify an existing configuration.</span></span>

<span data-ttu-id="21a2f-163">In das Konzept des Abschlusses eines [**TSPI \_ providerremove**](/windows/win32/api/tspi/nf-tspi-tspi_providerremove) -Vorgangs ist eine Feinheit eingebettet.</span><span class="sxs-lookup"><span data-stu-id="21a2f-163">There is a subtlety embedded in the concept of the completion of a [**TSPI\_providerRemove**](/windows/win32/api/tspi/nf-tspi-tspi_providerremove) operation.</span></span> <span data-ttu-id="21a2f-164">Es ist wünschenswert, dass der Benutzer das mit dem Telefoniedienst bereitgestellte Dienstprogramm für die Telefonie-Systemsteuerung ausführen kann, um Dienstanbieter Konfigurationen zu ändern, auch wenn bereits telefonienvorgänge (Sitzungen) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-164">It is desirable to allow the user to run the Telephony Control Panel utility supplied with the telephony service to alter service provider configurations, even when telephony operations (sessions) are in progress.</span></span> <span data-ttu-id="21a2f-165">Folglich ermöglichen sowohl die [**TSPI \_ providerconfig**](/windows/win32/api/tspi/nf-tspi-tspi_providerconfig) -als auch die **TSPI \_ providerremove** -Spezifikationen den Aufruf, während eine ausstehende Sitzung vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="21a2f-165">Consequently, both the [**TSPI\_providerConfig**](/windows/win32/api/tspi/nf-tspi-tspi_providerconfig) and **TSPI\_providerRemove** specifications allow for invocation while there is an outstanding session.</span></span> <span data-ttu-id="21a2f-166">Allerdings müssen Änderungen an der Konfiguration verzögert werden, bis die telefonievorgänge heruntergefahren und neu gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-166">However, any changes to the configuration are required to be delayed until telephony operations are shut down and restarted.</span></span> <span data-ttu-id="21a2f-167">Folglich findet der Abschluss eines **TSPI \_ providerconfig** -oder **TSPI \_ providerremove** -Vorgangs außerhalb einer Sitzung statt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-167">Thus, strictly speaking, the completion of any **TSPI\_providerConfig** or **TSPI\_providerRemove** operation happens outside any session.</span></span> <span data-ttu-id="21a2f-168">Die Schachtelung von Aktionen ist wie in der Abbildung dargestellt, auch wenn die Prozeduren Aufrufe in einer etwas anderen Reihenfolge auftreten können.</span><span class="sxs-lookup"><span data-stu-id="21a2f-168">The nesting of actions is as shown in the figure, even though the procedures calls may appear in a slightly different order.</span></span> <span data-ttu-id="21a2f-169">Es ist zulässig, dass ein Dienstanbieter während der Ausführung von Vorgängen einfach **config** oder [**Remove**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) nicht zulässt, obwohl der Benutzer über ein Dialogfeld benachrichtigt werden muss.</span><span class="sxs-lookup"><span data-stu-id="21a2f-169">It is permitted for a service provider to simply disallow **Config** or [**Remove**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) while operations are in progress, although the user should be notified with a dialog box.</span></span> <span data-ttu-id="21a2f-170">Eine benutzerfreundliche Implementierung, die mindestens eine Teilmenge von Vorgängen zulässt, wird bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="21a2f-170">A more user-friendly implementation that allows at least a subset of operations is preferred.</span></span>

<span data-ttu-id="21a2f-171">Diese **Installations**-, **Konfigurations**-und [**Entfernungs**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) Vorgänge haben alle den Nebeneffekt, dass alle laufenden Telefonieanwendungen signalisiert werden, was letztendlich dazu führt, dass Sie die Verwendung des Telefoniedienstanbietern beenden.</span><span class="sxs-lookup"><span data-stu-id="21a2f-171">These **Install**, **Config**, and [**Remove**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) operations all have the side effect of signaling any running telephony applications, which eventually results in them shutting down their use of the telephony service.</span></span> <span data-ttu-id="21a2f-172">Dadurch werden alle ausstehenden Sitzungen für Dienstanbieter beendet.</span><span class="sxs-lookup"><span data-stu-id="21a2f-172">Together, this ends all outstanding sessions for service providers.</span></span> <span data-ttu-id="21a2f-173">Dies deutet darauf hin, dass Dienstanbieter die neue Registrierungs Konfiguration lesen müssen, wenn neue Sitzungen beginnen.</span><span class="sxs-lookup"><span data-stu-id="21a2f-173">This signifies to service providers that they must read the new registry configuration when new sessions begin.</span></span> <span data-ttu-id="21a2f-174">Alle Änderungen, die aufgrund einer **Konfiguration** oder eines [**Entfernens**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) während der Ausführung von Vorgängen ausstehend waren, treten in Kraft.</span><span class="sxs-lookup"><span data-stu-id="21a2f-174">Any changes that were pending due to a **Config** or [**Remove**](/windows/win32/api/tapi3if/nf-tapi3if-itcollection2-remove) while operations were in progress then take effect.</span></span>

 

 
