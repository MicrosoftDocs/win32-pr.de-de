---
description: Als Teil der durch TSPI definierten Telefongeräte Abstraktion muss TAPI und der Dienstanbieter zunächst die grundlegende Initialisierung durchlaufen.
ms.assetid: cd8bb328-fbd0-409c-8471-34ad4c2c8d93
title: Telefon-SPI-Initialisierung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1d0c54e313c2be3846aeb604217f5324ec0d8a8d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106373187"
---
# <a name="phone-spi-initialization"></a><span data-ttu-id="0804e-103">Telefon-SPI-Initialisierung</span><span class="sxs-lookup"><span data-stu-id="0804e-103">Phone SPI Initialization</span></span>

<span data-ttu-id="0804e-104">Als Teil der durch TSPI definierten Telefongeräte Abstraktion muss TAPI und der Dienstanbieter zunächst die grundlegende Initialisierung durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="0804e-104">As part of the phone device abstraction defined by TSPI, TAPI and the service provider must first undergo basic initialization.</span></span> <span data-ttu-id="0804e-105">Diese grundlegende Initialisierung wird sowohl für die Linie als auch die Telefon Hälfte der Schnittstelle durch denselben Satz von Schritten erreicht.</span><span class="sxs-lookup"><span data-stu-id="0804e-105">This basic initialization is accomplished both for the line and phone halves of the interface by the same set of steps.</span></span> <span data-ttu-id="0804e-106">Der erste Schritt ist die Aushandlung der Schnittstellen Version.</span><span class="sxs-lookup"><span data-stu-id="0804e-106">The first of these steps is interface version negotiation.</span></span> <span data-ttu-id="0804e-107">TAPI führt dies durch Aufrufen der [**TSPI \_ linenegotiatetspiversion**](/windows/win32/api/tspi/nf-tspi-tspi_linenegotiatetspiversion) -Funktion durch.</span><span class="sxs-lookup"><span data-stu-id="0804e-107">TAPI performs this by calling the [**TSPI\_lineNegotiateTSPIVersion**](/windows/win32/api/tspi/nf-tspi-tspi_linenegotiatetspiversion) function.</span></span> <span data-ttu-id="0804e-108">Diese Funktion wird normalerweise verwendet, um im Auftrag eines einzelnen Zeilen Geräts zu verhandeln. verschiedene Linien Geräte innerhalb desselben Dienstanbieters funktionieren möglicherweise entsprechend den verschiedenen Schnittstellen Versionen.</span><span class="sxs-lookup"><span data-stu-id="0804e-108">This function is usually used to negotiate on behalf of an individual line device; different line devices within the same service provider may operate according to different interface versions.</span></span> <span data-ttu-id="0804e-109">TAPI übergibt einen speziellen Wert für den reservierten Geräte Bezeichner, [**initialisieren Sie die \_ Aushandlung**](initialize-negotiation.md), um anzugeben, dass er eine allgemeine Schnittstellen Version für Initialisierungs Funktionen aushandelt, die den gesamten Dienstanbieter betreffen, sowohl für Zeilen als auch für Telefone.</span><span class="sxs-lookup"><span data-stu-id="0804e-109">TAPI passes a special reserved device identifier value, [**INITIALIZE\_NEGOTIATION**](initialize-negotiation.md), to indicate that it is negotiating an overall interface version for initialization functions that affect the entire service provider, both for lines and phones.</span></span>

<span data-ttu-id="0804e-110">Das Ergebnis dieser Aushandlung wird an nachfolgende Prozeduren zurückgegeben, bis ein Telefongerät geöffnet wird.</span><span class="sxs-lookup"><span data-stu-id="0804e-110">The result of this negotiation is passed to subsequent procedures until a phone device is opened.</span></span> <span data-ttu-id="0804e-111">Zu diesem Zeitpunkt wird das Telefongerät an eine bestimmte Schnittstellen Version übertragen.</span><span class="sxs-lookup"><span data-stu-id="0804e-111">At that time, the phone device becomes committed to a particular interface version.</span></span> <span data-ttu-id="0804e-112">Diese Schnittstellen Version ist implizit, bis das Telefon geschlossen wird. Sie muss nicht an nachfolgende Funktionen weitergeleitet werden, die auf einem geöffneten Telefon ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="0804e-112">This interface version is implicit until the phone is closed, and does not need to be passed to subsequent functions that operate on an opened phone.</span></span>

<span data-ttu-id="0804e-113">Nach der allgemeinen Aushandlung der Schnittstellen Version ruft TAPI die [**TSPI \_ providerinit**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit) -Funktion auf.</span><span class="sxs-lookup"><span data-stu-id="0804e-113">Following overall interface version negotiation, TAPI calls the [**TSPI\_providerInit**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit) function.</span></span> <span data-ttu-id="0804e-114">Diese Funktion initialisiert den Dienstanbieter und gibt ihm außerdem Parameter, die für den nachfolgenden Vorgang erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="0804e-114">This function initializes the service provider, also giving it parameters required for subsequent operation.</span></span> <span data-ttu-id="0804e-115">Diese Parameter umfassen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="0804e-115">These parameters include the following:</span></span>

-   <span data-ttu-id="0804e-116">*dwpermanentproviderid*: gibt den permanenten Bezeichner des zu initialisierenden Dienstanbieters an, der innerhalb der Dienstanbieter auf diesem System eindeutig ist.</span><span class="sxs-lookup"><span data-stu-id="0804e-116">*dwPermanentProviderID*: Specifies the permanent identifier of the service provider being initialized, unique within the service providers on this system.</span></span>
-   <span data-ttu-id="0804e-117">*dwlinedeviceidbase*: gibt den niedrigsten Geräte Bezeichner für die Linien Geräte an, die von diesem Dienstanbieter unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="0804e-117">*dwLineDeviceIDBase*: Specifies the lowest device identifier for the line devices supported by this service provider.</span></span>
-   <span data-ttu-id="0804e-118">*dwphonedeviceidbase*: gibt den niedrigsten Geräte Bezeichner für die von diesem Dienstanbieter unterstützten Telefongeräte an.</span><span class="sxs-lookup"><span data-stu-id="0804e-118">*dwPhoneDeviceIDBase*: Specifies the lowest device identifier for the phone devices supported by this service provider.</span></span> <span data-ttu-id="0804e-119">Geräte der telefoniegeräterklasse werden durch ganze Zahlen identifiziert, beginnend bei Null.</span><span class="sxs-lookup"><span data-stu-id="0804e-119">Devices of the telephony phone device class are identified by integers starting from zero.</span></span> <span data-ttu-id="0804e-120">Dieser Bereich von bezeichaten ist in allen Telefongeräten zusammenhängend.</span><span class="sxs-lookup"><span data-stu-id="0804e-120">This range of identifiers is contiguous across the full range of phone devices.</span></span> <span data-ttu-id="0804e-121">Da es möglicherweise mehrere Dienstanbieter gibt, die Telefongeräte in einem einzelnen System verwalten, erhält jeder Dienstanbieter einen zusammenhängenden Teil des Gesamtbereichs.</span><span class="sxs-lookup"><span data-stu-id="0804e-121">Because there may be multiple service providers managing phone devices in a single system, each service provider gets a contiguous portion of the total range.</span></span> <span data-ttu-id="0804e-122">Dieser Parameter weist den Dienstanbieter an, den niedrigsten Wert im Bereich des Bereichs zu haben.</span><span class="sxs-lookup"><span data-stu-id="0804e-122">This parameter tells the service provider the lowest value in its portion of the range.</span></span> <span data-ttu-id="0804e-123">Der Dienstanbieter ist für die Zuordnung dieses Variablen Bereichs zu seinen eigenen internen Geräte bezeichlern verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="0804e-123">The service provider, rather than TAPI, is responsible for mapping this variable range to its own internal device identifiers.</span></span> <span data-ttu-id="0804e-124">Dadurch erhält der Anbieter des Dienstanbieters ausreichend Flexibilität, Geräte Bezeichner in gerätespezifischen Erweiterungen zu verwenden, wenn er dies möchte.</span><span class="sxs-lookup"><span data-stu-id="0804e-124">This gives the service-provider vendor sufficient flexibility to use device identifiers in device-specific extensions if it wants.</span></span> <span data-ttu-id="0804e-125">Da der Dienstanbieter weiß, welche Geräte Bezeichner in TAPI-definierten Parametern und Datenstrukturen angezeigt werden, kann er konsistente Geräte Bezeichner in gerätespezifischen Erweiterungs Parametern und Datenstrukturen verwenden.</span><span class="sxs-lookup"><span data-stu-id="0804e-125">Because the service provider knows what device identifiers appear in TAPI-defined parameters and data structures, it can use consistent device identifiers in device-specific extension parameters and data structures.</span></span>
-   <span data-ttu-id="0804e-126">*dwnumlines*: gibt die Anzahl von Zeilen Geräten an, die dieser Dienstanbieter unterstützt.</span><span class="sxs-lookup"><span data-stu-id="0804e-126">*dwNumLines*: Specifies how many line devices this service provider supports.</span></span>
-   <span data-ttu-id="0804e-127">*dwnumphones*: gibt an, wie viele Telefongeräte dieser Dienstanbieter unterstützt.</span><span class="sxs-lookup"><span data-stu-id="0804e-127">*dwNumPhones*: Specifies how many phone devices this service provider supports.</span></span>
-   <span data-ttu-id="0804e-128">*lpfncompletionproc*: gibt die Prozedur an, die der Dienstanbieter aufruft, um den Abschluss aller asynchronen Betriebs Prozeduren auf Zeilen-und Telefongeräten zu melden.</span><span class="sxs-lookup"><span data-stu-id="0804e-128">*lpfnCompletionProc*: Specifies the procedure the service provider calls to report completion of all asynchronously operating procedures on line and phone devices.</span></span>

<span data-ttu-id="0804e-129">Nach [**TSPI \_ providerinit**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit)können normale Vorgänge (z. b. das Öffnen von Telefonen) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="0804e-129">Following [**TSPI\_providerInit**](/windows/win32/api/tspi/nf-tspi-tspi_providerinit), normal operations such as opening phones can be carried out.</span></span>

 

 
