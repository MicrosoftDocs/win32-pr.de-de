---
description: Damit eine Anwendung eine der zusätzlichen Telefonfunktionen von Tapis 30 verwendet, benötigt Sie eine Verbindung mit TAPI, über die Sie Nachrichten empfangen kann.
ms.assetid: c0211f64-4f73-4348-ae49-9a898d3aa093
title: Initialisierung und Herunterfahren
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6831b8cfda84ac564450caec554191198fd4c21f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106356555"
---
# <a name="initialization-and-shutdown"></a><span data-ttu-id="e1adc-103">Initialisierung und Herunterfahren</span><span class="sxs-lookup"><span data-stu-id="e1adc-103">Initialization and Shutdown</span></span>

<span data-ttu-id="e1adc-104">Damit eine Anwendung eine der 30 ergänzenden Telefonfunktionen von TAPI verwendet, benötigt Sie eine Verbindung mit TAPI, über die Sie Nachrichten empfangen kann.</span><span class="sxs-lookup"><span data-stu-id="e1adc-104">For an application to use any of TAPI's 30 supplementary phone functions, it needs a connection to TAPI, through which it can receive messages.</span></span> <span data-ttu-id="e1adc-105">Die Anwendung stellt diese Verbindung mithilfe der [**phoneinitializeex**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) -Funktion her.</span><span class="sxs-lookup"><span data-stu-id="e1adc-105">The application establishes this connection using the [**phoneInitializeEx**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) function.</span></span> <span data-ttu-id="e1adc-106">In dieser Funktion gibt die Anwendung den Benachrichtigungs Mechanismus an, mit dem TAPI die Anwendung über Änderungen im Zustand des Telefons und des asynchronen Abschlusses von Telefonfunktionen informiert.</span><span class="sxs-lookup"><span data-stu-id="e1adc-106">In this function, the application specifies the notification mechanism by which TAPI informs the application of changes in the state of the phone and of asynchronous completion of phone functions.</span></span>

<span data-ttu-id="e1adc-107">Die [**phoneinitializeex**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) -Funktion gibt zwei Teile der Informationen an die Anwendung zurück: ein *Anwendungs handle* und die Anzahl der Telefongeräte.</span><span class="sxs-lookup"><span data-stu-id="e1adc-107">The [**phoneInitializeEx**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) function returns two pieces of information to the application: an *application handle*, and the number of phone devices.</span></span> <span data-ttu-id="e1adc-108">Das Anwendungs Handle stellt die Verwendung von TAPI der Anwendung dar.</span><span class="sxs-lookup"><span data-stu-id="e1adc-108">The application handle represents the application's usage of TAPI.</span></span> <span data-ttu-id="e1adc-109">Die TAPI-Funktionen, die Telefon Handles verwenden, erfordern das Anwendungs Handle nicht, da dieses Handle vom angegebenen Telefon handle abgeleitet ist.</span><span class="sxs-lookup"><span data-stu-id="e1adc-109">The TAPI functions that use phone handles do not require the application handle, as this handle is derived from the specified phone handle.</span></span>

<span data-ttu-id="e1adc-110">Die zweite Information, die von [**phoneinitializeex**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) zurückgegeben wird, ist die Anzahl der für TAPI verfügbaren Telefongeräte.</span><span class="sxs-lookup"><span data-stu-id="e1adc-110">The second piece of information returned by [**phoneInitializeEx**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) is the number of phone devices available to TAPI.</span></span> <span data-ttu-id="e1adc-111">Telefongeräte werden anhand ihres Geräte Bezeichners (*Geräte-ID*) identifiziert.</span><span class="sxs-lookup"><span data-stu-id="e1adc-111">Phone devices are identified by their device identifier (*device ID*).</span></span> <span data-ttu-id="e1adc-112">Gültige Geräte Bezeichner reichen von Null bis zur Anzahl der Telefongeräte minus 1.</span><span class="sxs-lookup"><span data-stu-id="e1adc-112">Valid device identifiers range from zero to the number of phone devices minus one.</span></span> <span data-ttu-id="e1adc-113">Wenn **phoneinitializeex** z. b. meldet, dass es zwei Telefongeräte in einem System gibt, sind gültige Telefongeräte Bezeichner 0 und 1.</span><span class="sxs-lookup"><span data-stu-id="e1adc-113">For example, if **phoneInitializeEx** reports that there are two phone devices in a system, then valid phone device identifiers are 0 and 1.</span></span> <span data-ttu-id="e1adc-114">Nachdem eine Anwendung mit den Telefonfunktionen von TAPI fertig ist, ruft Sie [**phoneshutdown**](/windows/desktop/api/Tapi/nf-tapi-phoneshutdown)auf und übergibt ihr Anwendungs handle, um die Verwendung von TAPI zu beenden.</span><span class="sxs-lookup"><span data-stu-id="e1adc-114">After an application is finished using the phone functions of TAPI, it invokes [**phoneShutdown**](/windows/desktop/api/Tapi/nf-tapi-phoneshutdown), passing its application handle to shut down its usage of TAPI.</span></span> <span data-ttu-id="e1adc-115">Dadurch kann TAPI alle Ressourcen freigeben, die der Anwendung zugewiesen sind.</span><span class="sxs-lookup"><span data-stu-id="e1adc-115">This allows TAPI to free any resources assigned to the application.</span></span>

<span data-ttu-id="e1adc-116">Anwendungen sollten [**phoneinitializeex**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) nicht aufrufen, ohne anschließend ein Telefon (zumindest für die Überwachung) öffnen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="e1adc-116">Applications should not invoke [**phoneInitializeEx**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) without subsequently opening a phone (at least for monitoring).</span></span> <span data-ttu-id="e1adc-117">Wenn die Anwendung keine Geräte überwacht und keine Geräte verwendet, sollte Sie " [**phoneshutdown**](/windows/desktop/api/Tapi/nf-tapi-phoneshutdown) " aufgerufen werden, damit die von der TAPI-Dynamic Link Library zugeordneten Speicherressourcen freigegeben werden können, wenn Sie nicht benötigt werden, und die Bibliothek selbst aus dem Arbeitsspeicher entladen werden kann, während Sie nicht benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="e1adc-117">If the application is not monitoring and not using any devices, it should call [**phoneShutdown**](/windows/desktop/api/Tapi/nf-tapi-phoneshutdown) so that memory resources allocated by the TAPI dynamic-link library can be released if unneeded, and the library itself can be unloaded from memory while not needed.</span></span>

<span data-ttu-id="e1adc-118">Sowohl [**phoneinitializeex**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) als auch [**phoneshutdown**](/windows/desktop/api/Tapi/nf-tapi-phoneshutdown) arbeiten synchron.</span><span class="sxs-lookup"><span data-stu-id="e1adc-118">Both [**phoneInitializeEx**](/windows/desktop/api/Tapi/nf-tapi-phoneinitializeexa) and [**phoneShutdown**](/windows/desktop/api/Tapi/nf-tapi-phoneshutdown) operate synchronously.</span></span> <span data-ttu-id="e1adc-119">Dies bedeutet, dass diese Funktionen entweder einen Erfolg oder einen Fehler Hinweis zurückgeben und nie einen asynchronen Anforderungs Bezeichner zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="e1adc-119">That is, these functions either return a success or failure indication, and never return an asynchronous request identifier.</span></span>

 

 



