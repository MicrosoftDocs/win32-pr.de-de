---
description: Die Hauptinformationen, die eine Anwendung zum Initiieren einer Kommunikationssitzung bereitstellt, sind der adrestyp, der Medientyp oder die Typen und die Zieladresse.
ms.assetid: 65e53587-0e40-411b-8d6c-d6adfc9d1e6c
title: Initiieren einer Sitzung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9e925ba90460b88c85a9aab1624923acdbc4572a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103863856"
---
# <a name="initiate-a-session"></a><span data-ttu-id="7bf67-103">Initiieren einer Sitzung</span><span class="sxs-lookup"><span data-stu-id="7bf67-103">Initiate a Session</span></span>

<span data-ttu-id="7bf67-104">Die Hauptinformationen, die eine Anwendung zum Initiieren einer Kommunikationssitzung bereitstellt, sind der [adrestyp](address-type-ovr.md), der [Medientyp](media-type-ovr.md) oder die Typen und die Ziel [Adresse](address-ovr.md).</span><span class="sxs-lookup"><span data-stu-id="7bf67-104">The primary pieces of information an application supplies to initiate a communications session are the [address type](address-type-ovr.md), the [media type](media-type-ovr.md) or types, and the destination [address](address-ovr.md).</span></span>

<span data-ttu-id="7bf67-105">Die Zieladresse erfordert möglicherweise eine [Adressübersetzung](#address-translation) , um die von einem Benutzer eingegebenen Informationen in das richtige Format für einen bestimmten Adresstyp zu versetzen.</span><span class="sxs-lookup"><span data-stu-id="7bf67-105">The destination address may require [address translation](#address-translation) to put the information entered by a user into the proper format for a given address type.</span></span> <span data-ttu-id="7bf67-106">Beispielsweise ist für eine Telefonnummer, die sich in einem elektronischen Adressbuch im [kanonischen](address-ovr.md) Format befunden hat, eine Übersetzung in ein [dialbares](address-ovr.md) Format erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7bf67-106">For example, a phone number that was in an electronic address book in [canonical](address-ovr.md) format will require translation to [dialable](address-ovr.md) format.</span></span>

<span data-ttu-id="7bf67-107">Einige Sitzungen erfordern möglicherweise spezielle Setup Parameter, wenn Sie vom Dienstanbieter unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="7bf67-107">Some sessions may require special setup parameters, if supported by the service provider.</span></span> <span data-ttu-id="7bf67-108">Beispielsweise kann ein ISDN-TSP Benutzer Benutzerinformationen übertragen, und einige MSPs benötigen Informationen über die Richtung des Medien Stroms.</span><span class="sxs-lookup"><span data-stu-id="7bf67-108">For example, an ISDN TSP can transmit user-user information, and some MSPs require information about media stream direction.</span></span> <span data-ttu-id="7bf67-109">Eine Überprüfung der Daten, die für eine Sitzung festgelegt oder abgerufen werden können, finden Sie unter [Sitzungsinformationen](session-information-ovr.md) .</span><span class="sxs-lookup"><span data-stu-id="7bf67-109">Please see [Session Information](session-information-ovr.md) for a review of data that may be set or obtained concerning a session.</span></span>

<span data-ttu-id="7bf67-110">Nachdem eine Sitzung initiiert wurde, wird die Anwendung über den Ereignis Benachrichtigungs Mechanismus, der während der Initialisierung eingerichtet wurde, von TAPI informiert.</span><span class="sxs-lookup"><span data-stu-id="7bf67-110">Once a session has been initiated, TAPI will inform the application of call progress using the event notification mechanism set up during initialization.</span></span>

<span data-ttu-id="7bf67-111">**TAPI 2. x:** Anwendungen initiieren eine Sitzung mithilfe der [**linemakecall**](/windows/win32/api/tapi/nf-tapi-linemakecall) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="7bf67-111">**TAPI 2.x:** Applications initiate a session using the [**lineMakeCall**](/windows/win32/api/tapi/nf-tapi-linemakecall) function.</span></span> <span data-ttu-id="7bf67-112">Bei Bedarf wird die [**linetranslateaddress**](/windows/win32/api/tapi/nf-tapi-linetranslateaddress) -Funktion verwendet, um die Adressübersetzung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="7bf67-112">The [**lineTranslateAddress**](/windows/win32/api/tapi/nf-tapi-linetranslateaddress) function is used to perform address translation, if required.</span></span>

<span data-ttu-id="7bf67-113">Die Parameter zum Aufrufen von Setup können in der Datenstruktur [**linecallparameams**](/windows/win32/api/tapi/ns-tapi-linecallparams) gespeichert werden, und ein Zeiger auf diese Struktur wird dann als Parameter von [**linemakecall**](/windows/win32/api/tapi/nf-tapi-linemakecall)verwendet.</span><span class="sxs-lookup"><span data-stu-id="7bf67-113">Call setup parameters can be stored in the [**LINECALLPARAMS**](/windows/win32/api/tapi/ns-tapi-linecallparams) data structure, and a pointer to this structure is then used as a parameter of [**lineMakeCall**](/windows/win32/api/tapi/nf-tapi-linemakecall).</span></span> <span data-ttu-id="7bf67-114">Wenn **linemakecall** keine **linecallpara** -Struktur bereitgestellt wird, wird ein standardmäßiger Anruf in der sprachklasse mit einem Satz von Standardwerten angefordert.</span><span class="sxs-lookup"><span data-stu-id="7bf67-114">If no **LINECALLPARAMS** structure is supplied to **lineMakeCall**, a default POTS voice-grade call is requested with a set of default values.</span></span>

<span data-ttu-id="7bf67-115">Wenn die Sitzung erfolgreich eingerichtet wurde, wird ein Aufruf Handle mit *Besitzer* [rechten](privilege-ovr.md) an die Anwendung zurückgegeben, und TAPI sendet die Anwendungs [**Zeilen- \_ CallState**](./line-callstate.md) -Meldungen mit Informationen zum Fortschritt des Aufrufes.</span><span class="sxs-lookup"><span data-stu-id="7bf67-115">If the session is set up successfully, a call handle with *owner* [privileges](privilege-ovr.md) is returned to the application and TAPI sends the application [**LINE\_CALLSTATE**](./line-callstate.md) messages with information concerning the call's progress.</span></span> <span data-ttu-id="7bf67-116">Anwendungen verwenden diese Nachrichten in der Regel, um dem Benutzer Statusberichte anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="7bf67-116">Applications typically use these messages to display status reports to the user.</span></span>

<span data-ttu-id="7bf67-117">**TAPI 3. x:** Anwendungen initiieren eine Kommunikationssitzung, indem Sie die [**itaddress:: anatecall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) -Methode für eine Adresse aufrufen, die den erforderlichen Adresstyp und Medientyp verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="7bf67-117">**TAPI 3.x:** Applications initiate a communications session by invoking the [**ITAddress::CreateCall**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddress-createcall) method on an address capable of handling the address type and media type required.</span></span> <span data-ttu-id="7bf67-118">Wenn die Adresse die Schnittstelle [**itterminalsupport**](/windows/win32/api/tapi3if/nn-tapi3if-itterminalsupport) verfügbar macht, werden Terminals auf den Mediendaten Strömen des calljektes ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="7bf67-118">If the address exposes the [**ITTerminalSupport**](/windows/win32/api/tapi3if/nn-tapi3if-itterminalsupport) interface, terminals are selected onto the media streams of the call object.</span></span> <span data-ttu-id="7bf67-119">Eine Veranschaulichung dieses Prozesses finden Sie im Beispiel " [make a callcode](make-a-call.md) ".</span><span class="sxs-lookup"><span data-stu-id="7bf67-119">See the [Make a Call](make-a-call.md) code example for an illustration of this process.</span></span>

<span data-ttu-id="7bf67-120">Setup Parameter aufrufen können mithilfe von Methoden, die von der [**itcallinfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallinfo) -Schnittstelle verfügbar gemacht werden, gespeichert oder geändert werden</span><span class="sxs-lookup"><span data-stu-id="7bf67-120">Call setup parameters can be stored or changed using methods exposed by the [**ITCallInfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallinfo) interface.</span></span>

<span data-ttu-id="7bf67-121">Wenn die Sitzung erfolgreich eingerichtet wurde, gibt TAPI einen [**itbasiccallcontrol**](/windows/desktop/api/tapi3if/nn-tapi3if-itbasiccallcontrol) -Schnittstellen Zeiger zurück, der für weitere Sitzungs Vorgänge verwendet werden kann, oder zum Abrufen eines [**itcallinfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallinfo) -Schnittstellen Zeigers, der zum Abrufen zusätzlicher Sitzungsinformationen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="7bf67-121">If the session is set up successfully, TAPI returns an [**ITBasicCallControl**](/windows/desktop/api/tapi3if/nn-tapi3if-itbasiccallcontrol) interface pointer that can be used for further session operations, or to obtain an [**ITCallInfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallinfo) interface pointer that can be used to acquire additional session information.</span></span> <span data-ttu-id="7bf67-122">Die [**itcallstateevent**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallstateevent) -Schnittstelle verarbeitet TAPI-Aufruf Zustands Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="7bf67-122">The [**ITCallStateEvent**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallstateevent) interface processes TAPI call state events.</span></span>

> [!Note]  
> <span data-ttu-id="7bf67-123">TAPI sollte nicht für Faxübertragungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="7bf67-123">TAPI should not be used for fax transmissions.</span></span> <span data-ttu-id="7bf67-124">Verwenden Sie stattdessen die Funktionen, die über MAPI verfügbar sind, die Microsoft Messaging-API.</span><span class="sxs-lookup"><span data-stu-id="7bf67-124">Instead, use the functions available through MAPI, the Microsoft Messaging API.</span></span>

 

## <a name="address-translation"></a><span data-ttu-id="7bf67-125">Adressübersetzung</span><span class="sxs-lookup"><span data-stu-id="7bf67-125">Address Translation</span></span>

<span data-ttu-id="7bf67-126">Eine Endbenutzer-oder Serveranwendung kann Adressen in einem Format speichern, das nicht mit den Anforderungen eines bestimmten Dienstanbieters kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="7bf67-126">An end-user or server application may store addresses in a format that is not compatible with the needs of a given service provider.</span></span> <span data-ttu-id="7bf67-127">Eine Telefonnummer kann z. b. in einem elektronischen Adressbuch im [kanonischen Format](address-ovr.md)gespeichert werden, aber die meisten Dienstanbieter, die Telefonnummern verarbeiten, benötigen das [Format "dialable](address-ovr.md)".</span><span class="sxs-lookup"><span data-stu-id="7bf67-127">For example, a phone number may be stored in an electronic address book in [canonical format](address-ovr.md), but most service providers that handle phone numbers require the [dialable format](address-ovr.md).</span></span>

<span data-ttu-id="7bf67-128">TAPI stellt Adress Übersetzungs Vorgänge bereit, die einer Anwendung helfen, den richtigen Adresstyp für einen TSP anzugeben.</span><span class="sxs-lookup"><span data-stu-id="7bf67-128">TAPI supplies address translation operations that assist an application in presenting the correct address type to a TSP.</span></span> <span data-ttu-id="7bf67-129">Der Dienstanbieter gibt für TAPI an, welche Adresstypen unterstützt werden, und er muss keine Form der Adressübersetzung enthalten.</span><span class="sxs-lookup"><span data-stu-id="7bf67-129">The service provider specifies to TAPI which address types it supports, and need not include any form of address translation.</span></span>

<span data-ttu-id="7bf67-130">**TAPI 2. x:** Siehe [**linetranslateaddress**](/windows/win32/api/tapi/nf-tapi-linetranslateaddress).</span><span class="sxs-lookup"><span data-stu-id="7bf67-130">**TAPI 2.x:** See [**lineTranslateAddress**](/windows/win32/api/tapi/nf-tapi-linetranslateaddress).</span></span>

<span data-ttu-id="7bf67-131">**TAPI 3:** Siehe [**itadresssstranslation**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresstranslation), [**itadresstranslationinfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresstranslationinfo).</span><span class="sxs-lookup"><span data-stu-id="7bf67-131">**TAPI 3:** See [**ITAddressTranslation**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresstranslation), [**ITAddressTranslationInfo**](/windows/desktop/api/tapi3if/nn-tapi3if-itaddresstranslationinfo).</span></span>

## <a name="toll-lists"></a><span data-ttu-id="7bf67-132">Maut Listen</span><span class="sxs-lookup"><span data-stu-id="7bf67-132">Toll Lists</span></span>

<span data-ttu-id="7bf67-133">An manchen Stellen in Nordamerika sind alle Telefonanrufe, die im lokalen Code abgelegt werden, lokale Aufrufe.</span><span class="sxs-lookup"><span data-stu-id="7bf67-133">In some locations in North America, all telephone calls placed to the local area code are local calls.</span></span> <span data-ttu-id="7bf67-134">An anderen Standorten sind einige Aufrufe, die an den lokalen Code platziert werden, lange Distanz und benötigen ein Präfix "1", um gewählt zu werden.</span><span class="sxs-lookup"><span data-stu-id="7bf67-134">In other locations, some calls placed to the local area code are long distance, and need a "1" prefix to be dialed.</span></span> <span data-ttu-id="7bf67-135">Die ersten drei Ziffern der Adresse (das Präfix) bestimmen, ob es sich bei einem-Befehl im lokalen Code um einen Maut Befehl handelt.</span><span class="sxs-lookup"><span data-stu-id="7bf67-135">The first three digits of the address (the prefix) determine whether or not a call within the local area code is a toll call.</span></span>

<span data-ttu-id="7bf67-136">Eine *Maut Liste* ist eine Liste von Präfixen im lokalen Code, deren Adressen als Adressen mit langer Entfernung gewählt werden müssen und für die eine lange Entfernungs Gebühr geschätzt wird.</span><span class="sxs-lookup"><span data-stu-id="7bf67-136">A *toll list* is a list of prefixes in the local area code whose addresses must be dialed as long-distance addresses, and are assessed long-distance charges.</span></span>

<span data-ttu-id="7bf67-137">Maut Listen sind für Dienstanbieter oder Anwendungen, die nicht auf ein Telefon Netzwerk zugreifen, nicht relevant.</span><span class="sxs-lookup"><span data-stu-id="7bf67-137">Toll lists are not relevant to service providers, or to applications that do not access a telephone network.</span></span>

<span data-ttu-id="7bf67-138">**TAPI 2. x:** Weitere Informationen finden Sie unter [**linetranslateaddress**](/windows/win32/api/tapi/nf-tapi-linetranslateaddress) (linetranslateresult \_ intolllist und linetranslateresult \_ notintolllist Bits in der [**linetranslateoutput**](/windows/win32/api/tapi/ns-tapi-linetranslateoutput) -Struktur), [**linesettolllist**](/windows/win32/api/tapi/nf-tapi-linesettolllist).</span><span class="sxs-lookup"><span data-stu-id="7bf67-138">**TAPI 2.x:** See [**lineTranslateAddress**](/windows/win32/api/tapi/nf-tapi-linetranslateaddress) (LINETRANSLATERESULT\_INTOLLLIST and LINETRANSLATERESULT\_NOTINTOLLLIST bits in the [**LINETRANSLATEOUTPUT**](/windows/win32/api/tapi/ns-tapi-linetranslateoutput) structure), [**lineSetTollList**](/windows/win32/api/tapi/nf-tapi-linesettolllist).</span></span>

<span data-ttu-id="7bf67-139">**TAPI 3:** Siehe [**itadresssstranslation:: TranslateAddress**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddresstranslation-translateaddress), [**itadresssstranslationinfo:: get- \_ Übersetzungsergebnisse**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddresstranslationinfo-get_translationresults).</span><span class="sxs-lookup"><span data-stu-id="7bf67-139">**TAPI 3:** See [**ITAddressTranslation::TranslateAddress**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddresstranslation-translateaddress), [**ITAddressTranslationInfo::get\_TranslationResults**](/windows/desktop/api/tapi3if/nf-tapi3if-itaddresstranslationinfo-get_translationresults).</span></span>

 

 
