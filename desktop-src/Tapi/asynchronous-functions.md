---
description: Ein Vorgang, der asynchron abgeschlossen wird, führt einen Teil seiner Verarbeitung in dem von der Anwendung ausgeführten Funktions Ausdruck und den restlichen Teil in einem unabhängigen Ausführungs Thread aus, nachdem TAPI 2. x vom Funktions Aufrufwert zurückgegeben wurde.
ms.assetid: 37b544e4-6413-4741-b8b6-ec676ce4ca97
title: Asynchrone Funktionen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 135e792a4b1d6a25a4f49fbb2abe2c19ce3071ad
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106349521"
---
# <a name="asynchronous-functions"></a><span data-ttu-id="aff0a-103">Asynchrone Funktionen</span><span class="sxs-lookup"><span data-stu-id="aff0a-103">Asynchronous Functions</span></span>

<span data-ttu-id="aff0a-104">Ein Vorgang, der asynchron abgeschlossen wird, führt einen Teil seiner Verarbeitung in dem von der Anwendung ausgeführten Funktions Ausdruck und den restlichen Teil in einem unabhängigen Ausführungs Thread aus, nachdem TAPI 2. x vom Funktions Aufrufwert zurückgegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="aff0a-104">An operation that completes asynchronously performs part of its processing in the function call made by the application and the remainder of it in an independent execution thread after TAPI 2.x has returned from the function call.</span></span> <span data-ttu-id="aff0a-105">Um die Verarbeitung des Aufrufes zu gewährleisten, Vektoren der Dienstanbieter die Anforderung einer anderen aktiven Entität im System – z. b. einem LAN-Server, einer Add-in-Hardware, einem Switch oder einem Netzwerk – und kehrt dann zur Anwendung zurück.</span><span class="sxs-lookup"><span data-stu-id="aff0a-105">To ensure completion of the call's processing, the service provider vectors the request to another active entity in the system—such as a LAN server, add-in hardware, a switch, or a network—and then returns to the application.</span></span> <span data-ttu-id="aff0a-106">Zu diesem Zeitpunkt wird entweder ein negatives Fehler Ergebnis oder ein positiver Anforderungs Bezeichner an die Anwendung zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="aff0a-106">At this time, either a negative error result or a positive request identifier is returned to the application.</span></span>

<span data-ttu-id="aff0a-107">Zum Zeitpunkt des asynchronen Abschlusses (der Dienstanbieter hat einen Interrupt von der Hardware erhalten, was bedeutet, dass eine Nachricht zugestellt werden muss), ruft der Dienstanbieter tapisrv auf und meldet, dass das Ereignis *X* soeben stattgefunden hat.</span><span class="sxs-lookup"><span data-stu-id="aff0a-107">At the time of asynchronous completion (the service provider has received an interrupt from the hardware, meaning that a message must be delivered), the service provider calls TAPISRV and reports that "Event *X* has just taken place.</span></span> <span data-ttu-id="aff0a-108">Bereitstellung einer geeigneten Nachricht an alle betroffenen Anwendungen. "</span><span class="sxs-lookup"><span data-stu-id="aff0a-108">Deliver an appropriate message to all concerned applications."</span></span> <span data-ttu-id="aff0a-109">Wenn tapisrv diese Nachricht empfängt, leitet Sie die Nachricht an die TAPI Dynamic Link Library im Prozess der Anwendung weiter, die wiederum eine Fenster Meldung sendet, ein Ereignis Handle signalisiert oder an einen e/a-Abschlussport sendet, gemäß dem Nachrichten Benachrichtigungs Schema, das von der Anwendung in [**lineinitializeex**](/windows/win32/api/tapi/nf-tapi-lineinitializeexa) oder [**phoneinitializeex**](/windows/win32/api/tapi/nf-tapi-phoneinitializeexa)ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="aff0a-109">When TAPISRV receives this message, it forwards the message to the TAPI dynamic-link library, in the application's process, which in turn posts a window message, signals an event handle, or posts to an I/O completion port, according to the message notification scheme selected by the application in [**lineInitializeEx**](/windows/win32/api/tapi/nf-tapi-lineinitializeexa) or [**phoneInitializeEx**](/windows/win32/api/tapi/nf-tapi-phoneinitializeexa).</span></span>

<span data-ttu-id="aff0a-110">Wenn der asynchrone Teil des Vorgangs abgeschlossen ist, wird eine [**Zeilen \_ Antwort**](./line-reply.md) Nachricht (oder eine [**Telefon \_ Antwort**](./phone-reply.md)) an die Anwendung gesendet.</span><span class="sxs-lookup"><span data-stu-id="aff0a-110">When the asynchronous portion of the operation completes, a [**LINE\_REPLY**](./line-reply.md) (or [**PHONE\_REPLY**](./phone-reply.md)) message is sent to the application.</span></span> <span data-ttu-id="aff0a-111">Diese Meldung enthält als einen ihrer Parameter den vom Funktionsbefehl zurückgegebenen Anforderungs Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="aff0a-111">This message contains, as one of its parameters, the request identifier returned by the function call.</span></span> <span data-ttu-id="aff0a-112">Mit diesem Anforderungs Bezeichner kann die Anwendung bestimmen, welche ursprüngliche Anforderung abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="aff0a-112">This request identifier allows the application to determine which original request has completed.</span></span> <span data-ttu-id="aff0a-113">(Anwendungen sollten sich die Anforderungs Bezeichner aller aktuell ausgeführten Anforderungen merken, damit Antwort Nachrichten ordnungsgemäß verarbeitet werden können.) Ein zweiter Parameter für die Zeilen \_ Antwortnachricht (oder Telefon \_ Antwort) ist der asynchrone Rückgabewert.</span><span class="sxs-lookup"><span data-stu-id="aff0a-113">(Applications should remember the request identifiers of all their requests in progress so that reply messages can be properly handled.) A second parameter to the LINE\_REPLY (or PHONE\_REPLY) message is the asynchronous return value.</span></span> <span data-ttu-id="aff0a-114">Dies ist entweder ein negativer Wert (bei einem Fehler) oder 0 (null), wenn der Vorgang erfolgreich abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="aff0a-114">This is either a negative value (for an error) or zero if the operation completed successfully.</span></span> <span data-ttu-id="aff0a-115">Für asynchrone Vorgänge können alle Rückgabewerte als Teil der Funktions Rückgabe oder als *dwParam2* -Parameter in der Zeilen \_ Antwort oder der Telefon Antwortnachricht zurückgegeben werden \_ .</span><span class="sxs-lookup"><span data-stu-id="aff0a-115">For asynchronous operations, any of the return values may be returned as part of the function return or as the *dwParam2* parameter in the LINE\_REPLY or PHONE\_REPLY message.</span></span> <span data-ttu-id="aff0a-116">Der Wert 0, der einen Erfolg angibt, wird nur in der Zeilen \_ Antwortnachricht und nie als Rückgabewert der Funktion zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="aff0a-116">The value 0, which indicates success, will only be returned in the LINE\_REPLY message, and never as the function's return value.</span></span>

<span data-ttu-id="aff0a-117">Die initialisieren-Funktionen ( [**lineinitializeex**](/windows/win32/api/tapi/nf-tapi-lineinitializeexa) und [**phoneinitializeex**](/windows/win32/api/tapi/nf-tapi-phoneinitializeexa)) informieren TAPI darüber, wie diese Nachrichten an die Anwendung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="aff0a-117">The initialize functions ( [**lineInitializeEx**](/windows/win32/api/tapi/nf-tapi-lineinitializeexa) and [**phoneInitializeEx**](/windows/win32/api/tapi/nf-tapi-phoneinitializeexa)) tell TAPI how to send these messages to the application.</span></span>

> [!Note]  
> <span data-ttu-id="aff0a-118">In einigen Fällen, in denen eine Multithreadanwendung eine asynchrone Funktion von einem anderen Thread als dem Thread aufruft, von dem die Anwendung die Zeile oder das Telefongerät initialisiert hat, erhält die Anwendung möglicherweise die [**Zeilen \_ Antwort**](./line-reply.md) oder [**Telefon \_ Antwort**](./phone-reply.md) Nachricht, bevor die asynchrone Funktion zurückgegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="aff0a-118">In some cases, if a multithreaded application calls an asynchronous function from a thread other than the thread from which the application initialized the line or phone device, the application may receive the [**LINE\_REPLY**](./line-reply.md) or [**PHONE\_REPLY**](./phone-reply.md) message before the asynchronous function has returned.</span></span> <span data-ttu-id="aff0a-119">In solchen Fällen sollte die Anwendung die Nachrichten Parameter speichern und warten, bis die asynchrone Funktion zurückkehrt und der Anforderungs Bezeichner vor der Verarbeitung der Nachricht bekannt ist.</span><span class="sxs-lookup"><span data-stu-id="aff0a-119">In such cases, the application should save the message parameters and wait until the asynchronous function returns and the request identifier is known before processing the message.</span></span>

 

 

 
