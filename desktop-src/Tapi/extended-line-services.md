---
description: Erweiterte Zeilen Dienste (oder gerätespezifische Zeilen Dienste) enthalten alle vom Dienstanbieter definierten Erweiterungen für TSPI.
ms.assetid: 23519d23-27bd-422e-b3c4-00e0d0d93f9e
title: Erweiterte Zeilen Dienste
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dbc1ce08d25633d33fd518d8686271c198ca5034
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106357742"
---
# <a name="extended-line-services"></a><span data-ttu-id="f5866-103">Erweiterte Zeilen Dienste</span><span class="sxs-lookup"><span data-stu-id="f5866-103">Extended Line Services</span></span>

<span data-ttu-id="f5866-104">Erweiterte Zeilen Dienste (oder gerätespezifische Zeilen Dienste) enthalten alle vom Dienstanbieter definierten Erweiterungen für TSPI.</span><span class="sxs-lookup"><span data-stu-id="f5866-104">Extended line services (or device-specific line services) include all service-provider defined extensions to TSPI.</span></span> <span data-ttu-id="f5866-105">TSPI definiert einen Mechanismus, mit dem Anbieter von Dienstanbietern die telefoniespi mithilfe von gerätespezifischen Erweiterungen erweitern können.</span><span class="sxs-lookup"><span data-stu-id="f5866-105">TSPI defines a mechanism that enables service-provider vendors to extend the Telephony SPI using device-specific extensions.</span></span> <span data-ttu-id="f5866-106">TSPI definiert nur den Erweiterungsmechanismus und bietet dadurch Zugriff auf gerätespezifische Erweiterungen, aber TSPI definiert das Verhalten nicht.</span><span class="sxs-lookup"><span data-stu-id="f5866-106">TSPI only defines the extension mechanism, and by doing so provides access to device-specific extensions, but TSPI does not define their behavior.</span></span> <span data-ttu-id="f5866-107">Das Verhalten wird vom Dienstanbieter vollständig definiert.</span><span class="sxs-lookup"><span data-stu-id="f5866-107">Behavior is completely defined by the service provider.</span></span>

<span data-ttu-id="f5866-108">Der telefoniespi besteht aus skalaren und Bitflag-Konstanten Definitionen, Datenstrukturen, Funktionen und Rückruf Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="f5866-108">The Telephony SPI consists of scalar and bit flag constant definitions, data structures, functions, and callback messages.</span></span> <span data-ttu-id="f5866-109">Es werden Prozeduren definiert, mit denen ein Anbieter die meisten dieser wie folgt erweitern kann.</span><span class="sxs-lookup"><span data-stu-id="f5866-109">Procedures are defined that enable a vendor to extend most of these as follows.</span></span>

<span data-ttu-id="f5866-110">Für erweiterbare skalare Daten Konstanten kann ein Anbieter von Dienstanbietern neue Werte in einem angegebenen Bereich definieren.</span><span class="sxs-lookup"><span data-stu-id="f5866-110">For extensible scalar data constants, a service-provider vendor can define new values in a specified range.</span></span> <span data-ttu-id="f5866-111">Da die meisten Daten Konstanten **DWORD** s sind, ist in der Regel der Bereich 0x00000000 bis 0x7FFFFFFF für allgemeine zukünftige Erweiterungen reserviert, während 0x80000000 bis 0xffffffff für herstellerspezifische Erweiterungen verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="f5866-111">As most data constants are **DWORD** s, typically the range 0x00000000 through 0x7FFFFFFF is reserved for common future extensions, while 0x80000000 through 0xFFFFFFFF are available for vendor-specific extensions.</span></span> <span data-ttu-id="f5866-112">Es wird davon ausgegangen, dass ein Anbieter Werte definieren würde, bei denen es sich um natürliche Erweiterungen der von TSPI definierten Datentypen handelt.</span><span class="sxs-lookup"><span data-stu-id="f5866-112">The assumption is that a vendor would define values that are natural extensions of the datatypes defined by TSPI.</span></span>

<span data-ttu-id="f5866-113">Für erweiterbare Bitflag-Daten Konstanten kann ein Anbieter von Dienstanbietern neue Werte für angegebene Bits definieren.</span><span class="sxs-lookup"><span data-stu-id="f5866-113">For extensible bit flag data constants, a service-provider vendor can define new values for specified bits.</span></span> <span data-ttu-id="f5866-114">Da die meisten Bitflag-Konstanten **DWORD** s sind, sind in der Regel eine bestimmte Anzahl von niedrigeren Bits für allgemeine Erweiterungen reserviert, während die restlichen oberen Bits für herstellerspezifische Erweiterungen verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="f5866-114">As most bit flag constants are **DWORD** s, typically a specific number of the lower bits are reserved for common extensions while the remaining upper bits are available for vendor-specific extensions.</span></span> <span data-ttu-id="f5866-115">Allgemeine Bitflags werden aus Bit 0 (null) zugewiesen. herstellerspezifische Erweiterungen sollten von Bit 31 nach unten zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="f5866-115">Common bit flags are assigned from bit zero up; vendor-specific extensions should be assigned from bit 31 down.</span></span> <span data-ttu-id="f5866-116">Dies bietet maximale Flexibilität beim Zuweisen von Bitpositionen zu allgemeinen Erweiterungen im Vergleich zu herstellerspezifischen Erweiterungen.</span><span class="sxs-lookup"><span data-stu-id="f5866-116">This provides maximum flexibility in assigning bit positions to common extensions versus vendor-specific extensions.</span></span> <span data-ttu-id="f5866-117">Es wird erwartet, dass ein Anbieter neue Werte definiert, bei denen es sich um natürliche Erweiterungen der von TSPI definierten Bitflags handelt.</span><span class="sxs-lookup"><span data-stu-id="f5866-117">A vendor is expected to define new values that are natural extensions of the bit flags defined by TSPI.</span></span>

<span data-ttu-id="f5866-118">Erweiterbare Datenstrukturen verfügen über ein Feld mit variabler Größe, das für die gerätespezifische Verwendung reserviert ist.</span><span class="sxs-lookup"><span data-stu-id="f5866-118">Extensible data structures have a variably sized field that is reserved for device-specific use.</span></span> <span data-ttu-id="f5866-119">Bei der Größenanpassung bestimmt der Dienstanbieter die Menge der Informationen und die Interpretation.</span><span class="sxs-lookup"><span data-stu-id="f5866-119">Being variably sized, the service provider decides the amount of information and the interpretation.</span></span> <span data-ttu-id="f5866-120">Ein Anbieter, der ein Geräte spezifisches Feld definiert, wird davon ausgegangen, dass diese natürlichen Erweiterungen der ursprünglichen Datenstruktur, die von TSPI definiert wird, vorgenommen werden.</span><span class="sxs-lookup"><span data-stu-id="f5866-120">A vendor that defines a device-specific field is expected to make these natural extensions of the original data structure defined by TSPI.</span></span>

<span data-ttu-id="f5866-121">Zwei Funktionen, [**TSPI \_ linedevspecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) und [**TSPI \_ linedevspecificfeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature)und vier Verwandte Meldungen, [**line \_ DevSpecific**](/previous-versions/windows/desktop/legacy/ms725225(v=vs.85)), [**line \_ calldevspecific**](line-calldevspecific.md), [**line \_ devspecificfeature**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85))und [**line \_ calldevspecificfeature**](line-calldevspecificfeature.md)bieten einen herstellerspezifischen Erweiterungsmechanismus.</span><span class="sxs-lookup"><span data-stu-id="f5866-121">Two functions, [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) and [**TSPI\_lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature), and four related messages, [**LINE\_DEVSPECIFIC**](/previous-versions/windows/desktop/legacy/ms725225(v=vs.85)), [**LINE\_CALLDEVSPECIFIC**](line-calldevspecific.md), [**LINE\_DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)), and [**LINE\_CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md), offer a vendor-specific extension mechanism.</span></span> <span data-ttu-id="f5866-122">Der **TSPI- \_ linedevspecific** -Vorgang und zugehörige Zeilen- \_ DevSpecific-und line \_ calldevspecific-Meldungen ermöglichen der Tapi32.dll Client Anwendung den Zugriff auf gerätespezifische Zeilen-, Adress-oder Aufruf Features, die in den Basic-oder ergänzenden Telefoniediensten nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="f5866-122">The **TSPI\_lineDevSpecific** operation and associated LINE\_DEVSPECIFIC and LINE\_CALLDEVSPECIFIC messages allow the Tapi32.dll client application to access device-specific line, address, or call features that are unavailable in the Basic or Supplementary Telephony services.</span></span> <span data-ttu-id="f5866-123">Das Parameter Profil der [**TSPI \_ linedevspecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) -Funktion ist generisch, da die Parameter von TSPI kaum interpretiert werden.</span><span class="sxs-lookup"><span data-stu-id="f5866-123">The parameter profile of the [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific) function is generic in that little interpretation of the parameters is made by TSPI.</span></span> <span data-ttu-id="f5866-124">Geräte handle-Parameter haben eine durch TSPI definierte Bedeutung und werden zwischen der Anwendung und dem Dienstanbieter entsprechend übersetzt.</span><span class="sxs-lookup"><span data-stu-id="f5866-124">Device-handle parameters have TSPI-defined meanings and are translated appropriately between the application and the service provider.</span></span> <span data-ttu-id="f5866-125">Generische Parameter werden einfach unverändert übermittelt.</span><span class="sxs-lookup"><span data-stu-id="f5866-125">Generic parameters are simply passed through unmodified.</span></span> <span data-ttu-id="f5866-126">Die Interpretation der generischen Parameter wird vom Dienstanbieter definiert und muss von allen Anwendungen verstanden werden, die Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5866-126">The interpretation of the generic parameters is defined by the service provider and must be understood by any applications that use them.</span></span> <span data-ttu-id="f5866-127">Eine Anwendung, die auf gerätespezifischen Erweiterungen basiert, funktioniert in der Regel nicht mit anderen Dienstanbietern.</span><span class="sxs-lookup"><span data-stu-id="f5866-127">An application that relies on device-specific extensions generally does not work with other service providers.</span></span> <span data-ttu-id="f5866-128">Anwendungen, die vollständig in die grundlegenden und ergänzenden Telefoniedienste geschrieben wurden, sollten jedoch mit dem erweiterten Dienstanbieter zusammenarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f5866-128">However, applications written entirely to the Basic and Supplementary Telephony services should work with the extended service provider.</span></span>

<span data-ttu-id="f5866-129">Die TAPI-Implementierung der gerätespezifischen Funktionen und Nachrichten ist "Pass-Through".</span><span class="sxs-lookup"><span data-stu-id="f5866-129">The TAPI implementation of the device-specific functions and messages is "pass-through."</span></span> <span data-ttu-id="f5866-130">TAPI überprüft oder ändert die generischen gerätespezifischen Parameter und Puffer nicht, aber es werden nicht transparente handle-Werte auf Anwendungsebene (auf der TAPI-Ebene verwendet) auf nicht transparente handle-Werte auf Dienstanbieter Ebene (auf der TSPI-Ebene verwendet) zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="f5866-130">TAPI does not examine or modify the generic device-specific parameters and buffers, but it does map application-level opaque handle values (used at the TAPI level) to service-provider-level opaque handle values (used at the TSPI level).</span></span>

<span data-ttu-id="f5866-131">Bezüglich der Übersetzung von Handles hat die Passthrough-Art der generischen Teile von gerätespezifischen Erweiterungen eine wichtige Folge.</span><span class="sxs-lookup"><span data-stu-id="f5866-131">Regarding handle translation, the passthrough nature of the generic parts of device-specific extensions has an important consequence.</span></span> <span data-ttu-id="f5866-132">Ein Dienstanbieter hat keine Möglichkeit, die auf der TSPI-Ebene verwendeten Handles mit denen auf der TAPI-Ebene in Beziehung zu setzen, es sei denn, Sie übergeben Sie durch die vordefinierten handle-Parameter und-Felder.</span><span class="sxs-lookup"><span data-stu-id="f5866-132">A service provider has no way to relate the handles used at the TSPI level to those at the TAPI level except by passing them through the predefined handle parameters and fields.</span></span> <span data-ttu-id="f5866-133">Alle Handles, die in den generischen Erweiterungsbereich eingefügt werden, werden nicht von TAPI übersetzt, da Sie zwischen dem Anwendungs-und Dienstanbieter übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="f5866-133">Any handle put into the generic extension area is untranslated by TAPI as it is passed between application and service provider.</span></span> <span data-ttu-id="f5866-134">Der Designer einer Dienstanbieter Erweiterung sollte in der Regel keine Erweiterungen definieren, die Handles auf diese Weise übergeben.</span><span class="sxs-lookup"><span data-stu-id="f5866-134">The designer of a service-provider extension should generally not define extensions that pass handles in this way.</span></span>

<span data-ttu-id="f5866-135">Der geeignete Ansatz beim Definieren einer gerätespezifischen Erweiterung, die auf bestimmte Geräte ohne Verwendung von Handles verweisen muss, besteht darin, mithilfe ihrer absoluten Geräte Identifizierung darauf zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="f5866-135">The appropriate approach when defining a device-specific extension that must refer to specific devices without using handles is to refer to them using their absolute device identification.</span></span> <span data-ttu-id="f5866-136">Der Geräte Bezeichner, der zum Öffnen einer Zeile auf der TAPI-Ebene verwendet wird, ist beispielsweise genau derselbe Wert, der auf der TSPI-Ebene verwendet wird, um die Zeile zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="f5866-136">The device identifier used in opening a line at the TAPI level, for example, is strictly the same value that is used at the TSPI level to open the line.</span></span> <span data-ttu-id="f5866-137">Analog dazu verwendet ein Tupel (Line Device Identifier, Address Identifier), das eine Adresse auf der TAPI-Ebene eindeutig identifiziert, dieselben Werte, um das gleiche auf der TSPI-Ebene zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="f5866-137">Similarly, a (line device identifier, address identifier) tuple that uniquely identifies an address at the TAPI level uses the same values to identify the same thing at the TSPI level.</span></span>

<span data-ttu-id="f5866-138">Zur einfacheren Bereitstellung wird auch eine speziellere escapefunktion bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="f5866-138">For convenience, a more specialized escape function is also provided.</span></span> <span data-ttu-id="f5866-139">Sie ähnelt [**TSPI \_ linedevspecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific), legt aber die Interpretation einiger Parameter fest.</span><span class="sxs-lookup"><span data-stu-id="f5866-139">It is similar to [**TSPI\_lineDevSpecific**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecific), but places interpretation on some of the parameters.</span></span> <span data-ttu-id="f5866-140">Die [**TSPI \_ linedevspecificfeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) -Funktion und die zugeordneten [**Zeilen- \_ devspecificfeature**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) -und [**line \_ calldevspecificfeature**](line-calldevspecificfeature.md) -Meldungen ermöglichen TAPI das Emulieren von Schaltflächen auf der Telefonnummer der Zeile.</span><span class="sxs-lookup"><span data-stu-id="f5866-140">The [**TSPI\_lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) function and associated [**LINE\_DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) and [**LINE\_CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md) messages allow TAPI to emulate button presses at the line's feature phone.</span></span> <span data-ttu-id="f5866-141">Wenn featuretelefone und die Bedeutungen ihrer Schaltflächen Hersteller spezifisch sind, ist der Funktionsaufruf mit **TSPI \_ linedevspecificfeature** ebenfalls Anbieter spezifisch.</span><span class="sxs-lookup"><span data-stu-id="f5866-141">As feature phones and the meanings of their buttons are vendor-specific, feature invocation using **TSPI\_lineDevSpecificFeature** is also vendor specific.</span></span>

<span data-ttu-id="f5866-142">Zusammenfassend gesagt, ist die [**TSPI \_ linedevspecificfeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) -Funktion eine gerätespezifische escapefunktion, um das Senden von Switchfeatures an den Switch zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="f5866-142">To summarize, the [**TSPI\_lineDevSpecificFeature**](/windows/win32/api/tspi/nf-tspi-tspi_linedevspecificfeature) function is a device-specific escape function to allow sending switch features to the switch.</span></span> <span data-ttu-id="f5866-143">Die [**Zeile \_ calldevspecificfeature**](line-calldevspecificfeature.md) ist eine gerätespezifische Nachricht, die an den Rückruf der Anwendung gesendet wird. Dies ist ein Hinweis auf Aufruf bezogene Features, die an den Switch gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="f5866-143">The [**LINE\_CALLDEVSPECIFICFEATURE**](line-calldevspecificfeature.md) message is a device-specific message sent to the application's callback as an indication of call-related features sent to the switch.</span></span> <span data-ttu-id="f5866-144">[**Zeile \_ Devspecificfeature**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) ist eine gerätespezifische Nachricht, die an den Rückruf der Anwendung gesendet wird, als Angabe von Zeilen bezogenen Features, die an den Switch gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="f5866-144">[**LINE\_DEVSPECIFICFEATURE**](/previous-versions/windows/desktop/legacy/ms725227(v=vs.85)) is a device-specific message sent to the application's callback as an indication of line-related features sent to the switch.</span></span>

<span data-ttu-id="f5866-145">Es gibt keine zentrale Registrierung für Hersteller Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="f5866-145">There is no central registry for manufacturer identifiers.</span></span> <span data-ttu-id="f5866-146">Stattdessen wird ein eindeutiger bezeichnergenerator mit dem Namen Extidgen.exe als Teil von TSPI zur Verfügung gestellt.</span><span class="sxs-lookup"><span data-stu-id="f5866-146">Instead a unique identifier generator called Extidgen.exe is made available as part of TSPI.</span></span> <span data-ttu-id="f5866-147">Der Hersteller, der einen Satz Geräte spezifischer Erweiterungen entwirft, verwendet dieses Hilfsprogramm, um einen eindeutigen Bezeichner für diese Erweiterungen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="f5866-147">The vendor that designs a set of device-specific extensions uses this utility to obtain a unique identifier for those extensions.</span></span>

 

 
