---
description: Sitzungs-oder Aufrufstatus gibt den aktuellen Status einer Sitzung an, z \# . b. &0034; Angebot&\# 0034; oder &\# 0034; verbunden. &\# 0034; Die ordnungsgemäße Handhabung von Zustandsinformationen ist entscheidend für die ordnungsgemäße Funktionsweise der meisten TAPI-Anwendungen.
ms.assetid: a6a49b77-4e9b-4f23-bfe6-26f26549b18f
title: State
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 88fb9c482fcb9e432b5bfb5d36f77cd09f538086
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106352361"
---
# <a name="state"></a><span data-ttu-id="c5f09-103">State</span><span class="sxs-lookup"><span data-stu-id="c5f09-103">State</span></span>

<span data-ttu-id="c5f09-104">Sitzungs-oder Aufrufstatus gibt den aktuellen Status einer Sitzung an, z. b. "Angebot" oder "verbunden".</span><span class="sxs-lookup"><span data-stu-id="c5f09-104">Session or call state indicates the current status of a session, such as "offering" or "connected."</span></span> <span data-ttu-id="c5f09-105">Die ordnungsgemäße Handhabung von Zustandsinformationen ist entscheidend für die ordnungsgemäße Funktionsweise der meisten TAPI-Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="c5f09-105">Proper handling of state information is vital to the proper functioning of most TAPI applications.</span></span> <span data-ttu-id="c5f09-106">Beispielsweise kann der Antwort Vorgang nur für eine angebotene Sitzung ausgeführt werden, aber eine Übertragung schlägt fehl, wenn sich die Sitzung in diesem Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="c5f09-106">For example, the answer operation can be performed only on an offered session, but a transfer will fail if the session is in that state.</span></span>

<span data-ttu-id="c5f09-107">Der Status einer Sitzung ändert sich aufgrund von Ereignissen.</span><span class="sxs-lookup"><span data-stu-id="c5f09-107">A session's state changes as a result of events.</span></span> <span data-ttu-id="c5f09-108">Ereignisse können angefordert oder nicht angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="c5f09-108">Events can be solicited or unsolicited.</span></span> <span data-ttu-id="c5f09-109">Angeforderte *Ereignisse* werden von der Anwendung verursacht, die die Sitzung steuert, z. b. Wenn ein TAPI-Sitzungs Vorgang aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="c5f09-109">*Solicited events* are caused by the application controlling the session, such as when it invokes a TAPI session operation.</span></span> <span data-ttu-id="c5f09-110">Nicht *angeforderte Ereignisse* werden durch den Schalter, das Telefon Netzwerk, die Benutzer Schaltflächen auf dem lokalen Telefon oder die Aktionen der Remote Partei verursacht.</span><span class="sxs-lookup"><span data-stu-id="c5f09-110">*Unsolicited events* are caused by the switch, the telephone network, the user pressing buttons on the local phone, or the actions of the remote party.</span></span>

<span data-ttu-id="c5f09-111">Wenn ein Dienstanbieter eine Änderung des Sitzungs Zustands erkennt, meldet er die Änderung an TAPI, und TAPI gibt eine Ereignis Benachrichtigung an alle Besitzer-und Überwachungsanwendungen aus.</span><span class="sxs-lookup"><span data-stu-id="c5f09-111">Whenever a service provider detects a session state change, it reports the change to TAPI and TAPI issues an event notification to all owner and monitor applications.</span></span> <span data-ttu-id="c5f09-112">Die Anwendung muss auf diese Benachrichtigungen entsprechend reagieren.</span><span class="sxs-lookup"><span data-stu-id="c5f09-112">The application must react to these notifications appropriately.</span></span> <span data-ttu-id="c5f09-113">Informationen zum Steuern der an eine Anwendung gemeldeten Ereignisse finden Sie unter Ereignis Benachrichtigung unter [TAPI-Initialisierung](tapi-initialization.md) .</span><span class="sxs-lookup"><span data-stu-id="c5f09-113">Please see Event Notification under [TAPI Initialization](tapi-initialization.md) for information on controlling which events are reported to an application.</span></span>

<span data-ttu-id="c5f09-114">Eine Anwendung sollte immer Zustands Ereignis Benachrichtigungen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="c5f09-114">An application should always process state event notifications.</span></span> <span data-ttu-id="c5f09-115">Zustandsübergänge, die für eine physische Konfiguration gültig sind, sind möglicherweise für einen anderen ungültig.</span><span class="sxs-lookup"><span data-stu-id="c5f09-115">State transitions valid for one physical configuration may be invalid for another.</span></span> <span data-ttu-id="c5f09-116">Betrachten Sie z. b. eine Linie, die physisch sowohl auf dem Computer als auch an einem separaten Telefon Satz beendet wird, wobei eine Partei Zeilen Konfiguration zwischen dem Computer und dem Telefon Satz erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="c5f09-116">For example, consider a line that physically terminates both at the computer and at a separate phone set, creating a party line configuration between the computer and the phone set.</span></span> <span data-ttu-id="c5f09-117">Eine Anwendung, die auf dem Computer ausgeführt wird, kennt möglicherweise keine Telefon Satz Aktivitäten.</span><span class="sxs-lookup"><span data-stu-id="c5f09-117">An application running on the computer may not know about phone set activities.</span></span> <span data-ttu-id="c5f09-118">Das heißt, die Zeile wird möglicherweise verwendet, ohne dass der Dienstanbieter Sie kennt.</span><span class="sxs-lookup"><span data-stu-id="c5f09-118">That is, the line may be in use without the service provider being aware of it.</span></span> <span data-ttu-id="c5f09-119">Eine Anwendung, die versucht, einen ausgehenden-Befehl zu erstellen, kann die Darstellung eines Ansehens von TAPI erfolgreich zuordnen, dies führt jedoch dazu, dass der aktive-Befehl in der Zeile freigegeben wird</span><span class="sxs-lookup"><span data-stu-id="c5f09-119">An application that attempts to make an outgoing call will succeed in allocating a call appearance from TAPI, but this results in sharing the active call on the line.</span></span> <span data-ttu-id="c5f09-120">Das Blind Senden einer DTMF-Wähl Zeichenfolge, ohne zuerst auf einen Wählton zu prüfen, führt möglicherweise nicht zum beabsichtigten (oder höflichen) Verhalten</span><span class="sxs-lookup"><span data-stu-id="c5f09-120">Blindly sending a DTMF dial string without first checking for a dial tone may not result in intended (or polite) behavior.</span></span>

<span data-ttu-id="c5f09-121">Eine Anwendung sollte nicht einen strengen Fortschritt von einem Zustand zu einem anderen annehmen.</span><span class="sxs-lookup"><span data-stu-id="c5f09-121">An application should not assume a rigid progression from one state to another.</span></span> <span data-ttu-id="c5f09-122">Zustands Ereignisse werden empfangen und asynchron weitergeleitet, und Benachrichtigungen können nicht in einer vorhersagbaren Reihenfolge empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="c5f09-122">State events arrive and are forwarded asynchronously and notifications may not be received in a predictable order.</span></span> <span data-ttu-id="c5f09-123">Daher sollten Aufrufe von Zustands Benachrichtigungen so angezeigt werden, dass die Anwendung den neuen Status des Aufrufes anzeigt, anstatt die Übergänge zwischen zwei Zuständen zu melden.</span><span class="sxs-lookup"><span data-stu-id="c5f09-123">Therefore, call-state notifications should be viewed as telling the application the call's new state instead of as reporting the transitions between two states.</span></span>

<span data-ttu-id="c5f09-124">Alle Telefoniedienstanbieter müssen diese Informationen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="c5f09-124">All telephony service providers must supply this information.</span></span>

<span data-ttu-id="c5f09-125">\* \* TAPI 2. x: \* \*[**linegetcallstatus**](/windows/win32/api/tapi/nf-tapi-linegetcallstatus), [**linegetcallinfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), [**line \_ CallState**](./line-callstate.md) -Meldung, [linecallstate- \_ Konstanten](./linecallstate--constants.md)</span><span class="sxs-lookup"><span data-stu-id="c5f09-125">\*\*TAPI 2.x:  \*\*[**lineGetCallStatus**](/windows/win32/api/tapi/nf-tapi-linegetcallstatus), [**lineGetCallInfo**](/windows/win32/api/tapi/nf-tapi-linegetcallinfo), [**LINE\_CALLSTATE**](./line-callstate.md) message, [LINECALLSTATE\_ Constants](./linecallstate--constants.md)</span></span>

<span data-ttu-id="c5f09-126">**TAPI 3. x: **[**itcallinfo:: get \_ callinfolong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) (** cil \_ callid** -Member von [**CallInfo \_ Long**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long)), [**itcallstateevent**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallstateevent) -Benachrichtigung, [**Aufruf \_ Status**](/windows/desktop/api/Tapi3if/ne-tapi3if-call_state) Enumerator</span><span class="sxs-lookup"><span data-stu-id="c5f09-126">**TAPI 3.x:  **[**ITCallInfo::get\_CallInfoLong**](/windows/desktop/api/tapi3if/nf-tapi3if-itcallinfo-get_callinfolong) (** CIL\_CALLID** member of [**CALLINFO\_LONG**](/windows/desktop/api/Tapi3if/ne-tapi3if-callinfo_long)), [**ITCallStateEvent**](/windows/desktop/api/tapi3if/nn-tapi3if-itcallstateevent) notification, [**CALL\_STATE**](/windows/desktop/api/Tapi3if/ne-tapi3if-call_state) enumerator</span></span>

 

 
