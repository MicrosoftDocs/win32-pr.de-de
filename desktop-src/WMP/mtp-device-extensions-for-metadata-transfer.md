---
title: MTP-Geräte Erweiterungen für die metadatenübertragung
description: MTP-Geräte Erweiterungen für die metadatenübertragung
ms.assetid: 9cf68373-e84f-4568-a9da-16ddee0fc4e9
keywords:
- Windows Media Player, MTP-Geräte Erweiterungen
- Windows Media Player, Geräte Erweiterungen
- Windows-Media Player, Erweiterungen
- Windows-Media Player, Metadaten
- Windows Media Player, Media Transfer Protocol (MTP)
- Media Transfer Protocol (MTP)
- MTP (Media Transfer Protocol)
- Metadaten, MTP-Geräte Erweiterungen
- Metadaten, Geräte Erweiterungen
- Metadaten, Erweiterungen
- Geräte Erweiterungen, metadatenübertragung
- Erweiterungen, metadatenübertragung
- MTP-Geräte Erweiterungen für die metadatenübertragung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f64ff16fd97f135d7f8c902af823b967079408fb
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104036286"
---
# <a name="mtp-device-extensions-for-metadata-transfer"></a><span data-ttu-id="4c492-116">MTP-Geräte Erweiterungen für die metadatenübertragung</span><span class="sxs-lookup"><span data-stu-id="4c492-116">MTP Device Extensions for Metadata Transfer</span></span>

<span data-ttu-id="4c492-117">Bei Media Transfer Protocol (MTP) handelt es sich um ein für tragbare Mediengeräte konzipiertes Protokoll.</span><span class="sxs-lookup"><span data-stu-id="4c492-117">Media Transfer Protocol (MTP) is a protocol designed for portable media devices.</span></span> <span data-ttu-id="4c492-118">Der Hauptzweck dieses Protokolls besteht darin, ein allgemeines Protokoll zum Austauschen von Daten zwischen einem Computer und einem tragbaren Medien Gerät bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="4c492-118">The primary purpose of this protocol is to provide a common protocol for exchanging data between a computer and a portable media device.</span></span> <span data-ttu-id="4c492-119">Dies umfasst das empfangen und Senden von Medienobjekten und das Auflisten des Inhalts und der Funktionen des Geräts.</span><span class="sxs-lookup"><span data-stu-id="4c492-119">This includes receiving and sending media objects and enumerating the contents and capabilities of the device.</span></span>

<span data-ttu-id="4c492-120">MTP verwendet persistente eindeutige Objekt Bezeichner (puoids), um digitale Medienelemente (und andere Objekte) eindeutig zu identifizieren, die auf einem Gerät gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="4c492-120">MTP uses persistent unique object identifiers (PUOIDs) to uniquely identify digital media items (and other objects) stored on a device.</span></span> <span data-ttu-id="4c492-121">Beim Austauschen von Informationen zu Änderungen, die auf einem Gerät aufgetreten sind, das MTP unterstützt, verwenden das Gerät und Windows Media Player puoids, um zu ermitteln, welche Objekte geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="4c492-121">When exchanging information about changes that have occurred on a device that supports MTP, the device and Windows Media Player use PUOIDs to identify which objects have changed.</span></span>

<span data-ttu-id="4c492-122">Die Header Datei "wmpdevices. h", die als Teil des Windows Media Player SDK installiert wird, definiert die Strukturen und Konstanten, die für die Unterstützung von Windows Media Player-Geräte Erweiterungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="4c492-122">The header file named wmpdevices.h, which is installed as part of the Windows Media Player SDK, defines the structures and constants needed to support Windows Media Player device extensions.</span></span>

<span data-ttu-id="4c492-123">Damit ein Gerät als unterstützende metadatenübertragung über den Windows Media Player MTP-Geräte Erweiterungs Satz erkannt wird, muss es die folgenden Informationen in das deviceInfo-DataSet einschließen.</span><span class="sxs-lookup"><span data-stu-id="4c492-123">For a device to be recognized as supporting metadata transfer through the Windows Media Player MTP device extension set, it must include the following information in the DeviceInfo dataset.</span></span> <span data-ttu-id="4c492-124">(Weitere Informationen zu diesem Dataset finden Sie im Abschnitt 4.6.1 der MTP-Spezifikation.)</span><span class="sxs-lookup"><span data-stu-id="4c492-124">(For more information about this dataset, see section 4.6.1 of the MTP specification.)</span></span>



| <span data-ttu-id="4c492-125">Datasetfeld</span><span class="sxs-lookup"><span data-stu-id="4c492-125">Dataset field</span></span>          | <span data-ttu-id="4c492-126">Feld Reihenfolge</span><span class="sxs-lookup"><span data-stu-id="4c492-126">Field order</span></span> | <span data-ttu-id="4c492-127">Datentyp</span><span class="sxs-lookup"><span data-stu-id="4c492-127">Data type</span></span>  | <span data-ttu-id="4c492-128">Wert</span><span class="sxs-lookup"><span data-stu-id="4c492-128">Value</span></span>                       |
|------------------------|-------------|------------|-----------------------------|
| <span data-ttu-id="4c492-129">Vendorextensionid</span><span class="sxs-lookup"><span data-stu-id="4c492-129">VendorExtensionID</span></span>      | <span data-ttu-id="4c492-130">2</span><span class="sxs-lookup"><span data-stu-id="4c492-130">2</span></span>           | <span data-ttu-id="4c492-131">**UINT32**</span><span class="sxs-lookup"><span data-stu-id="4c492-131">**UINT32**</span></span> | <span data-ttu-id="4c492-132">0x00000006</span><span class="sxs-lookup"><span data-stu-id="4c492-132">0x00000006</span></span>                  |
| <span data-ttu-id="4c492-133">Vendorextensionversion</span><span class="sxs-lookup"><span data-stu-id="4c492-133">VendorExtensionVersion</span></span> | <span data-ttu-id="4c492-134">3</span><span class="sxs-lookup"><span data-stu-id="4c492-134">3</span></span>           | <span data-ttu-id="4c492-135">**UINT16**</span><span class="sxs-lookup"><span data-stu-id="4c492-135">**UINT16**</span></span> | <span data-ttu-id="4c492-136">0x0064 (100)</span><span class="sxs-lookup"><span data-stu-id="4c492-136">0x0064 (100)</span></span>                |
| <span data-ttu-id="4c492-137">Vendorextensiondesc</span><span class="sxs-lookup"><span data-stu-id="4c492-137">VendorExtensionDesc</span></span>    | <span data-ttu-id="4c492-138">4</span><span class="sxs-lookup"><span data-stu-id="4c492-138">4</span></span>           | <span data-ttu-id="4c492-139">**String**</span><span class="sxs-lookup"><span data-stu-id="4c492-139">**String**</span></span> | <span data-ttu-id="4c492-140">"Microsoft.com/WMPPD: 10,0"</span><span class="sxs-lookup"><span data-stu-id="4c492-140">"microsoft.com/WMPPD: 10.0"</span></span> |



 

<span data-ttu-id="4c492-141">In der folgenden Tabelle finden Sie Details zum MTP-Vorgang für die beschleunigte metadatenübertragung.</span><span class="sxs-lookup"><span data-stu-id="4c492-141">The following table provides details about the MTP operation for accelerated metadata transfer.</span></span>



| <span data-ttu-id="4c492-142">Element</span><span class="sxs-lookup"><span data-stu-id="4c492-142">Item</span></span>                  | <span data-ttu-id="4c492-143">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="4c492-143">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4c492-144">Vorgangs Code</span><span class="sxs-lookup"><span data-stu-id="4c492-144">Operation Code</span></span>        | <span data-ttu-id="4c492-145">0x9201</span><span class="sxs-lookup"><span data-stu-id="4c492-145">0x9201</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="4c492-146">Vorgangs Parameter 1</span><span class="sxs-lookup"><span data-stu-id="4c492-146">Operation Parameter 1</span></span> | <span data-ttu-id="4c492-147">Die Transaktions-ID, die während der letzten Sitzung vom Gerät bereitgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="4c492-147">The transaction ID supplied by the device during the previous session.</span></span> <span data-ttu-id="4c492-148">Dieser Wert ist für die erste Sitzung 0 (null).</span><span class="sxs-lookup"><span data-stu-id="4c492-148">This value is zero for the first session.</span></span>                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="4c492-149">Vorgangs Parameter 2</span><span class="sxs-lookup"><span data-stu-id="4c492-149">Operation Parameter 2</span></span> | <span data-ttu-id="4c492-150">Start Index.</span><span class="sxs-lookup"><span data-stu-id="4c492-150">Starting index.</span></span> <span data-ttu-id="4c492-151">Dieser Wert ist beim ersten Aufrufe einer Sitzung immer 0 (null).</span><span class="sxs-lookup"><span data-stu-id="4c492-151">This value is always zero on the first call of a session.</span></span> <span data-ttu-id="4c492-152">Bei nachfolgenden Aufrufen innerhalb derselben Synchronisierungs Sitzung erhöht sich dieser Wert um die Summe der Anzahl der geänderten und gelöschten Elemente aus den vorherigen Antwortdaten.</span><span class="sxs-lookup"><span data-stu-id="4c492-152">On subsequent calls within the same synchronization session, this value increases by the sum of the count of the modified and the deleted items from the previous response data.</span></span>                                                                                                                                                                                                                                             |
| <span data-ttu-id="4c492-153">Vorgangs Parameter 3</span><span class="sxs-lookup"><span data-stu-id="4c492-153">Operation Parameter 3</span></span> | <span data-ttu-id="4c492-154">0x10000.</span><span class="sxs-lookup"><span data-stu-id="4c492-154">0x10000.</span></span> <span data-ttu-id="4c492-155">Diese Konstante, die in wmpdevices. h definiert ist, ist die maximale Anzahl von puoids, die in der Antwort zurückgegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="4c492-155">This constant, defined in wmpdevices.h, is the maximum number of PUOIDs that can be returned in the response.</span></span> <span data-ttu-id="4c492-156">Beachten Sie, dass der Wert dieser Konstante in zukünftigen Versionen dieser Header Datei möglicherweise überarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="4c492-156">Note that the value of this constant may be revised in future releases of this header file.</span></span>                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="4c492-157">Vorgangs Parameter 4</span><span class="sxs-lookup"><span data-stu-id="4c492-157">Operation Parameter 4</span></span> | <span data-ttu-id="4c492-158">0</span><span class="sxs-lookup"><span data-stu-id="4c492-158">0</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="4c492-159">Vorgangs Parameter 5</span><span class="sxs-lookup"><span data-stu-id="4c492-159">Operation Parameter 5</span></span> | <span data-ttu-id="4c492-160">0</span><span class="sxs-lookup"><span data-stu-id="4c492-160">0</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="4c492-161">Daten</span><span class="sxs-lookup"><span data-stu-id="4c492-161">Data</span></span>                  | <span data-ttu-id="4c492-162">Das Gerät gibt zwei zusammenhängende MTP-Arrays mit puoids zurück.</span><span class="sxs-lookup"><span data-stu-id="4c492-162">The device returns two contiguous MTP arrays containing PUOIDs.</span></span> <span data-ttu-id="4c492-163">Jedes MTP-Array beginnt mit einem **DWORD** -Wert, der die Anzahl der Elemente im Array angibt, gefolgt vom Array von Elementen.</span><span class="sxs-lookup"><span data-stu-id="4c492-163">Each MTP array begins with a **DWORD** value indicating the count of items in the array, followed by the array of elements.</span></span> <span data-ttu-id="4c492-164">Das erste MTP-Array enthält die Liste der puoids, die hinzugefügt oder geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="4c492-164">The first MTP array contains the list of PUOIDs that have been added or changed.</span></span> <span data-ttu-id="4c492-165">Das zweite MTP-Array enthält die Liste der puoids, die vom tragbaren Gerät gelöscht wurden. Beachten Sie, dass die Summe der puoid-Anzahl in den beiden Arrays den in Vorgangs Parameter 3 übergebenen Wert nicht überschreiten darf.</span><span class="sxs-lookup"><span data-stu-id="4c492-165">The second MTP array contains the list of PUOIDs that have been deleted from the portable device.Note that the sum of PUOID count in the two arrays must not exceed the value passed in Operation Parameter 3.</span></span><br/> |
| <span data-ttu-id="4c492-166">Daten Richtung</span><span class="sxs-lookup"><span data-stu-id="4c492-166">Data Direction</span></span>        | <span data-ttu-id="4c492-167">R->I</span><span class="sxs-lookup"><span data-stu-id="4c492-167">R->I</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="4c492-168">Antwort Code Optionen</span><span class="sxs-lookup"><span data-stu-id="4c492-168">Response Code Options</span></span> | <span data-ttu-id="4c492-169">**MTP \_ Antwort \_ OK** (0x2001) oder gültiger Fehler Antwort Code.</span><span class="sxs-lookup"><span data-stu-id="4c492-169">**MTP\_RESPONSE\_OK** (0x2001) or valid error response code.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="4c492-170">Antwort Parameter 1</span><span class="sxs-lookup"><span data-stu-id="4c492-170">Response Parameter 1</span></span>  | <span data-ttu-id="4c492-171">Die aktuelle Transaktions-ID des Geräts.</span><span class="sxs-lookup"><span data-stu-id="4c492-171">The device's current transaction ID.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="4c492-172">Antwort Parameter 2</span><span class="sxs-lookup"><span data-stu-id="4c492-172">Response Parameter 2</span></span>  | <span data-ttu-id="4c492-173">Die Anzahl der puoids, die von zukünftigen Anforderungen abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="4c492-173">The number of PUOIDs that remain to be retrieved by future requests.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="4c492-174">Antwort Parameter 3</span><span class="sxs-lookup"><span data-stu-id="4c492-174">Response Parameter 3</span></span>  | <span data-ttu-id="4c492-175">**DWORD** , das Statusinformationen enthält.</span><span class="sxs-lookup"><span data-stu-id="4c492-175">**DWORD** containing status information.</span></span> <span data-ttu-id="4c492-176">Der Status wird auf bitweise angegeben.</span><span class="sxs-lookup"><span data-stu-id="4c492-176">Status is indicated in a bitwise fashion.</span></span> <span data-ttu-id="4c492-177">Informationen zu den zu verwendenden Flags finden Sie unter "Hinweise".</span><span class="sxs-lookup"><span data-stu-id="4c492-177">See Remarks for information about flags to use.</span></span>                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="4c492-178">Antwort Parameter 4</span><span class="sxs-lookup"><span data-stu-id="4c492-178">Response Parameter 4</span></span>  | <span data-ttu-id="4c492-179">0</span><span class="sxs-lookup"><span data-stu-id="4c492-179">0</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="4c492-180">Antwort Parameter 5</span><span class="sxs-lookup"><span data-stu-id="4c492-180">Response Parameter 5</span></span>  | <span data-ttu-id="4c492-181">0</span><span class="sxs-lookup"><span data-stu-id="4c492-181">0</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |



 

## <a name="remarks"></a><span data-ttu-id="4c492-182">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="4c492-182">Remarks</span></span>

<span data-ttu-id="4c492-183">Der Status wird durch den Antwort Parameter 3 in einer bitweisen Weise mithilfe der folgenden Flags angegeben.</span><span class="sxs-lookup"><span data-stu-id="4c492-183">Status is indicated through Response Parameter 3 in a bitwise fashion by using the following flags.</span></span>



| <span data-ttu-id="4c492-184">Flag</span><span class="sxs-lookup"><span data-stu-id="4c492-184">Flag</span></span>                                             | <span data-ttu-id="4c492-185">Wert</span><span class="sxs-lookup"><span data-stu-id="4c492-185">Value</span></span> | <span data-ttu-id="4c492-186">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="4c492-186">Description</span></span>                                                                                                                                                                                                                          |
|--------------------------------------------------|-------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4c492-187">**WMP- \_ MDRT- \_ Flags \_ nicht gemeldete \_ Gelöschte \_ Elemente**</span><span class="sxs-lookup"><span data-stu-id="4c492-187">**WMP\_MDRT\_FLAGS\_UNREPORTED\_DELETED\_ITEMS**</span></span> | <span data-ttu-id="4c492-188">0x1</span><span class="sxs-lookup"><span data-stu-id="4c492-188">0x1</span></span>   | <span data-ttu-id="4c492-189">Elemente wurden gelöscht, bevor der erste Objekt Pfadname gemeldet wird.</span><span class="sxs-lookup"><span data-stu-id="4c492-189">Items were deleted before the first object path name being reported.</span></span> <span data-ttu-id="4c492-190">Dies deutet häufig darauf hin, dass das Gerät neu formatiert wurde.</span><span class="sxs-lookup"><span data-stu-id="4c492-190">This often indicates that the device was reformatted.</span></span>                                                                                                           |
| <span data-ttu-id="4c492-191">**WMP- \_ MDRT- \_ Flags \_ nicht gemeldete \_ hinzugefügte \_ Elemente**</span><span class="sxs-lookup"><span data-stu-id="4c492-191">**WMP\_MDRT\_FLAGS\_UNREPORTED\_ADDED\_ITEMS**</span></span>   | <span data-ttu-id="4c492-192">0x2</span><span class="sxs-lookup"><span data-stu-id="4c492-192">0x2</span></span>   | <span data-ttu-id="4c492-193">Das Gerät enthält einige hinzugefügte Elemente, die in der Liste der puoids nicht zurückgegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="4c492-193">The device contains some added items that cannot be returned in the list of PUOIDS.</span></span> <span data-ttu-id="4c492-194">Beachten Sie, dass dieses Flag mit dem Antwort Parameter 2 nicht redundant ist.</span><span class="sxs-lookup"><span data-stu-id="4c492-194">Note that this flag is not redundant with Response Parameter 2.</span></span> <span data-ttu-id="4c492-195">Legen Sie dieses Flag nur fest, wenn angeforderte Elemente vorhanden sind, die das Gerät nicht zurückgeben kann.</span><span class="sxs-lookup"><span data-stu-id="4c492-195">Set this flag only when there are requested items that the device cannot return.</span></span> |



 

<span data-ttu-id="4c492-196">BITS 2 bis 31 sind für die zukünftige Verwendung reserviert.</span><span class="sxs-lookup"><span data-stu-id="4c492-196">Bits 2 through 31 are reserved for future use.</span></span> <span data-ttu-id="4c492-197">Diese Bits sollten auf 0 (null) festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="4c492-197">These bits should be set to zero.</span></span>

<span data-ttu-id="4c492-198">Windows Media Player sendet den MTP-Befehl zu Beginn einer Synchronisierungs Sitzung an ein Gerät, bevor Mediendateien übertragen werden.</span><span class="sxs-lookup"><span data-stu-id="4c492-198">Windows Media Player sends the MTP command to a device at the start of a synchronization session before media files are transferred.</span></span> <span data-ttu-id="4c492-199">Das Gerät sollte seine Antwort so schnell wie möglich zurückgeben, um Verzögerungen beim Synchronisierungs Vorgang zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="4c492-199">The device should return its response as quickly as possible to avoid delays in the synchronization operation.</span></span>

<span data-ttu-id="4c492-200">Windows Media Player fordert Werte für die in aufgeführten Attribute [über die Metadaten](about-the-metadata.md) für jede geänderte pouid an, die in der Antwort zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="4c492-200">Windows Media Player will request values for the attributes listed in [About the Metadata](about-the-metadata.md) for each modified POUID returned in the response.</span></span> <span data-ttu-id="4c492-201">Windows Media Player kann in nachfolgenden Befehlen aktualisierte Werte für diese Attribute an das Gerät senden.</span><span class="sxs-lookup"><span data-stu-id="4c492-201">Windows Media Player might send updated values for these attributes to the device in subsequent commands.</span></span>

<span data-ttu-id="4c492-202">Dateien, die als vom Gerät entfernt wurden, können erneut auf das Gerät kopiert werden, wenn Sie für die Benutzereinstellungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="4c492-202">Files reported as having been removed from the device can be copied to the device again if the user's settings require it.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4c492-203">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="4c492-203">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4c492-204">**Geräte Erweiterungen für die beschleunigte metadatenübertragung**</span><span class="sxs-lookup"><span data-stu-id="4c492-204">**Device Extensions for Accelerated Metadata Transfer**</span></span>](device-extensions-for-accelerated-metadata-transfer.md)
</dt> </dl>

 

 





