---
title: 64-Bit-Überlegungen
description: Mit der zunehmenden Verfügbarkeit von 64-Bit-Fenstern erwarten Benutzer, dass Eingabemethoden, wie z. b. Internationale Tastaturen in verschiedenen Sprachen oder Eingabemethoden-Editoren (IMEs) in ostasiatischen Sprachen, ordnungsgemäß mit 32-Bit-und 64-Bit-Anwendungen funktionieren.
ms.assetid: 6a99ad45-202c-4fbb-9707-341bc9fde21e
keywords:
- Text Dienst Framework (TSF), 64-Bit-Windows
- TSF (Text Dienst Framework), 64-Bit-Windows
- Text Services, 64-Bit-Windows
- 64-Bit-Windows
- Text Services-Framework (TSF), Eingabemethoden-Editor (IME)
- TSF (Text Dienste-Framework), Eingabemethoden-Editor (IME)
- Text Dienste, Eingabemethoden-Editor (IME)
- Eingabemethoden-Editor (IME)
- IME (Eingabemethoden-Editor)
- Text Dienst Framework (TSF), internationale Tastaturen
- TSF (Text Dienst Framework), internationale Tastaturen
- Text Dienste, internationale Tastaturen
- Internationale Tastaturen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 045ec699c7a433f15b92467e3072d30acbf01936
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104390482"
---
# <a name="64-bit-considerations"></a><span data-ttu-id="cbf89-116">64-Bit-Überlegungen</span><span class="sxs-lookup"><span data-stu-id="cbf89-116">64-Bit Considerations</span></span>

<span data-ttu-id="cbf89-117">Mit der zunehmenden Verfügbarkeit von 64-Bit-Fenstern erwarten Benutzer, dass Eingabemethoden, wie z. b. Internationale Tastaturen in verschiedenen Sprachen oder Eingabemethoden-Editoren (IMEs) in ostasiatischen Sprachen, ordnungsgemäß mit 32-Bit-und 64-Bit-Anwendungen funktionieren.</span><span class="sxs-lookup"><span data-stu-id="cbf89-117">With the increasing availability of 64-bit Windows, users expect input methods, such as international keyboards in various languages or Input Method Editors (IMEs) in East Asian languages, to work properly with both 32-bit and 64-bit applications.</span></span> <span data-ttu-id="cbf89-118">Wenn Sie Eingabemethoden Komponenten oder Text Dienste für Microsoft Windows entwickeln, ist es wichtig, dass Sie 64-Bit-Windows als potenzielle Zielplattform für Ihr Produkt in Erwägung gezogen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-118">When developing input method components or text services for Microsoft Windows, it is important to consider 64-bit Windows as a potential target platform for your product.</span></span>

<span data-ttu-id="cbf89-119">Da IMEs und Text Dienste (auf der Grundlage des Text Dienst-Frameworks) in der Regel als DLLs (Dynamic-Link Libraries) implementiert werden, ist es wichtig zu beachten, dass DLLs speziell für die Verwendung in 32-Bit-Umgebungen oder in 64-Bit-Umgebungen erstellt werden. eine DLL, die für die Verwendung in 32-Bit-Umgebungen erstellt wurde, kann von 64-Bit-Anwendungen nicht verwendet werden und umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-119">Because IMEs and text services (based on the Text Services Framework) are typically implemented as dynamic-link libraries (DLLs), it is important to note that DLLs are built specifically for use in either 32-bit environments or 64-bit environments; a DLL built for use in 32-bit environments cannot be used by 64-bit applications, and vice versa.</span></span>

> [!Note]  
> <span data-ttu-id="cbf89-120">WOW64 mindern diese bitspezifische dll-Einschränkung nicht.</span><span class="sxs-lookup"><span data-stu-id="cbf89-120">WOW64 does not mitigate this bit-specific DLL restriction.</span></span> <span data-ttu-id="cbf89-121">Weitere Informationen zu WOW64 finden Sie unter [Ausführen von 32-Bit-Anwendungen](/windows/desktop/WinProg64/running-32-bit-applications).</span><span class="sxs-lookup"><span data-stu-id="cbf89-121">For information about WOW64, see [Running 32-bit Applications](/windows/desktop/WinProg64/running-32-bit-applications).</span></span>

 

<span data-ttu-id="cbf89-122">In diesem Thema werden wichtige Entwurfs Überlegungen für die Entwicklung von IMEs und Text Diensten für die Verwendung auf 64-Bit-Windows erläutert.</span><span class="sxs-lookup"><span data-stu-id="cbf89-122">This topic discusses important design considerations for developing IMEs and text services for use on 64-bit Windows.</span></span>

## <a name="64-bit-considerations-for-imes"></a><span data-ttu-id="cbf89-123">64-Bit-Überlegungen für IMEs</span><span class="sxs-lookup"><span data-stu-id="cbf89-123">64-Bit Considerations for IMEs</span></span>

<span data-ttu-id="cbf89-124">In diesem Abschnitt werden die besonderen Aspekte beschrieben, die beim Entwickeln von IMEs für die Verwendung mit 64-Bit-Windows berücksichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-124">This section describes the special considerations involved with building IMEs for use with 64-bit Windows.</span></span> <span data-ttu-id="cbf89-125">Weitere Informationen zu IMEs finden Sie unter [Eingabemethoden-Editor](/previous-versions/windows/desktop/dnacc/input-method-editor-and-text-services-framework-accessibility).</span><span class="sxs-lookup"><span data-stu-id="cbf89-125">For information about IMEs, see [Input Method Editor](/previous-versions/windows/desktop/dnacc/input-method-editor-and-text-services-framework-accessibility).</span></span>

## <a name="building-32-bit-and-64-bit-versions-of-an-ime"></a><span data-ttu-id="cbf89-126">Entwickeln von 32-Bit-und 64-Bit-Versionen von IME</span><span class="sxs-lookup"><span data-stu-id="cbf89-126">Building 32-Bit and 64-Bit Versions of an IME</span></span>

<span data-ttu-id="cbf89-127">Aufgrund des bereits erwähnten 32-Bit-oder 64-Bit-Kompatibilitäts Problems mit DLLs müssen einige Vorsichtsmaßnahmen ergriffen werden, um sicherzustellen, dass die IMEs mit jeder Anwendung (32-Bit oder 64-Bit), die unter 64-Bit-Windows ausgeführt wird, transparent funktioniert.</span><span class="sxs-lookup"><span data-stu-id="cbf89-127">Because of the previously mentioned 32-bit/64-bit compatibility issue with DLLs, some precautions must be taken to ensure that IMEs work transparently with any application (32-bit or 64-bit) running on 64-bit Windows.</span></span> <span data-ttu-id="cbf89-128">Die empfohlene Lösung, mit der ihr IME transparent mit 32-Bit-und 64-Bit-Anwendungen auf einer 64-Bit-Plattform ausgeführt werden kann, ist die Erstellung und Installation paralleler 32-Bit-und 64-Bit-Versionen der IME-DLL.</span><span class="sxs-lookup"><span data-stu-id="cbf89-128">The recommended solution for enabling your IME to work transparently with both 32-bit and 64-bit applications on a 64-bit platform is to build and install parallel 32-bit and 64-bit versions of the IME DLL.</span></span> <span data-ttu-id="cbf89-129">In der Regel erstellen Entwickler parallele DLLs aus einer einzelnen Quelle, indem Sie die Einstellungen der Zielplattform in ihrer Buildumgebung anpassen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-129">Typically, developers build parallel DLLs from a single source by adjusting the target platform settings in their build environment.</span></span> <span data-ttu-id="cbf89-130">Weitere Informationen zu den Single-Sourcing-32-Bit-und 64-Bit-Anwendungen finden Sie unter [vorbereiten für 64-Bit-Windows](/windows/desktop/WinProg64/getting-ready-for-64-bit-windows).</span><span class="sxs-lookup"><span data-stu-id="cbf89-130">For more information about single-sourcing 32-bit and 64-bit applications, see [Getting Ready for 64-bit Windows](/windows/desktop/WinProg64/getting-ready-for-64-bit-windows).</span></span>

## <a name="side-by-side-installation-of-64-bit-and-32-bit-input-method-editors"></a><span data-ttu-id="cbf89-131">Parallele Installation von 64-Bit-und 32-Bit-Eingabemethoden-Editoren</span><span class="sxs-lookup"><span data-stu-id="cbf89-131">Side-by-Side Installation of 64-Bit and 32-Bit Input Method Editors</span></span>

<span data-ttu-id="cbf89-132">Entwickler von IMEs und Text Diensten sollten sich über die in diesem Thema beschriebenen 64-Bit-Überlegungen bewusst sein.</span><span class="sxs-lookup"><span data-stu-id="cbf89-132">Developers of IMEs and text services should be aware of the 64-bit considerations described throughout this topic.</span></span> <span data-ttu-id="cbf89-133">Glücklicherweise müssen sich Endbenutzer dieser Dienste nicht mit diesen Implementierungs spezifischen Details befassen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-133">Fortunately, end users of these services need not be concerned with these implementation-specific details.</span></span> <span data-ttu-id="cbf89-134">Eine Funktion von 64-Bit-Fenstern ist die Möglichkeit, die Notwendigkeit von 64-Bit-und 32-Bit-spezifischen Versionen der IME-DLLs von Endbenutzern auszublenden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-134">A feature of 64-bit Windows is the ability to hide the need for 64-bit and 32-bit-specific versions of the IME DLLs from end users.</span></span> <span data-ttu-id="cbf89-135">Wenn beide Versionen von IME ordnungsgemäß installiert sind, erkennt 64-Bit-Windows das vorhanden sein von 64-Bit-und 32-Bit-Versionen von IME und präsentiert diese bitspezifischen IMEs dem Endbenutzer als einzelnen *logischen* IME.</span><span class="sxs-lookup"><span data-stu-id="cbf89-135">When both versions of the IME are properly installed in a side-by-side manner, 64-bit Windows recognizes the presence of both 64-bit and 32-bit versions of the IME and presents these bit-specific IMEs to the end user as a single *logical* IME.</span></span> <span data-ttu-id="cbf89-136">Wenn ein Endbenutzer ein IME verwenden muss, wählt 64-Bit-Windows transparent die Version des IME (32-Bit oder 64-Bit) aus, die für die jeweiligen Umstände geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="cbf89-136">When an end user needs to use an IME, 64-bit Windows transparently chooses the version of the IME (32-bit or 64-bit) that is appropriate for the given circumstances.</span></span>

<span data-ttu-id="cbf89-137">Damit parallele Installationen von 64-Bit-und 32-Bit-IMEs ordnungsgemäß funktionieren (d. h., um die beiden plattformspezifischen DLLs als einzelne logische IME für den Benutzer darzustellen), müssen die folgenden Bedingungen erfüllt sein:</span><span class="sxs-lookup"><span data-stu-id="cbf89-137">For side-by-side installations of 64-bit and 32-bit IMEs to function properly (that is, to represent the two platform-specific DLLs as a single logical IME to the user), the following conditions must be met:</span></span>

-   <span data-ttu-id="cbf89-138">Entwickler müssen plattformspezifische Versionen (einen für 32-Bit-Windows und einen für 64-Bit-Windows) der IME-DLL erstellen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-138">Developers must build platform-specific versions (one for 32-bit Windows and one for 64-bit Windows) of the IME DLL.</span></span>
-   <span data-ttu-id="cbf89-139">Die 32-Bit-und 64-Bit-DLLs müssen denselben Dateinamen haben.</span><span class="sxs-lookup"><span data-stu-id="cbf89-139">The 32-bit and 64-bit DLLs must share the same file name.</span></span>
-   <span data-ttu-id="cbf89-140">Die Installationsverzeichnis Anforderungen müssen befolgt werden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-140">Installation directory requirements must be followed.</span></span> <span data-ttu-id="cbf89-141">Weitere Informationen finden Sie unter Installationsverzeichnis Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-141">For more information, see Installation Directory Requirements.</span></span>

<span data-ttu-id="cbf89-142">Parallele Installationen von 32-Bit-und 64-Bit-IME-DLLs verwenden denselben Registrierungsschlüssel zum Speichern von Konfigurationsdaten (einschließlich des dll-Datei namens):</span><span class="sxs-lookup"><span data-stu-id="cbf89-142">Side-by-side installations of 32-bit and 64-bit IME DLLs share the same registry key for storing configuration data (including the DLL file name):</span></span>


```C++
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control\Keyboard Layouts
```



<span data-ttu-id="cbf89-143">Die Funktion " [**imminstalkalk**](/windows/desktop/api/imm/nf-imm-imminstallimea) " wird verwendet, um diesen Registrierungsschlüssel zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-143">The [**ImmInstallIME**](/windows/desktop/api/imm/nf-imm-imminstallimea) function is used to create this registry key.</span></span> <span data-ttu-id="cbf89-144">Das Setup-und Installationsprogramm für einen IME muss diese Funktion zum Registrieren des IME als unterstütztes Tastaturlayout aufruft.</span><span class="sxs-lookup"><span data-stu-id="cbf89-144">The setup and installation program for an IME must call this function to register the IME as a supported keyboard layout.</span></span> <span data-ttu-id="cbf89-145">Die **imminstalkalk** -Funktion sollte nur einmal aufgerufen werden, entweder von der 32-Bit-oder 64-Bit-Version der IME-DLL.</span><span class="sxs-lookup"><span data-stu-id="cbf89-145">The **ImmInstallIME** function should be called only once, either from the 32-bit or 64-bit version of the IME DLL.</span></span>

## <a name="mismatched-ime-dlls"></a><span data-ttu-id="cbf89-146">Nicht übereinstimmende IME-DLLs</span><span class="sxs-lookup"><span data-stu-id="cbf89-146">Mismatched IME DLLs</span></span>

<span data-ttu-id="cbf89-147">Die Installation von nur der 32-Bit-Version einer IME auf 64-Bit-Windows wird weder empfohlen noch unterstützt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-147">Installing only the 32-bit version of an IME on 64-bit Windows is neither recommended nor supported.</span></span> <span data-ttu-id="cbf89-148">Wenn eine 64-Bit-Anwendung versucht, eine 32-Bit-Version zu laden, schlägt der IME automatisch fehl, wenn die Anwendung versucht, das zugehörige Tastaturlayout zu laden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-148">If a 64-bit application attempts to load a 32-bit IME, the IME fails silently when the application attempts to load the associated keyboard layout.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="cbf89-149">Wenn ein 64-Bit-Anwendungs-/32-Bit-IME-Konflikt Fehler auftritt, wird kein Warn Dialogfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-149">No warning dialog or message displays when a 64-bit application/32-bit IME conflict error occurs.</span></span>

 

<span data-ttu-id="cbf89-150">64-Bit-Überlegungen für Text Dienste</span><span class="sxs-lookup"><span data-stu-id="cbf89-150">64-Bit Considerations for Text Services</span></span>

<span data-ttu-id="cbf89-151">In diesem Abschnitt werden die besonderen Aspekte beim Aufbau von Text Diensten für die Verwendung in 64-Bit-Umgebungen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="cbf89-151">This section describes the special considerations involved with building text services for use in 64-bit environments.</span></span> <span data-ttu-id="cbf89-152">Weitere Informationen zu Text Diensten und zum Text Dienst-Framework finden Sie unter [Text Services-Framework](text-services-framework.md).</span><span class="sxs-lookup"><span data-stu-id="cbf89-152">For more information about text services and the Text Services Framework, see [Text Services Framework](text-services-framework.md).</span></span>

## <a name="building-32-bit-and-64-bit-text-services"></a><span data-ttu-id="cbf89-153">Entwickeln von 32-Bit-und 64-Bit-Text Diensten</span><span class="sxs-lookup"><span data-stu-id="cbf89-153">Building 32-Bit and 64-Bit Text Services</span></span>

<span data-ttu-id="cbf89-154">Ein Text Dienst wird als Component Object Model (com)-Objekt implementiert, das in einer DLL verfügbar gemacht wird.</span><span class="sxs-lookup"><span data-stu-id="cbf89-154">A text service is implemented as a Component Object Model (COM) object exposed on a DLL.</span></span> <span data-ttu-id="cbf89-155">Folglich können 32-Bit/64-Bit-DLL-Konflikte mit Text Diensten auftreten, die auf 64-Bit-Windows installiert sind.</span><span class="sxs-lookup"><span data-stu-id="cbf89-155">Consequently, 32-bit/64-bit DLL conflicts can occur with text services installed on 64-bit Windows.</span></span> <span data-ttu-id="cbf89-156">Ebenso wie bei IMEs wird empfohlen, den Text Dienst so zu aktivieren, dass sowohl 32-Bit-als auch 64-Bit-Anwendungen auf einer 64-Bit-Plattform transparent funktionieren, indem Sie parallele 32-Bit-und 64-Bit-Versionen der Text Dienst-dll erstellen und installieren.</span><span class="sxs-lookup"><span data-stu-id="cbf89-156">Just as with IMEs, the recommended solution for enabling your text service to work transparently with both 32-bit and 64-bit applications on a 64-bit platform is to build and install parallel 32-bit and 64-bit versions of the text service DLL.</span></span>

## <a name="side-by-side-installation-of-64-bit-and-32-bit-text-services"></a><span data-ttu-id="cbf89-157">Parallele Installation von 64-Bit-und 32-Bit-Text Diensten</span><span class="sxs-lookup"><span data-stu-id="cbf89-157">Side-by-Side Installation of 64-Bit and 32-Bit Text Services</span></span>

<span data-ttu-id="cbf89-158">Die folgenden Bedingungen müssen erfüllt sein, damit eine 32-Bit-Version und eine 64-Bit-Version eines Text dienstanders nebeneinander installiert und als einzelner, logischer Text Dienst dargestellt werden:</span><span class="sxs-lookup"><span data-stu-id="cbf89-158">For a 32-bit version and a 64-bit version of a text service to be installed side-by-side and represented to the user as a single, logical text service, the following conditions must be met:</span></span>

-   <span data-ttu-id="cbf89-159">Beide Versionen des Text Dienstanbieter geben die gleiche Klassen-ID (CLSID) an, wenn Sie mit dem com-Subsystem registriert werden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-159">Both versions of the text service specify the same class identifier (CLSID) when they are registered with the COM subsystem.</span></span>
-   <span data-ttu-id="cbf89-160">Beide Versionen des Text Dienstanbieter werden unabhängig voneinander registriert.</span><span class="sxs-lookup"><span data-stu-id="cbf89-160">Both versions of the text service are registered independently.</span></span> <span data-ttu-id="cbf89-161">Weitere Informationen finden Sie unter [Registrieren von com-Anwendungen](/windows/desktop/com/registering-com-applications).</span><span class="sxs-lookup"><span data-stu-id="cbf89-161">For more information, see [Registering COM Applications](/windows/desktop/com/registering-com-applications).</span></span>

<span data-ttu-id="cbf89-162">Wenn ein 32-Bit-Text Dienst bei 64-Bit-Fenstern registriert ist, wird der Registrierungsvorgang transparent an den folgenden Registrierungsschlüssel umgeleitet:</span><span class="sxs-lookup"><span data-stu-id="cbf89-162">When a 32-bit text service is registered with 64-bit Windows, the registration operation is transparently redirected to the following registry key:</span></span>


```C++
HKEY_CLASS_ROOT\Wow6432Node\CLSID
```



[<span data-ttu-id="cbf89-163">Registrierungs Redirector</span><span class="sxs-lookup"><span data-stu-id="cbf89-163">Registry Redirector</span></span>](/windows/desktop/WinProg64/registry-redirector)


```C++
HKEY_LOCAL_MACHINE\Software\Microsoft\CTF\TIP
```



<span data-ttu-id="cbf89-164">[Itfinputprocessorprofiles](/windows/desktop/api/Msctf/nn-msctf-itfinputprocessorprofiles)-[Text Dienst Registrierung](text-service-registration.md)</span><span class="sxs-lookup"><span data-stu-id="cbf89-164">[ITfInputProcessorProfiles](/windows/desktop/api/Msctf/nn-msctf-itfinputprocessorprofiles)[Text Service Registration](text-service-registration.md)</span></span>

<span data-ttu-id="cbf89-165">Die 64-Bit-Version und die 32-Bit-Version eines Text Dienstanbieter werden möglicherweise gleichzeitig verwendet.</span><span class="sxs-lookup"><span data-stu-id="cbf89-165">The 64-bit version and the 32-bit version of a text service might be in use simultaneously.</span></span> <span data-ttu-id="cbf89-166">In Fällen, in denen beide Versionen eines Text Dienstanbieter alle freigegebenen Objekte bearbeiten müssen, sollte die Koordination für den Zugriff auf freigegebene Objekte im Text Dienst entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-166">In cases where both versions of a text service need to manipulate any shared objects, coordination for access shared objects should be designed into the text service.</span></span> <span data-ttu-id="cbf89-167">Jeder Text Dienst ist für das Verwalten von freigegebenen Objekten zuständig, die verwendet oder benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-167">Each text service is responsible for managing any shared objects that are used or needed.</span></span>

## <a name="installing-only-32-bit-text-services-on-64-bit-windows"></a><span data-ttu-id="cbf89-168">Installieren von nur 32-Bit-Text Diensten auf 64-Bit-Windows</span><span class="sxs-lookup"><span data-stu-id="cbf89-168">Installing Only 32-Bit Text Services on 64-Bit Windows</span></span>

<span data-ttu-id="cbf89-169">Die Installation von nur der 32-Bit-Version eines Text Dienstanbieter auf einer 64-Bit-Windows-Plattform wird weder empfohlen noch unterstützt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-169">Installing only the 32-bit version of a text service on a 64-bit Windows platform is neither recommended nor supported.</span></span> <span data-ttu-id="cbf89-170">Aufgrund der Registrierungs Zuordnung, die auf 64-Bit-Windows-Plattformen ausgeführt wird, kann eine 64-Bit-Anwendung die Dienste eines 32-Bit-Text Diensts über die **itfinputprocessorprofiles** -Schnittstelle auflisten.</span><span class="sxs-lookup"><span data-stu-id="cbf89-170">Because of the registration mapping that is done on 64-bit Windows platforms, a 64-bit application can enumerate the services of a 32-bit Text Service through the **ITfInputProcessorProfiles** interface.</span></span> <span data-ttu-id="cbf89-171">Wenn jedoch eine 64-Bit-Anwendung versucht, einen 32-Bit-Text Dienst zu laden, wird das Laden im Hintergrund fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-171">However, if a 64-bit application attempts to load a 32-bit text service, the load fails silently.</span></span>

> [!IMPORTANT]
>
> <span data-ttu-id="cbf89-172">Wenn ein 64-Bit-Anwendung/32-Bit-Text Dienst-Konflikt Fehler auftritt, wird kein Warn Dialogfeld oder keine Meldung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-172">No warning dialog or message displays when a 64-bit application/32-bit text service conflict error occurs.</span></span>

 

<span data-ttu-id="cbf89-173">Weitere Überlegungen</span><span class="sxs-lookup"><span data-stu-id="cbf89-173">Other Considerations</span></span>

## <a name="installation-directory-requirements"></a><span data-ttu-id="cbf89-174">Anforderungen an das Installationsverzeichnis</span><span class="sxs-lookup"><span data-stu-id="cbf89-174">Installation Directory Requirements</span></span>

<span data-ttu-id="cbf89-175">In diesem Abschnitt werden die Anforderungen für die Installation von IME-und Text-Dienst Binärdateien beschrieben.</span><span class="sxs-lookup"><span data-stu-id="cbf89-175">This section describes requirements for where to install IME and text service binary files.</span></span> <span data-ttu-id="cbf89-176">Wenn diese Anforderungen nicht befolgt werden, funktioniert der Text Dienst oder der IME möglicherweise nicht ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="cbf89-176">If these requirements are not followed, your text service or IME might not function correctly.</span></span>

<span data-ttu-id="cbf89-177">**IME-DLLs**</span><span class="sxs-lookup"><span data-stu-id="cbf89-177">**IME DLLs**</span></span>

<span data-ttu-id="cbf89-178">Installieren Sie auf 64-Bit-Windows-Plattformen die 32-Bit-und 64-Bit-IME-DLLs in den folgenden Verzeichnissen:</span><span class="sxs-lookup"><span data-stu-id="cbf89-178">On 64-bit Windows platforms, install the 32-bit and 64-bit IME DLLs in the following directories:</span></span>

-   <span data-ttu-id="cbf89-179">Installieren Sie 32-Bit-IME-DLLs im System Verzeichnis syswow64; Rufen Sie [**GetSystemWow64Directory**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directorya)oder [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) mit **CSIDL \_ SYSTEMX86** auf, um diesen Verzeichnispfad abzurufen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-179">Install 32-bit IME DLLs in the SysWOW64 system directory; call [**GetSystemWow64Directory**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directorya), or [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with **CSIDL\_SYSTEMX86** to retrieve this directory path.</span></span> <span data-ttu-id="cbf89-180">Wenn Sie [Windows Installer](/windows/desktop/Msi/about-windows-installer)verwenden, verwenden Sie alternativ die [**System Folder**](/windows/desktop/Msi/systemfolder) -Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="cbf89-180">Alternately, if you are using [Windows Installer](/windows/desktop/Msi/about-windows-installer), use the [**SystemFolder**](/windows/desktop/Msi/systemfolder) property.</span></span>
-   <span data-ttu-id="cbf89-181">Installieren Sie 64-Bit-IME-DLLs im Verzeichnis "System32 System". Rufen Sie [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya)oder **SHGetFolderPath** mit dem [CSIDL- \_ System](/windows/desktop/shell/csidl) auf, um diesen Verzeichnispfad abzurufen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-181">Install 64-bit IME DLLs in the System32 system directory; call [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya), or **SHGetFolderPath** with [CSIDL\_SYSTEM](/windows/desktop/shell/csidl) to retrieve this directory path.</span></span> <span data-ttu-id="cbf89-182">Oder verwenden Sie für Windows Installer die [**System64Folder**](/windows/desktop/Msi/system64folder) -Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="cbf89-182">Or, for Windows Installer, use the [**System64Folder**](/windows/desktop/Msi/system64folder) property.</span></span>

<span data-ttu-id="cbf89-183">**Text Dienst-DLLs und zugehörige Binärdateien**</span><span class="sxs-lookup"><span data-stu-id="cbf89-183">**Text Service DLLs and Related Binary Files**</span></span>

<span data-ttu-id="cbf89-184">Installieren Sie auf 64-Bit-Windows-Plattformen die 32-Bit-und 64-Bit-Text Dienst-DLLs sowie alle anderen Binärdateien im Zusammenhang mit dem Text Dienst oder dem IME in den folgenden Verzeichnissen:</span><span class="sxs-lookup"><span data-stu-id="cbf89-184">On 64-bit Windows platforms, install the 32-bit and 64-bit text service DLLs, as well as any other binary files related to your text service or IME, in the following directories:</span></span>

-   <span data-ttu-id="cbf89-185">Installieren Sie 32-Bit-Text Dienst-DLLs und alle anderen 32-Bit-Binärdateien in einem Unterverzeichnis im Verzeichnis "Programme (x86)". Rufen Sie **SHGetFolderPath** mit dem **CSIDL- \_ Programm \_ FILESX86** auf, um diesen Verzeichnispfad abzurufen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-185">Install 32-bit text service DLLs and any other 32-bit binary files in a subdirectory in the Program Files (x86) directory; call **SHGetFolderPath** with **CSIDL\_PROGRAM\_FILESX86** to retrieve this directory path.</span></span> <span data-ttu-id="cbf89-186">Oder verwenden Sie für Windows Installer die [**ProgramFilesFolder**](/windows/desktop/Msi/programfilesfolder) -Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="cbf89-186">Or, for Windows Installer, use the [**ProgramFilesFolder**](/windows/desktop/Msi/programfilesfolder) property.</span></span>
-   <span data-ttu-id="cbf89-187">Installieren Sie 64-Bit-Text Dienst-DLLs und alle anderen 64-Bit-Binärdateien in einem Unterverzeichnis unter dem Verzeichnis "Programme". Rufen Sie **SHGetFolderPath** mit **CSIDL- \_ Programm \_ Dateien** auf, um diesen Verzeichnispfad abzurufen.</span><span class="sxs-lookup"><span data-stu-id="cbf89-187">Install 64-bit text service DLLs and any other 64-bit binary files in a subdirectory under the Program Files directory; call **SHGetFolderPath** with **CSIDL\_PROGRAM\_FILES** to retrieve this directory path.</span></span> <span data-ttu-id="cbf89-188">Oder verwenden Sie für Windows Installer die [**ProgramFiles64Folder**](/windows/desktop/Msi/programfiles64folder) -Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="cbf89-188">Or, for Windows Installer, use the [**ProgramFiles64Folder**](/windows/desktop/Msi/programfiles64folder) property.</span></span>

<span data-ttu-id="cbf89-189">Wenn Sie kein Windows Installer Paket verwenden, um den IME-oder Text Dienst zu installieren, wird eine 64-Bit-Installationsanwendung verwendet.</span><span class="sxs-lookup"><span data-stu-id="cbf89-189">If you are not using a Windows Installer package to install your IME or text service, it is strongly recommnded that you use a 64-bit installation application.</span></span> <span data-ttu-id="cbf89-190">Der WOW64 File System Redirector kann dazu führen, dass 32-Bit-Installationsprogramme Dateien in den falschen Verzeichnissen platzieren (z. b. kann die WOW64-Dateisystem Umleitung dazu führen, dass Dateien, die für das Verzeichnis System32 vorgesehen sind, stattdessen im syswow64-Verzeichnis installiert werden).</span><span class="sxs-lookup"><span data-stu-id="cbf89-190">The WOW64 file system redirector might cause 32-bit installers to place files in the wrong directories (for example, WOW64 file system redirection might cause files intended for the System32 directory to be installed in the SysWOW64 directory instead).</span></span> <span data-ttu-id="cbf89-191">Wenn Sie ein 32-Bit-Installationsprogramm verwenden müssen, deaktivieren Sie die WOW64-Datei Umleitung während des Installationsvorgangs, um sicherzustellen, dass der File-Redirector-Dienst während des Installationsvorgangs keine unbeabsichtigte Umleitung auslöst.</span><span class="sxs-lookup"><span data-stu-id="cbf89-191">If you must use a 32-bit installer, disable WOW64 file redirection during the installation process to ensure that the file-redirector service does not cause any unintended redirection during the installation process.</span></span> <span data-ttu-id="cbf89-192">Weitere Informationen zum Dateisystem-Redirector WOW64 finden Sie unter [Dateisystem-Redirector](/windows/desktop/WinProg64/file-system-redirector).</span><span class="sxs-lookup"><span data-stu-id="cbf89-192">For information about the WOW64 file system redirector, see [File System Redirector](/windows/desktop/WinProg64/file-system-redirector).</span></span> <span data-ttu-id="cbf89-193">Informationen dazu, wie Sie die WOW64-Dateisystem Umleitung deaktivieren oder aktivieren, finden Sie unter [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection).</span><span class="sxs-lookup"><span data-stu-id="cbf89-193">For information about how to disable or enable WOW64 file system redirection, see [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection).</span></span>

> [!TIP]
>
> <span data-ttu-id="cbf89-194">Vermeiden Sie hart codierte Installations Pfade.</span><span class="sxs-lookup"><span data-stu-id="cbf89-194">Avoid hard-coded installation paths.</span></span> <span data-ttu-id="cbf89-195">Weitere Informationen finden Sie unter [Suchen von Verzeichnissen mithilfe der Anwendungsprogrammierschnittstelle nicht Hard-Coded Pfade](/previous-versions//ms675638(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="cbf89-195">For more information, see [Locate Directories Using the Application Programming Interface Not Hard-Coded Paths](/previous-versions//ms675638(v=vs.85))</span></span>

 

> [!IMPORTANT]
>
> <span data-ttu-id="cbf89-196">Installieren Sie keine IME-oder Text Dienst Dateien im speziellen Verzeichnis% windir% \\ IME (standardmäßig c: \\ Windows \\ IME).</span><span class="sxs-lookup"><span data-stu-id="cbf89-196">Do not install any IME or text service files in the special directory %WINDIR%\\IME (by default, c:\\Windows\\IME ).</span></span> <span data-ttu-id="cbf89-197">Dieses Verzeichnis enthält Systemdateien, die Text Dienste und IMEs unterstützen. Er ist nicht dafür vorgesehen, IME-oder Text Dienst Dateien von Drittanbietern zu enthalten, und die WOW64-Dateisystem Umleitung wird für dieses Verzeichnis nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-197">This directory contains system files that support text services and IMEs; it is not intended to contain any third-party IME or text service files, and WOW64 file system redirection is not supported for this directory.</span></span>

 

## <a name="dual-ctfmonexe-processes-run-on-64-bit-windows-platforms"></a><span data-ttu-id="cbf89-198">Duale Ctfmon.exe Prozesse werden auf 64-Bit-Windows-Plattformen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-198">Dual Ctfmon.exe Processes Run on 64-Bit Windows Platforms</span></span>

<span data-ttu-id="cbf89-199">Der ctfmon.exe Prozess verwaltet das Text Dienst Framework auf dem Desktop und stellt auch die Benutzeroberfläche der sprach Leiste bereit.</span><span class="sxs-lookup"><span data-stu-id="cbf89-199">The ctfmon.exe process manages the Text Services Framework on the desktop and also provides the language bar user interface (UI).</span></span> <span data-ttu-id="cbf89-200">Auf 64-Bit-Fenstern werden eine 32-Bit-Version und eine 64-Bit-Version des ctfmon.exe Prozesses gleichzeitig ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="cbf89-200">On 64-bit Windows, a 32-bit version and a 64-bit version of the ctfmon.exe process run simultaneously.</span></span> <span data-ttu-id="cbf89-201">Der 64-Bit-ctfmon.exe Prozess verwaltet 64-Bit-Text Dienste und ebenso wie der 32-Bit-ctfmon.exe Prozess 32-Bit-Text Dienste.</span><span class="sxs-lookup"><span data-stu-id="cbf89-201">The 64-bit ctfmon.exe process manages 64-bit text services, and, likewise, the 32-bit ctfmon.exe process manages 32-bit text services.</span></span>

## <a name="display-behavior-for-different-versions-of-the-language-bar-ui"></a><span data-ttu-id="cbf89-202">Anzeigeverhalten für verschiedene Versionen der sprach leisten-Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="cbf89-202">Display Behavior for Different Versions of the Language Bar UI</span></span>

<span data-ttu-id="cbf89-203">Auf 64-Bit-Fenstern wird immer nur die sprach leisten-Benutzeroberfläche angezeigt, die mit der 64-Bit-Version eines Text Dienstanbieter verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="cbf89-203">On 64-bit Windows, only the language bar UI associated with the 64-bit version of a text service is ever shown.</span></span> <span data-ttu-id="cbf89-204">In Fällen, in denen eine 32-Bit-Anwendung die 32-Bit-Version eines Text Dienstanbieter verwendet, fügt der 64-Bit-Windows automatisch die Benutzeroberfläche der sprach Leiste für den entsprechenden 64-Bit-Text Dienst ein.</span><span class="sxs-lookup"><span data-stu-id="cbf89-204">In cases where a 32-bit application is using the 32-bit version of a text service, 64-bit Windows automatically inserts the language bar UI for the equivalent 64-bit text service.</span></span> <span data-ttu-id="cbf89-205">Dadurch wird sichergestellt, dass keine besondere Arbeit erforderlich ist, damit 32-Bit-Text Dienste in der 64-Bit-Version der sprach Leiste angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="cbf89-205">This ensures that no special work is required for 32-bit text services to appear in the 64-bit version of the language bar.</span></span>

## <a name="control-panel-considerations-on-64-bit-windows"></a><span data-ttu-id="cbf89-206">Überlegungen zur Systemsteuerung auf 64-Bit-Windows</span><span class="sxs-lookup"><span data-stu-id="cbf89-206">Control Panel Considerations on 64-Bit Windows</span></span>

<span data-ttu-id="cbf89-207">64-Bit-Windows ermöglicht den Zugriff auf 32-Bit-und 64-Bit-Versionen von Text Diensten und IMEs über die Systemsteuerung.</span><span class="sxs-lookup"><span data-stu-id="cbf89-207">64-bit Windows provides access to both 32-bit and 64-bit versions of text services and IMEs through the Control Panel.</span></span> <span data-ttu-id="cbf89-208">Um auf die Einstellungen der Systemsteuerung für bestimmte Versionen von Text Diensten oder IMEs zuzugreifen, sehen Sie sich die folgenden Speicherorte an.</span><span class="sxs-lookup"><span data-stu-id="cbf89-208">To access Control Panel settings for specific versions of text services or IMEs, look in the following locations.</span></span>

-   <span data-ttu-id="cbf89-209">**System Steuerungs Zugriff für 32-Bit-Text Dienste und-IMEs:** Start->-Einstellungen-> Systemsteuerung-> anzeigen von x86-System Steuerungs Symbolen</span><span class="sxs-lookup"><span data-stu-id="cbf89-209">**Control Panel access for 32-bit Text Services and IMEs:** Start -> Settings -> Control Panel -> View x86 Control Panel Icons</span></span>
-   <span data-ttu-id="cbf89-210">**System Steuerungs Zugriff für 64-Bit-Text Dienste und-IMEs:** Start->-Einstellungen-> Systemsteuerung-> Regions-und Sprachoptionen</span><span class="sxs-lookup"><span data-stu-id="cbf89-210">**Control Panel access for 64-bit Text Services and IMEs:** Start -> Settings -> Control Panel -> Regional and Language Options</span></span>

<span data-ttu-id="cbf89-211">Möglicherweise gibt es Situationen, in denen einige Einstellungen nur über die 32-Bit-Systemsteuerung verfügbar sein können.</span><span class="sxs-lookup"><span data-stu-id="cbf89-211">There may be circumstances where some settings might be available only through the 32-bit Control Panel.</span></span> <span data-ttu-id="cbf89-212">Vergewissern Sie sich in diesen Fällen, dass die Benutzer Ihres Text Dienstanbieter oder ihrer IME diese Informationen kennen, indem Sie die entsprechende Dokumentation bereitstellen oder Benutzeroberflächen Hinweise in der Schnittstelle für die 64-Bit-Einstellungen anbieten.</span><span class="sxs-lookup"><span data-stu-id="cbf89-212">In these cases, be sure that users of your text service or IME are aware of this, by providing appropriate documentation or offering UI hints in your 64-bit settings interface.</span></span>

 

 