---
title: Direct3D 11-Bereitstellung für Spieleentwickler
description: In diesem Artikel wird beschrieben, wie Sie die Direct3D 11-Komponenten ggf. auf einem System bereitstellen.
ms.assetid: 1fd43638-0d67-4a94-3be6-8789095f491e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd935aedee23ba731bc74e52c0773e6f02e5b5fc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104209317"
---
# <a name="direct3d-11-deployment-for-game-developers"></a><span data-ttu-id="855c5-103">Direct3D 11-Bereitstellung für Spieleentwickler</span><span class="sxs-lookup"><span data-stu-id="855c5-103">Direct3D 11 deployment for game developers</span></span>

<span data-ttu-id="855c5-104">In diesem Artikel wird beschrieben, wie Sie die Direct3D 11-Komponenten ggf. auf einem System bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="855c5-104">This article describes how to deploy the Direct3D 11 components on a system if necessary.</span></span>

-   [<span data-ttu-id="855c5-105">Übersicht</span><span class="sxs-lookup"><span data-stu-id="855c5-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="855c5-106">Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="855c5-106">Direct3D 11.3</span></span>](#direct3d-113)
-   [<span data-ttu-id="855c5-107">Direct3D 11,2</span><span class="sxs-lookup"><span data-stu-id="855c5-107">Direct3D 11.2</span></span>](#direct3d-112)
-   [<span data-ttu-id="855c5-108">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="855c5-108">Direct3D 11.1</span></span>](#direct3d-111)
-   [<span data-ttu-id="855c5-109">D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="855c5-109">D3D11InstallHelper.dll</span></span>](#d3d11installhelperdll)
-   [<span data-ttu-id="855c5-110">D3D11Install.exe</span><span class="sxs-lookup"><span data-stu-id="855c5-110">D3D11Install.exe</span></span>](#d3d11installexe)
-   [<span data-ttu-id="855c5-111">Integrieren in Installationsprogramme</span><span class="sxs-lookup"><span data-stu-id="855c5-111">Integrating into Installation Programs</span></span>](#integrating-into-installation-programs)
    -   [<span data-ttu-id="855c5-112">Integration in InstallShield</span><span class="sxs-lookup"><span data-stu-id="855c5-112">Integrating into InstallShield</span></span>](#integrating-into-installshield)
    -   [<span data-ttu-id="855c5-113">Integrieren in ein MSI-Paket</span><span class="sxs-lookup"><span data-stu-id="855c5-113">Integrating into an MSI Package</span></span>](#integrating-into-an-msi-package)
-   [<span data-ttu-id="855c5-114">Debugtipps</span><span class="sxs-lookup"><span data-stu-id="855c5-114">Debugging Tips</span></span>](#debugging-tips)
-   [<span data-ttu-id="855c5-115">Firmeneinstellungen</span><span class="sxs-lookup"><span data-stu-id="855c5-115">Corporate Settings</span></span>](#corporate-settings)
-   [<span data-ttu-id="855c5-116">Verwandte Artikel</span><span class="sxs-lookup"><span data-stu-id="855c5-116">Related Articles</span></span>](#related-articles)

## <a name="overview"></a><span data-ttu-id="855c5-117">Übersicht</span><span class="sxs-lookup"><span data-stu-id="855c5-117">Overview</span></span>

<span data-ttu-id="855c5-118">Die API Direct3D 11 erweitert die vorhandene Direct3D 10,1-API durch Unterstützung für Multithread-Rendering und Ressourcen Erstellung, COMPUTE-Shader, Hardware Mosaik, BC6H/bzw bc7-Textur Komprimierung und HLSL-Shader-Modell 5,0 durch dynamische shaderverknüpfung.</span><span class="sxs-lookup"><span data-stu-id="855c5-118">The Direct3D 11 API extends the existing Direct3D 10.1 API with support for multithreaded rendering and resource creation, Compute Shader, hardware tessellation, BC6H/BC7 texture compression, and HLSL Shader Model 5.0 with Dynamic Shader Linkage.</span></span> <span data-ttu-id="855c5-119">Zusätzlich zur Direct3D 11-Komponente sind in der DirectX 11-Laufzeit eine Reihe zusätzlicher Grafik Komponenten enthalten: Direct3D 11, DXGI 1,1, 10level9, WARP10 Software Rendering Device, Direct2D, DirectWrite und ein aktualisiertes Direct3D 10,1 mit Unterstützung für 10level9 und WARP10.</span><span class="sxs-lookup"><span data-stu-id="855c5-119">In addition to the Direct3D 11 component, a number of additional graphics components are included in the DirectX 11 runtime: Direct3D 11, DXGI 1.1, 10level9 feature levels, WARP10 software rendering device, Direct2D, DirectWrite, and an updated Direct3D 10.1 with support for 10level9 and WARP10.</span></span> <span data-ttu-id="855c5-120">Weitere Informationen zu diesen und anderen Windows-Grafik Komponenten finden Sie unter [Grafik-APIs in Windows](graphics-apis-in-windows-vista.md).</span><span class="sxs-lookup"><span data-stu-id="855c5-120">For information on these and other Windows graphics components, see [Graphics APIs in Windows](graphics-apis-in-windows-vista.md).</span></span>

<span data-ttu-id="855c5-121">Alle diese neuen Grafik Komponenten sind in die Betriebssysteme Windows 7 und Windows Server 2008 R2 integriert.</span><span class="sxs-lookup"><span data-stu-id="855c5-121">All of these new graphics components are built into the Windows 7 and Windows Server 2008 R2 operating systems.</span></span> <span data-ttu-id="855c5-122">Die Direct3D 11-API und zugehörige Komponenten können auch unter Windows Vista mithilfe eines Systemupdates aus Windows Update installiert werden. Weitere Informationen finden Sie im Knowledge Base-Artikel [KB 971644](https://support.microsoft.com/kb/971644).</span><span class="sxs-lookup"><span data-stu-id="855c5-122">The Direct3D 11 API and related components can also be installed on Windows Vista by using a system update from Windows Update; see Knowledge Base article [KB 971644](https://support.microsoft.com/kb/971644).</span></span> <span data-ttu-id="855c5-123">Dieses Update erfordert Windows Vista und Service Pack 2.</span><span class="sxs-lookup"><span data-stu-id="855c5-123">This update requires Windows Vista and Service Pack 2.</span></span> <span data-ttu-id="855c5-124">Für Endbenutzer mit aktiviertem automatischem Update werden die Direct3D 11-Komponenten wahrscheinlich bereits installiert, ebenso wie alle Windows 7-Benutzer.</span><span class="sxs-lookup"><span data-stu-id="855c5-124">End-users with automatic updates enabled will, therefore, likely already have the Direct3D 11 components installed, as will all Windows 7 users.</span></span>

<span data-ttu-id="855c5-125">Das D3D11InstallHelper-Beispiel wurde entwickelt, um die Erkennung der Direct3D 11-API zu vereinfachen, das System Update automatisch zu installieren, falls es auf den Computer eines Endbenutzers anwendbar ist, und den Endbenutzern entsprechende Meldungen zur manuellen Prozedur bereitzustellen, wenn ein neueres Service Pack erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="855c5-125">The D3D11InstallHelper sample is designed to simplify detection of the Direct3D 11 API, automatically install the system update if applicable to an end-user's computer, and to provide appropriate messages to the end-user on manual procedure if a newer Service Pack is required.</span></span>

> [!Note]  
> <span data-ttu-id="855c5-126">Der HLSL-Compiler (D3DCompile \* . dll) und die D3DX Utility Library für Direct3D 11 (Bibliothek d3dx11 \* . dll) sind nicht in eine Version des Windows-Betriebssystems integriert, können aber mithilfe der vorhandenen DirectSetup-Technologie als Teil des Installationsprogramms einer Anwendung bereitgestellt werden. Weitere Informationen zur Verwendung von DirectSetup finden Sie unter [DirectX-Installation für Spieleentwickler](/windows/desktop/DxTechArts/directx-setup-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="855c5-126">The HLSL compiler (D3DCompile\*.dll) and the D3DX utility library for Direct3D 11 (D3DX11\*.dll) are not built into any version of the Windows operating system, but they can be deployed as part of an application's installer by using the existing DirectSetup technology; for more information about using DirectSetup, see [DirectX Installation for Game Developers](/windows/desktop/DxTechArts/directx-setup-for-game-developers).</span></span> <span data-ttu-id="855c5-127">"Effekte 11" ist als freigegebene Quell Unterstützungs Bibliothek mit [Effekten für das Update von Direct3D 11](https://github.com/Microsoft/FX11)verfügbar, und Sie können Sie direkt in eine APP einschließen (ähnlich wie die dxut Utility Library).</span><span class="sxs-lookup"><span data-stu-id="855c5-127">"Effects 11" is available as a shared source support library at [Effects for Direct3D 11 Update](https://github.com/Microsoft/FX11), and you can include it directly into an app (much like the DXUT utility library).</span></span> <span data-ttu-id="855c5-128">Folglich gibt es keine zusätzlichen Anforderungen an die Lauf Zeit Weitergabe.</span><span class="sxs-lookup"><span data-stu-id="855c5-128">Thus, it doesn't have any additional run-time redistribution requirements.</span></span>

## <a name="direct3d-113"></a><span data-ttu-id="855c5-129">Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="855c5-129">Direct3D 11.3</span></span>

<span data-ttu-id="855c5-130">Windows 10 ist mit der integrierten Direct3D 11,3-API ausgeliefert.</span><span class="sxs-lookup"><span data-stu-id="855c5-130">Windows 10 ships with the Direct3D 11.3 API built in.</span></span> <span data-ttu-id="855c5-131">Eine Liste der neuen Features in der Direct3D 11,3-API finden Sie unter [Direct3D 11,3 Features](/windows/desktop/direct3d11/direct3d-11-3-features) .</span><span class="sxs-lookup"><span data-stu-id="855c5-131">See [Direct3D 11.3 Features](/windows/desktop/direct3d11/direct3d-11-3-features) for a list of new features in the Direct3D 11.3 API.</span></span>

## <a name="direct3d-112"></a><span data-ttu-id="855c5-132">Direct3D 11,2</span><span class="sxs-lookup"><span data-stu-id="855c5-132">Direct3D 11.2</span></span>

<span data-ttu-id="855c5-133">Windows 8.1 und Windows Server 2012 R2 werden mit der integrierten Direct3D 11,2-API ausgeliefert.</span><span class="sxs-lookup"><span data-stu-id="855c5-133">Windows 8.1 and Windows Server 2012 R2 ship with the Direct3D 11.2 API built in.</span></span> <span data-ttu-id="855c5-134">Eine Liste der neuen Features in der Direct3D 11,2-API finden Sie unter [Direct3D 11,2 Features](/windows/desktop/direct3d11/direct3d-11-2-features) .</span><span class="sxs-lookup"><span data-stu-id="855c5-134">See [Direct3D 11.2 Features](/windows/desktop/direct3d11/direct3d-11-2-features) for a list of new features in the Direct3D 11.2 API.</span></span>

## <a name="direct3d-111"></a><span data-ttu-id="855c5-135">Direct3D 11,1</span><span class="sxs-lookup"><span data-stu-id="855c5-135">Direct3D 11.1</span></span>

<span data-ttu-id="855c5-136">Windows 8 und Windows Server 2012 werden mit der integrierten [Direct3D 11,1-API](/windows/desktop/direct3d11/direct3d-11-1-features) ausgeliefert.</span><span class="sxs-lookup"><span data-stu-id="855c5-136">Windows 8 and Windows Server 2012 ship with the [Direct3D 11.1 API](/windows/desktop/direct3d11/direct3d-11-1-features) built in.</span></span> <span data-ttu-id="855c5-137">Teil Unterstützung für die Direct3D 11,1-API ist unter Windows 7 oder Windows Server 2008 R2 mit installiertem [Platt Form Update für Windows 7](https://support.microsoft.com/kb/2670838) verfügbar.</span><span class="sxs-lookup"><span data-stu-id="855c5-137">Partial support for the Direct3D 11.1 API is available on Windows 7 or Windows Server 2008 R2 with the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838) installed.</span></span> <span data-ttu-id="855c5-138">Weitere Informationen zum Platt Form Update für Windows 7 finden Sie unter [Platt Form Update für Windows 7](platform-update-for-windows-7.md).</span><span class="sxs-lookup"><span data-stu-id="855c5-138">For more info about the Platform Update for Windows 7, see [Platform Update for Windows 7](platform-update-for-windows-7.md).</span></span>

## <a name="d3d11installhelperdll"></a><span data-ttu-id="855c5-139">D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="855c5-139">D3D11InstallHelper.dll</span></span>

<span data-ttu-id="855c5-140">D3D11InstallHelper.dll hostet die Kernfunktionen zum Erkennen von Direct3D 11-Komponenten und führt ggf. das System Update über den Windows Update Dienst durch.</span><span class="sxs-lookup"><span data-stu-id="855c5-140">D3D11InstallHelper.dll hosts the core functionality for detecting Direct3D 11 components, and performing the system update through the Windows Update service if applicable.</span></span> <span data-ttu-id="855c5-141">Die DLL zeigt keine Nachrichten oder Dialogfelder direkt an.</span><span class="sxs-lookup"><span data-stu-id="855c5-141">The DLL displays no messages or dialog boxes directly.</span></span>

<span data-ttu-id="855c5-142">Die dll besteht aus den folgenden Einstiegspunkten:</span><span class="sxs-lookup"><span data-stu-id="855c5-142">The DLL consists of the following entry points:</span></span>

<dl> <dt>

<span data-ttu-id="855c5-143"><span id="CheckDirect3D11Status"></span><span id="checkdirect3d11status"></span><span id="CHECKDIRECT3D11STATUS"></span>CheckDirect3D11Status</span><span class="sxs-lookup"><span data-stu-id="855c5-143"><span id="CheckDirect3D11Status"></span><span id="checkdirect3d11status"></span><span id="CHECKDIRECT3D11STATUS"></span>CheckDirect3D11Status</span></span>
</dt> <dd>

<span data-ttu-id="855c5-144">Diese Funktion führt die erforderlichen Überprüfungen durch und gibt den Status von Direct3D 11 auf diesem Computer zurück.</span><span class="sxs-lookup"><span data-stu-id="855c5-144">This function performs the necessary checks and returns the status of Direct3D 11 on this computer.</span></span> <span data-ttu-id="855c5-145">Diese Funktion erfordert keine Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="855c5-145">This function does not require administrator rights.</span></span>

-   <span data-ttu-id="855c5-146">Der Status installiert D3D11IH \_ gibt \_ an, dass Direct3D 11 bereits auf dem Computer installiert ist und einsatzbereit ist.</span><span class="sxs-lookup"><span data-stu-id="855c5-146">A status of D3D11IH\_STATUS\_INSTALLED indicates that Direct3D 11 is already installed on the computer and is ready for use.</span></span>
-   <span data-ttu-id="855c5-147">D3D11IH \_ Status \_ nicht \_ unterstützt gibt an, dass diese Version von Windows Direct3D 11 oder verwandte Technologien nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="855c5-147">D3D11IH\_STATUS\_NOT\_SUPPORTED indicates that this version of Windows does not support Direct3D 11 or related technologies.</span></span>
-   <span data-ttu-id="855c5-148">Der Status "D3D11IH \_ " \_ muss den Status "neueste SP" aufweisen \_ \_ , dass das neueste Windows Vista Service Pack vom Benutzer installiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="855c5-148">A status of D3D11IH\_STATUS\_NEED\_LATEST\_SP indicates that the latest Windows Vista Service Pack should be installed by the user.</span></span>
-   <span data-ttu-id="855c5-149">Zum Schluss erfordert der Status D3D11IH \_ Status \_ \_ Update, dass auf dem System Direct3D 11 nicht installiert ist, aber dass das System Update auf diese Windows-Version angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="855c5-149">Finally, a status of D3D11IH\_STATUS\_REQUIRES\_UPDATE indicates that the system does not have Direct3D 11 installed, but that the system update does apply to this version of Windows.</span></span>

</dd> <dt>

<span data-ttu-id="855c5-150"><span id="DoUpdateForDirect3D11"></span><span id="doupdatefordirect3d11"></span><span id="DOUPDATEFORDIRECT3D11"></span>DoUpdateForDirect3D11</span><span class="sxs-lookup"><span data-stu-id="855c5-150"><span id="DoUpdateForDirect3D11"></span><span id="doupdatefordirect3d11"></span><span id="DOUPDATEFORDIRECT3D11"></span>DoUpdateForDirect3D11</span></span>
</dt> <dd>

<span data-ttu-id="855c5-151">Diese Funktion verwendet die Windows Update-API, um das System Update für die Installation von Direct3D 11 auf diesem System auszuführen, falls zutreffend.</span><span class="sxs-lookup"><span data-stu-id="855c5-151">This function uses the Windows Update API to perform the system update for installing Direct3D 11 on this system, if applicable.</span></span> <span data-ttu-id="855c5-152">Beachten Sie, dass für diese Funktion eine Netzwerk Konnektivität erforderlich ist, um Windows Update, um erfolgreich zu sein, sowie Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="855c5-152">Note that this function requires network connectivity to Windows Update to succeed, as well as administrative rights.</span></span> <span data-ttu-id="855c5-153">Sie nimmt eine optionale Fortschritts Rückruffunktion und einen Benutzer Kontext Zeiger an und gibt nach Abschluss einen abschließenden Ergebniscode zurück.</span><span class="sxs-lookup"><span data-stu-id="855c5-153">It takes an optional progress callback function and user-context pointer, and returns a final result code when complete.</span></span>

-   <span data-ttu-id="855c5-154">Das Ergebnis \_ \_ Erfolgs Ergebnis von D3D11IH gibt an, dass das System Update angewendet wurde und einsatzbereit ist, während der Neustart des D3D11IH- \_ Ergebnisses \_ \_ darauf hinweist, dass der Computer neu gestartet werden muss, bevor er abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="855c5-154">The D3D11IH\_RESULT\_SUCCESS result indicates that the system update was applied and is ready for use, while D3D11IH\_RESULT\_SUCCESS\_REBOOT indicates that the system update requires the computer is restarted before it is complete.</span></span> <span data-ttu-id="855c5-155">Beachten Sie, dass diese Funktion keinen Systemneustart plant.</span><span class="sxs-lookup"><span data-stu-id="855c5-155">Note that this function does not schedule a system restart.</span></span>
-   <span data-ttu-id="855c5-156">D3D11IH \_ Result \_ Not \_ Supported gibt an, dass das System Update nicht für diese Version von Windows gilt.</span><span class="sxs-lookup"><span data-stu-id="855c5-156">D3D11IH\_RESULT\_NOT\_SUPPORTED indicates that the system update does not apply to this version of Windows.</span></span> <span data-ttu-id="855c5-157">Dieses Ergebnis sollte nicht auftreten, wenn diese Funktion erst aufgerufen wird, nachdem ein D3D11IH- \_ Status den \_ \_ Update Status von CheckDirect3D11Status erfordert.</span><span class="sxs-lookup"><span data-stu-id="855c5-157">This result should not occur if this function is only called after getting a D3D11IH\_STATUS\_REQUIRES\_UPDATE status from CheckDirect3D11Status.</span></span>
-   <span data-ttu-id="855c5-158">Das Ergebnis der D3D11IH \_ - \_ Ergebnis \_ Aktualisierung \_ wurde nicht gefunden und zeigt an, dass das System Update Paket auf den Windows Update Servern nicht gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="855c5-158">A result of D3D11IH\_RESULT\_UPDATE\_NOT\_FOUND indicates that the system update package was not found on the Windows Update servers.</span></span>
-   <span data-ttu-id="855c5-159">Wenn das Windows Update herunterladen oder die Installation fehlschlägt, wird das Ergebnis des D3D11IH- \_ Ergebnis \_ Updates \_ \_ oder die D3D11IH- \_ Ergebnis \_ Update Installation \_ \_ als Ergebnis zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="855c5-159">If the Windows Update download or installation fails, then D3D11IH\_RESULT\_UPDATE\_DOWNLOAD\_FAILED or D3D11IH\_RESULT\_UPDATE\_INSTALL\_FAILED will be returned as the result.</span></span>
-   <span data-ttu-id="855c5-160">Wenn ein Netzwerkkonnektivitätsproblem von der Windows Update-API zurückgegeben wird, wird das Ergebnis des D3D11IH- \_ \_ Wu- \_ Dienst \_ Fehlers zurückgegeben, das angibt, dass das Problem möglicherweise zeitweilig oder mit der Netzwerkkonfiguration oder den Firewalleinstellungen</span><span class="sxs-lookup"><span data-stu-id="855c5-160">If a network connectivity error is returned from the Windows Update API, then the D3D11IH\_RESULT\_WU\_SERVICE\_ERROR result is returned, indicating that the problem might be intermittent or related to network configuration or firewall settings.</span></span> <span data-ttu-id="855c5-161">Die erneute Ausführung der Update-Funktion ist möglicherweise erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="855c5-161">Trying the update function again may succeed.</span></span>

</dd> </dl>

<span data-ttu-id="855c5-162">Weitere Informationen zur Windows Update-API finden Sie unter [Windows Update Agent-API](/windows/desktop/Wua_Sdk/portal-client).</span><span class="sxs-lookup"><span data-stu-id="855c5-162">For more information on the Windows Update API, see [Windows Update Agent API](/windows/desktop/Wua_Sdk/portal-client).</span></span>

## <a name="d3d11installexe"></a><span data-ttu-id="855c5-163">D3D11Install.exe</span><span class="sxs-lookup"><span data-stu-id="855c5-163">D3D11Install.exe</span></span>

> [!Note]  
> <span data-ttu-id="855c5-164">D3D11Install.exe müssen D3D11InstallHelper.dll ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="855c5-164">D3D11Install.exe requires D3D11InstallHelper.dll to execute.</span></span>

<span data-ttu-id="855c5-165">D3D11Install.exe ist ein Tool für die Verwendung D3D11InstallHelper.dll als eigenständiges Installationsprogramm mit Benutzeroberflächen-und Endbenutzer Nachrichten sowie als Beispiel für die ordnungsgemäße Verwendung der dll.</span><span class="sxs-lookup"><span data-stu-id="855c5-165">D3D11Install.exe is a tool for using D3D11InstallHelper.dll as a stand-alone installer complete with UI and end-user messages, as well as acting as an example for proper use of the DLL.</span></span> <span data-ttu-id="855c5-166">Der Prozess wird mit 0 beendet, wenn Direct3D 11 bereits installiert ist, wenn das System Update erfolgreich ausgeführt wird, ohne dass ein Systemneustart erforderlich ist, wenn eine Service Pack-Installation erforderlich ist oder wenn Direct3D 11 von diesem Computer nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="855c5-166">The process exits with a 0 if Direct3D 11 is already installed, if the system update applies successfully without requiring a system restart, if a Service Pack installation is required, or if Direct3D 11 is not supported by this computer.</span></span> <span data-ttu-id="855c5-167">1 wird zurückgegeben, wenn das System Update erfolgreich angewendet wurde und ein Systemneustart erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="855c5-167">A 1 is returned if the system update is applied successfully and requires a system restart to complete.</span></span> <span data-ttu-id="855c5-168">Für andere Fehlerbedingungen wird 2 zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="855c5-168">A 2 is returned for other error conditions.</span></span> <span data-ttu-id="855c5-169">Beachten Sie, dass für diese ausführbare Datei Administratorrechte erforderlich sind und dass Sie über ein Manifest verfügt, das bei Ausführung unter Windows Vista oder Windows 7 mit aktivierter UAC eine Erhöhung der Rechte anfordert.</span><span class="sxs-lookup"><span data-stu-id="855c5-169">Note that this executable file requires administrator rights to run, and it has a manifest that requests elevation when run on Windows Vista or Windows 7 with UAC enabled.</span></span> <span data-ttu-id="855c5-170">D3D11Install.exe können als eigenständiges Tool zum Bereitstellen des Direct3D 11-Updates verwendet werden, oder es kann direkt von Installationsprogrammen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="855c5-170">D3D11Install.exe can be used as a stand-alone tool for deploying the Direct3D 11 update, or it can be used directly by installers.</span></span>

<span data-ttu-id="855c5-171">Sie unterstützt die folgenden Befehls Zeilenschalter:</span><span class="sxs-lookup"><span data-stu-id="855c5-171">It supports the following command-line switches:</span></span>

<dl> <dt>

<span data-ttu-id="855c5-172"><span id="_quiet__"></span><span id="_QUIET__"></span>/Quiet</span><span class="sxs-lookup"><span data-stu-id="855c5-172"><span id="_quiet__"></span><span id="_QUIET__"></span>/quiet</span></span> 
</dt> <dd>

<span data-ttu-id="855c5-173">Zeigt keine Meldungen, Eingabe Aufforderungen, Status Dialogfelder oder Fehlermeldungen an.</span><span class="sxs-lookup"><span data-stu-id="855c5-173">Displays no messages, prompts, progress dialog boxes, or error messages.</span></span>

</dd> <dt>

<span data-ttu-id="855c5-174"><span id="_passive__"></span><span id="_PASSIVE__"></span>/passive</span><span class="sxs-lookup"><span data-stu-id="855c5-174"><span id="_passive__"></span><span id="_PASSIVE__"></span>/passive</span></span> 
</dt> <dd>

<span data-ttu-id="855c5-175">Zeigt keine Meldungen, Eingabe Aufforderungen oder Fehlermeldungen an, zeigt jedoch das Status Dialogfeld an.</span><span class="sxs-lookup"><span data-stu-id="855c5-175">Displays no messages, prompts, or error messages, but will show the progress dialog box.</span></span>

</dd> <dt>

<span data-ttu-id="855c5-176"><span id="_minimal__"></span><span id="_MINIMAL__"></span>/minimal</span><span class="sxs-lookup"><span data-stu-id="855c5-176"><span id="_minimal__"></span><span id="_MINIMAL__"></span>/minimal</span></span> 
</dt> <dd>

<span data-ttu-id="855c5-177">Zeigt nur minimale Eingabe Aufforderungen an.</span><span class="sxs-lookup"><span data-stu-id="855c5-177">Shows only minimal prompts.</span></span>

</dd> <dt>

<span data-ttu-id="855c5-178"><span id="_y__"></span><span id="_Y__"></span>/y</span><span class="sxs-lookup"><span data-stu-id="855c5-178"><span id="_y__"></span><span id="_Y__"></span>/y</span></span> 
</dt> <dd>

<span data-ttu-id="855c5-179">Unterdrückt die Aufforderung zur Bestätigung der Installation des Updates bei Bedarf und anwendbar für eine standardmäßige und minimale Installation.</span><span class="sxs-lookup"><span data-stu-id="855c5-179">Suppresses prompting to confirm installing the update, if needed and applicable, for a standard and minimal installation.</span></span>

</dd> <dt>

<span data-ttu-id="855c5-180"><span id="_langid_decimal__"></span><span id="_LANGID_DECIMAL__"></span>/langid Dezimal</span><span class="sxs-lookup"><span data-stu-id="855c5-180"><span id="_langid_decimal__"></span><span id="_LANGID_DECIMAL__"></span>/langid decimal</span></span> 
</dt> <dd>

<span data-ttu-id="855c5-181">Erzwingt den zu verwendenden sprachbezeichnercode, wenn Endbenutzer Meldungen und Dialogfeld Ressourcen angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="855c5-181">Forces which language identifier code to use when displaying end-user messages and dialog box resources.</span></span> <span data-ttu-id="855c5-182">Der Standardwert ist 1024, bei dem die Standard Spracheinstellung des Systems verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="855c5-182">The default value is 1024, which uses the system default language setting.</span></span>

</dd> <dt>

<span data-ttu-id="855c5-183"><span id="_wu__"></span><span id="_WU__"></span>/wu</span><span class="sxs-lookup"><span data-stu-id="855c5-183"><span id="_wu__"></span><span id="_WU__"></span>/wu</span></span> 
</dt> <dd>

<span data-ttu-id="855c5-184">Erzwingt die Verwendung von Windows Update anstelle des System Standards, der auf einem verwalteten Server oder einer anderen nicht standardmäßigen Konfiguration Windows Server Update Services (WSUS) ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="855c5-184">Forces use of Windows Update rather than the system default, which may be Windows Server Update Services (WSUS) running on a managed server or some other non-standard configuration.</span></span>

</dd> </dl>

## <a name="integrating-into-installation-programs"></a><span data-ttu-id="855c5-185">Integrieren in Installationsprogramme</span><span class="sxs-lookup"><span data-stu-id="855c5-185">Integrating into installation programs</span></span>

<span data-ttu-id="855c5-186">Um die Unterstützung der einfachen Installation, die [technische Anforderung 3,1 für Spiele für Windows](/windows/desktop/DxTechArts/games-for-windows-technical-requirements-1-1-0006)einzuhalten, muss sorgfältig vorgegangen werden, damit alle Eingabe Aufforderungen für Endbenutzer frühzeitig im Installationsvorgang angezeigt werden und sichergestellt werden, dass nicht mehrere UAC-bezogene Eingabe Aufforderungen für erhöhte Rechte vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="855c5-186">To comply with Support Easy Installation, [Technical Requirement 3.1 for Games for Windows](/windows/desktop/DxTechArts/games-for-windows-technical-requirements-1-1-0006), care needs to be taken so that any end-user prompts are presented early in the installation process, and to ensure that there are not multiple UAC-related elevation prompts.</span></span> <span data-ttu-id="855c5-187">Es gibt drei grundlegende Möglichkeiten, dieses Ziel zu erreichen:</span><span class="sxs-lookup"><span data-stu-id="855c5-187">There are three basic choices for achieving this goal:</span></span>

1.  <span data-ttu-id="855c5-188">Die grundlegendste Methode besteht darin, die D3D11Install.exe mit dem Befehls Zeilenschalter **/Minimal** auszuführen.</span><span class="sxs-lookup"><span data-stu-id="855c5-188">The most basic method is to execute the D3D11Install.exe with the command-line switch **/minimal**.</span></span> <span data-ttu-id="855c5-189">Dies sollte früh im Installationsprogramm Q&A erfolgen, und bei der Installation sollte der Rückgabewert 1 verwendet werden, um anzugeben, dass am Ende der Installation ein Neustart geplant werden soll.</span><span class="sxs-lookup"><span data-stu-id="855c5-189">This should be done early in the installer Q&A, and the installation should use the return value of 1 to indicate that a restart should be scheduled at the end of the installation.</span></span> <span data-ttu-id="855c5-190">Zum Ausführen des Programms sind Administratorrechte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="855c5-190">Executing the program requires administrative rights.</span></span>
2.  <span data-ttu-id="855c5-191">Verwenden Sie D3D11InstallHelper.dll direkt, um die Notwendigkeit für das Update zu erkennen, und stellen Sie alle Endbenutzer-Nachrichten bereit, die für den Status erforderlich \_ sind D3D11IH Status \_ muss \_ Latest \_ SP sein, damit die Lösung manuelle Benutzer Vorgänge erfordert.</span><span class="sxs-lookup"><span data-stu-id="855c5-191">Use D3D11InstallHelper.dll directly to detect the need for the update, providing any end-user messages necessary for the status D3D11IH\_STATUS\_NEED\_LATEST\_SP, where the resolution requires manual user operations.</span></span> <span data-ttu-id="855c5-192">Das Status Ergebnis des Status "D3D11IH" wird \_ \_ nicht \_ unterstützt, um die Installation von Direct3D 11 – zugehörigen Assets zu steuern, oder als Fehlerbedingung für Direct3D 11 – nur Anwendungen, aber ansonsten nicht notwendigerweise eine nützliche Endbenutzer Nachricht.</span><span class="sxs-lookup"><span data-stu-id="855c5-192">The status result of D3D11IH\_STATUS\_NOT\_SUPPORTED could be used to control installation of Direct3D 11–related assets, or as an error condition for Direct3D 11–only applications, but it is otherwise not necessarily a useful end-user message.</span></span> <span data-ttu-id="855c5-193">Für den Status D3D11IH \_ \_ erfordert \_ Update, kann das Installationsprogramm direkt den DLL-Einstiegspunkt DoUpdateForDirect3D11 verwenden, um das Update auszuführen und die verschiedenen resultierenden Endbenutzer Meldungen zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="855c5-193">For the status D3D11IH\_STATUS\_REQUIRES\_UPDATE, the installer can directly use the DLL entry point DoUpdateForDirect3D11 to perform the update and handle the various resulting end-user messages.</span></span> <span data-ttu-id="855c5-194">Beispiele für Standard Nachrichten finden Sie im Dialogfeld D3D11Install.exe und in den Zeichen folgen Tabellen Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="855c5-194">Examples of standard messages can be found by examining the D3D11Install.exe dialog box and string table resources.</span></span> <span data-ttu-id="855c5-195">Der Update Einstiegspunkt erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="855c5-195">The update entry point requires administrator rights.</span></span>
3.  <span data-ttu-id="855c5-196">Ein hybrider Ansatz besteht darin, den Status mit D3D11InstallHelper.dll zu überprüfen, und im Fall des Statuscodes D3D11IH \_ Status \_ muss den Status " \_ Latest \_ SP" oder "D3D11IH" erfordert " \_ Update" \_ \_ , D3D11Install.exe mit den Switches **/Minimal** und **/y** ausgeführt werden können, um das Dialogfeld anzuzeigen, oder um das Update nach Bedarf auszuführen.</span><span class="sxs-lookup"><span data-stu-id="855c5-196">A hybrid approach is to check status with D3D11InstallHelper.dll, and in the case of the status code D3D11IH\_STATUS\_NEED\_LATEST\_SP or D3D11IH\_STATUS\_REQUIRES\_UPDATE, D3D11Install.exe can be executed with the switches **/minimal** and **/y** to display the dialog box or to perform the update, as needed.</span></span> <span data-ttu-id="855c5-197">Diese Schritte sollten früh im Installationsprozess ausgeführt werden, in der Regel unmittelbar nach dem Q&A, und das Ausführen der ausführbaren Datei erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="855c5-197">These steps should be performed early in the installation process, usually immediately after the Q&A, and running the executable requires administrative rights.</span></span>

### <a name="integrating-into-installshield"></a><span data-ttu-id="855c5-198">Integration in InstallShield</span><span class="sxs-lookup"><span data-stu-id="855c5-198">Integrating into InstallShield</span></span>

<span data-ttu-id="855c5-199">Das Verarbeiten der Direct3D 11-Bereitstellung aus InstallShield InstallScript erfolgt problemlos mithilfe des D3D11InstallHelper-Beispiels.</span><span class="sxs-lookup"><span data-stu-id="855c5-199">Handling the Direct3D 11 deployment from InstallShield's InstallScript is easily done using the D3D11InstallHelper sample.</span></span> <span data-ttu-id="855c5-200">Die Schritte, die für die Integration von InstallShield mithilfe von InstallScript erforderlich sind, lauten wie folgt (mit der im vorherigen Abschnitt beschriebenen Methode 3):</span><span class="sxs-lookup"><span data-stu-id="855c5-200">The steps required to integrate with InstallShield using InstallScript are as follows (using method 3, described in the previous section):</span></span>

1.  <span data-ttu-id="855c5-201">Öffnen Sie ein InstallScript-Projekt im InstallShield-Editor.</span><span class="sxs-lookup"><span data-stu-id="855c5-201">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="855c5-202">Fügen Sie dem Projekt in **Unterstützungs Dateien** D3D11InstallHelper.dll und D3D11Install.exe hinzu.</span><span class="sxs-lookup"><span data-stu-id="855c5-202">Add D3D11InstallHelper.dll and D3D11Install.exe to the project in **Support Files**.</span></span>

    <span data-ttu-id="855c5-203">**So fügen Sie die Dateien dem InstallShield-Projekt hinzu**</span><span class="sxs-lookup"><span data-stu-id="855c5-203">**To add the files to the InstallShield Project**</span></span>

    1.  <span data-ttu-id="855c5-204">Klicken Sie auf der Registerkarte **Installations-Designer** im Navigationsbereich auf der linken Seite unter **Verhalten und Logik** auf **Unterstützungs Dateien/-Datenträger** .</span><span class="sxs-lookup"><span data-stu-id="855c5-204">On the **Installation Designer** tab, click **Support Files/Billboards** under **Behavior and Logic** in the navigation pane on the left.</span></span>
    2.  <span data-ttu-id="855c5-205">Klicken Sie auf **sprachunabhängig**, klicken Sie mit der rechten Maustaste in das Fenster **Dateien** , und wählen Sie **Dateien einfügen** aus.</span><span class="sxs-lookup"><span data-stu-id="855c5-205">Click **Language Independent**, then right-click in the **Files** window and select **Insert Files**.</span></span> <span data-ttu-id="855c5-206">Navigieren Sie zum Hinzufügen von D3D11InstallHelper.dll und D3D11Install.exe.</span><span class="sxs-lookup"><span data-stu-id="855c5-206">Browse to add D3D11InstallHelper.dll and D3D11Install.exe.</span></span> <span data-ttu-id="855c5-207">Der Standard Speicherort für diese Dateien ist: SDK Root \\ Samples \\ C++ \\ misc \\ bin \\ x86</span><span class="sxs-lookup"><span data-stu-id="855c5-207">The default location for these files is: SDK root\\Samples\\C++\\Misc\\Bin\\x86</span></span>

3.  <span data-ttu-id="855c5-208">Klicken Sie im InstallScript-Explorer auf die Datei InstallScript (normalerweise Setup. rul), die die dll oder ausführbare Datei aufruft, die sich im Navigationsbereich auf der linken Seite unter **Verhalten und Logik** befindet.</span><span class="sxs-lookup"><span data-stu-id="855c5-208">In the InstallScript explorer, click the InstallScript file (usually Setup.rul) that will call the DLL or executable, located under **Behavior and Logic** in the navigation pane on the left.</span></span>
4.  <span data-ttu-id="855c5-209">Fügen Sie das folgende InstallScript in die Datei im oberen Bereich ein:</span><span class="sxs-lookup"><span data-stu-id="855c5-209">Paste the following InstallScript into the file near the top:</span></span>

    ``` syntax
#define D3D11IH_STATUS_INSTALLED       0
#define D3D11IH_STATUS_NOT_SUPPORTED   1
#define D3D11IH_STATUS_REQUIRES_UPDATE 2
#define D3D11IH_STATUS_NEED_LATEST_SP  3
#define D3D11IH_STATUS_ERROR           -1
    prototype NUMBER D3D11InstallHelper.CheckDirect3D11StatusIS();

#define D3D11IH_RESULT_SUCCESS                0
#define D3D11IH_RESULT_SUCCESS_REBOOT         1
#define D3D11IH_RESULT_NOT_SUPPORTED          2
#define D3D11IH_RESULT_UPDATE_NOT_FOUND       3
#define D3D11IH_RESULT_UPDATE_DOWNLOAD_FAILED 4
#define D3D11IH_RESULT_UPDATE_INSTALL_FAILED  5
#define D3D11IH_RESULT_WU_SERVICE_ERROR       6
#define D3D11IH_RESULT_ERROR                  -1
    prototype NUMBER D3D11InstallHelper.DoUpdateForDirect3D11IS(BOOL);
    ```

5.  <span data-ttu-id="855c5-210">Fügen Sie das folgende InstallScript direkt vor der Rückgabe 0 in die Datei in der **onfirstuibefore** -Funktion ein:</span><span class="sxs-lookup"><span data-stu-id="855c5-210">Paste the following InstallScript into the file in the **OnFirstUIBefore** function, just before the return 0:</span></span>

    ``` syntax
    Dlg_D3D11:
        UseDLL( SUPPORTDIR ^ "D3D11InstallHelper.DLL" );
        nResult = D3D11InstallHelper.CheckDirect3D11StatusIS();   
        UnUseDLL( SUPPORTDIR ^ "D3D11InstallHelper.DLL" );
        
        if ( nResult = D3D11IH_STATUS_REQUIRES_UPDATE
             || nResult = D3D11IH_STATUS_NEED_LATEST_SP) then
            nResult = LaunchAppAndWait(
    SUPPORTDIR^"D3D11Install.exe",
    "/minimal /y", WAIT);
            if ( nResult < 0 ) then
                MessageBox("Unable to launch D3D11Install.exe",
     SEVERE);
            elseif ( nResult == 1 ) then
                BATCH_INSTALL = 1;
            endif;          
        endif;
    ```

### <a name="integrating-into-an-msi-package"></a><span data-ttu-id="855c5-211">Integrieren in ein MSI-Paket</span><span class="sxs-lookup"><span data-stu-id="855c5-211">Integrating into an MSI package</span></span>

<span data-ttu-id="855c5-212">Im folgenden finden Sie eine allgemeine Beschreibung der Schritte, die erforderlich sind, um die Bereitstellung von Direct3D 11 mithilfe von benutzerdefinierten MSI-Aktionen (mit der weiter oben in diesem Thema beschriebenen Methode 3) zu integrieren:</span><span class="sxs-lookup"><span data-stu-id="855c5-212">The following is a high-level description of the steps required to integrate Direct3D 11 deployment using MSI custom actions (using method 3, described earlier in this topic):</span></span>

1.  <span data-ttu-id="855c5-213">Fügen Sie der MSI-Eigenschaften Tabelle RelativePathToD3D11IH eine Eigenschaft mit dem Namen  hinzu, die während der Installation den relativen Pfad zu D3D11Install.exe und D3D11InstallHelper.dll enthält (in der Regel im Medien Image).</span><span class="sxs-lookup"><span data-stu-id="855c5-213">Add a property to the MSI Property table called **RelativePathToD3D11IH** that contains the relative path to D3D11Install.exe and D3D11InstallHelper.dll during installation (this is typically in the media image).</span></span> <span data-ttu-id="855c5-214">Dadurch wird auch eine MSI-Eigenschaft D3D11IH \_ Status auf den von CheckDirect3D11Status zurückgegebenen Status festgelegt (eine Zeichen folgen Eigenschaft gleich dem enumerationssymbol oder "Error").</span><span class="sxs-lookup"><span data-stu-id="855c5-214">This also sets an MSI property D3D11IH\_STATUS to the status returned by CheckDirect3D11Status (a string property equal to the enumeration symbol or "ERROR").</span></span>
2.  <span data-ttu-id="855c5-215">Nachdem Sie die Aktion "costfinalize" ausgeführt haben, können Sie die D3D11InstallHelper.dll-Funktion **SetD3D11InstallMSIProperties** als sofortige benutzerdefinierte Aktion zum Festlegen der entsprechenden MSI-Eigenschaften für die anderen benutzerdefinierten Aktionen aufzurufen</span><span class="sxs-lookup"><span data-stu-id="855c5-215">After the CostFinalize action, call the D3D11InstallHelper.dll function **SetD3D11InstallMSIProperties** as an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
3.  <span data-ttu-id="855c5-216">Löst bei der Installation eine verzögerte benutzerdefinierte Aktion nach der InstallFiles-Aktion aus, die die D3D11InstallHelper.dll-Funktion **DoD3D11InstallUsingMSI** aufruft.</span><span class="sxs-lookup"><span data-stu-id="855c5-216">Upon installation, trigger a deferred custom action after the InstallFiles action that calls the D3D11InstallHelper.dll function **DoD3D11InstallUsingMSI**.</span></span> <span data-ttu-id="855c5-217">Die benutzerdefinierte Aktion muss das Flag "msidbcustomaction typoidentitäts Ate" festlegen, um in einem erweiterten Kontext ausgeführt zu werden.</span><span class="sxs-lookup"><span data-stu-id="855c5-217">The custom action must set the flag msidbCustomActionTypeNoImpersonate to run in an elevated context.</span></span>
4.  <span data-ttu-id="855c5-218">Nach der InstallFinalize-Aktion wird die D3D11InstallHelper.dll-Funktion **FinishD3D11InstallUsingMSI** als sofortige benutzerdefinierte Aktion aufgerufen, um den erfolgreichen Ergebniscode der Neustart Anforderung bei Bedarf zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="855c5-218">After the InstallFinalize action, call the D3D11InstallHelper.dll function **FinishD3D11InstallUsingMSI** as an immediate custom action to handle the successful reboot request result code, if needed.</span></span>

<span data-ttu-id="855c5-219">Dieses Verfahren wird in den folgenden Anweisungen ausführlich beschrieben, die einen Prozess beschreiben, der mit einem MSI-Editor, z. b. dem [Orca-Editor](/windows/desktop/Msi/orca-exe), ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="855c5-219">This procedure is described in detail in the following instructions, which describe a process that can be done using an MSI editor, such as the [Orca editor](/windows/desktop/Msi/orca-exe).</span></span> <span data-ttu-id="855c5-220">Einige MSI-Editoren verfügen über Assistenten, die einige dieser Konfigurationsschritte vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="855c5-220">Some MSI editors have wizards that simplify some of these configuration steps.</span></span>

<span data-ttu-id="855c5-221">**So konfigurieren Sie ein MSI-Paket für die Integration mit D3D11InstallHelper.dll**</span><span class="sxs-lookup"><span data-stu-id="855c5-221">**To configure an MSI package for integration with D3D11InstallHelper.dll**</span></span>

1.  <span data-ttu-id="855c5-222">Öffnen Sie das MSI-Paket in Orca.</span><span class="sxs-lookup"><span data-stu-id="855c5-222">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="855c5-223">Fügen Sie die in der folgenden Tabelle gezeigte Zeile der Binär Tabelle im MSI-Paket hinzu.</span><span class="sxs-lookup"><span data-stu-id="855c5-223">Add the row shown in the following table to the Binary table in the MSI package.</span></span>

    | <span data-ttu-id="855c5-224">Name</span><span class="sxs-lookup"><span data-stu-id="855c5-224">Name</span></span>    | <span data-ttu-id="855c5-225">Daten</span><span class="sxs-lookup"><span data-stu-id="855c5-225">Data</span></span>                                         |
    |---------|----------------------------------------------|
    | <span data-ttu-id="855c5-226">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="855c5-226">D3D11IH</span></span> | <span data-ttu-id="855c5-227">Dateipfad zur DLL- \\D3D11InstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="855c5-227">File path to the DLL\\D3D11InstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="855c5-228">Diese Datei wird in das MSI-Paket eingebettet, sodass Sie diesen Schritt bei jeder erneuten Kompilierung D3D11InstallHelper.dll ausführen müssen.</span><span class="sxs-lookup"><span data-stu-id="855c5-228">This file will be embedded in the MSI package, so you must do this step every time that you recompile D3D11InstallHelper.dll.</span></span>

     

3.  <span data-ttu-id="855c5-229">Fügen Sie die in der folgenden Tabelle gezeigten Zeilen der Tabelle CustomAction des MSI-Pakets hinzu.</span><span class="sxs-lookup"><span data-stu-id="855c5-229">Add the rows shown in the following table to the CustomAction table in the MSI package.</span></span> 

    | <span data-ttu-id="855c5-230">Aktion</span><span class="sxs-lookup"><span data-stu-id="855c5-230">Action</span></span>              | <span data-ttu-id="855c5-231">type</span><span class="sxs-lookup"><span data-stu-id="855c5-231">Type</span></span>                                                                                                                                                                   | <span data-ttu-id="855c5-232">`Source`</span><span class="sxs-lookup"><span data-stu-id="855c5-232">Source</span></span>  | <span data-ttu-id="855c5-233">Ziel</span><span class="sxs-lookup"><span data-stu-id="855c5-233">Target</span></span>                       |
    |---------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------|------------------------------|
    | <span data-ttu-id="855c5-234">Direct3D11SetProps</span><span class="sxs-lookup"><span data-stu-id="855c5-234">Direct3D11SetProps</span></span>  | <span data-ttu-id="855c5-235">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue = 65</span><span class="sxs-lookup"><span data-stu-id="855c5-235">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                        | <span data-ttu-id="855c5-236">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="855c5-236">D3D11IH</span></span> | <span data-ttu-id="855c5-237">SetD3D11InstallMSIProperties</span><span class="sxs-lookup"><span data-stu-id="855c5-237">SetD3D11InstallMSIProperties</span></span> |
    | <span data-ttu-id="855c5-238">Direct3D11DoInstall</span><span class="sxs-lookup"><span data-stu-id="855c5-238">Direct3D11DoInstall</span></span> | <span data-ttu-id="855c5-239">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue + msidbcustomaktiontypeingescript + msidbcustomaktiontybinoidentitäts Ate = 3137</span><span class="sxs-lookup"><span data-stu-id="855c5-239">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span> | <span data-ttu-id="855c5-240">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="855c5-240">D3D11IH</span></span> | <span data-ttu-id="855c5-241">DoD3D11InstallUsingMSI</span><span class="sxs-lookup"><span data-stu-id="855c5-241">DoD3D11InstallUsingMSI</span></span>       |
    | <span data-ttu-id="855c5-242">Direct3D11Finish</span><span class="sxs-lookup"><span data-stu-id="855c5-242">Direct3D11Finish</span></span>    | <span data-ttu-id="855c5-243">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue = 65</span><span class="sxs-lookup"><span data-stu-id="855c5-243">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                        | <span data-ttu-id="855c5-244">D3D11IH</span><span class="sxs-lookup"><span data-stu-id="855c5-244">D3D11IH</span></span> | <span data-ttu-id="855c5-245">FinishD3D11InstallUsingMSI</span><span class="sxs-lookup"><span data-stu-id="855c5-245">FinishD3D11InstallUsingMSI</span></span>   |

    

     

4.  <span data-ttu-id="855c5-246">Fügen Sie die Werte, die für Aktion, Bedingung und Sequenz in der folgenden Tabelle angezeigt werden, der InstallExecuteSequence-Tabelle im MSI-Paket hinzu.</span><span class="sxs-lookup"><span data-stu-id="855c5-246">Add the values shown for Action, Condition, and Sequence in the following table to the InstallExecuteSequence table in the MSI package.</span></span> 

    | <span data-ttu-id="855c5-247">Aktion</span><span class="sxs-lookup"><span data-stu-id="855c5-247">Action</span></span>              | <span data-ttu-id="855c5-248">Bedingung</span><span class="sxs-lookup"><span data-stu-id="855c5-248">Condition</span></span>     | <span data-ttu-id="855c5-249">Sequenz</span><span class="sxs-lookup"><span data-stu-id="855c5-249">Sequence</span></span> | <span data-ttu-id="855c5-250">Notizen</span><span class="sxs-lookup"><span data-stu-id="855c5-250">Notes</span></span>                                                                                                                                                          |
    |---------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="855c5-251">Direct3D11SetProps</span><span class="sxs-lookup"><span data-stu-id="855c5-251">Direct3D11SetProps</span></span>  |               | <span data-ttu-id="855c5-252">1016</span><span class="sxs-lookup"><span data-stu-id="855c5-252">1016</span></span>     | <span data-ttu-id="855c5-253">Durch die Sequenznummer wird die Aktion bald nach "costfinalize" platziert.</span><span class="sxs-lookup"><span data-stu-id="855c5-253">The sequence number places the action soon after CostFinalize.</span></span>                                                                                                 |
    | <span data-ttu-id="855c5-254">Direct3D11DoInstall</span><span class="sxs-lookup"><span data-stu-id="855c5-254">Direct3D11DoInstall</span></span> | <span data-ttu-id="855c5-255">Nicht installiert</span><span class="sxs-lookup"><span data-stu-id="855c5-255">NOT Installed</span></span> | <span data-ttu-id="855c5-256">4004</span><span class="sxs-lookup"><span data-stu-id="855c5-256">4004</span></span>     | <span data-ttu-id="855c5-257">Diese benutzerdefinierte Aktion tritt nur während einer neuen Installation für alle Benutzer auf.</span><span class="sxs-lookup"><span data-stu-id="855c5-257">This custom action will only happen during a new installation for all users.</span></span> <span data-ttu-id="855c5-258">Die Sequenznummer platziert die Aktion nach "InstallFiles" und nach den Rollbacks.</span><span class="sxs-lookup"><span data-stu-id="855c5-258">The sequence number places the action after InstallFiles and after the rollbacks.</span></span> |
    | <span data-ttu-id="855c5-259">Direct3D11Finish</span><span class="sxs-lookup"><span data-stu-id="855c5-259">Direct3D11Finish</span></span>    |               | <span data-ttu-id="855c5-260">6615</span><span class="sxs-lookup"><span data-stu-id="855c5-260">6615</span></span>     | <span data-ttu-id="855c5-261">Die Sequenznummer platziert die Aktion bald nach InstallFinalize.</span><span class="sxs-lookup"><span data-stu-id="855c5-261">The sequence number places the action soon after InstallFinalize.</span></span>                                                                                              |

    

     

5.  <span data-ttu-id="855c5-262">Fügen Sie die in der folgenden Tabelle gezeigte Zeile der **Eigenschaften** Tabelle im MSI-Paket hinzu.</span><span class="sxs-lookup"><span data-stu-id="855c5-262">Add the row shown in the following table to the **Property** table in the MSI package.</span></span> 

    | <span data-ttu-id="855c5-263">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="855c5-263">Property</span></span>              | <span data-ttu-id="855c5-264">Wert</span><span class="sxs-lookup"><span data-stu-id="855c5-264">Value</span></span>                                                                        |
    |-----------------------|------------------------------------------------------------------------------|
    | <span data-ttu-id="855c5-265">RelativePathToD3D11IH</span><span class="sxs-lookup"><span data-stu-id="855c5-265">RelativePathToD3D11IH</span></span> | <span data-ttu-id="855c5-266">relativer Dateipfad, der D3D11Install.exe und D3D11InstallHelper.dll enthält.</span><span class="sxs-lookup"><span data-stu-id="855c5-266">relative file path that contains D3D11Install.exe and D3D11InstallHelper.dll</span></span> |

    

     

    > [!Note]  
    > <span data-ttu-id="855c5-267">Der durch den Pfad angegebene Speicherort ist relativ zum Speicherort, der durch den Installationspfad angegeben wird, z. –. "Redist \\ ".</span><span class="sxs-lookup"><span data-stu-id="855c5-267">The location specified by the path is relative to the location specified by the installation path—for example, "redist\\".</span></span>

     

6.  <span data-ttu-id="855c5-268">Speichern Sie das MSI-Paket.</span><span class="sxs-lookup"><span data-stu-id="855c5-268">Save the MSI package.</span></span> <span data-ttu-id="855c5-269">Ausführlichere Informationen zu MSI-Paketen und Windows Installer finden Sie unter [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="855c5-269">For more detailed information about MSI packages and Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="debugging-tips"></a><span data-ttu-id="855c5-270">Tipps zum Debuggen</span><span class="sxs-lookup"><span data-stu-id="855c5-270">Debugging tips</span></span>

<span data-ttu-id="855c5-271">Sowohl D3D11InstallHelper.dll als auch D3D11Install.exe können mit der Debugkonfiguration in Visual Studio erstellt werden, und diese Versionen Drucken Meldungen an den standardmäßigen Windows-Debug-Ausgabe Mechanismus.</span><span class="sxs-lookup"><span data-stu-id="855c5-271">Both D3D11InstallHelper.dll and D3D11Install.exe can be built with the Debug configuration in Visual Studio, and these versions will print messages to the standard Windows debug output mechanism.</span></span>

## <a name="corporate-settings"></a><span data-ttu-id="855c5-272">Firmeneinstellungen</span><span class="sxs-lookup"><span data-stu-id="855c5-272">Corporate settings</span></span>

<span data-ttu-id="855c5-273">Das D3D11InstallHelper-Beispiel ist für die Standard Bereitstellung über Windows Update konzipiert. Dies ist das häufigste Szenario für die Installation eines Spiels durch Consumer.</span><span class="sxs-lookup"><span data-stu-id="855c5-273">The D3D11InstallHelper sample is designed for standard deployment through Windows Update, which is the most common scenario for installation of a game by consumers.</span></span> <span data-ttu-id="855c5-274">Viele Spieleentwickler, die für Verleger und in Entwicklungsstudio arbeiten, machen dies jedoch in Unternehmens Einstellungen mit einem lokal verwalteten Server, der Software Updates mithilfe von Windows Server Update Services (WSUS)-Technologie bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="855c5-274">However, Many game developers, working for publishers and in development studios, do so in enterprise settings that have a locally managed server providing software updates by using Windows Server Update Services (WSUS) technology.</span></span> <span data-ttu-id="855c5-275">In dieser Art von Umgebung verfügt der lokale IT-Administrator über die Genehmigung, welche Updates den Computern innerhalb des Unternehmensnetzwerks zur Verfügung gestellt werden, und die Standard Consumer-Version von Update KB 971644 ist nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="855c5-275">In this type of environment, the local IT administrator has approval control over which updates are made available to computers within the corporate network, and the standard consumer version of update KB 971644 is not available.</span></span>

<span data-ttu-id="855c5-276">Es gibt drei grundlegende Lösungen für die Bereitstellung von DirectX 11 in Unternehmens-/Unternehmenseinstellungen:</span><span class="sxs-lookup"><span data-stu-id="855c5-276">There are three basic solutions for deploying DirectX 11 in corporate/enterprise settings:</span></span>

-   <span data-ttu-id="855c5-277">In einigen Konfigurationen ist es möglich, Windows Update direkt zu überprüfen, anstatt den lokal verwalteten WSUS-Server zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="855c5-277">In some configurations, it is possible to directly check Windows Update rather than use the locally managed WSUS server.</span></span> <span data-ttu-id="855c5-278">Aus diesem Grund unterstützt D3D11InstallHelper den **/Wu** -Befehls Zeilenschalter.</span><span class="sxs-lookup"><span data-stu-id="855c5-278">For this reason, D3D11InstallHelper supports the **/wu** command-line switch.</span></span> <span data-ttu-id="855c5-279">Allerdings lassen nicht alle Unternehmensnetzwerke Verbindungen mit den öffentlichen Microsoft-Servern zu.</span><span class="sxs-lookup"><span data-stu-id="855c5-279">However, not all corporate networks allow connections to the public Microsoft servers.</span></span>
-   <span data-ttu-id="855c5-280">Der lokale IT-Administrator kann KB 971512 genehmigen, ein vom Unternehmen unterstütztes Update, das von WSUS bereitgestellt wird und die Direct3D 11-API umfasst.</span><span class="sxs-lookup"><span data-stu-id="855c5-280">The local IT administrator can approve KB 971512, an enterprise-supported update deployed from WSUS, that includes the Direct3D 11 API.</span></span> <span data-ttu-id="855c5-281">Dies ist die einzige Möglichkeit für einen Standard Benutzer, das Update Direct3D 11 in einer Umgebung zu erhalten, die vollständig gesperrt ist.</span><span class="sxs-lookup"><span data-stu-id="855c5-281">This is the only option for a Standard User to obtain the Direct3D 11 update in an environment that is fully locked down.</span></span>
-   <span data-ttu-id="855c5-282">Alternativ dazu können Sie auch [KB 971512](https://support.microsoft.com/kb/971512/) manuell installieren.</span><span class="sxs-lookup"><span data-stu-id="855c5-282">Alternatively, [KB 971512](https://support.microsoft.com/kb/971512/) can be manually installed.</span></span>

<span data-ttu-id="855c5-283">Es ist sehr selten, dass der Computer eines Spielers nur Updates von einem lokal verwalteten WSUS-Server erhalten kann. es handelt sich hierbei nur um Entwickler in großen Organisationen, die sich wahrscheinlich in solchen Umgebungen befinden.</span><span class="sxs-lookup"><span data-stu-id="855c5-283">It is very rare that a gamer's computer can only get updates from a locally managed WSUS server, and it is only developers in large organizations who are likely to be in such environments.</span></span>

## <a name="related-articles"></a><span data-ttu-id="855c5-284">Verwandte Artikel</span><span class="sxs-lookup"><span data-stu-id="855c5-284">Related articles</span></span>

[<span data-ttu-id="855c5-285">Windows-Firewall für Spieleentwickler</span><span class="sxs-lookup"><span data-stu-id="855c5-285">Windows Firewall for Game Developers</span></span>](/windows/desktop/DxTechArts/games-and-firewalls)

[<span data-ttu-id="855c5-286">Windows Games Explorer für Spieleentwickler</span><span class="sxs-lookup"><span data-stu-id="855c5-286">Windows Games Explorer for Game Developers</span></span>](/windows/desktop/DxTechArts/windows-game-explorer-integration)