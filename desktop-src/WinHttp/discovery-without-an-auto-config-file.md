---
description: Wenn eine Datei für die automatische Proxykonfiguration nicht im lokalen Netzwerk bereitgestellt wurde, kann WinHttpGetProxyForUrl keinen Proxy Server finden.
ms.assetid: a170e63a-8586-47df-af5e-4ee3621795b2
title: Ermittlung ohne automatische Konfigurationsdatei
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b6a5ec281c2ef74e2a377cecbd30f16cbc49bd79
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106353222"
---
# <a name="discovery-without-an-auto-config-file"></a><span data-ttu-id="937b1-103">Ermittlung ohne automatische Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="937b1-103">Discovery Without an Auto-Config File</span></span>

<span data-ttu-id="937b1-104">Wenn eine Datei für die automatische Proxykonfiguration nicht im lokalen Netzwerk bereitgestellt wurde, kann [**WinHttpGetProxyForUrl**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetproxyforurl) keinen Proxy Server finden.</span><span class="sxs-lookup"><span data-stu-id="937b1-104">If a proxy auto-configuration file has not been deployed on the local network, [**WinHttpGetProxyForUrl**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetproxyforurl) cannot find a proxy server.</span></span> <span data-ttu-id="937b1-105">Wenn **WinHttpGetProxyForUrl** fehlschlägt, gibt es mehrere mögliche Fall Back Strategien, um eine geeignete Proxykonfiguration zu erhalten, abhängig von ihrer Laufzeitumgebung.</span><span class="sxs-lookup"><span data-stu-id="937b1-105">If **WinHttpGetProxyForUrl** fails, there are several possible fall-back strategies for obtaining a viable proxy configuration, depending on its runtime environment.</span></span> <span data-ttu-id="937b1-106">Dazu gehört die Aufforderung zur Proxy Einstellung über eine Benutzeroberfläche, die das Speichern der Proxykonfiguration in der Registrierung mit dem WinHTTP-Hilfsprogramm "ProxyCfg.exe" oder das Verwenden von [**WinHttpGetIEProxyConfigForCurrentUser**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetieproxyconfigforcurrentuser) erfordert, um zu überprüfen, ob ein Proxy Server in den Einstellungen von Internet Explorer aufgeführt ist.</span><span class="sxs-lookup"><span data-stu-id="937b1-106">These include prompting for the proxy setting through a user interface, requiring someone to store the proxy configuration in the registry using the WinHTTP "ProxyCfg.exe" utility, or using [**WinHttpGetIEProxyConfigForCurrentUser**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetieproxyconfigforcurrentuser) to check whether a proxy server is listed in Internet Explorer's settings.</span></span>

<span data-ttu-id="937b1-107">Es ist möglich, dass keine automatische Proxy Konfigurationsdatei vorhanden ist, da der Client über eine direkte Internet Verbindung verfügt, z. b. über einen ISP und keinen Proxy Server benötigt.</span><span class="sxs-lookup"><span data-stu-id="937b1-107">It is possible that there is no proxy auto-configuration file because the client has a direct Internet connection, such as through an ISP, and does not need a proxy server.</span></span>

<span data-ttu-id="937b1-108">Möglicherweise ist auch ein Proxy Server erforderlich, aber das lokale Netzwerk unterstützt WPAD möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="937b1-108">A proxy server may be required, on the other hand, but the local network may not support WPAD.</span></span> <span data-ttu-id="937b1-109">In diesem Fall muss die Proxykonfiguration vom Benutzer abgerufen oder irgendwo auf dem Client Computer gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="937b1-109">In this case, the proxy configuration must be obtained from the user or found somewhere on the client machine.</span></span>

<span data-ttu-id="937b1-110">Eine auf WinHTTP basierende Anwendung, die in einer Serverumgebung der mittleren Ebene ausgeführt wird, z. b. eine com+-oder ASP-Anwendung, sollte sich darauf verlassen, dass ein Server Administrator eine Standard Proxykonfiguration in der Registrierung unter Verwendung des Hilfsprogramms "ProxyCfg.exe" festlegt.</span><span class="sxs-lookup"><span data-stu-id="937b1-110">A WinHTTP-based application running in a middle-tier server environment, such as a COM+ or ASP application, should rely on a server administrator setting a default proxy configuration in the registry using the "ProxyCfg.exe" utility.</span></span> <span data-ttu-id="937b1-111">Diese Standard Konfigurationsinformationen können dann entweder mithilfe der [**WinHttpGetDefaultProxyConfiguration**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetdefaultproxyconfiguration) -Funktion oder einfach durch Angeben des **WinHTTP- \_ \_ Zugriffstyp- \_ preconfig** -Flags im [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) -Befehl abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="937b1-111">This default configuration information can then be retrieved either by using the [**WinHttpGetDefaultProxyConfiguration**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetdefaultproxyconfiguration) function, or simply by specifying the **WINHTTP\_ACCESS\_TYPE\_PRECONFIG** flag in the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) call.</span></span>

<span data-ttu-id="937b1-112">Auf der anderen Seite kann eine WinHTTP-Anwendung, die auf einem Client Desktop Computer ausgeführt wird, versuchen, die Proxy Einstellungen von Internet Explorer zu untersuchen.</span><span class="sxs-lookup"><span data-stu-id="937b1-112">On the other hand, a WinHTTP application running on a client desktop machine can attempt to examine Internet Explorer's proxy settings.</span></span> <span data-ttu-id="937b1-113">[**WinHttpGetIEProxyConfigForCurrentUser**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetieproxyconfigforcurrentuser) füllt eine vom Aufrufer angegebene WinHTTP-Vorlage für den [**\_ aktuellen \_ Benutzer- \_ \_ /proxykonfigurationsstruktur \_**](/windows/win32/api/winhttp/ns-winhttp-winhttp_current_user_ie_proxy_config) mit den Internet Explorer-Proxy Einstellungen des aktuellen Benutzers für die aktuelle aktive Verbindung (DFÜ, VPN oder LAN).</span><span class="sxs-lookup"><span data-stu-id="937b1-113">[**WinHttpGetIEProxyConfigForCurrentUser**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetieproxyconfigforcurrentuser) fills in a caller-supplied [**WINHTTP\_CURRENT\_USER\_IE\_PROXY\_CONFIG**](/windows/win32/api/winhttp/ns-winhttp-winhttp_current_user_ie_proxy_config) structure with the current user's Internet Explorer proxy settings for the current active connection (dial-up, VPN or LAN).</span></span> <span data-ttu-id="937b1-114">Diese Konfiguration kann darauf hindeuten, dass die automatische Erkennung verwendet wird, oder es kann eine URL für eine automatische Proxy Konfigurationsdatei angegeben werden, oder es kann ein tatsächlicher Proxy Server angegeben werden, der verwendet werden soll, oder es kann eine Kombination der drei Werte angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="937b1-114">This configuration may indicate that auto-detection is used, or it may specify a URL for a proxy auto-configuration file, or it may specify an actual proxy server to use, or it may specify a combination of the three.</span></span> <span data-ttu-id="937b1-115">Wenn diese Informationen eine PAC-URL oder einen Proxy Server enthalten, kann Sie von der WinHTTP-Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="937b1-115">If this information includes a PAC URL or a proxy server, the WinHTTP application can try using those.</span></span>

<span data-ttu-id="937b1-116">Ein Beispiel, in dem die Funktionen [**WinHttpGetProxyForUrl**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetproxyforurl) und [**WinHttpGetIEProxyConfigForCurrentUser**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetieproxyconfigforcurrentuser) verwendet werden, finden Sie unter WinHTTP-Beispiele für das Platform Software Development Kit (SDK).</span><span class="sxs-lookup"><span data-stu-id="937b1-116">A sample that uses the [**WinHttpGetProxyForUrl**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetproxyforurl) and [**WinHttpGetIEProxyConfigForCurrentUser**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpgetieproxyconfigforcurrentuser) functions can be found in the Platform Software Development Kit (SDK) WinHTTP samples.</span></span>

 

 



