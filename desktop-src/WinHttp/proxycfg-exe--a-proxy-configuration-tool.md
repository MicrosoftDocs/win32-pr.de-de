---
description: In diesem Thema wird die Verwendung des Microsoft Windows HTTP-Dienste (WinHTTP)-proxykonfigurationstools &\# 0034; ProxyCfg.exe&\# 0034; erläutert.
ms.assetid: f96adf59-59be-414e-ad6f-9eac05f4b975
title: Netsh.exe und ProxyCfg.exe Proxy Konfigurationstools
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 96a33e832d324a5863652673b8e25725fba72e88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104524827"
---
# <a name="netshexe-and-proxycfgexe-proxy-configuration-tools"></a><span data-ttu-id="5a140-103">Netsh.exe und ProxyCfg.exe Proxy Konfigurationstools</span><span class="sxs-lookup"><span data-stu-id="5a140-103">Netsh.exe and ProxyCfg.exe Proxy Configuration Tools</span></span>

<span data-ttu-id="5a140-104">\* \* Windows Vista und Windows Server 2008: \* \*</span><span class="sxs-lookup"><span data-stu-id="5a140-104">\*\*Windows Vista and Windows Server 2008:  \*\*</span></span>

<span data-ttu-id="5a140-105">ProxyCfg.exe ist veraltet.</span><span class="sxs-lookup"><span data-stu-id="5a140-105">ProxyCfg.exe has been deprecated.</span></span> <span data-ttu-id="5a140-106">Sie wird durch die [Netsh.exe WinHTTP](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731131(v=ws.10)) -Befehle ersetzt.</span><span class="sxs-lookup"><span data-stu-id="5a140-106">It is replaced by the [Netsh.exe winhttp](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731131(v=ws.10)) commands.</span></span>

<span data-ttu-id="5a140-107">In diesem Thema wird die Verwendung des [Microsoft Windows HTTP-Dienste (WinHTTP)](about-winhttp.md) -proxykonfigurationstools "ProxyCfg.exe" erläutert.</span><span class="sxs-lookup"><span data-stu-id="5a140-107">This topic explains the use of the [Microsoft Windows HTTP Services (WinHTTP)](about-winhttp.md) proxy configuration tool, "ProxyCfg.exe".</span></span>

<span data-ttu-id="5a140-108">Es gibt zwei Möglichkeiten für den Zugriff auf http-und Secure Hypertext Transfer Protocol (HTTPS)-Server über einen Proxy mithilfe der Microsoft Windows HTTP-Dienste (WinHTTP).</span><span class="sxs-lookup"><span data-stu-id="5a140-108">There are two ways to access HTTP and Secure Hypertext Transfer Protocol (HTTPS) servers through a proxy using Microsoft Windows HTTP Services (WinHTTP).</span></span> <span data-ttu-id="5a140-109">Zuerst können Sie Proxy Einstellungen in der WinHTTP-Anwendung angeben.</span><span class="sxs-lookup"><span data-stu-id="5a140-109">First, you can specify proxy settings from within your WinHTTP application.</span></span> <span data-ttu-id="5a140-110">Zweitens können Sie die Standard Proxy Einstellungen von außerhalb der Anwendung angeben, indem Sie das Proxy Konfigurations Hilfsprogramm im Verzeichnis% windir% \\ system32 verwenden.</span><span class="sxs-lookup"><span data-stu-id="5a140-110">Second, you can specify default proxy settings from outside your application using the proxy configuration utility located in the %windir%\\system32 directory.</span></span>

<span data-ttu-id="5a140-111">Sie können die Proxy Daten in der Anwendung oder im Skript Programm gesteuert festlegen.</span><span class="sxs-lookup"><span data-stu-id="5a140-111">You can programmatically set the proxy data from within your application or script.</span></span> <span data-ttu-id="5a140-112">Wenn Sie eine Anwendung mit der WinHTTP-API schreiben, verwenden Sie eine der beiden folgenden Verfahren, um die Proxy Einstellungen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="5a140-112">If you are writing an application using the WinHTTP API, use one of the following two techniques to change proxy settings.</span></span>

-   <span data-ttu-id="5a140-113">Verwenden Sie die [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="5a140-113">Use the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) function.</span></span> <span data-ttu-id="5a140-114">Legen Sie den Zugriffstyp im zweiten Parameter, den Namen des Proxys im dritten Parameter und eine Umgehungs Liste im vierten Parameter fest.</span><span class="sxs-lookup"><span data-stu-id="5a140-114">Specify access type in the second parameter, the name of the proxy in the third parameter, and a bypass list in the fourth parameter.</span></span> <span data-ttu-id="5a140-115">Im folgenden Beispiel wird gezeigt, wie die [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) -Funktion zum Festlegen von Proxy Daten verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5a140-115">The following example shows how the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) function can be used to set proxy data.</span></span>

    ``` syntax
    hSession = WinHttpOpen( L"WinHTTP Example/1.0",  
                            WINHTTP_ACCESS_TYPE_NAMED_PROXY,
                            L"proxy_name", 
                            L"<local>", 
                            0);
    ```

-   <span data-ttu-id="5a140-116">Verwenden Sie die [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="5a140-116">Use the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function.</span></span> <span data-ttu-id="5a140-117">Das [**WinHTTP \_ - \_ optionsproxyflag**](option-flags.md) ermöglicht Ihnen das Angeben von Proxy Einstellungen mit einer [**WinHTTP- \_ Proxy \_ Informations**](/windows/win32/api/winhttp/ns-winhttp-winhttp_proxy_info) Struktur.</span><span class="sxs-lookup"><span data-stu-id="5a140-117">The [**WINHTTP\_OPTION\_PROXY**](option-flags.md) flag enables you to specify proxy settings with a [**WINHTTP\_PROXY\_INFO**](/windows/win32/api/winhttp/ns-winhttp-winhttp_proxy_info) structure.</span></span> <span data-ttu-id="5a140-118">Der folgende Beispielcode zeigt, wie die [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) -Funktion zum Festlegen von Proxy Daten verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5a140-118">The following example code shows how the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function can be used to set proxy data.</span></span>

    ``` syntax
    WINHTTP_PROXY_INFO proxyInfo;
    proxyInfo.dwAccessType = WINHTTP_ACCESS_TYPE_NAMED_PROXY;
    proxyInfo.lpszProxy = L"proxy_name";
    proxyInfo.lpszProxyBypass = L"<local>";
        
    // Set the proxy information for this session.
    WinHttpSetOption( hSession, 
                      WINHTTP_OPTION_PROXY, 
                      &proxyInfo, 
                      sizeof(proxyInfo));
    ```

<span data-ttu-id="5a140-119">Wenn Sie ein Skript oder eine Anwendung mit dem [**WinHttpRequest**](winhttprequest.md) -Objekt schreiben, verwenden Sie das folgende Verfahren, um die Proxy Einstellungen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="5a140-119">If you are writing a script or an application using the [**WinHttpRequest**](winhttprequest.md) object, use the following technique to change proxy settings.</span></span>

-   <span data-ttu-id="5a140-120">Verwenden Sie die [**SetProxy**](iwinhttprequest-setproxy.md) -Methode.</span><span class="sxs-lookup"><span data-stu-id="5a140-120">Use the [**SetProxy**](iwinhttprequest-setproxy.md) method.</span></span> <span data-ttu-id="5a140-121">Geben Sie den Zugriffstyp im ersten Parameter, den Namen des Proxys im zweiten Parameter und eine Umgehungs Liste im dritten Parameter an.</span><span class="sxs-lookup"><span data-stu-id="5a140-121">Specify the access type in the first parameter, the name of the proxy in the second parameter, and a bypass list in the third parameter.</span></span> <span data-ttu-id="5a140-122">Im folgenden Beispiel wird gezeigt, wie die [**SetProxy**](iwinhttprequest-setproxy.md) -Methode im Skript zum Festlegen von Proxy Daten verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5a140-122">The following example shows how the [**SetProxy**](iwinhttprequest-setproxy.md) method can be used in script to set proxy data.</span></span>

    ``` syntax
    WinHttpReq.SetProxy( HTTPREQUEST_PROXYSETTING_PROXY, 
                         "proxy_server:80", 
                         "*.microsoft.com");
    ```

<span data-ttu-id="5a140-123">Um die Standardeinstellungen anzugeben und die Verwendung der [**SetProxy**](iwinhttprequest-setproxy.md) -Methode oder der [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) -Funktion zu vermeiden, verwenden Sie das Proxy Konfigurations Hilfsprogramm.</span><span class="sxs-lookup"><span data-stu-id="5a140-123">To specify default settings and eliminate the need to use either the [**SetProxy**](iwinhttprequest-setproxy.md) method or the [**WinHttpSetOption**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsetoption) function, use the proxy configuration utility.</span></span> <span data-ttu-id="5a140-124">Mit diesem Hilfsprogramm können Sie angeben, dass Ihre Anwendung entweder direkt, über einen Proxy oder durch eine Kombination aus direktem und Proxy Zugriff auf ein Netzwerk zugreifen soll, indem Sie eine Umgehungs Liste angeben.</span><span class="sxs-lookup"><span data-stu-id="5a140-124">Using this utility, you can specify that your application access a network either directly, through a proxy, or through a combination of direct and proxy access by specifying a bypass list.</span></span> <span data-ttu-id="5a140-125">Wenn Sie die WinHTTP-API verwenden, bestimmt das Proxy Konfigurationstool nur die Einstellungen, wenn Sie das **Standardflag WinHTTP- \_ \_ Zugriffstyp \_** an die [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) -API übergeben.</span><span class="sxs-lookup"><span data-stu-id="5a140-125">When you use the WinHTTP API, the proxy configuration tool only determines the settings when you pass the **WINHTTP\_ACCESS\_TYPE\_DEFAULT** flag to the [**WinHttpOpen**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpopen) API.</span></span> <span data-ttu-id="5a140-126">Das [**WinHttpRequest**](winhttprequest.md) -Objekt verwendet standardmäßig die Einstellungen für das Proxy Konfigurationstool.</span><span class="sxs-lookup"><span data-stu-id="5a140-126">The [**WinHttpRequest**](winhttprequest.md) object uses the proxy configuration tool settings by default.</span></span>

<span data-ttu-id="5a140-127">Die Proxy Einstellungen für WinHTTP sind nicht die Proxy Einstellungen für Microsoft Internet Explorer.</span><span class="sxs-lookup"><span data-stu-id="5a140-127">The proxy settings for WinHTTP are not the proxy settings for Microsoft Internet Explorer.</span></span> <span data-ttu-id="5a140-128">In der Microsoft Windows-Systemsteuerung können Sie die Proxy Einstellungen für WinHTTP nicht konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="5a140-128">You cannot configure the proxy settings for WinHTTP in the Microsoft Windows Control Panel.</span></span> <span data-ttu-id="5a140-129">Die Verwendung des Konfigurations Hilfsprogramms WinHTTP-Proxy ändert nicht die Einstellungen, die Sie für Internet Explorer verwenden.</span><span class="sxs-lookup"><span data-stu-id="5a140-129">Using the WinHTTP proxy configuration utility does not alter the settings you use for Internet Explorer.</span></span>

> [!Note]  
> <span data-ttu-id="5a140-130">Wenn Sie versuchen, eine HTTP-Anforderung mit WinHTTP zu öffnen und zu senden, und die Proxy Einstellungen falsch sind, tritt ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="5a140-130">If you attempt to open and send an HTTP request using WinHTTP and the proxy settings are incorrect, an error occurs.</span></span>

 

## <a name="command-line-parameters"></a><span data-ttu-id="5a140-131">Befehlszeilenparameter</span><span class="sxs-lookup"><span data-stu-id="5a140-131">Command Line Parameters</span></span>

<span data-ttu-id="5a140-132">In der folgenden Tabelle sind die Befehlszeilenparameter aufgeführt, die für die Verwendung mit dem ProxyCfg.exe Tool verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="5a140-132">The following table lists the command line parameters available for use with the ProxyCfg.exe tool.</span></span>



| <span data-ttu-id="5a140-133">Parameter</span><span class="sxs-lookup"><span data-stu-id="5a140-133">Parameter</span></span> | <span data-ttu-id="5a140-134">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="5a140-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5a140-135">none</span><span class="sxs-lookup"><span data-stu-id="5a140-135">none</span></span>      | <span data-ttu-id="5a140-136">Wenn keine Parameter angegeben werden, werden die aktuellen WinHTTP-Proxy Einstellungen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5a140-136">When no parameters are specified, the current WinHTTP proxy settings are displayed.</span></span>                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="5a140-137">?</span><span class="sxs-lookup"><span data-stu-id="5a140-137">?</span></span>         | <span data-ttu-id="5a140-138">Hilfe Informationen werden angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5a140-138">Help information is displayed.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="5a140-139">d</span><span class="sxs-lookup"><span data-stu-id="5a140-139">d</span></span>         | <span data-ttu-id="5a140-140">Gibt an, dass WinHTTP-Anwendungen direkt und ohne Proxy auf das Netzwerk zugreifen.</span><span class="sxs-lookup"><span data-stu-id="5a140-140">Specifies that WinHTTP applications access the network directly, without a proxy.</span></span>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="5a140-141">p</span><span class="sxs-lookup"><span data-stu-id="5a140-141">p</span></span>         | <span data-ttu-id="5a140-142">Gibt den Proxy Server an.</span><span class="sxs-lookup"><span data-stu-id="5a140-142">Specifies the proxy server.</span></span> <span data-ttu-id="5a140-143">Sie können auch eine optionale Liste der Server angeben, auf die ohne Proxy zugegriffen werden soll.</span><span class="sxs-lookup"><span data-stu-id="5a140-143">You can also specify an optional list of servers that are accessed without a proxy.</span></span>                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="5a140-144">u</span><span class="sxs-lookup"><span data-stu-id="5a140-144">u</span></span>         | <span data-ttu-id="5a140-145">Gibt an, dass WinHTTP-Anwendungen die Proxy Einstellungen des aktuellen Benutzers für Internet Explorer verwenden.</span><span class="sxs-lookup"><span data-stu-id="5a140-145">Specifies that WinHTTP applications use the current user's proxy settings for Internet Explorer.</span></span> <span data-ttu-id="5a140-146">Dieser Parameter funktioniert nicht, wenn Internet Explorer Proxy Einstellungen automatisch erkennt, oder wenn er eine automatische Konfigurations-URL verwendet, um die Proxy Informationen festzulegen.</span><span class="sxs-lookup"><span data-stu-id="5a140-146">This parameter does not work if Internet Explorer is automatically detecting proxy settings, or if it is using an automatic configuration URL to set the proxy information.</span></span>                                                                                                                                                      |
| <span data-ttu-id="5a140-147">i</span><span class="sxs-lookup"><span data-stu-id="5a140-147">i</span></span>         | <span data-ttu-id="5a140-148">Gibt an, dass WinHTTP-Anwendungen die Proxy Einstellungen des aktuellen Benutzers für Internet Explorer verwenden.</span><span class="sxs-lookup"><span data-stu-id="5a140-148">Specifies that WinHTTP applications use the current user's proxy settings for Internet Explorer.</span></span> <span data-ttu-id="5a140-149">Dies funktioniert nur, wenn ProxyCfg.exe zuvor nicht verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="5a140-149">This only works when ProxyCfg.exe was not previously used.</span></span> <span data-ttu-id="5a140-150">Wenn ProxyCfg.exe installiert ist, geben Sie an, dass für den Befehlszeilenparameter "u" die manuellen Einstellungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5a140-150">If ProxyCfg.exe is installed, specify that the "u" command line parameter use the manual settings.</span></span> <span data-ttu-id="5a140-151">Dieser Parameter funktioniert nicht, wenn Internet Explorer Proxy Einstellungen automatisch erkennt, oder wenn er eine automatische Konfigurations-URL verwendet, um die Proxy Informationen festzulegen.</span><span class="sxs-lookup"><span data-stu-id="5a140-151">This parameter does not work if Internet Explorer automatically detects proxy settings, or if it uses an automatic configuration URL to set the proxy information.</span></span> |



 

<span data-ttu-id="5a140-152">Sie können Proxys in einer durch Leerzeichen getrennten Zeichenfolge angeben.</span><span class="sxs-lookup"><span data-stu-id="5a140-152">You can specify proxies in a space-delimited string.</span></span> <span data-ttu-id="5a140-153">Die Proxy Listen können die Portnummer enthalten, die für den Zugriff auf den Proxy verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5a140-153">The proxy listings can contain the port number that is used to access the proxy.</span></span> <span data-ttu-id="5a140-154">Zum Auflisten eines Proxys für ein bestimmtes Protokoll muss die Zeichenfolge dem folgenden Format entsprechen: <protocol> = https://<Proxy \_ Name>.</span><span class="sxs-lookup"><span data-stu-id="5a140-154">To list a proxy for a specific protocol, the string must follow the format, <protocol>=https://<proxy\_name>.</span></span> <span data-ttu-id="5a140-155">Gültige Protokolle sind http und HTTPS.</span><span class="sxs-lookup"><span data-stu-id="5a140-155">The valid protocols are HTTP and HTTPS.</span></span> <span data-ttu-id="5a140-156">Um beispielsweise einen HTTP-Proxy aufzulisten, ist eine gültige Zeichenfolge http = https://http\_proxy\_name:80 , wobei \_ http \_ -Proxy Name der Name des Proxy Servers und 80 die Portnummer ist, die Sie für den Zugriff auf den Proxy verwenden müssen.</span><span class="sxs-lookup"><span data-stu-id="5a140-156">For example, to list an HTTP proxy, a valid string is http=https://http\_proxy\_name:80, where http\_proxy\_name is the name of the proxy server and 80 is the port number that you must use to access the proxy.</span></span> <span data-ttu-id="5a140-157">Wenn der Proxy die Standard Portnummer für dieses Protokoll verwendet, können Sie die Portnummer weglassen.</span><span class="sxs-lookup"><span data-stu-id="5a140-157">If the proxy uses the default port number for that protocol, then you can omit the port number.</span></span> <span data-ttu-id="5a140-158">Wenn ein Proxy Name allein aufgeführt wird, können Sie ihn als Standard Proxy für alle Protokolle verwenden, die nicht über einen bestimmten Proxy verfügen.</span><span class="sxs-lookup"><span data-stu-id="5a140-158">If a proxy name is listed by itself, you can use it as the default proxy for any protocols that do not have a specified proxy.</span></span> <span data-ttu-id="5a140-159">Http = https://http\_proxy anderer \_ Proxy verwendet beispielsweise http- \_ Proxy für http-Vorgänge, während das HTTPS-Protokoll den Proxy namens anderer \_ Proxy verwendet.</span><span class="sxs-lookup"><span data-stu-id="5a140-159">For example, http=https://http\_proxy other\_proxy uses http\_proxy for any HTTP operations, while the HTTPS protocol uses the proxy named other\_proxy.</span></span>

<span data-ttu-id="5a140-160">Sie können lokale bekannte Hostnamen oder IP-Adressen in der Proxy Umgehungs Liste auflisten.</span><span class="sxs-lookup"><span data-stu-id="5a140-160">You can list locally known host names or IP addresses in the proxy bypass list.</span></span> <span data-ttu-id="5a140-161">Diese Liste kann Platzhalter enthalten, wie z. b. " \* ", die bewirken, dass die Anwendung den Proxy Server für Adressen umgeht, die dem angegebenen Muster entsprechen, z. b. " \* . Microsoft.com" oder " \* . org".</span><span class="sxs-lookup"><span data-stu-id="5a140-161">This list can contain wildcards, such as "\*", that cause the application to bypass the proxy server for addresses that fit the specified pattern, for example, "\*.microsoft.com" or "\*.org".</span></span> <span data-ttu-id="5a140-162">Platzhalter Zeichen müssen die äußersten linken Zeichen in der Liste sein.</span><span class="sxs-lookup"><span data-stu-id="5a140-162">Wildcard characters must be the left-most characters in the list.</span></span> <span data-ttu-id="5a140-163">Beispiel: "AAA". \* wird nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="5a140-163">For example, "aaa.\*" is not supported.</span></span> <span data-ttu-id="5a140-164">Wenn Sie mehrere Adressen und Hostnamen auflisten möchten, trennen Sie diese durch Leerzeichen oder Semikolons in der Proxy Umgehungs Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="5a140-164">To list multiple addresses and host names, separate them with blank spaces or semicolons in the proxy bypass string.</span></span> <span data-ttu-id="5a140-165">Wenn Sie das- <local> Makro angeben, umgeht die Funktion jeden Hostnamen, der keinen-Zeitraum enthält.</span><span class="sxs-lookup"><span data-stu-id="5a140-165">If you specify the <local> macro, the function bypasses any host name that does not contain a period.</span></span>

> [!WARNING]
> <span data-ttu-id="5a140-166">Nachdem Proxycfg.exe ausgeführt wurde, können Sie die vorherigen Proxy Einstellungen nicht wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="5a140-166">After Proxycfg.exe runs, you cannot restore the previous proxy settings.</span></span> <span data-ttu-id="5a140-167">Allerdings können Sie die Proxy Einstellungen vollständig entfernen.</span><span class="sxs-lookup"><span data-stu-id="5a140-167">However, you can remove the proxy settings entirely.</span></span>

 

## <a name="usage"></a><span data-ttu-id="5a140-168">Verbrauch</span><span class="sxs-lookup"><span data-stu-id="5a140-168">Usage</span></span>

<span data-ttu-id="5a140-169">Um das Proxy Konfigurationstool zu verwenden, öffnen Sie ein Eingabe Aufforderungs Fenster, und führen Sie das Proxy Konfigurations Hilfsprogramm mit den entsprechenden Befehlszeilen Parametern aus.</span><span class="sxs-lookup"><span data-stu-id="5a140-169">To use the proxy configuration tool, open a command prompt window and run the proxy configuration utility with the appropriate command line parameters.</span></span> <span data-ttu-id="5a140-170">Der folgende Abschnitt enthält Beispiele für die Syntax.</span><span class="sxs-lookup"><span data-stu-id="5a140-170">The following section provides syntax examples.</span></span>

## <a name="example-syntax"></a><span data-ttu-id="5a140-171">Beispiel Syntax</span><span class="sxs-lookup"><span data-stu-id="5a140-171">Example Syntax</span></span>

### <a name="example-1-use-a-proxy-only-for-external-resources"></a><span data-ttu-id="5a140-172">Beispiel 1: Verwenden eines Proxys nur für externe Ressourcen</span><span class="sxs-lookup"><span data-stu-id="5a140-172">Example 1: Use a proxy only for external resources</span></span>

<span data-ttu-id="5a140-173">Im folgenden finden Sie die gängigste Verwendung von Proxycfg.exe.</span><span class="sxs-lookup"><span data-stu-id="5a140-173">The following is the most common use for Proxycfg.exe.</span></span> <span data-ttu-id="5a140-174">Dieser Befehl gibt an, dass auf http-und HTTPS-Server über den Proxy Server mit dem Namen "Proxy \_ Server" zugegriffen wird, mit Ausnahme von Hostnamen, die keinen Punkt enthalten.</span><span class="sxs-lookup"><span data-stu-id="5a140-174">This command specifies that both HTTP and HTTPS servers are accessed through the proxy server named "proxy\_server", except for host names that do not contain a period.</span></span>

<span data-ttu-id="5a140-175">**proxycfg-p-Proxy \_ Server " <local> "**</span><span class="sxs-lookup"><span data-stu-id="5a140-175">**proxycfg -p proxy\_server "<local>"**</span></span>

### <a name="example-2-use-a-proxy-for-all-resources"></a><span data-ttu-id="5a140-176">Beispiel 2: Verwenden eines Proxys für alle Ressourcen</span><span class="sxs-lookup"><span data-stu-id="5a140-176">Example 2: Use a proxy for all resources</span></span>

<span data-ttu-id="5a140-177">Im folgenden Beispiel wird angegeben, dass auf http-und HTTPS-Server über den Proxy Server mit dem Namen "Proxy \_ Server" zugegriffen wird.</span><span class="sxs-lookup"><span data-stu-id="5a140-177">The following example specifies that both HTTP and HTTPS servers are accessed through the proxy server named "proxy\_server".</span></span> <span data-ttu-id="5a140-178">Es wurde keine Umgehungs Liste angegeben.</span><span class="sxs-lookup"><span data-stu-id="5a140-178">No bypass list is specified.</span></span>

<span data-ttu-id="5a140-179">**proxycfg-p-Proxy \_ Server**</span><span class="sxs-lookup"><span data-stu-id="5a140-179">**proxycfg -p proxy\_server**</span></span>

### <a name="example-3-use-a-different-proxy-for-secure-resources"></a><span data-ttu-id="5a140-180">Beispiel 3: Verwenden eines anderen Proxys für sichere Ressourcen</span><span class="sxs-lookup"><span data-stu-id="5a140-180">Example 3: Use a different proxy for secure resources</span></span>

<span data-ttu-id="5a140-181">Im folgenden Beispiel wird angegeben, dass der Zugriff auf http-Server über den HTTP \_ -Proxy Proxy und auf HTTPS-Server über den HTTPS- \_ Proxy erfolgt.</span><span class="sxs-lookup"><span data-stu-id="5a140-181">The following example specifies that HTTP servers are accessed through the http\_proxy proxy and HTTPS servers are accessed through https\_proxy.</span></span> <span data-ttu-id="5a140-182">Lokale Intranetsites und eine beliebige Site in der \* . Microsoft.com-Domäne umgehen den Proxy.</span><span class="sxs-lookup"><span data-stu-id="5a140-182">Local intranet sites and any site in the \*.microsoft.com domain bypass the proxy.</span></span>

<span data-ttu-id="5a140-183">**proxycfg-p "http = http- \_ Proxy HTTPS = HTTPS- \_ Proxy" " <local> ; \* . Microsoft.com "**</span><span class="sxs-lookup"><span data-stu-id="5a140-183">**proxycfg -p "http=http\_proxy https=https\_proxy" "<local>;\*.microsoft.com"**</span></span>

## <a name="removing-proxycfgexe"></a><span data-ttu-id="5a140-184">Entfernen von ProxyCfg.exe</span><span class="sxs-lookup"><span data-stu-id="5a140-184">Removing ProxyCfg.exe</span></span>

<span data-ttu-id="5a140-185">Nachdem Sie das Proxy Konfigurationstool verwendet haben, können Sie die ursprünglichen Proxy Einstellungen nicht wiederherstellen.</span><span class="sxs-lookup"><span data-stu-id="5a140-185">After using the proxy configuration tool, you cannot restore your original proxy settings.</span></span> <span data-ttu-id="5a140-186">Falls erforderlich, können Sie jedoch die Registrierungs Einstellungen entfernen, die vom-Hilfsprogramm erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="5a140-186">However, if necessary, you can remove the registry settings that the utility creates.</span></span> <span data-ttu-id="5a140-187">Um die von ProxyCfg.exe erstellten Registrierungseinträge zu entfernen, müssen Sie den **WinHttpSettings** -Wert aus dem folgenden Registrierungsschlüssel löschen.</span><span class="sxs-lookup"><span data-stu-id="5a140-187">To remove the registry entries that ProxyCfg.exe creates, you must delete the **WinHttpSettings** value from the following registry key.</span></span>

<span data-ttu-id="5a140-188">**HKEY \_ Lokale \_ Computer** \\ **Software** \\ **Microsoft** \\ **Windows** \\ **CurrentVersion** \\ **Internet Settings** \\ **Connections** \\ **WinHttpSettings**</span><span class="sxs-lookup"><span data-stu-id="5a140-188">**HKEY\_LOCAL\_MACHINE**\\**SOFTWARE**\\**Microsoft**\\**Windows**\\**CurrentVersion**\\**Internet Settings**\\**Connections**\\**WinHttpSettings**</span></span>

<span data-ttu-id="5a140-189">Wenn Sie den *WinHttpSettings* -Wert löschen, werden alle Proxy Konfigurationen entfernt.</span><span class="sxs-lookup"><span data-stu-id="5a140-189">Deleting the *WinHttpSettings* value removes all proxy configurations.</span></span>

## <a name="proxycfgexe-and-authentication"></a><span data-ttu-id="5a140-190">ProxyCfg.exe und Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="5a140-190">ProxyCfg.exe and Authentication</span></span>

<span data-ttu-id="5a140-191">Das Proxy Konfigurations Hilfsprogramm legt die Standard Authentifizierungs Richtlinie fest.</span><span class="sxs-lookup"><span data-stu-id="5a140-191">The proxy configuration utility sets the default authentication policy.</span></span> <span data-ttu-id="5a140-192">Da Sie die NTLM-Authentifizierung nicht bei nicht vertrauenswürdigen Hosts ausführen sollten, erfolgt die NTLM-Authentifizierung standardmäßig nur automatisch mit Hosts in der Proxy Umgehungs Liste.</span><span class="sxs-lookup"><span data-stu-id="5a140-192">Because you should not perform NTLM authentication with untrusted hosts, by default, NTLM authentication only occurs automatically with hosts on the proxy bypass list.</span></span> <span data-ttu-id="5a140-193">Wenn kein Proxy vorhanden ist, können Sie weiterhin ProxyCfg.exe verwenden, um eine Umgehungs Liste der Hosts anzugeben, denen Sie Vertrauen, um die NTLM-Authentifizierung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="5a140-193">If there is no proxy, you can still use ProxyCfg.exe to specify a bypass list of hosts that you trust to perform NTLM authentication.</span></span> <span data-ttu-id="5a140-194">Ein Proxy Name ist erforderlich, wenn ProxyCfg.exe zu diesem Zweck verwendet wird. Sie können jedoch eine beliebige gültige Zeichenfolge anstelle eines echten Proxy namens verwenden.</span><span class="sxs-lookup"><span data-stu-id="5a140-194">A proxy name is required when using ProxyCfg.exe for this purpose, but you can use any valid string in place of a real proxy name.</span></span>

<span data-ttu-id="5a140-195">Weitere Informationen zur Richtlinie für die automatische Anmeldung finden Sie unter [Richtlinie](authentication-in-winhttp.md)für die automatische Anmeldung.</span><span class="sxs-lookup"><span data-stu-id="5a140-195">For more information about the auto-logon policy, see [Automatic Logon Policy](authentication-in-winhttp.md).</span></span>

 

 
