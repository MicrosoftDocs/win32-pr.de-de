---
description: Zum Vereinfachen der Konfiguration von Proxy Einstellungen implementiert WinHTTP 5,1 das WPAD-Protokoll (Web Proxy Auto-Discovery), das auch als AutoProxy bezeichnet wird.
ms.assetid: f766f37b-a1aa-420f-ac3b-d03485630d88
title: WinHTTP-AutoProxy-Unterstützung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 26584bd0b1809f3866ed42adc7198275f40f991c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106357339"
---
# <a name="winhttp-autoproxy-support"></a><span data-ttu-id="9f9d9-103">WinHTTP-AutoProxy-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="9f9d9-103">WinHTTP AutoProxy Support</span></span>

<span data-ttu-id="9f9d9-104">Zum Vereinfachen der Konfiguration von Proxy Einstellungen implementiert WinHTTP 5,1 das WPAD-Protokoll (Web Proxy Auto-Discovery), das auch als AutoProxy bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-104">To ease the configuration of proxy settings, WinHTTP 5.1 implements the Web Proxy Auto-Discovery (WPAD) protocol, also known as autoproxy.</span></span>

## <a name="overview-of-autoproxy"></a><span data-ttu-id="9f9d9-105">Übersicht über AutoProxy</span><span class="sxs-lookup"><span data-stu-id="9f9d9-105">Overview of AutoProxy</span></span>

<span data-ttu-id="9f9d9-106">Anwendungen und Komponenten, die WinHTTP zum Senden von HTTP-Anforderungen verwenden, sollten sicherstellen, dass die Proxykonfiguration ordnungsgemäß festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-106">Applications and components that use WinHTTP to send HTTP requests should ensure that the proxy configuration is set correctly.</span></span> <span data-ttu-id="9f9d9-107">Wenn der Client nicht über eine direkte Internet Verbindung verfügt, sollte normalerweise eine HTTP-Anforderung über einen Webproxyserver gesendet werden, der das lokale Netzwerk des Clients mit dem Internet verbindet (z. b. Dies ist häufig der Fall bei Webclients in einem Unternehmens-LAN).</span><span class="sxs-lookup"><span data-stu-id="9f9d9-107">Unless the client has a direct Internet connection, an HTTP request should normally be sent through a web proxy server that connects the client's local network to the Internet (for example, this is often the case for Web clients on a corporate LAN).</span></span> <span data-ttu-id="9f9d9-108">Bei serverbasierten Anwendungen wird die Proxykonfiguration normalerweise vom Administrator des Servers mithilfe des Dienstprogramms WinHTTP ProxyCfg.exe verwaltet.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-108">For server-based applications, the proxy configuration is normally managed by the server's administrator using the WinHTTP ProxyCfg.exe utility.</span></span> <span data-ttu-id="9f9d9-109">Der Server Administrator kennt den Namen des Proxy Servers im voraus und verwendet ProxyCfg.exe, um diese Einstellung in der Registrierung aufzuzeichnen, in der WinHTTP nachschlagen kann.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-109">The server administrator knows the name of the proxy server in advance and uses ProxyCfg.exe to record this setting in the registry where WinHTTP can look it up.</span></span> <span data-ttu-id="9f9d9-110">Es ist jedoch problematisch, dass Client Desktop-Endbenutzer die WinHTTP-Proxy Einstellungen manuell konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-110">However, requiring client desktop end-users to manually configure WinHTTP proxy settings is problematic.</span></span> <span data-ttu-id="9f9d9-111">Der Endbenutzer kennt den Namen des Proxy Servers möglicherweise nicht. die Notwendigkeit, dass der Endbenutzer das ProxyCfg.exe-Hilfsprogramm ausführen muss, kann eine Unterstützung für eine Organisation darstellen.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-111">The end-user may not know the name of the proxy server; requiring the end-user to run the ProxyCfg.exe utility can be a support burden for an organization.</span></span> <span data-ttu-id="9f9d9-112">Zur Unterstützung eines guten Benutzer Erlebnisses sollte eine webfähige Client Anwendung die Proxykonfiguration ohne Benutzereingriff ermitteln.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-112">To support a good user experience, a web-enabled client application should determine the proxy configuration without user intervention.</span></span>

<span data-ttu-id="9f9d9-113">Zum Vereinfachen der Konfiguration der Proxy Einstellungen für WinHTTP-basierte Anwendungen implementiert WinHTTP jetzt das [WPAD-Protokoll (Web Proxy Auto-Discovery)](https://tools.ietf.org/html/draft-ietf-wrec-wpad-01), das häufig als *aktivierter automatischer Proxy* bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-113">To make configuring the proxy settings for WinHTTP-based applications easier, WinHTTP now implements the [Web Proxy Auto-Discovery (WPAD) protocol](https://tools.ietf.org/html/draft-ietf-wrec-wpad-01), often referred to as *autoproxy*.</span></span> <span data-ttu-id="9f9d9-114">Dabei handelt es sich um das Protokoll, das von Webbrowsern implementiert wird, um die Proxykonfiguration automatisch zu ermitteln, ohne dass ein Endbenutzer einen Proxy Server manuell angeben muss.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-114">This is the same protocol that web browsers implement to automatically discover the proxy configuration without requiring an end-user to specify a proxy server manually.</span></span> <span data-ttu-id="9f9d9-115">Diese Funktion ist ab WinHTTP-Version 5,1 in Windows 2000 Service Pack 3, Windows XP Service Pack 1 und Windows Server 2003 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-115">This feature is available starting with WinHTTP version 5.1 in Windows 2000 Service Pack 3, Windows XP Service Pack 1 and Windows Server 2003.</span></span> <span data-ttu-id="9f9d9-116">Beachten Sie, dass zwar sowohl Microsoft Internet Explorer als auch Microsoft WinHTTP unterstützen, die Spezifikation jedoch nie über die "Internet Draft"-Phase hinausgeht und im Mai 2001 abgelaufen ist.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-116">Note that although both Microsoft Internet Explorer and Microsoft WinHTTP support WPAD, the specification never progressed beyond the "Internet-Draft" stage, and expired in May 2001.</span></span>

<span data-ttu-id="9f9d9-117">Das WPAD-Protokoll funktioniert wie folgt:</span><span class="sxs-lookup"><span data-stu-id="9f9d9-117">The WPAD protocol works as follows:</span></span>

1.  <span data-ttu-id="9f9d9-118">Mithilfe der DHCP-und/oder DNS-Netzwerkprotokolle wird die URL einer Datei für die automatische Proxy Konfiguration erkannt.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-118">Using the DHCP and/or DNS network protocols, the URL of a Proxy Auto-Configuration (PAC) file is discovered.</span></span> <span data-ttu-id="9f9d9-119">Die URL identifiziert eine PAC-Datei im lokalen Netzwerk des Clients.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-119">The URL identifies a PAC file on the client's local network.</span></span> <span data-ttu-id="9f9d9-120">WinHTTP unterstützt nur die PAC-URLs "http:" und "https:". Es werden z. b. keine URLs für "file:" unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-120">WinHTTP supports only "http:" and "https:" PAC URLs; it does not, for example, support "file:" URLS.</span></span>
2.  <span data-ttu-id="9f9d9-121">Die PAC-Datei wird heruntergeladen und optional auf dem Client Computer zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-121">The PAC file is downloaded and optionally cached on the client's computer.</span></span> <span data-ttu-id="9f9d9-122">Bei der PAC-Datei handelt es sich um ein ausführbares Skript, das eine Liste mit einem oder mehreren Proxy Servern mit einem Zielhostnamen und einer URL generiert.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-122">The PAC file is an executable script that generates a list of one or more proxy servers given a target host name and URL.</span></span> <span data-ttu-id="9f9d9-123">WinHTTP unterstützt nur ECMAScript-basierte PAC-Dateien.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-123">WinHTTP supports only ECMAScript-based PAC files.</span></span>
3.  <span data-ttu-id="9f9d9-124">Für jede HTTP-Anforderung wird der PAC-Skriptcode ausgeführt, wobei der Hostname und die URL der HTTP-Anforderung als Parameter weitergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-124">On each HTTP request, the PAC script code is executed, with the host name and URL of the HTTP request passed in as parameters.</span></span> <span data-ttu-id="9f9d9-125">WinHTTP erwartet, dass der PAC-Skriptcode eine Funktion mit dem Namen " **FindProxyForURL**" im folgenden Format enthält:</span><span class="sxs-lookup"><span data-stu-id="9f9d9-125">WinHTTP expects the PAC script code to contain a function called **FindProxyForURL**, in the form:</span></span>
4.  ``` syntax
    FindProxyForURL( url, host );
    ```

    <span data-ttu-id="9f9d9-126">Diese Funktion berechnet eine Liste mit mindestens einem Proxy Server, der vom HTTP-Client verwendet werden kann, um die Anforderung zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-126">This function computes a list of one or more proxy servers that can be used by the HTTP client in order to transmit the request.</span></span> <span data-ttu-id="9f9d9-127">Wenn das PAC-Skript feststellt, dass der HTTP-Client den Zielserver direkt erreichen kann, ohne einen Proxy Server zu verwenden, bedeutet dies, dass dies mit einem speziellen Rückgabewert erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="9f9d9-127">If the PAC script determines that the HTTP client can reach the target server directly without going through a proxy server at all, it indicates this using a special return value.</span></span>

## <a name="autoproxy-topics"></a><span data-ttu-id="9f9d9-128">Themen zu AutoProxy</span><span class="sxs-lookup"><span data-stu-id="9f9d9-128">AutoProxy Topics</span></span>

-   [<span data-ttu-id="9f9d9-129">WinHTTP AutoProxy-Funktionen</span><span class="sxs-lookup"><span data-stu-id="9f9d9-129">WinHTTP AutoProxy Functions</span></span>](winhttp-autoproxy-api.md)
-   [<span data-ttu-id="9f9d9-130">Ermittlung ohne automatische Konfigurationsdatei</span><span class="sxs-lookup"><span data-stu-id="9f9d9-130">Discovery Without an Auto-Config File</span></span>](discovery-without-an-auto-config-file.md)
-   [<span data-ttu-id="9f9d9-131">AutoProxy-Probleme in WinHTTP</span><span class="sxs-lookup"><span data-stu-id="9f9d9-131">AutoProxy Issues in WinHTTP</span></span>](autoproxy-issues-in-winhttp.md)
-   [<span data-ttu-id="9f9d9-132">Festlegen von WinInet-Proxy Konfigurationen in WinHTTP</span><span class="sxs-lookup"><span data-stu-id="9f9d9-132">Setting WinInet Proxy Configurations in WinHTTP</span></span>](setting-wininet-proxy-configurations-in-winhttp.md)
-   [<span data-ttu-id="9f9d9-133">AutoProxy-Cache</span><span class="sxs-lookup"><span data-stu-id="9f9d9-133">AutoProxy Cache</span></span>](autoproxy-cache.md)
-   [<span data-ttu-id="9f9d9-134">IPv6-Erweiterungen für das Auto-config-Datei Format des Navigators</span><span class="sxs-lookup"><span data-stu-id="9f9d9-134">IPv6 Extensions to Navigator Auto-Config File Format</span></span>](ipv6-extensions-to-navigator-auto-config-file-format.md)

 

 



