---
description: Strategien für die Kommunikation mit mehreren Pipe-Clients und die Wartung mehrerer Pipe-Instanzen.
ms.assetid: c764bde5-e053-4124-b859-1d2839ada918
title: Named Pipe-Instanzen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4b7d1ec591996e83853ae6faede899ecd4e4ea2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106359197"
---
# <a name="named-pipe-instances"></a><span data-ttu-id="f79ba-103">Named Pipe-Instanzen</span><span class="sxs-lookup"><span data-stu-id="f79ba-103">Named Pipe Instances</span></span>

<span data-ttu-id="f79ba-104">Der einfachste Pipeserver erstellt eine einzelne Instanz einer Pipe, stellt eine Verbindung mit einem einzelnen Client her, kommuniziert mit dem Client, trennt die Verbindung mit dem Client, schließt das Pipehandle und wird beendet.</span><span class="sxs-lookup"><span data-stu-id="f79ba-104">The simplest pipe server creates a single instance of a pipe, connects to a single client, communicates with the client, disconnects from the client, closes the pipe handle, and terminates.</span></span> <span data-ttu-id="f79ba-105">Es ist jedoch eher üblich, dass ein Pipe-Server mit mehreren Pipe-Clients kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="f79ba-105">However, it is more common for a pipe server to communicate with multiple pipe clients.</span></span> <span data-ttu-id="f79ba-106">Ein pipenserver kann eine einzelne Pipe-Instanz verwenden, um eine Verbindung mit mehreren Pipeclients herzustellen, indem er eine Verbindung mit einem Client in der Reihenfolge herstellt und die Verbindung trennt, aber die Leistung ist unzureichend.</span><span class="sxs-lookup"><span data-stu-id="f79ba-106">A pipe server could use a single pipe instance to connect with multiple pipe clients by connecting to and disconnecting from each client in sequence, but performance would be poor.</span></span> <span data-ttu-id="f79ba-107">Der Pipeserver muss mehrere Pipeline Instanzen erstellen, um mehrere Clients gleichzeitig effizient zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="f79ba-107">The pipe server must create multiple pipe instances to efficiently handle multiple clients simultaneously.</span></span>

<span data-ttu-id="f79ba-108">Es gibt drei grundlegende Strategien für die Wartung mehrerer Pipe-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="f79ba-108">There are three basic strategies for servicing multiple pipe instances.</span></span>

-   <span data-ttu-id="f79ba-109">Erstellen Sie einen separaten Thread für jede Instanz der Pipe.</span><span class="sxs-lookup"><span data-stu-id="f79ba-109">Create a separate thread for each instance of the pipe.</span></span> <span data-ttu-id="f79ba-110">Ein Beispiel für einen Multithread Pipe-Server finden Sie unter [Multithread Pipe-Server](multithreaded-pipe-server.md).</span><span class="sxs-lookup"><span data-stu-id="f79ba-110">For an example of a multithreaded pipe server, see [Multithreaded Pipe Server](multithreaded-pipe-server.md).</span></span>
-   <span data-ttu-id="f79ba-111">Verwenden Sie überlappende Vorgänge, indem Sie eine [**über**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) Lapp Ende Struktur in den Funktionen [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile), [**Write File**](/windows/desktop/api/fileapi/nf-fileapi-writefile)und [**connectnamedpipe**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-connectnamedpipe) angeben.</span><span class="sxs-lookup"><span data-stu-id="f79ba-111">Use overlapped operations by specifying an [**OVERLAPPED**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) structure in the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile), [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile), and [**ConnectNamedPipe**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-connectnamedpipe) functions.</span></span> <span data-ttu-id="f79ba-112">Ein Beispiel finden Sie unter [Named Pipe-Server mit über](named-pipe-server-using-overlapped-i-o.md)Lapp enden e/a-Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="f79ba-112">For an example, see [Named Pipe Server Using Overlapped I/O](named-pipe-server-using-overlapped-i-o.md).</span></span>
-   <span data-ttu-id="f79ba-113">Verwenden Sie überlappende Vorgänge mithilfe der Funktionen "read [**fileex**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) " und " [**schreitefileex**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) ", die eine Abschluss Routine angeben, die ausgeführt wird, wenn der Vorgang abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="f79ba-113">Use overlapped operations by using the [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) and [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) functions, which specify a completion routine to be executed when the operation is completed.</span></span> <span data-ttu-id="f79ba-114">Ein Beispiel finden Sie unter [Named Pipe Server Using completion Routinen](named-pipe-server-using-completion-routines.md).</span><span class="sxs-lookup"><span data-stu-id="f79ba-114">For an example, see [Named Pipe Server Using Completion Routines](named-pipe-server-using-completion-routines.md).</span></span>

<span data-ttu-id="f79ba-115">Der multithreadpipeserver ist am einfachsten zu schreiben, da der Thread für jede Instanz die Kommunikation für einen einzelnen Pipe-Client übernimmt.</span><span class="sxs-lookup"><span data-stu-id="f79ba-115">The multithreaded pipe server is easiest to write, because the thread for each instance handles communications for a single pipe client.</span></span> <span data-ttu-id="f79ba-116">Das System ordnet jedem Thread die Prozessorzeit nach Bedarf zu.</span><span class="sxs-lookup"><span data-stu-id="f79ba-116">The system allocates processor time to each thread as needed.</span></span> <span data-ttu-id="f79ba-117">Jeder Thread verwendet jedoch Systemressourcen. Dies ist ein Nachteil für einen Pipeserver, der eine große Anzahl von Clients verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="f79ba-117">But each thread uses system resources, which is a disadvantage for a pipe server that handles a large number of clients.</span></span>

<span data-ttu-id="f79ba-118">Bei einem Single Thread Server ist es einfacher, Vorgänge zu koordinieren, die sich auf mehrere Clients auswirken, und es ist einfacher, freigegebene Ressourcen vor gleichzeitigem Zugriff durch mehrere Clients zu schützen.</span><span class="sxs-lookup"><span data-stu-id="f79ba-118">With a single-threaded server, it is easier to coordinate operations that affect multiple clients, and it is easier to protect shared resources from simultaneous access by multiple clients.</span></span> <span data-ttu-id="f79ba-119">Die Herausforderung eines Single Thread-Servers besteht darin, dass er überlappende Vorgänge koordiniert werden muss, um die Prozessorzeit für die Verarbeitung der gleichzeitigen Anforderungen von Clients zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="f79ba-119">The challenge of a single-threaded server is that it requires coordination of overlapped operations to allocate processor time for handling the simultaneous needs of clients.</span></span>

 

 
