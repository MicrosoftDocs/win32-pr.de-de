---
description: Anonyme Pipe-Vorgänge, einschließlich Pipe-Erstellung, Schreiben in eine Pipe, Pipehandles.
ms.assetid: df81471c-1072-4456-a877-304e76ade4bd
title: Anonyme Pipe-Vorgänge
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 963d7127c51859b05e570d00291470a49be5ba66
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106348332"
---
# <a name="anonymous-pipe-operations"></a><span data-ttu-id="daaae-103">Anonyme Pipe-Vorgänge</span><span class="sxs-lookup"><span data-stu-id="daaae-103">Anonymous Pipe Operations</span></span>

<span data-ttu-id="daaae-104">Die Funktion " [**kreatepipe**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-createpipe) " erstellt eine anonyme Pipe und gibt zwei Handles zurück: ein Lese Handle für die Pipe und ein Schreib Handle für die Pipe.</span><span class="sxs-lookup"><span data-stu-id="daaae-104">The [**CreatePipe**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-createpipe) function creates an anonymous pipe and returns two handles: a read handle to the pipe and a write handle to the pipe.</span></span> <span data-ttu-id="daaae-105">Das Lese handle hat schreibgeschützten Zugriff auf die Pipe, und das Schreib handle hat schreibgeschützten Zugriff auf die Pipe.</span><span class="sxs-lookup"><span data-stu-id="daaae-105">The read handle has read-only access to the pipe, and the write handle has write-only access to the pipe.</span></span> <span data-ttu-id="daaae-106">Um mithilfe der Pipe zu kommunizieren, muss der Pipeserver ein Pipehandle an einen anderen Prozess übergeben.</span><span class="sxs-lookup"><span data-stu-id="daaae-106">To communicate using the pipe, the pipe server must pass a pipe handle to another process.</span></span> <span data-ttu-id="daaae-107">Dies erfolgt in der Regel durch Vererbung. Das heißt, der Prozess ermöglicht es, dass das Handle von einem untergeordneten Prozess geerbt wird.</span><span class="sxs-lookup"><span data-stu-id="daaae-107">Usually, this is done through inheritance; that is, the process allows the handle to be inherited by a child process.</span></span> <span data-ttu-id="daaae-108">Der Prozess kann auch ein Pipehandle mithilfe der [**duplikatandle**](/windows/desktop/api/handleapi/nf-handleapi-duplicatehandle) -Funktion duplizieren und an einen nicht verknüpften Prozess über eine Form der prozessübergreifenden Kommunikation (z. b. DDE oder Shared Memory) senden.</span><span class="sxs-lookup"><span data-stu-id="daaae-108">The process can also duplicate a pipe handle using the [**DuplicateHandle**](/windows/desktop/api/handleapi/nf-handleapi-duplicatehandle) function and send it to an unrelated process using some form of interprocess communication, such as DDE or shared memory.</span></span>

<span data-ttu-id="daaae-109">Abhängig davon, ob der Client die anonyme Pipe zum Senden von Informationen oder zum Empfangen von Informationen verwenden soll, kann ein Pipeserver entweder das Lese handle oder das Schreib Handle an den Pipe-Client senden.</span><span class="sxs-lookup"><span data-stu-id="daaae-109">A pipe server can send either the read handle or the write handle to the pipe client, depending on whether the client should use the anonymous pipe to send information or receive information.</span></span> <span data-ttu-id="daaae-110">Um aus der Pipe zu lesen, verwenden Sie den Lese Handle der Pipe in einem aufzurufenden Vorgang der Funktion "read [**File**](/windows/desktop/api/fileapi/nf-fileapi-readfile) ".</span><span class="sxs-lookup"><span data-stu-id="daaae-110">To read from the pipe, use the pipe's read handle in a call to the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) function.</span></span> <span data-ttu-id="daaae-111">Der Read **File** -Rückruf gibt zurück, wenn ein anderer Prozess in die Pipe geschrieben hat.</span><span class="sxs-lookup"><span data-stu-id="daaae-111">The **ReadFile** call returns when another process has written to the pipe.</span></span> <span data-ttu-id="daaae-112">Der **Vorgang** zum Lesen von Dateien kann auch zurückgeben, wenn alle Schreib Handles für die Pipe geschlossen wurden, oder wenn ein Fehler auftritt, bevor der Lesevorgang abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="daaae-112">The **ReadFile** call can also return if all write handles to the pipe have been closed or if an error occurs before the read operation has been completed.</span></span>

<span data-ttu-id="daaae-113">Verwenden Sie zum Schreiben in die Pipe den Schreib Handle der Pipe in einem Aufrufe der Funktion "Write [**File**](/windows/desktop/api/fileapi/nf-fileapi-writefile) ".</span><span class="sxs-lookup"><span data-stu-id="daaae-113">To write to the pipe, use the pipe's write handle in a call to the [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) function.</span></span> <span data-ttu-id="daaae-114">Der **schreibdatei** -Aufrufvorgang wird erst zurückgegeben, wenn die angegebene Anzahl von Bytes in die Pipe geschrieben wurde oder ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="daaae-114">The **WriteFile** call does not return until it has written the specified number of bytes to the pipe or an error occurs.</span></span> <span data-ttu-id="daaae-115">Wenn der Pipe-Puffer voll ist und mehr Bytes geschrieben werden müssen, wird " **Write File** " erst zurückgegeben, wenn ein anderer Prozess aus der Pipe liest und somit mehr Puffer Speicherplatz zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="daaae-115">If the pipe buffer is full and there are more bytes to be written, **WriteFile** does not return until another process reads from the pipe, making more buffer space available.</span></span> <span data-ttu-id="daaae-116">Der Pipeserver gibt die Puffergröße für die Pipe an, wenn er " [**featepipe**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-createpipe)" aufruft.</span><span class="sxs-lookup"><span data-stu-id="daaae-116">The pipe server specifies the buffer size for the pipe when it calls [**CreatePipe**](/windows/win32/api/namedpipeapi/nf-namedpipeapi-createpipe).</span></span>

<span data-ttu-id="daaae-117">Asynchrone (überlappende) Lese-und Schreibvorgänge werden von anonymen Pipes nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="daaae-117">Asynchronous (overlapped) read and write operations are not supported by anonymous pipes.</span></span> <span data-ttu-id="daaae-118">Dies bedeutet, dass Sie die Funktionen "read [**fileex**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) " und " [**schreitefileex**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) " nicht mit anonymen Pipes verwenden können.</span><span class="sxs-lookup"><span data-stu-id="daaae-118">This means that you cannot use the [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) and [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) functions with anonymous pipes.</span></span> <span data-ttu-id="daaae-119">Außerdem wird der *lpoverlused* -Parameter von "read [**File**](/windows/desktop/api/fileapi/nf-fileapi-readfile) " und " [**Write File**](/windows/desktop/api/fileapi/nf-fileapi-writefile) " ignoriert, wenn diese Funktionen mit anonymen Pipes verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="daaae-119">In addition, the *lpOverlapped* parameter of [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) is ignored when these functions are used with anonymous pipes.</span></span>

<span data-ttu-id="daaae-120">Eine anonyme Pipe ist so lange vorhanden, bis alle Pipe-Handles, sowohl Lese-als auch Schreibvorgänge, geschlossen wurden.</span><span class="sxs-lookup"><span data-stu-id="daaae-120">An anonymous pipe exists until all pipe handles, both read and write, have been closed.</span></span> <span data-ttu-id="daaae-121">Ein Prozess kann seine Pipehandles mithilfe der [**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle) -Funktion schließen.</span><span class="sxs-lookup"><span data-stu-id="daaae-121">A process can close its pipe handles by using the [**CloseHandle**](/windows/desktop/api/handleapi/nf-handleapi-closehandle) function.</span></span> <span data-ttu-id="daaae-122">Alle Pipehandles werden auch geschlossen, wenn der Prozess beendet wird.</span><span class="sxs-lookup"><span data-stu-id="daaae-122">All pipe handles are also closed when the process terminates.</span></span>

<span data-ttu-id="daaae-123">Anonyme Pipes werden mithilfe einer Named Pipe mit einem eindeutigen Namen implementiert.</span><span class="sxs-lookup"><span data-stu-id="daaae-123">Anonymous pipes are implemented using a named pipe with a unique name.</span></span> <span data-ttu-id="daaae-124">Daher können Sie häufig ein Handle an eine anonyme Pipe an eine Funktion übergeben, die ein Handle für eine Named Pipe erfordert.</span><span class="sxs-lookup"><span data-stu-id="daaae-124">Therefore, you can often pass a handle to an anonymous pipe to a function that requires a handle to a named pipe.</span></span>

 

 
