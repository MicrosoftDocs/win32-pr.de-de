---
description: Sie können eine Sicherheits Beschreibung für eine Named Pipe angeben, wenn Sie die Funktion "up-amedpipe" aufrufen. Der Sicherheits Deskriptor steuert den Zugriff auf Client-und Server Enden der Named Pipe.
ms.assetid: f9ea97c9-9a97-4083-82d8-29ffb8be5a77
title: Sicherheit und Zugriffsrechte für benannte Pipe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 11cada606d8197ac2f64943aa742bbfd614fa4ef
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106356201"
---
# <a name="named-pipe-security-and-access-rights"></a><span data-ttu-id="365ac-104">Sicherheit und Zugriffsrechte für benannte Pipe</span><span class="sxs-lookup"><span data-stu-id="365ac-104">Named Pipe Security and Access Rights</span></span>

<span data-ttu-id="365ac-105">Mithilfe der Windows-Sicherheit können Sie den Zugriff auf Named Pipes steuern.</span><span class="sxs-lookup"><span data-stu-id="365ac-105">Windows security enables you to control access to named pipes.</span></span> <span data-ttu-id="365ac-106">Weitere Informationen zur Sicherheit finden Sie unter [Zugriffs Steuerungsmodell](/windows/desktop/SecAuthZ/access-control-model).</span><span class="sxs-lookup"><span data-stu-id="365ac-106">For more information about security, see [Access-Control Model](/windows/desktop/SecAuthZ/access-control-model).</span></span>

<span data-ttu-id="365ac-107">Sie können eine [Sicherheits Beschreibung](/windows/desktop/SecAuthZ/security-descriptors) für eine Named Pipe angeben, wenn Sie die Funktion "up- [**amedpipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) " aufrufen.</span><span class="sxs-lookup"><span data-stu-id="365ac-107">You can specify a [security descriptor](/windows/desktop/SecAuthZ/security-descriptors) for a named pipe when you call the [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) function.</span></span> <span data-ttu-id="365ac-108">Der Sicherheits Deskriptor steuert den Zugriff auf Client-und Server Enden der Named Pipe.</span><span class="sxs-lookup"><span data-stu-id="365ac-108">The security descriptor controls access to both client and server ends of the named pipe.</span></span> <span data-ttu-id="365ac-109">Wenn Sie **null** angeben, erhält der Named Pipe eine Standard Sicherheits Beschreibung.</span><span class="sxs-lookup"><span data-stu-id="365ac-109">If you specify **NULL**, the named pipe gets a default security descriptor.</span></span> <span data-ttu-id="365ac-110">Die ACLs in der Standard Sicherheits Beschreibung für eine Named Pipe gewähren dem Konto "LocalSystem", den Administratoren und dem Ersteller des Erstellers volle Kontrolle.</span><span class="sxs-lookup"><span data-stu-id="365ac-110">The ACLs in the default security descriptor for a named pipe grant full control to the LocalSystem account, administrators, and the creator owner.</span></span> <span data-ttu-id="365ac-111">Außerdem erteilen Sie den Mitgliedern der Gruppe Jeder und des anonymen Kontos Lesezugriff.</span><span class="sxs-lookup"><span data-stu-id="365ac-111">They also grant read access to members of the Everyone group and the anonymous account.</span></span>

<span data-ttu-id="365ac-112">Um die Sicherheits Beschreibung eines Named Pipe abzurufen, rufen Sie die [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) -Funktion auf.</span><span class="sxs-lookup"><span data-stu-id="365ac-112">To retrieve a named pipe's security descriptor, call the [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="365ac-113">Um die Sicherheits Beschreibung einer Named Pipe zu ändern, müssen Sie die Funktion [**setsecurityinfo**](/windows/desktop/api/aclapi/nf-aclapi-setsecurityinfo) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="365ac-113">To change the security descriptor of a named pipe, call the [**SetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="365ac-114">Wenn ein Thread "up" aufruft, um ein Handle für das Server Ende einer vorhandenen [**Named Pipe zu öffnen**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) , führt das System eine Zugriffs Überprüfung durch, bevor das Handle zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="365ac-114">When a thread calls [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) to open a handle to the server end of an existing named pipe, the system performs an access check before returning the handle.</span></span> <span data-ttu-id="365ac-115">Die Zugriffs Überprüfung vergleicht das Zugriffs Token des Threads und die angeforderten [Zugriffsrechte](/windows/desktop/SecAuthZ/access-rights-and-access-masks) mit der DACL in der Sicherheits Beschreibung des Named Pipe.</span><span class="sxs-lookup"><span data-stu-id="365ac-115">The access check compares the thread's access token and the requested [access rights](/windows/desktop/SecAuthZ/access-rights-and-access-masks) against the DACL in the named pipe's security descriptor.</span></span> <span data-ttu-id="365ac-116">Zusätzlich zu den angeforderten Zugriffsrechten muss die DACL zulassen, dass die aufrufenden Thread Datei den \_ \_ \_ Zugriff auf die Named Pipe der Pipe-Instanz ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="365ac-116">In addition to the requested access rights, the DACL must allow the calling thread FILE\_CREATE\_PIPE\_INSTANCE access to the named pipe.</span></span>

<span data-ttu-id="365ac-117">Wenn ein Client die Funktion "up [**" oder "**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) [**callnamedpipe**](/windows/desktop/api/Winbase/nf-winbase-callnamedpipea) " aufruft, um eine Verbindung mit dem Client Ende einer Named Pipe herzustellen, führt das System auf ähnliche Weise eine Zugriffs Überprüfung aus, bevor der Zugriff auf den Client gewährt wird.</span><span class="sxs-lookup"><span data-stu-id="365ac-117">Similarly, when a client calls the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) or [**CallNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-callnamedpipea) function to connect to the client end of a named pipe, the system performs an access check before granting access to the client.</span></span>

<span data-ttu-id="365ac-118">Das Handle, das von der Funktion " [**roatamedpipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) " zurückgegeben wird, verfügt immer über Synchronisierungs</span><span class="sxs-lookup"><span data-stu-id="365ac-118">The handle returned by the [**CreateNamedPipe**](/windows/desktop/api/Winbase/nf-winbase-createnamedpipea) function always has SYNCHRONIZE access.</span></span> <span data-ttu-id="365ac-119">Er verfügt auch \_ über generische Lese-, generische \_ Schreibvorgänge oder beides, je nach dem Öffnungs Modus der Pipe.</span><span class="sxs-lookup"><span data-stu-id="365ac-119">It also has GENERIC\_READ, GENERIC\_WRITE, or both, depending on the open mode of the pipe.</span></span> <span data-ttu-id="365ac-120">Im folgenden finden Sie die Zugriffsrechte für jeden geöffneten Modus.</span><span class="sxs-lookup"><span data-stu-id="365ac-120">The following are the access rights for each open mode.</span></span>



| <span data-ttu-id="365ac-121">Öffnungs Modus</span><span class="sxs-lookup"><span data-stu-id="365ac-121">Open mode</span></span>                           | <span data-ttu-id="365ac-122">Zugriffsrechte</span><span class="sxs-lookup"><span data-stu-id="365ac-122">Access rights</span></span>                                              |
|-------------------------------------|------------------------------------------------------------|
| <span data-ttu-id="365ac-123">\_Pipezugriffsduplex \_ (0x00000003)</span><span class="sxs-lookup"><span data-stu-id="365ac-123">PIPE\_ACCESS\_DUPLEX (0x00000003)</span></span>   | <span data-ttu-id="365ac-124">Generischer Dateityp \_ \_ lesen, generischer Dateityp \_ \_ schreiben und synchronisieren</span><span class="sxs-lookup"><span data-stu-id="365ac-124">FILE\_GENERIC\_READ, FILE\_GENERIC\_WRITE, and SYNCHRONIZE</span></span> |
| <span data-ttu-id="365ac-125">Pipe- \_ Zugriff eingehend \_ (0x00000001)</span><span class="sxs-lookup"><span data-stu-id="365ac-125">PIPE\_ACCESS\_INBOUND (0x00000001)</span></span>  | <span data-ttu-id="365ac-126">\_Dateigenerisch \_ Lesen und synchronisieren</span><span class="sxs-lookup"><span data-stu-id="365ac-126">FILE\_GENERIC\_READ and SYNCHRONIZE</span></span>                        |
| <span data-ttu-id="365ac-127">Ausgehende Pipe- \_ Zugriff \_ (0x00000002)</span><span class="sxs-lookup"><span data-stu-id="365ac-127">PIPE\_ACCESS\_OUTBOUND (0x00000002)</span></span> | <span data-ttu-id="365ac-128">\_Allgemeines \_ schreiben und Synchronisieren von Dateien</span><span class="sxs-lookup"><span data-stu-id="365ac-128">FILE\_GENERIC\_WRITE and SYNCHRONIZE</span></span>                       |



 

<span data-ttu-id="365ac-129">Der \_ generische Datei \_ Lesezugriff für ein Named Pipe kombiniert die Rechte zum Lesen von Daten aus der Pipe, zum Lesen von Pipe-Attributen, zum Lesen erweiterter Attribute und zum Lesen der DACL der Pipe.</span><span class="sxs-lookup"><span data-stu-id="365ac-129">FILE\_GENERIC\_READ access for a named pipe combines the rights to read data from the pipe, read pipe attributes, read extended attributes, and read the pipe's DACL.</span></span>

<span data-ttu-id="365ac-130">\_Der generische Datei \_ Schreibzugriff für eine Named Pipe kombiniert die Rechte zum Schreiben von Daten in die Pipe, zum Anfügen von Daten an die Pipe, zum Schreiben von Pipe-Attributen, zum Schreiben erweiterter Attribute und zum Lesen der DACL der Pipe.</span><span class="sxs-lookup"><span data-stu-id="365ac-130">FILE\_GENERIC\_WRITE access for a named pipe combines the rights to write data to the pipe, append data to it, write pipe attributes, write extended attributes, and read the pipe's DACL.</span></span> <span data-ttu-id="365ac-131">Da \_ \_ die Datei Daten \_ Anfügen und \_ die Pipe-Pipeline \_ Instanz die gleiche Definition aufweisen, wird durch die Datei \_ generischer \_ Schreibvorgang die Berechtigung zum Erstellen der Pipe ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="365ac-131">Because FILE\_APPEND\_DATA and FILE\_CREATE\_PIPE\_INSTANCE have the same definition, so FILE\_GENERIC\_WRITE enables permission to create the pipe.</span></span> <span data-ttu-id="365ac-132">Um dieses Problem zu vermeiden, verwenden Sie die einzelnen Rechte anstelle der Verwendung des generischen Schreibzugriffs auf die Datei \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="365ac-132">To avoid this problem, use the individual rights instead of using FILE\_GENERIC\_WRITE.</span></span>

<span data-ttu-id="365ac-133">Sie können das Zugriffs \_ System \_ -Sicherheits Zugriffsrecht für ein Named Pipe Objekt anfordern, wenn Sie die SACL des Objekts lesen oder schreiben möchten.</span><span class="sxs-lookup"><span data-stu-id="365ac-133">You can request the ACCESS\_SYSTEM\_SECURITY access right to a named pipe object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="365ac-134">Weitere Informationen finden Sie unter [Zugriffs Steuerungs Listen (Access Control Lists, ACLs)](/windows/desktop/SecAuthZ/access-control-lists) und [SACL-Zugriffsrecht](/windows/desktop/SecAuthZ/sacl-access-right).</span><span class="sxs-lookup"><span data-stu-id="365ac-134">For more information, see [Access-Control Lists (ACLs)](/windows/desktop/SecAuthZ/access-control-lists) and [SACL Access Right](/windows/desktop/SecAuthZ/sacl-access-right).</span></span>

<span data-ttu-id="365ac-135">Um zu verhindern, dass Remote Benutzer oder Benutzer in einer anderen Terminaldienste-Sitzung auf eine Named Pipe zugreifen, verwenden Sie die Anmelde-SID für die DACL für die Pipe.</span><span class="sxs-lookup"><span data-stu-id="365ac-135">To prevent remote users or users on a different terminal services session from accessing a named pipe, use the logon SID on the DACL for the pipe.</span></span> <span data-ttu-id="365ac-136">Die Anmelde-SID wird auch bei der "Run-as"-Anmeldung verwendet. Dies ist die SID, mit der der Objekt Namespace pro Sitzung geschützt wird.</span><span class="sxs-lookup"><span data-stu-id="365ac-136">The logon SID is used in run-as logons as well; it is the SID used to protect the per-session object namespace.</span></span> <span data-ttu-id="365ac-137">Weitere Informationen finden Sie unter " [erhalten der Anmelde-SID" in C++](/previous-versions//aa446670(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="365ac-137">For more information, see [Getting the Logon SID in C++](/previous-versions//aa446670(v=vs.85)).</span></span>

 

 
