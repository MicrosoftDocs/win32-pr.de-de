---
description: Com+-Nachverfolgung
ms.assetid: ad3bdeb5-f303-411a-abfb-ccde3f9a86b9
title: Com+-Nachverfolgung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 828cc87b5a24363fd814d37c29e61a3ce204d988
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104483062"
---
# <a name="com-tracking"></a><span data-ttu-id="6c4b4-103">Com+-Nachverfolgung</span><span class="sxs-lookup"><span data-stu-id="6c4b4-103">COM+ Tracking</span></span>

<span data-ttu-id="6c4b4-104">Der com+-Überwachungsdienst ermöglicht es Ihnen, eigene administrative und Diagnoseprogramme zu erstellen, die den Status und die Leistung der Ausführung von com+-Anwendungen nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-104">The COM+ tracking service enables you to build your own administrative and diagnostic programs that track the status and performance of running COM+ applications.</span></span> <span data-ttu-id="6c4b4-105">Die COM+-Nachverfolgung bietet statistische Informationen zur Verwendung von com+-Anwendungen sowie Statusinformationen, z. b. ob eine com+-Server Anwendungs Instanz angehalten oder wieder verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-105">COM+ tracking provides statistical information about the use of COM+ applications as well as status information, such as whether a COM+ server application instance is paused or has been recycled.</span></span> <span data-ttu-id="6c4b4-106">Tools können Überwachungsinformationen in der Diagnose Überwachung oder zu Anzeige Zwecken verwenden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-106">Tools can use tracking information in diagnostic monitoring or for display purposes.</span></span> <span data-ttu-id="6c4b4-107">Das Verwaltungs Programmkomponenten Dienste verwendet beispielsweise die com+-Überwachung, um den Status der com+-Anwendungs Instanzen in den Ordnern com+-Anwendungen und ausgestellte Prozesse anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-107">For example, the Component Services administrative tool uses COM+ tracking to display the status of COM+ application instances in the COM+ Applications and Running Processes folders.</span></span>

<span data-ttu-id="6c4b4-108">Bei der com+-Nachverfolgung wird eine Reihe häufig verwendeter Metriken berechnet und regelmäßig aktualisiert, sodass diese Informationen für Programme zur Verfügung stehen, die Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-108">COM+ tracking calculates and periodically updates a set of commonly-used metrics, making this information available to programs that need it.</span></span> <span data-ttu-id="6c4b4-109">Es ähnelt der com+-Instrumentation darin, dass beide Dienste automatisch Daten aus com+-Anwendungs Instanzen sammeln und diese Daten für Consumer verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-109">It is similar to COM+ Instrumentation in that both services automatically collect data from COM+ application instances and make this data available to consumers.</span></span> <span data-ttu-id="6c4b4-110">Es gibt jedoch einige wichtige Unterschiede zwischen diesen Diensten, sowohl in der bereitgestellten Funktionalität als auch in der typischen Verwendung.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-110">However, there are some important differences between these services, both in the functionality provided and typical usage.</span></span> <span data-ttu-id="6c4b4-111">In der folgenden Tabelle werden diese Unterschiede zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-111">The following table summarizes these differences.</span></span>



| <span data-ttu-id="6c4b4-112">Com+-Instrumentation</span><span class="sxs-lookup"><span data-stu-id="6c4b4-112">COM+ Instrumentation</span></span>                                                                                                                                                                                                   | <span data-ttu-id="6c4b4-113">Com+-Nachverfolgung</span><span class="sxs-lookup"><span data-stu-id="6c4b4-113">COM+ Tracking</span></span>                                                                                                                                                     |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6c4b4-114">Differenzierte Daten.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-114">Fine-grained data.</span></span> <span data-ttu-id="6c4b4-115">Der com+-Instrumentations Dienst benachrichtigt registrierte Abonnenten über einzelne diskrete Ereignisse (z. b. die Methode, die als Objekt zerstört bezeichnet wird), die in einer com+-Anwendungs Instanz auftreten.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-115">The COM+ instrumentation service notifies registered subscribers of individual discrete events (for example, method called, object destroyed) that occur in a COM+ application instance.</span></span><br/> | <span data-ttu-id="6c4b4-116">Aggregierte Daten.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-116">Aggregated data.</span></span> <span data-ttu-id="6c4b4-117">Mit der com+-Nachverfolgung werden häufig verwendete Metriken für den Status und die Leistung von com+-Anwendungs Instanzen berechnet und regelmäßig aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-117">COM+ tracking calculates and periodically updates commonly-used metrics for the status and performance of COM+ application instances.</span></span><br/> |
| <span data-ttu-id="6c4b4-118">Ereignis Abonnenten berechnen Metriken in der Regel selbst mithilfe von Ad-hoc-Algorithmen und-Richtlinien.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-118">Event subscribers typically calculate metrics on their own, using ad-hoc algorithms and policies.</span></span><br/>                                                                                                           | <span data-ttu-id="6c4b4-119">Metriken werden automatisch vom com+-Überwachungsdienst berechnet.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-119">Metrics are calculated automatically by the COM+ tracking service.</span></span> <span data-ttu-id="6c4b4-120">Alle Consumer erhalten dieselben Daten, ohne dass benutzerdefinierte Metriken unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-120">All consumers get the same data, with no support for custom metrics.</span></span><br/>                |
| <span data-ttu-id="6c4b4-121">Nachdem ein Abonnement registriert wurde, empfängt der Consumer keine Informationen über eine com+-Anwendungs Instanz, bis ein Ereignis eintritt.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-121">After registering a subscription, the consumer does not receive any information about a COM+ application instance until an event occurs.</span></span><br/>                                                                    | <span data-ttu-id="6c4b4-122">Überwachungsdaten für alle com+-Anwendungs Instanzen können jederzeit abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-122">Tracking data for all COM+ application instances may be retrieved at any time.</span></span><br/>                                                                         |
| <span data-ttu-id="6c4b4-123">Unterstützt nur einen com+-ereignisbasierten Abonnement Mechanismus für Consumer.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-123">Supports only a COM+ events-based subscription mechanism for consumers.</span></span><br/>                                                                                                                                     | <span data-ttu-id="6c4b4-124">Unterstützt sowohl einen auf COM+-Ereignissen basierenden Abonnement Mechanismus als auch einen Abruf auf einer lokalen com-Server Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-124">Supports both a COM+ events-based subscription mechanism and polling on a COM local server interface.</span></span><br/>                                                  |
| <span data-ttu-id="6c4b4-125">Beispiele</span><span class="sxs-lookup"><span data-stu-id="6c4b4-125">Examples</span></span>                                                                                                                                                                                                               |                                                                                                                                                                   |
| <span data-ttu-id="6c4b4-126">Benachrichtigungen, wenn eine Methode aufgerufen wird oder zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-126">Notifications when a method is called or returns.</span></span><br/>                                                                                                                                                           | <span data-ttu-id="6c4b4-127">Durchschnittliche Antwortzeit des Aufrufs, Anzahl der Methodenaufrufe, die in einem letzten Zeitraum erfolgreich oder fehlerhaft waren, Anzahl der Objekte, die zurzeit in einem Methodenaufruf ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-127">Average call response time, number of method calls that succeeded or failed in a recent time period, number of objects currently in a method call.</span></span><br/>     |
| <span data-ttu-id="6c4b4-128">Benachrichtigungen, wenn dem Objekt Pool ein Objekt hinzugefügt oder aus diesem abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-128">Notifications when an object is added to or obtained from the object pool.</span></span><br/>                                                                                                                                  | <span data-ttu-id="6c4b4-129">Anzahl von Objekten im Pool, Gesamtzahl der Objekte.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-129">Number of objects in the pool, total number of objects.</span></span><br/>                                                                                                |
| <span data-ttu-id="6c4b4-130">Benachrichtigungen, wenn eine COM+-Serveranwendung gestartet, angehalten oder wieder verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-130">Notifications when a COM+ server application is started, paused, or recycled.</span></span><br/>                                                                                                                               | <span data-ttu-id="6c4b4-131">Status des com+-Server Anwendungsprozesses (z. b. ob er angehalten oder wieder verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="6c4b4-131">Status of the COM+ server application process (for example, whether it is paused or recycled).</span></span><br/>                                                         |
| <span data-ttu-id="6c4b4-132">Benachrichtigungen zu Start-, Vorbereitungs-, Abbruch-und Commit-Ereignissen für Transaktionen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-132">Notifications of transaction start, prepare, abort, and commit events.</span></span><br/>                                                                                                                                      | <span data-ttu-id="6c4b4-133">Keine Entsprechung</span><span class="sxs-lookup"><span data-stu-id="6c4b4-133">No equivalent.</span></span><br/>                                                                                                                                         |
| <span data-ttu-id="6c4b4-134">Benachrichtigungen über erfolgreiche und fehlgeschlagene Authentifizierungs Versuche auf Methodenaufrufe.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-134">Notifications of successful and failed method call level authentication attempts.</span></span><br/>                                                                                                                           | <span data-ttu-id="6c4b4-135">Keine Entsprechung</span><span class="sxs-lookup"><span data-stu-id="6c4b4-135">No equivalent.</span></span><br/>                                                                                                                                         |



 

<span data-ttu-id="6c4b4-136">Obwohl die COM+-Nachverfolgung im Hinblick auf den Datenbereich und die Flexibilität zum Berechnen von Metriken stärker eingeschränkt ist, sollten die von ihr bereitgestellten Metriken für eine Vielzahl von Verwaltungs-und Diagnose Programmen ausreichen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-136">Although COM+ tracking is more limited in terms of data scope and flexibility for calculating metrics, the metrics it provides should be sufficient for a wide variety of administrative and diagnostic programs.</span></span> <span data-ttu-id="6c4b4-137">Wenn möglich, kann die Verwendung der com+-Nachverfolgung den Entwurf dieser Programme vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-137">Using COM+ tracking, when possible, can simplify the design of these programs.</span></span> <span data-ttu-id="6c4b4-138">Außerdem kann die Verwendung der com+-Nachverfolgung in Produktionssystemen zu einer erheblich geringeren Beeinträchtigung der Leistung führen, sodass Sie für echt Zeit Überwachungstools besser geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-138">Additionally, using COM+ tracking in production systems can have a significantly lower performance impact, making it more appropriate for real-time monitoring tools.</span></span>

## <a name="how-com-tracking-collects-data"></a><span data-ttu-id="6c4b4-139">Sammeln von Daten durch die COM+-Nachverfolgung</span><span class="sxs-lookup"><span data-stu-id="6c4b4-139">How COM+ Tracking Collects Data</span></span>

<span data-ttu-id="6c4b4-140">Wenn ein com+-Server Anwendungsprozess gestartet wird, registriert com+ den Prozess bei dem *Tracker-Server*, einer Komponente der Systemanwendung.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-140">When a COM+ server application process is started, COM+ registers the process with the *tracker server*, a component of the system application.</span></span> <span data-ttu-id="6c4b4-141">Komponenten in COM+-Bibliotheksanwendungen und-Diensten ohne Komponenten (austauschen) unterstützen auch die Nachverfolgung.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-141">Components in COM+ library applications and services without components (SWC) contexts also support tracking.</span></span> <span data-ttu-id="6c4b4-142">Wenn eine Bibliotheks Komponente oder ein Austausch Vorgang in einem Prozess erstellt wird, registriert com+ den Prozess bei dem Tracker-Server, wenn er nicht bereits registriert wurde.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-142">When a library component or SWC context is created in a process, COM+ registers the process with the tracker server if it has not been registered already.</span></span>

<span data-ttu-id="6c4b4-143">Com+ aktualisiert Statistiken für einen nach verfolgten Prozess, wenn bestimmte Ereignisse im Prozess auftreten, z. b. das Erstellen eines Objekts oder der Abschluss eines Methoden Aufrufes.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-143">COM+ updates statistics for a tracked process when certain events occur in the process, such as the creation of an object or the completion of a method call.</span></span> <span data-ttu-id="6c4b4-144">Aktualisierte Daten werden in regelmäßigen Abständen an den Tracker-Server übermittelt. zu diesem Zeitpunkt steht sie für Consumer zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-144">Updated data is periodically submitted to the tracker server, at which point it becomes available to consumers.</span></span> <span data-ttu-id="6c4b4-145">Der Tracker-Server ist auch für die Berechnung einiger der Metriken verantwortlich, die von den Funktionen der com+-Anwendungs Wiederverwendung und-Überwachung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-145">The tracker server is also responsible for calculating some of the metrics used by the COM+ application recycling and hang monitoring features.</span></span> <span data-ttu-id="6c4b4-146">Diese Daten sind auch für Consumer verfügbar.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-146">This data is also available to consumers.</span></span>

<span data-ttu-id="6c4b4-147">Überwachungsdaten werden nach dem Prozess organisiert, der die Daten generiert hat.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-147">Tracking data is organized according to the process that generated the data.</span></span> <span data-ttu-id="6c4b4-148">Daten auf der Ebene einzelner com+-Anwendungen oder-Komponenten im Prozess sind auch für Consumer verfügbar, die diese Informationen benötigen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-148">Data at the level of individual COM+ applications or components in the process is also available for consumers that need this information.</span></span>

## <a name="events-versus-polling"></a><span data-ttu-id="6c4b4-149">Ereignisse im Vergleich zu Abfragen</span><span class="sxs-lookup"><span data-stu-id="6c4b4-149">Events versus Polling</span></span>

<span data-ttu-id="6c4b4-150">Die COM+-Nachverfolgung unterstützt zwei Mechanismen für einen Consumer, um Überwachungsdaten vom Tracker-Server, einen com+-ereignisbasierten Abonnement Mechanismus und eine lokale com-Server Schnittstelle zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-150">COM+ tracking supports two mechanisms for a consumer to obtain tracking data from the tracker server, a COM+ events-based subscription mechanism and a COM local server interface.</span></span>

<span data-ttu-id="6c4b4-151">Programme, die in regelmäßigen Abständen mit aktualisierten Überwachungsdaten benachrichtigt werden müssen, können ein Abonnement für die [**icomtrackinginfoevents**](/windows/desktop/api/ComSvcs/nn-comsvcs-icomtrackinginfoevents) -Ereignis Schnittstelle registrieren.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-151">Programs that need to be notified periodically with updated tracking data can register a subscription for the [**IComTrackingInfoEvents**](/windows/desktop/api/ComSvcs/nn-comsvcs-icomtrackinginfoevents) event interface.</span></span> <span data-ttu-id="6c4b4-152">Ungefähr alle drei Sekunden ruft der Tracker-Server die [**icomtrackinginfoevents:: onnewtrackinginfo**](/windows/desktop/api/ComSvcs/nf-comsvcs-icomtrackinginfoevents-onnewtrackinginfo) -Methode jedes Abonnenten auf und sendet die neuesten Überwachungsdaten in Form eines Auflistungs Objekts.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-152">Roughly every three seconds, the tracker server calls each subscriber's [**IComTrackingInfoEvents::OnNewTrackingInfo**](/windows/desktop/api/ComSvcs/nf-comsvcs-icomtrackinginfoevents-onnewtrackinginfo) method, sending the most recent tracking data in the form of a collection object.</span></span> <span data-ttu-id="6c4b4-153">Dieses Objekt implementiert die [**icomtrackinginfocollection**](/windows/desktop/api/ComSvcs/nn-comsvcs-icomtrackinginfocollection) -Schnittstelle, und Abonnenten können durch diese Auflistung navigieren, um die für Sie interessanten Daten zu suchen.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-153">This object implements the [**IComTrackingInfoCollection**](/windows/desktop/api/ComSvcs/nn-comsvcs-icomtrackinginfocollection) interface, and subscribers can navigate this collection to find the data they are interested in.</span></span>

<span data-ttu-id="6c4b4-154">Aus verschiedenen Gründen ist es möglicherweise sinnvoller, dass ein Programm nach Verfolgungs Server nach Daten abruft.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-154">For various reasons, it might make more sense for a program to poll tracker server for data.</span></span> <span data-ttu-id="6c4b4-155">Ein Überwachungs Tool benötigt z. b. möglicherweise weniger häufig Updates als ein Programm, das den Status auf einer Benutzeroberfläche anzeigt.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-155">For example, a monitoring tool may need updates much less frequently than a program that displays status in a user interface.</span></span> <span data-ttu-id="6c4b4-156">Außerdem kann ein Programm nur einen kleinen Teil der für das System verfügbaren Überwachungsdaten verwenden (z. b. kann ein Tool nur die Leistung von Instanzen einer einzelnen COM+-Anwendung überwachen).</span><span class="sxs-lookup"><span data-stu-id="6c4b4-156">Also, a program may use only a small portion of the tracking data available for the system (for example, a tool might only monitor the performance of instances of a single COM+ application).</span></span> <span data-ttu-id="6c4b4-157">Das Abonnement Modell sendet jeden Abonnenten die Überwachungsdaten für alle com+-Anwendungen in jeder Benachrichtigung, und der Abonnent muss die gewünschten Daten finden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-157">The subscription model sends each subscriber the tracking data for all COM+ applications in each notification, and it is the responsibility of the subscriber to find the data it wants.</span></span> <span data-ttu-id="6c4b4-158">Und schließlich handelt es sich bei com+-Ereignissen um einen bewährten Ereignis Benachrichtigungs Mechanismus.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-158">Finally, COM+ events is a best-effort event notification mechanism.</span></span> <span data-ttu-id="6c4b4-159">Es wurden keine zuverlässigen Nachrichtenübermittlungs Dienste bereitgestellt, und ein Abonnent kann nicht erkennen, dass der Tracker Server eine Benachrichtigung nicht senden konnte.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-159">Reliable message delivery services are not provided, and there is no way for a subscriber to detect that the tracker server failed to send it a notification.</span></span>

<span data-ttu-id="6c4b4-160">Ein Programm, das eine bessere Kontrolle über das Abrufen von Überwachungsdaten benötigt, kann die [**igetapptrackerdata**](/windows/desktop/api/ComSvcs/nn-comsvcs-igetapptrackerdata) -Schnittstelle des Tracker-Servers verwenden.</span><span class="sxs-lookup"><span data-stu-id="6c4b4-160">A program that needs greater control over its retrieval of tracking data can use the [**IGetAppTrackerData**](/windows/desktop/api/ComSvcs/nn-comsvcs-igetapptrackerdata) interface of the tracker server.</span></span>

 

 




