---
description: Entwurfsvorschläge für die Entwicklung eines com+ CRM
ms.assetid: dde1b978-6d35-4a75-91fd-69dfcc6c43d2
title: Entwurfsvorschläge für die Entwicklung eines com+ CRM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8dcdb59f0ea23fb6879300d0bacec7df12970d81
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214144"
---
# <a name="design-suggestions-for-developing-a-com-crm"></a><span data-ttu-id="91767-103">Entwurfsvorschläge für die Entwicklung eines com+ CRM</span><span class="sxs-lookup"><span data-stu-id="91767-103">Design Suggestions for Developing a COM+ CRM</span></span>

<span data-ttu-id="91767-104">Die folgenden Schritte sind für die Entwicklung eines com+-CRM empfehlenswert:</span><span class="sxs-lookup"><span data-stu-id="91767-104">Following are suggested steps for developing a COM+ CRM:</span></span>

1.  <span data-ttu-id="91767-105">Legen Sie vor dem Starten der Entwicklung den Transaktions Timeout auf NULL (mithilfe des Verwaltungs Programms Komponenten Dienste) fest.</span><span class="sxs-lookup"><span data-stu-id="91767-105">Before starting development, set the transaction time-out to zero (using the Component Services administrative tool).</span></span> <span data-ttu-id="91767-106">Legen Sie das VTRACE1-Registrierungsflag fest (siehe [com+ CRM-Registrierungs Einstellungen](com--crm-registry-settings.md)), um CRM-Warn-und Fehlermeldungen in der Debugablaufverfolgung anzuzeigen</span><span class="sxs-lookup"><span data-stu-id="91767-106">Set the VTRACE1 registry flag (see [COM+ CRM Registry Settings](com--crm-registry-settings.md)) to see CRM warning and error messages on the debug trace.</span></span>
2.  <span data-ttu-id="91767-107">Bestimmen Sie, welche Gruppe von Schnittstellen Sie verwenden möchten, strukturiert (Varianten) oder nicht strukturiert ist.</span><span class="sxs-lookup"><span data-stu-id="91767-107">Determine which set of interfaces you need to use, structured (Variants) or non-structured.</span></span> <span data-ttu-id="91767-108">(Siehe [com+ CRM-Schnittstellen](com--crm-interfaces.md).) Dies hängt von der Sprache ab, die Sie für die Entwicklung Ihres CRM verwenden – z. b. Microsoft Visual C++ oder Microsoft Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="91767-108">(See [COM+ CRM Interfaces](com--crm-interfaces.md).) This will depend on the language that you use to develop your CRM—for example, Microsoft Visual C++ or Microsoft Visual Basic.</span></span>
3.  <span data-ttu-id="91767-109">Entwickeln Sie zuerst den CRM-Worker.</span><span class="sxs-lookup"><span data-stu-id="91767-109">Develop the CRM worker first.</span></span> <span data-ttu-id="91767-110">Bestimmen Sie die Informationen, die in den Protokolldaten Sätzen benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="91767-110">Determine the information that is required in the log records.</span></span> <span data-ttu-id="91767-111">Definieren Sie die Typen von erforderlichen Protokolldaten Sätzen und deren Format.</span><span class="sxs-lookup"><span data-stu-id="91767-111">Define the types of log records required and their format.</span></span>
4.  <span data-ttu-id="91767-112">Ein Debug CRM Kompensator wird als Teil der CRM-Beispiele (im Windows SDK) bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="91767-112">A debug CRM compensator is provided as part of the CRM samples (in the Windows SDK).</span></span> <span data-ttu-id="91767-113">Dies kann vorübergehend beim Debuggen des CRM-Workers anstelle des echten CRM-kompenators verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="91767-113">This can be used temporarily when debugging the CRM worker in place of the real CRM compensator.</span></span>
5.  <span data-ttu-id="91767-114">Wenn der CRM-Worker ordnungsgemäß funktioniert, entwickeln Sie den Real CRM-kompenatordienst, und ersetzen Sie den Debug CRM Kompensator durch den Real CRM Kompensator.</span><span class="sxs-lookup"><span data-stu-id="91767-114">When the CRM worker is working correctly, develop the real CRM compensator and replace the debug CRM compensator with the real CRM compensator.</span></span>
6.  <span data-ttu-id="91767-115">Es kann wünschenswert sein, den Wiederherstellungs Fall anfänglich nicht zu testen.</span><span class="sxs-lookup"><span data-stu-id="91767-115">It may be desirable to initially not test the recovery case.</span></span> <span data-ttu-id="91767-116">Wenn dies der Fall ist, löschen Sie die CRM-Protokolldatei für die CRM-Serveranwendung, bevor Sie diese CRM-Serveranwendung starten.</span><span class="sxs-lookup"><span data-stu-id="91767-116">If so, delete the CRM log file for the CRM server application each time before starting that CRM server application.</span></span>

## <a name="considerations"></a><span data-ttu-id="91767-117">Überlegungen</span><span class="sxs-lookup"><span data-stu-id="91767-117">Considerations</span></span>

1.  <span data-ttu-id="91767-118">**Schreiben Sie weiter.**</span><span class="sxs-lookup"><span data-stu-id="91767-118">**Write ahead.**</span></span> <span data-ttu-id="91767-119">Die CRM-workerkomponente muss im Voraus schreiben. Das heißt, es muss einen Protokolldaten Satz schreiben, der angibt, dass eine Aktion ausgeführt wird, bevor diese Aktion tatsächlich durchgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="91767-119">The CRM worker component must write ahead; that is, it must write a log record indicating it is going to perform an action before actually performing that action.</span></span> <span data-ttu-id="91767-120">Außerdem muss dieser Protokolldaten Satz nach dem Schreibvorgang und vor der Ausführung der Aktion auf den Datenträger erzwungen werden.</span><span class="sxs-lookup"><span data-stu-id="91767-120">In addition, this log record must be forced to disk after the write and before the action is performed.</span></span>
2.  <span data-ttu-id="91767-121">**Isolation.**</span><span class="sxs-lookup"><span data-stu-id="91767-121">**Isolation.**</span></span> <span data-ttu-id="91767-122">Das CRM erzwingt keine Isolation.</span><span class="sxs-lookup"><span data-stu-id="91767-122">The CRM does not enforce isolation.</span></span> <span data-ttu-id="91767-123">Der CRM-Entwurf muss die Isolation zwischen mehreren Clients auf separaten Transaktionen bereitstellen und muss auch den Fall vor der Wiederherstellung in Erwägung gezogen werden.</span><span class="sxs-lookup"><span data-stu-id="91767-123">The CRM design must provide isolation between multiple clients on separate transactions and must also consider the case prior to recovery.</span></span>
3.  <span data-ttu-id="91767-124">**Wiederherstellung wird durchgeführt.**</span><span class="sxs-lookup"><span data-stu-id="91767-124">**Recovery in progress.**</span></span> <span data-ttu-id="91767-125">Der CRM-Worker muss den Fehlercode "Wiederherstellung in Bearbeitung" verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="91767-125">The CRM worker must handle the "recovery in progress" error code.</span></span> <span data-ttu-id="91767-126">Weitere Informationen zu diesem Fehlercode finden Sie [unter Problembehandlung beim com+-CRM](troubleshooting-the-com--crm.md) .</span><span class="sxs-lookup"><span data-stu-id="91767-126">See [Troubleshooting the COM+ CRM](troubleshooting-the-com--crm.md) for more information about this error code.</span></span>
4.  <span data-ttu-id="91767-127">**Fehlerbehandlung.**</span><span class="sxs-lookup"><span data-stu-id="91767-127">**Error handling.**</span></span> <span data-ttu-id="91767-128">Der CRM-Worker muss mit dem Fall zurechtkommen, dass die Transaktion früher als erwartet abgebrochen wurde.</span><span class="sxs-lookup"><span data-stu-id="91767-128">The CRM worker must cope with the case where the transaction is aborted earlier than expected.</span></span> <span data-ttu-id="91767-129">Weitere Informationen finden Sie [im Abschnitt Fehlerbehandlung in com+ CRM](error-handling-in-the-com--crm.md).</span><span class="sxs-lookup"><span data-stu-id="91767-129">See the section [Error Handling in the COM+ CRM](error-handling-in-the-com--crm.md).</span></span>
5.  <span data-ttu-id="91767-130">**Wiederherstellungszeit.**</span><span class="sxs-lookup"><span data-stu-id="91767-130">**Recovery time.**</span></span> <span data-ttu-id="91767-131">Der CRM-kompenerer sollte so konzipiert werden, dass er die Wiederherstellung schnell durchführt, damit neue Aufgaben für diese CRM-Serveranwendung nicht gewartet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="91767-131">The CRM compensator should be designed to perform recovery quickly so that new work for that CRM server application does not have to wait.</span></span>
6.  <span data-ttu-id="91767-132">**Idempotenz.**</span><span class="sxs-lookup"><span data-stu-id="91767-132">**Idempotence.**</span></span> <span data-ttu-id="91767-133">Es ist möglich, dass ein CRM-Kompensator den gleichen Protokolldaten Satz möglicherweise erneut empfängt, um eine Aktion rückgängig zu machen oder wiederholen, die bereits rückgängig gemacht oder wiederholt wurde.</span><span class="sxs-lookup"><span data-stu-id="91767-133">It is possible that a CRM compensator might receive the same log record again, to undo or redo an action that has already been undone or redone.</span></span> <span data-ttu-id="91767-134">Aktionen, die der CRM-kompenerer ausführen kann, müssen idempotent sein, was häufig bedeutet, dass die von diesen Aktionen zurückgegebenen Fehlercodes ignoriert werden sollten.</span><span class="sxs-lookup"><span data-stu-id="91767-134">Actions that the CRM compensator might perform must be idempotent, which often means that the error codes returned from these actions should be ignored.</span></span>
7.  <span data-ttu-id="91767-135">**Initiierung der Wiederherstellung.**</span><span class="sxs-lookup"><span data-stu-id="91767-135">**Initiation of recovery.**</span></span> <span data-ttu-id="91767-136">Die Wiederherstellung einer CRM-Serveranwendung wird ausgeführt, wenn diese CRM-Serveranwendung gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="91767-136">Recovery of a CRM server application is performed when that CRM server application starts up.</span></span> <span data-ttu-id="91767-137">Eine CRM-Serveranwendung wird jedoch nicht automatisch gestartet.</span><span class="sxs-lookup"><span data-stu-id="91767-137">However, there is no automatic startup of a CRM server application.</span></span> <span data-ttu-id="91767-138">Der Anwendungsentwickler sollte in Erwägung gezogen werden, wie Start-und Wiederherstellungs Vorgang initiiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="91767-138">The application developer should consider how both startup and recovery should be initiated.</span></span>

## <a name="related-topics"></a><span data-ttu-id="91767-139">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="91767-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="91767-140">Kompensierende com+-Ressourcen-Manager Konzepte</span><span class="sxs-lookup"><span data-stu-id="91767-140">COM+ Compensating Resource Manager Concepts</span></span>](com--compensating-resource-manager-concepts.md)
</dt> </dl>

 

 



