---
description: Problembehandlung bei com+ CRM
ms.assetid: 4d2d9372-b540-4e08-9b57-8687802610b6
title: Problembehandlung bei com+ CRM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b04e37d183dbf3df8d017e780917f955e14a033
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104523864"
---
# <a name="troubleshooting-the-com-crm"></a><span data-ttu-id="6686b-103">Problembehandlung bei com+ CRM</span><span class="sxs-lookup"><span data-stu-id="6686b-103">Troubleshooting the COM+ CRM</span></span>

<span data-ttu-id="6686b-104">Im folgenden finden Sie die häufigsten Probleme, die bei der Entwicklung und Verwendung von com+ CRM aufgetreten sind:</span><span class="sxs-lookup"><span data-stu-id="6686b-104">Following are the most common problems encountered when developing and using the COM+ CRM:</span></span>

-   <span data-ttu-id="6686b-105">**Ereignisprotokoll Meldungen.**</span><span class="sxs-lookup"><span data-stu-id="6686b-105">**Event log messages.**</span></span> <span data-ttu-id="6686b-106">Wenn die CRM-Serveranwendung einen schwerwiegenden internen Fehler feststellt, wird ein faildown durchführt (der Prozess der CRM-Serveranwendung wird beendet) und eine Meldung in das Windows-Ereignisprotokoll geschrieben.</span><span class="sxs-lookup"><span data-stu-id="6686b-106">If the CRM server application encounters a serious internal error, it will failfast (terminate the CRM server application process) and write a message to the Windows event log.</span></span> <span data-ttu-id="6686b-107">Wenn Probleme auftreten, lesen Sie das Ereignisprotokoll.</span><span class="sxs-lookup"><span data-stu-id="6686b-107">Please refer to the event log if any problems are encountered.</span></span>

-   <span data-ttu-id="6686b-108">**Ausnahmen vom CRM-kompenator.**</span><span class="sxs-lookup"><span data-stu-id="6686b-108">**Exceptions from the CRM Compensator.**</span></span> <span data-ttu-id="6686b-109">Die CRM-Infrastruktur erstellt den CRM-Compensator und übergibt die Transaktions Ergebnis Benachrichtigungen und die Protokolldaten Sätze, die vom CRM-Worker geschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="6686b-109">The CRM infrastructure creates the CRM Compensator and passes it the transaction outcome notifications and the log records written by the CRM Worker.</span></span> <span data-ttu-id="6686b-110">Wenn der CRM-kompenerer einen Fehler zurückgibt oder eine Ausnahme auslöst, wird er von der CRM-Infrastruktur abgefangen und führt zu einem FailFast.</span><span class="sxs-lookup"><span data-stu-id="6686b-110">If the CRM Compensator returns an error or throws an exception, it is caught by the CRM infrastructure and causes a failfast.</span></span> <span data-ttu-id="6686b-111">Eine Meldung im Ereignisprotokoll zeigt an, dass eine Ausnahme vom CRM-kompenatordienst empfangen wurde.</span><span class="sxs-lookup"><span data-stu-id="6686b-111">A message in the event log indicates that an exception was received from the CRM Compensator.</span></span> <span data-ttu-id="6686b-112">Sie können erzwingen, dass diese Ausnahmen ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="6686b-112">It is possible to force these exceptions to be ignored.</span></span> <span data-ttu-id="6686b-113">(Siehe [com+ CRM-Registrierungs Einstellungen](com--crm-registry-settings.md).) Ausnahmen vom CRM-Compensator bedeuten höchstwahrscheinlich ein Problem in der spezifischen CRM-kompenatorkomponente und nicht in der CRM-Infrastruktur selbst.</span><span class="sxs-lookup"><span data-stu-id="6686b-113">(See [COM+ CRM Registry Settings](com--crm-registry-settings.md).) Exceptions from the CRM Compensator most likely mean a problem in the specific CRM Compensator component and not in the CRM infrastructure itself.</span></span>

-   <span data-ttu-id="6686b-114">**Wiederherstellungs Ablauf Verfolgung.**</span><span class="sxs-lookup"><span data-stu-id="6686b-114">**Recovery trace.**</span></span> <span data-ttu-id="6686b-115">Die Wiederherstellungs Ablauf Verfolgung kann sehr nützlich sein, um Probleme bei der Wiederherstellung zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="6686b-115">The recovery trace can be very useful to determine problems during recovery.</span></span> <span data-ttu-id="6686b-116">Weitere Informationen zum Aktivieren der Wiederherstellungs Ablauf Verfolgung finden Sie unter [com+ CRM-Registrierungs Einstellungen](com--crm-registry-settings.md).</span><span class="sxs-lookup"><span data-stu-id="6686b-116">For information about enabling recovery trace, see [COM+ CRM Registry Settings](com--crm-registry-settings.md).</span></span>

-   <span data-ttu-id="6686b-117">**Der Versuch, mit dem CRM auszuführen, ist nicht aktiviert.**</span><span class="sxs-lookup"><span data-stu-id="6686b-117">**Trying to run with the CRM not enabled.**</span></span> <span data-ttu-id="6686b-118">Es genügt nicht, einfach die CRM-Worker-und CRM-kompenatorkomponenten in der COM+-Serveranwendung zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="6686b-118">It is not sufficient simply to place the CRM Worker and CRM Compensator components into the COM+ server application.</span></span> <span data-ttu-id="6686b-119">Die Unterstützung von CRMs muss speziell für die jeweilige COM+-Serveranwendung aktiviert werden. verwenden Sie dazu die Option **kompensierende Ressourcen-Manager aktivieren** auf der Registerkarte **erweitert** der Eigenschaften Seiten der com+-Anwendung.</span><span class="sxs-lookup"><span data-stu-id="6686b-119">Support for CRMs must be specifically enabled for the specific COM+ server application using the **Enable compensating resource managers** option on the **Advanced** tab of the COM+ application's property pages.</span></span> <span data-ttu-id="6686b-120">(Weitere Informationen finden Sie unter [Konfigurieren von com+ CRM-Komponenten](configuring-com--crm-components.md) .) Wenn versucht wird, ein CRM innerhalb einer Serveranwendung zu verwenden, für die das CRM nicht aktiviert ist, wird ein Fehlercode an den CRM-Worker zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6686b-120">(See [Configuring COM+ CRM Components](configuring-com--crm-components.md) for more information.) If an attempt is made to use a CRM inside a server application that does not have the CRM enabled, an error code is returned to the CRM Worker.</span></span>

-   <span data-ttu-id="6686b-121">**Es wird versucht, CRMs in Client Prozessen auszuführen.**</span><span class="sxs-lookup"><span data-stu-id="6686b-121">**Trying to run CRMs in client processes.**</span></span> <span data-ttu-id="6686b-122">CRMs werden nicht in Client Prozessen ausgeführt. Sie müssen in einem com+-Server Anwendungsprozess ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="6686b-122">CRMs do not run in client processes; they must run in a COM+ server application process.</span></span> <span data-ttu-id="6686b-123">CRM-Komponenten können in ein Bibliothekspaket eingefügt werden, das von mehreren com+-Server Anwendungen verwendet werden kann. Sie sind jedoch nicht für die Verwendung in Client Prozessen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="6686b-123">CRM components can be placed in a library package for use by multiple COM+ server applications, but they are not available for use within client processes.</span></span> <span data-ttu-id="6686b-124">Wenn Sie versuchen, die CRM-Schnittstellen innerhalb eines Client Prozesses zu verwenden, wird dem CRM-Worker ein Fehlercode zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6686b-124">Attempting to use the CRM interfaces inside a client process returns an error code to the CRM Worker.</span></span>

-   <span data-ttu-id="6686b-125">**Wiederherstellung wird durchgeführt.**</span><span class="sxs-lookup"><span data-stu-id="6686b-125">**Recovery in progress.**</span></span> <span data-ttu-id="6686b-126">Die Wiederherstellung beginnt, wenn eine CRM-Serveranwendung gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="6686b-126">Recovery starts when a CRM server application starts.</span></span> <span data-ttu-id="6686b-127">Die Wiederherstellung erfolgt jedoch im Hintergrund während der normalen Verarbeitung der CRM-Serveranwendung.</span><span class="sxs-lookup"><span data-stu-id="6686b-127">However, recovery occurs in the background during the normal processing of the CRM server application.</span></span> <span data-ttu-id="6686b-128">Der CRM-Worker kann erstellt werden, bevor die Wiederherstellung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="6686b-128">The CRM Worker can be created prior to recovery being completed.</span></span> <span data-ttu-id="6686b-129">CRMs können erst dann in einem CRM-Server Anwendungsprozess verwendet werden, wenn die Wiederherstellung erfolgreich abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="6686b-129">CRMs cannot be used in a CRM server application process until recovery has been successfully completed.</span></span> <span data-ttu-id="6686b-130">In diesem Fall empfängt der CRM-Worker den Fehlercode "Wiederherstellung in Bearbeitung", während er versucht, den CRM-kompenerer zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="6686b-130">In this case, the CRM Worker receives a "recovery in progress" error code as it tries to register the CRM Compensator.</span></span> <span data-ttu-id="6686b-131">Der CRM-Worker sollte Abfragen oder anderweitig verzögern, bis die Wiederherstellung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="6686b-131">The CRM Worker should poll or otherwise delay until recovery has been completed.</span></span> <span data-ttu-id="6686b-132">Die Wiederherstellungszeit ist für eine bestimmte Art von CRM spezifisch und sollte beim Entwerfen von CRM berücksichtigt werden.</span><span class="sxs-lookup"><span data-stu-id="6686b-132">The recovery time is specific to a particular type of CRM, and this should be considered when designing the CRM.</span></span> <span data-ttu-id="6686b-133">Lange Wiederherstellungen sind nicht wünschenswert.</span><span class="sxs-lookup"><span data-stu-id="6686b-133">Long duration recoveries are not desirable.</span></span>

-   <span data-ttu-id="6686b-134">**Sicherheit in der CRM-Protokolldatei.**</span><span class="sxs-lookup"><span data-stu-id="6686b-134">**Security on the CRM log file.**</span></span> <span data-ttu-id="6686b-135">Wenn der Zugriff auf die CRM-Protokolldatei verweigert wird, finden Sie unter [com+ CRM-Sicherheitsüberlegungen](com--crm-security-considerations.md) eine Beschreibung, wie die Sicherheit für die CRM-Protokolldatei festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="6686b-135">If access to the CRM log file is denied, please see [COM+ CRM Security Considerations](com--crm-security-considerations.md) for a description of how security is set on the CRM log file.</span></span>

-   <span data-ttu-id="6686b-136">**Unsichere Transaktionen.**</span><span class="sxs-lookup"><span data-stu-id="6686b-136">**In-doubt transactions.**</span></span> <span data-ttu-id="6686b-137">In seltenen Fällen kann es vorkommen, dass eine DTC-Transaktion in den zweifelhaften Zustand wechselt. Das heißt, der DTC kann das Transaktions Ergebnis nicht ermitteln.</span><span class="sxs-lookup"><span data-stu-id="6686b-137">In rare cases, a DTC transaction might go into the in-doubt state; that is, the DTC cannot determine the transaction outcome.</span></span> <span data-ttu-id="6686b-138">In diesen Fällen verwaltet das CRM während der Wiederherstellung die Protokolldaten Sätze für diese Transaktion in der CRM-Protokolldatei.</span><span class="sxs-lookup"><span data-stu-id="6686b-138">For these cases, during recovery, the CRM maintains the log records for that transaction in the CRM log file.</span></span> <span data-ttu-id="6686b-139">Wenn die unsichere Transaktion vom DTC aufgelöst wurde, wird die Transaktion durch das Ausführen einer anderen CRM-Wiederherstellung abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="6686b-139">When the in-doubt transaction has been resolved by the DTC, performing another CRM recovery completes the transaction.</span></span>

-   <span data-ttu-id="6686b-140">**Erstellung und Freigabe von CRM Compensator.**</span><span class="sxs-lookup"><span data-stu-id="6686b-140">**Creation and release of CRM Compensator.**</span></span> <span data-ttu-id="6686b-141">Wenn ein CRM-Compensator zum ersten Mal von einem CRM-Worker registriert wird, wird er von der CRM-Infrastruktur erstellt und abgefragt, um zu bestimmen, welche der von ihm unterstützten CRM-compensatorschnittstellen unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="6686b-141">The first time a CRM Compensator is registered by a CRM Worker, it is created by the CRM infrastructure and queried to determine which of the CRM Compensator interfaces it supports.</span></span> <span data-ttu-id="6686b-142">Sie wird dann sofort freigegeben.</span><span class="sxs-lookup"><span data-stu-id="6686b-142">It is then immediately released.</span></span> <span data-ttu-id="6686b-143">CRM-Kompensatoren müssen die Möglichkeit der Erstellung und Freigabe unterstützen, ohne dass dazwischen liegende Methodenaufrufe vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="6686b-143">CRM Compensators need to support the ability to be created and released without having had any intervening method calls.</span></span> <span data-ttu-id="6686b-144">Wenn der CRM-Compensator nicht ordnungsgemäß erstellt werden kann, möglicherweise aufgrund einer falschen com-Registrierung, oder wenn er nicht mindestens eine der richtigen CRM-kompenatorschnittstellen unterstützt, wird ein Fehlercode an den CRM-Worker zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6686b-144">If the CRM Compensator cannot be created correctly, perhaps due to incorrect COM registration, or if it does not support at least one of the correct CRM Compensator interfaces, an error code is returned to the CRM Worker.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6686b-145">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6686b-145">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6686b-146">Kompensierende com+-Ressourcen-Manager Konzepte</span><span class="sxs-lookup"><span data-stu-id="6686b-146">COM+ Compensating Resource Manager Concepts</span></span>](com--compensating-resource-manager-concepts.md)
</dt> </dl>

 

 



