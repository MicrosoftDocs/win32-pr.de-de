---
description: Com+ versucht, Situationen zu vermeiden, in denen diese Fehler Pfade auf einem Server ausgeführt werden müssen.
ms.assetid: 0de125a2-2e91-49b9-a903-6c2e173e22a2
title: Konzepte der com+-Low-Memory Activation Gates
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37d844a0492301ef067f5b3cd0e0749ec3a21779
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/05/2021
ms.locfileid: "103961055"
---
# <a name="com-low-memory-activation-gates-concepts"></a><span data-ttu-id="9a677-103">Konzepte der com+-Low-Memory Activation Gates</span><span class="sxs-lookup"><span data-stu-id="9a677-103">COM+ Low-Memory Activation Gates Concepts</span></span>

<span data-ttu-id="9a677-104">Im Allgemeinen ist die Synchronisierung nicht erforderlich, wenn Sie über ein Single Thread-Apartment (STA) verfügen, da das Apartment die Synchronisierung für Sie bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="9a677-104">Generally, synchronization is not required when you have a single-threaded apartment (STA) because the apartment provides the synchronization for you.</span></span> <span data-ttu-id="9a677-105">Die Synchronisierung wird wichtig, wenn Sie über ein Multithread-Apartment (MTA) und ein Freethread-Objekt verfügen.</span><span class="sxs-lookup"><span data-stu-id="9a677-105">Synchronization becomes important when you have a multithreaded apartment (MTA) and a free-threaded object.</span></span> <span data-ttu-id="9a677-106">In der Vergangenheit mussten frei Thread Objekte Sperren behandeln.</span><span class="sxs-lookup"><span data-stu-id="9a677-106">In the past, free-threaded objects have had to handle locking.</span></span> <span data-ttu-id="9a677-107">Sie können die Verwendung von Sperren ausschließen, indem Sie das Synchronisierungs Attribut für eine Komponente festlegen.</span><span class="sxs-lookup"><span data-stu-id="9a677-107">You can eliminate the need to use locking by setting the synchronization attribute for a component.</span></span>

<span data-ttu-id="9a677-108">Zuverlässigkeitsprobleme treten häufig auf, wenn die Ressourcen eines Servers nicht effizient auf Spitzenlasten reagieren können.</span><span class="sxs-lookup"><span data-stu-id="9a677-108">Reliability problems often occur when a server's resources cannot react efficiently to peak loads.</span></span> <span data-ttu-id="9a677-109">Wenn ein Server nicht über genügend physische Ressourcen verfügt, um den Spitzenbedarf zu erfüllen, kann der virtuelle Arbeitsspeicher erschöpft werden.</span><span class="sxs-lookup"><span data-stu-id="9a677-109">When a server doesn't have enough physical resources to meet peak demand, it can exhaust virtual memory.</span></span> <span data-ttu-id="9a677-110">Dies wird zu einem Problem, wenn der Benutzercode oder der Systemcode Fehler bei der Speicher Belegung nicht ordnungsgemäß behandelt.</span><span class="sxs-lookup"><span data-stu-id="9a677-110">This becomes a problem if the user code or system code does not properly handle memory allocation failures.</span></span> <span data-ttu-id="9a677-111">Der Server beginnt mit der Verlangsamung, und die Speicher Belegung schlägt fehl, wenn der Arbeitsspeicher erschöpft ist.</span><span class="sxs-lookup"><span data-stu-id="9a677-111">The server begins to slow down, and as memory is exhausted, memory allocations fail.</span></span> <span data-ttu-id="9a677-112">Der Server führt Fehler Pfade zum Behandeln der Zuordnungs Fehler aus.</span><span class="sxs-lookup"><span data-stu-id="9a677-112">The server executes error paths to handle the allocation failures.</span></span> <span data-ttu-id="9a677-113">Wenn ein Fehler Pfad einen Fehler im System-oder Benutzercode enthält, der auf dem Server ausgeführt wird, ist es äußerst schwierig, sicher abzufangen und zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="9a677-113">If an error path contains a bug in the system or user code running on the server, it's extremely difficult to trap and handle safely.</span></span>

<span data-ttu-id="9a677-114">Com+ versucht, Situationen zu vermeiden, in denen diese Fehler Pfade auf einem Server ausgeführt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="9a677-114">COM+ attempts to prevent situations in which these error paths have to be executed on a server.</span></span> <span data-ttu-id="9a677-115">Über das Feature für Aktivierungs Gates mit geringem Arbeitsspeicher überwacht com+ proaktiv die Arbeitsspeicher Auslastung im System und stellt sicher, dass vor dem Ausführen des Benutzercodes eine angemessene Menge an Arbeitsspeicher verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="9a677-115">Through the low-memory activation gates feature, COM+ proactively monitors memory load in the system and ensures that a reasonable amount of memory is available before executing user code.</span></span> <span data-ttu-id="9a677-116">Wenn der Prozentsatz des für die Anwendung verfügbaren virtuellen Speichers unter einen festgelegten Schwellenwert fällt, schlägt die Aktivierung fehl, bevor eine COM+-Serveranwendung oder ein COM+-Objekt erstellt wird (wie in der Abbildung unten dargestellt).</span><span class="sxs-lookup"><span data-stu-id="9a677-116">If the percentage of virtual memory available to the application falls below a fixed threshold, the activation fails before a COM+ server application or object is created (as shown in the illustration below).</span></span> <span data-ttu-id="9a677-117">Durch das Fehlschlagen dieser Aktivierungen, die normalerweise ausgeführt werden, minimiert die Funktion für die Aktivierung des niedrigen Arbeitsspeichers die Probleme, die im Zusammenhang mit Speicher Belegungen im Benutzercode auftreten, wodurch die Systemzuverlässigkeit deutlich</span><span class="sxs-lookup"><span data-stu-id="9a677-117">By failing these activations that would normally run, the low-memory activation gates feature minimizes the problems associated with memory allocations in user code, which significantly enhances system reliability.</span></span>

![Diagramm, das die Beziehung zwischen einer COM+-Anwendung und einem Aktivierungs Gate mit geringem Arbeitsspeicher anzeigt.](images/ada5ef02-f2b1-46bb-b0fc-fe7d65f31b43.png)

<span data-ttu-id="9a677-119">Das Feature für Aktivierungs Gates mit geringem Arbeitsspeicher gilt nur für konfigurierte COM-Komponenten, die in einer COM+-Anwendung installiert sind.</span><span class="sxs-lookup"><span data-stu-id="9a677-119">The low-memory activation gates feature applies only to configured COM components that are installed in a COM+ application.</span></span>

## <a name="how-the-low-memory-activation-gates-feature-works"></a><span data-ttu-id="9a677-120">Funktionsweise der Funktion "Low-Memory Activation Gates"</span><span class="sxs-lookup"><span data-stu-id="9a677-120">How the Low-Memory Activation Gates Feature Works</span></span>

<span data-ttu-id="9a677-121">Die Funktion für die Aktivierung der Funktion für niedrige Arbeitsspeicher verwendet je nach Art der Aktivierung einen anderen festgelegten Schwellenwert.</span><span class="sxs-lookup"><span data-stu-id="9a677-121">The low-memory activation gates feature uses a different fixed threshold level depending on the type of activation.</span></span> <span data-ttu-id="9a677-122">Beim Erstellen einer COM+-Serveranwendung ermöglicht com+ die Aktivierung, wenn mehr als 10 Prozent des virtuellen Arbeitsspeichers verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="9a677-122">When creating a COM+ server application, COM+ allows the activation if more than 10 percent of virtual memory is available.</span></span> <span data-ttu-id="9a677-123">Wenn weniger als 10 Prozent verfügbar sind, erstellt com+ eine Test Zuordnung, um herauszufinden, ob die Auslagerungs Datei erweitert werden kann, um die neue Arbeitsspeicher Auslastung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="9a677-123">If less than 10 percent is available, COM+ makes a test allocation to find out if the paging file can expand to accommodate the new memory load.</span></span> <span data-ttu-id="9a677-124">Wenn die Auslagerungs Datei erweitert wird, wird die Serveranwendung erstellt.</span><span class="sxs-lookup"><span data-stu-id="9a677-124">If the paging file expands, the server application is created.</span></span> <span data-ttu-id="9a677-125">Wenn die Auslagerungs Datei nicht erweitert werden kann, schlägt die Aktivierung fehl, und der Arbeitsspeicher wird nicht zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="9a677-125">If the paging file cannot be expanded, the activation fails and memory is not allocated.</span></span>

<span data-ttu-id="9a677-126">Der Prozess ist ähnlich, wenn ein Objekt erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="9a677-126">The process is similar when creating an object.</span></span> <span data-ttu-id="9a677-127">In diesem Fall ermöglicht com+ die Aktivierung, wenn mehr als 5 Prozent des virtuellen Arbeitsspeichers verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="9a677-127">In this case, COM+ allows the activation if more than 5 percent of virtual memory is available.</span></span> <span data-ttu-id="9a677-128">Wenn weniger als 5 Prozent verfügbar sind, fährt com+ mit einer Test Zuordnung fort.</span><span class="sxs-lookup"><span data-stu-id="9a677-128">If less than 5 percent is available, COM+ proceeds with a test allocation.</span></span> <span data-ttu-id="9a677-129">Wenn die Test Zuordnung die Auslagerungs Datei erweitert, wird das-Objekt erstellt.</span><span class="sxs-lookup"><span data-stu-id="9a677-129">Again, if the test allocation expands the paging file, the object is created.</span></span> <span data-ttu-id="9a677-130">Andernfalls tritt ein Fehler bei der Aktivierung auf.</span><span class="sxs-lookup"><span data-stu-id="9a677-130">If not, the activation fails.</span></span>

<span data-ttu-id="9a677-131">Die festgelegten Schwellenwerte für Aktivierungs Gates mit geringem Arbeitsspeicher können derzeit nicht konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="9a677-131">The fixed threshold levels for low-memory activation gates are currently not configurable.</span></span> <span data-ttu-id="9a677-132">Aus diesem Grund sind dieser Funktion keine Aufgaben zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="9a677-132">For this reason, there are no tasks associated with this feature.</span></span>

 

 



