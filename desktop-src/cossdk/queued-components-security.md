---
description: Sicherheit in der Warteschlange befindliche Komponenten
ms.assetid: 3fbeb81a-e3e4-495b-b891-896877fab92f
title: Sicherheit in der Warteschlange befindliche Komponenten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 29b51592f6216d7380e877f2cd582a277f1583b8
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104127141"
---
# <a name="queued-components-security"></a><span data-ttu-id="ceab1-103">Sicherheit in der Warteschlange befindliche Komponenten</span><span class="sxs-lookup"><span data-stu-id="ceab1-103">Queued Components Security</span></span>

<span data-ttu-id="ceab1-104">Wenn ein Client einen Methoden aufzurufen an ein Objekt in der Warteschlange sendet, wird der-Befehl tatsächlich an die Aufzeichnung gerichtet, die ihn als Teil einer Nachricht an den Server verpackt.</span><span class="sxs-lookup"><span data-stu-id="ceab1-104">When a client makes a method call to a queued object, the call is actually made to the recorder, which packages it as part of a message to the server.</span></span> <span data-ttu-id="ceab1-105">Der Listener liest die Nachricht aus der Warteschlange und übergibt sie an den Player.</span><span class="sxs-lookup"><span data-stu-id="ceab1-105">The listener reads the message from the queue and passes it to the player.</span></span> <span data-ttu-id="ceab1-106">Der Player Ruft die tatsächliche Serverkomponente auf und führt denselben Methodenaufruf aus.</span><span class="sxs-lookup"><span data-stu-id="ceab1-106">The player invokes the actual server component and makes the same method call.</span></span> <span data-ttu-id="ceab1-107">Die Serverkomponente muss den Sicherheitskontext des Clients (nicht den Sicherheits Aufrufkontext des Players) beobachten, wenn der Player den Methoden aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="ceab1-107">The server component must observe the security call context of the client (not the player's security call context) when the player makes the method call.</span></span> <span data-ttu-id="ceab1-108">Die Aufzeichnung Marshalls den Sicherheitskontext des Clients in die Nachricht, und der Player entmarshalls Sie auf dem Server, bevor Sie den Methoden aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="ceab1-108">The recorder marshals the client's security call context into the message, and the player unmarshals it at the server before making the method call.</span></span> <span data-ttu-id="ceab1-109">Wenn es um das Server Objekt geht, gibt es keinen Unterschied im Sicherheitskontext zwischen einem direkten-Client und einem indirekten-Rückruf des Players.</span><span class="sxs-lookup"><span data-stu-id="ceab1-109">As far as the server object is concerned, there is no difference in security context between a direct call from the client and an indirect call from the player.</span></span> <span data-ttu-id="ceab1-110">Insbesondere die Methoden, die aufgerufen werden, werden mit den Berechtigungen des Absenders ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="ceab1-110">In particular, the methods invoked execute with the sender's privileges.</span></span>

<span data-ttu-id="ceab1-111">Eine in der Warteschlange befindliche COM+-Komponente unterstützt die rollenbasierte Sicherheits Semantik wie andere Komponenten, die für die Verwendung mit com+-Anwendungen erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="ceab1-111">A COM+ queued component supports role-based security semantics just like other components built for use with COM+ applications.</span></span> <span data-ttu-id="ceab1-112">Komponenten einer Anwendung in der Warteschlange können daher programmgesteuerte Schnittstellen verwenden, um die Rollen Mitgliedschaft Ihres Aufrufers ([**ISecurityCallContext:: isCallerInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-iscallerinrole)) oder einen bestimmten Benutzer ([**ISecurityCallContext:: IsUserInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-isuserinrole)) zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="ceab1-112">Components of a queued application can therefore use programmatic interfaces to discover the role membership of their caller ([**ISecurityCallContext::IsCallerInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-iscallerinrole)) or a specific user ([**ISecurityCallContext::IsUserInRole**](/windows/desktop/api/ComSvcs/nf-comsvcs-isecuritycallcontext-isuserinrole)).</span></span> <span data-ttu-id="ceab1-113">Es wird empfohlen, dass alle Komponenten in der Warteschlange mit einer potenziellen Sicherheits Auswirkung diese Schnittstellen verwenden, um die Anmelde Informationen des Absenders explizit zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="ceab1-113">It is recommended that any queued component with a potential security impact use these interfaces to explicitly check the sender's credentials.</span></span>

<span data-ttu-id="ceab1-114">Die Identität des Aufrufers ist die Identität, die einem Methodenaufruf zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="ceab1-114">The caller identity is the identity associated with a method call.</span></span> <span data-ttu-id="ceab1-115">Die Identität des Aufrufers wird von der rollenbasierten Sicherheit verwendet und ist im Sicherheits Aufruf Kontext vorhanden.</span><span class="sxs-lookup"><span data-stu-id="ceab1-115">Caller identity is used by role-based security and is present in the security call context.</span></span> <span data-ttu-id="ceab1-116">In in der Warteschlange befindlichen Komponenten wird die Identität des Aufrufers als Daten in der Message Queuing Nachricht dargestellt.</span><span class="sxs-lookup"><span data-stu-id="ceab1-116">In queued components, the caller identity is represented as data in the Message Queuing message.</span></span> <span data-ttu-id="ceab1-117">Message Queuing authentifiziert die Absender Identität der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="ceab1-117">Message Queuing authenticates the message sender identity.</span></span> <span data-ttu-id="ceab1-118">Wenn die Identität des Aufrufers und die Identität des Nachrichten Absenders identisch sind, werden Message Queuing die Nachricht und den Aufrufer authentifiziert.</span><span class="sxs-lookup"><span data-stu-id="ceab1-118">When the caller identity and the message sender identity are the same, Message Queuing authenticates both the message and the caller.</span></span> <span data-ttu-id="ceab1-119">Dies ist der übliche Fall.</span><span class="sxs-lookup"><span data-stu-id="ceab1-119">This is the usual case.</span></span>

> [!Note]  
> <span data-ttu-id="ceab1-120">Die in der Warteschlange befindlichen Komponenten von com+ unterstützen die Sicherheit im Identitätswechsel Format nicht, wodurch ein Server ein Zugriffs Token abrufen kann, das der Client Identität entspricht, und es entweder zum Durchführen von Zugriffs Steuerungs Prüfungen oder zum Verwenden des Client Sicherheits Kontexts verwenden.</span><span class="sxs-lookup"><span data-stu-id="ceab1-120">COM+ queued components does not support impersonation-style security, which allows a server to obtain an access token corresponding to the client identity and use it either to perform access control checks or to act under the client security context.</span></span>

 

<span data-ttu-id="ceab1-121">Wenn der Aufrufer einer in der Warteschlange befindlichen Komponente über eine Out-of-Process-Aufzeichnung mit der Komponente interagiert, können sich die Identitäten des Aufrufers und der Nachrichten Absender (Recorder) unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="ceab1-121">When the caller of a queued component is interacting with the component through an out-of-process recorder, the identities of the caller and message sender (recorder) can be different.</span></span> <span data-ttu-id="ceab1-122">In diesem Fall überprüft com+ in der Warteschlange befindliche Komponenten, ob der Absender der Nachricht ein Mitglied der vertrauten QC-Benutzerrolle auf dem Server ist.</span><span class="sxs-lookup"><span data-stu-id="ceab1-122">In this case, COM+ queued components verifies that the message sender is a member of the QC Trusted User role on the server.</span></span> <span data-ttu-id="ceab1-123">Außerdem erfordert die Out-of-Process-Aufzeichnung ein Authentifizierungszertifikat, da Sie durch Message Queuing authentifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="ceab1-123">Additionally, the out-of-process recorder requires an authentication certificate because it is being authenticated by Message Queuing.</span></span>

<span data-ttu-id="ceab1-124">Mitglieder der Benutzerrolle "QC Trusted" können eine beliebige Identität angeben, was bedeutet, dass ein böswilliger Member einen in der Warteschlange befindlichen Komponenten aufrufmit erhöhten Rechten ausführen könnte.</span><span class="sxs-lookup"><span data-stu-id="ceab1-124">Members of the QC Trusted User role are allowed to specify an arbitrary identity, which means that a malicious member could execute a queued component call with elevated privileges.</span></span> <span data-ttu-id="ceab1-125">Daher wird empfohlen, dass die Anzahl der Benutzer auf ein absolutes Minimum beschränkt wird.</span><span class="sxs-lookup"><span data-stu-id="ceab1-125">It is therefore recommended that the number of such users be kept to an absolute minimum.</span></span>

<span data-ttu-id="ceab1-126">Aufgrund des Risikos eines anspruchsvollen Angriffs in Verbindung mit einem Mechanismus, der Identität über ein Netzwerk verteilt, und dem Risiko eines einfachen Denial-of-Service-Angriffs durch das überfluten der Warteschlangen mit nicht ausführbaren Anforderungen wird empfohlen, den com+-Dienst in der Warteschlange nur in einem Netzwerk vertrauenswürdiger Hosts bereitzustellen – beispielsweise in einem privaten Netzwerk oder einem virtuellen privaten Netzwerk. oder hinter einer entsprechend konfigurierten Firewall.</span><span class="sxs-lookup"><span data-stu-id="ceab1-126">Because of the risk of a sophisticated attack associated with any mechanism which propagates identity across a network, as well as the risk of a simple denial of service attack by flooding the queues with unexecutable requests, it is recommended that you deploy the COM+ queued components service only on a network of trusted hosts—for example, on a private network or a virtual private network, or behind an appropriately configured firewall.</span></span>

<span data-ttu-id="ceab1-127">Die **in der Warte** Schlange befindlichen Komponenten von com+ werden über DCOM ausgeführt, sodass Sie die Integrität **und das Geheimnis** von Methoden aufrufen **in der** Warteschlange schützen können, indem Sie auf der Registerkarte Sicherheit auf der Registerkarte Sicherheit auf der Registerkarte Sicherheit auf der Registerkarte Sicherheit auf der Registerkarte **Sicherheit** die Einstellung</span><span class="sxs-lookup"><span data-stu-id="ceab1-127">COM+ queued components runs over DCOM, so you can help protect the integrity and secrecy of queued method calls by selecting **Packet Privacy** as the **Authentication Level of Calls** setting on the **Security** tab of your queued application's **Properties** sheet.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ceab1-128">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ceab1-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ceab1-129">Com+-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="ceab1-129">COM+ Security</span></span>](com--security.md)
</dt> <dt>

[<span data-ttu-id="ceab1-130">Sicherheitseinschränkungen im Arbeitsgruppen Modus</span><span class="sxs-lookup"><span data-stu-id="ceab1-130">Security Limitations in Workgroup Mode</span></span>](security-limitations-in-workgroup-mode.md)
</dt> <dt>

[<span data-ttu-id="ceab1-131">Angeben des Authentifizierungs Protokolls</span><span class="sxs-lookup"><span data-stu-id="ceab1-131">Specifying the Authentication Protocol</span></span>](specifying-the-authentication-protocol.md)
</dt> </dl>

 

 



