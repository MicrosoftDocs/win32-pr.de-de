---
title: Bluetooth und wsalookupservicebegin für die Dienst Ermittlung
description: Um zu ermitteln, ob ein bestimmter Dienst auf einem Bluetooth-Server vorhanden ist, verwenden Clients die Funktionen wsalookupservicebegin, WSALookupServiceNext und WSALookupServiceEnd.
ms.assetid: d9961600-cdca-42ec-92eb-118b8186ed2e
keywords:
- Bluetooth und wsalookupservicebegin für die Dienst Ermittlung Bluetooth
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 274b3beb3de7683bd43a0f99350db6e1a347f51e
ms.sourcegitcommit: ae73f4dd3cf5a3c6a1ea7d191ca32a5b01f6686b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/08/2020
ms.locfileid: "103858525"
---
# <a name="bluetooth-and-wsalookupservicebegin-for-service-discovery"></a><span data-ttu-id="69bf4-104">Bluetooth und wsalookupservicebegin für die Dienst Ermittlung</span><span class="sxs-lookup"><span data-stu-id="69bf4-104">Bluetooth and WSALookupServiceBegin for Service Discovery</span></span>

<span data-ttu-id="69bf4-105">Um zu ermitteln, ob ein bestimmter Dienst auf einem Bluetooth-Server vorhanden ist, verwenden Clients die Funktionen [**wsalookupservicebegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina), [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta)und [**WSALookupServiceEnd**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupserviceend) .</span><span class="sxs-lookup"><span data-stu-id="69bf4-105">To discover the existence of a particular service on a Bluetooth server, clients use the [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina), [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta), and [**WSALookupServiceEnd**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupserviceend) functions.</span></span> <span data-ttu-id="69bf4-106">Abfragen können für lokale und Remote Adressen ausgeführt werden, aber Verbindungen können nur mit Remote Adressen hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-106">Queries can be performed for local and remote addresses, but connections can only be established with remote addresses.</span></span> <span data-ttu-id="69bf4-107">Während dieses Vorgangs erkannte Dienst Handles können nicht verwendet werden, um den Dienst über [**wsasetservice**](/windows/desktop/api/winsock2/nf-winsock2-wsasetservicea)zu löschen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-107">Service handles discovered during this operation cannot be used to delete the service via [**WSASetService**](/windows/desktop/api/winsock2/nf-winsock2-wsasetservicea).</span></span> <span data-ttu-id="69bf4-108">Loopback wird von RFCOMM nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="69bf4-108">Loopback is not supported by RFCOMM.</span></span>

<span data-ttu-id="69bf4-109">Es können zwei grundlegende Arten von Service Discovery-Abfragen ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="69bf4-109">Two basic types of service discovery queries can be performed:</span></span>

-   <span data-ttu-id="69bf4-110">Abfragen für einen oder mehrere Dienste auf dem lokalen Gerät</span><span class="sxs-lookup"><span data-stu-id="69bf4-110">Queries for one or more services on the local device</span></span>
-   <span data-ttu-id="69bf4-111">Abfragen für einen oder mehrere Dienste auf einem angegebenen peergerät</span><span class="sxs-lookup"><span data-stu-id="69bf4-111">Queries for one or more services on a specified peer device</span></span>

<span data-ttu-id="69bf4-112">Die [**wsalookupservicebegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) -Funktion empfängt eine [**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur im *lpqsrestrictions* -Parameter.</span><span class="sxs-lookup"><span data-stu-id="69bf4-112">The [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) function receives a [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure in its *lpqsRestrictions* parameter.</span></span> <span data-ttu-id="69bf4-113">**Wsalookupservicebegin** führt eine Client Abfrage basierend auf dem Satz von Such Einschränkungen aus, die das **wsaqueryset** enthält.</span><span class="sxs-lookup"><span data-stu-id="69bf4-113">**WSALookupServiceBegin** performs a client query based on the set of search restrictions that the **WSAQUERYSET** contains.</span></span> <span data-ttu-id="69bf4-114">Bluetooth-Clients müssen die in der folgenden Tabelle aufgeführten Einschränkungen in der **wsaqueryset** -Struktur angeben, wenn Sie die **wsalookupservicebegin** -Funktion verwenden, um Dienste abzufragen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-114">Bluetooth clients must specify the restrictions, listed in the following table, in the **WSAQUERYSET** structure when using the **WSALookupServiceBegin** function to query for services.</span></span>



| <span data-ttu-id="69bf4-115">Wsaqueryset-Member</span><span class="sxs-lookup"><span data-stu-id="69bf4-115">WSAQUERYSET member</span></span>    | <span data-ttu-id="69bf4-116">Einschränkung</span><span class="sxs-lookup"><span data-stu-id="69bf4-116">Restriction</span></span>                                                                                                                                                                                                                                                                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="69bf4-117">**dwSize**</span><span class="sxs-lookup"><span data-stu-id="69bf4-117">**dwSize**</span></span>            | <span data-ttu-id="69bf4-118">Auf **sizeof**([**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="69bf4-118">Set to **sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)).</span></span>                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="69bf4-119">**lpserviceclassid**</span><span class="sxs-lookup"><span data-stu-id="69bf4-119">**lpServiceClassId**</span></span>  | <span data-ttu-id="69bf4-120">Legen Sie auf die spezifischere Bluetooth-UUID fest, die verwendet werden kann, um den Abfrage Bereich zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-120">Set to the most specific Bluetooth UUID that can be used to determine the scope of the query.</span></span> <span data-ttu-id="69bf4-121">Wenn Sie z. **b. lpserviceclassid** auf die UUID des L2CAP-Protokolls festlegen, werden alle L2CAP-Dienste zurückgegeben, wobei im Grunde alle SD-Datensätze auf dem Ziel aufgelistet werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-121">For example, setting **lpServiceClassId** to the UUID of the L2CAP protocol results in all L2CAP services returned, essentially enumerating all SD records on the target.</span></span> <span data-ttu-id="69bf4-122">Wenn Sie die UUID auf einen bestimmten Dienst festlegen, werden jedoch nur die Instanzen dieses Dienstanbieter zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="69bf4-122">Setting the UUID to a specific service, however, returns only the instances of that service.</span></span><br/> |
| <span data-ttu-id="69bf4-123">**dwnamespace**</span><span class="sxs-lookup"><span data-stu-id="69bf4-123">**dwNameSpace**</span></span>       | <span data-ttu-id="69bf4-124">Legen Sie auf **NS- \_ BTH** fest.</span><span class="sxs-lookup"><span data-stu-id="69bf4-124">Set to **NS\_BTH**.</span></span>                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="69bf4-125">**dwnumofcsaddrs**</span><span class="sxs-lookup"><span data-stu-id="69bf4-125">**dwNumberOfCsAddrs**</span></span> | <span data-ttu-id="69bf4-126">Auf 0 festlegen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-126">Set to 0.</span></span>                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="69bf4-127">**lpszcontext**</span><span class="sxs-lookup"><span data-stu-id="69bf4-127">**lpszContext**</span></span>       | <span data-ttu-id="69bf4-128">Legen Sie auf die Bluetooth-Geräteadresse fest, mit der eine SDP-Verbindung hergestellt werden soll, um die Abfrage der Dienste auszuführen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-128">Set to the Bluetooth Device Address with which to establish an SDP connection to perform the query of services.</span></span> <span data-ttu-id="69bf4-129">Dieser Member muss eine Zeichenfolge sein, die mithilfe der [**wsaadresssstostring**](/windows/desktop/api/winsock2/nf-winsock2-wsaaddresstostringa) -Funktion konvertiert wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-129">This member must be a string that is converted by using the [**WSAAddressToString**](/windows/desktop/api/winsock2/nf-winsock2-wsaaddresstostringa) function.</span></span> <span data-ttu-id="69bf4-130">Wenn die lokale Radio Adresse angegeben wird, werden die lokalen SDP-Datensätze durchsucht.</span><span class="sxs-lookup"><span data-stu-id="69bf4-130">If the local radio address is supplied, the local SDP records are searched.</span></span><br/>                                             |
| <span data-ttu-id="69bf4-131">Andere Member</span><span class="sxs-lookup"><span data-stu-id="69bf4-131">Other members</span></span>         | <span data-ttu-id="69bf4-132">Alle anderen [**Member der wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="69bf4-132">All other members of the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure are ignored.</span></span>                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="69bf4-133">Die SDP-Verbindung mit dem Remote Gerät bleibt nach Abschluss einer Dienst [](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) Abfrage nicht mehr aktiv. die Verbindung wird beendet, bevor **wsalookupservicebegin** zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-133">The SDP connection to the remote device does not remain active after the [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) function completes a service query; the connection is terminated before **WSALookupServiceBegin** returns.</span></span> <span data-ttu-id="69bf4-134">Anwendungen, die erfordern, dass die SDP-Verbindung aktiv bleibt, nachdem eine Dienst Abfrage abgeschlossen ist, sollten die Dienstklasse UUID angeben, mit der eine Verbindung hergestellt werden soll, indem der **serviceclassid-** Member der [**sockaddr- \_ BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) -Struktur beim Ausgeben des Windows Sockets [**Connect**](/windows/desktop/api/winsock2/nf-winsock2-connect) -Funktionsaufruf</span><span class="sxs-lookup"><span data-stu-id="69bf4-134">Applications that require the SDP connection to remain active after a service query completes should specify the service class UUID to which to connect by using the **serviceClassId** member of the [**SOCKADDR\_BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) structure when issuing the Windows Sockets [**connect**](/windows/desktop/api/winsock2/nf-winsock2-connect) function call.</span></span>

<span data-ttu-id="69bf4-135">Die in der folgenden Tabelle aufgeführten Flags werden im *dwcontrolflags* -Parameter der [**wsalookupservicebegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) -Funktion und der [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) -Funktion verwendet, um die Abfrageergebnisse zu steuern.</span><span class="sxs-lookup"><span data-stu-id="69bf4-135">The flags, listed in the following table, are used in the *dwControlFlags* parameter of the [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) and [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) functions to control the query results.</span></span> <span data-ttu-id="69bf4-136">Die Flags " **Lup \_ Containers** " und " **Lup \_ flushcache** " werden von der **wsalookupservicebegin** -Funktion verwendet. die restlichen Flags werden bei Aufrufen der **WSALookupServiceNext** -Funktion verwendet.</span><span class="sxs-lookup"><span data-stu-id="69bf4-136">The **LUP\_CONTAINERS** and **LUP\_FLUSHCACHE** flags are used by the **WSALookupServiceBegin** function; the rest of the flags are used in calls to the **WSALookupServiceNext** function.</span></span>

<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="69bf4-137">Flag</span><span class="sxs-lookup"><span data-stu-id="69bf4-137">Flag</span></span></th>
<th><span data-ttu-id="69bf4-138">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="69bf4-138">Result</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="69bf4-139"><strong>LUP_CONTAINERS</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-139"><strong>LUP_CONTAINERS</strong></span></span></td>
<td><span data-ttu-id="69bf4-140">Darf nicht festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-140">Must not be set.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="69bf4-141"><strong>LUP_FLUSHCACHE</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-141"><strong>LUP_FLUSHCACHE</strong></span></span></td>
<td><span data-ttu-id="69bf4-142">Anwendungen sollten im allgemeinen <strong>LUP_FLUSHCACHE</strong>angeben.</span><span class="sxs-lookup"><span data-stu-id="69bf4-142">Applications should generally specify <strong>LUP_FLUSHCACHE</strong>.</span></span> <span data-ttu-id="69bf4-143">Dieses Flag weist das System an, alle zwischengespeicherten Informationen zu ignorieren und eine über-Air-SDP-Verbindung mit dem angegebenen Gerät herzustellen, um die SDP-Suche auszuführen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-143">This flag instructs the system to ignore any cached information and establish an over-the-air SDP connection to the specified device to perform the SDP search.</span></span> <span data-ttu-id="69bf4-144">Dieser nicht zwischengespeicherte Vorgang kann mehrere Sekunden dauern (während eine zwischengespeicherte Suche schnell zurückgegeben wird).</span><span class="sxs-lookup"><span data-stu-id="69bf4-144">This non-cached operation may take several seconds (whereas a cached search returns quickly).</span></span> <span data-ttu-id="69bf4-145">Bluetooth speichert SDP-Einträge derzeit nicht proaktiv von Geräten in der Nähe, und es werden zurzeit keine früheren Abfragen zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="69bf4-145">Bluetooth currently does not proactively cache SDP records from nearby devices, nor does it currently aggressively cache previous queries.</span></span> <span data-ttu-id="69bf4-146">Daher sollten Sie davon ausgehen, dass Abfragen möglicherweise keine Ergebnisse zurückgeben (mit dem Fehlercode <strong>WSASERVICE_NOT_FOUND</strong>), wenn <strong>LUP_FLUSHCACHE</strong> nicht angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="69bf4-146">Therefore, applications should anticipate that queries may return no results (with an error code of <strong>WSASERVICE_NOT_FOUND</strong>) if <strong>LUP_FLUSHCACHE</strong> is not specified.</span></span> <span data-ttu-id="69bf4-147">Die zwischengespeicherten Daten, die über die Windows Sockets-Schnittstelle verfügbar sind, können in Zukunft verbessert werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-147">The cached data that is available by using the Windows Sockets interface may be enhanced in the future.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="69bf4-148"><strong>LUP_RES_SERVICE</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-148"><strong>LUP_RES_SERVICE</strong></span></span></td>
<td><span data-ttu-id="69bf4-149">Gibt Informationen zur lokalen Bluetooth-Adresse zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-149">Return information about the local Bluetooth address.</span></span> <span data-ttu-id="69bf4-150">Dieses Flag hat nur dann Auswirkungen, wenn <strong>LUP_RETURN_ADDR</strong> ebenfalls angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="69bf4-150">This flag has an effect only if <strong>LUP_RETURN_ADDR</strong> is also specified.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="69bf4-151"><strong>LUP_RETURN_NAME</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-151"><strong>LUP_RETURN_NAME</strong></span></span></td>
<td><span data-ttu-id="69bf4-152">Gibt den anzeigen amen des <strong>Dienstanbieter im lpszserviceinstancename</strong> -Member der <a href="/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw"><strong>wsaqueryset</strong></a> -Struktur für jeden Aufrufen der <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a> -Funktion zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-152">Return the display name of the service in the <strong>lpszServiceInstanceName</strong> member of the <a href="/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw"><strong>WSAQUERYSET</strong></a> structure for each call to the <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a> function.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="69bf4-153"><strong>LUP_RETURN_TYPE</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-153"><strong>LUP_RETURN_TYPE</strong></span></span></td>
<td><span data-ttu-id="69bf4-154">Gibt die Dienst Klassen-ID im <strong>lpserviceclassid-</strong> Member der <a href="/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw"><strong>wsaqueryset</strong></a> -Struktur zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-154">Return the service class ID in the <strong>lpServiceClassId</strong> member of the <a href="/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw"><strong>WSAQUERYSET</strong></a> structure.</span></span>
<blockquote>
[!Note]<br />
<span data-ttu-id="69bf4-155">Die Verwendung dieses Flags gilt nur für die <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina"><strong>wsalookupservicebegin</strong></a> -Funktion.</span><span class="sxs-lookup"><span data-stu-id="69bf4-155">Use of this flag is only applicable to the <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina"><strong>WSALookupServiceBegin</strong></a> function.</span></span> <span data-ttu-id="69bf4-156">Dieser Wert ist für <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a>immer 0 (null).</span><span class="sxs-lookup"><span data-stu-id="69bf4-156">This value is always zero for <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a>.</span></span>
</blockquote>
<br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="69bf4-157"><strong>LUP_RETURN_ADDR</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-157"><strong>LUP_RETURN_ADDR</strong></span></span></td>
<td><span data-ttu-id="69bf4-158">Gibt eine Adresse im <strong>lpcsabuffer</strong> -Member zurück, die mit <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>Verbindungs</strong></a> Funktionsaufrufen verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="69bf4-158">Return an address in the <strong>lpcsaBuffer</strong> member to be used with <a href="/windows/desktop/api/winsock2/nf-winsock2-connect"><strong>connect</strong></a> function calls.</span></span> <span data-ttu-id="69bf4-159">Die zurückgegebene Adresse enthält die Portnummer.</span><span class="sxs-lookup"><span data-stu-id="69bf4-159">The returned address contains the port number.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="69bf4-160"><strong>LUP_RETURN_BLOB</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-160"><strong>LUP_RETURN_BLOB</strong></span></span></td>
<td><span data-ttu-id="69bf4-161">Gibt die übereinstimmenden SD-Einträge im <strong>lpblob</strong> -Member zurück, die gemäß der Bluetooth-SDP-Daten Satz Spezifikation formatiert sind.</span><span class="sxs-lookup"><span data-stu-id="69bf4-161">Return the matching SD records in the <strong>lpBlob</strong> member, formatted according to the Bluetooth SDP record specification.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="69bf4-162"><strong>LUP_RETURN_ALL</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-162"><strong>LUP_RETURN_ALL</strong></span></span></td>
<td><span data-ttu-id="69bf4-163">Gibt alle obigen Flags-Informationen zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-163">Return all of the above flags' information.</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="69bf4-164"><strong>LUP_RETURN_COMMENT</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-164"><strong>LUP_RETURN_COMMENT</strong></span></span></td>
<td><span data-ttu-id="69bf4-165">Geben Sie die Dienst Beschreibung im <strong>lpszcomment</strong> -Member der <a href="/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw"><strong>wsaqueryset</strong></a> -Struktur für jeden Aufrufe der <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a> -Funktion zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-165">Return the service description in the <strong>lpszComment</strong> member of the <a href="/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw"><strong>WSAQUERYSET</strong></a> structure for each call to the <a href="/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta"><strong>WSALookupServiceNext</strong></a> function.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="69bf4-166"><strong>LUP_FLUSHPREVIOUS</strong></span><span class="sxs-lookup"><span data-stu-id="69bf4-166"><strong>LUP_FLUSHPREVIOUS</strong></span></span></td>
<td><span data-ttu-id="69bf4-167">Überspringen Sie den nächsten verfügbaren Datensatz, und geben Sie den darauf folgenden Datensatz zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-167">Skip the next available record, and return the record that follows it.</span></span></td>
</tr>
</tbody>
</table>



 

## <a name="advanced-service-queries"></a><span data-ttu-id="69bf4-168">Erweiterte Dienst Abfragen</span><span class="sxs-lookup"><span data-stu-id="69bf4-168">Advanced Service Queries</span></span>

<span data-ttu-id="69bf4-169">Die Abfrage Vorgänge, die im vorherigen Abschnitt beschrieben werden, können verwendet werden, um alle Ergebnisse einer einzelnen GUID zurückzugeben, die für die meisten Anwendungen ausreichend sein sollten.</span><span class="sxs-lookup"><span data-stu-id="69bf4-169">The query operations that are described in the previous section can be used to return all results from a single GUID, which should be sufficient for most applications.</span></span> <span data-ttu-id="69bf4-170">Eine erweiterte Abfrage ermöglicht einer Anwendung, eine spezifischere Abfrage zu erstellen. Es bietet die Möglichkeit, UUIDs und Attribute in zurückgegebenen Informationen abzugleichen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-170">An advanced query enables an application to create a more specific query; it provides the capability to match UUIDs and attributes in returned information.</span></span>

<span data-ttu-id="69bf4-171">Zum Ausführen einer erweiterten Abfrage für-Dienste müssen Bluetooth-Clients die folgenden Einschränkungen in der [**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur angeben, die an den *lpqsrestrictions* -Parameter übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-171">To perform an advanced query for services, Bluetooth clients must specify the following restrictions in the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure that is passed into the *lpqsRestrictions* parameter.</span></span>



| <span data-ttu-id="69bf4-172">Wsaqueryset-Member</span><span class="sxs-lookup"><span data-stu-id="69bf4-172">WSAQUERYSET member</span></span>   | <span data-ttu-id="69bf4-173">Einschränkung</span><span class="sxs-lookup"><span data-stu-id="69bf4-173">Restriction</span></span>                                                                                                                                                                                                                                                                                                                         |
|----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="69bf4-174">**dwSize**</span><span class="sxs-lookup"><span data-stu-id="69bf4-174">**dwSize**</span></span>           | <span data-ttu-id="69bf4-175">Auf **sizeof**([**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="69bf4-175">Set to **sizeof**([**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)).</span></span>                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="69bf4-176">**lpszcontext**</span><span class="sxs-lookup"><span data-stu-id="69bf4-176">**lpszContext**</span></span>      | <span data-ttu-id="69bf4-177">Legen Sie auf die Bluetooth-Geräteadresse fest, mit der eine SDP-Verbindung hergestellt werden soll, um die Abfrage der Dienste auszuführen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-177">Set to the Bluetooth Device Address with which to establish an SDP connection to perform the query of services.</span></span> <span data-ttu-id="69bf4-178">Dieser Member muss eine Zeichenfolge sein, die mithilfe der [**wsaadresssstostring**](/windows/desktop/api/winsock2/nf-winsock2-wsaaddresstostringa) -Funktion konvertiert wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-178">This member must be a string that is converted by using the [**WSAAddressToString**](/windows/desktop/api/winsock2/nf-winsock2-wsaaddresstostringa) function.</span></span> <span data-ttu-id="69bf4-179">Wenn die lokale Radio Adresse angegeben wird, werden die lokalen SDP-Datensätze durchsucht.</span><span class="sxs-lookup"><span data-stu-id="69bf4-179">If the local radio address is supplied, the local SDP records are searched.</span></span><br/> |
| <span data-ttu-id="69bf4-180">**lpblob. pblobdata**</span><span class="sxs-lookup"><span data-stu-id="69bf4-180">**lpBlob.pBlobData**</span></span> | <span data-ttu-id="69bf4-181">Ein Zeiger auf eine [**BTH- \_ Abfrage \_ Dienst**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_service) Struktur, die alle Parameter enthält, die die Ergebnisse der Abfrage einschränken.</span><span class="sxs-lookup"><span data-stu-id="69bf4-181">Pointer to a [**BTH\_QUERY\_SERVICE**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_service) structure that contains all parameters that limit the results of the query.</span></span>                                                                                                                                                                                           |
| <span data-ttu-id="69bf4-182">**dwnamespace**</span><span class="sxs-lookup"><span data-stu-id="69bf4-182">**dwNameSpace**</span></span>      | <span data-ttu-id="69bf4-183">Legen Sie auf **NS- \_ BTH** fest.</span><span class="sxs-lookup"><span data-stu-id="69bf4-183">Set to **NS\_BTH**.</span></span>                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="69bf4-184">Andere Member</span><span class="sxs-lookup"><span data-stu-id="69bf4-184">Other members</span></span>        | <span data-ttu-id="69bf4-185">Alle anderen [**Member der wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="69bf4-185">All other members of the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure are ignored.</span></span>                                                                                                                                                                                                                                            |



 

<span data-ttu-id="69bf4-186">Die folgenden Flags werden im *dwcontrolflags* -Parameter von [**wsalookupservicebegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) übergeben, um die Ergebnisse einer erweiterten Abfrage zu steuern.</span><span class="sxs-lookup"><span data-stu-id="69bf4-186">The following flags are passed in the *dwControlFlags* parameter of [**WSALookupServiceBegin**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina) to control the results of an advanced query.</span></span>

| <span data-ttu-id="69bf4-187">Flag</span><span class="sxs-lookup"><span data-stu-id="69bf4-187">Flag</span></span>                     | <span data-ttu-id="69bf4-188">Ergebnis</span><span class="sxs-lookup"><span data-stu-id="69bf4-188">Result</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|--------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="69bf4-189">**\_lupcontainer**</span><span class="sxs-lookup"><span data-stu-id="69bf4-189">**LUP\_CONTAINERS**</span></span>      | <span data-ttu-id="69bf4-190">Darf nicht festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-190">Must not be set.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="69bf4-191">**\_leeren von flushcache**</span><span class="sxs-lookup"><span data-stu-id="69bf4-191">**LUP\_FLUSHCACHE**</span></span>      | <span data-ttu-id="69bf4-192">Anwendungen sollten in der Regel **Lup \_ flushcache** angeben.</span><span class="sxs-lookup"><span data-stu-id="69bf4-192">Applications should generally specify **LUP\_FLUSHCACHE**.</span></span> <span data-ttu-id="69bf4-193">Dieses Flag weist das System an, alle zwischengespeicherten Informationen zu ignorieren und eine über-Air-SDP-Verbindung mit dem angegebenen Gerät herzustellen, um die SDP-Suche auszuführen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-193">This flag instructs the system to ignore any cached information and establish an over-the-air SDP connection to the specified device to perform the SDP search.</span></span> <span data-ttu-id="69bf4-194">Dieser nicht zwischengespeicherte Vorgang kann mehrere Sekunden dauern (während eine zwischengespeicherte Suche schnell zurückgegeben wird).</span><span class="sxs-lookup"><span data-stu-id="69bf4-194">This non-cached operation may take several seconds (whereas a cached search returns quickly).</span></span> <span data-ttu-id="69bf4-195">Bluetooth speichert SDP-Einträge nicht proaktiv von Geräten in der Nähe zwischen und führt auch keine aggressive Zwischenspeicherung vorheriger Abfragen aus.</span><span class="sxs-lookup"><span data-stu-id="69bf4-195">Bluetooth does not proactively cache SDP records from nearby devices, nor does it aggressively cache previous queries.</span></span> <span data-ttu-id="69bf4-196">Daher sollten Anwendungen erwarten, dass Abfragen häufig keine Ergebnisse zurückgeben (**wsaservice \_ nicht \_ gefunden**), wenn " **Lup \_ flushcache** " nicht angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="69bf4-196">Therefore applications should expect that queries may frequently return no results (**WSASERVICE\_NOT\_FOUND**) if **LUP\_FLUSHCACHE** is not specified.</span></span> <span data-ttu-id="69bf4-197">Die zwischengespeicherten Daten, die über die Windows Sockets-Schnittstelle verfügbar sind, können in Zukunft verbessert werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-197">The cached data that is available by using the Windows Sockets interface may be enhanced in the future.</span></span> |
| <span data-ttu-id="69bf4-198">**Lup \_ Res- \_ Dienst**</span><span class="sxs-lookup"><span data-stu-id="69bf4-198">**LUP\_RES\_SERVICE**</span></span>    | <span data-ttu-id="69bf4-199">Gibt Informationen für die lokale Bluetooth-Adresse zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-199">Return information for the local Bluetooth Address.</span></span> <span data-ttu-id="69bf4-200">Das Festlegen dieses Flags hat nur Auswirkungen, wenn " **Lup \_ Return \_ addrr** " ebenfalls angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-200">Setting this flag has an effect only if **LUP\_RETURN\_ADDRR** is also specified.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="69bf4-201">**Name der Lup- \_ Rückgabe \_**</span><span class="sxs-lookup"><span data-stu-id="69bf4-201">**LUP\_RETURN\_NAME**</span></span>    | <span data-ttu-id="69bf4-202">Gibt den anzeigen amen des Dienstanbieter zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-202">Return the display name of the service.</span></span> <span data-ttu-id="69bf4-203">Dieses Flag wird bei der **\_ \_ Suche nach \_ dem SDP-Dienst** ignoriert.</span><span class="sxs-lookup"><span data-stu-id="69bf4-203">This flag is ignored for **SDP\_SERVICE\_SEARCH\_REQUEST**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="69bf4-204">**- \_ \_ Rückgabetyp**</span><span class="sxs-lookup"><span data-stu-id="69bf4-204">**LUP\_RETURN\_TYPE**</span></span>    | <span data-ttu-id="69bf4-205">Gibt die Dienst Klassen-ID zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-205">Return the service class ID.</span></span> <span data-ttu-id="69bf4-206">Dieses Flag wird bei der **\_ \_ Suche nach \_ dem SDP-Dienst** ignoriert.</span><span class="sxs-lookup"><span data-stu-id="69bf4-206">This flag is ignored for **SDP\_SERVICE\_SEARCH\_REQUEST**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="69bf4-207">**Lup \_ Return \_ addr**</span><span class="sxs-lookup"><span data-stu-id="69bf4-207">**LUP\_RETURN\_ADDR**</span></span>    | <span data-ttu-id="69bf4-208">Gibt eine Adresse im **lpcsabuffer** -Member zurück, die mit [**Verbindungs**](/windows/desktop/api/winsock2/nf-winsock2-connect) Funktionsaufrufen verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="69bf4-208">Return an address in the **lpcsaBuffer** member to be used with [**connect**](/windows/desktop/api/winsock2/nf-winsock2-connect) function calls.</span></span> <span data-ttu-id="69bf4-209">Die zurückgegebene Adresse enthält die Portnummer.</span><span class="sxs-lookup"><span data-stu-id="69bf4-209">The returned address contains the port number.</span></span> <span data-ttu-id="69bf4-210">Dieses Flag wird bei der **\_ \_ Suche nach \_ dem SDP-Dienst** ignoriert.</span><span class="sxs-lookup"><span data-stu-id="69bf4-210">This flag is ignored for **SDP\_SERVICE\_SEARCH\_REQUEST**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="69bf4-211">**Lup- \_ Rückgabe- \_ BLOB**</span><span class="sxs-lookup"><span data-stu-id="69bf4-211">**LUP\_RETURN\_BLOB**</span></span>    | <span data-ttu-id="69bf4-212">Gibt die übereinstimmenden SD-Einträge in einem Format zurück, das der Bluetooth-SDP-Daten Satz Spezifikation entspricht.</span><span class="sxs-lookup"><span data-stu-id="69bf4-212">Return the matching SD records in a format that conforms to the Bluetooth SDP record specification.</span></span> <span data-ttu-id="69bf4-213">Bei der **Such Anforderung des SDP- \_ \_ dienstantrags \_** ist das Ergebnis in **lpblob** für den nachfolgenden [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) -Befehl ein Array von Bluetooth-SDP-Handles.</span><span class="sxs-lookup"><span data-stu-id="69bf4-213">For **SDP\_SERVICE\_SEARCH\_REQUEST**, the result in **lpBlob** for the subsequent call to [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) is an array of Bluetooth SDP handles.</span></span> <span data-ttu-id="69bf4-214">Für die Anforderung des **SDP- \_ Dienst \_ Attributs \_** und des **SDP- \_ Dienst \_ Such \_ Attributs \_** ist das Ergebnis für jeden nachfolgenden **WSALookupServiceNext** -Befehl ein binärer Bluetooth-SDP-Datensatz, dessen Attribute auf die Attribute beschränkt sind, die vom **Prange** -Member der Abfrage angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-214">For **SDP\_SERVICE\_ATTRIBUTE\_REQUEST** and **SDP\_SERVICE\_SEARCH\_ATTRIBUTE\_REQUEST**, the result for each subsequent call to **WSALookupServiceNext** is a binary Bluetooth SDP record whose attributes are restricted to those specified by the **pRange** member of the query.</span></span> <span data-ttu-id="69bf4-215">Dieses Flag ist für die **Anforderung der SDP- \_ Dienst \_ \_ Suche** erforderlich.</span><span class="sxs-lookup"><span data-stu-id="69bf4-215">This flag is required for **SDP\_SERVICE\_SEARCH\_REQUEST**.</span></span>                                                               |
| <span data-ttu-id="69bf4-216">**Lup- \_ Rückgabe \_ Kommentar**</span><span class="sxs-lookup"><span data-stu-id="69bf4-216">**LUP\_RETURN\_COMMENT**</span></span> | <span data-ttu-id="69bf4-217">Geben Sie die Dienst Beschreibung im **lpszcomment** -Member der [**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur für jeden Aufrufe der [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) -Funktion zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-217">Return the service description in the **lpszComment** member of the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure for each call to the [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) function.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="69bf4-218">**Lup- \_ flushprevious**</span><span class="sxs-lookup"><span data-stu-id="69bf4-218">**LUP\_FLUSHPREVIOUS**</span></span>   | <span data-ttu-id="69bf4-219">Überspringen Sie den nächsten verfügbaren Datensatz, und geben Sie den darauf folgenden Datensatz zurück.</span><span class="sxs-lookup"><span data-stu-id="69bf4-219">Skip the next available record, and return the record that follows it.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |



 

<span data-ttu-id="69bf4-220">Bei der Eingabe verweist **lpblob** -> **pblobdata** auf eine [**BTH- \_ Abfrage \_ Dienst**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_service) Struktur, die die in der folgenden Tabelle aufgeführten Werte enthält.</span><span class="sxs-lookup"><span data-stu-id="69bf4-220">On input, **lpBlob**->**pBlobData** points to a [**BTH\_QUERY\_SERVICE**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_service) structure that contains the values listed in the following table.</span></span>

> [!Note]  
> <span data-ttu-id="69bf4-221">Die anfängliche Such Anforderung muss in ein L2CAP-Paket eingefügt werden können.</span><span class="sxs-lookup"><span data-stu-id="69bf4-221">The initial search request must be able to fit into one L2CAP packet.</span></span> <span data-ttu-id="69bf4-222">Die Antwort kann jedoch in viele L2CAP Pakete aufgeteilt werden.</span><span class="sxs-lookup"><span data-stu-id="69bf4-222">The response, however, may be broken into many L2CAP packets.</span></span>

 



| <span data-ttu-id="69bf4-223">Member</span><span class="sxs-lookup"><span data-stu-id="69bf4-223">Member</span></span>            | <span data-ttu-id="69bf4-224">Wert</span><span class="sxs-lookup"><span data-stu-id="69bf4-224">Value</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|-------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="69bf4-225">**type**</span><span class="sxs-lookup"><span data-stu-id="69bf4-225">**type**</span></span>          | <span data-ttu-id="69bf4-226">Der Typ der durchzuführenden Suche.</span><span class="sxs-lookup"><span data-stu-id="69bf4-226">Type of search to perform.</span></span> <span data-ttu-id="69bf4-227">Bei diesem Wert kann es sich um eine **SDP- \_ Dienst \_ Such \_ Anforderung**, eine **SDP- \_ Dienst \_ Attribut \_ Anforderung** oder eine **Anforderung des SDP- \_ Dienst \_ Such \_ Attributs \_** handeln.</span><span class="sxs-lookup"><span data-stu-id="69bf4-227">This value can be one of **SDP\_SERVICE\_SEARCH\_REQUEST**, **SDP\_SERVICE\_ATTRIBUTE\_REQUEST**, or **SDP\_SERVICE\_SEARCH\_ATTRIBUTE\_REQUEST**.</span></span> <span data-ttu-id="69bf4-228">Jeder Suchtyp ist mit einem zugrunde liegenden Suchmechanismus verknüpft, der durch die Bluetooth-SDP-Spezifikation definiert wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-228">Each search type is associated with an underlying search mechanism that is defined by the Bluetooth SDP specification.</span></span> <span data-ttu-id="69bf4-229">Jede Rückgabe ergibt sich in der Form, die von der zuvor in diesem Abschnitt (Advanced Service Queries) definierten [**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-229">Each return results in the form described by the [**WSAQUERYSET**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) structure that is defined earlier in this (Advanced Service Queries) section.</span></span> |
| <span data-ttu-id="69bf4-230">**ServiceHandle**</span><span class="sxs-lookup"><span data-stu-id="69bf4-230">**serviceHandle**</span></span> | <span data-ttu-id="69bf4-231">Wird für Attribut suchen verwendet.</span><span class="sxs-lookup"><span data-stu-id="69bf4-231">Used for attribute searches.</span></span> <span data-ttu-id="69bf4-232">Dieser Wert gibt das Dienst Handle an, mit dem die Attribute im **Prange** -Member abgefragt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-232">This value specifies the service handle with which to query the attributes in the **pRange** member.</span></span>                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="69bf4-233">**UUIDs**</span><span class="sxs-lookup"><span data-stu-id="69bf4-233">**uuids**</span></span>         | <span data-ttu-id="69bf4-234">Wird für Dienst-und Service **Attribute** -suchen verwendet.</span><span class="sxs-lookup"><span data-stu-id="69bf4-234">Used for service and **serviceAttribute** searches.</span></span> <span data-ttu-id="69bf4-235">Dieser Wert gibt die UUIDs an, die ein Datensatz enthalten muss, damit er mit der Suche identisch ist.</span><span class="sxs-lookup"><span data-stu-id="69bf4-235">This value specifies the UUIDs that a record must contain to match the search.</span></span> <span data-ttu-id="69bf4-236">Wenn weniger als die **maximalen \_ UUIDs \_ in den \_ Abfrage** -UUIDs abgefragt werden sollen, legt dieser Wert das sdpqueryuuid-Element fest, das direkt der letzten gültigen UUID auf alle Nullen folgt.</span><span class="sxs-lookup"><span data-stu-id="69bf4-236">If less than **MAX\_UUIDS\_IN\_QUERY** UUIDs are to be queried, this value sets the SdpQueryUuid element that immediately follows the last valid UUID to all zeros.</span></span>                                                                                                                                                                       |
| <span data-ttu-id="69bf4-237">**numrange**</span><span class="sxs-lookup"><span data-stu-id="69bf4-237">**numRange**</span></span>      | <span data-ttu-id="69bf4-238">Wird für Attribut-und **Service Attribute** -suchen verwendet.</span><span class="sxs-lookup"><span data-stu-id="69bf4-238">Used for attribute and **serviceAttribute** searches.</span></span> <span data-ttu-id="69bf4-239">Dieser Wert gibt die Anzahl der Elemente in **Prange** an.</span><span class="sxs-lookup"><span data-stu-id="69bf4-239">This value specifies the number of elements in **pRange**.</span></span>                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="69bf4-240">**Prange**</span><span class="sxs-lookup"><span data-stu-id="69bf4-240">**pRange**</span></span>        | <span data-ttu-id="69bf4-241">Wird für Attribut-und **Service Attribute** -suchen verwendet.</span><span class="sxs-lookup"><span data-stu-id="69bf4-241">Used for attribute and **serviceAttribute** searches.</span></span> <span data-ttu-id="69bf4-242">Dieser Wert gibt die Attributwerte an, die für übereinstimmende Datensätze abgerufen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="69bf4-242">This value specifies the attribute values to retrieve for any matching records.</span></span>                                                                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="69bf4-243">Nach jedem erfolgreichen Aufrufe der [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) -Funktion verweist **lpblob** -> **pblobdata** auf einen Datenblock, der die in der folgenden Tabelle aufgeführten Werte enthält.</span><span class="sxs-lookup"><span data-stu-id="69bf4-243">After each successful call to the [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) function, **lpBlob**->**pBlobData** points to a block of data that contains the values listed in the following table.</span></span>

| <span data-ttu-id="69bf4-244">Wert</span><span class="sxs-lookup"><span data-stu-id="69bf4-244">Value</span></span>                                                                                | <span data-ttu-id="69bf4-245">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="69bf4-245">Description</span></span>                                                                                                                                                                                                                                                                                                                                          |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="69bf4-246">**SDP- \_ Dienst \_ Such \_ Anforderung**</span><span class="sxs-lookup"><span data-stu-id="69bf4-246">**SDP\_SERVICE\_SEARCH\_REQUEST**</span></span>                                                    | <span data-ttu-id="69bf4-247">Ein Array von SDP-Daten Satz Handles, das mit der **servicerecordhandlelist** identisch ist, die von Bluetooth 1,1 SDP 4.5.2 definiert wird.</span><span class="sxs-lookup"><span data-stu-id="69bf4-247">An array of SDP record handles that is identical to the **ServiceRecordHandleList** defined by Bluetooth 1.1 SDP 4.5.2.</span></span> <span data-ttu-id="69bf4-248">Die Anzahl der zurückgegebenen SDP-Handles wird durch (**lpblob**->CBSIZE)/**sizeof**(ULONG) berechnet.</span><span class="sxs-lookup"><span data-stu-id="69bf4-248">The number of SDP handles that is returned is calculated by (**lpBlob**->cbSize)/**sizeof**(ULONG).</span></span> <span data-ttu-id="69bf4-249">Alle Ergebnisse werden in einem einzelnen Rückruf der [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) -Funktion zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="69bf4-249">All results are returned in a single call to the [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) function.</span></span> |
| <span data-ttu-id="69bf4-250">**SDP \_ Anforderung von Dienst \_ Attribut \_ Anforderung** oder **SDP- \_ Dienst \_ Such \_ Attribut \_**</span><span class="sxs-lookup"><span data-stu-id="69bf4-250">**SDP\_SERVICE\_ATTRIBUTE\_REQUEST** or **SDP\_SERVICE\_SEARCH\_ATTRIBUTE\_REQUEST**</span></span> | <span data-ttu-id="69bf4-251">Ein binärer Bluetooth-SDP-Datensatz.</span><span class="sxs-lookup"><span data-stu-id="69bf4-251">A binary Bluetooth SDP record.</span></span> <span data-ttu-id="69bf4-252">Bei der **Anforderung des SDP- \_ Dienst \_ Attributs \_** werden alle Ergebnisse in einem einzelnen Befehl der [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) -Funktion zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="69bf4-252">For **SDP\_SERVICE\_ATTRIBUTE\_REQUEST**, all results are returned in a single call to the [**WSALookupServiceNext**](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta) function.</span></span>                                                                                                                                                       |



 

> [!Note]  
> <span data-ttu-id="69bf4-253">Wenn das **lpblob** -Element während der Eingabe für eine Dienst Abfrage nicht angegeben wird, wird für den Dienst, der im **lpserviceclassid-** Member für Attribute von 0 bis 0xFFFF angegeben ist, eine Dienst-und Attribut Suche ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="69bf4-253">If the **lpBlob** member is not specified during input for a service query, a service and attribute search is performed for the service specified in the **lpServiceClassId** member on attributes from 0 through 0xFFFF.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="69bf4-254">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="69bf4-254">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="69bf4-255">Bluetooth und wsaqueryset für die Dienst Anfrage</span><span class="sxs-lookup"><span data-stu-id="69bf4-255">Bluetooth and WSAQUERYSET for Service Inquiry</span></span>](bluetooth-and-wsaqueryset-for-service-inquiry.md)
</dt> <dt>

[<span data-ttu-id="69bf4-256">Ermitteln von Bluetooth-Geräten und -Diensten</span><span class="sxs-lookup"><span data-stu-id="69bf4-256">Discovering Bluetooth Devices and Services</span></span>](discovering-bluetooth-devices-and-services.md)
</dt> <dt>

[<span data-ttu-id="69bf4-257">Bluetooth und WSALookupServiceNext</span><span class="sxs-lookup"><span data-stu-id="69bf4-257">Bluetooth and WSALookupServiceNext</span></span>](bluetooth-and-wsalookupservicenext.md)
</dt> <dt>

[<span data-ttu-id="69bf4-258">Bluetooth und wsalookupservicebegin für Geräte Anfrage</span><span class="sxs-lookup"><span data-stu-id="69bf4-258">Bluetooth and WSALookupServiceBegin for Device Inquiry</span></span>](bluetooth-and-wsalookupservicebegin-for-device-inquiry.md)
</dt> <dt>

[<span data-ttu-id="69bf4-259">**BTH- \_ Abfrage \_ Dienst**</span><span class="sxs-lookup"><span data-stu-id="69bf4-259">**BTH\_QUERY\_SERVICE**</span></span>](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_query_service)
</dt> <dt>

[<span data-ttu-id="69bf4-260">**herzustellen**</span><span class="sxs-lookup"><span data-stu-id="69bf4-260">**connect**</span></span>](/windows/desktop/api/winsock2/nf-winsock2-connect)
</dt> <dt>

[<span data-ttu-id="69bf4-261">**sockaddr- \_ BTH**</span><span class="sxs-lookup"><span data-stu-id="69bf4-261">**SOCKADDR\_BTH**</span></span>](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth)
</dt> <dt>

[<span data-ttu-id="69bf4-262">**Wsaadresssstostring**</span><span class="sxs-lookup"><span data-stu-id="69bf4-262">**WSAAddressToString**</span></span>](/windows/desktop/api/winsock2/nf-winsock2-wsaaddresstostringa)
</dt> <dt>

[<span data-ttu-id="69bf4-263">**Wsalookupservicebegin**</span><span class="sxs-lookup"><span data-stu-id="69bf4-263">**WSALookupServiceBegin**</span></span>](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicebegina)
</dt> <dt>

[<span data-ttu-id="69bf4-264">**WSALookupServiceEnd**</span><span class="sxs-lookup"><span data-stu-id="69bf4-264">**WSALookupServiceEnd**</span></span>](/windows/desktop/api/winsock2/nf-winsock2-wsalookupserviceend)
</dt> <dt>

[<span data-ttu-id="69bf4-265">**WSALookupServiceNext**</span><span class="sxs-lookup"><span data-stu-id="69bf4-265">**WSALookupServiceNext**</span></span>](/windows/desktop/api/winsock2/nf-winsock2-wsalookupservicenexta)
</dt> <dt>

[<span data-ttu-id="69bf4-266">**Wsaqueryset**</span><span class="sxs-lookup"><span data-stu-id="69bf4-266">**WSAQUERYSET**</span></span>](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)
</dt> <dt>

[<span data-ttu-id="69bf4-267">Windows-Sockets</span><span class="sxs-lookup"><span data-stu-id="69bf4-267">Windows Sockets</span></span>](/windows/desktop/WinSock/windows-sockets-start-page-2)
</dt> </dl>

