---
title: Bluetooth und wsaqueryset für Set Service
description: Verwenden der wsaqueryset-Struktur mit der wsasetservice-Funktion zum Registrieren oder Entfernen von Dienst Instanzen im Bluetooth-Namespace (NS \_ BTH).
ms.assetid: e582156d-a298-4d9b-8ed1-4c558fa4f203
keywords:
- Bluetooth und wsaqueryset für Set Service Bluetooth
- Wsaqueryset Bluetooth, für Set Service
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 64a632cad2c813856367d4565bc69e0d4baf2eba
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "103948825"
---
# <a name="bluetooth-and-wsaqueryset-for-set-service"></a>Bluetooth und wsaqueryset für Set Service

Bluetooth verwendet die [**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur, um die Ermittlung von Geräten und Diensten im Bluetooth-Namespace (NS BTH) zu vereinfachen \_ .

Die [**wsasetservice**](/windows/desktop/api/winsock2/nf-winsock2-wsasetservicea) -Funktion verwendet die [**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur, um Dienst Instanzen im Bluetooth-Namespace zu registrieren oder zu entfernen. In der folgenden Tabelle sind die Element Werte in der **wsaqueryset** -Struktur aufgeführt.

| Member                      | Erforderlicher Wert (Eingabe)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Ausgabe                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **dwSize**                  | Muss auf **sizeof**([**wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)) festgelegt werden. Wird als Mechanismus für die Versionsverwaltung verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **dwoutputflags**           | Nicht verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpszserviceingestancename** | Optional, wird jedoch empfohlen. Wird verwendet, um das Bluetooth ServiceName-Attribut zu erstellen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpserviceclassid**        | Erforderlich. GUID, die der Dienstklasse entspricht. Dieser Wert sollte einer GUID aus dem Dokument mit den Bluetooth-zugewiesenen Nummern für bekannte Profile oder einer eindeutigen, von der Anwendung generierten UUID für Anwendungen entsprechen, die keine Profil basiert sind. Wird verwendet, um eine serviceclassidlist-Attribut Sequenz mit diesem als einzigen Member zu erstellen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpversion**               | Nicht verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpszcomment**             | Dies ist optional. Wird zum Erstellen des Bluetooth Service Description-Attributs verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **dwnamespace**             | Der Namespace, in dem der Dienst eingeschränkt werden soll. Muss NS- \_ BTH sein.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpnsproviderid**          | Nicht erforderlich.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpszcontext**             | Nicht verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **dwnumofprotokolle**     | Nicht verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpafpprotokolle**          | Nicht verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpszquerystring**         | Nicht verwendet.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **dwnumofcsaddrs**       | Anzahl der zu registrierenden Adressen. Muss 1 sein.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpcsabuffer**             | Erforderlich, wenn **lpblob** nicht mit einem unformatierten SDP-Datenstrom aufgefüllt wurde. Zeiger auf eine [**csaddr- \_ Informations**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info) Struktur, deren **localaddr. lpsockaddr** -Member auf den [**sockaddr- \_ BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth) verweist, auf dem der Server auf Verbindungen lauscht. Die [**getsockname**](/windows/desktop/api/winsock/nf-winsock-getsockname) -Funktion kann verwendet werden, um die **sockaddr- \_ BTH** -Struktur für einen gebundenen Socket zurückzugeben. Informationen im **lpcsabuffer** -Element werden vom System verwendet, um das Bluetooth protocoldescriptor List-SDP-Attribut zu erstellen. Das in **lpcsabuffer** bereitgestellte Protokoll und der Port müssen eindeutig (nicht zuvor registriert) sein und zum Indizieren des Datensatzes für nachfolgende Aufrufe zum Löschen verwendet werden. Wird verwendet, um das Bluetooth protocoldescriptor List-Attribut des SDP-Datensatzes zu erstellen. | Keine.                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **lpblob**                  | Dies ist optional. Ein Zeiger auf eine [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) -Struktur, die auf eine [**BTH-Mengen \_ \_ Dienst**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_set_service) Struktur zeigt, sodass der Client eine Bluetooth-spezifische Struktur bereitstellen kann, die einen binären SDP-Datensatz enthält, der von der Anwendung erstellt wurde. Wenn **lpblob** für die [**wsasetservice**](/windows/desktop/api/winsock2/nf-winsock2-wsasetservicea) -Funktion bereitgestellt wird, werden alle anderen [**Member der wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw) -Struktur außer **dwSize** und **dwnamespace** ignoriert. Weitere Informationen finden Sie unter [Bluetooth und BLOB](bluetooth-and-blob.md) . Die Übermittlung eines binären SDP-Datensatzes ist in vielen Fällen erforderlich, da eine begrenzte Anzahl von SDP-Attributen aus der **wsaqueryset** -Struktur konvertiert werden kann, und Zeichen folgen nur in UTF-8-Standardsprache konvertiert werden.           | Wenn die optionalen [**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob) -und [**BTH \_ Set \_ Service**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_set_service) -Strukturen bei Eingaben bereitgestellt wurden, sowie die ULONG-Version und die Handle-Werte, auf die der **BTH- \_ Set- \_ Dienst** verweisen muss, wird die Version aktualisiert und enthält den BTH \_ SDP- \_ Versions Wert für den Bluetooth-Windows-Sockets-Anbieter. das Handle wird zum anschließenden Löschen des Datensatzes benötigt. |



 

> [!Note]  
> Um einen Dienst zu entfernen, sind [**nur die Member \_ \_**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_set_service) **psdpversion** und **precordhandle** erforderlich, um einen Dienst zu entfernen.

 

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[Bluetooth und wsaqueryset für Geräte Anfrage](bluetooth-and-wsaqueryset-for-device-inquiry.md)
</dt> <dt>

[Bluetooth und wsaqueryset für die Dienst Anfrage](bluetooth-and-wsaqueryset-for-service-inquiry.md)
</dt> <dt>

[Bluetooth und BLOB](bluetooth-and-blob.md)
</dt> <dt>

[Bluetooth und wsasetservice](bluetooth-and-wsasetservice.md)
</dt> <dt>

[**BLOB**](/windows/desktop/api/nspapi/ns-nspapi-blob)
</dt> <dt>

[**BTH- \_ Set- \_ Dienst**](/windows/desktop/api/Ws2bth/ns-ws2bth-bth_set_service)
</dt> <dt>

[**csaddr- \_ Informationen**](/windows/desktop/api/nspapi/ns-nspapi-csaddr_info)
</dt> <dt>

[**getsockname**](/windows/desktop/api/winsock/nf-winsock-getsockname)
</dt> <dt>

[**sockaddr- \_ BTH**](/windows/desktop/api/Ws2bth/ns-ws2bth-sockaddr_bth)
</dt> <dt>

[**Wsaqueryset**](/windows/desktop/api/winsock2/ns-winsock2-wsaquerysetw)
</dt> <dt>

[Windows-Sockets](/windows/desktop/WinSock/windows-sockets-start-page-2)
</dt> </dl>

 

 