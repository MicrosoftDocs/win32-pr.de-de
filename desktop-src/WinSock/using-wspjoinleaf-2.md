---
description: Wie bereits erwähnt, wird wspjoinleaf verwendet, um einen Blattknoten in einer Multipoint-Sitzung zu verknüpfen.
ms.assetid: 03325f5e-4d4a-405b-b644-3d8c03435e17
title: Verwenden von wspjoinleaf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef4426c0d22657b26dcc2217d856865d9ebe98db
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214583"
---
# <a name="using-wspjoinleaf"></a><span data-ttu-id="00bfd-103">Verwenden von wspjoinleaf</span><span class="sxs-lookup"><span data-stu-id="00bfd-103">Using WSPJoinLeaf</span></span>

<span data-ttu-id="00bfd-104">Wie bereits erwähnt, wird [**wspjoinleaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) verwendet, um einen Blattknoten in einer Multipoint-Sitzung zu verknüpfen.</span><span class="sxs-lookup"><span data-stu-id="00bfd-104">As mentioned previously, [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) is used to join a leaf node into a multipoint session.</span></span> <span data-ttu-id="00bfd-105">**Wspjoinleaf** hat dieselben Parameter und Semantik wie [**wspconnect**](/previous-versions/windows/hardware/network/ff566275(v=vs.85)) , mit der Ausnahme, dass ein socketdeskriptor (wie in [**wspaccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept)) und ein zusätzlicher *dwFlags* -Parameter zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="00bfd-105">**WSPJoinLeaf** has the same parameters and semantics as [**WSPConnect**](/previous-versions/windows/hardware/network/ff566275(v=vs.85)) except that it returns a socket descriptor (as in [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept)), and it has an additional *dwFlags* parameter.</span></span> <span data-ttu-id="00bfd-106">Der *dwFlags* -Parameter wird verwendet, um anzugeben, ob der Socket nur als Absender, nur als Empfänger oder beides fungiert.</span><span class="sxs-lookup"><span data-stu-id="00bfd-106">The *dwFlags* parameter is used to indicate whether the socket will be acting only as a sender, only as a receiver, or both.</span></span> <span data-ttu-id="00bfd-107">*In dieser* Funktion können nur Multipoint-Sockets für Eingabeparameter verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="00bfd-107">Only multipoint sockets may be used for input parameter *s* in this function.</span></span> <span data-ttu-id="00bfd-108">Wenn sich der Multipoint-Socket im nicht blockierenden Modus befindet, kann der zurückgegebene socketdeskriptor erst verwendet werden, nachdem eine entsprechende FD- \_ Verbindungsanzeige empfangen wurde.</span><span class="sxs-lookup"><span data-stu-id="00bfd-108">If the multipoint socket is in the nonblocking mode, the returned socket descriptor will not be usable until after a corresponding FD\_CONNECT indication has been received.</span></span> <span data-ttu-id="00bfd-109">Eine Stamm Anwendung in einer Multipoint-Sitzung kann **wspjoinleaf** einmal oder mehrmals aufzurufen, um eine Anzahl von Blattknoten hinzuzufügen, es kann jedoch höchstens eine Multipoint-Verbindungsanforderung gleichzeitig ausstehen.</span><span class="sxs-lookup"><span data-stu-id="00bfd-109">A root application in a multipoint session may call **WSPJoinLeaf** one or more times in order to add a number of leaf nodes, however at most one multipoint connection request may be outstanding at a time.</span></span>

<span data-ttu-id="00bfd-110">Der von [**wspjoinleaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) zurückgegebene socketdeskriptor ist unterschiedlich, je nachdem, ob der Eingabe-Socket-Deskriptor, *s*, ein c-Stamm \_ oder ein c- \_ Blatt ist.</span><span class="sxs-lookup"><span data-stu-id="00bfd-110">The socket descriptor returned by [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) is different depending on whether the input socket descriptor, *s*, is a c\_root or a c\_leaf.</span></span> <span data-ttu-id="00bfd-111">Bei Verwendung mit einem c- \_ stammsocket legt der *namens* Parameter fest, dass ein bestimmter Blattknoten hinzugefügt werden soll, und der zurückgegebene socketdeskriptor ist ein c-Blatt-Socket, der \_ dem neu hinzugefügten Blattknoten entspricht.</span><span class="sxs-lookup"><span data-stu-id="00bfd-111">When used with a c\_root socket, the *name* parameter designates a particular leaf node to be added and the returned socket descriptor is a c\_leaf socket corresponding to the newly added leaf node.</span></span> <span data-ttu-id="00bfd-112">Sie ist nicht für den Austausch von Multipoint-Daten vorgesehen, sondern wird stattdessen zum Empfangen von Netzwerk Ereignis hinweisen (z. b. "FD \_ Close") für die Verbindung verwendet, die mit dem jeweiligen c-Blatt vorhanden ist \_ .</span><span class="sxs-lookup"><span data-stu-id="00bfd-112">It is not intended to be used for exchange of multipoint data, but rather is used to receive network event indications (for example FD\_CLOSE) for the connection that exists to the particular c\_leaf.</span></span> <span data-ttu-id="00bfd-113">Einige Multipoint-Implementierungen können auch zulassen, dass dieser Socket für Seiten Chats zwischen dem Stamm Knoten und einem einzelnen Blattknoten verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="00bfd-113">Some multipoint implementations may also allow this socket to be used for side chats between the root and an individual leaf node.</span></span> <span data-ttu-id="00bfd-114">\_Für diesen Socket sollte ein FD-Schluss Hinweis angegeben werden, wenn der entsprechende Blattknoten [**wspclosesocket**](/previous-versions/windows/hardware/network/ff566273(v=vs.85)) zum Ablegen aus der Multipoint-Sitzung aufruft.</span><span class="sxs-lookup"><span data-stu-id="00bfd-114">An FD\_CLOSE indication should be given for this socket if the corresponding leaf node calls [**WSPCloseSocket**](/previous-versions/windows/hardware/network/ff566273(v=vs.85)) to drop out of the multipoint session.</span></span> <span data-ttu-id="00bfd-115">Symmetrisch bewirkt das Aufrufen von **wspclosesocket** im c- \_ Blatt Socket, das von [**wspjoinleaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) zurückgegeben wird, dass der Socket im entsprechenden Blattknoten eine Benachrichtigung über den Schließvorgang von FD erhält \_ .</span><span class="sxs-lookup"><span data-stu-id="00bfd-115">Symmetrically, invoking **WSPCloseSocket** on the c\_leaf socket returned from [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) will cause the socket in the corresponding leaf node to get FD\_CLOSE notification.</span></span>

<span data-ttu-id="00bfd-116">Wenn [**wspjoinleaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) mit einem c- \_ Blatt Socket aufgerufen wird, enthält der *Name* -Parameter die Adresse der Stamm Anwendung (für ein Stamm Steuerungs Schema) oder eine vorhandene Multipoint-Sitzung (nicht-Stamm Steuerungs Schema), und der zurückgegebene socketdeskriptor ist derselbe wie der Eingabe-socketdeskriptor.</span><span class="sxs-lookup"><span data-stu-id="00bfd-116">When [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) is invoked with a c\_leaf socket, the *name* parameter contains the address of the root application (for a rooted control scheme) or an existing multipoint session (nonrooted control scheme), and the returned socket descriptor is the same as the input socket descriptor.</span></span> <span data-ttu-id="00bfd-117">In einem Stamm Steuerungs Schema platziert der Stamm Client den c- \_ stammsocket im Empfangsmodus, indem er [**wsplauschen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85))aufruft.</span><span class="sxs-lookup"><span data-stu-id="00bfd-117">In a rooted control scheme, the root client would put its c\_root socket in the listening mode by calling [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)).</span></span> <span data-ttu-id="00bfd-118">Die standardmäßige FD- \_ Accept-Benachrichtigung wird übermittelt, wenn der Blattknoten den Beitritt zur Multipoint-Sitzung anfordert.</span><span class="sxs-lookup"><span data-stu-id="00bfd-118">The standard FD\_ACCEPT notification will be delivered when the leaf node requests to join itself to the multipoint session.</span></span> <span data-ttu-id="00bfd-119">Der Stamm Client verwendet die übliche [**wspaccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept) -Funktion, um den neuen Blattknoten zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="00bfd-119">The root client uses the usual [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept) function to admit the new leaf node.</span></span> <span data-ttu-id="00bfd-120">Der von **wspaccept** zurückgegebene Wert ist ebenfalls ein c- \_ Blatt-socketdeskriptor, genau wie die von **wspjoinleaf** zurückgegebenen Werte.</span><span class="sxs-lookup"><span data-stu-id="00bfd-120">The value returned from **WSPAccept** is also a c\_leaf socket descriptor just like those returned from **WSPJoinLeaf**.</span></span> <span data-ttu-id="00bfd-121">Um multipointschemas zu unterstützen, die sowohl vom Stamm initiierte als auch vom Blatt initiierte Joins zulassen, ist es zulässig, dass ein c-Stamm- \_ Socket, der sich bereits im Empfangsmodus befindet, als Eingabe für **wspjoinleaf** verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="00bfd-121">To accommodate multipoint schemes that allow both root-initiated and leaf-initiated joins, it is acceptable for a c\_root socket that is already in listening mode to be used as in input to **WSPJoinLeaf**.</span></span>

<span data-ttu-id="00bfd-122">Ein Multipoint-Stamm Client ist im Allgemeinen für die ordnungsgemäße Demontage einer Multipoint-Sitzung verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="00bfd-122">A multipoint root client is generally responsible for the orderly dismantling of a multipoint session.</span></span> <span data-ttu-id="00bfd-123">Eine solche Anwendung kann [**wspshutdown**](/previous-versions/windows/desktop/legacy/ms742294(v=vs.85)) oder [**wspclosesocket**](/previous-versions/windows/hardware/network/ff566273(v=vs.85)) für einen c-Stamm Socket verwenden, \_ um alle zugeordneten c \_ -Blatt Sockets, einschließlich der von [**wspjoinleaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) und der entsprechenden c- \_ Blatt Sockets in den Remote Blattknoten, zu verwenden, um die Benachrichtigung zum Schließen von FD zu erhalten \_ .</span><span class="sxs-lookup"><span data-stu-id="00bfd-123">Such an application may use [**WSPShutdown**](/previous-versions/windows/desktop/legacy/ms742294(v=vs.85)) or [**WSPCloseSocket**](/previous-versions/windows/hardware/network/ff566273(v=vs.85)) on a c\_root socket to cause all of the associated c\_leaf sockets, including those returned from [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) and their corresponding c\_leaf sockets in the remote leaf nodes, to get FD\_CLOSE notification.</span></span>

 

 
