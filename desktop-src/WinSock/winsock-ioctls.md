---
description: Navigationsthema für Socket-IOCTLs für Windows Sockets (Winsock).
ms.assetid: 6a63c2c9-4e09-4a62-b39f-3ccb26287da8
title: Winsock IOCTLs (Winsock2.h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: eadf4a0e2799d6123bf81069fe65ea16313af444
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/27/2021
ms.locfileid: "110550255"
---
# <a name="winsock-ioctls"></a><span data-ttu-id="71f8b-103">Winsock-IOCTLs</span><span class="sxs-lookup"><span data-stu-id="71f8b-103">Winsock IOCTLs</span></span>

<span data-ttu-id="71f8b-104">In diesem Abschnitt werden Winsock Socket-Eingabe-/Ausgabesteuerelemente (IOCTLs) für verschiedene Editionen von Windows-Betriebssystemen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-104">This section describes Winsock Socket input/output controls (IOCTLs) for various editions of Windows operating systems.</span></span> <span data-ttu-id="71f8b-105">Verwenden Sie [**die WSAIoctl-**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) oder [**WSPIoctl-Funktion,**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) um eine Winsock-IOCTL aus zu geben, um den Modus eines Sockets, des Transportprotokolls oder des Kommunikationssubsystems zu steuern.</span><span class="sxs-lookup"><span data-stu-id="71f8b-105">Use the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) function to issue a Winsock IOCTL to control the mode of a socket, the transport protocol, or the communications subsystem.</span></span>

<span data-ttu-id="71f8b-106">Einige Winsock-IOCTLs erfordern mehr Erklärung, als in dieser Tabelle vermittelt werden kann. solche Optionen enthalten Links zu zusätzlichen Themen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-106">Some Winsock IOCTLs require more explanation than this table can convey; such options contain links to additional topics.</span></span>

<span data-ttu-id="71f8b-107">Es ist möglich, ein Codierungsschema zu übernehmen, das die derzeit definierten [**ioctlsocket-Opcodes**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) beibewahrt und gleichzeitig eine bequeme Möglichkeit bietet, den Opcodebezeichnerbereich so weit zu partitionieren, wie der *dwIoControlCode-Parameter* jetzt eine 32-Bit-Entität ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-107">It is possible to adopt an encoding scheme that preserves the currently defined [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) opcodes while providing a convenient way to partition the opcode identifier space in as much as the *dwIoControlCode* parameter is now a 32-bit entity.</span></span> <span data-ttu-id="71f8b-108">Der *dwIoControlCode-Parameter* ist so aufgebaut, dass protokoll- und herstellerunabhängige Funktionen beim Hinzufügen neuer Steuerungscodes unter Beibehaltung der Abwärtskompatibilität mit den Windows Sockets 1.1- und Unix-Steuerungscodes möglich sind.</span><span class="sxs-lookup"><span data-stu-id="71f8b-108">The *dwIoControlCode* parameter is built to allow for protocol and vendor independence when adding new control codes while retaining backward compatibility with the Windows Sockets 1.1 and Unix control codes.</span></span> <span data-ttu-id="71f8b-109">Der *dwIoControlCode-Parameter* hat das folgende Format.</span><span class="sxs-lookup"><span data-stu-id="71f8b-109">The *dwIoControlCode* parameter has the following form.</span></span>

| <span data-ttu-id="71f8b-110">I</span><span class="sxs-lookup"><span data-stu-id="71f8b-110">I</span></span>  | <span data-ttu-id="71f8b-111">O</span><span class="sxs-lookup"><span data-stu-id="71f8b-111">O</span></span>  | <span data-ttu-id="71f8b-112">V</span><span class="sxs-lookup"><span data-stu-id="71f8b-112">V</span></span>  | <span data-ttu-id="71f8b-113">T</span><span class="sxs-lookup"><span data-stu-id="71f8b-113">T</span></span>  | <span data-ttu-id="71f8b-114">Anbieter-/Adressfamilie</span><span class="sxs-lookup"><span data-stu-id="71f8b-114">Vendor/address family</span></span> | <span data-ttu-id="71f8b-115">Code</span><span class="sxs-lookup"><span data-stu-id="71f8b-115">Code</span></span>                   |
|-|-|-|-|-|-|
| <span data-ttu-id="71f8b-116">3</span><span class="sxs-lookup"><span data-stu-id="71f8b-116">3</span></span>  | <span data-ttu-id="71f8b-117">3</span><span class="sxs-lookup"><span data-stu-id="71f8b-117">3</span></span>  | <span data-ttu-id="71f8b-118">2</span><span class="sxs-lookup"><span data-stu-id="71f8b-118">2</span></span>  | <span data-ttu-id="71f8b-119">2 2</span><span class="sxs-lookup"><span data-stu-id="71f8b-119">2 2</span></span> | <span data-ttu-id="71f8b-120">2 2 2 2 2 2 2 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="71f8b-120">2 2 2 2 2 2 2 1 1 1 1</span></span> | <span data-ttu-id="71f8b-121">1 1 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="71f8b-121">1 1 1 1 1 1</span></span>              |
| <span data-ttu-id="71f8b-122">1</span><span class="sxs-lookup"><span data-stu-id="71f8b-122">1</span></span>  | <span data-ttu-id="71f8b-123">0</span><span class="sxs-lookup"><span data-stu-id="71f8b-123">0</span></span>  | <span data-ttu-id="71f8b-124">9</span><span class="sxs-lookup"><span data-stu-id="71f8b-124">9</span></span>  | <span data-ttu-id="71f8b-125">8 7</span><span class="sxs-lookup"><span data-stu-id="71f8b-125">8 7</span></span> | <span data-ttu-id="71f8b-126">6 5 4 3 2 1 0 9 8 7 6</span><span class="sxs-lookup"><span data-stu-id="71f8b-126">6 5 4 3 2 1 0 9 8 7 6</span></span> | <span data-ttu-id="71f8b-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span><span class="sxs-lookup"><span data-stu-id="71f8b-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span></span> |

> [!Note] 
> <span data-ttu-id="71f8b-128">Die Bits im *dwIoControlCode-Parameter,* die in der Tabelle angezeigt werden, müssen vertikal von oben nach unten nach Spalte gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-128">The bits in *dwIoControlCode* parameter displayed in the table must be read vertically from top to bottom by column.</span></span> <span data-ttu-id="71f8b-129">Das linke Bit ist also Bit 31, das nächste Bit bit 30 und das rechte Bit Bit 0.</span><span class="sxs-lookup"><span data-stu-id="71f8b-129">So the left-most bit is bit 31, the next bit is bit 30, and the right-most bit is bit 0.</span></span>

<span data-ttu-id="71f8b-130">Ich wird festgelegt, wenn der Eingabepuffer für den Code gültig ist, wie bei **IOC_IN.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-130">I is set if the input buffer is valid for the code, as with **IOC_IN**.</span></span>

<span data-ttu-id="71f8b-131">O wird festgelegt, wenn der Ausgabepuffer für den Code gültig ist, wie **bei IOC_OUT.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-131">O is set if the output buffer is valid for the code, as with **IOC_OUT**.</span></span> <span data-ttu-id="71f8b-132">Steuerungscodes, die sowohl Eingabe- als auch Ausgabepuffer verwenden, legen E und A fest.</span><span class="sxs-lookup"><span data-stu-id="71f8b-132">Control codes using both input and output buffers set both I and O.</span></span>

<span data-ttu-id="71f8b-133">V wird festgelegt, wenn es keine Parameter für den Code gibt, wie bei **IOC_VOID.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-133">V is set if there are no parameters for the code, as with **IOC_VOID**.</span></span>

<span data-ttu-id="71f8b-134">T ist eine 2-Bit-Menge, die den Typ der IOCTL definiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-134">T is a 2-bit quantity that defines the type of the IOCTL.</span></span> <span data-ttu-id="71f8b-135">Die folgenden Werte sind definiert:</span><span class="sxs-lookup"><span data-stu-id="71f8b-135">The following values are defined:</span></span>

<span data-ttu-id="71f8b-136">0 Die IOCTL ist ein Unix-Standard-IOCTL-Code, wie bei **FIONREAD** und **FIONBIO.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-136">0 The IOCTL is a standard Unix IOCTL code, as with **FIONREAD** and **FIONBIO**.</span></span>

<span data-ttu-id="71f8b-137">1 Die IOCTL ist ein generischer Windows Sockets 2 IOCTL-Code.</span><span class="sxs-lookup"><span data-stu-id="71f8b-137">1 The IOCTL is a generic Windows Sockets 2 IOCTL code.</span></span> <span data-ttu-id="71f8b-138">Neue IOCTL-Codes, die für Windows Sockets 2 definiert sind, weisen T == 1 auf.</span><span class="sxs-lookup"><span data-stu-id="71f8b-138">New IOCTL codes defined for Windows Sockets 2 will have T == 1.</span></span>

<span data-ttu-id="71f8b-139">2 Die IOCTL gilt nur für eine bestimmte Adressfamilie.</span><span class="sxs-lookup"><span data-stu-id="71f8b-139">2 The IOCTL applies only to a specific address family.</span></span>

<span data-ttu-id="71f8b-140">3 Die IOCTL gilt nur für den Anbieter eines bestimmten Anbieters, wie bei **IOC_VENDOR**.</span><span class="sxs-lookup"><span data-stu-id="71f8b-140">3 The IOCTL applies only to a specific vendor's provider, as with **IOC_VENDOR**.</span></span> <span data-ttu-id="71f8b-141">Mit diesem Typ können Unternehmen eine Anbieternummer zugewiesen werden, die im Parameter **Vendor/Address family (Anbieter-/Adressfamilie)** angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-141">This type allows companies to be assigned a vendor number that appears in the **Vendor/Address family** parameter.</span></span> <span data-ttu-id="71f8b-142">Anschließend kann der Anbieter neue IOCTLs definieren, die für diesen Anbieter spezifisch sind, ohne die IOCTL bei einem Clearinghouse registrieren zu müssen, wodurch Flexibilität und Datenschutz für den Anbieter geboten werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-142">Then, the vendor can define new IOCTLs specific to that vendor without having to register the IOCTL with a clearinghouse, thereby providing vendor flexibility and privacy.</span></span>

<span data-ttu-id="71f8b-143">**Anbieter-/Adressfamilie** Eine 11-Bit-Menge, die den Hersteller definiert, der den Code besitzt (wenn T == 3) oder die Adressfamilie enthält, für die der Code gilt (wenn T == 2).</span><span class="sxs-lookup"><span data-stu-id="71f8b-143">**Vendor/Address family** An 11-bit quantity that defines the vendor who owns the code (if T == 3) or that contains the address family to which the code applies (if T == 2).</span></span> <span data-ttu-id="71f8b-144">Wenn es sich um einen Unix-IOCTL-Code (T == 0) handelt, hat dieser Parameter den gleichen Wert wie der Code unter Unix.</span><span class="sxs-lookup"><span data-stu-id="71f8b-144">If this is a Unix IOCTL code (T == 0) then this parameter has the same value as the code on Unix.</span></span> <span data-ttu-id="71f8b-145">Wenn es sich um eine generische Windows Sockets 2-IOCTL (T == 1) handelt, kann dieser Parameter als Erweiterung des Codeparameters verwendet werden, um zusätzliche Codewerte bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-145">If this is a generic Windows Sockets 2 IOCTL (T == 1) then this parameter can be used as an extension of the code parameter to provide additional code values.</span></span>

<span data-ttu-id="71f8b-146">**Code** Die 16-Bit-Menge, die den spezifischen IOCTL-Code für den Vorgang enthält.</span><span class="sxs-lookup"><span data-stu-id="71f8b-146">**Code** The 16-bit quantity that contains the specific IOCTL code for the operation.</span></span>

## <a name="unix-ioctl-codes"></a><span data-ttu-id="71f8b-147">Unix-IOCTL-Codes</span><span class="sxs-lookup"><span data-stu-id="71f8b-147">Unix IOCTL codes</span></span>

<span data-ttu-id="71f8b-148">Die folgenden Unix-IOCTL-Codes (Befehle) werden unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-148">The following Unix IOCTL codes (commands) are supported.</span></span>

### <a name="fionbio"></a><span data-ttu-id="71f8b-149">FIONBIO</span><span class="sxs-lookup"><span data-stu-id="71f8b-149">FIONBIO</span></span>

<span data-ttu-id="71f8b-150">Aktivieren oder deaktivieren Sie den nicht blockierenden Modus für *Sockets*.</span><span class="sxs-lookup"><span data-stu-id="71f8b-150">Enable or disable non-blocking mode on socket *s*.</span></span> <span data-ttu-id="71f8b-151">Der *lpvInBuffer-Parameter* zeigt auf einen **nicht signierten long** (QoS), der ungleich 0 (null) ist, wenn der nicht blockierende Modus aktiviert werden soll, und 0 (null), wenn er deaktiviert werden soll.</span><span class="sxs-lookup"><span data-stu-id="71f8b-151">The *lpvInBuffer* parameter points at an **unsigned long** (QoS), which is nonzero if non-blocking mode is to be enabled and zero if it is to be disabled.</span></span> <span data-ttu-id="71f8b-152">Wenn ein Socket erstellt wird, wird er im Blockierungsmodus ausgeführt (d.b. der nicht blockierende Modus ist deaktiviert).</span><span class="sxs-lookup"><span data-stu-id="71f8b-152">When a socket is created, it operates in blocking mode (that is, non-blocking mode is disabled).</span></span> <span data-ttu-id="71f8b-153">Dies ist mit BSD-Sockets konsistent.</span><span class="sxs-lookup"><span data-stu-id="71f8b-153">This is consistent with BSD sockets.</span></span>

<span data-ttu-id="71f8b-154">Die [**Routine WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) oder [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) legt einen Socket automatisch auf den nicht blockierenden Modus fest.</span><span class="sxs-lookup"><span data-stu-id="71f8b-154">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) or [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) routine automatically sets a socket to non-blocking mode.</span></span> <span data-ttu-id="71f8b-155">Wenn **WSAAsyncSelect** oder **WSAEventSelect** für einen Socket ausgegeben wurde, wird bei jedem Versuch, [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) zum Festlegen des Sockets auf den Blockierungsmodus zurück zu verwenden, WSAEINVAL fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-155">If **WSAAsyncSelect** or **WSAEventSelect** has been issued on a socket, then any attempt to use [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) to set the socket back to blocking mode will fail with WSAEINVAL.</span></span> <span data-ttu-id="71f8b-156">Um den Socket wieder in den Blockierungsmodus zu setzen, muss eine Anwendung **zuerst WSAAsyncSelect** deaktivieren, indem **WSAAsyncSelect** mit dem *lEvent-Parameter* gleich 0 (null) oder **WSAEventSelect** durch Aufrufen von **WSAEventSelect** mit dem *Parameter lNetworkEvents* gleich 0 (null) aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-156">To set the socket back to blocking mode, an application must first disable **WSAAsyncSelect** by calling **WSAAsyncSelect** with the *lEvent* parameter equal to zero, or disable **WSAEventSelect** by calling **WSAEventSelect** with the *lNetworkEvents* parameter equal to zero.</span></span>

### <a name="fionread"></a><span data-ttu-id="71f8b-157">FIONREAD</span><span class="sxs-lookup"><span data-stu-id="71f8b-157">FIONREAD</span></span>

<span data-ttu-id="71f8b-158">Bestimmen Sie die Menge der Daten, die atomisch aus socket s gelesen *werden können.*</span><span class="sxs-lookup"><span data-stu-id="71f8b-158">Determine the amount of data that can be read atomically from socket *s*.</span></span> <span data-ttu-id="71f8b-159">Der *lpvOutBuffer-Parameter* zeigt auf einen **long-Wert** ohne Vorzeichen, in dem [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) das Ergebnis speichert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-159">The *lpvOutBuffer* parameter points at an **unsigned long** in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

<span data-ttu-id="71f8b-160">Wenn der im  s-Parameter übergebene Socket streamorientiert ist (z. B. sock STREAM), gibt FIONREAD die Gesamtmenge der Daten zurück, die in einem einzelnen Empfangsvorgang gelesen werden können. Dies ist normalerweise identisch mit der Gesamtmenge der Daten, die in die Warteschlange des Sockets gestellt werden (da ein Datenstrom \_ byteorientiert ist, ist dies nicht garantiert). </span><span class="sxs-lookup"><span data-stu-id="71f8b-160">If the socket passed in the *s* parameter is stream oriented (for example, type SOCK\_STREAM), **FIONREAD** returns the total amount of data that can be read in a single receive operation; this is normally the same as the total amount of data queued on the socket (since a data stream is byte-oriented, this is not guaranteed).</span></span>

<span data-ttu-id="71f8b-161">Wenn der im  s-Parameter übergebene Socket nachrichtenorientiert ist (z. B. typ SOCK DGRAM), gibt FIONREAD die Gesamtzahl der zum Lesen verfügbaren Bytes zurück, nicht die Größe des ersten Datagramms (Nachricht), das in die Warteschlange des Sockets gestellt \_ wird. </span><span class="sxs-lookup"><span data-stu-id="71f8b-161">If the socket passed in the *s* parameter is message oriented (for example, type SOCK\_DGRAM), **FIONREAD** returns the reports the total number of bytes available to read, not the size of the first datagram (message) queued on the socket.</span></span>

### <a name="siocatmark"></a><span data-ttu-id="71f8b-162">SIOCATMARK</span><span class="sxs-lookup"><span data-stu-id="71f8b-162">SIOCATMARK</span></span>

<span data-ttu-id="71f8b-163">Bestimmen Sie, ob alle OOB-Daten gelesen wurden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-163">Determine whether or not all OOB data has been read.</span></span> <span data-ttu-id="71f8b-164">Dies gilt nur für einen Socket im Streamstil (z. B. typ SOCK STREAM), der für den Inlineempfang von \_ OOB-Daten (SO \_ OOBINLINE) konfiguriert wurde.</span><span class="sxs-lookup"><span data-stu-id="71f8b-164">This applies only to a socket of stream-style (for example, type SOCK\_STREAM) that has been configured for inline reception of any OOB data (SO\_OOBINLINE).</span></span> <span data-ttu-id="71f8b-165">Wenn keine OOB-Daten darauf warten, gelesen zu werden, gibt der Vorgang TRUE zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-165">If no OOB data is waiting to be read, the operation returns TRUE.</span></span> <span data-ttu-id="71f8b-166">Andernfalls wird **FALSE zurückgegeben,** und der nächste Empfangsvorgang, der für den Socket ausgeführt wird, ruft einige oder alle Daten vor der Markierung ab. Die Anwendung sollte den **SIOCATMARK-Vorgang verwenden,** um zu bestimmen, ob noch welche übrig sind.</span><span class="sxs-lookup"><span data-stu-id="71f8b-166">Otherwise, it returns **FALSE**, and the next receive operation performed on the socket will retrieve some or all of the data preceding the mark; the application should use the **SIOCATMARK** operation to determine whether any remains.</span></span> <span data-ttu-id="71f8b-167">Wenn den dringenden (Out-of-Band)-Daten normale Daten vorangestellt sind, werden sie in der reihenfolge empfangen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-167">If there is any normal data preceding the urgent (out of band) data, it will be received in order.</span></span> <span data-ttu-id="71f8b-168">(Beachten Sie, dass [**recv-Vorgänge**](/windows/desktop/api/winsock/nf-winsock-recv) OOB und normale Daten nie im selben Aufruf kombinieren.) *lpvOutBuffer* zeigt auf eine BOOL, in der [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) das Ergebnis speichert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-168">(Note that [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operations will never mix OOB and normal data in the same call.) *lpvOutBuffer* points at a BOOL in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

## <a name="windows-sockets-2-commands"></a><span data-ttu-id="71f8b-169">Windows Sockets 2-Befehle</span><span class="sxs-lookup"><span data-stu-id="71f8b-169">Windows Sockets 2 commands</span></span>

<span data-ttu-id="71f8b-170">Die folgenden Windows Sockets 2-Befehle werden unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-170">The following Windows Sockets 2 commands are supported.</span></span>

### <a name="sio_acquire_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-171">SIO_ACQUIRE_PORT_RESERVATION (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-171">SIO_ACQUIRE_PORT_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-172">Fordern Sie eine Laufzeitreservierung für einen Block von TCP- oder UDP-Ports an.</span><span class="sxs-lookup"><span data-stu-id="71f8b-172">Request a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="71f8b-173">Für Laufzeitportreservierungen erfordert der Portpool, dass Reservierungen von dem Prozess genutzt werden, auf dessen Socket die Reservierung gewährt wurde.</span><span class="sxs-lookup"><span data-stu-id="71f8b-173">For runtime port reservations, the port pool requires that reservations be consumed from the process on whose socket the reservation was granted.</span></span> <span data-ttu-id="71f8b-174">Laufzeitportreservierungen dauern nur so lange wie die Lebensdauer des Sockets, auf dem die [**SIO \_ ACQUIRE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="71f8b-174">Runtime port reservations last only as long as the lifetime of the socket on which the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL was called.</span></span> <span data-ttu-id="71f8b-175">Im Gegensatz dazu können persistente Portreservierungen, die mit der [**Funktion CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) oder [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) erstellt wurden, von jedem Prozess genutzt werden, der persistente Reservierungen abrufen kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-175">In contrast, persistent port reservations created using the [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) or [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) function may be consumed by any process with the ability to obtain persistent reservations.</span></span>

<span data-ttu-id="71f8b-176">Ausführlichere Informationen finden Sie in der [**SIO \_ ACQUIRE PORT \_ \_ RESERVATION-Referenz.**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-176">For more detailed information, see the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-177">[**SIO \_ ACQUIRE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) wird unter Windows Vista und neueren Versionen des Betriebssystems unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-177">[**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_address_list_change-opcode-setting-v-t1"></a><span data-ttu-id="71f8b-178">ÄNDERUNG \_ DER SIO-ADRESSLISTE \_ \_ (Opcodeeinstellung: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-178">SIO\_ADDRESS\_LIST\_CHANGE (opcode setting: V, T==1)</span></span>

<span data-ttu-id="71f8b-179">Um Benachrichtigungen über Änderungen in der Liste der lokalen Transportadressen der Protokollfamilie des Sockets zu erhalten, an die die Anwendung gebunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-179">To receive notification of changes in the list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="71f8b-180">Nach Abschluss dieser IOCTL werden keine Ausgabeinformationen bereitgestellt. Die Vervollständigung gibt lediglich an, dass sich die Liste der verfügbaren lokalen Adressen geändert hat und über **SIO \_ ADDRESS LIST \_ \_ QUERY** erneut abgefragt werden sollte.</span><span class="sxs-lookup"><span data-stu-id="71f8b-180">No output information will be provided upon completion of this IOCTL; the completion merely indicates that list of available local address has changed and should be queried again through **SIO\_ADDRESS\_LIST\_QUERY**.</span></span>

<span data-ttu-id="71f8b-181">Es wird davon ausgegangen (obwohl dies nicht erforderlich ist), dass die Anwendung überlappende E/A-Benachrichtigungen verwendet, um nach Abschluss der **SIO \_ ADDRESS LIST \_ \_ CHANGE-Anforderung** über Änderungen benachrichtigt zu werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-181">It is assumed (although not required) that the application uses overlapped I/O to be notified of change by completion of **SIO\_ADDRESS\_LIST\_CHANGE** request.</span></span> <span data-ttu-id="71f8b-182">Wenn die SIO ADDRESS **\_ LIST \_ \_ CHANGE** IOCTL für einen nicht blockierenden Socket und ohne überlappende Parameter ausgegeben wird *(lpOverlapped* lpCompletionRoutine ist auf NULL festgelegt), wird sie sofort mit dem Fehler /   [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md)abgeschlossen. </span><span class="sxs-lookup"><span data-stu-id="71f8b-182">Alternatively, if the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL is issued on a non-blocking socket and without overlapped parameters (*lpOverlapped*/ *lpCompletionRoutine* are set to **NULL**), it will complete immediately with error [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="71f8b-183">Die Anwendung kann dann über einen Aufruf von [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) oder [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) mit in der Bitmaske des Netzwerkereignisses festgelegtem FD ADDRESS LIST CHANGE-Bit auf Änderungsereignisse der Adressliste \_ \_ \_ warten.</span><span class="sxs-lookup"><span data-stu-id="71f8b-183">The application can then wait for address list change events through a call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ADDRESS\_LIST\_CHANGE bit set in the network event bitmask.</span></span>

### <a name="sio_address_list_query-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-184">SIO \_ ADDRESS LIST QUERY \_ \_ (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-184">SIO\_ADDRESS\_LIST\_QUERY (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-185">Erhält eine Liste der lokalen Transportadressen der Protokollfamilie des Sockets, an die die Anwendung gebunden werden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-185">Obtains a list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="71f8b-186">Die Liste der Adressen variiert je nach Adressfamilie, und einige Adressen werden aus der Liste ausgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-186">The list of addresses varies based on address family and some addresses are excluded from the list.</span></span>

> [!Note] 
> <span data-ttu-id="71f8b-187">In Windows Plug-n-Play-Umgebungen können Adressen dynamisch hinzugefügt und entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-187">In Windows Plug-n-Play environments, addresses can be added and removed dynamically.</span></span> <span data-ttu-id="71f8b-188">Daher können Sich Anwendungen nicht darauf verlassen, dass die von **SIO \_ ADDRESS LIST \_ \_ QUERY** zurückgegebenen Informationen persistent sind.</span><span class="sxs-lookup"><span data-stu-id="71f8b-188">Therefore, applications cannot rely on the information returned by **SIO\_ADDRESS\_LIST\_QUERY** to be persistent.</span></span> <span data-ttu-id="71f8b-189">Anwendungen können sich für Adressänderungsbenachrichtigungen über das IOCTL-Ereignis **SIO \_ ADDRESS LIST \_ \_ CHANGE** registrieren, das Benachrichtigungen über überlappende E/A- oder FD-ADRESSLISTENÄNDERUNGsereignis \_ \_ \_ bietet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-189">Applications may register for address change notifications through the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL which provides for notification through either overlapped I/O or FD\_ADDRESS\_LIST\_CHANGE event.</span></span> <span data-ttu-id="71f8b-190">Die folgende Aktionssequenz kann verwendet werden, um zu gewährleisten, dass die Anwendung immer über aktuelle Adresslisteninformationen verfügt:</span><span class="sxs-lookup"><span data-stu-id="71f8b-190">The following sequence of actions can be used to guarantee that the application always has current address list information:</span></span>

-  <span data-ttu-id="71f8b-191">Issue **SIO \_ ADDRESS \_ LIST \_ CHANGE** IOCTL</span><span class="sxs-lookup"><span data-stu-id="71f8b-191">Issue **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL</span></span>
-  <span data-ttu-id="71f8b-192">Issue **SIO \_ ADDRESS \_ LIST \_ QUERY** IOCTL</span><span class="sxs-lookup"><span data-stu-id="71f8b-192">Issue **SIO\_ADDRESS\_LIST\_QUERY** IOCTL</span></span>
-  <span data-ttu-id="71f8b-193">Wenn **SIO \_ ADDRESS LIST \_ \_ CHANGE** IOCTL die Anwendung der Änderung der Adressliste benachrichtigt (entweder durch überlappende E/A oder durch Signalisierung des Ereignisses FD ADDRESS LIST CHANGE), sollte die gesamte Sequenz von Aktionen wiederholt \_ \_ \_ werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-193">Whenever **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL notifies the application of address list change (either through overlapped I/O or by signaling FD\_ADDRESS\_LIST\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="71f8b-194">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ ADDRESS LIST \_ \_ QUERY.**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-194">For more detailed information, see the [**SIO\_ADDRESS\_LIST\_QUERY**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-195">**SIO \_ ADDRESS \_ LIST \_ QUERY** wird unter Windows 2000 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-195">**SIO\_ADDRESS\_LIST\_QUERY** is supported on Windows 2000 and later.</span></span>

### <a name="sio_apply_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-196">SIO \_ APPLY TRANSPORT SETTING \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-196">SIO\_APPLY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-197">Wendet eine Transporteinstellung auf einen Socket an.</span><span class="sxs-lookup"><span data-stu-id="71f8b-197">Applies a transport setting to a socket.</span></span> <span data-ttu-id="71f8b-198">Die angewendete Transporteinstellung basiert auf der [**TRANSPORT \_ \_ SETTING-ID,**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) die im *lpvInBuffer-Parameter* übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-198">The transport setting being applied is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="71f8b-199">Die einzige transport-Einstellung, die derzeit definiert wird, ist für die FUNKTION REAL **\_ TIME NOTIFICATION \_ \_ CAPABILITY** auf einem TCP-Socket.</span><span class="sxs-lookup"><span data-stu-id="71f8b-199">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="71f8b-200">Wenn für die übergebene [**TRANSPORT \_ SETTING \_ ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) der **Guid-Member** auf **REAL TIME NOTIFICATION \_ \_ \_ CAPABILITY** festgelegt ist, ist dies eine Anforderung zum Anwenden von Echtzeitbenachrichtigungseinstellungen für den TCP-Socket, der mit [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) verwendet wird, um Hintergrundnetzwerkbenachrichtigungen in einer Windows Store-App zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-200">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to apply real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span>

<span data-ttu-id="71f8b-201">Ausführlichere Informationen finden Sie in der [**SIO \_ APPLY TRANSPORT \_ \_ SETTING-Referenz.**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-201">For more detailed information, see the [**SIO\_APPLY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-202">**SIO \_ APPLY \_ TRANSPORT \_ SETTING** wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-202">**SIO\_APPLY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_associate_handle-opcode-setting-i-t1"></a><span data-ttu-id="71f8b-203">SIO \_ ASSOCIATE \_ HANDLE (Opcodeeinstellung: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-203">SIO\_ASSOCIATE\_HANDLE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="71f8b-204">Ordnet diesen Socket dem angegebenen Handle einer Begleitschnittstelle zu.</span><span class="sxs-lookup"><span data-stu-id="71f8b-204">Associate this socket with the specified handle of a companion interface.</span></span> <span data-ttu-id="71f8b-205">Der Eingabepuffer enthält den ganzzahligen Wert, der der Manifestkonstante für die Begleitschnittstelle entspricht (z. B. TH \_ NETDEV und TH \_ TAPI.), gefolgt von einem Wert, der ein Handle der angegebenen Begleitschnittstelle ist, zusammen mit allen anderen erforderlichen Informationen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-205">The input buffer contains the integer value corresponding to the manifest constant for the companion interface (for example, TH\_NETDEV and TH\_TAPI.), followed by a value that is a handle of the specified companion interface, along with any other required information.</span></span> <span data-ttu-id="71f8b-206">Ausführliche Informationen zu einer bestimmten Begleitschnittstelle finden Sie im entsprechenden Abschnitt unter [Winsock-Karte.](winsock-annexes.md)</span><span class="sxs-lookup"><span data-stu-id="71f8b-206">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="71f8b-207">Die Gesamtgröße wird in der Länge des Eingabepuffers widergespiegelt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-207">The total size is reflected in the input buffer length.</span></span> <span data-ttu-id="71f8b-208">Es ist kein Ausgabepuffer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="71f8b-208">No output buffer is required.</span></span> <span data-ttu-id="71f8b-209">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angegeben, die diese IOCTL nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-209">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span> <span data-ttu-id="71f8b-210">Das von dieser IOCTL zugeordnete Handle kann mit **SIO \_ TRANSLATE \_ HANDLE** abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-210">The handle associated by this IOCTL can be retrieved using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="71f8b-211">Eine Begleitschnittstelle kann beispielsweise verwendet werden, wenn ein bestimmter Anbieter (1) viele zusätzliche Steuerelemente für das Verhalten eines Sockets bereitstellt und (2) die Steuerelemente anbieterspezifisch genug sind, dass sie vorhandenen Windows Socket-Funktionen oder denen, die wahrscheinlich in Zukunft definiert werden, nicht zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-211">A companion interface might be used, for example, if a particular provider provides (1) a great deal of additional controls over the behavior of a socket and (2) the controls are provider-specific enough that they do not map to existing Windows Socket functions or ones likely to be defined in the future.</span></span> <span data-ttu-id="71f8b-212">Es wird empfohlen, die Component Object Model (COM) anstelle dieser IOCTL zu verwenden, um andere Schnittstellen zu ermitteln und nachzuverfolgen, die möglicherweise von einem Socket unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-212">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="71f8b-213">Diese IOCTL ist für (umgekehrte) Kompatibilität mit Systemen vorhanden, bei denen COM nicht verfügbar ist oder aus einem anderen Grund nicht verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-213">This IOCTL is present for (reverse) compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_associate_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-214">SIO \_ ASSOCIATE PORT RESERVATION \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-214">SIO\_ASSOCIATE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-215">Ordnen Sie einen Socket einer permanenten oder Laufzeitreservierung für einen Block von TCP- oder UDP-Ports zu, die durch das Portreservierungstoken identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-215">Associate a socket with a persistent or runtime reservation for a block of TCP or UDP ports identified by the port reservation token.</span></span> <span data-ttu-id="71f8b-216">Die [**SIO \_ ASSOCIATE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL muss ausgegeben werden, bevor der Socket gebunden wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-216">The [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL must be issued before the socket is bound.</span></span> <span data-ttu-id="71f8b-217">Wenn und wenn der Socket gebunden ist, wird der ihm zugewiesene Port aus der Portreservierung ausgewählt, die durch das angegebene Token identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-217">If and when the socket is bound, the port assigned to it will be selected from the port reservation identified by the given token.</span></span> <span data-ttu-id="71f8b-218">Wenn in der angegebenen Reservierung keine Ports verfügbar sind, schlägt der Aufruf der [**Bindungsfunktion**](/windows/desktop/api/winsock/nf-winsock-bind) fehl.</span><span class="sxs-lookup"><span data-stu-id="71f8b-218">If no ports are available from the specified reservation, the [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) function call will fail.</span></span>

<span data-ttu-id="71f8b-219">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ ASSOCIATE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-219">For more detailed information, see the [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-220">[**SIO \_ ASSOCIATE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) wird unter Windows Vista und neueren Versionen des Betriebssystems unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-220">[**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_base_handle-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-221">SIO \_ BASE \_ HANDLE (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-221">SIO\_BASE\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-222">Ruft das Basishandle des Dienstanbieters für einen bestimmten Socket ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-222">Retrieves the base service provider handle for a given socket.</span></span> <span data-ttu-id="71f8b-223">Der zurückgegebene Wert ist ein **SOCKET.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-223">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="71f8b-224">Ein mehrstufiger Dienstanbieter würde diese IOCTL nie abfangen, da der Rückgabewert das Sockethandle des Basisdienstanbieters sein muss.</span><span class="sxs-lookup"><span data-stu-id="71f8b-224">A layered service provider would never intercept this IOCTL since the return value must be the socket handle from the base service provider.</span></span>

<span data-ttu-id="71f8b-225">Wenn der Ausgabepuffer für ein Sockethandle nicht groß genug ist (der *cbOutBuffer* ist kleiner als die Größe eines **SOCKET)** oder der *lpvOutBuffer-Parameter* ein **NULL-Zeiger** ist, wird **SOCKET \_ ERROR** als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEFAULT](windows-sockets-error-codes-2.md)zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-225">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="71f8b-226">**SIO \_ BASE \_ HANDLE** wird in der *Headerdatei Mswsock.h* definiert und unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-226">**SIO\_BASE\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-227">SIO \_ BSP \_ HANDLE (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-227">SIO\_BSP\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-228">Ruft das Handle des Basisdienstanbieters für einen Socket ab, der von der [**WSASendMsg-Funktion verwendet**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-228">Retrieves the base service provider handle for a socket used by the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span> <span data-ttu-id="71f8b-229">Der zurückgegebene Wert ist ein **SOCKET.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-229">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="71f8b-230">Diese Ioctl wird von einem mehrschichtigen Dienstanbieter verwendet, um sicherzustellen, dass der Anbieter die [**WSASendMsg-Funktion abfing.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="71f8b-230">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span>

<span data-ttu-id="71f8b-231">Wenn der Ausgabepuffer für ein Sockethandles nicht groß genug ist *(cbOutBuffer* ist kleiner als die Größe eines **SOCKETs),** oder der *lpvOutBuffer-Parameter* ein **NULL-Zeiger** ist, wird **SOCKET \_ ERROR** als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEFAULT zurück.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="71f8b-231">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="71f8b-232">**SIO \_ BSP \_ HANDLE** wird in der *Headerdatei "Mswsock.h"* definiert und unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-232">**SIO\_BSP\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_select-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-233">SIO \_ BSP \_ HANDLE SELECT \_ (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-233">SIO\_BSP\_HANDLE\_SELECT (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-234">Ruft das Handle des Basisdienstanbieters für einen Socket ab, der von der [**select-Funktion verwendet**](/windows/desktop/api/Winsock2/nf-winsock2-select) wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-234">Retrieves the base service provider handle for a socket used by the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span> <span data-ttu-id="71f8b-235">Der zurückgegebene Wert ist ein **SOCKET.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-235">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="71f8b-236">Diese Ioctl wird von einem mehrschichtigen Dienstanbieter verwendet, um sicherzustellen, dass der Anbieter die [**Select-Funktion abfing.**](/windows/desktop/api/Winsock2/nf-winsock2-select)</span><span class="sxs-lookup"><span data-stu-id="71f8b-236">This Ioctl is used by a layered service provider to ensure the provider intercept the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span>

<span data-ttu-id="71f8b-237">Wenn der Ausgabepuffer für ein Sockethandles nicht groß genug ist *(cbOutBuffer* ist kleiner als die Größe eines **SOCKETs),** oder der *lpvOutBuffer-Parameter* ein **NULL-Zeiger** ist, wird **SOCKET \_ ERROR** als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEFAULT zurück.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="71f8b-237">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="71f8b-238">**SIO \_ BSP \_ HANDLE \_ SELECT** wird in der *Headerdatei "Mswsock.h"* definiert und unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-238">**SIO\_BSP\_HANDLE\_SELECT** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_poll-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-239">SIO \_ BSP \_ HANDLE POLL \_ (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-239">SIO\_BSP\_HANDLE\_POLL (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-240">Ruft das Basis-Dienstanbieterhandle für einen Socket ab, der von der [**WSAPoll-Funktion verwendet**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-240">Retrieves the base service provider handle for a socket used by the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="71f8b-241">Der *lpOverlapped-Parameter* muss ein **NULL-Zeiger** sein.</span><span class="sxs-lookup"><span data-stu-id="71f8b-241">The *lpOverlapped* parameter must be a **NULL** pointer.</span></span> <span data-ttu-id="71f8b-242">Der zurückgegebene Wert ist ein **SOCKET.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-242">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="71f8b-243">Diese Ioctl wird von einem mehrschichtigen Dienstanbieter verwendet, um sicherzustellen, dass der Anbieter die [**WSAPoll-Funktion abfing.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="71f8b-243">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span>

<span data-ttu-id="71f8b-244">Wenn der Ausgabepuffer für ein Sockethandle nicht groß genug ist (der *cbOutBuffer* ist kleiner als die Größe eines **SOCKET),** ist der *lpvOutBuffer-Parameter* ein **NULL-Zeiger,** oder der *lpOverlapped-Parameter* ist kein **NULL-Zeiger.** **SOCKET \_ ERROR** wird als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEFAULT](windows-sockets-error-codes-2.md)zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-244">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**), the *lpvOutBuffer* parameter is a **NULL** pointer, or the *lpOverlapped* parameter is not a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="71f8b-245">**SIO \_ BSP \_ HANDLE \_ POLL** wird in der *Headerdatei Mswsock.h* definiert und unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-245">**SIO\_BSP\_HANDLE\_POLL** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_chk_qos-opcode-setting-i-o-t3"></a><span data-ttu-id="71f8b-246">SIO \_ CHK \_ QOS (Opcodeeinstellung: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-246">SIO\_CHK\_QOS (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="71f8b-247">Ruft Informationen zu QoS-Datenverkehrsmerkmalen ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-247">Retrieves information about QoS traffic characteristics.</span></span> <span data-ttu-id="71f8b-248">Während der Übergangsphase auf dem Sendesystem zwischen flow setup und dem Empfang einer RESV-Nachricht (weitere Informationen zur Übergangsphase finden Sie unter [Wie der RSVP-Dienst TC aufruft),](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) wird der einem RSVP-Flow zugeordnete Datenverkehr basierend auf dem Diensttyp ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load)oder [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)) gestaltet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-248">During the transitional phase on the sending system between flow setup and the receipt of a RESV message (see [How the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) for more information on the transitional phase), traffic associated with an RSVP flow is shaped based on service type ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load), or [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)).</span></span> <span data-ttu-id="71f8b-249">Weitere Informationen finden Sie unter [Verwenden von SIO \_ CHK \_ QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) im [Abschnitt Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) des Plattform-SDK.</span><span class="sxs-lookup"><span data-stu-id="71f8b-249">For more information, see [Using SIO\_CHK\_QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) in the [Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) section of the Platform SDK.</span></span>

### <a name="sio_cpu_affinity-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-250">SIO_CPU_AFFINITY (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-250">SIO_CPU_AFFINITY (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-251">Aktiviert die Portfreigabe und die Empfangsanzeigeparallelisierung.</span><span class="sxs-lookup"><span data-stu-id="71f8b-251">Enables port sharing and receive indication parallelization.</span></span> <span data-ttu-id="71f8b-252">Wenn Ihre Anwendung diese Socketoption verwendet, um Sockets verschiedenen Prozessoren zuzuordnen, und dann die Sockets an dieselbe Adresse bindet, werden Empfangsanzeigen basierend auf dem RSS-Hash (Receive Side Scaling) auf die Sockets verteilt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-252">When your application uses this socket option to associate sockets to different processors, and then binds the sockets to the same address, receive indications will be distributed across the sockets based on Receive Side Scaling (RSS) hash.</span></span> <span data-ttu-id="71f8b-253">Die RSS-Einstellungen ändern sich nicht, sodass jeder flow (lokaler Endpunkt, Remoteendpunktpaar) immer auf demselben Prozessor angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-253">The RSS settings don't change, so any given flow (local endpoint, remote endpoint pair) will always be indicated on the same processor.</span></span> <span data-ttu-id="71f8b-254">Daher werden alle Pakete, die zu einem bestimmten Flow gehören, an denselben Socket angezeigt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-254">As a result, all packets belonging to a given flow will be indicated to the same socket.</span></span> <span data-ttu-id="71f8b-255">Diese IOCTL muss vor der Bindung aufgerufen werden, andernfalls wird WSAEINVAL zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-255">This IOCTL must be called prior to bind, otherwise WSAEINVAL will be returned.</span></span> <span data-ttu-id="71f8b-256">Der Eingabepuffer ist ein Prozessorindex (0-basiert) vom Typ USHORT.</span><span class="sxs-lookup"><span data-stu-id="71f8b-256">The input buffer is a processor index (0-based) of type USHORT.</span></span> <span data-ttu-id="71f8b-257">Die IOCTL ist nicht mit SO_REUSEADDR und SO_REUSE_MULTICASTPORT kompatibel.</span><span class="sxs-lookup"><span data-stu-id="71f8b-257">The IOCTL is incompatible with SO_REUSEADDR and SO_REUSE_MULTICASTPORT.</span></span> <span data-ttu-id="71f8b-258">Wird nur für UDP-Sockets unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-258">Only supported for UDP sockets.</span></span>

> [!NOTE]
> <span data-ttu-id="71f8b-259">Wenn Sie version 10.0.19041.0 (Windows 10, Version 2004) der Windows SDK als Ziel verwenden, verwenden Sie den Wert anstelle des Namens `0x98000015` **SIO_CPU_AFFINITY**.</span><span class="sxs-lookup"><span data-stu-id="71f8b-259">If you're targeting version 10.0.19041.0 (Windows 10, version 2004) of the Windows SDK, then use the value `0x98000015` instead of the name **SIO_CPU_AFFINITY**.</span></span>

### <a name="sio_enable_circular_queueing-opcode-setting-v-t1"></a><span data-ttu-id="71f8b-260">SIO \_ ENABLE \_ CIRCULAR \_ QUEUEING (Opcodeeinstellung: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-260">SIO\_ENABLE\_CIRCULAR\_QUEUEING (opcode setting: V, T==1)</span></span>

<span data-ttu-id="71f8b-261">Gibt für den zugrunde liegenden nachrichtenorientierten Dienstanbieter an, dass eine neu eingetroffene Nachricht aufgrund eines Pufferwarteschlangenüberlaufs nie gelöscht werden soll.</span><span class="sxs-lookup"><span data-stu-id="71f8b-261">Indicates to the underlying message-oriented service provider that a newly arrived message should never be dropped because of a buffer queue overflow.</span></span> <span data-ttu-id="71f8b-262">Stattdessen sollte die älteste Nachricht in der Warteschlange entfernt werden, um die neu eingetroffene Nachricht aufnehmen zu können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-262">Instead, the oldest message in the queue should be eliminated in order to accommodate the newly arrived message.</span></span> <span data-ttu-id="71f8b-263">Es sind keine Eingabe- und Ausgabepuffer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="71f8b-263">No input and output buffers are required.</span></span> <span data-ttu-id="71f8b-264">Beachten Sie, dass diese IOCTL nur für Sockets gültig ist, die unzuverlässigen, nachrichtenorientierten Protokollen zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="71f8b-264">Note that this IOCTL is only valid for sockets associated with unreliable, message-oriented protocols.</span></span> <span data-ttu-id="71f8b-265">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angezeigt, die diese IOCTL nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-265">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_find_route-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-266">SIO \_ FIND \_ ROUTE (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-266">SIO\_FIND\_ROUTE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-267">Bei der Ausgabe fordert diese IOCTL an, dass die Route zur Remoteadresse, die als [**Sockaddr**](sockaddr-2.md) im Eingabepuffer angegeben ist, gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-267">When issued, this IOCTL requests that the route to the remote address specified as a [**sockaddr**](sockaddr-2.md) in the input buffer be discovered.</span></span> <span data-ttu-id="71f8b-268">Wenn die Adresse bereits im lokalen Cache vorhanden ist, wird ihr Eintrag ungültig.</span><span class="sxs-lookup"><span data-stu-id="71f8b-268">If the address already exists in the local cache, its entry is invalidated.</span></span> <span data-ttu-id="71f8b-269">Im Fall von "IPX" initiiert dieser Aufruf ein IPX GetLocalTarget (GLT), das das Netzwerk nach der angegebenen Remoteadresse abfragt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-269">In the case of Novell's IPX, this call initiates an IPX GetLocalTarget (GLT), which queries the network for the given remote address.</span></span>

### <a name="sio_flush-opcode-setting-v-t1"></a><span data-ttu-id="71f8b-270">SIO \_ FLUSH (Opcodeeinstellung: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-270">SIO\_FLUSH (opcode setting: V, T==1)</span></span>

<span data-ttu-id="71f8b-271">Verwirft den aktuellen Inhalt der sendeenden Warteschlange, die diesem Socket zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-271">Discards current contents of the sending queue associated with this socket.</span></span> <span data-ttu-id="71f8b-272">Es sind keine Eingabe- und Ausgabepuffer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="71f8b-272">No input and output buffers are required.</span></span> <span data-ttu-id="71f8b-273">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angezeigt, die diese IOCTL nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-273">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_get_broadcast_address-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-274">SIO \_ GET BROADCAST ADDRESS \_ \_ (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-274">SIO\_GET\_BROADCAST\_ADDRESS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-275">Diese IOCTL füllt den Ausgabepuffer mit einer [Sockaddr-Struktur](sockaddr-2.md) auf, die eine geeignete Broadcastadresse für die Verwendung mit [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto) /  [**WSASendTo enthält.**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto)</span><span class="sxs-lookup"><span data-stu-id="71f8b-275">This IOCTL fills the output buffer with a [sockaddr](sockaddr-2.md) structure containing a suitable broadcast address for use with [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto)/ [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span></span> <span data-ttu-id="71f8b-276">Diese IOCTL wird für IPv6-Sockets nicht unterstützt und gibt den [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-276">This IOCTL is not supported for IPv6 sockets and returns the [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code.</span></span>

### <a name="sio_get_extension_function_pointer-opcode-setting-o-i-t1"></a><span data-ttu-id="71f8b-277">SIO \_ GET EXTENSION FUNCTION \_ \_ \_ POINTER (Opcodeeinstellung: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-277">SIO\_GET\_EXTENSION\_FUNCTION\_POINTER (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="71f8b-278">Rufen Sie einen Zeiger auf die angegebene Erweiterungsfunktion ab, die vom zugeordneten Dienstanbieter unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-278">Retrieve a pointer to the specified extension function supported by the associated service provider.</span></span> <span data-ttu-id="71f8b-279">Der Eingabepuffer enthält einen global eindeutigen Bezeichner **(GUID),** dessen Wert die betreffende Erweiterungsfunktion identifiziert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-279">The input buffer contains a globally unique identifier (**GUID**) whose value identifies the extension function in question.</span></span> <span data-ttu-id="71f8b-280">Der Zeiger auf die gewünschte Funktion wird im Ausgabepuffer zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-280">The pointer to the desired function is returned in the output buffer.</span></span> <span data-ttu-id="71f8b-281">Erweiterungsfunktionenbezeichner werden von Dienstanbietern erstellt und sollten in der Herstellerdokumentation enthalten sein, in der Funktionen und Semantik von Erweiterungsfunktionen beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-281">Extension function identifiers are established by service provider vendors and should be included in vendor documentation that describes extension function capabilities and semantics.</span></span>

<span data-ttu-id="71f8b-282">Die GUID-Werte für Erweiterungsfunktionen, die vom Windows TCP/IP-Dienstanbieter unterstützt werden, werden in der *Headerdatei Mswsock.h* definiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-282">The GUID values for extension functions supported by the Windows TCP/IP service provider are defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="71f8b-283">Der mögliche Wert für diese GUIDs lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="71f8b-283">The possible value for these GUIDs are as follows:</span></span>

| <span data-ttu-id="71f8b-284">Begriff</span><span class="sxs-lookup"><span data-stu-id="71f8b-284">Term</span></span>                                                                                                                | <span data-ttu-id="71f8b-285">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="71f8b-285">Description</span></span>                                                                               |
|-|-|
| <span data-ttu-id="71f8b-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID \_ ACCEPTEX</span><span class="sxs-lookup"><span data-stu-id="71f8b-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID\_ACCEPTEX</span></span><br/>                                     | <span data-ttu-id="71f8b-287">Die [](/windows/win32/api/mswsock/nf-mswsock-acceptex) AcceptEx-Erweiterungsfunktion.</span><span class="sxs-lookup"><span data-stu-id="71f8b-287">The [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) extension function.</span></span><br/>                         |
| <span data-ttu-id="71f8b-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID \_ CONNECTEX</span><span class="sxs-lookup"><span data-stu-id="71f8b-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID\_CONNECTEX</span></span><br/>                                  | <span data-ttu-id="71f8b-289">Die [](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) ConnectEx-Erweiterungsfunktion.</span><span class="sxs-lookup"><span data-stu-id="71f8b-289">The [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) extension function.</span></span> <br/>                      |
| <span data-ttu-id="71f8b-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID \_ DISCONNECTEX</span><span class="sxs-lookup"><span data-stu-id="71f8b-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID\_DISCONNECTEX</span></span><br/>                         | <span data-ttu-id="71f8b-291">Die [](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) DisconnectEx-Erweiterungsfunktion.</span><span class="sxs-lookup"><span data-stu-id="71f8b-291">The [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) extension function.</span></span> <br/>                |
| <span data-ttu-id="71f8b-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID \_ GETACCEPTEXSOCKADDRS</span><span class="sxs-lookup"><span data-stu-id="71f8b-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID\_GETACCEPTEXSOCKADDRS</span></span><br/> | <span data-ttu-id="71f8b-293">Die [**Erweiterungsfunktion GetAcceptExSockaddrs.**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs)</span><span class="sxs-lookup"><span data-stu-id="71f8b-293">The [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) extension function.</span></span><br/> |
| <span data-ttu-id="71f8b-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID \_ TRANSMITFILE</span><span class="sxs-lookup"><span data-stu-id="71f8b-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID\_TRANSMITFILE</span></span><br/>                         | <span data-ttu-id="71f8b-295">Die [**TransmitFile-Erweiterungsfunktion.**](/windows/win32/api/mswsock/nf-mswsock-transmitfile)</span><span class="sxs-lookup"><span data-stu-id="71f8b-295">The [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) extension function.</span></span><br/>                 |
| <span data-ttu-id="71f8b-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID \_ TRANSMITPACKETS</span><span class="sxs-lookup"><span data-stu-id="71f8b-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID\_TRANSMITPACKETS</span></span><br/>                | <span data-ttu-id="71f8b-297">Die [](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) TransmitPackets-Erweiterungsfunktion.</span><span class="sxs-lookup"><span data-stu-id="71f8b-297">The [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) extension function.</span></span> <br/>          |
| <span data-ttu-id="71f8b-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID \_ WSARECVMSG</span><span class="sxs-lookup"><span data-stu-id="71f8b-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID\_WSARECVMSG</span></span><br/>                               | <span data-ttu-id="71f8b-299">Die [**erweiterungsfunktion LPFN_WSARECVMSG (WSARecvMsg).**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)</span><span class="sxs-lookup"><span data-stu-id="71f8b-299">The [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) extension function.</span></span><br/>                     |
| <span data-ttu-id="71f8b-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID \_ WSASENDMSG</span><span class="sxs-lookup"><span data-stu-id="71f8b-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID\_WSASENDMSG</span></span><br/>                               | <span data-ttu-id="71f8b-301">Die [**WSASendMsg-Erweiterungsfunktion.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="71f8b-301">The [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) extension function.</span></span> <br/>                      |

### <a name="sio_get_group_qos-opcode-setting-o-i-t1"></a><span data-ttu-id="71f8b-302">SIO \_ GET \_ GROUP \_ QOS (Opcodeeinstellung: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-302">SIO\_GET\_GROUP\_QOS (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="71f8b-303">Für die zukünftige Verwendung mit Sockets reserviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-303">Reserved for future use with sockets.</span></span>

<span data-ttu-id="71f8b-304">Rufen Sie die [**QOS-Struktur**](/windows/win32/api/winsock2/ns-winsock2-qos) ab, die der Socketgruppe zugeordnet ist, zu der dieser Socket gehört.</span><span class="sxs-lookup"><span data-stu-id="71f8b-304">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket group to which this socket belongs.</span></span> <span data-ttu-id="71f8b-305">Der Eingabepuffer ist optional.</span><span class="sxs-lookup"><span data-stu-id="71f8b-305">The input buffer is optional.</span></span> <span data-ttu-id="71f8b-306">Einige Protokolle (z. B. RSVP) ermöglichen die Verwendung des Eingabepuffers, um eine Servicequalitätsanforderung zu qualifizieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-306">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="71f8b-307">Die **QOS-Struktur** wird in den Ausgabepuffer kopiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-307">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="71f8b-308">Wenn dieser Socket nicht zu einer entsprechenden Socketgruppe gehört, werden die **SendingFlowspec-** und **ReceivingFlowspec-Member** der zurückgegebenen **QOS-Struktur** auf **NULL festgelegt.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-308">If this socket does not belong to an appropriate socket group, the **SendingFlowspec** and **ReceivingFlowspec** members of the returned **QOS** structure are set to **NULL**.</span></span> <span data-ttu-id="71f8b-309">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angegeben, die die Servicequalität nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-309">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_get_interface_list-opcode-setting-o-t0"></a><span data-ttu-id="71f8b-310">SIO \_ GET INTERFACE LIST \_ \_ (Opcodeeinstellung: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="71f8b-310">SIO\_GET\_INTERFACE\_LIST (opcode setting: O, T==0)</span></span>

<span data-ttu-id="71f8b-311">Gibt eine Liste der konfigurierten IP-Schnittstellen und deren Parameter als Array von [**INTERFACE \_ INFO-Strukturen**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-311">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures.</span></span>

> [!Note]  
> <span data-ttu-id="71f8b-312">Die Unterstützung dieses Befehls ist für Windows Sockets 2-kompatible TCP/IP-Dienstanbieter obligatorisch.</span><span class="sxs-lookup"><span data-stu-id="71f8b-312">Support of this command is mandatory for Windows Sockets 2-compliant TCP/IP service providers.</span></span>

<span data-ttu-id="71f8b-313">Der *lpvOutBuffer-Parameter* zeigt auf den Puffer, in dem die Informationen zu Schnittstellen als Array von [**INTERFACE \_ INFO-Strukturen**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) für Unicast-IP-Adressen auf den Schnittstellen gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-313">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures for unicast IP addresses on the interfaces.</span></span> <span data-ttu-id="71f8b-314">Der *cbOutBuffer-Parameter* gibt die Länge des Ausgabepuffers an.</span><span class="sxs-lookup"><span data-stu-id="71f8b-314">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="71f8b-315">Die Anzahl der zurückgegebenen Schnittstellen (Anzahl von Strukturen, die im Puffer zurückgegeben werden, auf den der *lpvOutBuffer-Parameter* zeigt) kann basierend auf der tatsächlichen Länge des Ausgabepuffers bestimmt werden, der im *lpcbBytesReturned-Parameter* zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-315">The number of interfaces returned (number of structures returned in the buffer pointed to by *lpvOutBuffer* parameter) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="71f8b-316">Wenn die [**WSAIoctl-Funktion**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) mit **SIO \_ GET INTERFACE \_ \_ LIST**  aufgerufen wird und der Level-Member des Sockets s-Parameters nicht als **IPPROTO \_ IP** definiert ist, wird **WSAEINVAL** zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-316">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is called with **SIO\_GET\_INTERFACE\_LIST** and the level member of the socket *s* parameter is not defined as **IPPROTO\_IP**, **WSAEINVAL** is returned.</span></span> <span data-ttu-id="71f8b-317">Ein Aufruf der **WSAIoctl-Funktion** mit **SIO \_ GET INTERFACE \_ \_ LIST** gibt **WSAEFAULT** zurück, wenn der *cbOutBuffer-Parameter,* der die Länge des Ausgabepuffers angibt, zu klein ist, um die Liste der konfigurierten Schnittstellen zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-317">A call to the **WSAIoctl** function with **SIO\_GET\_INTERFACE\_LIST** returns **WSAEFAULT** if the *cbOutBuffer* parameter that specifies the length of the output buffer is too small ro receive the list of configured interfaces.</span></span>

<span data-ttu-id="71f8b-318">**SIO \_ GET \_ INTERFACE \_ LIST** wird unter Windows Me/98 und Windows NT 4.0 mit SP4 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-318">**SIO\_GET\_INTERFACE\_LIST** is supported on Windows Me/98 and Windows NT 4.0 with SP4 and later.</span></span>

### <a name="sio_get_interface_list_ex-opcode-setting-o-t0"></a><span data-ttu-id="71f8b-319">SIO \_ GET INTERFACE LIST EX \_ \_ \_ (Opcodeeinstellung: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="71f8b-319">SIO\_GET\_INTERFACE\_LIST\_EX (opcode setting: O, T==0)</span></span>

<span data-ttu-id="71f8b-320">Für die zukünftige Verwendung mit Sockets reserviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-320">Reserved for future use with sockets.</span></span>

<span data-ttu-id="71f8b-321">Gibt eine Liste der konfigurierten IP-Schnittstellen und deren Parameter als Array von [**INTERFACE \_ INFO \_ EX-Strukturen**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-321">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures.</span></span>

<span data-ttu-id="71f8b-322">Der *lpvOutBuffer-Parameter* zeigt auf den Puffer, in dem die Informationen zu Schnittstellen als Array von [**INTERFACE INFO \_ \_ EX-Strukturen**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) für Unicast-IP-Adressen auf der Schnittstelle gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-322">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures for unicast IP addresses on the interface.</span></span> <span data-ttu-id="71f8b-323">Der *cbOutBuffer-Parameter* gibt die Länge des Ausgabepuffers an.</span><span class="sxs-lookup"><span data-stu-id="71f8b-323">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="71f8b-324">Die Anzahl der zurückgegebenen Schnittstellen (Anzahl der in *lpvOutBuffer* zurückgegebenen Strukturen) kann basierend auf der tatsächlichen Länge des Ausgabepuffers bestimmt werden, der im *lpcbBytesReturned-Parameter zurückgegeben* wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-324">The number of interfaces returned (number of structures returned in *lpvOutBuffer*) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="71f8b-325">**SIO \_ GET \_ INTERFACE \_ LIST \_ EX** wird unter Windows derzeit nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-325">**SIO\_GET\_INTERFACE\_LIST\_EX** is not currently supported on Windows.</span></span>

### <a name="sio_get_qos-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-326">SIO \_ GET \_ QOS (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-326">SIO\_GET\_QOS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-327">Für die zukünftige Verwendung mit Sockets reserviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-327">Reserved for future use with sockets.</span></span> <span data-ttu-id="71f8b-328">Rufen Sie die [**QOS-Struktur**](/windows/win32/api/winsock2/ns-winsock2-qos) ab, die dem Socket zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-328">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket.</span></span> <span data-ttu-id="71f8b-329">Der Eingabepuffer ist optional.</span><span class="sxs-lookup"><span data-stu-id="71f8b-329">The input buffer is optional.</span></span> <span data-ttu-id="71f8b-330">Einige Protokolle (z. B. RSVP) ermöglichen die Verwendung des Eingabepuffers, um eine Servicequalitätsanforderung zu qualifizieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-330">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="71f8b-331">Die **QOS-Struktur** wird in den Ausgabepuffer kopiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-331">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="71f8b-332">Der Ausgabepuffer muss groß genug sein, um die vollständige **QOS-Struktur enthalten zu** können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-332">The output buffer must be sized large enough to be able to contain the full **QOS** structure.</span></span> <span data-ttu-id="71f8b-333">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angegeben, die die Servicequalität nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-333">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

<span data-ttu-id="71f8b-334">Ein Absender darf **SIO \_ GET \_ QOS** erst aufrufen, wenn der Socket verbunden ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-334">A sender may not call **SIO\_GET\_QOS** until the socket is connected.</span></span>

<span data-ttu-id="71f8b-335">Ein Empfänger kann **SIO \_ GET \_ QOS aufrufen,** sobald er gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-335">A receiver may call **SIO\_GET\_QOS** as soon as it is bound.</span></span>

### <a name="sio_get_tx_timestamp"></a><span data-ttu-id="71f8b-336">SIO_GET_TX_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="71f8b-336">SIO_GET_TX_TIMESTAMP</span></span>

<span data-ttu-id="71f8b-337">Eine Socket-IOCTL, die zum Abrufen von Zeitstempeln für übertragene Pakete (TX) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-337">A socket IOCTL used to get timestamps for transmitted (TX) packets.</span></span> <span data-ttu-id="71f8b-338">Nur für Datagrammsockets gültig.</span><span class="sxs-lookup"><span data-stu-id="71f8b-338">Valid only for datagram sockets.</span></span>

<span data-ttu-id="71f8b-339">Der  SIO_GET_TX_TIMESTAMP-Steuerungscode entfernt einen Übertragungszeitstempel aus der Übertragungszeitstempelwarteschlange eines Sockets.</span><span class="sxs-lookup"><span data-stu-id="71f8b-339">The **SIO_GET_TX_TIMESTAMP** control code removes a transmit timestamp from a socket's transmit timestamp queue.</span></span> <span data-ttu-id="71f8b-340">Aktivieren Sie zuerst den Empfang des Zeitstempels, indem Sie die [**SIO_TIMESTAMPING**](#sio_timestamping) Socket-IOCTL verwenden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-340">Enable timestamp reception first by using the [**SIO_TIMESTAMPING**](#sio_timestamping) socket IOCTL.</span></span> <span data-ttu-id="71f8b-341">Rufen Sie dann TX-Zeitstempel anhand der ID ab, indem Sie die [**WSAIoctl-Funktion**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (oder [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) mit den folgenden Parametern aufrufen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-341">Then retrieve tx timestamps by ID by calling the [**WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) function with the following parameters.</span></span>

<span data-ttu-id="71f8b-342">Für **SIO_GET_TX_TIMESTAMP** ist die Eingabe eine UINT32-Zeitstempel-ID, und die Ausgabe ist ein  **UINT64-Zeitstempelwert.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-342">For **SIO_GET_TX_TIMESTAMP**, the input is a **UINT32** timestamp ID, and the output is a **UINT64** timestamp value.</span></span> <span data-ttu-id="71f8b-343">Bei Erfolg ist der tx-Zeitstempel verfügbar und wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-343">On success, the tx timestamp is available, and is returned.</span></span> <span data-ttu-id="71f8b-344">Wenn keine Übertragungszeitstempel verfügbar sind, gibt [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) **WSAEWOULDBLOCK** zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-344">If no transmit timestamps are available, then [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) returns **WSAEWOULDBLOCK**.</span></span>

> [!NOTE]
> <span data-ttu-id="71f8b-345">TX-Zeitstempel werden nicht unterstützt, wenn ein zusammengehöriges Senden über **UDP_SEND_MSG_SIZE** erfolgt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-345">TX timestamps are not supported when doing a coalesced send via **UDP_SEND_MSG_SIZE**.</span></span>

<span data-ttu-id="71f8b-346">Siehe auch [Winsock-Zeitstempel.](/windows/win32/winsock/winsock-timestamping)</span><span class="sxs-lookup"><span data-stu-id="71f8b-346">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_ideal_send_backlog_change-opcode-setting-v-t0"></a><span data-ttu-id="71f8b-347">SIO \_ IDEAL \_ SEND \_ BACKLOG CHANGE \_ (Opcodeeinstellung: V, T==0)</span><span class="sxs-lookup"><span data-stu-id="71f8b-347">SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE (opcode setting: V, T==0)</span></span>

<span data-ttu-id="71f8b-348">Benachrichtigt eine Anwendung, wenn sich der ideale WERT für das Sendebacklog (ISB) für die zugrunde liegende Verbindung ändert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-348">Notifies an application when the ideal send backlog (ISB) value changes for the underlying connection.</span></span>

<span data-ttu-id="71f8b-349">Beim Senden von Daten über eine TCP-Verbindung mithilfe von Windows-Sockets ist es wichtig, eine ausreichende Menge an ausstehenden (gesendeten, aber noch nicht bestätigten) Daten in TCP beizubehalten, um den höchsten Durchsatz zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-349">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="71f8b-350">Der ideale Wert für die menge der ausstehenden Daten, um den besten Durchsatz für die TCP-Verbindung zu erzielen, wird als ideale Größe des Sendebacklogs (ISB) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-350">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="71f8b-351">Der ISB-Wert ist eine Funktion des Bandbreitenverzögerungsprodukts der TCP-Verbindung und des angekündigten Empfangsfensters des Empfängers (und teilweise der Überlastung im Netzwerk).</span><span class="sxs-lookup"><span data-stu-id="71f8b-351">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="71f8b-352">Der ISB-Wert pro Verbindung ist über die TCP-Protokollimplementierung in Windows Server 2008, Windows Vista mit SP1 und neueren Versionen des Betriebssystems verfügbar.</span><span class="sxs-lookup"><span data-stu-id="71f8b-352">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span> <span data-ttu-id="71f8b-353">Die **SIO \_ IDEAL SEND \_ \_ BACKLOG \_ CHANGE** IOCTL kann von einer Anwendung verwendet werden, um Benachrichtigungen zu erhalten, wenn sich der ISB-Wert für eine Verbindung dynamisch ändert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-353">The **SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE** IOCTL can be used by an application to get notification when the ISB value changes dynamically for a connection.</span></span>

<span data-ttu-id="71f8b-354">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ IDEAL SEND BACKLOG \_ \_ \_ CHANGE.**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-354">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-355">[**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) wird unter Windows Server 2008, Windows Vista mit SP1 und neueren Versionen des Betriebssystems unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-355">[**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_ideal_send_backlog_query-opcode-setting-o-t0"></a><span data-ttu-id="71f8b-356">SIO \_ IDEAL SEND BACKLOG QUERY \_ \_ \_ (Opcodeeinstellung: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="71f8b-356">SIO\_IDEAL\_SEND\_BACKLOG\_QUERY (opcode setting: O, T==0)</span></span>

<span data-ttu-id="71f8b-357">Ruft den idealen ISB-Wert (Send Backlog) für die zugrunde liegende Verbindung ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-357">Retrieves the ideal send backlog (ISB) value for the underlying connection.</span></span>

<span data-ttu-id="71f8b-358">Beim Senden von Daten über eine TCP-Verbindung mitHilfe von Windows-Sockets ist es wichtig, eine ausreichende Menge an ausstehenden Daten (gesendet, aber noch nicht bestätigt) in TCP zu behalten, um den höchsten Durchsatz zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-358">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="71f8b-359">Der ideale Wert für die menge der ausstehenden Daten, um den besten Durchsatz für die TCP-Verbindung zu erzielen, wird als ideale GRÖßE des Senderückstands (ISB) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-359">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="71f8b-360">Der ISB-Wert ist eine Funktion des Bandbreitenverzögerungsprodukts der TCP-Verbindung und des angekündigten Empfangsfensters des Empfängers (und teilweise der Überlastung im Netzwerk).</span><span class="sxs-lookup"><span data-stu-id="71f8b-360">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="71f8b-361">Der ISB-Wert pro Verbindung ist über die TCP-Protokollimplementierung in Windows Server 2008 und höher verfügbar.</span><span class="sxs-lookup"><span data-stu-id="71f8b-361">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008 and later.</span></span> <span data-ttu-id="71f8b-362">Die **SIO \_ IDEAL SEND BACKLOG \_ \_ \_ QUERY** IOCTL kann von einer Anwendung verwendet werden, um den ISB-Wert für eine Verbindung abfragt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-362">The **SIO\_IDEAL\_SEND\_BACKLOG\_QUERY** IOCTL can be used by an application to query the ISB value for a connection.</span></span>

<span data-ttu-id="71f8b-363">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ IDEAL SEND BACKLOG \_ \_ \_ QUERY.**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-363">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-364">[**SIO \_ IDEAL \_ SEND \_ BACKLOG \_ QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) wird unter Windows Server 2008, Windows Vista mit SP1 und neueren Versionen des Betriebssystems unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-364">[**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_keepalive_vals-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-365">SIO \_ KEEPALIVE \_ VALS (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-365">SIO\_KEEPALIVE\_VALS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-366">Aktiviert oder deaktiviert die Verbindungseinstellung der **TCP-Keep-Alive-Option,** die das TCP-Keep-Alive-Timeout und -Intervall angibt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-366">Enables or disables the per-connection setting of the TCP **keep-alive** option which specifies the TCP keep-alive timeout and interval.</span></span> <span data-ttu-id="71f8b-367">Weitere Informationen zur Keep-Alive-Option finden Sie in Abschnitt 4.2.3.6 unter *Requirements for Internet Hosts – Communication Layers specified* in RFC 1122 available at the IETF website (Anforderungen für Internethosts – Kommunikationsebenen gemäß RFC 1122), die auf der [IETF-Website](https://www.ietf.org/rfc/rfc1122.txt)verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="71f8b-367">For more information on the keep-alive option, see section 4.2.3.6 on the *Requirements for Internet Hosts—Communication Layers* specified in RFC 1122 available at the [IETF website](https://www.ietf.org/rfc/rfc1122.txt).</span></span> <span data-ttu-id="71f8b-368">(Diese Ressource ist möglicherweise nur auf Englisch verfügbar.)</span><span class="sxs-lookup"><span data-stu-id="71f8b-368">(This resource may only be available in English.)</span></span>

<span data-ttu-id="71f8b-369">**SIO \_ KEEPALIVE \_ VALS** kann verwendet werden, um Keep-Alive-Tests zu aktivieren oder zu deaktivieren und das Keep-Alive-Timeout und -Intervall festzulegen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-369">**SIO\_KEEPALIVE\_VALS** can be used to enable or disable keep-alive probes and set the keep-alive timeout and interval.</span></span> <span data-ttu-id="71f8b-370">Das Keep-Alive-Timeout gibt das Timeout in Millisekunden ohne Aktivität an, bis das erste Keep-Alive-Paket gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-370">The keep-alive timeout specifies the timeout, in milliseconds, with no activity until the first keep-alive packet is sent.</span></span> <span data-ttu-id="71f8b-371">Das Keep-Alive-Intervall gibt das Intervall in Millisekunden zwischen dem Zeitpunkt an, zu dem aufeinander folgende Keep-Alive-Pakete gesendet werden, wenn keine Bestätigung empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-371">The keep-alive interval specifies the interval, in milliseconds, between when successive keep-alive packets are sent if no acknowledgement is received.</span></span>

<span data-ttu-id="71f8b-372">Die [**SO \_ KEEPALIVE-Option,**](so-keepalive.md) eine der [SOL SOCKET \_ Socket-Optionen,](sol-socket-socket-options.md)kann auch verwendet werden, um tcp keep-alive für eine Verbindung zu aktivieren oder zu deaktivieren sowie den aktuellen Status dieser Option abzufragen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-372">The [**SO\_KEEPALIVE**](so-keepalive.md) option, which is one of the [SOL\_SOCKET Socket Options](sol-socket-socket-options.md), can also be used to enable or disable the TCP keep-alive on a connection, as well as query the current state of this option.</span></span> <span data-ttu-id="71f8b-373">Um abzufragen, ob TCP Keep-Alive für einen Socket aktiviert ist, kann die [**getsockopt-Funktion**](/windows/desktop/api/winsock/nf-winsock-getsockopt) mit der **OPTION SO \_ KEEPALIVE** aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-373">To query whether TCP keep-alive is enabled on a socket, the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) function can be called with the **SO\_KEEPALIVE** option.</span></span> <span data-ttu-id="71f8b-374">Um TCP Keep-Alive zu aktivieren oder zu deaktivieren, kann die [**setsockopt-Funktion**](/windows/desktop/api/winsock/nf-winsock-setsockopt) mit der [**OPTION SO \_ KEEPALIVE**](so-keepalive.md) aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-374">To enable or disable TCP keep-alive, the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function can be called with the [**SO\_KEEPALIVE**](so-keepalive.md) option.</span></span> <span data-ttu-id="71f8b-375">Wenn TCP Keep-Alive mit **SO \_ KEEPALIVE** aktiviert ist, werden die TCP-Standardeinstellungen für Keep-Alive-Timeout und -Intervall verwendet, es sei denn, diese Werte wurden mit **SIO \_ KEEPALIVE \_ VALS** geändert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-375">If TCP keep-alive is enabled with **SO\_KEEPALIVE**, then the default TCP settings are used for keep-alive timeout and interval unless these values have been changed using **SIO\_KEEPALIVE\_VALS**.</span></span>

<span data-ttu-id="71f8b-376">Ausführlichere Informationen finden Sie in der [**SIO \_ KEEPALIVE \_ VALS-Referenz.**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-376">For more detailed information, see the [**SIO\_KEEPALIVE\_VALS**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-377">**SIO \_ KEEPALIVE \_ VALS** wird unter Windows 2000 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-377">**SIO\_KEEPALIVE\_VALS** is supported on Windows 2000 and later.</span></span>

### <a name="sio_loopback_fast_path-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-378">SIO \_ LOOPBACK \_ FAST PATH \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-378">SIO\_LOOPBACK\_FAST\_PATH (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-379">Konfiguriert einen TCP-Socket für geringere Latenz und schnellere Vorgänge auf der Loopbackschnittstelle.</span><span class="sxs-lookup"><span data-stu-id="71f8b-379">Configures a TCP socket for lower latency and faster operations on the loopback interface.</span></span> <span data-ttu-id="71f8b-380">Diese IOCTL fordert an, dass der TCP/IP-Stapel einen speziellen schnellen Pfad für Loopbackvorgänge auf diesem Socket verwendet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-380">This IOCTL requests that the TCP/IP stack uses a special fast path for loopback operations on this socket.</span></span> <span data-ttu-id="71f8b-381">[**SIO \_ LOOPBACK \_ FAST \_ PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL kann nur mit TCP-Sockets verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-381">The [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL can be used only with TCP sockets.</span></span> <span data-ttu-id="71f8b-382">Diese IOCTL muss auf beiden Seiten der Loopbacksitzung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-382">This IOCTL must be used on both sides of the loopback session.</span></span> <span data-ttu-id="71f8b-383">Der schnelle TCP-Loopbackpfad wird mithilfe der IPv4- oder IPv6-Loopbackschnittstelle unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-383">The TCP loopback fast path is supported using either the IPv4 or IPv6 loopback interface.</span></span> <span data-ttu-id="71f8b-384">Standardmäßig ist **SIO \_ LOOPBACK \_ FAST \_ PATH** deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-384">By default, **SIO\_LOOPBACK\_FAST\_PATH** is disabled.</span></span>

<span data-ttu-id="71f8b-385">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ LOOPBACK FAST \_ \_ PATH.**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-385">For more detailed information, see the [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-386">**SIO \_ LOOPBACK \_ FAST \_ PATH** wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-386">**SIO\_LOOPBACK\_FAST\_PATH** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_multipoint_loopback-opcode-setting-v-t1"></a><span data-ttu-id="71f8b-387">SIO \_ MULTIPOINT \_ LOOPBACK (Opcodeeinstellung: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-387">SIO\_MULTIPOINT\_LOOPBACK (opcode setting: V, T==1)</span></span>

<span data-ttu-id="71f8b-388">Steuert, ob daten, die von einer Anwendung auf dem lokalen Computer (nicht notwendigerweise vom gleichen Socket) in einer Multicastsitzung gesendet werden, von einem Socket empfangen werden, der mit der Multicastzielgruppe auf der Loopbackschnittstelle verbunden ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-388">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="71f8b-389">Der Wert **TRUE bewirkt,** dass von einer Anwendung auf dem lokalen Computer gesendete Multicastdaten an einen lauschenden Socket auf der Loopbackschnittstelle übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-389">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="71f8b-390">Der Wert **FALSE verhindert,** dass von einer Anwendung auf dem lokalen Computer gesendete Multicastdaten an einen lauschenden Socket auf der Loopbackschnittstelle übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-390">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="71f8b-391">Standardmäßig ist **SIO \_ MULTIPOINT \_ LOOPBACK** aktiviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-391">By default, **SIO\_MULTIPOINT\_LOOPBACK** is enabled.</span></span>

### <a name="sio_multicast_scope-opcode-setting-i-t1"></a><span data-ttu-id="71f8b-392">SIO \_ MULTICAST \_ SCOPE (Opcodeeinstellung: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-392">SIO\_MULTICAST\_SCOPE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="71f8b-393">Gibt den Bereich an, über den Multicastübertragungen erfolgen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-393">Specifies the scope over which multicast transmissions will occur.</span></span> <span data-ttu-id="71f8b-394">Der Bereich wird als die Anzahl der zu abgedeckten Routennetzwerksegmente definiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-394">Scope is defined as the number of routed network segments to be covered.</span></span> <span data-ttu-id="71f8b-395">Ein Bereich von 0 (null) gibt an, dass die Multicastübertragung nicht auf dem Kabel platziert wird, sondern über Sockets innerhalb des lokalen Hosts verteilt werden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-395">A scope of zero would indicate that the multicast transmission would not be placed on the wire but could be disseminated across sockets within the local host.</span></span> <span data-ttu-id="71f8b-396">Ein Bereichswert von 1 (Standard) gibt an, dass die Übertragung an das Netzwerk übertragen wird, aber keine Router überquert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-396">A scope value of one (the default) indicates that the transmission will be placed on the wire, but will not cross any routers.</span></span> <span data-ttu-id="71f8b-397">Höhere Bereichswerte bestimmen die Anzahl der Router, die überschritten werden können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-397">Higher scope values determine the number of routers that can be crossed.</span></span> <span data-ttu-id="71f8b-398">Beachten Sie, dass dies dem TTL-Parameter (Time-to-Live) beim IP-Multicasting entspricht.</span><span class="sxs-lookup"><span data-stu-id="71f8b-398">Note that this corresponds to the time-to-live (TTL) parameter in IP multicasting.</span></span> <span data-ttu-id="71f8b-399">Standardmäßig ist der Bereich 1.</span><span class="sxs-lookup"><span data-stu-id="71f8b-399">By default, scope is 1.</span></span>

### <a name="sio_query_rss_processor_info-opcode-setting-o-t1"></a><span data-ttu-id="71f8b-400">SIO \_ QUERY RSS PROCESSOR INFO \_ \_ \_ (Opcodeeinstellung: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-400">SIO\_QUERY\_RSS\_PROCESSOR\_INFO (opcode setting: O, T==1)</span></span>

<span data-ttu-id="71f8b-401">Fragt die Zuordnung zwischen einem Socket und einem RSS-Prozessorkern und einem NUMA-Knoten ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-401">Queries the association between a socket and an RSS processor core and NUMA node.</span></span>

<span data-ttu-id="71f8b-402">Die [**SIO \_ QUERY RSS PROCESSOR \_ \_ \_ INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL gibt eine [**SOCKET PROCESSOR \_ \_ AFFINITY-Struktur**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) zurück, die [**die PROZESSORNUMMER \_**](/windows/win32/api/winnt/ns-winnt-processor_number) und die NUMA-Knoten-ID enthält.</span><span class="sxs-lookup"><span data-stu-id="71f8b-402">The [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL returns a [**SOCKET\_PROCESSOR\_AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) structure that contains the [**PROCESSOR\_NUMBER**](/windows/win32/api/winnt/ns-winnt-processor_number) and the NUMA node ID.</span></span> <span data-ttu-id="71f8b-403">Die **zurückgegebene PROCESSOR \_ NUMBER-Struktur** enthält eine Gruppennummer und eine relative Prozessornummer innerhalb der Gruppe.</span><span class="sxs-lookup"><span data-stu-id="71f8b-403">The returned **PROCESSOR\_NUMBER** structure contains a group number and relative processor number within the group.</span></span>

<span data-ttu-id="71f8b-404">Ausführlichere Informationen finden Sie in der Referenz [**zu \_ SIO QUERY \_ RSS PROCESSOR \_ \_ INFO.**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-404">For more detailed information, see the [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-405">**SIO \_ QUERY \_ RSS \_ PROCESSOR \_ INFO** wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-405">**SIO\_QUERY\_RSS\_PROCESSOR\_INFO** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_rss_scalability_info-opcode-setting-o-t3"></a><span data-ttu-id="71f8b-406">SIO \_ QUERY \_ RSS \_ SCALABILITY INFO \_ (Opcode-Einstellung: O, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-406">SIO\_QUERY\_RSS\_SCALABILITY\_INFO (opcode setting: O, T==3)</span></span>

<span data-ttu-id="71f8b-407">Abfragen verlagern Schnittstellen für die Empfangsseitige Skalierungsfunktion (RECEIVE-Side Scaling, RSS).</span><span class="sxs-lookup"><span data-stu-id="71f8b-407">Queries offload interfaces for receive-side scaling (RSS) capability.</span></span> <span data-ttu-id="71f8b-408">Die für **SIO \_ QUERY \_ RSS \_ SCALABILITY \_ INFO** zurückgegebene Argumentstruktur wird in der **RSS \_ SCALABILITY \_ INFO-Struktur** angegeben, die in der Headerdatei *Mstcpip.h* definiert ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-408">The argument structure returned for **SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is specified in the **RSS\_SCALABILITY\_INFO** structure defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="71f8b-409">Diese Struktur ist wie folgt definiert:</span><span class="sxs-lookup"><span data-stu-id="71f8b-409">This structure is defined as follows:</span></span>

```cpp
// Scalability info for the transport
typedef struct _RSS_SCALABILITY_INFO {
   BOOLEAN RssEnabled;
} RSS_SCALABILITY_INFO, *PRSS_SCALABILITY_INFO;
```

<span data-ttu-id="71f8b-410">Der im **RssEnabled-Member zurückgegebene** Wert gibt an, ob RSS für mindestens eine Schnittstelle aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-410">The value returned in the **RssEnabled** member indicates if RSS is enabled on at least one interface.</span></span>

<span data-ttu-id="71f8b-411">Wenn der Ausgabepuffer für die **\_ RSS-SCALABILITY \_ INFO-Struktur** nicht groß genug ist (der *cbOutBuffer* ist kleiner als die Größe eines **RSS \_ SCALABILITY \_ INFO)** oder der *lpvOutBuffer-Parameter* ein **NULL-Zeiger** ist, wird **SOCKET \_ ERROR** als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEINVAL](windows-sockets-error-codes-2.md)zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-411">If the output buffer is not large enough for the **RSS\_SCALABILITY\_INFO** structure (the *cbOutBuffer* is less than the size of a **RSS\_SCALABILITY\_INFO**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="71f8b-412">In Hochgeschwindigkeitsnetzwerken, bei denen sich mehrere CPUs innerhalb eines einzelnen Systems befinden, wird die Fähigkeit des Netzwerkprotokollstapels, sich gut auf einem Multi-CPU-System zu skalieren, beeinträchtigt, da die Architektur von NDIS 5.1 und früheren Versionen die Protokollverarbeitung auf eine einzelne CPU empfängt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-412">In high-speed networking where multiple CPUs reside within a single system, the ability of the networking protocol stack to scale well on a multi-CPU system is inhibited because the architecture of NDIS 5.1 and earlier versions limits receive protocol processing to a single CPU.</span></span> <span data-ttu-id="71f8b-413">Die empfangsseitige Skalierung (Receive-Side Scaling, RSS) löst dieses Problem, indem die Netzwerklast von einem Netzwerkadapter auf mehrere CPUs verteilt werden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-413">Receive-side scaling (RSS) resolves this issue by allowing the network load from a network adapter to be balanced across multiple CPUs.</span></span>

<span data-ttu-id="71f8b-414">**SIO \_ QUERY \_ RSS \_ SCALABILITY \_ INFO** wird unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-414">**SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-415">SIO \_ QUERY TRANSPORT SETTING \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-415">SIO\_QUERY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-416">Fragt die Transporteinstellungen für einen Socket ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-416">Queries the transport settings on a socket.</span></span> <span data-ttu-id="71f8b-417">Die abgefragte Transporteinstellung basiert auf der [**TRANSPORT \_ SETTING \_ ID,**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) die im *lpvInBuffer-Parameter übergeben* wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-417">The transport setting being queried is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="71f8b-418">Die einzige Transporteinstellung, die derzeit definiert wird, ist für die **FUNKTION REAL TIME NOTIFICATION \_ \_ \_ CAPABILITY** auf einem TCP-Socket.</span><span class="sxs-lookup"><span data-stu-id="71f8b-418">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="71f8b-419">Wenn für [**TRANSPORT \_ SETTING \_ ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) der **Guid-Member** auf **REAL TIME NOTIFICATION \_ \_ \_ CAPABILITY** festgelegt ist, ist dies eine Anforderung zum Abfragen der Echtzeitbenachrichtigungseinstellungen für den TCP-Socket, der mit [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) zum Empfangen von Netzwerkbenachrichtigungen im Hintergrund in einer Windows Store-App verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-419">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to query the real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span> <span data-ttu-id="71f8b-420">Wenn der [**WSAIoctl-**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) oder [**WSPIoctl-Aufruf**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) erfolgreich ist, gibt diese IOCTL eine [**REAL TIME NOTIFICATION SETTING \_ \_ \_ \_ OUTPUT-Struktur**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) mit dem aktuellen Status zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-420">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) call is successful, this IOCTL returns a [**REAL\_TIME\_NOTIFICATION\_SETTING\_OUTPUT**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) structure with the current status.</span></span>

<span data-ttu-id="71f8b-421">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ QUERY TRANSPORT \_ \_ SETTING.**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-421">For more detailed information, see the [**SIO\_QUERY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-422">**SIO \_ QUERY \_ TRANSPORT \_ SETTING** wird auf Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-422">**SIO\_QUERY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_ale_endpoint_handle-opcode-setting-o-t3"></a><span data-ttu-id="71f8b-423">SIO \_ QUERY \_ WFP \_ ALE ENDPOINT HANDLE \_ \_ (Opcodeeinstellung: O, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-423">SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE (opcode setting: O, T==3)</span></span>

<span data-ttu-id="71f8b-424">Fragt das ALE-Endpunkthandle (Application Layer Enforcement) ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-424">Queries the Application Layer Enforcement (ALE) endpoint handle.</span></span>

<span data-ttu-id="71f8b-425">Die Windows-Filterplattform (Windows Filtering Platform, WFP) unterstützt die Überprüfung und Änderung des Netzwerkdatenverkehrs.</span><span class="sxs-lookup"><span data-stu-id="71f8b-425">The Windows Filtering Platform (WFP) supports network traffic inspection and modification.</span></span> <span data-ttu-id="71f8b-426">Unter Windows Vista konzentriert sich WFP auf Szenarien, in denen der Hostcomputer der Kommunikationsendpunkt ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-426">On Windows Vista, WFP focuses on scenarios where the host machine is the communication endpoint.</span></span> <span data-ttu-id="71f8b-427">Unter Windows Server 2008 gibt es jedoch Edgefirewallimplementierungen, die die WFP-Plattform nutzen möchten, um Pass-Through-Datenverkehr zu überprüfen und einen Proxy dafür zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-427">On Windows Server 2008 , however, there are edge firewall implementations which would like to leverage the WFP platform to inspect and proxy pass-through traffic.</span></span> <span data-ttu-id="71f8b-428">Der ISA-Server (Internet Security and Acceleration) ist ein Beispiel für ein solches Edgegerät.</span><span class="sxs-lookup"><span data-stu-id="71f8b-428">The Internet Security and Acceleration (ISA) server is an example of such an edge device.</span></span>

<span data-ttu-id="71f8b-429">Es gibt einige Firewallszenarien, die möglicherweise die Möglichkeit erfordern, ein eingehendes Paket in den Einem vorhandenen Endpunkt zugeordneten Sendepfad einzujizieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-429">There are some firewall scenarios that may require the ability to inject an inbound packet into the send path associated with an existing endpoint.</span></span> <span data-ttu-id="71f8b-430">Es muss ein Mechanismus zum Entdecken des Endpunkthandpunkts der Transportebene verfügbar sein, der dem Zielendpunkt zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-430">There needs to be a mechanism to discover the transport layer endpoint handle associated with the destination endpoint.</span></span> <span data-ttu-id="71f8b-431">Die Anwendung, die den Endpunkt erstellt hat, besitzt diese Transportschichtendpunkte.</span><span class="sxs-lookup"><span data-stu-id="71f8b-431">The application that created the endpoint owns these transport layer endpoints.</span></span> <span data-ttu-id="71f8b-432">Diese IOCTL wird verwendet, um das Sockethandle für die Zuordnung des Endpunkthandle der Transportschicht bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-432">This IOCTL is used to provide socket handle to transport layer endpoint handle mapping.</span></span>

<span data-ttu-id="71f8b-433">Wenn der Ausgabepuffer nicht groß genug für das Endpunkthandle ist (der *cbOutBuffer* ist kleiner als die Größe eines **UINT64)** oder der *lpvOutBuffer-Parameter* ein **NULL-Zeiger** ist, wird **SOCKET \_ ERROR** als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEINVAL](windows-sockets-error-codes-2.md)zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-433">If the output buffer is not large enough for the endpoint handle (the *cbOutBuffer* is less than the size of a **UINT64**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="71f8b-434">**SIO \_ QUERY \_ WFP \_ ALE \_ ENDPOINT \_ HANDLE** wird unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-434">**SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_context-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-435">SIO \_ QUERY \_ WFP CONNECTION REDIRECT CONTEXT \_ \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-435">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-436">Fragt den Umleitungskontext nach einem Umleitungsdatensatz ab, der von einem WFP-Umleitungsdienst (Windows Filtering Platform) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-436">Queries the redirect context for a redirect record used by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="71f8b-437">Die [**SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ CONTEXT-IOCTL \_**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) wird verwendet, um die Nachverfolgung von Proxyverbindungen für umgeleitete Socketverbindungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-437">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="71f8b-438">Dieses WFP-Feature ermöglicht die Nachverfolgung von Umleitungsdatensätzen von der ersten Umleitung einer Verbindung zur endgültigen Verbindung zum Ziel.</span><span class="sxs-lookup"><span data-stu-id="71f8b-438">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="71f8b-439">Ausführlichere Informationen finden Sie in der Referenz [**zu SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ CONTEXT.**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-439">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-440">**SIO \_ QUERY \_ WFP \_ CONNECTION REDIRECT \_ \_ CONTEXT** wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-440">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-441">SIO \_ QUERY \_ WFP CONNECTION REDIRECT RECORDS \_ \_ \_ (OPCODE-Einstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-441">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-442">Fragt den Umleitungsdatensatz für die akzeptierte TCP/IP-Verbindung zur Verwendung durch einen WFP-Umleitungsdienst (Windows Filtering Platform) ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-442">Queries the redirect record for the accepted TCP/IP connection for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="71f8b-443">[**SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL wird verwendet, um eine Proxyverbindungsnachverfolgung für umgeleitete Socketverbindungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-443">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="71f8b-444">Dieses WFP-Feature ermöglicht die Nachverfolgung von Umleitungsdatensätzen von der ersten Umleitung einer Verbindung zur endgültigen Verbindung zum Ziel.</span><span class="sxs-lookup"><span data-stu-id="71f8b-444">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="71f8b-445">Ausführlichere Informationen finden Sie in der [**Referenz zu SIO \_ QUERY \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS.**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-445">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-446">**SIO \_ QUERY \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS** wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-446">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_rcvall-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-447">SIO \_ RC COD (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-447">SIO\_RCVALL (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-448">Ermöglicht es einem Socket, alle IPv4- oder IPv6-Pakete zu empfangen, die über eine Netzwerkschnittstelle übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-448">Enables a socket to receive all IPv4 or IPv6 packets passing throuigh a network interface.</span></span> <span data-ttu-id="71f8b-449">Das socket-Handle, das an die [**WSAIoctl-Funktion**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) übergeben wird, muss einer der folgenden sein:</span><span class="sxs-lookup"><span data-stu-id="71f8b-449">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be one of the following:</span></span>

-   <span data-ttu-id="71f8b-450">Ein IPv4-Socket, der erstellt wurde, bei dem die Adressfamilie auf AF INET, der Sockettyp auf SOCK RAW und das Protokoll auf \_ \_ IPPROTO IP festgelegt \_ wurde.</span><span class="sxs-lookup"><span data-stu-id="71f8b-450">An IPv4 socket that was created with the address family set to AF\_INET, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IP.</span></span>
-   <span data-ttu-id="71f8b-451">Ein IPv6-Socket, der erstellt wurde, bei dem die Adressfamilie auf AF INET6, der Sockettyp auf SOCK RAW und das Protokoll auf \_ \_ IPPROTO \_ IPV6 festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="71f8b-451">An IPv6 socket that was created with the address family set to AF\_INET6, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IPV6.</span></span>

<span data-ttu-id="71f8b-452">Der Socket muss auch an eine explizite lokale IPv4- oder IPv6-Schnittstelle gebunden werden, was bedeutet, dass Sie keine Bindung an **INADDR \_ ANY** oder **in6addr \_ beliebiger -Schnittstelle erstellen können.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-452">The socket also must be bound to an explicit local IPv4 or IPv6 interface, which means that you cannot bind to **INADDR\_ANY** or **in6addr\_any**.</span></span>

<span data-ttu-id="71f8b-453">Unter Windows Server 2008 und früher erfasste die [**SIO \_ RCIO**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL-Einstellung keine lokalen Pakete, die von einer Netzwerkschnittstelle gesendet wurden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-453">On Windows Server 2008 and earlier, the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL setting would not capture local packets sent out of a network interface.</span></span> <span data-ttu-id="71f8b-454">Dies umfasste Pakete, die auf einer anderen Schnittstelle empfangen und die netzwerkschnittstelle weitergeleitet wurden, die für **die SIO \_ RCIO** IOCTL angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-454">This included packets received on another interface and forwarded out the network interface specified for the **SIO\_RCVALL** IOCTL.</span></span>

<span data-ttu-id="71f8b-455">Unter Windows 7 und Windows Server 2008 R2 wurde dies geändert, sodass auch lokale Pakete erfasst werden, die von einer Netzwerkschnittstelle gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-455">On Windows 7 and Windows Server 2008 R2 , this was changed so that local packets sent out of a network interface are also captured.</span></span> <span data-ttu-id="71f8b-456">Dies schließt Pakete ein, die auf einer anderen Schnittstelle empfangen und dann die Netzwerkschnittstelle, die an den Socket gebunden ist, mit [**SIO \_ RCIOS**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL weitergeleitet wurden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-456">This includes packets received on another interface and then forwarded out the network interface bound to the socket with [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="71f8b-457">Zum Festlegen dieser IOCTL ist administratorrechte auf dem lokalen Computer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="71f8b-457">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="71f8b-458">Dieses Feature wird manchmal auch als promiscuous-Modus bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-458">This feature is sometimes referred to as promiscuous mode.</span></span>

<span data-ttu-id="71f8b-459">Die möglichen Werte für die **Option SIO \_ RC HK** IOCTL werden in der RC ENUMERATION **\_ VALUE-Enumeration** angegeben, die in der *Headerdatei Mstcpip.h* definiert ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-459">The possible values for the **SIO\_RCVALL** IOCTL option are specified in the **RCVALL\_VALUE** enumeration defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="71f8b-460">Die möglichen Werte für SIO \_ RC RTE lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="71f8b-460">The possible values for SIO\_RCVALL are as follows:</span></span>

| <span data-ttu-id="71f8b-461">Begriff</span><span class="sxs-lookup"><span data-stu-id="71f8b-461">Term</span></span>                                                                                                                 | <span data-ttu-id="71f8b-462">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="71f8b-462">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-|-|
| <span data-ttu-id="71f8b-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RC RC \_ OFF</span><span class="sxs-lookup"><span data-stu-id="71f8b-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL\_OFF</span></span><br/>                                     | <span data-ttu-id="71f8b-464">Deaktivieren Sie diese Option, damit ein Socket nicht alle IPv4- oder IPv6-Pakete im Netzwerk empfängt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-464">Disable this option so a socket does not receive all IPv4 or IPv6 packets on the network.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="71f8b-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL \_ ON</span><span class="sxs-lookup"><span data-stu-id="71f8b-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL\_ON</span></span><br/>                                        | <span data-ttu-id="71f8b-466">Aktivieren Sie diese Option, damit ein Socket alle IPv4- oder IPv6-Pakete im Netzwerk empfängt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-466">Enable this option so a socket receives all IPv4 or IPv6 packets on the network.</span></span> <span data-ttu-id="71f8b-467">Diese Option aktiviert den promiscuous-Modus auf der Netzwerkschnittstellenkarte (Network Interface Card, NIC), wenn die NIC den promiskuous-Modus unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-467">This option enables promiscuous mode on the network interface card (NIC), if the NIC supports promiscuous mode.</span></span> <span data-ttu-id="71f8b-468">In einem LAN-Segment mit einem Netzwerkhub erfasst eine NIC, die den promiskuous-Modus unterstützt, den gesamten IPv4- oder IPv6-Datenverkehr im LAN, einschließlich des Datenverkehrs zwischen anderen Computern im gleichen LAN-Segment.</span><span class="sxs-lookup"><span data-stu-id="71f8b-468">On a LAN segment with a network hub, a NIC that supports promiscuous mode will capture all IPv4 or IPv6 traffic on the LAN, including traffic between other computers on the same LAN segment.</span></span> <span data-ttu-id="71f8b-469">Alle erfassten Pakete (IPv4 oder IPv6, je nach Socket) werden an den Unformatierten Socket übermittelt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-469">All of the captured packets (IPv4 or IPv6, depending on the socket) will be delivered to the raw socket.</span></span> <br/> <span data-ttu-id="71f8b-470">Mit dieser Option werden keine anderen Pakete (z. B. ARP-, IPX- und NetBEUI-Pakete) auf der Schnittstelle erfasst.</span><span class="sxs-lookup"><span data-stu-id="71f8b-470">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) on the interface.</span></span><br/> <span data-ttu-id="71f8b-471">Netmon verwendet den gleichen Modus für die Netzwerkschnittstelle, verwendet diese Option jedoch nicht, um Datenverkehr zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-471">Netmon uses the same mode for the network interface, but does not use this option to capture traffic.</span></span><br/> |
| <span data-ttu-id="71f8b-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL \_ SOCKETLEVELONLY</span><span class="sxs-lookup"><span data-stu-id="71f8b-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL\_SOCKETLEVELONLY</span></span><br/> | <span data-ttu-id="71f8b-473">Dieses Feature ist derzeit nicht implementiert, sodass das Festlegen dieser Option keine Auswirkungen hat.</span><span class="sxs-lookup"><span data-stu-id="71f8b-473">This feature is not currently implemented, so setting this option does not have any affect.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="71f8b-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL \_ IPLEVEL</span><span class="sxs-lookup"><span data-stu-id="71f8b-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL\_IPLEVEL</span></span><br/>                         | <span data-ttu-id="71f8b-475">Aktivieren Sie diese Option, damit ein IPv4- oder IPv6-Socket alle Pakete auf IP-Ebene im Netzwerk empfängt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-475">Enable this option so an IPv4 or IPv6 socket receives all packets at the IP level on the network.</span></span> <span data-ttu-id="71f8b-476">Mit dieser Option wird der promiskuous-Modus auf der Netzwerkschnittstellenkarte nicht aktiviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-476">This option does not enable promiscuous mode on the network interface card.</span></span> <span data-ttu-id="71f8b-477">Diese Option wirkt sich nur auf die Paketverarbeitung auf IP-Ebene aus.</span><span class="sxs-lookup"><span data-stu-id="71f8b-477">This option only affects packet processing at the IP level.</span></span> <span data-ttu-id="71f8b-478">Die NIC empfängt weiterhin nur Pakete, die an die konfigurierten Unicast- und Multicastadressen weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-478">The NIC still receives only packets directed to its configured unicast and multicast addresses.</span></span> <span data-ttu-id="71f8b-479">Ein Socket mit aktivierter Option empfängt jedoch nicht nur Pakete, die an bestimmte IP-Adressen weitergeleitet werden, sondern alle IPv4- oder IPv6-Pakete, die die NIC empfängt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-479">However, a socket with this option enabled will receive not only packets directed to specific IP addresses, but will receive all the IPv4 or IPv6 packets the NIC receives.</span></span><br/> <span data-ttu-id="71f8b-480">Diese Option erfasst keine anderen Pakete (z.B. ARP-, IPX- und NetBEUI-Pakete), die über die Schnittstelle empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-480">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) received on the interface.</span></span><br/>                                                                                             |



 

<span data-ttu-id="71f8b-481">Ausführlichere Informationen finden Sie in der [**SIO \_ RCVALL-Referenz.**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-481">For more detailed information, see the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-482">**SIO \_ RCVALL** wird unter Windows 2000 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-482">**SIO\_RCVALL** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_igmpmcast-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-483">SIO \_ RCVALL \_ IGMPMCAST (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-483">SIO\_RCVALL\_IGMPMCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-484">Ermöglicht es einem Socket, den sämtlichen IGMP-Multicast-IP-Datenverkehr im Netzwerk zu empfangen, ohne anderen Multicast-IP-Datenverkehr zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-484">Enables a socket to receive all IGMP multicast IP traffic on the network, without receiving other multicast IP traffic.</span></span> <span data-ttu-id="71f8b-485">Das socket-Handle, das an die [**WSAIoctl-Funktion**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) übergeben wird, muss die AF INET-Adressfamilie, den SOCK RAW-Sockettyp und \_ das \_ IPPROTO \_ IGMP-Protokoll haben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-485">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_IGMP protocol.</span></span> <span data-ttu-id="71f8b-486">Der Socket muss auch an eine explizite lokale Schnittstelle gebunden werden, was bedeutet, dass Sie keine Bindung an INADDR \_ ANY erstellen können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-486">The socket also must be bound to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span>

<span data-ttu-id="71f8b-487">Nachdem der Socket gebunden und die IOCTL festgelegt wurde, geben Aufrufe der [**WSARecv-**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) oder [**recv-Funktionen**](/windows/desktop/api/winsock/nf-winsock-recv) Multicast-IP-Datagramme zurück, die die gegebene Schnittstelle passieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-487">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="71f8b-488">Beachten Sie, dass Sie einen ausreichend großen Puffer liefern müssen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-488">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="71f8b-489">Zum Festlegen dieser IOCTL ist administratorrechte auf dem lokalen Computer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="71f8b-489">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="71f8b-490">**SIO \_ RCMU \_ IGMPMCAST** wird unter Windows 2000 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-490">**SIO\_RCVALL\_IGMPMCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_mcast-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-491">SIO \_ RCCAST \_ MCAST (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-491">SIO\_RCVALL\_MCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-492">Ermöglicht es einem Socket, den sämtlichen Multicast-IP-Datenverkehr im Netzwerk zu empfangen (d. h. alle IP-Pakete, die für IP-Adressen im Bereich von 224.0.0.0 bis 239.255.255.255 bestimmt sind).</span><span class="sxs-lookup"><span data-stu-id="71f8b-492">Enables a socket to receive all multicast IP traffic on the network (that is, all IP packets destined for IP addresses in the range of 224.0.0.0 to 239.255.255.255).</span></span> <span data-ttu-id="71f8b-493">Das socket-Handle, das an die [**WSAIoctl-Funktion**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) übergeben wird, muss die AF INET-Adressfamilie, den SOCK RAW-Sockettyp und \_ das \_ \_ IPPROTO-UDP-Protokoll haben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-493">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_UDP protocol.</span></span> <span data-ttu-id="71f8b-494">Der Socket muss auch an eine explizite lokale Schnittstelle gebunden werden, was bedeutet, dass Sie keine Bindung an INADDR \_ ANY erstellen können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-494">The socket also must bind to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span> <span data-ttu-id="71f8b-495">Der Socket sollte an Port 0 (null) gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-495">The socket should bind to port zero.</span></span>

<span data-ttu-id="71f8b-496">Nachdem der Socket gebunden und die IOCTL festgelegt wurde, geben Aufrufe der [**WSARecv-**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) oder [**recv-Funktionen**](/windows/desktop/api/winsock/nf-winsock-recv) Multicast-IP-Datagramme zurück, die die gegebene Schnittstelle passieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-496">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="71f8b-497">Beachten Sie, dass Sie einen ausreichend großen Puffer liefern müssen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-497">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="71f8b-498">Zum Festlegen dieser IOCTL ist administratorrechte auf dem lokalen Computer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="71f8b-498">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="71f8b-499">**SIO \_ RCCAST \_ MCAST** wird unter Windows 2000 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-499">**SIO\_RCVALL\_MCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_release_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-500">SIO \_ RELEASE PORT RESERVATION \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-500">SIO\_RELEASE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-501">Gibt eine Laufzeitreservierung für einen Block von TCP- oder UDP-Ports frei.</span><span class="sxs-lookup"><span data-stu-id="71f8b-501">Releases a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="71f8b-502">Die freizugebende Laufzeitreservierung muss vom ausstellenden Prozess mithilfe des [**IOCTL-SIO \_ ACQUIRE PORT \_ \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) abgerufen worden sein.</span><span class="sxs-lookup"><span data-stu-id="71f8b-502">The runtime reservation to be released must have been obtained from the issuing process using the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="71f8b-503">Ausführlichere Informationen finden Sie in der [**SIO \_ RELEASE PORT \_ \_ RESERVATION-Referenz.**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-503">For more detailed information, see the [**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-504">[**SIO \_ RELEASE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) wird unter Windows Vista und neueren Versionen des Betriebssystems unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-504">[**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_routing_interface_change-opcode-setting-i-t1"></a><span data-ttu-id="71f8b-505">SIO \_ ROUTING INTERFACE CHANGE \_ \_ (Opcodeeinstellung: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-505">SIO\_ROUTING\_INTERFACE\_CHANGE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="71f8b-506">Um eine Benachrichtigung über eine Routingschnittstellenänderung zu erhalten, die verwendet werden soll, um die Remoteadresse im Eingabepuffer zu erreichen (angegeben als [**Sockaddr-Struktur).**](sockaddr-2.md)</span><span class="sxs-lookup"><span data-stu-id="71f8b-506">To receive notification of a routing interface change that should be used to reach the remote address in the input buffer (specified as a [**sockaddr**](sockaddr-2.md) structure).</span></span> <span data-ttu-id="71f8b-507">Nach Abschluss dieser IOCTL werden keine Ausgabeinformationen zur neuen Routingschnittstelle bereitgestellt. Die Vervollständigung gibt lediglich an, dass sich die Routingschnittstelle für ein bestimmtes Ziel geändert hat und mithilfe der ABFRAGE-IOCTL der **\_ SIO-ROUTINGSCHNITTSTELLE \_ \_** abgefragt werden sollte.</span><span class="sxs-lookup"><span data-stu-id="71f8b-507">No output information on the new routing interface will be provided upon completion of this IOCTL; the completion merely indicates that the routing interface for a given destination has changed and should be queried using the **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL.</span></span>

<span data-ttu-id="71f8b-508">Es wird davon ausgegangen, dass die Anwendung überlappende E/A verwendet, um über die Änderung der Routingschnittstelle durch Abschluss der **SIO \_ ROUTING INTERFACE \_ \_ CHANGE-Anforderung** benachrichtigt zu werden, obwohl dies nicht erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-508">It is assumed, although not required, that the application uses overlapped I/O to be notified of the routing interface change through completion of **SIO\_ROUTING\_INTERFACE\_CHANGE** request.</span></span> <span data-ttu-id="71f8b-509">Wenn die **SIO \_ ROUTING \_ INTERFACE \_ CHANGE** IOCTL für einen nicht blockierenden Socket ausgegeben wird, für den die Parameter *lpOverlapped* und *lpCompletionRoutine* auf **NULL** festgelegt sind, wird die Rückgabe von und [WSAEWSELECTDBLOCK](windows-sockets-error-codes-2.md) als Fehler sofort abgeschlossen, und die Anwendung kann dann auf das Routing von Änderungsereignissen warten, indem [**sie WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) oder [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) aufruft, wobei das FD \_ ROUTING INTERFACE \_ \_ CHANGE-Bit in der Netzwerkereignisbitmaske festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-509">Alternatively, if the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL is issued on a non-blocking socket with the *lpOverlapped* and *lpCompletionRoutine* parameters set to **NULL**), it will complete immediately returning and [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) as an error, and the application can then wait for routing change events through call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ROUTING\_INTERFACE\_CHANGE bit set in the network event bitmask.</span></span>

<span data-ttu-id="71f8b-510">Es wird erkannt, dass Routinginformationen in den meisten Fällen stabil bleiben, sodass die Anwendung mehrere ausstehende IOCTLs behalten muss, um Benachrichtigungen über alle Ziele zu erhalten, an denen sie interessiert ist, und dass der Dienstanbieter diese Benachrichtigungsanforderungen nachverfolgen muss, eine erhebliche Menge an Systemressourcen benötigt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-510">It is recognized that routing information remains stable in most cases so that requiring the application to keep multiple outstanding IOCTLs to get notifications about all destinations that it is interested in as well as having the service provider keep track of these notification requests will use a significant amount system resources.</span></span> <span data-ttu-id="71f8b-511">Diese Situation kann vermieden werden, indem die Bedeutung der Eingabeparameter erweitert und die Anforderungen des Dienstanbieters wie folgt angepasst werden:</span><span class="sxs-lookup"><span data-stu-id="71f8b-511">This situation can be avoided by extending the meaning of the input parameters and relaxing the service provider requirements as follows:</span></span>

-   <span data-ttu-id="71f8b-512">Die Anwendung kann eine für die Protokollfamilie spezifische [](/windows/desktop/api/winsock/nf-winsock-bind) Platzhalteradresse angeben (wie beim Bindungsaufruf bei der Anforderung der Bindung an eine beliebige verfügbare Adresse), um Benachrichtigungen über Routingänderungen an fordern zu können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-512">The application can specify a protocol family specific wildcard address (same as one used in [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) call when requesting to bind to any available address) to request notifications of any routing changes.</span></span> <span data-ttu-id="71f8b-513">Dadurch kann die Anwendung nur eine ausstehende **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** für alle Sockets und Ziele behalten und dann **SIO ROUTING INTERFACE \_ \_ \_ QUERY** verwenden, um die tatsächlichen Routinginformationen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="71f8b-513">This allows the application to keep only one outstanding **SIO\_ROUTING\_INTERFACE\_CHANGE** for all the sockets and destinations it has and then use **SIO\_ROUTING\_INTERFACE\_QUERY** to get the actual routing information.</span></span>
-   <span data-ttu-id="71f8b-514">Ein Dienstanbieter hat die Möglichkeit, die von der Anwendung im Eingabepuffer von **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** angegebenen Informationen zu ignorieren (als ob die Anwendung eine Platzhalteradresse angegeben hätte) und das **SIO ROUTING INTERFACE \_ \_ \_ CHANGE** IOCTL- oder Signal FD ROUTING INTERFACE CHANGE-Ereignis im Falle einer Änderung der Routinginformationen (nicht nur die Route zu dem im Eingabepuffer angegebenen Ziel) zu \_ vervollständigen. \_ \_</span><span class="sxs-lookup"><span data-stu-id="71f8b-514">A service provider has the option to ignore the information specified by the application in the input buffer of the **SIO\_ROUTING\_INTERFACE\_CHANGE** (as though the application specified a wildcard address) and complete the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL or signal FD\_ROUTING\_INTERFACE\_CHANGE event in the event of any routing information change (not just the route to the destination specified in the input buffer).</span></span>

### <a name="sio_routing_interface_query-opcode-setting-i-o-t1"></a><span data-ttu-id="71f8b-515">SIO \_ ROUTING INTERFACE QUERY \_ \_ (Opcodeeinstellung: I, O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-515">SIO\_ROUTING\_INTERFACE\_QUERY (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="71f8b-516">Um die Adresse der lokalen Schnittstelle (dargestellt als [**sockaddr-Struktur)**](sockaddr-2.md) zu erhalten, die zum Senden an die Remoteadresse verwendet werden soll, die im Eingabepuffer angegeben ist (als **sockaddr**).</span><span class="sxs-lookup"><span data-stu-id="71f8b-516">To obtain the address of the local interface (represented as [**sockaddr**](sockaddr-2.md) structure) which should be used to send to the remote address specified in the input buffer (as **sockaddr**).</span></span> <span data-ttu-id="71f8b-517">Remote-Multicastadressen können im Eingabepuffer übermittelt werden, um die Adresse der bevorzugten Schnittstelle für die Multicastübertragung zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="71f8b-517">Remote multicast addresses may be submitted in the input buffer to get the address of the preferred interface for multicast transmission.</span></span> <span data-ttu-id="71f8b-518">In jedem Fall kann die zurückgegebene Schnittstellenadresse von der Anwendung in einer nachfolgenden bind()-Anforderung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-518">In any case, the interface address returned may be used by the application in a subsequent bind() request.</span></span>

<span data-ttu-id="71f8b-519">Beachten Sie, dass Routen geändert werden können.</span><span class="sxs-lookup"><span data-stu-id="71f8b-519">Note that routes are subject to change.</span></span> <span data-ttu-id="71f8b-520">Daher können Sich Anwendungen nicht darauf verlassen, dass die von **SIO \_ ROUTING INTERFACE \_ \_ QUERY** zurückgegebenen Informationen persistent sind.</span><span class="sxs-lookup"><span data-stu-id="71f8b-520">Therefore, applications cannot rely on the information returned by **SIO\_ROUTING\_INTERFACE\_QUERY** to be persistent.</span></span> <span data-ttu-id="71f8b-521">Anwendungen können sich für das Routing von Änderungsbenachrichtigungen über die **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** IOCTL registrieren, die eine Benachrichtigung über überlappende E/A- oder FD \_ ROUTING INTERFACE \_ \_ CHANGE-Ereignisse bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-521">Applications may register for routing change notifications through the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL which provides for notification through either overlapped I/O or a FD\_ROUTING\_INTERFACE\_CHANGE event.</span></span> <span data-ttu-id="71f8b-522">Die folgende Sequenz von Aktionen kann verwendet werden, um sicherzustellen, dass die Anwendung immer über aktuelle Routingschnittstelleninformationen für ein bestimmtes Ziel verfügt:</span><span class="sxs-lookup"><span data-stu-id="71f8b-522">The following sequence of actions can be used to guarantee that the application always has current routing interface information for a given destination:</span></span>

-   <span data-ttu-id="71f8b-523">Problem: **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** IOCTL</span><span class="sxs-lookup"><span data-stu-id="71f8b-523">Issue **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL</span></span>
-   <span data-ttu-id="71f8b-524">Problem: **ABFRAGE-IOCTL der \_ SIO-ROUTINGSCHNITTSTELLE \_ \_**</span><span class="sxs-lookup"><span data-stu-id="71f8b-524">Issue **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL</span></span>
-   <span data-ttu-id="71f8b-525">Wenn **SIO \_ ROUTING INTERFACE \_ \_ CHANGE** IOCTL die Anwendung von Routingänderungen benachrichtigt (entweder durch überlappende E/A oder durch Signalisierung des CHANGE-Ereignisses für FD \_ ROUTING \_ \_ INTERFACE), sollte die gesamte Sequenz von Aktionen wiederholt werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-525">Whenever **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL notifies the application of routing change (either through overlapped I/O or by signaling FD\_ROUTING\_INTERFACE\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="71f8b-526">Wenn der Ausgabepuffer nicht groß genug ist, um die Schnittstellenadresse zu enthalten, wird SOCKET \_ ERROR als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAEFAULT](windows-sockets-error-codes-2.md)zurück.</span><span class="sxs-lookup"><span data-stu-id="71f8b-526">If the output buffer is not large enough to contain the interface address, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="71f8b-527">Die erforderliche Größe des Ausgabepuffers wird in diesem Fall in *lpcbBytesReturned* zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-527">The required size of the output buffer will be returned in *lpcbBytesReturned* in this case.</span></span> <span data-ttu-id="71f8b-528">Beachten Sie, dass der WSAEFAULT-Fehlercode auch zurückgegeben wird, wenn der Parameter *lpvInBuffer,* *lpvOutBuffer* oder *lpcbBytesReturned* nicht vollständig in einem gültigen Teil des Benutzeradressraums enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-528">Note the WSAEFAULT error code is also returned if the *lpvInBuffer*, *lpvOutBuffer*, or *lpcbBytesReturned* parameter is not totally contained in a valid part of the user address space.</span></span>

<span data-ttu-id="71f8b-529">Wenn die im Eingabepuffer angegebene Zieladresse nicht über eine der verfügbaren Schnittstellen erreicht werden kann, wird SOCKET \_ ERROR als Ergebnis dieser IOCTL zurückgegeben, und [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) gibt [WSAENETUNREACH](windows-sockets-error-codes-2.md) oder sogar [WSAENETDOWN](windows-sockets-error-codes-2.md) zurück, wenn die gesamte Netzwerkkonnektivität verloren geht.</span><span class="sxs-lookup"><span data-stu-id="71f8b-529">If the destination address specified in the input buffer cannot be reached through any of the available interfaces, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAENETUNREACH](windows-sockets-error-codes-2.md) or even [WSAENETDOWN](windows-sockets-error-codes-2.md) if all of the network connectivity is lost.</span></span>

### <a name="sio_set_compatibility_mode-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-530">SIO \_ SET COMPATIBILITY MODE \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-530">SIO\_SET\_COMPATIBILITY\_MODE (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-531">Fordert an, wie der Netzwerkstapel bestimmte Verhaltensweisen behandeln soll, für die sich die Standardbehandlung des Verhaltens in verschiedenen Windows-Versionen unterscheiden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-531">Requests how the networking stack should handle certain behaviors for which the default way of handling the behavior may differ across Windows versions.</span></span> <span data-ttu-id="71f8b-532">Die Argumentstruktur für **SIO \_ SET COMPATIBILITY \_ \_ MODE** wird in der **WSA COMPATIBILITY \_ \_ MODE-Struktur** angegeben, die in der *Headerdatei Mswsockdef.h* definiert ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-532">The argument structure for **SIO\_SET\_COMPATIBILITY\_MODE** is specified in the **WSA\_COMPATIBILITY\_MODE** structure defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="71f8b-533">Diese Struktur ist wie folgt definiert:</span><span class="sxs-lookup"><span data-stu-id="71f8b-533">This structure is defined as follows:</span></span>

```cpp
/* Argument structure for SIO_SET_COMPATIBILITY_MODE */
typedef struct _WSA_COMPATIBILITY_MODE {
    WSA_COMPATIBILITY_BEHAVIOR_ID BehaviorId;
    ULONG TargetOsVersion;
} WSA_COMPATIBILITY_MODE, *PWSA_COMPATIBILITY_MODE;
```

<span data-ttu-id="71f8b-534">Der im **BehaviorId-Member angegebene Wert** gibt das angeforderte Verhalten an.</span><span class="sxs-lookup"><span data-stu-id="71f8b-534">The value specified in the **BehaviorId** member indicates the behavior requested.</span></span> <span data-ttu-id="71f8b-535">Der im **TargetOsVersion-Member** angegebene Wert gibt die Windows-Version an, die für das Verhalten angefordert wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-535">The value specified in the **TargetOsVersion** member indicates the Windows version that is being requested for the behavior.</span></span>

<span data-ttu-id="71f8b-536">Der **BehaviorId-Member** kann einer der Werte aus dem **WSA \_ COMPATIBILITY BEHAVIOR \_ ID-Enumerationstyp \_** sein, der in der *Headerdatei Mswsockdef.h* definiert ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-536">The **BehaviorId** member can be one of the values from the **WSA\_COMPATIBILITY\_BEHAVIOR\_ID** enumeration type defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="71f8b-537">Die möglichen Werte für das **BehaviorId-Member** lauten wie folgt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-537">The possible values for the **BehaviorId** member are as follows.</span></span>

| <span data-ttu-id="71f8b-538">Begriff</span><span class="sxs-lookup"><span data-stu-id="71f8b-538">Term</span></span>                                                                                                                                                                             | <span data-ttu-id="71f8b-539">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="71f8b-539">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-|-|
| <span data-ttu-id="71f8b-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span><span class="sxs-lookup"><span data-stu-id="71f8b-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span></span><br/>                                                     | <span data-ttu-id="71f8b-541">Dies entspricht dem Anfordern aller möglichen kompatiblen Verhaltensweisen, die für die **\_ WSA-KOMPATIBILITÄTsverhaltens-ID \_ \_ definiert sind.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-541">This is equivalent to requesting all of the possible compatible behaviors defined for **WSA\_COMPATIBILITY\_BEHAVIOR\_ID**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="71f8b-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span><span class="sxs-lookup"><span data-stu-id="71f8b-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span></span><br/> | <span data-ttu-id="71f8b-543">Wenn der **TargetOsVersion-Member** auf einen Wert für Windows Vista oder höher festgelegt ist, sind Reduzierungen der TCP-Empfangspuffergröße auf diesem Socket mithilfe der **Socketoption SO \_ RCVBUF** auch nach der Einrichtung einer TCP-Verbindung zulässig.</span><span class="sxs-lookup"><span data-stu-id="71f8b-543">When the **TargetOsVersion** member is set to a value for Windows Vista or later, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are allowed even after a TCP connection has been establishment.</span></span> <br/> <span data-ttu-id="71f8b-544">Wenn **der TargetOsVersion-Member** auf einen Wert vor Windows Vista festgelegt ist, sind Reduzierungen der TCP-Empfangspuffergröße auf diesem Socket mithilfe der **Socketoption SO \_ RCVBUF** nach der Verbindungseinrichtung nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="71f8b-544">When the **TargetOsVersion** member is set to a value earlier than Windows Vista, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are not allowed after connection establishment.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="71f8b-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span><span class="sxs-lookup"><span data-stu-id="71f8b-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span></span><br/>                         | <span data-ttu-id="71f8b-546">Wenn **das TargetOsVersion-Element** auf einen Wert für Windows Vista oder höher festgelegt ist, wird die automatische Optimierung des Empfangsfensters aktiviert, und der Skalierungsfaktor des TCP-Fensters wird vom Standardwert 8 auf 2 reduziert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-546">When the **TargetOsVersion** member is set to a value for Windows Vista or later, receive window auto-tuning is enabled and the TCP window scale factor is reduced to 2 from the default value of 8.</span></span><br/> <span data-ttu-id="71f8b-547">Wenn **TargetOsVersion auf einen** Wert vor Windows Vista festgelegt ist, ist die automatische Optimierung des Empfangsfensters deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-547">When the **TargetOsVersion** is set to a value earlier than Windows Vista, receive window auto-tuning is disabled.</span></span> <span data-ttu-id="71f8b-548">Die Skalierungsoption TCP-Fenster ist ebenfalls deaktiviert, und die maximale Größe des Empfangsfensters ist auf 65.535 Bytes beschränkt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-548">The TCP window scaling option is also disabled and the maximum true receive window size is limited to 65,535 bytes.</span></span> <span data-ttu-id="71f8b-549">Die TCP-Fensterskalierungsoption kann für die Verbindung auch dann nicht ausgehandelt werden, wenn die **SO \_ RCVBUF-Socketoption** für diesen Socket aufgerufen wurde, der einen Wert von mehr als 65.535 Bytes angibt, bevor die Verbindung hergestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="71f8b-549">The TCP window scaling option can't be negotiated on the connection even if the **SO\_RCVBUF** socket option was called on this socket specifying a value greater than 65,535 bytes before the connection was established.</span></span><br/> |



 

<span data-ttu-id="71f8b-550">Ausführlichere Informationen finden Sie in der Referenz [**zu SIO \_ SET COMPATIBILITY \_ \_ MODE.**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-550">For more detailed information, see the [**SIO\_SET\_COMPATIBILITY\_MODE**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) reference.</span></span>

<span data-ttu-id="71f8b-551">**SIO \_ SET \_ COMPATIBILITY \_ MODE** wird unter Windows Vista und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-551">**SIO\_SET\_COMPATIBILITY\_MODE** is supported on Windows Vista and later.</span></span>

### <a name="sio_set_group_qos-opcode-setting-i-t1"></a><span data-ttu-id="71f8b-552">SIO \_ SET \_ GROUP \_ QOS (Opcodeeinstellung: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-552">SIO\_SET\_GROUP\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="71f8b-553">Reserviert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-553">Reserved.</span></span>

### <a name="sio_set_priority_hint-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-554">SIO_SET_PRIORITY_HINT (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-554">SIO_SET_PRIORITY_HINT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-555">Stellt einen Hinweis auf das zugrunde liegende Transportprotokoll bereit, um den Datenverkehr auf diesem Socket mit einer bestimmten Priorität zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="71f8b-555">Provides a hint to the underlying transport protocol to treat the traffic on this socket with a specific priority.</span></span> <span data-ttu-id="71f8b-556">Der *lpvInBuffer* muss auf eine Variable vom Typ **PRIORITY_HINT** verweisen, wobei *cbInBuffer* auf sizeof(PRIORITY_HINT) festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="71f8b-556">The *lpvInBuffer* must point to a variable of type **PRIORITY_HINT** with *cbInBuffer* set to sizeof(PRIORITY_HINT).</span></span> <span data-ttu-id="71f8b-557">Die Parameter *lpvOutBuffer* und *cbOutBuffer* müssen **NULL** bzw. 0 sein.</span><span class="sxs-lookup"><span data-stu-id="71f8b-557">The *lpvOutBuffer* and *cbOutBuffer* parameters must be **NULL** and 0, respectively.</span></span> <span data-ttu-id="71f8b-558">Die Microsoft Windows TCP-Implementierung unterstützt diese IOCTL ab Windows 10, Version 1809 (10.0; Build 17763) und höher wie folgt: Wenn der angeforderte Prioritätswert auf **IoPriorityHintVeryLow** festgelegt ist, verwendet TCP eine geänderte Version des LEDBAT-Algorithmus (definiert in RFC 6817), um die Rate des ausgehenden Datenverkehrs auf dem Socket zu steuern.</span><span class="sxs-lookup"><span data-stu-id="71f8b-558">The Microsoft Windows TCP implementation supports this IOCTL starting with Windows 10, version 1809 (10.0; Build 17763) and later as follows: when the requested priority value is set to **IoPriorityHintVeryLow**, TCP uses a modified version of the LEDBAT algorithm (defined in RFC 6817) for controlling the outbound traffic rate on the socket.</span></span> <span data-ttu-id="71f8b-559">Der eingehende Datenverkehr ist von dieser IOCTL nicht betroffen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-559">The inbound traffic is not affected by this IOCTL.</span></span> <span data-ttu-id="71f8b-560">LEDBAT ist ein Scavenger-Algorithmus, und sein Ziel ist es, die Latenz gering zu halten und negative Auswirkungen auf den Datenverkehr mit normaler Priorität zu verhindern, indem der Datenverkehr mit normaler Priorität aus dem Weg geht.</span><span class="sxs-lookup"><span data-stu-id="71f8b-560">LEDBAT is a scavenger algorithm, and its goal is to keep latency low and prevent any adverse effect on normal-priority traffic by getting out of the way when normal-priority traffic is present.</span></span>

<span data-ttu-id="71f8b-561">Siehe auch [RFC 6817](https://tools.ietf.org/html/rfc6817).</span><span class="sxs-lookup"><span data-stu-id="71f8b-561">Also see [RFC 6817](https://tools.ietf.org/html/rfc6817).</span></span>

<span data-ttu-id="71f8b-562">**SIO_SET_PRIORITY_HINT** wird auf Windows 10, Version 1809 (10.0; Build 17763) und höher.</span><span class="sxs-lookup"><span data-stu-id="71f8b-562">**SIO_SET_PRIORITY_HINT** is supported on Windows 10, version 1809 (10.0; Build 17763) and later.</span></span>

### <a name="sio_set_qos-opcode-setting-i-t1"></a><span data-ttu-id="71f8b-563">SIO \_ SET \_ QOS (Opcodeeinstellung: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-563">SIO\_SET\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="71f8b-564">Ordnen Sie die angegebene [**QOS-Struktur**](/windows/win32/api/winsock2/ns-winsock2-qos) dem Socket zu.</span><span class="sxs-lookup"><span data-stu-id="71f8b-564">Associate the specified [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure with the socket.</span></span> <span data-ttu-id="71f8b-565">Es ist kein Ausgabepuffer erforderlich. Die **QOS-Struktur** wird aus dem Eingabepuffer abgerufen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-565">No output buffer is required, the **QOS** structure will be obtained from the input buffer.</span></span> <span data-ttu-id="71f8b-566">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angegeben, die keine Dienstqualität unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-566">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_tcp_initial_rto-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-567">SIO_TCP_INITIAL_RTO (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-567">SIO_TCP_INITIAL_RTO (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-568">Steuert die Anfänglichen (SYN/SYN+ACK)-Neuübertragungsmerkmale eines TCP-Sockets durch Konfigurieren von RTO-Parametern (Initial Retransmission Timeout).</span><span class="sxs-lookup"><span data-stu-id="71f8b-568">Controls the initial (SYN / SYN+ACK) retransmission characteristics of a TCP socket by configuring initial retransmission timeout (RTO) parameters.</span></span> <span data-ttu-id="71f8b-569">Die Konfigurationsparameter werden in einer [**TCP \_ INITIAL \_ RTO \_ PARAMETERS-Struktur**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) angegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-569">The configuration parameters are specified in a [**TCP\_INITIAL\_RTO\_PARAMETERS**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) structure.</span></span>

<span data-ttu-id="71f8b-570">Ausführlichere Informationen finden Sie in der [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) Referenz.</span><span class="sxs-lookup"><span data-stu-id="71f8b-570">For more detailed information, see the [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) reference.</span></span> <span data-ttu-id="71f8b-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_timestamping"></a><span data-ttu-id="71f8b-572">SIO_TIMESTAMPING</span><span class="sxs-lookup"><span data-stu-id="71f8b-572">SIO_TIMESTAMPING</span></span>

<span data-ttu-id="71f8b-573">Eine Socket-IOCTL, die zum Konfigurieren des Empfangs von Socket-Übertragungs-/Empfangszeitstempeln verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-573">A socket IOCTL used to configure reception of socket transmit/receive timestamps.</span></span> <span data-ttu-id="71f8b-574">Gilt nur für Datagrammsockets.</span><span class="sxs-lookup"><span data-stu-id="71f8b-574">Valid only for datagram sockets.</span></span> <span data-ttu-id="71f8b-575">Der Eingabetyp für **SIO_TIMESTAMPING** ist die [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) Struktur.</span><span class="sxs-lookup"><span data-stu-id="71f8b-575">The input type for **SIO_TIMESTAMPING** is the [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) structure.</span></span>

<span data-ttu-id="71f8b-576">Siehe auch [Winsock-Zeitstempel.](/windows/win32/winsock/winsock-timestamping)</span><span class="sxs-lookup"><span data-stu-id="71f8b-576">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_translate_handle-opcode-setting-i-o-t1"></a><span data-ttu-id="71f8b-577">SIO \_ TRANSLATE \_ HANDLE (Opcodeeinstellung: I, O, T==1)</span><span class="sxs-lookup"><span data-stu-id="71f8b-577">SIO\_TRANSLATE\_HANDLE (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="71f8b-578">So erhalten Sie ein entsprechendes Handle für *Sockets,* das im Kontext einer Begleitschnittstelle gültig ist (z. B. TH \_ NETDEV und TH \_ TAPI).</span><span class="sxs-lookup"><span data-stu-id="71f8b-578">To obtain a corresponding handle for socket *s* that is valid in the context of a companion interface (for example, TH\_NETDEV and TH\_TAPI).</span></span> <span data-ttu-id="71f8b-579">Eine Manifestkonst constant, die die Begleitschnittstelle zusammen mit allen anderen erforderlichen Parametern identifiziert, wird im Eingabepuffer angegeben.</span><span class="sxs-lookup"><span data-stu-id="71f8b-579">A manifest constant identifying the companion interface along with any other needed parameters are specified in the input buffer.</span></span> <span data-ttu-id="71f8b-580">Das entsprechende Handle ist nach Abschluss dieser Funktion im Ausgabepuffer verfügbar.</span><span class="sxs-lookup"><span data-stu-id="71f8b-580">The corresponding handle will be available in the output buffer upon completion of this function.</span></span> <span data-ttu-id="71f8b-581">Weitere Informationen zu einer bestimmten Begleitschnittstelle finden Sie im entsprechenden Abschnitt in [Winsock- Datenbank.](winsock-annexes.md)</span><span class="sxs-lookup"><span data-stu-id="71f8b-581">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="71f8b-582">Der [WSAENOPROTOOPT-Fehlercode](windows-sockets-error-codes-2.md) wird für Dienstanbieter angegeben, die diese IOCTL für die angegebene Begleitschnittstelle nicht unterstützen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-582">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL for the specified companion interface.</span></span> <span data-ttu-id="71f8b-583">Diese IOCTL ruft das handle ab, das mithilfe von **SIO \_ TRANSLATE HANDLE zugeordnet \_ ist.**</span><span class="sxs-lookup"><span data-stu-id="71f8b-583">This IOCTL retrieves the handle associated using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="71f8b-584">Es wird empfohlen, die Component Object Model (COM) anstelle dieser IOCTL zu verwenden, um andere Schnittstellen zu finden und zu verfolgen, die möglicherweise von einem Socket unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-584">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="71f8b-585">Diese IOCTL ist aus Gründen der Abwärtskompatibilität mit Systemen vorhanden, bei denen COM nicht verfügbar ist oder aus einem anderen Grund nicht verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="71f8b-585">This IOCTL is present for backward compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_udp_connreset-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-586">SIO \_ UDP \_ CONNRESET (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-586">SIO\_UDP\_CONNRESET (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-587">**Windows XP:** Steuert, ob UDP-PORT \_ UNREACHABLE-Nachrichten gemeldet werden.</span><span class="sxs-lookup"><span data-stu-id="71f8b-587">**Windows XP:** Controls whether UDP PORT\_UNREACHABLE messages are reported.</span></span> <span data-ttu-id="71f8b-588">Legen Sie auf **TRUE** fest, um die Berichterstellung zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-588">Set to **TRUE** to enable reporting.</span></span> <span data-ttu-id="71f8b-589">Legen Sie diese Einstellung auf **FALSE** fest, um die Berichterstellung zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="71f8b-589">Set to **FALSE** to disable reporting.</span></span>

### <a name="sio_set_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="71f8b-590">SIO \_ SET \_ WFP CONNECTION REDIRECT RECORDS \_ \_ \_ (Opcodeeinstellung: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-590">SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="71f8b-591">Legt den Umleitungsdatensatz auf den neuen TCP-Socket fest, der zum Herstellen einer Verbindung mit dem endgültigen Ziel für die Verwendung durch einen WFP-Umleitungsdienst (Windows Filtering Platform) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="71f8b-591">Sets the redirect record to the new TCP socket used for connecting to the final destination for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="71f8b-592">[**SIO \_ SET \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL wird als Teil der Proxyverbindungsnachverfolgung für umgeleitete Socketverbindungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="71f8b-592">The [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL is used as part of proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="71f8b-593">Dieses WFP-Feature ermöglicht die Nachverfolgung von Umleitungsdatensätzen von der ersten Umleitung einer Verbindung zur endgültigen Verbindung zum Ziel.</span><span class="sxs-lookup"><span data-stu-id="71f8b-593">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="71f8b-594">Ausführlichere Informationen finden Sie in der Referenz [**zu SIO \_ SET \_ WFP CONNECTION REDIRECT \_ \_ \_ RECORDS.**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="71f8b-594">For more detailed information, see the [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) reference.</span></span> <span data-ttu-id="71f8b-595">**SIO \_ SET \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS** wird unter Windows 8, Windows Server 2012 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-595">**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_tcp_info-opcode-setting-i-o-t3"></a><span data-ttu-id="71f8b-596">SIO \_ TCP \_ INFO (Opcodeeinstellung: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="71f8b-596">SIO\_TCP\_INFO (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="71f8b-597">Ruft die TCP-Statistiken für einen Socket ab.</span><span class="sxs-lookup"><span data-stu-id="71f8b-597">Retrieves the TCP statistics for a socket.</span></span> <span data-ttu-id="71f8b-598">Die TCP-Statistiken werden in einer [**TCP \_ INFO \_ v0-Struktur**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-598">The TCP statistics are provided in a [**TCP\_INFO\_v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) structure.</span></span>

<span data-ttu-id="71f8b-599">Im Gegensatz zum Abrufen von TCP-Statistiken mit der [**GetPerTcpConnectionEStats-Funktion**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) erfordert das Abrufen von TCP-Statistiken mit diesem Steuerungscode nicht, dass der Benutzercode die TCP-Verbindungstabelle lädt, speichert und filtert, und erfordert keine erhöhten Berechtigungen für die Verwendung.</span><span class="sxs-lookup"><span data-stu-id="71f8b-599">Unlike retrieving TCP statistics with the [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) function, retrieving TCP statistics with this control code does not require the user code to load, store, and filter the TCP connection table, and does not require elevated privileges to use.</span></span>

<span data-ttu-id="71f8b-600">Weitere Informationen finden Sie unter [**SIO \_ TCP \_ INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="71f8b-600">For more information, see [**SIO\_TCP\_INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span></span> <span data-ttu-id="71f8b-601">**SIO \_ TCP \_ INFO** wird auf Windows 10 Version 1703, Windows Server 2016 und höher unterstützt.</span><span class="sxs-lookup"><span data-stu-id="71f8b-601">**SIO\_TCP\_INFO** is supported on Windows 10, version 1703, Windows Server 2016, and later.</span></span>

## <a name="remarks"></a><span data-ttu-id="71f8b-602">Hinweise</span><span class="sxs-lookup"><span data-stu-id="71f8b-602">Remarks</span></span>

<span data-ttu-id="71f8b-603">Winsock-Ioctls werden in einer Reihe verschiedener Headerdateien definiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-603">Winsock Ioctls are defined in a number of different header files.</span></span> <span data-ttu-id="71f8b-604">Dazu gehören die Headerdatei *Winsock2.h,* *Mswsock.h* und *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="71f8b-604">These include the *Winsock2.h*, *Mswsock.h*, and *Mstcpip.h* header file.</span></span>

<span data-ttu-id="71f8b-605">Auf dem Microsoft Windows Software Development Kit (SDK), das für Windows Vista und höher veröffentlicht wurde, hat sich die Organisation der Headerdateien geändert, und eine Reihe von Winsock Ioctls werden auch in den Headerdateien *Ws2def.h,* *Ws2ipdef.h* und *Mswsockdef.h* definiert.</span><span class="sxs-lookup"><span data-stu-id="71f8b-605">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and a number of Winsock Ioctls are also defined in the *Ws2def.h*, *Ws2ipdef.h*, and *Mswsockdef.h* header files.</span></span> <span data-ttu-id="71f8b-606">Die *Headerdatei "Ws2def.h"* wird automatisch in die *Headerdatei "Winsock2.h"* eingeschlossen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-606">The *Ws2def.h* header file is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="71f8b-607">Die *Ws2ipdef.h-Headerdatei* wird automatisch in die *Ws2tcpip.h-Headerdatei* eingeschlossen.</span><span class="sxs-lookup"><span data-stu-id="71f8b-607">The *Ws2ipdef.h* header file is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="71f8b-608">Die *Headerdatei "Mswsockdef.h"* ist automatisch in der *Headerdatei "Mswsockdef.h"* enthalten.</span><span class="sxs-lookup"><span data-stu-id="71f8b-608">The *Mswsockdef.h* header file is automatically included in the *Mswsockdef.h* header file.</span></span>

## <a name="requirements"></a><span data-ttu-id="71f8b-609">Anforderungen</span><span class="sxs-lookup"><span data-stu-id="71f8b-609">Requirements</span></span>

|<span data-ttu-id="71f8b-610">Anforderung</span><span class="sxs-lookup"><span data-stu-id="71f8b-610">Requirement</span></span>|<span data-ttu-id="71f8b-611">Wert</span><span class="sxs-lookup"><span data-stu-id="71f8b-611">Value</span></span>|
|-|-|
| <span data-ttu-id="71f8b-612">Header</span><span class="sxs-lookup"><span data-stu-id="71f8b-612">Header</span></span><br/> | <dl> <span data-ttu-id="71f8b-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h unter Windows Vista, Windows Server 2008 und Windows 7 (einschließlich Mswsock.h); </dt> <dt>Ws2def.h unter Windows Vista, Windows Server 2008 und Windows 7 (einschließlich Winsock2.h); </dt> <dt>Ws2ipdef.h unter Windows Vista, Windows Server 2008 und Windows 7 (einschließlich Ws2tcpip.h)</dt></span><span class="sxs-lookup"><span data-stu-id="71f8b-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Mswsock.h); </dt> <dt>Ws2def.h on Windows Vista, Windows Server 2008 and Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Ws2tcpip.h)</dt></span></span> </dl> |
