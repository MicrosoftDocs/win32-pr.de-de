---
description: Windows Sockets 2 bietet einen erweiterten Satz von Vorgängen, die für das Herstellen einer Socketverbindung Coincident auftreten können. Die Dienstanbieter Anforderungen für die Implementierung dieser Features werden im folgenden beschrieben.
ms.assetid: fbc7055e-ea25-4d17-8039-f0fef300353c
title: Erweiterte Funktionalität zur Verbindungszeit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d33c6d7ee928fe7e97f535363e9e842285eef7fe
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104129200"
---
# <a name="enhanced-functionality-at-connect-time"></a><span data-ttu-id="edf88-104">Erweiterte Funktionalität zur Verbindungszeit</span><span class="sxs-lookup"><span data-stu-id="edf88-104">Enhanced Functionality at Connect Time</span></span>

<span data-ttu-id="edf88-105">Windows Sockets 2 bietet einen erweiterten Satz von Vorgängen, die für das Herstellen einer Socketverbindung Coincident auftreten können.</span><span class="sxs-lookup"><span data-stu-id="edf88-105">Windows Sockets 2 offers an expanded set of operations that can occur coincident to establishing a socket connection.</span></span> <span data-ttu-id="edf88-106">Die Dienstanbieter Anforderungen für die Implementierung dieser Features werden im folgenden beschrieben.</span><span class="sxs-lookup"><span data-stu-id="edf88-106">The service provider requirements for implementing these features are described below.</span></span>

## <a name="conditional-acceptance"></a><span data-ttu-id="edf88-107">Bedingte Annahme</span><span class="sxs-lookup"><span data-stu-id="edf88-107">Conditional Acceptance</span></span>

<span data-ttu-id="edf88-108">Wie bereits beschrieben, ruft [**wspaccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept) eine vom Client bereitgestellte Bedingungs Funktion auf, die Eingabeparameter verwendet, um Informationen über die ausstehende Verbindungsanforderung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="edf88-108">As described previously, [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept) invokes a client-supplied condition function that uses input parameters to supply information about the pending connection request.</span></span> <span data-ttu-id="edf88-109">Diese Informationen können vom Client verwendet werden, um eine Verbindungsanforderung auf der Grundlage von Aufruferinformationen wie Aufrufer-ID, QoS usw. anzunehmen oder abzulehnen. Wenn die Bedingungs Funktion "CF Accept" zurückgibt \_ , wird ein neuer Socket mit denselben Eigenschaften wie der Abhör Socket erstellt, und ein Handle für den neuen Socket wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="edf88-109">This information can be used by the client to accept or reject a connection request based on caller information such as caller identifier, QoS, etc. If the condition function returns CF\_ACCEPT, a new socket is created with the same properties as the listening socket, and a handle to the new socket is returned.</span></span> <span data-ttu-id="edf88-110">Wenn die Bedingungs Funktion CF ablehnen zurückgibt \_ , sollte die Verbindungsanforderung abgelehnt werden.</span><span class="sxs-lookup"><span data-stu-id="edf88-110">If the condition function returns CF\_REJECT, the connection request should be rejected.</span></span> <span data-ttu-id="edf88-111">Wenn die Bedingungs Funktion CF-zurückstellen zurückgibt \_ , kann die Annahme/Ablehnung-Entscheidung nicht sofort erfolgen, und der Dienstanbieter muss die Verbindungsanforderung für die Warteschlangen Warteschlange belassen.</span><span class="sxs-lookup"><span data-stu-id="edf88-111">If the condition function returns CF\_DEFER, the accept/reject decision cannot be made immediately, and the service provider must leave the connection request on the backlog queue.</span></span> <span data-ttu-id="edf88-112">Der Client muss **wspaccept** erneut anrufen, wenn er bereit ist, eine Entscheidung zu treffen, und anordnen, dass die Bedingungs Funktion entweder CF \_ Accept oder CF ablehnen zurückgibt \_ .</span><span class="sxs-lookup"><span data-stu-id="edf88-112">The client must call **WSPAccept** again, when it is ready to make a decision, and arrange for the condition function to return either CF\_ACCEPT or CF\_REJECT.</span></span> <span data-ttu-id="edf88-113">Während eine verzögerte Verbindungsanforderung am Anfang der Warteschlange für Rückstand liegt, gibt der Dienstanbieter keine weiteren Hinweise für ausstehende Verbindungsanforderungen aus.</span><span class="sxs-lookup"><span data-stu-id="edf88-113">While a deferred connection request is at the top of the backlog queue, the service provider does not issue any further indications for pending connection requests.</span></span>

## <a name="exchanging-user-data-at-connect-time"></a><span data-ttu-id="edf88-114">Austauschen von Benutzerdaten zum Verbindungs Zeitpunkt</span><span class="sxs-lookup"><span data-stu-id="edf88-114">Exchanging User Data at Connect Time</span></span>

<span data-ttu-id="edf88-115">Einige Protokolle ermöglichen das Austauschen einer kleinen Menge von Benutzerdaten zur Verbindungszeit.</span><span class="sxs-lookup"><span data-stu-id="edf88-115">Some protocols allow a small amount of user data to be exchanged at connect time.</span></span> <span data-ttu-id="edf88-116">Wenn solche Daten vom Verbindungs Host empfangen wurden, werden Sie in einen Dienstanbieter Puffer eingefügt, und ein Zeiger auf diesen Puffer zusammen mit einem Längen Wert wird über Eingabeparameter für die [**wspaccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept) -Bedingungs Funktion an den Winsock-SPI-Client übermittelt.</span><span class="sxs-lookup"><span data-stu-id="edf88-116">If such data has been received from the connecting host, it is placed in a service provider buffer, and a pointer to this buffer along with a length value are supplied to the Winsock SPI client through input parameters to the [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept) condition function.</span></span> <span data-ttu-id="edf88-117">Wenn der Winsock-SPI-Client Antwortdaten aufweist, um zum Verbindungs Host zurückzukehren, kann er diesen in einen Puffer kopieren, der vom Dienstanbieter bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="edf88-117">If the Winsock SPI client has response data to return to the connecting host, it may copy this into a buffer that is supplied by the service provider.</span></span> <span data-ttu-id="edf88-118">Ein Zeiger auf diesen Puffer und eine ganze Zahl, die angibt, dass die Puffergröße auch als Eingabeparameter für die Bedingungs Funktion bereitgestellt wird (sofern vom Protokoll unterstützt).</span><span class="sxs-lookup"><span data-stu-id="edf88-118">A pointer to this buffer and an integer indicating buffer size are also supplied as condition function input parameters (if supported by the protocol).</span></span>

## <a name="establishing-socket-groups"></a><span data-ttu-id="edf88-119">Einrichten von socketgruppen</span><span class="sxs-lookup"><span data-stu-id="edf88-119">Establishing Socket Groups</span></span>

<span data-ttu-id="edf88-120">Die Verwendung von socketgruppen ist reserviert.</span><span class="sxs-lookup"><span data-stu-id="edf88-120">All use of socket groups is reserved.</span></span>

 

 



