---
description: 'Zum Empfangen von Vervollständigungs hinweisen stehen mehrere Optionen zur Verfügung, sodass Anwendungen mit einem angemessenen Maß an Flexibilität bereitgestellt werden. Hierzu gehören: warten (oder blockieren) von Ereignis Objekten, Abrufen von Ereignis Objekten und Socket-e/a-Abschluss Routinen.'
ms.assetid: 071cf198-6b4c-445e-9bd9-044f57f994a3
title: Empfangende Vervollständigungs Hinweise
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd05d8297af17c26393b5db113fac283b39fcbb3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106350069"
---
# <a name="receiving-completion-indications"></a><span data-ttu-id="fae75-104">Empfangende Vervollständigungs Hinweise</span><span class="sxs-lookup"><span data-stu-id="fae75-104">Receiving Completion Indications</span></span>

<span data-ttu-id="fae75-105">Zum Empfangen von Vervollständigungs hinweisen stehen mehrere Optionen zur Verfügung, sodass Anwendungen mit einem angemessenen Maß an Flexibilität bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="fae75-105">Several options are available for receiving completion indications, thus providing applications with appropriate levels of flexibility.</span></span> <span data-ttu-id="fae75-106">Hierzu gehören: warten (oder blockieren) von Ereignis Objekten, Abrufen von Ereignis Objekten und Socket-e/a-Abschluss Routinen.</span><span class="sxs-lookup"><span data-stu-id="fae75-106">These include: waiting (or blocking) on event objects, polling event objects, and socket I/O completion routines.</span></span>

## <a name="blocking-and-waiting-for-completion-indication"></a><span data-ttu-id="fae75-107">Blockieren und warten auf Abschluss Anzeige</span><span class="sxs-lookup"><span data-stu-id="fae75-107">Blocking and Waiting for Completion Indication</span></span>

<span data-ttu-id="fae75-108">Anwendungen können blockieren, während darauf gewartet wird, dass ein oder mehrere Ereignis Objekte mithilfe der [**wsawaitformultipleevents**](/windows/desktop/api/Winsock2/nf-winsock2-wsawaitformultipleevents) -Funktion festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="fae75-108">Applications can block while waiting for one or more event objects to become set using the [**WSAWaitForMultipleEvents**](/windows/desktop/api/Winsock2/nf-winsock2-wsawaitformultipleevents) function.</span></span> <span data-ttu-id="fae75-109">Bei Windows-Implementierungen wird der Prozess oder Thread tatsächlich blockiert.</span><span class="sxs-lookup"><span data-stu-id="fae75-109">In Windows implementations, the process or thread truly blocks.</span></span> <span data-ttu-id="fae75-110">Da Windows Sockets 2-Ereignis Objekte als Windows-Ereignisse implementiert werden, kann die systemeigene Windows-Funktion [**WaitForMultipleObjects**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjects) auch zu diesem Zweck verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fae75-110">Since Windows Sockets 2 event objects are implemented as Windows events, the native Windows function, [**WaitForMultipleObjects**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjects) can also be used for this purpose.</span></span> <span data-ttu-id="fae75-111">Dies ist besonders nützlich, wenn der Thread sowohl auf Socket-als auch auf nicht-Socket-Ereignisse warten muss.</span><span class="sxs-lookup"><span data-stu-id="fae75-111">This is especially useful if the thread needs to wait on both socket and nonsocket events.</span></span>

## <a name="polling-for-completion-indication"></a><span data-ttu-id="fae75-112">Abrufen der Vervollständigungs Angabe</span><span class="sxs-lookup"><span data-stu-id="fae75-112">Polling for Completion Indication</span></span>

<span data-ttu-id="fae75-113">Anwendungen, die nicht blockieren möchten, können die [**wsagetverlappedresult**](/windows/desktop/api/Winsock2/nf-winsock2-wsagetoverlappedresult) -Funktion verwenden, um den Abschluss Status abzurufen, der mit einem bestimmten Ereignis Objekt verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="fae75-113">Applications that prefer not to block can use the [**WSAGetOverlappedResult**](/windows/desktop/api/Winsock2/nf-winsock2-wsagetoverlappedresult) function to poll for the completion status associated with any particular event object.</span></span> <span data-ttu-id="fae75-114">Diese Funktion gibt an, ob der überlappende Vorgang abgeschlossen wurde, und ordnet, wenn er abgeschlossen wurde, die [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) -Funktion an, um den Fehlerstatus des überlappenden Vorgangs abzurufen.</span><span class="sxs-lookup"><span data-stu-id="fae75-114">This function indicates whether or not the overlapped operation has completed, and if completed, arranges for the [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) function to retrieve the error status of the overlapped operation.</span></span>

## <a name="using-socket-io-completion-routines"></a><span data-ttu-id="fae75-115">Verwenden von Socket-e/a-Vervollständigungs Routinen</span><span class="sxs-lookup"><span data-stu-id="fae75-115">Using Socket I/O Completion Routines</span></span>

<span data-ttu-id="fae75-116">Die Funktionen, die zum Initiieren von überlappenden e/a-Vorgängen ( [**wsasend**](/windows/desktop/api/Winsock2/nf-winsock2-wsasend), [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto), [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), [**WSARecvFrom**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecvfrom)) verwendet werden, nehmen *lpCompletionRoutine* als optionalen Eingabeparameter an.</span><span class="sxs-lookup"><span data-stu-id="fae75-116">The functions used to initiate overlapped I/O ( [**WSASend**](/windows/desktop/api/Winsock2/nf-winsock2-wsasend), [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto), [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), [**WSARecvFrom**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecvfrom)) all take *lpCompletionRoutine* as an optional input parameter.</span></span> <span data-ttu-id="fae75-117">Dies ist ein Zeiger auf eine anwendungsspezifische Funktion, die aufgerufen wird, nachdem ein erfolgreich initiierter e/a-Vorgang abgeschlossen wurde (erfolgreich oder anderweitig).</span><span class="sxs-lookup"><span data-stu-id="fae75-117">This is a pointer to an application-specific function that is called after a successfully initiated overlapped I/O operation completes (successfully or otherwise).</span></span> <span data-ttu-id="fae75-118">Die Vervollständigungs Routine befolgt die gleichen Regeln wie für die Windows-Datei-e/a-Vervollständigungs Routinen.</span><span class="sxs-lookup"><span data-stu-id="fae75-118">The completion routine follows the same rules as stipulated for Windows file I/O completion routines.</span></span> <span data-ttu-id="fae75-119">Das heißt, die Vervollständigungs Routine wird erst aufgerufen, wenn sich der Thread in einem wartewartewartezustand befindet, z. b. wenn die Funktion " [**wsawaitformultipleevents**](/windows/desktop/api/Winsock2/nf-winsock2-wsawaitformultipleevents) " mit dem `fAlertable` festgelegten Flag aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="fae75-119">That is, the completion routine is not invoked until the thread is in an alertable wait state, such as when the function [**WSAWaitForMultipleEvents**](/windows/desktop/api/Winsock2/nf-winsock2-wsawaitformultipleevents) is invoked with the `fAlertable` flag set.</span></span> <span data-ttu-id="fae75-120">Eine Anwendung, die die Vervollständigungs Routine Option für eine bestimmte überlappende e/a-Anforderung verwendet, verwendet möglicherweise nicht die Wait-Option von [**wsagetoverlappedresult**](/windows/desktop/api/Winsock2/nf-winsock2-wsagetoverlappedresult) für dieselbe überlappende e/a-Anforderung.</span><span class="sxs-lookup"><span data-stu-id="fae75-120">An application that uses the completion routine option for a particular overlapped I/O request may not use the wait option of [**WSAGetOverlappedResult**](/windows/desktop/api/Winsock2/nf-winsock2-wsagetoverlappedresult) for that same overlapped I/O request.</span></span>

<span data-ttu-id="fae75-121">Mithilfe der Transporte kann eine Anwendung Sende-und Empfangs Vorgänge aus dem Kontext der Socket-e/a-Abschluss Routine aufrufen und sicherstellen, dass die e/a-Abschluss Routinen für einen bestimmten Socket nicht geschachtelt werden.</span><span class="sxs-lookup"><span data-stu-id="fae75-121">The transports allow an application to invoke send and receive operations from within the context of the socket I/O completion routine and guarantee that, for a given socket, I/O completion routines will not be nested.</span></span> <span data-ttu-id="fae75-122">Dadurch können zeitkritische Datenübertragungen vollständig in einem präemptiven Kontext erfolgen.</span><span class="sxs-lookup"><span data-stu-id="fae75-122">This permits time-sensitive data transmissions to occur entirely within a preemptive context.</span></span>

## <a name="summary-of-overlapped-completion-indication-mechanisms"></a><span data-ttu-id="fae75-123">Zusammenfassung der Überlapp enden Vervollständigungs Anzeige Mechanismen</span><span class="sxs-lookup"><span data-stu-id="fae75-123">Summary of Overlapped Completion Indication Mechanisms</span></span>

<span data-ttu-id="fae75-124">Der bestimmte überlappende e/a-Abschluss Hinweis, der für einen gegebenen überlappenden Vorgang verwendet werden soll, hängt davon ab, ob die Anwendung einen Zeiger auf eine Vervollständigungsfunktion bereitstellt, ob auf eine [**wsaoverl**](/windows/desktop/api/Winsock2/ns-winsock2-wsaoverlapped) -Struktur verwiesen wird, und durch den Wert des **hevent** -Members innerhalb der **wsaoverllapp** -Struktur (falls angegeben).</span><span class="sxs-lookup"><span data-stu-id="fae75-124">The particular overlapped I/O completion indication to be used for a given overlapped operation is determined by whether the application supplies a pointer to a completion function, whether a [**WSAOVERLAPPED**](/windows/desktop/api/Winsock2/ns-winsock2-wsaoverlapped) structure is referenced, and by the value of the **hEvent** member within the **WSAOVERLAPPED** structure (if supplied).</span></span> <span data-ttu-id="fae75-125">In der folgenden Tabelle wird die Vervollständigungs Semantik für einen überlappenden Socket zusammengefasst, und es werden die verschiedenen Kombinationen von *lpoverlgetauscht*, **hevent** und *lpCompletionRoutine* angezeigt:</span><span class="sxs-lookup"><span data-stu-id="fae75-125">The following table summarizes the completion semantics for an overlapped socket and shows the various combinations of *lpOverlapped*, **hEvent**, and *lpCompletionRoutine*:</span></span>

| <span data-ttu-id="fae75-126">*lpoverlgetauscht*</span><span class="sxs-lookup"><span data-stu-id="fae75-126">*lpOverlapped*</span></span> | <span data-ttu-id="fae75-127">hevent</span><span class="sxs-lookup"><span data-stu-id="fae75-127">hEvent</span></span>         | <span data-ttu-id="fae75-128">*lpCompletionRoutine*</span><span class="sxs-lookup"><span data-stu-id="fae75-128">*lpCompletionRoutine*</span></span> | <span data-ttu-id="fae75-129">Vervollständigungs Angabe</span><span class="sxs-lookup"><span data-stu-id="fae75-129">Completion indication</span></span>                                                                                                                                                                                                    |
|----------------|----------------|-----------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="fae75-130">NULL</span><span class="sxs-lookup"><span data-stu-id="fae75-130">NULL</span></span>           | <span data-ttu-id="fae75-131">Nicht verfügbar</span><span class="sxs-lookup"><span data-stu-id="fae75-131">Not applicable</span></span> | <span data-ttu-id="fae75-132">Wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="fae75-132">Ignored</span></span>               | <span data-ttu-id="fae75-133">Der Vorgang wird synchron abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="fae75-133">Operation completes synchronously.</span></span> <span data-ttu-id="fae75-134">Sie verhält sich wie ein nicht überlappenden Socket.</span><span class="sxs-lookup"><span data-stu-id="fae75-134">It behaves as if it were a nonoverlapped socket.</span></span>                                                                                                                                      |
| <span data-ttu-id="fae75-135">! Normal</span><span class="sxs-lookup"><span data-stu-id="fae75-135">!NULL</span></span>          | <span data-ttu-id="fae75-136">NULL</span><span class="sxs-lookup"><span data-stu-id="fae75-136">NULL</span></span>           | <span data-ttu-id="fae75-137">NULL</span><span class="sxs-lookup"><span data-stu-id="fae75-137">NULL</span></span>                  | <span data-ttu-id="fae75-138">Der Vorgang wird überlappen abgeschlossen, aber es gibt keinen von Windows Sockets 2 unterstützten Abschlussmechanismus.</span><span class="sxs-lookup"><span data-stu-id="fae75-138">Operation completes overlapped, but there is no Windows Sockets 2-supported completion mechanism.</span></span> <span data-ttu-id="fae75-139">Der Mechanismus für den Abschluss Port (falls unterstützt) kann in diesem Fall verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="fae75-139">The completion port mechanism (if supported) can be used in this case.</span></span> <span data-ttu-id="fae75-140">Andernfalls gibt es keine Abschluss Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="fae75-140">Otherwise, there is no completion notification.</span></span> |
| <span data-ttu-id="fae75-141">! Normal</span><span class="sxs-lookup"><span data-stu-id="fae75-141">!NULL</span></span>          | <span data-ttu-id="fae75-142">! Normal</span><span class="sxs-lookup"><span data-stu-id="fae75-142">!NULL</span></span>          | <span data-ttu-id="fae75-143">NULL</span><span class="sxs-lookup"><span data-stu-id="fae75-143">NULL</span></span>                  | <span data-ttu-id="fae75-144">Der Vorgang wird überlappende Benachrichtigungen durch Signalisieren von Ereignis Objekten abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="fae75-144">Operation completes overlapped, notification by signaling event object.</span></span>                                                                                                                                                  |
| <span data-ttu-id="fae75-145">! Normal</span><span class="sxs-lookup"><span data-stu-id="fae75-145">!NULL</span></span>          | <span data-ttu-id="fae75-146">Wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="fae75-146">Ignored</span></span>        | <span data-ttu-id="fae75-147">! Normal</span><span class="sxs-lookup"><span data-stu-id="fae75-147">!NULL</span></span>                 | <span data-ttu-id="fae75-148">Der Vorgang wird überlappende Benachrichtigungen durch Planen der Abschluss Routine abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="fae75-148">Operation completes overlapped, notification by scheduling completion routine.</span></span>                                                                                                                                           |



 

 

 
