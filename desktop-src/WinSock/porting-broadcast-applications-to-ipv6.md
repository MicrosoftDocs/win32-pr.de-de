---
description: In diesem Abschnitt werden bewährte Methoden zum Portieren einer IPv6-Broadcast Anwendung auf die mit Windows Sockets verfügbaren Multicast Funktionen beschrieben.
ms.assetid: 12e491fd-650f-43b4-afa1-9f37b1c30240
title: Portieren von Broadcast Anwendungen auf IPv6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b9f7dce09db6822a6f9b0a61873ca6bbff5a256b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484918"
---
# <a name="porting-broadcast-applications-to-ipv6"></a><span data-ttu-id="7e964-103">Portieren von Broadcast Anwendungen auf IPv6</span><span class="sxs-lookup"><span data-stu-id="7e964-103">Porting Broadcast Applications to IPv6</span></span>

<span data-ttu-id="7e964-104">In diesem Abschnitt werden bewährte Methoden zum Portieren einer IPv6-Broadcast Anwendung auf die mit Windows Sockets verfügbaren Multicast Funktionen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7e964-104">This section describes best practices for porting an IPv6 broadcast application to the multicast capabilities available with Windows Sockets.</span></span>

## <a name="comparing-ipv4-to-ipv6"></a><span data-ttu-id="7e964-105">Vergleichen von IPv4 mit IPv6</span><span class="sxs-lookup"><span data-stu-id="7e964-105">Comparing IPv4 to IPv6</span></span>

<span data-ttu-id="7e964-106">Der wichtigste Aspekt beim Vorbereiten der Portierung einer IPv4-Broadcast Anwendung auf IPv6 ist: IPv6 hat kein implementiertes Übertragungs Konzept.</span><span class="sxs-lookup"><span data-stu-id="7e964-106">The most notable consideration when preparing to port an IPv4 broadcast application to IPv6 is this: IPv6 has no implemented concept of broadcast.</span></span> <span data-ttu-id="7e964-107">Stattdessen verwendet IPv6 Multicast.</span><span class="sxs-lookup"><span data-stu-id="7e964-107">Instead, IPv6 uses multicast.</span></span>

<span data-ttu-id="7e964-108">Multicast für IPv6 kann herkömmliche Broadcast Funktionen emulieren, die in IPv4 gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="7e964-108">Multicast for IPv6 can emulate traditional broadcast capabilities found in IPv4.</span></span> <span data-ttu-id="7e964-109">Das Festlegen der IPv6-Option zum [ \_ Hinzufügen von \_ Mitgliedschafts](ipproto-ipv6-socket-options.md) Sockets (IPv6) mit der IPv6-Adresse, die auf die Adresse des Link-Local-Bereichs alle Knoten (FF02:: 1) festgelegt ist, entspricht dem Senden von IPv4-Broadcast Adressen [mithilfe der \_ ](socket-options.md)</span><span class="sxs-lookup"><span data-stu-id="7e964-109">Setting the [IPV6\_ADD\_MEMBERSHIP](ipproto-ipv6-socket-options.md) socket option with the IPv6 address set to the link-local scope all nodes address (FF02::1) is equivalent to broadcasting on IPv4 broadcast addresses using the [SO\_BROADCAST](socket-options.md) socket option.</span></span> <span data-ttu-id="7e964-110">Diese Adresse wird manchmal als " *alle Knoten"-Multicast Gruppe* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="7e964-110">This address is sometimes called the *all-nodes multicast group*.</span></span> <span data-ttu-id="7e964-111">Bei Anwendungen, die einfach Broadcast Emulation für IPv6 wünschen, ist dieser Ansatz operationale Äquivalent.</span><span class="sxs-lookup"><span data-stu-id="7e964-111">For applications that simply want broadcast emulation for IPv6, that approach is operationally equivalent.</span></span> <span data-ttu-id="7e964-112">Ein wichtiger Unterschied zu IPv6 besteht jedoch darin, dass mit auf der Multicast Gruppen Adresse aller Knoten standardmäßig nicht empfangen werden (IPv4-Übertragungen werden standardmäßig empfangen).</span><span class="sxs-lookup"><span data-stu-id="7e964-112">One notable difference with IPv6, however, is that multicasts on the all-nodes multicast group address are not received by default (IPv4 broadcasts are received by default).</span></span> <span data-ttu-id="7e964-113">Anwendungsprogrammierer müssen die IPv6- \_ Option zum Hinzufügen \_ von Mitgliedschaften in IPv6 verwenden, um den Multicast Empfang aus beliebigen Quellen, einschließlich der Multicast Gruppen Adresse für alle Knoten, zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="7e964-113">Application programmers must use the IPV6\_ADD\_MEMBERSHIP socket option to enable multicast reception from any source, including the all-nodes multicast group address.</span></span>

> [!Note]  
> <span data-ttu-id="7e964-114">In IPv6 wird die Schnittstellen Auswahl in der Argument Struktur angegeben, die an die Multicast-Socketoption oder ioctl übermittelt wurde.</span><span class="sxs-lookup"><span data-stu-id="7e964-114">In IPv6, interface selection is specified in the argument structure passed to the multicast socket option or IOCTL.</span></span>

 

<span data-ttu-id="7e964-115">Für umfangreichere, robustere, selektivere und besser verwaltbare Übertragungen zu mehreren Hosts sollten Anwendungsentwickler jedoch erwägen, zu einem Multicast Modell zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="7e964-115">But for richer, more robust, more selective and more manageable transmissions to multiple hosts, application developers should consider moving to a multicast model.</span></span>

## <a name="moving-to-multicast"></a><span data-ttu-id="7e964-116">Verschieben zu Multicast</span><span class="sxs-lookup"><span data-stu-id="7e964-116">Moving to Multicast</span></span>

<span data-ttu-id="7e964-117">Mit Multicast können Anwendungsprogrammierer selektiv ein bestimmtes Quell-/gruppenpaar auswählen und so ein selektives Empfangs Modell aktivieren.</span><span class="sxs-lookup"><span data-stu-id="7e964-117">With multicast, application programmers can selectively choose a particular source/group pair, enabling a selective reception model.</span></span> <span data-ttu-id="7e964-118">Die Multicast-listenerermittlung (MLD) in IPv6 und Version 3 des Internet Group Management-Protokolls (IGMPv3) unterstützen die Multicasting-Programmierung.</span><span class="sxs-lookup"><span data-stu-id="7e964-118">The Multicast Listener Discovery (MLD) on IPv6 and version 3 of the Internet Group Management Protocol (IGMPv3) on IPv4 support multicasting programming.</span></span> <span data-ttu-id="7e964-119">Darüber hinaus ermöglicht Multicast Anwendungen, Absender innerhalb einer Gruppe explizit zu blockieren (oder zu entsperren) und damit Anwendungen vor nicht autorisierten Sendern zu schützen.</span><span class="sxs-lookup"><span data-stu-id="7e964-119">In addition, multicast enables applications to specifically block (or unblock) senders within a group, further protecting applications from rogue broadcasters.</span></span> <span data-ttu-id="7e964-120">Diese Funktion ist für IPv4 (erfordert IGMPv3) und IPv6 (erfordert MLDv2) verfügbar.</span><span class="sxs-lookup"><span data-stu-id="7e964-120">This capability is available for IPv4 (requires IGMPv3) as well as IPv6 (requires MLDv2).</span></span>

<span data-ttu-id="7e964-121">Es gibt zwei primäre Szenarien für Anwendungsprogrammierer, die Multicast verwenden: solche, die von IPv4-Broadcast Anwendungen (oder Multicast Anwendungen) zu IPv6 portieren, und solche, die neue IPv6-Multicast Anwendungen erstellen.</span><span class="sxs-lookup"><span data-stu-id="7e964-121">There are two primary scenarios for application programmers using multicast: those porting from IPv4 broadcast (or multicast) applications to IPv6, and those creating new IPv6 multicast applications.</span></span>

<span data-ttu-id="7e964-122">Zum Portieren vorhandener Anwendungen gibt es zwei Optionen für den Wechsel zu IPv6-Multicast: die Verwendung von Socketoptionen und die Verwendung von IOCTLs.</span><span class="sxs-lookup"><span data-stu-id="7e964-122">For porting existing applications, there are two options to move to IPv6 multicast: using socket options and using IOCTLs.</span></span>

-   <span data-ttu-id="7e964-123">Die Verwendung von Socketoptionen ist ein Änderungs basierter Ansatz, mit dem Entwickler die socketeigenschaften nach Bedarf ändern können (z. b. das Blockieren oder Entsperren eines Absenders, das Hinzufügen einer neuen Quelle usw.).</span><span class="sxs-lookup"><span data-stu-id="7e964-123">Using socket options is a change-based approach, which enables developers to change the socket properties as required (such as blocking or unblocking a sender, adding a new source, and so on).</span></span> <span data-ttu-id="7e964-124">Diese Vorgehensweise ist intuitiver und wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="7e964-124">This approach is more intuitive and the recommended approach.</span></span> <span data-ttu-id="7e964-125">Weitere Informationen zum Änderungs basierten Ansatz bei der Multicast Programmierung finden [Sie unter MLD und IGMP mithilfe von Windows Sockets](igmp-and-windows-sockets.md).</span><span class="sxs-lookup"><span data-stu-id="7e964-125">For more information on the change-based approach to multicast programming, see [MLD and IGMP Using Windows Sockets](igmp-and-windows-sockets.md).</span></span>
-   <span data-ttu-id="7e964-126">Die Verwendung von IOCTLs ist ein auf Endzuständen basierender Ansatz, da Entwickler mit einem-Befehl einen vollständig konfigurierten socketzustand bereitstellen können, einschließlich der Einschluss-und Ausschluss Listen.</span><span class="sxs-lookup"><span data-stu-id="7e964-126">Using IOCTLs is a final-state based approach, because it enables developers to provide a fully-configured socket state, including inclusion and exclusion lists, with one call.</span></span> <span data-ttu-id="7e964-127">Weitere Informationen zum endgültigen Zustands basierten Ansatz finden Sie unter [Final-State-based Multicast Programming](final-state-based-multicast-programming.md).</span><span class="sxs-lookup"><span data-stu-id="7e964-127">For more information on the final-state based approach, see [Final-State-Based Multicast Programming](final-state-based-multicast-programming.md).</span></span>

<span data-ttu-id="7e964-128">Wenn Sie neue IPv6-Multicast Anwendungen erstellen, empfiehlt es sich, die Socketoptionen anstelle von IOCTLs zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="7e964-128">For those creating new IPv6 multicast applications, the recommended practice is to use socket options, rather than using IOCTLs.</span></span>

<span data-ttu-id="7e964-129">Es gibt einen anderen Ansatz für das Erstellen von Multicast Anwendungen mit IPv6 und erfordert die Verwendung der [**wsajoinleaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="7e964-129">There is one other approach to creating multicast applications with IPv6, and that entails using the [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) function.</span></span> <span data-ttu-id="7e964-130">Die Verwendung der **wsajoinleaf** -Funktion ist nicht die empfohlene Vorgehensweise, es gibt jedoch Situationen, in denen die Verwendung möglicherweise vorgegeben ist.</span><span class="sxs-lookup"><span data-stu-id="7e964-130">While using the **WSAJoinLeaf** function is not the recommended practice, there are situations that may dictate its use.</span></span> <span data-ttu-id="7e964-131">Ein Nachteil bei der Verwendung von Socketoptionen unter Windows Server 2003 und früher besteht beispielsweise darin, dass Sie für die IP-Version spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="7e964-131">For example, one drawback to using socket options on Windows Server 2003 and earlier is that they are IP version specific.</span></span> <span data-ttu-id="7e964-132">Bei diesen älteren Versionen von Windows müssen verschiedene Sockets-Optionen für IPv6 und IPv4 gelten.</span><span class="sxs-lookup"><span data-stu-id="7e964-132">On these older versions of Windows, different sockets options must be for IPv6 and IPv4.</span></span> <span data-ttu-id="7e964-133">Unter Windows Vista und höher werden neue Socketoptionen unterstützt, die sowohl für IPv4 als auch für IPv6 verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="7e964-133">On Windows Vista and later, new socket options are supported that can be used with both IPv4 and IPv6.</span></span> <span data-ttu-id="7e964-134">Die **wsajoinleaf** -Funktion ist dagegen IP-Version und Protokoll agnostisch und kann daher ein nützlicher Ansatz zum Entwickeln einer Anwendung sein, die unter Windows Server 2003 und früher mit mehreren IP-Versionen funktionieren muss.</span><span class="sxs-lookup"><span data-stu-id="7e964-134">The **WSAJoinLeaf** function, in contrast, is IP version and protocol agnostic, and therefore it can be a useful approach for building an application that must work with multiple IP versions on Windows Server 2003 and earlier.</span></span> <span data-ttu-id="7e964-135">Die Verwendung der **wsajoinleaf** -Funktion kann in bestimmten Situationen, in denen Protokoll-und IP-Versions Agnostizismus erforderlich sind, besser geeignet sein.</span><span class="sxs-lookup"><span data-stu-id="7e964-135">Using the **WSAJoinLeaf** function may be more appropriate in certain situations where protocol and IP-version agnosticism is required.</span></span>

 

 



