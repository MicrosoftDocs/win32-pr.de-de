---
description: Die Stream-Socket-Abstraktion enthält das Konzept von OOB-Daten (Out-of-Band).
ms.assetid: 1a517885-2688-421f-9389-2d329e5c3d56
title: Out-of-Band-Daten Protocol-Independent
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a929f4273d9cc9f268a296b711649406622ca9b4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104343469"
---
# <a name="protocol-independent-out-of-band-data"></a><span data-ttu-id="7826b-103">Out-of-Band-Daten Protocol-Independent</span><span class="sxs-lookup"><span data-stu-id="7826b-103">Protocol-Independent Out-of-Band Data</span></span>

<span data-ttu-id="7826b-104">Die Stream-Socket-Abstraktion enthält das Konzept von OOB-Daten (Out-of-Band).</span><span class="sxs-lookup"><span data-stu-id="7826b-104">The stream socket abstraction includes the notion of out of band (OOB) data.</span></span> <span data-ttu-id="7826b-105">Viele Protokolle ermöglichen es, dass Teile eingehender Daten in gewisser Weise als Sonderzeichen gekennzeichnet werden, und diese speziellen Datenblöcke können an den Benutzer aus der normalen Reihenfolge übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="7826b-105">Many protocols allow portions of incoming data to be marked as special in some way, and these special data blocks can be delivered to the user out of the normal sequence.</span></span> <span data-ttu-id="7826b-106">Beispiele hierfür sind beschleunigte Daten in X. 25 und anderen OSI-Protokollen sowie dringende Daten in der Verwendung von TCP von BSD Unix.</span><span class="sxs-lookup"><span data-stu-id="7826b-106">Examples include expedited data in X.25 and other OSI protocols, and urgent data in BSD UNIX's use of TCP.</span></span> <span data-ttu-id="7826b-107">Im folgenden Abschnitt wird die OOB-Datenverarbeitung in einer Protokoll unabhängigen Weise beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7826b-107">The following section describes OOB data handling in a protocol-independent manner.</span></span> <span data-ttu-id="7826b-108">Eine Erörterung von OOB-Daten, die mithilfe von TCP-Daten implementiert werden, folgt der Protokoll unabhängigen Erläuterung.</span><span class="sxs-lookup"><span data-stu-id="7826b-108">A discussion of OOB data implemented using TCP urgent data follows the protocol-independent explanation.</span></span> <span data-ttu-id="7826b-109">In jeder Erörterung impliziert die Verwendung [**von empfangener**](/windows/desktop/api/winsock/nf-winsock-recv) auch [**"recvfrom**](/windows/desktop/api/winsock/nf-winsock-recvfrom)", " [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv)" und " [**WSARecvFrom**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecvfrom)", und Verweise auf " [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) " gelten ebenfalls für " [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect)".</span><span class="sxs-lookup"><span data-stu-id="7826b-109">In each discussion, the use of [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) also implies [**recvfrom**](/windows/desktop/api/winsock/nf-winsock-recvfrom), [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv), and [**WSARecvFrom**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecvfrom), and references to [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) also apply to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect).</span></span>

## <a name="protocol-independent-oob-data"></a><span data-ttu-id="7826b-110">Protokoll unabhängige OOB-Daten</span><span class="sxs-lookup"><span data-stu-id="7826b-110">Protocol Independent OOB Data</span></span>

<span data-ttu-id="7826b-111">OOB-Daten sind ein logisch unabhängiger Übertragungskanal, der jedem Paar verbundener Streamsockets zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="7826b-111">OOB data is a logically independent transmission channel associated with each pair of connected stream sockets.</span></span> <span data-ttu-id="7826b-112">OOB-Daten werden möglicherweise unabhängig von normalen Daten an den Benutzer übermittelt.</span><span class="sxs-lookup"><span data-stu-id="7826b-112">OOB data may be delivered to the user independently of normal data.</span></span> <span data-ttu-id="7826b-113">Die Abstraktion definiert, dass die OOB-Datenfunktionen die zuverlässige Bereitstellung mindestens eines OOB-Datenblocks gleichzeitig unterstützen müssen.</span><span class="sxs-lookup"><span data-stu-id="7826b-113">The abstraction defines that the OOB data facilities must support the reliable delivery of at least one OOB data block at a time.</span></span> <span data-ttu-id="7826b-114">Dieser Datenblock kann mindestens ein Byte an Daten enthalten, und mindestens ein OOB-Datenblock kann gleichzeitig an den Benutzer übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="7826b-114">This data block can contain at least one byte of data, and at least one OOB data block can be pending delivery to the user at any one time.</span></span> <span data-ttu-id="7826b-115">Bei Kommunikationsprotokollen, die die in-Band-Signalisierung unterstützen (z. b. TCP, bei der die dringenden Daten nacheinander mit den normalen Daten geliefert werden), extrahiert das System normalerweise die OOB-Daten aus dem normalen Datenstrom und speichert Sie separat (wobei eine Lücke im normalen Datenstream besteht).</span><span class="sxs-lookup"><span data-stu-id="7826b-115">For communications protocols that support in-band signaling (such as TCP, where the urgent data is delivered in sequence with the normal data), the system normally extracts the OOB data from the normal data stream and stores it separately (leaving a gap in the normal data stream).</span></span> <span data-ttu-id="7826b-116">Dies ermöglicht es Benutzern, die OOB-Daten in der richtigen Reihenfolge zu empfangen und Sie außerhalb der Reihenfolge zu empfangen, ohne dass alle dazwischen liegenden Daten gepuffert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="7826b-116">This allows users to choose between receiving the OOB data in order and receiving it out of sequence without having to buffer all the intervening data.</span></span> <span data-ttu-id="7826b-117">Es ist möglich, die Out-of-Band-Daten (OOB) zu sehen.</span><span class="sxs-lookup"><span data-stu-id="7826b-117">It is possible to peek at out-of-band (OOB) data.</span></span>

<span data-ttu-id="7826b-118">Ein Benutzer kann ermitteln, ob OOB-Daten mit der [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) -Funktion oder der [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) -Funktion mit der **siocatmark** ioctl auf den Lesevorgang warten.</span><span class="sxs-lookup"><span data-stu-id="7826b-118">A user can determine if any OOB data is waiting to be read using the [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) or [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function with the **SIOCATMARK** IOCTL.</span></span> <span data-ttu-id="7826b-119">Bei Protokollen, bei denen das Konzept der Position des OOB-Datenblocks innerhalb des normalen Datenstroms sinnvoll ist, z. b. TCP, verwaltet ein Windows Sockets-Dienstanbieter einen konzeptionellen Marker, der die Position des letzten Bytes der OOB-Daten innerhalb des normalen Datenstroms angibt.</span><span class="sxs-lookup"><span data-stu-id="7826b-119">For protocols where the concept of the position of the OOB data block within the normal data stream is meaningful, such as TCP, a Windows Sockets service provider maintains a conceptual marker indicating the position of the last byte of OOB data within the normal data stream.</span></span> <span data-ttu-id="7826b-120">Dies ist für die Implementierung der **ioctlsocket** -oder **WSAIoctl** -Funktionen, die **siocatmark** unterstützen, nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7826b-120">This is not necessary for the implementation of the **ioctlsocket** or **WSAIoctl** functions that support **SIOCATMARK**.</span></span> <span data-ttu-id="7826b-121">Das vorhanden sein oder Fehlen von OOB-Daten ist vollständig erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7826b-121">The presence or absence of OOB data is all is required.</span></span>

<span data-ttu-id="7826b-122">Bei Protokollen, bei denen das Konzept der Position des OOB-Datenblocks innerhalb des normalen Datenstroms sinnvoll ist, kann eine Anwendung out-of-Band-Daten Inline als Teil des normalen Datenstroms verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="7826b-122">For protocols where the concept of the position of the OOB data block within the normal data stream is meaningful, an application might process out-of-band data inline, as part of the normal data stream.</span></span> <span data-ttu-id="7826b-123">Dies wird erreicht, indem die Socketoption " \_ oobinline" mit der Funktion " [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) " festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="7826b-123">This is achieved by setting the socket option SO\_OOBINLINE with the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function.</span></span> <span data-ttu-id="7826b-124">Bei anderen Protokollen, bei denen die OOB-Datenblöcke wirklich unabhängig vom normalen Datenstrom sind, führt der Versuch, so oobinline festzulegen, zu \_ einem Fehler.</span><span class="sxs-lookup"><span data-stu-id="7826b-124">For other protocols where the OOB data blocks are truly independent of the normal data stream, attempting to set SO\_OOBINLINE results in an error.</span></span> <span data-ttu-id="7826b-125">Eine Anwendung kann die [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) -oder die [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) -Funktion mit der **siocatmark** ioctl verwenden, um zu bestimmen, ob vor der Markierung ungelesene OOB-Daten vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="7826b-125">An application can use the [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) or [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function with the **SIOCATMARK** IOCTL to determine whether there is any unread OOB data preceding the mark.</span></span> <span data-ttu-id="7826b-126">Sie kann diese Informationen z. b. verwenden, um eine erneute Synchronisierung mit dem Peer durchführen, indem Sie sicherstellen, dass alle Daten bis zu der Markierung im Datenstrom bei Bedarf verworfen werden.</span><span class="sxs-lookup"><span data-stu-id="7826b-126">For example, it can use this information to resynchronize with its peer by ensuring that all data up to the mark in the data stream is discarded when appropriate.</span></span>

<span data-ttu-id="7826b-127">Wenn " \_ oobinline" deaktiviert ist (Standardeinstellung):</span><span class="sxs-lookup"><span data-stu-id="7826b-127">With SO\_OOBINLINE disabled (the default setting):</span></span>

-   <span data-ttu-id="7826b-128">Windows Sockets benachrichtigt eine Anwendung über ein FD- \_ OOB-Ereignis, wenn die Anwendung, die für eine Benachrichtigung mit [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect)registriert ist, genau auf die gleiche Weise wie der FD- \_ Lesevorgang verwendet wird, um über das vorhanden sein normaler Daten zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="7826b-128">Windows Sockets notifies an application of an FD\_OOB event, if the application registered for notification with [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect), in exactly the same way FD\_READ is used to notify of the presence of normal data.</span></span> <span data-ttu-id="7826b-129">Das heißt, FD \_ OOB wird bei Empfang von OOB-Daten ohne OOB-Daten, die zuvor in die Warteschlange eingereiht wurden</span><span class="sxs-lookup"><span data-stu-id="7826b-129">That is, FD\_OOB is posted when OOB data arrives with no OOB data previously queued.</span></span> <span data-ttu-id="7826b-130">Der FD \_ OOB wird auch bereitgestellt, wenn Daten mit dem OOB-Flag "msg" gelesen werden, \_ während einige OOB-Daten nach der Rückgabe des Lesevorgangs in die Warteschlange eingereiht werden.</span><span class="sxs-lookup"><span data-stu-id="7826b-130">The FD\_OOB is also posted when data is read using the MSG\_OOB flag while some OOB data remains queued after the read operation has returned.</span></span> <span data-ttu-id="7826b-131">FD- \_ Lese Nachrichten werden für OOB-Daten nicht gepostet.</span><span class="sxs-lookup"><span data-stu-id="7826b-131">FD\_READ messages are not posted for OOB data.</span></span>
-   <span data-ttu-id="7826b-132">Windows Sockets kehrt von [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) mit dem entsprechenden *exceptfds* -socketsatz zurück, wenn OOB-Daten im Socket in die Warteschlange eingereiht werden.</span><span class="sxs-lookup"><span data-stu-id="7826b-132">Windows Sockets returns from [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) with the appropriate *exceptfds* socket set if OOB data is queued on the socket.</span></span>
-   <span data-ttu-id="7826b-133">Die Anwendung kann [**empfangener**](/windows/desktop/api/winsock/nf-winsock-recv) mit der Meldung \_ OOB aufgerufen werden, um den dringenden Datenblock zu lesen.</span><span class="sxs-lookup"><span data-stu-id="7826b-133">The application can call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) with MSG\_OOB to read the urgent data block at any time.</span></span> <span data-ttu-id="7826b-134">Der Block der OOB-Daten springt in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="7826b-134">The block of OOB data jumps the queue.</span></span>
-   <span data-ttu-id="7826b-135">Die Anwendung kann [**empfangener**](/windows/desktop/api/winsock/nf-winsock-recv) ohne msg \_ OOB aufgerufen werden, um den normalen Datenstrom zu lesen.</span><span class="sxs-lookup"><span data-stu-id="7826b-135">The application can call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) without MSG\_OOB to read the normal data stream.</span></span> <span data-ttu-id="7826b-136">Der OOB-Datenblock wird nicht im Datenstrom mit normalen Daten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7826b-136">The OOB data block does not appear in the data stream with normal data.</span></span> <span data-ttu-id="7826b-137">Wenn OOB-Daten nach einem beliebigen Rückruf von **empfangener** verbleiben, benachrichtigt Windows Sockets die Anwendung mit FD \_ OOB oder mit *exceptfds* bei Verwendung von [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select).</span><span class="sxs-lookup"><span data-stu-id="7826b-137">If OOB data remains after any call to **recv**, Windows Sockets notifies the application with FD\_OOB or with *exceptfds* when using [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select).</span></span>
-   <span data-ttu-id="7826b-138">Bei Protokollen, bei denen die OOB-Daten über eine Position innerhalb des normalen Datenstroms verfügen, wird diese Position von einem einzelnen [**empfangener**](/windows/desktop/api/winsock/nf-winsock-recv) -Vorgang nicht überspannt.</span><span class="sxs-lookup"><span data-stu-id="7826b-138">For protocols where the OOB data has a position within the normal data stream, a single [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operation does not span that position.</span></span> <span data-ttu-id="7826b-139">Ein **empfangener** gibt die normalen Daten vor der Markierung zurück, und ein zweites **empfangener** ist erforderlich, um mit dem Lesen von Daten nach der Markierung zu beginnen.</span><span class="sxs-lookup"><span data-stu-id="7826b-139">One **recv** returns the normal data before the mark, and a second **recv** is required to begin reading data after the mark.</span></span>

<span data-ttu-id="7826b-140">Mit \_ aktiviertem oobinline:</span><span class="sxs-lookup"><span data-stu-id="7826b-140">With SO\_OOBINLINE enabled:</span></span>

-   <span data-ttu-id="7826b-141">FD \_ OOB-Nachrichten werden nicht für OOB-Daten gepostet.</span><span class="sxs-lookup"><span data-stu-id="7826b-141">FD\_OOB messages are not posted for OOB data.</span></span> <span data-ttu-id="7826b-142">OOB-Daten werden für den Zweck der [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) -Funktion und der [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) -Funktion als normal behandelt und durch Festlegen des *Sockets in der* Schreibweise oder durch das Senden einer FD- \_ Lese Nachricht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7826b-142">OOB data is treated as normal for the purpose of the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) and [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) functions, and indicated by setting the socket in *readfds* or by sending an FD\_READ message respectively.</span></span>
-   <span data-ttu-id="7826b-143">Die Anwendung kann [**empfangener**](/windows/desktop/api/winsock/nf-winsock-recv) nicht mit dem OOB-Flag "msg" aufgerufen werden \_ , um den OOB-Datenblock zu lesen.</span><span class="sxs-lookup"><span data-stu-id="7826b-143">The application cannot call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) with the MSG\_OOB flag set to read the OOB data block.</span></span> <span data-ttu-id="7826b-144">Der Fehlercode wsaabval wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="7826b-144">The error code WSAEINVAL is returned.</span></span>
-   <span data-ttu-id="7826b-145">Die Anwendung kann [**empfangener**](/windows/desktop/api/winsock/nf-winsock-recv) aufgerufen werden, ohne dass das \_ OOB-Flag der Nachricht festgelegt wurde</span><span class="sxs-lookup"><span data-stu-id="7826b-145">The application can call [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) without the MSG\_OOB flag set.</span></span> <span data-ttu-id="7826b-146">Alle OOB-Daten werden in der richtigen Reihenfolge innerhalb des normalen Datenstroms zugestellt.</span><span class="sxs-lookup"><span data-stu-id="7826b-146">Any OOB data is delivered in its correct order within the normal data stream.</span></span> <span data-ttu-id="7826b-147">OOB-Daten werden nie mit normalen Daten gemischt.</span><span class="sxs-lookup"><span data-stu-id="7826b-147">OOB data is never mixed with normal data.</span></span> <span data-ttu-id="7826b-148">Es müssen drei Lese Anforderungen vorhanden sein, um die OOB-Daten zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="7826b-148">There must be three read requests to get past the OOB data.</span></span> <span data-ttu-id="7826b-149">Der erste gibt die normalen Daten vor dem OOB-Datenblock zurück, der zweite gibt die OOB-Daten zurück, das dritte gibt die normalen Daten nach den OOB-Daten zurück.</span><span class="sxs-lookup"><span data-stu-id="7826b-149">The first returns the normal data prior to the OOB data block, the second returns the OOB data, the third returns the normal data following the OOB data.</span></span> <span data-ttu-id="7826b-150">Anders ausgedrückt: die OOB-Datenblock Grenzen bleiben erhalten.</span><span class="sxs-lookup"><span data-stu-id="7826b-150">In other words, the OOB data block boundaries are preserved.</span></span>

<span data-ttu-id="7826b-151">Die " [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) "-Routine eignet sich besonders gut für die Behandlung von Benachrichtigungen über das vorhanden sein von Out-of-Band-Daten, wenn " \_ oobinline" deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="7826b-151">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) routine is particularly well suited to handling notification of the presence of out-of-band-data when SO\_OOBINLINE is off.</span></span>

## <a name="oob-data-in-tcp"></a><span data-ttu-id="7826b-152">OOB-Daten in TCP</span><span class="sxs-lookup"><span data-stu-id="7826b-152">OOB Data in TCP</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7826b-153">Die folgende Erörterung von Out-of-Band-Daten (OOB), die mithilfe von TCP-dringenden Daten implementiert wurde, folgt dem in der Berkeley-Software Verteilung verwendeten Modell.</span><span class="sxs-lookup"><span data-stu-id="7826b-153">The following discussion of out-of-band data (OOB), implemented using TCP urgent data, follows the model used in the Berkeley software distribution.</span></span> <span data-ttu-id="7826b-154">Benutzer und Implementierer sollten Folgendes beachten:</span><span class="sxs-lookup"><span data-stu-id="7826b-154">Users and implementers should be aware that:</span></span>

 

-   <span data-ttu-id="7826b-155">Es gibt zurzeit zwei widersprüchliche Interpretationen von [RFC 793](https://www.ietf.org/rfc/rfc793.txt) (wo das Konzept eingeführt wird).</span><span class="sxs-lookup"><span data-stu-id="7826b-155">There are, at present, two conflicting interpretations of [RFC 793](https://www.ietf.org/rfc/rfc793.txt) (where the concept is introduced).</span></span>
-   <span data-ttu-id="7826b-156">Die Implementierung von OOB-Daten in der Berkeley Software Distribution (BSD) entspricht nicht den in [RFC 1122](https://www.ietf.org/rfc/rfc1122.txt)angegebenen Host Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="7826b-156">The implementation of OOB data in the Berkeley Software Distribution (BSD) does not conform to the Host Requirements specified in [RFC 1122](https://www.ietf.org/rfc/rfc1122.txt).</span></span>

    <span data-ttu-id="7826b-157">Insbesondere der dringende TCP-Zeiger in BSD zeigt auf das Byte nach dem dringenden Daten Byte, und ein RFC-konformer, nicht-interner TCP-Zeiger zeigt auf das dringende Daten Byte.</span><span class="sxs-lookup"><span data-stu-id="7826b-157">Specifically, the TCP urgent pointer in BSD points to the byte after the urgent data byte, and an RFC-compliant TCP urgent pointer points to the urgent data byte.</span></span> <span data-ttu-id="7826b-158">Wenn eine Anwendung dringende Daten von einer BSD-kompatiblen Implementierung an eine Implementierung sendet, die mit RFC 1122 kompatibel ist, liest der Empfänger daher das falsche dringende Daten Byte (das Byte, das sich nach dem richtigen Byte im Datenstrom befindet, als dringender Daten Byte).</span><span class="sxs-lookup"><span data-stu-id="7826b-158">As a result, if an application sends urgent data from a BSD-compatible implementation to an implementation compatible with RFC 1122, the receiver reads the wrong urgent data byte (it reads the byte located after the correct byte in the data stream as the urgent data byte).</span></span>

    <span data-ttu-id="7826b-159">Um Interoperabilitätsprobleme zu minimieren, sollten Anwendungs Schreiber OOB-Daten nicht verwenden, es sei denn, dies ist für die Interaktion mit einem vorhandenen Dienst erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7826b-159">To minimize interoperability problems, applications writers are advised not to use OOB data unless this is required to interoperate with an existing service.</span></span> <span data-ttu-id="7826b-160">Windows Sockets-Lieferanten werden dazu aufgefordert, die OOB-Semantik (BSD oder RFC 1122) zu dokumentieren, die Ihr Produkt implementiert.</span><span class="sxs-lookup"><span data-stu-id="7826b-160">Windows Sockets suppliers are urged to document the OOB semantics (BSD or RFC 1122) that their product implements.</span></span>

<span data-ttu-id="7826b-161">Die Ankunft eines TCP-Segments mit dem URG-Flag (für dringlich) gibt an, dass ein einzelnes Byte von OOB-Daten im TCP-Datenstrom vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="7826b-161">The arrival of a TCP segment with the URG (for urgent) flag set indicates the existence of a single byte of OOB data within the TCP data stream.</span></span> <span data-ttu-id="7826b-162">Der OOB-Datenblock ist ein Byte groß.</span><span class="sxs-lookup"><span data-stu-id="7826b-162">The OOB data block is one byte in size.</span></span> <span data-ttu-id="7826b-163">Der dringende Zeiger ist ein positiver Offset von der aktuellen Sequenznummer im TCP-Header, der den Speicherort des OOB-Datenblocks angibt (eindeutig, wie im vorherigen Abschnitt erwähnt).</span><span class="sxs-lookup"><span data-stu-id="7826b-163">The urgent pointer is a positive offset from the current sequence number in the TCP header that indicates the location of the OOB data block (ambiguously, as noted in the preceding).</span></span> <span data-ttu-id="7826b-164">Daher können Sie auf Daten verweisen, die noch nicht empfangen wurden.</span><span class="sxs-lookup"><span data-stu-id="7826b-164">It might, therefore, point to data that has not yet been received.</span></span>

<span data-ttu-id="7826b-165">Wenn " \_ oobinline" deaktiviert ist (Standard), wenn das TCP-Segment mit dem Byte, auf das der dringende Zeiger zeigt, erreicht wird, wird der OOB-Datenblock (ein Byte) aus dem Datenstrom entfernt und gepuffert.</span><span class="sxs-lookup"><span data-stu-id="7826b-165">If SO\_OOBINLINE is disabled (the default) when the TCP segment containing the byte pointed to by the urgent pointer arrives, the OOB data block (one byte) is removed from the data stream and buffered.</span></span> <span data-ttu-id="7826b-166">Wenn ein nachfolgendes TCP-Segment mit dem Satz für dringende Flags (und einem neuen dringenden Zeiger) eingeht, kann das OOB-Byte, das momentan in die Warteschlange eingereiht wird, verloren gehen, da es durch den neuen OOB-Datenblock ersetzt wird (wie in der Berkeley-Software Verteilung</span><span class="sxs-lookup"><span data-stu-id="7826b-166">If a subsequent TCP segment arrives with the urgent flag set (and a new urgent pointer), the OOB byte currently queued can be lost as it is replaced by the new OOB data block (as occurs in Berkeley Software Distribution).</span></span> <span data-ttu-id="7826b-167">Sie wird jedoch nie im Datenstrom ersetzt.</span><span class="sxs-lookup"><span data-stu-id="7826b-167">It is never replaced in the data stream, however.</span></span>

<span data-ttu-id="7826b-168">\_Wenn oobinline aktiviert ist, verbleiben die dringenden Daten im Datenstrom.</span><span class="sxs-lookup"><span data-stu-id="7826b-168">With SO\_OOBINLINE enabled, the urgent data remains in the data stream.</span></span> <span data-ttu-id="7826b-169">Folglich geht der OOB-Datenblock nie verloren, wenn ein neues TCP-Segment mit dringenden Daten eintrifft.</span><span class="sxs-lookup"><span data-stu-id="7826b-169">As a result, the OOB data block is never lost when a new TCP segment arrives containing urgent data.</span></span> <span data-ttu-id="7826b-170">Die vorhandene OOB-Daten Markierung wird an die neue Position aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="7826b-170">The existing OOB data mark is updated to the new position.</span></span>

> [!Note]  
> <span data-ttu-id="7826b-171">Wenn die \_ Option oobinline Socket festgelegt ist, gibt die siocatmark ioctl immer **true** zurück, und OOB-Daten werden als normale Daten an den Benutzer zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="7826b-171">When the SO\_OOBINLINE socket option is set, the SIOCATMARK IOCTL always returns **TRUE**, and OOB data is returned to the user as normal data.</span></span>

 

 

 



