---
description: Wenn eine neue Dienstklasse installiert wird, muss eine wsaserviceclassinfo-Struktur vorbereitet und bereitgestellt werden. Diese Struktur besteht auch aus Unterstrukturen, die eine Reihe von Parametern enthalten, die für bestimmte Namespaces gelten.
ms.assetid: fb225e0c-a0c7-44e1-80fb-7b924b371afa
title: Dienst Klassen-Datenstrukturen in der SPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b5bf249c7437751e7c6d08b2fdf3830e92921ce7
ms.sourcegitcommit: 5b98bf8c68922f8f03c14f793fbe17504900559c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/12/2021
ms.locfileid: "104566179"
---
# <a name="service-class-data-structures-in-the-spi"></a><span data-ttu-id="75adb-104">Dienst Klassen-Datenstrukturen in der SPI</span><span class="sxs-lookup"><span data-stu-id="75adb-104">Service Class Data Structures in the SPI</span></span>

<span data-ttu-id="75adb-105">Wenn eine neue Dienstklasse installiert wird, muss eine [**wsaserviceclassinfo**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) -Struktur vorbereitet und bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="75adb-105">When a new service class is installed, a [**WSASERVICECLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) structure must be prepared and supplied.</span></span> <span data-ttu-id="75adb-106">Diese Struktur besteht auch aus Unterstrukturen, die eine Reihe von Parametern enthalten, die für bestimmte Namespaces gelten.</span><span class="sxs-lookup"><span data-stu-id="75adb-106">This structure also consists of substructures that contain a series of parameters that apply to specific namespaces.</span></span>

![Das Diagramm zeigt die wsaserviceclassinfo-Struktur, die Unterstrukturen und die Parameter, die für bestimmte Namespaces gelten.](images/ovrvw3-3.png)

<span data-ttu-id="75adb-108">Für jede Dienstklasse gibt es eine einzelne [**wsaserviceclassinfo**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="75adb-108">For each service class, there is a single [**WSASERVICECLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) structure.</span></span> <span data-ttu-id="75adb-109">Innerhalb der **wsaserviceclassinfo** -Struktur ist der eindeutige Bezeichner der Dienstklasse in **lpserviceclassid** enthalten, und auf eine zugeordnete Anzeige Zeichenfolge wird von **lpserviceclassname** verwiesen.</span><span class="sxs-lookup"><span data-stu-id="75adb-109">Within the **WSASERVICECLASSINFO** structure, the service class's unique identifier is contained in **lpServiceClassId**, and an associated display string is referenced by **lpServiceClassName**.</span></span>

<span data-ttu-id="75adb-110">Der **lpclassinfos** -Member in der [**wsaserviceclassinfo**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) -Struktur verweist auf ein Array von [**wsansclassinfo**](/windows/desktop/api/Winsock2/ns-winsock2-wsansclassinfow) -Strukturen, von denen jedes einen benannten und typisierten Parameter bereitstellt, der für einen angegebenen Namespace gilt.</span><span class="sxs-lookup"><span data-stu-id="75adb-110">The **lpClassInfos** member in the [**WSASERVICECLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) structure references an array of [**WSANSCLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsansclassinfow) structures, each of which supplies a named and typed parameter that applies to a specified namespace.</span></span> <span data-ttu-id="75adb-111">Beispiele für Werte für den Member **lpszname** : SAPID, TcpPort, UDPPort usw. Diese Zeichen folgen sind in der Regel spezifisch für den Namespace, der in **dwnamespace** identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="75adb-111">Examples of values for the **lpszName** member include: SAPID, TCPPORT, UDPPORT, etc. These strings are generally specific to the namespace identified in **dwNameSpace**.</span></span> <span data-ttu-id="75adb-112">Typische Werte für " **dwvaluetype** " sind "reg \_ DWORD", "reg \_ SZ" usw. Der **dwvaluesize** -Member gibt die Länge des Datenelements an, auf das von **lpValue** verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="75adb-112">Typical values for **dwValueType** might be REG\_DWORD, REG\_SZ, etc. The **dwValueSize** member indicates the length of the data item pointed to by **lpValue**.</span></span>

<span data-ttu-id="75adb-113">Die gesamte Sammlung von Daten, die in einer [**wsaserviceclassinfo**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) -Struktur dargestellt wird, wird für jeden Namespace Anbieter über [**nspinstallserviceclass**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnspinstallserviceclass)bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="75adb-113">The entire collection of data represented in a [**WSASERVICECLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsaserviceclassinfow) structure is provided to each namespace provider via [**NSPInstallServiceClass**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnspinstallserviceclass).</span></span> <span data-ttu-id="75adb-114">Jeder einzelne Namespace Anbieter durchläuft dann die Liste der [**wsansclassinfo**](/windows/desktop/api/Winsock2/ns-winsock2-wsansclassinfow) -Strukturen und behält die für ihn anwendbaren Informationen bei.</span><span class="sxs-lookup"><span data-stu-id="75adb-114">Each individual namespace provider then sifts through the list of [**WSANSCLASSINFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsansclassinfow) structures and retain the information applicable to it.</span></span> <span data-ttu-id="75adb-115">Diese Architektur stellt auch das zukünftige vorhanden sein eines speziellen Namespace Anbieters vor, der alle Dienst Klassen Schema-Informationen für alle Namespaces beibehält.</span><span class="sxs-lookup"><span data-stu-id="75adb-115">This architecture also envisions the future existence of a special namespace provider that would retain all of the service class schema information for all of the namespaces.</span></span> <span data-ttu-id="75adb-116">Der Ws2- \_32.dll würde diesen Anbieter Abfragen, um die **wsaserviceclassinfo** -Daten abzurufen, die für Namespace Anbieter bereitgestellt werden müssen, wenn [**nsplookupservicebegin**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnsplookupservicebegin) aufgerufen wird, um eine Abfrage zu initiieren, und wenn [**nspsetservice**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnspsetservice) aufgerufen wird, um einen Dienst zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="75adb-116">The Ws2\_32.dll would query this provider to obtain the **WSASERVICECLASSINFO** data needed to supply to namespace providers when [**NSPLookupServiceBegin**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnsplookupservicebegin) is invoked to initiate a query, and when [**NSPSetService**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnspsetservice) is invoked to register a service.</span></span> <span data-ttu-id="75adb-117">Der Namespace Anbieter sollte sich nicht für die Zeit auf diese Funktion verlassen und sollte stattdessen über ein Anbieter spezifisches Mittel verfügen, um alle benötigten Dienst Klassen Schema-Informationen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="75adb-117">Namespace provider should not rely on this capability for the time being, and should instead have a provider-specific means to obtain any needed service class schema information.</span></span> <span data-ttu-id="75adb-118">Wenn kein Anbieter vorhanden ist, der alle Dienst Klassen Schemas für alle Namespaces speichert, verwendet der Ws2- \_32.dll [**nspgetserviceclassinfo**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnspgetserviceclassinfo) , um solche Informationen von den einzelnen Namespace Anbietern abzurufen.</span><span class="sxs-lookup"><span data-stu-id="75adb-118">In the absence of a provider that stores all service class schema for all namespaces, the Ws2\_32.dll will use [**NSPGetServiceClassInfo**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpnspgetserviceclassinfo) to obtain such information from each individual namespace provider.</span></span>

 

 



