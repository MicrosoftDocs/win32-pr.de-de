---
description: Debug-und Ablauf Verfolgungs Funktionen und Windows Sockets 2.
ms.assetid: eb29fc21-92d6-4471-860a-fd1c531686f6
title: Debug-und Ablauf Verfolgungs Funktionen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7288c6b4d72a7a375ee16da23a25b0a04a46df91
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106345064"
---
# <a name="debug-and-trace-facilities"></a><span data-ttu-id="74fc0-103">Debug-und Ablauf Verfolgungs Funktionen</span><span class="sxs-lookup"><span data-stu-id="74fc0-103">Debug and Trace Facilities</span></span>

<span data-ttu-id="74fc0-104">Entwickler von Windows Sockets 2-Anwendungen müssen Fehler in den folgenden Fenstern isolieren:</span><span class="sxs-lookup"><span data-stu-id="74fc0-104">Windows Sockets 2 application developers need to isolate bugs in:</span></span>

-   <span data-ttu-id="74fc0-105">Die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="74fc0-105">The application.</span></span>
-   <span data-ttu-id="74fc0-106">Die *Ws2- \_32.dll* oder eine der DLLs für Kompatibilitäts-Shim.</span><span class="sxs-lookup"><span data-stu-id="74fc0-106">The *Ws2\_32.dll* or one of the compatibility shim DLLs.</span></span>
-   <span data-ttu-id="74fc0-107">Der Dienstanbieter.</span><span class="sxs-lookup"><span data-stu-id="74fc0-107">The service provider.</span></span>

<span data-ttu-id="74fc0-108">Windows Sockets 2 erfüllt diese Anforderung durch mehrere Komponenten und Features:</span><span class="sxs-lookup"><span data-stu-id="74fc0-108">Windows Sockets 2 addresses this need through several components and features:</span></span>

-   <span data-ttu-id="74fc0-109">Integrierte Unterstützung für die Winsock-Ablauf Verfolgung unter Windows Vista und höher.</span><span class="sxs-lookup"><span data-stu-id="74fc0-109">Integrated support for Winsock tracing on Windows Vista and later.</span></span>
-   <span data-ttu-id="74fc0-110">Eine speziell entwickelte Debugversion des *Ws2- \_32.dll* unter Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="74fc0-110">A specially devised debug version of the *Ws2\_32.dll* on Windows Vista.</span></span>
-   <span data-ttu-id="74fc0-111">Ein separates Primitives Debug-und Ablauf Verfolgungs Werk für die Verwendung unter Windows Server 2003 und Windows XP.</span><span class="sxs-lookup"><span data-stu-id="74fc0-111">A separate primitive debug and trace facility for use on Windows Server 2003 and Windows XP.</span></span>

## <a name="winsock-tracing-using-event-tracing-for-windows"></a><span data-ttu-id="74fc0-112">Winsock-Ablauf Verfolgung mithilfe der Ereignis Ablauf Verfolgung für Windows</span><span class="sxs-lookup"><span data-stu-id="74fc0-112">Winsock Tracing using Event Tracing for Windows</span></span>

<span data-ttu-id="74fc0-113">Integrierte Unterstützung für die Winsock-Ablauf Verfolgung mithilfe der Ereignis Ablauf Verfolgung für Windows (ETW) ist unter Windows Vista und höher enthalten.</span><span class="sxs-lookup"><span data-stu-id="74fc0-113">Integrated support for Winsock tracing using Event Tracing for Windows (ETW) is included on Windows Vista and later.</span></span> <span data-ttu-id="74fc0-114">Dies ist die bevorzugte Methode für die Ablauf Verfolgung von Winsock-aufrufen unter Windows Vista und höher.</span><span class="sxs-lookup"><span data-stu-id="74fc0-114">This is the preferred method for tracing Winsock calls on Windows Vista and later.</span></span> <span data-ttu-id="74fc0-115">Die Winsock-Ablauf Verfolgung unter Verwendung von etw ist einfach und funktioniert für Einzelhandelsversionen von Windows.</span><span class="sxs-lookup"><span data-stu-id="74fc0-115">Winsock tracing using ETW is lightweight and works on retail versions of Windows.</span></span> <span data-ttu-id="74fc0-116">Es sind keine zusätzlichen Softwarekomponenten oder Komponenten erforderlich.</span><span class="sxs-lookup"><span data-stu-id="74fc0-116">No additional software or components are required.</span></span> <span data-ttu-id="74fc0-117">Diese Funktion muss nur unter Windows Vista und höher aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="74fc0-117">This feature just needs to be enabled on Windows Vista and later.</span></span> <span data-ttu-id="74fc0-118">Ausführlichere Informationen finden Sie in den Themen zur [Winsock](winsock-tracing.md) -Ablauf Verfolgung.</span><span class="sxs-lookup"><span data-stu-id="74fc0-118">For more detailed information, see the [Winsock Tracing](winsock-tracing.md) topics.</span></span>

## <a name="using-a-debug-version-of-ws2_32dll"></a><span data-ttu-id="74fc0-119">Verwenden einer Debugversion von Ws2 \_32.dll</span><span class="sxs-lookup"><span data-stu-id="74fc0-119">Using a Debug Version of Ws2\_32.dll</span></span>

<span data-ttu-id="74fc0-120">Durch die Kombination einer Debugversion des *Ws2- \_32.dll* unter Windows Vista und der Winsock-Ablauf Verfolgung können alle Prozedur Aufrufe für die Windows Sockets 2-API oder SPI überwacht und in gewissem Umfang gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="74fc0-120">The combination of a debug version of the *Ws2\_32.dll* on Windows Vista and Winsock tracing allows all procedure calls across the Windows Sockets 2 API or SPI to be monitored and, to some extent, controlled.</span></span>

<span data-ttu-id="74fc0-121">Wenn eine Version des Microsoft Windows Software Development Kit (SDK) für Windows Vista am Standard Speicherort installiert ist, befinden sich die Debugversionen des *Ws2- \_32.dll* für verschiedene Architekturen unter folgendem Ordner:</span><span class="sxs-lookup"><span data-stu-id="74fc0-121">If a version of the Microsoft Windows Software Development Kit (SDK) for Windows Vista is installed to the default location, debug versions of the *Ws2\_32.dll* for various architectures are located under the following folder:</span></span>

<span data-ttu-id="74fc0-122">**C: \\ Programmdateien \\ Microsoft sdert \\ Windows \\ v 6.0 \\ NoRedist**</span><span class="sxs-lookup"><span data-stu-id="74fc0-122">**C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\NoRedist**</span></span>

<span data-ttu-id="74fc0-123">Eine überprüfte Version des *Ws2- \_32.dll* , die mit der Version von Windows übereinstimmt, und dem Service Pack, das Sie testen, sollte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="74fc0-123">A checked version of the *Ws2\_32.dll* that matches the version of Windows and the Service Pack you are testing on should be used.</span></span> <span data-ttu-id="74fc0-124">Beachten Sie, dass möglicherweise Sicherheitspatches angewendet wurden, die den *Ws2- \_32.dll* auf Ihrem Testsystem aktualisiert haben.</span><span class="sxs-lookup"><span data-stu-id="74fc0-124">Be aware that security patches may have been applied that updated the *Ws2\_32.dll* on your test system.</span></span> <span data-ttu-id="74fc0-125">Die Windows SDK für Windows Vista und frühere Platform Software Development Kit (SDK) DVD/CD-Abonnements enthalten überprüfte Builds für die verschiedenen Versionen von Windows.</span><span class="sxs-lookup"><span data-stu-id="74fc0-125">The Windows SDK for Windows Vista and the earlier Platform Software Development Kit (SDK) DVD/CD subscriptions include checked builds for the various versions of Windows.</span></span> <span data-ttu-id="74fc0-126">Sie sollten dieselbe überprüfte Version des Ws2- *\_32.dll* verwenden wie die Verkaufsversion, die auf dem getesteten System verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="74fc0-126">You should use the same checked version of the *Ws2\_32.dll* as the retail version that was used on the system being tested.</span></span> <span data-ttu-id="74fc0-127">Beachten Sie auch, dass das Verhalten, das unter einem überprüften Build ausgeführt wird, nicht mit dem Ausführen eines Einzelhandels Builds identisch ist.</span><span class="sxs-lookup"><span data-stu-id="74fc0-127">Note also that behavior running under a checked build will not be the same as running with a retail build.</span></span>

<span data-ttu-id="74fc0-128">**Hinweis**  Der Windows SDK für Windows Server 2008 und höher enthält keine speziellen Debugversionen der *Ws2- \_32.dll*.</span><span class="sxs-lookup"><span data-stu-id="74fc0-128">**Note**  The Windows SDK for Windows Server 2008 and later no longer includes special debug versions of the *Ws2\_32.dll*.</span></span> <span data-ttu-id="74fc0-129">Entwickler sollten stattdessen die Winsock-Ablauf Verfolgung mit etw verwenden, da diese Funktion keine Debugbuilds erfordert.</span><span class="sxs-lookup"><span data-stu-id="74fc0-129">Developers should use Winsock tracing using ETW instead, since this feature does not require debug builds.</span></span>

## <a name="winsock-debug-and-trace-facility-on-windows-server-2003-and-windows-xp"></a><span data-ttu-id="74fc0-130">Winsock-Debug-und-Ablauf Verfolgungs Einrichtung unter Windows Server 2003 und Windows XP</span><span class="sxs-lookup"><span data-stu-id="74fc0-130">Winsock Debug and Trace Facility on Windows Server 2003 and Windows XP</span></span>

<span data-ttu-id="74fc0-131">Ältere Versionen von Windows vor Windows 8 und Windows Server 2012 unterstützen ein separates Primitives Debug-und Ablauf Verfolgungs Werk, das als Beispiel mit dem Windows SDK und dem älteren Platform SDK enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="74fc0-131">Older versions of Windows prior to Windows 8 and Windows Server 2012 support a separate primitive debug and trace facility that is included as a sample with the Windows SDK and the older Platform SDK.</span></span> <span data-ttu-id="74fc0-132">Die Debug/Trace-Funktion sollte nur unter Windows Server 2003 und Windows XP verwendet werden, wo die Winsock-Ablauf Verfolgung nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="74fc0-132">The debug/trace facility should only be used on Windows Server 2003 and Windows XP where Winsock tracing is not supported.</span></span>

<span data-ttu-id="74fc0-133">Wenn die Windows SDK für Windows 7 am Standard Speicherort installiert ist, wird diese primitive Winsock-Ablauf Verfolgungs Funktion im folgenden Ordner installiert:</span><span class="sxs-lookup"><span data-stu-id="74fc0-133">If the Windows SDK for Windows 7 is installed to the default location, this primitive Winsock tracing feature is installed in the following folder:</span></span>

<span data-ttu-id="74fc0-134">**C: \\ Programmdateien \\ Microsoft sdert \\ Windows \\ v 7.0 \\ Beispiele \\ netds \\ Winsock \\ dt \_ dll**</span><span class="sxs-lookup"><span data-stu-id="74fc0-134">**C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0\\Samples\\NetDs\\winsock\\dt\_dll**</span></span>

<span data-ttu-id="74fc0-135">Die *DbgSpec.doc* -Datei in diesem Ordner enthält eine Dokumentation zu dieser primitiven Ablauf Verfolgungs Funktion.</span><span class="sxs-lookup"><span data-stu-id="74fc0-135">The *DbgSpec.doc* file in this folder provides documentation on this primitive trace facility.</span></span> <span data-ttu-id="74fc0-136">Der Beispielcode im Ordner dt \_ dll muss für die Verwendung dieser Funktion kompiliert werden.</span><span class="sxs-lookup"><span data-stu-id="74fc0-136">The sample code in the dt\_dll folder needs to be compiled to use this facility.</span></span> <span data-ttu-id="74fc0-137">Entwickler können den Quellcode nutzen, um Versionen der Debug/Trace-dll zu entwickeln, die Ihre speziellen Anforderungen erfüllen.</span><span class="sxs-lookup"><span data-stu-id="74fc0-137">Developers are free to use the source code to develop versions of the debug/trace DLL that meet their specific needs.</span></span>

<span data-ttu-id="74fc0-138">Beachten Sie, dass diese primitive Winsock-Ablauf Verfolgungs Funktion nur bei installierter Debugversion von *Ws2 \_32.dll* funktioniert.</span><span class="sxs-lookup"><span data-stu-id="74fc0-138">Note that this primitive Winsock trace feature will only work with the debug version of *Ws2\_32.dll* installed.</span></span> <span data-ttu-id="74fc0-139">Daher müssen Sie eine aktivierte Version des *Ws2- \_32.dll* erhalten, die mit der Version von Windows und dem Service Pack übereinstimmt, das Sie testen.</span><span class="sxs-lookup"><span data-stu-id="74fc0-139">So you will need to get a checked version of the *Ws2\_32.dll* that matches the version of Windows and the Service Pack you are testing on.</span></span>

<span data-ttu-id="74fc0-140">Eine Einschränkung dieser primitiven Ablauf \_ Verfolgungs Funktion der dt-dll besteht darin, dass im Beispielcode für jeden Winsock-Funktions aufrufeine globale Sperre (kritischer Abschnitt) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="74fc0-140">A limitation of this primitive dt\_dll trace facility is that the sample code uses a global lock (critical section) for each Winsock function call.</span></span> <span data-ttu-id="74fc0-141">Diese Funktion ist daher für den Umgang mit Racebedingungen nicht nützlich.</span><span class="sxs-lookup"><span data-stu-id="74fc0-141">So this facility is not useful in dealing with race conditions.</span></span> <span data-ttu-id="74fc0-142">Der Beispielcode müsste erheblich umgeschrieben werden, damit diese Ablauf Verfolgungs Funktion für den Umgang mit den meisten echten Winsock-Problemen nützlich ist (ersetzt die globalen sperren).</span><span class="sxs-lookup"><span data-stu-id="74fc0-142">The sample code would need to be substantially rewritten to make this trace facility useful for dealing with most real Winsock problems (replacing the global locks).</span></span> <span data-ttu-id="74fc0-143">Dieser Beispielcode ermöglicht Entwicklern das Verfolgen von Prozedur aufrufen, Prozedur Rückgaben, Parameterwerten und Rückgabe Werten.</span><span class="sxs-lookup"><span data-stu-id="74fc0-143">This sample code does allow developers to trace the procedure calls, procedure returns, parameter values, and return values.</span></span>

<span data-ttu-id="74fc0-144">Entwickler können diesen primitiven Mechanismus verwenden, um Prozedur Aufrufe, Prozedur Rückgaben, Parameterwerte und Rückgabewerte zu verfolgen.</span><span class="sxs-lookup"><span data-stu-id="74fc0-144">Developers can use this primitive mechanism to trace procedure calls, procedure returns, parameter values, and return values.</span></span> <span data-ttu-id="74fc0-145">Parameter Werte und Rückgabewerte können bei Prozedur aufrufen oder Prozedur Rücklauf geändert werden.</span><span class="sxs-lookup"><span data-stu-id="74fc0-145">Parameter values and return values can be altered on procedure call or procedure return.</span></span> <span data-ttu-id="74fc0-146">Wenn gewünscht, kann ein Prozedur Aufrufwert verhindert oder umgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="74fc0-146">If desired, a procedure call can be prevented or redirected.</span></span> <span data-ttu-id="74fc0-147">Durch den Zugriff auf diese Ebene von Informationen und Kontrolle kann ein Entwickler ein Problem in der Anwendung, *Ws2 \_32.dll* oder dem Dienstanbieter isolieren.</span><span class="sxs-lookup"><span data-stu-id="74fc0-147">With access to this level of information and control, a developer is better able to isolate a problem in the application, *Ws2\_32.dll*, or service provider.</span></span>

## <a name="related-topics"></a><span data-ttu-id="74fc0-148">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="74fc0-148">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="74fc0-149">Winsock-Ablauf Verfolgung</span><span class="sxs-lookup"><span data-stu-id="74fc0-149">Winsock Tracing</span></span>](winsock-tracing.md)
</dt> </dl>

 

 



