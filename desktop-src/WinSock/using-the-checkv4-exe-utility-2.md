---
description: Verwenden des Checkv4.exe Hilfsprogramms, um die IPv4-Anwendung zur Unterstützung von IPv6 zu ändern.
ms.assetid: 36b72e4f-133d-4d96-a3c9-86a852d3a479
title: Verwenden des Checkv4.exe Hilfsprogramms
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2fc9eca96b2138f9950b157a4b7690dc382f273e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104570663"
---
# <a name="using-the-checkv4exe-utility"></a><span data-ttu-id="19294-103">Verwenden des Checkv4.exe Hilfsprogramms</span><span class="sxs-lookup"><span data-stu-id="19294-103">Using the Checkv4.exe utility</span></span>

> [!IMPORTANT]
> <span data-ttu-id="19294-104">Das *Checkv4.exe* -Hilfsprogramm wird nicht im Windows Software Development Kit (SDK) für Windows 8 und nicht in späteren Versionen des Windows SDK ausgeliefert.</span><span class="sxs-lookup"><span data-stu-id="19294-104">The *Checkv4.exe* utility doesn't ship in the Windows Software Development Kit (SDK) for Windows 8, nor in later versions of the Windows SDK.</span></span>

<span data-ttu-id="19294-105">Mit dem *Checkv4.exe* -Hilfsprogramm können Sie einen Code Portierungs Partner bereitstellen. ein Hilfsprogramm, das die Codebasis für Sie durchläuft, potenzielle Probleme identifiziert oder Code hervorhebt, der von IPv6-fähigen Funktionen oder Strukturen profitieren kann, und Empfehlungen gibt.</span><span class="sxs-lookup"><span data-stu-id="19294-105">The *Checkv4.exe* utility is designed to provide you with a code porting partner; a utility that steps through your code base with you, identifies potential problems or highlights code that could benefit from IPv6-capable functions or structures, and makes recommendations.</span></span> <span data-ttu-id="19294-106">Mit dem Checkv4.exe-Hilfsprogramm wird die Aufgabe, eine vorhandene IPv4-Anwendung zur Unterstützung von IPv6 zu ändern, viel einfacher.</span><span class="sxs-lookup"><span data-stu-id="19294-106">With the Checkv4.exe utility, the task of modifying an existing IPv4 application to support IPv6 becomes much easier.</span></span>

<span data-ttu-id="19294-107">Das *Checkv4.exe* -Hilfsprogramm wird als Teil des Microsoft Windows Software Development Kit (SDK) installiert, das für Windows Vista und spätere SDKs (bis einschließlich, das Windows Software Development Kit (SDK) für Windows 8) veröffentlicht wurde.</span><span class="sxs-lookup"><span data-stu-id="19294-107">The *Checkv4.exe* utility is installed as part of the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later SDKs (up to, but not including, the Windows Software Development Kit (SDK) for Windows 8).</span></span>

<span data-ttu-id="19294-108">Eine frühere Version des *Checkv4.exe* Hilfsprogramms mit eingeschränkteren Features wurde auch als Teil der früheren Microsoft IPv6-Technologievorschau für Windows 2000 zur Verfügung gestellt.</span><span class="sxs-lookup"><span data-stu-id="19294-108">An earlier version of the *Checkv4.exe* utility with more limited features was also made available as part of the earlier Microsoft IPv6 Technology Preview for Windows 2000.</span></span>

<span data-ttu-id="19294-109">In den folgenden Abschnitten wird beschrieben, wie Sie das *Checkv4.exe* -Hilfsprogramm verwenden und dann die empfohlene Vorgehensweise zum Ändern einer vorhandenen IPv4-Anwendung zur Unterstützung von IPv6 erläutern.</span><span class="sxs-lookup"><span data-stu-id="19294-109">The following sections describe how to use the *Checkv4.exe* utility, then explain the recommended approach for modifying an existing IPv4 application to support IPv6.</span></span>

## <a name="recommendations-for-running-checkv4exe"></a><span data-ttu-id="19294-110">Empfehlungen zum Ausführen von Checkv4.exe</span><span class="sxs-lookup"><span data-stu-id="19294-110">Recommendations for Running Checkv4.exe</span></span>

-   <span data-ttu-id="19294-111">Das *Checkv4.exe* -Hilfsprogramm ist unkompliziert.</span><span class="sxs-lookup"><span data-stu-id="19294-111">The *Checkv4.exe* utility is straightforward.</span></span> <span data-ttu-id="19294-112">Führen Sie *Checkv4.exe* einfach an der Befehlszeile mit dem Namen der Datei aus, die Sie als Parameter überprüfen möchten.</span><span class="sxs-lookup"><span data-stu-id="19294-112">Simply execute *Checkv4.exe* at the command line with the name of the file you want to check as the parameter.</span></span> <span data-ttu-id="19294-113">*Checkv4.exe* analysiert die Datei und liefert Feedback darüber, wo in dieser Datei Probleme mit der IPv6-Portierung vorliegen.</span><span class="sxs-lookup"><span data-stu-id="19294-113">*Checkv4.exe* parses the file and provides feedback as to where IPv6 porting issues exist in that file.</span></span> <span data-ttu-id="19294-114">Wenn Sie die *Checkv4.exe* in den Pfad Ihres Computers platzieren, wird das Ausführen des *Checkv4.exe* Hilfsprogramms von überall in der Quell Code Verzeichnisstruktur erheblich vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="19294-114">Placing the *Checkv4.exe* into your computer's path makes running the *Checkv4.exe* utility from anywhere in your source code directory structure much easier.</span></span> <span data-ttu-id="19294-115">Wenn Sie *Checkv4.exe* z. b. in% windir% platzieren, können Sie *Checkv4.exe* aus einem beliebigen Verzeichnis auf dem Computer starten, ohne den Pfad zu einschließen.</span><span class="sxs-lookup"><span data-stu-id="19294-115">For example, placing *Checkv4.exe* into %windir% enables you to launch *Checkv4.exe* from any directory on your computer without including its path.</span></span>

-   <span data-ttu-id="19294-116">Geben Sie den folgenden Befehl an der Eingabeaufforderung aus, um die Datei simplec. c zu analysieren:</span><span class="sxs-lookup"><span data-stu-id="19294-116">Issue the following command at the command prompt to parse the file Simplec.c:</span></span>

    <span data-ttu-id="19294-117">**Checkv4 simplec. c**</span><span class="sxs-lookup"><span data-stu-id="19294-117">**Checkv4 simplec.c**</span></span>

    <span data-ttu-id="19294-118">Beachten Sie, dass einige der Empfehlungen, die das *Checkv4.exe* -Hilfsprogramm vornimmt, Strukturen erfordern, die nur in den letzten Versionen der *Ws2tcpip. h* -Header Datei verfügbar sind, wie z. b. die **sockaddr \_ IN6**</span><span class="sxs-lookup"><span data-stu-id="19294-118">Note that some of the recommendations made by the *Checkv4.exe* utility require structures available only in recent versions of the *Ws2tcpip.h* header file, such as the **SOCKADDR\_IN6** structure.</span></span> <span data-ttu-id="19294-119">Diese Header Dateien sind in der Windows SDK enthalten, die für Windows Vista und höher veröffentlicht wurden.</span><span class="sxs-lookup"><span data-stu-id="19294-119">These header files are included in the Windows SDK released for Windows Vista and later.</span></span> <span data-ttu-id="19294-120">Diese Header Dateien sind auch im früheren Platform Software Development Kit (SDK) enthalten, das für Windows Server 2003 veröffentlicht wurde.</span><span class="sxs-lookup"><span data-stu-id="19294-120">These header files are also included in the earlier Platform Software Development Kit (SDK) released for Windows Server 2003.</span></span> <span data-ttu-id="19294-121">Diese Header Dateien sind auch als Teil eines MSDN-Abonnements oder durch Download enthalten.</span><span class="sxs-lookup"><span data-stu-id="19294-121">These header files are also included as part of an MSDN subscription or by download.</span></span>

    <span data-ttu-id="19294-122">Der folgende Screenshot zeigt die Ergebnisse der Verwendung des *Checkv4.exe* Hilfsprogramms in der Datei simplec. c, die in Anhang A enthalten ist:</span><span class="sxs-lookup"><span data-stu-id="19294-122">The following screen shot displays the results of using the *Checkv4.exe* utility on the Simplec.c file included in Appendix A:</span></span>

    ![checkv4.exe meldet die IPv6-Inkompatibilitäten in der simplec. c-Datei.](images/portingguide002.jpg)

    <span data-ttu-id="19294-124">Der folgende Screenshot zeigt die Ergebnisse der Verwendung des *Checkv4.exe* -Hilfsprogramms für die Datei "simples. c", die auch in Anhang A enthalten ist:</span><span class="sxs-lookup"><span data-stu-id="19294-124">The following screen shot displays the results of using the *Checkv4.exe* utility on the Simples.c file, which is also included in Appendix A:</span></span>

    ![checkv4.exe meldet die IPv6-Inkompatibilitäten in der simples. c-Datei.](images/portingguide003.jpg)

## <a name="the-application-modification-process-where-to-start"></a><span data-ttu-id="19294-126">Der Anwendungs Änderungsprozess: Start Seite</span><span class="sxs-lookup"><span data-stu-id="19294-126">The Application Modification Process: Where to Start</span></span>

<span data-ttu-id="19294-127">Es gibt eine empfohlene Vorgehensweise für das Hinzufügen von IPv6-Funktionen zu Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="19294-127">There is a recommended procedure associated with adding IPv6 capability to applications.</span></span> <span data-ttu-id="19294-128">Das Befolgen dieser Sequenz ist vorteilhaft, da Entwickler sicherstellen können, dass alle erforderlichen Schritte zum Ändern einer vorhandenen IPv4-Anwendung zur Unterstützung von IPv6 erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="19294-128">Following this sequence is beneficial, because it enables developers to ensure that all steps necessary to modify an existing IPv4 application to support IPv6 are taken.</span></span> <span data-ttu-id="19294-129">Bestimmte Anwendungen erfordern möglicherweise eine ausführlichere Aufmerksamkeit auf eine dieser Sequenzen. Beispielsweise würde ein-Systemdienst wahrscheinlich weniger Probleme mit der Benutzeroberfläche aufweisen als bei einem grafischen Dateiübertragungsprogramm (FTP).</span><span class="sxs-lookup"><span data-stu-id="19294-129">Certain applications may require more extensive attention to one of these sequences; for example, a system service would likely have less user interface issues than a graphical file transfer program (FTP).</span></span>

<span data-ttu-id="19294-130">**So ändern Sie IPv4-Anwendungen zur Unterstützung von IPv6**</span><span class="sxs-lookup"><span data-stu-id="19294-130">**To modify IPv4 applications to support IPv6**</span></span>

1.  <span data-ttu-id="19294-131">Korrektur von Strukturen und Deklarationen zum Aktivieren der IPv6-und IPv4-Kompatibilität.</span><span class="sxs-lookup"><span data-stu-id="19294-131">Fix structures and declarations to enable IPv6 and IPv4 compatibility.</span></span>
2.  <span data-ttu-id="19294-132">Ändern Sie Funktionsaufrufe, um von IPv6-aktivierten Funktionen zu profitieren, wie z. b. die Funktionen [**getaddrinfo**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfo) und [**GetNameInfo**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getnameinfo) .</span><span class="sxs-lookup"><span data-stu-id="19294-132">Modify function calls to take advantage of IPv6-enabled functions, such as the [**getaddrinfo**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getaddrinfo) and [**getnameinfo**](/windows/desktop/api/Ws2tcpip/nf-ws2tcpip-getnameinfo) functions.</span></span>
3.  <span data-ttu-id="19294-133">Überprüfen Sie den Quellcode für die Verwendung von hart codierten IPv4-Adressen, z. b. der Loopback Adresse oder der Verwendung anderer Literalzeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="19294-133">Review source code for the use of hard-coded IPv4 addresses such as the loopback address, or the use of other literal strings.</span></span>
4.  <span data-ttu-id="19294-134">Führen Sie eine gründliche Überprüfung der Benutzeroberfläche durch, einschließlich der Informations Dialogfelder.</span><span class="sxs-lookup"><span data-stu-id="19294-134">Perform a thorough review of the user interface, including informational dialog boxes.</span></span> <span data-ttu-id="19294-135">Denken Sie daran, ob es für IPv6-aktivierte Anwendungen geeignet ist, IP-Adress basierte Informationen anzugeben oder anzugeben.</span><span class="sxs-lookup"><span data-stu-id="19294-135">Give thought to whether it is appropriate for IPv6-enabled applications to specify or provide IP-address based information.</span></span>
5.  <span data-ttu-id="19294-136">Stellen Sie fest, ob Ihre Anwendung von zugrunde liegenden Protokollen (z. b. RPC) abhängig ist, und nehmen Sie entsprechende programmgesteuerte Änderungen vor, um IPv6</span><span class="sxs-lookup"><span data-stu-id="19294-136">Determine whether your application relies on underlying protocols, such as RPC, and make appropriate programmatic changes to handle IPv6 addresses.</span></span>
6.  <span data-ttu-id="19294-137">Verwenden Sie das Kompilierzeit-Flag IPV6STRICT beim Kompilieren von Anwendungen unter Windows XP und höher.</span><span class="sxs-lookup"><span data-stu-id="19294-137">Use the compile-time flag IPV6STRICT when compiling applications on Windows XP and later.</span></span> <span data-ttu-id="19294-138">Dieses Flag führt dazu, dass nicht kompatibler Code kompiliert wird, wie im folgenden dargestellt:</span><span class="sxs-lookup"><span data-stu-id="19294-138">This flag results in incompatible code failing to compile, as follows:</span></span>

    <span data-ttu-id="19294-139">Windows Sockets 1. x-Anwendungen mit inkompatiblem Code können nicht kompiliert werden, und die Fehlermeldung "Winsock2 required" wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="19294-139">Windows Sockets 1.x applications with incompatible code fail to compile and return the error message "WINSOCK2 Required."</span></span>

    <span data-ttu-id="19294-140">Windows Sockets 2. x-Anwendungen mit inkompatiblem Code verursachen einen Kompilierzeitfehler für jede Instanz von inkompatiblem Code.</span><span class="sxs-lookup"><span data-stu-id="19294-140">Windows Sockets 2.x applications with incompatible code cause a compile time error for each instance of incompatible code.</span></span> <span data-ttu-id="19294-141">Eine Fehlermeldung wird im folgenden Format generiert:</span><span class="sxs-lookup"><span data-stu-id="19294-141">An error message is generated in the following format:</span></span>

    `[file name] ([line number]) : [error message] '[symbol]_IPV6INCOMPATIBLE'`

    <span data-ttu-id="19294-142">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="19294-142">For example:</span></span>

    `sample.c(8) : error C2065: 'gethostbyaddr_IPV6INCOMPATIBLE' : undeclared identifier`

 

 



