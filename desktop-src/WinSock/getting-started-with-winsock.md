---
description: Im folgenden finden Sie eine Schritt-für-Schritt-Anleitung für den Einstieg in die Windows Sockets-Programmierung.
ms.assetid: 905cd5bc-44af-4d3f-841a-9e9a2700a785
title: Einstieg in Winsock
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 43751663a637fafb2eec453a48c329ff8e4499f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106359830"
---
# <a name="getting-started-with-winsock"></a><span data-ttu-id="47681-103">Einstieg in Winsock</span><span class="sxs-lookup"><span data-stu-id="47681-103">Getting Started with Winsock</span></span>

<span data-ttu-id="47681-104">Im folgenden finden Sie eine Schritt-für-Schritt-Anleitung für den Einstieg in die Windows Sockets-Programmierung.</span><span class="sxs-lookup"><span data-stu-id="47681-104">The following is a step-by-step guide to getting started with Windows Sockets programming.</span></span> <span data-ttu-id="47681-105">Es wurde entwickelt, um ein Verständnis der grundlegenden Winsock-Funktionen und-Datenstrukturen und deren Zusammenarbeit zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="47681-105">It is designed to provide an understanding of basic Winsock functions and data structures, and how they work together.</span></span>

<span data-ttu-id="47681-106">Die Client-und Serveranwendung, die zur Veranschaulichung verwendet wird, ist ein sehr grundlegender Client und Server.</span><span class="sxs-lookup"><span data-stu-id="47681-106">The client and server application that is used for illustration is a very basic client and server.</span></span> <span data-ttu-id="47681-107">Erweiterte Codebeispiele sind in den im Microsoft Windows Software Development Kit (SDK) enthaltenen Beispielen enthalten.</span><span class="sxs-lookup"><span data-stu-id="47681-107">More advanced code examples are included in the samples included with the Microsoft Windows Software Development Kit (SDK).</span></span>

<span data-ttu-id="47681-108">Die ersten Schritte sind für Client-und Server Anwendungen identisch.</span><span class="sxs-lookup"><span data-stu-id="47681-108">The first few steps are the same for both client and server applications.</span></span>

-   [<span data-ttu-id="47681-109">Informationen zu Servern und Clients</span><span class="sxs-lookup"><span data-stu-id="47681-109">About Servers and Clients</span></span>](about-clients-and-servers.md)
-   [<span data-ttu-id="47681-110">Erstellen einer grundlegenden Winsock-Anwendung</span><span class="sxs-lookup"><span data-stu-id="47681-110">Creating a Basic Winsock Application</span></span>](creating-a-basic-winsock-application.md)
-   [<span data-ttu-id="47681-111">Initialisieren von Winsock</span><span class="sxs-lookup"><span data-stu-id="47681-111">Initializing Winsock</span></span>](initializing-winsock.md)

<span data-ttu-id="47681-112">In den folgenden Abschnitten werden die verbleibenden Schritte zum Erstellen einer WinSock-Client Anwendung beschrieben.</span><span class="sxs-lookup"><span data-stu-id="47681-112">The following sections describe the remaining steps for creating a Winsock client application.</span></span>

-   [<span data-ttu-id="47681-113">Erstellen eines Sockets für den Client</span><span class="sxs-lookup"><span data-stu-id="47681-113">Creating a Socket for the Client</span></span>](creating-a-socket-for-the-client.md)
-   [<span data-ttu-id="47681-114">Herstellen einer Verbindung mit einem Socket</span><span class="sxs-lookup"><span data-stu-id="47681-114">Connecting to a Socket</span></span>](connecting-to-a-socket.md)
-   [<span data-ttu-id="47681-115">Senden und empfangen von Daten auf dem Client</span><span class="sxs-lookup"><span data-stu-id="47681-115">Sending and Receiving Data on the Client</span></span>](sending-and-receiving-data-on-the-client.md)
-   [<span data-ttu-id="47681-116">Trennen der Verbindung des Clients</span><span class="sxs-lookup"><span data-stu-id="47681-116">Disconnecting the Client</span></span>](disconnecting-the-client.md)

<span data-ttu-id="47681-117">In den folgenden Abschnitten werden die verbleibenden Schritte zum Erstellen einer Winsock-Serveranwendung beschrieben.</span><span class="sxs-lookup"><span data-stu-id="47681-117">The following sections describe the remaining steps for creating a Winsock server application.</span></span>

-   [<span data-ttu-id="47681-118">Erstellen eines Sockets für den Server</span><span class="sxs-lookup"><span data-stu-id="47681-118">Creating a Socket for the Server</span></span>](creating-a-socket-for-the-server.md)
-   [<span data-ttu-id="47681-119">Binden eines Sockets</span><span class="sxs-lookup"><span data-stu-id="47681-119">Binding a Socket</span></span>](binding-a-socket.md)
-   [<span data-ttu-id="47681-120">Lauschen an einem Socket</span><span class="sxs-lookup"><span data-stu-id="47681-120">Listening on a Socket</span></span>](listening-on-a-socket.md)
-   [<span data-ttu-id="47681-121">Akzeptieren einer Verbindung</span><span class="sxs-lookup"><span data-stu-id="47681-121">Accepting a Connection</span></span>](accepting-a-connection.md)
-   [<span data-ttu-id="47681-122">Empfangen und Senden von Daten auf dem Server</span><span class="sxs-lookup"><span data-stu-id="47681-122">Receiving and Sending Data on the Server</span></span>](receiving-and-sending-data-on-the-server.md)
-   [<span data-ttu-id="47681-123">Trennen der Verbindung mit dem Server</span><span class="sxs-lookup"><span data-stu-id="47681-123">Disconnecting the Server</span></span>](disconnecting-the-server.md)

<span data-ttu-id="47681-124">Der gesamte Quellcode für diese grundlegenden Beispiele.</span><span class="sxs-lookup"><span data-stu-id="47681-124">The complete source code for these basic examples.</span></span>

-   [<span data-ttu-id="47681-125">Ausführen des WinSock-Client-und Server Code Beispiels</span><span class="sxs-lookup"><span data-stu-id="47681-125">Running the Winsock Client and Server Code Sample</span></span>](finished-server-and-client-code.md)
-   [<span data-ttu-id="47681-126">Vervollständigen des WinSock-Client Codes</span><span class="sxs-lookup"><span data-stu-id="47681-126">Complete Winsock Client Code</span></span>](complete-client-code.md)
-   [<span data-ttu-id="47681-127">Vervollständigen des Winsock-Server Codes</span><span class="sxs-lookup"><span data-stu-id="47681-127">Complete Winsock Server Code</span></span>](complete-server-code.md)

## <a name="advanced-winsock-samples"></a><span data-ttu-id="47681-128">Erweiterte Winsock-Beispiele</span><span class="sxs-lookup"><span data-stu-id="47681-128">Advanced Winsock Samples</span></span>

<span data-ttu-id="47681-129">Im Windows SDK sind mehrere erweiterte WinSock-Client-und Server Beispiele enthalten.</span><span class="sxs-lookup"><span data-stu-id="47681-129">Several more advanced Winsock client and server samples are included with the Windows SDK.</span></span> <span data-ttu-id="47681-130">Standardmäßig wird der Winsock-Beispiel Quell Code von der Windows SDK für Windows 7 im folgenden Verzeichnis installiert:</span><span class="sxs-lookup"><span data-stu-id="47681-130">By default, the Winsock sample source code is installed in the following directory by the Windows SDK for Windows 7:</span></span>

<span data-ttu-id="47681-131">*C: \\ Programmdateien \\ Microsoft sdert \\ Windows \\ v 7.0 \\ Beispiele \\ netds \\ Winsock*</span><span class="sxs-lookup"><span data-stu-id="47681-131">*C:\\Program Files\\Microsoft SDKs\\Windows\\v7.0\\Samples\\NetDs\\winsock*</span></span>

<span data-ttu-id="47681-132">In früheren Versionen der Windows SDK würde sich die Versionsnummer im obigen Pfad ändern.</span><span class="sxs-lookup"><span data-stu-id="47681-132">On earlier versions of the Windows SDK, the version number in the above path would change.</span></span> <span data-ttu-id="47681-133">Der Winsock-Beispiel Quellcode wird z. b. vom Windows SDK für Windows Vista im folgenden Standardverzeichnis installiert.</span><span class="sxs-lookup"><span data-stu-id="47681-133">For example, the Winsock sample source code is installed in the following default directory by the Windows SDK for Windows Vista</span></span>

<span data-ttu-id="47681-134">*C: \\ Programmdateien \\ Microsoft sdert \\ Windows \\ v 6.0 \\ Beispiele \\ netds \\ Winsock*</span><span class="sxs-lookup"><span data-stu-id="47681-134">*C:\\Program Files\\Microsoft SDKs\\Windows\\v6.0\\Samples\\NetDs\\winsock*</span></span>

<span data-ttu-id="47681-135">Die weiter unten aufgeführten erweiterten Beispiele sind in den folgenden Verzeichnissen enthalten, um eine höhere Leistung zu erzielen:</span><span class="sxs-lookup"><span data-stu-id="47681-135">The more advanced samples listed below in order from higher to lower performance are found in the following directories:</span></span>

-   <span data-ttu-id="47681-136">IOCP</span><span class="sxs-lookup"><span data-stu-id="47681-136">iocp</span></span>

    <span data-ttu-id="47681-137">Dieses Verzeichnis enthält drei Beispiel Programme, die e/a-Abschlussports verwenden.</span><span class="sxs-lookup"><span data-stu-id="47681-137">This directory contains three sample programs that use I/O completion ports.</span></span> <span data-ttu-id="47681-138">Die Programme enthalten einen Winsock-Server (iocpserver), der die [**wsaaccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept) -Funktion verwendet, einen Winsock-Server (iocpserverex), der die Funktion " [**akzeptex**](/windows/win32/api/mswsock/nf-mswsock-acceptex) " verwendet, und einen einfachen Multithread-WinSock-Client (iocpclient), der zum Testen eines dieser Server verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="47681-138">The programs include a Winsock server (iocpserver) that uses the [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept) function, a Winsock server (iocpserverex) that uses the [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) function, and a simple multithreaded Winsock client (iocpclient) used to test either of these servers.</span></span> <span data-ttu-id="47681-139">Die Serverprogramme unterstützen mehrere Clients, die eine Verbindung über TCP/IP herstellen und beliebige Datenpuffer senden, die vom Server an den Client zurückgesendet werden.</span><span class="sxs-lookup"><span data-stu-id="47681-139">The server programs support multiple clients connecting via TCP/IP and sending arbitrary sized data buffers which the server then echoes back to the client.</span></span> <span data-ttu-id="47681-140">Zur einfacheren Verwendung wurde ein einfaches Client Programm (iocpclient) entwickelt, um eine Verbindung herzustellen und Daten kontinuierlich an den Server zu senden, um Sie mit mehreren Threads zu belasten.</span><span class="sxs-lookup"><span data-stu-id="47681-140">For convenience, a simple client program, iocpclient, was developed to connect and continually send data to the server to stress it using multiple threads.</span></span> <span data-ttu-id="47681-141">Winsock-Server, die e/a-Abschlussports verwenden, bieten die größte Leistungsfähigkeit.</span><span class="sxs-lookup"><span data-stu-id="47681-141">Winsock servers that use I/O completion ports provide the most performance capability.</span></span>

-   <span data-ttu-id="47681-142">überlappen</span><span class="sxs-lookup"><span data-stu-id="47681-142">overlap</span></span>

    <span data-ttu-id="47681-143">Dieses Verzeichnis enthält ein Beispiel Serverprogramm, das überlappende e/a-Vorgänge verwendet.</span><span class="sxs-lookup"><span data-stu-id="47681-143">This directory contains a sample server program that uses overlapped I/O.</span></span> <span data-ttu-id="47681-144">Das Beispielprogramm verwendet die [**Accept tex**](/windows/win32/api/mswsock/nf-mswsock-acceptex) -Funktion und überlappende e/a-Vorgänge zur effektiven Verarbeitung mehrerer asynchroner Verbindungsanforderungen von Clients.</span><span class="sxs-lookup"><span data-stu-id="47681-144">The sample program uses the [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) function and overlapped I/O to handle multiple asynchronous connection requests from clients effectively.</span></span> <span data-ttu-id="47681-145">Der Server verwendet die **Accept tex** -Funktion, um verschiedene Clientverbindungen in einer Single Thread-Win32-Anwendung zu multiplezieren.</span><span class="sxs-lookup"><span data-stu-id="47681-145">The server uses the **AcceptEx** function to multiplex different client connections in a single-threaded Win32 application.</span></span> <span data-ttu-id="47681-146">Die Verwendung von überlappenden e/a-Vorgängen ermöglicht eine größere Skalierbarkeit.</span><span class="sxs-lookup"><span data-stu-id="47681-146">Using overlapped I/O allows for greater scalability.</span></span>

-   <span data-ttu-id="47681-147">Wsapoll</span><span class="sxs-lookup"><span data-stu-id="47681-147">WSAPoll</span></span>

    <span data-ttu-id="47681-148">Dieses Verzeichnis enthält ein einfaches Beispielprogramm, das die Verwendung der [**wsapoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) -Funktion veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="47681-148">This directory contains a basic sample program that demonstrates the use of the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="47681-149">Das kombinierte Client-und Serverprogramm ist nicht blockierend und verwendet die **wsapoll** -Funktion, um zu bestimmen, wann es möglich ist, ohne Blockierung zu senden oder zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="47681-149">The combined client and server program are non-blocking and use the **WSAPoll** function to determine when it is possible to send or receive without blocking.</span></span> <span data-ttu-id="47681-150">Dieses Beispiel dient zur Veranschaulichung und ist kein Hochleistungsserver.</span><span class="sxs-lookup"><span data-stu-id="47681-150">This sample is more for illustration and is not a high-performance server.</span></span>

-   <span data-ttu-id="47681-151">Einfach</span><span class="sxs-lookup"><span data-stu-id="47681-151">simple</span></span>

    <span data-ttu-id="47681-152">Dieses Verzeichnis enthält drei grundlegende Beispiel Programme, die die Verwendung mehrerer Threads durch einen-Server veranschaulichen.</span><span class="sxs-lookup"><span data-stu-id="47681-152">This directory contains three basic sample programs that demonstrate the use of multiple threads by a server.</span></span> <span data-ttu-id="47681-153">Die Programme enthalten einen einfachen TCP/UDP-Server (simples), einen reinen TCP-Server (simples \_ IOCTL), der die [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) -Funktion in einer Win32-Konsolenanwendung verwendet, um mehrere Client Anforderungen zu unterstützen, und ein TCP/UDP-Client Programm (simplec) zum Testen der Server.</span><span class="sxs-lookup"><span data-stu-id="47681-153">The programs include a simple TCP/UDP server (simples), a TCP-only server (simples\_ioctl) that uses the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function in a Win32 console application to support multiple client requests, and a client TCP/UDP program (simplec) for testing the servers.</span></span> <span data-ttu-id="47681-154">Die Server veranschaulichen die Verwendung mehrerer Threads zum Verarbeiten mehrerer Client Anforderungen.</span><span class="sxs-lookup"><span data-stu-id="47681-154">The servers demonstrates the use of multiple threads to handle multiple client requests.</span></span> <span data-ttu-id="47681-155">Diese Methode hat Skalierbarkeits Probleme, da für jede Client Anforderung ein separater Thread erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="47681-155">This method has scalability issues since a separate thread is created for each client request.</span></span>

-   <span data-ttu-id="47681-156">accept (Akzeptieren)</span><span class="sxs-lookup"><span data-stu-id="47681-156">accept</span></span>

    <span data-ttu-id="47681-157">Dieses Verzeichnis enthält einen einfachen Beispiel Server und ein einfaches Client Programm.</span><span class="sxs-lookup"><span data-stu-id="47681-157">This directory contains a basic sample server and client program.</span></span> <span data-ttu-id="47681-158">Der Server veranschaulicht die Verwendung der nicht blockierenden Annahme mithilfe der [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) -Funktion oder der asynchronen Annahme mithilfe der [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="47681-158">The server demonstrates the use of either non-blocking accept using the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function or asynchronous accept using the [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) function.</span></span> <span data-ttu-id="47681-159">Dieses Beispiel dient zur Veranschaulichung und ist kein Hochleistungsserver.</span><span class="sxs-lookup"><span data-stu-id="47681-159">This sample is more for illustration and is not a high-performance server.</span></span>

 

 
