---
title: Paletten
description: Paletten
ms.assetid: ee048f9a-3036-40dc-a6d7-f612b9ef767c
keywords:
- Drawdib, Paletten
- Drawdibrealize-Funktion
- Drawdibdraw-Funktion
- Drawdibsetpalette-Funktion
- Drawdibgetpalette-Funktion
- Drawdibchangepalette-Funktion
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f5935831d8996c424a386f86082282f9cf7c1c12
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/19/2020
ms.locfileid: "103948697"
---
# <a name="palettes"></a><span data-ttu-id="a9e48-109">Paletten</span><span class="sxs-lookup"><span data-stu-id="a9e48-109">Palettes</span></span>

<span data-ttu-id="a9e48-110">Die drawdib-Funktionen erfordern, dass eine Anwendung auf zwei palettenorientierte Nachrichten antwortet: [**WM \_ querynewpalette**](/windows/desktop/gdi/wm-querynewpalette) und [**WM \_ palettechanged**](/windows/desktop/gdi/wm-palettechanged).</span><span class="sxs-lookup"><span data-stu-id="a9e48-110">The DrawDib functions require that an application respond to two palette-oriented messages: [**WM\_QUERYNEWPALETTE**](/windows/desktop/gdi/wm-querynewpalette) and [**WM\_PALETTECHANGED**](/windows/desktop/gdi/wm-palettechanged).</span></span> <span data-ttu-id="a9e48-111">Wenn Ihre Anwendung nicht palettenabhängig ist, müssen Sie für jede dieser Nachrichten einen Handler hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a9e48-111">If your application is not palette-aware, you will need to add a handler for each of these messages.</span></span> <span data-ttu-id="a9e48-112">Weitere Informationen zum Verarbeiten der Nachrichten " **WM \_ querynewpalette** " und " **WM \_ palettechanged** " finden Sie unter [Hinzufügen von palettenmeldungs Handlern](adding-palette-message-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="a9e48-112">For more information about processing the **WM\_QUERYNEWPALETTE** and **WM\_PALETTECHANGED** messages, see [Adding Palette Message Handlers](adding-palette-message-handlers.md).</span></span>

<span data-ttu-id="a9e48-113">Sie können die aktuelle drawdib-Palette mithilfe der [**drawdibrealize**](/windows/desktop/api/Vfw/nf-vfw-drawdibrealize) -Funktion auf dem Domänen Controller erkennen.</span><span class="sxs-lookup"><span data-stu-id="a9e48-113">You can realize the current DrawDib palette to the DC by using the [**DrawDibRealize**](/windows/desktop/api/Vfw/nf-vfw-drawdibrealize) function.</span></span> <span data-ttu-id="a9e48-114">Sie sollten die Palette als Reaktion auf die [**WM- \_ Abfrage "querynewpalette**](/windows/desktop/gdi/wm-querynewpalette) " oder " [**WM \_ palettechanged**](/windows/desktop/gdi/wm-palettechanged) " erkennen oder wenn Sie die Anzeige einer Bildsequenz mithilfe der [**drawdibdraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) -Funktion vorbereiten.</span><span class="sxs-lookup"><span data-stu-id="a9e48-114">You should realize the palette in response to the [**WM\_QUERYNEWPALETTE**](/windows/desktop/gdi/wm-querynewpalette) or [**WM\_PALETTECHANGED**](/windows/desktop/gdi/wm-palettechanged) message, or when you prepare to display an image sequence by using the [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) function.</span></span>

<span data-ttu-id="a9e48-115">Mithilfe der [**drawdibsetpalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibsetpalette) -Funktion können Sie ein Bild zeichnen, das einer anderen Palette zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="a9e48-115">You can draw an image mapped to another palette by using the [**DrawDibSetPalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibsetpalette) function.</span></span> <span data-ttu-id="a9e48-116">Diese Funktion erzwingt, dass der drawdib-DC die angegebene Palette verwendet, was sich auf die Bildqualität auswirken kann.</span><span class="sxs-lookup"><span data-stu-id="a9e48-116">This function forces the DrawDib DC to use the specified palette, which can affect the image quality.</span></span> <span data-ttu-id="a9e48-117">Beispielsweise könnte eine Anwendung, die palettenfähig ist, eine Palette realisieren und verhindern, dass drawdib eine eigene Palette erkennt.</span><span class="sxs-lookup"><span data-stu-id="a9e48-117">For example, an application that is palette-aware might have realized a palette and needs to prevent DrawDib from realizing its own palette.</span></span> <span data-ttu-id="a9e48-118">Die Anwendung kann **drawdibsetpalette** verwenden, um drawdib der zu verwendenden Palette zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="a9e48-118">The application can use **DrawDibSetPalette** to notify DrawDib of the palette to use.</span></span>

<span data-ttu-id="a9e48-119">Sie können ein Handle der aktuellen Vordergrund Palette mithilfe der [**drawdibgetpalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibgetpalette) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="a9e48-119">You can obtain a handle of the current foreground palette by using the [**DrawDibGetPalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibgetpalette) function.</span></span> <span data-ttu-id="a9e48-120">Wenn die Anwendung die aktuelle Vordergrund Palette verwendet, wird die Palette nicht exklusiv verwendet, und eine andere Anwendung kann den Palettenhandle für ungültig erklären.</span><span class="sxs-lookup"><span data-stu-id="a9e48-120">If your application uses the current foreground palette, it does not have exclusive use of the palette and another application can invalidate the palette handle.</span></span> <span data-ttu-id="a9e48-121">Die Anwendung sollte die Palette nicht freigeben, wenn Sie Sie nicht mehr verwenden.</span><span class="sxs-lookup"><span data-stu-id="a9e48-121">Your application should not free the palette when you finish using it.</span></span> <span data-ttu-id="a9e48-122">Durch das Freigeben der Palette könnte das Palettenhandle für eine andere Anwendung ungültig werden.</span><span class="sxs-lookup"><span data-stu-id="a9e48-122">Freeing the palette could invalidate the palette handle for another application.</span></span>

<span data-ttu-id="a9e48-123">Sie können drawdib vorbereiten, um neue Farbwerte für die Palette mithilfe der [**drawdibchangepalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibchangepalette) -Funktion zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="a9e48-123">You can prepare DrawDib to receive new color values for its palette by using the [**DrawDibChangePalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibchangepalette) function.</span></span> <span data-ttu-id="a9e48-124">Im Code, der auf **drawdibchangepalette** folgt, weisen Sie neue Werte für die palettenfarbtabelle zu.</span><span class="sxs-lookup"><span data-stu-id="a9e48-124">In the code following **DrawDibChangePalette**, you assign new values for the palette color table.</span></span> <span data-ttu-id="a9e48-125">Wenn das **DDF- \_ animieren** -Flag nicht auf dem drawdib-Domänen Controller festgelegt ist, wenn Sie **drawdibchangepalette** aufzurufen, können Sie die Palettenänderungen mithilfe von [**drawdibrealize**](/windows/desktop/api/Vfw/nf-vfw-drawdibrealize) umsetzen, um die Palette zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="a9e48-125">If the **DDF\_ANIMATE** flag is not set in the DrawDib DC when you call **DrawDibChangePalette**, you can enact the palette changes by using [**DrawDibRealize**](/windows/desktop/api/Vfw/nf-vfw-drawdibrealize) to realize the palette.</span></span> <span data-ttu-id="a9e48-126">Sie können dann [**drawdibdraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) verwenden, um das Bild neu zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="a9e48-126">You can then use [**DrawDibDraw**](/windows/desktop/api/Vfw/nf-vfw-drawdibdraw) to redraw the image.</span></span> <span data-ttu-id="a9e48-127">Wenn das **DDF- \_ animieren** -Flag im drawdib-DC festgelegt ist, können Sie die Palette und die Farben der angezeigten Bitmap mithilfe von **drawdibdraw** oder **drawdibrealize** animieren.</span><span class="sxs-lookup"><span data-stu-id="a9e48-127">If the **DDF\_ANIMATE** flag is set in the DrawDib DC, you can animate the palette and the colors of the displayed bitmap by using **DrawDibDraw** or **DrawDibRealize**.</span></span> <span data-ttu-id="a9e48-128">Sie können das **DDF \_ animieren** -Flag mit den Funktionen [**drawdibend**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) und [**drawdibbegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="a9e48-128">You can update the **DDF\_ANIMATE** flag by using the [**DrawDibEnd**](/windows/desktop/api/Vfw/nf-vfw-drawdibend) and [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) functions.</span></span>

> [!Note]  
> <span data-ttu-id="a9e48-129">Wenn Sie die drawdib-Palette freigeben, während Sie von einem DC ausgewählt wird, kann ein GDI-Fehler (Graphics Device Interface) auftreten, wenn der Domänen Controller die Palette verwendet.</span><span class="sxs-lookup"><span data-stu-id="a9e48-129">If you free the DrawDib palette while it is selected by a DC, a graphics device interface (GDI) error can result when the DC uses the palette.</span></span> <span data-ttu-id="a9e48-130">Stattdessen sollte die Anwendung [**drawdibsetpalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibsetpalette) verwenden, um den drawdib-DC so zu ändern, dass er die Standardpalette oder eine andere Palette verwendet.</span><span class="sxs-lookup"><span data-stu-id="a9e48-130">Instead, your application should use [**DrawDibSetPalette**](/windows/desktop/api/Vfw/nf-vfw-drawdibsetpalette) to change the DrawDib DC to use the default palette or another palette.</span></span>

 

<span data-ttu-id="a9e48-131">Die [**drawdibend**](/windows/desktop/api/Vfw/nf-vfw-drawdibend)-, [**drawdibclose**](/windows/desktop/api/Vfw/nf-vfw-drawdibclose)-und [**drawdibbegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) -Funktionen können die drawdib-Palette freigeben.</span><span class="sxs-lookup"><span data-stu-id="a9e48-131">The [**DrawDibEnd**](/windows/desktop/api/Vfw/nf-vfw-drawdibend), [**DrawDibClose**](/windows/desktop/api/Vfw/nf-vfw-drawdibclose), and [**DrawDibBegin**](/windows/desktop/api/Vfw/nf-vfw-drawdibbegin) functions can free the DrawDib palette.</span></span> <span data-ttu-id="a9e48-132">Diese Funktionen sollten jedoch nur verwendet werden, wenn die Palette nicht vom Domänen Controller ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="a9e48-132">However, these functions should be used only when the palette has not been selected by the DC.</span></span> <span data-ttu-id="a9e48-133">Die drawdibdraw-Funktion kann die Palette auch freigeben, wenn Sie denselben drawdib-DC verwendet, aber andere Zeichen Parameter (*lpbi*, *dxdst*, *dydst*, *dxsrc* oder *dysrc*) oder ein anderes Format angibt.</span><span class="sxs-lookup"><span data-stu-id="a9e48-133">The DrawDibDraw function can also free the palette when it uses the same DrawDib DC, but specifies different drawing parameters (*lpbi*, *dxDst*, *dyDst*, *dxSrc*, or *dySrc*) or a different format.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a9e48-134">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="a9e48-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a9e48-135">Bild Rendering</span><span class="sxs-lookup"><span data-stu-id="a9e48-135">Image Rendering</span></span>](image-rendering.md)
</dt> </dl>

 

 