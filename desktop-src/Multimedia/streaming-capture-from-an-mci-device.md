---
title: Streaming-Erfassung von einem MCI-Gerät
description: Streaming-Erfassung von einem MCI-Gerät
ms.assetid: 44cbf375-f97e-426a-a703-dfb1b1933138
keywords:
- MCI (Medien Steuerungs Schnittstelle), streamingerfassung
- WM_CAP_SET_MCI_DEVICE Meldung
- capabtmcidevicename-Makro
- WM_CAP_GET_MCI_DEVICE Meldung
- capgetmcidevicename-Makro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ab8cf358a87a812024328abf7fc1aae0509a126f
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104515975"
---
# <a name="streaming-capture-from-an-mci-device"></a><span data-ttu-id="5bcea-108">Streaming-Erfassung von einem MCI-Gerät</span><span class="sxs-lookup"><span data-stu-id="5bcea-108">Streaming Capture from an MCI Device</span></span>

<span data-ttu-id="5bcea-109">MCI-Geräte vergrößern den Aufzeichnungs Vorgang in Echtzeit-Erfassung und Schritt-für-Schritt-Erfassung.</span><span class="sxs-lookup"><span data-stu-id="5bcea-109">MCI devices augment the capture operation in real-time capture and step-frame capture.</span></span> <span data-ttu-id="5bcea-110">Sie können das MCI-Gerät angeben, z. b. eine Videodisk oder Video-Kassettenrecorder (VCR), das als Videoquelle für Ihren Aufzeichnungs Vorgang dient, indem Sie die Richtlinien- [**\_ \_ \_ MCI- \_ Geräte**](wm-cap-set-mci-device.md) Nachricht (oder das " [**capsetmcidevicename**](/windows/desktop/api/Vfw/nf-vfw-capsetmcidevicename) "-Makro der WM-Obergrenze) verwenden und den Namen des Geräts angeben.</span><span class="sxs-lookup"><span data-stu-id="5bcea-110">You can specify the MCI device, such as a videodisc or video-cassette recorder (VCR), acting as the video source for your capture operation by using the [**WM\_CAP\_SET\_MCI\_DEVICE**](wm-cap-set-mci-device.md) message (or the [**capSetMCIDeviceName**](/windows/desktop/api/Vfw/nf-vfw-capsetmcidevicename) macro) and specifying the name of the device.</span></span> <span data-ttu-id="5bcea-111">Sie können den derzeit festgelegten Gerätenamen auch abrufen, indem Sie die [**\_ gatewaycap- \_ \_ MCI- \_ Geräte**](wm-cap-get-mci-device.md) Nachricht (oder das " [**capgetmcidevicename**](/windows/desktop/api/Vfw/nf-vfw-capgetmcidevicename) "-Makro) verwenden.</span><span class="sxs-lookup"><span data-stu-id="5bcea-111">You can also retrieve the device name currently set by using the [**WM\_CAP\_GET\_MCI\_DEVICE**](wm-cap-get-mci-device.md) message (or the [**capGetMCIDeviceName**](/windows/desktop/api/Vfw/nf-vfw-capgetmcidevicename) macro).</span></span>

<span data-ttu-id="5bcea-112">Bei der echt Zeiterfassung synchronisiert das Aufzeichnungs Fenster den Aufzeichnungs Vorgang und kompensiert Verzögerungen bei der Positionierung der MCI-Videoquelle und beim Initialisieren der Ressourcen (z. b. Erfassungs Puffer), die zum Erfassen von Daten erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="5bcea-112">In real-time capture, the capture window synchronizes the capture operation and compensates for delays associated with positioning the MCI video source and initializing the resources (such as capture buffers) required for capturing data.</span></span> <span data-ttu-id="5bcea-113">Das Erfassungsfenster erwartet, dass ein gültiges MCI-Videogerät zum Erfassen von Daten auf diese Weise im System installiert wird.</span><span class="sxs-lookup"><span data-stu-id="5bcea-113">The capture window expects a valid MCI video device to be installed in the system for capturing data this way.</span></span>

<span data-ttu-id="5bcea-114">Spezifikationen zum Steuern eines MCI-Geräts werden in den Membern der [**captumappms**](/windows/win32/api/vfw/ns-vfw-captureparms) -Struktur gespeichert.</span><span class="sxs-lookup"><span data-stu-id="5bcea-114">Specifications for controlling an MCI device are stored in the members of the [**CAPTUREPARMS**](/windows/win32/api/vfw/ns-vfw-captureparms) structure.</span></span> <span data-ttu-id="5bcea-115">MCI-kompatible Videoquellen enthalten VCRs und Laser Disks.</span><span class="sxs-lookup"><span data-stu-id="5bcea-115">MCI-compatible video sources include VCRs and laserdiscs.</span></span> <span data-ttu-id="5bcea-116">Wenn der **fmcicontrol** -Member dieser Struktur auf **true** festgelegt ist, koordiniert das Aufzeichnungs Fenster den MCI-Vorgang.</span><span class="sxs-lookup"><span data-stu-id="5bcea-116">If the **fMCIControl** member of this structure is set to **TRUE**, the capture window coordinates MCI operation.</span></span> <span data-ttu-id="5bcea-117">Das Erfassungsfenster verwendet die Parameter, die in den Elementen **dwmcistarttime** und **dwmcistoptime** angegeben sind, um die Anfangs-und Stopp Positionen der Sequenz zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="5bcea-117">The capture window uses the parameters specified in the **dwMCIStartTime** and **dwMCIStopTime** members to obtain the starting and stopping positions, in milliseconds, of the sequence.</span></span> <span data-ttu-id="5bcea-118">Wenn der Wert von **fmcicontrol** **false** ist, wird die Videoquelle nicht als MCI-Gerät behandelt, und der Inhalt von **dwmcistarttime** und **dwmcistoptime** werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="5bcea-118">If the value of **fMCIControl** is **FALSE**, the video source is not treated as an MCI device and the contents of **dwMCIStartTime** and **dwMCIStopTime** are ignored.</span></span>

<span data-ttu-id="5bcea-119">Mit Media Player können Sie schnell überprüfen, ob ein MCI-Videogerät ordnungsgemäß mit dem System verbunden ist.</span><span class="sxs-lookup"><span data-stu-id="5bcea-119">You can use Media Player to quickly verify that an MCI video device is properly connected to the system.</span></span> <span data-ttu-id="5bcea-120">Wenn Sie ein Gerät mit Media Player wiedergeben, wird überprüft, ob die MCI-Konfiguration für das Gerät richtig ist.</span><span class="sxs-lookup"><span data-stu-id="5bcea-120">Playing a device with Media Player verifies that the MCI configuration for the device is correct.</span></span> <span data-ttu-id="5bcea-121">Wenn ein Bild auf der Videoanzeige angezeigt wird, ist die Videoquelle ordnungsgemäß mit der Erfassungs Hardware verbunden.</span><span class="sxs-lookup"><span data-stu-id="5bcea-121">If an image appears on the video display, the video source is connected properly to the capture hardware.</span></span>

<span data-ttu-id="5bcea-122">Bei der Schritt-Frame-Erfassung synchronisiert das Aufzeichnungs Fenster den Aufzeichnungs Vorgang und kompensiert die Verzögerungen, die mit der Positionierung der MCI-Videoquelle und der Initialisierung der zum Erfassen von Daten erforderlichen Ressourcen verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="5bcea-122">In step-frame capture, the capture window synchronizes the capture operation and compensates for the delays associated with positioning the MCI video source and initializing the resources required for capturing data.</span></span> <span data-ttu-id="5bcea-123">Außerdem wird durch das Erfassungsfenster sichergestellt, dass keine Frames abgelegt werden. die Video Frames werden einzeln durchlaufen, um sicherzustellen, dass der Frame aufgezeichnet und gespeichert wird, bevor der nächste Frame im Videostream erfasst wird.</span><span class="sxs-lookup"><span data-stu-id="5bcea-123">In addition, the capture window ensures that no frames are dropped; it steps through the video frames individually, ensuring that the frame is captured and stored before capturing the next frame in the video stream.</span></span>

<span data-ttu-id="5bcea-124">Spezifikationen zum Steuern der Schritt-Frame-Erfassung werden in den Membern der [**captumappms**](/windows/win32/api/vfw/ns-vfw-captureparms) -Struktur gespeichert.</span><span class="sxs-lookup"><span data-stu-id="5bcea-124">Specifications for controlling step-frame capture are stored in the members of the [**CAPTUREPARMS**](/windows/win32/api/vfw/ns-vfw-captureparms) structure.</span></span> <span data-ttu-id="5bcea-125">Die Schritt-für-Schritt-Erfassung verwendet die folgenden Member zusätzlich zu den Membern, die für die echt Zeiterfassung verwendet werden: **fstepmcidevice**, **fStepCaptureAt2x** und **wstepcaptureaverageframes**.</span><span class="sxs-lookup"><span data-stu-id="5bcea-125">Step-frame capture uses the following members in addition to the members used for real-time capture: **fStepMCIDevice**, **fStepCaptureAt2x**, and **wStepCaptureAverageFrames**.</span></span> <span data-ttu-id="5bcea-126">Wenn das **fstepmcidevice** -Element auf **true** festgelegt ist, koordiniert das Erfassungsfenster die Schritt-Frame-Erfassung.</span><span class="sxs-lookup"><span data-stu-id="5bcea-126">If the **fStepMCIDevice** member is set to **TRUE**, the capture window coordinates step-frame capture.</span></span> <span data-ttu-id="5bcea-127">Das Erfassungsfenster verwendet die Parameter, die in den Elementen **dwmcistarttime** und **dwmcistoptime** angegeben sind, für die Start-und Stop-Positionen der Sequenz.</span><span class="sxs-lookup"><span data-stu-id="5bcea-127">The capture window uses the parameters specified in the **dwMCIStartTime** and **dwMCIStopTime** members for the starting and stopping positions, in milliseconds, of the sequence.</span></span> <span data-ttu-id="5bcea-128">Das Erfassungsfenster bestimmt mithilfe von **fStepCaptureAt2x** , ob die Aufzeichnungs Hardware Video Frames bei der doppelten Auflösung aufzeichnen soll, und verwendet **wstepcaptureaverageframes** , um anzugeben, wie oft jeder Frame im Aufzeichnungs Vorgang als Stichprobe verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="5bcea-128">The capture window uses **fStepCaptureAt2x** to determine if the capture hardware should capture video frames at twice the normal resolution and uses **wStepCaptureAverageFrames** to specify the number of times each frame in the capture operation is sampled.</span></span>

<span data-ttu-id="5bcea-129">Wenn **fstepmcidevice** den Wert **false** hat, wird die echt Zeiterfassung anstelle der Schritt-Frame-Erfassung verwendet, und der Inhalt von **fStepCaptureAt2x** und **wstepcaptureaverageframes** werden ignoriert.</span><span class="sxs-lookup"><span data-stu-id="5bcea-129">If **fStepMCIDevice** is **FALSE**, real-time capture is used instead of step-frame capture and the contents of **fStepCaptureAt2x**, and **wStepCaptureAverageFrames** are ignored.</span></span>

<span data-ttu-id="5bcea-130">Wenn eine Schritt-Frame-Erfassung angegeben und **fStepCaptureAt2x** auf **true** festgelegt ist, erfasst die Erfassungs Hardware bei der doppelten Auflösung die angegebene Auflösung.</span><span class="sxs-lookup"><span data-stu-id="5bcea-130">If a step-frame capture is specified and **fStepCaptureAt2x** is set to **TRUE**, the capture hardware captures at twice the specified resolution.</span></span> <span data-ttu-id="5bcea-131">(Die Auflösung von Höhe und Breite wird verdoppelt.) Die Software interpoliert die Pixel im Bild mit höherer Auflösung, um das Bild bei der angegebenen Auflösung zu entwickeln.</span><span class="sxs-lookup"><span data-stu-id="5bcea-131">(The resolutions of both the height and width are doubled.) The software interpolates the pixels in the higher resolution image to produce the image at the specified resolution.</span></span> <span data-ttu-id="5bcea-132">Diese Form der Durchschnittsberechnung kann die Kantendefinition von Bildern in einem Frame verbessern.</span><span class="sxs-lookup"><span data-stu-id="5bcea-132">This form of averaging can improve the edge definition of images in a frame.</span></span> <span data-ttu-id="5bcea-133">Sie können diese Option aktivieren, wenn die Hardware keine hardwarebasierte Dezimierung unterstützt und Sie das RGB-Format erfassen.</span><span class="sxs-lookup"><span data-stu-id="5bcea-133">You can enable this option if the hardware does not support hardware-based decimation and you are capturing in the RGB format.</span></span>

> [!Note]  
> <span data-ttu-id="5bcea-134">Wenn Ihre Hardware hardwarebasierte dezimierungen unterstützt, können Sie Stichproben mit einer höheren Rate als angegeben erfassen und diese zusätzlichen Beispiele zum Abrufen von Farb Definitionen verwenden, die mit dem Original Abbild konsistent sind.</span><span class="sxs-lookup"><span data-stu-id="5bcea-134">If your hardware supports hardware-based decimation, it can capture samples at a higher rate than specified and use these additional samples to obtain color definitions that are more consistent with the original image.</span></span> <span data-ttu-id="5bcea-135">Die zusätzlichen Beispiele werden verworfen, nachdem Sie verwendet wurden, und die Hardware übergibt Beispiele an den Erfassungs Treiber mit der angegebenen Rate.</span><span class="sxs-lookup"><span data-stu-id="5bcea-135">The additional samples are discarded after they are used, and the hardware passes samples to the capture driver at the specified rate.</span></span>

 

<span data-ttu-id="5bcea-136">Wenn eine Schritt-für-Schritt-Erfassung angegeben wird, gibt das **wstepcaptureaverageframes** -Element an, wie oft ein Frame Stichprobe bei der Erstellung eines Frames auf der Grundlage des durchschnittlichen Beispiels ist.</span><span class="sxs-lookup"><span data-stu-id="5bcea-136">If a step-frame capture is specified, the **wStepCaptureAverageFrames** member specifies the number of times a frame is sampled when creating a frame based on the average sample.</span></span> <span data-ttu-id="5bcea-137">Diese Mittelwert Technik reduziert das Zufallsprinzip der Digitalisierung, das in einem Frame auftritt.</span><span class="sxs-lookup"><span data-stu-id="5bcea-137">This averaging technique reduces the random digitization noise appearing in a frame.</span></span> <span data-ttu-id="5bcea-138">Ein typischer Wert für die Anzahl der Durchschnittswerte ist 5.</span><span class="sxs-lookup"><span data-stu-id="5bcea-138">A typical value for the number of averages is 5.</span></span>

<span data-ttu-id="5bcea-139">Weitere Informationen zu MCI finden Sie unter [MCI](mci.md).</span><span class="sxs-lookup"><span data-stu-id="5bcea-139">For more information about MCI, see [MCI](mci.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="5bcea-140">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="5bcea-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5bcea-141">Erfassungs Variationen</span><span class="sxs-lookup"><span data-stu-id="5bcea-141">Capture Variations</span></span>](capture-variations.md)
</dt> </dl>

 

 




