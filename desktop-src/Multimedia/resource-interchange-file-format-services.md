---
title: Dienste für den Ressourcenaustausch-Datei Format
description: Dienste für den Ressourcenaustausch-Datei Format
ms.assetid: 8526794b-7b40-470f-94f7-935d7dbf9151
keywords:
- Multimedia-Datei-e/a, Ressourcenaustausch Dateiformat (Riff)
- Datei-e/a, Ressourcenaustausch Dateiformat (Riff)
- Eingabe und Ausgabe (e/a), Ressourcenaustausch Dateiformat (Riff)
- E/a (Eingabe und Ausgabe), Format der Ressourcenaustausch Datei (Riff)
- mmioopen-Funktion
- Format der Ressourcenaustausch Datei (Riff)
- Riff (Ressourcenaustausch-Dateiformat)
- Riff-e/a
- Riff Block
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 50cca3792ccded248951065c7b69f2e50d27e0ba
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/19/2020
ms.locfileid: "104314679"
---
# <a name="resource-interchange-file-format-services"></a><span data-ttu-id="63996-112">Dienste für den Ressourcenaustausch-Datei Format</span><span class="sxs-lookup"><span data-stu-id="63996-112">Resource Interchange File Format Services</span></span>

<span data-ttu-id="63996-113">Das bevorzugte Format für Multimedia-Dateien ist das Ressourcenaustausch Dateiformat (Riff).</span><span class="sxs-lookup"><span data-stu-id="63996-113">The preferred format for multimedia files is resource interchange file format (RIFF).</span></span> <span data-ttu-id="63996-114">Die Datei-e/a-Funktionen der Riff Datei funktionieren mit den grundlegenden gepufferten und nicht gepufferten Datei-e/a</span><span class="sxs-lookup"><span data-stu-id="63996-114">The RIFF file I/O functions work with the basic buffered and unbuffered file I/O services.</span></span> <span data-ttu-id="63996-115">Sie können die Riff Dateien auf die gleiche Weise wie andere Dateitypen öffnen, lesen und schreiben.</span><span class="sxs-lookup"><span data-stu-id="63996-115">You can open, read, and write RIFF files in the same way as other file types.</span></span> <span data-ttu-id="63996-116">Ausführliche Informationen zu Riff finden Sie unter [avifile-Funktionen und-Makros](avifile-functions-and-macros.md).</span><span class="sxs-lookup"><span data-stu-id="63996-116">For detailed information about RIFF, see [AVIFile Functions and Macros](avifile-functions-and-macros.md).</span></span>

<span data-ttu-id="63996-117">In den Riff Dateien werden vier Zeichen Codes verwendet, um Dateielemente zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="63996-117">RIFF files use four-character codes to identify file elements.</span></span> <span data-ttu-id="63996-118">Diese Codes sind 32-Bit-Mengen, die eine Sequenz von einem bis vier alphanumerischen ASCII-Zeichen darstellen, die auf der rechten Seite mit Leerzeichen aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="63996-118">These codes are 32-bit quantities representing a sequence of one to four ASCII alphanumeric characters, padded on the right with space characters.</span></span> <span data-ttu-id="63996-119">Der Datentyp für vier Zeichen Codes ist **FourCC**.</span><span class="sxs-lookup"><span data-stu-id="63996-119">The data type for four-character codes is **FOURCC**.</span></span> <span data-ttu-id="63996-120">Verwenden Sie das [**mmiofourcc**](/windows/win32/api/vfw/nf-vfw-mmiofourcc) -Makro, um vier Zeichen in einen vierstelligen Code zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="63996-120">Use the [**mmioFOURCC**](/windows/win32/api/vfw/nf-vfw-mmiofourcc) macro to convert four characters into a four-character code.</span></span> <span data-ttu-id="63996-121">Verwenden Sie die [**mmiostringdefourcc**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiostringtofourcc) -Funktion, um eine mit NULL endende Zeichenfolge in einen aus vier Zeichen bestehende Code zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="63996-121">To convert a null-terminated string into a four-character code, use the [**mmioStringToFOURCC**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiostringtofourcc) function.</span></span>

<span data-ttu-id="63996-122">Der grundlegende *Baustein einer Riff Datei ist ein Segment*.</span><span class="sxs-lookup"><span data-stu-id="63996-122">The basic building block of a RIFF file is a *chunk*.</span></span> <span data-ttu-id="63996-123">Ein Block ist eine logische Einheit von Multimedia-Daten, wie z. b. einem einzelnen Frame in einem Videoclip.</span><span class="sxs-lookup"><span data-stu-id="63996-123">A chunk is a logical unit of multimedia data, such as a single frame in a video clip.</span></span> <span data-ttu-id="63996-124">Jeder Block enthält die folgenden Felder:</span><span class="sxs-lookup"><span data-stu-id="63996-124">Each chunk contains the following fields:</span></span>

-   <span data-ttu-id="63996-125">Ein aus vier Zeichen bestehende Code, der den Block Bezeichner angibt.</span><span class="sxs-lookup"><span data-stu-id="63996-125">A four-character code specifying the chunk identifier</span></span>
-   <span data-ttu-id="63996-126">Ein Double Word-Wert, der die Größe des Datenelements im Block angibt.</span><span class="sxs-lookup"><span data-stu-id="63996-126">A doubleword value specifying the size of the data member in the chunk</span></span>
-   <span data-ttu-id="63996-127">Ein Datenfeld</span><span class="sxs-lookup"><span data-stu-id="63996-127">A data field</span></span>

<span data-ttu-id="63996-128">Die folgende Abbildung zeigt einen "Riff"-Block, der zwei Teilsegmente enthält.</span><span class="sxs-lookup"><span data-stu-id="63996-128">The following illustration shows a "RIFF" chunk that contains two subchunks.</span></span>

![der Riff Block, der zwei unter Segmente enthält.](images/mmio1.gif)

<span data-ttu-id="63996-130">Ein Block, der in einem anderen Block enthalten ist, ist ein *Teil*.</span><span class="sxs-lookup"><span data-stu-id="63996-130">A chunk contained in another chunk is a *subchunk*.</span></span> <span data-ttu-id="63996-131">Die einzigen Blöcke, die Teilsegmente enthalten dürfen, sind diejenigen mit dem Block Bezeichner "Riff" oder "List".</span><span class="sxs-lookup"><span data-stu-id="63996-131">The only chunks allowed to contain subchunks are those with a chunk identifier of "RIFF" or "LIST".</span></span> <span data-ttu-id="63996-132">Ein Block, der einen anderen Block enthält, wird als über *geordneter* Block bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="63996-132">A chunk that contains another chunk is called a *parent chunk*.</span></span> <span data-ttu-id="63996-133">Der erste Block in einer Riff Datei muss ein "Riff"-Block sein.</span><span class="sxs-lookup"><span data-stu-id="63996-133">The first chunk in a RIFF file must be a "RIFF" chunk.</span></span> <span data-ttu-id="63996-134">Alle anderen Blöcke in der Datei sind Teilsegmente des "Riff"-Blocks.</span><span class="sxs-lookup"><span data-stu-id="63996-134">All other chunks in the file are subchunks of the "RIFF" chunk.</span></span>

<span data-ttu-id="63996-135">"Riff"-Blöcke enthalten ein zusätzliches Feld in den ersten vier Bytes des Daten Felds.</span><span class="sxs-lookup"><span data-stu-id="63996-135">"RIFF" chunks include an additional field in the first four bytes of the data field.</span></span> <span data-ttu-id="63996-136">Dieses zusätzliche Feld stellt den *Formulartyp* des Felds bereit.</span><span class="sxs-lookup"><span data-stu-id="63996-136">This additional field provides the *form type* of the field.</span></span> <span data-ttu-id="63996-137">Der Formulartyp ist ein aus vier Zeichen bestehende Code, der das Format der in der Datei gespeicherten Daten identifiziert.</span><span class="sxs-lookup"><span data-stu-id="63996-137">The form type is a four-character code identifying the format of the data stored in the file.</span></span> <span data-ttu-id="63996-138">Beispielsweise weisen Microsoft Waveform-Audiodateien den Formulartyp "Wave" auf.</span><span class="sxs-lookup"><span data-stu-id="63996-138">For example, Microsoft waveform-audio files have a form type of "WAVE".</span></span>

<span data-ttu-id="63996-139">"List"-Blöcke enthalten auch ein zusätzliches Feld in den ersten vier Bytes des Daten Felds.</span><span class="sxs-lookup"><span data-stu-id="63996-139">"LIST" chunks also include an additional field in the first four bytes of the data field.</span></span> <span data-ttu-id="63996-140">Dieses zusätzliche Feld enthält den *Listentyp* des Felds.</span><span class="sxs-lookup"><span data-stu-id="63996-140">This additional field contains the *list type* of the field.</span></span> <span data-ttu-id="63996-141">Der Listentyp ist ein aus vier Zeichen bestehende Code, der den Inhalt der Liste identifiziert.</span><span class="sxs-lookup"><span data-stu-id="63996-141">The list type is a four-character code identifying the contents of the list.</span></span> <span data-ttu-id="63996-142">Beispielsweise kann ein "List"-Block mit dem Listentyp "Info" "iCop"-und "ICRD"-Blöcke enthalten, die Informationen zu Urheberrechten und Erstellungsdatum enthalten.</span><span class="sxs-lookup"><span data-stu-id="63996-142">For example, a "LIST" chunk with a list type of "INFO" can contain "ICOP" and "ICRD" chunks providing copyright and creation date information.</span></span> <span data-ttu-id="63996-143">In der folgenden Abbildung ist ein "Riff"-Block dargestellt, der einen "List"-Block und einen anderen Unterbereich enthält (der "List"-Block enthält zwei Teilsegmente).</span><span class="sxs-lookup"><span data-stu-id="63996-143">The following illustration shows a "RIFF" chunk that contains a "LIST" chunk and one other subchunk (the "LIST" chunk contains two subchunks).</span></span>

![der Riff Block, der ein Listen Segment Bild enthält.](images/mmio2.gif)

<span data-ttu-id="63996-145">Multimedia-Datei-e/a-Dienste enthalten zwei Funktionen, die Sie verwenden können, um zwischen Blöcken in einer Riff Datei zu navigieren: [**mmioascend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioascend) und [**mmioabstieg**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiodescend).</span><span class="sxs-lookup"><span data-stu-id="63996-145">Multimedia file I/O services include two functions you can use to navigate among chunks in a RIFF file: [**mmioAscend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmioascend) and [**mmioDescend**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiodescend).</span></span> <span data-ttu-id="63996-146">Sie können diese Funktionen als Suchfunktionen auf hoher Ebene verwenden.</span><span class="sxs-lookup"><span data-stu-id="63996-146">You can use these functions as high-level seek functions.</span></span> <span data-ttu-id="63996-147">Wenn Sie in einen Block absteigen, wird die Dateiposition auf das Datenfeld des Blocks (8 Bytes vom Anfang des Blocks) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="63996-147">When you descend into a chunk, the file position is set to the data field of the chunk (8 bytes from the beginning of the chunk).</span></span> <span data-ttu-id="63996-148">Für die Blöcke "Riff" und "List" wird die Dateiposition auf den Speicherort festgelegt, der auf den Typ oder den Auflistungstyp folgt (12 Bytes vom Anfang des Blocks).</span><span class="sxs-lookup"><span data-stu-id="63996-148">For "RIFF" and "LIST" chunks, the file position is set to the location following the form type or list type (12 bytes from the beginning of the chunk).</span></span> <span data-ttu-id="63996-149">Wenn Sie aus einem Block aufsteigen, wird die Dateiposition auf den Speicherort festgelegt, der dem Ende des Blocks folgt.</span><span class="sxs-lookup"><span data-stu-id="63996-149">When you ascend out of a chunk, the file position is set to the location following the end of the chunk.</span></span>

<span data-ttu-id="63996-150">Um einen neuen Block zu erstellen, verwenden Sie die [**mmiokreatechunk**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiocreatechunk) -Funktion, um einen Block Header an der aktuellen Position in einer geöffneten Datei zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="63996-150">To create a new chunk, use the [**mmioCreateChunk**](/windows/win32/api/mmiscapi/nf-mmiscapi-mmiocreatechunk) function to write a chunk header at the current position in an open file.</span></span> <span data-ttu-id="63996-151">Die Funktionen **mmioascend**, **mmiodescenund** **mmiokreatechunk** verwenden die [**mmckinfo**](/windows/win32/api/mmiscapi/ns-mmiscapi-mmckinfo) -Struktur zum angeben und Abrufen von Informationen zu "Riff"-Blöcken.</span><span class="sxs-lookup"><span data-stu-id="63996-151">The **mmioAscend**, **mmioDescend**, and **mmioCreateChunk** functions use the [**MMCKINFO**](/windows/win32/api/mmiscapi/ns-mmiscapi-mmckinfo) structure to specify and retrieve information about "RIFF" chunks.</span></span>

 

 