---
title: Lesen aus einem Stream
description: Lesen aus einem Stream
ms.assetid: be961f06-cf5f-4093-9b31-7d1d69e62fec
keywords:
- AVISTREAMINFO-Funktion
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3cc7ecd606a33503557e7c7209bff68015756523
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/19/2020
ms.locfileid: "103948738"
---
# <a name="reading-from-a-stream"></a><span data-ttu-id="e144f-104">Lesen aus einem Stream</span><span class="sxs-lookup"><span data-stu-id="e144f-104">Reading from a Stream</span></span>

<span data-ttu-id="e144f-105">Mithilfe der [**AVISTREAMINFO**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) -Funktion können Sie Informationen zu einem geöffneten Stream abrufen.</span><span class="sxs-lookup"><span data-stu-id="e144f-105">You can retrieve information about an open stream by using the [**AVIStreamInfo**](/windows/desktop/api/Vfw/nf-vfw-avistreaminfoa) function.</span></span> <span data-ttu-id="e144f-106">Diese Funktion füllt die [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) -Struktur mit Informationen wie z. b. dem Datentyp im Datenstrom, der Komprimierungs Methode, die beim Schreiben von Streamdaten verwendet wird, der vorgeschlagenen Puffergröße, der Wiedergabe Rate und einer Textbeschreibung des Streams.</span><span class="sxs-lookup"><span data-stu-id="e144f-106">This function fills the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure with information such as the type of data in the stream, the compression method used when writing stream data, the suggested buffer size, the playback rate, and a text description of the stream.</span></span>

<span data-ttu-id="e144f-107">Einige Member der [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) -Struktur sind auch in der [**avifileinfo**](/windows/desktop/api/Vfw/ns-vfw-avifileinfoa) -Struktur vorhanden.</span><span class="sxs-lookup"><span data-stu-id="e144f-107">Some members of the [**AVISTREAMINFO**](/windows/desktop/api/Vfw/ns-vfw-avistreaminfoa) structure are also present in the [**AVIFILEINFO**](/windows/desktop/api/Vfw/ns-vfw-avifileinfoa) structure.</span></span> <span data-ttu-id="e144f-108">Die Informationen in der **avifileinfo** -Struktur gelten für die gesamte Datei.</span><span class="sxs-lookup"><span data-stu-id="e144f-108">The information in the **AVIFILEINFO** structure applies to the entire file.</span></span> <span data-ttu-id="e144f-109">Die Informationen in der **AVISTREAMINFO** -Struktur sind spezifisch für den Datenstrom, auf den zugegriffen wird, und haben Vorrang vor den Informationen in der **avifileinfo** -Struktur.</span><span class="sxs-lookup"><span data-stu-id="e144f-109">The information in the **AVISTREAMINFO** structure is specific to the accessed stream and has precedence over the information in the **AVIFILEINFO** structure.</span></span>

<span data-ttu-id="e144f-110">Wenn einem Stream zusätzliche Informationen zugeordnet sind, können Sie diese Informationen mithilfe der [**avistreaminfodata**](/windows/desktop/api/Vfw/nf-vfw-avistreamreaddata) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="e144f-110">If a stream has supplementary information associated with it, you can retrieve this information by using the [**AVIStreamReadData**](/windows/desktop/api/Vfw/nf-vfw-avistreamreaddata) function.</span></span> <span data-ttu-id="e144f-111">Diese Funktion gibt die Informationen in einem von der Anwendung bereitgestellten Puffer zurück.</span><span class="sxs-lookup"><span data-stu-id="e144f-111">This function returns the information in an application-supplied buffer.</span></span> <span data-ttu-id="e144f-112">Ergänzende Datenstrom Informationen können Konfigurationseinstellungen für die Komprimierungs-und dekomprimierungsmethoden enthalten, die in einem Stream verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e144f-112">Supplementary stream information might include configuration settings for the compression and decompression methods used on a stream.</span></span> <span data-ttu-id="e144f-113">Sie können die erforderliche Puffergröße mit dem [**avistreamdatasize**](/windows/desktop/api/Vfw/nf-vfw-avistreamdatasize) -Makro abrufen.</span><span class="sxs-lookup"><span data-stu-id="e144f-113">You can obtain the required buffer size by using the [**AVIStreamDataSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamdatasize) macro.</span></span>

<span data-ttu-id="e144f-114">Sie können Formatierungsinformationen zu einem Stream abrufen, indem Sie die [**avistreamread Format**](/windows/desktop/api/Vfw/nf-vfw-avistreamreadformat) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="e144f-114">You can retrieve formatting information about a stream by using the [**AVIStreamReadFormat**](/windows/desktop/api/Vfw/nf-vfw-avistreamreadformat) function.</span></span> <span data-ttu-id="e144f-115">Diese Funktion gibt eine Datenstrom spezifische Struktur in einem von der Anwendung bereitgestellten Puffer zurück.</span><span class="sxs-lookup"><span data-stu-id="e144f-115">This function returns a stream-specific structure in an application-supplied buffer.</span></span> <span data-ttu-id="e144f-116">Bei einem Videostream enthält der Puffer Formatierungsinformationen in einer [**BitmapInfo**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="e144f-116">For a video stream, the buffer contains formatting information in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure.</span></span> <span data-ttu-id="e144f-117">Bei einem Audiostream enthält der Puffer Formatierungsinformationen in einer [**WaveFormatEx**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) -oder [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="e144f-117">For an audio stream, the buffer contains formatting information in a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) or [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structure.</span></span> <span data-ttu-id="e144f-118">Bei anderen Streamtypen gibt der streamhandler Informationen für den Datenstrom zurück.</span><span class="sxs-lookup"><span data-stu-id="e144f-118">For other stream types, the stream handler returns information specific to the stream.</span></span> <span data-ttu-id="e144f-119">Sie können die erforderliche Puffergröße mithilfe von **avistreamread Format** ermitteln und eine **null** -Puffer Adresse angeben oder das [**avistreamformatsize**](/windows/desktop/api/Vfw/nf-vfw-avistreamformatsize) -Makro verwenden.</span><span class="sxs-lookup"><span data-stu-id="e144f-119">You can determine the required buffer size by using **AVIStreamReadFormat** and specifying a **NULL** buffer address or by using the [**AVIStreamFormatSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamformatsize) macro.</span></span>

<span data-ttu-id="e144f-120">Sie können den Multimedia-Inhalt in einem Stream mithilfe der [**avistreamread**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="e144f-120">You can retrieve the multimedia content in a stream by using the [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function.</span></span> <span data-ttu-id="e144f-121">Diese Funktion kopiert Rohdaten aus dem Stream in einen von der Anwendung bereitgestellten Puffer.</span><span class="sxs-lookup"><span data-stu-id="e144f-121">This function copies raw data from the stream into an application-supplied buffer.</span></span> <span data-ttu-id="e144f-122">Bei Videostreams ruft diese Funktion die bitzugeordneten Bilder ab, die den Frame Inhalt bilden.</span><span class="sxs-lookup"><span data-stu-id="e144f-122">For video streams, this function retrieves the bitmapped images that make up the frame content.</span></span> <span data-ttu-id="e144f-123">Für Audiostreams ruft diese Funktion Waveform-Audio-Beispiele ab, aus denen der Sound Inhalt besteht.</span><span class="sxs-lookup"><span data-stu-id="e144f-123">For audio streams, this function retrieves waveform-audio samples that make up the sound content.</span></span> <span data-ttu-id="e144f-124">Sie können die erforderliche Puffergröße mithilfe von **avistreamread** ermitteln und eine **null** -Puffer Adresse angeben oder das [**avistreamsamplesize**](/windows/desktop/api/Vfw/nf-vfw-avistreamsamplesize) -Makro verwenden.</span><span class="sxs-lookup"><span data-stu-id="e144f-124">You can determine the required buffer size by using **AVIStreamRead** and specifying a **NULL** buffer address or by using the [**AVIStreamSampleSize**](/windows/desktop/api/Vfw/nf-vfw-avistreamsamplesize) macro.</span></span>

<span data-ttu-id="e144f-125">Einige AVI-Datenstrom Handler verursachen Verzögerungen im Zusammenhang mit der Initialisierung oder Koordination von Software und Hardware.</span><span class="sxs-lookup"><span data-stu-id="e144f-125">Some AVI stream handlers introduce delays associated with software and hardware initialization or coordination.</span></span> <span data-ttu-id="e144f-126">Sie können diese Handler informieren, dass Sie das Datenstreaming mithilfe der [**avistreambeginstreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreambeginstreaming) -Funktion vorbereiten.</span><span class="sxs-lookup"><span data-stu-id="e144f-126">You can inform these handlers to prepare for data streaming by using the [**AVIStreamBeginStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreambeginstreaming) function.</span></span> <span data-ttu-id="e144f-127">Diese Funktion ermöglicht es dem streamhandler, die benötigten Ressourcen zuzuordnen und zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="e144f-127">This function lets the stream handler allocate and initialize the resources it needs.</span></span> <span data-ttu-id="e144f-128">Wenn Sie diese Handler beim Beenden des Streamings informieren möchten, verwenden Sie die [**avistreamendstreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreamendstreaming) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="e144f-128">To inform these handlers when streaming has ended, use the [**AVIStreamEndStreaming**](/windows/desktop/api/Vfw/nf-vfw-avistreamendstreaming) function.</span></span> <span data-ttu-id="e144f-129">Diese Funktion ermöglicht dem streamhandler das Aufheben der Zuordnung der Ressourcen, die ihm für **avistreambeginstreaming** zugeordnet wurden.</span><span class="sxs-lookup"><span data-stu-id="e144f-129">This function lets the stream handler deallocate the resources it allocated for **AVIStreamBeginStreaming**.</span></span>

<span data-ttu-id="e144f-130">Die [**avistreamread**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) -Funktion stellt keine Debug-Dienste bereit.</span><span class="sxs-lookup"><span data-stu-id="e144f-130">The [**AVIStreamRead**](/windows/desktop/api/Vfw/nf-vfw-avistreamread) function does not provide decompression services.</span></span> <span data-ttu-id="e144f-131">Weitere Informationen zum Komprimieren und Dekomprimieren von Audiodatenströmen finden Sie unter [Audiokomprimierungs-Manager](audio-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="e144f-131">For information about compressing and decompressing audio streams, see [Audio Compression Manager](audio-compression-manager.md).</span></span> <span data-ttu-id="e144f-132">Weitere Informationen zum Komprimieren und Dekomprimieren von Videostreams finden Sie unter [Video Compression Manager](video-compression-manager.md).</span><span class="sxs-lookup"><span data-stu-id="e144f-132">For information about compressing and decompressing video streams, see [Video Compression Manager](video-compression-manager.md).</span></span> <span data-ttu-id="e144f-133">Informationen zur Komprimierung und Dekomprimierung einzelner Frames in einem Videostream finden Sie unter [Arbeiten mit komprimierten Videodaten in einem Stream](working-with-compressed-video-data-in-a-stream.md).</span><span class="sxs-lookup"><span data-stu-id="e144f-133">For information about compressing and decompressing individual frames in a video stream, see [Working with Compressed Video Data in a Stream](working-with-compressed-video-data-in-a-stream.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e144f-134">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="e144f-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e144f-135">Streamoperationen</span><span class="sxs-lookup"><span data-stu-id="e144f-135">Stream Operations</span></span>](stream-operations.md)
</dt> </dl>

 

 