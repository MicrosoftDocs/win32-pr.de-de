---
title: Geräte und Datentypen
description: Geräte und Datentypen
ms.assetid: 46247983-19c3-4c7a-a615-ba6cd8bd3289
keywords:
- Waveform-Audio, Öffnen von Ausgabegeräten
- Waveform-Audioschnittstelle, Öffnen von Ausgabegeräten
- Öffnen von Waveform-Audio-Ausgabegeräten
- Waveform-Audio, Abfragen von Ausgabegeräten
- Waveform-Audio-Schnittstelle, Abfragen von Ausgabegeräten
- Abfragen von Waveform-Audio-Ausgabegeräten
- Waveform-Audio, Gerätehandles
- Waveform-Audio-Schnittstelle, Gerätehandles
- Waveform-Audio, Gerätebezeichner
- Waveform-Audio-Schnittstelle, Gerätebezeichner
- Waveform-Audio, Ausgabedatentypen
- Waveform-Audio-Schnittstelle, Ausgabedatentypen
- Waveform-Audio, Datenformate
- Waveform-Audio-Schnittstelle,Datenformate
- Schreiben von Waveform-Audiodaten
- Waveform-Audio, Schreiben von Daten
- Waveform-Audio-Schnittstelle, Schreiben von Daten
- PCM-Waveform-Audiodaten
- Waveform-Audio, PCM-Daten
- Waveform-Audio-Schnittstelle, PCM-Daten
- Waveform-Audio, Schließen von Ausgabegeräten
- Waveform-Audio-Schnittstelle, Schließen von Ausgabegeräten
- Schließen von Waveform-Audio-Ausgabegeräten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2abe0c2c20c52f4498316fb619885d41f85e41d6
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120245"
---
# <a name="devices-and-data-types"></a><span data-ttu-id="43985-126">Geräte und Datentypen</span><span class="sxs-lookup"><span data-stu-id="43985-126">Devices and Data Types</span></span>

<span data-ttu-id="43985-127">Dieser Abschnitt beschreibt die Arbeit mit Waveform-Audiogeräten und enthält Informationen zum Öffnen, Schließen und Abfragen ihrer Funktionen.</span><span class="sxs-lookup"><span data-stu-id="43985-127">This section describes working with waveform-audio devices, and includes information on how to open, close and query them for their capabilities.</span></span> <span data-ttu-id="43985-128">Außerdem wird beschrieben, wie Die Geräte in einem System mithilfe von Gerätehandles und Gerätebezeichnern nachverfolgt werden.</span><span class="sxs-lookup"><span data-stu-id="43985-128">It also describes how to keep track of the devices in a system by using device handles and device identifiers.</span></span>

## <a name="opening-waveform-audio-output-devices"></a><span data-ttu-id="43985-129">Öffnen Waveform-Audio Ausgabegeräten</span><span class="sxs-lookup"><span data-stu-id="43985-129">Opening Waveform-Audio Output Devices</span></span>

<span data-ttu-id="43985-130">Verwenden Sie die [**waveOutOpen-Funktion,**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) um ein Waveform-Audio-Ausgabegerät für die Wiedergabe zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="43985-130">Use the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a waveform-audio output device for playback.</span></span> <span data-ttu-id="43985-131">Diese Funktion öffnet das Gerät, das der angegebenen Geräte-ID zugeordnet ist, und gibt ein Handle des geöffneten Geräts zurück, indem das Handle eines angegebenen Speicherorts geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="43985-131">This function opens the device associated with the specified device identifier and returns a handle of the open device by writing the handle of a specified memory location.</span></span>

<span data-ttu-id="43985-132">Einige Multimediacomputer verfügen über mehrere Waveform-Audio-Ausgabegeräte.</span><span class="sxs-lookup"><span data-stu-id="43985-132">Some multimedia computers have multiple waveform-audio output devices.</span></span> <span data-ttu-id="43985-133">Wenn Sie kein bestimmtes Waveform-Audio-Ausgabegerät in einem System öffnen möchten, sollten Sie das WAVE MAPPER-Flag für die Geräte-ID verwenden, wenn Sie \_ ein Gerät öffnen.</span><span class="sxs-lookup"><span data-stu-id="43985-133">Unless you want to open a specific waveform-audio output device in a system, you should use the WAVE\_MAPPER flag for the device identifier when you open a device.</span></span> <span data-ttu-id="43985-134">Die **waveOutOpen-Funktion** wählt das Gerät im System aus, das das angegebene Datenformat am besten wiedererkennen kann.</span><span class="sxs-lookup"><span data-stu-id="43985-134">The **waveOutOpen** function chooses the device in the system that is best able to play the specified data format.</span></span>

## <a name="querying-audio-devices"></a><span data-ttu-id="43985-135">Abfragen von Audiogeräten</span><span class="sxs-lookup"><span data-stu-id="43985-135">Querying Audio Devices</span></span>

<span data-ttu-id="43985-136">Windows stellt die folgenden Funktionen bereit, um zu bestimmen, wie viele Geräte eines bestimmten Typs in einem System verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="43985-136">Windows provides the following functions to determine how many devices of a certain type are available in a system.</span></span>



| <span data-ttu-id="43985-137">Funktion</span><span class="sxs-lookup"><span data-stu-id="43985-137">Function</span></span>                                       | <span data-ttu-id="43985-138">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="43985-138">Description</span></span>                                                                  |
|------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="43985-139">**auxGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="43985-139">**auxGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs)         | <span data-ttu-id="43985-140">Ruft die Anzahl der zusätzlichen Ausgabegeräte ab, die im System vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="43985-140">Retrieves the number of auxiliary output devices present in the system.</span></span>      |
| [<span data-ttu-id="43985-141">**waveInGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="43985-141">**waveInGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)   | <span data-ttu-id="43985-142">Ruft die Anzahl der waveform-audio-Eingabegeräte ab, die im System vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="43985-142">Retrieves the number of waveform-audio input devices present in the system.</span></span>  |
| [<span data-ttu-id="43985-143">**waveOutGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="43985-143">**waveOutGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) | <span data-ttu-id="43985-144">Ruft die Anzahl der waveform-audio-Ausgabegeräte ab, die im System vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="43985-144">Retrieves the number of waveform-audio output devices present in the system.</span></span> |



 

<span data-ttu-id="43985-145">Audiogeräte werden durch eine Geräte-ID identifiziert.</span><span class="sxs-lookup"><span data-stu-id="43985-145">Audio devices are identified by a device identifier.</span></span> <span data-ttu-id="43985-146">Der Gerätebezeichner wird implizit anhand der Anzahl von Geräten bestimmt, die in einem System vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="43985-146">The device identifier is determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="43985-147">Gerätebezeichner reichen von 0 bis 1 kleiner als die Anzahl vorhandener Geräte.</span><span class="sxs-lookup"><span data-stu-id="43985-147">Device identifiers range from zero to one less than the number of devices present.</span></span> <span data-ttu-id="43985-148">Wenn beispielsweise zwei Waveform-Audio-Ausgabegeräte in einem System enthalten sind, sind die gültigen Gerätebezeichner 0 und 1.</span><span class="sxs-lookup"><span data-stu-id="43985-148">For example, if there are two waveform-audio output devices in a system, valid device identifiers are 0 and 1.</span></span>

<span data-ttu-id="43985-149">Nachdem Sie ermittelt haben, wie viele Geräte eines bestimmten Typs in einem System vorhanden sind, können Sie eine der folgenden Funktionen verwenden, um die Funktionen der einzelnen Geräte abfragt.</span><span class="sxs-lookup"><span data-stu-id="43985-149">After you determine how many devices of a certain type are present in a system, you can use one of the following functions to query the capabilities of each device.</span></span>



| <span data-ttu-id="43985-150">Funktion</span><span class="sxs-lookup"><span data-stu-id="43985-150">Function</span></span>                                       | <span data-ttu-id="43985-151">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="43985-151">Description</span></span>                                                             |
|------------------------------------------------|-------------------------------------------------------------------------|
| [<span data-ttu-id="43985-152">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="43985-152">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | <span data-ttu-id="43985-153">Ruft die Funktionen eines angegebenen Hilfsausgabegeräts ab.</span><span class="sxs-lookup"><span data-stu-id="43985-153">Retrieves the capabilities of a specified auxiliary output device.</span></span>      |
| [<span data-ttu-id="43985-154">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="43985-154">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | <span data-ttu-id="43985-155">Ruft die Funktionen eines angegebenen Waveform-Audio-Eingabegeräts ab.</span><span class="sxs-lookup"><span data-stu-id="43985-155">Retrieves the capabilities of a specified waveform-audio input device.</span></span>  |
| [<span data-ttu-id="43985-156">**waveOutGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="43985-156">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | <span data-ttu-id="43985-157">Ruft die Funktionen eines angegebenen Waveform-Audio-Ausgabegeräts ab.</span><span class="sxs-lookup"><span data-stu-id="43985-157">Retrieves the capabilities of a specified waveform-audio output device.</span></span> |



 

<span data-ttu-id="43985-158">Jede dieser Funktionen füllt eine -Struktur mit Informationen über die Funktionen eines angegebenen Geräts.</span><span class="sxs-lookup"><span data-stu-id="43985-158">Each of these functions fills a structure with information about the capabilities of a specified device.</span></span> <span data-ttu-id="43985-159">In der folgenden Tabelle sind die Strukturen aufgeführt, die den einzelnen Funktionen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="43985-159">The following table lists the structures that correspond to each of these functions.</span></span>



|  <span data-ttu-id="43985-160">Funktion</span><span class="sxs-lookup"><span data-stu-id="43985-160">Function</span></span>                                              |  <span data-ttu-id="43985-161">Struktur</span><span class="sxs-lookup"><span data-stu-id="43985-161">Structure</span></span>                                  |
|------------------------------------------------|------------------------------------|
| [<span data-ttu-id="43985-162">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="43985-162">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | [<span data-ttu-id="43985-163">**AUXCAPS**</span><span class="sxs-lookup"><span data-stu-id="43985-163">**AUXCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-auxcaps)         |
| [<span data-ttu-id="43985-164">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="43985-164">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | [<span data-ttu-id="43985-165">**WAVEINCAPS**</span><span class="sxs-lookup"><span data-stu-id="43985-165">**WAVEINCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveincaps)   |
| [<span data-ttu-id="43985-166">**waveOutGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="43985-166">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | [<span data-ttu-id="43985-167">**WAVEOUTCAPS**</span><span class="sxs-lookup"><span data-stu-id="43985-167">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) |



 

<span data-ttu-id="43985-168">Standardformate werden im **dwFormats-Member** der **WAVEOUTCAPS-Struktur** aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="43985-168">Standard formats are listed in the **dwFormats** member of the **WAVEOUTCAPS** structure.</span></span> <span data-ttu-id="43985-169">Waveform-Audio-Geräte können nicht standardmäßige Formate unterstützen.</span><span class="sxs-lookup"><span data-stu-id="43985-169">Waveform-audio devices can support nonstandard formats.</span></span> <span data-ttu-id="43985-170">Um zu bestimmen, ob ein bestimmtes Format (Standard oder Nichtstandard) von einem Gerät unterstützt wird, können Sie die [**waveOutOpen-Funktion**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) mit dem WAVE \_ FORMAT \_ QUERY-Flag aufrufen.</span><span class="sxs-lookup"><span data-stu-id="43985-170">To determine whether a particular format (standard or nonstandard) is supported by a device, you can call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function with the WAVE\_FORMAT\_QUERY flag.</span></span> <span data-ttu-id="43985-171">Dieses Flag öffnet das Gerät nicht.</span><span class="sxs-lookup"><span data-stu-id="43985-171">This flag does not open the device.</span></span> <span data-ttu-id="43985-172">Sie geben das in Frage stellende Format in der [**WAVEFORMATEX-Struktur**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) an, auf die durch den *pwfx-Parameter* verwiesen wird, der an **waveOutOpen übergeben wird.**</span><span class="sxs-lookup"><span data-stu-id="43985-172">You specify the format in question in the [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure pointed to by the *pwfx* parameter passed to **waveOutOpen**.</span></span>

<span data-ttu-id="43985-173">Waveform-Audio-Ausgabegeräte unterscheiden sich in den unterstützten Funktionen.</span><span class="sxs-lookup"><span data-stu-id="43985-173">Waveform-audio output devices vary in the capabilities they support.</span></span> <span data-ttu-id="43985-174">Das **dwSupport-Member** der [**WAVEOUTCAPS-Struktur**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) gibt an, ob ein Gerät Funktionen wie Volumen- und Tonhöhenänderungen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="43985-174">The **dwSupport** member of the [**WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) structure indicates whether a device supports such capabilities as volume and pitch changes.</span></span>

## <a name="device-handles-and-device-identifiers"></a><span data-ttu-id="43985-175">Gerätehandles und Gerätebezeichner</span><span class="sxs-lookup"><span data-stu-id="43985-175">Device Handles and Device Identifiers</span></span>

<span data-ttu-id="43985-176">Jede Funktion, die ein Audiogerät öffnet, gibt einen Gerätebezeichner, einen Zeiger auf einen Speicherort und einige Parameter an, die für jeden Gerätetyp eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="43985-176">Each function that opens an audio device specifies a device identifier, a pointer to a memory location, and some parameters that are unique to each type of device.</span></span> <span data-ttu-id="43985-177">Der Speicherort wird mit einem Gerätehandpunkt gefüllt.</span><span class="sxs-lookup"><span data-stu-id="43985-177">The memory location is filled with a device handle.</span></span> <span data-ttu-id="43985-178">Verwenden Sie dieses Gerätehand handle, um das geöffnete Audiogerät beim Aufrufen anderer Audiofunktionen zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="43985-178">Use this device handle to identify the open audio device when calling other audio functions.</span></span>

<span data-ttu-id="43985-179">Der Unterschied zwischen Bezeichnern und Handles für Audiogeräte ist dezent, aber wichtig:</span><span class="sxs-lookup"><span data-stu-id="43985-179">The difference between identifiers and handles for audio devices is subtle but important:</span></span>

-   <span data-ttu-id="43985-180">Gerätebezeichner werden implizit anhand der Anzahl der geräte in einem System bestimmt.</span><span class="sxs-lookup"><span data-stu-id="43985-180">Device identifiers are determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="43985-181">Diese Zahl wird mithilfe der [**Funktion auxGetNumDevs,**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs) [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)oder [**waveOutGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) ermittelt.</span><span class="sxs-lookup"><span data-stu-id="43985-181">This number is obtained by using the [**auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs), or [**waveOutGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) function.</span></span>
-   <span data-ttu-id="43985-182">Gerätehandles werden zurückgegeben, wenn Gerätetreiber mithilfe der [**WaveInOpen-**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) oder [**waveOutOpen-Funktion geöffnet**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) werden.</span><span class="sxs-lookup"><span data-stu-id="43985-182">Device handles are returned when device drivers are opened by using the [**waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) or [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function.</span></span>

<span data-ttu-id="43985-183">Es gibt keine Funktionen, die zusätzliche Audiogeräte öffnen oder schließen.</span><span class="sxs-lookup"><span data-stu-id="43985-183">There are no functions that open or close auxiliary audio devices.</span></span> <span data-ttu-id="43985-184">Zusätzliche Audiogeräte müssen nicht wie Waveform-Audiogeräte geöffnet und geschlossen werden, da ihnen keine kontinuierliche Datenübertragung zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="43985-184">Auxiliary audio devices need not be opened and closed like waveform-audio devices because there is no continuous data transfer associated with them.</span></span> <span data-ttu-id="43985-185">Alle zusätzlichen Audiofunktionen verwenden Gerätebezeichner, um Geräte zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="43985-185">All auxiliary audio functions use device identifiers to identify devices.</span></span>

## <a name="waveform-audio-output-data-types"></a><span data-ttu-id="43985-186">Waveform-Audio Ausgabedatentypen</span><span class="sxs-lookup"><span data-stu-id="43985-186">Waveform-Audio Output Data Types</span></span>

<span data-ttu-id="43985-187">Die folgenden Datentypen sind für Waveform-Audio-Ausgabefunktionen definiert.</span><span class="sxs-lookup"><span data-stu-id="43985-187">The following data types are defined for waveform-audio output functions.</span></span>



| <span data-ttu-id="43985-188">Typ</span><span class="sxs-lookup"><span data-stu-id="43985-188">Type</span></span>                                 | <span data-ttu-id="43985-189">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="43985-189">Description</span></span>                                                                                                                                                   |
|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="43985-190">**HWAVEOUT**</span><span class="sxs-lookup"><span data-stu-id="43985-190">**HWAVEOUT**</span></span>                         | <span data-ttu-id="43985-191">Handle für ein offenes Waveform-Audio-Ausgabegerät.</span><span class="sxs-lookup"><span data-stu-id="43985-191">Handle to an open waveform-audio output device.</span></span>                                                                                                               |
| [<span data-ttu-id="43985-192">**WAVEFORMATEX**</span><span class="sxs-lookup"><span data-stu-id="43985-192">**WAVEFORMATEX**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) | <span data-ttu-id="43985-193">Struktur, die die Datenformate angibt, die von einem bestimmten Waveform-Audio-Eingabegerät unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="43985-193">Structure that specifies the data formats supported by a particular waveform-audio input device.</span></span> <span data-ttu-id="43985-194">Diese Struktur wird auch für Waveform-Audioeingabegeräte verwendet.</span><span class="sxs-lookup"><span data-stu-id="43985-194">This structure is also usedfor waveform-audio input devices.</span></span> |
| [<span data-ttu-id="43985-195">**WAVEHDR**</span><span class="sxs-lookup"><span data-stu-id="43985-195">**WAVEHDR**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr)           | <span data-ttu-id="43985-196">Struktur, die als Header für einen Block von Wellenform-Audio-Eingabedaten verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="43985-196">Structure used as a header for a block of waveform-audio input data.</span></span> <span data-ttu-id="43985-197">Diese Struktur wird auch für Waveform-Audioeingabegeräte verwendet.</span><span class="sxs-lookup"><span data-stu-id="43985-197">This structure is also used for waveform-audio input devices.</span></span>                            |
| [<span data-ttu-id="43985-198">**WAVEOUTCAPS**</span><span class="sxs-lookup"><span data-stu-id="43985-198">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps)   | <span data-ttu-id="43985-199">Struktur, die zum Abfragen der Funktionen eines bestimmten Waveform-Audioausgabegeräts verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="43985-199">Structure used to query the capabilities of a particular waveform-audio output device.</span></span>                                                                        |



 

## <a name="specifying-waveform-audio-data-formats"></a><span data-ttu-id="43985-200">Angeben Waveform-Audio Datenformate</span><span class="sxs-lookup"><span data-stu-id="43985-200">Specifying Waveform-Audio Data Formats</span></span>

<span data-ttu-id="43985-201">Wenn Sie die [**waveOutOpen-Funktion**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) aufrufen, um einen Gerätetreiber für die Wiedergabe zu öffnen oder abzufragen, ob der Treiber ein bestimmtes Datenformat unterstützt, verwenden Sie den *pwfx-Parameter,* um einen Zeiger auf eine [**WAVEFORMATEX-Struktur**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) anzugeben, die das angeforderte Waveform-Audio-Datenformat enthält.</span><span class="sxs-lookup"><span data-stu-id="43985-201">When you call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a device driver for playback or to query whether the driver supports a particular data format, use the *pwfx* parameter to specify a pointer to a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure containing the requested waveform-audio data format.</span></span> <span data-ttu-id="43985-202">**WAVEFORMATEX** ersetzt die [**WAVEFORMAT-**](/windows/win32/api/mmreg/ns-mmreg-waveformat) und [**PCMWAVEFORMAT-Strukturen.**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat)</span><span class="sxs-lookup"><span data-stu-id="43985-202">**WAVEFORMATEX** supersedes the [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) and [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structures.</span></span>

<span data-ttu-id="43985-203">Für Audiodaten, die in mehr als zwei Kanäle unterteilt sind oder eine Stichprobengröße haben, die kein Vielfaches von 8 ist, sollten Sie [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible)verwenden.</span><span class="sxs-lookup"><span data-stu-id="43985-203">For audio data that is separated into more than two channels or has a sample size that is not a multiple of 8, you should use [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span> <span data-ttu-id="43985-204">Diese Struktur konfiguriert einfach die zusätzlichen Bytes, auf die der **cbSize-Member** von **WAVEFORMATEX** zeigt, um zusätzliche Informationen zum Format zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="43985-204">This structure simply configures the extra bytes pointed to by the **cbSize** member of **WAVEFORMATEX** to give extra information about the format.</span></span> <span data-ttu-id="43985-205">**WAVEFORMATEXTENSIBLE** kann in **WAVEFORMATEX** umgecastet werden.</span><span class="sxs-lookup"><span data-stu-id="43985-205">**WAVEFORMATEXTENSIBLE** can be cast as **WAVEFORMATEX**.</span></span>

<span data-ttu-id="43985-206">Es gibt auch zwei Zwischenablageformate, die Sie zur Darstellung von Audiodaten verwenden können: CF \_ WAVE und CF \_ DATEIFORMAT.</span><span class="sxs-lookup"><span data-stu-id="43985-206">There are also two clipboard formats you can use to represent audio data: CF\_WAVE and CF\_RIFF.</span></span> <span data-ttu-id="43985-207">Verwenden Sie das CF \_ WAVE-Format, um Daten in einem der Standardformate darzustellen, z. B. 11 kHz oder 22 kHz PCM.</span><span class="sxs-lookup"><span data-stu-id="43985-207">Use the CF\_WAVE format to represent data in one of the standard formats, such as 11 kHz or 22 kHz PCM.</span></span> <span data-ttu-id="43985-208">Verwenden Sie das CF \_ DATEIFORMAT-Format, um komplexere Datenformate darzustellen, die nicht als Standard-Waveform-Audiodateien dargestellt werden können.</span><span class="sxs-lookup"><span data-stu-id="43985-208">Use the CF\_RIFF format to represent more complex data formats that cannot be represented as standard waveform-audio files.</span></span>

## <a name="writing-waveform-audio-data"></a><span data-ttu-id="43985-209">Schreiben Waveform-Audio Daten</span><span class="sxs-lookup"><span data-stu-id="43985-209">Writing Waveform-Audio Data</span></span>

<span data-ttu-id="43985-210">Nachdem Sie einen Waveform-Audio-Ausgabegerätetreiber erfolgreich geöffnet haben, können Sie mit der Wiedergabe eines Sounds beginnen.</span><span class="sxs-lookup"><span data-stu-id="43985-210">After successfully opening a waveform-audio output device driver, you can begin playing a sound.</span></span> <span data-ttu-id="43985-211">Windows stellt die [**waveOutWrite-Funktion**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) zum Senden von Datenblöcken an Waveform-Audio-Ausgabegeräte bereit.</span><span class="sxs-lookup"><span data-stu-id="43985-211">Windows provides the [**waveOutWrite**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) function for sending data blocks to waveform-audio output devices.</span></span>

<span data-ttu-id="43985-212">Verwenden Sie die [**WAVEHDR-Struktur,**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) um den waveform-audio-Datenblock anzugeben, den Sie mit **waveOutWrite** senden.</span><span class="sxs-lookup"><span data-stu-id="43985-212">Use the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure to specify the waveform-audio data block you are sending using **waveOutWrite**.</span></span> <span data-ttu-id="43985-213">Diese Struktur enthält einen Zeiger auf einen gesperrten Datenblock, die Länge des Datenblocks und einige Flags.</span><span class="sxs-lookup"><span data-stu-id="43985-213">This structure contains a pointer to a locked data block, the length of the data block, and some flags.</span></span> <span data-ttu-id="43985-214">Dieser Datenblock muss vorbereitet werden, bevor Sie ihn verwenden. Informationen zum Vorbereiten eines Datenblocks finden Sie unter [Audiodatenblöcke.](audio-data-blocks.md)</span><span class="sxs-lookup"><span data-stu-id="43985-214">This data block must be prepared before you use it; for information about preparing a data block, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

<span data-ttu-id="43985-215">Nachdem Sie einen Datenblock mit **waveOutWrite** an ein Ausgabegerät gesendet haben, müssen Sie warten, bis der Gerätetreiber mit dem Datenblock fertig ist, bevor Sie ihn freigeben.</span><span class="sxs-lookup"><span data-stu-id="43985-215">After you send a data block to an output device by using **waveOutWrite**, you must wait until the device driver is finished with the data block before freeing it.</span></span> <span data-ttu-id="43985-216">Wenn Sie mehrere Datenblöcke senden, müssen Sie die Vervollständigung von Datenblöcken überwachen, um zu wissen, wann zusätzliche Blöcke gesendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="43985-216">If you are sending multiple data blocks, you must monitor the completion of data blocks to know when to send additional blocks.</span></span> <span data-ttu-id="43985-217">Weitere Informationen zu Datenblöcken finden Sie unter [Audiodatenblöcke.](audio-data-blocks.md)</span><span class="sxs-lookup"><span data-stu-id="43985-217">For more information about data blocks, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

## <a name="pcm-waveform-audio-data-format"></a><span data-ttu-id="43985-218">PCM Waveform-Audio-Datenformat</span><span class="sxs-lookup"><span data-stu-id="43985-218">PCM Waveform-Audio Data Format</span></span>

<span data-ttu-id="43985-219">Der **lpData-Member** der [**WAVEHDR-Struktur**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) verweist auf die Waveform-Audio-Datenbeispiele.</span><span class="sxs-lookup"><span data-stu-id="43985-219">The **lpData** member of the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure pointsetts to the waveform-audio data samples.</span></span> <span data-ttu-id="43985-220">Für 8-Bit-PCM-Daten wird jedes Beispiel durch ein einzelnes Byte ohne Vorzeichen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="43985-220">For 8-bit PCM data, each sample is represented by a single unsigned data byte.</span></span> <span data-ttu-id="43985-221">Bei 16-Bit-PCM-Daten wird jedes Beispiel durch einen 16-Bit-Wert mit Vorzeichen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="43985-221">For 16-bit PCM data, each sample is represented by a 16-bit signed value.</span></span> <span data-ttu-id="43985-222">In der folgenden Tabelle werden die maximalen, minimalen und mittleren Werte für PCM Waveform-Audio-Daten zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="43985-222">The following table summarizes the maximum, minimum, and midpoint values for PCM waveform-audio data.</span></span>



| <span data-ttu-id="43985-223">Datenformat</span><span class="sxs-lookup"><span data-stu-id="43985-223">Data format</span></span> | <span data-ttu-id="43985-224">Maximalwert</span><span class="sxs-lookup"><span data-stu-id="43985-224">Maximum value</span></span>   | <span data-ttu-id="43985-225">Minimalwert</span><span class="sxs-lookup"><span data-stu-id="43985-225">Minimum value</span></span>    | <span data-ttu-id="43985-226">Mittelpunktwert</span><span class="sxs-lookup"><span data-stu-id="43985-226">Midpoint value</span></span> |
|-------------|-----------------|------------------|----------------|
| <span data-ttu-id="43985-227">8-Bit-PCM</span><span class="sxs-lookup"><span data-stu-id="43985-227">8-bit PCM</span></span>   | <span data-ttu-id="43985-228">255 (0xFF)</span><span class="sxs-lookup"><span data-stu-id="43985-228">255 (0xFF)</span></span>      | <span data-ttu-id="43985-229">0</span><span class="sxs-lookup"><span data-stu-id="43985-229">0</span></span>                | <span data-ttu-id="43985-230">128 (0x80)</span><span class="sxs-lookup"><span data-stu-id="43985-230">128 (0x80)</span></span>     |
| <span data-ttu-id="43985-231">16-Bit-PCM</span><span class="sxs-lookup"><span data-stu-id="43985-231">16-bit PCM</span></span>  | <span data-ttu-id="43985-232">32.767 (0x7FFF)</span><span class="sxs-lookup"><span data-stu-id="43985-232">32,767 (0x7FFF)</span></span> | <span data-ttu-id="43985-233">–32.768 (0x8000)</span><span class="sxs-lookup"><span data-stu-id="43985-233">–32,768 (0x8000)</span></span> | <span data-ttu-id="43985-234">0</span><span class="sxs-lookup"><span data-stu-id="43985-234">0</span></span>              |



 

## <a name="pcm-data-packing"></a><span data-ttu-id="43985-235">PCM-Datenpacken</span><span class="sxs-lookup"><span data-stu-id="43985-235">PCM Data Packing</span></span>

<span data-ttu-id="43985-236">Die Reihenfolge der Datenbytes variiert zwischen 8-Bit- und 16-Bit-Formaten sowie zwischen Mono- und Stereoformaten.</span><span class="sxs-lookup"><span data-stu-id="43985-236">The order of the data bytes varies between 8-bit and 16-bit formats and between mono and stereo formats.</span></span> <span data-ttu-id="43985-237">In der folgenden Liste wird das Packen von Daten für die verschiedenen PCM-Waveform-Audio-Datenformate beschrieben.</span><span class="sxs-lookup"><span data-stu-id="43985-237">The following list describes data packing for the different PCM waveform-audio data formats.</span></span>



| <span data-ttu-id="43985-238">PCM-Waveform-Audioformat</span><span class="sxs-lookup"><span data-stu-id="43985-238">PCM waveform-audio format</span></span> | <span data-ttu-id="43985-239">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="43985-239">Description</span></span>                                                                                                                                                                                                                                                                                                                                     |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="43985-240">8-Bit-Mono</span><span class="sxs-lookup"><span data-stu-id="43985-240">8-bit mono</span></span>                | <span data-ttu-id="43985-241">Jedes Beispiel ist 1 Byte, das einem einzelnen Audiokanal entspricht.</span><span class="sxs-lookup"><span data-stu-id="43985-241">Each sample is 1 byte that corresponds to a single audio channel.</span></span> <span data-ttu-id="43985-242">Auf Beispiel 1 folgen die Beispiele 2, 3, 4 usw.</span><span class="sxs-lookup"><span data-stu-id="43985-242">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="43985-243">8-Bit-Stereo</span><span class="sxs-lookup"><span data-stu-id="43985-243">8-bit stereo</span></span>              | <span data-ttu-id="43985-244">Jedes Beispiel ist 2 Bytes.</span><span class="sxs-lookup"><span data-stu-id="43985-244">Each sample is 2 bytes.</span></span> <span data-ttu-id="43985-245">Auf Beispiel 1 folgen die Beispiele 2, 3, 4 usw.</span><span class="sxs-lookup"><span data-stu-id="43985-245">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="43985-246">Für jedes Beispiel ist das erste Byte Kanal 0 (der linke Kanal) und das zweite Byte Kanal 1 (der rechte Kanal).</span><span class="sxs-lookup"><span data-stu-id="43985-246">For each sample, the first byte is channel 0 (the left channel) and the second byte is channel 1 (the right channel).</span></span>                                                                                                                                               |
| <span data-ttu-id="43985-247">16-Bit-Mono</span><span class="sxs-lookup"><span data-stu-id="43985-247">16-bit mono</span></span>               | <span data-ttu-id="43985-248">Jedes Beispiel ist 2 Bytes.</span><span class="sxs-lookup"><span data-stu-id="43985-248">Each sample is 2 bytes.</span></span> <span data-ttu-id="43985-249">Auf Beispiel 1 folgen die Beispiele 2, 3, 4 usw.</span><span class="sxs-lookup"><span data-stu-id="43985-249">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="43985-250">Für jedes Beispiel ist das erste Byte das Low-Order-Byte des Kanals 0 und das zweite Byte das hochwertige Byte des Kanals 0.</span><span class="sxs-lookup"><span data-stu-id="43985-250">For each sample, the first byte is the low-order byte of channel 0 and the second byte is the high-order byte of channel 0.</span></span>                                                                                                                                         |
| <span data-ttu-id="43985-251">16-Bit-Stereo</span><span class="sxs-lookup"><span data-stu-id="43985-251">16-bit stereo</span></span>             | <span data-ttu-id="43985-252">Jedes Beispiel ist 4 Bytes.</span><span class="sxs-lookup"><span data-stu-id="43985-252">Each sample is 4 bytes.</span></span> <span data-ttu-id="43985-253">Auf Beispiel 1 folgen die Beispiele 2, 3, 4 usw.</span><span class="sxs-lookup"><span data-stu-id="43985-253">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="43985-254">Für jedes Beispiel ist das erste Byte das Low-Order-Byte des Kanals 0 (linker Kanal). Das zweite Byte ist das höher geordnete Byte des Kanals 0. das dritte Byte ist das Low-Order-Byte von Kanal 1 (rechter Kanal); und das vierte Byte ist das hohe Byte des Kanals 1.</span><span class="sxs-lookup"><span data-stu-id="43985-254">For each sample, the first byte is the low-order byte of channel 0 (left channel); the second byte is the high-order byte of channel 0; the third byte is the low-order byte of channel 1 (right channel); and the fourth byte is the high-order byte of channel 1.</span></span> |
| <span data-ttu-id="43985-255">Sonstige</span><span class="sxs-lookup"><span data-stu-id="43985-255">Others</span></span>                    | <span data-ttu-id="43985-256">Jedes Beispiel ist in einem Block enthalten, der ein Vielfaches von 4 Bytes ist, aber die Stichproben können nicht bytebündig ausgerichtet sein.</span><span class="sxs-lookup"><span data-stu-id="43985-256">Each sample is contained in a block that is a multiple of 4 bytes, but the samples may be non-byte-aligned.</span></span> <span data-ttu-id="43985-257">Die Anordnung von Kanälen wird durch eine Maske angegeben.</span><span class="sxs-lookup"><span data-stu-id="43985-257">The arrangement of channels is specified by a mask.</span></span> <span data-ttu-id="43985-258">Weitere Informationen finden Sie unter [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span><span class="sxs-lookup"><span data-stu-id="43985-258">For more information, see [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span>                                                                                                 |



 

## <a name="closing-waveform-audio-output-devices"></a><span data-ttu-id="43985-259">Schließen von Waveform-Audio Ausgabegeräten</span><span class="sxs-lookup"><span data-stu-id="43985-259">Closing Waveform-Audio Output Devices</span></span>

<span data-ttu-id="43985-260">Nachdem die Wiedergabe von Waveform-Audio abgeschlossen ist, rufen Sie [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) auf, um das Ausgabegerät zu schließen.</span><span class="sxs-lookup"><span data-stu-id="43985-260">After waveform-audio playback is complete, call [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) to close the output device.</span></span> <span data-ttu-id="43985-261">Wenn **waveOutClose** aufgerufen wird, während eine Waveform-Audiodatei wiedergegeben wird, schlägt der Schließvorgang fehl, und die Funktion gibt einen Fehlercode zurück, der angibt, dass das Gerät nicht geschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="43985-261">If **waveOutClose** is called while a waveform-audio file is playing, the close operation fails and the function returns an error code indicating that the device was not closed.</span></span> <span data-ttu-id="43985-262">Wenn Sie nicht warten möchten, bis die Wiedergabe beendet ist, bevor Sie das Gerät schließen, rufen Sie die [**waveOutReset-Funktion**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) vor dem Schließen auf.</span><span class="sxs-lookup"><span data-stu-id="43985-262">If you do not want to wait for playback to end before closing the device, call the [**waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) function before closing.</span></span> <span data-ttu-id="43985-263">Dadurch wird die Wiedergabe beendet, und das Gerät kann geschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="43985-263">This ends playback and allows the device to be closed.</span></span> <span data-ttu-id="43985-264">Achten Sie darauf, die [**WaveOutUnprepareHeader-Funktion**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) zu verwenden, um die Vorbereitung für alle Datenblöcke zu bereinigen, bevor Sie das Gerät schließen.</span><span class="sxs-lookup"><span data-stu-id="43985-264">Be sure to use the [**waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) function to clean up the preparation on all data blocks before closing the device.</span></span>

 

 