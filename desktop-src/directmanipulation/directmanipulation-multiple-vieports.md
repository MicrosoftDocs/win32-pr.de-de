---
description: Wenn Sie mehrere Viewports verwenden, bestimmt Treffer testing, welche Viewports von der Benutzereingabe betroffen sind, indem die Bildschirmposition eines Kontakts übernommen wird und festgelegt wird, auf welches viewportrechteck der Kontakt trifft.
ms.assetid: 960EF92D-F439-4A84-AAF9-1469E2830573
title: Verwenden mehrerer Viewports in directmanipulation
ms.topic: article
ms.date: 02/03/2020
ms.openlocfilehash: 627a97a7c9563ca0af9decf79b18340343dda345
ms.sourcegitcommit: 3d718d8f69d3f86eaecf94c5705d761c5a9ef4a1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/20/2020
ms.locfileid: "104562590"
---
# <a name="using-multiple-viewports-in-directmanipulation"></a><span data-ttu-id="ca297-103">Verwenden mehrerer Viewports in directmanipulation</span><span class="sxs-lookup"><span data-stu-id="ca297-103">Using multiple viewports in DirectManipulation</span></span>

<span data-ttu-id="ca297-104">Bei Verwendung mehrerer Viewports bestimmt der *Treffer Test*, welche Viewports von der Benutzereingabe betroffen sind, indem die Bildschirmposition eines Kontakts übernommen wird und festgelegt wird, welches viewportrechteck der Kontakt trifft.</span><span class="sxs-lookup"><span data-stu-id="ca297-104">When using multiple viewports, *Hit testing* determines which viewport(s) are affected by user input by taking the screen location of a contact and determining which viewport rectangle the contact hits.</span></span>

<span data-ttu-id="ca297-105">Ein häufiges Szenario bei [direkter Bearbeitung](direct-manipulation-portal.md) besteht darin, einen Viewport in einen anderen anzuzeigen, der auch als Schachtelung von *Viewports* bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="ca297-105">A common scenario in [Direct Manipulation](direct-manipulation-portal.md) is to place one viewport inside another, also known as *nesting viewports*.</span></span> <span data-ttu-id="ca297-106">Wenn der Kontakt mehr als einen Viewport erreicht, bestimmt die Reihenfolge von  [**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) -aufrufen durch den [*WndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)) des Fensters die über-/Unterordnungsbeziehung der Kartenviewports.</span><span class="sxs-lookup"><span data-stu-id="ca297-106">If the contact hits more than one viewport, the order of  [**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) calls by the window's [*WndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)) determines the parent-child relationship of the nested viewports.</span></span>

<span data-ttu-id="ca297-107">Rule: das untergeordnete Element muss [**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact)aufrufen, bevor das übergeordnete Element aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ca297-107">Rule: The child element should call [**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact)before calling the parent.</span></span>

![Diagramm mit der Hierarchie von Treffer Tests](images/dm-art-8.png)

<span data-ttu-id="ca297-109">Ein Kontakt wird in einem Viewport angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ca297-109">A contact comes down in a viewport.</span></span> <span data-ttu-id="ca297-110">[**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) sollte zuerst für den orangefarbenen (untergeordneten) Viewport und dann den grünen (übergeordneten) Viewport aufgerufen werden, um die richtige Hierarchie einzurichten.</span><span class="sxs-lookup"><span data-stu-id="ca297-110">[**SetContact**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setcontact) should first be called on the orange (child) viewport and then the green (parent) viewport to establish the correct hierarchy.</span></span>

## <a name="targeting-the-correct-viewport"></a><span data-ttu-id="ca297-111">Ziel des richtigen Viewports</span><span class="sxs-lookup"><span data-stu-id="ca297-111">Targeting the correct viewport</span></span>

<span data-ttu-id="ca297-112">Ein Kontakt kann einer beliebigen Anzahl von Viewports zugeordnet werden, und jeder Kontakt kann einem anderen Satz von Viewports zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="ca297-112">A contact can be associated with any number of viewports and each contact can be assigned to a different set of viewports.</span></span>

<span data-ttu-id="ca297-113">Jeder Viewport kann so konfiguriert werden, dass er nach Bedarf bestimmte Interaktionen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ca297-113">Each viewport can be configured to support specific interactions, as required.</span></span>

<span data-ttu-id="ca297-114">Basierend auf diesen Einstellungen identifiziert die [direkte Bearbeitung](direct-manipulation-portal.md) , welcher Viewport die Eingabe behandelt.</span><span class="sxs-lookup"><span data-stu-id="ca297-114">Based on these settings, [Direct Manipulation](direct-manipulation-portal.md) identifies which viewport handles the input.</span></span> <span data-ttu-id="ca297-115">Der untergeordnete-Viewport in der Treffer Test Hierarchie hat die erste Möglichkeit, die Eingabe zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="ca297-115">The child-most viewport in the hit testing hierarchy has the first chance to handle the input.</span></span> <span data-ttu-id="ca297-116">Die Verkettung und die übergeordnete herauf Stufung können jedoch ändern, welcher Viewport die Eingabe behandelt.</span><span class="sxs-lookup"><span data-stu-id="ca297-116">However, both chaining and parent promotion can change which viewport handles the input.</span></span>

## <a name="chaining"></a><span data-ttu-id="ca297-117">Verketten</span><span class="sxs-lookup"><span data-stu-id="ca297-117">Chaining</span></span>

<span data-ttu-id="ca297-118">Wenn das Ende des Inhalts während einer Bearbeitung erreicht wird, wendet die [direkte Manipulation](direct-manipulation-portal.md) einen Begrenzungs Effekt an, um anzugeben, dass der Inhalt nicht mehr fortfahren kann.</span><span class="sxs-lookup"><span data-stu-id="ca297-118">When the end of the content is reached during a manipulation, [Direct Manipulation](direct-manipulation-portal.md) applies a boundary effect to indicate that the content can go no further.</span></span> <span data-ttu-id="ca297-119">Wenn jedoch ein untergeordneter Viewport mit einem übergeordneten Viewport *verkettet* ist, wird dieser Effekt unterdrückt.</span><span class="sxs-lookup"><span data-stu-id="ca297-119">However, if a child viewport is *chained* to a parent viewport, this effect is suppressed.</span></span> <span data-ttu-id="ca297-120">Stattdessen verarbeitet der nächste übergeordnete Viewport in der Treffer Test Hierarchie, die die Bearbeitung unterstützt, die Eingabe.</span><span class="sxs-lookup"><span data-stu-id="ca297-120">Instead, the closest ancestor viewport in the hit testing hierarchy that supports the manipulation, handles the input.</span></span> <span data-ttu-id="ca297-121">Wenn die Bearbeitungsrichtung umgekehrt wird, sodass der Vorgänger zu dem Punkt zurückkehrt, an dem die Verkettung ausgelöst wurde, wird die Manipulation "Unchain" und die Steuerung an den untergeordneten Viewport zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="ca297-121">If the direction of the manipulation is reversed such that the ancestor returns to the point where chaining was triggered, the manipulation "unchains" and control transfers back to the child viewport.</span></span>

![Diagramm mit verketteter Bearbeitung](images/dm-art-9.png)

<span data-ttu-id="ca297-123">Wenn der Benutzer den untergeordneten Viewport bis zum Rand des Inhalts anbricht, wird die Bearbeitung an den übergeordneten Viewport durchlaufen, und der Benutzer beginnt, stattdessen den übergeordneten Inhalt zu schwenken.</span><span class="sxs-lookup"><span data-stu-id="ca297-123">When the user pans the child viewport all the way to the edge of the content, the manipulation "chains" to the parent viewport, and the user begins panning the parent content instead.</span></span>

> [!Note]  
> <span data-ttu-id="ca297-124">Die x-und Y-Achsen Kette unabhängig voneinander. Wenn also eine diagonal-Pan die x-Grenze vor der Y-Grenze erreicht, verschiebt die Manipulation das übergeordnete Element in der x-Richtung, während das untergeordnete Element in Y-Richtung verschoben wird.</span><span class="sxs-lookup"><span data-stu-id="ca297-124">The X and Y axes chain independently of one another, so if a diagonal pan hits the x boundary before the y boundary, the manipulation moves the parent in the x direction while continuing to move the child in the y direction.</span></span> <span data-ttu-id="ca297-125">Um die Verkettung zu aktivieren oder zu deaktivieren, müssen Sie die [**setchaining**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setchaining) -API für den untergeordneten Viewport aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ca297-125">To enable or disable chaining, call the [**SetChaining**](/windows/win32/api/DirectManipulation/nf-directmanipulation-idirectmanipulationviewport-setchaining) API on the child viewport.</span></span>

### <a name="rails"></a><span data-ttu-id="ca297-126">Ränge</span><span class="sxs-lookup"><span data-stu-id="ca297-126">Rails</span></span>

<span data-ttu-id="ca297-127">Das Angeben von Rails in der Konfiguration eines Viewports wirkt sich darauf aus, wie Eingaben vom Viewport verkettet werden.</span><span class="sxs-lookup"><span data-stu-id="ca297-127">Specifying rails in a viewport’s configuration affects the way input is chained from the viewport.</span></span> <span data-ttu-id="ca297-128">Vor allem kann die Eingabe nicht von einem Raten untergeordneten Viewport zu dem übergeordneten Viewport in den "unraelten" Schwenk Modus von Schienen verkettet werden.</span><span class="sxs-lookup"><span data-stu-id="ca297-128">Specifically, input cannot chain from a railed child viewport to its parent in the “unrailed” panning mode of rails.</span></span> <span data-ttu-id="ca297-129">Zum Verketten von Eingaben, wenn Rails festgelegt ist, muss der Benutzer vertikal oder horizontal schwenken und auf die Schienen gesperrt sein.</span><span class="sxs-lookup"><span data-stu-id="ca297-129">To chain input when rails are set, the user must have panned vertically or horizontally and be locked to the rails.</span></span>

### <a name="zooming"></a><span data-ttu-id="ca297-130">Zoomen</span><span class="sxs-lookup"><span data-stu-id="ca297-130">Zooming</span></span>

<span data-ttu-id="ca297-131">Wenn ein untergeordneter Viewport in einem übergeordneten Viewport geschachtelt ist und beide für Zoom konfiguriert sind, kann eine Zoom Bearbeitung vom untergeordneten zum übergeordneten Element verkettet werden.</span><span class="sxs-lookup"><span data-stu-id="ca297-131">If a child viewport is nested inside a parent, and both are configured for zoom, a zoom manipulation can chain from child to parent.</span></span> <span data-ttu-id="ca297-132">Wenn die Manipulation jedoch fortgesetzt wird, funktioniert Sie nur für das übergeordnete Element und kann nicht mit dem untergeordneten Element verkettet werden.</span><span class="sxs-lookup"><span data-stu-id="ca297-132">However, if the manipulation continues, it works only on the parent and cannot “unchain” to the child.</span></span> <span data-ttu-id="ca297-133">Wenn der Benutzer einen Zoom vom untergeordneten zum übergeordneten Element verkettet, hält die [direkte Bearbeitung](direct-manipulation-portal.md) das untergeordnete Element an, bis alle der Manipulation zugeordneten Kontakte vom Bildschirm entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="ca297-133">If the user chains a zoom from child to parent, [Direct Manipulation](direct-manipulation-portal.md) suspends the child until all contacts associated with the manipulation are removed from the screen.</span></span> <span data-ttu-id="ca297-134">An diesem Punkt wird das untergeordnete Element von der Unterbrechung freigegeben, und der Benutzer kann den untergeordneten Viewport schwenken.</span><span class="sxs-lookup"><span data-stu-id="ca297-134">At this point, the child is released from suspension and the user can pan the child viewport.</span></span>

## <a name="gesture-targeting-parent-promotion"></a><span data-ttu-id="ca297-135">Gesten Ausrichtung: übergeordnete herauf Stufung</span><span class="sxs-lookup"><span data-stu-id="ca297-135">Gesture targeting: Parent promotion</span></span>

<span data-ttu-id="ca297-136">Die *Gesten Ausrichtung* ist der Prozess, mit dem [direkte Manipulation](direct-manipulation-portal.md) Kontakte gruppiert und bestimmt, welcher Viewport die Eingabe verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="ca297-136">*Gesture targeting* is the process by which [Direct Manipulation](direct-manipulation-portal.md) groups contacts together and determines which viewport processes the input.</span></span> <span data-ttu-id="ca297-137">Über *geordnete* herauf Stufung bezieht sich auf Fälle, in denen die Eingabe vom untergeordneten zum übergeordneten Element übertragen wird.</span><span class="sxs-lookup"><span data-stu-id="ca297-137">*Parent promotion* refers to cases where the input is transferred from the child to the parent.</span></span> <span data-ttu-id="ca297-138">Wenn ein Benutzer beispielsweise zwei Kontakte einfügt und innerhalb eines untergeordneten Viewports pingt, der nur für den Bildlauf konfiguriert ist, wird die Eingabe auf das übergeordnete Element herauf gestuft, sodass das Zoomen erfolgt.</span><span class="sxs-lookup"><span data-stu-id="ca297-138">For example, when a user puts down two contacts and pinches within a child viewport configured only for scrolling, the input is promoted to the parent so that zooming occurs.</span></span> <span data-ttu-id="ca297-139">Die übergeordnete herauf Stufung erfolgt unabhängig davon, ob die Verkettung für den untergeordneten Viewport aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="ca297-139">Parent promotion occurs regardless of whether chaining is enabled on the child viewport.</span></span>

<span data-ttu-id="ca297-140">Anders als bei der Verkettung wird die übergeordnete herauf Stufung nicht umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="ca297-140">Unlike chaining, parent promotion is not reversed.</span></span> <span data-ttu-id="ca297-141">Der übergeordnete Viewport verarbeitet die Interaktions Eingabe fort, bis alle Kontakte angehoben wurden (untergeordnete Viewports werden die Verarbeitung der Eingabe beendet).</span><span class="sxs-lookup"><span data-stu-id="ca297-141">The parent viewport continues to process the interaction input until all contacts are lifted (child viewports stop processing the input).</span></span>
