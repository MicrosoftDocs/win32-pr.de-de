---
title: Lebenszyklus eines Bits-Auftrags
description: Der Lebenszyklus eines Bits-Auftrags beginnt, wenn Sie einen Auftrag erstellen.
ms.assetid: b765a8ef-74bd-475e-9cd9-e9e2cf4f0305
ms.topic: article
ms.date: 11/13/2018
ms.openlocfilehash: c6ac23c598d28681968e9c0cbed776ba24c57e98
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/05/2021
ms.locfileid: "106357164"
---
# <a name="bits-job-states"></a><span data-ttu-id="3c447-103">Bits-Auftrags Zustände</span><span class="sxs-lookup"><span data-stu-id="3c447-103">BITS Job states</span></span>
<span data-ttu-id="3c447-104">Es gibt vier Klassen von Bits- [**Zuständen**](/windows/desktop/api/Bits/ne-bits-bg_job_state): starten, Aktion, übertragen und endgültig.</span><span class="sxs-lookup"><span data-stu-id="3c447-104">There are four classes of BITS [**states**](/windows/desktop/api/Bits/ne-bits-bg_job_state): starting, action, transferred, and final.</span></span> <span data-ttu-id="3c447-105">Während der Ausführung eines Auftrags wechselt er zwischen den Zuständen in den verschiedenen Zustands Klassen.</span><span class="sxs-lookup"><span data-stu-id="3c447-105">As a job runs, it transitions between states in the different state classes.</span></span> <span data-ttu-id="3c447-106">Sobald sich ein Auftrag in einem Endzustand befindet, wird er nicht mehr in den Endzustand versetzt und wird nicht in einer [Auftrags Enumeration](/windows/desktop/api/bits/nf-bits-ibackgroundcopymanager-enumjobs)angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3c447-106">Once a job is in a final state, it won't move out of the final state and won't show up in a [job enumeration](/windows/desktop/api/bits/nf-bits-ibackgroundcopymanager-enumjobs).</span></span>

## <a name="state-changing-methods"></a><span data-ttu-id="3c447-107">Status veränderliche Methoden</span><span class="sxs-lookup"><span data-stu-id="3c447-107">State-changing methods</span></span>
<span data-ttu-id="3c447-108">Es gibt vier Status veränderliche Methoden für einen Auftrag: [**Abbrechen**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel), [**vervollständigen**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete), [**fort**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume)setzen und [**aussetzen**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend).</span><span class="sxs-lookup"><span data-stu-id="3c447-108">There are four state-changing methods on a job: [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel), [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete), [**Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume), and [**Suspend**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend).</span></span> <span data-ttu-id="3c447-109">Solange sich ein Auftrag nicht in einem Endzustand befindet, können Sie jede der Zustands veränderlichen Methoden aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="3c447-109">As long as a job is not in a final state, you can call any of the state-changing methods.</span></span> 

<span data-ttu-id="3c447-110">Die [**Suspend**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend) -Methode wird verwendet, um einen Auftrag in den Zustand "angehalten" zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="3c447-110">The [**Suspend**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-suspend) method is used to switch a job to the SUSPENDED state.</span></span> <span data-ttu-id="3c447-111">Wenn ein Auftrag angehalten wird, werden alle zugehörigen Übertragungen angehalten und werden erst wieder fortgesetzt, wenn Sie "Resume" aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="3c447-111">When a job is suspended, all of its transfers will be stopped and won't resume until you call Resume.</span></span>
<span data-ttu-id="3c447-112">Ein Auftrag, der bereits angehalten wurde, bleibt einfach angehalten.</span><span class="sxs-lookup"><span data-stu-id="3c447-112">A job that's already suspended will simply stay suspended.</span></span>

<span data-ttu-id="3c447-113">Die [**Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume) -Methode wird verwendet, um einen Auftrag zu starten, der angehalten wurde.</span><span class="sxs-lookup"><span data-stu-id="3c447-113">The [**Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume) method is used to start a job that's suspended.</span></span> <span data-ttu-id="3c447-114">Aufträge in einem Fehler-oder vorübergehenden Fehlerzustand werden so eingerichtet, dass Sie wiederholt werden.</span><span class="sxs-lookup"><span data-stu-id="3c447-114">Jobs in an error or transient error state will be set up to be retried.</span></span> <span data-ttu-id="3c447-115">Aufträge, die sich zurzeit in einem Aktionszustand befinden, bleiben in diesem Zustand.</span><span class="sxs-lookup"><span data-stu-id="3c447-115">Jobs that are currently in an action state will stay in that state.</span></span>

<span data-ttu-id="3c447-116">Die [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) -Methode wird verwendet, um einen Auftrag abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="3c447-116">The [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) method is used to cancel a job.</span></span> <span data-ttu-id="3c447-117">Der Status wechselt zu "abgebrochen".</span><span class="sxs-lookup"><span data-stu-id="3c447-117">The state will switch to cancelled.</span></span> <span data-ttu-id="3c447-118">Derzeit übertragene Dateien werden nicht abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="3c447-118">Any files currently being transferred will not be completed.</span></span> <span data-ttu-id="3c447-119">Alle vollständig übertragenen und teilweise übertragenen Dateien werden gelöscht.</span><span class="sxs-lookup"><span data-stu-id="3c447-119">All completely transferred and partially transferred files will be deleted.</span></span>

<span data-ttu-id="3c447-120">Mit der [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) -Methode wird eine Übertragung abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="3c447-120">The [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) method will finish a transfer.</span></span> <span data-ttu-id="3c447-121">Alle vollständig heruntergeladenen Dateien werden beibehalten. Dateien, die nicht vollständig übertragen werden, werden gelöscht.</span><span class="sxs-lookup"><span data-stu-id="3c447-121">Any fully downloaded files will be kept; files that are not fully transferred will be deleted.</span></span>

<span data-ttu-id="3c447-122">Sie müssen entweder abbrechen oder abgeschlossen anrufen, um den Auftrag in einen Endzustand zu verschieben und bereinigt zu werden.</span><span class="sxs-lookup"><span data-stu-id="3c447-122">You must call either Cancel or Complete to move your job to a final state and be cleaned up.</span></span> <span data-ttu-id="3c447-123">Bei Aufträgen, die nicht in den Endzustand übergehen, werden Systemressourcen verschwendet.</span><span class="sxs-lookup"><span data-stu-id="3c447-123">Jobs that aren't transitioned to a final state will waste system resources.</span></span> <span data-ttu-id="3c447-124">Mit Bits werden letztendlich alte Aufträge automatisch abgebrochen.</span><span class="sxs-lookup"><span data-stu-id="3c447-124">BITS will eventually automatically cancel old jobs.</span></span> <span data-ttu-id="3c447-125">Der Standardwert für " [jobinactivitytimeout](/windows/desktop/Bits/group-policies) " besteht darin, Aufträge nach 90 Tagen abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="3c447-125">The default [JobInactivityTimeout](/windows/desktop/Bits/group-policies) is to cancel jobs after 90 days.</span></span>


## <a name="starting-state"></a><span data-ttu-id="3c447-126">Anfangsstatus</span><span class="sxs-lookup"><span data-stu-id="3c447-126">Starting state</span></span> 
<span data-ttu-id="3c447-127">Der Start **Status ist "** angehalten".</span><span class="sxs-lookup"><span data-stu-id="3c447-127">The starting state is **SUSPENDED**.</span></span> <span data-ttu-id="3c447-128">Von hier aus können Sie dem Auftrag Dateien hinzufügen und Auftrags-und Dateieigenschaften festlegen.</span><span class="sxs-lookup"><span data-stu-id="3c447-128">From here, you can add files to the job and set job and file properties.</span></span> <span data-ttu-id="3c447-129">Um die Übertragung eines Auftrags zu starten, wenden Sie den Vorgang für den Auftrag an.</span><span class="sxs-lookup"><span data-stu-id="3c447-129">To start a job transferring, call Resume on the job.</span></span> <span data-ttu-id="3c447-130">Wenn Sie einen Auftrag ohne Dateien wieder aufnehmen, wird ein BG_E_EMPTY Fehlercodes zurückgegeben, und der Auftrag bleibt angehalten.</span><span class="sxs-lookup"><span data-stu-id="3c447-130">If you resume a job with no files, it will return a BG_E_EMPTY error code and the job will stay suspended.</span></span>

## <a name="action-states"></a><span data-ttu-id="3c447-131">Aktionszustände</span><span class="sxs-lookup"><span data-stu-id="3c447-131">Action states</span></span>
<span data-ttu-id="3c447-132">In den Status in der **Warteschlange**, **verbinden** und über **tragen** wird die aktuelle interne Aktivität des Auftrags angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3c447-132">The **QUEUED**, **CONNECTING** and **TRANSFERRING** states show the current internal activity of your job.</span></span> <span data-ttu-id="3c447-133">Ein Auftrag, der in die Warteschlange eingereiht wird, ist für die Planung bereit und wartet möglicherweise auf den Bits-Planer oder wartet darauf, dass sich der Benutzer angemeldet hat.</span><span class="sxs-lookup"><span data-stu-id="3c447-133">A job that's QUEUED is ready to be scheduled, possibly waiting for the BITS scheduler or waiting for the user to log in.</span></span> <span data-ttu-id="3c447-134">Ein Auftrag, der eine Verbindung herstellt, versucht, eine Verbindung mit dem Server herzustellen, um mit der Dateiübertragung zu beginnen</span><span class="sxs-lookup"><span data-stu-id="3c447-134">A job that's CONNECTING is attempting to connect to the server to start transferring files.</span></span> <span data-ttu-id="3c447-135">Ein Auftrag, der übertragen wird, lädt Ihre Dateien aktiv hoch oder lädt Sie herunter.</span><span class="sxs-lookup"><span data-stu-id="3c447-135">A job that's TRANSFERRING is actively uploading or downloading your files.</span></span>

<span data-ttu-id="3c447-136">Der **vorübergehende Fehler** Zustand bedeutet, dass der Auftrag versucht hat, die Datei zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="3c447-136">The **TRANSIENT ERROR** state means that the job tried and failed to transfer the file.</span></span> <span data-ttu-id="3c447-137">Dies kann aus Netzwerk Richtlinien Gründen der Grund sein. der Auftrag kann blockiert werden, weil das aktuelle Netzwerk zu teuer ist.</span><span class="sxs-lookup"><span data-stu-id="3c447-137">This might be for network policy reasons; the job might be blocked because the current network is too expensive.</span></span> <span data-ttu-id="3c447-138">Dies kann auch für System Gründe blockiert werden, z. b. wenn sich das System im Akku-oder Spielmodus befindet oder weil keine Internetverbindung besteht.</span><span class="sxs-lookup"><span data-stu-id="3c447-138">It might also be blocked for system reasons like the system being in battery saver or game mode, or because there's no internet connectivity.</span></span> 

<span data-ttu-id="3c447-139">Aufträge, die den vorübergehenden Fehlerstatus aufweisen, werden bei Bedarf automatisch von Bits erneut versucht.</span><span class="sxs-lookup"><span data-stu-id="3c447-139">Jobs in the transient error state will be retried automatically by BITS when appropriate.</span></span> <span data-ttu-id="3c447-140">Bits enthält einen [minimumretrydelay](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) -und einen [noprogresstimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) -Wert, um zu steuern, wann ein Auftrag wiederholt wird und wann Bits den Wiederholungsversuch beendet.</span><span class="sxs-lookup"><span data-stu-id="3c447-140">BITS includes a [MinimumRetryDelay](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) and [NoProgressTimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) value to control when a job is retried and when BITS will finally stop retrying.</span></span>


## <a name="transferred-states"></a><span data-ttu-id="3c447-141">Übertragene Zustände</span><span class="sxs-lookup"><span data-stu-id="3c447-141">Transferred states</span></span>
<span data-ttu-id="3c447-142">Die übertragenen Zustände erfolgen, wenn keine Übertragung mehr erfolgt.</span><span class="sxs-lookup"><span data-stu-id="3c447-142">The transferred states happen when there's no more transferring to be done.</span></span> <span data-ttu-id="3c447-143">Sie müssen einen Auftrag in diesem Zustand entweder abbrechen oder beenden.</span><span class="sxs-lookup"><span data-stu-id="3c447-143">You must either cancel or complete a job in this state.</span></span> <span data-ttu-id="3c447-144">Sie können auch weitere Dateien hinzufügen, die übertragen werden sollen, und "Resume ()" aufzurufen, aber dies ist nicht üblich.</span><span class="sxs-lookup"><span data-stu-id="3c447-144">You may also add more files to transfer and call Resume(), but this isn't a common practice.</span></span>

<span data-ttu-id="3c447-145">Der **Fehler** Zustand tritt auf, wenn eine Übertragung erfolgt (es wird kein erneuter Versuch unternommen), aber nicht vollständig erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="3c447-145">The **ERROR** state happens when a transfer is done (it won't be retried), but didn't fully succeed.</span></span> <span data-ttu-id="3c447-146">Alle Dateien müssen übertragen werden, damit Sie erfolgreich sind. bei einem permanenten Fehler tritt beim Auftrag ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="3c447-146">All the files must be transferred to be successful; if any have permanently failed the job will be in error.</span></span> <span data-ttu-id="3c447-147">In der Regel rufen Sie entweder abbrechen oder Fertigstellen auf, um den Auftrag in einen Endzustand zu verschieben.</span><span class="sxs-lookup"><span data-stu-id="3c447-147">You will typically either call Cancel or Complete to move the job to a final state.</span></span> <span data-ttu-id="3c447-148">Der Unterschied besteht darin, dass beim Anrufen von "Abbrechen" alle erfolgreich übertragenen Dateien gelöscht werden. Wenn Sie jedoch "Complete" (abgeschlossen) abrufen, werden alle erfolgreich übertragenen Dateien nicht gelöscht.</span><span class="sxs-lookup"><span data-stu-id="3c447-148">The practical difference is that when you call Cancel, any successfully transferred file will be deleted, but if you call Complete, any successfully transferred file will not be deleted.</span></span>

<span data-ttu-id="3c447-149">Mögliche Gründe für einen Fehlerzustand sind</span><span class="sxs-lookup"><span data-stu-id="3c447-149">Reasons for being in an ERROR state include</span></span> 
* <span data-ttu-id="3c447-150">Der Status "vorübergehender Fehler" (über die [noprogresstimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) -Einstellung hinaus) ist zu lang.</span><span class="sxs-lookup"><span data-stu-id="3c447-150">Staying too long in a TRANSIENT ERROR state (beyond the [NoProgressTimeout](/windows/desktop/api/bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) setting).</span></span>
* <span data-ttu-id="3c447-151">Erhalten eines BG_E_TOKEN_REQUIRED Fehlers und benötigen Unterstützung [bei](/windows/desktop/Bits/helper-tokens-for-bits-transfer-jobs) Hilfsobjekten</span><span class="sxs-lookup"><span data-stu-id="3c447-151">Getting a BG_E_TOKEN_REQUIRED error and needing assistance with [helper tokens](/windows/desktop/Bits/helper-tokens-for-bits-transfer-jobs)</span></span>

<span data-ttu-id="3c447-152">Es ist eine gängige Vorgehensweise, einen Fehler im Auftrag neu zu konfigurieren und dann fortsetzen aufzurufen, um den Auftrag zu wiederholen.</span><span class="sxs-lookup"><span data-stu-id="3c447-152">It's a common practice to reconfigure an ERROR'd job and then call Resume to retry the job.</span></span> <span data-ttu-id="3c447-153">Beispielsweise kann es sein, dass Ihre APP den Remote Namen einer Datei über " [Server](/windows/desktop/api/bits2_0/nf-bits2_0-ibackgroundcopyfile2-setremotename)Name" aktualisieren muss.</span><span class="sxs-lookup"><span data-stu-id="3c447-153">For example, your app might need to update a file's remote name via [SetRemoteName](/windows/desktop/api/bits2_0/nf-bits2_0-ibackgroundcopyfile2-setremotename).</span></span>

<span data-ttu-id="3c447-154">Der **übertragene** Zustand tritt auf, wenn eine Übertragung abgeschlossen und erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="3c447-154">The **TRANSFERRED** state happens when a transfer is done and it succeeded.</span></span> <span data-ttu-id="3c447-155">Zum Abschließen des Auftrags muss Complete aufgerufen werden. für Download Aufträge sind die heruntergeladenen Dateien erst verfügbar, wenn Sie "Complete" aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="3c447-155">You must call Complete to finalize the job; for download jobs the downloaded files won't be available until after you call Complete.</span></span> <span data-ttu-id="3c447-156">Eine Ausnahme von dieser Regel sind Aufträge, bei denen es sich um Hochleistungs Aufträge handelt (und Sie sollten trotzdem "Complete" aufzurufen).</span><span class="sxs-lookup"><span data-stu-id="3c447-156">The exception to this rule is jobs which are the high performance jobs (and you should still call Complete).</span></span>

## <a name="final-states"></a><span data-ttu-id="3c447-157">Endgültige Zustände</span><span class="sxs-lookup"><span data-stu-id="3c447-157">Final states</span></span>
<span data-ttu-id="3c447-158">Sobald sich ein Auftrag in einem Endzustand befindet, können Sie keine der Zustands veränderlichen Methoden mehr abrufen.</span><span class="sxs-lookup"><span data-stu-id="3c447-158">Once a job is in a final state, you can't call any of the state-changing methods.</span></span> <span data-ttu-id="3c447-159">Der Auftrag wird **bestätigt** , nachdem Sie "Complete ()" aufgerufen haben und alle abgeschlossenen heruntergeladenen Dateien verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="3c447-159">The job will be **ACKNOWLEDGED** after you call Complete() and all completed downloaded files will be available.</span></span> <span data-ttu-id="3c447-160">Der Auftrag wird **abgebrochen** , nachdem Sie Cancel () aufgerufen haben und alle heruntergeladenen Dateien gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="3c447-160">The job will be **CANCELLED** after you call Cancel() and all downloaded files will be deleted.</span></span> 


## <a name="life-cycle-of-a-bits-job"></a><span data-ttu-id="3c447-161">Lebenszyklus eines Bits-Auftrags</span><span class="sxs-lookup"><span data-stu-id="3c447-161">Life Cycle of a BITS job</span></span>

<span data-ttu-id="3c447-162">Der Lebenszyklus eines Bits-Auftrags beginnt, wenn Sie einen Auftrag erstellen.</span><span class="sxs-lookup"><span data-stu-id="3c447-162">The life cycle of a BITS job begins when you create a job.</span></span> <span data-ttu-id="3c447-163">Ein Auftrag ist ein Container, der eine oder mehrere zu übertragenden Dateien enthält.</span><span class="sxs-lookup"><span data-stu-id="3c447-163">A job is a container that contains one or more files to transfer.</span></span> <span data-ttu-id="3c447-164">Ein Auftrag verfügt auch über Eigenschaften, die angeben, wie Bits die Dateien überträgt und mit Ihrer Anwendung interagiert.</span><span class="sxs-lookup"><span data-stu-id="3c447-164">A job also has properties that specify how BITS transfers the files and interacts with your application.</span></span> <span data-ttu-id="3c447-165">Beispielsweise können Sie die Priorität des Auftrags angeben, unabhängig davon, ob es sich um einen Upload-oder Download Auftrag handelt und für welche Ereignisse eine Benachrichtigung empfangen werden soll.</span><span class="sxs-lookup"><span data-stu-id="3c447-165">For example, you can specify the priority of the job, whether the job is an upload or download job, and for which events you want to receive notification.</span></span>

<span data-ttu-id="3c447-166">Nachdem Sie den Auftrag erstellt haben, fügen Sie eine oder mehrere Dateien (hochgeladene Aufträge können nur eine Datei enthalten) für den Auftrag hinzu, und ändern Sie die Eigenschaftswerte entsprechend Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="3c447-166">After you create the job, add one or more files (upload jobs can contain only one file) to the job and change any of the property values as appropriate for your application.</span></span> <span data-ttu-id="3c447-167">Wenn Sie dem Auftrag eine Datei hinzufügen, geben Sie den lokalen (Client-) und den Remote Namen (Server) der Datei an.</span><span class="sxs-lookup"><span data-stu-id="3c447-167">When you add a file to the job, specify both the local (client) and remote (server) name of the file.</span></span> <span data-ttu-id="3c447-168">Für den Remote Dateinamen muss das http-, HTTPS-oder SMB-Protokoll verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3c447-168">The remote file name must use the HTTP, HTTPS, or SMB protocol.</span></span> <span data-ttu-id="3c447-169">Dateien innerhalb eines Auftrags werden sequenziell verarbeitet (zuerst in, First Out).</span><span class="sxs-lookup"><span data-stu-id="3c447-169">Files within a job are processed sequentially (first in, first out).</span></span>

<span data-ttu-id="3c447-170">Bits hält Aufträge automatisch an, wenn Sie erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="3c447-170">BITS automatically suspends jobs when they are created.</span></span> <span data-ttu-id="3c447-171">Sie müssen den Auftrag fortsetzen, um ihn in der Übertragungs Warteschlange zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="3c447-171">You must resume the job to activate it in the transfer queue.</span></span> <span data-ttu-id="3c447-172">Sie können einen Auftrag jederzeit aussetzen oder fortsetzen.</span><span class="sxs-lookup"><span data-stu-id="3c447-172">You can suspend or resume a job at any time.</span></span> <span data-ttu-id="3c447-173">Durch das Fortsetzen des Auftrags wird der Auftrag aus dem Zustand "angehalten" in den Warteschlangen Status verschoben.</span><span class="sxs-lookup"><span data-stu-id="3c447-173">Resuming the job moves the job from the suspended state to the queued state.</span></span> <span data-ttu-id="3c447-174">Der Auftrag verbleibt im Zustand "in Warteschlange", bis der Planer feststellt, dass er zum Übertragen von Dateien für den Auftrag steht.</span><span class="sxs-lookup"><span data-stu-id="3c447-174">The job stays in the queued state until the scheduler determines it is the job's turn to transfer files.</span></span> <span data-ttu-id="3c447-175">Alle Vordergrund Aufträge werden gleichzeitig mit einem Hintergrund Auftrag ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="3c447-175">All foreground jobs run concurrently with one background job.</span></span> <span data-ttu-id="3c447-176">Bits verarbeitet die Dateien in Vordergrund Aufträgen serialisiert.</span><span class="sxs-lookup"><span data-stu-id="3c447-176">BITS processes the files within foreground jobs serially.</span></span>

<span data-ttu-id="3c447-177">Wenn es sich um einen Auftrag zum Übertragen von Dateien handelt, wechselt der Auftrag in den Verbindungsstatus, während Bits eine Verbindung mit dem Remote Server herstellt (angegeben im Remote Dateinamen).</span><span class="sxs-lookup"><span data-stu-id="3c447-177">When it is a job's turn to transfer files, the job moves to the connecting state while BITS connects to the remote server (specified in the remote file name).</span></span> <span data-ttu-id="3c447-178">Wenn Bits eine Verbindung mit dem Remote Server herstellen kann, wird der Auftrag in den Übertragungs Status versetzt, wo er bleibt, bis der Zeit Slice endet, die Übertragung abgeschlossen ist, ein Fehler auftritt oder die Anwendung den Auftrag anhält.</span><span class="sxs-lookup"><span data-stu-id="3c447-178">If BITS is able to connect to the remote server, the job moves to the transferring state where it stays until its time slice ends, the transfer is complete, an error occurs, or the application suspends the job.</span></span>

<span data-ttu-id="3c447-179">Der Auftrag wechselt zwischen den Status "in Warteschlange", "Verbindung" und "übertragen", bis Bits alle Dateien im Auftrag überträgt.</span><span class="sxs-lookup"><span data-stu-id="3c447-179">The job moves between the queued, connecting, and transferring states until BITS transfers all files in the job.</span></span> <span data-ttu-id="3c447-180">An diesem Punkt wechselt der Auftrag in den übertragenen Zustand.</span><span class="sxs-lookup"><span data-stu-id="3c447-180">At that point, the job moves to the transferred state.</span></span> <span data-ttu-id="3c447-181">Bits verwendet die Roundrobin-Planung, um Aufträge zu planen, die dieselbe Prioritätsstufe haben.</span><span class="sxs-lookup"><span data-stu-id="3c447-181">BITS uses round-robin scheduling to schedule jobs that are at the same priority level.</span></span> <span data-ttu-id="3c447-182">Jeder Auftrag erhält einen Zeitanteil, um seine Dateien zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="3c447-182">Each job is given a slice of time to process its files.</span></span> <span data-ttu-id="3c447-183">Wenn der Auftrag während des Zeitabschnitts nicht beendet wird, wird der Auftrag in den Warteschlangen Status zurückversetzt, und der nächste Auftrag in der Warteschlange wird aktiviert.</span><span class="sxs-lookup"><span data-stu-id="3c447-183">If the job does not complete during its time slice, the job goes back to the queued state and the next job in the queue is activated.</span></span> <span data-ttu-id="3c447-184">Dadurch wird verhindert, dass große Aufträge kleinere Aufträge blockieren.</span><span class="sxs-lookup"><span data-stu-id="3c447-184">This prevents large jobs from blocking smaller jobs.</span></span> <span data-ttu-id="3c447-185">Aufträge werden größtenteils auf der Grundlage einer FIFO-Basis (First in, First Out) verarbeitet. Allerdings kann Bits die FIFO-Verarbeitung aufgrund von Roundrobin-Zeitplänen, Auftrags Fehlern und Dienst Neustarts nicht garantieren.</span><span class="sxs-lookup"><span data-stu-id="3c447-185">Jobs are processed largely on a first in, first out (FIFO) basis; however, BITS cannot guarantee FIFO processing because of round-robin scheduling, job errors, and service restarts.</span></span>

<span data-ttu-id="3c447-186">Die übertragenen Dateien stehen dem Client erst zur Verfügung, wenn die Anwendung die [**ibackgroundcopyjob:: Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) -Methode aufruft, um den Besitz der Dateien von Bits an den Benutzer zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="3c447-186">The transferred files are not available to the client until the application calls the [**IBackgroundCopyJob::Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) method to transfer ownership of the files from BITS to the user.</span></span> <span data-ttu-id="3c447-187">Uploadaufträge werden auch auf den übertragenen Status festgelegt, wenn die Datei vom Server erfolgreich empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="3c447-187">Upload jobs are also set to the transferred state when the file is successfully received by the server.</span></span> <span data-ttu-id="3c447-188">Upload-Antwort-Aufträge werden auf den übertragenen Status festgelegt, nachdem die Datei erfolgreich an den Server gesendet wurde und die Antwort von der Serveranwendung erfolgreich an den Client übertragen wurde.</span><span class="sxs-lookup"><span data-stu-id="3c447-188">Upload-reply jobs are set to the transferred state after the file is successfully sent to the server and the reply from the server application is successfully transferred to the client.</span></span>

<span data-ttu-id="3c447-189">Wenn ein Fehler auftritt, wird der Auftrag entweder in den schwerwiegenden oder vorübergehenden Fehlerzustand verschoben.</span><span class="sxs-lookup"><span data-stu-id="3c447-189">If an error occurs, the job moves to either the fatal or transient error state.</span></span> <span data-ttu-id="3c447-190">Schwerwiegende Fehler sind Fehler, die von Bits nicht wieder hergestellt werden können oder für die ein Eingriff erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="3c447-190">Fatal errors are errors that BITS cannot recover from or which require intervention to fix.</span></span> <span data-ttu-id="3c447-191">Wenn die Anwendung den Fehler beheben kann, wird der Auftrag von der Anwendung fortgesetzt, und Bits verschiebt den Auftrag in den Warteschlangen Zustand.</span><span class="sxs-lookup"><span data-stu-id="3c447-191">If the application is able to fix the error, the application resumes the job and BITS moves the job to the queued state.</span></span> <span data-ttu-id="3c447-192">Vorübergehende Fehler sind Fehler, die sich möglicherweise selbst auflösen.</span><span class="sxs-lookup"><span data-stu-id="3c447-192">Transient errors are errors that may resolve themselves.</span></span> <span data-ttu-id="3c447-193">Bits führt einen Wiederholungsversuch für Aufträge im vorübergehenden Fehlerstatus aus, bis die Übertragung erfolgreich ist oder für den Auftrag ein Timeout eintritt. Für den Auftrag wird ein Timeout ausgelöst, wenn innerhalb eines von der Anwendung angegebenen Zeitraums kein Fortschritt erfolgt.</span><span class="sxs-lookup"><span data-stu-id="3c447-193">BITS retries jobs in the transient error state until the transfer is successful or the job times out. The job times out when no progress is made within an application-specified period.</span></span> <span data-ttu-id="3c447-194">Wenn für den Auftrag ein Timeout auftritt, verschiebt Bits den Auftrag in einen schwerwiegenden Fehlerzustand.</span><span class="sxs-lookup"><span data-stu-id="3c447-194">If the job times out, BITS moves the job to fatal error state.</span></span>

<span data-ttu-id="3c447-195">Weitere Informationen zu Auftrags Zuständen finden Sie unter [**\_ \_ Status der BG-Aufträge**](/windows/desktop/api/Bits/ne-bits-bg_job_state).</span><span class="sxs-lookup"><span data-stu-id="3c447-195">For more information on job states, see [**BG\_JOB\_STATE**](/windows/desktop/api/Bits/ne-bits-bg_job_state).</span></span>
