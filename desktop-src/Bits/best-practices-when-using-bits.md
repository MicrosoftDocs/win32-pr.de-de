---
title: Bewährte Methoden bei der Verwendung von Bits
description: Dieser Abschnitt enthält Informationen, die Sie beim Entwerfen einer Anwendung berücksichtigen sollten, die Bits verwendet.
ms.assetid: f4a09a80-2a85-4b59-b0fd-c23c128973f7
ms.topic: article
ms.date: 7/12/2019
ms.openlocfilehash: bbf69e75b99994eea3e8986d1be9920ff1a12bc5
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "103947485"
---
# <a name="best-practices-when-using-bits"></a><span data-ttu-id="a1e07-103">Bewährte Methoden bei der Verwendung von Bits</span><span class="sxs-lookup"><span data-stu-id="a1e07-103">Best Practices When Using BITS</span></span>

<span data-ttu-id="a1e07-104">Dieser Abschnitt enthält Informationen, die Sie beim Entwerfen einer Anwendung berücksichtigen sollten, die Bits verwendet.</span><span class="sxs-lookup"><span data-stu-id="a1e07-104">This section contains information you should consider when designing an application that uses BITS.</span></span>

## <a name="user-context-or-service-context"></a><span data-ttu-id="a1e07-105">Benutzer Kontext oder Dienst Kontext</span><span class="sxs-lookup"><span data-stu-id="a1e07-105">User context or service context</span></span>

<span data-ttu-id="a1e07-106">Bits überträgt Dateien nur, wenn der Besitzer des Auftrags auf dem Computer angemeldet ist (der Benutzer muss interaktiv angemeldet sein).</span><span class="sxs-lookup"><span data-stu-id="a1e07-106">BITS transfers files only when the job's owner is logged on to the computer (the user must have logged on interactively).</span></span> <span data-ttu-id="a1e07-107">Der **runas** -Befehl wird von Bits nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="a1e07-107">BITS does not support the **RunAs** command.</span></span> <span data-ttu-id="a1e07-108">Weitere Informationen finden Sie unter [Benutzer und Netzwerkverbindungen](users-and-network-connections.md).</span><span class="sxs-lookup"><span data-stu-id="a1e07-108">For more details, see [Users and Network Connections](users-and-network-connections.md).</span></span>

<span data-ttu-id="a1e07-109">Wenn Sie den Kontext eines Benutzers für Ihre Anwendung nicht benötigen, sollten Sie stattdessen einen Dienst schreiben, der als LocalSystem, LocalService oder Network Service ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a1e07-109">If you do not require a user's context for your application, consider writing a service running as LocalSystem, LocalService, or NetworkService instead.</span></span> <span data-ttu-id="a1e07-110">Diese Systemkonten sind immer angemeldet, sodass die Übertragung keinem Benutzer unterliegt, der sich abmeldet.</span><span class="sxs-lookup"><span data-stu-id="a1e07-110">These system accounts are always logged on, so the transfer is not subject to a user logging off.</span></span> <span data-ttu-id="a1e07-111">Wenn Sie jedoch die Identität eines Benutzers annehmen, wenn Sie den Auftrag erstellen, gelten die interaktiven Anmelde Regeln.</span><span class="sxs-lookup"><span data-stu-id="a1e07-111">However, if you impersonate a user when you create the job, the interactive logon rules apply.</span></span> <span data-ttu-id="a1e07-112">Weitere Informationen finden Sie unter [Dienst Konten und Bits](service-accounts-and-bits.md).</span><span class="sxs-lookup"><span data-stu-id="a1e07-112">For more details, see [Service Accounts and BITS](service-accounts-and-bits.md).</span></span>

## <a name="jobs-are-persistent"></a><span data-ttu-id="a1e07-113">Aufträge sind persistent.</span><span class="sxs-lookup"><span data-stu-id="a1e07-113">Jobs are persistent</span></span>

<span data-ttu-id="a1e07-114">Aufträge bleiben in der Warteschlange, bis Sie die [**ibackgroundcopyjob:: Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) -Methode oder die [**ibackgroundcopyjob:: Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) -Methode aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="a1e07-114">Jobs remain in the queue until you call the [**IBackgroundCopyJob::Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) or [**IBackgroundCopyJob::Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) method.</span></span> <span data-ttu-id="a1e07-115">Die Dateien im Auftrag stehen dem Benutzer erst zur Verfügung, wenn Sie " **Complete**" aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="a1e07-115">The files in the job are not available to the user until you call **Complete**.</span></span> <span data-ttu-id="a1e07-116">In der Regel rufen Sie " **abgeschlossen** " auf, wenn der Status des Auftrags " **BG \_ Job \_ State \_ übertragene**" ist, und rufen Sie " **Abbrechen** " auf, wenn der Auftrag den Status " **\_ \_ \_ vorübergehender Status \_ des BG-Auftragsstatus** " oder " **BG \_ Job \_ State \_ Error** " aufweist und nicht mehr</span><span class="sxs-lookup"><span data-stu-id="a1e07-116">Typically, you call **Complete** when the state of the job is **BG\_JOB\_STATE\_TRANSFERRED**, and you call **Cancel** when the job is in the **BG\_JOB\_STATE\_TRANSIENT\_ERROR** or **BG\_JOB\_STATE\_ERROR** state and can no longer make progress.</span></span>

<span data-ttu-id="a1e07-117">Wenn Sie die [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) -Methode oder die [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) -Methode nicht innerhalb von 90 Tagen aufrufen (Standardwert für [jobinactivitytimeout](group-policies.md) Gruppenrichtlinie), bricht der Dienst den Auftrag ab.</span><span class="sxs-lookup"><span data-stu-id="a1e07-117">If you do not call the [**Complete**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-complete) method or the [**Cancel**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-cancel) method within 90 days (default [JobInactivityTimeout](group-policies.md) Group Policy), the service cancels the job.</span></span> <span data-ttu-id="a1e07-118">Sie sollten immer die **Complete** -oder **Cancel** -Methode aufrufen und sich nicht auf die jobinactivitytimeout-Richtlinie verlassen, um die Aufträge zu bereinigen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-118">You should always call the **Complete** or the **Cancel** method and not rely on the JobInactivityTimeout policy to cleanup your jobs.</span></span> <span data-ttu-id="a1e07-119">Die in der Warteschlange verbleibenden Aufträge können verhindern, dass Benutzer andere Aufträge erstellen, wenn das Richtlinien Limit von maxjobsperuser oder maxjobspermachine erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="a1e07-119">Jobs left in the queue may prevent users from creating other jobs if the MaxJobsPerUser or MaxJobsPerMachine policy limit is reached.</span></span>

## <a name="when-to-use-foreground-or-background-priority"></a><span data-ttu-id="a1e07-120">Verwendung der Vordergrund-oder Hintergrund Priorität</span><span class="sxs-lookup"><span data-stu-id="a1e07-120">When to use foreground or background priority</span></span>

<span data-ttu-id="a1e07-121">Wenn der Auftrag nicht Zeit kritisch ist oder der Benutzer aktiv wartet, sollten Sie immer eine Hintergrund Priorität verwenden.</span><span class="sxs-lookup"><span data-stu-id="a1e07-121">Unless the job is time critical or the user is actively waiting, you should always use a background priority.</span></span> <span data-ttu-id="a1e07-122">Es kann jedoch vorkommen, dass Sie von der Hintergrund Priorität zur Vordergrund Priorität wechseln möchten, z. b. wenn der Proxy oder Server den Content-Range-Header nicht unterstützt, oder wenn die Antivirensoftware auf dem Client die Bereichs Header Anforderung entfernt.</span><span class="sxs-lookup"><span data-stu-id="a1e07-122">However, there are times when you may want to switch from background priority to foreground priority, for example, when the proxy or server does not support the Content-Range header, or antivirus software on the client removes the range header request.</span></span> <span data-ttu-id="a1e07-123">Der Wechsel zur Vordergrund Priorität funktioniert nur für Dateien, deren Dateigröße kleiner als 2 GB ist.</span><span class="sxs-lookup"><span data-stu-id="a1e07-123">Switching to foreground priority works only for those files whose file size is less than 2 GB.</span></span> <span data-ttu-id="a1e07-124">Ein Beispiel finden Sie in der-Implementierung für die [**ibackgroundcopycallback:: joberror**](/windows/desktop/api/Bits/nn-bits-ibackgroundcopycallback) -Methode.</span><span class="sxs-lookup"><span data-stu-id="a1e07-124">For an example, see the implementation for the [**IBackgroundCopyCallback::JobError**](/windows/desktop/api/Bits/nn-bits-ibackgroundcopycallback) method.</span></span> <span data-ttu-id="a1e07-125">Beachten Sie außerdem, dass der Auftrag fehlschlägt, wenn der Vordergrund Auftrag aufgrund einer Netzwerkverbindung unterbrochen wird oder sich der Benutzer abmeldet, weil Bits eine Bereichs Anforderung sendet, um zu versuchen, die Übertragung an der Stelle, an der er unterbrochen wurde, neu zu starten.</span><span class="sxs-lookup"><span data-stu-id="a1e07-125">Also note that if the foreground job is then interrupted due to a network disconnect or the user logging off, the job will fail because BITS will send a range request to try to restart the transfer from where it left off.</span></span>

<span data-ttu-id="a1e07-126">Ab Windows 8 sollten Sie die Download Aufträge mit den **Bits- \_ Auftrags \_ Eigenschaften \_ Dynamic \_ Content** und **BG \_ Job \_ priority \_ Vordergrund** konfigurieren, wenn Sie auf Server abzielen, die die [HTTP-Anforderungen für Bits-Downloads](http-requirements-for-bits-downloads.md)nicht erfüllen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-126">Starting with Windows 8, you should configure download jobs with **BITS\_JOB\_PROPERTY\_DYNAMIC\_CONTENT** and **BG\_JOB\_PRIORITY\_FOREGROUND** when targeting servers that do not meet the [HTTP Requirements for BITS Downloads](http-requirements-for-bits-downloads.md).</span></span> <span data-ttu-id="a1e07-127">Beachten Sie, dass dies dazu führt, dass Bits den Download von Anfang an neu starten muss (z. b. aufgrund von Konnektivitätsproblemen oder Systemneustarts).</span><span class="sxs-lookup"><span data-stu-id="a1e07-127">Bear in mind that this will result in BITS having to restart the download from the beginning if it ever gets interrupted (for example, due to connectivity issues or system reboot).</span></span>

<span data-ttu-id="a1e07-128">Informationen zu den verfügbaren Prioritäten und zur Verwendung der Prioritätsstufe durch Bits zum Planen von Aufträgen finden Sie unter [**BG- \_ Auftrags \_ Priorität**](/windows/desktop/api/Bits/ne-bits-bg_job_priority).</span><span class="sxs-lookup"><span data-stu-id="a1e07-128">For information on the available priorities and how BITS uses the priority level to schedule jobs, see [**BG\_JOB\_PRIORITY**](/windows/desktop/api/Bits/ne-bits-bg_job_priority).</span></span>

## <a name="transient-and-fatal-errors"></a><span data-ttu-id="a1e07-129">Vorübergehende und schwerwiegende Fehler</span><span class="sxs-lookup"><span data-stu-id="a1e07-129">Transient and fatal errors</span></span>

<span data-ttu-id="a1e07-130">Einige Fehler sind wiederherstellbar, andere nicht.</span><span class="sxs-lookup"><span data-stu-id="a1e07-130">Some errors are recoverable and some are not.</span></span> <span data-ttu-id="a1e07-131">Beispielsweise ist der Fehler "der Server ist nicht verfügbar" ein BEHEB barer Fehler, und der Fehler "Zugriff verweigert" ist ein schwerwiegender Fehler.</span><span class="sxs-lookup"><span data-stu-id="a1e07-131">For example, the error "Server is Unavailable" is a recoverable error, and the error "Access Denied" is a fatal error.</span></span> <span data-ttu-id="a1e07-132">Bits versetzt wiederherstellbare Fehler in einen vorübergehenden Fehlerzustand und versucht den Auftrag nach einem bestimmten Intervall erneut.</span><span class="sxs-lookup"><span data-stu-id="a1e07-132">BITS puts recoverable errors in a transient error state and tries the job again after a specified interval.</span></span> <span data-ttu-id="a1e07-133">Wenn der Auftrag nicht fortgesetzt werden kann, verschiebt Bits den Auftrag in einen schwerwiegenden Fehlerzustand.</span><span class="sxs-lookup"><span data-stu-id="a1e07-133">If the job is unable to make progress, BITS moves the job to a fatal error state.</span></span> <span data-ttu-id="a1e07-134">Verwenden Sie die [**ibackgroundcopyjob:: setminimumretrydelay**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) -Methode und die [**ibackgroundcopyjob:: setnoprogresstimeout**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) -Methode, um zu steuern, wie Bits vorübergehende Fehler verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="a1e07-134">Use the [**IBackgroundCopyJob::SetMinimumRetryDelay**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) and [**IBackgroundCopyJob::SetNoProgressTimeout**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) methods to control how BITS processes transient errors.</span></span>

<span data-ttu-id="a1e07-135">Für Vordergrund Aufträge sollten Sie die Zeitspanne beschränken, die ein Auftrag im vorübergehenden Fehlerzustand verbleibt, und eine Wiederherstellung versuchen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-135">For foreground jobs, you should limit the amount of time you let a job stay in the transient error state and try to recover.</span></span> <span data-ttu-id="a1e07-136">Verwenden Sie die [**setnoprogresstimeout**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) -Methode, um die Zeitspanne zu begrenzen, in der ein Auftrag im vorübergehenden Fehlerzustand verbleibt, oder um einen schwerwiegenden Fehlerzustand zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-136">Use the [**SetNoProgressTimeout**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setnoprogresstimeout) method to limit the amount of time a job stays in the transient error state or to force the job into the fatal error state.</span></span> <span data-ttu-id="a1e07-137">Wenn Sie versuchen, eine Wiederherstellung durchzuführen, sollten Sie die [**setminimumretrydelay**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) -Methode verwenden, um die minimale Wiederholungs Verzögerung auf 60 Sekunden festzulegen, oder Sie können die [**ibackgroundcopyjob:: Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume) -Methode aufrufen, um den Auftrag erneut zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="a1e07-137">If you let the job try to recover, you should use the [**SetMinimumRetryDelay**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setminimumretrydelay) method to set the minimum retry delay to 60 seconds or call the [**IBackgroundCopyJob::Resume**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-resume) method to activate the job again.</span></span>

<span data-ttu-id="a1e07-138">Weitere Informationen finden Sie unter [**BG- \_ Auftrags \_ Status**](/windows/desktop/api/Bits/ne-bits-bg_job_state), [Lebenszyklus eines Bits-Auftrags](life-cycle-of-a-bits-job.md)und [Behandeln von Fehlern](handling-errors.md).</span><span class="sxs-lookup"><span data-stu-id="a1e07-138">For more information, see [**BG\_JOB\_STATE**](/windows/desktop/api/Bits/ne-bits-bg_job_state), [Life Cycle of a BITS Job](life-cycle-of-a-bits-job.md), and [Handling Errors](handling-errors.md).</span></span>

## <a name="measuring-network-bandwidth-usage"></a><span data-ttu-id="a1e07-139">Messen der Auslastung der Netzwerkbandbreite</span><span class="sxs-lookup"><span data-stu-id="a1e07-139">Measuring network bandwidth usage</span></span>

<span data-ttu-id="a1e07-140">Bits kann den Netzwerkadapter des Clients verwenden, um die verfügbare Netzwerkbandbreite zu schätzen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-140">BITS might use the client's network adapter to estimate available network bandwidth.</span></span> <span data-ttu-id="a1e07-141">Da Bits die Bandbreite nicht über den Client hinaus messen kann, kann Bits die WAN-Verbindung erfassen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-141">Because BITS is not able to measure bandwidth beyond the client, BITS may congest the WAN link.</span></span> <span data-ttu-id="a1e07-142">Zum Reduzieren der Überlastung der WAN-Verbindung können Sie die Gruppenrichtlinie " **MaxInternetBandwidth** " verwenden, um die vom Client verwendete Bandbreite einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="a1e07-142">To reduce congestion on the WAN link, you can use the **MaxInternetBandwidth** group policy to limit the amount of bandwidth that the client uses.</span></span> <span data-ttu-id="a1e07-143">Weitere Informationen finden Sie unter [Netzwerkbandbreite](network-bandwidth.md) und [Gruppenrichtlinien](group-policies.md).</span><span class="sxs-lookup"><span data-stu-id="a1e07-143">For more information, see [Network Bandwidth](network-bandwidth.md) and [Group Policies](group-policies.md).</span></span>

<span data-ttu-id="a1e07-144">Wenn Sie eine Anwendung schreiben, die von vielen Clients zum Herunterladen von Dateien von einem bestimmten Server verwendet wird, sollten Sie ein Schema in Erwägung nehmen, das die Download Anforderungen abgleicht, sodass Sie den Server nicht mit Anforderungen überladen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-144">If you are writing an application that many clients will use to download files from a given server, you should consider a scheme that staggers the download requests so you do not overload the server with requests.</span></span>

## <a name="setting-credentials-for-proxy-and-server-authentication"></a><span data-ttu-id="a1e07-145">Festlegen von Anmelde Informationen für die Proxy-und Server Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="a1e07-145">Setting credentials for proxy and server authentication</span></span>

<span data-ttu-id="a1e07-146">Wenn Sie davon ausgehen, dass der Proxy oder der Server Benutzer Anmelde Informationen erfordert, müssen Sie die Anmelde Informationen für Bits angeben.</span><span class="sxs-lookup"><span data-stu-id="a1e07-146">If you expect the proxy or server to require user credentials, you must provide the credentials to BITS.</span></span> <span data-ttu-id="a1e07-147">Um die Anmelde Informationen anzugeben, müssen Sie die [**IBackgroundCopyJob2:: Set-Anmelde**](/windows/desktop/api/Bits1_5/nf-bits1_5-ibackgroundcopyjob2-setcredentials) Informationen-Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-147">To specify the credentials, call the [**IBackgroundCopyJob2::SetCredentials**](/windows/desktop/api/Bits1_5/nf-bits1_5-ibackgroundcopyjob2-setcredentials) method.</span></span> <span data-ttu-id="a1e07-148">Bits unterstützt die Authentifizierungs Schemas Basic, Digest, Aushandlung, NTLM und Passport.</span><span class="sxs-lookup"><span data-stu-id="a1e07-148">BITS supports Basic, Digest, Negotiate, NTLM, and Passport authentication schemes.</span></span>

<span data-ttu-id="a1e07-149">Weitere Informationen zur Authentifizierung finden Sie unter [Authentifizierung](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="a1e07-149">For details on authentication, see [Authentication](authentication.md).</span></span>

## <a name="specifying-proxy-settings-for-user-accounts-and-service-accounts"></a><span data-ttu-id="a1e07-150">Angeben von Proxy Einstellungen für Benutzerkonten und Dienst Konten</span><span class="sxs-lookup"><span data-stu-id="a1e07-150">Specifying proxy settings for user accounts and service accounts</span></span>

<span data-ttu-id="a1e07-151">Standardmäßig verwendet Bits die Internet Explorer-Proxy Einstellungen des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="a1e07-151">By default, BITS uses the user's Internet Explorer proxy settings.</span></span> <span data-ttu-id="a1e07-152">Um die Internet Explorer-Proxy Einstellungen des Benutzers außer Kraft zu setzen, müssen Sie die [**ibackgroundcopyjob:: setproxysettings**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setproxysettings) -Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-152">To override the user's Internet Explorer proxy settings, call the [**IBackgroundCopyJob::SetProxySettings**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setproxysettings) method.</span></span>

<span data-ttu-id="a1e07-153">Die Internet Explorer-Proxy Einstellungen gelten nicht für Systemkonten. Daher funktioniert das standardmäßige Proxy Verhalten (**preconfig für die Verwendung von BG- \_ Auftrags \_ Proxys \_ \_**) nur ordnungsgemäß in WPAD-bereit Stellungen (Web Proxy Auto-Discovery Protocol), es sei denn, es werden zusätzliche Konfigurationsschritte ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="a1e07-153">The Internet Explorer proxy settings do not apply to system accounts, so the default proxy behavior (**BG\_JOB\_PROXY\_USAGE\_PRECONFIG**) will only work correctly in Web Proxy Auto-Discovery Protocol (WPAD) deployments, unless additional configuration steps are taken.</span></span> <span data-ttu-id="a1e07-154">Wenn es sich bei Ihrer Anwendung um einen Dienst handelt, der als "LocalSystem", "LocalService" oder "Network Service" ausgeführt wird, sollten Sie ein Hilfsobjekt für ihre Bits-Aufträge konfigurieren oder die korrekten Proxy Einstellungen explizit festlegen, indem Sie [**ibackgroundcopyjob:: setproxysettings**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setproxysettings) mit der **\_ \_ \_ \_ außer Kraft** setzung der</span><span class="sxs-lookup"><span data-stu-id="a1e07-154">If your application is a service running as LocalSystem, LocalService, or NetworkService, consider configuring a helper token on your BITS jobs, or explicitly setting the correct proxy settings by calling [**IBackgroundCopyJob::SetProxySettings**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-setproxysettings) with **BG\_JOB\_PROXY\_USAGE\_OVERRIDE**.</span></span> <span data-ttu-id="a1e07-155">Als Alternative können Sie die **/util/SetIEProxy** -Schalter von BitsAdmin.exe verwenden, um Internet Explorer-Proxy Einstellungen für das Systemkonto "LocalSystem", "LocalService" oder "Network Service" festzulegen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-155">As an alternative, you can use the **/Util /SetIEProxy** switches of BitsAdmin.exe to set Internet Explorer proxy settings for the LocalSystem, LocalService, or NetworkService system account.</span></span> <span data-ttu-id="a1e07-156">Weitere Informationen finden Sie unter [bitadmin-Tool](bitsadmin-tool.md).</span><span class="sxs-lookup"><span data-stu-id="a1e07-156">For details, see [BitsAdmin Tool](bitsadmin-tool.md).</span></span>

<span data-ttu-id="a1e07-157">Bits erkennt die Proxy Einstellungen nicht, die mithilfe der Proxycfg.exe Datei festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="a1e07-157">BITS does not recognize the proxy settings that are set using the Proxycfg.exe file.</span></span>

<span data-ttu-id="a1e07-158">Beginnend mit dem Windows 10-Update vom Oktober 2018 (10,0; Build 17763), Bits verwendet dieselbe Proxy Reihenfolge, die WinHTTP mit AUTOMATIC_PROXY verwendet.</span><span class="sxs-lookup"><span data-stu-id="a1e07-158">Starting with the Windows 10 October 2018 Update (10.0; Build 17763), BITS uses the same proxy order that WinHttp uses with AUTOMATIC_PROXY.</span></span> <span data-ttu-id="a1e07-159">Bits verwendet diese kompatibler Reihenfolge, wenn BG_JOB_PROXY_USAGE_PRECONFIG angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="a1e07-159">BITS uses this more compatible ordering when BG_JOB_PROXY_USAGE_PRECONFIG is specified.</span></span> <span data-ttu-id="a1e07-160">BG_JOB_PROXY_USAGE_PRECONFIG ist der Standardwert für die Angabe des HTTP-Proxys.</span><span class="sxs-lookup"><span data-stu-id="a1e07-160">BG_JOB_PROXY_USAGE_PRECONFIG is the default value for specifying the HTTP proxy.</span></span>

## <a name="specifying-user-specific-settings-for-authenticating-proxies"></a><span data-ttu-id="a1e07-161">Angeben von benutzerspezifischen Einstellungen für das Authentifizieren von Proxys</span><span class="sxs-lookup"><span data-stu-id="a1e07-161">Specifying user-specific settings for authenticating proxies</span></span>

<span data-ttu-id="a1e07-162">Wenn Sie Bits in einer Umgebung verwenden, die bei Ausführung als Konto ohne verwendbare NTLM-oder Kerberos-Anmelde Informationen in der Netzwerk Domäne des Computers eine Proxy Authentifizierung erfordert, müssen Sie zusätzliche Schritte ausführen, um die Authentifizierung mithilfe der Anmelde Informationen eines anderen Benutzerkontos, das über Anmelde Informationen für die Domäne verfügt, ordnungsgemäß durchführen zu können.</span><span class="sxs-lookup"><span data-stu-id="a1e07-162">If you are using BITS in an environment that requires proxy authentication while running as an account without usable NTLM or Kerberos credentials in the machine's network domain, you must take extra steps to authenticate properly by using the credentials of another user account that does have credentials on the domain.</span></span> <span data-ttu-id="a1e07-163">Dies ist ein typisches Szenario, wenn Ihr Bits-Code als Systemdienst wie LocalService, Network Service oder LocalSystem ausgeführt wird, da diese Konten keine verwendbaren NTLM-oder Kerberos-Anmelde Informationen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-163">This is a typical scenario when your BITS code is running as a system service such as LocalService, NetworkService, or LocalSystem, as those accounts do not have usable NTLM or Kerberos credentials.</span></span>

<span data-ttu-id="a1e07-164">Ausführliche Informationen zur Funktionsweise der Authentifizierung in diesem Szenario finden Sie unter [Authentifizierung.](authentication.md)</span><span class="sxs-lookup"><span data-stu-id="a1e07-164">For details on how authentication works in this scenario, see [Authentication.](authentication.md)</span></span>

## <a name="scalability"></a><span data-ttu-id="a1e07-165">Skalierbarkeit</span><span class="sxs-lookup"><span data-stu-id="a1e07-165">Scalability</span></span>

<span data-ttu-id="a1e07-166">Wenn sich mehr als 100 Aufträge in der Warteschlange befinden, kann die Leistung ggf. in Abhängigkeit von der Zusammensetzung des Auftrags gesenkt werden.</span><span class="sxs-lookup"><span data-stu-id="a1e07-166">If more than 100 jobs are in the queue, performance may start to decrease depending on the composition of the job.</span></span> <span data-ttu-id="a1e07-167">Bits verwendet die Richtlinien Einstellung " [maxjobspermachine](group-policies.md) ", um einen festen Grenzwert für die Anzahl der Aufträge in der Warteschlange festzulegen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-167">BITS uses the [MaxJobsPerMachine](group-policies.md) policy setting to impose a hard limit on the number of jobs in the queue.</span></span> <span data-ttu-id="a1e07-168">Anwendungen sollten die Anzahl ihrer Aufträge auf ungefähr 10 beschränken, sodass mehrere Anwendungen die 100-Job-Richtlinie nicht überschreiten können.</span><span class="sxs-lookup"><span data-stu-id="a1e07-168">Applications should limit the number of their jobs to about 10, so that multiple applications will have less of a chance of exceeding the 100-job guideline.</span></span> <span data-ttu-id="a1e07-169">In der Regel würde eine Anwendung mit einer großen Anzahl von zu über mittelenden Aufträgen zunächst 10 Aufträge übermitteln und diese dann einzeln einreichen, sobald jeder Auftrag abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="a1e07-169">Typically, an application with a large number of jobs to submit would first submit 10 jobs and then submit one at a time as each job finishes.</span></span>

<span data-ttu-id="a1e07-170">Die Anzahl der Dateien im Auftrag sollte auch auf maximal 10 Dateien beschränkt sein.</span><span class="sxs-lookup"><span data-stu-id="a1e07-170">The number of files in the job should also be limited to a maximum of 10 files.</span></span> <span data-ttu-id="a1e07-171">Wenn Sie eine große Anzahl von Dateien für einen Auftrag übertragen möchten, sollten Sie stattdessen eine CAB-Datei erstellen, die alle Dateien enthält.</span><span class="sxs-lookup"><span data-stu-id="a1e07-171">If you want to transfer a large number of files for a job, consider creating a CAB file that contains all the files instead.</span></span>

## <a name="http-headers-can-be-in-any-case"></a><span data-ttu-id="a1e07-172">HTTP-Header können in jedem Fall vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="a1e07-172">HTTP Headers can be in any case</span></span>

<span data-ttu-id="a1e07-173">Die HTTP-Standards haben immer gesagt, dass HTTP-Header bei der Groß-/Kleinschreibung nicht beachtet werden müssen (RFC 7230, Abschnitt 3,2).</span><span class="sxs-lookup"><span data-stu-id="a1e07-173">The HTTP standards have always said that HTTP headers must be treated as case-insensitive (RFC 7230 section 3.2).</span></span> <span data-ttu-id="a1e07-174">Der neueste http-Standard RFC 7540 geht weiter und besagt, dass http/2-Datenverkehr die Header als groß-und Kleinschreibung vergleichen muss und Header in Kleinbuchstaben (RFC 6540, Abschnitt 8.1.2) enthalten muss.</span><span class="sxs-lookup"><span data-stu-id="a1e07-174">The most recent HTTP standard, RFC 7540, goes further and says that HTTP/2 traffic must compare the headers as case-insensitive and must present headers in lower case (RFC 6540, section 8.1.2).</span></span> <span data-ttu-id="a1e07-175">Auch wenn Datenverkehr mit nicht in Kleinbuchstaben gesendeten Headern gesendet wird, können Proxys die Groß-/Kleinschreibung der Header erzwingen.</span><span class="sxs-lookup"><span data-stu-id="a1e07-175">Even when traffic is sent with non lower-case headers, proxies may well choose to force the headers to lower-case.</span></span>

## <a name="avoiding-personally-identifiable-information-pii"></a><span data-ttu-id="a1e07-176">Vermeiden von personenbezogenen Informationen (PII)</span><span class="sxs-lookup"><span data-stu-id="a1e07-176">Avoiding personally identifiable information (PII)</span></span>

<span data-ttu-id="a1e07-177">BITS-Aufträge einschließlich Auftrags Anzeige Name, Beschreibung und Dateinamen sind für alle Benutzer mit Administratorrechten sichtbar.</span><span class="sxs-lookup"><span data-stu-id="a1e07-177">BITS jobs including the job display name and description and file names are visible to all users with admin privileges.</span></span> <span data-ttu-id="a1e07-178">Sie können auch Windows-Telemetriedaten hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="a1e07-178">They may also be added to Windows Telemetry.</span></span> <span data-ttu-id="a1e07-179">Vermeiden Sie es, vertrauliche Daten (z. b. den Namen des Benutzers) in den Auftragsdetails zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="a1e07-179">You should avoid putting sensitive data (like the user's own name) in the job details.</span></span>
