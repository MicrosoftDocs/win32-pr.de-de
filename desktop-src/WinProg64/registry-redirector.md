---
title: Registrierungs Redirector
description: Der Registrierungs Redirector isoliert 32-Bit-und 64-Bit-Anwendungen, indem er separate logische Sichten bestimmter Teile der Registrierung auf WOW64 bereitstellt.
ms.assetid: b3989f79-0439-485a-96c1-4f2227d48653
keywords:
- 64-Bit-Windows-Programmier Handbuch 64-Bit Windows-Programmierung, Registry Redirector
- Registry Redirector 64-Bit-Windows-Programmierung
- Umleitung 64-Bit-Windows-Programmierung
- WOW64 64-Bit-Windows-Programmierung, Registry Redirector
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 04c11e68f307aa014adb7cae8415f1baba155678
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104388405"
---
# <a name="registry-redirector"></a><span data-ttu-id="1f68e-107">Registrierungs Redirector</span><span class="sxs-lookup"><span data-stu-id="1f68e-107">Registry Redirector</span></span>

<span data-ttu-id="1f68e-108">Der Registrierungs Redirector isoliert 32-Bit-und 64-Bit-Anwendungen, indem er separate logische Sichten bestimmter Teile der Registrierung auf WOW64 bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-108">The registry redirector isolates 32-bit and 64-bit applications by providing separate logical views of certain portions of the registry on WOW64.</span></span> <span data-ttu-id="1f68e-109">Der Registrierungs-Redirector fängt 32-Bit-und 64-Bit-Registrierungs Aufrufe an die entsprechenden logischen Registrierungs Sichten ab und ordnet diese dem entsprechenden physischen Registrierungs Speicherort zu.</span><span class="sxs-lookup"><span data-stu-id="1f68e-109">The registry redirector intercepts 32-bit and 64-bit registry calls to their respective logical registry views and maps them to the corresponding physical registry location.</span></span> <span data-ttu-id="1f68e-110">Der Umleitungs Vorgang ist für die Anwendung transparent.</span><span class="sxs-lookup"><span data-stu-id="1f68e-110">The redirection process is transparent to the application.</span></span> <span data-ttu-id="1f68e-111">Aus diesem Grund kann eine 32-Bit-Anwendung auf Registrierungsdaten zugreifen, als ob Sie auf 32-Bit-Fenstern ausgeführt würde, auch wenn die Daten an einem anderen Speicherort unter 64-Bit-Windows gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="1f68e-111">Therefore, a 32-bit application can access registry data as if it were running on 32-bit Windows even if the data is stored in a different location on 64-bit Windows.</span></span>

<span data-ttu-id="1f68e-112">**Windows 10 auf ARM:** Zusätzlich zur logischen 32-Bit-Ansicht für x86-Anwendungen enthält Windows 10 auf Arm eine separate logische Ansicht für 32-Bit-ARM-Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="1f68e-112">**Windows 10 on ARM:** In addition to the 32-bit logical view for x86 applications, Windows 10 on ARM includes a separate logical view for 32-bit ARM applications.</span></span>

<span data-ttu-id="1f68e-113">Eine Teilmenge der Schlüssel unter umgeleiteten Registrierungs Pfaden wird freigegeben.</span><span class="sxs-lookup"><span data-stu-id="1f68e-113">A subset of keys under redirected registry paths are shared.</span></span> <span data-ttu-id="1f68e-114">32-Bit-Registrierungs Aufrufe von freigegebenen Schlüsseln werden nicht umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="1f68e-114">32-bit registry calls to shared keys are not redirected.</span></span> <span data-ttu-id="1f68e-115">Stattdessen wird jeder logischen Ansicht der Registrierung eine physische Kopie des Schlüssels zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="1f68e-115">Instead, one physical copy of the key is mapped into each logical view of the registry.</span></span> <span data-ttu-id="1f68e-116">Eine Liste der umgeleiteten Schlüssel und der gemeinsam genutzten Schlüssel finden Sie unter [von WOW64 betroffene Registrierungsschlüssel](shared-registry-keys.md).</span><span class="sxs-lookup"><span data-stu-id="1f68e-116">For a list of redirected keys and shared keys, see [Registry Keys Affected by WOW64](shared-registry-keys.md).</span></span>

<span data-ttu-id="1f68e-117">**Windows Server 2008, Windows Vista, Windows Server 2003 und Windows XP:** Zum Aktivieren der Anwendungs Interoperabilität durch com und andere Mechanismen wird auch eine Teilmenge der umgeleiteten Registrierungsschlüssel *reflektiert*.</span><span class="sxs-lookup"><span data-stu-id="1f68e-117">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** To enable application interoperability through COM and other mechanisms, a subset of redirected registry keys are also *reflected*.</span></span> <span data-ttu-id="1f68e-118">Der Prozess der Registrierungs Reflektion kopiert Registrierungsschlüssel und-Werte zwischen zwei Registrierungs Sichten, um sie synchron zu halten.</span><span class="sxs-lookup"><span data-stu-id="1f68e-118">The process of registry reflection copies registry keys and values between two registry views to keep them synchronized.</span></span> <span data-ttu-id="1f68e-119">Die Registrierungs Reflektion wurde ab Windows 7 und Windows Server 2008 R2 entfernt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-119">Registry reflection was removed starting with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="1f68e-120">Weitere Informationen finden Sie unter [Registry Reflection](registry-reflection.md).</span><span class="sxs-lookup"><span data-stu-id="1f68e-120">For more information, see [Registry Reflection](registry-reflection.md).</span></span>

<span data-ttu-id="1f68e-121">Das folgende Szenario veranschaulicht die Verwendung dieser logischen Sichten:</span><span class="sxs-lookup"><span data-stu-id="1f68e-121">The following scenario illustrates the use of these logical views:</span></span>

-   <span data-ttu-id="1f68e-122">Eine 32-Bit-x86-Anwendung prüft, ob der folgende Registrierungsschlüssel vorhanden ist: **HKEY \_ local \_ Machine \\ Software \\ Hello**.</span><span class="sxs-lookup"><span data-stu-id="1f68e-122">A 32-bit x86 application checks for the existence of the following registry key: **HKEY\_LOCAL\_MACHINE\\Software\\Hello**.</span></span> <span data-ttu-id="1f68e-123">Wenn der Schlüssel nicht vorhanden ist, wird er von der Anwendung mit dem Standardwert "Hello 32-Bit x86 World" erstellt; Andernfalls wird der Wert gelesen und angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-123">If the key does not exist, the application creates it with a default value of "Hello 32-bit x86 world"; otherwise, it reads and displays the value.</span></span>
-   <span data-ttu-id="1f68e-124">Dieselbe Anwendung wird so geändert, dass Sie "Hello 64-Bit World" anstelle von "Hello 32-Bit x86 World" schreibt und als 64-Bit x64-oder ARM64-Anwendung neu kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="1f68e-124">The same application is modified to write "Hello 64-bit world" instead of "Hello 32-bit x86 world" and recompiled as a 64-bit x64 or ARM64 application.</span></span>
-   <span data-ttu-id="1f68e-125">**Windows 10 auf ARM:** Dieselbe Anwendung wird so geändert, dass Sie "Hello 32-Bit ARM World" schreibt und als 32-Bit-ARM-Anwendung neu kompiliert wird.</span><span class="sxs-lookup"><span data-stu-id="1f68e-125">**Windows 10 on ARM:** The same application is modified to write “Hello 32-bit ARM world” and recompiled as a 32-bit ARM application.</span></span>
-   <span data-ttu-id="1f68e-126">Wenn die 32-Bit-x86-Anwendung auf 64-Bit-Windows ausgeführt wird, wird "Hello 32-Bit x86 World" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-126">When the 32-bit x86 application is run on 64-bit Windows, it displays "Hello 32-bit x86 world".</span></span> <span data-ttu-id="1f68e-127">Wenn die 64-Bit-Anwendung ausgeführt wird, wird "Hello 64-Bit World" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-127">When the 64-bit application is run, it displays "Hello 64-bit world".</span></span> <span data-ttu-id="1f68e-128">**Windows 10 auf ARM:** Wenn die 32-Bit-ARM-Anwendung unter 64-Bit ARM64 Windows ausgeführt wird, wird "Hello 32-Bit ARM World" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-128">**Windows 10 on ARM:** When the 32-bit ARM application is run on 64-bit ARM64 Windows, it displays "Hello 32-bit ARM world".</span></span> <span data-ttu-id="1f68e-129">Alle Anwendungen nennen dieselben Registrierungsfunktionen mit demselben vordefinierten Handle und demselben Schlüsselnamen. der Unterschied besteht darin, dass jede Anwendung mit ihrer logischen Ansicht der Registrierung arbeitet und jede Ansicht einem separaten physischen Speicherort der Registrierung zugeordnet ist. Dadurch bleiben alle Versionen der Zeichenfolge intakt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-129">All applications call the same registry functions with the same predefined handle and the same key name; the difference is that each application operates on its logical view of registry, and each view is mapped to a separate physical location of the registry, which keeps all versions of the string intact.</span></span>

<span data-ttu-id="1f68e-130">Umgeleitete Schlüssel werden physischen Standorten unter **Wow6432Node** zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="1f68e-130">Redirected keys are mapped to physical locations under **Wow6432Node**.</span></span> <span data-ttu-id="1f68e-131">Beispielsweise wird die **Software HKEY \_ local \_ Machine \\** an **HKEY \_ local \_ Machine \\ Software \\ Wow6432Node** umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="1f68e-131">For example, **HKEY\_LOCAL\_MACHINE\\Software** is redirected to **HKEY\_LOCAL\_MACHINE\\Software\\Wow6432Node**.</span></span> <span data-ttu-id="1f68e-132">Der physische Speicherort umgeleiteter Schlüssel sollte jedoch vom System als reserviert betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="1f68e-132">However, the physical location of redirected keys should be considered reserved by the system.</span></span> <span data-ttu-id="1f68e-133">Anwendungen sollten nicht direkt auf den physischen Speicherort eines Schlüssels zugreifen, da sich dieser Speicherort möglicherweise ändert.</span><span class="sxs-lookup"><span data-stu-id="1f68e-133">Applications should not access a key's physical location directly, because this location may change.</span></span> <span data-ttu-id="1f68e-134">Weitere Informationen finden Sie unter [zugreifen auf eine Alternative Registrierungs Ansicht](accessing-an-alternate-registry-view.md).</span><span class="sxs-lookup"><span data-stu-id="1f68e-134">For more information, see [Accessing an Alternate Registry View](accessing-an-alternate-registry-view.md).</span></span>

<span data-ttu-id="1f68e-135">**Windows 10 auf ARM:** Umgeleitete 32-Bit-ARM-Schlüssel werden physischen Standorten unter WowAA32Node zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="1f68e-135">**Windows 10 on ARM:** Redirected 32-bit ARM keys are mapped to physical locations under WowAA32Node.</span></span>

<span data-ttu-id="1f68e-136">Um 32-Bit-Anwendungen zu unterstützen, die **reg \_ SZ** oder reg schreiben, erweitern Sie die **\_ \_ SZ** -Daten, die% Program Files% oder% COMMONPROGRAMFILES% enthalten, in die Registrierung. WOW64 fängt diese Schreibvorgänge ab und ersetzt Sie durch "% Program Files (x86)%" und "% COMMONPROGRAMFILES (x86)%".</span><span class="sxs-lookup"><span data-stu-id="1f68e-136">To help 32-bit applications that write **REG\_SZ** or **REG\_EXPAND\_SZ** data containing %ProgramFiles% or %commonprogramfiles% to the registry, WOW64 intercepts these write operations and replaces them with "%ProgramFiles(x86)%" and "%commonprogramfiles(x86)%".</span></span> <span data-ttu-id="1f68e-137">Wenn sich beispielsweise das Verzeichnis "Programme" auf Laufwerk c befindet, wird "% Program Files (x86)%" zu "C: \\ Programme (x86)" erweitert.</span><span class="sxs-lookup"><span data-stu-id="1f68e-137">For example, if the Program Files directory is on the C drive, then "%ProgramFiles(x86)%" expands to "C:\\Program Files (x86)".</span></span> <span data-ttu-id="1f68e-138">Der Austausch tritt nur auf, wenn die folgenden Bedingungen erfüllt sind:</span><span class="sxs-lookup"><span data-stu-id="1f68e-138">The replacement occurs only if the following conditions are met:</span></span>

-   <span data-ttu-id="1f68e-139">Die Zeichenfolge muss mit% Program Files% oder% COMMONPROGRAMFILES% beginnen.</span><span class="sxs-lookup"><span data-stu-id="1f68e-139">The string must begin with %ProgramFiles% or %commonprogramfiles%.</span></span> <span data-ttu-id="1f68e-140">Wenn die Zeichenfolge mit einem Leerzeichen oder einem anderen Zeichen als% beginnt, wird es nicht ersetzt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-140">If the string begins with a space or any character other than %, it is not replaced.</span></span>
-   <span data-ttu-id="1f68e-141">Die Groß-/Kleinschreibung von% Program Files% oder% COMMONPROGRAMFILES% muss genau wie gezeigt lauten, da beim Zeichen folgen Vergleich die Groß-/Kleinschreibung beachtet wird</span><span class="sxs-lookup"><span data-stu-id="1f68e-141">The case of %ProgramFiles% or %commonprogramfiles% must be exactly as shown because the string comparison is case-sensitive.</span></span> <span data-ttu-id="1f68e-142">Wenn die Zeichenfolge z. b. mit% COMMONPROGRAMFILES% anstelle von% COMMONPROGRAMFILES% beginnt, wird Sie nicht ersetzt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-142">For example, if the string begins with %CommonProgramFiles% instead of %commonprogramfiles%, it is not replaced.</span></span>
-   <span data-ttu-id="1f68e-143">Die Zeichenfolge darf den maximalen \_ Pfad von \* 2 + 15 Zeichen nicht überschreiten.</span><span class="sxs-lookup"><span data-stu-id="1f68e-143">The string cannot exceed MAX\_PATH\*2+15 characters.</span></span> <span data-ttu-id="1f68e-144">Wenn Sie diese Länge überschreitet, wird Sie nicht ersetzt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-144">If it exceeds this length, it is not replaced.</span></span>
-   <span data-ttu-id="1f68e-145">Der Schlüssel kann nicht mit dem Schlüssel \_ WOW64 \_ 64key geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="1f68e-145">The key cannot be opened with KEY\_WOW64\_64KEY.</span></span> <span data-ttu-id="1f68e-146">Dieses Flag gibt an, dass Vorgänge für den Schlüssel in der 64-Bit-Registrierungs Ansicht ausgeführt werden sollen, sodass es nicht ersetzt wird.</span><span class="sxs-lookup"><span data-stu-id="1f68e-146">This flag specifies that operations on the key should be performed on the 64-bit registry view, so it is not replaced.</span></span> <span data-ttu-id="1f68e-147">Weitere Informationen finden Sie unter [zugreifen auf eine Alternative Registrierungs Ansicht](accessing-an-alternate-registry-view.md).</span><span class="sxs-lookup"><span data-stu-id="1f68e-147">For more information, see [Accessing an Alternate Registry View](accessing-an-alternate-registry-view.md).</span></span>

<span data-ttu-id="1f68e-148">**Windows Server 2008, Windows Vista, Windows Server 2003 und Windows XP:** Das Key \_ Wow \_ 64 \_ 64key-Flag wirkt sich nicht darauf aus, ob ein Schlüssel ersetzt wird.</span><span class="sxs-lookup"><span data-stu-id="1f68e-148">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** The KEY\_WOW\_64\_64KEY flag does not affect whether a key is replaced.</span></span> <span data-ttu-id="1f68e-149">Dieses Flag wirkt sich auf die Ersetzung ab, beginnend mit Windows 7 und Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="1f68e-149">This flag affects replacement starting with Windows 7 and Windows Server 2008 R2.</span></span>

<span data-ttu-id="1f68e-150">Darüber hinaus werden die Registrierungsschlüssel "REG SZ" oder "reg" mit "System32" durch " \_ \_ syswow64" \_ ersetzt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-150">In addition, REG\_SZ or REG\_EXPAND\_SZ keys containing system32 are replaced with syswow64.</span></span> <span data-ttu-id="1f68e-151">Die Zeichenfolge muss mit dem Pfad beginnen, der auf oder unter% windir% \\ system32 zeigt.</span><span class="sxs-lookup"><span data-stu-id="1f68e-151">The string must begin with the path pointing to or under %windir%\\system32.</span></span> <span data-ttu-id="1f68e-152">Beim Zeichen folgen Vergleich wird die Groß-/Kleinschreibung nicht beachtet.</span><span class="sxs-lookup"><span data-stu-id="1f68e-152">The string comparison is not case-sensitive.</span></span> <span data-ttu-id="1f68e-153">Umgebungsvariablen werden vor der Übereinstimmung mit dem Pfad erweitert. Daher werden alle folgenden Pfade ersetzt:% windir% \\ system32,% systemroot% \\ system32 und C: \\ Windows \\ system32.</span><span class="sxs-lookup"><span data-stu-id="1f68e-153">Environment variables are expanded before matching the path, so all of the following paths are replaced: %windir%\\system32, %SystemRoot%\\system32, and C:\\windows\\system32.</span></span> <span data-ttu-id="1f68e-154">Dieser Patch wird nur auf die Schlüssel angewendet, die vor Windows 7 reflektiert wurden.</span><span class="sxs-lookup"><span data-stu-id="1f68e-154">This patch is applied only to the keys that were reflected prior to Windows 7.</span></span>

<span data-ttu-id="1f68e-155">Weitere Informationen finden Sie unter den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="1f68e-155">For more information, see the following topics:</span></span>

-   [<span data-ttu-id="1f68e-156">Registrierungs Reflektion</span><span class="sxs-lookup"><span data-stu-id="1f68e-156">Registry Reflection</span></span>](registry-reflection.md)
-   [<span data-ttu-id="1f68e-157">Registrierungsschlüssel, die von WOW64 betroffen sind</span><span class="sxs-lookup"><span data-stu-id="1f68e-157">Registry Keys Affected by WOW64</span></span>](shared-registry-keys.md)
-   [<span data-ttu-id="1f68e-158">Zugreifen auf eine Alternative Registrierungs Ansicht</span><span class="sxs-lookup"><span data-stu-id="1f68e-158">Accessing an Alternate Registry View</span></span>](accessing-an-alternate-registry-view.md)
-   [<span data-ttu-id="1f68e-159">Beispiel für Registrierungs Umleitung auf WOW64</span><span class="sxs-lookup"><span data-stu-id="1f68e-159">Example of Registry Redirection on WOW64</span></span>](example-of-registry-reflection-and-redirection-on-wow64.md)
-   [<span data-ttu-id="1f68e-160">Remote Registrierungs Zugriff in 64-Bit-Windows</span><span class="sxs-lookup"><span data-stu-id="1f68e-160">Remote Registry Access in 64-bit Windows</span></span>](remote-registry-access-in-64-bit-windows.md)

 

 




