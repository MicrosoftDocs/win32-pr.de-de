---
title: Datei System-Redirector
description: Das Verzeichnis windir \\ system32 ist für 64-Bit-Anwendungen auf 64-Bit-Windows reserviert.
ms.assetid: b4d36fe8-8bbb-469b-8ad1-650d559a4c75
keywords:
- Dateisystem-Redirector 64-Bit-Windows-Programmierung
- 64-Bit-Windows-Programmier Handbuch 64-Bit Windows-Programmierung, Dateisystemredirector
- WOW64 64-Bit-Windows-Programmierung, Dateisystemredirector
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 561d03c8da51bd37a2d97746296bc74e24e43154
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104039320"
---
# <a name="file-system-redirector"></a><span data-ttu-id="09b2d-106">Datei System-Redirector</span><span class="sxs-lookup"><span data-stu-id="09b2d-106">File System Redirector</span></span>

<span data-ttu-id="09b2d-107">Das Verzeichnis% windir% \\ system32 ist für 64-Bit-Anwendungen auf 64-Bit-Windows reserviert.</span><span class="sxs-lookup"><span data-stu-id="09b2d-107">The %windir%\\System32 directory is reserved for 64-bit applications on 64-bit Windows.</span></span> <span data-ttu-id="09b2d-108">Die meisten DLL-Dateinamen wurden beim Erstellen von 64-Bit-Versionen der DLLs nicht geändert, sodass die 32-Bit-Versionen der DLLs in einem anderen Verzeichnis gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="09b2d-108">Most DLL file names were not changed when 64-bit versions of the DLLs were created, so 32-bit versions of the DLLs are stored in a different directory.</span></span> <span data-ttu-id="09b2d-109">WOW64 blendet diesen Unterschied mithilfe eines *Dateisystem-Redirectors* aus.</span><span class="sxs-lookup"><span data-stu-id="09b2d-109">WOW64 hides this difference by using a *file system redirector*.</span></span>

<span data-ttu-id="09b2d-110">In den meisten Fällen wird immer dann, wenn eine 32-Bit-Anwendung versucht, auf% WINDIR% \\ system32,% windir% \\ lastgood \\ system32 oder% windir% \\regedit.exe zuzugreifen, der Zugriff an einen architekturspezifischen Pfad umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="09b2d-110">In most cases, whenever a 32-bit application attempts to access %windir%\\System32, %windir%\\lastgood\\system32, or %windir%\\regedit.exe, the access is redirected to an architecture-specific path.</span></span>

> [!Note]  
> <span data-ttu-id="09b2d-111">Diese Pfade werden nur zur Referenz bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="09b2d-111">These paths are provided for reference only.</span></span> <span data-ttu-id="09b2d-112">Aus Kompatibilitätsgründen sollten Anwendungen diese Pfade nicht direkt verwenden.</span><span class="sxs-lookup"><span data-stu-id="09b2d-112">For compatibility, applications should not use these paths directly.</span></span> <span data-ttu-id="09b2d-113">Stattdessen sollten Sie die unten beschriebenen APIs aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="09b2d-113">Instead, they should call the APIs described below.</span></span>

 



|                              |                                          |                                          |
|------------------------------|------------------------------------------|------------------------------------------|
| <span data-ttu-id="09b2d-114">Original Path</span><span class="sxs-lookup"><span data-stu-id="09b2d-114">Original Path</span></span>                | <span data-ttu-id="09b2d-115">Umgeleiteter Pfad für 32-Bit-x86-Prozesse</span><span class="sxs-lookup"><span data-stu-id="09b2d-115">Redirected Path for 32-bit x86 Processes</span></span> | <span data-ttu-id="09b2d-116">Umgeleiteter Pfad für 32-Bit-ARM-Prozesse</span><span class="sxs-lookup"><span data-stu-id="09b2d-116">Redirected Path for 32-bit ARM Processes</span></span> |
| <span data-ttu-id="09b2d-117">% windir% \\ system32</span><span class="sxs-lookup"><span data-stu-id="09b2d-117">%windir%\\System32</span></span>           | <span data-ttu-id="09b2d-118">% windir% \\ syswow64</span><span class="sxs-lookup"><span data-stu-id="09b2d-118">%windir%\\SysWOW64</span></span>                       | <span data-ttu-id="09b2d-119">% windir% \\ SysArm32</span><span class="sxs-lookup"><span data-stu-id="09b2d-119">%windir%\\SysArm32</span></span>                       |
| <span data-ttu-id="09b2d-120">% windir% \\ lastgood \\ system32</span><span class="sxs-lookup"><span data-stu-id="09b2d-120">%windir%\\lastgood\\system32</span></span> | <span data-ttu-id="09b2d-121">% windir% \\ lastgood \\ syswow64</span><span class="sxs-lookup"><span data-stu-id="09b2d-121">%windir%\\lastgood\\SysWOW64</span></span>             | <span data-ttu-id="09b2d-122">% windir% \\ lastgood \\ SysArm32</span><span class="sxs-lookup"><span data-stu-id="09b2d-122">%windir%\\lastgood\\SysArm32</span></span>             |
| <span data-ttu-id="09b2d-123">% windir% \\regedit.exe</span><span class="sxs-lookup"><span data-stu-id="09b2d-123">%windir%\\regedit.exe</span></span>        | <span data-ttu-id="09b2d-124">% windir% \\ syswow64 \\regedit.exe</span><span class="sxs-lookup"><span data-stu-id="09b2d-124">%windir%\\SysWOW64\\regedit.exe</span></span>          | <span data-ttu-id="09b2d-125">% windir% \\ SysArm32 \\regedit.exe</span><span class="sxs-lookup"><span data-stu-id="09b2d-125">%windir%\\ SysArm32\\regedit.exe</span></span>         |



 

<span data-ttu-id="09b2d-126">Wenn der Zugriff bewirkt, dass das System die UAC-Eingabeaufforderung anzeigt, erfolgt keine Umleitung.</span><span class="sxs-lookup"><span data-stu-id="09b2d-126">If the access causes the system to display the UAC prompt, redirection does not occur.</span></span> <span data-ttu-id="09b2d-127">Stattdessen wird die 64-Bit-Version der angeforderten Datei gestartet.</span><span class="sxs-lookup"><span data-stu-id="09b2d-127">Instead, the 64-bit version of the requested file is launched.</span></span> <span data-ttu-id="09b2d-128">Um dieses Problem zu vermeiden, geben Sie entweder das Verzeichnis syswow64 an, um eine Umleitung zu vermeiden, und stellen Sie sicher, dass der Zugriff auf die 32-Bit-Version der Datei erfolgt, oder führen Sie die 32-Bit-Anwendung mit Administratorrechten aus.</span><span class="sxs-lookup"><span data-stu-id="09b2d-128">To prevent this problem, either specify the SysWOW64 directory to avoid redirection and ensure access to the 32-bit version of the file, or run the 32-bit application with administrator privileges so the UAC prompt is not displayed.</span></span>

<span data-ttu-id="09b2d-129">**Windows Server 2003 und Windows XP:  ** UAC wird nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="09b2d-129">**Windows Server 2003 and Windows XP:  ** UAC is not supported.</span></span>

<span data-ttu-id="09b2d-130">Bestimmte Unterverzeichnisse sind von der Umleitung ausgenommen.</span><span class="sxs-lookup"><span data-stu-id="09b2d-130">Certain subdirectories are exempt from redirection.</span></span> <span data-ttu-id="09b2d-131">Der Zugriff auf diese Unterverzeichnisse wird nicht an% windir% \\ syswow64 umgeleitet:</span><span class="sxs-lookup"><span data-stu-id="09b2d-131">Access to these subdirectories is not redirected to %windir%\\SysWOW64:</span></span> <dl> <span data-ttu-id="09b2d-132">% windir% \\ system32- \\ Basis</span><span class="sxs-lookup"><span data-stu-id="09b2d-132">%windir%\\system32\\catroot</span></span>  
<span data-ttu-id="09b2d-133">% windir% \\ system32 \\ Catroot2</span><span class="sxs-lookup"><span data-stu-id="09b2d-133">%windir%\\system32\\catroot2</span></span>  
<span data-ttu-id="09b2d-134">% windir% \\ system32 \\ DriverStore</span><span class="sxs-lookup"><span data-stu-id="09b2d-134">%windir%\\system32\\driverstore</span></span>  
<span data-ttu-id="09b2d-135">% windir% \\ system32 \\ Drivers \\ usw.</span><span class="sxs-lookup"><span data-stu-id="09b2d-135">%windir%\\system32\\drivers\\etc</span></span>  
<span data-ttu-id="09b2d-136">% windir% \\ system32 \\ Logfiles</span><span class="sxs-lookup"><span data-stu-id="09b2d-136">%windir%\\system32\\logfiles</span></span>  
<span data-ttu-id="09b2d-137">% windir% \\ system32 \\ Spool</span><span class="sxs-lookup"><span data-stu-id="09b2d-137">%windir%\\system32\\spool</span></span>  
</dl>

<span data-ttu-id="09b2d-138">**Windows Server 2008, Windows Vista, Windows Server 2003 und Windows XP:  **% windir% \\ system32 \\ DriverStore wird umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="09b2d-138">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:  **%windir%\\system32\\driverstore is redirected.</span></span>

<span data-ttu-id="09b2d-139">Zum Abrufen des Namens des 32-Bit-System Verzeichnisses sollten für 64-Bit-Anwendungen die [**GetSystemWow64Directory2**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directory2a) -Funktion (Windows 10, Version 1511) oder die [**GetSystemWow64Directory**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetknownfolderpath) -Funktion verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="09b2d-139">To retrieve the name of the 32-bit system directory, 64-bit applications should use the [**GetSystemWow64Directory2**](/windows/desktop/api/wow64apiset/nf-wow64apiset-getsystemwow64directory2a) function (Windows 10, version 1511) or the [**GetSystemWow64Directory**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetknownfolderpath) function.</span></span>

<span data-ttu-id="09b2d-140">Anwendungen sollten die [**shgetknownfolderpath**](https://www.bing.com/search?q=**SHGetKnownFolderPath**) -Funktion verwenden, um den% Program Files%-Verzeichnisnamen zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="09b2d-140">Applications should use the [**SHGetKnownFolderPath**](https://www.bing.com/search?q=**SHGetKnownFolderPath**) function to determine the %ProgramFiles% directory name.</span></span>

<span data-ttu-id="09b2d-141">**Windows Server 2003 und Windows XP:** Anwendungen sollten die [**SHGetSpecialFolderPath**](/windows/win32/api/shlobj_core/nf-shlobj_core-shgetspecialfolderpatha) -Funktion verwenden, um den% Program Files%-Verzeichnisnamen zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="09b2d-141">**Windows Server 2003 and Windows XP:** Applications should use the [**SHGetSpecialFolderPath**](/windows/win32/api/shlobj_core/nf-shlobj_core-shgetspecialfolderpatha) function to determine the %ProgramFiles% directory name.</span></span>

<span data-ttu-id="09b2d-142">Anwendungen können den Redirector von WOW64 File System mithilfe der Funktionen [**Wow64DisableWow64FsRedirection**](/windows/desktop/api/wow64apiset/nf-wow64apiset-wow64disablewow64fsredirection), [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection)und [**Wow64RevertWow64FsRedirection**](/windows/desktop/api/wow64apiset/nf-wow64apiset-wow64revertwow64fsredirection) steuern.</span><span class="sxs-lookup"><span data-stu-id="09b2d-142">Applications can control the WOW64 file system redirector using the [**Wow64DisableWow64FsRedirection**](/windows/desktop/api/wow64apiset/nf-wow64apiset-wow64disablewow64fsredirection), [**Wow64EnableWow64FsRedirection**](/windows/desktop/api/winbase/nf-winbase-wow64enablewow64fsredirection), and [**Wow64RevertWow64FsRedirection**](/windows/desktop/api/wow64apiset/nf-wow64apiset-wow64revertwow64fsredirection) functions.</span></span> <span data-ttu-id="09b2d-143">Die Deaktivierung der Dateisystem Umleitung wirkt sich auf alle Datei Vorgänge aus, die vom aufrufenden Thread ausgeführt werden. Daher sollte Sie nur bei Bedarf für einen einzelnen [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) -Aufruf deaktiviert und unmittelbar nach der Rückgabe der Funktion erneut aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="09b2d-143">Disabling file system redirection affects all file operations performed by the calling thread, so it should be disabled only when necessary for a single [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) call and re-enabled again immediately after the function returns.</span></span> <span data-ttu-id="09b2d-144">Die Deaktivierung der Dateisystem Umleitung für längere Zeiträume kann verhindern, dass 32-Bit-Anwendungen System-DLLs laden, sodass die Anwendungen nicht mehr funktionieren.</span><span class="sxs-lookup"><span data-stu-id="09b2d-144">Disabling file system redirection for longer periods can prevent 32-bit applications from loading system DLLs, causing the applications to fail.</span></span>

<span data-ttu-id="09b2d-145">32-Bit-Anwendungen können auf das systemeigene System Verzeichnis zugreifen, indem Sie% windir% \\ sysnative für% windir% \\ system32 ersetzen.</span><span class="sxs-lookup"><span data-stu-id="09b2d-145">32-bit applications can access the native system directory by substituting %windir%\\Sysnative for %windir%\\System32.</span></span> <span data-ttu-id="09b2d-146">WOW64 erkennt sysnative als speziellen Alias, mit dem angegeben wird, dass das Dateisystem den Zugriff nicht umleiten soll.</span><span class="sxs-lookup"><span data-stu-id="09b2d-146">WOW64 recognizes Sysnative as a special alias used to indicate that the file system should not redirect the access.</span></span> <span data-ttu-id="09b2d-147">Dieser Mechanismus ist flexibel und einfach zu verwenden. Daher wird empfohlen, die Umleitung des Dateisystems zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="09b2d-147">This mechanism is flexible and easy to use, therefore, it is the recommended mechanism to bypass file system redirection.</span></span> <span data-ttu-id="09b2d-148">Beachten Sie, dass 64-Bit-Anwendungen den sysnative-Alias nicht verwenden können, da es sich um ein virtuelles Verzeichnis handelt, das nicht richtig ist.</span><span class="sxs-lookup"><span data-stu-id="09b2d-148">Note that 64-bit applications cannot use the Sysnative alias as it is a virtual directory not a real one.</span></span>

<span data-ttu-id="09b2d-149">**Windows Server 2003 und Windows XP:** Der sysnative Alias wurde ab Windows Vista hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="09b2d-149">**Windows Server 2003 and Windows XP:** The Sysnative alias was added starting with Windows Vista.</span></span>

 

 