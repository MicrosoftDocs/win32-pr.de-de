---
description: Die Funktionen "SetNamedSecurityInfo" und "setsecurityinfo" unterstützen die Automatische Propagierung von vererbbaren Zugriffs Steuerungs Einträgen (ACEs).
ms.assetid: 0aa49b9b-13e3-4ef9-921d-ea47a013e5a1
title: Automatische Propagierung von vererbbaren ACEs
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8fab03c73a1c926468e46a0d0492e512dab42af6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104218832"
---
# <a name="automatic-propagation-of-inheritable-aces"></a><span data-ttu-id="db9bd-103">Automatische Propagierung von vererbbaren ACEs</span><span class="sxs-lookup"><span data-stu-id="db9bd-103">Automatic Propagation of Inheritable ACEs</span></span>

<span data-ttu-id="db9bd-104">Die Funktionen " [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) " und " [**setsecurityinfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) " unterstützen die Automatische Propagierung von vererbbaren [*Zugriffs Steuerungs Einträgen*](/windows/desktop/SecGloss/a-gly) (ACEs).</span><span class="sxs-lookup"><span data-stu-id="db9bd-104">The [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) and [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) functions support automatic propagation of inheritable [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs).</span></span> <span data-ttu-id="db9bd-105">Wenn Sie z. b. diese Funktionen zum Hinzufügen eines vererbbaren ACE zu einem Verzeichnis in einem NTFS verwenden, wendet das System den ACE entsprechend den [*Zugriffs Steuerungs Listen (Access Control Lists*](/windows/desktop/SecGloss/a-gly) , ACLs) aller vorhandenen Unterverzeichnisse oder Dateien an.</span><span class="sxs-lookup"><span data-stu-id="db9bd-105">For example, if you use these functions to add an inheritable ACE to a directory in an NTFS, the system applies the ACE as appropriate to the [*access control lists*](/windows/desktop/SecGloss/a-gly) (ACLs) of any existing subdirectories or files.</span></span>

<span data-ttu-id="db9bd-106">Direkt angewendete ACEs haben Vorrang vor geerbten ACEs.</span><span class="sxs-lookup"><span data-stu-id="db9bd-106">Directly applied ACEs have precedence over inherited ACEs.</span></span> <span data-ttu-id="db9bd-107">Das System implementiert diese Rangfolge, indem direkt angewendete ACEs in einer freigegebenen [*Zugriffs Steuerungs Liste*](/windows/desktop/SecGloss/d-gly) (DACL) vor geerbten ACEs platziert werden.</span><span class="sxs-lookup"><span data-stu-id="db9bd-107">The system implements this precedence by placing directly applied ACEs ahead of inherited ACEs in a [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL).</span></span> <span data-ttu-id="db9bd-108">Wenn Sie die Funktionen [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) und [**setsecurityinfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) aufrufen, um die Sicherheitsinformationen eines Objekts festzulegen, erzwingt das System das aktuelle Vererbungs Modell für die ACLs aller Objekte in der Hierarchie unterhalb des Zielobjekts.</span><span class="sxs-lookup"><span data-stu-id="db9bd-108">When you call the [**SetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setnamedsecurityinfoa) and [**SetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-setsecurityinfo) functions to set the security information of an object, the system imposes the current inheritance model on the ACLs of all objects in the hierarchy below the target object.</span></span> <span data-ttu-id="db9bd-109">Für Objekte, die in das aktuelle Vererbungs Modell konvertiert wurden, werden die automatisch geerbten SE \_ DACL-Werte für \_ automatisch \_ geerbte und SE \_ SACL \_ \_ im Steuerelement Feld der [*Sicherheits Beschreibung*](/windows/desktop/SecGloss/s-gly) des Objekts festgelegt.</span><span class="sxs-lookup"><span data-stu-id="db9bd-109">For objects that have been converted to the current inheritance model, the SE\_DACL\_AUTO\_INHERITED and SE\_SACL\_AUTO\_INHERITED bits are set in the control field of the [*security descriptor*](/windows/desktop/SecGloss/s-gly) of the object.</span></span>

<span data-ttu-id="db9bd-110">Wenn Sie eine neue Sicherheits Beschreibung erstellen, die das aktuelle Vererbungs Modell widerspiegelt, wird die Semantik der Sicherheits Beschreibung nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="db9bd-110">When you build a new security descriptor that reflects the current inheritance model, care is taken not to change the semantics of the security descriptor.</span></span> <span data-ttu-id="db9bd-111">Daher werden allow-und deny-ACEs niemals in Beziehung zueinander verschoben.</span><span class="sxs-lookup"><span data-stu-id="db9bd-111">As such, allow and deny ACEs are never moved in relation to one another.</span></span> <span data-ttu-id="db9bd-112">Wenn eine solche Verschiebung erforderlich ist (z. b. um alle nicht geerbten ACEs vor einer ACL zu platzieren), wird die ACL als geschützt gekennzeichnet, um die semantische Änderung zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="db9bd-112">If such movement is needed (for instance to place all noninherited ACEs at the front of an ACL), the ACL is marked as protected to prevent the semantic change.</span></span>

<span data-ttu-id="db9bd-113">Das System verwendet die folgenden Regeln, wenn geerbte ACEs an untergeordnete Objekte weitergegeben werden:</span><span class="sxs-lookup"><span data-stu-id="db9bd-113">The system uses the following rules when propagating inherited ACEs to child objects:</span></span>

-   <span data-ttu-id="db9bd-114">Wenn ein untergeordnetes Objekt ohne DACL einen ACE erbt, ist das Ergebnis ein untergeordnetes Objekt mit einer DACL, die nur den geerbten ACE enthält.</span><span class="sxs-lookup"><span data-stu-id="db9bd-114">If a child object with no DACL inherits an ACE, the result is a child object with a DACL that contains only the inherited ACE.</span></span>
-   <span data-ttu-id="db9bd-115">Wenn ein untergeordnetes Objekt mit einer leeren DACL einen ACE erbt, ist das Ergebnis ein untergeordnetes Objekt mit einer DACL, die nur den geerbten ACE enthält.</span><span class="sxs-lookup"><span data-stu-id="db9bd-115">If a child object with an empty DACL inherits an ACE, the result is a child object with a DACL that contains only the inherited ACE.</span></span>
-   <span data-ttu-id="db9bd-116">Wenn Sie einen vererbbaren ACE aus einem übergeordneten Objekt entfernen, entfernt die automatische Vererbung alle Kopien des ACE, die von untergeordneten Objekten geerbt wurden.</span><span class="sxs-lookup"><span data-stu-id="db9bd-116">If you remove an inheritable ACE from a parent object, automatic inheritance removes any copies of the ACE that were inherited by child objects.</span></span>
-   <span data-ttu-id="db9bd-117">Wenn die automatische Vererbung dazu führt, dass alle ACEs aus der DACL eines untergeordneten Objekts entfernt werden, hat das untergeordnete Objekt eine leere DACL und keine DACL.</span><span class="sxs-lookup"><span data-stu-id="db9bd-117">If automatic inheritance results in the removal of all ACEs from the DACL of a child object, the child object has an empty DACL rather than no DACL.</span></span>

<span data-ttu-id="db9bd-118">Diese Regeln können das unerwartete Ergebnis der Typumwandlung eines Objekts ohne DACL in ein Objekt mit einer leeren DACL haben.</span><span class="sxs-lookup"><span data-stu-id="db9bd-118">These rules can have the unexpected result of converting an object with no DACL to an object with an empty DACL.</span></span> <span data-ttu-id="db9bd-119">Ein Objekt ohne DACL ermöglicht den Vollzugriff, aber ein Objekt mit einer leeren DACL lässt keinen Zugriff zu.</span><span class="sxs-lookup"><span data-stu-id="db9bd-119">An object with no DACL allows full access, but an object with an empty DACL allows no access.</span></span> <span data-ttu-id="db9bd-120">Als Beispiel dafür, wie diese Regeln eine leere DACL erstellen können, nehmen Sie an, dass Sie dem Stamm Objekt einer Struktur von Objekten einen vererbbaren ACE hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="db9bd-120">As an example of how these rules can create an empty DACL, suppose you add an inheritable ACE to the root object of a tree of objects.</span></span> <span data-ttu-id="db9bd-121">Die automatische Vererbung gibt den vererbbaren ACE an alle Objekte in der Struktur weiter.</span><span class="sxs-lookup"><span data-stu-id="db9bd-121">Automatic inheritance propagates the inheritable ACE to all the objects in the tree.</span></span> <span data-ttu-id="db9bd-122">Untergeordnete Objekte, die ohne DACL gestartet wurden, verfügen jetzt über eine DACL mit dem geerbten ACE.</span><span class="sxs-lookup"><span data-stu-id="db9bd-122">Child objects that started with no DACL now have a DACL with the inherited ACE.</span></span> <span data-ttu-id="db9bd-123">Wenn Sie den vererbbaren ACE aus dem Stamm Objekt entfernen, gibt das System die Änderung automatisch an die untergeordneten Objekte weiter.</span><span class="sxs-lookup"><span data-stu-id="db9bd-123">If you remove the inheritable ACE from the root object, the system automatically propagates the change to the child objects.</span></span> <span data-ttu-id="db9bd-124">Untergeordnete Objekte, die ohne DACL gestartet werden (Vollzugriff zulassen), verfügen nun über eine leere DACL (ohne Zugriff).</span><span class="sxs-lookup"><span data-stu-id="db9bd-124">Child objects that started with no DACL (allowing full access) now have an empty DACL (allowing no access).</span></span>

<span data-ttu-id="db9bd-125">Um sicherzustellen, dass ein untergeordnetes Objekt ohne DACL von vererbbaren ACEs nicht betroffen ist, legen Sie das SE \_ DACL \_ Protected-Flag in der Sicherheits Beschreibung des-Objekts fest.</span><span class="sxs-lookup"><span data-stu-id="db9bd-125">To ensure that a child object with no DACL is not affected by inheritable ACEs, set the SE\_DACL\_PROTECTED flag in the security descriptor of the object.</span></span>

<span data-ttu-id="db9bd-126">Informationen dazu, wie Sie eine DACL ordnungsgemäß erstellen, finden Sie unter [Erstellen einer DACL](/windows/desktop/SecBP/creating-a-dacl).</span><span class="sxs-lookup"><span data-stu-id="db9bd-126">For information about how to properly create a DACL, see [Creating a DACL](/windows/desktop/SecBP/creating-a-dacl).</span></span>

 

 
