---
description: Stellt einen Mechanismus zum Steuern des Zugriffs auf Sicherungs fähige Objekte bereit.
ms.assetid: 5923cb4c-f663-40d2-989a-07d71ac475db
title: bevollmächtigende Integritätskontrolle
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c184ba01da0a55309fcb27ace9b0fe156edd6425
ms.sourcegitcommit: 4570ac533e129ff88b23f2c2b69e0140ead3a4a4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/26/2021
ms.locfileid: "106368271"
---
# <a name="mandatory-integrity-control"></a><span data-ttu-id="d6bc3-103">bevollmächtigende Integritätskontrolle</span><span class="sxs-lookup"><span data-stu-id="d6bc3-103">Mandatory Integrity Control</span></span>

<span data-ttu-id="d6bc3-104">Bevollmächtigende Integritätskontrolle (MIC) bietet einen Mechanismus zum Steuern des Zugriffs auf Sicherungs fähige Objekte.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-104">Mandatory Integrity Control (MIC) provides a mechanism for controlling access to securable objects.</span></span> <span data-ttu-id="d6bc3-105">Dieser Mechanismus ist zusätzlich zu einer freigegebenen Zugriffs Steuerung und wertet den Zugriff aus, bevor Zugriffs Überprüfungen für die freigegebene [*Zugriffs Steuerungs Liste*](/windows/desktop/SecGloss/d-gly) (DACL) eines Objekts ausgewertet werden.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-105">This mechanism is in addition to discretionary access control and evaluates access before access checks against an object's [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL) are evaluated.</span></span>

<span data-ttu-id="d6bc3-106">MIC verwendet Integritäts Ebenen und eine obligatorische Richtlinie zum Auswerten des Zugriffs.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-106">MIC uses integrity levels and mandatory policy to evaluate access.</span></span> <span data-ttu-id="d6bc3-107">[*Sicherheits Prinzipale und Sicherungs*](/windows/desktop/SecGloss/s-gly) fähige Objekte werden Integritäts Ebenen zugewiesen, mit denen die Schutz-oder Zugriffsebenen bestimmt werden.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-107">[*Security principals*](/windows/desktop/SecGloss/s-gly) and securable objects are assigned integrity levels that determine their levels of protection or access.</span></span> <span data-ttu-id="d6bc3-108">Beispielsweise kann ein Prinzipal mit einer Ebene mit niedriger Integrität nicht in ein Objekt mit mittlerer Integritäts Ebene schreiben, auch wenn die DACL dieses Objekts Schreibzugriff auf den Prinzipal zulässt.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-108">For example, a principal with a low integrity level cannot write to an object with a medium integrity level, even if that object's DACL allows write access to the principal.</span></span>

<span data-ttu-id="d6bc3-109">Windows definiert vier Integritäts Ebenen: niedrig, Mittel, hoch und System.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-109">Windows defines four integrity levels: low, medium, high, and system.</span></span> <span data-ttu-id="d6bc3-110">Standard Benutzer erhalten mittlere, erhöhte Benutzer mit erhöhten Rechten.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-110">Standard users receive medium, elevated users receive high.</span></span> <span data-ttu-id="d6bc3-111">Prozesse, die Sie starten, und von Ihnen erstellte Objekte erhalten Ihre Integritäts Stufe (Mittel oder hoch) oder niedrig, wenn die Ebene der ausführbaren Datei niedrig ist. Systemdienste erhalten Systemintegrität.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-111">Processes you start and objects you create receive your integrity level (medium or high) or low if the executable file's level is low; system services receive system integrity.</span></span> <span data-ttu-id="d6bc3-112">Objekte, die keine Integritäts Bezeichnung besitzen, werden vom Betriebssystem als Mittel behandelt. Dadurch wird verhindert, dass nicht beschriftete Objekte durch Code mit niedriger Integrität geändert werden.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-112">Objects that lack an integrity label are treated as medium by the operating system; this prevents low-integrity code from modifying unlabeled objects.</span></span> <span data-ttu-id="d6bc3-113">Darüber hinaus stellt Windows sicher, dass Prozesse, die mit einer niedrigen Integritäts Stufe ausgeführt werden, keinen Zugriff auf einen Prozess erhalten können, der einem App-Container zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-113">Additionally, Windows ensures that processes running with a low integrity level cannot obtain access to a process which is associated with an app container.</span></span>

## <a name="integrity-labels"></a><span data-ttu-id="d6bc3-114">Integritäts Bezeichnungen</span><span class="sxs-lookup"><span data-stu-id="d6bc3-114">Integrity Labels</span></span>

<span data-ttu-id="d6bc3-115">Integritäts Bezeichnungen geben die Integritäts Ebenen von Sicherungs fähigen Objekten und Sicherheits Prinzipale an.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-115">Integrity labels specify the integrity levels of securable objects and security principals.</span></span> <span data-ttu-id="d6bc3-116">Integritäts Bezeichnungen werden durch [*Integritäts-SIDs*](/windows/desktop/SecGloss/i-gly)dargestellt.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-116">Integrity labels are represented by [*integrity SIDs*](/windows/desktop/SecGloss/i-gly).</span></span> <span data-ttu-id="d6bc3-117">Die Integritäts-sid für ein Sicherungs fähiges Objekt wird in der [*System-Zugriffs Steuerungs Liste*](/windows/desktop/SecGloss/s-gly) (SACL) gespeichert.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-117">The integrity SID for a securable object is stored in its [*system access control list*](/windows/desktop/SecGloss/s-gly) (SACL).</span></span> <span data-ttu-id="d6bc3-118">Die SACL enthält ein [**System \_ obligatorisches " \_ \_ ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) [*Access Control Entry*](/windows/desktop/SecGloss/a-gly) (ACE)", das wiederum die Integritäts-sid enthält.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-118">The SACL contains a [**SYSTEM\_MANDATORY\_LABEL\_ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) [*access control entry*](/windows/desktop/SecGloss/a-gly) (ACE) that in turn contains the integrity SID.</span></span> <span data-ttu-id="d6bc3-119">Jedes Objekt ohne Integritäts-sid wird so behandelt, als ob es eine mittlere Integrität hätte.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-119">Any object without an integrity SID is treated as if it had medium integrity.</span></span>

<span data-ttu-id="d6bc3-120">Die Integritäts-sid für einen Sicherheits Prinzipal wird in Ihrem Zugriffs Token gespeichert.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-120">The integrity SID for a security principal is stored in its access token.</span></span> <span data-ttu-id="d6bc3-121">Ein Zugriffs Token kann eine oder mehrere Integritäts-SIDs enthalten.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-121">An access token may contain one or more integrity SIDs.</span></span>

<span data-ttu-id="d6bc3-122">Ausführliche Informationen zu den definierten Integritäts-SIDs finden Sie unter [Bekannte SIDs](well-known-sids.md).</span><span class="sxs-lookup"><span data-stu-id="d6bc3-122">For detailed information about the defined integrity SIDs, see [Well-known SIDs](well-known-sids.md).</span></span>

## <a name="process-creation"></a><span data-ttu-id="d6bc3-123">Prozesserstellung</span><span class="sxs-lookup"><span data-stu-id="d6bc3-123">Process Creation</span></span>

<span data-ttu-id="d6bc3-124">Wenn ein Benutzer versucht, eine ausführbare Datei zu starten, wird der neue Prozess mit mindestens der Benutzer Integritäts Stufe und der Datei Integritäts Ebene erstellt.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-124">When a user attempts to launch an executable file, the new process is created with the minimum of the user integrity level and the file integrity level.</span></span> <span data-ttu-id="d6bc3-125">Dies bedeutet, dass der neue Prozess nie mit höherer Integrität ausgeführt wird als die ausführbare Datei.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-125">This means that the new process will never execute with higher integrity than the executable file.</span></span> <span data-ttu-id="d6bc3-126">Wenn der Administrator Benutzer ein Programm mit niedriger Integrität ausführt, funktioniert das Token für den neuen Prozess mit der Ebene mit niedriger Integrität.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-126">If the administrator user executes a low integrity program, the token for the new process functions with the low integrity level.</span></span> <span data-ttu-id="d6bc3-127">Dadurch wird verhindert, dass ein Benutzer, der nicht vertrauenswürdigen Code ausführt, von böswilligen, von diesem Code ausgeführten Aktionen</span><span class="sxs-lookup"><span data-stu-id="d6bc3-127">This helps protect a user who launches untrustworthy code from malicious acts performed by that code.</span></span> <span data-ttu-id="d6bc3-128">Die Benutzerdaten, bei denen es sich um eine typische Benutzer Integritäts Stufe handelt, sind für diesen neuen Prozess schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-128">The user data, which is at the typical user integrity level, is write-protected against this new process.</span></span>

## <a name="mandatory-policy"></a><span data-ttu-id="d6bc3-129">Obligatorische Richtlinie</span><span class="sxs-lookup"><span data-stu-id="d6bc3-129">Mandatory Policy</span></span>

<span data-ttu-id="d6bc3-130">Das [**System \_ erforderliche \_ Label \_ ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) ACE in der SACL eines Sicherungs fähigen Objekts enthält eine Zugriffs Maske, die den Zugriff angibt, mit dem Prinzipale mit Integritäts Ebenen, die niedriger sind als das Objekt, erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-130">The [**SYSTEM\_MANDATORY\_LABEL\_ACE**](/windows/desktop/api/Winnt/ns-winnt-system_mandatory_label_ace) ACE in the SACL of a securable object contains an access mask that specifies the access that principals with integrity levels lower than the object are granted.</span></span> <span data-ttu-id="d6bc3-131">Bei den für diese Zugriffs Maske definierten Werten handelt es sich um **\_ eine System obligatorische \_ Bezeichnung " \_ kein \_ Schreibvorgang \_**", **\_ eine obligatorische \_ Bezeichnung \_ \_ \_** für das System und eine **\_ obligatorische \_ Bezeichnung " \_ kein \_ Ausführen \_**".</span><span class="sxs-lookup"><span data-stu-id="d6bc3-131">The values defined for this access mask are **SYSTEM\_MANDATORY\_LABEL\_NO\_WRITE\_UP**, **SYSTEM\_MANDATORY\_LABEL\_NO\_READ\_UP**, and **SYSTEM\_MANDATORY\_LABEL\_NO\_EXECUTE\_UP**.</span></span> <span data-ttu-id="d6bc3-132">Standardmäßig erstellt das System jedes-Objekt mit einer Zugriffs Maske der **obligatorischen Bezeichnung "System" \_ \_ \_ ohne \_ Schreibvorgang \_**.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-132">By default, the system creates every object with an access mask of **SYSTEM\_MANDATORY\_LABEL\_NO\_WRITE\_UP**.</span></span>

<span data-ttu-id="d6bc3-133">Jedes Zugriffs Token gibt auch eine obligatorische Richtlinie an, die von der [*lokalen Sicherheits Autorität (Local Security Authority*](/windows/desktop/SecGloss/l-gly) , LSA) festgelegt wird, wenn das Token erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-133">Every access token also specifies a mandatory policy that is set by the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) when the token is created.</span></span> <span data-ttu-id="d6bc3-134">Diese Richtlinie wird durch eine [**\_ verbindliche \_ tokenrichtlinienstruktur**](/windows/desktop/api/Winnt/ns-winnt-token_mandatory_policy) angegeben, die dem Token zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-134">This policy is specified by a [**TOKEN\_MANDATORY\_POLICY**](/windows/desktop/api/Winnt/ns-winnt-token_mandatory_policy) structure associated with the token.</span></span> <span data-ttu-id="d6bc3-135">Diese Struktur kann durch Aufrufen der [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) -Funktion mit dem Wert des *tokeninformationclass* -Parameters, der auf **tokenmandatorypolicy** festgelegt ist, abgefragt werden.</span><span class="sxs-lookup"><span data-stu-id="d6bc3-135">This structure can be queried by calling the [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) function with the value of the *TokenInformationClass* parameter set to **TokenMandatoryPolicy**.</span></span>

 

 
