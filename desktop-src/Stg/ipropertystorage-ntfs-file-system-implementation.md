---
title: IPropertyStorage-NTFS-Datei System Implementierung
description: Die NTFS-Version 5,0 bietet eine Implementierung der IPropertyStorage-Schnittstelle für Dateien auf einem NTFS-Volume, wenn die Dateien keine Verbund Dateien sind.
ms.assetid: d0ffd975-5bc2-4de3-b0c1-c9188541f46a
keywords:
- IPropertyStorage-Schnittstellen-STG, Implementierungen, NTFS-Dateisystem
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ca359bebbd05e67a034494023d7fc23089396b32
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "106340917"
---
# <a name="ipropertystorage-ntfs-file-system-implementation"></a><span data-ttu-id="18696-104">IPropertyStorage-NTFS-Datei System Implementierung</span><span class="sxs-lookup"><span data-stu-id="18696-104">IPropertyStorage-NTFS File System Implementation</span></span>

<span data-ttu-id="18696-105">Die NTFS-Version 5,0 bietet eine Implementierung der [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) -Schnittstelle für Dateien auf einem NTFS-Volume, wenn die Dateien keine Verbund Dateien sind.</span><span class="sxs-lookup"><span data-stu-id="18696-105">The NTFS version 5.0 provides an implementation of the [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) interface for files on an NTFS volume when the files are not compound files.</span></span>

<span data-ttu-id="18696-106">**So erhalten Sie einen Zeiger auf die NTFS-Dateisystem Implementierung von IPropertySetStorage**</span><span class="sxs-lookup"><span data-stu-id="18696-106">**To get a pointer to the NTFS file system implementation of IPropertySetStorage**</span></span>

1.  <span data-ttu-id="18696-107">Rufen Sie [**IPropertySetStorage:: Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) mithilfe der NTFS-Implementierung von [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage)auf.</span><span class="sxs-lookup"><span data-stu-id="18696-107">Call [**IPropertySetStorage::Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) using the NTFS implementation of [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span></span>
2.  <span data-ttu-id="18696-108">Aufrufen von [**IPropertySetStorage:: Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) mithilfe der NTFS-Implementierung von [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span><span class="sxs-lookup"><span data-stu-id="18696-108">Call [**IPropertySetStorage::Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) using the NTFS implementation of [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage).</span></span>

## <a name="when-to-use"></a><span data-ttu-id="18696-109">Verwendungs Zeitpunkt</span><span class="sxs-lookup"><span data-stu-id="18696-109">When to Use</span></span>

<span data-ttu-id="18696-110">Verwenden Sie [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) , um Eigenschaften innerhalb eines einzelnen Eigenschaften Satzes zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="18696-110">Use [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) to manage properties within a single property set.</span></span> <span data-ttu-id="18696-111">Die Methoden unterstützen das Lesen, schreiben und Löschen von Eigenschaften und die optionalen Zeichen folgen Namen, die Eigenschafts Bezeichnernamen zugeordnet werden können.</span><span class="sxs-lookup"><span data-stu-id="18696-111">Its methods support reading, writing, and deleting properties and the optional string names that can be associated with property identifiers.</span></span> <span data-ttu-id="18696-112">Eine andere Methode ermöglicht es Ihnen, Zeiten festzulegen, die dem Eigenschaften Speicher zugeordnet sind, und ein anderes ermöglicht die Zuweisung einer CLSID, die zum Zuordnen von anderem Code, z. b. Benutzeroberflächen Code, mit dem Eigenschaften Satz verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="18696-112">Another method enables you to set times associated with the property storage, and another permits the assignment of a CLSID, used to associate other code, such as user interface (UI) code, with the property set.</span></span> <span data-ttu-id="18696-113">Der Aufruf der [**enum**](/windows/desktop/api/Propidl/nf-propidl-ipropertystorage-enum) -Methode liefert einen Zeiger auf die NTFS-Implementierung von [**ienumstatus propstg**](/windows/win32/api/propidlbase/nn-propidlbase-ienumstatpropstg), mit der Sie die Eigenschaften in der Menge auflisten können.</span><span class="sxs-lookup"><span data-stu-id="18696-113">Calling the [**Enum**](/windows/desktop/api/Propidl/nf-propidl-ipropertystorage-enum) method supplies a pointer to the NTFS implementation of [**IEnumSTATPROPSTG**](/windows/win32/api/propidlbase/nn-propidlbase-ienumstatpropstg), which enables you to enumerate the properties in the set.</span></span>

## <a name="remarks"></a><span data-ttu-id="18696-114">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="18696-114">Remarks</span></span>

<span data-ttu-id="18696-115">Die NTFS-Implementierung bietet im wesentlichen dieselben Funktionen wie die Implementierung der Verbund Datei.</span><span class="sxs-lookup"><span data-stu-id="18696-115">The NTFS implementation provides essentially the same features as the compound file implementation.</span></span> <span data-ttu-id="18696-116">Weitere Informationen finden Sie unter [IPropertyStorage-Verbund Datei Implementierung](ipropertystorage-compound-file-implementation.md).</span><span class="sxs-lookup"><span data-stu-id="18696-116">For more information, see [IPropertyStorage-Compound File Implementation](ipropertystorage-compound-file-implementation.md).</span></span>

<span data-ttu-id="18696-117">Da NTFS ein robustes Dateisystem ist, bleibt ein NTFS-Eigenschaften Satz nie in einem falschen Zustand.</span><span class="sxs-lookup"><span data-stu-id="18696-117">Because NTFS is a robust file system, an NTFS property set will never be left in an incorrect state.</span></span> <span data-ttu-id="18696-118">Wenn der Inhalt eines NTFS- [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) in die zugrunde liegende NTFS-Datei geleert wird, werden entweder alle oder keine der Zustände als atomarer Vorgang in die Datei geschrieben, auch wenn während des Vorgangs ein Fehler auftritt, z. b. eine ungewöhnliche Prozess Beendigung.</span><span class="sxs-lookup"><span data-stu-id="18696-118">When the content of an NTFS [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) is flushed to the underlying NTFS file, either all or none of the state is written to the file as an atomic operation, even if there is a failure during the operation such as an abnormal process termination.</span></span> <span data-ttu-id="18696-119">Um ein ähnliches Verhalten mit der Implementierung der Verbund Datei zu erzielen, muss die übergeordnete [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) -Schnittstelle im transaktiven Modus geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="18696-119">To achieve similar behavior with the compound file implementation, the parent [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) interface must be opened in transacted mode.</span></span>

<span data-ttu-id="18696-120">Diese Robustheit ist nur möglich, wenn auf eine NTFS-Eigenschaft zugegriffen wird, die auf einem NTFS 5,0-Volume festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="18696-120">This level of robustness is only possible when accessing an NTFS property set on an NTFS 5.0 volume.</span></span> <span data-ttu-id="18696-121">Es ist möglich, auf NTFS-Eigenschaften Sätze in früheren Versionen von NTFS zuzugreifen (z. b. auf einem Computer unter Windows NT oder Windows 2000, der auf die Eigenschaften Sätze auf einem Dateiserver Computer unter Windows NT 4,0 zugreift), während ein unerwarteter Fehler nicht gewährleistet ist, dass Sie den richtigen Zustand aufweisen.</span><span class="sxs-lookup"><span data-stu-id="18696-121">It is possible to access NTFS property sets on earlier versions of NTFS (for example, a computer running on Windows NT or Windows 2000 that accesses the property sets on a file server computer running on Windows NT 4.0), but they are not guaranteed to be in a correct state in the event of an unexpected failure.</span></span>

<span data-ttu-id="18696-122">Obwohl die NTFS-Implementierung von [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) keine Unterstützung für Transaktionen bietet, unterstützt Sie die NTFS-Implementierung von [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) .</span><span class="sxs-lookup"><span data-stu-id="18696-122">Although the NTFS implementation of [**IPropertySetStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertysetstorage) does not support transactioning, the NTFS implementation of [**IPropertyStorage**](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage) supports it.</span></span> <span data-ttu-id="18696-123">Das heißt, dass **STGM \_ transaktive** im *grfMode* -Parameter für die [**Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) -und [**Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) -Methode von **IPropertySetStorage** angegeben werden kann.</span><span class="sxs-lookup"><span data-stu-id="18696-123">That is, **STGM\_TRANSACTED** may be specified in the *grfMode* parameter to the [**Create**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-create) and [**Open**](/windows/desktop/api/Propidl/nf-propidl-ipropertysetstorage-open) methods of **IPropertySetStorage**.</span></span> <span data-ttu-id="18696-124">Wie bei der Implementierung der Verbund Datei ist der transaktive Modus nur für nicht einfache Eigenschafts Speicher möglich (bei Angabe von **propsetflag \_ nicht einfache** im *grfFlags* -Parameter).</span><span class="sxs-lookup"><span data-stu-id="18696-124">As in the compound file implementation, transacted mode is possible only for nonsimple property storages (specifying **PROPSETFLAG\_NONSIMPLE** in the *grfFlags* parameter).</span></span>

## <a name="related-topics"></a><span data-ttu-id="18696-125">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="18696-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="18696-126">**IPropertyStorage**</span><span class="sxs-lookup"><span data-stu-id="18696-126">**IPropertyStorage**</span></span>](/windows/desktop/api/Propidl/nn-propidl-ipropertystorage)
</dt> <dt>

[<span data-ttu-id="18696-127">IPropertySetStorage-NTFS-Datei System Implementierung</span><span class="sxs-lookup"><span data-stu-id="18696-127">IPropertySetStorage-NTFS File System Implementation</span></span>](ipropertysetstorage-ntfs-file-system-implementation.md)
</dt> </dl>

 

 