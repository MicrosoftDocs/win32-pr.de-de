---
title: Erstellen von Beispielen
description: Um ein com-Beispiel zu erstellen, muss die Computerumgebung zum Erstellen von Microsoft Win32 C++-Anwendungen eingerichtet werden.
ms.assetid: c62b8b4d-a9d2-4587-8bb6-7b2c30d1c00d
keywords:
- Erstellen von Beispielen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 593d3465d3ebcc32a6768dd8b2dffe1f0a653d07
ms.sourcegitcommit: c2a1c4314550ea9bd202d28adfcc7bfe6180932f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/11/2020
ms.locfileid: "106341916"
---
# <a name="how-to-build-samples"></a><span data-ttu-id="36160-104">Erstellen von Beispielen</span><span class="sxs-lookup"><span data-stu-id="36160-104">How to Build Samples</span></span>

<span data-ttu-id="36160-105">Um ein com-Beispiel zu erstellen, muss die Computerumgebung zum Erstellen von Microsoft Win32 C++-Anwendungen eingerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="36160-105">To build a COM sample, the computer environment must be set up to build Microsoft Win32 C++ applications.</span></span>

## <a name="preparing-a-computer-to-create-com-samples"></a><span data-ttu-id="36160-106">Vorbereiten eines Computers zum Erstellen von com-Beispielen</span><span class="sxs-lookup"><span data-stu-id="36160-106">Preparing a Computer to Create COM Samples</span></span>

<span data-ttu-id="36160-107">Die Computerumgebung muss mit einem ordnungsgemäß installierten 32-Bit-C++ Compiler, Linker und Ressourcen Compiler eingerichtet werden, die mit Microsoft Visual C++ 4. x oder höher und einem ordnungsgemäß installierten Windows SDK kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="36160-107">The computer environment must be set up with a properly installed 32-bit C++ compiler, linker, and resource compiler that are compatible with Microsoft Visual C++ 4.x or later, and a properly installed Windows SDK.</span></span> <span data-ttu-id="36160-108">Es empfiehlt sich, die Windows SDK zuletzt zu installieren.</span><span class="sxs-lookup"><span data-stu-id="36160-108">It is best to install the Windows SDK last.</span></span> <span data-ttu-id="36160-109">Der Windows SDK stellt. h include-und. lib-Bibliotheksdateien bereit, die für die in den Beispielen codierte com-Funktionalität erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="36160-109">The Windows SDK provides .h include and .lib library files required for the COM functionality coded in the samples.</span></span>

<span data-ttu-id="36160-110">Zum erfolgreichen Ausführen der remclien-, freservice-und Freclien-Beispiele sind System Einrichtungen erforderlich, die in den Windows-Betriebssystemen verfügbar sind: Windows Server 2003, Windows XP, Windows 2000 oder Windows NT 4,0.</span><span class="sxs-lookup"><span data-stu-id="36160-110">To successfully run the Remclien, Freserve, and Freclien samples requires system facilities that are available in the Windows operating systems: Windows Server 2003, Windows XP, Windows 2000, or Windows NT 4.0.</span></span> <span data-ttu-id="36160-111">Die remclien-, freservice-und f reclien-Beispiele werden zwar erstellt, aber nicht auf den Betriebssystemen Windows Me, Windows 98 oder Windows 95 ausgeführt werden, es sei denn, DCOM (DCOM) und die kostenlose Thread-com sind Teil des Betriebssystems.</span><span class="sxs-lookup"><span data-stu-id="36160-111">The Remclien, Freserve, and Freclien samples will build but will not run on the Windows Me, Windows 98, or Windows 95 operating systems unless Distributed COM (DCOM) and free threaded COM are part of the operating system.</span></span> <span data-ttu-id="36160-112">Diese Unterstützung ist für die Betriebssysteme Windows Me, Windows 98 und Windows 95 im DCOM95 Add on verfügbar.</span><span class="sxs-lookup"><span data-stu-id="36160-112">This support is available for the Windows Me, Windows 98, and Windows 95 operating systems in the DCOM95 add on.</span></span> <span data-ttu-id="36160-113">DCOM95 kann zurzeit durch den [Download von Microsoft](https://www.microsoft.com/download/details.aspx?id=31661)abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="36160-113">DCOM95 can currently be obtained by [download from Microsoft](https://www.microsoft.com/download/details.aspx?id=31661).</span></span>

<span data-ttu-id="36160-114">Jedes Beispiel Verzeichnis enthält die erforderlichen Quelldateien, um das Beispiel zu erstellen und auszuführen.</span><span class="sxs-lookup"><span data-stu-id="36160-114">Each sample directory has the necessary source files to build and run the sample.</span></span> <span data-ttu-id="36160-115">Das übergeordnete Beispiel Verzeichnis enthält eine Makeall.bat-Datei, die Sie von der Eingabeaufforderung aus ausführen können, um alle Codebeispiele in der Verzweigung unten zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="36160-115">The parent sample directory has a Makeall.bat file, which you can run from the command prompt to make all the code samples in the branch below.</span></span> <span data-ttu-id="36160-116">Weitere Informationen finden Sie in der Makeall.bat-Datei.</span><span class="sxs-lookup"><span data-stu-id="36160-116">For more information, see the Makeall.bat file.</span></span> <span data-ttu-id="36160-117">Wenn Ihre Umgebung zum Erstellen von Win32 C++-Anwendungen eingerichtet ist, können Sie einfach Makeall.bat aus dem Verzeichnis ausführen, in dem es sich befindet, um alle Codebeispiele in der folgenden Verzweigung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="36160-117">If your environment is set up to build Win32 C++ applications, you can simply run Makeall.bat from the directory where it resides to build all the code samples in the branch below.</span></span> <span data-ttu-id="36160-118">Makeall stellt die korrekte Reihenfolge für den Build sicher, sodass alle Codebeispiel Abhängigkeiten erfüllt sind.</span><span class="sxs-lookup"><span data-stu-id="36160-118">Makeall ensures the correct order to the build so that all the code sample dependencies are satisfied.</span></span>

<span data-ttu-id="36160-119">Das Hauptverzeichnis verfügt auch über ein Makefile, das alle Lernprogramm-Codebeispiele mit ähnlichen Optionen erstellt, die von Makeall.bat unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="36160-119">The main directory also has a makefile that builds all the tutorial code samples using options similar to those supported by Makeall.bat.</span></span> <span data-ttu-id="36160-120">Weitere Informationen finden Sie in diesem Makefile.</span><span class="sxs-lookup"><span data-stu-id="36160-120">For more information, see this makefile.</span></span> <span data-ttu-id="36160-121">Dieses Makefile geht davon aus, dass der gesamte Code Samples-Branch als Teil der Windows SDK installiert wird.</span><span class="sxs-lookup"><span data-stu-id="36160-121">This makefile assumes that the entire code samples branch is installed as part of the Windows SDK.</span></span> <span data-ttu-id="36160-122">Derzeit hat dieser Speicherort einen ähnlichen Pfad wie *d: \\ MSSDK \\ Samples \\ com \\ tutsamp*, wobei D: das Installations Laufwerk darstellt.</span><span class="sxs-lookup"><span data-stu-id="36160-122">Currently this location has a path similar to *D:\\MSSDK\\SAMPLES\\COM\\TUTSAMP*, where D: represents the installation drive.</span></span> <span data-ttu-id="36160-123">Wenn Sie den Tutorial-Code Sample Branch (z. b. das com-Verzeichnis com und seine Unterverzeichnisse) an einen anderen Speicherort außerhalb des Windows SDK extrahiert haben (oder wenn Sie den Beispielsatz als separaten Download von der Microsoft-Website erhalten haben), verwenden Sie Makeall.bat, um alle Beispiele in der Verzweigung zu kompilieren.</span><span class="sxs-lookup"><span data-stu-id="36160-123">If you have extracted the tutorial code sample branch (for example, the COM directory COM and its subdirectories) to another location outside the Windows SDK (or if you obtained the sample set as a separate download from the Microsoft website), then use Makeall.bat to compile all the samples in the branch.</span></span> <span data-ttu-id="36160-124">Im Allgemeinen wird Makeall.bat empfohlen.</span><span class="sxs-lookup"><span data-stu-id="36160-124">In general, Makeall.bat is recommended.</span></span> <span data-ttu-id="36160-125">Außerdem wird eine Logmall.bat Datei bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="36160-125">A Logmall.bat file is also provided.</span></span> <span data-ttu-id="36160-126">Dies erfolgt genauso wie bei der makeall-Batchdatei, mit der Ausnahme, dass Sie die gesamte Kompilierungs Ausgabe in Datei Errorlog.txt im Hauptverzeichnis des Tutorials protokolliert.</span><span class="sxs-lookup"><span data-stu-id="36160-126">It does the same as Makeall batch file except that it logs all compilation output to file Errorlog.txt in the main tutorial directory.</span></span>

<span data-ttu-id="36160-127">Zwei Batch Dateien, Regall.bat und Unregall.bat, werden auch im Hauptverzeichnis bereitgestellt, um alle com-Server in der tutorialcode-Beispiel Reihe zu registrieren und die Registrierung aufzuheben.</span><span class="sxs-lookup"><span data-stu-id="36160-127">Two batch files, Regall.bat and Unregall.bat, are also provided in the main directory to register and unregister all COM servers in the tutorial code sample series.</span></span> <span data-ttu-id="36160-128">Führen Sie Regall.bat-Datei aus dem Hauptverzeichnis aus, um alle Server zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="36160-128">To register all servers, run Regall.bat file from the main directory.</span></span> <span data-ttu-id="36160-129">Führen Sie Unregall.bat auf die gleiche Weise aus, um die Registrierung aller Server aufzuheben.</span><span class="sxs-lookup"><span data-stu-id="36160-129">To unregister all servers, run Unregall.bat in the same manner.</span></span> <span data-ttu-id="36160-130">Diese Batch Dateien erfordern einen früheren Build der Codebeispiele "Register", "Marshal", "dllservice", "licservice", "locservice", "aptservice", "freservice" und "</span><span class="sxs-lookup"><span data-stu-id="36160-130">These batch files require a prior build of the REGISTER, MARSHAL, DLLSERVE, LICSERVE, LOCSERVE, APTSERVE, FRESERVE, and CONSERVE code samples.</span></span> <span data-ttu-id="36160-131">Wenn Sie einen normalen Build der Codebeispiele durchführen, werden die Server von Makefiles automatisch registriert.</span><span class="sxs-lookup"><span data-stu-id="36160-131">If you perform a normal build of the code samples, the server makefiles will automatically register the servers.</span></span> <span data-ttu-id="36160-132">In diesem Fall ist es nicht erforderlich, die "Regall"-Batchdatei auszuführen.</span><span class="sxs-lookup"><span data-stu-id="36160-132">In this case, it is not necessary to run the Regall batch file.</span></span>

<span data-ttu-id="36160-133">Führen Sie die Batchdatei Cleanall.bat aus, um vollständige vollständig alle com-Lernprogramm Beispiele auszuführen.</span><span class="sxs-lookup"><span data-stu-id="36160-133">Run the Cleanall.bat batch file to perform an exhaustive Cleanall of all the COM Tutorial Samples.</span></span>

> [!WARNING]
> <span data-ttu-id="36160-134">Diese Batchdatei löscht alle Visual Studio-Projektdateien und anderen temporären Arbeitsdateien, die in den Beispielen Visual C++ erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="36160-134">This batch file deletes all Visual Studio project files and other temporary work files created by Visual C++ in the samples.</span></span> <span data-ttu-id="36160-135">Alle in den Codebeispielen für das Tutorial erstellten com-Server werden in der Registrierung aufgehoben.</span><span class="sxs-lookup"><span data-stu-id="36160-135">All of the COM servers built in the tutorial code samples are unregistered from the registry.</span></span> <span data-ttu-id="36160-136">Alle ausführbaren exe-und dll-Dateien werden gelöscht.</span><span class="sxs-lookup"><span data-stu-id="36160-136">All executable exe and .dll files are deleted.</span></span> <span data-ttu-id="36160-137">Alle Debugsymboldateien werden gelöscht.</span><span class="sxs-lookup"><span data-stu-id="36160-137">All debug symbol files are deleted.</span></span> <span data-ttu-id="36160-138">Dateien, die in einer Vielzahl von Buildumgebungen generiert werden, werden ebenfalls gelöscht.</span><span class="sxs-lookup"><span data-stu-id="36160-138">Files generated in a variety of build environments are also deleted.</span></span>

 

<span data-ttu-id="36160-139">Führen Sie "makeall Clean" aus, um eine schnellere, aber präzisetere Bereinigung aller Codebeispiele auszuführen.</span><span class="sxs-lookup"><span data-stu-id="36160-139">Run 'Makeall Clean' to perform a faster, but more modest, cleanup of all the code samples.</span></span> <span data-ttu-id="36160-140">Dieser Reinigungsvorgang versucht nicht, so umfassend wie Cleanall.bat zu sein.</span><span class="sxs-lookup"><span data-stu-id="36160-140">This cleaning operation does not attempt to be as comprehensive as that performed by Cleanall.bat.</span></span> <span data-ttu-id="36160-141">Die OBJ-Dateien werden gelöscht, die Ausgabe Binärdateien werden jedoch beibehalten.</span><span class="sxs-lookup"><span data-stu-id="36160-141">The .obj files are deleted, but the output binaries are retained.</span></span> <span data-ttu-id="36160-142">Die Registrierung der com-Server in der Registrierung wird nicht aufgehoben.</span><span class="sxs-lookup"><span data-stu-id="36160-142">The COM servers are not unregistered from the registry.</span></span>

<span data-ttu-id="36160-143">Diese Beispiel Reihe wurde als integraler Bestandteil der Windows SDK, daher geht die Lernprogramm Darstellung davon aus, dass eine Umgebung mit der ordnungsgemäßen Windows SDK ordnungsgemäß installiert ist.</span><span class="sxs-lookup"><span data-stu-id="36160-143">This sample series originated as an integral part of the Windows SDK, therefore the tutorial narrative assumes an environment with the Windows SDK properly installed.</span></span>

<span data-ttu-id="36160-144">Allerdings können Releases der Microsoft Visual C++ Version 4,0 und höher auch die für die Kompilierung erforderlichen Bibliotheksdateien ". h" und ". lib" enthalten.</span><span class="sxs-lookup"><span data-stu-id="36160-144">However, releases of Microsoft Visual C++ version 4.0 and later may also provide the .h include and .lib library files required for compilation.</span></span> <span data-ttu-id="36160-145">In solchen Fällen ist die Installation des Windows SDK möglicherweise nicht erforderlich, um die Beispiele zu kompilieren.</span><span class="sxs-lookup"><span data-stu-id="36160-145">In such cases, installation of the Windows SDK may not be required to compile the samples.</span></span>

<span data-ttu-id="36160-146">Weitere Informationen und ausführliche Beispiele für Builddetails finden Sie unter:</span><span class="sxs-lookup"><span data-stu-id="36160-146">For more information and complete sample build details, see:</span></span>

[<span data-ttu-id="36160-147">Einrichten der Umgebung</span><span class="sxs-lookup"><span data-stu-id="36160-147">Environment Setup</span></span>](environment-setup.md)

[<span data-ttu-id="36160-148">Makefiles</span><span class="sxs-lookup"><span data-stu-id="36160-148">Makefiles</span></span>](makefiles.md)

[<span data-ttu-id="36160-149">Verwenden von Visual Studio</span><span class="sxs-lookup"><span data-stu-id="36160-149">Using Visual Studio</span></span>](using-visual-studio.md)

[<span data-ttu-id="36160-150">Extrahieren der Code Beispiele</span><span class="sxs-lookup"><span data-stu-id="36160-150">Extracting the Code Samples</span></span>](extracting-the-code-samples.md)

[<span data-ttu-id="36160-151">Codierungsstil Konventionen</span><span class="sxs-lookup"><span data-stu-id="36160-151">Coding Style Conventions</span></span>](coding-style-conventions.md)

 

 




