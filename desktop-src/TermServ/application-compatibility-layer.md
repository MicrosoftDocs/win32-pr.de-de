---
title: Anwendungs Kompatibilitäts Ebene
description: Zum Ausführen von Legacy Anwendungen in einer Remotedesktopdienste Umgebung können Sie die Remotedesktopdienste Anwendungs Kompatibilitäts Ebene verwenden.
ms.assetid: 6e61ed45-4fcb-4aee-b8cc-638a9b87ce00
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b3e7bbc5867e42951783d3666aa770cdcc45406f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "106342368"
---
# <a name="application-compatibility-layer"></a><span data-ttu-id="6db1d-103">Anwendungs Kompatibilitäts Ebene</span><span class="sxs-lookup"><span data-stu-id="6db1d-103">Application compatibility layer</span></span>

<span data-ttu-id="6db1d-104">Zum Ausführen von Legacy Anwendungen in einer Remotedesktopdienste Umgebung können Sie die Remotedesktopdienste Anwendungs Kompatibilitäts Ebene verwenden.</span><span class="sxs-lookup"><span data-stu-id="6db1d-104">To run legacy applications in a Remote Desktop Services environment you can use the Remote Desktop Services Application Compatibility layer.</span></span> <span data-ttu-id="6db1d-105">Wenn der Remotedesktop-Sitzungshost (RD-Sitzungshost)-Server eine Anwendung lädt, die nicht Remotedesktopdienste weiß, wird auch eine DLL geladen, die Kompatibilitäts Code enthält.</span><span class="sxs-lookup"><span data-stu-id="6db1d-105">When the Remote Desktop Session Host (RD Session Host) server loads an application that is not Remote Desktop Services aware, it also loads a DLL that contains compatibility code.</span></span> <span data-ttu-id="6db1d-106">Wenn Sie die Remotedesktopdienste Anwendungs Kompatibilitäts Ebene verwenden möchten, können Sie beim Kompilieren einer Anwendung das Flag nicht TSAWARE festlegen.</span><span class="sxs-lookup"><span data-stu-id="6db1d-106">To use the Remote Desktop Services Application Compatibility layer, you can set the NOT TSAWARE flag when compiling an application.</span></span>

<span data-ttu-id="6db1d-107">Wenn Ihre Anwendung Remotedesktopdienste ist, können Sie den mehr Aufwand für das Laden dieser zusätzlichen dll und das Ausführen des Kompatibilitäts Codes vermeiden.</span><span class="sxs-lookup"><span data-stu-id="6db1d-107">If your application is Remote Desktop Services aware, you can avoid the overhead of loading this extra DLL and running the compatibility code.</span></span>

<span data-ttu-id="6db1d-108">Wenn Sie angeben möchten, dass Ihre Anwendung Remotedesktopdienste ist, legen Sie das Flag für das **\_ \_ Terminal \_ Server \_ fähige Image dllcharakteristika** im optionalen Header fest.</span><span class="sxs-lookup"><span data-stu-id="6db1d-108">To indicate that your application is Remote Desktop Services aware, set the **IMAGE\_DLLCHARACTERISTICS\_TERMINAL\_SERVER\_AWARE** flag in the optional header.</span></span> <span data-ttu-id="6db1d-109">Wenn Sie den Linker verwenden, der mit Microsoft Visual C++ ausgeliefert wird, können Sie dieses Flag mithilfe der **TSAWARE** -Linkeroption festlegen.</span><span class="sxs-lookup"><span data-stu-id="6db1d-109">If you are using the linker that ships with Microsoft Visual C++, you can use the **TSAWARE** linker option to set this flag.</span></span> <span data-ttu-id="6db1d-110">Das **DUMPBIN** -Tool, das im Lieferumfang von Microsoft Visual C++ enthalten ist, stellt die */Headers* -Option zum Bestimmen des Status des **TSAWARE** -Flags bereit.</span><span class="sxs-lookup"><span data-stu-id="6db1d-110">The **DUMPBIN** tool that ships with Microsoft Visual C++ provides the */HEADERS* option to determine the state of the **TSAWARE** flag.</span></span> <span data-ttu-id="6db1d-111">Weitere Informationen zur Verwendung des **DUMPBIN** -Tools finden Sie unter [DUMPBIN Reference](/cpp/build/reference/dumpbin-reference?view=vs-2019).</span><span class="sxs-lookup"><span data-stu-id="6db1d-111">For more information about using the **DUMPBIN** tool, see [DUMPBIN Reference](/cpp/build/reference/dumpbin-reference?view=vs-2019).</span></span>

<span data-ttu-id="6db1d-112">Seien Sie vorsichtig, wenn Sie das **TSAWARE** -Flag verwenden, da es der Anwendung ermöglicht, alle Remotedesktopdienste Kompatibilitäts Optimierungen zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="6db1d-112">Be careful when you use the **TSAWARE** flag because it enables your application to bypass any Remote Desktop Services compatibility optimizations.</span></span> <span data-ttu-id="6db1d-113">Das **TSAWARE** -Flag sollte nur verwendet werden, wenn Sie sicher sind, dass Ihre Anwendung für die Remotedesktopdienste Umgebung konzipiert ist.</span><span class="sxs-lookup"><span data-stu-id="6db1d-113">The **TSAWARE** flag should only be used if you are certain that your application is designed for the Remote Desktop Services environment.</span></span> <span data-ttu-id="6db1d-114">Wenn Ihre Anwendung die folgenden Kriterien erfüllt, können Sie das Flag für **das \_ \_ Terminal \_ Server \_ fähige Image-dllcharakteristika** auf sichere Weise verwenden.</span><span class="sxs-lookup"><span data-stu-id="6db1d-114">If your application meets the following criteria, you can safely use the **IMAGE\_DLLCHARACTERISTICS\_TERMINAL\_SERVER\_AWARE** flag.</span></span>

-   <span data-ttu-id="6db1d-115">Die Anwendung verwendet keine INI-Dateien.</span><span class="sxs-lookup"><span data-stu-id="6db1d-115">The application does not use .ini files.</span></span>
-   <span data-ttu-id="6db1d-116">Die Anwendung schreibt während des Setups nicht in den **aktuellen HKEY- \_ \_ Benutzer** .</span><span class="sxs-lookup"><span data-stu-id="6db1d-116">The application does not write to **HKEY\_CURRENT\_USER** during setup.</span></span> <span data-ttu-id="6db1d-117">Weitere Informationen finden Sie unter [Speichern von User-Specific Informationen](storing-user-specific-information.md).</span><span class="sxs-lookup"><span data-stu-id="6db1d-117">For more information, see [Storing User-Specific Information](storing-user-specific-information.md).</span></span>
-   <span data-ttu-id="6db1d-118">Die Anwendung wird nicht als Systemdienst ausgeführt (d. h. LUID = System).</span><span class="sxs-lookup"><span data-stu-id="6db1d-118">The application does not run as a system service (that is, LUID=System).</span></span>
-   <span data-ttu-id="6db1d-119">Die Anwendung erwartet nicht exklusiven Zugriff auf die Windows-oder andere Systemverzeichnisse.</span><span class="sxs-lookup"><span data-stu-id="6db1d-119">The application does not expect exclusive access to the Windows or other system directories.</span></span> <span data-ttu-id="6db1d-120">Dies bedeutet, dass die Anwendung keine temporären oder Konfigurationsdaten pro Benutzer in den Windows-oder anderen Systemverzeichnissen speichert.</span><span class="sxs-lookup"><span data-stu-id="6db1d-120">This means that the application does not store per user temporary or configuration data in the Windows or other system directories.</span></span>
-   <span data-ttu-id="6db1d-121">Die Anwendung schreibt nicht in die Registrierungs Struktur des **lokalen HKEY** -Computers, um benutzerspezifische Daten oder Konfigurationen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6db1d-121">The application does not write to the **HKEY Local Machine** registry hive for user specific data or configuration.</span></span>
-   <span data-ttu-id="6db1d-122">Die Anwendung befolgt andere Remotedesktopdienste Kompatibilitätsrichtlinien, die in diesem Dokument erwähnt werden.</span><span class="sxs-lookup"><span data-stu-id="6db1d-122">The application follows other Remote Desktop Services compatibility guidelines mentioned in this document.</span></span>

 

 