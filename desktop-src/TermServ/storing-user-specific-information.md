---
title: Speichern von benutzerspezifischen Informationen
description: Anwendungen sollten benutzerspezifische Informationen an benutzerspezifischen Speicherorten speichern, die von den globalen, auf alle Benutzer bezogenen Informationen getrennt sind.
ms.assetid: 32bd1d24-1d2e-4c0a-acdb-0cc67f275e6e
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 40c6236b7ba11a8b3149533e920b9b9413085d93
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104039154"
---
# <a name="storing-user-specific-information"></a><span data-ttu-id="45b9d-103">Speichern von benutzerspezifischen Informationen</span><span class="sxs-lookup"><span data-stu-id="45b9d-103">Storing user-specific information</span></span>

<span data-ttu-id="45b9d-104">In einer Remotedesktopdienste Umgebung sollten Anwendungen benutzerspezifische Informationen an benutzerspezifischen Speicherorten speichern, getrennt von globalen Informationen, die für alle Benutzer gelten.</span><span class="sxs-lookup"><span data-stu-id="45b9d-104">In a Remote Desktop Services environment, applications should store user-specific information in user-specific locations, separately from global information that applies to all users.</span></span> <span data-ttu-id="45b9d-105">Diese Regel gilt für Informationen, die in der Registrierung gespeichert sind, sowie für Informationen, die in Dateien gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="45b9d-105">This rule applies to information stored in the registry, as well as information stored in files.</span></span> <span data-ttu-id="45b9d-106">Nehmen Sie im Allgemeinen nicht an, dass ein Computer einem Benutzer entspricht.</span><span class="sxs-lookup"><span data-stu-id="45b9d-106">In general, do not assume that one computer is equivalent to one user.</span></span>

<span data-ttu-id="45b9d-107">Speichert benutzerspezifische Registrierungsinformationen unter dem Registrierungsschlüssel **HKEY \_ Current \_ User** .</span><span class="sxs-lookup"><span data-stu-id="45b9d-107">Store user-specific registry information under the **HKEY\_CURRENT\_USER** registry key.</span></span> <span data-ttu-id="45b9d-108">Remotedesktopdienste lädt die persönliche Registrierungs Struktur des aktuellen Benutzers in den **aktuellen HKEY- \_ \_ Benutzer** , wenn sich der Benutzer anmeldet.</span><span class="sxs-lookup"><span data-stu-id="45b9d-108">Remote Desktop Services loads the current user's personal registry hive into **HKEY\_CURRENT\_USER** when the user logs on.</span></span> <span data-ttu-id="45b9d-109">Remotedesktopdienste verwaltet die Registrierung natürlich, um sicherzustellen, dass jeder angemeldete Client die richtige Benutzer Struktur unter **HKEY \_ Current \_ User** erkennt.</span><span class="sxs-lookup"><span data-stu-id="45b9d-109">Of course, Remote Desktop Services manages the registry to ensure that each of the logged-on clients detects the correct user hive under **HKEY\_CURRENT\_USER**.</span></span> <span data-ttu-id="45b9d-110">Weitere Informationen zu Registrierungs Schlüsseln finden Sie unter [Sicherheits-und Zugriffsrechte für den Registrierungsschlüssel](/windows/desktop/SysInfo/registry-key-security-and-access-rights) und [Registrierungs](/windows/desktop/SysInfo/registry-hives)Strukturen.</span><span class="sxs-lookup"><span data-stu-id="45b9d-110">For more information about registry keys, see [Registry Key Security and Access Rights](/windows/desktop/SysInfo/registry-key-security-and-access-rights) and [Registry Hives](/windows/desktop/SysInfo/registry-hives).</span></span>

<span data-ttu-id="45b9d-111">Im Gegensatz dazu geben alle Benutzer den HKEY-Hive für den **\_ lokalen \_ Computer** frei.</span><span class="sxs-lookup"><span data-stu-id="45b9d-111">In contrast, all users share the **HKEY\_LOCAL\_MACHINE** hive.</span></span> <span data-ttu-id="45b9d-112">Verwenden Sie **HKEY \_ local \_ Machine** , um Computer spezifische Informationen, nicht jedoch benutzerspezifische Informationen, zu speichern.</span><span class="sxs-lookup"><span data-stu-id="45b9d-112">Use **HKEY\_LOCAL\_MACHINE** to store computer-specific information, not user-specific information.</span></span>

<span data-ttu-id="45b9d-113">Speichert Benutzer Einstellungsdateien oder andere benutzerspezifische Dateien im Stammverzeichnis des Benutzers oder in einem vom Benutzer angegebenen Verzeichnis.</span><span class="sxs-lookup"><span data-stu-id="45b9d-113">Store user-preference files or other user-specific files in the user's root directory or in a user-specified directory.</span></span> <span data-ttu-id="45b9d-114">Diese Überlegungen gelten für temporäre Dateien, die zum Speichern von zwischen Informationen (z. b. zwischengespeicherte Daten) oder zum Übergeben von Daten an eine andere Anwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="45b9d-114">This consideration applies to temporary files used to store interim information (such as cached data) or to pass data on to another application.</span></span> <span data-ttu-id="45b9d-115">Benutzerspezifische temporäre Dateien müssen auch pro Benutzer gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="45b9d-115">User-specific temporary files must also be stored on a per-user basis.</span></span>

<span data-ttu-id="45b9d-116">Sie können die Funktion " [**SHGetSpecialFolderLocation**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetspecialfolderlocation) " mit dem "CSIDL Personal"- \_ Flag verwenden, um den Speicherort des Verzeichnisses für persönliche Dateien des Benutzers zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="45b9d-116">You can use the [**SHGetSpecialFolderLocation**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetspecialfolderlocation) function with the CSIDL\_PERSONAL flag to get the location of the user's personal files directory.</span></span> <span data-ttu-id="45b9d-117">Sie können auch die [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) -Funktion verwenden, um den Pfad des Windows-Verzeichnisses abzurufen.</span><span class="sxs-lookup"><span data-stu-id="45b9d-117">You can also use the [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) function to retrieve the path of the Windows directory.</span></span> <span data-ttu-id="45b9d-118">In einer Remotedesktopdienste Umgebung ist das Windows-Verzeichnis für jeden Benutzer garantiert privat.</span><span class="sxs-lookup"><span data-stu-id="45b9d-118">In a Remote Desktop Services environment, the Windows directory is guaranteed to be private for each user.</span></span> <span data-ttu-id="45b9d-119">Speichern Sie keine benutzerspezifischen Dateien im System Verzeichnis, z. b. in Windows oder im Programmverzeichnis, wie z. b. Programmdateien.</span><span class="sxs-lookup"><span data-stu-id="45b9d-119">Do not store user-specific files under the system directory, such as WINDOWS, or program directory, such as Program Files.</span></span>

<span data-ttu-id="45b9d-120">Um Konflikte zwischen den Informationen und Einstellungen der Benutzer zu vermeiden, sollten Anwendungen benutzerspezifische temporäre Informationen in benutzerspezifischen temporären Dateien speichern.</span><span class="sxs-lookup"><span data-stu-id="45b9d-120">To avoid conflicts among users' information and preferences, applications should store per-user temporary information in user-specific temporary files.</span></span> <span data-ttu-id="45b9d-121">Benutzerspezifische temporäre Dateien verhindern auch Anwendungsfehler, die durch Datei Sperr Konflikte verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="45b9d-121">User-specific temporary files also prevent application failures caused by file-locking conflicts.</span></span> <span data-ttu-id="45b9d-122">Um den Pfad zum Speichern temporärer Informationen anzugeben, verwenden Sie die [**GetTempPath**](/windows/desktop/api/fileapi/nf-fileapi-gettemppatha) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="45b9d-122">To specify the path for storing temporary information, use the [**GetTempPath**](/windows/desktop/api/fileapi/nf-fileapi-gettemppatha) function.</span></span>

 

 