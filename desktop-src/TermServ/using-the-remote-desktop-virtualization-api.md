---
title: Verwenden der Remotedesktop Virtualization-API
description: Entwickler können diese API verwenden, um die Logik anzupassen, die RD-Verbindungsbroker verwendet, um das beste Ziel für eine eingehende Client Verbindung zu ermitteln.
ms.assetid: b25eb87e-dac4-49ce-890e-b39c7e9e3408
ms.tgt_platform: multiple
keywords:
- Remotedesktopdienste Remotedesktopdienste mit der Virtualisierungs-API
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cda9ebfc014a2c8ec20d299bbb8be9183b25ce89
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104390435"
---
# <a name="using-the-remote-desktop-virtualization-api"></a><span data-ttu-id="c8b6a-104">Verwenden der Remotedesktop Virtualization-API</span><span class="sxs-lookup"><span data-stu-id="c8b6a-104">Using the Remote Desktop Virtualization API</span></span>

<span data-ttu-id="c8b6a-105">Der Rollen Dienst "Terminaldienste-Sitzungs Verzeichnis (TS-Sitzungs Verzeichnis)" ermöglicht Terminal Servern das Speichern von Benutzer-und Sitzungsinformationen in einer Datenbank, die als Sitzungs Verzeichnis bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-105">The Terminal Services Session Directory (TS  Session Directory) role service allows terminal servers to store user and session information in a database called a session directory.</span></span> <span data-ttu-id="c8b6a-106">Wenn ein Benutzer eine Verbindung mit einem Terminal Server in einer Farm herstellt, bestimmt das Terminaldienst Sitzungs Verzeichnis, ob der Benutzer bereits eine Sitzung auf einem Terminal Server ausgeführt hat. ist dies der Fall, wird der Benutzer an diesen Terminal Server umgeleitet.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-106">When a user connects to a terminal server in a farm, TS Session Directory determines whether the user already has a session running on a terminal server and if so, it redirects the user to that terminal server.</span></span>

<span data-ttu-id="c8b6a-107">In Windows Server 2008 wurde der Rollen Dienst "Terminal Dienste-Sitzungs Verzeichnis" erweitert und umbenannt in "Terminal Dienste-Sitzungs Broker" (Terminal Dienste-Sitzungs Broker).</span><span class="sxs-lookup"><span data-stu-id="c8b6a-107">In Windows Server 2008, the TS Session Directory role service was expanded and renamed Terminal Services Session Broker (TS Session Broker).</span></span> <span data-ttu-id="c8b6a-108">Zusätzlich zur Verwaltung eines Verzeichnisses vorhandener Sitzungen kann der terminaldienstesitzungbroker auch eingehende Verbindungen Broker.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-108">In addition to maintaining a directory of existing sessions, TS Session Broker can also broker incoming connections.</span></span> <span data-ttu-id="c8b6a-109">Wenn der Terminaldienst-Sitzungs Broker eine eingehende Verbindung von einem Benutzer empfängt, überprüft er seine Datenbank, um zu bestimmen, ob der Benutzer über eine vorhandene Sitzung auf einem Terminal Server verfügt.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-109">When TS Session Broker receives an incoming connection from a user, it checks its database to determine whether the user has an existing session on a terminal server.</span></span> <span data-ttu-id="c8b6a-110">Wenn dies der Fall ist, leitet der Terminal Server-Sitzungs Broker die Verbindung an denselben Terminal Server um.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-110">If so, TS Session Broker redirects the connection to that same terminal server.</span></span> <span data-ttu-id="c8b6a-111">Andernfalls ermittelt der Terminal Server-Sitzungs Broker, welcher Terminal Server über die geringsten Verbindungen verfügt und leitet die Verbindung zu diesem Server um.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-111">If not, TS Session Broker determines which terminal server has the fewest connections and redirects the connection to that server.</span></span>

<span data-ttu-id="c8b6a-112">Ab Windows Server 2008 hat Microsoft auch eine öffentliche API (Application Programming Interface) für die Überwachung und Interaktion mit Sitzungen auf Terminalservern veröffentlicht.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-112">Beginning with Windows Server 2008, Microsoft also released a public application programming interface (API) for monitoring and interacting with sessions on terminal servers.</span></span> <span data-ttu-id="c8b6a-113">Diese API wird in [Remotedesktopverbindung Broker-Plug-in-Referenz](/windows/desktop/TermServ/terminal-services-virtualization-api-reference)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-113">This API is described in [Remote Desktop Connection Broker Plug-in Reference](/windows/desktop/TermServ/terminal-services-virtualization-api-reference).</span></span> <span data-ttu-id="c8b6a-114">Mithilfe dieser API können Entwickler benutzerdefinierte Richtlinien-Plug-ins erstellen, die die standardmäßige Umleitungs Logik des TS-Sitzungs Brokers überschreiben.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-114">Using this API, developers can create custom policy plug-ins that override the standard redirection logic of TS Session Broker.</span></span> <span data-ttu-id="c8b6a-115">Die benutzerdefinierten Plug-Ins können Sitzungen an Terminal Server sowie an virtuelle Maschinen, virtuelle Desktops, Blatt Server und physische Desktops umleiten.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-115">The custom plug-ins can redirect sessions to terminal servers, as well as virtual machines, virtual desktops, blade servers, and physical desktops.</span></span>

<span data-ttu-id="c8b6a-116">In Windows Server 2008 R2 wurde die Architektur von Remotedesktopverbindung Broker (RD-Verbindungsbroker) (ehemals TS-Sitzungs Broker) erweitert, um Verbindungen mit virtuellen Maschinen zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-116">In Windows Server 2008 R2, the architecture of Remote Desktop Connection Broker (RD Connection Broker) (formerly known as TS Session Broker) was expanded to support connections to virtual machines.</span></span> <span data-ttu-id="c8b6a-117">Die neue Architektur unterstützt die Sitzungsverwaltung für virtuelle Computer über die Remotedesktop Virtualization-API.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-117">The new architecture supports session management for virtual machines through the Remote Desktop Virtualization API.</span></span> <span data-ttu-id="c8b6a-118">Entwickler können diese API verwenden, um die Logik anzupassen, die RD-Verbindungsbroker verwendet, um das beste Ziel für eine eingehende Client Verbindung zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-118">Developers can use this API to customize the logic that RD Connection Broker uses to determine the best destination for an incoming client connection.</span></span>

<span data-ttu-id="c8b6a-119">Remotedesktop virtualisierungsapi bietet Entwicklern verschiedene Vorteile:</span><span class="sxs-lookup"><span data-stu-id="c8b6a-119">Remote Desktop Virtualization API offers several benefits to developers:</span></span>

-   <span data-ttu-id="c8b6a-120">Die Schnittstellen für die Arbeit mit physischen Terminalservern ähneln denen für das Arbeiten mit virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-120">The interfaces for working with physical terminal servers are similar to those for working with virtual machines.</span></span>
-   <span data-ttu-id="c8b6a-121">Entwickler können den gesamten oder einen Teil der Standard Umleitungs Logik ersetzen.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-121">Developers can replace all or part of the standard redirection logic.</span></span> <span data-ttu-id="c8b6a-122">Entwickler können auf dem Code aufbauen, der im Lieferumfang des Produkts enthalten ist, und nicht alles von Grund auf neu schreiben müssen.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-122">Developers can build on the code that ships with the product and do not have to write everything from scratch.</span></span>
-   <span data-ttu-id="c8b6a-123">Auf dem Verwaltungs Server oder innerhalb der Sitzung ist kein zusätzlicher Verwaltungs-Agent erforderlich.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-123">No additional management agent is required on the managing server or within the session.</span></span>
-   <span data-ttu-id="c8b6a-124">TS-Sitzungs Broker-Plug-ins, die zur Verwendung mit Windows Server 2008 entwickelt wurden, werden weiterhin unterstützt.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-124">TS Session Broker plug-ins developed for use with Windows Server 2008 are still supported.</span></span>
-   <span data-ttu-id="c8b6a-125">Die API ermöglicht Entwicklern außerdem das Erstellen von Benutzeroberflächen für die Verwaltung von Remotedesktop-Sitzungshost (RD-Sitzungshost)-Servern (früher als "Terminal Server" bezeichnet) und virtuellen Computern.</span><span class="sxs-lookup"><span data-stu-id="c8b6a-125">The API also allows developers to create user interfaces for administration of both Remote Desktop Session Host (RD Session Host) servers (formerly known as "terminal servers") and virtual machines.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c8b6a-126">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="c8b6a-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c8b6a-127">Referenz zur Remotedesktop virtualisierungsapi</span><span class="sxs-lookup"><span data-stu-id="c8b6a-127">Remote Desktop Virtualization API Reference</span></span>](terminal-services-virtualization-api-reference.md)
</dt> <dt>

[<span data-ttu-id="c8b6a-128">Remotedesktopverbindung Broker-Plug-in-Referenz</span><span class="sxs-lookup"><span data-stu-id="c8b6a-128">Remote Desktop Connection Broker Plug-in Reference</span></span>](/windows/desktop/TermServ/terminal-services-virtualization-api-reference)
</dt> </dl>

 

 