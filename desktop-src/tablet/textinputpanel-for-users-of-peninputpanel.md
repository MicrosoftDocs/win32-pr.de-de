---
description: Die Veröffentlichung von Windows Vista enthält ein neues Programmierbarkeits Objekt für den Tablet PC-Eingabebereich, das eine neue Möglichkeit bietet, wie eine Anwendung den Eingabebereich verwenden und mit ihnen interagieren kann.
ms.assetid: 539f41d3-5fb8-4e20-99ba-0d5af1f0cc54
title: TextInputPanel für Benutzer von "" in "".
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 14ed213db49427d997f0ea1dda414cf1a6a0c2d4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104349078"
---
# <a name="textinputpanel-for-users-of-peninputpanel"></a>TextInputPanel für Benutzer von "" in "".

Die Veröffentlichung von Windows Vista enthält ein neues Programmierbarkeits Objekt für den Tablet PC-Eingabebereich, das eine neue Möglichkeit bietet, wie eine Anwendung den Eingabebereich verwenden und mit ihnen interagieren kann. Zum ersten Mal können Anwendungsentwickler das Symbol für den In-Place Eingabebereich so positionieren, dass es mit einem Textfeld verknüpft ist, oder es in der Ecke einer Kunden enden Oberfläche platzieren, um den Zugriff auf einen alternativen Eingabemodus zu ermöglichen. Entwickler haben dieselbe Kontrolle über die Positionierung, sobald das Eingabe Bereichs Symbol in den In-Place Eingabe Panel erweitert wurde. Dadurch kann sichergestellt werden, dass sich der In-Place Eingabebereich niemals mit wichtigen Benutzeroberflächen Elementen im Layout einer Anwendung überschneidet oder sogar die Benutzeroberfläche einer Anwendung erneut fließt, um Platz für den In-Place Eingabebereich zu schaffen und ihn dann in den reservierten Bereich zu versetzen. Das neue Programmierbarkeits Modell bietet Unterstützung für mehr als nur die Positionierung. Entwickler können jedoch auch den Eingabebereich, den Korrekturmodus und viele andere Eigenschaften des Eingabe Panels anpassen, um die Texteingabe in einer Anwendung anzupassen. Zum ersten Mal kann eine Anwendung zusätzlich zu dem erkannten Text, der mit Text Einfügungen aus dem Eingabebereich verknüpft ist, auch die Benutzer Freihand empfangen. Dies ermöglicht neue Anwendungsszenarien einschließlich Freihand in Änderungs nach Verfolgungs Protokollen und ermöglicht Benutzern das Bearbeiten oder Anzeigen von frei Hand Eingaben in der Anwendung. Diese neuen Programmierbarkeits Features sind das direkte Ergebnis von Feedback, das Microsoft über die Entwickler Story von Input Panel erhalten hat und den ersten Schritt zur engeren Integration von Anwendungen und Eingabe Bereichen darstellt.

Um dieses erweiterte Eingabe Panel-Programmier barkeits Modell bereitstellen zu können, wird der vorhandene Mechanismus für die programmgesteuerte Interaktion mit dem Eingabe Panel [**, dem Objekt**](peninputpanel-class.md) "" "" "," "als veraltet markiert und durch das neue [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt ersetzt. Zusätzlich zur Bereitstellung neuer Programmierbarkeits Features bietet das **TextInputPanel** -Objekt auch in der Nähe aller programmgesteuerten Funktionen des "" "" " **-Objekt"** ". Das **TextInputPanel** -Objekt ist in Windows Vista und im Windows Vista Software Developer Kit enthalten. Das **TextInputPanel** -Objekt ist nur mit dem Eingabebereich von Windows Vista kompatibel und kann nicht mit dem Eingabebereich von Windows XP Service Pack 2 oder älter verwendet werden. Die Anwendung, die zuvor für die Verwendung des Objekts " **pinputpanel** " geschrieben wurde, funktioniert weiterhin mit dem Eingabebereich von Windows Vista. beim Schreiben neuer Tablet-Anwendungen wird Entwicklern jedoch dringend empfohlen, das neue " **TextInputPanel** "-Objekt anstelle des veralteten " **pinputpanel** "-Objekts zu verwenden.

Jede der Programmierbarkeits Optionen des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts kann auf ein pro-Text-Feld angewendet werden. Dies wird erreicht, indem eine Instanz des **TextInputPanel** -Objekts mithilfe der Eigenschaft " [**AttachedEditWindow**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_attachededitwindow) " angefügt wird. Die-Eigenschaft sollte auf das Fenster Handle für das Textfeld festgelegt werden.

> [!Note]  
> : Einige der unten beschriebenen Eigenschaften und Methoden gelten auch, wenn sich der Eingabebereich im direkten Interaktionsmodus befindet und nicht, wenn sich der Eingabebereich im Gleit Komma-oder angedockten Interaktionsmodus befindet. Der direkte Interaktionsmodus ist das Eingabe Bereichs Verhalten, bei dem das Platzieren des Fokus in ein bearbeitbares Feld bewirkt, dass das Eingabe Bereichs Symbol neben dem Feld angezeigt wird, und durch Tippen auf das Eingabe Panel-Symbol wird der Eingabebereich erweitert. Die Methoden und Eigenschaften, die nur angewendet werden, wenn der Eingabebereich im direkten Interaktionsmodus ist, enthalten im Methoden-oder Eigenschaftsnamen "Inplace".

 

## <a name="control-of-input-panel-icon-and-input-panel-visibility"></a>Kontrolle über das Eingabe Bereichs Symbol und die Sichtbarkeit des Eingabe Bereichs

Der erste Aspekt des Eingabe Panels, in dem Anwendungsentwickler mehr Kontrolle über Windows Vista haben, ist die Sichtbarkeit. Mithilfe des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts ist es möglich, die Sichtbarkeit des In-Place Eingabe Bereichs auf drei Arten zu steuern. Mit einer Kombination von Eigenschaften und Methoden kann eine Anwendung ermitteln, ob der In-Place Eingabebereich anzeigt, wenn der In-Place Eingabebereich anzeigt und ob Sie zuerst als Eingabe Panel-Symbol angezeigt wird oder sofort erweitert angezeigt wird. Durch Kombinieren dieser Techniken zum Steuern der Sichtbarkeit mit den Techniken zum Steuern der Positionierung, die im nächsten Abschnitt erläutert wird, ist es für Anwendungsentwickler möglich, benutzerdefinierte Startpunkte und benutzerdefinierte Workflows zu erstellen, indem Sie den In-Place Eingabe Panel in einer Anwendung verwenden.

> [!Note]  
> Die in diesem Abschnitt beschriebenen Eigenschaften und Methoden gelten nur, wenn sich der Eingabebereich im In-Place Interaktionsmodus befindet.

 

Erstens können Sie verhindern, dass der In-Place Eingabebereich und das Eingabe Bereichs Symbol jemals angezeigt werden, indem Sie die [**InPlaceVisibleOnFocus**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplacevisibleonfocus) -Eigenschaft auf **false** festlegen. Wenn der Wert auf **true** festgelegt wird, wird der Standardwert wieder hergestellt, wenn dies möglich ist, vorausgesetzt, er wurde vom Benutzer oder Gruppenrichtlinie nicht deaktiviert. Diese Option ist nützlich für Anwendungen, die benutzerdefinierte Text Eintrags Lösungen als Alternative zum Eingabebereich enthalten.

Zweitens kann ein Entwickler durch Festlegen der [**defaultinplacestate**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) -Eigenschaft angeben, welcher direkte Zustand, wie in der [**InPlaceState**](/windows/win32/api/peninputpanel/ne-peninputpanel-inplacestate) -Enumeration angegeben, der In-Place Eingabebereich in angezeigt wird, wenn der Fokus in einem Textfeld platziert wird. Der Standardwert des Systems ist, dass der In-Place Eingabe Panel im Zustand "Hover" angezeigt wird, es sei denn, der Eingabebereich ist bereits im erweiterten Zustand sichtbar. in diesem Fall bleibt der Eingabebereich erweitert. Wenn die **defaultinplacestate** -Eigenschaft auf " **InPlaceState \_ Expanded** " festgelegt wird, wird der In-Place Eingabe Panel immer erweitert angezeigt, anstatt zuerst das Eingabe Bereichs Symbol und dann den Benutzer zum Tippen auf das Eingabe Bereichs Symbol zu drücken, bevor der Eingabebereich erweitert wird. Bei den anderen beiden Optionen handelt es sich um das Standardverhalten von **InPlaceState \_ Auto**, bei dem es sich um das System Standardverhalten und das **InPlaceState- \_ hovertarget** handelt Die Möglichkeit, anzugeben, dass der In-Place Eingabebereich immer erweitert angezeigt wird, ist mit dem [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt neu und nicht möglich, da das Objekt " [**pinputpanel**](peninputpanel-class.md) " verwendet wird. In der folgenden Abbildung werden das Symbol für den In-Place Eingabebereich und die erweiterten Zustände des Bereichs angezeigt.

![Direktes Eingabe Panel Symbol und erweiterte Zustände](images/8ce866b6-9a45-499f-a3d1-95a1d34d6402.jpg)

Neben der Möglichkeit, den direkten Zustand zu steuern, ist es auch möglich, dass ein Entwickler den direkten Zustand zu einem bestimmten Zeitpunkt ermitteln kann, indem er die [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) -Eigenschaft erhält. **CurrentInPlaceState** ist gleich [**defaultinplacestate**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) , wenn der Eingabebereich nicht sichtbar ist, es sei denn, das **defaultinplacestate** ist ein **InPlaceState \_ Auto** . in diesem Fall wird " **CurrentInPlaceState** " zu " **InPlaceState \_ hovertarget**". Die [**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging)  /  -Ereignisse von [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged) können verwendet werden, um den Sichtbarkeits Zustand des In-Place Eingabe Bereichs nachzuverfolgen.

Und schließlich kann ein Entwickler erzwingen, dass der In-Place Eingabebereich mithilfe der Methode "* [**tinplacevisibility**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) " ausgeblendet oder angezeigt wird. Wenn der Entwickler zuvor die [**defaultinplacestate**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinplacestate) -Eigenschaft festgelegt hat, wird der Eingabebereich im angegebenen Zustand angezeigt, wenn er zur Anzeige gezwungen wird. Eine Anwendung darf den In-Place Eingabebereich nur ausblenden oder anzeigen, wenn sich derzeit der Fokus im Fenster befindet, an dem das [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt angefügt ist, und wenn der Benutzer keinen Eingabebereich in einem anderen Interaktionsmodus, z. b. angedockt oder unverankert, geöffnet hat. Die Möglichkeit, den In-Place Eingabebereich zum Ausblenden oder Anzeigen des Fensters zu zwingen, ist auch [**mit dem**](peninputpanel-class.md) **TextInputPanel** -Objekt neu und nicht möglich.

Diese Optionen geben Anwendungsentwicklern eine fein abgestimmte Kontrolle darüber, wann der In-Place Eingabebereich angezeigt wird und in welchem Zustand Sie angezeigt werden. Durch Anpassen des standardmäßigen direkten Zustands und Steuern der direkten Sichtbarkeit unabhängig von Fokus Änderungen kann ein Anwendungsentwickler einen benutzerdefinierten Workflow erstellen, wenn der Eingabebereich auf Anwendungseinstellungen oder Benutzereingaben in einer Anwendung antwortet.

## <a name="absolute-positioning-of-input-panel-icon-and-input-panel"></a>Absolute Positionierung des Eingabe Bereichs Symbols und des Eingabe Bereichs

Die vielleicht überzeugendste neue Funktion im [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt ist die absolute Positionierung des In-Place Eingabe Bereichs. Mit dieser neuen Funktion kann ein Anwendungsentwickler sicherstellen, dass sich der In-Place Eingabe Panel nicht mit einem oder mehreren visuellen Schlüsselelementen in einem Anwendungs Layout überschneidet. Mithilfe des " [**pinputpanel**](peninputpanel-class.md) "-Objekts war es möglich, den In-Place Eingabe Panel relativ zu einem Textfeld zu positionieren, das auf einem Offset basiert. der Eingabebereich würde sich jedoch dennoch so anpassen, dass er auf dem Bildschirm bleibt. Zum ersten Mal kann eine Anwendung den In-Place Eingabebereich mithilfe von Bildschirm Koordinaten an einer absoluten Position positionieren. Außerdem ist die Verantwortung für die Beibehaltung des Eingabe Bereichs auf dem Bildschirm dem Anwendungsentwickler überlassen. Dadurch entfällt die Wahrscheinlichkeit, dass der Eingabebereich automatisch neu positioniert wird.

> [!Note]  
> Die in diesem Abschnitt beschriebenen Eigenschaften und Methoden gelten nur, wenn sich der Eingabebereich im In-Place Interaktionsmodus befindet.

 

Die zwei primären Methoden, die erforderlich sind, um den In-Place Eingabebereich absolut zu positionieren, sind " [**tartinplaceposition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) " und " [**tartinplacehovertargetposition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition)" Der erste wird verwendet, um den Speicherort des In-Place Eingabe Panels anzugeben, und der zweite wird verwendet, um den Speicherort des Eingabe Bereichs Symbols für den In-Place Eingabebereich anzugeben. Wenn von einer Anwendung nur die Position des Eingabe Bereichs Symbols und nicht der Speicherort des In-Place Eingabe Bereichs festgelegt wird, wird der In-Place Eingabebereich am Standard Speicherort angezeigt, der vom System festgelegt wird. Wenn eine Anwendung den In-Place Eingabebereich neu positioniert, aber nicht das Eingabe Bereichs Symbol, wird das Eingabe Bereichs Symbol am Standard Speicherort angezeigt. Der Speicherort wird in Bildschirm Koordinaten angegeben. Der tatsächliche Punkt, der positioniert wird, ist die linke obere Ecke des Eingabe Bereichs Symbols oder der Eingabebereich ohne geerweiterter Korrektur Kamm. Wenn der Korrektur Kamm erweitert wird, ändert sich der positionierte Punkt nicht. (Siehe Abbildung 2 unten) Es gibt keine Beschränkung, wo der In-Place Eingabebereich und das In-Place Eingabe Panel-Symbol Orte sein können, und es liegt in der Verantwortung der Anwendungen, die diese Methoden aufrufen, um Sie auf dem Bildschirm zu halten. Beide Methoden sind synchron, was bedeutet, dass die Positionierung vor der Rückgabe der Methode erfolgt. Wenn der Eingabebereich bereits im unverankerten oder angedockten Interaktionsmodus geöffnet ist, schlägt der Versuch fehl, den In-Place Eingabebereich oder das In-Place Eingabe Panel-Symbol zu positionieren. Außerdem schlagen die Methoden fehl, wenn das Fenster, das dem [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt angefügt ist, derzeit keinen Fokus hat.

Ein Aufruf von [**SetInPlacePosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplaceposition) oder [**SetInPlaceHoverTargetPosition**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacehovertargetposition) führt nicht automatisch dazu, dass der In-Place Eingabebereich oder das Eingabe Bereichs Symbol angezeigt wird, sondern legt einfach die Position fest, wenn Sie das nächste Mal angezeigt werden. Durch [**das Aufrufen von**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-setinplacevisibility) "" wird "" "mit" "" "mit" "" "aufgerufen.

![Messungen des direkten Eingabe Bereichs](images/0c67a77a-5d2f-489f-9357-b8a168d024d3.jpg)

Wenn Sie die In-Place Eingabe Panel positionieren, kann es etwas schwierig sein, den Bildschirm zu wechseln. Um diesen Prozess zu vereinfachen, gibt es mehrere Eigenschaften des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts, das verwendet werden kann, um diesen Prozess zu vereinfachen. Mit diesen Eigenschaften und Ereignissen können Sie die genaue Größe des In-Place Eingabe Bereichs in allen Zuständen bestimmen:

-   [**Inplaceboundingrechteck**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle)– diese Eigenschaft stellt das umgebende Rechteck für den In-Place Eingabebereich bereit, wenn der größte Eingabebereich für die aktuelle Eingabe Sprache angezeigt wird. Wenn der Schreib-oder Zeichenbereich auf den größten Eingabebereich festgelegt wird, wird die Höhe der einfügeschaltfläche eingefügt. Die Höhe des Korrektur Waben ist nicht enthalten. Wenn der In-Place Eingabebereich automatisch zunimmt, wird das [**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging)  /  -Ereignispaar in [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged) ausgelöst, und der Wert dieser Eigenschaft wird aktualisiert, um den zusätzlichen Schreibbereich oder die Schreib Zeile einzuschließen.
-   [**PopUpCorrectionHeight**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_popupcorrectionheight)– diese Eigenschaft gibt die Höhe des Korrektur kästeils nach dem Einfügen an, wenn Sie sich über dem Eingabebereich befindet. Fügen Sie der **PopUpCorrectionHeight** die Höhe von " [**inplaceboundingrechteck**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) " hinzu, um die vollständige Höhe des In-Place Eingabe Bereichs mit dem nach einfügenden Korrektur Fenster zu erhalten.

Als einfachere Alternative zum Festlegen der absoluten Position des In-Place Eingabe Bereichs und des Eingabe Bereichs Symbols kann eine Anwendung nur angeben, ob der In-Place Eingabebereich standardmäßig oberhalb oder unterhalb eines Texteingabe Felds angezeigt wird. Auf diese Weise ist es möglich, Überlappende Elemente im Anwendungs Layout schneller kontrolliert zu vermeiden. Zu diesem Zweck wird von der Anwendung [**PreferredInPlaceDirection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_preferredinplacedirection) auf **InPlaceDirection \_ Bottom** oder **InPlaceDirection \_ Top** festgelegt. Die-Eigenschaft ist eine bevorzugte Einstellung, da der In-Place Eingabebereich die von der Anwendung festgelegte Einstellung überschreibt, wenn dies erforderlich ist, um den Eingabebereich auf dem Bildschirm beizubehalten. Der Standardwert des Systems ist, den In-Place Eingabebereich nach Möglichkeit unterhalb eines Textfelds zu positionieren, und andernfalls, um ihn zu positionieren. Wenn Sie **PreferredInPlaceDirection** auf **InPlaceDirection \_** festlegen, wird der System Standardwert automatisch wieder hergestellt.

Die Eigenschaften, Methoden und Ereignisse des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts bieten Entwicklern die erforderliche Kontrolle über den In-Place Eingabebereich, damit Sie den In-Place Eingabebereich und das Eingabe Panel-Symbol in einem Anwendungs Layout clever positionieren können, damit Sie den layoutflow nicht stören und in manchen Fällen als integriert angezeigt werden. Diese neue Steuerungsebene ist ein großer Gewinn für das Tablet-Anwendungsdesign.

## <a name="access-to-the-three-input-panel-areas-writing-pad-character-pad-and-keyboard"></a>Zugriff auf die drei Eingabe Bereichs Bereiche: Schreiben von Pad, Zeichenbereich und Tastatur

Der Eingabebereich verfügt über drei Eingabe Bereiche: den Schreibbereich, das Zeichen Pad und die Tastatur. Mithilfe des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts kann eine Anwendung den Standardeingabe Bereich angeben, der dem Benutzer angezeigt wird, wenn der Eingabebereich geöffnet wird. Der Hauptgrund für eine Anwendung besteht darin, den Eingabebereich mit dem Eingabetyp eines bestimmten Felds zu koppeln. Beispielsweise ist der Schreibbereich wahrscheinlich am besten zum Ausfüllen eines Kommentarfelds geeignet, aber die Tastatur ist möglicherweise bequemer für die Eingabe einer Produktserien Nummer, die sowohl Zahlen als auch Buchstaben enthält. Um den Standardeingabe Bereich anzugeben, legt eine Anwendung die [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) -Eigenschaft auf einen der drei Eingabe Bereiche fest, wie durch die [**PanelInputArea**](/windows/win32/api/peninputpanel/ne-peninputpanel-panelinputarea) -Enumeration definiert. Die folgende Abbildung zeigt die drei Eingabe Bereiche.

![schreiben, Zeichen und Tastatureingabe Panel](images/3f1e3d03-88b9-478c-b12d-00d341bc8d5c.jpg)

Der Standardeingabe Bereich des Systems ist der Schreibbereich für Englisch, Französisch, Deutsch, Spanisch, Italienisch, Portugiesisch, Niederländisch und alle anderen lateinischen Eingabe Sprachen. Für die ostasiatischen Eingabe Sprachen (einschließlich Japanisch, Chinesisch und Koreanisch) ist der Standardeingabe Bereich das Zeichen Pad. Wenn der Benutzer jedoch den Eingabebereich ändert, überschreibt er den Standardeingabe Bereich für die aktuelle Eingabe Sprache und wird als neuer Standardwert für diese Eingabe Sprache gespeichert. Die Tastatur ist der Standardeingabe Bereich für Kenn Wort Felder, unabhängig von der Eingabe Sprache, es sei denn, die Kenn Wort Sicherheit wurde durch den Benutzer oder die Gruppenrichtlinie deaktiviert. In allen Fällen wird durch das programmgesteuerte Festlegen des Bereichs für den Standardeingabe Bereich der Standardwert des Systems überschrieben, es sei denn, das aktuelle Feld ist ein Kenn Wort Feld, oder die Handschrifterkennung für die aktuelle Eingabe Sprache unterstützt den Programm gesteuert ausgewählten Eingabebereich nicht. Wenn Sie die [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) -Eigenschaft auf InPlaceDirection festlegen, werden die System Standardeinstellungen **\_ automatisch** wieder hergestellt.

Unabhängig davon, ob der Standardeingabe Bereich-Bereich Programm gesteuert festgelegt wurde oder nicht, kann der Benutzer den aktuellen Eingabebereich ändern, sobald der Eingabebereich geöffnet ist. Nachdem der Benutzer den aktuellen Eingabebereich geändert hat, wird die Benutzer Auswahl so lange beibehalten, bis der Eingabebereich geschlossen wird, oder der Benutzer ändert die Auswahl erneut. Nachdem der Eingabebereich geschlossen und wieder geöffnet wurde, wird der standardmäßige Eingabebereich Programm gesteuert festgelegt.

Da der aktuelle Eingabebereich möglicherweise vom Standardeingabe Bereich abweicht, kann eine Anwendung die [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) -Eigenschaft Abfragen, um zu bestimmen, welcher Eingabebereich momentan sichtbar ist. Wenn der Eingabebereich momentan nicht sichtbar ist, ist der aktuelle Eingabebereich gleich dem Standardeingabe Bereich. Die **CurrentInputArea** -Eigenschaft ist nie gleich **PanelInputArea \_ Auto**. Wenn " [**DefaultInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_defaultinputarea) " gleich " **PanelInputArea \_ Auto**" ist, ist " **CurrentInputArea** " gleich dem letzten angezeigten Eingabebereich oder der Standardeinstellung des Systems für die aktuelle Eingabe Sprache, wenn der Eingabebereich noch nicht angezeigt wird.

Der Hauptunterschied zwischen der Unterstützung für den Eingabebereich im " [**tzinputpanel**](peninputpanel-class.md) "-Objekt und dem [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt besteht darin, dass die Anwendung nun über die Möglichkeit verfügt, den Standardeingabe Bereich neben dem Schreibbereich und der Tastatur auf das Zeichen Pad festzulegen.

Mithilfe der oben aufgeführten Eigenschaften kann eine Anwendung den Eingabebereich des Eingabe Bereichs steuern, der in unterschiedlichen Feldern angezeigt wird, und die Texteingabe des Benutzers optimieren. Darüber hinaus kann die Anwendung das Bewusstsein für den aktuellen Eingabebereich behalten und bedingte Entscheidungen treffen, je nachdem, welcher Eingabebereich am besten für die aktuelle Benutzer Aufgabe geeignet ist.

## <a name="detailed-information-about-input-panels-interaction-mode"></a>Ausführliche Informationen zum Interaktionsmodus des Eingabe Panels

Um den aktuellen Eingabebereich des Eingabe Bereichs erkennen zu können, ist es auch möglich, den aktuellen Interaktionsmodus zu erkennen: direkt, angedockt oder unverankert. Es ist möglicherweise wichtig, dass die Anwendung den aktuellen Interaktionsmodus kennt, um zu verstehen, wie der Benutzer mit der Anwendung interagiert oder ob einige Methoden und Eigenschaften des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts nur auf den In-Place Interaktionsmodus zutreffen. In der Anwendung werden z. b. vorhandene Benutzeroberflächen Elemente durchlaufen, und dann wird der In-Place Eingabebereich über einen leeren Bereich in den Benutzeroberflächen positioniert, sollte überprüft werden, um sicherzustellen, dass der aktuelle Interaktionsmodus vor der Anpassung vorhanden ist.

![angedockte, Gleit Komma-und in-Pace-Eingabe Panel-Modi](images/98c8e96b-99b2-477a-9843-33b1fae7e75b.jpg)

Die [**currentinteraktionmode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinteractionmode) -Eigenschaft des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts speichert den aktuellen Interaktionsmodus, wie er vom Benutzer ausgewählt wurde. Die möglichen Modi werden von der [**interaktionmode**](/windows/win32/api/peninputpanel/ne-peninputpanel-interactionmode) -Enumeration wie folgt definiert:

**Interaktionsmodus \_ Inplace**– im Eingabebereich des In-Place Interaktionsmodus neben dem Feld Texteingabe, das derzeit den Fokus besitzt. Standardmäßig wird das In-Place Eingabe Panel-Symbol angezeigt, wenn eine Einfügemarke in einem Texteingabefeld platziert wird. Wenn Sie auf das Eingabe Bereichs Symbol tippen, wird der Eingabebereich erweitert. Der In-Place Eingabe Panel ist nur sichtbar, wenn sich eine Einfügemarke in einem bearbeitbaren Feld befindet.

Interaktionsgleit \_ Komma – der unverankerte Interaktionsmodus ähnelt dem Inplace-Interaktionsmodus, mit dem Unterschied, dass er nicht an eine Einfügemarke gebunden ist. Der Gleit Komma Eingabebereich wird durch Tippen auf die Registerkarte Eingabebereich geöffnet, die standardmäßig am linken Bildschirmrand angezeigt wird. Sowohl der Bereich für Gleit Komma Eingaben als auch die Registerkarte Eingabebereich können vom Benutzer gezogen und neu positioniert werden. Im Gleit Komma Bereich ist die Positionierung und Steuerung des Eingabe Bereichs für den Benutzer vollständig.

\_Interaktionsdockedtop – im Eingabebereich der Docked-Top Interaktionsmodus wird oben auf dem Bildschirm angezeigt, und die Größe des aktiven Desktops wird geändert, sodass sich der Eingabebereich nicht mit anderen Fenstern oder Benutzeroberflächen Elementen überlappt. Im angedockten Modus kann der Eingabebereich nicht gezogen oder verschoben werden.

Interaktionmode \_ dockedbottom – der Docked-Bottom Interaktionsmodus ist identisch mit dem Modus "Docked-Top", mit dem Unterschied, dass der Eingabebereich unten auf dem Bildschirm angezeigt wird.

Wenn der Eingabebereich nicht sichtbar ist, wird der aktuelle Interaktionsmodus direkt ausgeführt.

Das Veröffentlichen des aktuellen Interaktions Modells ist eine weitere Möglichkeit, dass das [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt weitere Informationen zum Status des Eingabe Bereichs bereitstellt, als in einer früheren Version verfügbar waren.

## <a name="detailed-information-about-input-panels-correction-mode"></a>Ausführliche Informationen zum Korrekturmodus des Eingabe Panels

Der letzte Aspekt des Eingabe Bereichs, bei dem das [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt ausführliche Informationen über und die Steuerung von enthält, ist der Korrekturmodus. Wenn Sie den Korrekturmodus wissen, können Anwendungen die aktuelle Größe des Eingabe Bereichs bestimmen. Das Steuern der Erweiterung nach dem Einfügen in einer Anwendung ist eine Möglichkeit, die Korrektur in einer Anwendung anzupassen.

Es gibt zwei grundlegende Modi, in denen der Korrektur-Kamm angezeigt werden kann: voreinfügevorgänge und das Einfügen nach dem Einfügen. Der Korrektur-Kamm vor dem Einfügen wird verwendet, um Text vor dem Einfügen in eine Anwendung zu korrigieren. Sie wird aktiviert, indem Sie auf den ausstehenden Text tippen, der unterhalb der Baseline im Schreib-Pad als Benutzer Farben angezeigt wird. Der Korrektur-Kamm nach dem Einfügen wird verwendet, um Text zu korrigieren, nachdem er in eine Anwendung eingefügt wurde. Sie wird aktiviert, indem die Einfügemarke in platziert oder Text ausgewählt wird, der zuvor eingefügt wurde. Über die beiden grundlegenden Modi hinaus gibt es mehrere Variationen der Art und Weise, wie der Korrektur-Kamm nach dem Einfügen angezeigt werden kann. Zuerst kann es entweder oberhalb oder unterhalb des Eingabe Panels angezeigt werden, und Zweitens kann es als reduziert oder erweitert angezeigt werden. Im reduzierten Zustand zeigt der Korrektur Schritt nach dem Einfügen nur eine Liste der Alternativen an. Im erweiterten Zustand enthält Sie sowohl die Alternativen als auch einen Bereich zum Umschreiben des Worts.

![Eingabebereich "Korrektur", "Pre" und "Post Insert"](images/6cc627de-fc15-4721-9f6a-7e1517d9e650.jpg)

Die [**currentcorrectionmode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) -Eigenschaft ermöglicht es einer Anwendung, die aktuelle Konfiguration des Korrektur Waben zu bestimmen. Die möglichen Werte dieser Eigenschaft, wie von den [**CorrectionMode**](/windows/win32/api/peninputpanel/ne-peninputpanel-correctionmode) -Enumerationen definiert, sind: **notvisible**, **preeinfügung**, **postinsertionreduzierten** und **postinsertionexpanded**. Wenn kein Eingabe-oder Korrektur Fenster sichtbar ist, ist **currentcorrectionmode** nicht **sichtbar**.

Standardmäßig zeigt das System den Korrektur Punkt für die nach Einfügung an, wenn der korrigierbare Text auswählt und den Wert reduziert anzeigt, wenn die Einfügemarke in korrigierbaren Text eingefügt wird. Eine Anwendung kann angeben, wo der Korrektur Schritt nach dem Einfügen immer erweitert werden soll, indem die [**ExpandPostInsertionCorrection**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_expandpostinsertioncorrection) -Eigenschaft auf **true** festgelegt wird. Der Standardwert des Systems ist **false**. Wenn die **ExpandPostInsertionCorrection** -Eigenschaft in Verbindung mit der [**ihandwrite-textinsertion**](/windows/desktop/api/peninputpanel/nn-peninputpanel-ihandwrittentextinsertion) -Schnittstelle verwendet wird, kann ein Anwendungsentwickler der Anwendungen, die ihn nicht automatisch erhalten, eine Korrektur Unterstützung hinzufügen.

Das Nachverfolgen und Steuern des Korrektur Status des Eingabe Bereichs ist eine der zahlreichen neuen Funktionen des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts, die einen engeren Eingabebereich und Anwendungsintegration ermöglichen.

## <a name="event-notification-before-and-after-the-event-occurs"></a>Ereignis Benachrichtigung vor und nach dem Auftreten des Ereignisses

Ein weiterer Aspekt der Programmierbarkeit des Eingabe Bereichs, der im [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt erheblich verbessert wird, ist das Ereignis Modell. Anstatt nur Ereignisse zu übertragen, die eine Änderung des Zustands des Eingabe Bereichs nach dem Eintreten der Änderung signalisieren, werden vor und nach der Änderung separate Ereignisse gesendet. Ereignisse, die den Anfang eines Ereignisses signalisieren, enthalten aktuelle Verben wie z. b. ' Changing ' oder ' INSERT ', während Ereignisse, die den Abschluss eines Ereignisses signalisieren, über verspannte Verben wie ' Changed ' oder ' eingefügt ' enthalten.

Dieses Ereignis Modell ermöglicht es einer Anwendung, auf eine Änderung zu reagieren, bevor oder während Sie auftritt. Der Eingabebereich kann mit einer Änderung oder dem Fortsetzen nach der Änderung blockiert werden, bis die Ereignishandler für alle Ereignisse abgeschlossen sind. Diese Ereignisse sind synchron und auf diese Weise kann eine Anwendung eine Änderung verzögern, bis die Reaktion beendet ist. Allerdings ist der Zeitpunkt, an dem ein Ereignishandler den Eingabebereich ausführt, für den Benutzer nicht zugänglich und wird möglicherweise nicht angezeigt, daher ist es wichtig, dass der Ereignishandler gut funktioniert. Allerdings ist es für eine Anwendung nicht möglich, ein Ereignis zu verhindern oder abzubrechen. Alle Ereignis Parameter sind schreibgeschützt. Im folgenden finden Sie eine Beschreibung der sechs Ereignis Paare des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts:

-   [**InPlaceStateChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanging)  /  [**InPlaceStateChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacestatechanged)– Benachrichtigung, dass der direkte Zustand ungefähr zu oder gerade von Hover zu erweitert oder umgekehrt gewechselt hat. Parameter sind der neue und der alte direkte Zustand. Zufälligkeiten mit einer Änderung des Werts der [**CurrentInPlaceState**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinplacestate) -Eigenschaft.
-   [**InPlaceSizeChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanging)  /  [**InPlaceSizeChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacesizechanged)– wird angezeigt, wenn die Größe des In-Place Eingabe Bereichs geändert wird oder aufgrund einer Änderung der Benutzer Größe, der automatischen Vergrößerung oder einer Änderung des Eingabe Bereichs geändert wurde. Parameter sind das neue und alte Begrenzungs Rechteck. Zufälligkeiten mit einer Änderung des Werts der [**inplaceboundingrechteck**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_inplaceboundingrectangle) -Eigenschaft.
-   [**InputAreaChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanging)  /  [**InputAreaChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inputareachanged)– meldet, wann der Eingabebereich des Eingabe Bereichs geändert wird oder von einem anderen der drei möglichen Eingabe Bereiche geändert wurde: das Schreiben von Pad, dem Zeichenbereich oder der Tastatur. Parameter sind der neue und der alte Eingabebereich. Stimmt mit einer Änderung des Werts der [**CurrentInputArea**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentinputarea) -Eigenschaft überein.
-   " [**Correctionmodechanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanging)  /  " [**Correctionmodechanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-correctionmodechanged)– Benachrichtigung, dass sich der Korrekturmodus ändert oder geändert hat. Mögliche Korrektur Modi: nicht sichtbar, voreinfügung, nach dem Einfügen reduziert und nach dem Einfügen erweitert. Parameter sind der neue und der alte Korrekturmodus. Stimmt mit einer Änderung des Werts der [**currentcorrectionmode**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpanel-get_currentcorrectionmode) -Eigenschaft überein.
-   [**InPlaceVisibilityChanging**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanging)  /  [**InPlaceVisibilityChanged**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-inplacevisibilitychanged)– gibt an, wann die Sichtbarkeit des In-Place Eingabe Bereichs geändert oder geändert wird. Parameter sind die neue und alte Sichtbarkeit. Eine neue Sichtbarkeit von " **false** " bedeutet, dass der In-Place Eingabebereich nicht geöffnet ist, aber nicht ausschließt, dass der Eingabebereich im Gleit Komma-oder angedockten Interaktionsmodus sichtbar ist.
-   [**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting)  /  [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted)– gibt an, wann Text eingefügt oder aus dem Eingabebereich eingefügt wurde. Der-Parameter ist ein Array von [**InkDisp**](inkdisp-class.md) -Objekten, die jeweils eine Zeile der frei Hand Eingabe und den Text enthalten, aus denen die Einfügung besteht. Weitere Informationen zu diesem Ereignis finden Sie im nächsten Abschnitt.

Diese Ereignisse bieten Anwendungen wichtige Informationen zu Änderungen im Eingabebereich und ermöglichen es Ihnen, entsprechend zu reagieren. Auch hier ist die Änderung im Ereignis Modell für den Eingabebereich ein Schritt zur besseren Interaktion zwischen Anwendungen und Eingabe Panel.

## <a name="support-for-collecting-the-ink-and-text-entered-in-input-panel"></a>Unterstützung für das Erfassen der frei Hand Eingaben und des Texts im Eingabebereich

Als letztes, aber sicherlich nicht zumindest, ist ein sehr leistungsfähiges neues Feature des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts die Möglichkeit, das frei Hand Objekt für Text zu erhalten, der über Eingabebereich aus dem Eingabebereich zum Zeitpunkt des Einfügetexts in eine Anwendung eingegeben wurde. Dies ist ein häufig angefordertes Feature für die Änderungs Nachverfolgung und Daten Satz Aufbewahrung. Außerdem ermöglicht es Anwendungen, die frei Hand Eingaben in der Benutzeroberfläche entweder als statisches Element oder mit einer benutzerdefinierten Eingangs Oberfläche zu verwenden.

Um das [**InkDisp**](inkdisp-class.md) -Objekt für Text zu empfangen, der über den Eingabebereich eingegeben wurde, muss eine Anwendung sich registrieren, um die vom [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekt generierten [**TextInserting**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserting) -oder [**TextInserted**](/windows/desktop/api/peninputpanel/nf-peninputpanel-itextinputpaneleventsink-textinserted) -Ereignisse zu empfangen. Das **TextInserting** -Ereignis wird ausgelöst, unmittelbar bevor Text aus dem Eingabebereich in eine Anwendung eingefügt wird, und der Text wird erst eingefügt, wenn alle Ereignishandler vollständig sind. Das **TextInserted** -Ereignis wird unmittelbar nach dem Einfügen des Tests ausgelöst. Der einzige Parameter für das **TextInserting** -Ereignis und das **TextInserted** -Ereignis ist ein Array von **InkDisp** -Objekten, das ein **InkDisp** -Objekt für jede Textzeile enthält, die aus dem Eingabebereich eingefügt wird. Hinweis: der Eingabebereich ist inaktiv, während die Ereignishandler ausgeführt werden und für den Benutzer nicht sichtbar sind. Daher ist es wichtig, dass diese Ereignishandler eine leichte Gewichtung machen und sicherstellen, dass Sie schnell ausgeführt werden. Darüber hinaus sollte eine Anwendung keinen Handler für dieses Ereignis erstellen, es sei denn, Sie verfügt über eine bestimmte Verwendung der Informationen, da hierfür Leistungseinbußen entstehen. Der Eingabebereich Marshalls nur die frei Hand Daten, wenn eine Anwendung die Daten anfordert. andernfalls kann der Eingabebereich diesen kostspieligen Vorgang überspringen. Die Parameter sowohl der **TextInserting** -als auch der **TextInserted** -Ereignisse sind schreibgeschützt, was bedeutet, dass Anwendungen eingefügten Text vor dem Einfügen in die Anwendung nicht ändern können.

Die Möglichkeiten für Anwendungen, die mit dieser neuen Funktionalität zu tun haben, sind umfangreich und können nicht einfacher zu verwenden sein. Das Erfassen von erkanntem Text und frei Hand Eingaben, die über den Eingabebereich eingegeben wurden, ist eine weitere Möglichkeit, die Entwickler Story des Eingabe Panels in Windows Vista zu verbessern.

## <a name="conclusion"></a>Zusammenfassung

Insgesamt wurde die Programmierbarkeit für den Tablet PC-Eingabebereich durch die Einführung des [**TextInputPanel**](/windows/desktop/api/peninputpanel/nn-peninputpanel-itextinputpanel) -Objekts in Windows Vista erheblich verbessert. Mithilfe des **TextInputPanel** -Objekts haben Anwendungsentwickler mehr Kontrolle und weitere Informationen zum Zustands Eingabe Panel in der vorherigen Version. Daher wird dringend empfohlen, dass Anwendungsentwickler, die neue Tablet PC-Anwendungen entwickeln oder vorhandene Anwendungen aktualisieren, das **TextInputPanel** -Objekt anstelle des nun veralteten " [**pinputpanel**](peninputpanel-class.md) "-Objekts verwenden. Darüber hinaus ermöglichen die Unterstützung neuer Funktionen, wie z. b. die absolute Positionierung des Eingabe Bereichs und das Eingabe Bereichs Symbol, sowie die Möglichkeit, dass die Anwendung sowohl Erkennungs Text als auch frei Hand Eingaben empfängt, die über den Eingabebereich eingegeben wurden Die Einbindung dieser Features und mehrerer anderer Personen ist eine direkte Reaktion auf das Feedback von Entwicklern und die ersten Schritte zur vollständigen Integration des Eingabe Bereichs mit Tablet PC-Anwendungen. Letztendlich ist das Erweitern der Funktionalität von Tablet PC-Anwendungen ein großer Gewinn für Anwendungsentwickler und die Tablet PC-Plattform.

 

 



