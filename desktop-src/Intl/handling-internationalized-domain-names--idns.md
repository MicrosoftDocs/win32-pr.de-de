---
description: In diesem Thema wird beschrieben, wie Sie in Ihren Anwendungen mit internationalisierten Domänen Namen (Internationalized Domain Names, IDNs) arbeiten.
ms.assetid: e0ca356e-f8c1-4845-ae1e-ce2ae8987515
title: Umgang mit internationalisierten Domänen Namen (IDNs)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95e853f0ea3f62fc3e5ee848431417cc031eaa5a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104216947"
---
# <a name="handling-internationalized-domain-names-idns"></a><span data-ttu-id="d1a3c-103">Umgang mit internationalisierten Domänen Namen (IDNs)</span><span class="sxs-lookup"><span data-stu-id="d1a3c-103">Handling Internationalized Domain Names (IDNs)</span></span>

<span data-ttu-id="d1a3c-104">In diesem Thema wird beschrieben, wie Sie in Ihren Anwendungen mit internationalisierten Domänen Namen (Internationalized Domain Names, IDNs) arbeiten.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-104">This topic describes how you can work with internationalized domain names (IDNs) in your applications.</span></span> <span data-ttu-id="d1a3c-105">IDNs werden von der Netzwerk Arbeitsgruppe [RFC 3490: internationalisieren von Domänen Namen in Anwendungen (IDNA)](http://www.faqs.org/rfcs/rfc3490.html)angegeben.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-105">IDNs are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="d1a3c-106">Vor diesem Entwurfs Standard waren IDNs auf lateinische Zeichen ohne Diakritik beschränkt.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-106">Prior to this draft standard, IDNs were limited to Latin characters without diacritics.</span></span> <span data-ttu-id="d1a3c-107">IDNA ermöglicht IDNs das Einschließen von lateinischen Zeichen mit Diakritik und Zeichen aus nicht lateinischen Skripts, wie z. b. Kyrillisch, Arabisch und Chinesisch.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-107">IDNA allows IDNs to include Latin characters with diacritics, along with characters from non-Latin scripts, such as Cyrillic, Arabic, and Chinese.</span></span> <span data-ttu-id="d1a3c-108">Der Standard definiert auch Regeln für die Zuordnung von IDNs zu reinen ASCII-Domänen Namen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-108">The standard also establishes rules for mapping IDNs to ASCII-only domain names.</span></span> <span data-ttu-id="d1a3c-109">Daher können IDNA-Probleme auf Clientseite behandelt werden, ohne dass DNS (Domain Nameserver)-Änderungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-109">Thus, IDNA issues can be handled on the client side, without requiring any domain name server (DNS) changes.</span></span>

> [!Caution]  
> <span data-ttu-id="d1a3c-110">In RFC 3490 wird eine Reihe von Sicherheitsproblemen im Zusammenhang mit der Verwendung von IDNs eingeführt.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-110">RFC 3490 introduces a number of security issues related to the use of IDNs.</span></span> <span data-ttu-id="d1a3c-111">Weitere Informationen finden Sie im entsprechenden Abschnitt der [Sicherheitsaspekte: Internationale Features](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-111">For more information see the related section of [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

> [!Note]  
> <span data-ttu-id="d1a3c-112">IDNA basiert derzeit auf Unicode 3,2.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-112">IDNA is currently based on Unicode 3.2.</span></span>

 

## <a name="nls-api-functions-for-handling-idns"></a><span data-ttu-id="d1a3c-113">NLS API Funktionen für die Handhabung von IDNs</span><span class="sxs-lookup"><span data-stu-id="d1a3c-113">NLS API Functions for Handling IDNs</span></span>

<span data-ttu-id="d1a3c-114">NLS umfasst die folgenden Konvertierungs Funktionen, die Ihre Anwendung verwenden kann, um einen IDN in verschiedene Darstellungen zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-114">NLS includes the following conversion functions that your application can use to convert an IDN to different representations.</span></span> <span data-ttu-id="d1a3c-115">Ein Beispiel für die Verwendung dieser Funktionen finden Sie unter [nls: Beispiel für die Konvertierung von internationalisierten Domänen Namen (IDN)](nls--internationalized-domain-name--idn--conversion-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-115">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md).</span></span>

-   <span data-ttu-id="d1a3c-116">[**Idnto ASCII**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-116">[**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii).</span></span> <span data-ttu-id="d1a3c-117">Konvertiert einen IDN in Punycode.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-117">Converts an IDN to Punycode.</span></span>
-   <span data-ttu-id="d1a3c-118">[**Idntonameprepunicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-118">[**IdnToNameprepUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntonameprepunicode).</span></span> <span data-ttu-id="d1a3c-119">Führt den Nameprep-Teil der Konvertierung eines IDN in einen ASCII-Namen aus.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-119">Performs the NamePrep portion of the conversion of an IDN to an ASCII name.</span></span> <span data-ttu-id="d1a3c-120">Diese Funktion erstellt eine kanonische Unicode-Darstellung einer Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-120">This function creates a canonical Unicode representation of a string.</span></span>
-   <span data-ttu-id="d1a3c-121">[**Idnzu Unicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-121">[**IdnToUnicode**](/windows/desktop/api/Winnls/nf-winnls-idntounicode).</span></span> <span data-ttu-id="d1a3c-122">Konvertiert eine Punycode-Zeichenfolge in eine normale UTF-16-Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-122">Converts a Punycode string to a normal UTF-16 string.</span></span>

<span data-ttu-id="d1a3c-123">NLS definiert auch mehrere API-Funktionen, die verwendet werden können, um einige der von der IDN-Technologie dargestellten Sicherheitsrisiken zu entschärfen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-123">NLS also defines several API functions that can be used to mitigate some of the security risks presented by the IDN technology.</span></span> <span data-ttu-id="d1a3c-124">Unter Windows Vista und höher werden die folgenden Funktionen verwendet, um zu überprüfen, ob die Zeichen in einem angegebenen IDN vollständig aus den Skripts gezeichnet werden, die einem bestimmten Gebiets Schema oder Gebiets Schema zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-124">On Windows Vista and later, the following functions are used to verify that the characters in a given IDN are drawn entirely from the scripts associated with a particular locale or locales.</span></span> <span data-ttu-id="d1a3c-125">Ein Beispiel für die Verwendung dieser Funktionen finden Sie unter [nls: Beispiel zur Entschärfung der internationalisierten Domänen Namen (IDN)](nls--internationalized-domain-name--idn--mitigation-sample.md).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-125">For an example of the use of these functions, see [NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md).</span></span>

-   <span data-ttu-id="d1a3c-126">[**Getstringscripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-126">[**GetStringScripts**](/windows/desktop/api/Winnls/nf-winnls-getstringscripts).</span></span> <span data-ttu-id="d1a3c-127">Stellt eine Liste der in einer bestimmten Zeichenfolge verwendeten Skripts bereit.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-127">Provides a list of scripts used in a particular string.</span></span>
-   <span data-ttu-id="d1a3c-128">[**Getlocaleingefo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**getlocaleingefoex**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-128">[**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa), [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex).</span></span> <span data-ttu-id="d1a3c-129">Abrufen von Gebiets Schema Informationen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-129">Retrieve locale information.</span></span> <span data-ttu-id="d1a3c-130">Die Verwendung der Funktionen, bei denen *LCTYPE* auf [locale \_ sscripts](locale-sscripts.md) festgelegt ist, enthält eine Liste von Skripts, die normalerweise für ein bestimmtes Gebiets Schema</span><span class="sxs-lookup"><span data-stu-id="d1a3c-130">Using the functions with *LCType* set to [LOCALE\_SSCRIPTS](locale-sscripts.md) provides a list of scripts normally used for a particular locale.</span></span>
-   <span data-ttu-id="d1a3c-131">[**Verifyscripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-131">[**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span> <span data-ttu-id="d1a3c-132">Vergleicht die Liste der Skripts.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-132">Compares lists of scripts.</span></span> <span data-ttu-id="d1a3c-133">Zum Überprüfen mehrerer Gebiets Schemas kann die Anwendung mehrere Aufrufe an [**getlocaleingefo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) oder [**getlocaleingefoex**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) und [**verifyscripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts)durchführen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-133">To verify against multiple locales, the application can make multiple calls to [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) or [**GetLocaleInfoEx**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoex) and [**VerifyScripts**](/windows/desktop/api/Winnls/nf-winnls-verifyscripts).</span></span>

<span data-ttu-id="d1a3c-134">Bei Anwendungen, die unter Windows XP und Windows Server 2003 ausgeführt werden, spielen die Funktionen " [**downlevelgetlocalescripts**](downlevelgetlocalescripts.md)", " [**downlevelgetstringscripts**](downlevelgetstringscripts.md)" und " [**downlevelverifyscripts**](downlevelverifyscripts.md) " eine ähnliche Rolle wie bei den oben aufgeführten Funktionen, um das Sicherheitsrisiko zu mindern.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-134">For applications that run on Windows XP and Windows Server 2003, the functions [**DownlevelGetLocaleScripts**](downlevelgetlocalescripts.md), [**DownlevelGetStringScripts**](downlevelgetstringscripts.md), and [**DownlevelVerifyScripts**](downlevelverifyscripts.md) play a similar role to the functions listed above in mitigating security risk.</span></span> <span data-ttu-id="d1a3c-135">Der Download ["Microsoft Internationalized Domain Name (IDN) Entschärfungs-APIs"](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) ist im [MSDN Download Center](https://www.microsoft.com/?ref=go)verfügbar.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-135">The ["Microsoft Internationalized Domain Name (IDN) Mitigation APIs"](https://www.microsoft.com/downloads/details.aspx?FamilyID=AD6158D7-DDBA-416A-9109-07607425A815&displaylang=en) download is available at the [MSDN Download Center](https://www.microsoft.com/?ref=go).</span></span>

## <a name="handle-unicode-strings"></a><span data-ttu-id="d1a3c-136">Unicode-Zeichen folgen verarbeiten</span><span class="sxs-lookup"><span data-stu-id="d1a3c-136">Handle Unicode Strings</span></span>

<span data-ttu-id="d1a3c-137">IDNA unterstützt die Transformation von Unicode-Zeichen folgen in legitime hostnamensbezeichnungen, mit Ausnahme von Zeichen folgen, die bestimmte unzulässige Zeichen enthalten, z. b. Steuerzeichen, Zeichen aus dem privaten Verwendungsbereich (Pua) und ähnliches.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-137">IDNA supports the transformation of Unicode strings into legitimate host name labels, with the exception of strings containing certain prohibited characters, such as control characters, characters from the private use area (PUA), and the like.</span></span> <span data-ttu-id="d1a3c-138">Die Anwendung kann das IDN \_ use \_ STD3 \_ ASCII Rules- \_ Flag mit mehreren nls-Konvertierungs Funktionen verwenden, um zu erzwingen, dass die Funktionen fehlschlagen, wenn Sie andere ASCII-Zeichen als Buchstaben, Ziffern oder Bindestriche-Minuszeichen (-) aufweisen oder wenn eine Zeichenfolge mit dem Bindestrich-Minuszeichen beginnt oder endet.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-138">Your application can use the IDN\_USE\_STD3\_ASCII\_RULES flag with several NLS conversion functions to force the functions to fail if they encounter ASCII characters other than letters, numbers, or the hyphen-minus (-) character, or if a string begins or ends with the hyphen-minus character.</span></span> <span data-ttu-id="d1a3c-139">Diese Zeichen sind für die Verwendung in Domänen Namen immer unzulässig und bleiben im Entwurfs Standard unverändert.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-139">These characters have always been prohibited from use in domain names, and remain prohibited in the draft standard.</span></span>

## <a name="handle-unassigned-code-points"></a><span data-ttu-id="d1a3c-140">Nicht zugewiesene Code Punkte behandeln</span><span class="sxs-lookup"><span data-stu-id="d1a3c-140">Handle Unassigned Code Points</span></span>

<span data-ttu-id="d1a3c-141">IDNs können nicht zugewiesene Code Punkte enthalten.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-141">IDNs cannot contain unassigned code points.</span></span> <span data-ttu-id="d1a3c-142">Daher verfügen Code Punkte, die nicht mit einem Zeichen ("zugewiesen") ab dem Unicode 3,2 zugeordnet sind, nicht über definierte IDN-Zuordnungen, obwohl das IDN- \_ \_ Flag "nicht zugewiesen" in bestimmten Konvertierungs Funktionen zulässt, dass Sie Punycode zugeordnet werden können.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-142">Therefore, code points that are not associated with a character ("assigned") as of Unicode 3.2 do not have defined IDN mappings, even though the IDN\_ALLOW\_UNASSIGNED flag in certain conversion functions allows them to be mapped to Punycode.</span></span> <span data-ttu-id="d1a3c-143">Eine Liste nicht zugewiesener Code Punkte finden Sie in [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-143">You can find a list of unassigned code points in [RFC 3454](http://www.faqs.org/rfcs/rfc3454.html).</span></span>

> [!Caution]  
> <span data-ttu-id="d1a3c-144">Wenn Ihre Anwendung nicht zugewiesene Code Punkte als Punycode codiert, sollten die resultierenden Domänen Namen ungültig sein.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-144">If your application encodes unassigned code points as Punycode, the resulting domain names should be illegal.</span></span> <span data-ttu-id="d1a3c-145">Die Sicherheit kann beeinträchtigt werden, wenn diese Namen in einer neueren Version von IDNA zulässig sind oder wenn die Anwendung die ungültigen Zeichen herausfiltert, um einen rechtlichen Domänen Namen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-145">Security can be compromised if a later version of IDNA makes these names legal or if the application filters out the illegal characters to try to create a legal domain name.</span></span>

 

<span data-ttu-id="d1a3c-146">Nicht zugewiesene Code Punkte sind in den gespeicherten Zeichen folgen, die in Protokoll bezeichnerelementen und benannten Entitäten verwendet werden, nicht zulässig, wie z. b. Namen in digitalen Zertifikaten und DNS-Domänen Namen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-146">Unassigned code points are not allowed in the stored strings used in protocol identifiers and named entities, such as names in digital certificates and DNS domain name parts.</span></span> <span data-ttu-id="d1a3c-147">Die Code Punkte sind jedoch in Abfrage Zeichenfolgen zulässig, z. b. Benutzernamen für digitale Zertifizierungsstellen und DNS-Lookups, die für den Abgleich mit gespeicherten bezeichnervorgängen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-147">However, the code points are allowed in query strings, for example, user-entered names for digital certificate authorities and DNS lookups, which are used to match against stored identifiers.</span></span>

> [!Caution]  
> <span data-ttu-id="d1a3c-148">Obwohl für Abfrage Zeichenfolgen nicht zugewiesene Code Punkte verwendet werden können, sollten Sie in Ihren Anwendungen nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-148">Although query strings can use unassigned code points, you should not use them in your applications.</span></span> <span data-ttu-id="d1a3c-149">Selbst eine vom Benutzer bereitgestellte Abfrage Zeichenfolge stellt das Risiko eines "Spoofing"-Angriffs dar.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-149">Even a user-supplied query string presents a risk of a "spoofing" attack.</span></span> <span data-ttu-id="d1a3c-150">Bei dieser Art von Angriff führt die skrupellose Host Website Benutzer von der Website, auf die Sie zugreifen möchten, erneut aus, um Sie auf eine andere Site zuzugreifen, die möglicherweise vertrauliche Informationen für einen Drittanbieter bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-150">In this type of attack, the unscrupulous host site reroutes users from the site they intend to access to another site that might provide sensitive information to a third party.</span></span> <span data-ttu-id="d1a3c-151">Beispielsweise kann das Kopieren einer Zeichenfolge aus einer eingehenden e-Mail dieselben Risiken wie das Klicken auf einen Link in einem Browser darstellen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-151">For example, copying a string from an incoming e-mail can present the same risks as clicking on a link in a browser.</span></span>

 

## <a name="convert-domain-names-to-ascii-names"></a><span data-ttu-id="d1a3c-152">Konvertieren von Domänen Namen in ASCII-Namen</span><span class="sxs-lookup"><span data-stu-id="d1a3c-152">Convert Domain Names to ASCII Names</span></span>

<span data-ttu-id="d1a3c-153">Die Anwendung kann die [**idntoascii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) -Funktion und bestimmte Entschärfungs Funktionen verwenden, um IDNs in ASCII zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-153">Your application can use the [**IdnToAscii**](/windows/desktop/api/Winnls/nf-winnls-idntoascii) function and certain mitigation functions to convert IDNs to ASCII.</span></span>

> [!Caution]  
> <span data-ttu-id="d1a3c-154">Da Zeichen folgen mit sehr unterschiedlichen binären Darstellungen als identisch verglichen werden können, kann diese Funktion bestimmte Sicherheitsprobleme lösen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-154">Because strings with very different binary representations can compare as identical, this function can raise certain security concerns.</span></span> <span data-ttu-id="d1a3c-155">Weitere Informationen finden Sie in der Erörterung der Vergleichsfunktionen in [Sicherheitsüberlegungen: Internationale Features](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="d1a3c-155">For more information, see the discussion of comparison functions in [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

## <a name="examples"></a><span data-ttu-id="d1a3c-156">Beispiele</span><span class="sxs-lookup"><span data-stu-id="d1a3c-156">Examples</span></span>

<span data-ttu-id="d1a3c-157">NLS: Beispiel für die IDN-Konvertierung [(Internationalized Domain Name)](nls--internationalized-domain-name--idn--conversion-sample.md) veranschaulicht die Verwendung der IDN-Konvertierungs Funktionen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-157">[NLS: Internationalized Domain Name (IDN) Conversion Sample](nls--internationalized-domain-name--idn--conversion-sample.md) demonstrates the use of the IDN conversion functions.</span></span> <span data-ttu-id="d1a3c-158">[Nls: Internationalized Domain Name (IDN) Entschärfungs Beispiel](nls--internationalized-domain-name--idn--mitigation-sample.md) veranschaulicht die Verwendung der IDN-Entschärfungs Funktionen.</span><span class="sxs-lookup"><span data-stu-id="d1a3c-158">[NLS: Internationalized Domain Name (IDN) Mitigation Sample](nls--internationalized-domain-name--idn--mitigation-sample.md) demonstrates the use of the IDN mitigation functions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d1a3c-159">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d1a3c-159">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d1a3c-160">Verwenden der Unterstützung für nationale Sprache</span><span class="sxs-lookup"><span data-stu-id="d1a3c-160">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="d1a3c-161">Überlegungen zur Sicherheit: Internationale Features</span><span class="sxs-lookup"><span data-stu-id="d1a3c-161">Security Considerations: International Features</span></span>](security-considerations--international-features.md)
</dt> </dl>

 

 



