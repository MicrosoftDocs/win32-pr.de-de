---
description: In diesem Thema wird erläutert, wie Sie umgeleitete Registrierungs Zeichenfolgen suchen. Weitere Informationen finden Sie unter Verwenden der Umleitung von Registrierungs Zeichenfolgen.
ms.assetid: 03d1512f-35a6-4b3a-9a0e-97e17bd9b126
title: Suchen umgeleitet-Zeichen folgen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f11600ad57c04de54d914c2c876b67967dfa1467
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106368161"
---
# <a name="locating-redirected-strings"></a><span data-ttu-id="ed461-104">Suchen umgeleitet-Zeichen folgen</span><span class="sxs-lookup"><span data-stu-id="ed461-104">Locating Redirected Strings</span></span>

<span data-ttu-id="ed461-105">In diesem Thema wird erläutert, wie Sie umgeleitete Registrierungs Zeichenfolgen suchen.</span><span class="sxs-lookup"><span data-stu-id="ed461-105">This topic discusses programming instructions for locating redirected registry strings.</span></span> <span data-ttu-id="ed461-106">Weitere Informationen finden Sie unter [Verwenden der Umleitung von Registrierungs Zeichenfolgen](using-registry-string-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="ed461-106">For more information, see [Using Registry String Redirection](using-registry-string-redirection.md).</span></span>

## <a name="load-a-language-neutral-registry-value"></a><span data-ttu-id="ed461-107">Laden eines Language-Neutral Registrierungs Werts</span><span class="sxs-lookup"><span data-stu-id="ed461-107">Load a Language-Neutral Registry Value</span></span>

<span data-ttu-id="ed461-108">Unter Windows Vista und höher verwendet die MUI-Anwendung einen sprach neutralen Registrierungs Wert, um den Zugriff auf sprachspezifische Zeichen folgen zu ermöglichen, die in einer Zeichen folgen-Ressourcen Tabelle gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="ed461-108">On Windows Vista and later, the MUI application uses a language-neutral registry value to allow access to language-specific strings stored in a string resource table.</span></span> <span data-ttu-id="ed461-109">Weitere Informationen finden Sie unter Erstellen einer Language-Neutral Ressource in [mithilfe der Umleitung von Registrierungs Zeichenfolgen](using-registry-string-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="ed461-109">For more information, see Create a Language-Neutral Resource in [Using Registry String Redirection](using-registry-string-redirection.md).</span></span>

<span data-ttu-id="ed461-110">Anwendungscode, der den sprach neutralen Wert aus der Registrierung liest, sollte die Zeichen folgen in der richtigen Sprache der Benutzeroberfläche durch Aufrufen von [**regloadmuistringw**](/windows/win32/api/winreg/nf-winreg-regloadmuistringa)laden.</span><span class="sxs-lookup"><span data-stu-id="ed461-110">Application code that reads the language-neutral value from the registry should load the strings in the correct user interface language by calling [**RegLoadMUIStringW**](/windows/win32/api/winreg/nf-winreg-regloadmuistringa).</span></span> <span data-ttu-id="ed461-111">Wenn Sie diese Funktion verwenden, muss sich die Anwendung nicht explizit mit dem Laden von Ressourcen befassen.</span><span class="sxs-lookup"><span data-stu-id="ed461-111">If using this function, your application does not have to deal explicitly with resource loading.</span></span>

<span data-ttu-id="ed461-112">Wenn Sie eine vorhandene Anwendung auf die sprachneutrale Verwendung der Registrierung aktualisieren, behalten Sie in der Regel die vorhandenen Zeichen folgen Werte, die auf Englisch oder in einer anderen Sprache in der Registrierung lokalisiert sind, als Fallbacks und aus Gründen der Abwärtskompatibilität.</span><span class="sxs-lookup"><span data-stu-id="ed461-112">If you are updating an existing application to the language-neutral use of the registry, you will typically keep the existing string values, localized to English or to some other single language in the registry, as fallbacks and for backward compatibility.</span></span> <span data-ttu-id="ed461-113">Wenn eine Literalzeichenfolge in der Registrierung beibehalten wird, kann die Anwendung auf die Literalzeichenfolge zurückgreifen, wenn ein Rückruf von [**regloadmuistringw**](/windows/win32/api/winreg/nf-winreg-regloadmuistringa) fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="ed461-113">Keeping a literal string in the registry allows the application to fall back to the literal string if a call to [**RegLoadMUIStringW**](/windows/win32/api/winreg/nf-winreg-regloadmuistringa) fails.</span></span> <span data-ttu-id="ed461-114">Sie müssen entscheiden, wie ein solcher Fallback implementiert werden soll, da MUI eine solche Implementierung nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ed461-114">You must decide how to implement such a fallback, as MUI provides no support for such an implementation.</span></span>

## <a name="use-shell-api-to-set-shortcut-strings-from-the-registry"></a><span data-ttu-id="ed461-115">Verwenden der shellapi zum Festlegen von Verknüpfungs Zeichenfolgen aus der Registrierung</span><span class="sxs-lookup"><span data-stu-id="ed461-115">Use Shell API to Set Shortcut Strings from the Registry</span></span>

<span data-ttu-id="ed461-116">Die Anwendung kann die Shell-API verwenden, um Zeichen folgen für Verknüpfungen zu erstellen, mit denen Dateien oder Ordner im **Startmenü** oder auf dem Desktop verknüpft werden.</span><span class="sxs-lookup"><span data-stu-id="ed461-116">Your application can use the shell API to create strings for shortcuts that link files or folders in the **Start** menu or on the desktop.</span></span> <span data-ttu-id="ed461-117">Weitere Informationen finden Sie unter Erstellen von Ressourcen für Tastenkombinationen in [mithilfe der Umleitung von Registrierungs Zeichenfolgen](using-registry-string-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="ed461-117">For more information, see Create Resources for Shortcut Strings in [Using Registry String Redirection](using-registry-string-redirection.md).</span></span>

<span data-ttu-id="ed461-118">Die Anwendung kann [**shsetlocalizedname**](/windows/win32/api/shellapi/nf-shellapi-shsetlocalizedname) verwenden, um den MUI-kompatiblen anzeigen Amen für eine Verknüpfung zu laden.</span><span class="sxs-lookup"><span data-stu-id="ed461-118">The application can use [**SHSetLocalizedName**](/windows/win32/api/shellapi/nf-shellapi-shsetlocalizedname) to load the MUI-compliant display name for a shortcut.</span></span> <span data-ttu-id="ed461-119">Zum Festlegen des zugeordneten infotip sollte [**IShellLink:: setDescription**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ishelllinka-setdescription) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ed461-119">It should use [**IShellLink::SetDescription**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ishelllinka-setdescription) to set the associated InfoTip.</span></span> <span data-ttu-id="ed461-120">Die Aufrufe registrieren die Zeichen folgen bei der Registrierung.</span><span class="sxs-lookup"><span data-stu-id="ed461-120">The calls register the strings with the registry.</span></span> <span data-ttu-id="ed461-121">Sehen Sie sich die folgenden Beispiele an, für die "HKCR" den Stamm Registrierungsschlüssel der HKEY- \_ Klassen darstellt \_ :</span><span class="sxs-lookup"><span data-stu-id="ed461-121">Consider the following examples, for which "HKCR" represents the HKEY\_CLASSES\_ROOT registry key:</span></span>


```C++
HKCR,"CLSID\%CLSID_AntiSpyware%",,,"Windows AntiSpyware"

HKCR,"CLSID\%CLSID_AntiSpyware%","LocalizedString",,"@%ProgramFiles%\Windows AntiSpyware\MSASCui.exe,-104"

HKCR,"CLSID\%CLSID_AntiSpyware%","InfoTip",,"@%ProgramFiles%\Windows AntiSpyware\MSASCui.exe,-208"
```



<span data-ttu-id="ed461-122">Die erste Zeile stellt eine nicht lokalisierte Literalzeichenfolge für die Fall Back-und Abwärtskompatibilität bereit.</span><span class="sxs-lookup"><span data-stu-id="ed461-122">The first line provides an unlocalized literal string for fallback and backward compatibility.</span></span> <span data-ttu-id="ed461-123">In der zweiten Zeile wird die MUI-kompatible Methode zum Registrieren des anzeigen Amens angezeigt.</span><span class="sxs-lookup"><span data-stu-id="ed461-123">The second line shows the MUI-compliant way to register the display name.</span></span> <span data-ttu-id="ed461-124">Diese Zeile gibt den Zeichen folgen Bezeichner 104 an, der in Msascui.exe (für Windows XP) oder in der zugehörigen sprachspezifischen Datei (für Windows Vista) gespeichert ist.</span><span class="sxs-lookup"><span data-stu-id="ed461-124">This line indicates the string identifier 104 stored in Msascui.exe (for Windows XP) or in its associated language-specific file (for Windows Vista).</span></span> <span data-ttu-id="ed461-125">Dieser Zeichen folgen Bezeichner entspricht "meine Netzwerk Orte".</span><span class="sxs-lookup"><span data-stu-id="ed461-125">This string identifier corresponds to "My Network Places".</span></span> <span data-ttu-id="ed461-126">In der dritten Zeile des Beispiels wird die infotip-Registrierung behandelt.</span><span class="sxs-lookup"><span data-stu-id="ed461-126">The third line in the example handles InfoTip registration.</span></span> <span data-ttu-id="ed461-127">% CLSID \_ AntiSpyware% gibt eine Umgebungsvariable an, die die GUID darstellt, die mit dem Klassen Bezeichner dieser Komponente übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="ed461-127">%CLSID\_AntiSpyware% specifies an environment variable representing the GUID that matches the class identifier of this component.</span></span>

<span data-ttu-id="ed461-128">Für das oben gezeigte Beispiel ruft die Anwendung [**shsetlocalizedname**](/windows/win32/api/shellapi/nf-shellapi-shsetlocalizedname) auf, um den Pfad der ausführbaren Datei für die ersten beiden Parameter anzugeben, und gibt *idsres* als "@% Program Files% \\ Windows AntiSpyware \\MSASCui.exe, 104" an.</span><span class="sxs-lookup"><span data-stu-id="ed461-128">For the example shown above, the application calls [**SHSetLocalizedName**](/windows/win32/api/shellapi/nf-shellapi-shsetlocalizedname) to specify the path of the executable for the first two parameters, and specify *idsRes* as "@%ProgramFiles%\\Windows AntiSpyware\\MSASCui.exe,104".</span></span> <span data-ttu-id="ed461-129">Ein Aufrufen von [**IShellLink:: setDescription**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ishelllinka-setdescription)gibt den Pfad für den infotip als "@% Program Files% \\ Windows AntiSpyware \\MSASCui.exe, 208" an.</span><span class="sxs-lookup"><span data-stu-id="ed461-129">A call to [**IShellLink::SetDescription**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-ishelllinka-setdescription), specifies the path for the InfoTip as "@%ProgramFiles%\\Windows AntiSpyware\\MSASCui.exe,208".</span></span>

## <a name="query-friendly-document-type-names-in-the-registry"></a><span data-ttu-id="ed461-130">Abfragen von anzeigen Amen für Dokumenttyp in der Registrierung</span><span class="sxs-lookup"><span data-stu-id="ed461-130">Query Friendly Document Type Names in the Registry</span></span>

<span data-ttu-id="ed461-131">Informationen zur Ressourcen Erstellung für benutzerfreundliche Dokumenttyp Namen finden Sie unter Erstellen von Ressourcen für benutzerfreundliche Dokumenttyp Namen in [mithilfe der Umleitung von Registrierungs Zeichenfolgen](using-registry-string-redirection.md).</span><span class="sxs-lookup"><span data-stu-id="ed461-131">Resource creation for friendly document type names is discussed in Create Resources for Friendly Document Type Names in [Using Registry String Redirection](using-registry-string-redirection.md).</span></span> <span data-ttu-id="ed461-132">Um einen anzeigen Amen für Dokumente abzufragen, sollte die Anwendung [**iqueryassociations:: init**](/windows/win32/api/shlwapi/nf-shlwapi-iqueryassociations-init)verwenden, gefolgt von einem [**iqueryassociations:: GetString**](/windows/win32/api/shlwapi/nf-shlwapi-iqueryassociations-getstring)-aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ed461-132">To query a friendly document name, the application should use [**IQueryAssociations::Init**](/windows/win32/api/shlwapi/nf-shlwapi-iqueryassociations-init), followed by a call to [**IQueryAssociations::GetString**](/windows/win32/api/shlwapi/nf-shlwapi-iqueryassociations-getstring).</span></span> <span data-ttu-id="ed461-133">Der **iqueryassociations:: init** -Aufrufe gibt den Dokumenttyp an, z. b. ". txt".</span><span class="sxs-lookup"><span data-stu-id="ed461-133">The call to **IQueryAssociations::Init** specifies the document type, for example, ".txt".</span></span> <span data-ttu-id="ed461-134">Beim Aufrufen von **iqueryassociations:: GetString** muss als Zeichen folgen Bezeichner "assocstr \_ friendlydocname" angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="ed461-134">The call to **IQueryAssociations::GetString** must specify ASSOCSTR\_FRIENDLYDOCNAME as the string identifier.</span></span>

## <a name="register-microsoft-management-console-snap-in-strings-not-read-from-the-registry"></a><span data-ttu-id="ed461-135">Microsoft Management Console-Snap-in-Zeichen folgen registrieren, die nicht aus der Registrierung gelesen werden</span><span class="sxs-lookup"><span data-stu-id="ed461-135">Register Microsoft Management Console Snap-in Strings Not Read from the Registry</span></span>

<span data-ttu-id="ed461-136">Ihre Anwendung kann ein Microsoft Management Console (MMC)-Snap-in verwenden, um die Verwaltungsaufgaben zu hosten.</span><span class="sxs-lookup"><span data-stu-id="ed461-136">Your application can use a Microsoft Management Console (MMC) snap-in to host its management tasks.</span></span> <span data-ttu-id="ed461-137">Die meisten Zeichen folgen werden mithilfe der Registrierungs Einstellungen, die unter Erstellen von Zeichen folgen Ressourcen für Microsoft Management Snap-Ins Console beschrieben werden, mithilfe der [Umleitung von Registrierungs Zeichenfolgen](using-registry-string-redirection.md)als Ressourcen behandelt</span><span class="sxs-lookup"><span data-stu-id="ed461-137">Most strings are handled as resources using the registry settings described in Create String Resources for Microsoft Management Console Snap-Ins in [Using Registry String Redirection](using-registry-string-redirection.md).</span></span> <span data-ttu-id="ed461-138">Allerdings registrieren einige Snap-Ins Registrierungs Zeichenfolgen-Werte, die von MMC nicht aus der Registrierung gelesen werden können.</span><span class="sxs-lookup"><span data-stu-id="ed461-138">However, some snap-ins register registry string values that MMC cannot read from the registry.</span></span> <span data-ttu-id="ed461-139">In diesem Fall muss das Snap-in die Werte mithilfe der [**ISnapinAbout**](/windows/win32/api/mmc/nn-mmc-isnapinabout) -Schnittstelle abrufen, die MUI-kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="ed461-139">In this case, the snap-in must obtain the values using the [**ISnapinAbout**](/windows/win32/api/mmc/nn-mmc-isnapinabout) interface, which is MUI-compatible.</span></span>

## <a name="set-the-display-name-and-description-for-a-windows-service-from-the-registry"></a><span data-ttu-id="ed461-140">Legen Sie den anzeigen Amen und die Beschreibung für einen Windows-Dienst aus der Registrierung fest.</span><span class="sxs-lookup"><span data-stu-id="ed461-140">Set the Display Name and Description for a Windows Service from the Registry</span></span>

<span data-ttu-id="ed461-141">Wenn Ihre MUI-Anwendung einen Windows-Dienst verwendet, muss der Anzeige Name und die Beschreibung des dienstanwendungs angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="ed461-141">If your MUI application is using a Windows service, it must display the service display name and description.</span></span> <span data-ttu-id="ed461-142">Die zugehörigen Ressourcen werden unter [Verwenden der Umleitung von Registrierungs Zeichenfolgen](using-registry-string-redirection.md)unter "Erstellen von Zeichen folgen Ressourcen für einen Windows-Dienst" erläutert.</span><span class="sxs-lookup"><span data-stu-id="ed461-142">The associated resources are discussed in "Create String Resources for a Windows Service" in [Using Registry String Redirection](using-registry-string-redirection.md).</span></span>

<span data-ttu-id="ed461-143">Um den anzeigen amen des Diensts festzulegen, ruft die MUI-Anwendung " [**kreateservice**](/windows/win32/api/winsvc/nf-winsvc-createservicea) " oder " [**ChangeServiceConfig**](/windows/win32/api/winsvc/nf-winsvc-changeserviceconfiga)" auf.</span><span class="sxs-lookup"><span data-stu-id="ed461-143">To set the service display name, the MUI application calls [**CreateService**](/windows/win32/api/winsvc/nf-winsvc-createservicea) or [**ChangeServiceConfig**](/windows/win32/api/winsvc/nf-winsvc-changeserviceconfiga).</span></span> <span data-ttu-id="ed461-144">Der Name ist eine Zeichenfolge im Format " `@<PE-path>,-<stringID>[;<comment>]` ".</span><span class="sxs-lookup"><span data-stu-id="ed461-144">The name is a string of the form "`@<PE-path>,-<stringID>[;<comment>]`".</span></span> <span data-ttu-id="ed461-145">Wenn Ihr Dienst z. b. durch eine DLL-Datei mit dem Pfad% Program Files% \\ % myPath% \\MyDll.dll implementiert wird und der Zeichen folgen Bezeichner des sprachspezifischen anzeigen Amens 347 lautet, wird der-Parameter als " `@%ProgramFiles%\\%MyPath%\\MyDll.dll,-347` " angegeben.</span><span class="sxs-lookup"><span data-stu-id="ed461-145">For example, if your service is implemented by a .dll file with path %ProgramFiles%\\%MyPath%\\MyDll.dll, and the string identifier of the language-specific display name is 347, the parameter is specified as "`@%ProgramFiles%\\%MyPath%\\MyDll.dll,-347`".</span></span> <span data-ttu-id="ed461-146">Die doppelten umgekehrten Schrägstriche ( \\ \\ ) sind erforderlich, da C/C++ den umgekehrten Schrägstrich als Escapezeichen in Zeichen folgen verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed461-146">The double backslashes (\\\\) are necessary because C/C++ uses the backslash as an escape character in strings.</span></span>

<span data-ttu-id="ed461-147">Um die sprachspezifische Dienst Beschreibung festzulegen, sollte die MUI-Anwendung den **lpdescription** -Member einer [**Dienst \_ Beschreibungs**](/windows/win32/api/winsvc/ns-winsvc-service_descriptiona) Struktur so angeben, dass eine Zeichenfolge der Form " `@<PE-path>,-<stringID>[;<comment>]` " angegeben wird. dabei wird auf den entsprechenden Zeichen folgen Bezeichner verwiesen.</span><span class="sxs-lookup"><span data-stu-id="ed461-147">To set the language-specific service description, the MUI application should make the **lpDescription** member of a [**SERVICE\_DESCRIPTION**](/windows/win32/api/winsvc/ns-winsvc-service_descriptiona) structure indicate a string of form "`@<PE-path>,-<stringID>[;<comment>]`", referencing the appropriate string identifier.</span></span> <span data-ttu-id="ed461-148">Dann ruft die Anwendung [**ChangeServiceConfig2**](/windows/win32/api/winsvc/nf-winsvc-changeserviceconfig2a) mit dem *dwinfolevel* -Parameter auf, der als Dienst Konfigurations Beschreibung angegeben ist, \_ und der \_ Parameter *lpInfo* , der als **Dienst \_ Beschreibungs** Struktur angegeben ist</span><span class="sxs-lookup"><span data-stu-id="ed461-148">Then the application calls [**ChangeServiceConfig2**](/windows/win32/api/winsvc/nf-winsvc-changeserviceconfig2a) with parameter *dwInfoLevel* specified as SERVICE\_CONFIG\_DESCRIPTION and parameter *lpInfo* specified as the **SERVICE\_DESCRIPTION** structure.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ed461-149">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ed461-149">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ed461-150">Suchen von Win32 PE-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="ed461-150">Locating Win32 PE Resources</span></span>](locating-win32-pe-resources.md)
</dt> <dt>

[<span data-ttu-id="ed461-151">Verwenden von Registrierungs Zeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="ed461-151">Using Registry String Redirection</span></span>](using-registry-string-redirection.md)
</dt> </dl>

 

 
