---
description: In diesem Thema werden die Unterschiede zwischen Zeichen folgen Funktionen beschrieben, die beim Verarbeiten von Unicode-und Zeichensatz Informationen Diese Funktionen verfügen sowohl über Unicode-als auch über Windows-Code Page Implementierungen zur Unterstützung von Unicode-und Windows-Code Page Parametern
ms.assetid: 52a15957-b44b-49ba-b915-e5c8e003a7e6
title: Unterschiede in Zeichen folgen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ad0c940aa8be1603f7958fb1993cc521ca7b1ed7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103959352"
---
# <a name="string-function-differences"></a><span data-ttu-id="4f281-104">Unterschiede in Zeichen folgen</span><span class="sxs-lookup"><span data-stu-id="4f281-104">String Function Differences</span></span>

<span data-ttu-id="4f281-105">In diesem Thema werden die Unterschiede zwischen Zeichen folgen Funktionen beschrieben, die beim Verarbeiten von Unicode-und Zeichensatz Informationen</span><span class="sxs-lookup"><span data-stu-id="4f281-105">This topic describes differences among string functions used in handling Unicode and character set information.</span></span> <span data-ttu-id="4f281-106">Diese Funktionen verfügen sowohl über [Unicode](unicode.md) -als auch über [Windows-Code Page](code-pages.md) Implementierungen zur Unterstützung von Unicode-und Windows-Code Page Parametern</span><span class="sxs-lookup"><span data-stu-id="4f281-106">These functions have both [Unicode](unicode.md) and [Windows code page](code-pages.md) implementations to support Unicode and Windows code page parameters.</span></span>

<span data-ttu-id="4f281-107">Die folgenden Zeichen folgen Funktionen erfordern keinen speziellen Kommentar.</span><span class="sxs-lookup"><span data-stu-id="4f281-107">The following string functions do not require special comment.</span></span> <span data-ttu-id="4f281-108">Ihre Unicode-und Windows-Codepage-Implementierungen funktionieren identisch.</span><span class="sxs-lookup"><span data-stu-id="4f281-108">Their Unicode and Windows code page implementations work identically.</span></span>

-   [<span data-ttu-id="4f281-109">**Charnext**</span><span class="sxs-lookup"><span data-stu-id="4f281-109">**CharNext**</span></span>](/windows/win32/api/winuser/nf-winuser-charnexta)
-   [<span data-ttu-id="4f281-110">**Charprev**</span><span class="sxs-lookup"><span data-stu-id="4f281-110">**CharPrev**</span></span>](/windows/win32/api/winuser/nf-winuser-charpreva)
-   <span data-ttu-id="4f281-111">[**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [ **stringcchkatin**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa)</span><span class="sxs-lookup"><span data-stu-id="4f281-111">[**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa)</span></span>
-   <span data-ttu-id="4f281-112">[**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [ **stringcchcopyex**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa)</span><span class="sxs-lookup"><span data-stu-id="4f281-112">[**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa)</span></span>
-   <span data-ttu-id="4f281-113">" [**Straucblength**](/windows/win32/api/strsafe/nf-strsafe-stringcblengtha)", " [ **Strauch Länge** "](/windows/win32/api/strsafe/nf-strsafe-stringcchlengtha)</span><span class="sxs-lookup"><span data-stu-id="4f281-113">[**StrCbLength**](/windows/win32/api/strsafe/nf-strsafe-stringcblengtha), [**StrCchLength**](/windows/win32/api/strsafe/nf-strsafe-stringcchlengtha)</span></span>

<span data-ttu-id="4f281-114">Der von einer der Funktionen der Zeichen folgen Länge abgerufene Längen Wert basiert immer auf der normalen Zeichenbreite: 8 Bits für Windows-Codepages, 16 Bits für Unicode.</span><span class="sxs-lookup"><span data-stu-id="4f281-114">The length value retrieved by one of the string length functions is always based on normal character width: 8 bits for Windows code pages, 16 bits for Unicode.</span></span> <span data-ttu-id="4f281-115">Dieser Wert wird häufig als "Anzahl von Zeichen" bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="4f281-115">This value is often referred to as a "count of characters."</span></span> <span data-ttu-id="4f281-116">Dieser Begriff ist streng richtig, da Windows-Codepages, die [Doppelbyte-Zeichensätze](double-byte-character-sets.md) (dbcss) verwenden, über einige Zeichen in voller Breite verfügen, die tatsächlich durch zwei aufeinander folgende Bytes dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="4f281-116">This term is strictly correct because Windows code pages that use [double-byte character sets](double-byte-character-sets.md) (DBCSs) have some full-width characters that are actually represented by two consecutive bytes.</span></span> <span data-ttu-id="4f281-117">Eine ähnliche Situation tritt bei [Surrogates](surrogates-and-supplementary-characters.md) in Unicode auf.</span><span class="sxs-lookup"><span data-stu-id="4f281-117">A similar situation arises for [surrogates](surrogates-and-supplementary-characters.md) in Unicode.</span></span>

<span data-ttu-id="4f281-118">Die folgenden Zeichen folgen Funktionen sind sensibel für das Gebiets Schema des aktuellen Threads, abgeleitet von der Sprache, die der Benutzer in der Systemsteuerung auswählt.</span><span class="sxs-lookup"><span data-stu-id="4f281-118">The following string functions are sensitive to the locale of the current thread, derived from the language the user selects in the Control Panel.</span></span> <span data-ttu-id="4f281-119">Die [**lstraucmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) -und [**lstrecmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) -Funktionen führen keine Byte Vergleiche wie deren ANSI-nameseln aus, z. b. " [straucmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp)".</span><span class="sxs-lookup"><span data-stu-id="4f281-119">The [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) functions do not perform byte comparisons like their ANSI namesakes, for example, [strcmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp).</span></span> <span data-ttu-id="4f281-120">Stattdessen vergleichen Sie Zeichen folgen gemäß den Regeln des Gebiets Schemas.</span><span class="sxs-lookup"><span data-stu-id="4f281-120">Instead, they compare strings according to the rules of the locale.</span></span>

-   [<span data-ttu-id="4f281-121">**Charlower**</span><span class="sxs-lookup"><span data-stu-id="4f281-121">**CharLower**</span></span>](/windows/win32/api/winuser/nf-winuser-charlowera)
-   [<span data-ttu-id="4f281-122">**Charlowerbuff**</span><span class="sxs-lookup"><span data-stu-id="4f281-122">**CharLowerBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-charlowerbuffa)
-   [<span data-ttu-id="4f281-123">**Charupper**</span><span class="sxs-lookup"><span data-stu-id="4f281-123">**CharUpper**</span></span>](/windows/win32/api/winuser/nf-winuser-charuppera)
-   [<span data-ttu-id="4f281-124">**Charupperbuff**</span><span class="sxs-lookup"><span data-stu-id="4f281-124">**CharUpperBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-charupperbuffa)
-   [<span data-ttu-id="4f281-125">**lstraucmp**</span><span class="sxs-lookup"><span data-stu-id="4f281-125">**lstrcmp**</span></span>](/windows/win32/api/winbase/nf-winbase-lstrcmpa)
-   [<span data-ttu-id="4f281-126">**lstraucmpi**</span><span class="sxs-lookup"><span data-stu-id="4f281-126">**lstrcmpi**</span></span>](/windows/win32/api/winbase/nf-winbase-lstrcmpia)

<span data-ttu-id="4f281-127">Die folgenden Funktionen konvertieren in Abhängigkeit davon, welche Version verwendet wird, zwischen dem OEM-Zeichensatz und der aktuellen Windows-Codepage oder dem Unicode-Unicode-Zeichensatz:</span><span class="sxs-lookup"><span data-stu-id="4f281-127">The following functions convert between the OEM character set and either the current Windows code page or Unicode, depending on which version is used:</span></span>

-   [<span data-ttu-id="4f281-128">**Charper OEM**</span><span class="sxs-lookup"><span data-stu-id="4f281-128">**CharToOem**</span></span>](/windows/win32/api/winuser/nf-winuser-chartooema)
-   [<span data-ttu-id="4f281-129">**Chartoken**</span><span class="sxs-lookup"><span data-stu-id="4f281-129">**CharToOemBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-chartooembuffa)
-   [<span data-ttu-id="4f281-130">**Oemzu charbuff**</span><span class="sxs-lookup"><span data-stu-id="4f281-130">**OemToCharBuff**</span></span>](/windows/win32/api/winuser/nf-winuser-oemtocharbuffa)

<span data-ttu-id="4f281-131">Die Druckfunktionen, z. b. [**stringcbprintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), unterstützen Unicode, indem die folgenden neuen und geänderten Datentypen in ihren Formatspezifikationen bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="4f281-131">The print functions, for example, [**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), support Unicode by providing the following new and changed data types in their format specifications.</span></span> <span data-ttu-id="4f281-132">Diese Formatspezifikationen beeinflussen die Art und Weise, in der die Funktionen den entsprechenden Eingabeparameter interpretieren.</span><span class="sxs-lookup"><span data-stu-id="4f281-132">These format specifications affect the way the functions interpret the corresponding input parameter.</span></span>



| <span data-ttu-id="4f281-133">Formatspezifikation</span><span class="sxs-lookup"><span data-stu-id="4f281-133">Format specification</span></span> | <span data-ttu-id="4f281-134">Datentyp für Windows-Codepage-Version</span><span class="sxs-lookup"><span data-stu-id="4f281-134">Data type for Windows code page version</span></span> | <span data-ttu-id="4f281-135">Datentyp für Unicode-Version</span><span class="sxs-lookup"><span data-stu-id="4f281-135">Data type for Unicode version</span></span> |
|----------------------|-----------------------------------------|-------------------------------|
| <span data-ttu-id="4f281-136">c</span><span class="sxs-lookup"><span data-stu-id="4f281-136">c</span></span>                    | <span data-ttu-id="4f281-137">CHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-137">CHAR</span></span>                                    | <span data-ttu-id="4f281-138">WCHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-138">WCHAR</span></span>                         |
| <span data-ttu-id="4f281-139">C</span><span class="sxs-lookup"><span data-stu-id="4f281-139">C</span></span>                    | <span data-ttu-id="4f281-140">WCHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-140">WCHAR</span></span>                                   | <span data-ttu-id="4f281-141">CHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-141">CHAR</span></span>                          |
| <span data-ttu-id="4f281-142">HC, HC</span><span class="sxs-lookup"><span data-stu-id="4f281-142">hc, hC</span></span>               | <span data-ttu-id="4f281-143">CHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-143">CHAR</span></span>                                    | <span data-ttu-id="4f281-144">CHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-144">CHAR</span></span>                          |
| <span data-ttu-id="4f281-145">HS, HS</span><span class="sxs-lookup"><span data-stu-id="4f281-145">hs, hS</span></span>               | <span data-ttu-id="4f281-146">LPSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-146">LPSTR</span></span>                                   | <span data-ttu-id="4f281-147">LPSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-147">LPSTR</span></span>                         |
| <span data-ttu-id="4f281-148">LC, LC</span><span class="sxs-lookup"><span data-stu-id="4f281-148">lc, lC</span></span>               | <span data-ttu-id="4f281-149">WCHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-149">WCHAR</span></span>                                   | <span data-ttu-id="4f281-150">WCHAR</span><span class="sxs-lookup"><span data-stu-id="4f281-150">WCHAR</span></span>                         |
| <span data-ttu-id="4f281-151">ls, ls</span><span class="sxs-lookup"><span data-stu-id="4f281-151">ls, lS</span></span>               | <span data-ttu-id="4f281-152">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-152">LPWSTR</span></span>                                  | <span data-ttu-id="4f281-153">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-153">LPWSTR</span></span>                        |
| <span data-ttu-id="4f281-154">s</span><span class="sxs-lookup"><span data-stu-id="4f281-154">s</span></span>                    | <span data-ttu-id="4f281-155">LPSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-155">LPSTR</span></span>                                   | <span data-ttu-id="4f281-156">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-156">LPWSTR</span></span>                        |
| <span data-ttu-id="4f281-157">E</span><span class="sxs-lookup"><span data-stu-id="4f281-157">S</span></span>                    | <span data-ttu-id="4f281-158">LPWSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-158">LPWSTR</span></span>                                  | <span data-ttu-id="4f281-159">LPSTR</span><span class="sxs-lookup"><span data-stu-id="4f281-159">LPSTR</span></span>                         |



 

<span data-ttu-id="4f281-160">Der Datentyp für den Ausgabetext hängt immer von der Version der Funktion ab.</span><span class="sxs-lookup"><span data-stu-id="4f281-160">The data type for the output text always depends on the version of the function.</span></span> <span data-ttu-id="4f281-161">Wenn der Datentyp des Eingabe Parameters und des Datentyps des Ausgabe Texts nicht übereinstimmen, führt die Druckfunktion eine Konvertierung von Unicode zur aktuellen Windows-Codepage durch oder umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="4f281-161">When the data type of the input parameter and the data type of the output text do not agree, the print function performs a conversion from Unicode to the current Windows code page, or vice versa, as required.</span></span>

<span data-ttu-id="4f281-162">Bei der Unicode-Version der Druckfunktionen ist die Format Zeichenfolge Unicode, ebenso wie der Ausgabetext.</span><span class="sxs-lookup"><span data-stu-id="4f281-162">For the Unicode version of the print functions, the format string is Unicode, as is the output text.</span></span>

> [!Caution]  
> <span data-ttu-id="4f281-163">Eine schlechte Puffer Behandlung ist in vielen Sicherheitsproblemen enthalten, die Pufferüberläufe einschließen.</span><span class="sxs-lookup"><span data-stu-id="4f281-163">Poor buffer handling is implicated in many security issues that involve buffer overruns.</span></span> <span data-ttu-id="4f281-164">Weitere Informationen finden Sie unter [Referenz](../menurc/strsafe-ovw.md)zu ""</span><span class="sxs-lookup"><span data-stu-id="4f281-164">See [Strsafe.h Reference](../menurc/strsafe-ovw.md).</span></span> <span data-ttu-id="4f281-165">Die in "strausafe. h" definierten Funktionen bieten zusätzliche Verarbeitungsschritte für die ordnungsgemäße Puffer Behandlung in Ihrem Code.</span><span class="sxs-lookup"><span data-stu-id="4f281-165">The functions defined in Strsafe.h provide additional processing for proper buffer handling in your code.</span></span> <span data-ttu-id="4f281-166">Aus diesem Grund sind Sie zum Ersetzen Ihrer integrierten C/C++-Gegenstücke sowie bestimmter Microsoft Windows-Implementierungen vorgesehen.</span><span class="sxs-lookup"><span data-stu-id="4f281-166">For this reason, they are intended to replace their built-in C/C++ counterparts as well as specific Microsoft Windows implementations.</span></span> <span data-ttu-id="4f281-167">Weitere Informationen finden Sie unter [Sicherheitsüberlegungen: Internationale Features](security-considerations--international-features.md).</span><span class="sxs-lookup"><span data-stu-id="4f281-167">For more information, see [Security Considerations: International Features](security-considerations--international-features.md).</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="4f281-168">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="4f281-168">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4f281-169">Unicode in der Windows-API</span><span class="sxs-lookup"><span data-stu-id="4f281-169">Unicode in the Windows API</span></span>](unicode-in-the-windows-api.md)
</dt> </dl>

 

 
