---
description: Einige Anwendungen, wie z. b. Microsoft Active Directory, Microsoft Exchange und Microsoft Access, pflegen eine sortierbare Datenbank mit Gebiets Schema-und sprach Zeichenfolgen, die anhand des Namens (UTF-16-Zeichenfolge) und der zugehörigen Sortierungs Gewichtungen indiziert werden.
ms.assetid: c8fc32bd-02bd-4a40-a836-d9ad9f69c209
title: Behandeln von Sortierungen in Ihren Anwendungen
ms.topic: article
ms.date: 03/04/2020
ms.openlocfilehash: c0bba3d78a5219781226ecf58292ed461c902090
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103869080"
---
# <a name="handling-sorting-in-your-applications"></a><span data-ttu-id="e62b9-103">Behandeln von Sortierungen in Ihren Anwendungen</span><span class="sxs-lookup"><span data-stu-id="e62b9-103">Handling Sorting in Your Applications</span></span>

<span data-ttu-id="e62b9-104">Einige Anwendungen, wie z. b. Microsoft Active Directory, Microsoft Exchange und Microsoft Access, pflegen eine sortierbare Datenbank mit Gebiets Schema-und sprach Zeichenfolgen, die anhand des Namens (UTF-16-Zeichenfolge) und der zugehörigen Sortierungs Gewichtungen indiziert werden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-104">Some applications, such as Microsoft Active Directory, Microsoft Exchange, and Microsoft Access, maintain a sortable database of locale and language strings indexed by name (UTF-16 string), and their associated sorting weights.</span></span>

<span data-ttu-id="e62b9-105">Das [Sortieren](sorting.md) ist in der Regel für Benutzer in ihren eigenen Gebiets Schemas intuitiv.</span><span class="sxs-lookup"><span data-stu-id="e62b9-105">[Sorting](sorting.md) is usually intuitive for users in their own locales.</span></span> <span data-ttu-id="e62b9-106">Dies kann für Anwendungsentwickler jedoch nicht intuitiv sein.</span><span class="sxs-lookup"><span data-stu-id="e62b9-106">However, it can be non-intuitive for application developers.</span></span> <span data-ttu-id="e62b9-107">In diesem Thema werden Überlegungen zur Behandlung von Sortierungen in Ihren Anwendungen erläutert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-107">This topic discusses considerations for handling sorting in your applications.</span></span> <span data-ttu-id="e62b9-108">Die Sortierung kann entweder linguistisch oder Ordnungszahl (nicht linguistisch) sein.</span><span class="sxs-lookup"><span data-stu-id="e62b9-108">Sorting can be either linguistic or ordinal (non-linguistic).</span></span>

## <a name="sorting-functions"></a><span data-ttu-id="e62b9-109">Sortierfunktionen</span><span class="sxs-lookup"><span data-stu-id="e62b9-109">Sorting Functions</span></span>

<span data-ttu-id="e62b9-110">Sie können eine Vielzahl von Sortierungs Funktionen in Ihren Anwendungen verwenden:</span><span class="sxs-lookup"><span data-stu-id="e62b9-110">You can use a variety of sorting functions in your applications:</span></span>

-   <span data-ttu-id="e62b9-111">NLS-Zeichen folgen Vergleichsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-111">NLS string comparison functions.</span></span> <span data-ttu-id="e62b9-112">Beispiele hierfür sind [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) und [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**findnlsstringex**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex)und [**findstringordinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal).</span><span class="sxs-lookup"><span data-stu-id="e62b9-112">Examples are [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) and [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex), and [**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal).</span></span> <span data-ttu-id="e62b9-113">Weitere Informationen zu Sicherheitsproblemen im Zusammenhang mit den Zeichen folgen Vergleichsfunktionen finden Sie unter [Sicherheitsüberlegungen: Internationale Features](security-considerations--international-features.md) .</span><span class="sxs-lookup"><span data-stu-id="e62b9-113">See [Security Considerations: International Features](security-considerations--international-features.md) for a discussion of security issues related to the string comparison functions.</span></span>
-   <span data-ttu-id="e62b9-114">Wrapper Funktionen, die intern die Zeichen folgen Vergleichsfunktionen aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-114">Wrapper functions that internally call the string comparison functions.</span></span> <span data-ttu-id="e62b9-115">Die gängigsten Funktionen sind [**lstraucmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) und [**lstraucmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), die [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-115">The most common functions are [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), which call [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span>

<span data-ttu-id="e62b9-116">Normalerweise werden von den Sortierfunktionen Zeichen folgen Zeichen nach Zeichen ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="e62b9-116">Usually the sorting functions evaluate strings character by character.</span></span> <span data-ttu-id="e62b9-117">Viele Sprachen haben jedoch Elemente mit mehreren Zeichen, z. b. das zwei-Zeichen-paar "ch" in traditionellem Spanisch.</span><span class="sxs-lookup"><span data-stu-id="e62b9-117">However, many languages have multiple-character elements, such as the two-character pair "CH" in traditional Spanish.</span></span> <span data-ttu-id="e62b9-118">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) und [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) verwenden den von der Anwendung bereitgestellten Gebiets Schema Bezeichner oder-Namen zum Identifizieren von Elementen mit mehreren Zeichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-118">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) and [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) use the application-supplied locale identifier or name to identify multiple-character elements.</span></span> <span data-ttu-id="e62b9-119">Im Gegensatz dazu verwenden [**lstraucmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)und [**lstrancmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) das Gebiets Schema des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="e62b9-119">In contrast, [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) use the user's locale.</span></span>

<span data-ttu-id="e62b9-120">Ein weiteres Beispiel ist Vietnamese, das viele zwei Zeichen große Elemente enthält, z. b. die gültigen groß-und Kleinbuchstaben sowie die Formen "GI", die "GI", "GI" bzw. "GI" sind.</span><span class="sxs-lookup"><span data-stu-id="e62b9-120">Another example is Vietnamese, which contains many two-character elements, such as the valid uppercase, title case, and lowercase forms of "GI", which are "GI, "Gi", and "gi", respectively.</span></span> <span data-ttu-id="e62b9-121">Jede dieser Formulare wird als einzelnes Sortier Element behandelt. wenn die Groß-/Kleinschreibung ignoriert wird, wird als gleich verglichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-121">Any of these forms is treated as a as a single sorting element and, if casing is ignored, compares as equal.</span></span> <span data-ttu-id="e62b9-122">Da "GI" jedoch nicht als einzelnes Element, [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)und [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) gültig ist, wird "GI" als zwei separate Elemente behandelt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-122">However, because "gI" is not valid as a single element, [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), and [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) treat "gI" as two separate elements.</span></span>

<span data-ttu-id="e62b9-123">Die Funktionen [**"CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)", " [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex)", " [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)", " [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia)", " [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa)", " [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex)", " [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)" und " [**findnlsstringex**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) " werden standardmäßig als "Wort Sortiermethode" verwendet.</span><span class="sxs-lookup"><span data-stu-id="e62b9-123">The functions [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex), [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), and [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) all default to use of a "word sort" technique.</span></span> <span data-ttu-id="e62b9-124">Bei dieser Art von Sortierung sind alle Interpunktions Zeichen und andere nicht alphanumerische Zeichen (mit Ausnahme des Bindestrichs und des Apostroph) vor allen alphanumerischen Zeichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-124">For this type of sort, all punctuation marks and other nonalphanumeric characters, except for the hyphen and the apostrophe, come before any alphanumeric character.</span></span> <span data-ttu-id="e62b9-125">Der Bindestrich und der Apostroph werden anders behandelt als andere nicht alphanumerische Zeichen, um sicherzustellen, dass Wörter wie "Coop" und "Co-op" in einer sortierten Liste zusammen bleiben.</span><span class="sxs-lookup"><span data-stu-id="e62b9-125">The hyphen and the apostrophe are treated differently from the other nonalphanumeric characters to ensure that words such as "coop" and "co-op" stay together in a sorted list.</span></span>

<span data-ttu-id="e62b9-126">Anstelle eines Wort Sortier Verfahrens kann die Anwendung eine "Zeichen folgen Sortiermethode" aus den Sortierfunktionen anfordern, indem das Flag "StringSort sortieren" angegeben wird \_ .</span><span class="sxs-lookup"><span data-stu-id="e62b9-126">Instead of a word sort, the application can request a "string sort" technique from the sorting functions by specifying the SORT\_STRINGSORT flag.</span></span> <span data-ttu-id="e62b9-127">Eine Zeichen folgen Sortierung behandelt den Bindestrich und Apostroph wie jedes andere nicht alphanumerische Zeichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-127">A string sort treats the hyphen and apostrophe just like any other nonalphanumeric character.</span></span> <span data-ttu-id="e62b9-128">Ihre Positionen in der Sortiersequenz liegen vor den alphanumerischen Zeichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-128">Their positions in the sorting sequence are before the alphanumeric characters.</span></span>

<span data-ttu-id="e62b9-129">In der folgenden Tabelle werden die Ergebnisse einer Wort Sortierung mit den Ergebnissen einer Zeichen folgen Sortierung verglichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-129">The following table compares the results of a word sort with the results of a string sort.</span></span> 

| <span data-ttu-id="e62b9-130">Wort Sortierung</span><span class="sxs-lookup"><span data-stu-id="e62b9-130">Word Sort</span></span> | <span data-ttu-id="e62b9-131">Zeichen folgen Sortierung</span><span class="sxs-lookup"><span data-stu-id="e62b9-131">String Sort</span></span> |
|-----------|-------------|
| <span data-ttu-id="e62b9-132">Billet</span><span class="sxs-lookup"><span data-stu-id="e62b9-132">billet</span></span>    | <span data-ttu-id="e62b9-133">Rechnung</span><span class="sxs-lookup"><span data-stu-id="e62b9-133">bill's</span></span>      |
| <span data-ttu-id="e62b9-134">scheinen</span><span class="sxs-lookup"><span data-stu-id="e62b9-134">bills</span></span>     | <span data-ttu-id="e62b9-135">Billet</span><span class="sxs-lookup"><span data-stu-id="e62b9-135">billet</span></span>      |
| <span data-ttu-id="e62b9-136">Rechnung</span><span class="sxs-lookup"><span data-stu-id="e62b9-136">bill's</span></span>    | <span data-ttu-id="e62b9-137">scheinen</span><span class="sxs-lookup"><span data-stu-id="e62b9-137">bills</span></span>       |
| <span data-ttu-id="e62b9-138">nicht</span><span class="sxs-lookup"><span data-stu-id="e62b9-138">cannot</span></span>    | <span data-ttu-id="e62b9-139">kann</span><span class="sxs-lookup"><span data-stu-id="e62b9-139">can't</span></span>       |
| <span data-ttu-id="e62b9-140">än</span><span class="sxs-lookup"><span data-stu-id="e62b9-140">cant</span></span>      | <span data-ttu-id="e62b9-141">nicht</span><span class="sxs-lookup"><span data-stu-id="e62b9-141">cannot</span></span>      |
| <span data-ttu-id="e62b9-142">kann</span><span class="sxs-lookup"><span data-stu-id="e62b9-142">can't</span></span>     | <span data-ttu-id="e62b9-143">än</span><span class="sxs-lookup"><span data-stu-id="e62b9-143">cant</span></span>        |
| <span data-ttu-id="e62b9-144">Lexikon</span><span class="sxs-lookup"><span data-stu-id="e62b9-144">con</span></span>       | <span data-ttu-id="e62b9-145">Koop</span><span class="sxs-lookup"><span data-stu-id="e62b9-145">co-op</span></span>       |
| <span data-ttu-id="e62b9-146">Betreuung</span><span class="sxs-lookup"><span data-stu-id="e62b9-146">coop</span></span>      | <span data-ttu-id="e62b9-147">Lexikon</span><span class="sxs-lookup"><span data-stu-id="e62b9-147">con</span></span>         |
| <span data-ttu-id="e62b9-148">Koop</span><span class="sxs-lookup"><span data-stu-id="e62b9-148">co-op</span></span>     | <span data-ttu-id="e62b9-149">Betreuung</span><span class="sxs-lookup"><span data-stu-id="e62b9-149">coop</span></span>        |



 

## <a name="sort-strings-linguistically"></a><span data-ttu-id="e62b9-150">Zeichen folgen linguistisch sortieren</span><span class="sxs-lookup"><span data-stu-id="e62b9-150">Sort Strings Linguistically</span></span>

<span data-ttu-id="e62b9-151">Die [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) -Funktion und die [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) -Funktion testen auf linguistische Gleichheit.</span><span class="sxs-lookup"><span data-stu-id="e62b9-151">The [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) and [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) functions test for linguistic equality.</span></span> <span data-ttu-id="e62b9-152">Ihre Anwendungen sollten diese Funktionen mit dem richtigen Gebiets Schema zum linguistisch Sortieren von Zeichen folgen verwenden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-152">Your applications should use these functions with the correct locale for sorting strings linguistically.</span></span>

> [!Note]  
> <span data-ttu-id="e62b9-153">Aus Gründen der Kompatibilität mit Unicode sollte eine Anwendung [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) oder die Unicode-Version von [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)bevorzugen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-153">For compatibility with Unicode, an application should prefer [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) or the Unicode version of [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span> <span data-ttu-id="e62b9-154">Ein weiterer Grund für das bevorzugen von [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) besteht darin, dass Microsoft aus Interoperabilitäts Gründen zur Verwendung von Gebiets Schema Namen anstelle von Gebiets Schema bezeichnerwerten für neue Gebiets Schemas migriert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-154">Another reason for preferring [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is that Microsoft is migrating toward the use of locale names instead of locale identifiers for new locales, for interoperability reasons.</span></span> <span data-ttu-id="e62b9-155">Jede Anwendung, die nur unter Windows Vista und höher ausgeführt wird, sollte [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex)verwenden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-155">Any application that runs only on Windows Vista and later should use [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex).</span></span>

 

<span data-ttu-id="e62b9-156">Eine andere Möglichkeit, auf linguistische Gleichheit zu testen, ist die Verwendung von [**lstrincmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) oder [**lstraucmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), bei dem immer eine Wort Sortierung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e62b9-156">Another way of testing for linguistic equality is to use [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) or [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia), which always use a word sort.</span></span> <span data-ttu-id="e62b9-157">Die [**lstrincmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) -Funktion ruft [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) mit dem \_ normignorecase-Flag auf, während [**lstraucmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) Sie ohne dieses Flag aufruft.</span><span class="sxs-lookup"><span data-stu-id="e62b9-157">The [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) function calls [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) with the NORM\_IGNORECASE flag, while [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) calls it without that flag.</span></span> <span data-ttu-id="e62b9-158">Eine Übersicht über die Verwendung der Wrapper [**Funktionen finden Sie**](../menurc/strings.md)unter Zeichen folgen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-158">For an overview of the use of the wrapper functions, see [**Strings**](../menurc/strings.md).</span></span>

<span data-ttu-id="e62b9-159">Die Funktionen rufen linguistisch geeignete Ergebnisse für alle Gebiets Schemas ab.</span><span class="sxs-lookup"><span data-stu-id="e62b9-159">The functions retrieve linguistically appropriate results for all locales.</span></span> <span data-ttu-id="e62b9-160">Die Erwartungen von Benutzern für verschiedene Gebiets Schemas können sich beim Sortier Verhalten erheblich unterscheiden, wie in den folgenden Beispielen gezeigt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-160">User expectations for different locales can differ significantly in sorting behavior, as shown in the following examples.</span></span>

-   <span data-ttu-id="e62b9-161">Viele Gebiets Schemas entsprechen der AE-Ligaturen (æ) und den Buchstaben AE.</span><span class="sxs-lookup"><span data-stu-id="e62b9-161">Many locales equate the ae ligature (æ) with the letters ae.</span></span> <span data-ttu-id="e62b9-162">Allerdings betrachtet Isländisch (Island) einen separaten Buchstaben und platziert ihn nach Z in der Sortierreihenfolge.</span><span class="sxs-lookup"><span data-stu-id="e62b9-162">However, Icelandic (Iceland) considers it a separate letter and places it after Z in the sorting sequence.</span></span>
-   <span data-ttu-id="e62b9-163">Der a-Ring (Å) sortiert normalerweise nur einen diakritischen Unterschied von einer. Der schwedische (Schweden) platziert den Ring jedoch nach Z in der Sortierreihenfolge.</span><span class="sxs-lookup"><span data-stu-id="e62b9-163">The A Ring (Å) normally sorts with merely a diacritic difference from A. However, Swedish (Sweden) places the A Ring after Z in the sorting sequence.</span></span>

<span data-ttu-id="e62b9-164">Die Funktionen versuchen, zu überprüfen, ob im Unicode-Standard definierte Code Punkte kanonisch gleich einer Zeichenfolge mit gleichwertigen Code Punkten sind.</span><span class="sxs-lookup"><span data-stu-id="e62b9-164">The functions attempt to verify rigorously that code points defined in the Unicode standard are canonically equal to a string of equivalent code points.</span></span> <span data-ttu-id="e62b9-165">Beispielsweise ist der Codepunkt, der einen Kleinbuchstaben "u" mit einem Dieresis (ü) darstellt, kanonisch gleich einem Kleinbuchstaben "u", kombiniert mit der Distribution ("a").</span><span class="sxs-lookup"><span data-stu-id="e62b9-165">For example, the code point that represents a lowercase "u" with a dieresis (ü) is canonically equal to a lowercase "u" combined with the dieresis (¨).</span></span> <span data-ttu-id="e62b9-166">Beachten Sie jedoch, dass die kanonische Äquivalenz nicht immer möglich ist.</span><span class="sxs-lookup"><span data-stu-id="e62b9-166">Note, however, that canonical equivalence is not always possible.</span></span>

<span data-ttu-id="e62b9-167">Da fast alle Daten, die mit Windows-Tastaturen und Eingabemethoden-Editoren (Input Method Editors, IMEs) eingegeben wurden, mit der im Unicode-Standard definierten Form-C-Normalisierung übereinstimmen, bietet das Einfügen eingehender Daten von anderen Plattformen mithilfe der NLS-Unicode-normalisierungs Funktionen die meisten konsistenten Ergebnisse, insbesondere für Gebiets Schemas, die das tibetische Skript verwenden</span><span class="sxs-lookup"><span data-stu-id="e62b9-167">As almost all data entered using Windows keyboards and input method editors (IMEs) conforms to the form C normalization defined in the Unicode standard, converting incoming data from other platforms using the NLS Unicode normalization functions provides most consistent results, especially for locales that use the Tibetan script or the Hangul script for modern Hangul.</span></span> <span data-ttu-id="e62b9-168">Weitere Informationen zur Unterstützung von Unicode-Normalisierungen in Windows Vista und höher finden [Sie unter Verwenden der Unicode-Normalisierung zur Darstellung](using-unicode-normalization-to-represent-strings.md)von Zeichen folgen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-168">For more information on Unicode normalization support in Windows Vista and later, see [Using Unicode Normalization to Represent Strings](using-unicode-normalization-to-represent-strings.md).</span></span>

<span data-ttu-id="e62b9-169">Wenn der Zeichen folgen Vergleich der Spracheinstellung des Benutzers folgt, z. b. beim Sortieren von Elementen für ein sortiertes ListView-Steuerelement, kann die Anwendung eine der folgenden Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="e62b9-169">When string comparison follows the user's language preference, for example, when sorting items for an ordered ListView control, the application can do one of the following:</span></span>

-   <span data-ttu-id="e62b9-170">Nennen Sie [**lstrecmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) oder [**lstrincmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) mit dem Gebiets Schema des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="e62b9-170">Call [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa) or [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) with the user's locale.</span></span>
-   <span data-ttu-id="e62b9-171">Aufrufen von [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) oder [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) zum Definieren eines Gebiets Schemas für den Vergleich, zum übergeben zusätzlicher Flags, zum Einbetten von NULL-Zeichen oder zum Übergeben von expliziten Längen, um Teile einer Zeichenfolge abzugleichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-171">Call [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) or [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) to define a locale for the comparison, to pass additional flags, to embed null characters, or to pass explicit lengths to match parts of a string.</span></span>

<span data-ttu-id="e62b9-172">Wenn die Ergebnisse des Vergleichs unabhängig vom Gebiets Schema konsistent sein sollen, z. b. wenn abgerufene Daten mit einer vordefinierten Liste oder einem internen Wert verglichen werden, sollte die Anwendung [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) oder [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) mit dem *locale* -Parameter verwenden, der auf locale invariant festgelegt ist \_ .</span><span class="sxs-lookup"><span data-stu-id="e62b9-172">When the results of the comparison should be consistent regardless of locale, for example, when comparing retrieved data against a predefined list or an internal value, the application should use [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) or [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) with the *Locale* parameter set to LOCALE\_INVARIANT.</span></span> <span data-ttu-id="e62b9-173">Für [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)stimmt jeder der folgenden Aufrufe gleich, auch wenn myStr den Wert "inlap" hat.</span><span class="sxs-lookup"><span data-stu-id="e62b9-173">For [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), either of the following calls will match even if mystr is "INLAP".</span></span> <span data-ttu-id="e62b9-174">In diesem Fall tritt bei einem Gebiets Schema bezogenen Aufrufe von [**lstrincmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) ein Fehler auf, wenn das aktuelle Gebiets Schema Vietnamese ist.</span><span class="sxs-lookup"><span data-stu-id="e62b9-174">In this case, a locale-sensitive call to [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia) will fail if the current locale is Vietnamese.</span></span>

<span data-ttu-id="e62b9-175">Unter Windows XP:</span><span class="sxs-lookup"><span data-stu-id="e62b9-175">On Windows XP:</span></span>


```C++
int iReturn = CompareString(LOCALE_INVARIANT, NORM_IGNORECASE, mystr, -1, _T("InLap"), -1);
```



<span data-ttu-id="e62b9-176">Unter früheren Betriebssystemen:</span><span class="sxs-lookup"><span data-stu-id="e62b9-176">On earlier operating systems:</span></span>


```C++
DWORD lcid = MAKELCID(MAKELANGID(LANG_ENGLISH, SUBLANG_ENGLISH_US), SORT_DEFAULT);
int iReturn = CompareString(lcid, NORM_IGNORECASE, mystr, -1, _T("InLap"), -1);
```



## <a name="sort-strings-ordinally"></a><span data-ttu-id="e62b9-177">Zeichen folgen Ordnungs mäßig sortieren</span><span class="sxs-lookup"><span data-stu-id="e62b9-177">Sort Strings Ordinally</span></span>

<span data-ttu-id="e62b9-178">Für eine Ordinalzahl (nicht linguistische Sortierung) sollten Ihre Anwendungen immer die [**comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-178">For ordinal (non-linguistic) sorting, your applications should always use the [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) function.</span></span>

> [!Note]  
> <span data-ttu-id="e62b9-179">Diese Funktion ist nur für Windows Vista und höher verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e62b9-179">This function is only available for Windows Vista and later.</span></span>

 

<span data-ttu-id="e62b9-180">[**Comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) vergleicht zwei [Unicode](unicode.md) -Zeichen folgen, um auf binäre Gleichheit zu testen (im Gegensatz zur linguistischen Gleichheit).</span><span class="sxs-lookup"><span data-stu-id="e62b9-180">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) compares two [Unicode](unicode.md) strings to test for binary equality, as opposed to linguistic equality.</span></span> <span data-ttu-id="e62b9-181">Beispiele für solche nicht linguistischen Zeichen folgen sind NTFS-Dateinamen, Umgebungsvariablen und die Namen von Mutexen, Named Pipes oder Mailslots.</span><span class="sxs-lookup"><span data-stu-id="e62b9-181">Examples of such non-linguistic strings are NTFS file names, environment variables, and the names of mutexes, named pipes, or mailslots.</span></span> <span data-ttu-id="e62b9-182">Mit Ausnahme der Option für die Unterscheidung nach Groß-/Kleinschreibung ignoriert diese Funktion alle nicht binären äquivalente.</span><span class="sxs-lookup"><span data-stu-id="e62b9-182">Except for the option of case-insensitivity, this function disregards all non-binary equivalences.</span></span> <span data-ttu-id="e62b9-183">Im Gegensatz zu einigen anderen Sortierfunktionen testet es alle Code Punkte auf Gleichheit, einschließlich derjenigen, die in linguistischen Sortier Schemas keine Gewichtung erhalten.</span><span class="sxs-lookup"><span data-stu-id="e62b9-183">Unlike some other sorting functions, it tests all code points for equality, including those that are not given any weight in linguistic sorting schemes.</span></span>

<span data-ttu-id="e62b9-184">Alle der folgenden Anweisungen gelten für [**comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) in binären vergleichen, jedoch nicht für [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa)oder [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="e62b9-184">All of the following statements apply to [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) in binary comparisons, but not to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**lstrcmp**](/windows/win32/api/winbase/nf-winbase-lstrcmpa), or [**lstrcmpi**](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span>

-   <span data-ttu-id="e62b9-185">Kanonisch äquivalente Sequenzen in Unicode, wie z. b. Lateinische Kleinbuchstaben a mit Ring oberhalb (u + 00e5) und Latin Small Letter a + kombinierungsring oberhalb (u + 0061 U + 030A), sind nicht gleich, obwohl Sie identisch ("å") sind.</span><span class="sxs-lookup"><span data-stu-id="e62b9-185">Canonically equivalent sequences in Unicode, such as LATIN SMALL LETTER A WITH RING ABOVE (U+00e5) and LATIN SMALL LETTER A + COMBINING RING ABOVE (U+0061 U+030a), are not equal even though they appear identical ("å").</span></span>
-   <span data-ttu-id="e62b9-186">Kanonisch ähnliche Zeichen folgen in Unicode, wie z. b. lateinische Buchstabe Small Capital y (u + 028f) und Latin Capital Letter y (u + 0059), die sehr ähnlich aussehen ("ʏ" und "Y") und sich nur durch einige sondergewichtungen in den linguistischen Tabellen unterscheiden, werden als vollständig abweichende Zeichen betrachtet.</span><span class="sxs-lookup"><span data-stu-id="e62b9-186">Canonically similar strings in Unicode, such as LATIN LETTER SMALL CAPITAL Y (U+028f) and LATIN CAPITAL LETTER Y (U+0059), which look very similar ("ʏ" and "Y") and vary only by some special case weights in the linguistic tables, are considered to be entirely dissimilar characters.</span></span> <span data-ttu-id="e62b9-187">Auch wenn die Anwendung *bignorecase* auf " **true**" festlegt, vergleichen diese Zeichen folgen als verschieden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-187">Even if the application sets *bIgnoreCase* to **TRUE**, these strings compare as different.</span></span>
-   <span data-ttu-id="e62b9-188">Code Punkte, die zwar definiert sind, aber keine linguistische Sortier Gewichtung aufweisen, wie z. b. "Joiner (null)" (U + 200D), werden so behandelt, als wären Sie mit Ihren Code</span><span class="sxs-lookup"><span data-stu-id="e62b9-188">Code points that are defined but have no linguistic sorting weight, such as ZERO WIDTH JOINER (U+200d), are treated as having their code point weights.</span></span>
-   <span data-ttu-id="e62b9-189">Code Punkte, die in neueren Versionen von Unicode definiert sind, aber keine Gewichtung in den aktuellen linguistischen Tabellen haben, werden so behandelt, als hätten Sie Ihre Code Punkt Gewichtungen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-189">Code points that are defined in later versions of Unicode but have no weight in current linguistic tables are treated as having their code point weights.</span></span>
-   <span data-ttu-id="e62b9-190">Code Punkte, die von Unicode nicht definiert werden, werden als Code Punkt Gewichtungen behandelt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-190">Code points that are undefined by Unicode are treated as having their code point weights.</span></span>
-   <span data-ttu-id="e62b9-191">Wenn in der Anwendung *bignorecase* auf **true** festgelegt wird, wird die-Funktion mithilfe der Tabelle für die Betriebssystem-groß Schreibung anstelle der Informationen in den linguistischen Sortier Tabellen verwendet.</span><span class="sxs-lookup"><span data-stu-id="e62b9-191">When the application sets *bIgnoreCase* to **TRUE**, the function maps case using the operating system uppercasing table, instead of the information in the linguistic sorting tables.</span></span> <span data-ttu-id="e62b9-192">Daher ist die Zuordnung unabhängig vom Gebiets Schema.</span><span class="sxs-lookup"><span data-stu-id="e62b9-192">Thus the mapping is independent of locale.</span></span>

<span data-ttu-id="e62b9-193">Weitere Informationen zu kanonalen äquivalenten Sequenzen in Unicode und kanonalen ähnlichen Zeichen folgen in Unicode finden [Sie unter Verwenden der Unicode-Normalisierung zur Darstellung von](using-unicode-normalization-to-represent-strings.md)Zeichen folgen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-193">For more information about canonically equivalent sequences in Unicode and canonically similar strings in Unicode, see [Using Unicode Normalization to Represent Strings](using-unicode-normalization-to-represent-strings.md).</span></span>

## <a name="sort-code-points"></a><span data-ttu-id="e62b9-194">Code Punkte sortieren</span><span class="sxs-lookup"><span data-stu-id="e62b9-194">Sort Code Points</span></span>

<span data-ttu-id="e62b9-195">Einige Unicode-Code Punkte haben keine Gewichtung, z. b. NULL-Breite, nicht Joiner, U + 200C.</span><span class="sxs-lookup"><span data-stu-id="e62b9-195">Some Unicode code points have no weight, for example, ZERO WIDTH NON JOINER, U+200c.</span></span> <span data-ttu-id="e62b9-196">Die Sortierfunktionen Werten die nicht Gewichtungs Code Punkte absichtlich als gleichwertig aus, da Sie keine Gewichtung beim Sortieren haben.</span><span class="sxs-lookup"><span data-stu-id="e62b9-196">The sorting functions intentionally evaluate the no-weight code points as equivalent because they have no weight in sorting.</span></span> <span data-ttu-id="e62b9-197">Unter Windows Vista und höher kann die Anwendung diese Code Punkte sortieren, indem Sie die NLS-Zeichen folgen Vergleichsfunktionen aufrufen, insbesondere [**comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), für die Auswertung aller Code Punkte in einem literalen, Binär Sinn, z. b. bei der Kenn Wort Validierung.</span><span class="sxs-lookup"><span data-stu-id="e62b9-197">On Windows Vista and later, the application can sort these code points by calling the NLS string comparison functions, particularly [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal), for evaluation of all code points in a literal, binary sense, for example, in password validation.</span></span> <span data-ttu-id="e62b9-198">Bei Betriebssystemen vor Windows Vista sollte die Anwendung die C-Lauf Zeitfunktion " **trecmp** " oder " **wcscmp**" verwenden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-198">On pre-Windows Vista operating systems, the application should use the C runtime function **strcmp** or **wcscmp**.</span></span>

<span data-ttu-id="e62b9-199">Sortierungs Funktionen ignorieren Diakritik, wie z. b. "Non-SPACING Breve", U + 0306, wenn die Anwendung das Flag "hlink \_ nonspace" angibt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-199">Sorting functions ignore diacritics, such as NON SPACING BREVE, U+0306, when the application specifies the hlink\_NONSPACE flag.</span></span> <span data-ttu-id="e62b9-200">Ebenso ignorieren diese Funktionen Symbole, z. b. Gleichheitszeichen, U + 003d, wenn das Flag für die Hlink- \_ Symbole angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="e62b9-200">Similarly, these functions ignore symbols, for example, EQUALS SIGN, U+003d , when the hlink\_SYMBOLS flag is specified.</span></span> <span data-ttu-id="e62b9-201">Unter Windows Vista und höher Ruft die Anwendung [**comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) auf, um die Diakritik und Symbol Code Punkte in einem literalen, binären Sinn, zu evaluieren.</span><span class="sxs-lookup"><span data-stu-id="e62b9-201">On Windows Vista and later, the application calls [**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) for evaluation of diacritics and symbol code points in a literal, binary sense.</span></span> <span data-ttu-id="e62b9-202">Bei Betriebssystemen vor Windows Vista sollte die Anwendung " **straucmp** " oder " **wcscmp**" verwenden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-202">On pre-Windows Vista operating systems, the application should use **strcmp** or **wcscmp**.</span></span>

<span data-ttu-id="e62b9-203">Einige Code Punkte, z. b. 0xFFFF und 0x058b, sind derzeit nicht in Unicode zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-203">Some code points, such as 0xFFFF and 0x058b, are currently not assigned in Unicode.</span></span> <span data-ttu-id="e62b9-204">Diese Code Punkte erhalten keine Gewichtung beim Sortieren und sollten niemals an die Sortierungs Funktionen übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-204">These code points do not receive any weight in sorting, and should never be passed to the sorting functions.</span></span> <span data-ttu-id="e62b9-205">Die Anwendung sollte [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) verwenden, um nicht-Unicode-Code Punkte in einem Datenstrom zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-205">The application should use [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) to detect non-Unicode code points in a data stream.</span></span>

> [!Note]  
> <span data-ttu-id="e62b9-206">Die Ergebnisse von [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) variieren möglicherweise abhängig von der zurückgegebenen Unicode-Version, wenn ein Zeichen zu Unicode in einer neueren Version hinzugefügt wird, und wird anschließend den Windows-Sortier Tabellen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-206">Results of [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) might vary depending on the Unicode version passed if a character is added to Unicode in a later version and it is subsequently added to the Windows sorting tables.</span></span> <span data-ttu-id="e62b9-207">Weitere Informationen finden Sie unter [use Sort Versioning](#use-sort-versioning).</span><span class="sxs-lookup"><span data-stu-id="e62b9-207">For more information, see [Use Sort Versioning](#use-sort-versioning).</span></span>

 

## <a name="sort-digits-as-numbers"></a><span data-ttu-id="e62b9-208">Ziffern als Zahlen sortieren</span><span class="sxs-lookup"><span data-stu-id="e62b9-208">Sort Digits as Numbers</span></span>

<span data-ttu-id="e62b9-209">Unter Windows 7 und höher kann die Anwendung " [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)", " [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex)", " [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa)" oder " [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) " aufrufen, indem das \_ Flag "digitsasnumbers sortieren" verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e62b9-209">On Windows 7 and later, the application can call [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa), or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) using the SORT\_DIGITSASNUMBERS flag.</span></span> <span data-ttu-id="e62b9-210">Dieses Flag unterstützt das Sortieren, bei dem Ziffern als Zahlen behandelt werden, z. b. das Sortieren von "2" vor "10".</span><span class="sxs-lookup"><span data-stu-id="e62b9-210">This flag supports sorting that treats digits as numbers, for example, sorting of "2" before "10".</span></span>

<span data-ttu-id="e62b9-211">Beachten Sie, dass die Verwendung dieses Flags für hexadezimale Ziffern wie die folgende nicht geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="e62b9-211">Note that the use of this flag is not appropriate for hexadecimal digits such as the following.</span></span> <dl> <span data-ttu-id="e62b9-212">01af</span><span class="sxs-lookup"><span data-stu-id="e62b9-212">01AF</span></span>  
<span data-ttu-id="e62b9-213">1bcd</span><span class="sxs-lookup"><span data-stu-id="e62b9-213">1BCD</span></span>  
<span data-ttu-id="e62b9-214">002A</span><span class="sxs-lookup"><span data-stu-id="e62b9-214">002A</span></span>  
<span data-ttu-id="e62b9-215">12fa</span><span class="sxs-lookup"><span data-stu-id="e62b9-215">12FA</span></span>  
<span data-ttu-id="e62b9-216">AB1C</span><span class="sxs-lookup"><span data-stu-id="e62b9-216">AB1C</span></span>  
<span data-ttu-id="e62b9-217">AB02</span><span class="sxs-lookup"><span data-stu-id="e62b9-217">AB02</span></span>  
<span data-ttu-id="e62b9-218">Ab12</span><span class="sxs-lookup"><span data-stu-id="e62b9-218">AB12</span></span>  
</dl>

<span data-ttu-id="e62b9-219">In diesem Fall werden die Zahlen in der richtigen Reihenfolge sortiert, aber der Benutzer spürt eine schlecht sortierte hexadezimal Liste ab.</span><span class="sxs-lookup"><span data-stu-id="e62b9-219">In this case the "numbers" are sorted in order, but the user perceives a poorly sorted hexadecimal list.</span></span>

## <a name="map-strings"></a><span data-ttu-id="e62b9-220">Zuordnen von Zeichen folgen</span><span class="sxs-lookup"><span data-stu-id="e62b9-220">Map Strings</span></span>

<span data-ttu-id="e62b9-221">Die Anwendung verwendet die [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) -oder [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) -Funktion, um Zeichen folgen zuzuordnen, wenn lcmap \_ SortKey nicht angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="e62b9-221">The application uses the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) function to map strings, if LCMAP\_SORTKEY is not specified.</span></span> <span data-ttu-id="e62b9-222">Eine zugeordnete Zeichenfolge wird auf NULL festgelegt, wenn die Quell Zeichenfolge auf NULL endet.</span><span class="sxs-lookup"><span data-stu-id="e62b9-222">A mapped string is null-terminated if the source string is null-terminated.</span></span>

<span data-ttu-id="e62b9-223">Beim Transformieren zwischen Groß-und Kleinbuchstaben garantiert die-Funktion nicht, dass ein einzelnes Zeichen einem einzelnen Zeichen zugeordnet wird.</span><span class="sxs-lookup"><span data-stu-id="e62b9-223">When transforming between uppercase and lowercase, the function does not guarantee that a single character will map to a single character.</span></span> <span data-ttu-id="e62b9-224">Beispielsweise können die Großbuchstaben lcmap \_ Kleinbuchstaben und lcmap \_ die deutschen Sharp-S ("ß") selbst zuordnen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-224">For example, the LCMAP\_LOWERCASE and LCMAP\_UPPERCASE flags may map the German Sharp S ("ß") to itself.</span></span> <span data-ttu-id="e62b9-225">Alternativ kann das Flag für die lcmap \_ -groß Schreibung "ß" zu "SS" zuordnen, und das lcmap- \_ Flag für Kleinbuchstaben kann "SS" zu "ß" zuordnen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-225">Alternatively, the LCMAP\_UPPERCASE flag may map "ß" to "SS" and the LCMAP\_LOWERCASE flag may map "SS" to "ß".</span></span> <span data-ttu-id="e62b9-226">Das Verhalten hängt von der NLS-Version ab.</span><span class="sxs-lookup"><span data-stu-id="e62b9-226">The behavior depends on the NLS version.</span></span>

<span data-ttu-id="e62b9-227">Beim Transformieren zwischen Groß-und Kleinbuchstaben ist die-Funktion nicht für den kontextsensibel.</span><span class="sxs-lookup"><span data-stu-id="e62b9-227">When transforming between uppercase and lowercase, the function is not sensitive to context.</span></span> <span data-ttu-id="e62b9-228">Beispielsweise ordnet das Flag "lcmap \_ Großbuchstaben" ordnungsgemäß sowohl den griechischen Kleinbuchstaben "Sigma" (".") als auch den griechischen Kleinbuchstaben ("...)" mit dem griechischen Großbuchstaben "Sigma" (".") zu. das lcmap-Flag für Kleinbuchstaben ordnet jedoch immer "Zuordnungen" und \_ nie "." zu.</span><span class="sxs-lookup"><span data-stu-id="e62b9-228">For example, while the LCMAP\_UPPERCASE flag correctly maps both Greek lowercase sigma ("σ") and Greek lowercase final sigma ("ς") to Greek uppercase sigma ("Σ"), the LCMAP\_LOWERCASE flag always maps "Σ" to "σ", never to "ς".</span></span>

<span data-ttu-id="e62b9-229">Standardmäßig ordnet die-Funktion den Kleinbuchstaben "i" dem Großbuchstaben "i" zu, auch wenn der Gebiets *Schema Parameter Türkisch* oder Aserbaidschanisch angibt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-229">By default, the function maps the lowercase "i" to the uppercase "I", even when the *Locale* parameter specifies Turkish or Azerbaijani.</span></span> <span data-ttu-id="e62b9-230">Um dieses Verhalten für Türkisch oder Aserbaidschanisch außer Kraft zu setzen, sollte die Anwendung eine linguistische lcmap-Schreibweise angeben \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="e62b9-230">To override this behavior for Turkish or Azerbaijani, the application should specify LCMAP\_LINGUISTIC\_CASING.</span></span> <span data-ttu-id="e62b9-231">Wenn dieses Flag mit dem entsprechenden Gebiets Schema angegeben wird, ist "ı" (Kleinbuchstaben: i) die klein geschriebene Form von "i" (Großbuchstabe ohne bitweise i) und "i" (Großbuchstabe i) ist die klein geschriebene Form von "i" (Großbuchstabe i).</span><span class="sxs-lookup"><span data-stu-id="e62b9-231">If this flag is specified with the appropriate locale, "ı" (lowercase dotless I) is the lowercase form of "I" (uppercase dotless I) and "i" (lowercase dotted I) is the lowercase form of "İ" (uppercase dotted I).</span></span>

<span data-ttu-id="e62b9-232">Wenn das lcmap- \_ Hiragana-Flag für die Zuordnung von Katakana-Zeichen in Hiragana-Zeichen angegeben wird und lcmap \_ Fullwidth nicht angegeben ist, ordnet [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) oder [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) nur Zeichen voller Breite zu Hiragana zu.</span><span class="sxs-lookup"><span data-stu-id="e62b9-232">If the LCMAP\_HIRAGANA flag is specified to map katakana characters to hiragana characters, and LCMAP\_FULLWIDTH is not specified, [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) only maps full-width characters to hiragana.</span></span> <span data-ttu-id="e62b9-233">In diesem Fall werden alle Katakana-Zeichen der Hälfte Breite als Ziel Zeichenfolge ohne Zuordnung zu Hiragana platziert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-233">In this case, any half-width katakana characters are placed as in the destination string, with no mapping to hiragana.</span></span> <span data-ttu-id="e62b9-234">Die Anwendung muss lcmap \_ Fullwidth angeben, um Katakana-Zeichen mit halber Breite zu Hiragana zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-234">The application must specify LCMAP\_FULLWIDTH to map half-width katakana characters to hiragana.</span></span> <span data-ttu-id="e62b9-235">Der Grund für diese Einschränkung besteht darin, dass alle Hiragana-Zeichen Zeichen mit voller Breite sind.</span><span class="sxs-lookup"><span data-stu-id="e62b9-235">The reason for this restriction is that all hiragana characters are full-width characters.</span></span>

<span data-ttu-id="e62b9-236">Wenn die Anwendung Zeichen aus der Quell Zeichenfolge entfernen muss, kann Sie die Zuordnungs Funktion mit den \_ festgelegten Standardflags IgnoreSymbols und Norm \_ IgnoreNonSpace aufzurufen, und alle anderen Flags werden gelöscht.</span><span class="sxs-lookup"><span data-stu-id="e62b9-236">If the application needs to strip characters from the source string, it can call the mapping function with the NORM\_IGNORESYMBOLS and NORM\_IGNORENONSPACE flags set, and all other flags cleared.</span></span> <span data-ttu-id="e62b9-237">Wenn die Anwendung diese mit einer Quell Zeichenfolge durchführt, die nicht auf NULL endet, kann die Funktion eine leere Zeichenfolge zurückgeben und keinen Fehler zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="e62b9-237">If the application does this with a source string that is not null-terminated, it is possible for the function to return an empty string and not return an error.</span></span>

## <a name="create-sort-keys"></a><span data-ttu-id="e62b9-238">Sortierschlüssel erstellen</span><span class="sxs-lookup"><span data-stu-id="e62b9-238">Create Sort Keys</span></span>

<span data-ttu-id="e62b9-239">Wenn die Anwendung lcmap \_ SortKey angibt, generiert [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) oder [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) einen Sortierschlüssel, ein binäres Array von Byte Werten.</span><span class="sxs-lookup"><span data-stu-id="e62b9-239">When the application specifies LCMAP\_SORTKEY, [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) generates a sort key, a binary array of byte values.</span></span> <span data-ttu-id="e62b9-240">Der Sortierschlüssel ist keine echte Zeichenfolge, und seine Werte stellen das Sortier Verhalten der Quell Zeichenfolge dar, sind jedoch keine aussagekräftigen Anzeigewerte.</span><span class="sxs-lookup"><span data-stu-id="e62b9-240">The sort key is not a true string and its values represent the sorting behavior of the source string, but are not meaningful display values.</span></span>

> [!Note]  
> <span data-ttu-id="e62b9-241">Die-Funktion ignoriert die arabische Kashida während der Generierung eines Sortier Schlüssels.</span><span class="sxs-lookup"><span data-stu-id="e62b9-241">The function ignores the Arabic kashida during generation of a sort key.</span></span> <span data-ttu-id="e62b9-242">Wenn eine Anwendung die-Funktion aufruft, um einen Sortierschlüssel für eine Zeichenfolge zu erstellen, die einen arabischen Kashida enthält, erstellt die-Funktion keinen Sortierschlüssel Wert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-242">If an application calls the function to create a sort key for a string containing an Arabic kashida, the function creates no sort key value.</span></span>

 

<span data-ttu-id="e62b9-243">Der Sortierschlüssel kann eine ungerade Anzahl von Bytes enthalten.</span><span class="sxs-lookup"><span data-stu-id="e62b9-243">The sort key can contain an odd number of bytes.</span></span> <span data-ttu-id="e62b9-244">Das lcmap \_ byterev-Flag kehrt nur eine gerade Anzahl von Bytes um.</span><span class="sxs-lookup"><span data-stu-id="e62b9-244">The LCMAP\_BYTEREV flag only reverses an even number of bytes.</span></span> <span data-ttu-id="e62b9-245">Das letzte Byte (ungerade positioniert) im Sortierschlüssel ist nicht umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-245">The last byte (odd-positioned) in the sort key is not reversed.</span></span> <span data-ttu-id="e62b9-246">Wenn das abschließende 0x00-Byte ein ungerade positioniertes Byte ist, bleibt es das letzte Byte im Sortierschlüssel.</span><span class="sxs-lookup"><span data-stu-id="e62b9-246">If the terminating 0x00 byte is an odd-positioned byte, it remains the last byte in the sort key.</span></span> <span data-ttu-id="e62b9-247">Wenn das abschließende 0x00-Byte ein gleich positioniertes Byte ist, tauscht es Positionen mit dem vorangestellten Byte aus.</span><span class="sxs-lookup"><span data-stu-id="e62b9-247">If the terminating 0x00 byte is an even-positioned byte, it exchanges positions with the byte that precedes it.</span></span>

<span data-ttu-id="e62b9-248">Beim Erstellen des Sortier Schlüssels behandelt die-Funktion den Bindestrich und Apostroph anders als andere Interpunktions Symbole, sodass Wörter wie "Coop" und "Co-op" in einer Liste zusammen bleiben.</span><span class="sxs-lookup"><span data-stu-id="e62b9-248">When generating the sort key, the function treats the hyphen and apostrophe differently from other punctuation symbols, so that words such as "coop" and "co-op" stay together in a list.</span></span> <span data-ttu-id="e62b9-249">Alle Interpunktions Symbole außer dem Bindestrich und Apostroph Sortieren vor alphanumerischen Zeichen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-249">All punctuation symbols other than the hyphen and apostrophe sort before alphanumeric characters.</span></span> <span data-ttu-id="e62b9-250">Die Anwendung kann dieses Verhalten ändern, indem Sie das \_ Flag "StringSort sortieren" festlegen, wie in [Sortierungs Funktionen](#sorting-functions)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="e62b9-250">The application can change this behavior by setting the SORT\_STRINGSORT flag, as described in [Sorting Functions](#sorting-functions).</span></span>

<span data-ttu-id="e62b9-251">Bei Verwendung in [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp)erzeugt der Sortierschlüssel dieselbe Reihenfolge, in der die Quell Zeichenfolge in [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) oder [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex)verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e62b9-251">When used in [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp), the sort key produces the same order as when the source string is used in [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) or [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex).</span></span> <span data-ttu-id="e62b9-252">Die [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp) -Funktion sollte anstelle von " [straucmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp)" verwendet werden, da der Sortierschlüssel eingebettete NULL-Bytes aufweisen kann.</span><span class="sxs-lookup"><span data-stu-id="e62b9-252">The [memcmp](/cpp/c-runtime-library/reference/memcmp-wmemcmp) function should be used instead of [strcmp](/cpp/c-runtime-library/reference/strcmp-wcscmp-mbscmp), because the sort key can have embedded null bytes.</span></span>

## <a name="use-sort-versioning"></a><span data-ttu-id="e62b9-253">Verwenden der Sortier Versionsverwaltung</span><span class="sxs-lookup"><span data-stu-id="e62b9-253">Use Sort Versioning</span></span>

<span data-ttu-id="e62b9-254">Eine [Sortier](sorting.md) Tabelle verfügt über zwei Zahlen, die Ihre Version identifizieren: die definierte Version und die NLS-Version.</span><span class="sxs-lookup"><span data-stu-id="e62b9-254">A [sorting](sorting.md) table has two numbers that identify its version: the defined version and the NLS version.</span></span> <span data-ttu-id="e62b9-255">Beide Zahlen sind DWORD-Werte, die aus einem Haupt-und einem nebenwert bestehen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-255">Both numbers are DWORD values, composed of a major value and a minor value.</span></span> <span data-ttu-id="e62b9-256">Das erste Byte eines Werts ist reserviert, die nächsten zwei Bytes stellen die Hauptversion dar, und das letzte Byte stellt die neben Version dar.</span><span class="sxs-lookup"><span data-stu-id="e62b9-256">The first byte of a value is reserved, the next two bytes represent the major version, and the last byte represents the minor version.</span></span> <span data-ttu-id="e62b9-257">In hexadezimalen begriffen ist das Muster "0xrrmmmmmm", wobei "R" reserviert ist, "m" den Wert "Major" und "m" kleiner ist.</span><span class="sxs-lookup"><span data-stu-id="e62b9-257">In hexadecimal terms, the pattern is 0xRRMMMMmm, where R equals Reserved, M equals major, and m equals minor.</span></span> <span data-ttu-id="e62b9-258">Beispielsweise wird eine Hauptversion von 3 mit einer neben Version von 4 als 0x304 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-258">For example, a major version of 3 with a minor version of 4 is represented as 0x304.</span></span>

<span data-ttu-id="e62b9-259">Die definierte Version identifiziert das Repertoire von Code Punkten und ist für alle Gebiets Schemas identisch.</span><span class="sxs-lookup"><span data-stu-id="e62b9-259">The defined version identifies the repertoire of code points and is the same for all locales.</span></span> <span data-ttu-id="e62b9-260">Die Hauptversion erhöht sich, um Änderungen an vorhandenen Code Punkten anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e62b9-260">The major version increments to indicate changes to existing code points.</span></span> <span data-ttu-id="e62b9-261">Die neben Versions Inkremente, um anzugeben, dass Code Punkte hinzugefügt wurden, jedoch keine bereits vorhandenen Code Punkte geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-261">The minor version increments to indicate that code points have been added, but that no previously existing code points have been changed.</span></span>

<span data-ttu-id="e62b9-262">Die NLS-Version ist spezifisch für einen Gebiets Schema [Bezeichner](locale-identifiers.md) oder Gebiets Schema [Namen](locale-names.md)und verfolgt Änderungen an den Code Punkt Gewichtungen für das betroffene Gebiets Schema nach.</span><span class="sxs-lookup"><span data-stu-id="e62b9-262">The NLS version is specific to a [locale identifier](locale-identifiers.md) or [locale name](locale-names.md), and tracks changes to code point weights for the affected locale.</span></span> <span data-ttu-id="e62b9-263">Die Hauptversion erhöht sich, wenn Gewichtungen für Code Punkte geändert werden, die bereits sortierbar waren.</span><span class="sxs-lookup"><span data-stu-id="e62b9-263">The major version increments when weights are changed for code points that were already sortable.</span></span> <span data-ttu-id="e62b9-264">Die neben Versions Zunahme erhöht sich, wenn neuen Code Punkten Gewichtungen zugewiesen werden, aber alle anderen zuvor sortierbaren Code Punkt Gewichtungen bleiben unverändert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-264">The minor version increments when new code points are assigned weights, but all other previously sortable code point weights remain unchanged.</span></span>

> [!Note]  
> <span data-ttu-id="e62b9-265">Bei einer Hauptversion werden ein oder mehrere Code Punkte geändert, sodass die Anwendung alle Daten neu indizieren muss, damit Vergleiche gültig sind.</span><span class="sxs-lookup"><span data-stu-id="e62b9-265">For a major version, one or more code points are changed so that the application must re-index all data for comparisons to be valid.</span></span> <span data-ttu-id="e62b9-266">Für eine neben Version wird nichts verschoben, aber Code Punkte werden hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-266">For a minor version, nothing is moved but code points are added.</span></span> <span data-ttu-id="e62b9-267">Bei dieser Art von Version muss die Anwendung nur Zeichen folgen mit zuvor nicht sortierbar-Werten neu indizieren.</span><span class="sxs-lookup"><span data-stu-id="e62b9-267">For this type of version, the application only has to re-index strings with previously unsortable values.</span></span>

 

> [!IMPORTANT]
> <span data-ttu-id="e62b9-268">Die Hauptversion wurde in Windows 8 geändert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-268">The major version has been changed in Windows 8.</span></span> <span data-ttu-id="e62b9-269">Daten, die unter früheren Versionen von Windows erstellt wurden, müssen neu indiziert werden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-269">Data created under earlier versions of Windows must be re-indexed.</span></span>

 

<span data-ttu-id="e62b9-270">Sowohl die definierte Version als auch die NLS-Version gelten für sortierbare Code Punkte, die mithilfe der [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) -oder [**lcmapstringex**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) -Funktion mit dem lcmap \_ SortKey-Flag abgerufen und auch von den Funktionen [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)und [**findnlsstringex**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-270">Both the defined and NLS versions apply to sortable code points retrieved using the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) or [**LCMapStringEx**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex) function with the LCMAP\_SORTKEY flag, and also used by the [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex), [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), and [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) functions.</span></span> <span data-ttu-id="e62b9-271">Wenn ein oder mehrere Code Punkte in einer Zeichenfolge Unsortable sind, gibt die [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) -Funktion **false** zurück, wenn diese Zeichenfolge als Parameter übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="e62b9-271">If one or more code points in a string are unsortable, then the [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) function returns **FALSE** when that string is passed to it as a parameter.</span></span>

<span data-ttu-id="e62b9-272">Die Anwendung kann entweder [**getnlsversion**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) oder [**GetNLSVersionEx**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) aufrufen, um sowohl die definierte Version als auch die NLS-Version für eine Sortier Tabelle abzurufen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-272">The application can call either [**GetNLSVersion**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) or [**GetNLSVersionEx**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) to retrieve both the defined version and the NLS version for a sorting table.</span></span>

## <a name="index-the-database"></a><span data-ttu-id="e62b9-273">Indizieren der Datenbank</span><span class="sxs-lookup"><span data-stu-id="e62b9-273">Index the Database</span></span>

<span data-ttu-id="e62b9-274">Aus Leistungsgründen sollte die Anwendung dieses Verfahren befolgen, wenn Sie die Datenbank indizieren.</span><span class="sxs-lookup"><span data-stu-id="e62b9-274">For performance reasons, the application should follow this procedure when indexing the database.</span></span>

<span data-ttu-id="e62b9-275">**So indizieren Sie die Datenbank ordnungsgemäß**</span><span class="sxs-lookup"><span data-stu-id="e62b9-275">**To properly index the database**</span></span>

1.  <span data-ttu-id="e62b9-276">Speichern Sie für jede Funktion die NLS-Version, die Sortierschlüssel dieser Version und eine Angabe der Sortier barkeit für jede indizierte Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="e62b9-276">For each function, store the NLS version, the sort keys of that version, and an indication of sortability for each indexed string.</span></span>
2.  <span data-ttu-id="e62b9-277">Wenn die neben Versions Zunahme Inkrementen ist, indizieren Sie zuvor nicht sortierbar-Zeichen folgen neu.</span><span class="sxs-lookup"><span data-stu-id="e62b9-277">When the minor version increments, re-index previously unsortable strings.</span></span> <span data-ttu-id="e62b9-278">Die in diesem Update betroffenen Zeichen folgen sollten auf diejenigen beschränkt werden, für die [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) zuvor **false** zurückgegeben hat.</span><span class="sxs-lookup"><span data-stu-id="e62b9-278">The strings affected in this update should be confined to the ones for which [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) has previously returned **FALSE**.</span></span>
3.  <span data-ttu-id="e62b9-279">Wenn die Hauptversion erhöht wird, indizieren Sie alle Zeichen folgen neu, da die aktualisierten Gewichtungen das Verhalten einer beliebigen Zeichenfolge ändern können.</span><span class="sxs-lookup"><span data-stu-id="e62b9-279">When the major version increments, re-index all strings because the updated weights might change the behavior of any string.</span></span> <span data-ttu-id="e62b9-280">Haupt Versions Releases sind sehr selten.</span><span class="sxs-lookup"><span data-stu-id="e62b9-280">Major version releases are very infrequent.</span></span>

<span data-ttu-id="e62b9-281">Probleme mit der Daten Bank Indizierung können aus folgenden Gründen auftreten:</span><span class="sxs-lookup"><span data-stu-id="e62b9-281">Database indexing problems can arise for the following reasons:</span></span>

-   <span data-ttu-id="e62b9-282">Ein späteres Betriebssystem kann Code Punkte definieren, die für ein früheres Betriebssystem nicht definiert sind. Dadurch wird die Sortierung geändert.</span><span class="sxs-lookup"><span data-stu-id="e62b9-282">A later operating system can define code points that are undefined for an earlier operating system, thus changing the sort.</span></span>
-   <span data-ttu-id="e62b9-283">Code Punkte können aufgrund von Korrekturen in der Sprachunterstützung verschiedene Sortierungs Gewichtungen in verschiedenen Betriebssystemen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="e62b9-283">Code points can have different sorting weights in different operating systems, due to corrections in language support.</span></span>

<span data-ttu-id="e62b9-284">Um die Notwendigkeit zu minimieren, dass die Datenbank in diesen Fällen neu indiziert werden kann, kann die Anwendung [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) verwenden, um die Definition von nicht definierten Zeichen folgen zu unterscheiden, sodass die Anwendung Zeichen folgen mit nicht definierten Code Punkten ablehnen kann.</span><span class="sxs-lookup"><span data-stu-id="e62b9-284">To minimize the necessity to re-index the database in these circumstances, the application can use [**IsNLSDefinedString**](/windows/desktop/api/Winnls/nf-winnls-isnlsdefinedstring) to differentiate defined from undefined strings so that the application can reject strings with undefined code points.</span></span> <span data-ttu-id="e62b9-285">Durch die Verwendung von [**getnlsversion**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) oder [**GetNLSVersionEx**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) kann die Anwendung bestimmen, ob sich eine NLS-Änderung auf das für eine bestimmte Indextabelle verwendete Gebiets Schema auswirkt.</span><span class="sxs-lookup"><span data-stu-id="e62b9-285">Use of [**GetNLSVersion**](/windows/desktop/api/Winnls/nf-winnls-getnlsversion) or [**GetNLSVersionEx**](/windows/desktop/api/Winnls/nf-winnls-getnlsversionex) allows the application to determine if an NLS change affects the locale used for a particular index table.</span></span> <span data-ttu-id="e62b9-286">Wenn die Änderung keine Auswirkungen auf das Gebiets Schema hat, muss die Anwendung die Tabelle nicht neu indizieren.</span><span class="sxs-lookup"><span data-stu-id="e62b9-286">If the change has no effect on the locale, the application has no need to re-index the table.</span></span>

## <a name="examples"></a><span data-ttu-id="e62b9-287">Beispiele</span><span class="sxs-lookup"><span data-stu-id="e62b9-287">Examples</span></span>

<span data-ttu-id="e62b9-288">In der folgenden Tabelle werden die Auswirkungen bestimmter Flags veranschaulicht, die mit den Sortierfunktionen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-288">The following table illustrates the effects of certain flags used with the sorting functions.</span></span> <span data-ttu-id="e62b9-289">In jedem Fall bestimmt die Auswahl der Flags, ob zwei verschiedene Zeichen zu Sortier Zwecken als gleich betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="e62b9-289">In each case, the selection of flags determines whether two different characters are considered equal for sorting purposes.</span></span>



| <span data-ttu-id="e62b9-290">Zeichen 1</span><span class="sxs-lookup"><span data-stu-id="e62b9-290">Character 1</span></span>                                                        | <span data-ttu-id="e62b9-291">Zeichen 2</span><span class="sxs-lookup"><span data-stu-id="e62b9-291">Character 2</span></span>                                             | <span data-ttu-id="e62b9-292">Standard</span><span class="sxs-lookup"><span data-stu-id="e62b9-292">Default</span></span> | <span data-ttu-id="e62b9-293">Norm \_ IgnoreWidth</span><span class="sxs-lookup"><span data-stu-id="e62b9-293">NORM\_IGNOREWIDTH</span></span> | <span data-ttu-id="e62b9-294">Norm \_ ignorekana</span><span class="sxs-lookup"><span data-stu-id="e62b9-294">NORM\_IGNOREKANA</span></span> | <span data-ttu-id="e62b9-295">Norm \_ IgnoreWidth </span><span class="sxs-lookup"><span data-stu-id="e62b9-295">NORM\_IGNOREWIDTH</span></span>\| <span data-ttu-id="e62b9-296">Normignorekana</span><span class="sxs-lookup"><span data-stu-id="e62b9-296">NORMIGNOREKANA</span></span> |
|--------------------------------------------------------------------|---------------------------------------------------------|---------|-------------------|------------------|------------------------------------|
| <span data-ttu-id="e62b9-297">"あ"</span><span class="sxs-lookup"><span data-stu-id="e62b9-297">"あ"</span></span><br/> <span data-ttu-id="e62b9-298">U + 3042 Hiragana-Buchstabe A</span><span class="sxs-lookup"><span data-stu-id="e62b9-298">U+3042 HIRAGANA LETTER A</span></span><br/>                | <span data-ttu-id="e62b9-299">"ガ"</span><span class="sxs-lookup"><span data-stu-id="e62b9-299">"ガ"</span></span><br/> <span data-ttu-id="e62b9-300">U + 30A2 Katakana-Buchstabe A</span><span class="sxs-lookup"><span data-stu-id="e62b9-300">U+30A2 KATAKANA LETTER A</span></span><br/>     | <span data-ttu-id="e62b9-301">Ungleich</span><span class="sxs-lookup"><span data-stu-id="e62b9-301">Unequal</span></span> | <span data-ttu-id="e62b9-302">Ungleich</span><span class="sxs-lookup"><span data-stu-id="e62b9-302">Unequal</span></span>           | <span data-ttu-id="e62b9-303">Equal</span><span class="sxs-lookup"><span data-stu-id="e62b9-303">Equal</span></span>            | <span data-ttu-id="e62b9-304">Equal</span><span class="sxs-lookup"><span data-stu-id="e62b9-304">Equal</span></span>                              |
| <span data-ttu-id="e62b9-305">"ｵ"</span><span class="sxs-lookup"><span data-stu-id="e62b9-305">"ｵ"</span></span><br/> <span data-ttu-id="e62b9-306">U + FF75 halbwidth Katakana-Buchstabe O</span><span class="sxs-lookup"><span data-stu-id="e62b9-306">U+FF75 HALFWIDTH KATAKANA LETTER O</span></span><br/>       | <span data-ttu-id="e62b9-307">"オ"</span><span class="sxs-lookup"><span data-stu-id="e62b9-307">"オ"</span></span><br/> <span data-ttu-id="e62b9-308">U + 30aa Katakana-Buchstabe O</span><span class="sxs-lookup"><span data-stu-id="e62b9-308">U+30AA KATAKANA LETTER O</span></span><br/>     | <span data-ttu-id="e62b9-309">Ungleich</span><span class="sxs-lookup"><span data-stu-id="e62b9-309">Unequal</span></span> | <span data-ttu-id="e62b9-310">Equal</span><span class="sxs-lookup"><span data-stu-id="e62b9-310">Equal</span></span>             | <span data-ttu-id="e62b9-311">Ungleich</span><span class="sxs-lookup"><span data-stu-id="e62b9-311">Unequal</span></span>          | <span data-ttu-id="e62b9-312">Equal</span><span class="sxs-lookup"><span data-stu-id="e62b9-312">Equal</span></span>                              |
| <span data-ttu-id="e62b9-313">B</span><span class="sxs-lookup"><span data-stu-id="e62b9-313">"Ｂ"</span></span><br/> <span data-ttu-id="e62b9-314">U + FF22 vollwidth Lateinische Großbuchstaben B</span><span class="sxs-lookup"><span data-stu-id="e62b9-314">U+FF22 FULLWIDTH LATIN CAPITAL LETTER B</span></span><br/> | <span data-ttu-id="e62b9-315">„B“</span><span class="sxs-lookup"><span data-stu-id="e62b9-315">"B"</span></span><br/> <span data-ttu-id="e62b9-316">U + 0042 Lateinische Großbuchstaben B</span><span class="sxs-lookup"><span data-stu-id="e62b9-316">U+0042 LATIN CAPITAL LETTER B</span></span><br/> | <span data-ttu-id="e62b9-317">Ungleich</span><span class="sxs-lookup"><span data-stu-id="e62b9-317">Unequal</span></span> | <span data-ttu-id="e62b9-318">Equal</span><span class="sxs-lookup"><span data-stu-id="e62b9-318">Equal</span></span>             | <span data-ttu-id="e62b9-319">Ungleich</span><span class="sxs-lookup"><span data-stu-id="e62b9-319">Unequal</span></span>          | <span data-ttu-id="e62b9-320">Equal</span><span class="sxs-lookup"><span data-stu-id="e62b9-320">Equal</span></span>                              |



 

## <a name="related-topics"></a><span data-ttu-id="e62b9-321">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="e62b9-321">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e62b9-322">Verwenden der Unterstützung für nationale Sprache</span><span class="sxs-lookup"><span data-stu-id="e62b9-322">Using National Language Support</span></span>](using-national-language-support.md)
</dt> <dt>

[<span data-ttu-id="e62b9-323">Sortierung</span><span class="sxs-lookup"><span data-stu-id="e62b9-323">Sorting</span></span>](sorting.md)
</dt> <dt>

[<span data-ttu-id="e62b9-324">Abrufen und Festlegen von Gebiets Schema Informationen</span><span class="sxs-lookup"><span data-stu-id="e62b9-324">Retrieving and Setting Locale Information</span></span>](retrieving-and-setting-locale-information.md)
</dt> <dt>

[<span data-ttu-id="e62b9-325">Verwenden der Unicode-Normalisierung zur Darstellung von Zeichen folgen</span><span class="sxs-lookup"><span data-stu-id="e62b9-325">Using Unicode Normalization to Represent Strings</span></span>](using-unicode-normalization-to-represent-strings.md)
</dt> <dt>

[<span data-ttu-id="e62b9-326">Überlegungen zur Sicherheit: Internationale Features</span><span class="sxs-lookup"><span data-stu-id="e62b9-326">Security Considerations: International Features</span></span>](security-considerations--international-features.md)
</dt> <dt>

[<span data-ttu-id="e62b9-327">**CompareString**</span><span class="sxs-lookup"><span data-stu-id="e62b9-327">**CompareString**</span></span>](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw)
</dt> <dt>

[<span data-ttu-id="e62b9-328">**Comparestringex**</span><span class="sxs-lookup"><span data-stu-id="e62b9-328">**CompareStringEx**</span></span>](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex)
</dt> <dt>

[<span data-ttu-id="e62b9-329">**CompareStringOrdinal**</span><span class="sxs-lookup"><span data-stu-id="e62b9-329">**CompareStringOrdinal**</span></span>](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal)
</dt> <dt>

[<span data-ttu-id="e62b9-330">**Findnlsstring**</span><span class="sxs-lookup"><span data-stu-id="e62b9-330">**FindNLSString**</span></span>](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)
</dt> <dt>

[<span data-ttu-id="e62b9-331">**Findnlsstringex**</span><span class="sxs-lookup"><span data-stu-id="e62b9-331">**FindNLSStringEx**</span></span>](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex)
</dt> <dt>

[<span data-ttu-id="e62b9-332">**LCMapString**</span><span class="sxs-lookup"><span data-stu-id="e62b9-332">**LCMapString**</span></span>](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa)
</dt> <dt>

[<span data-ttu-id="e62b9-333">**Lcmapstringex**</span><span class="sxs-lookup"><span data-stu-id="e62b9-333">**LCMapStringEx**</span></span>](/windows/desktop/api/Winnls/nf-winnls-lcmapstringex)
</dt> </dl>

 

 
