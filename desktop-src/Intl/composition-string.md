---
description: Die Kompositions Zeichenfolge ist der aktuelle Text im Zusammenfassungs Fenster.
ms.assetid: ab226567-f68d-4fa4-9ead-e9bfabde927e
title: Kompositions Zeichenfolge
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e5cb63163ca9a8076edc4d01053e4baeffc619c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103959875"
---
# <a name="composition-string"></a><span data-ttu-id="3a88c-103">Kompositions Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="3a88c-103">Composition String</span></span>

<span data-ttu-id="3a88c-104">Die Kompositions Zeichenfolge ist der aktuelle Text im Zusammenfassungs Fenster.</span><span class="sxs-lookup"><span data-stu-id="3a88c-104">The composition string is the current text in the composition window.</span></span> <span data-ttu-id="3a88c-105">Dies ist der Text, den der IME in abschließende Zeichen konvertiert.</span><span class="sxs-lookup"><span data-stu-id="3a88c-105">This is the text that the IME converts to final characters.</span></span> <span data-ttu-id="3a88c-106">Jede Kompositions Zeichenfolge besteht aus einer oder mehreren "Klauseln".</span><span class="sxs-lookup"><span data-stu-id="3a88c-106">Each composition string consists of one or more "clauses".</span></span> <span data-ttu-id="3a88c-107">Eine-Klausel ist die kleinste Kombination von Zeichen, die von IME in ein endgültiges Zeichen konvertiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="3a88c-107">A clause is the smallest combination of characters that the IME can convert to a final character.</span></span> <span data-ttu-id="3a88c-108">Um die Kompositions Zeichenfolge zu erhalten und festzulegen, ruft die Anwendung die Funktionen " [**immgetcompositionstring**](/windows/desktop/api/Imm/nf-imm-immgetcompositionstringa) " bzw. " [**immsetcompositionstring**](/windows/desktop/api/Imm/nf-imm-immsetcompositionstringa) " auf.</span><span class="sxs-lookup"><span data-stu-id="3a88c-108">To get and set the composition string, the application calls the [**ImmGetCompositionString**](/windows/desktop/api/Imm/nf-imm-immgetcompositionstringa) and [**ImmSetCompositionString**](/windows/desktop/api/Imm/nf-imm-immsetcompositionstringa) functions, respectively.</span></span>

<span data-ttu-id="3a88c-109">Wenn der Benutzer Text im Kompositionsfenster eingibt, verfolgt der IME den Status der Kompositions Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="3a88c-109">As the user enters text in the composition window, the IME tracks the status of the composition string.</span></span> <span data-ttu-id="3a88c-110">Dieser Status umfasst Attributinformationen, klauselinformationen, Typisierungs Informationen und Cursorposition.</span><span class="sxs-lookup"><span data-stu-id="3a88c-110">This status includes attribute information, clause information, typing information, and cursor position.</span></span> <span data-ttu-id="3a88c-111">Die Anwendung kann den Kompositions Status mithilfe der [**immgetcompositionstring**](/windows/desktop/api/Imm/nf-imm-immgetcompositionstringa) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-111">The application can retrieve the composition status by using the [**ImmGetCompositionString**](/windows/desktop/api/Imm/nf-imm-immgetcompositionstringa) function.</span></span>

<span data-ttu-id="3a88c-112">Attributinformationen werden in einem Array von 8-Bit-Werten gerendert, das den Status der Zeichen in der Kompositions Zeichenfolge angibt.</span><span class="sxs-lookup"><span data-stu-id="3a88c-112">Attribute information is rendered in an array of 8-bit values that specifies the status of characters in the composition string.</span></span> <span data-ttu-id="3a88c-113">Alle Zeichen einer-Klausel müssen das gleiche-Attribut aufweisen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-113">All characters of one clause must have the same attribute.</span></span> <span data-ttu-id="3a88c-114">Das Array enthält einen Wert für jedes Byte in der Zeichenfolge, einschließlich jeweils einem Byte für die führenden und zweiten Bytes von Doppelbyte Zeichen in der Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="3a88c-114">The array includes one value for each byte in the string, including one byte each for the lead and second bytes of any double-byte characters in the string.</span></span> <span data-ttu-id="3a88c-115">Für jeden Wert im Array können Bits 0 bis 3 eine Kombination der folgenden Werte sein.</span><span class="sxs-lookup"><span data-stu-id="3a88c-115">For each value in the array, bits 0 through 3 can be one combination of the following values.</span></span>



| <span data-ttu-id="3a88c-116">Wert</span><span class="sxs-lookup"><span data-stu-id="3a88c-116">Value</span></span>                      | <span data-ttu-id="3a88c-117">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="3a88c-117">Meaning</span></span>                                                                                                   |
|----------------------------|-----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3a88c-118">attr- \_ Eingabe</span><span class="sxs-lookup"><span data-stu-id="3a88c-118">ATTR\_INPUT</span></span>                | <span data-ttu-id="3a88c-119">Das Zeichen, das vom Benutzer eingegeben wird.</span><span class="sxs-lookup"><span data-stu-id="3a88c-119">Character being entered by the user.</span></span> <span data-ttu-id="3a88c-120">Der IME muss dieses Zeichen noch konvertieren.</span><span class="sxs-lookup"><span data-stu-id="3a88c-120">The IME has yet to convert this character.</span></span>                           |
| <span data-ttu-id="3a88c-121">attr- \_ Eingabe \_ Fehler</span><span class="sxs-lookup"><span data-stu-id="3a88c-121">ATTR\_INPUT\_ERROR</span></span>         | <span data-ttu-id="3a88c-122">Ein Fehler Zeichen, das vom IME nicht konvertiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="3a88c-122">An error character that the IME cannot convert.</span></span> <span data-ttu-id="3a88c-123">Der IME kann z. b. einige Konsonanten nicht kombinieren.</span><span class="sxs-lookup"><span data-stu-id="3a88c-123">For example, the IME cannot put together some consonants.</span></span> |
| <span data-ttu-id="3a88c-124">attr- \_ Ziel \_ konvertiert</span><span class="sxs-lookup"><span data-stu-id="3a88c-124">ATTR\_TARGET\_CONVERTED</span></span>    | <span data-ttu-id="3a88c-125">Das Zeichen, das vom Benutzer ausgewählt und dann vom IME konvertiert wurde.</span><span class="sxs-lookup"><span data-stu-id="3a88c-125">Character selected by the user and then converted by the IME.</span></span>                                             |
| <span data-ttu-id="3a88c-126">konvertiert in attr \_</span><span class="sxs-lookup"><span data-stu-id="3a88c-126">ATTR\_CONVERTED</span></span>            | <span data-ttu-id="3a88c-127">Zeichen, das der IME bereits konvertiert hat.</span><span class="sxs-lookup"><span data-stu-id="3a88c-127">Character that the IME has already converted.</span></span>                                                             |
| <span data-ttu-id="3a88c-128">attr- \_ Ziel als \_ notkonvertiert</span><span class="sxs-lookup"><span data-stu-id="3a88c-128">ATTR\_TARGET\_NOTCONVERTED</span></span> | <span data-ttu-id="3a88c-129">Das Zeichen, das konvertiert wird.</span><span class="sxs-lookup"><span data-stu-id="3a88c-129">Character being converted.</span></span> <span data-ttu-id="3a88c-130">Der Benutzer hat dieses Zeichen ausgewählt, aber es wurde noch nicht von IME konvertiert.</span><span class="sxs-lookup"><span data-stu-id="3a88c-130">The user has selected this character but the IME has not yet converted it.</span></span>     |
| <span data-ttu-id="3a88c-131">attr \_ fixedkonvertierte</span><span class="sxs-lookup"><span data-stu-id="3a88c-131">ATTR\_FIXEDCONVERTED</span></span>       | <span data-ttu-id="3a88c-132">Zeichen, die vom IME nicht mehr konvertiert werden.</span><span class="sxs-lookup"><span data-stu-id="3a88c-132">Characters that the IME will no longer convert.</span></span>                                                           |



 

<span data-ttu-id="3a88c-133">Alle anderen Werte sind reserviert.</span><span class="sxs-lookup"><span data-stu-id="3a88c-133">All other values are reserved.</span></span> <span data-ttu-id="3a88c-134">In Japanisch handelt es sich bei allen nicht konvertierten Zeichen, die über das Eingabe Attribut "attr" verfügen, \_ um ein Hiragana-, Katakana-oder alphanumerisches Zeichen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-134">In Japanese, any unconverted character having the ATTR\_INPUT attribute is a hiragana, katakana, or alphanumeric character.</span></span> <span data-ttu-id="3a88c-135">In Koreanisch stellt dieses Attribut ein Hangul-Zeichen dar, das der IME noch nicht konvertiert hat.</span><span class="sxs-lookup"><span data-stu-id="3a88c-135">In Korean, this attribute represents a Hangul character that the IME has not yet converted.</span></span> <span data-ttu-id="3a88c-136">In traditionellem Chinesisch und Chinesisch (vereinfacht) kann jede IME Ihr Zeichen innerhalb eines Bereichs einschränken.</span><span class="sxs-lookup"><span data-stu-id="3a88c-136">In Traditional Chinese and Simplified Chinese, each IME can limit its character within some range.</span></span>

<span data-ttu-id="3a88c-137">Die im Kompositions Zeichen folgen Status enthaltenen klauselinformationen sind ein Array von 32-Bit-Werten, das die Positionen der Klauseln in der Kompositions Zeichenfolge angibt.</span><span class="sxs-lookup"><span data-stu-id="3a88c-137">The clause information included in the composition string status is an array of 32-bit values that specifies the positions of the clauses in the composition string.</span></span> <span data-ttu-id="3a88c-138">Das Array enthält einen Wert für jede Klausel und einen Endwert, der die Länge der vollständigen Zeichenfolge angibt.</span><span class="sxs-lookup"><span data-stu-id="3a88c-138">The array includes one value for each clause and a final value that specifies the length of the full string.</span></span> <span data-ttu-id="3a88c-139">Jeder Wert im Array gibt den Offset (in Bytes) vom Anfang der Zeichenfolge bis zur-Klausel an.</span><span class="sxs-lookup"><span data-stu-id="3a88c-139">Each value in the array specifies the offset, in bytes, from the beginning of the string to the clause.</span></span> <span data-ttu-id="3a88c-140">Der erste Wert ist immer 0, da die erste Klausel immer am Anfang der Zeichenfolge beginnt.</span><span class="sxs-lookup"><span data-stu-id="3a88c-140">The first value is always 0 because the first clause always starts at the beginning of the string.</span></span> <span data-ttu-id="3a88c-141">Wenn eine Zeichenfolge z. b. über zwei Klauseln verfügt, enthält die klauselinformationen drei Werte: der erste Wert ist 0, der zweite Wert der Offset der zweiten Klausel, und der dritte Wert ist die Länge der Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="3a88c-141">For example, if a string has two clauses, the clause information has three values: the first value is 0, the second value is the offset of the second clause, and the third value is the length of the string.</span></span> <span data-ttu-id="3a88c-142">Bei Unicode wird die Position einer Klausel in Unicode-Zeichen gezählt, und die Länge einer Zeichenfolge entspricht der Größe in Unicode-Zeichen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-142">For Unicode, the position of a clause is counted in Unicode characters, and the length of a string is the size in Unicode characters.</span></span>

<span data-ttu-id="3a88c-143">Die im Kompositions Zeichen folgen Status enthaltenen Typisierungs Informationen sind eine auf NULL endenden Zeichenfolge, die die Zeichen darstellt, die der Benutzer auf der Tastatur eingibt.</span><span class="sxs-lookup"><span data-stu-id="3a88c-143">The typing information included in the composition string status is a null-terminated character string representing the characters that the user enters at the keyboard.</span></span>

<span data-ttu-id="3a88c-144">Die Cursorposition, die in den Kompositions Zeichen folgen Status eingeschlossen ist, ist ein Wert, der die Position des Cursors relativ zu den Zeichen in der Kompositions Zeichenfolge angibt.</span><span class="sxs-lookup"><span data-stu-id="3a88c-144">The cursor position included in the composition string status is a value indicating the position of the cursor relative to the characters in the composition string.</span></span> <span data-ttu-id="3a88c-145">Der Wert ist der Offset (in Bytes) vom Anfang der Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="3a88c-145">The value is the offset, in bytes, from the beginning of the string.</span></span> <span data-ttu-id="3a88c-146">Wenn dieser Wert 0 ist, befindet sich der Cursor unmittelbar vor dem ersten Zeichen in der Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="3a88c-146">If this value is 0, the cursor is immediately before the first character in the string.</span></span> <span data-ttu-id="3a88c-147">Wenn der Wert gleich der Länge der Zeichenfolge ist, liegt der Cursor unmittelbar hinter dem letzten Zeichen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-147">If the value is equal to the length of the string, the cursor is immediately after the last character.</span></span> <span data-ttu-id="3a88c-148">Wenn der Wert 1 ist, ist der Cursor nicht vorhanden.</span><span class="sxs-lookup"><span data-stu-id="3a88c-148">If the value is 1, the cursor is not present.</span></span> <span data-ttu-id="3a88c-149">Bei Unicode werden sowohl Position als auch Länge in Unicode-Zeichen gemessen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-149">For Unicode, both position and length are measured in Unicode characters.</span></span>

<span data-ttu-id="3a88c-150">Die Anwendung kann die Kompositions Zeichenfolge oder Elemente des Kompositions Status mithilfe der [**immsetcompositionstring**](/windows/desktop/api/Imm/nf-imm-immsetcompositionstringa) -Funktion festlegen.</span><span class="sxs-lookup"><span data-stu-id="3a88c-150">Your application can set the composition string or elements of the composition status by using the [**ImmSetCompositionString**](/windows/desktop/api/Imm/nf-imm-immsetcompositionstringa) function.</span></span> <span data-ttu-id="3a88c-151">Um sicherzustellen, dass das Kompositionsfenster seine Darstellung anhand dieser Änderungen aktualisiert, ermöglicht die Funktion der Anwendung, eine Benachrichtigungs Meldung an das Fenster zu senden.</span><span class="sxs-lookup"><span data-stu-id="3a88c-151">To ensure that the composition window updates its appearance based on these changes, the function allows the application to send a notification message to the window.</span></span> <span data-ttu-id="3a88c-152">Anwendungen, die eine Kombination aus Kompositions Status Elementen festlegen, deaktivieren in der Regel Benachrichtigungen für alle außer den letzten Aufrufe dieser Funktion, sodass nur eine Benachrichtigungs Meldung für das Kompositionsfenster generiert wird.</span><span class="sxs-lookup"><span data-stu-id="3a88c-152">Applications that set a combination of composition status elements typically disable notifications for all but the last call to this function so that only one notification message is generated for the composition window.</span></span>

<span data-ttu-id="3a88c-153">Zum Schluss unterstützt das Bearbeitungs Steuerelement zwei Nachrichten zum Ändern der Verarbeitung von Kompositions Zeichenfolgen durch den IME.</span><span class="sxs-lookup"><span data-stu-id="3a88c-153">Finally, the edit control supports two messages for changing the handling of composition strings by the IME.</span></span> <span data-ttu-id="3a88c-154">Weitere Informationen finden Sie unter [**EM \_ getimestatus**](../controls/em-getimestatus.md) und [**EM- \_ Zeit Status**](../controls/em-setimestatus.md).</span><span class="sxs-lookup"><span data-stu-id="3a88c-154">For more information, see [**EM\_GETIMESTATUS**](../controls/em-getimestatus.md) and [**EM\_SETIMESTATUS**](../controls/em-setimestatus.md).</span></span> <span data-ttu-id="3a88c-155">Weitere Informationen zum Bearbeitungs Steuerelement finden Sie unter [Edit Control](../controls/edit-controls.md).</span><span class="sxs-lookup"><span data-stu-id="3a88c-155">For more information on the edit control, see [Edit Control](../controls/edit-controls.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="3a88c-156">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="3a88c-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3a88c-157">Informationen über den Eingabemethoden-Manager</span><span class="sxs-lookup"><span data-stu-id="3a88c-157">About Input Method Manager</span></span>](about-input-method-manager.md)
</dt> </dl>

 

 
