---
description: Dieses Thema enthält Informationen zu Sicherheitsüberlegungen im Zusammenhang mit internationalen Support Features.
ms.assetid: 4034f479-ad29-4c6f-82c6-977f420c4d4d
title: 'Überlegungen zur Sicherheit: Internationale Features'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aeb9f8b849e9fb1a07f01031832449b9c9027ae5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104218549"
---
# <a name="security-considerations-international-features"></a><span data-ttu-id="196df-103">Überlegungen zur Sicherheit: Internationale Features</span><span class="sxs-lookup"><span data-stu-id="196df-103">Security Considerations: International Features</span></span>

<span data-ttu-id="196df-104">Dieses Thema enthält Informationen zu Sicherheitsüberlegungen im Zusammenhang mit internationalen Support Features.</span><span class="sxs-lookup"><span data-stu-id="196df-104">This topic provides information about security considerations related to International Support features.</span></span> <span data-ttu-id="196df-105">Sie können Sie als Ausgangspunkt verwenden und dann die Dokumentation für die internationale Technologie von Interesse für technologiespezifische Sicherheitsüberlegungen ansehen.</span><span class="sxs-lookup"><span data-stu-id="196df-105">You can use it as a starting point and then see the documentation for the international technology of interest for technology-specific security considerations.</span></span>

<span data-ttu-id="196df-106">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="196df-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="196df-107">Sicherheitsüberlegungen für Zeichen Konvertierungs Funktionen</span><span class="sxs-lookup"><span data-stu-id="196df-107">Security Considerations for Character Conversion Functions</span></span>](#security-considerations-for-character-conversion-functions)
-   [<span data-ttu-id="196df-108">Sicherheitsüberlegungen für Vergleichsfunktionen</span><span class="sxs-lookup"><span data-stu-id="196df-108">Security Considerations for Comparison Functions</span></span>](#security-considerations-for-comparison-functions)
-   [<span data-ttu-id="196df-109">Sicherheitsüberlegungen für Zeichensätze in Dateinamen</span><span class="sxs-lookup"><span data-stu-id="196df-109">Security Considerations for Character Sets in File Names</span></span>](#security-considerations-for-character-sets-in-file-names)
-   [<span data-ttu-id="196df-110">Sicherheitsüberlegungen für internationalisierte Domänen Namen</span><span class="sxs-lookup"><span data-stu-id="196df-110">Security Considerations for Internationalized Domain Names</span></span>](#security-considerations-for-internationalized-domain-names)
-   [<span data-ttu-id="196df-111">Sicherheitsüberlegungen für ANSI-Funktionen</span><span class="sxs-lookup"><span data-stu-id="196df-111">Security Considerations for ANSI Functions</span></span>](#security-considerations-for-ansi-functions)
-   [<span data-ttu-id="196df-112">Sicherheitsüberlegungen für die Unicode-Normalisierung</span><span class="sxs-lookup"><span data-stu-id="196df-112">Security Considerations for Unicode Normalization</span></span>](#security-considerations-for-unicode-normalization)

## <a name="security-considerations-for-character-conversion-functions"></a><span data-ttu-id="196df-113">Sicherheitsüberlegungen für Zeichen Konvertierungs Funktionen</span><span class="sxs-lookup"><span data-stu-id="196df-113">Security Considerations for Character Conversion Functions</span></span>

<span data-ttu-id="196df-114">" [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) " und " [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) " sind die Unicode-und Zeichensatz Funktionen, die am häufigsten zum Konvertieren von Zeichen zwischen ANSI und Unicode verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="196df-114">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) are the Unicode and character set functions most commonly used to convert characters between ANSI and Unicode.</span></span> <span data-ttu-id="196df-115">Diese Funktionen haben das Potenzial, Sicherheitsrisiken zu verursachen, da Sie die Elemente der Eingabe-und Ausgabepuffer anders zählen.</span><span class="sxs-lookup"><span data-stu-id="196df-115">These functions have the potential of causing security risks because they count the elements of the input and output buffers differently.</span></span> <span data-ttu-id="196df-116">Beispielsweise nimmt [**multibyteeswidechar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) einen in Bytes gezählten Eingabepuffer an und versetzt die konvertierten Zeichen in eine Puffergröße in Unicode-Zeichen.</span><span class="sxs-lookup"><span data-stu-id="196df-116">For example, [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) takes an input buffer counted in bytes and puts the converted characters into a buffer sized in Unicode characters.</span></span> <span data-ttu-id="196df-117">Wenn Ihre Anwendung diese Funktion verwendet, muss Sie die Puffer ordnungsgemäß verkleinern, um einen Pufferüberlauf zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="196df-117">When your application uses this function, it must size the buffers correctly to avoid a buffer overrun.</span></span>

<span data-ttu-id="196df-118">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) ist standardmäßig auf die "beste Anpassung"-Zuordnung für Codepages, z. b. 1252.</span><span class="sxs-lookup"><span data-stu-id="196df-118">[**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) defaults to "best fit" mapping for code pages, such as 1252.</span></span> <span data-ttu-id="196df-119">Diese Art von Zuordnung ermöglicht jedoch mehrere Darstellungen derselben Zeichenfolge, sodass die Anwendung möglicherweise anfällig für Angriffe wird.</span><span class="sxs-lookup"><span data-stu-id="196df-119">However, this type of mapping allows multiple representations of the same string, potentially leaving your application vulnerable to attack.</span></span> <span data-ttu-id="196df-120">Beispielsweise kann der lateinische Großbuchstabe a mit der Dieresis ("Ä") dem lateinischen Großbuchstaben a ("a") zugeordnet werden. ein Unicode-Zeichen in einer asiatischen Sprache kann einem Schrägstrich ("/") zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="196df-120">For example, Latin capital letter A with dieresis ("Ä") might map to Latin capital letter A ("A"); a Unicode character in an Asian language might map to a slash ("/").</span></span> <span data-ttu-id="196df-121">Die Verwendung des Flags "WC \_ No \_ Best \_ fit \_ chars" wird aus Sicherheitsgründen bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="196df-121">The use of the WC\_NO\_BEST\_FIT\_CHARS flag is preferred from a security perspective.</span></span>

<span data-ttu-id="196df-122">Einige Codepages, z. b. die Codepages 5022x (ISO-2022-x), sind grundsätzlich unsicher, da Sie mehrere Darstellungen derselben Zeichenfolge zulassen.</span><span class="sxs-lookup"><span data-stu-id="196df-122">Some code pages, for example, the 5022x (iso-2022-x) code pages, are inherently insecure because they allow multiple representations of the same string.</span></span> <span data-ttu-id="196df-123">Ordnungsgemäß geschriebener Code führt Sicherheitsüberprüfungen im Unicode-Format durch. diese Typen von Codepages erweitern jedoch die Angriffs Anfälligkeit ihrer Anwendungen und sollten nach Möglichkeit vermieden werden.</span><span class="sxs-lookup"><span data-stu-id="196df-123">Properly written code performs security checks in the Unicode form, but these types of code pages expand the attack susceptibility of your applications and should be avoided if possible.</span></span>

## <a name="security-considerations-for-comparison-functions"></a><span data-ttu-id="196df-124">Sicherheitsüberlegungen für Vergleichsfunktionen</span><span class="sxs-lookup"><span data-stu-id="196df-124">Security Considerations for Comparison Functions</span></span>

<span data-ttu-id="196df-125">Zeichen folgen Vergleiche können Sicherheitsprobleme darstellen.</span><span class="sxs-lookup"><span data-stu-id="196df-125">String comparisons can potentially present security issues.</span></span> <span data-ttu-id="196df-126">Da alle Vergleichsfunktionen etwas verschieden sind, meldet eine Funktion möglicherweise zwei Zeichen folgen als gleich, während Sie von einer anderen Funktion unterschiedlich betrachtet werden können.</span><span class="sxs-lookup"><span data-stu-id="196df-126">Because all comparison functions are slightly different, one function might report two strings as equal, while another function might consider them distinct.</span></span> <span data-ttu-id="196df-127">Die folgenden Funktionen können von Ihren Anwendungen zum Vergleichen von Zeichen folgen verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="196df-127">The following are several functions your applications can use to compare strings:</span></span>

-   <span data-ttu-id="196df-128">[lstrincmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="196df-128">[lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span> <span data-ttu-id="196df-129">Vergleicht zwei Zeichen folgen gemäß den Regeln des Gebiets Schemas ohne Berücksichtigung der Groß-/Kleinschreibung.</span><span class="sxs-lookup"><span data-stu-id="196df-129">Compares two character strings according to the rules of the locale, without case-sensitivity.</span></span> <span data-ttu-id="196df-130">Die-Funktion vergleicht die Zeichen folgen, indem die ersten Zeichen gegenseitig überprüft werden, die zweiten Zeichen gegenseitig usw., bis eine Ungleichheit gefunden wird oder die Enden der Zeichen folgen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="196df-130">The function compares the strings by checking the first characters against each other, the second characters against each other, and so on, until it finds an inequality or reaches the ends of the strings.</span></span>
-   <span data-ttu-id="196df-131">[lstraucmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa).</span><span class="sxs-lookup"><span data-stu-id="196df-131">[lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa).</span></span> <span data-ttu-id="196df-132">Vergleicht Zeichen folgen mit ähnlichen Techniken wie [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span><span class="sxs-lookup"><span data-stu-id="196df-132">Compares strings using techniques similar to those of [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia).</span></span> <span data-ttu-id="196df-133">Der einzige Unterschied besteht darin, dass [lstraucmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) einen Zeichen folgen Vergleich mit Berücksichtigung von Groß-und Kleinschreibung</span><span class="sxs-lookup"><span data-stu-id="196df-133">The only difference is that [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) performs a case-sensitive string comparison.</span></span>
-   <span data-ttu-id="196df-134">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) (Windows Vista und höher).</span><span class="sxs-lookup"><span data-stu-id="196df-134">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) (Windows Vista and later).</span></span> <span data-ttu-id="196df-135">Führt einen Zeichen folgen Vergleich für ein vom Anwendungs bereitgestelltes Gebiets Schema aus.</span><span class="sxs-lookup"><span data-stu-id="196df-135">Perform a string comparison on an application-supplied locale.</span></span> <span data-ttu-id="196df-136">[**Comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) ähnelt [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), identifiziert aber ein Gebiets Schema anhand des Gebiets Schema [namens](locale-names.md) anstelle des Gebiets Schema [Bezeichners](locale-identifiers.md).</span><span class="sxs-lookup"><span data-stu-id="196df-136">[**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is similar to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw), but it identifies a locale by [locale name](locale-names.md) instead of [locale identifier](locale-identifiers.md).</span></span> <span data-ttu-id="196df-137">Diese Funktionen ähneln [lstrincmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) und [lstraucmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) , mit dem Unterschied, dass Sie anstelle eines vom Benutzer ausgewählten Gebiets Schemas auf einem bestimmten Gebiets Schema arbeiten.</span><span class="sxs-lookup"><span data-stu-id="196df-137">These functions are similar to [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) except that they operate on a specific locale instead of a user-selected locale.</span></span>
-   <span data-ttu-id="196df-138">[**Comparestringordinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) (Windows Vista und höher).</span><span class="sxs-lookup"><span data-stu-id="196df-138">[**CompareStringOrdinal**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringordinal) (Windows Vista and later).</span></span> <span data-ttu-id="196df-139">Vergleicht zwei Unicode-Zeichen folgen, um binäre Äquivalenz zu testen.</span><span class="sxs-lookup"><span data-stu-id="196df-139">Compares two Unicode strings to test binary equivalence.</span></span> <span data-ttu-id="196df-140">Mit Ausnahme der Option, dass die Groß-/Kleinschreibung nicht beachtet wird, ignoriert diese Funktion alle nicht binären äquivalente und testet alle Code Punkte auf Gleichheit, einschließlich der Code Punkte, die in linguistischen [Sortier](sorting.md) Schemas keine Gewichtung erhalten.</span><span class="sxs-lookup"><span data-stu-id="196df-140">Except for the option of being case-insensitive, this function disregards all non-binary equivalences, and tests all code points for equality, including code points that are not given any weight in linguistic [sorting](sorting.md) schemes.</span></span> <span data-ttu-id="196df-141">Beachten Sie, dass die anderen in diesem Thema erwähnten Vergleichsfunktionen nicht alle Code Punkte auf Gleichheit testen.</span><span class="sxs-lookup"><span data-stu-id="196df-141">Note that the other comparison functions mentioned in this topic do not test all code points for equality.</span></span>
-   <span data-ttu-id="196df-142">[**Findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**findnlsstringex**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) (Windows Vista und höher).</span><span class="sxs-lookup"><span data-stu-id="196df-142">[**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) (Windows Vista and later).</span></span> <span data-ttu-id="196df-143">Eine Unicode-Zeichenfolge in einer anderen Unicode-Zeichenfolge suchen.</span><span class="sxs-lookup"><span data-stu-id="196df-143">Locate a Unicode string in another Unicode string.</span></span> <span data-ttu-id="196df-144">" [**Findnlsstringex**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) " ähnelt " [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)", mit dem Unterschied, dass ein Gebiets Schema nach Gebiets Schema Namen anstelle des Gebiets Schema Bezeichners identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="196df-144">[**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) is similar to [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), except that it identifies a locale by locale name instead of locale identifier.</span></span>
-   <span data-ttu-id="196df-145">[**Findstringordinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal) (Windows 7 und höher).</span><span class="sxs-lookup"><span data-stu-id="196df-145">[**FindStringOrdinal**](/windows/desktop/api/Libloaderapi/nf-libloaderapi-findstringordinal) (Windows 7 and later).</span></span> <span data-ttu-id="196df-146">Gibt eine Unicode-Zeichenfolge in einer anderen Unicode-Zeichenfolge an.</span><span class="sxs-lookup"><span data-stu-id="196df-146">Locates one Unicode string in another Unicode string.</span></span> <span data-ttu-id="196df-147">Die Anwendung sollte diese Funktion anstelle von [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) für alle nicht linguistischen Vergleiche verwenden.</span><span class="sxs-lookup"><span data-stu-id="196df-147">The application should use this function instead of [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) for all non-linguistic comparisons.</span></span>

<span data-ttu-id="196df-148">Wie [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) und [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa)wertet [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) Zeichen folgen Zeichen nach Zeichen aus.</span><span class="sxs-lookup"><span data-stu-id="196df-148">Like [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa), [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) evaluates strings character by character.</span></span> <span data-ttu-id="196df-149">Viele Sprachen haben jedoch Elemente mit mehreren Zeichen, z. b. das zwei-Zeichen-Element "ch" in traditionellem Spanisch.</span><span class="sxs-lookup"><span data-stu-id="196df-149">However, many languages have multiple-character elements, for example, the two-character element "CH" in traditional Spanish.</span></span> <span data-ttu-id="196df-150">Da [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) das von der Anwendung bereitgestellten Gebiets Schema verwendet, um mehrere Zeichen Elemente zu identifizieren, und [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) und [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) das Thread Gebiets Schema verwenden, können identische Zeichen folgen nicht als gleich verglichen werden.</span><span class="sxs-lookup"><span data-stu-id="196df-150">Because [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) uses the locale furnished by the application to identify multiple-character elements and [lstrcmpi](/windows/win32/api/winbase/nf-winbase-lstrcmpia) and [lstrcmp](/windows/win32/api/winbase/nf-winbase-lstrcmpa) use the thread locale, identical strings might not compare as equal.</span></span>

<span data-ttu-id="196df-151">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) ignoriert nicht definierte Zeichen und gibt folglich 0 (null) für viele Zeichen folgen Paare zurück, die sehr unterschiedlich sind.</span><span class="sxs-lookup"><span data-stu-id="196df-151">[**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) ignores undefined characters, and thus returns zero (indicating equal strings) for many string pairs that are quite distinct.</span></span> <span data-ttu-id="196df-152">Eine Zeichenfolge kann Werte enthalten, die keinem Zeichen zugeordnet sind, oder Zeichen mit Semantik außerhalb der Domäne der Anwendung enthalten, wie z. b. Steuerzeichen in einer URL.</span><span class="sxs-lookup"><span data-stu-id="196df-152">A string might contain values that do not map to any character or it might contain characters with semantics outside the domain of the application, such as control characters in a URL.</span></span> <span data-ttu-id="196df-153">Anwendungen, die diese Funktion verwenden, sollten Fehlerhandler und Test Zeichenfolgen bereitstellen, um sicherzustellen, dass Sie gültig sind, bevor Sie verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="196df-153">Applications using this function should provide error handlers and test strings to make sure that they are valid before using them.</span></span>

> [!Note]  
> <span data-ttu-id="196df-154">Für Windows Vista und höher ähnelt [**comparestringex**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span><span class="sxs-lookup"><span data-stu-id="196df-154">For Windows Vista and later, [**CompareStringEx**](/windows/desktop/api/Stringapiset/nf-stringapiset-comparestringex) is similar to [**CompareString**](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw).</span></span> <span data-ttu-id="196df-155">Die Sicherheitsprobleme sind für diese Funktionen identisch.</span><span class="sxs-lookup"><span data-stu-id="196df-155">The security issues are identical for these functions.</span></span>

 

<span data-ttu-id="196df-156">Ähnliche Sicherheitsprobleme gelten für Funktionen wie [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), die implizite Vergleiche durchführen.</span><span class="sxs-lookup"><span data-stu-id="196df-156">Similar security issues apply to functions, such as [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring), that make implicit comparisons.</span></span> <span data-ttu-id="196df-157">Abhängig von den festgelegten Flags können die Ergebnisse des Abrufens von [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) für die Suche nach einer Zeichenfolge in einer anderen Zeichenfolge beträchtlich abweichen.</span><span class="sxs-lookup"><span data-stu-id="196df-157">Depending on the flags that are set, the results of calling [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring) to search for one string within another string can differ considerably.</span></span>

> [!Note]  
> <span data-ttu-id="196df-158">Für Windows Vista und höher ist " [**findnlsstringex**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) " vergleichbar mit " [**findnlsstring**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring)".</span><span class="sxs-lookup"><span data-stu-id="196df-158">For Windows Vista and later, [**FindNLSStringEx**](/windows/desktop/api/Winnls/nf-winnls-findnlsstringex) is similar to [**FindNLSString**](/windows/desktop/api/Winnls/nf-winnls-findnlsstring).</span></span> <span data-ttu-id="196df-159">Die Sicherheitsprobleme sind für diese Funktionen identisch.</span><span class="sxs-lookup"><span data-stu-id="196df-159">The security issues are identical for these functions.</span></span>

 

## <a name="security-considerations-for-character-sets-in-file-names"></a><span data-ttu-id="196df-160">Sicherheitsüberlegungen für Zeichensätze in Dateinamen</span><span class="sxs-lookup"><span data-stu-id="196df-160">Security Considerations for Character Sets in File Names</span></span>

<span data-ttu-id="196df-161">Windows-Codepage-und OEM-Zeichensätze, die auf Systemen japanischer Sprache verwendet werden, enthalten das Yen-Symbol (Yen) anstelle eines umgekehrten Schrägstrichs ( \\ ).</span><span class="sxs-lookup"><span data-stu-id="196df-161">Windows code page and OEM character sets used on Japanese-language systems contain the Yen symbol (¥) instead of a backslash (\\).</span></span> <span data-ttu-id="196df-162">Daher ist das Yen-Zeichen ein unzulässiges Zeichen für NTFS-und FAT-Dateisysteme.</span><span class="sxs-lookup"><span data-stu-id="196df-162">Thus, the Yen character is a prohibited character for NTFS and FAT file systems.</span></span> <span data-ttu-id="196df-163">Bei der Zuordnung von Unicode zu einer japanischen Codepage ordnen Konvertierungs Funktionen den umgekehrten Schrägstrich (u + 005c) und das normale Unicode-Yen-Symbol (u + 00a5) dem gleichen Zeichen zu.</span><span class="sxs-lookup"><span data-stu-id="196df-163">When mapping Unicode to a Japanese-language code page, conversion functions map both backslash (U+005C) and the normal Unicode Yen symbol (U+00A5) to this same character.</span></span> <span data-ttu-id="196df-164">Aus Sicherheitsgründen sollten Ihre Anwendungen in der Regel nicht das Zeichen U + 00a5 in einer Unicode-Zeichenfolge zulassen, die zur Verwendung als FAT-Dateinamen konvertiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="196df-164">For security reasons, your applications should not typically allow the character U+00A5 in a Unicode string that might be converted for use as a FAT file name.</span></span>

## <a name="security-considerations-for-internationalized-domain-names"></a><span data-ttu-id="196df-165">Sicherheitsüberlegungen für internationalisierte Domänen Namen</span><span class="sxs-lookup"><span data-stu-id="196df-165">Security Considerations for Internationalized Domain Names</span></span>

<span data-ttu-id="196df-166">Internationalisierte Domänen Namen (Internationalized Domain Names, IDNs) werden von der Netzwerk Arbeitsgruppe [RFC 3490: internationalisieren von Domänen Namen in Anwendungen (IDNA)](http://www.faqs.org/rfcs/rfc3490.html)angegeben.</span><span class="sxs-lookup"><span data-stu-id="196df-166">Internationalized Domain Names (IDNs) are specified by Network Working Group [RFC 3490: Internationalizing Domain Names in Applications (IDNA)](http://www.faqs.org/rfcs/rfc3490.html).</span></span> <span data-ttu-id="196df-167">Der Standard führt zu einer Reihe von Sicherheitsproblemen.</span><span class="sxs-lookup"><span data-stu-id="196df-167">The standard introduces a number of security issues.</span></span>

<span data-ttu-id="196df-168">Symbole, die bestimmte Zeichen aus unterschiedlichen Skripts darstellen, können ähnlich oder sogar identisch erscheinen.</span><span class="sxs-lookup"><span data-stu-id="196df-168">Glyphs representing certain characters from different scripts might appear similar or even identical.</span></span> <span data-ttu-id="196df-169">Beispielsweise ist in vielen Schriftarten Kyrillisch Kleinbuchstaben a ("a") nicht von lateinischen Kleinbuchstaben a ("a") zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="196df-169">For example, in many fonts, Cyrillic lowercase A ("a") is indistinguishable from Latin lowercase A ("a").</span></span> <span data-ttu-id="196df-170">Es gibt keine Möglichkeit, visuell zu erkennen, dass "example.com" und "example.com" zwei verschiedene Domänen Namen sind, eine mit einem lateinischen Kleinbuchstaben a im Namen, der andere mit einem kyrillischen Kleinbuchstaben a. Eine skrupellose Host Site kann diese visuelle Mehrdeutigkeit verwenden, um zu verhindern, dass eine andere Website in einem Spoofing-Angriff verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="196df-170">There is no way to tell visually that "example.com" and "example.com" are two different domain names,one with a Latin lowercase A in the name, the other with a Cyrillic lowercase A. An unscrupulous host site can use this visual ambiguity to pretend to be another site in a spoofing attack.</span></span>

<span data-ttu-id="196df-171">Der erweiterte Zeichensatz, den IDNA für IDNs zulässt, verfügt in einem bestimmten Skript auch über Spoofing-Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="196df-171">The extended character set that IDNA allows for IDNs also has spoofing potential within a particular script.</span></span> <span data-ttu-id="196df-172">Beispielsweise gibt es eine starke Ähnlichkeit zwischen dem Bindestrich ("-" U + 002D), der Bindestrich ("–" u + 2010), der nicht unterbrechende Bindestrich ("-" u + 2011), der Abbildung Strich ("\u2012" u + 2012), der "en Dash" ("–" u + 2013) und das Minuszeichen ("−" u + 2212).</span><span class="sxs-lookup"><span data-stu-id="196df-172">For example, there is a strong resemblance among the hyphen-minus ("-" U+002D), the hyphen ("—" U+2010), the non-breaking hyphen ("‑" U+2011), the figure dash ("‒" U+2012), the en dash ("–" U+2013), and the minus sign ("−" U+2212).</span></span>

<span data-ttu-id="196df-173">Ähnliche Probleme ergeben sich aus bestimmten Kompatibilitäts Kompositionen.</span><span class="sxs-lookup"><span data-stu-id="196df-173">Similar issues arise from certain compatibility compositions.</span></span> <span data-ttu-id="196df-174">Beispielsweise wird die einzelne Unicode-Zeichen Nummer 20 vollständige Beendigung ("20.", U + 249b) in "20" konvertiert.</span><span class="sxs-lookup"><span data-stu-id="196df-174">For example, the single Unicode character NUMBER TWENTY FULL STOP ("⒛", U+249B) is converted to "20."</span></span> <span data-ttu-id="196df-175">(U + 0032 u + 0030 u + 002e) in einem Nameprep-Schritt vor der Konvertierung in Punycode.</span><span class="sxs-lookup"><span data-stu-id="196df-175">(U+0032 U+0030 U+002E) in a NamePrep step, prior to conversion to Punycode.</span></span> <span data-ttu-id="196df-176">Mit anderen Worten: diese Komposition fügt einen Punkt (vollständiges Ende) ein.</span><span class="sxs-lookup"><span data-stu-id="196df-176">In other words, this composition inserts a period (full stop).</span></span> <span data-ttu-id="196df-177">Solche Kompositionen haben Spoofing-Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="196df-177">Such compositions have spoofing potential.</span></span>

<span data-ttu-id="196df-178">Das Kombinieren verschiedener Skripts in einem IDN deutet nicht notwendigerweise auf Spoofing oder irreführende Absicht hin.</span><span class="sxs-lookup"><span data-stu-id="196df-178">Mixing of different scripts in an IDN does not necessarily indicate spoofing or deceptive intent.</span></span> <span data-ttu-id="196df-179">[Technischer Bericht \# 36: bei Unicode-Sicherheitsüberlegungen](https://www.unicode.org/reports/tr36/#international_domain_names) sind einige Beispiele für angemessene IDNs enthalten, die eine Mischung aus Skripts enthalten, wie z. b. xml-"--", "-".</span><span class="sxs-lookup"><span data-stu-id="196df-179">[Technical Report \#36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names) gives several examples of reasonable IDNs that contain a mix of scripts, such as XML-Документы.com ("Документы" is Russian for "documents").</span></span>

<span data-ttu-id="196df-180">Spoofing-Angriffe sind nicht auf IDNs beschränkt.</span><span class="sxs-lookup"><span data-stu-id="196df-180">Spoofing attacks are not restricted to IDNs.</span></span> <span data-ttu-id="196df-181">Beispiel: "rnicrosoft.com" sieht in etwa wie folgt aus: "Microsoft.com", aber es handelt sich um einen ASCII-Namen.</span><span class="sxs-lookup"><span data-stu-id="196df-181">For example, "rnicrosoft.com" looks much like "microsoft.com", yet it is an ASCII name.</span></span> <span data-ttu-id="196df-182">Außerdem kann ein spoofinganangriff durch eine Beschädigung eines Namens durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="196df-182">Additionally, a spoofing attack can be made by corruption of a name.</span></span> <span data-ttu-id="196df-183">Das Hinzufügen zusätzlicher Bezeichnungen nach einem bekannten Markennamen oder das Einschließen des Marken namens im Pfad einer URL, die als sicher gekennzeichnet ist, kann Anfänger und unabhängig von der Verwendung des IDN verwirren.</span><span class="sxs-lookup"><span data-stu-id="196df-183">Adding extra labels after a well-known brand name, or including the brand name in the path of a URL labeled as secure, can confuse novice users, regardless of the use of the IDN.</span></span> <span data-ttu-id="196df-184">Bei manchen Gebiets Schemas sind IDNs erforderlich, und das Punycode-Format dieser Namen ist nicht akzeptabel, da die Namen wie giberish aussehen.</span><span class="sxs-lookup"><span data-stu-id="196df-184">For some locales, IDNs are required and the Punycode form of these names is unacceptable, since it makes the names look like gibberish.</span></span>

<span data-ttu-id="196df-185">Weitere Informationen zu den hier erwähnten Sicherheitsproblemen sowie eine große Anzahl anderer Probleme, die für IDNA relevant sind, finden Sie unter [technischer Bericht \# 36: Sicherheitsüberlegungen für Unicode](https://www.unicode.org/reports/tr36/#international_domain_names).</span><span class="sxs-lookup"><span data-stu-id="196df-185">For more information about the security issues mentioned here, plus a large number of other issues relevant to IDNA, see [Technical Report \#36: Unicode Security Considerations](https://www.unicode.org/reports/tr36/#international_domain_names).</span></span> <span data-ttu-id="196df-186">Dieser Bericht enthält zusammen mit ausführlichen Erörterung von IDNA-bezogenen Sicherheitsproblemen Vorschläge für den Umgang mit verdächtigen IDNs in Ihren Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="196df-186">Along with detailed discussions of IDNA-related security issues, this report offers suggestions for dealing with suspect IDNs in your applications.</span></span>

## <a name="security-considerations-for-ansi-functions"></a><span data-ttu-id="196df-187">Sicherheitsüberlegungen für ANSI-Funktionen</span><span class="sxs-lookup"><span data-stu-id="196df-187">Security Considerations for ANSI Functions</span></span>

> [!Note]  
> <span data-ttu-id="196df-188">Es wird empfohlen, Unicode in ihren globalisieren zu verwenden, insbesondere in neuen, wenn dies möglich ist.</span><span class="sxs-lookup"><span data-stu-id="196df-188">You are recommended to use Unicode in your globalized applications, particularly new ones, if at all possible.</span></span> <span data-ttu-id="196df-189">ANSI-Funktionen sollten nur verwendet werden, wenn Sie Gründe für die Verwendung von Unicode überschreiben, z. b. die Konformität mit einem älteren Protokoll, das Unicode nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="196df-189">You should use ANSI functions only if you have overriding reasons for not using Unicode, for example, conformance to an older protocol that does not support Unicode.</span></span>

 

<span data-ttu-id="196df-190">Viele nls-Funktionen (National Language Support), wie z. b. [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) und [**getcalendarinfo**](/windows/desktop/api/Winnls/nf-winnls-getcalendarinfoa), haben bestimmte ANSI-Versionen, in diesem Fall **getlocaleinfoa** bzw. **getcalendarinfoa**.</span><span class="sxs-lookup"><span data-stu-id="196df-190">Many National Language Support (NLS) functions, such as [**GetLocaleInfo**](/windows/desktop/api/Winnls/nf-winnls-getlocaleinfoa) and [**GetCalendarInfo**](/windows/desktop/api/Winnls/nf-winnls-getcalendarinfoa), have specific ANSI versions, in this case, **GetLocaleInfoA** and **GetCalendarInfoA**, respectively.</span></span> <span data-ttu-id="196df-191">Wenn Ihre Anwendung die ANSI-Version einer Funktion mit einem Unicode-basierten Betriebssystem verwendet, z. b. Windows NT, Windows 2000, Windows XP oder Windows Vista, kann die Funktion fehlschlagen oder nicht definierte Ergebnisse erzeugen.</span><span class="sxs-lookup"><span data-stu-id="196df-191">When your application uses the ANSI version of a function with a Unicode-based operating system, such as Windows NT, Windows 2000, Windows XP, or Windows Vista, the function can fail or produce undefined results.</span></span> <span data-ttu-id="196df-192">Wenn Sie einen überzeugenden Grund für die Verwendung von ANSI-Funktionen mit einem solchen Betriebssystem haben, stellen Sie sicher, dass die von der Anwendung über gebenden Daten für ANSI gültig sind.</span><span class="sxs-lookup"><span data-stu-id="196df-192">If you have a compelling reason to use ANSI functions with such an operating system, ensure that the data passed by your application is valid for ANSI.</span></span>

## <a name="security-considerations-for-unicode-normalization"></a><span data-ttu-id="196df-193">Sicherheitsüberlegungen für die Unicode-Normalisierung</span><span class="sxs-lookup"><span data-stu-id="196df-193">Security Considerations for Unicode Normalization</span></span>

<span data-ttu-id="196df-194">Da die Unicode-Normalisierung die Form einer Zeichenfolge ändern kann, sollten Sicherheitsmechanismen oder Zeichen Validierungs Algorithmen in der Regel nach der Normalisierung implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="196df-194">Since Unicode normalization can change the form of a string, security mechanisms or character validation algorithms should usually be implemented after normalization.</span></span> <span data-ttu-id="196df-195">Angenommen, eine Anwendung mit einer Weboberfläche akzeptiert einen Dateinamen, akzeptiert aber keinen Pfadnamen.</span><span class="sxs-lookup"><span data-stu-id="196df-195">For example, consider an application with a Web interface that accepts a file name, but does not accept a path name.</span></span> <span data-ttu-id="196df-196">Eine Breite von u + FF43 u + FF1A u + FF3C u + FF57 u + FF49 u + FF4E u + FF44 u + FF4F u + FF57 u + FF53 `(c : \ w i n d o w s)` ändert sich in u + 0063 u + 001A u + 003c u + 0077 u + 0069 u + 006e u + 0064 u + 006f U + 0077 u + 0073 `(c:\windows)` with Form KC Normalisierung.</span><span class="sxs-lookup"><span data-stu-id="196df-196">A full-width U+FF43 U+FF1A U+FF3C U+FF57 U+FF49 U+FF4E U+FF44 U+FF4F U+FF57 U+FF53 `(c : \ w i n d o w s)` changes to U+0063 U+001A U+003C U+0077 U+0069 U+006E U+0064 U+006F U+0077 U+0073 `(c:\windows)` with form KC normalization.</span></span> <span data-ttu-id="196df-197">Wenn eine Anwendung auf das vorhanden sein des Doppelpunkts und umgekehrter Schrägstriche prüft, bevor Sie Normalisierungen implementiert, kann das Ergebnis unbeabsichtigter Dateizugriff sein.</span><span class="sxs-lookup"><span data-stu-id="196df-197">If an application tests for the presence of the colon and backslash characters before it implements normalization, the result can be unintentional file access.</span></span>

<span data-ttu-id="196df-198">Obwohl die Unicode-Normalisierung ein Element bei der Sicherheit von Betriebssystemen ist, sollten Sie Bedenken, dass die Normalisierung keine Ersetzung für eine umfassende Sicherheitsrichtlinie ist.</span><span class="sxs-lookup"><span data-stu-id="196df-198">While Unicode normalization is an element in making operating systems secure, remember that normalization is not a replacement for a comprehensive security policy.</span></span>

## <a name="related-topics"></a><span data-ttu-id="196df-199">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="196df-199">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="196df-200">In Dateinamen verwendete Zeichensätze</span><span class="sxs-lookup"><span data-stu-id="196df-200">Character Sets Used in File Names</span></span>](character-sets-used-in-file-names.md)
</dt> <dt>

[<span data-ttu-id="196df-201">Konventionen für Funktionsprototypen</span><span class="sxs-lookup"><span data-stu-id="196df-201">Conventions for Function Prototypes</span></span>](conventions-for-function-prototypes.md)
</dt> <dt>

[<span data-ttu-id="196df-202">Behandeln von Sortierungen in Ihren Anwendungen</span><span class="sxs-lookup"><span data-stu-id="196df-202">Handling Sorting in Your Applications</span></span>](handling-sorting-in-your-applications.md)
</dt> <dt>

[<span data-ttu-id="196df-203">Umgang mit internationalisierten Domänen Namen (IDNs)</span><span class="sxs-lookup"><span data-stu-id="196df-203">Handling Internationalized Domain Names (IDNs)</span></span>](handling-internationalized-domain-names--idns.md)
</dt> <dt>

[<span data-ttu-id="196df-204">Unicode</span><span class="sxs-lookup"><span data-stu-id="196df-204">Unicode</span></span>](unicode.md)
</dt> </dl>

 

 
