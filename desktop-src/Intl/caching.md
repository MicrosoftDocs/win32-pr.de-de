---
description: Unischreiber speichert Unicode-zu-Glyphen-Zuordnungen (cmap), Glyphe-breiten und OpenType-Skripts zum Strukturieren von Tabellen.
ms.assetid: c06c0eaf-41cb-4fd1-9750-a78355217f12
title: Caching (Internationalisierung)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3cf8bf7dd10fe414bc170086ff9b8c34142dc197
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106350994"
---
# <a name="caching-internationalization"></a><span data-ttu-id="322d7-103">Caching (Internationalisierung)</span><span class="sxs-lookup"><span data-stu-id="322d7-103">Caching (Internationalization)</span></span>

<span data-ttu-id="322d7-104">Unischreiber speichert Unicode-zu-Glyphen-Zuordnungen (cmap), Glyphe-breiten und OpenType-Skripts zum Strukturieren von Tabellen.</span><span class="sxs-lookup"><span data-stu-id="322d7-104">Uniscribe saves Unicode-to-glyph (cmap) mappings, glyph widths, and OpenType script shaping tables.</span></span> <span data-ttu-id="322d7-105">Ein Handle für die Tabellen für eine bestimmte Schriftart einer bestimmten Größe wird als "Skript Cache" bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="322d7-105">A handle to the tables for a particular font of a particular size is called a "script cache".</span></span> <span data-ttu-id="322d7-106">Viele uniscriefunktionen erfordern sowohl einen Gerätekontext handle-Parameter als auch einen Zeiger auf eine [**Skript \_ Cache**](script-cache.md) Struktur.</span><span class="sxs-lookup"><span data-stu-id="322d7-106">Many Uniscribe functions call for both a device context handle parameter and a pointer to a [**SCRIPT\_CACHE**](script-cache.md) structure.</span></span> <span data-ttu-id="322d7-107">Diese Funktionen suchen zunächst nach Informationen über den Skript Cache und verwenden den Gerätekontext nur dann, wenn erforderliche Tabellen nicht bereits zwischengespeichert wurden.</span><span class="sxs-lookup"><span data-stu-id="322d7-107">These functions look first for information through the script cache, using the device context only when required tables are not already cached.</span></span> <span data-ttu-id="322d7-108">Wenn die [**scriptshape**](/windows/desktop/api/Usp10/nf-usp10-scriptshape)-, [**scriptplace**](/windows/desktop/api/Usp10/nf-usp10-scriptplace)-oder [**scripttextout**](/windows/desktop/api/Usp10/nf-usp10-scripttextout) -Funktion aufgerufen wird, muss die Anwendung einen Zeiger auf eine **Skript \_ Cache** Struktur übergeben.</span><span class="sxs-lookup"><span data-stu-id="322d7-108">When calling the [**ScriptShape**](/windows/desktop/api/Usp10/nf-usp10-scriptshape), [**ScriptPlace**](/windows/desktop/api/Usp10/nf-usp10-scriptplace), or [**ScriptTextOut**](/windows/desktop/api/Usp10/nf-usp10-scripttextout) function, the application must pass a pointer to a **SCRIPT\_CACHE** structure.</span></span> <span data-ttu-id="322d7-109">Das Handle sollte mit **null** initialisiert werden, bevor es von der Anwendung zum ersten Mal an eine uniscrienfunktion weitergeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="322d7-109">The handle should be initialized to **NULL** before the first time the application passes it to a Uniscribe function.</span></span> <span data-ttu-id="322d7-110">Die Anwendung sollte niemals dasselbe Handle für verschiedene Schriftarten oder andere Größen übergeben.</span><span class="sxs-lookup"><span data-stu-id="322d7-110">The application should never pass the same handle for different fonts or different sizes.</span></span>

<span data-ttu-id="322d7-111">Eine Anwendung kann jederzeit einen Skript Cache freigeben.</span><span class="sxs-lookup"><span data-stu-id="322d7-111">An application can free a script cache at any time.</span></span> <span data-ttu-id="322d7-112">Uniscribeibehält Verweis Anzahlen in den Schriftart-und Shaper-Caches, gibt Schriftart Daten nur frei, wenn alle Größen der Schriftart freigegeben werden, und gibt nur dann Shaper-Daten frei, wenn alle vom Shaper unterstützten Schriftarten freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="322d7-112">Uniscribe maintains reference counts in its font and shaper caches, frees font data only when all sizes of the font are freed, and frees shaper data only when all fonts that the shaper supports are freed.</span></span> <span data-ttu-id="322d7-113">Wenn die Anwendung mit einem Stil ausgeführt wird, sollte Sie die [**scriptfreecache**](/windows/desktop/api/Usp10/nf-usp10-scriptfreecache) -Funktion aufrufen, um den Skript Cache für den Stil freizugeben.</span><span class="sxs-lookup"><span data-stu-id="322d7-113">When the application is done with a style, it should call the [**ScriptFreeCache**](/windows/desktop/api/Usp10/nf-usp10-scriptfreecache) function to free the script cache for the style.</span></span>

<span data-ttu-id="322d7-114">Für [**scriptshape**](/windows/desktop/api/Usp10/nf-usp10-scriptshape) und [**scriptplace**](/windows/desktop/api/Usp10/nf-usp10-scriptplace)ist es zulässig, dass die Anwendung einen NULL-Gerätekontext übergibt.</span><span class="sxs-lookup"><span data-stu-id="322d7-114">For [**ScriptShape**](/windows/desktop/api/Usp10/nf-usp10-scriptshape) and [**ScriptPlace**](/windows/desktop/api/Usp10/nf-usp10-scriptplace), it is valid for the application to pass a null device context.</span></span> <span data-ttu-id="322d7-115">In den meisten Fällen wird der-Vorgang erfolgreich ausgeführt, da erforderliche Tabellen bereits zwischengespeichert wurden.</span><span class="sxs-lookup"><span data-stu-id="322d7-115">Most often the call will succeed, as required tables are already cached.</span></span> <span data-ttu-id="322d7-116">Wenn die Strukturierung oder Platzierung Zugriff auf einen Gerätekontext erfordert, gibt **scriptshape** oder **scriptplace** sofort mit dem Fehlercode "E Pending" zurück \_ .</span><span class="sxs-lookup"><span data-stu-id="322d7-116">If the shaping or placement requires access to a device context, **ScriptShape** or **ScriptPlace** returns immediately with the E\_PENDING error code.</span></span> <span data-ttu-id="322d7-117">Anschließend muss die Anwendung die Schriftart im Gerätekontext auswählen.</span><span class="sxs-lookup"><span data-stu-id="322d7-117">Then the application must select the font in the device context.</span></span> <span data-ttu-id="322d7-118">Bei den meisten Anwendungen wird dadurch die Leistung verbessert, da die wiederholte Vorbereitung eines Gerätekontext Handles mit Aufrufen von [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject)vermieden wird.</span><span class="sxs-lookup"><span data-stu-id="322d7-118">For most applications, this helps performance by avoiding repeated preparation of a device context handle with calls to [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject).</span></span>

## <a name="related-topics"></a><span data-ttu-id="322d7-119">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="322d7-119">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="322d7-120">Verwenden von uniscri</span><span class="sxs-lookup"><span data-stu-id="322d7-120">Using Uniscribe</span></span>](using-uniscribe.md)
</dt> </dl>

 

 
