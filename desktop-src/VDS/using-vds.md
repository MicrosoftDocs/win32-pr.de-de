---
description: Verwenden von VDS
ms.assetid: aa4be499-625d-4dbd-828c-4a55ff2dba2c
title: Verwenden von VDS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c648c5cc2507c4819f98367c367099248a0e723f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104218174"
---
# <a name="using-vds"></a><span data-ttu-id="027b4-103">Verwenden von VDS</span><span class="sxs-lookup"><span data-stu-id="027b4-103">Using VDS</span></span>

<span data-ttu-id="027b4-104">\[Ab Windows 8 und Windows Server 2012 wird die COM-Schnittstelle des [virtuellen Festplatten Dienstanbieter](virtual-disk-service-portal.md) durch die [Windows-Speicherverwaltungs-API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal)ersetzt.\]</span><span class="sxs-lookup"><span data-stu-id="027b4-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="027b4-105">VDS bietet eine Schnittstelle für die Skripterstellung und GUI-Entwicklung, die die Aktivitäten vereinfachen kann, die von einem Windows Server-Administrator ausgeführt werden, der einen heterogenen Satz von Speichersystemen verwaltet und Daten über verschiedene Hardware Konfigurationen hinweg migriert.</span><span class="sxs-lookup"><span data-stu-id="027b4-105">VDS supplies an interface for scripting and GUI development that can simplify the activities that are performed by a Windows server administrator who manages a heterogeneous set of storage systems, migrating data across different hardware configurations over time.</span></span> <span data-ttu-id="027b4-106">Wenn Sie mit den in der VDS-Entwicklung verwendeten Objekten nicht vertraut sind, lesen Sie das [VDS-Objektmodell](vds-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="027b4-106">If you are unfamiliar with the objects that are used in VDS development, see the [VDS Object Model](vds-object-model.md).</span></span>

<span data-ttu-id="027b4-107">Einige Punkte, bevor Sie beginnen:</span><span class="sxs-lookup"><span data-stu-id="027b4-107">A few points before you begin:</span></span>

-   <span data-ttu-id="027b4-108">Während VDS einen Softwareanbieter enthält, müssen Sie einen Hardware Anbieter und die zugehörige Hardware separat erwerben, um die Hardware Anbieter Vorgänge nutzen zu können.</span><span class="sxs-lookup"><span data-stu-id="027b4-108">While VDS includes a software provider, you must purchase a hardware provider and the associated hardware separately to take advantage of the hardware provider operations.</span></span> <span data-ttu-id="027b4-109">Installationsanweisungen finden Sie in der Dokumentation, die vom Hardwarehersteller bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="027b4-109">For installation instructions, see the documentation that is provided by the hardware manufacturer.</span></span>
-   <span data-ttu-id="027b4-110">Für einige Vorgänge sind NTFS-formatierte Volumes erforderlich.</span><span class="sxs-lookup"><span data-stu-id="027b4-110">Some operations require NTFS-formatted volumes.</span></span> <span data-ttu-id="027b4-111">Wenn Sie z. b. ein Volume in einem vorhandenen Verzeichnis einbinden, muss das Volume, das das Verzeichnis enthält, mit NTFS formatiert sein.</span><span class="sxs-lookup"><span data-stu-id="027b4-111">For example, when you mount a volume on an existing directory, the volume that contains the directory must be formatted with NTFS.</span></span> <span data-ttu-id="027b4-112">Dieser Vorgang wird von anderen Dateisystemen nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="027b4-112">Other file systems do not support this operation.</span></span> <span data-ttu-id="027b4-113">Informationen zu Vorgängen, die NTFS erfordern, finden Sie auf der Seite jeder Methode in der [VDS-Referenz](vds-reference.md).</span><span class="sxs-lookup"><span data-stu-id="027b4-113">For information about operations that require NTFS, see each method page in [VDS Reference](vds-reference.md).</span></span>

## <a name="programming-languages"></a><span data-ttu-id="027b4-114">Programmiersprachen</span><span class="sxs-lookup"><span data-stu-id="027b4-114">Programming Languages</span></span>

<span data-ttu-id="027b4-115">Verwenden Sie jede beliebige Programmiersprache, die für die Entwicklung mit com geeignet ist, z. b. die Programmiersprache C oder C++.</span><span class="sxs-lookup"><span data-stu-id="027b4-115">Use any programming language that is suitable for development with COM, such as the C language or C++.</span></span>

## <a name="security"></a><span data-ttu-id="027b4-116">Sicherheit</span><span class="sxs-lookup"><span data-stu-id="027b4-116">Security</span></span>

<span data-ttu-id="027b4-117">Die Windows-Firewall ist standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="027b4-117">Windows Firewall is enabled by default.</span></span> <span data-ttu-id="027b4-118">Dies kann dazu führen, dass die Authentifizierung für Rückruf Schnittstellen fehlschlägt, z. b. [**ivdsadvisesink**](/windows/desktop/api/Vds/nn-vds-ivdsadvisesink), die Remote ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="027b4-118">This can cause authentication to fail for callback interfaces, such as [**IVdsAdviseSink**](/windows/desktop/api/Vds/nn-vds-ivdsadvisesink), that can be executed remotely.</span></span> <span data-ttu-id="027b4-119">Wenn die Windows-Firewall auf dem Client oder auf dem Server aktiviert ist, müssen Sie die Remotevolumeverwaltung der Registerkarte **Ausnahmen** in der Windows-Firewall hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="027b4-119">If Windows Firewall is enabled on either the client or the server, you must add Remote Volume Management to the **Exceptions** tab in Windows Firewall.</span></span>

<span data-ttu-id="027b4-120">**Windows Server 2003:** Wenn in Windows Server 2003 mit Service Pack 2 (SP2) und Windows Server 2003 mit Service Pack 1 (SP1) die Windows-Firewall auf dem Client oder auf dem Server aktiviert ist und der Server für die Verwendung der NTLM-Authentifizierung konfiguriert ist, müssen Sie die folgenden Einstellungen der Registerkarte **Ausnahmen** in der Windows-Firewall für den entsprechenden Computer hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="027b4-120">**Windows Server 2003:** In Windows Server 2003 with Service Pack 2 (SP2) and Windows Server 2003 with Service Pack 1 (SP1), if Windows Firewall is enabled on either the client or the server and if the server is configured to use NTLM authentication, you must add the following settings to the **Exceptions** tab in Windows Firewall for the appropriate computer.</span></span>

| <span data-ttu-id="027b4-121">Computer</span><span class="sxs-lookup"><span data-stu-id="027b4-121">Computer</span></span>                 | <span data-ttu-id="027b4-122">Ausnahmen Einstellungen</span><span class="sxs-lookup"><span data-stu-id="027b4-122">Exceptions settings</span></span>                                                                 |
|--------------------------|-------------------------------------------------------------------------------------|
| <span data-ttu-id="027b4-123">Client Computer (lokal)</span><span class="sxs-lookup"><span data-stu-id="027b4-123">Client computer (local)</span></span>  | <span data-ttu-id="027b4-124">Dmremote.exe</span><span class="sxs-lookup"><span data-stu-id="027b4-124">Dmremote.exe</span></span><br/> <span data-ttu-id="027b4-125">Mmc.exe</span><span class="sxs-lookup"><span data-stu-id="027b4-125">Mmc.exe</span></span><br/> <span data-ttu-id="027b4-126">Vdsldr.exe</span><span class="sxs-lookup"><span data-stu-id="027b4-126">Vdsldr.exe</span></span><br/> <span data-ttu-id="027b4-127">TCP 135</span><span class="sxs-lookup"><span data-stu-id="027b4-127">TCP 135</span></span><br/> |
| <span data-ttu-id="027b4-128">Server Computer (Remote)</span><span class="sxs-lookup"><span data-stu-id="027b4-128">Server computer (remote)</span></span> | <span data-ttu-id="027b4-129">Dmadmin.exe</span><span class="sxs-lookup"><span data-stu-id="027b4-129">Dmadmin.exe</span></span><br/> <span data-ttu-id="027b4-130">Vds.exe</span><span class="sxs-lookup"><span data-stu-id="027b4-130">Vds.exe</span></span><br/> <span data-ttu-id="027b4-131">TCP 135</span><span class="sxs-lookup"><span data-stu-id="027b4-131">TCP 135</span></span><br/>                        |



 

<span data-ttu-id="027b4-132">Beachten Sie, dass die Windows-Firewall bis Windows Server 2003 mit SP1 standardmäßig nicht aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="027b4-132">Note that Windows Firewall is not enabled by default until Windows Server 2003 with SP1.</span></span>

<span data-ttu-id="027b4-133">Eine Anwendung, die VDS verwendet, muss unter dem Konto "Backup Operator" oder "Administratoren" ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="027b4-133">An application that is using VDS must run under the Backup Operator or Administrators group account.</span></span> <span data-ttu-id="027b4-134">Ohne die entsprechenden Berechtigungen kann eine Anwendung ein Service Loader-Objekt erstellen, aber das Objekt lädt keine VDS.</span><span class="sxs-lookup"><span data-stu-id="027b4-134">Without the appropriate privilege, an application can create a service loader object, but the object will not load VDS.</span></span> <span data-ttu-id="027b4-135">Stattdessen wird ein Fehler zurückgegeben, der angibt, dass der Zugriff auf VDS verweigert wird.</span><span class="sxs-lookup"><span data-stu-id="027b4-135">Instead, it returns an error indicating that access to VDS is denied.</span></span>

<span data-ttu-id="027b4-136">Wenn das Netzwerk die NTLM-Authentifizierung verwendet, sollte der Client Computer den anonymen Zugriff zulassen.</span><span class="sxs-lookup"><span data-stu-id="027b4-136">If the network uses NTLM authentication, the client computer should allow anonymous access.</span></span> <span data-ttu-id="027b4-137">In diesem Fall ist der anonyme Zugriff standardmäßig aktiviert, wenn auf dem Client Computer ein Windows Server-Betriebssystem ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="027b4-137">In this case, if the client computer is running a Windows Server operating system, anonymous access is enabled by default.</span></span> <span data-ttu-id="027b4-138">Wenn ein Windows-Client Betriebssystem ausgeführt wird, muss der anonyme Zugriff mithilfe von Dcomcnfg.exe aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="027b4-138">If it is running a Windows Client operating system, anonymous access must be enabled using Dcomcnfg.exe.</span></span>

## <a name="configuration-and-query-operations"></a><span data-ttu-id="027b4-139">Konfigurations-und Abfrage Vorgänge</span><span class="sxs-lookup"><span data-stu-id="027b4-139">Configuration and Query Operations</span></span>

<span data-ttu-id="027b4-140">Konfigurations-und Abfrage Vorgänge werden durch den relevantesten Computer, Anbieter, Subsystem oder Paket definiert.</span><span class="sxs-lookup"><span data-stu-id="027b4-140">Configuration and query operations are scoped by the most relevant computer, provider, subsystem, or pack.</span></span> <span data-ttu-id="027b4-141">Abfragen durchlaufen nur einen Anbieter oder eine Ebene der Bindungs Hierarchie.</span><span class="sxs-lookup"><span data-stu-id="027b4-141">Queries traverse only one provider or one level of the binding hierarchy.</span></span> <span data-ttu-id="027b4-142">Zum Erstellen einer vollständigen Ansicht muss der Aufrufer jede Ebene über-und Abfragen.</span><span class="sxs-lookup"><span data-stu-id="027b4-142">To build a full view, the caller must query across and down each level.</span></span> <span data-ttu-id="027b4-143">Die folgende Liste enthält Beispiele:</span><span class="sxs-lookup"><span data-stu-id="027b4-143">The following list includes examples:</span></span>

-   <span data-ttu-id="027b4-144">Zum Anzeigen aller Datenträger auf einem Computer müssen Aufrufer alle Softwareanbieter für die Datenträger Abfragen, die von diesen Anbietern beansprucht werden.</span><span class="sxs-lookup"><span data-stu-id="027b4-144">To view all disks on a computer, callers must query across all software providers for the disks that are claimed by those providers.</span></span>
-   <span data-ttu-id="027b4-145">Um zu ermitteln, welche Datenträger zu einem Software gestapelten Volume beitragen, bestimmen Aufrufer zuerst die Beitragenden plexes und Fragen dann die Datenträger Blöcke für die einzelnen Plex ab.</span><span class="sxs-lookup"><span data-stu-id="027b4-145">To determine which disks contribute to a software-stacked volume, callers first determine the contributing plexes and then query for the disk extents for each plex.</span></span>
-   <span data-ttu-id="027b4-146">Um alle Laufwerke anzuzeigen, die an ein bestimmtes Subsystem angefügt sind, müssen Aufrufer das Subsystem Abfragen.</span><span class="sxs-lookup"><span data-stu-id="027b4-146">To view all the drives that are attached to a given subsystem, callers must query the subsystem.</span></span>
-   <span data-ttu-id="027b4-147">Um alle LUNs anzuzeigen, die von einem bestimmten Subsystem verfügbar gemacht werden, müssen Aufrufer das Subsystem Abfragen.</span><span class="sxs-lookup"><span data-stu-id="027b4-147">To view all the LUNs that are exposed by a given subsystem, callers must query the subsystem.</span></span>
-   <span data-ttu-id="027b4-148">Um den gesamten Speicher in einem SAN oder Cluster anzuzeigen, müssen Aufrufer jeden Computer nach allen Hardwareanbietern Abfragen, jeden Anbieter nach allen Subsystemen Abfragen und dann jedes Subsystem Abfragen.</span><span class="sxs-lookup"><span data-stu-id="027b4-148">To view all storage on a SAN or a cluster, callers must query each computer for all hardware providers, query each provider for all subsystems, and then query each subsystem.</span></span>

<span data-ttu-id="027b4-149">Obwohl jede einzelne Abfrage keine Duplikate zurückgibt, können wiederholte Abfragen über mehrere Computer oder über Anbieter hinweg Duplikate anhäufen.</span><span class="sxs-lookup"><span data-stu-id="027b4-149">While each individual query will not return duplicates, repeated queries across computers or across providers can accumulate duplicates.</span></span> <span data-ttu-id="027b4-150">Aufrufer müssen alle Filter implementieren.</span><span class="sxs-lookup"><span data-stu-id="027b4-150">Callers must implement any filtering.</span></span> <span data-ttu-id="027b4-151">Beachten Sie auch, dass San-Verwaltungs Anwendungen die Active Directory oder ein Repository zum Beibehalten von Konfigurationsinformationen verwenden können. Es ist möglicherweise nicht erforderlich, jeden Computer abzufragen.</span><span class="sxs-lookup"><span data-stu-id="027b4-151">Note also that SAN management applications can use the Active Directory or a repository to persist configuration information; it might not be necessary to query each computer.</span></span>

## <a name="related-topics"></a><span data-ttu-id="027b4-152">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="027b4-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="027b4-153">Dienst für virtuelle Datenträger</span><span class="sxs-lookup"><span data-stu-id="027b4-153">Virtual Disk Service</span></span>](virtual-disk-service-portal.md)
</dt> <dt>

[<span data-ttu-id="027b4-154">VDS-Objektmodell</span><span class="sxs-lookup"><span data-stu-id="027b4-154">VDS Object Model</span></span>](vds-object-model.md)
</dt> <dt>

[<span data-ttu-id="027b4-155">VDS-Referenz</span><span class="sxs-lookup"><span data-stu-id="027b4-155">VDS Reference</span></span>](vds-reference.md)
</dt> </dl>

 

