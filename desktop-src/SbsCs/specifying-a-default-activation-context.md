---
description: Angeben eines Standard Aktivierungs Kontexts
ms.assetid: 4d9a8552-7098-458d-a592-45524871cce5
title: Angeben eines Standard Aktivierungs Kontexts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32cf0225a8e4290a09f7e6524a4b3ef47f9c4c4e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103960550"
---
# <a name="specifying-a-default-activation-context"></a><span data-ttu-id="1e19b-103">Angeben eines Standard Aktivierungs Kontexts</span><span class="sxs-lookup"><span data-stu-id="1e19b-103">Specifying a Default Activation Context</span></span>

<span data-ttu-id="1e19b-104">Wenn Ihre Anwendung oder Komponente einen neuen Prozess erstellt, sucht Windows nach einem Standard Anwendungs Manifest.</span><span class="sxs-lookup"><span data-stu-id="1e19b-104">When your application or component creates a new process, Windows searches for a default application manifest.</span></span> <span data-ttu-id="1e19b-105">Beachten Sie, dass ein Manifest, das als Ressource in der Anwendung enthalten ist, Vorrang vor einem externen Manifest hat.</span><span class="sxs-lookup"><span data-stu-id="1e19b-105">Note that a manifest included as a resource in the application takes precedence over an external manifest.</span></span> <span data-ttu-id="1e19b-106">Der Standard Aktivierungs Kontext ist der erste Aktivierungs Kontext, der aktiv ist, bevor ein anderer Aktivierungs Kontext aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="1e19b-106">The default activation context is the first activation context that is active before any other activation context has been activated.</span></span> <span data-ttu-id="1e19b-107">Dieser Aktivierungs Kontext ist immer aktiv, es sei denn, Sie aktivieren andere Kontexte.</span><span class="sxs-lookup"><span data-stu-id="1e19b-107">This activation context is always active unless you activate other contexts.</span></span> <span data-ttu-id="1e19b-108">Wenn Sie \_ \_ beim Kompilieren der Anwendung oder Komponente die Isolations Funktion aktiviert definieren, können Aufrufe wie [**cokreatinstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance), [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya)und [**kreatewindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) die automatische Kontext Verwaltung durchführen.</span><span class="sxs-lookup"><span data-stu-id="1e19b-108">If you define ISOLATION\_AWARE\_ENABLED when you compile your application or component, calls like [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance), [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya), and [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) can perform automatic context management.</span></span>

<span data-ttu-id="1e19b-109">Das Lade Modul ermöglicht es einer Anwendung, Ihren Standard Aktivierungs Kontext mit zwei Methoden anzugeben.</span><span class="sxs-lookup"><span data-stu-id="1e19b-109">The loader allows an application to specify its default activation context by two methods.</span></span> <span data-ttu-id="1e19b-110">Sie können die Manifestressource in den Ressourcen der ausführbaren Datei ablegen, die das Lade Programm findet.</span><span class="sxs-lookup"><span data-stu-id="1e19b-110">You can put the manifest file in the resources of the executable and the loader will find it.</span></span> <span data-ttu-id="1e19b-111">Dies entspricht dem Platzieren der Manifest-Datei in der Ressourcen Tabelle der ausführbaren Datei.</span><span class="sxs-lookup"><span data-stu-id="1e19b-111">This is the same as putting the manifest file in the executable's resource table.</span></span> <span data-ttu-id="1e19b-112">Sie können das Manifest in einer Datei mit dem Namen *myapp*. exe platzieren. Das Manifest befindet sich im gleichen Verzeichnis wie *myapp*. exe, und das Lade Modul findet es bei der Suche nach *myapp*. exe.</span><span class="sxs-lookup"><span data-stu-id="1e19b-112">You can place the manifest in a file named *Myapp*.exe.Manifest in the same directory as *Myapp*.exe, and the loader finds it while looking for *Myapp*.exe.</span></span>

<span data-ttu-id="1e19b-113">Wenn Sie keine dieser Methoden verwenden, beginnt die Anwendung mit dem standardmäßigen Aktivierungs Kontext des Systems, der einen minimalen Satz von Assemblys enthält.</span><span class="sxs-lookup"><span data-stu-id="1e19b-113">If you use none of these methods, the application starts with the system default activation context, which contains a minimal set of assemblies.</span></span>

<span data-ttu-id="1e19b-114">Eine bessere Methode der automatischen Kontext Verwaltung ist die Kompilierung der Anwendung mit \_ \_ aktiviertem Isolations fähigen aktivierten.</span><span class="sxs-lookup"><span data-stu-id="1e19b-114">A better way of using automatic context management is by compiling your application with ISOLATION\_AWARE\_ENABLED defined.</span></span> <span data-ttu-id="1e19b-115">Die empfohlene Methode besteht darin, diese in der Befehlszeile des Compilers für das gesamte Projekt festzulegen, das erstellt wird, anstatt in einzelnen Quelldateien oder Headern festgelegt zu werden.</span><span class="sxs-lookup"><span data-stu-id="1e19b-115">The recommended method is to set this on the compiler's command line for the entire project being built rather than being set in individual source files or headers.</span></span> <span data-ttu-id="1e19b-116">Dadurch erkennen die meisten Win32-APIs Aktivierungs Kontexte und deren Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="1e19b-116">This makes most Win32 APIs aware of activation contexts and how to manage them.</span></span> <span data-ttu-id="1e19b-117">Anstatt eine eigene Aktivierungs Kontext Verwaltung durchführen zu müssen, müssen Sie einfach ein Manifest in der Ressourcen Tabelle unter Ressourcen-ID isolationaware \_ Manifest \_ Resource \_ ID (numerischer Wert 2) vom Typ RT- \_ Manifest (numerischer Wert 24) platzieren. Funktionen wie z. b. " [**kreatewindow**](/windows/win32/api/winuser/nf-winuser-createwindowa)", " [**cokreateinstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance)" und " [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) " aktivieren diesen Kontext vor dem eigentlichen aufrufen automatisch.</span><span class="sxs-lookup"><span data-stu-id="1e19b-117">Instead of having to do your own activation context management, you simply need to place a manifest in your resource table at resource ID ISOLATIONAWARE\_MANIFEST\_RESOURCE\_ID (numeric value 2), of type RT\_MANIFEST (numeric value 24.) Functions such as [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa), [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance), and [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) then automatically activate this context before making the actual call.</span></span>

<span data-ttu-id="1e19b-118">Beachten Sie, dass Sie bei der Kompilierung mit aktivierter Isolations Funktion " \_ \_ definiert" nicht auch Ihre eigene Aktivierungs Kontext Verwaltung ausführen können.</span><span class="sxs-lookup"><span data-stu-id="1e19b-118">Note that if you compile with ISOLATION\_AWARE\_ENABLED defined, you cannot also do your own activation context management.</span></span> <span data-ttu-id="1e19b-119">Wenn die Isolations Funktion \_ \_ aktiviert ist, ignoriert Windows jede dynamische Aktivierungs Kontext Erstellung, die Ihre Anwendung möglicherweise versucht, zwischen [**activateactctx**](/windows/desktop/api/Winbase/nf-winbase-activateactctx) -und up- [**Window**](/windows/win32/api/winuser/nf-winuser-createwindowa) -aufrufen zu arbeiten.</span><span class="sxs-lookup"><span data-stu-id="1e19b-119">With ISOLATION\_AWARE\_ENABLED defined, Windows ignores any dynamic activation context creation your application may attempt to do between [**ActivateActCtx**](/windows/desktop/api/Winbase/nf-winbase-activateactctx) and [**CreateWindow**](/windows/win32/api/winuser/nf-winuser-createwindowa) calls.</span></span> <span data-ttu-id="1e19b-120">Dies bedeutet, dass \_ \_ das Manifest eine vollständige Liste aller Assemblys enthält, die für die Komponente erforderlich sind, wenn Ihre Anwendung Isolations fähig verwendet.</span><span class="sxs-lookup"><span data-stu-id="1e19b-120">This means that when your application uses ISOLATION\_AWARE\_ENABLED you must make sure that the manifest contains a complete list of all assemblies that your component requires.</span></span>

 

 
