---
description: Aktivierungs Kontexte sind während des gesamten Prozesses sichtbar.
ms.assetid: 6eda00d5-9dac-4267-bf61-b481814201f8
title: Threads, asynchrone Prozeduren und Fenster Meldungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e615eb9795ba32bcf4bd227a4933e890e9b89055
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103862328"
---
# <a name="using-threads-asynchronous-procedures-and-window-messages"></a><span data-ttu-id="f4139-103">Verwenden von Threads, asynchronen Prozeduren und Fenster Meldungen</span><span class="sxs-lookup"><span data-stu-id="f4139-103">Using Threads, Asynchronous Procedures, and Window Messages</span></span>

<span data-ttu-id="f4139-104">Aktivierungs Kontexte sind während des gesamten Prozesses sichtbar.</span><span class="sxs-lookup"><span data-stu-id="f4139-104">Activation contexts are visible throughout the entire process.</span></span> <span data-ttu-id="f4139-105">Die Aktivierungs Kontext Stapel sind jedoch pro Thread, und zwei Threads im gleichen Prozess können unterschiedliche Aktivierungs Stapel aufweisen.</span><span class="sxs-lookup"><span data-stu-id="f4139-105">The activation context stacks are however per-thread, and two threads in the same process can have different activation stacks.</span></span> <span data-ttu-id="f4139-106">Der aktuelle Aktivierungs Kontext wird von [**kreatethread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread) automatisch an den Anfang des Aktivierungs Stapels des neuen Threads eingefügt.</span><span class="sxs-lookup"><span data-stu-id="f4139-106">[**CreateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread) automatically puts the current activation context at the top of the new thread's activation stack.</span></span> <span data-ttu-id="f4139-107">Dies kann das Aktualisieren von vorhandenem Code für die Verwendung paralleler Komponenten vereinfachen, da der neue Thread sofort im aktuellen Aktivierungs Kontext ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="f4139-107">This can facilitate upgrading existing code to use side-by-side components because the new thread can run immediately in the current activation context.</span></span>

<span data-ttu-id="f4139-108">Asynchrone Prozedur Aufrufe, Vervollständigungs Port Rückrufe und andere Rückrufe für andere Threads rufen automatisch den Aktivierungs Kontext der Quelle ab.</span><span class="sxs-lookup"><span data-stu-id="f4139-108">Asynchronous procedure calls, completion port callbacks, and any other callbacks on other threads automatically get the activation context of the source.</span></span> <span data-ttu-id="f4139-109">Wenn der Rückruf aufgerufen wird, wird der Aktivierungs Stapel bereinigt.</span><span class="sxs-lookup"><span data-stu-id="f4139-109">When the callback is called, the activation stack is cleaned up.</span></span> <span data-ttu-id="f4139-110">Dies bedeutet, dass Ihre Anwendung asynchrone Prozedur Aufrufe und Rückrufe verwenden kann, ohne explizit einen Kontext zu aktivieren, da die Kontext Verwaltung von der zugrunde liegenden parallelen Infrastruktur durchgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="f4139-110">This means that your application can use asynchronous procedure calls and callbacks without explicitly activating any contexts because context management will be done by the underlying side-by-side infrastructure.</span></span> <span data-ttu-id="f4139-111">Damit andere Kontexte während eines Rückrufs oder eines neuen Threads aktiv sind, kann Ihre Anwendung eine eigene Kontext Verwaltung durchführen.</span><span class="sxs-lookup"><span data-stu-id="f4139-111">To make other contexts active during a callback or new thread, your application can do its own context management.</span></span> <span data-ttu-id="f4139-112">In diesem Fall muss das Programm die ordnungsgemäße Sequenz von Aktivierungs Kontext-Funktionen zum Aktivieren und Deaktivieren von Funktionen verwenden.</span><span class="sxs-lookup"><span data-stu-id="f4139-112">In this case your program must use the proper sequence of activation context activate functions and deactivate functions.</span></span>

<span data-ttu-id="f4139-113">Aktivierungs Kontexte sind Thread neutral.</span><span class="sxs-lookup"><span data-stu-id="f4139-113">Activation contexts are thread-neutral.</span></span> <span data-ttu-id="f4139-114">Durch das Aktivieren eines Kontexts wird nur der Stapel des aktuellen Threads geändert, und es ist nicht möglich, einen Kontext Thread übergreifend zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="f4139-114">Activating a context only changes the current thread's stack, and you cannot activate a context across threads.</span></span> <span data-ttu-id="f4139-115">Thread a kann einen Kontext auf Thread B nicht erzwingen. Die Funktionen der Aktivierungs Kontext-API sind ebenfalls Threading fähig.</span><span class="sxs-lookup"><span data-stu-id="f4139-115">Thread A cannot force a context onto thread B. The functions of the activation context API are also threading-aware.</span></span>

<span data-ttu-id="f4139-116">Wenn Sie [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) oder [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) verwenden, um eine Fenster Nachricht an eine andere Fenster Prozedur in Ihrem Prozess zu senden, wird der aktuelle Aktivierungs Kontext aktiviert, bevor die Nachricht an die Ziel Prozedur weitergeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="f4139-116">When you use [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) or [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) to send a window message to another window procedure in your process, the current activation context is activated before the message is passed on to the target procedure.</span></span> <span data-ttu-id="f4139-117">Der aktuelle Aktivierungs Kontext wird zusammen mit der Nachricht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="f4139-117">The current activation context goes along with the message.</span></span> <span data-ttu-id="f4139-118">Dadurch wird sichergestellt, dass Nachrichten, die auf COM-Objekte, DLL-Namen oder andere Seite-an-Seite-Ressourcen verweisen, ihre korrekten Kontextinformationen beibehalten.</span><span class="sxs-lookup"><span data-stu-id="f4139-118">This ensures that messages that refer to COM objects, DLL names, or other side-by-side resources retain their correct context information.</span></span>

 

 
