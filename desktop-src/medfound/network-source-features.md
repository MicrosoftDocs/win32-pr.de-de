---
description: Netzwerk Quell Features
ms.assetid: a4e20ecb-c145-4823-ae59-f6fc88593d86
title: Netzwerk Quell Features
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8e937a97cf743740d9cebf84ad477c52cdee5083
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104559421"
---
# <a name="network-source-features"></a><span data-ttu-id="7a09b-103">Netzwerk Quell Features</span><span class="sxs-lookup"><span data-stu-id="7a09b-103">Network Source Features</span></span>

<span data-ttu-id="7a09b-104">Die Netzwerkquelle stellt die Basis Implementierung für das Streaming von Mediendateien bereit und [**macht die imfmediasource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="7a09b-104">The network source provides the base implementation for streaming media files and exposes the [**IMFMediaSource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) interface.</span></span> <span data-ttu-id="7a09b-105">Die spezifische Implementierung der Netzwerkquelle hängt von dem Protokoll ab, das zum Öffnen der Quelle verwendet wird, z. b. RTSP oder http.</span><span class="sxs-lookup"><span data-stu-id="7a09b-105">The specific network source implementation depends on the protocol used to open the source such as RTSP or HTTP.</span></span> <span data-ttu-id="7a09b-106">Die Protokoll spezifischen Netzwerk Quellen erweitern die grundlegende Netzwerkfunktionalität.</span><span class="sxs-lookup"><span data-stu-id="7a09b-106">The protocol-specific network sources extend the basic network functionality.</span></span> <span data-ttu-id="7a09b-107">Informationen zu den unterstützten Schemas und Protokollen finden Sie [unter Unterstützte Protokolle](supported-protocols.md).</span><span class="sxs-lookup"><span data-stu-id="7a09b-107">For information about the supported schemes and protocols, see [Supported Protocols](supported-protocols.md).</span></span>

<span data-ttu-id="7a09b-108">Die Netzwerkquelle:</span><span class="sxs-lookup"><span data-stu-id="7a09b-108">The network source:</span></span>

-   <span data-ttu-id="7a09b-109">Implementiert Funktionen wie Caching, Proxy Erkennung und automatische Verbindungs Wiederherstellung.</span><span class="sxs-lookup"><span data-stu-id="7a09b-109">Implements features such as caching, proxy detection, and auto-reconnection.</span></span>
-   <span data-ttu-id="7a09b-110">Konvertiert Protokoll unabhängige Aufrufe vom quellresolver in Protokoll spezifische Aufrufe.</span><span class="sxs-lookup"><span data-stu-id="7a09b-110">Converts protocol-independent calls from the source resolver to protocol-specific calls.</span></span>
-   <span data-ttu-id="7a09b-111">Interagiert mit der Socketschicht und dem Betriebssystem.</span><span class="sxs-lookup"><span data-stu-id="7a09b-111">Interacts with the socket layer and the operating system.</span></span> <span data-ttu-id="7a09b-112">Analysiert die SDP-Beschreibung und verwendet Sie als Konfigurationsdaten und liest Streamdaten aus der zugrunde liegenden Socketschicht.</span><span class="sxs-lookup"><span data-stu-id="7a09b-112">Parses the SDP description and uses it as configuration data, and reads stream data from the underlying sockets layer.</span></span> <span data-ttu-id="7a09b-113">Beim Empfang ist die Netzwerkquelle für die Neuanordnung und das Anfordern von erneuten Übertragungen von Paketen verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="7a09b-113">When receiving, the network source is responsible for reordering and requesting retransmissions of packets.</span></span>

## <a name="network-source-creation"></a><span data-ttu-id="7a09b-114">Netzwerk Quellen Erstellung</span><span class="sxs-lookup"><span data-stu-id="7a09b-114">Network Source Creation</span></span>

<span data-ttu-id="7a09b-115">Das Erstellen einer Medienquelle für eine Quelle aus dem Netzwerk unterscheidet sich nicht von einer Medienquelle für eine lokale Datei.</span><span class="sxs-lookup"><span data-stu-id="7a09b-115">Creating a media source for a source from the network is not different from a media source for a local file.</span></span> <span data-ttu-id="7a09b-116">Die Anwendung übergibt die URL für die Quelle an [quellresolver](source-resolver.md) -Methoden, z. b. [**imfsourceresolver:: forateobjectfromurl**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfromurl) oder [**imfsourceresolver:: beginkreateobjectfromurl**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-begincreateobjectfromurl) und gibt das Flag für die MF- \_ Auflösung \_ MediaSource an.</span><span class="sxs-lookup"><span data-stu-id="7a09b-116">The application passes the URL for the source to [Source Resolver](source-resolver.md) methods such as [**IMFSourceResolver::CreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfromurl) or [**IMFSourceResolver::BeginCreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-begincreateobjectfromurl) and specifies the MF\_RESOLUTION\_MEDIASOURCE flag.</span></span> <span data-ttu-id="7a09b-117">Weitere Informationen zur Verwendung dieses Flags finden Sie unter [using the Source Resolver](using-the-source-resolver.md).</span><span class="sxs-lookup"><span data-stu-id="7a09b-117">For more information about using this flag, see [Using the Source Resolver](using-the-source-resolver.md).</span></span>

<span data-ttu-id="7a09b-118">Abhängig von dem von der Anwendung bereitgestellten Schema lädt der quellresolver das entsprechende Schema Handler-Objekt, das die [**IMF Schema Handler**](/windows/desktop/api/mfidl/nn-mfidl-imfschemehandler) -Schnittstelle verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="7a09b-118">Depending on the scheme provided by the application, the source resolver loads the appropriate the scheme handler object, which exposes the [**IMFSchemeHandler**](/windows/desktop/api/mfidl/nn-mfidl-imfschemehandler) interface.</span></span> <span data-ttu-id="7a09b-119">Die Anwendung kann den Schema Handler auch direkt verwenden, um die Netzwerkquelle durch Aufrufen von [**imfschemehandler:: begincreateobject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject)zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-119">The application can also use the scheme handler directly to create the network source by calling [**IMFSchemeHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject).</span></span>

<span data-ttu-id="7a09b-120">Weitere Informationen finden Sie unter [Schema Handler und Byte-Stream Handler](scheme-handlers-and-byte-stream-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="7a09b-120">For more information, see [Scheme Handlers and Byte-Stream Handlers](scheme-handlers-and-byte-stream-handlers.md).</span></span>

<span data-ttu-id="7a09b-121">Media Foundation unterstützt keine Byte Datenströme für Netzwerk Quellen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-121">Media Foundation does not support byte streams for network sources.</span></span> <span data-ttu-id="7a09b-122">Das Byte-Datenstrom Objekt wird nur im heruntergeladenen Inhalts Szenario unterstützt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-122">The byte stream object is only supported in the downloaded content scenario.</span></span> <span data-ttu-id="7a09b-123">Alle Daten werden so schnell wie möglich übertragen, sodass Sie als Datei auf dem lokalen Computer gespeichert werden können.</span><span class="sxs-lookup"><span data-stu-id="7a09b-123">All the data is transmitted as quickly as possible so that it can be saved as a file on the local machine.</span></span> <span data-ttu-id="7a09b-124">Webserver stellen heruntergeladene Daten bereit.</span><span class="sxs-lookup"><span data-stu-id="7a09b-124">web servers provide downloaded data.</span></span> <span data-ttu-id="7a09b-125">Nachdem der Download begonnen hat, erfolgt keine Kommunikation zwischen dem Client und dem Server.</span><span class="sxs-lookup"><span data-stu-id="7a09b-125">There is no communication from the client to the server after the download begins.</span></span> <span data-ttu-id="7a09b-126">In diesem Fall wird das HTTP-Download Protokoll verwendet.</span><span class="sxs-lookup"><span data-stu-id="7a09b-126">In this case the HTTP download protocol is used.</span></span>

<span data-ttu-id="7a09b-127">Wenn die Anwendung den Quell Konflikt Löser anfordert, ein bytestreamobjekt für die Schemas "http:", "MMS:" oder "RTSP:" zu erstellen, schlägt der-Vorgang mit dem Fehler "MF \_ E \_ nicht unterstützter Schema" fehl \_ .</span><span class="sxs-lookup"><span data-stu-id="7a09b-127">If the application requests the source resolver to create a byte stream object for "http:", "mms:", or "rtsp:" schemes, then the call fails with the MF\_E\_UNSUPPORTED\_SCHEME error.</span></span>

> [!Note]  
> <span data-ttu-id="7a09b-128">In Windows 7 unterstützt die Netzwerkquelle Windows Media Station-Dateien (. NSC).</span><span class="sxs-lookup"><span data-stu-id="7a09b-128">In Windows 7, the network source supports Windows Media Station files (.NSC).</span></span> <span data-ttu-id="7a09b-129">Diese Dateien werden beim Multicast Streaming von Medieninhalten über ein Netzwerk verwendet.</span><span class="sxs-lookup"><span data-stu-id="7a09b-129">These files are used in multicast streaming of media content over a network.</span></span> <span data-ttu-id="7a09b-130">Zum Erstellen der Netzwerkquelle für eine angegebene. NSC-Datei: die Anwendung muss den quellresolver verwenden.</span><span class="sxs-lookup"><span data-stu-id="7a09b-130">To create the network source for a specified .NSC file, the application must use the source resolver.</span></span>

 

<span data-ttu-id="7a09b-131">Wenn die Anwendung den Schema Handler verwendet, ignoriert der asynchrone-Befehl den *dwFlags* -Parameter und gibt bei Abschluss einen Zeiger auf die Netzwerkquelle zurück.</span><span class="sxs-lookup"><span data-stu-id="7a09b-131">If the application is using the scheme handler, then the asynchronous call ignores the *dwFlags* parameter and returns a pointer to the network source on completion.</span></span>

<span data-ttu-id="7a09b-132">Die folgende Abbildung zeigt den Datenfluss für das Medien Streaming mithilfe der Netzwerkquelle.</span><span class="sxs-lookup"><span data-stu-id="7a09b-132">The following illustration shows the data flow for media streaming using the network source.</span></span>

![Flussdiagramm, das Pfade von der Anwendung zum Streamingserver anzeigt, mit einer Schleife zwischen Netzwerkquelle und Medien Sitzung](images/3f9186ea-53ed-4a31-a097-92f39fa08624.gif)

## <a name="network-source-configuration"></a><span data-ttu-id="7a09b-134">Netzwerk Quell Konfiguration</span><span class="sxs-lookup"><span data-stu-id="7a09b-134">Network Source Configuration</span></span>

<span data-ttu-id="7a09b-135">In diesem Thema werden die von der Netzwerkquelle unterstützten Funktionen und die zugehörigen Konfigurationsoptionen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7a09b-135">This topic describes the features supported by the network source and the associated configuration options.</span></span> <span data-ttu-id="7a09b-136">Eine Anwendung kann die Netzwerkquelle konfigurieren, wenn das Netzwerk Quell Objekt erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="7a09b-136">An application can configure the network source when creating the network source object.</span></span> <span data-ttu-id="7a09b-137">Diese Optionen werden in einem **IPropertyStore** -Objekt gespeichert, das von der Anwendung an den *prequicparameter* der Quell Konflikt Löser-Methoden oder [**imvschemehandler:: beginkreateobject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject)übergeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="7a09b-137">These options are stored in an **IPropertyStore** object, which the application must pass in the *pProps* parameter of the source resolver methods or [**IMFSchemeHandler::BeginCreateObject**](/windows/desktop/api/mfidl/nf-mfidl-imfschemehandler-begincreateobject).</span></span>

### <a name="auto-reconnect"></a><span data-ttu-id="7a09b-138">Automatisch wiederherstellen der Verbindung</span><span class="sxs-lookup"><span data-stu-id="7a09b-138">Auto-Reconnect</span></span>

<span data-ttu-id="7a09b-139">Die Funktion zum automatischen erneuten Verbinden der Netzwerkquelle ermöglicht es einem Client, automatisch erneut eine Verbindung mit dem Medienserver herzustellen, wenn die TCP-Verbindung mit dem Server fehlschlägt oder wenn der Client Pakete nicht empfangen kann.</span><span class="sxs-lookup"><span data-stu-id="7a09b-139">The auto-reconnect feature of the network source enables a client to reconnect to the media server automatically when the TCP connection to the server fails or the client fails to receive packets.</span></span> <span data-ttu-id="7a09b-140">Wenn die Verbindung nicht hergestellt werden kann, versucht die Netzwerkquelle, mithilfe derselben Konfiguration, die in der vorherigen Verbindung verwendet wurde, erneut eine Verbindung mit dem Medienserver herzustellen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-140">When connection fails, the network source attempts to reconnect to the media server using the same configuration that was used in the previous connection.</span></span> <span data-ttu-id="7a09b-141">Der Vorgang zur erneuten Verbindung ist asynchron.</span><span class="sxs-lookup"><span data-stu-id="7a09b-141">The reconnection process is asynchronous.</span></span> <span data-ttu-id="7a09b-142">Die Netzwerkquelle löst das [mereconnectstart](mereconnectstart.md) -Ereignis aus, wenn die Verbindung wieder hergestellt wird, und das [mereconnectend](mereconnectend.md) -Ereignis, wenn die erneute Verbindung erfolgreich ist oder fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-142">The network source raises the [MEReconnectStart](mereconnectstart.md) event when it begins reconnection and the [MEReconnectEnd](mereconnectend.md) event when the reconnection succeeds or fails.</span></span>

<span data-ttu-id="7a09b-143">Wenn die Anzahl der Versuche zum erneuten verbinden den maximalen Wert überschreitet, der durch die [**\_ autoreconnectlimit-Eigenschaft von mnenetsource**](mfnetsource-autoreconnectlimit-property.md) festgelegt wird, wird der Vorgang zum erneuten Verbinden abgebrochen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-143">If the number of reconnection attempts exceeds the maximum value specified by the [**MFNETSOURCE\_AUTORECONNECTLIMIT**](mfnetsource-autoreconnectlimit-property.md) property, the reconnection operation is canceled.</span></span> <span data-ttu-id="7a09b-144">Die Anzahl der Versuche zum erneuten Herstellen der Verbindung wird in der " [**MF NetSource"-Eigenschaft " \_ autoreconnectprogress**](mfnetsource-autoreconnectprogress-property.md) " gespeichert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-144">The number of reconnection attempts is stored in the [**MFNETSOURCE\_AUTORECONNECTPROGRESS**](mfnetsource-autoreconnectprogress-property.md) property.</span></span>

<span data-ttu-id="7a09b-145">Die automatische Wiederherstellung der Verbindung ermöglicht die reibungslose Wiedergabe von Medieninhalten, auch wenn die TCP-Verbindung mit dem Medienserver ausfällt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-145">Auto-reconnect enables smooth playback of media content even when the TCP connection to the media server fails.</span></span> <span data-ttu-id="7a09b-146">Für eine reibungslose Wiedergabe muss der Client über ausreichend Daten (mindestens 1 bis 2 Minuten) im Cache verfügen, um die Wiedergabe bis zur erneuten Verbindungs Herstellung fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-146">For a smooth playback experience, the client must have sufficient data, at least 1 to 2 minutes, in its cache to continue playback until reconnection.</span></span> <span data-ttu-id="7a09b-147">Die maximale Datenmenge, die von der Netzwerkquelle puffert werden kann, kann in der Eigenschaft " [**\_ maxbuffertimems" von MF-Quelle**](mfnetsource-maxbuffertimems-property.md) festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="7a09b-147">The maximum amount of data that the network source can buffer can be set in the [**MFNETSOURCE\_MAXBUFFERTIMEMS**](mfnetsource-maxbuffertimems-property.md) property.</span></span>

### <a name="fast-streaming"></a><span data-ttu-id="7a09b-148">Schnelles Streaming</span><span class="sxs-lookup"><span data-stu-id="7a09b-148">Fast Streaming</span></span>

<span data-ttu-id="7a09b-149">Der Netzwerk Quell Client fordert den Server auf, Daten am Anfang des Inhalts schneller zu streamen, als durch die Bitrate des Inhalts angegeben.</span><span class="sxs-lookup"><span data-stu-id="7a09b-149">The network source client requests the server to stream some of the data at the beginning of the content at a faster rate than that specified by the bit rate of the content.</span></span> <span data-ttu-id="7a09b-150">Wenn der *schnelle Start* auf dem Server aktiviert ist, sendet der Server einen beschleunigten Bitrate-Datenstrom, sodass der Client eine ausreichende Datenmenge schneller als in Echtzeit Puffern kann.</span><span class="sxs-lookup"><span data-stu-id="7a09b-150">If *Fast Startup* is enabled on the server, the server sends an accelerated bit-rate stream so that the client can buffer a sufficient amount of data faster than in real time.</span></span> <span data-ttu-id="7a09b-151">Dadurch wird die Benutzer Leistung verbessert, indem anfängliche Puffer Verzögerungen minimiert werden. Dies kann durch verschiedene Faktoren verursacht werden, wie z. b. eine geringe Geschwindigkeit des Client Computers oder des Netzwerks und die verfügbare Bandbreite.</span><span class="sxs-lookup"><span data-stu-id="7a09b-151">This improves user experience by minimizing initial buffering delays, which can be caused by various factors such as low speed of the client computer or the network, and available bandwidth.</span></span>

<span data-ttu-id="7a09b-152">Legen Sie die [**mfnetsource \_ acceleratedstreamingduration**](mfnetsource-acceleratedstreamingduration-property.md) -Eigenschaft fest, um die Menge der schnellen Streamingdaten anzugeben, die vom Client angefordert werden können.</span><span class="sxs-lookup"><span data-stu-id="7a09b-152">To specify the amount of fast-streaming data that the client can request, set the [**MFNETSOURCE\_ACCELERATEDSTREAMINGDURATION**](mfnetsource-acceleratedstreamingduration-property.md) property.</span></span> <span data-ttu-id="7a09b-153">Wenn die Netzwerkquelle UDP als Transportprotokoll verwendet, geben Sie die maximale Menge an schnellen Streamingdaten an, indem Sie stattdessen die Eigenschaft " [**MF NetSource \_ maxudpacceleratedstreamingduration**](mfnetsource-maxudpacceleratedstreamingduration-property.md) " festlegen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-153">If the network source is using UDP as the transport protocol, specify the maximum amount of fast-streaming data by setting the [**MFNETSOURCE\_MAXUDPACCELERATEDSTREAMINGDURATION**](mfnetsource-maxudpacceleratedstreamingduration-property.md) property instead.</span></span>

<span data-ttu-id="7a09b-154">Schnelles Streaming auf dem Client ist auch über die Funktion " *schnelles Zwischenspeichern* " möglich – das Streaming von bedarfsgesteuerten Inhalten schneller als in Echtzeit und das Zwischenspeichern von Daten im lokalen Cache des Clients.</span><span class="sxs-lookup"><span data-stu-id="7a09b-154">Fast streaming on the client is also possible through the *Fast Cache* feature—streaming on-demand content faster than real time and caching data on the client's local cache.</span></span> <span data-ttu-id="7a09b-155">Um diese Art von schnellem Streaming verwenden zu können, muss der schnelle Cache in der Netzwerkquelle aktiviert werden, und der Server muss ihn unterstützen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-155">To use this type of fast streaming, Fast Cache must be enabled on the network source, and the server must support it.</span></span> <span data-ttu-id="7a09b-156">Wenn der Client Inhalt vom Server anfordert, prüft die Netzwerkquelle zunächst, ob der Inhalt bereits im Cache des Clients vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="7a09b-156">When the client requests content from the server, the network source first checks to see whether the content is already in the client's cache.</span></span> <span data-ttu-id="7a09b-157">Wenn sich der Inhalt im lokalen Cache des Clients befindet und nicht abgelaufen ist, wird er gerendert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-157">If the content is in the client's local cache and has not expired, it is rendered.</span></span> <span data-ttu-id="7a09b-158">Wenn sich der Inhalt nicht im lokalen Cache befindet oder bereits abgelaufen ist, wird der Inhalt gestreamt und zwischengespeichert, und die Netzwerkquelle gibt ihn aus dem lokalen Cache wieder.</span><span class="sxs-lookup"><span data-stu-id="7a09b-158">If the content is not in the local cache or has already expired, the content is streamed and cached, and the network source plays it from the local cache.</span></span> <span data-ttu-id="7a09b-159">In nachfolgenden Anforderungen werden für Wiedergabelisten nur fehlende Einträge zwischengespeichert und dann wiedergegeben.</span><span class="sxs-lookup"><span data-stu-id="7a09b-159">In subsequent requests, for playlists, only missing entries are cached and then played.</span></span> <span data-ttu-id="7a09b-160">Wenn sich ein Wiedergabelisten Eintrag bereits im lokalen Cache des Clients befindet, wird er von dort wiedergegeben und nicht erneut zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-160">If a playlist entry is already in the client's local cache, it is played from there and not cached again.</span></span>

<span data-ttu-id="7a09b-161">Standardmäßig ist der schnelle Cache auf dem Netzwerk Quell Client aktiviert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-161">By default, Fast Cache is enabled on the network source client.</span></span> <span data-ttu-id="7a09b-162">Die folgenden Faktoren bestimmen jedoch auch, ob die Funktion verwendet wird:</span><span class="sxs-lookup"><span data-stu-id="7a09b-162">However, the following factors also determine whether the feature is used:</span></span>

-   <span data-ttu-id="7a09b-163">Auf dem Client muss eine zusätzliche Bandbreite verfügbar sein, um den Inhalt schneller herunterladen und Zwischenspeichern zu können als die normale Geschwindigkeit.</span><span class="sxs-lookup"><span data-stu-id="7a09b-163">The client must have extra bandwidth available to download and cache the content faster than the normal speed.</span></span>
-   <span data-ttu-id="7a09b-164">Auf dem Client muss genügend Speicherplatz vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="7a09b-164">The client must have sufficient disk space.</span></span> <span data-ttu-id="7a09b-165">Wenn der Client nach dem Zwischenspeichern der angeforderten on-Demand-Inhalte über weniger als 100 MB freien Speicherplatz verfügt, wird er nicht zwischengespeichert, sondern gleichzeitig gestreamt und gerendert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-165">If the client has less than 100 MB of free disk space after caching the requested on-demand content, it is not cached, but is streamed and rendered simultaneously.</span></span>

<span data-ttu-id="7a09b-166">Die Funktion "schnelles Cache" wird durch die Eigenschaft " [**\_ cacheaktivierte MF-Quelle**](mfnetsource-cacheenabled-property.md) " gesteuert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-166">The Fast Cache feature is controlled by the [**MFNETSOURCE\_CACHEENABLED**](mfnetsource-cacheenabled-property.md) property.</span></span>

### <a name="buffer-management"></a><span data-ttu-id="7a09b-167">Pufferverwaltung</span><span class="sxs-lookup"><span data-stu-id="7a09b-167">Buffer Management</span></span>

<span data-ttu-id="7a09b-168">Die Netzwerkquelle stellt eine effiziente Puffer Verwaltung bereit, die den Puffer Status auf dem Client überwacht.</span><span class="sxs-lookup"><span data-stu-id="7a09b-168">The network source provides efficient buffer management that monitors the buffer state on the client.</span></span> <span data-ttu-id="7a09b-169">Standardmäßig werden bei der Netzwerkquelle 5 Sekunden Daten beim Start Puffer angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-169">By default, the network source buffers 5 seconds of data at startup.</span></span> <span data-ttu-id="7a09b-170">Sie können diesen Wert konfigurieren, indem Sie die Eigenschaft " [**MF NetSource \_ BufferingTime**](mfnetsource-bufferingtime-property.md) " festlegen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-170">This value can be configured by setting the [**MFNETSOURCE\_BUFFERINGTIME**](mfnetsource-bufferingtime-property.md) property.</span></span> <span data-ttu-id="7a09b-171">Basierend auf diesem Eigenschafts Wert berechnet die Netzwerkquelle die Puffergröße, die ausreichend ist, um eine reibungslose und ununterbrochene Wiedergabe der Medieninhalte sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-171">Based on this property value, the network source computes the buffer size that is sufficient to ensure smooth and uninterrupted playback of the media content.</span></span> <span data-ttu-id="7a09b-172">Wenn diese Eigenschaft auf 0 festgelegt ist, wird die Puffer Verwaltung deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-172">If this property is set to 0, buffer management is disabled.</span></span> <span data-ttu-id="7a09b-173">Wenn die Menge an Inhalt im Puffer gering ist, beginnt die Netzwerkquelle mit der Pufferung und löst das [mebufferingstarted](mebufferingstarted.md) -Ereignis aus, um anzugeben, dass die Pufferung begonnen hat.</span><span class="sxs-lookup"><span data-stu-id="7a09b-173">When the amount of content in the buffer is low, the network source starts buffering and raises the [MEBufferingStarted](mebufferingstarted.md) event to indicate that buffering has begun.</span></span> <span data-ttu-id="7a09b-174">Beim Empfang dieses Ereignisses beendet die Pipeline das Rendering.</span><span class="sxs-lookup"><span data-stu-id="7a09b-174">Upon receiving this event, the pipeline stops rendering.</span></span> <span data-ttu-id="7a09b-175">Wenn die Pufferung fertiggestellt ist, löst die Netzwerkquelle das [mebufferingbeendete](mebufferingstopped.md) -Ereignis aus, und der Client kann das Rendering erneut starten.</span><span class="sxs-lookup"><span data-stu-id="7a09b-175">When buffering is complete, the network source raises the [MEBufferingStopped](mebufferingstopped.md) event, and the client can start rendering again.</span></span>

<span data-ttu-id="7a09b-176">Der Client beginnt mit dem Rendern des Inhalts, nachdem er die Menge der Daten gesammelt hat, die durch die Puffergröße des ersten Beispiels angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="7a09b-176">The client starts rendering the content after it has accumulated the amount of data indicated by the buffer size of the first sample.</span></span> <span data-ttu-id="7a09b-177">Wenn dieser Wert niedriger als die berechnete Puffergröße ist, wird die Wiedergabe sofort gestartet.</span><span class="sxs-lookup"><span data-stu-id="7a09b-177">If this value is lower than the calculated buffer size, then the playback starts immediately.</span></span> <span data-ttu-id="7a09b-178">Dieses Verhalten ähnelt dem schnellen Start Feature.</span><span class="sxs-lookup"><span data-stu-id="7a09b-178">This behavior is very similar to the Fast Startup feature.</span></span>

<span data-ttu-id="7a09b-179">Die [**\_ maxbuffertimems-Eigenschaft von MF NetSource**](mfnetsource-maxbuffertimems-property.md) speichert die maximale Datenmenge, die gepuffert werden kann.</span><span class="sxs-lookup"><span data-stu-id="7a09b-179">The [**MFNETSOURCE\_MAXBUFFERTIMEMS**](mfnetsource-maxbuffertimems-property.md) property stores the maximum amount of data that can be buffered.</span></span>

### <a name="bandwidth-selection"></a><span data-ttu-id="7a09b-180">Bandbreiten Auswahl</span><span class="sxs-lookup"><span data-stu-id="7a09b-180">Bandwidth Selection</span></span>

<span data-ttu-id="7a09b-181">Wenn ein Client eine Verbindung mit dem Medienserver herstellt, führt die Netzwerkquelle im Rahmen der Verbindungs Einrichtung eine *statische Paket paar* Messung aus, um die anfängliche Verknüpfungs Bandbreite zwischen Client und Server einzuschätzen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-181">When a client connects to the media server, as part of the connection setup, the network source performs *static packet-pair* measurement to estimate the initial link bandwidth between client and server.</span></span> <span data-ttu-id="7a09b-182">Basierend auf dem Ergebnis dieser Messung können vom Client Audio-und Videostreams ausgewählt werden, die innerhalb der geschätzten Bandbreite liegen.</span><span class="sxs-lookup"><span data-stu-id="7a09b-182">Based on the result of this measurement, the client can select audio and video streams that fit within the estimated bandwidth.</span></span> <span data-ttu-id="7a09b-183">Dadurch wird die reibungslose Wiedergabe der Streamingmedieninhalte sichergestellt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-183">This ensures smooth playback of the streaming media content.</span></span>

<span data-ttu-id="7a09b-184">Während der Schnellstart Phase wird die *dynamische Paket paar* Messung durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-184">During the Fast Startup stage, *dynamic packet-pair* measurement is performed.</span></span> <span data-ttu-id="7a09b-185">Bei diesem Vorgang empfängt der Client große Datenmengen, bei denen es sich um mehrere Pakete oder Stichproben handeln kann.</span><span class="sxs-lookup"><span data-stu-id="7a09b-185">In this process, the client receives large amounts of data, which can be multiple packets or samples.</span></span>

<span data-ttu-id="7a09b-186">Das Ergebnis der dynamischen Paket paar Messung ist präziser als die von der statischen Paket paar Messung zurückgegebene Schätzung der Link Bandbreite, da der statische Paket paar Prozess ein einzelnes Paket mit fester Größe sendet, das möglicherweise keine exakten Ergebnisse für Netzwerke mit hoher Bandbreite liefert.</span><span class="sxs-lookup"><span data-stu-id="7a09b-186">The result of dynamic packet-pair measurement is more accurate than the link bandwidth estimate returned by static packet-pair measurement because the static packet-pair process sends a single packet of fixed size, which may not yield accurate results for high bandwidth networks.</span></span>

<span data-ttu-id="7a09b-187">Die Anwendung kann die geschätzte Bandbreite mithilfe der Eigenschaft " [**MF NetSource \_ ppbandwidth**](mfnetsource-ppbandwidth-property.md) " erhalten.</span><span class="sxs-lookup"><span data-stu-id="7a09b-187">The application can get the estimated bandwidth by using the [**MFNETSOURCE\_PPBANDWIDTH**](mfnetsource-ppbandwidth-property.md) property.</span></span>

<span data-ttu-id="7a09b-188">Netzwerkbedingungen können sich dynamisch ändern, was zu einem Fehler bei der Wiedergabe der Netzwerkquelle führt.</span><span class="sxs-lookup"><span data-stu-id="7a09b-188">Network conditions may change dynamically, causing glitches in playback of the network source.</span></span> <span data-ttu-id="7a09b-189">Die Netzwerkquelle kann die anfängliche Datenstrom Auswahl des Clients basierend auf der Empfangs Rate und dem Puffer Status ändern.</span><span class="sxs-lookup"><span data-stu-id="7a09b-189">The network source can change the client's initial stream selection based on the receiving rate and the buffer state.</span></span> <span data-ttu-id="7a09b-190">Beispielsweise kann der Client während der Überlastung des Netzwerks zu einer niedrigeren Bitrate wechseln und zurück zu einer höheren Bitrate wechseln, wenn sich der Netzwerk Datenverkehr verbessert hat und der Client eine ausreichende Menge an gepuffertem Inhalt angesammelt hat.</span><span class="sxs-lookup"><span data-stu-id="7a09b-190">For example, the client might switch to a lower bit rate during network congestion and switch back to a higher bit rate when network traffic has improved and the client has accumulated a sufficient amount of buffered content.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7a09b-191">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7a09b-191">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7a09b-192">Netzwerk in Media Foundation</span><span class="sxs-lookup"><span data-stu-id="7a09b-192">Networking in Media Foundation</span></span>](networking-in-media-foundation.md)
</dt> </dl>

 

 



