---
description: Medien senken sind die Pipeline Objekte, die Mediendaten empfangen.
ms.assetid: a0fbce1b-0a16-4449-9eca-906fd9056a1c
title: Medien senken
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e9394cbfd49a631d59b9296202a2b6ca7a868869
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/03/2021
ms.locfileid: "104351248"
---
# <a name="media-sinks"></a><span data-ttu-id="26102-103">Medien senken</span><span class="sxs-lookup"><span data-stu-id="26102-103">Media Sinks</span></span>

<span data-ttu-id="26102-104">*Medien senken* sind die Pipeline Objekte, die Mediendaten empfangen.</span><span class="sxs-lookup"><span data-stu-id="26102-104">*Media sinks* are the pipeline objects that receive media data.</span></span> <span data-ttu-id="26102-105">Eine Medien Senke ist das Ziel für einen oder mehrere Mediendaten Ströme.</span><span class="sxs-lookup"><span data-stu-id="26102-105">A media sink is the destination for one or more media streams.</span></span> <span data-ttu-id="26102-106">Medien senken lassen sich in zwei allgemeine Kategorien unterteilen:</span><span class="sxs-lookup"><span data-stu-id="26102-106">Media sinks fall into two general categories:</span></span>

-   <span data-ttu-id="26102-107">Ein *Renderer* ist eine Medien Senke, die Daten für die Wiedergabe darstellt.</span><span class="sxs-lookup"><span data-stu-id="26102-107">A *renderer* is a media sink that presents data for playback.</span></span> <span data-ttu-id="26102-108">Der Enhanced Video Renderer (EVR) zeigt Video Frames an, und der audiorenderer stellt Audiostreams über die Soundkarte oder ein anderes Audiogerät wieder.</span><span class="sxs-lookup"><span data-stu-id="26102-108">The enhanced video renderer (EVR) displays video frames, and the audio renderer plays audio streams through the sound card or other audio device.</span></span>

-   <span data-ttu-id="26102-109">Eine *Archiv Senke* ist eine Medien Senke, die Daten in eine Datei oder einen anderen Speicher schreibt.</span><span class="sxs-lookup"><span data-stu-id="26102-109">An *archive sink* is a media sink that writes data to a file or other storage.</span></span>

<span data-ttu-id="26102-110">Der Hauptunterschied besteht darin, dass eine Archiv Senke die Daten nicht mit fester Wiedergabe Rate beansprucht.</span><span class="sxs-lookup"><span data-stu-id="26102-110">The main difference between them is that an archive sink does not consume the data at a fixed playback rate.</span></span> <span data-ttu-id="26102-111">Stattdessen werden die empfangenen Daten so schnell wie möglich geschrieben.</span><span class="sxs-lookup"><span data-stu-id="26102-111">Instead, it writes the data that it receives as quickly as possible.</span></span>

<span data-ttu-id="26102-112">Medien senken machen die [**imfmediasink**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasink) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="26102-112">Media sinks expose the [**IMFMediaSink**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasink) interface.</span></span> <span data-ttu-id="26102-113">Jede Medien Senke enthält mindestens einen *streamsenken*.</span><span class="sxs-lookup"><span data-stu-id="26102-113">Each media sink contains one or more *stream sinks*.</span></span> <span data-ttu-id="26102-114">Jede streamsenke empfängt die Daten aus einem Datenstrom.</span><span class="sxs-lookup"><span data-stu-id="26102-114">Each stream sink receives the data from one stream.</span></span> <span data-ttu-id="26102-115">Stream-senken machen die [**IMF streamsink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="26102-115">Stream sinks expose the [**IMFStreamSink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) interface.</span></span> <span data-ttu-id="26102-116">In der Regel werden Medien senken nicht direkt von einer Anwendung erstellt.</span><span class="sxs-lookup"><span data-stu-id="26102-116">Typically an application does not create media sinks directly.</span></span> <span data-ttu-id="26102-117">Stattdessen erstellt die Anwendung ein oder mehrere Aktivierungs Objekte, die von der Medien Sitzung zum Erstellen der Senke verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="26102-117">Instead, the application creates one or more activation objects, which the Media Session uses to create the sink.</span></span> <span data-ttu-id="26102-118">Alle anderen Vorgänge in der Senke werden von der Medien Sitzung verarbeitet, und die Anwendung ruft keine Methoden für die Medien Senke oder einen der streamsenken auf.</span><span class="sxs-lookup"><span data-stu-id="26102-118">All other operations on the sink are handled by the Media Session, and the application does not call any methods on the media sink or any of the stream sinks.</span></span> <span data-ttu-id="26102-119">Weitere Informationen zu Aktivierungs Objekten finden Sie unter [Activation Objects](activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="26102-119">For more information about activation objects, see [Activation Objects](activation-objects.md).</span></span>

<span data-ttu-id="26102-120">Lesen Sie den Rest dieses Themas, wenn Sie eine benutzerdefinierte Medien Senke schreiben, oder wenn Sie eine Medien Senke direkt ohne die Medien Sitzung verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="26102-120">You should read the remainder of this topic if you are writing a custom media sink, or if you want to use a media sink directly without the Media Session.</span></span>

-   [<span data-ttu-id="26102-121">Streamsenken</span><span class="sxs-lookup"><span data-stu-id="26102-121">Stream Sinks</span></span>](#stream-sinks)
-   [<span data-ttu-id="26102-122">Präsentations Uhr</span><span class="sxs-lookup"><span data-stu-id="26102-122">Presentation Clock</span></span>](#presentation-clock)
-   [<span data-ttu-id="26102-123">Streamformate</span><span class="sxs-lookup"><span data-stu-id="26102-123">Stream Formats</span></span>](#stream-formats)
-   [<span data-ttu-id="26102-124">Datenfluss</span><span class="sxs-lookup"><span data-stu-id="26102-124">Data Flow</span></span>](#data-flow)
-   [<span data-ttu-id="26102-125">Marker</span><span class="sxs-lookup"><span data-stu-id="26102-125">Markers</span></span>](#markers)
-   [<span data-ttu-id="26102-126">Statusänderungen</span><span class="sxs-lookup"><span data-stu-id="26102-126">State Changes</span></span>](#state-changes)
-   [<span data-ttu-id="26102-127">Ausführung wird abgeschlossen</span><span class="sxs-lookup"><span data-stu-id="26102-127">Finalizing</span></span>](#finalizing)
-   [<span data-ttu-id="26102-128">Wird heruntergefahren</span><span class="sxs-lookup"><span data-stu-id="26102-128">Shutting Down</span></span>](#shutting-down)
-   [<span data-ttu-id="26102-129">Media Sink-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="26102-129">Media Sink Interfaces</span></span>](#media-sink-interfaces)
-   [<span data-ttu-id="26102-130">Stream Sink-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="26102-130">Stream Sink Interfaces</span></span>](#stream-sink-interfaces)
-   [<span data-ttu-id="26102-131">Streamsink-Ereignisse</span><span class="sxs-lookup"><span data-stu-id="26102-131">Stream Sink Events</span></span>](#stream-sink-events)
-   [<span data-ttu-id="26102-132">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="26102-132">Related topics</span></span>](#related-topics)

## <a name="stream-sinks"></a><span data-ttu-id="26102-133">Streamsenken</span><span class="sxs-lookup"><span data-stu-id="26102-133">Stream Sinks</span></span>

<span data-ttu-id="26102-134">Eine Medien Senke kann eine Fixed-Anzahl von streamsenken aufweisen, oder Sie kann das Hinzufügen und Entfernen von streamsenken unterstützen.</span><span class="sxs-lookup"><span data-stu-id="26102-134">A media sink can have a fixed number of stream sinks, or it can support adding and removing stream sinks.</span></span> <span data-ttu-id="26102-135">Wenn Sie über eine festgelegte Anzahl von streamsenken verfügt, gibt die [**imfmediasink:: getcharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) -Methode das Flag "mediasink \_ Fixed Streams" zurück \_ .</span><span class="sxs-lookup"><span data-stu-id="26102-135">If it has a fixed number of stream sinks, the [**IMFMediaSink::GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method returns the MEDIASINK\_FIXED\_STREAMS flag.</span></span> <span data-ttu-id="26102-136">Andernfalls können Sie streamsenken hinzufügen und entfernen.</span><span class="sxs-lookup"><span data-stu-id="26102-136">Otherwise, you can add and remove stream sinks.</span></span> <span data-ttu-id="26102-137">Um eine neue streamsenke hinzuzufügen, nennen Sie [**imfmediasink:: addstreamsink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-addstreamsink).</span><span class="sxs-lookup"><span data-stu-id="26102-137">To add a new stream sink, call [**IMFMediaSink::AddStreamSink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-addstreamsink).</span></span> <span data-ttu-id="26102-138">Um eine streamsenke zu entfernen, nennen Sie [**imfmediasink:: removestreamsink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-removestreamsink).</span><span class="sxs-lookup"><span data-stu-id="26102-138">To remove a stream sink, call [**IMFMediaSink::RemoveStreamSink**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-removestreamsink).</span></span> <span data-ttu-id="26102-139">Das Flag für "mediasink \_ Fixed \_ Streams" gibt an, dass die Medien Senke diese beiden Methoden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="26102-139">The MEDIASINK\_FIXED\_STREAMS flag indicates that the media sink does not support these two methods.</span></span> <span data-ttu-id="26102-140">(Es kann eine andere Möglichkeit zum Konfigurieren der Anzahl von Streams unterstützen, z. b. durch Festlegen von Initialisierungs Parametern, wenn die Senke erstellt wird.) Die Liste der streamsenken ist geordnet.</span><span class="sxs-lookup"><span data-stu-id="26102-140">(It might support some other way to configure the number of streams, for example by setting initialization parameters when the sink is created.) The list of stream sinks is ordered.</span></span> <span data-ttu-id="26102-141">Um diese nach Indexwert aufzulisten, müssen Sie die [**imfmediasink:: getstreamsink byindex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyindex) -Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="26102-141">To enumerate them by index value, call the [**IMFMediaSink::GetStreamSinkByIndex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyindex) method.</span></span>

<span data-ttu-id="26102-142">Streamsenken verfügen auch über Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="26102-142">Stream sinks also have identifiers.</span></span> <span data-ttu-id="26102-143">Stream-IDs sind innerhalb der Medien Senke eindeutig, müssen jedoch nicht aufeinander folgen.</span><span class="sxs-lookup"><span data-stu-id="26102-143">Stream identifiers are unique within the media sink, but do not have to be consecutive.</span></span> <span data-ttu-id="26102-144">Abhängig von der Medien Senke können die Datenstrom Bezeichner eine gewisse Bedeutung haben, die mit dem Inhalt verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="26102-144">Depending on the media sink, the stream identifiers might have some meaning that is related to the content.</span></span> <span data-ttu-id="26102-145">Beispielsweise könnte eine Archiv Senke die Datenstrom Bezeichner in den Dateiheader schreiben.</span><span class="sxs-lookup"><span data-stu-id="26102-145">For example, an archive sink might write the stream identifiers into the file header.</span></span> <span data-ttu-id="26102-146">Andernfalls handelt es sich um beliebige.</span><span class="sxs-lookup"><span data-stu-id="26102-146">Otherwise, they are arbitrary.</span></span> <span data-ttu-id="26102-147">Um eine streamsenke anhand ihres Bezeichners abzurufen, nennen Sie [**imfmediasink:: getstreamsinkbyid**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyid).</span><span class="sxs-lookup"><span data-stu-id="26102-147">To get a stream sink by its identifier, call [**IMFMediaSink::GetStreamSinkById**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getstreamsinkbyid).</span></span>

## <a name="presentation-clock"></a><span data-ttu-id="26102-148">Präsentations Uhr</span><span class="sxs-lookup"><span data-stu-id="26102-148">Presentation Clock</span></span>

<span data-ttu-id="26102-149">Die Rate, mit der eine Medien Senke Stichproben verarbeitet, wird von der [Präsentations Uhr](presentation-clock.md)gesteuert.</span><span class="sxs-lookup"><span data-stu-id="26102-149">The rate at which a media sink consumes samples is controlled by the [Presentation Clock](presentation-clock.md).</span></span> <span data-ttu-id="26102-150">In der Medien Sitzung wird die Präsentations Uhr ausgewählt und auf der Medien Senke durch Aufrufen der [**imfmediasink:: setpresentationclock**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-setpresentationclock) -Methode der Medien Senke festgelegt.</span><span class="sxs-lookup"><span data-stu-id="26102-150">The Media Session selects the presentation clock and sets it on the media sink by calling the media sink's [**IMFMediaSink::SetPresentationClock**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-setpresentationclock) method.</span></span> <span data-ttu-id="26102-151">Die Präsentations Uhr muss auf der Medien Senke festgelegt werden, bevor das Streaming beginnen kann.</span><span class="sxs-lookup"><span data-stu-id="26102-151">The presentation clock must be set on the media sink before streaming can begin.</span></span> <span data-ttu-id="26102-152">Für jede Medien Senke muss eine Präsentations-Uhr ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="26102-152">Every media sink requires a presentation clock to run.</span></span> <span data-ttu-id="26102-153">Die Medien Senke verwendet die Präsentations Uhr für zwei Zwecke:</span><span class="sxs-lookup"><span data-stu-id="26102-153">The media sink uses the presentation clock for two purposes:</span></span>

-   <span data-ttu-id="26102-154">Zum Empfangen von Benachrichtigungen, wenn Streaming gestartet oder angehalten wird.</span><span class="sxs-lookup"><span data-stu-id="26102-154">To receive notifications when streaming starts or stops.</span></span> <span data-ttu-id="26102-155">Die Medien Senke empfängt diese Benachrichtigungen über die [**IMF-staatink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) -Schnittstelle, die alle Medien senken implementieren müssen.</span><span class="sxs-lookup"><span data-stu-id="26102-155">The media sink receives these notifications through the [**IMFClockStateSink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) interface, which all media sinks must implement.</span></span>

-   <span data-ttu-id="26102-156">, Um zu bestimmen, wann die Beispiele angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="26102-156">To determine when it should render samples.</span></span> <span data-ttu-id="26102-157">Wenn die Medien Senke ein neues Beispiel empfängt, ruft Sie den Zeitstempel aus dem Beispiel ab und versucht, das Beispiel zu dieser Präsentationszeit zu rendernieren.</span><span class="sxs-lookup"><span data-stu-id="26102-157">When the media sink receives a new sample, it gets the time stamp from the sample and tries to render the sample at that presentation time.</span></span>

<span data-ttu-id="26102-158">Die Präsentations Uhr leitet die Uhrzeiten von einem anderen Objekt ab, das als *Präsentationszeit Quelle* bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="26102-158">The presentation clock derives its clock times from another object called the *presentation time source*.</span></span> <span data-ttu-id="26102-159">Präsentationszeit Quellen machen die [**IMF presentationtimesource**](/windows/desktop/api/mfidl/nn-mfidl-imfpresentationtimesource) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="26102-159">Presentation time sources expose the [**IMFPresentationTimeSource**](/windows/desktop/api/mfidl/nn-mfidl-imfpresentationtimesource) interface.</span></span> <span data-ttu-id="26102-160">Einige Medien senken haben Zugriff auf eine exakte Uhr, sodass Sie diese Schnittstelle verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="26102-160">Some media sinks have access to an accurate clock, so they expose this interface.</span></span> <span data-ttu-id="26102-161">Dies bedeutet, dass eine Medien Senke Stichproben anhand einer Zeit planen kann, die von der eigenen Uhr bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="26102-161">This means that a media sink might schedule samples against a time provided by its own clock.</span></span> <span data-ttu-id="26102-162">Die Medien Senke kann dies jedoch nicht annehmen.</span><span class="sxs-lookup"><span data-stu-id="26102-162">However, the media sink cannot assume this to be the case.</span></span> <span data-ttu-id="26102-163">Es muss immer die Uhrzeit von der Präsentations Uhr verwenden, unabhängig davon, ob die Präsentations Uhr von der Medien Senke selbst oder von einer anderen Uhr gesteuert wird.</span><span class="sxs-lookup"><span data-stu-id="26102-163">It must always use the time from the presentation clock, regardless of whether the presentation clock is driven by the media sink itself, or by some other clock.</span></span>

<span data-ttu-id="26102-164">Wenn eine Medien Senke nicht mit einer anderen als der eigenen Uhr abgeglichen werden kann, gibt die [**getcharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) -Methode das mediasink-Flag für die \_ \_ \_ Uhrzeitangabe nicht zurück.</span><span class="sxs-lookup"><span data-stu-id="26102-164">If a media sink cannot match rates with a clock other than its own, the [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method returns the MEDIASINK\_CANNOT\_MATCH\_CLOCK flag.</span></span> <span data-ttu-id="26102-165">Wenn dieses Flag vorhanden ist und die Präsentations Uhr eine andere Präsentationszeit Quelle verwendet, ist die Medien Senke wahrscheinlich schlecht.</span><span class="sxs-lookup"><span data-stu-id="26102-165">If this flag is present and the presentation clock uses a different presentation time source, the media sink is likely to perform poorly.</span></span> <span data-ttu-id="26102-166">Beispielsweise könnte es während der Wiedergabe passieren.</span><span class="sxs-lookup"><span data-stu-id="26102-166">For example, it might glitch during playback.</span></span>

<span data-ttu-id="26102-167">Eine Gebühren *lose* Senke ist eine Medien Senke, die die Zeitstempel von Beispielen ignoriert und Daten verarbeitet, sobald die einzelnen Beispiele eintreffen.</span><span class="sxs-lookup"><span data-stu-id="26102-167">A *rateless* sink is a media sink that ignores the time stamps on samples and consumes data as soon as each sample arrives.</span></span> <span data-ttu-id="26102-168">Eine ratlose Medien Senke gibt das mediasink- \_ Flag mit der Methode " [**getcharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) " zurück.</span><span class="sxs-lookup"><span data-stu-id="26102-168">A rateless media sink returns the MEDIASINK\_RATELESS flag from the [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method.</span></span> <span data-ttu-id="26102-169">Dieses Flag gilt in der Regel für Archiv senken.</span><span class="sxs-lookup"><span data-stu-id="26102-169">Typically this flag applies to archive sinks.</span></span> <span data-ttu-id="26102-170">Wenn jede Medien Senke in der Pipeline Gebühren lose ist, verwendet die Medien Sitzung eine spezielle, ratlose Präsentationszeit.</span><span class="sxs-lookup"><span data-stu-id="26102-170">If every media sink in the pipeline is rateless, the Media Session uses a special rateless presentation clock.</span></span> <span data-ttu-id="26102-171">Diese Uhr wird so schnell ausgeführt, wie die senken Stichproben belegen.</span><span class="sxs-lookup"><span data-stu-id="26102-171">This clock runs as quickly as the sinks consume samples.</span></span>

## <a name="stream-formats"></a><span data-ttu-id="26102-172">Streamformate</span><span class="sxs-lookup"><span data-stu-id="26102-172">Stream Formats</span></span>

<span data-ttu-id="26102-173">Bevor die Medien Senke Beispiele empfangen kann, muss der Client den Medientyp für die streamsenken festlegen.</span><span class="sxs-lookup"><span data-stu-id="26102-173">Before the media sink can receive samples, the client must set the media type on the stream sinks.</span></span> <span data-ttu-id="26102-174">Um den Medientyp festzulegen, müssen Sie die [**imfstreamsink:: getmediatypeer Handler**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-getmediatypehandler) -Methode der Stream-Senke aufrufen.</span><span class="sxs-lookup"><span data-stu-id="26102-174">To set the media type, call the stream sink's [**IMFStreamSink::GetMediaTypeHandler**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-getmediatypehandler) method.</span></span> <span data-ttu-id="26102-175">Diese Methode gibt einen Zeiger auf die [**imfmediatypeer Handler**](/windows/desktop/api/mfidl/nn-mfidl-imfmediatypehandler) -Schnittstelle zurück.</span><span class="sxs-lookup"><span data-stu-id="26102-175">This method returns a pointer to the [**IMFMediaTypeHandler**](/windows/desktop/api/mfidl/nn-mfidl-imfmediatypehandler) interface.</span></span> <span data-ttu-id="26102-176">Verwenden Sie diese Schnittstelle, um die Liste der bevorzugten Medientypen zu erhalten, den aktuellen Medientyp zu erhalten und den Medientyp festzulegen.</span><span class="sxs-lookup"><span data-stu-id="26102-176">Use this interface to get the list of preferred media types, get the current media type, and set the media type.</span></span>

<span data-ttu-id="26102-177">Wenn Sie die Liste der bevorzugten Medientypen abrufen möchten, müssen Sie [**imfmediatyethandler:: getmediatypeer byindex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getmediatypebyindex)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="26102-177">To get the list of preferred media types, call [**IMFMediaTypeHandler::GetMediaTypeByIndex**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getmediatypebyindex).</span></span> <span data-ttu-id="26102-178">Die bevorzugten Typen sollten als Hinweis für den Client übernommen werden.</span><span class="sxs-lookup"><span data-stu-id="26102-178">The preferred types should be taken as a hint to the client.</span></span> <span data-ttu-id="26102-179">Die Liste kann unvollständig sein oder partielle Medientypen einschließen.</span><span class="sxs-lookup"><span data-stu-id="26102-179">The list might be incomplete or include partial media types.</span></span> <span data-ttu-id="26102-180">Ein partieller Medientyp ist ein Typ, der nicht über alle Attribute verfügt, die zum Beschreiben eines gültigen Formats benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="26102-180">A partial media type is one that does not have all of the attributes needed to describe a valid format.</span></span> <span data-ttu-id="26102-181">Beispielsweise kann ein partieller Videotyp den Farb Raum und die Bitrate, aber nicht die Breite oder Höhe des Bilds angeben.</span><span class="sxs-lookup"><span data-stu-id="26102-181">For example, a partial video type might specify the color space and bit depth but not the image width or height.</span></span> <span data-ttu-id="26102-182">Mit einem partiellen Audiotyp können das Komprimierungs Format und die Samplingrate, aber nicht die Anzahl der Audiokanäle angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="26102-182">A partial audio type might specify the compression format and the sample rate but not the number of audio channels.</span></span>

<span data-ttu-id="26102-183">Um den aktuellen Medientyp der Stream-Senke abzurufen, nennen Sie [**imfmediatyphandler:: getcurrentmediatype**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getcurrentmediatype).</span><span class="sxs-lookup"><span data-stu-id="26102-183">To get the stream sink's current media type, call [**IMFMediaTypeHandler::GetCurrentMediaType**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-getcurrentmediatype).</span></span> <span data-ttu-id="26102-184">Wenn eine streamsenke erstmalig erstellt wird, ist möglicherweise bereits ein Standard Medientyp festgelegt, oder es kann kein Medientyp vorhanden sein, bis der Client einen festgelegt hat.</span><span class="sxs-lookup"><span data-stu-id="26102-184">When a stream sink is first created, it might have a default media type already set, or it might have no media type until the client sets one.</span></span>

<span data-ttu-id="26102-185">Um den Medientyp festzulegen, müssen Sie [**imfmediatyphandler:: setcurrentmediatype**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-setcurrentmediatype)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="26102-185">To set the media type, call [**IMFMediaTypeHandler::SetCurrentMediaType**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-setcurrentmediatype).</span></span> <span data-ttu-id="26102-186">Einige streamsenken unterstützen möglicherweise nicht das Ändern des Typs, nachdem festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="26102-186">Some stream sinks might not support changing the type after is has been set.</span></span> <span data-ttu-id="26102-187">Daher ist es hilfreich, die Medientypen vor dem festlegen zu testen.</span><span class="sxs-lookup"><span data-stu-id="26102-187">Therefore, it useful to test media types before setting them.</span></span> <span data-ttu-id="26102-188">Um zu testen, ob die Medien Senke einen Medientyp annimmt (ohne Festlegen des Typs), nennen Sie [**imfmediatypehandler:: ismediatypesupportiert**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-ismediatypesupported).</span><span class="sxs-lookup"><span data-stu-id="26102-188">To test whether the media sink will accept a media type, (without setting the type), call [**IMFMediaTypeHandler::IsMediaTypeSupported**](/windows/desktop/api/mfidl/nf-mfidl-imfmediatypehandler-ismediatypesupported).</span></span>

## <a name="data-flow"></a><span data-ttu-id="26102-189">Datenfluss</span><span class="sxs-lookup"><span data-stu-id="26102-189">Data Flow</span></span>

<span data-ttu-id="26102-190">Medien senken verwenden ein *Pull-Modell*, was bedeutet, dass die Stream-senken Daten anfordern, wenn Sie Sie benötigen.</span><span class="sxs-lookup"><span data-stu-id="26102-190">Media sinks use a *pull model*, which means that the stream sinks request data as they need it.</span></span> <span data-ttu-id="26102-191">Der Client sollte rechtzeitig reagieren, um das Abrufen zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="26102-191">The client should respond in a timely manner to avoid any glitching.</span></span>

<span data-ttu-id="26102-192">Einige Medien senken unterstützen die *vorab* Version.</span><span class="sxs-lookup"><span data-stu-id="26102-192">Some media sinks support *prerolling*.</span></span> <span data-ttu-id="26102-193">Die Vorabversion ist der Prozess, bei dem Daten an die Medien Senke über gegeben werden, bevor die Präsentations Uhr beginnt.</span><span class="sxs-lookup"><span data-stu-id="26102-193">Prerolling is the process of giving data to the media sink before the presentation clock starts.</span></span> <span data-ttu-id="26102-194">Wenn eine Medien Senke die Vorabversion unterstützt, macht die Medien Senke die [**imfmediasinkpreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll) -Schnittstelle verfügbar, und die [**getcharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) -Methode gibt das mediasink-Flag für den vorab Befehl zurück \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="26102-194">If a media sink supports prerolling, the media sink exposes the [**IMFMediaSinkPreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll) interface, and the [**GetCharacteristics**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-getcharacteristics) method returns the MEDIASINK\_CAN\_PREROLL flag.</span></span> <span data-ttu-id="26102-195">Die Vorabversion stellt sicher, dass die Medien Senke bereit ist, das erste Beispiel zu präsentieren, wenn die Präsentations Uhr gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="26102-195">Prerolling ensures that the media sink is ready to present the first sample when the presentation clock starts.</span></span> <span data-ttu-id="26102-196">Es wird empfohlen, dass der Client immer vorab einen vorab Vorgang vorhat, wenn er von der Medien Senke unterstützt wird</span><span class="sxs-lookup"><span data-stu-id="26102-196">It is recommended that the client always preroll if the media sink supports it, because it can prevent glitching or gaps during playback.</span></span>

<span data-ttu-id="26102-197">Der Datenfluss zu einer Medien Senke funktioniert wie folgt:</span><span class="sxs-lookup"><span data-stu-id="26102-197">Data flow to a media sink works as follows:</span></span>

1.  <span data-ttu-id="26102-198">Der Client legt die Medientypen und die Präsentations Uhr fest.</span><span class="sxs-lookup"><span data-stu-id="26102-198">The client sets the media types and the presentation clock.</span></span> <span data-ttu-id="26102-199">Die Medien Senke registriert sich selbst bei der Präsentationszeit, um Benachrichtigungen zu Änderungen des uhrzustands zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="26102-199">The media sink registers itself with the presentation clock to receive notifications about clock state changes.</span></span>
2.  <span data-ttu-id="26102-200">Optional fragt der Client [**imfmediasinkpreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll)ab.</span><span class="sxs-lookup"><span data-stu-id="26102-200">Optionally, the client queries for [**IMFMediaSinkPreroll**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll).</span></span> <span data-ttu-id="26102-201">Wenn die Medien Senke diese Schnittstelle verfügbar macht, ruft der Client [**imfmediasinkpreroll:: notifypreroll**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasinkpreroll-notifypreroll)auf.</span><span class="sxs-lookup"><span data-stu-id="26102-201">If the media sink exposes this interface, the client calls [**IMFMediaSinkPreroll::NotifyPreroll**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasinkpreroll-notifypreroll).</span></span> <span data-ttu-id="26102-202">Andernfalls springt der Client zu Schritt 5.</span><span class="sxs-lookup"><span data-stu-id="26102-202">Otherwise, the client skips to step 5.</span></span>
3.  <span data-ttu-id="26102-203">Jede streamsenke sendet ein oder mehrere [mestreamsinkrequestsample](mestreamsinkrequestsample.md) -Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="26102-203">Each stream sink sends one or more [MEStreamSinkRequestSample](mestreamsinkrequestsample.md) events.</span></span> <span data-ttu-id="26102-204">Als Reaktion auf jedes dieser Ereignisse ruft der Client die nächste Stichprobe der Daten für diesen Stream ab und ruft [**imfstreamsink::P rocesssample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample)auf.</span><span class="sxs-lookup"><span data-stu-id="26102-204">In response to each of these events, the client gets the next sample of data for that stream and calls [**IMFStreamSink::ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample).</span></span>
4.  <span data-ttu-id="26102-205">Wenn jede streamsenke genügend vorab Daten empfängt, sendet Sie ein [mestreamsinkprerolled](mestreamsinkprerolled.md) -Ereignis.</span><span class="sxs-lookup"><span data-stu-id="26102-205">When each stream sink receives enough preroll data, it sends an [MEStreamSinkPrerolled](mestreamsinkprerolled.md) event.</span></span>
5.  <span data-ttu-id="26102-206">Der Client ruft die [**imfpresentationclock:: Start**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-start) -Methode auf, um die Präsentations Uhr zu starten.</span><span class="sxs-lookup"><span data-stu-id="26102-206">The client calls [**IMFPresentationClock::Start**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-start) to start the presentation clock.</span></span>
6.  <span data-ttu-id="26102-207">Die Präsentations Uhr benachrichtigt die Medien Senke, dass die Uhr gestartet wird, indem [**imfclockstaatink:: onclockstart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="26102-207">The presentation clock notifies the media sink that the clock is starting, by calling [**IMFClockStateSink::OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span></span>
7.  <span data-ttu-id="26102-208">Um weitere Daten zu erhalten, sendet jede streamsenke [mestreamsinkrequestsample](mestreamsinkrequestsample.md) -Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="26102-208">To get more data, each stream sink sends [MEStreamSinkRequestSample](mestreamsinkrequestsample.md) events.</span></span> <span data-ttu-id="26102-209">Als Reaktion auf jedes dieser Ereignisse wird der Client das nächste Beispiel abrufen und [**processsample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="26102-209">In response to each of these events, the client gets the next sample and calls [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample).</span></span> <span data-ttu-id="26102-210">Dieser Schritt wird bis zum Ende der Präsentation wiederholt.</span><span class="sxs-lookup"><span data-stu-id="26102-210">This step is repeated until the presentation ends.</span></span>

<span data-ttu-id="26102-211">Die meisten Medien senken Prozess Beispiele asynchron, sodass die streamsenken mehr als eine Beispiel Anforderung gleichzeitig senden können.</span><span class="sxs-lookup"><span data-stu-id="26102-211">Most media sinks process samples asynchronously, so the stream sinks can send out more than one sample request at a time.</span></span>

<span data-ttu-id="26102-212">Beim Streaming kann der Client " [**imfstreamsink::P lacemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) " und " [**imfstreamsink:: Flush**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-flush) " jederzeit aufrufen.</span><span class="sxs-lookup"><span data-stu-id="26102-212">During streaming, the client can call [**IMFStreamSink::PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) and [**IMFStreamSink::Flush**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-flush) at any time.</span></span> <span data-ttu-id="26102-213">Marker werden im nächsten Abschnitt beschrieben.</span><span class="sxs-lookup"><span data-stu-id="26102-213">Markers are described in the next section.</span></span> <span data-ttu-id="26102-214">Das leeren bewirkt, dass die streamsenke alle in der Warteschlange befindlichen, aber noch nicht gerenderten Beispiele löscht.</span><span class="sxs-lookup"><span data-stu-id="26102-214">Flushing causes the stream sink to drop any samples that it has queued but not rendered yet.</span></span>

## <a name="markers"></a><span data-ttu-id="26102-215">Marker</span><span class="sxs-lookup"><span data-stu-id="26102-215">Markers</span></span>

<span data-ttu-id="26102-216">Marker bieten eine Möglichkeit für den Client, bestimmte Punkte im Stream anzugeben.</span><span class="sxs-lookup"><span data-stu-id="26102-216">Markers provide a way for the client to indicate specific points in the stream.</span></span> <span data-ttu-id="26102-217">Ein Marker besteht aus den folgenden Informationen:</span><span class="sxs-lookup"><span data-stu-id="26102-217">A marker consists of the following information:</span></span>

-   <span data-ttu-id="26102-218">Der Markertyp, der als Member der [**mfstreamsink- \_ \_ Markertyp**](/windows/desktop/api/mfidl/ne-mfidl-mfstreamsink_marker_type) -Enumeration definiert ist.</span><span class="sxs-lookup"><span data-stu-id="26102-218">The marker type, defined as a member of the [**MFSTREAMSINK\_MARKER\_TYPE**](/windows/desktop/api/mfidl/ne-mfidl-mfstreamsink_marker_type) enumeration.</span></span>
-   <span data-ttu-id="26102-219">Dem Marker zugeordnete Daten.</span><span class="sxs-lookup"><span data-stu-id="26102-219">Data associated with the marker.</span></span> <span data-ttu-id="26102-220">Die Bedeutung der Daten hängt vom Markertyp ab.</span><span class="sxs-lookup"><span data-stu-id="26102-220">The meaning of the data depends on the marker type.</span></span> <span data-ttu-id="26102-221">Einige Markertypen weisen keine Daten auf.</span><span class="sxs-lookup"><span data-stu-id="26102-221">Some marker types do not have data.</span></span>
-   <span data-ttu-id="26102-222">Optionale Daten für die Verwendung durch den Client.</span><span class="sxs-lookup"><span data-stu-id="26102-222">Optional data for the client's own use.</span></span>

<span data-ttu-id="26102-223">Zum Platzieren eines Markers ruft der Client [**imfstreamsink::P lacemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker)auf.</span><span class="sxs-lookup"><span data-stu-id="26102-223">To place a marker, the client calls [**IMFStreamSink::PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker).</span></span> <span data-ttu-id="26102-224">Die streamsenke schließt die Verarbeitung von vor dem **Placemarker** -Aufruf empfangenen Beispielen ab und sendet dann ein [mestreamsinkmarker](mestreamsinkmarker.md) -Ereignis.</span><span class="sxs-lookup"><span data-stu-id="26102-224">The stream sink finishes processing any samples that it received before the **PlaceMarker** call, and then sends an [MEStreamSinkMarker](mestreamsinkmarker.md) event.</span></span>

<span data-ttu-id="26102-225">Die meisten Medien senken behalten eine Warteschlange von ausstehenden Stichproben bei, die Sie asynchron verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="26102-225">Most media sinks keep a queue of pending samples, which they process asynchronously.</span></span> <span data-ttu-id="26102-226">Markerereignisse müssen mit Beispiel Verarbeitung serialisiert werden, sodass die Medien Senke die Marker in derselben Warteschlange platzieren sollte.</span><span class="sxs-lookup"><span data-stu-id="26102-226">Marker events must be serialized with sample processing, so the media sink should place the markers in the same queue.</span></span> <span data-ttu-id="26102-227">Nehmen Sie beispielsweise an, der Client führt die folgenden Methodenaufrufe aus:</span><span class="sxs-lookup"><span data-stu-id="26102-227">For example, suppose the client makes the following method calls:</span></span>

1.  <span data-ttu-id="26102-228">[**Processsample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Beispiel \# 1)</span><span class="sxs-lookup"><span data-stu-id="26102-228">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Sample \#1)</span></span>
2.  <span data-ttu-id="26102-229">[**Processsample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Beispiel \# 2)</span><span class="sxs-lookup"><span data-stu-id="26102-229">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Sample \#2)</span></span>
3.  <span data-ttu-id="26102-230">[**Placemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (Marker \# 1)</span><span class="sxs-lookup"><span data-stu-id="26102-230">[**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (Marker \#1)</span></span>
4.  <span data-ttu-id="26102-231">[**Processsample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Beispiel \# 3)</span><span class="sxs-lookup"><span data-stu-id="26102-231">[**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) (Sample \#3)</span></span>
5.  <span data-ttu-id="26102-232">[**Placemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (Marker \# 2)</span><span class="sxs-lookup"><span data-stu-id="26102-232">[**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker) (Marker \#2)</span></span>

<span data-ttu-id="26102-233">In diesem Beispiel muss die streamsenke das [mestreamsinkmarker](mestreamsinkmarker.md) -Ereignis für Marker \# 1 nach der Verarbeitung von Beispiel \# 2 und das-Ereignis für Marker \# 2 nach dem Verarbeiten von Beispiel \# 3 senden.</span><span class="sxs-lookup"><span data-stu-id="26102-233">In this example, the stream sink must send the [MEStreamSinkMarker](mestreamsinkmarker.md) event for marker \#1 after it processes sample \#2, and the event for marker \#2 after it processes sample \#3.</span></span>

<span data-ttu-id="26102-234">Wenn der Client eine streamsenke leert, verarbeitet die streamsenke sofort alle Marker, die sich in der Warteschlange befanden.</span><span class="sxs-lookup"><span data-stu-id="26102-234">If the client flushes a stream sink, the stream sink immediately processes any markers that were in the queue.</span></span> <span data-ttu-id="26102-235">Der Statuscode wird für \_ diese Ereignisse auf E Abort festgelegt.</span><span class="sxs-lookup"><span data-stu-id="26102-235">It sets the status code to E\_ABORT on these events.</span></span>

<span data-ttu-id="26102-236">Einige Marker enthalten Informationen, die für die Medien Senke relevant sind:</span><span class="sxs-lookup"><span data-stu-id="26102-236">Some markers contain information that is relevant to the media sink:</span></span>

-   <span data-ttu-id="26102-237">**MF-Senke \_ Marker- \_ Tick**: gibt an, dass sich eine Lücke im Stream befindet.</span><span class="sxs-lookup"><span data-stu-id="26102-237">**MFSTREAMSINK\_MARKER\_TICK**: Indicates there is a gap in the stream.</span></span> <span data-ttu-id="26102-238">Das nächste Beispiel ist eine Diskontinuität.</span><span class="sxs-lookup"><span data-stu-id="26102-238">The next sample will be a discontinuity.</span></span>
-   <span data-ttu-id="26102-239">**MF-Senke \_ Marker \_ EndOf Segment**: gibt das Ende eines Segments oder das Ende eines Streams an.</span><span class="sxs-lookup"><span data-stu-id="26102-239">**MFSTREAMSINK\_MARKER\_ENDOFSEGMENT**: Indicates the end of a segment or the end of a stream.</span></span> <span data-ttu-id="26102-240">Das nächste Beispiel (falls vorhanden) kann eine Diskontinuität sein.</span><span class="sxs-lookup"><span data-stu-id="26102-240">The next sample (if any) might be a discontinuity.</span></span>
-   <span data-ttu-id="26102-241">**MF-Senke \_ \_Markerereignis**: enthält ein Ereignis.</span><span class="sxs-lookup"><span data-stu-id="26102-241">**MFSTREAMSINK\_MARKER\_EVENT**: Contains an event.</span></span> <span data-ttu-id="26102-242">Abhängig vom Ereignistyp und der Implementierung der Medien Senke kann die Medien Senke das Ereignis behandeln oder ignorieren.</span><span class="sxs-lookup"><span data-stu-id="26102-242">Depending on the event type and the implementation of the media sink, the media sink might handle the event or ignore it.</span></span>

## <a name="state-changes"></a><span data-ttu-id="26102-243">Zustandsänderungen</span><span class="sxs-lookup"><span data-stu-id="26102-243">State Changes</span></span>

<span data-ttu-id="26102-244">Eine Medien Senke wird über die [**imboclockstaatink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) -Schnittstelle der Medien Senke über Zustandsänderungen in der Präsentationszeit benachrichtigt.</span><span class="sxs-lookup"><span data-stu-id="26102-244">A media sink is notified of state changes in the presentation clock through the media sink's [**IMFClockStateSink**](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink) interface.</span></span> <span data-ttu-id="26102-245">Wenn der Client die Präsentations Uhr festlegt, ruft die Medien Senke [**imfpresentationclock:: addclockstaatink**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-addclockstatesink) auf, um sich selbst für Benachrichtigungen von der Uhr zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="26102-245">When the client sets the presentation clock, the media sink calls [**IMFPresentationClock::AddClockStateSink**](/windows/desktop/api/mfidl/nf-mfidl-imfpresentationclock-addclockstatesink) to register itself for notifications from the clock.</span></span> <span data-ttu-id="26102-246">In der folgenden Tabelle wird zusammengefasst, wie sich eine Medien Senke in Reaktion auf Änderungen des uhrzustands verhält.</span><span class="sxs-lookup"><span data-stu-id="26102-246">The following table summarizes how a media sink behaves in response to clock state changes.</span></span>



| <span data-ttu-id="26102-247">Änderung des uhrzustands</span><span class="sxs-lookup"><span data-stu-id="26102-247">Clock state change</span></span>                                         | <span data-ttu-id="26102-248">Beispiel Verarbeitung</span><span class="sxs-lookup"><span data-stu-id="26102-248">Sample processing</span></span>                                                                                                                                                                                                                                             | <span data-ttu-id="26102-249">Markerverarbeitung</span><span class="sxs-lookup"><span data-stu-id="26102-249">Marker processing</span></span>                                                                                                                                                                                   |
|------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="26102-250">**Onclockstart**</span><span class="sxs-lookup"><span data-stu-id="26102-250">**OnClockStart**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart)     | <span data-ttu-id="26102-251">Prozess Beispiele, deren Zeitstempel gleich oder nach der Startzeit der Uhr ist.</span><span class="sxs-lookup"><span data-stu-id="26102-251">Process samples whose time stamp is equal to or later than the clock start time.</span></span>                                                                                                                                                                              | <span data-ttu-id="26102-252">Senden Sie das [mestreamsinkmarker](mestreamsinkmarker.md) -Ereignis, wenn alle vor der Markierung empfangenen Beispiele verarbeitet wurden.</span><span class="sxs-lookup"><span data-stu-id="26102-252">Send the [MEStreamSinkMarker](mestreamsinkmarker.md) event when all of the samples received before the marker have been processed.</span></span>                                                                 |
| [<span data-ttu-id="26102-253">**Onclockpause**</span><span class="sxs-lookup"><span data-stu-id="26102-253">**OnClockPause**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockpause)     | <span data-ttu-id="26102-254">Beim Anhalten der Medien Senke kann [**processsample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="26102-254">The media sink can fail [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) while paused.</span></span><br/> <span data-ttu-id="26102-255">Wenn die Medien Senke beim Anhalten Stichproben annimmt, muss Sie in die Warteschlange eingereiht werden, bis die Uhr neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="26102-255">If the media sink accepts samples while paused, it must queue them until the clock restarts.</span></span> <span data-ttu-id="26102-256">Verarbeiten Sie keine Stichproben in der Warteschlange, während Sie angehalten wurden.</span><span class="sxs-lookup"><span data-stu-id="26102-256">Do not process any queued samples while paused.</span></span><br/> | <span data-ttu-id="26102-257">Wenn Beispiele in der Warteschlange vorhanden sind, platzieren Sie Marker in derselben Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="26102-257">If there are queued samples, put markers onto the same queue.</span></span> <span data-ttu-id="26102-258">Sendet das Markerereignis, wenn die Uhr neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="26102-258">Send the marker event when the clock restarts.</span></span><br/> <span data-ttu-id="26102-259">Senden Sie andernfalls das Markerereignis sofort.</span><span class="sxs-lookup"><span data-stu-id="26102-259">Otherwise, send the marker event immediately.</span></span><br/>                    |
| [<span data-ttu-id="26102-260">**Onclockrestart**</span><span class="sxs-lookup"><span data-stu-id="26102-260">**OnClockRestart**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockrestart) | <span data-ttu-id="26102-261">Verarbeiten Sie alle Samplings, die während der Warteschlange in die Warteschlange eingereiht wurden, und behandeln Sie diese dann wie [**onclockstart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span><span class="sxs-lookup"><span data-stu-id="26102-261">Process any samples that were queued while paused, and then treat the same as [**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span></span>                                                                                                                         | <span data-ttu-id="26102-262">Senden Sie [mestreamsink Marker](mestreamsinkmarker.md) -Ereignisse für in der Warteschlange eingereihte Marker (serialisiert mit der Beispiel Verarbeitung), und behandeln Sie diese dann genauso wie [**onclockstart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span><span class="sxs-lookup"><span data-stu-id="26102-262">Send [MEStreamSinkMarker](mestreamsinkmarker.md) events for queued markers (serialized with sample processing), and then treat the same as [**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart).</span></span> |
| [<span data-ttu-id="26102-263">**Onclockstoppt**</span><span class="sxs-lookup"><span data-stu-id="26102-263">**OnClockStop**</span></span>](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstop)       | <span data-ttu-id="26102-264">Löschen Sie alle Beispiele in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="26102-264">Drop all queued samples.</span></span> <span data-ttu-id="26102-265">Weitere Aufrufe von [**processsample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) können fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="26102-265">Further calls to [**ProcessSample**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-processsample) can fail.</span></span>                                                                                                                                                      | <span data-ttu-id="26102-266">Senden von Markerereignissen in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="26102-266">Send queued marker events.</span></span> <span data-ttu-id="26102-267">Senden Sie bei nachfolgenden Aufrufen von [**Placemarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker)das Markerereignis sofort.</span><span class="sxs-lookup"><span data-stu-id="26102-267">On subsequent calls to [**PlaceMarker**](/windows/desktop/api/mfidl/nf-mfidl-imfstreamsink-placemarker), send the marker event immediately.</span></span>                                                              |



 

<span data-ttu-id="26102-268">Außerdem müssen streamsenken die folgenden Ereignisse senden, wenn Sie die Zustandsübergänge abgeschlossen haben:</span><span class="sxs-lookup"><span data-stu-id="26102-268">In addition, stream sinks must send the following events when they have completed the state transitions:</span></span>

-   <span data-ttu-id="26102-269">[**Onclockstart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart), [**onclockrestart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockrestart): [mestreamsink Started](mestreamsinkstarted.md) -Ereignis</span><span class="sxs-lookup"><span data-stu-id="26102-269">[**OnClockStart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstart), [**OnClockRestart**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockrestart): [MEStreamSinkStarted](mestreamsinkstarted.md) event</span></span>
-   <span data-ttu-id="26102-270">[**Onclockpause**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockpause): [mestreamsink](mestreamsinkpaused.md) -Ereignis</span><span class="sxs-lookup"><span data-stu-id="26102-270">[**OnClockPause**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockpause): [MEStreamSinkPaused](mestreamsinkpaused.md) event</span></span>
-   <span data-ttu-id="26102-271">[**Onclockstopp**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstop): [mestreamsink](mestreamsinkstopped.md) -Ereignis</span><span class="sxs-lookup"><span data-stu-id="26102-271">[**OnClockStop**](/windows/desktop/api/mfidl/nf-mfidl-imfclockstatesink-onclockstop): [MEStreamSinkStopped](mestreamsinkstopped.md) event</span></span>

## <a name="finalizing"></a><span data-ttu-id="26102-272">Ausführung wird abgeschlossen</span><span class="sxs-lookup"><span data-stu-id="26102-272">Finalizing</span></span>

<span data-ttu-id="26102-273">Einige Medien senken erfordern einen zusätzlichen Verarbeitungsschritt, nachdem das letzte Beispiel übermittelt wurde.</span><span class="sxs-lookup"><span data-stu-id="26102-273">Some media sinks require an extra processing step after the last sample is delivered.</span></span> <span data-ttu-id="26102-274">Diese Anforderung gilt in der Regel für Archivierungs senken, bei denen Header oder Indizes in die Datei geschrieben werden müssen.</span><span class="sxs-lookup"><span data-stu-id="26102-274">Typically this requirement applies to archive sinks, which must write headers or indexes into the file.</span></span> <span data-ttu-id="26102-275">Wenn eine Medien Senke eine abschließende Verarbeitung erfordert, macht Sie die [**imffinalizablemediasink**](/windows/desktop/api/mfidl/nn-mfidl-imffinalizablemediasink) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="26102-275">If a media sink requires any final processing, it exposes the [**IMFFinalizableMediaSink**](/windows/desktop/api/mfidl/nn-mfidl-imffinalizablemediasink) interface.</span></span>

<span data-ttu-id="26102-276">Nachdem der Client das letzte Beispiel übermittelt hat, fragt der Client diese Schnittstelle ab.</span><span class="sxs-lookup"><span data-stu-id="26102-276">After the client delivers the last sample, the client queries for this interface.</span></span> <span data-ttu-id="26102-277">Wenn die Medien Senke die-Schnittstelle unterstützt, ruft der Client [**imffinalizablemediasink:: beginfinalize**](/windows/desktop/api/mfidl/nf-mfidl-imffinalizablemediasink-beginfinalize) auf, um die endgültige Verarbeitung asynchron auszuführen.</span><span class="sxs-lookup"><span data-stu-id="26102-277">If the media sink supports the interface, the client calls [**IMFFinalizableMediaSink::BeginFinalize**](/windows/desktop/api/mfidl/nf-mfidl-imffinalizablemediasink-beginfinalize) to perform the final processing asynchronously.</span></span> <span data-ttu-id="26102-278">Diese Methode folgt dem Standard Media Foundation asynchronen Model, das in [asynchronen Callback Methods](asynchronous-callback-methods.md)beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="26102-278">This method follows the standard Media Foundation asynchronous model, described in [Asynchronous Callback Methods](asynchronous-callback-methods.md).</span></span> <span data-ttu-id="26102-279">Die Medien Senke kann davon ausgehen, dass der Client **beginfinalize** aufruft.</span><span class="sxs-lookup"><span data-stu-id="26102-279">The media sink can assume that the client will call **BeginFinalize**.</span></span> <span data-ttu-id="26102-280">Wenn **beginfinalize** nicht aufgerufen wird, kann dies zu einer falsch erstellten Datei führen.</span><span class="sxs-lookup"><span data-stu-id="26102-280">Failure to call **BeginFinalize** can result in an incorrectly authored file.</span></span>

## <a name="shutting-down"></a><span data-ttu-id="26102-281">Wird heruntergefahren</span><span class="sxs-lookup"><span data-stu-id="26102-281">Shutting Down</span></span>

<span data-ttu-id="26102-282">Wenn der Client mithilfe der Medien Senke ausgeführt wird, ruft der Client [**imfmediasink:: Shutdown**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-shutdown)auf.</span><span class="sxs-lookup"><span data-stu-id="26102-282">When the client is done using the media sink, the client calls [**IMFMediaSink::Shutdown**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasink-shutdown).</span></span> <span data-ttu-id="26102-283">Innerhalb dieser Methode sollte die Medien Senke alle Zirkel Verweis Zählungen unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="26102-283">Inside this method, the media sink should break any circular reference counts.</span></span> <span data-ttu-id="26102-284">In der Regel gibt es zirkuläre Verweise zwischen der Medien Senke und den streamsenken.</span><span class="sxs-lookup"><span data-stu-id="26102-284">Typically, there will be circular references between the media sink and the stream sinks.</span></span>

<span data-ttu-id="26102-285">Wenn Sie das Hilfsprogramm für die Ereignis Warteschlange verwenden, um [**imfmediaeventgenerator**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator)zu implementieren, nennen Sie [**imfmediaeventqueue:: Shutdown**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediaeventqueue-shutdown) für die Ereignis Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="26102-285">If you are using the event queue helper object to implement [**IMFMediaEventGenerator**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator), call [**IMFMediaEventQueue::Shutdown**](/windows/desktop/api/mfobjects/nf-mfobjects-imfmediaeventqueue-shutdown) on the event queue.</span></span> <span data-ttu-id="26102-286">Diese Methode beendet die Ereignis Warteschlange und signalisiert jedem Aufrufer, der zurzeit auf ein Ereignis wartet.</span><span class="sxs-lookup"><span data-stu-id="26102-286">This method shuts down the event queue and signals any caller that is currently waiting for an event.</span></span>

<span data-ttu-id="26102-287">Nach dem Herunterfahren geben alle Methoden der Medien Senke \_ das Herunterfahren von MF E zurück \_ , mit Ausnahme von **IUnknown** -Methoden.</span><span class="sxs-lookup"><span data-stu-id="26102-287">After shutdown, all methods on the media sink return MF\_E\_SHUTDOWN, with the exception of **IUnknown** methods.</span></span>

## <a name="media-sink-interfaces"></a><span data-ttu-id="26102-288">Media Sink-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="26102-288">Media Sink Interfaces</span></span>

<span data-ttu-id="26102-289">In der folgenden Tabelle werden die Standardschnittstellen aufgelistet, die Medien senken über **QueryInterface** verfügbar machen können.</span><span class="sxs-lookup"><span data-stu-id="26102-289">The following table lists the standard interfaces that media sinks can expose through **QueryInterface**.</span></span> <span data-ttu-id="26102-290">Medien senken können auch benutzerdefinierte Schnittstellen verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="26102-290">Media sinks can also expose custom interfaces.</span></span>



| <span data-ttu-id="26102-291">Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="26102-291">Interface</span></span>                                                      | <span data-ttu-id="26102-292">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="26102-292">Description</span></span>                                                                                   |
|----------------------------------------------------------------|-----------------------------------------------------------------------------------------------|
| [<span data-ttu-id="26102-293">**Imfmediasink**</span><span class="sxs-lookup"><span data-stu-id="26102-293">**IMFMediaSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasink)                           | <span data-ttu-id="26102-294">Die primäre Schnittstelle für Medien senken.</span><span class="sxs-lookup"><span data-stu-id="26102-294">The primary interface for media sinks.</span></span> <span data-ttu-id="26102-295">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-295">(Required.)</span></span>                                            |
| [<span data-ttu-id="26102-296">**IMF-staatink**</span><span class="sxs-lookup"><span data-stu-id="26102-296">**IMFClockStateSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfclockstatesink)                 | <span data-ttu-id="26102-297">Wird verwendet, um die Medien Senke zu benachrichtigen, wenn sich die Präsentationszeit ändert.</span><span class="sxs-lookup"><span data-stu-id="26102-297">Used to notify the media sink when presentation clock changes state.</span></span> <span data-ttu-id="26102-298">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-298">(Required.)</span></span>              |
| [<span data-ttu-id="26102-299">**Imffinalizablemediasink**</span><span class="sxs-lookup"><span data-stu-id="26102-299">**IMFFinalizableMediaSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imffinalizablemediasink)     | <span data-ttu-id="26102-300">Implementieren Sie, wenn die Medien Senke einen abschließenden Verarbeitungsschritt ausführen muss.</span><span class="sxs-lookup"><span data-stu-id="26102-300">Implement if the media sink must perform a final processing step.</span></span> <span data-ttu-id="26102-301">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-301">(Optional.)</span></span>                 |
| [<span data-ttu-id="26102-302">**IMF-Dienst**</span><span class="sxs-lookup"><span data-stu-id="26102-302">**IMFGetService**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)                         | <span data-ttu-id="26102-303">Implementieren Sie, wenn die Medien Senke beliebige Dienst Schnittstellen verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="26102-303">Implement if the media sink exposes any service interfaces.</span></span> <span data-ttu-id="26102-304">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-304">(Optional.)</span></span>                       |
| [<span data-ttu-id="26102-305">**IMF Media Event Generator**</span><span class="sxs-lookup"><span data-stu-id="26102-305">**IMFMediaEventGenerator**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator)       | <span data-ttu-id="26102-306">Implementieren Sie, wenn die Medien Senke Ereignisse sendet.</span><span class="sxs-lookup"><span data-stu-id="26102-306">Implement if the media sink sends any events.</span></span> <span data-ttu-id="26102-307">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-307">(Optional.)</span></span>                                     |
| [<span data-ttu-id="26102-308">**Imfmediasinkpreroll**</span><span class="sxs-lookup"><span data-stu-id="26102-308">**IMFMediaSinkPreroll**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasinkpreroll)             | <span data-ttu-id="26102-309">Implementieren Sie, wenn die Medien Senke Preroll unterstützt.</span><span class="sxs-lookup"><span data-stu-id="26102-309">Implement if the media sink supports preroll.</span></span> <span data-ttu-id="26102-310">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-310">(Optional.)</span></span>                                     |
| [<span data-ttu-id="26102-311">**IMF presentationtimesource**</span><span class="sxs-lookup"><span data-stu-id="26102-311">**IMFPresentationTimeSource**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfpresentationtimesource) | <span data-ttu-id="26102-312">Implementieren Sie, wenn die Medien Senke eine Zeit Quelle für die Präsentationszeit bereitstellen kann.</span><span class="sxs-lookup"><span data-stu-id="26102-312">Implement if the media sink can provide a time source for the presentation clock.</span></span> <span data-ttu-id="26102-313">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-313">(Optional.)</span></span> |
| [<span data-ttu-id="26102-314">**IMF-Empfehlung**</span><span class="sxs-lookup"><span data-stu-id="26102-314">**IMFQualityAdvise**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise)                   | <span data-ttu-id="26102-315">Implementieren Sie, wenn die Medien Senke die Wiedergabequalität anpassen kann.</span><span class="sxs-lookup"><span data-stu-id="26102-315">Implement if the media sink can adjust playback quality.</span></span> <span data-ttu-id="26102-316">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-316">(Optional.)</span></span>                          |



 

<span data-ttu-id="26102-317">Optional kann eine Medien Senke die folgende Schnittstelle als Dienst implementieren.</span><span class="sxs-lookup"><span data-stu-id="26102-317">Optionally, a media sink can implement the following interface as a service.</span></span>



| <span data-ttu-id="26102-318">Dienst Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="26102-318">Service interface</span></span>                        | <span data-ttu-id="26102-319">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="26102-319">Description</span></span>                                    |
|------------------------------------------|------------------------------------------------|
| [<span data-ttu-id="26102-320">**Imfratesupport**</span><span class="sxs-lookup"><span data-stu-id="26102-320">**IMFRateSupport**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfratesupport) | <span data-ttu-id="26102-321">Meldet den Bereich der unterstützten Wiedergabe Raten.</span><span class="sxs-lookup"><span data-stu-id="26102-321">Reports the range of supported playback rates.</span></span> |



 

<span data-ttu-id="26102-322">Weitere Informationen zu Dienst Schnittstellen und [**immagetservice**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)finden Sie unter [Dienst Schnittstellen](service-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="26102-322">For more information about service interfaces and [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice), see [Service Interfaces](service-interfaces.md).</span></span>

## <a name="stream-sink-interfaces"></a><span data-ttu-id="26102-323">Stream Sink-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="26102-323">Stream Sink Interfaces</span></span>

<span data-ttu-id="26102-324">Streamsenken müssen die folgenden Schnittstellen über **QueryInterface** verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="26102-324">Stream sinks must expose the following interfaces through **QueryInterface**.</span></span>



| <span data-ttu-id="26102-325">Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="26102-325">Interface</span></span>                                                | <span data-ttu-id="26102-326">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="26102-326">Description</span></span>                                                                                              |
|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="26102-327">**IMF-Senke**</span><span class="sxs-lookup"><span data-stu-id="26102-327">**IMFStreamSink**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink)                   | <span data-ttu-id="26102-328">Die primäre Schnittstelle für streamsenken.</span><span class="sxs-lookup"><span data-stu-id="26102-328">The primary interface for stream sinks.</span></span> <span data-ttu-id="26102-329">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-329">(Required.)</span></span>                                                      |
| [<span data-ttu-id="26102-330">**IMF Media Event Generator**</span><span class="sxs-lookup"><span data-stu-id="26102-330">**IMFMediaEventGenerator**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator) | <span data-ttu-id="26102-331">Warteschlangen Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="26102-331">Queues events.</span></span> <span data-ttu-id="26102-332">Die [**IMF streamsink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) -Schnittstelle erbt diese Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="26102-332">The [**IMFStreamSink**](/windows/desktop/api/mfidl/nn-mfidl-imfstreamsink) interface inherits this interface.</span></span> <span data-ttu-id="26102-333">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-333">(Required.)</span></span> |



 

<span data-ttu-id="26102-334">Zurzeit sind keine Dienst Schnittstellen für streamsenken definiert.</span><span class="sxs-lookup"><span data-stu-id="26102-334">Currently no service interfaces are defined for stream sinks.</span></span>

## <a name="stream-sink-events"></a><span data-ttu-id="26102-335">Streamsink-Ereignisse</span><span class="sxs-lookup"><span data-stu-id="26102-335">Stream Sink Events</span></span>

<span data-ttu-id="26102-336">In der folgenden Tabelle sind die Ereignisse aufgelistet, die für generische streamsenken definiert sind.</span><span class="sxs-lookup"><span data-stu-id="26102-336">The following table lists the events that are defined for generic stream sinks.</span></span> <span data-ttu-id="26102-337">Streamsenken können auch benutzerdefinierte, hier nicht aufgelistete Ereignisse senden.</span><span class="sxs-lookup"><span data-stu-id="26102-337">Stream sinks can also send custom events not listed here.</span></span>



| <span data-ttu-id="26102-338">Ereignis</span><span class="sxs-lookup"><span data-stu-id="26102-338">Event</span></span>                                                                  | <span data-ttu-id="26102-339">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="26102-339">Description</span></span>                                                  |
|------------------------------------------------------------------------|--------------------------------------------------------------|
| [<span data-ttu-id="26102-340">Mestreamsinkformatchanged</span><span class="sxs-lookup"><span data-stu-id="26102-340">MEStreamSinkFormatChanged</span></span>](mestreamsinkformatchanged.md)             | <span data-ttu-id="26102-341">Der Medientyp der Stream-Senke ist nicht mehr gültig.</span><span class="sxs-lookup"><span data-stu-id="26102-341">The stream sink's media type is no longer valid.</span></span> <span data-ttu-id="26102-342">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-342">(Optional.)</span></span> |
| [<span data-ttu-id="26102-343">Mestreamsink Marker</span><span class="sxs-lookup"><span data-stu-id="26102-343">MEStreamSinkMarker</span></span>](mestreamsinkmarker.md)                           | <span data-ttu-id="26102-344">Ein Marker wurde verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="26102-344">A marker was processed.</span></span> <span data-ttu-id="26102-345">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-345">(Required.)</span></span>                          |
| [<span data-ttu-id="26102-346">Mestreamsink angehalten</span><span class="sxs-lookup"><span data-stu-id="26102-346">MEStreamSinkPaused</span></span>](mestreamsinkpaused.md)                           | <span data-ttu-id="26102-347">Die streamsenke wurde angehalten.</span><span class="sxs-lookup"><span data-stu-id="26102-347">The stream sink has paused.</span></span> <span data-ttu-id="26102-348">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-348">(Required.)</span></span>                      |
| [<span data-ttu-id="26102-349">Mestreamsinkprerolled</span><span class="sxs-lookup"><span data-stu-id="26102-349">MEStreamSinkPrerolled</span></span>](mestreamsinkprerolled.md)                     | <span data-ttu-id="26102-350">Die Vorabversion ist fertiggestellt.</span><span class="sxs-lookup"><span data-stu-id="26102-350">Preroll is complete.</span></span> <span data-ttu-id="26102-351">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-351">(Optional.)</span></span>                             |
| [<span data-ttu-id="26102-352">Mestreamsinkratechanged</span><span class="sxs-lookup"><span data-stu-id="26102-352">MEStreamSinkRateChanged</span></span>](mestreamsinkratechanged.md)                 | <span data-ttu-id="26102-353">Die Wiedergabe Rate wurde von der streamsenke geändert.</span><span class="sxs-lookup"><span data-stu-id="26102-353">The stream sink has changed playback rate.</span></span> <span data-ttu-id="26102-354">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-354">(Optional.)</span></span>       |
| [<span data-ttu-id="26102-355">Mestreamsinkrequestsample</span><span class="sxs-lookup"><span data-stu-id="26102-355">MEStreamSinkRequestSample</span></span>](mestreamsinkrequestsample.md)             | <span data-ttu-id="26102-356">Ein neues Beispiel wird angefordert.</span><span class="sxs-lookup"><span data-stu-id="26102-356">A new sample is requested.</span></span> <span data-ttu-id="26102-357">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-357">(Required.)</span></span>                       |
| [<span data-ttu-id="26102-358">Mestreamsinkscrubsamplecomplete</span><span class="sxs-lookup"><span data-stu-id="26102-358">MEStreamSinkScrubSampleComplete</span></span>](mestreamsinkscrubsamplecomplete.md) | <span data-ttu-id="26102-359">Eine Bereinigungsanforderung wurde abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="26102-359">A scrub request was completed.</span></span> <span data-ttu-id="26102-360">(Optional.)</span><span class="sxs-lookup"><span data-stu-id="26102-360">(Optional.)</span></span>                   |
| [<span data-ttu-id="26102-361">Mestreamsink Started</span><span class="sxs-lookup"><span data-stu-id="26102-361">MEStreamSinkStarted</span></span>](mestreamsinkstarted.md)                         | <span data-ttu-id="26102-362">Die streamsenke wurde gestartet.</span><span class="sxs-lookup"><span data-stu-id="26102-362">The stream sink has started.</span></span> <span data-ttu-id="26102-363">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-363">(Required.)</span></span>                     |
| [<span data-ttu-id="26102-364">Mestreamsink beendet</span><span class="sxs-lookup"><span data-stu-id="26102-364">MEStreamSinkStopped</span></span>](mestreamsinkstopped.md)                         | <span data-ttu-id="26102-365">Die streamsenke wurde beendet.</span><span class="sxs-lookup"><span data-stu-id="26102-365">The stream sink has stopped.</span></span> <span data-ttu-id="26102-366">(Erforderlich.)</span><span class="sxs-lookup"><span data-stu-id="26102-366">(Required.)</span></span>                     |



 

<span data-ttu-id="26102-367">Zurzeit sind keine allgemeinen Ereignisse für Medien senken definiert.</span><span class="sxs-lookup"><span data-stu-id="26102-367">Currently no general-purpose events are defined for media sinks.</span></span> <span data-ttu-id="26102-368">Einige Medien senken können benutzerdefinierte Ereignisse senden.</span><span class="sxs-lookup"><span data-stu-id="26102-368">Some media sinks might send custom events.</span></span>

## <a name="related-topics"></a><span data-ttu-id="26102-369">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="26102-369">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="26102-370">Media Foundation Pipeline</span><span class="sxs-lookup"><span data-stu-id="26102-370">Media Foundation Pipeline</span></span>](media-foundation-pipeline.md)
</dt> <dt>

[<span data-ttu-id="26102-371">Media Foundation-Architektur</span><span class="sxs-lookup"><span data-stu-id="26102-371">Media Foundation Architecture</span></span>](media-foundation-architecture.md)
</dt> </dl>

 

 




