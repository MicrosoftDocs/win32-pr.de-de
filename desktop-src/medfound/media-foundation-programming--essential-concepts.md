---
description: Wenn Sie noch nicht mit digitalen Medien vertraut sind, finden Sie in diesem Thema einige Konzepte, die Sie kennen müssen, bevor Sie eine Media Foundation Anwendung schreiben.
ms.assetid: d76d655e-23f3-407c-97a1-be015b0de37d
title: 'Media Foundation: Grundlegende Konzepte'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0298a20518df91dab4439770e0f1193802969ae8
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/03/2021
ms.locfileid: "104393842"
---
# <a name="media-foundation-essential-concepts"></a><span data-ttu-id="24d56-103">Media Foundation: Grundlegende Konzepte</span><span class="sxs-lookup"><span data-stu-id="24d56-103">Media Foundation: Essential Concepts</span></span>

<span data-ttu-id="24d56-104">Wenn Sie noch nicht mit digitalen Medien vertraut sind, finden Sie in diesem Thema einige Konzepte, die Sie kennen müssen, bevor Sie eine Media Foundation Anwendung schreiben.</span><span class="sxs-lookup"><span data-stu-id="24d56-104">If you are new to digital media, this topic introduces some concepts that you will need to understand before writing a Media Foundation application.</span></span>

-   [<span data-ttu-id="24d56-105">Streams</span><span class="sxs-lookup"><span data-stu-id="24d56-105">Streams</span></span>](#streams)
-   [<span data-ttu-id="24d56-106">Komprimierung</span><span class="sxs-lookup"><span data-stu-id="24d56-106">Compression</span></span>](#compression)
-   [<span data-ttu-id="24d56-107">Medien Container</span><span class="sxs-lookup"><span data-stu-id="24d56-107">Media Containers</span></span>](#media-containers)
-   [<span data-ttu-id="24d56-108">Formate</span><span class="sxs-lookup"><span data-stu-id="24d56-108">Formats</span></span>](#formats)
-   [<span data-ttu-id="24d56-109">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="24d56-109">Related topics</span></span>](#related-topics)

## <a name="streams"></a><span data-ttu-id="24d56-110">Datenströme</span><span class="sxs-lookup"><span data-stu-id="24d56-110">Streams</span></span>

<span data-ttu-id="24d56-111">Ein Daten *Strom* ist eine Sequenz von Mediendaten mit einem einheitlichen Typ.</span><span class="sxs-lookup"><span data-stu-id="24d56-111">A *stream* is a sequence of media data with a uniform type.</span></span> <span data-ttu-id="24d56-112">Die gängigsten Typen sind auditon und Video, aber ein Datenstrom kann nahezu jede Art von Daten enthalten, einschließlich Text, Skript Befehlen und nach wie vor Bilder.</span><span class="sxs-lookup"><span data-stu-id="24d56-112">The most common types are audio and video, but a stream can contain almost any kind of data, including text, script commands, and still images.</span></span> <span data-ttu-id="24d56-113">Der Begriff *Stream* in dieser Dokumentation impliziert nicht die Übermittlung über ein Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="24d56-113">The term *stream* in this documentation does not imply delivery over a network.</span></span> <span data-ttu-id="24d56-114">Eine für die lokale Wiedergabe vorgesehene Mediendatei enthält auch Streams.</span><span class="sxs-lookup"><span data-stu-id="24d56-114">A media file intended for local playback also contains streams.</span></span>

<span data-ttu-id="24d56-115">Normalerweise enthält eine Mediendatei entweder einen einzelnen Audiostream oder genau einen Videostream und einen Audiostream.</span><span class="sxs-lookup"><span data-stu-id="24d56-115">Usually, a media file contains either a single audio stream, or exactly one video stream and one audio stream.</span></span> <span data-ttu-id="24d56-116">Eine Mediendatei kann jedoch mehrere Streams desselben Typs enthalten.</span><span class="sxs-lookup"><span data-stu-id="24d56-116">However, a media file might contain several streams of the same type.</span></span> <span data-ttu-id="24d56-117">Beispielsweise kann eine Videodatei Audiodatenströme in verschiedenen Sprachen enthalten.</span><span class="sxs-lookup"><span data-stu-id="24d56-117">For example, a video file might contain audio streams in several different languages.</span></span> <span data-ttu-id="24d56-118">Zur Laufzeit wählt die Anwendung den zu verwendenden Stream aus.</span><span class="sxs-lookup"><span data-stu-id="24d56-118">At run time, the application would select which stream to use.</span></span>

## <a name="compression"></a><span data-ttu-id="24d56-119">Komprimierung</span><span class="sxs-lookup"><span data-stu-id="24d56-119">Compression</span></span>

<span data-ttu-id="24d56-120">*Komprimierung* bezieht sich auf jeden Prozess, der die Größe eines Datenstroms verringert, indem redundante Informationen entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-120">*Compression* refers to any process that reduces the size of a data stream by removing redundant information.</span></span> <span data-ttu-id="24d56-121">Komprimierungs Algorithmen lassen sich in zwei allgemeine Kategorien unterteilen:</span><span class="sxs-lookup"><span data-stu-id="24d56-121">Compression algorithms fall into two broad categories:</span></span>

-   <span data-ttu-id="24d56-122">*Verlust lose* Komprimierung.</span><span class="sxs-lookup"><span data-stu-id="24d56-122">*Lossless* compression.</span></span> <span data-ttu-id="24d56-123">Mit einem verlustfreien Algorithmus sind die rekonstruierten Daten identisch mit der ursprünglichen.</span><span class="sxs-lookup"><span data-stu-id="24d56-123">Using a lossless algorithm, the reconstructed data is identical to the original.</span></span>
-   <span data-ttu-id="24d56-124">*Verlustfreie* Komprimierung.</span><span class="sxs-lookup"><span data-stu-id="24d56-124">*Lossy* compression.</span></span> <span data-ttu-id="24d56-125">Bei Verwendung eines verlustfreien Algorithmus sind die rekonstruierten Daten ein Näherungswert des Originals, aber es handelt sich nicht um eine genaue Entsprechung.</span><span class="sxs-lookup"><span data-stu-id="24d56-125">Using a lossy algorithm, the reconstructed data is an approximation of the original, but is not an exact match.</span></span>

<span data-ttu-id="24d56-126">In den meisten anderen Domänen ist eine verlustfreie Komprimierung nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="24d56-126">In most other domains, lossy compression is not acceptable.</span></span> <span data-ttu-id="24d56-127">(Stellen Sie sich vor, dass Sie eine "Näherung" eines Arbeitsblatts erhalten!) Allerdings sind die einstufigen Komprimierungs Schemas aus einer Reihe von Gründen gut für Audiodaten und Videos geeignet.</span><span class="sxs-lookup"><span data-stu-id="24d56-127">(Imagine getting back an "approximation" of a spreadsheet!) But lossy compression schemes are well-suited to audio and video, for a couple of reasons.</span></span>

<span data-ttu-id="24d56-128">Der erste Grund ist die Physik der menschlichen Wahrnehmung.</span><span class="sxs-lookup"><span data-stu-id="24d56-128">The first reason has to do with the physics of human perception.</span></span> <span data-ttu-id="24d56-129">Wenn wir auf einen komplexen Sound wie eine Musik Aufzeichnung lauschen, sind einige der in diesem Sound enthaltenen Informationen für das Ohr nicht wahrnehmbar.</span><span class="sxs-lookup"><span data-stu-id="24d56-129">When we listen to a complex sound, like a music recording, some of the information contained in that sound is not perceptible to the ear.</span></span> <span data-ttu-id="24d56-130">Mithilfe von Signal Verarbeitungs Theorie ist es möglich, die Häufigkeiten zu analysieren und zu trennen, die nicht wahrgenommen werden können.</span><span class="sxs-lookup"><span data-stu-id="24d56-130">With the help of signal processing theory, it is possible to analyze and separate the frequencies that cannot be perceived.</span></span> <span data-ttu-id="24d56-131">Diese Frequenzen können ohne perzeptive Auswirkung entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-131">These frequencies can be removed with no perceptual effect.</span></span> <span data-ttu-id="24d56-132">Obwohl die rekonstruierte Audiodatei nicht mit der ursprünglichen übereinstimmt, *klingt* Sie für den Listener identisch.</span><span class="sxs-lookup"><span data-stu-id="24d56-132">Although the reconstructed audio will not match the original exactly, it will *sound* the same to the listener.</span></span> <span data-ttu-id="24d56-133">Ähnliche Prinzipien gelten für Videos.</span><span class="sxs-lookup"><span data-stu-id="24d56-133">Similar principles apply to video.</span></span>

<span data-ttu-id="24d56-134">Zweitens kann eine Beeinträchtigung der Sound-oder Bildqualität je nach beabsichtigter Zweck akzeptabel sein.</span><span class="sxs-lookup"><span data-stu-id="24d56-134">Second, some degradation in sound or image quality may be acceptable, depending on the intended purpose.</span></span> <span data-ttu-id="24d56-135">Beispielsweise ist die Audiodatei in telefonieweise häufig stark komprimiert.</span><span class="sxs-lookup"><span data-stu-id="24d56-135">In telephony, for example, audio is often highly compressed.</span></span> <span data-ttu-id="24d56-136">Das Ergebnis eignet sich gut für eine Telefon Konversation – Sie sollten jedoch nicht über ein Telefon auf ein Symphonie-Orchester lauschen.</span><span class="sxs-lookup"><span data-stu-id="24d56-136">The result is good enough for a phone conversation—but you wouldn't want to listen to a symphony orchestra over a telephone.</span></span>

<span data-ttu-id="24d56-137">Die Komprimierung wird auch als *Codierung* bezeichnet, und ein Gerät, das codiert, wird als *Encoder* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="24d56-137">Compression is also called *encoding*, and a device that encodes is called an *encoder*.</span></span> <span data-ttu-id="24d56-138">Der umgekehrte Prozess ist *Decodierung*, und das Gerät ist ein natürlich als *Decoder* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="24d56-138">The reverse process is *decoding*, and the device is a naturally called a *decoder*.</span></span> <span data-ttu-id="24d56-139">Der allgemeine Begriff für Encoder und Decoder ist *Codec*.</span><span class="sxs-lookup"><span data-stu-id="24d56-139">The general term for both encoders and decoders is *codec*.</span></span> <span data-ttu-id="24d56-140">Codecs können in Hardware oder Software implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-140">Codecs can be implemented in hardware or software.</span></span>

<span data-ttu-id="24d56-141">Die Komprimierungs Technologie hat sich seit der Einführung digitaler Medien schnell geändert, und heute wird eine große Anzahl von Komprimierungs Schemas verwendet.</span><span class="sxs-lookup"><span data-stu-id="24d56-141">Compression technology has changed rapidly since the advent of digital media, and a large number of compression schemes are in use today.</span></span> <span data-ttu-id="24d56-142">Diese Tatsache ist eine der wichtigsten Herausforderungen bei der Programmierung digitaler Medien.</span><span class="sxs-lookup"><span data-stu-id="24d56-142">This fact is one of the main challenges for digital media programming.</span></span>

## <a name="media-containers"></a><span data-ttu-id="24d56-143">Medien Container</span><span class="sxs-lookup"><span data-stu-id="24d56-143">Media Containers</span></span>

<span data-ttu-id="24d56-144">Es ist selten, dass ein Rohdaten-oder Videostream als Computerdatei gespeichert oder direkt über das Netzwerk gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="24d56-144">It is rare to store a raw audio or video stream as a computer file, or to send one directly over the network.</span></span> <span data-ttu-id="24d56-145">Es ist nicht möglich, einen solchen Stream zu decodieren, ohne im Voraus zu wissen, welcher Codec verwendet werden muss.</span><span class="sxs-lookup"><span data-stu-id="24d56-145">For one thing, it would be impossible to decode such a stream, without knowing in advance which codec to use.</span></span> <span data-ttu-id="24d56-146">Daher enthalten Mediendateien normalerweise mindestens einige der folgenden Elemente:</span><span class="sxs-lookup"><span data-stu-id="24d56-146">Therefore, media files usually contain at least some of the following elements:</span></span>

-   <span data-ttu-id="24d56-147">Dateiheader, die die Anzahl der Streams, das Format der einzelnen Streams usw. beschreiben.</span><span class="sxs-lookup"><span data-stu-id="24d56-147">File headers that describe the number of streams, the format of each stream, and so on.</span></span>
-   <span data-ttu-id="24d56-148">Ein Index, der den zufälligen Zugriff auf den Inhalt ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="24d56-148">An index that enables random access to the content.</span></span>
-   <span data-ttu-id="24d56-149">Metadaten, die den Inhalt beschreiben (z. b. den Künstler oder den Titel).</span><span class="sxs-lookup"><span data-stu-id="24d56-149">Metadata that describes the content (for example, the artist or title).</span></span>
-   <span data-ttu-id="24d56-150">Paket Header, um die Netzwerkübertragung oder den Zufalls Zugriff zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="24d56-150">Packet headers, to enable network transmission or random access.</span></span>

<span data-ttu-id="24d56-151">In dieser Dokumentation wird der Begriff *Container* verwendet, um das gesamte Paket von Streams, Headern, Indizes, Metadaten usw. zu beschreiben.</span><span class="sxs-lookup"><span data-stu-id="24d56-151">This documentation uses the term *container* to describe the entire package of streams, headers, indexes, metadata, and so forth.</span></span> <span data-ttu-id="24d56-152">Der Grund für die Verwendung des Begriffs " *Container* " anstelle von " *File* " besteht darin, dass einige Containerformate für Live Broadcast entworfen wurden.</span><span class="sxs-lookup"><span data-stu-id="24d56-152">The reason for using the term *container* rather than *file* is that some container formats are designed for live broadcast.</span></span> <span data-ttu-id="24d56-153">Eine Anwendung kann den Container in Echtzeit generieren und niemals in einer Datei speichern.</span><span class="sxs-lookup"><span data-stu-id="24d56-153">An application could generate the container in real time, never storing it to a file.</span></span>

<span data-ttu-id="24d56-154">Ein frühes Beispiel für einen Medien Container ist das AVI-Dateiformat.</span><span class="sxs-lookup"><span data-stu-id="24d56-154">An early example of a media container is the AVI file format.</span></span> <span data-ttu-id="24d56-155">Weitere Beispiele hierfür sind MP4 und das Advanced Systems Format (ASF).</span><span class="sxs-lookup"><span data-stu-id="24d56-155">Other examples include MP4 and Advanced Systems Format (ASF).</span></span> <span data-ttu-id="24d56-156">Container können durch die Dateinamenerweiterung (z. b.. MP4) oder durch den MIME-Typ identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-156">Containers can be identified by file name extension (for example, .mp4) or by MIME type.</span></span>

<span data-ttu-id="24d56-157">Das folgende Diagramm zeigt eine typische Struktur für einen Medien Container.</span><span class="sxs-lookup"><span data-stu-id="24d56-157">The following diagram shows a typical structure for a media container.</span></span> <span data-ttu-id="24d56-158">Das Diagramm stellt kein bestimmtes Format dar. die Details der einzelnen Formate variieren stark.</span><span class="sxs-lookup"><span data-stu-id="24d56-158">The diagram does not represent any specific format; the details of each format vary widely.</span></span>

![Diagramm mit einem typischen Medien Container](images/concepts01.png)

<span data-ttu-id="24d56-160">Beachten Sie, dass die im Diagramm gezeigte Struktur hierarchisch ist, wobei Header Informationen am Anfang des Containers angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-160">Notice that the structure shown in the diagram is hierarchical, with header information appearing at the start of the container.</span></span> <span data-ttu-id="24d56-161">Diese Struktur ist typisch für viele (aber nicht alle) Containerformate.</span><span class="sxs-lookup"><span data-stu-id="24d56-161">This structure is typical of many (but not all) container formats.</span></span> <span data-ttu-id="24d56-162">Beachten Sie auch, dass der Daten Abschnitt verschachtelte Audiodateien und Video Pakete enthält.</span><span class="sxs-lookup"><span data-stu-id="24d56-162">Also notice that the data section contains interleaved audio and video packets.</span></span> <span data-ttu-id="24d56-163">Diese Art von Überlappung ist in Medien Containern üblich.</span><span class="sxs-lookup"><span data-stu-id="24d56-163">This type of interleaving is common in media containers.</span></span>

<span data-ttu-id="24d56-164">Der Begriff *Multiplexing* bezieht sich auf den Prozess, bei dem die Audiodaten und Videostreams in den Container integriert werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-164">The term *multiplexing* refers to the process of packetizing the audio and video streams and interleaving the packets into the container.</span></span> <span data-ttu-id="24d56-165">Der umgekehrte Prozess, von dem die Datenströme aus den packetisiert-Daten wieder zusammengesetzt werden, wird als *Demultiplexing* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="24d56-165">The reverse process, reassembling the streams from the packetized data, is called *demultiplexing*.</span></span>

## <a name="formats"></a><span data-ttu-id="24d56-166">Formate</span><span class="sxs-lookup"><span data-stu-id="24d56-166">Formats</span></span>

<span data-ttu-id="24d56-167">In digitalen Medien ist der Begriff *Format* mehrdeutig.</span><span class="sxs-lookup"><span data-stu-id="24d56-167">In digital media, the term *format* is ambiguous.</span></span> <span data-ttu-id="24d56-168">Ein Format kann auf den *Codierungstyp*(z. b. H. 264-Video) oder auf den *Container*(z. b. MP4) verweisen.</span><span class="sxs-lookup"><span data-stu-id="24d56-168">A format can refer to the type of *encoding*, such as H.264 video, or the *container*, such as MP4.</span></span> <span data-ttu-id="24d56-169">Dieser Unterschied ist für normale Benutzer häufig verwirrend.</span><span class="sxs-lookup"><span data-stu-id="24d56-169">This distinction is often confusing for ordinary users.</span></span> <span data-ttu-id="24d56-170">Die Namen, die den Medienformaten zugewiesen sind, werden nicht immer unterstützt.</span><span class="sxs-lookup"><span data-stu-id="24d56-170">The names given to media formats do not always help.</span></span> <span data-ttu-id="24d56-171">Beispielsweise bezieht sich *MP3* sowohl auf ein Codierungsformat (MPEG-1 Audiolayer 3) als auch auf ein Dateiformat.</span><span class="sxs-lookup"><span data-stu-id="24d56-171">For example, *MP3* refers both to an encoding format (MPEG-1 Audio Layer 3) and a file format.</span></span>

<span data-ttu-id="24d56-172">Der Unterschied ist jedoch wichtig, da das Lesen einer Mediendatei tatsächlich zwei Phasen umfasst:</span><span class="sxs-lookup"><span data-stu-id="24d56-172">The distinction is important, however, because reading a media file actually involves two stages:</span></span>

1.  <span data-ttu-id="24d56-173">Zuerst muss der Container analysiert werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-173">First, the container must be parsed.</span></span> <span data-ttu-id="24d56-174">In den meisten Fällen sind die Anzahl der Streams und das Format der einzelnen Datenströme erst bekannt, wenn dieser Schritt beendet ist.</span><span class="sxs-lookup"><span data-stu-id="24d56-174">In most cases, the number of streams and the format of each stream cannot be known until this step is complete.</span></span>
2.  <span data-ttu-id="24d56-175">Wenn die Datenströme komprimiert werden, müssen Sie als nächstes mithilfe der entsprechenden Decoders decodiert werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-175">Next, if the streams are compressed, they must be decoded using the appropriate decoders.</span></span>

<span data-ttu-id="24d56-176">Diese Tatsache führt ganz natürlich zu einem Software Entwurf, bei dem separate Komponenten zum Analysieren von Containern und Decodieren von Streams verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="24d56-176">This fact leads quite naturally to a software design where separate components are used to parse containers and decode streams.</span></span> <span data-ttu-id="24d56-177">Außerdem eignet sich dieser Ansatz für ein Plug-in-Modell, sodass Dritte seine eigenen Parser und Codecs bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="24d56-177">Further, this approach lends itself to a plug-in model, so that third parties can provide their own parsers and codecs.</span></span> <span data-ttu-id="24d56-178">Unter Windows bietet die Component Object Model (com) eine Standardmethode zum Trennen einer API von ihrer Implementierung, die eine Anforderung für ein beliebiges Plug-in-Modell ist.</span><span class="sxs-lookup"><span data-stu-id="24d56-178">On Windows, the Component Object Model (COM) provides a standard way to separate an API from its implementation, which is a requirement for any plug-in model.</span></span> <span data-ttu-id="24d56-179">Aus diesem Grund (unter anderem) verwendet Media Foundation com-Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="24d56-179">For this reason (among others), Media Foundation uses COM interfaces.</span></span>

<span data-ttu-id="24d56-180">Das folgende Diagramm zeigt die Komponenten, die zum Lesen einer Mediendatei verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="24d56-180">The following diagram shows the components used to read a media file:</span></span>

![Diagramm mit den Komponenten zum Lesen einer Mediendatei](images/concepts02.png)

<span data-ttu-id="24d56-182">Das Schreiben einer Mediendatei erfordert auch zwei Schritte:</span><span class="sxs-lookup"><span data-stu-id="24d56-182">Writing a media file also requires two steps:</span></span>

1.  <span data-ttu-id="24d56-183">Codieren der nicht komprimierten Audiodaten und Videodaten.</span><span class="sxs-lookup"><span data-stu-id="24d56-183">Encoding the uncompressed audio/video data.</span></span>
2.  <span data-ttu-id="24d56-184">Einfügen der komprimierten Daten in ein bestimmtes Containerformat</span><span class="sxs-lookup"><span data-stu-id="24d56-184">Putting the compressed data into a particular container format.</span></span>

<span data-ttu-id="24d56-185">Das folgende Diagramm zeigt die Komponenten, die zum Schreiben einer Mediendatei verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="24d56-185">The following diagram shows the components used to write a media file:</span></span>

![das Diagramm zeigt die Komponenten zum Schreiben einer Mediendatei.](images/concepts03.png)

## <a name="related-topics"></a><span data-ttu-id="24d56-187">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="24d56-187">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="24d56-188">Media Foundation-Programmier Handbuch</span><span class="sxs-lookup"><span data-stu-id="24d56-188">Media Foundation Programming Guide</span></span>](media-foundation-programming-guide.md)
</dt> </dl>

 

 



