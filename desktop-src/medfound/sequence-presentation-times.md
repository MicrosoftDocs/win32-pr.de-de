---
description: In diesem Thema wird beschrieben, wie die Sequencer-Quelle Präsentations Zeiten während der Wiedergabe behandelt.
ms.assetid: 0d095e25-5ccf-4319-8767-07b417ed7ee8
title: Sequenz Präsentations Zeiten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d17f5b0ff4bd6f0cfee2b1b461d6fbd11bdbf0fb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104527836"
---
# <a name="sequence-presentation-times"></a><span data-ttu-id="e98c4-103">Sequenz Präsentations Zeiten</span><span class="sxs-lookup"><span data-stu-id="e98c4-103">Sequence Presentation Times</span></span>

<span data-ttu-id="e98c4-104">In diesem Thema wird beschrieben, wie die [Sequencer-Quelle](sequencer-source.md) Präsentations Zeiten während der Wiedergabe behandelt.</span><span class="sxs-lookup"><span data-stu-id="e98c4-104">This topic describes how the [Sequencer Source](sequencer-source.md) handles presentation times during playback.</span></span>

## <a name="overview"></a><span data-ttu-id="e98c4-105">Übersicht</span><span class="sxs-lookup"><span data-stu-id="e98c4-105">Overview</span></span>

<span data-ttu-id="e98c4-106">Die Sequencer-Quelle unterstützt zwei verschiedene Modi: Wiedergabelisten Sequenzen und Bearbeitungs Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-106">The sequencer source supports two different modes: playlist sequences and editing sequences.</span></span>

<span data-ttu-id="e98c4-107">In einer Bearbeitungs Sequenz gibt die Anwendung die Dauer der einzelnen Segmente im Voraus an, bevor die Wiedergabe gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="e98c4-107">In an editing sequence, the application specifies the duration of each segment in advance, before starting playback.</span></span> <span data-ttu-id="e98c4-108">In einer Wiedergabelisten Sequenz wird die Dauer von der Anwendung nicht im Voraus angegeben.</span><span class="sxs-lookup"><span data-stu-id="e98c4-108">In a playlist sequence, the application does not specify the duration in advance.</span></span> <span data-ttu-id="e98c4-109">(Die Dauer ist möglicherweise nicht bekannt.)</span><span class="sxs-lookup"><span data-stu-id="e98c4-109">(In fact, the duration might not be known.)</span></span>

<span data-ttu-id="e98c4-110">In beiden Fällen können Sie den Medien Start des Segments und die Endzeit des Mediums angeben.</span><span class="sxs-lookup"><span data-stu-id="e98c4-110">In both cases, you can specify a segment's media start and media stop time.</span></span> <span data-ttu-id="e98c4-111">Diese Zeiten geben die Position in der Quelldatei an, an der das Segment beginnt und endet.</span><span class="sxs-lookup"><span data-stu-id="e98c4-111">These times specify the position in the source file where the segment begins and ends.</span></span> <span data-ttu-id="e98c4-112">Nehmen wir beispielsweise an, dass die Quelldatei 90 Sekunden lang ist.</span><span class="sxs-lookup"><span data-stu-id="e98c4-112">For example, suppose that the source file is 90 seconds long.</span></span> <span data-ttu-id="e98c4-113">Wenn Sie die ersten 10 Sekunden und die letzten 10 Sekunden kürzen möchten, geben Sie die folgenden Werte an:</span><span class="sxs-lookup"><span data-stu-id="e98c4-113">If you wanted to trim the first 10 seconds and the last 10 seconds, you would specify the following values:</span></span>

-   <span data-ttu-id="e98c4-114">Medien Start: 10 Sekunden</span><span class="sxs-lookup"><span data-stu-id="e98c4-114">Media start: 10 seconds</span></span>
-   <span data-ttu-id="e98c4-115">Medien Ende: 80 Sekunden</span><span class="sxs-lookup"><span data-stu-id="e98c4-115">Media stop: 80 seconds</span></span>

<span data-ttu-id="e98c4-116">Legen Sie zum Angeben der Start Zeit des Mediums das [MF- \_ toponode \_ mediastart](mf-toponode-mediastart-attribute.md) -Attribut für den Quellknoten fest.</span><span class="sxs-lookup"><span data-stu-id="e98c4-116">To specify the media start time, set the [MF\_TOPONODE\_MEDIASTART](mf-toponode-mediastart-attribute.md) attribute on the source node.</span></span> <span data-ttu-id="e98c4-117">Um die Endzeit des Mediums anzugeben, legen Sie das [MF- \_ toponode \_ mediastop](mf-toponode-mediastop-attribute.md) -Attribut für den Quellknoten fest.</span><span class="sxs-lookup"><span data-stu-id="e98c4-117">To specify the media stop time, set the [MF\_TOPONODE\_MEDIASTOP](mf-toponode-mediastop-attribute.md) attribute on the source node.</span></span>

<span data-ttu-id="e98c4-118">Wenn Sie eine Bearbeitungs Sequenz erstellen möchten, legen Sie das [ \_ \_ globale \_ Zeit](mf-session-global-time-attribute.md) Attribut der MF-Sitzung fest, wenn Sie die Medien Sitzung erstellen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-118">To create an editing sequence, set the [MF\_SESSION\_GLOBAL\_TIME](mf-session-global-time-attribute.md) attribute when you create the Media Session.</span></span> <span data-ttu-id="e98c4-119">Andernfalls erwartet die Medien Sitzung Wiedergabelisten Sequenzen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-119">Otherwise, the Media Session expects playlist sequences.</span></span> <span data-ttu-id="e98c4-120">In einer Bearbeitungs Sequenz muss jede Segment Topologie über das Projekt für die [MF- \_ \_ TopologieTopologie](mf-topology-projectstart-attribute.md) und das [Projekt "MF- \_ Topologie \_ Projectplace](mf-topology-projectstop-attribute.md) " verfügen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-120">In an editing sequence, every segment topology must have the [MF\_TOPOLOGY\_PROJECTSTART](mf-topology-projectstart-attribute.md) attribute and the [MF\_TOPOLOGY\_PROJECTSTOP](mf-topology-projectstop-attribute.md) attribute.</span></span>

## <a name="playlist-sequences"></a><span data-ttu-id="e98c4-121">Wiedergabelisten Sequenzen</span><span class="sxs-lookup"><span data-stu-id="e98c4-121">Playlist Sequences</span></span>

<span data-ttu-id="e98c4-122">In einer Wiedergabelisten Sequenz beginnt die Präsentations Uhr bei Null und wird über Segment Grenzen hinweg fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="e98c4-122">In a playlist sequence, the presentation clock starts at zero and continues across segment boundaries.</span></span> <span data-ttu-id="e98c4-123">Die nativen Quellen liefern Beispiele mit Zeitstempeln, die der Medien Zeit entsprechen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-123">The native sources deliver samples with time stamps equal to the media time.</span></span> <span data-ttu-id="e98c4-124">Die Pipeline konvertiert die Zeitstempel wie folgt in die richtige Präsentationszeit:</span><span class="sxs-lookup"><span data-stu-id="e98c4-124">The pipeline converts the time stamps to the correct presentation time as follows:</span></span>

-   <span data-ttu-id="e98c4-125">Neuer Zeitstempel = Medien Zeit + Offset − Medien Start</span><span class="sxs-lookup"><span data-stu-id="e98c4-125">New time stamp = media time + offset − media start</span></span>

<span data-ttu-id="e98c4-126">Der Wert von *Offset* ist die Präsentationszeit, zu der das vorherige Segment beendet wurde.</span><span class="sxs-lookup"><span data-stu-id="e98c4-126">The value of *offset* is the presentation time at which the previous segment ended.</span></span> <span data-ttu-id="e98c4-127">Für das erste Segment ist der Offset 0 (null).</span><span class="sxs-lookup"><span data-stu-id="e98c4-127">For the first segment, the offset is zero.</span></span> <span data-ttu-id="e98c4-128">Im folgenden finden Sie zwei Beispiele für die Berechnung dieser Zeitstempel Konvertierungen:</span><span class="sxs-lookup"><span data-stu-id="e98c4-128">Here are two examples of how these time-stamp conversions are calculated:</span></span>

-   <span data-ttu-id="e98c4-129">Beispiel 1: angenommen, das erste Segment (S1) ist 10 Sekunden lang, und das zweite Segment (S2) hat eine Medien Start Zeit von 0 (null).</span><span class="sxs-lookup"><span data-stu-id="e98c4-129">Example 1: Suppose the first segment (S1) is 10 seconds long, and the second segment (S2) has a media start time of zero.</span></span> <span data-ttu-id="e98c4-130">Die native Quelle verwendet die Medien Zeit für Ihre Zeitstempel, sodass das erste Beispiel von S2 den Zeitstempel 0 (null) aufweist.</span><span class="sxs-lookup"><span data-stu-id="e98c4-130">The native source uses the media time for its time stamps, so the first sample from S2 has a time stamp of zero.</span></span> <span data-ttu-id="e98c4-131">Der Offset beträgt 10 Sekunden (die Dauer S1), daher beträgt der angepasste Zeitstempel: 0 + 10 − 0 = 10 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="e98c4-131">The offset is 10 seconds (the duration of S1), so the adjusted time stamp is:0 + 10 − 0 = 10 seconds.</span></span>
-   <span data-ttu-id="e98c4-132">Beispiel 2: angenommen, das Segment S1 ist 10 Sekunden lang, und S2 hat eine Medien Start Zeit von 5 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="e98c4-132">Example 2: Suppose segment S1 is 10 seconds long, and S2 has a media start time of 5 seconds.</span></span> <span data-ttu-id="e98c4-133">Das erste Beispiel von S2 weist einen Zeitstempel von 5 Sekunden (Medien Zeit) auf.</span><span class="sxs-lookup"><span data-stu-id="e98c4-133">The first sample from S2 has a time stamp of 5 seconds (media time).</span></span> <span data-ttu-id="e98c4-134">Der Offset beträgt 10 Sekunden, sodass der angepasste Zeitstempel: 5 + 10 − 5 = 10 Sekunden ist.</span><span class="sxs-lookup"><span data-stu-id="e98c4-134">The offset is 10 seconds, so the adjusted time stamp is:5 + 10 − 5 = 10 seconds.</span></span>

<span data-ttu-id="e98c4-135">Alle Pipeline Komponenten, die von den Quellknoten nachgelagert werden, erhalten Stichproben mit den angepassten Zeitstempeln.</span><span class="sxs-lookup"><span data-stu-id="e98c4-135">All pipeline components downstream from the source nodes receive samples with the adjusted time stamps.</span></span> <span data-ttu-id="e98c4-136">Die Quellknoten in einer Topologie können unterschiedliche Startzeiten für Medien aufweisen, sodass die Anpassungen für jede Verzweigung der Topologie separat berechnet werden.</span><span class="sxs-lookup"><span data-stu-id="e98c4-136">The source nodes in a topology can have different media start times, so the adjustments are calculated separately for each branch of the topology.</span></span>

<span data-ttu-id="e98c4-137">Wenn die Präsentation zum nächsten Segment wechselt, wird die Präsentations Uhr nicht beendet oder zurückgesetzt, und die Präsentationszeit nimmt monoton zu.</span><span class="sxs-lookup"><span data-stu-id="e98c4-137">When the presentation switches to the next segment, the presentation clock does not stop or reset, and the presentation time increases monotonically.</span></span> <span data-ttu-id="e98c4-138">Bevor ein neues Segment gestartet wird, sendet die Medien Sitzung der Anwendung ein [mesessionnotifypresentationtime](mesessionnotifypresentationtime.md) -Ereignis.</span><span class="sxs-lookup"><span data-stu-id="e98c4-138">Before a new segment starts, the Media Session sends the application an [MESessionNotifyPresentationTime](mesessionnotifypresentationtime.md) event.</span></span> <span data-ttu-id="e98c4-139">Das-Ereignis gibt die Startzeit des Segments relativ zur Präsentations Uhr und den Wert des Offsets an.</span><span class="sxs-lookup"><span data-stu-id="e98c4-139">The event specifies the starting time of the segment, relative to the presentation clock, and the value of the offset.</span></span> <span data-ttu-id="e98c4-140">Wenn ein neues [**Segment gestartet wird, ruft die**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasource-start) Pipeline auf der Sequencer-Quelle auf, wobei der Wert VT \_ leer ist.</span><span class="sxs-lookup"><span data-stu-id="e98c4-140">When a new segment starts, the pipeline calls [**Start**](/windows/desktop/api/mfidl/nf-mfidl-imfmediasource-start) on the sequencer source with the value VT\_EMPTY.</span></span> <span data-ttu-id="e98c4-141">Die Sequencer-Quelle sendet ein [mesourcestarted](mesourcestarted.md) -Ereignis ohne Startzeit.</span><span class="sxs-lookup"><span data-stu-id="e98c4-141">The sequencer source sends an [MESourceStarted](mesourcestarted.md) event with no start time.</span></span>

<span data-ttu-id="e98c4-142">Zum Suchen gibt die Anwendung einen Segment Bezeichner zuzüglich eines Zeit Offsets innerhalb des Segments an.</span><span class="sxs-lookup"><span data-stu-id="e98c4-142">To seek, the application specifies a segment identifier plus a time offset within the segment.</span></span> <span data-ttu-id="e98c4-143">Nach der Suche beginnt die Präsentations Uhr am *Segment* Offset.</span><span class="sxs-lookup"><span data-stu-id="e98c4-143">After the seek, the presentation clock starts at the *segment* offset.</span></span> <span data-ttu-id="e98c4-144">Im folgenden finden Sie ein Beispiel für die Funktionsweise dieses Prozesses:</span><span class="sxs-lookup"><span data-stu-id="e98c4-144">Here is an example of how that process works:</span></span>

-   <span data-ttu-id="e98c4-145">Beispiel 3: die Anwendung versucht, S3 mit einem Segment Offset von 10 Sekunden zu segmentieren.</span><span class="sxs-lookup"><span data-stu-id="e98c4-145">Example 3: The application seeks to segment S3, with a segment offset of 10 seconds.</span></span> <span data-ttu-id="e98c4-146">Die Präsentations Uhr beginnt bei 10 Sekunden (Segment Offset).</span><span class="sxs-lookup"><span data-stu-id="e98c4-146">The presentation clock starts at 10 seconds (the segment offset).</span></span> <span data-ttu-id="e98c4-147">Der Offset umfasst nicht die Dauer der Segmente S1 und S2.</span><span class="sxs-lookup"><span data-stu-id="e98c4-147">The offset does not include the duration of segments S1 and S2.</span></span> <span data-ttu-id="e98c4-148">Die Sequencer-Quelle sendet ein [mesourcestarted](mesourcestarted.md) -Ereignis mit einer Startzeit, die gleich dem Segment Offset ist, 10 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="e98c4-148">The sequencer source sends an [MESourceStarted](mesourcestarted.md) event with a start time equal to the segment offset, 10 seconds.</span></span>

<span data-ttu-id="e98c4-149">Wenn die Wiedergabe im nächsten Segment fortgesetzt wird, funktioniert der Übergang wie in den vorherigen Beispielen, mit dem Unterschied, dass der Offset nicht die übersprungenen Segmente enthält.</span><span class="sxs-lookup"><span data-stu-id="e98c4-149">After a seek, if playback continues to the next segment, the transition works just like the previous examples, except that the offset does not include the skipped segments.</span></span>

<span data-ttu-id="e98c4-150">Im folgenden finden Sie weitere Details, die beeinflussen, wie Beispiele mit Zeitstempel versehen werden:</span><span class="sxs-lookup"><span data-stu-id="e98c4-150">Here are some further details that affect how samples are time stamped:</span></span>

-   <span data-ttu-id="e98c4-151">Decoder benötigen möglicherweise Daten, die über die Endzeit des Mediums hinausgehen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-151">Decoders may need data beyond the media stop time.</span></span> <span data-ttu-id="e98c4-152">Die Pipeline ruft so viele Daten aus der Quelle ab, wie der Decoder erfordert, und gibt dann die Ausgabe Beispiele des Decoders aus.</span><span class="sxs-lookup"><span data-stu-id="e98c4-152">The pipeline pulls as much data from the source as the decoder requires, and then trims the decoder's output samples.</span></span>
-   <span data-ttu-id="e98c4-153">Transformationen können Daten Puffern.</span><span class="sxs-lookup"><span data-stu-id="e98c4-153">Transforms might buffer data.</span></span> <span data-ttu-id="e98c4-154">Beispielsweise ist ein Audioeffekt möglicherweise erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e98c4-154">For example, an audio effect might need to do this.</span></span> <span data-ttu-id="e98c4-155">Wenn ein Segment endet, liegt der Zeitstempel für das letzte Beispiel aus der Transformation vor dem Ende des Segments, da die Transformation einige Daten zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="e98c4-155">When a segment ends, the time stamp on the last sample from the transform is earlier than the end of the segment, because the transform is holding back some data.</span></span> <span data-ttu-id="e98c4-156">Wenn das nächste Segment gestartet wird, ist der Zeitstempel im ersten Beispiel etwas niedriger als der Anfang des Segments.</span><span class="sxs-lookup"><span data-stu-id="e98c4-156">When the next segment starts, the time stamp on the first sample is slightly earlier than the start of the segment.</span></span> <span data-ttu-id="e98c4-157">Es gibt keine Lücke in den Zeitstempeln, sodass die Daten, die die Medien Senke erreichen, kontinuierlich sind.</span><span class="sxs-lookup"><span data-stu-id="e98c4-157">There is no gap in the time stamps, so the data that reaches the media sink is continuous.</span></span> <span data-ttu-id="e98c4-158">Wenn das abschließende Segment endet, zieht die Pipeline die Transformation, sodass keine Daten verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-158">When the final segment ends, the pipeline drains the transform, so no data is lost.</span></span>
-   <span data-ttu-id="e98c4-159">Die Quelle muss möglicherweise vor der Start Zeit des Mediums beginnen, um den vorherigen Keyframe zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="e98c4-159">The source may need to start slightly earlier than the media start time, to pick up the previous key frame.</span></span> <span data-ttu-id="e98c4-160">Daher kann das erste Beispiel nach der Anpassung eine negative Präsentationszeit haben.</span><span class="sxs-lookup"><span data-stu-id="e98c4-160">Therefore, after the adjustment, the first sample might have a negative presentation time.</span></span>

## <a name="editing-sequences"></a><span data-ttu-id="e98c4-161">Bearbeiten von Sequenzen</span><span class="sxs-lookup"><span data-stu-id="e98c4-161">Editing Sequences</span></span>

<span data-ttu-id="e98c4-162">In einer Bearbeitungs Sequenz gibt die Anwendung die Segment Grenzen im Voraus an, indem Sie die Projekt-und die MF-TopologieTopologie [**\_ \_ ProjectStart**](mf-topology-projectstop-attribute.md) -Attribute festlegt. [**\_ \_**](mf-topology-projectstart-attribute.md)</span><span class="sxs-lookup"><span data-stu-id="e98c4-162">In an editing sequence, the application specifies the segment boundaries in advance, by setting the [**MF\_TOPOLOGY\_PROJECTSTART**](mf-topology-projectstart-attribute.md) and [**MF\_TOPOLOGY\_PROJECTSTOP**](mf-topology-projectstop-attribute.md) attributes.</span></span> <span data-ttu-id="e98c4-163">Die Pipeline berechnet die Anpassungen für die Zeitstempel auf fast die gleiche Weise wie für eine Wiedergabelisten Sequenz:</span><span class="sxs-lookup"><span data-stu-id="e98c4-163">The pipeline calculates adjustments for the time stamps in almost the same way as for a playlist sequence:</span></span>

-   <span data-ttu-id="e98c4-164">Für den Offset wird der Wert der MF- [**\_ Topologie \_ ProjectStart**](mf-topology-projectstart-attribute.md)verwendet, anstatt das beobachtete Ende des Segments zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e98c4-164">For the offset, it uses the value of [**MF\_TOPOLOGY\_PROJECTSTART**](mf-topology-projectstart-attribute.md), instead of using the observed end of the segment.</span></span>

-   <span data-ttu-id="e98c4-165">Für die Suche verwendet der Offset einen Wert, der gleich dem Wert für den [**MF- \_ \_ topologietopologiewert**](mf-topology-projectstart-attribute.md) des Segments plus dem Segment Offset ist.</span><span class="sxs-lookup"><span data-stu-id="e98c4-165">For seeking, the offset uses a value equal to the segment's [**MF\_TOPOLOGY\_PROJECTSTART**](mf-topology-projectstart-attribute.md) value plus the segment offset.</span></span>

<span data-ttu-id="e98c4-166">Daher ist die Präsentationszeit in einer Bearbeitungs Sequenz immer relativ zum Anfang der Präsentation, auch wenn die Anwendung zu einem anderen Segment sucht.</span><span class="sxs-lookup"><span data-stu-id="e98c4-166">Therefore, the presentation time in an editing sequence is always relative to the start of the presentation, even if the application seeks to another segment.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e98c4-167">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="e98c4-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e98c4-168">Medien Sitzung</span><span class="sxs-lookup"><span data-stu-id="e98c4-168">Media Session</span></span>](media-session.md)
</dt> <dt>

[<span data-ttu-id="e98c4-169">Sequencer-Quelle</span><span class="sxs-lookup"><span data-stu-id="e98c4-169">Sequencer Source</span></span>](sequencer-source.md)
</dt> </dl>

 

 



