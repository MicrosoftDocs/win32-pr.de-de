---
description: Jede ASF-Datei enthält mindestens einen Stream. Das ASF-Profil Objekt stellt eine Auflistung von ASF-Streams dar. Bei der ASF-Codierung müssen Sie die Datenströme erstellen und konfigurieren, die Sie codieren möchten.
ms.assetid: cc89e8bc-58ff-48e2-9668-0dcd6cfd25e1
title: Erstellen und Konfigurieren von ASF-Streams
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d8eabce588022dd66947f34e4dcd9db61f26448b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106344640"
---
# <a name="creating-and-configuring-asf-streams"></a><span data-ttu-id="ba9a8-105">Erstellen und Konfigurieren von ASF-Streams</span><span class="sxs-lookup"><span data-stu-id="ba9a8-105">Creating and Configuring ASF Streams</span></span>

<span data-ttu-id="ba9a8-106">Jede ASF-Datei enthält mindestens einen Stream.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-106">Each ASF file contains one or more streams.</span></span> <span data-ttu-id="ba9a8-107">Das [ASF-Profil](asf-profile.md) Objekt stellt eine Auflistung von ASF-Streams dar.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-107">The [ASF Profile](asf-profile.md) object represents a collection of ASF streams.</span></span> <span data-ttu-id="ba9a8-108">Bei der ASF-Codierung müssen Sie die Datenströme erstellen und konfigurieren, die Sie codieren möchten.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-108">For ASF encoding, you must create and configure the streams that you want to encode.</span></span>

<span data-ttu-id="ba9a8-109">Eine Anwendung kann die folgenden Aufgaben mit dem Objekt "ASF-Profil" ausführen:</span><span class="sxs-lookup"><span data-stu-id="ba9a8-109">An application can perform the following tasks with the ASF profile object:</span></span>

-   <span data-ttu-id="ba9a8-110">Hinzufügen oder Entfernen eines Streams.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-110">Add or remove a stream.</span></span>
-   <span data-ttu-id="ba9a8-111">Abrufen der Konfigurationseinstellungen eines Streams.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-111">Obtain a stream's configuration settings.</span></span>
-   <span data-ttu-id="ba9a8-112">Konfigurieren Sie Nutz Last Erweiterungen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-112">Configure payload extensions.</span></span>
-   <span data-ttu-id="ba9a8-113">Fügen Sie ein gegenseitiges ASF-Ausschluss Objekt hinzu, entfernen oder ändern Sie es.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-113">Add, remove, or modify an ASF mutual exclusion object.</span></span>

<span data-ttu-id="ba9a8-114">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="ba9a8-114">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="ba9a8-115">Erstellen eines neuen Streams</span><span class="sxs-lookup"><span data-stu-id="ba9a8-115">Creating a New Stream</span></span>](#creating-a-new-stream)
-   [<span data-ttu-id="ba9a8-116">Zuweisen von streamnummern</span><span class="sxs-lookup"><span data-stu-id="ba9a8-116">Assigning Stream Numbers</span></span>](#assigning-stream-numbers)
-   [<span data-ttu-id="ba9a8-117">Festlegen von Leaky-Bucket-Werten</span><span class="sxs-lookup"><span data-stu-id="ba9a8-117">Setting Leaky Bucket Values</span></span>](#setting-leaky-bucket-values)
-   [<span data-ttu-id="ba9a8-118">Nutz Last Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="ba9a8-118">Payload Extensions</span></span>](#payload-extensions)
-   [<span data-ttu-id="ba9a8-119">Hinzufügen eines Datenstroms zum Profil</span><span class="sxs-lookup"><span data-stu-id="ba9a8-119">Adding a Stream to the Profile</span></span>](#adding-a-stream-to-the-profile)
-   [<span data-ttu-id="ba9a8-120">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ba9a8-120">Related topics</span></span>](#related-topics)

## <a name="creating-a-new-stream"></a><span data-ttu-id="ba9a8-121">Erstellen eines neuen Streams</span><span class="sxs-lookup"><span data-stu-id="ba9a8-121">Creating a New Stream</span></span>

<span data-ttu-id="ba9a8-122">Ein ASF-Profil Objekt muss Konfigurationseinstellungen für mindestens einen ASF-Stream enthalten.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-122">An ASF profile object must contain configuration settings for at least one ASF stream.</span></span> <span data-ttu-id="ba9a8-123">Jeder Stream wird durch ein Daten *Strom-Konfigurations* Objekt dargestellt, das die [**imfasf streamconfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) -Schnittstelle verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-123">Each stream is represented by a *stream configuration* object, which exposes the [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) interface.</span></span> <span data-ttu-id="ba9a8-124">Die Informationen im Datenstrom-Konfigurationsobjekt entsprechen dem Stream Properties-Objekt und den erweiterten Stream Properties-Objekten im ASF-Dateiheader.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-124">The information in the stream configuration object corresponds to the Stream Properties Object and the Extended Stream Properties Objects in the ASF file header.</span></span> <span data-ttu-id="ba9a8-125">(Siehe [Struktur der ASF-Datei](asf-file-structure.md).)</span><span class="sxs-lookup"><span data-stu-id="ba9a8-125">(See [ASF File Structure](asf-file-structure.md).)</span></span>

<span data-ttu-id="ba9a8-126">Um einem ASF-Profil einen Stream hinzuzufügen, führen Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="ba9a8-126">To add a stream to an ASF profile, perform the following steps:</span></span>

1.  <span data-ttu-id="ba9a8-127">Erstellen Sie ein leeres Stream-Datenstrom-Konfigurationsobjekt.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-127">Create an empty stream stream configuration object.</span></span>
2.  <span data-ttu-id="ba9a8-128">Konfigurieren Sie den Stream gemäß den Anforderungen der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-128">Configure the stream according to the application's requirements.</span></span>
3.  <span data-ttu-id="ba9a8-129">Fügen Sie den Stream zum Profil hinzu.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-129">Add the stream to the profile.</span></span>

<span data-ttu-id="ba9a8-130">Um einen Stream für das Profil zu erstellen, rufen Sie [**imfasfprofile:: kreatestream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) auf, um ein leeres Datenstrom-Konfigurationsobjekt zu erstellen und den Zeiger im *ppIStream* -Parameter zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-130">To create a stream for the profile, call [**IMFASFProfile::CreateStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) to create an empty stream configuration object and receive the pointer in the *ppIStream* parameter.</span></span> <span data-ttu-id="ba9a8-131">" **Foratestream** " muss den Typ des zu erstellenden Streams kennen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-131">**CreateStream** needs to know the type of the stream to create.</span></span> <span data-ttu-id="ba9a8-132">Die gängigsten Typen von Streams, die in ASF-Dateien verwendet werden, sind Audiodaten und Videodaten Ströme.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-132">The most common types of streams used in ASF files are audio and video streams.</span></span> <span data-ttu-id="ba9a8-133">In Media Foundation werden die Streamtypen durch das Medientyp Objekt gekennzeichnet, das die [**IMF MediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) -Schnittstelle verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-133">In Media Foundation, the stream types are denoted by the media type object that exposes the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="ba9a8-134">Der Haupttyp des Medientyps definiert die Kategorie des Datenstroms für digitale Medien, z. b. Audiodaten oder Videos.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-134">The major type of the media type defines the category of the digital media stream, such as audio or video.</span></span> <span data-ttu-id="ba9a8-135">Der Untertyp definiert das Format des Haupt Typs.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-135">The subtype defines the format of the major type.</span></span> <span data-ttu-id="ba9a8-136">Der von " **kreatestream** " festgelegte erste Medientyp kann mit dem "Stream Configuration"-Objekt geändert werden.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-136">The initial media type set by **CreateStream** can be changed by using the steam configuration object.</span></span> <span data-ttu-id="ba9a8-137">Um den Medientyp für den Stream abzurufen, rufen Sie [**imfasfstreamconfig:: getmediatype**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) auf, oder rufen Sie den Haupttyp " [**imfasfstreamconfig:: getstreamtype**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype)" ab.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-137">To retrieve the media type for the stream, call [**IMFASFStreamConfig::GetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) or to retrieve the major type call [**IMFASFStreamConfig::GetStreamType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span></span> <span data-ttu-id="ba9a8-138">Der erste Medientyp für einen Datenstrom kann durch einen neuen konfigurierten Medientyp ersetzt werden, indem [**imfasfstreamconfig:: setmediatype**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-138">The initial media type for a stream can be replaced with a new configured media type by calling [**IMFASFStreamConfig::SetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span></span>

<span data-ttu-id="ba9a8-139">Wenn eine Anwendung ein Profil aus einem gültigen Präsentations Deskriptor erstellt, indem Sie [**mfcreateasfprofilefrompresentationdescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-139">If an application creates a profile from a valid presentation descriptor by calling [**MFCreateASFProfileFromPresentationDescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span></span> <span data-ttu-id="ba9a8-140">Die Funktion legt automatisch die Datenstrom-Konfigurationsobjekte für jeden der Streams fest und legt Sie für das Profil fest.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-140">The function automatically sets the stream configuration objects for each of the streams and sets them on the profile.</span></span> <span data-ttu-id="ba9a8-141">Die Datenstrom-Medientypen werden basierend auf den Datenstrom Deskriptoren festgelegt, die dem Präsentations Deskriptor zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-141">The stream media types are set based on the stream descriptors associated with the presentation descriptor.</span></span>

## <a name="assigning-stream-numbers"></a><span data-ttu-id="ba9a8-142">Zuweisen von streamnummern</span><span class="sxs-lookup"><span data-stu-id="ba9a8-142">Assigning Stream Numbers</span></span>

<span data-ttu-id="ba9a8-143">Streams aller Typen müssen eine streamnummer zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-143">Streams of all types must be assigned a stream number.</span></span> <span data-ttu-id="ba9a8-144">Streamnummern müssen nicht sequenziell sein, müssen jedoch zwischen 1 und 127 liegen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-144">Stream numbers need not be sequential but must be in the range from 1 to 127.</span></span> <span data-ttu-id="ba9a8-145">Um streamnummern zuzuweisen, nennen Sie [**imfasfstreamconfig:: setstreamnumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="ba9a8-145">To assign stream numbers, call [**IMFASFStreamConfig::SetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span></span> <span data-ttu-id="ba9a8-146">Zum Abrufen des Datenstrom Nummern Aufrufes [**imfasfstreamconfig:: getstreamnumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="ba9a8-146">To get the stream number call, [**IMFASFStreamConfig::GetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span></span>

> [!Note]  
> <span data-ttu-id="ba9a8-147">Eine streamnummer unterscheidet sich von einem streamindex, den Sie verwenden, wenn Sie Datenströme in einem Profil mithilfe von [**imfasf profile:: GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream)erhalten.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-147">A stream number is different from a stream index, which you use when getting streams in a profile by using [**IMFASFProfile::GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span></span> <span data-ttu-id="ba9a8-148">Der streamindex ist eine Zahl, die dem Stream vom Profil Objekt zugewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-148">The stream index is a number assigned to the stream by the profile object.</span></span> <span data-ttu-id="ba9a8-149">Streamindexe liegen zwischen 0 und eins kleiner als die Anzahl von Datenströmen, die von [**imfasfprofile:: getstreamcount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount)abgerufen wurden.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-149">Stream indexes range between 0 and one less than the number of streams retrieved by [**IMFASFProfile::GetStreamCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span></span> <span data-ttu-id="ba9a8-150">Sie können auch einen Stream aus dem Profil anhand der streamnummer abrufen, indem Sie [**imfasfprofile:: getstreambynumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-150">You can also get a stream from the profile by stream number by calling [**IMFASFProfile::GetStreamByNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span></span>

 

## <a name="setting-leaky-bucket-values"></a><span data-ttu-id="ba9a8-151">Festlegen von Leaky-Bucket-Werten</span><span class="sxs-lookup"><span data-stu-id="ba9a8-151">Setting Leaky Bucket Values</span></span>

<span data-ttu-id="ba9a8-152">Jedem Datenstrom-Konfigurationsobjekt, das einen Stream darstellt, müssen die Werte für die Parameter "Leaky Bucket", "Bitrate" und "Puffer Fenster</span><span class="sxs-lookup"><span data-stu-id="ba9a8-152">Each stream configuration object that represents a stream must have associated leaky bucket parameters, bit rate and buffer window values.</span></span>

<span data-ttu-id="ba9a8-153">Diese Werte sind für die Anwendung über das [**MF \_ asfstreamconfig \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) -Attribut und das [**MF \_ asfstreamconfig \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) -Attribut verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-153">These values are available to the application through the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) attribute and the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) attribute.</span></span> <span data-ttu-id="ba9a8-154">Bei der Datei Codierung sind die tatsächlichen Werte vom Codierungstyp abhängig und werden vom Encoder festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-154">For file encoding, the actual values depend on the type of encoding and are decided by the encoder.</span></span> <span data-ttu-id="ba9a8-155">Wenn Sie bereits über einen konfigurierten Encoder verfügen und der Ausgabetyp für den Encoder festgelegt ist, muss die Anwendung den Encoder nach den Parametern für den Leaky-Bucket Abfragen und die Werte in diesen Attributen festlegen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-155">If you already have a configured encoder and the output type is set on the encoder, the application must query the encoder for the leaky bucket parameters and set the values in these attributes.</span></span>

<span data-ttu-id="ba9a8-156">Wenn Sie die Komponenten der Pipeline Schicht verwenden und die Datenströme für die ASF-Medien Senke konfigurieren, haben Sie wahrscheinlich keinen konfigurierten Encoder.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-156">If you are using the pipeline layer components and configuring the streams for the ASF media sink, most likely, you do not have a configured encoder.</span></span> <span data-ttu-id="ba9a8-157">In diesem Fall müssen Sie den Encoder nach dem Medientyp Aushandlungen Abfragen und den aktualisierten Wert in der Eigenschaft [**mfpkey \_ asfstreamsink \_ korrigiert \_ leakybucket**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) des Eigenschaften Speichers der ASF-Medien Senke festlegen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-157">In this case, you must query the encoder post-media type negotiations and set the updated value in the [**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) property of the ASF media sink's property store.</span></span> <span data-ttu-id="ba9a8-158">Der Encoding-Eigenschaften Speicher wird durch die des ContentInfo-Objekts abgerufen, das dem Profil zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-158">The encoding property store is retrieved through the of the ContentInfo object associated with the profile.</span></span> <span data-ttu-id="ba9a8-159">Die aktualisierten Werte werden automatisch in den Attributwerten für den Leaky-Bucket des Streams widergespiegelt.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-159">The updated values are reflected in the stream's leaky bucket attribute values automatically.</span></span> <span data-ttu-id="ba9a8-160">Allgemeine Informationen zu Lecks und zum Ermitteln des Lecks-bucketwerts aus dem Encoder finden Sie unter The [Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="ba9a8-160">For general information about leaky buckets and how to get the leaky bucket value from the encoder, see the [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="payload-extensions"></a><span data-ttu-id="ba9a8-161">Nutz Last Erweiterungen</span><span class="sxs-lookup"><span data-stu-id="ba9a8-161">Payload Extensions</span></span>

<span data-ttu-id="ba9a8-162">Mediendaten für die Streams werden dem ASF-Datenobjekt vom [ASF Multiplexer](asf-multiplexer.md)als [Medien Beispiele](media-samples.md) hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-162">Media data for the streams are added to the ASF Data Object as [Media Samples](media-samples.md) by the [ASF Multiplexer](asf-multiplexer.md).</span></span> <span data-ttu-id="ba9a8-163">Diese Medien Beispiele können Nutz Last Erweiterungs Daten enthalten: SMPTE Time Code Data, Non-Square Pixel Page Ratio, Sample Duration, und wenn das Beispiel dieses enthält, ein Video Keyframe.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-163">These media samples can contain payload extension data: SMPTE time code data, non-square pixel aspect ratio, sample duration, and if the sample contains it, a video key frame.</span></span> <span data-ttu-id="ba9a8-164">Eine Liste der unterstützten Nutz Last Erweiterungs Typen finden Sie unter die [GUIDs der ASF-Nutz Last Erweiterung](asf-payload-extension-guids.md).</span><span class="sxs-lookup"><span data-stu-id="ba9a8-164">For a list of the supported payload extension types, see [ASF Payload Extension GUIDs](asf-payload-extension-guids.md).</span></span>

<span data-ttu-id="ba9a8-165">Ein Datenstrom muss so konfiguriert werden, dass er die Nutz Last Erweiterung annimmt, damit der Multiplexer während der Stichproben Generierung die ergänzenden Daten den einzelnen Beispielen für diesen Stream hinzufügen kann.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-165">A stream must be configured to accept payload extension so that during sample generation the multiplexer can add the supplementary data to each sample for that stream.</span></span>

<span data-ttu-id="ba9a8-166">Rufen Sie zum Abrufen der Gesamtanzahl der für den Stream festgelegten Nutz Last Erweiterungen [**imfasfstreamconfig:: getpayloadextensioncount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) auf, und Listen Sie die Liste dann durch Aufrufen von [**imfasfstreamconfig:: getpayloadextension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension)auf.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-166">To get the total number of payload extensions set on the stream, call [**IMFASFStreamConfig::GetPayloadExtensionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) and then enumerate the list by calling [**IMFASFStreamConfig::GetPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span></span> <span data-ttu-id="ba9a8-167">Um die Nutz Last Erweiterung für den Stream hinzuzufügen, nennen Sie [**imfasfstreamconfig:: addpayloadextension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="ba9a8-167">To add payload extension for the stream, call [**IMFASFStreamConfig::AddPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span></span> <span data-ttu-id="ba9a8-168">Dadurch werden den einzelnen Medien Beispielen, die für den Stream generiert werden, zusätzliche Daten hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-168">This will add supplementary data to individual media samples generated for the stream.</span></span>

<span data-ttu-id="ba9a8-169">Um vorhandene Nutz Last Erweiterungen zu entfernen, die dem Stream zugeordnet sind, müssen Sie [**imfasfstreamconfig:: removeallpayloadextensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-169">To remove existing payload extensions associated with the stream, call [**IMFASFStreamConfig::RemoveAllPayloadExtensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span></span>

## <a name="adding-a-stream-to-the-profile"></a><span data-ttu-id="ba9a8-170">Hinzufügen eines Datenstroms zum Profil</span><span class="sxs-lookup"><span data-stu-id="ba9a8-170">Adding a Stream to the Profile</span></span>

<span data-ttu-id="ba9a8-171">Nachdem ein Stream konfiguriert wurde, müssen Sie [**imfasfprofile:: setStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) aufrufen, um den Stream zum Profil hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-171">After a stream is configured, call [**IMFASFProfile::SetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) to add the stream to the profile.</span></span>

<span data-ttu-id="ba9a8-172">Um einen vorhandenen Stream im Profil zu entfernen, nennen Sie [**imfasfprofile:: removestream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span><span class="sxs-lookup"><span data-stu-id="ba9a8-172">To remove an existing stream in the profile, call [**IMFASFProfile::RemoveStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span></span>

<span data-ttu-id="ba9a8-173">Das konfigurierte Profil muss für das ContentInfo-Objekt festgelegt werden, indem [**imfasfcontentinfo:: setprofile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-173">The configured profile must be set on the ContentInfo object by calling [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span></span> <span data-ttu-id="ba9a8-174">Wenn Sie Änderungen an einem vorhandenen Stream vornehmen, müssen Sie ihn erneut zum Profil hinzufügen und das Profil für das ContentInfo-Objekt festlegen.</span><span class="sxs-lookup"><span data-stu-id="ba9a8-174">If make changes to an existing stream, you must add it again to the profile and set the profile on the ContentInfo object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ba9a8-175">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ba9a8-175">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ba9a8-176">ASF-Profil</span><span class="sxs-lookup"><span data-stu-id="ba9a8-176">ASF Profile</span></span>](asf-profile.md)
</dt> <dt>

[<span data-ttu-id="ba9a8-177">Unterstützung von ASF in Media Foundation</span><span class="sxs-lookup"><span data-stu-id="ba9a8-177">ASF Support in Media Foundation</span></span>](asf-support-in-media-foundation.md)
</dt> <dt>

[<span data-ttu-id="ba9a8-178">Wmcontainer-ASF-Komponenten</span><span class="sxs-lookup"><span data-stu-id="ba9a8-178">WMContainer ASF Components</span></span>](wmcontainer-asf-components.md)
</dt> </dl>

 

 



