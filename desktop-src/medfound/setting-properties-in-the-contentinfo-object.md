---
description: Beim Erstellen einer ASF-Datei muss das ContentInfo-Objekt die Merkmale des Medien Inhalts kennen, damit die verschiedenen Header Objekte mit den richtigen Werten aufgefüllt werden.
ms.assetid: 30e3c10b-1310-4194-8b83-221dfe73b03c
title: Festlegen von Eigenschaften im ContentInfo-Objekt
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e386d5eb33dd1893b195a870425b2336ab9c316f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104130473"
---
# <a name="setting-properties-in-the-contentinfo-object"></a><span data-ttu-id="98a65-103">Festlegen von Eigenschaften im ContentInfo-Objekt</span><span class="sxs-lookup"><span data-stu-id="98a65-103">Setting Properties in the ContentInfo Object</span></span>

<span data-ttu-id="98a65-104">Beim Erstellen einer ASF-Datei muss das ContentInfo-Objekt die Merkmale des Medien Inhalts kennen, damit die verschiedenen Header Objekte mit den richtigen Werten aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="98a65-104">While creating an ASF file, the ContentInfo object needs to know the characteristics of the media content so that the various header objects are populated with the correct values.</span></span>

-   [<span data-ttu-id="98a65-105">Inhalts bezogene Einstellungen im ContentInfo-Objekt</span><span class="sxs-lookup"><span data-stu-id="98a65-105">Content-Related Settings in the ContentInfo Object</span></span>](#content-related-settings-in-the-contentinfo-object)
-   [<span data-ttu-id="98a65-106">Konfigurieren des ContentInfo-Objekts mit Encodereinstellungen</span><span class="sxs-lookup"><span data-stu-id="98a65-106">Configuring the ContentInfo Object with Encoder Settings</span></span>](#configuring-the-contentinfo-object-with-encoder-settings)
-   [<span data-ttu-id="98a65-107">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="98a65-107">Related topics</span></span>](#related-topics)

## <a name="content-related-settings-in-the-contentinfo-object"></a><span data-ttu-id="98a65-108">Inhalts bezogene Einstellungen im ContentInfo-Objekt</span><span class="sxs-lookup"><span data-stu-id="98a65-108">Content-Related Settings in the ContentInfo Object</span></span>

<span data-ttu-id="98a65-109">Inhalts Konfigurationseinstellungen sind Stream-Einstellungen, die im Profil enthalten sind, und geben den Datenstrom Bezeichner, den Medientyp und die Parameter für den Leaky Bucket für die Medien Senke an.</span><span class="sxs-lookup"><span data-stu-id="98a65-109">Content configuration settings are stream settings, which are contained within the profile and specify the stream identifier, the media type, and the leaky bucket parameters for the media sink.</span></span> <span data-ttu-id="98a65-110">Nachdem das Profil für das ContentInfo-Objekt durch Aufrufen von [**imfasfcontentinfo:: setprofile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile)festgelegt wurde, werden diese Werte in das generierte ASF-Header Objekt übernommen.</span><span class="sxs-lookup"><span data-stu-id="98a65-110">After the profile is set on the ContentInfo object by calling [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile), these values are reflected in the ASF Header Object that was generated.</span></span> <span data-ttu-id="98a65-111">Weitere Informationen zu diesen Einstellungen finden Sie unter [Erstellen und Konfigurieren von ASF-Streams](creating-and-configuring-asf-streams.md).</span><span class="sxs-lookup"><span data-stu-id="98a65-111">For information about these settings, see [Creating and Configuring ASF Streams](creating-and-configuring-asf-streams.md).</span></span>

## <a name="configuring-the-contentinfo-object-with-encoder-settings"></a><span data-ttu-id="98a65-112">Konfigurieren des ContentInfo-Objekts mit Encodereinstellungen</span><span class="sxs-lookup"><span data-stu-id="98a65-112">Configuring the ContentInfo Object with Encoder Settings</span></span>

<span data-ttu-id="98a65-113">Digitale Medien-oder Videodaten sind komplex und nehmen eine große Menge an Arbeitsspeicher in Rechnung.</span><span class="sxs-lookup"><span data-stu-id="98a65-113">Digital media audio or video data is complex and takes up large amounts of memory.</span></span> <span data-ttu-id="98a65-114">In den meisten Fällen werden sowohl Audiodaten als auch Videos mithilfe von Encodern komprimiert, bevor Sie zu einer ASF-Datei hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="98a65-114">Under most circumstances, both audio and video are compressed by using encoders before being added to an ASF file.</span></span> <span data-ttu-id="98a65-115">In Media Foundation werden Encoder als [Media Foundation Transformationen](media-foundation-transforms.md) (MFTs) mit einer Eingabe und einer Ausgabe implementiert.</span><span class="sxs-lookup"><span data-stu-id="98a65-115">In Media Foundation, encoders are implemented as [Media Foundation Transforms](media-foundation-transforms.md) (MFTs) with one input and one output.</span></span> <span data-ttu-id="98a65-116">Sie müssen den Typ des Ausgabe Mediums abhängig vom Medientyp des Eingabedaten Stroms und dem Codierungstyp auswählen, den Sie für die Komprimierung des Datenstroms ausgewählt haben.</span><span class="sxs-lookup"><span data-stu-id="98a65-116">You must select the output media type depending on the media type of the input stream and the encoding type you choose for compressing the stream.</span></span>

<span data-ttu-id="98a65-117">Vor der Codierungs Sitzung muss der Encoder konfiguriert werden, indem die relevanten Eigenschaften abhängig vom Codierungstyp festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="98a65-117">Before the encoding session, the encoder must be configured by setting the relevant properties depending on the type of encoding.</span></span>

<span data-ttu-id="98a65-118">Nach dem Konfigurieren des Encoders müssen Sie das ContentInfo-Objekt mit den Encoderwerten konfigurieren, da der [ASF Multiplexer](asf-multiplexer.md) und die ASF-Medien Senke, die mit dem aufgefüllten ContentInfo-Objekt initialisiert werden, Einstellungen wie die Leaky-Bucket-Werte zum Generieren von ASF-Datenpaketen verwenden.</span><span class="sxs-lookup"><span data-stu-id="98a65-118">After configuring the encoder, you must configure the ContentInfo object with the encoder values because the [ASF Multiplexer](asf-multiplexer.md) and the ASF Media Sink, which are initialized with the populated ContentInfo object, use settings such as the leaky bucket values, to generate ASF data packets.</span></span> <span data-ttu-id="98a65-119">Die Werte werden im endgültigen ASF-Header Objekt nicht gespeichert.</span><span class="sxs-lookup"><span data-stu-id="98a65-119">The values are not saved in the final ASF Header Object.</span></span> <span data-ttu-id="98a65-120">Die Codierungs Einstellungen werden als Eigenschaften verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="98a65-120">The encoding settings are exposed as properties.</span></span> <span data-ttu-id="98a65-121">Gehen Sie folgendermaßen vor, um das ContentInfo-Objekt mit den Codierungs Eigenschaften zu konfigurieren:</span><span class="sxs-lookup"><span data-stu-id="98a65-121">To configure the ContentInfo object with the encoder properties, do the following:</span></span>

1.  <span data-ttu-id="98a65-122">Sie können einen Zeiger auf den Eigenschaften Speicher des Encoders abrufen, indem Sie den Encoder ([**imftransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) -Schnittstelle) direkt für die **IPropertyStore** -Schnittstelle Abfragen.</span><span class="sxs-lookup"><span data-stu-id="98a65-122">Get a pointer to the encoder's property store by querying the encoder ([**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface) directly for the **IPropertyStore** interface.</span></span>
2.  <span data-ttu-id="98a65-123">[**Imfasfcontentinfo:: getencodingconfigurationpropertystore**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-getencodingconfigurationpropertystore)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="98a65-123">Call [**IMFASFContentInfo::GetEncodingConfigurationPropertyStore**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-getencodingconfigurationpropertystore).</span></span> <span data-ttu-id="98a65-124">Um streamspezifische Eigenschaften festzulegen, geben Sie den Datenstrom Bezeichner im *wstreamnumber* -Parameter an. übergeben Sie für Eigenschaften auf Dateiebene 0.</span><span class="sxs-lookup"><span data-stu-id="98a65-124">To set stream-specific properties, specify the stream identifier in the *wStreamNumber* parameter; for file-level properties, pass 0.</span></span> <span data-ttu-id="98a65-125">Der *ppistore* -Parameter erhält einen Zeiger auf die **IPropertyStore** -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="98a65-125">The *ppIStore* parameter receives a pointer to the **IPropertyStore** interface.</span></span> <span data-ttu-id="98a65-126">Der empfangene Eigenschaften Speicher ist leer.</span><span class="sxs-lookup"><span data-stu-id="98a65-126">The received property store is empty.</span></span>
3.  <span data-ttu-id="98a65-127">Aufrufen von **IPropertyStore:: GetValue** für den Encoder und Abrufen des Eigenschafts Werts durch Angeben der Eigenschafts Schlüssel Konstanten.</span><span class="sxs-lookup"><span data-stu-id="98a65-127">Call **IPropertyStore::GetValue** on the encoder and get the property value by specifying the property key constants.</span></span> <span data-ttu-id="98a65-128">Eine umfassende Liste der Codierungs Eigenschaften finden Sie in der [Codec-Programmier Referenz](/previous-versions//aa384554(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="98a65-128">For a complete list of encoding properties, see the [Codec Programming Reference](/previous-versions//aa384554(v=vs.85)).</span></span>
4.  <span data-ttu-id="98a65-129">Aufrufen von **IPropertyStore:: SetValue** für das ContentInfo-Objekt, um die erforderliche Eigenschaft im Eigenschaften Speicher festzulegen.</span><span class="sxs-lookup"><span data-stu-id="98a65-129">Call **IPropertyStore::SetValue** on the ContentInfo object to set the required property in the property store.</span></span>
5.  <span data-ttu-id="98a65-130">Wiederholen Sie die Schritte 3 und 4 für jede Eigenschaft, die Sie festlegen möchten.</span><span class="sxs-lookup"><span data-stu-id="98a65-130">Repeat steps 3 and 4 for each property that you want to set.</span></span>

<span data-ttu-id="98a65-131">Die ASF-Medien Senke kann mithilfe eines Aktivierungs Objekts erstellt werden, indem [**mfcreateasfmediasinkaktivierungs**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfmediasinkactivate)aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="98a65-131">The ASF media sink can be created by using an activation object by calling [**MFCreateASFMediaSinkActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfmediasinkactivate).</span></span> <span data-ttu-id="98a65-132">Das neue Medien Senk Objekt wird basierend auf den Einstellungen für die Medien Senke konfiguriert, die im Eigenschaften Speicher des ContentInfo-Objekts festgelegt werden können.</span><span class="sxs-lookup"><span data-stu-id="98a65-132">The new media sink object is configured based on media sink-specific settings that can be set in the ContentInfo object's property store.</span></span> <span data-ttu-id="98a65-133">In der folgenden Tabelle sind die Eigenschaften Konstanten der ASF-Medien Senke aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="98a65-133">The following table shows the ASF media sink property constants.</span></span>



| <span data-ttu-id="98a65-134">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="98a65-134">Property</span></span>                                                                                                     | <span data-ttu-id="98a65-135">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="98a65-135">Description</span></span>                                                                                                                                                                                                                                                                                           |
|--------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="98a65-136">**mfpkey \_ asfmediasink- \_ Basis \_ sendtime**</span><span class="sxs-lookup"><span data-stu-id="98a65-136">**MFPKEY\_ASFMEDIASINK\_BASE\_SENDTIME**</span></span>](mfpkey-asfmediasink-base-sendtime-property.md)                   | <span data-ttu-id="98a65-137">Die Sendezeit gibt an, wann die Nutzlast innerhalb des Lecks "Leaky" freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="98a65-137">The send time indicates when the payload inside the leaky bucket will be released.</span></span> <span data-ttu-id="98a65-138">Dieser Eigenschafts Wert gibt die erste Sende Zeit an.</span><span class="sxs-lookup"><span data-stu-id="98a65-138">This property value indicates the first send time.</span></span> <span data-ttu-id="98a65-139">Der Multiplexer verwendet diesen Wert, um die nachfolgenden Sendezeiten für die generierten Pakete zu berechnen, und stellt sicher, dass die Daten kontinuierlich über den Bucket "Leaky" fließen.</span><span class="sxs-lookup"><span data-stu-id="98a65-139">The multiplexer uses this value to calculate the subsequent send times for the generated packets and ensures that data flows steadily through the leaky bucket.</span></span> |
| [<span data-ttu-id="98a65-140">**mfpkey \_ asfmediasink \_ autoanpassung- \_ Bitrate**</span><span class="sxs-lookup"><span data-stu-id="98a65-140">**MFPKEY\_ASFMEDIASINK\_AUTOADJUST\_BITRATE**</span></span>](mfpkey-asfmediasink-autoadjust-bitrate-property.md)         | <span data-ttu-id="98a65-141">Dieser **boolesche** Wert gibt an, ob der Multiplexer die Bitrate automatisch anpassen muss, um sicherzustellen, dass die Daten keinen Überlauf des Lecks verursachen.</span><span class="sxs-lookup"><span data-stu-id="98a65-141">This **BOOL** value indicates whether the multiplexer needs to adjust the bit rate automatically to ensure that data does not overflow the leaky bucket.</span></span>                                                                                                                                              |
| [<span data-ttu-id="98a65-142">**mfpkey \_ asfmediasink \_ drmaction**</span><span class="sxs-lookup"><span data-stu-id="98a65-142">**MFPKEY\_ASFMEDIASINK\_DRMACTION**</span></span>](mfpkey-asfmediasink-drmaction-property.md)                            | <span data-ttu-id="98a65-143">Gibt die DRM-Medien-Sink-DRM-Aktion für die Datei Generierung an.</span><span class="sxs-lookup"><span data-stu-id="98a65-143">This indicates the ASF media sink DRM action for file generation.</span></span> <span data-ttu-id="98a65-144">In dieser Version wird nur DRM-transcodieren unterstützt.</span><span class="sxs-lookup"><span data-stu-id="98a65-144">In this release, only DRM transcode is supported.</span></span>                                                                                                                                                                                   |
| [<span data-ttu-id="98a65-145">**mfpkey \_ asfstreamsink \_ korrigiert \_ leakybucket**</span><span class="sxs-lookup"><span data-stu-id="98a65-145">**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**</span></span>](mfpkey-asfstreamsink-corrected-leakybucket-property.md) | <span data-ttu-id="98a65-146">Diese Eigenschaft muss festgelegt werden, wenn der Encoder entscheidet, welches Puffer Fenster und welche Bitrate verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="98a65-146">This property must be set when the encoder decides which buffer window and bit rate to use.</span></span> <span data-ttu-id="98a65-147">Um diese Werte festzulegen, verwenden Sie die [**iwmcodecleakybucket**](/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmcodecleakybucket) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="98a65-147">To set these values, use the [**IWMCodecLeakyBucket**](/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmcodecleakybucket) interface.</span></span> <span data-ttu-id="98a65-148">Dies muss für jeden Stream in der ASF-Datei festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="98a65-148">This must be set for each stream in the ASF file.</span></span>                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="98a65-149">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="98a65-149">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="98a65-150">Schreiben eines ASF-Header Objekts für eine neue Datei</span><span class="sxs-lookup"><span data-stu-id="98a65-150">Writing an ASF Header Object for a New File</span></span>](writing-an-asf-header-object-for-a-new-file.md)
</dt> </dl>

 

 
