---
description: Media Foundation stellt die ASF-Medienquelle bereit, mit der eine Anwendung eine ASF-Datei in der Pipeline Ebene der Architektur darstellen kann.
ms.assetid: a2d2b382-d666-4a37-a6a9-0b839fbfbec3
title: ASF-Medienquelle
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 75dc682d48339ce4ff707e7859a6962b9f5cfd92
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/03/2021
ms.locfileid: "106364295"
---
# <a name="asf-media-source"></a><span data-ttu-id="7759c-103">ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-103">ASF Media Source</span></span>

<span data-ttu-id="7759c-104">Media Foundation stellt die ASF-Medienquelle bereit, mit der eine Anwendung eine ASF-Datei in der Pipeline Ebene der Architektur darstellen kann.</span><span class="sxs-lookup"><span data-stu-id="7759c-104">Media Foundation provides the ASF media source that an application can use to represent an ASF file in the pipeline layer of the architecture.</span></span>

<span data-ttu-id="7759c-105">Um eine ASF-Datei wiederzugeben, kann eine Anwendung die ASF-Medienquelle verwenden, um Daten in eine Wiedergabe Pipeline zu übertragen.</span><span class="sxs-lookup"><span data-stu-id="7759c-105">In order to play an ASF file, an application can use the ASF media source to feed data into a playback pipeline.</span></span> <span data-ttu-id="7759c-106">In einem Codierungs Szenario kann die Anwendung die ASF-Medienquelle als Quelle verwenden, um Sie in ein anderes Format zu konvertieren oder eine Datei mit höherem Bitrate in eine niedrigere Bitrate-Datei zu konvertieren, ohne die Formate zu ändern.</span><span class="sxs-lookup"><span data-stu-id="7759c-106">In an encoding scenario, application can use the ASF media source as the source to convert into another format or for converting a higher bit-rate file to a lower bit-rate file without changing formats.</span></span> <span data-ttu-id="7759c-107">Die ASF-Medienquelle muss in der Pipeline Schicht verwendet werden, d. h., eine Anwendung muss die Medien Sitzung verwenden, um den Vorgang zu steuern.</span><span class="sxs-lookup"><span data-stu-id="7759c-107">The ASF media source must be used in the pipeline layer, that is, an application must use the Media Session to control the operation.</span></span> <span data-ttu-id="7759c-108">Diese Zugriffsebene ermöglicht es den Anwendungen, Ereignisse zu erhalten, während die Medien Sitzung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-108">This level of access allows the applications to get events while the Media Session is in progress.</span></span> <span data-ttu-id="7759c-109">Um auf den ASF-Inhalt Zugriff auf niedrigerer Ebene zu erhalten, muss eine Anwendung die Wrapper Komponenten der wmcontainer-Ebene verwenden.</span><span class="sxs-lookup"><span data-stu-id="7759c-109">To get lower-level access to the ASF content, an application must use the WMContainer Layer ASF components.</span></span>

<span data-ttu-id="7759c-110">Die ASF-Medienquelle implementiert die [**imfmediasource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) -Schnittstelle, bei der es sich um die generische Schnittstelle für Medienquellen in Media Foundation handelt.</span><span class="sxs-lookup"><span data-stu-id="7759c-110">The ASF media source implements the [**IMFMediaSource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) interface, which is the generic interface for media sources in Media Foundation.</span></span> <span data-ttu-id="7759c-111">Wie jede andere Medienquelle bietet die ASF-Medienquelle einen Präsentations Deskriptor, der hauptsächlich das ASF-Header Objekt beschreibt.</span><span class="sxs-lookup"><span data-stu-id="7759c-111">Like any other media source, the ASF media source provides a presentation descriptor that primarily describes the ASF Header Object.</span></span> <span data-ttu-id="7759c-112">Außerdem bietet die ASF-Medienquelle streamdeskriptoren, die jeden Stream in den Medieninhalten darstellen.</span><span class="sxs-lookup"><span data-stu-id="7759c-112">In addition, the ASF media source provides stream descriptors that represent each stream in the media content.</span></span> <span data-ttu-id="7759c-113">Weitere Informationen finden Sie unter [Struktur der ASF-Datei](asf-file-structure.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-113">For more information, see [ASF File Structure](asf-file-structure.md).</span></span>

-   [<span data-ttu-id="7759c-114">Erstellen der ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-114">Creating the ASF Media Source</span></span>](#creating-the-asf-media-source)
-   [<span data-ttu-id="7759c-115">Konfigurationseinstellungen für die ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-115">Configuration Settings for the ASF Media Source</span></span>](#configuration-settings-for-the-asf-media-source)
-   [<span data-ttu-id="7759c-116">Objektmodell der ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-116">ASF Media Source Object Model</span></span>](#asf-media-source-object-model)
-   [<span data-ttu-id="7759c-117">ASF-Medienquellen Dienste</span><span class="sxs-lookup"><span data-stu-id="7759c-117">ASF Media Source Services</span></span>](#asf-media-source-services)
    -   [<span data-ttu-id="7759c-118">Zeit Code Übersetzung</span><span class="sxs-lookup"><span data-stu-id="7759c-118">Timecode Translation</span></span>](#timecode-translation)
-   [<span data-ttu-id="7759c-119">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7759c-119">Related topics</span></span>](#related-topics)

## <a name="creating-the-asf-media-source"></a><span data-ttu-id="7759c-120">Erstellen der ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-120">Creating the ASF Media Source</span></span>

<span data-ttu-id="7759c-121">Zum Erstellen der ASF-Medienquelle muss die Anwendung den [quellresolver](source-resolver.md)verwenden.</span><span class="sxs-lookup"><span data-stu-id="7759c-121">To create the ASF media source, the application must use the [Source Resolver](source-resolver.md).</span></span> <span data-ttu-id="7759c-122">Zum Erstellen der ASF-Medienquelle muss die Anwendung die Quelle bereitstellen, für die der quellresolver die ASF-Medienquelle erstellt.</span><span class="sxs-lookup"><span data-stu-id="7759c-122">In order to create the ASF media source, the application must provide the source for which the source resolver creates the ASF media source.</span></span> <span data-ttu-id="7759c-123">Die Quell Informationen müssen bereitgestellt werden, indem entweder die URL der Quelldatei oder der Bytestream angegeben wird, der die Medien enthält.</span><span class="sxs-lookup"><span data-stu-id="7759c-123">The source information must be provided by either specifying the URL of the source file or the byte stream that contains the media.</span></span> <span data-ttu-id="7759c-124">Wenn die Anwendung die Erstellung der ASF-Medienquelle durch Angabe der URL auswählt, muss Sie entweder [**imfsourceresolver:: anateobjectfromurl**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfromurl) für den synchronen Vorgang oder **imfsourceresolver:: begin... Endkreateobjectfromurl** für asynchronen Vorgang.</span><span class="sxs-lookup"><span data-stu-id="7759c-124">If the application chooses to create the ASF media source by specifying the URL, it must call either [**IMFSourceResolver::CreateObjectFromURL**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfromurl) for synchronous operation or **IMFSourceResolver::Begin…EndCreateObjectFromURL** for asynchronous operation.</span></span> <span data-ttu-id="7759c-125">Der Vorgang zum Erstellen der Medienquelle aus einem Bytestream ist ähnlich.</span><span class="sxs-lookup"><span data-stu-id="7759c-125">The process for creating the media source from a byte stream is similar.</span></span> <span data-ttu-id="7759c-126">Die Anwendung muss entweder [**imfsourceresolver:: forateobjectfrobare testream**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfrombytestream) für den synchronen Vorgang oder **imfsourceresolver:: begin... Endkreateobjectfromb** -Datenstrom für asynchronen Vorgang.</span><span class="sxs-lookup"><span data-stu-id="7759c-126">The application must call either [**IMFSourceResolver::CreateObjectFromByteStream**](/windows/desktop/api/mfidl/nf-mfidl-imfsourceresolver-createobjectfrombytestream) for synchronous operation or **IMFSourceResolver::Begin…EndCreateObjectFromBytestream** for asynchronous operation.</span></span> <span data-ttu-id="7759c-127">Diese Aufrufe müssen die MF \_ Resolution \_ MediaSource im *dwFlags* -Parameter angeben.</span><span class="sxs-lookup"><span data-stu-id="7759c-127">These calls must specify MF\_RESOLUTION\_MEDIASOURCE in *dwFlags* parameter.</span></span> <span data-ttu-id="7759c-128">Weitere Informationen zur Verwendung dieses Flags finden Sie unter Using the Source Resolver.</span><span class="sxs-lookup"><span data-stu-id="7759c-128">For more information about using this flag, see Using the Source Resolver.</span></span>

<span data-ttu-id="7759c-129">Wenn die Anwendung eine URL angibt, kann die URL-Zeichenfolge für eine lokale Datei den Pfad der Mediendatei enthalten oder das Schema "file:" als Präfix aufweisen.</span><span class="sxs-lookup"><span data-stu-id="7759c-129">If the application specifies a URL, for a local file, the URL string can contain the path of the media file or can be prefixed with the “file: “scheme.</span></span> <span data-ttu-id="7759c-130">Die Dateinamenerweiterung muss ". ASF", ". WM", "L". wma "oder". wmv "lauten.</span><span class="sxs-lookup"><span data-stu-id="7759c-130">The file name extension must be ".asf", ".wm", L".wma", or ".wmv".</span></span> <span data-ttu-id="7759c-131">Bei einer ASF-Datei im Netzwerk erstellt der quellresolver die [Netzwerkquelle](network-source-features.md), in der die ASF-Medienquelle verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-131">For an ASF file on the network, the source resolver creates the [Network Source](network-source-features.md), which uses the ASF media source.</span></span>

<span data-ttu-id="7759c-132">Während der Objekt Erstellung sucht der quellresolver die Liste der Schema Handler und der Byte Datenstrom Handler in der Systemregistrierung und lädt den nächstgelegenen übereinstimmenden Handler, der den Medieninhalt analysieren kann, und auch das Medienquellen Objekt unterhalb von.</span><span class="sxs-lookup"><span data-stu-id="7759c-132">During the object creation process, the source resolver looks up the list of scheme handlers and the byte stream handlers in the system registry and loads the closest matching handler that can parse the media content and also create the media source object underneath.</span></span> <span data-ttu-id="7759c-133">Unabhängig von der Methode, die zum Erstellen der Medienquelle (URL und Bytestream) verwendet wird, erstellt der quellresolver einen Bytestream und liest den Inhalt des Quell Mediums in den Bytestream.</span><span class="sxs-lookup"><span data-stu-id="7759c-133">Irrespective of the method used to create the media source (URL and byte stream), the source resolver creates a byte stream and reads the contents of source media into the byte stream.</span></span> <span data-ttu-id="7759c-134">Weitere Informationen finden Sie unter [Schema Handler und Byte-Stream Handler](scheme-handlers-and-byte-stream-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-134">For more information, see [Scheme Handlers and Byte-Stream Handlers](scheme-handlers-and-byte-stream-handlers.md).</span></span>

<span data-ttu-id="7759c-135">Ein Codebeispiel zum Erstellen einer Medienquelle finden [Sie unter Using the Source Resolver](using-the-source-resolver.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-135">For code example about how to create a media source, see [Using the Source Resolver](using-the-source-resolver.md).</span></span>

## <a name="configuration-settings-for-the-asf-media-source"></a><span data-ttu-id="7759c-136">Konfigurationseinstellungen für die ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-136">Configuration Settings for the ASF Media Source</span></span>

<span data-ttu-id="7759c-137">Der quellresolver fragt die Funktionen des zugrunde liegenden Bytestreams ab und bestimmt, welche Vorgänge für die neu erstellte Medienquelle zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="7759c-137">The source resolver queries for the capabilities of the underlying byte stream and determines the operations are allowed on the newly created media source.</span></span> <span data-ttu-id="7759c-138">Eine dieser Funktionen ist das suchen.</span><span class="sxs-lookup"><span data-stu-id="7759c-138">One of such capabilities is seeking.</span></span> <span data-ttu-id="7759c-139">Wenn ein Suchvorgang zulässig ist, kann die Anwendung den Suchmodus angeben, den die Medienquelle beim Suchen eines bestimmten Punkts in der Präsentation verwendet.</span><span class="sxs-lookup"><span data-stu-id="7759c-139">If a seek operation is allowed, the application can specify the seeking mode that the media source uses while seeking to a particular point in the presentation.</span></span>

<span data-ttu-id="7759c-140">Eine Anwendung kann während der Objekt Erstellung den Suchmodus festlegen, der von der Medienquelle verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="7759c-140">An application can set the seek mode, for the media source to use, during object creation.</span></span> <span data-ttu-id="7759c-141">Nachdem die ASF-Medienquelle mit dem angegebenen Suchmodus erstellt wurde, kann Sie in der Medienquelle nicht geändert oder während einer Präsentation dynamisch geändert werden.</span><span class="sxs-lookup"><span data-stu-id="7759c-141">After the ASF media source is created with the specified seek mode, it cannot be modified on the media source or dynamically changed during a presentation.</span></span> <span data-ttu-id="7759c-142">Sucheinstellungen werden als Eigenschaften im Anwendungs Aufrufe der relevanten quellresolver-Methoden angegeben, die zum Erstellen der Medienquelle verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="7759c-142">Seeking preferences are specified as properties in the application’s call to the relevant source resolver methods that are used to create the media source.</span></span> <span data-ttu-id="7759c-143">Diese Eigenschaften werden in einem Eigenschaften Speicher festgelegt und an den *pproperties* -Parameter übergeben.</span><span class="sxs-lookup"><span data-stu-id="7759c-143">These set of properties are set in a property store and passed to the *pProps* parameter.</span></span> <span data-ttu-id="7759c-144">Wenn diese Eigenschaften nicht übermittelt werden, funktioniert die Medienquelle mit den Standardeinstellungen.</span><span class="sxs-lookup"><span data-stu-id="7759c-144">If these properties are not passed, the media source functions with the default settings.</span></span> <span data-ttu-id="7759c-145">Weitere Informationen zum Festlegen dieser Eigenschaften finden Sie unter [Konfigurieren einer Medienquelle](configuring-a-media-source.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-145">For more information about setting these properties, see [Configuring a Media Source](configuring-a-media-source.md).</span></span>

<span data-ttu-id="7759c-146">Wenn die Suche zulässig ist, unterstützt die ASF-Medienquelle die folgenden Suchmodi:</span><span class="sxs-lookup"><span data-stu-id="7759c-146">If seeking is allowed, the ASF media source supports the following seek modes:</span></span>

-   <span data-ttu-id="7759c-147">Exakte Suche: in diesem Modus basiert die ASF-Medienquelle auf dem Objekt "ASF Index" der ASF-Datei.</span><span class="sxs-lookup"><span data-stu-id="7759c-147">Exact seeking: In this mode, the ASF media source relies on the ASF Index Object of the ASF file.</span></span> <span data-ttu-id="7759c-148">Wenn die Datei nicht über das Index Objekt verfügt, wird die exakte Suche deaktiviert, und je nach den von der Anwendung angegebenen Eigenschaften, die für die Medienquelle festgelegt werden, wird einer der anderen Modi verwendet.</span><span class="sxs-lookup"><span data-stu-id="7759c-148">If the file does not have the Index Object, exact seeking is disabled and one of the other modes are used depending on the application-specified properties that are set on the media source.</span></span>
-   <span data-ttu-id="7759c-149">Ungefähre Suche: Dieser Modus wird von der Anwendung angefordert, indem [**mfpkey \_ asfmediasource \_ approxseek**](mfpkey-asfmediasource-approxseek-property.md) im Eigenschaften Speicher an die entsprechenden quellresolver-Methoden übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-149">Approximate seeking: This mode is requested by the application by passing [**MFPKEY\_ASFMediaSource\_ApproxSeek**](mfpkey-asfmediasource-approxseek-property.md) in the property store to the relevant source resolver methods.</span></span> <span data-ttu-id="7759c-150">Das ungefähre suchen wird jedoch nur verwendet, wenn der Bytestream keine zeitbasierte Suche unterstützt.</span><span class="sxs-lookup"><span data-stu-id="7759c-150">However, approximate seeking is only used if the byte stream does not support time-based seeking.</span></span> <span data-ttu-id="7759c-151">In diesem Modus wird von der Medienquelle eine Startzeit festgelegt, die relativ näher an der Suchzeit liegt.</span><span class="sxs-lookup"><span data-stu-id="7759c-151">In this mode, the media source determine a start time that is relatively closer to the seek time.</span></span> <span data-ttu-id="7759c-152">Wenn die ASF-Datei ein ASF-Index Objekt enthält, wird Sie zur Berechnung der Startzeit verwendet.</span><span class="sxs-lookup"><span data-stu-id="7759c-152">If the ASF file contains an ASF Index Object, it is used to calculate the start time.</span></span> <span data-ttu-id="7759c-153">Das ungefähre suchen ist weniger genau, aber schneller als die genaue Suche, da die Zeit, die zum Rendering des ersten Beispiels zur vordefinierten Startzeit benötigt wird, schneller ist.</span><span class="sxs-lookup"><span data-stu-id="7759c-153">Approximate seeking is less accurate but faster than exact seeking because the time taken render the first sample at the predetermined start time is faster.</span></span>
-   <span data-ttu-id="7759c-154">Iteratives suchen: zum Festlegen dieses Modus muss die Anwendung die Eigenschaft " [mfpkey \_ asfmediasource \_ iterativeseekifnoindex](mfpkey-asfmediasource-iterativeseekifnoindex.md) " festlegen.</span><span class="sxs-lookup"><span data-stu-id="7759c-154">Iterative seeking: To set this mode, the application must set the [MFPKEY\_ASFMediaSource\_IterativeSeekIfNoIndex](mfpkey-asfmediasource-iterativeseekifnoindex.md) property.</span></span> <span data-ttu-id="7759c-155">Iteratives suchen ist ein Algorithmus, mit dem eine Position in einer ASF-Datei gefunden wird, die kein ASF-Index Objekt enthält.</span><span class="sxs-lookup"><span data-stu-id="7759c-155">Iterative seeking is an algorithm to find a position in an ASF file that contains no ASF Index Object.</span></span> <span data-ttu-id="7759c-156">In diesem Modus bestimmt die Medienquelle eine grobe Schätzung des suchpunkts durchlesen des Byte Datenstrom Offsets.</span><span class="sxs-lookup"><span data-stu-id="7759c-156">In this mode, the media source determins a rough estimate of the seek point by reading the byte stream offset.</span></span> <span data-ttu-id="7759c-157">Es verwendet eine Reihe von Näherungen, die auf der durchschnittlichen Bitrate basieren, um die Ziel Suchzeit progressiv näher zu bringen.</span><span class="sxs-lookup"><span data-stu-id="7759c-157">It uses a series of approximations, based on the average bit rate, to get progressively closer to the target seek time.</span></span> <span data-ttu-id="7759c-158">(Der Algorithmus ähnelt einer binären Suche.) Das iterative suchen kann länger dauern als die Suche mithilfe des Index Objekts, sodass es standardmäßig deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="7759c-158">(The algorithm is similar to a binary search.) Iterative seeking can take longer than seeking by using the Index Object, so it is disabled by default.</span></span> <span data-ttu-id="7759c-159">Wenn Sie diese Eigenschaft festlegen, verwenden Sie die folgenden Eigenschaften, um die Suchparameter festzulegen: [mfpkey \_ asfmediasource \_ iterativeseek \_ Max \_ count](mfpkey-asfmediasource-iterativeseek-max-count.md)[mfpkey \_ asfmediasource \_ iterativeseek \_ Tolerance \_ in \_ millisecond](mfpkey-asfmediasource-iterativeseek-tolerance-in-millisecond.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-159">If you set this property, use the following properties to set the search parameters: [MFPKEY\_ASFMediaSource\_IterativeSeek\_Max\_Count](mfpkey-asfmediasource-iterativeseek-max-count.md)[MFPKEY\_ASFMediaSource\_IterativeSeek\_Tolerance\_In\_MilliSecond](mfpkey-asfmediasource-iterativeseek-tolerance-in-millisecond.md).</span></span> <span data-ttu-id="7759c-160">Diese Eigenschaften legen die maximale Anzahl von Iterationen bzw. die Toleranz fest.</span><span class="sxs-lookup"><span data-stu-id="7759c-160">These properties set the maximum number of iterations and the tolerance, respectively.</span></span> <span data-ttu-id="7759c-161">Der Algorithmus wird angehalten, wenn die maximale Anzahl von Iterationen erreicht wird, oder wenn ein Paket gefunden wird, dessen Entfernung von der Suchzeit innerhalb der angegebenen Toleranz liegt.</span><span class="sxs-lookup"><span data-stu-id="7759c-161">The algorithm halts when it reaches the maximum number of iterations, or when it finds a packet whose distance from the seek time is within the specified tolerance.</span></span>

<span data-ttu-id="7759c-162">Kurz gesagt, hat die Anwendung die Möglichkeit, eine ungefähre oder iterative Suche auszuwählen, wenn die ASF-Datei kein ASF-Index Objekt enthält.</span><span class="sxs-lookup"><span data-stu-id="7759c-162">In a nutshell, the application has the option of choosing approximate or iterative seeking when the ASF file does not contain an ASF Index Object.</span></span>

## <a name="asf-media-source-object-model"></a><span data-ttu-id="7759c-163">Objektmodell der ASF-Medienquelle</span><span class="sxs-lookup"><span data-stu-id="7759c-163">ASF Media Source Object Model</span></span>

<span data-ttu-id="7759c-164">Die ASF-Medienquelle implementiert die [**imfmediasource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) -Schnittstelle und macht die folgenden Schnittstellen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="7759c-164">The ASF media source implements the [**IMFMediaSource**](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource) interface and exposes the following interfaces.</span></span> <span data-ttu-id="7759c-165">Eine Anwendung kann einen Verweis auf diese Schnittstellen abrufen, indem Sie **imfmediasource:: QueryInterface** in der ASF-Medienquelle aufruft.</span><span class="sxs-lookup"><span data-stu-id="7759c-165">An application can get a reference to these interfaces by calling **IMFMediaSource::QueryInterface** on the ASF media source.</span></span>



| <span data-ttu-id="7759c-166">Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="7759c-166">Interface</span></span>                                                | <span data-ttu-id="7759c-167">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="7759c-167">Description</span></span>                                                                                                                                        |
|----------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="7759c-168">**Imfmediasource**</span><span class="sxs-lookup"><span data-stu-id="7759c-168">**IMFMediaSource**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmediasource)                 | <span data-ttu-id="7759c-169">Für alle Medienquellen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7759c-169">Required for all media sources.</span></span>                                                                                                                    |
| [<span data-ttu-id="7759c-170">**IMF Media Event Generator**</span><span class="sxs-lookup"><span data-stu-id="7759c-170">**IMFMediaEventGenerator**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediaeventgenerator) | <span data-ttu-id="7759c-171">Für alle Medienquellen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7759c-171">Required for all media sources.</span></span> <span data-ttu-id="7759c-172">Ermöglicht es Anwendungen, Ereignisse aus der Medienquelle über die Medien Sitzung zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-172">Allows applications to get events from the media source through the Media Session.</span></span>                                 |
| [<span data-ttu-id="7759c-173">**IMF-Dienst**</span><span class="sxs-lookup"><span data-stu-id="7759c-173">**IMFGetService**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)                   | <span data-ttu-id="7759c-174">Fragt die Medienquelle für die angegebene Dienst Schnittstelle ab.</span><span class="sxs-lookup"><span data-stu-id="7759c-174">Queries the media source for the specified service interface.</span></span>                                                                                      |
| [<span data-ttu-id="7759c-175">**IPropertyStore**</span><span class="sxs-lookup"><span data-stu-id="7759c-175">**IPropertyStore**</span></span>](/windows/win32/api/propsys/nn-propsys-ipropertystore)               | <span data-ttu-id="7759c-176">Legt Eigenschaften für die Medienquelle fest und ruft diese ab.</span><span class="sxs-lookup"><span data-stu-id="7759c-176">Sets and gets properties on the media source.</span></span> <span data-ttu-id="7759c-177">Jede Eigenschaft enthält einen beschreibenden Namen und einen Wert.</span><span class="sxs-lookup"><span data-stu-id="7759c-177">Each property contains a descriptive name and a value.</span></span>                                               |
| [<span data-ttu-id="7759c-178">**IMF-Metadaten**</span><span class="sxs-lookup"><span data-stu-id="7759c-178">**IMFMetadata**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmetadata)                       | <span data-ttu-id="7759c-179">Beschreibt die Metadaten für die ASF-Datei.</span><span class="sxs-lookup"><span data-stu-id="7759c-179">Describes the metadata for the ASF file.</span></span>                                                                                                           |
| [<span data-ttu-id="7759c-180">**IMFMetadataProvider**</span><span class="sxs-lookup"><span data-stu-id="7759c-180">**IMFMetadataProvider**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfmetadataprovider)       | <span data-ttu-id="7759c-181">Ruft eine Auflistung von Metadaten entweder für eine gesamte Präsentation oder für einen Datenstrom in der Präsentation ab.</span><span class="sxs-lookup"><span data-stu-id="7759c-181">Retrieves a collection of metadata, either for an entire presentation, or for one stream in the presentation.</span></span>                                      |
| [<span data-ttu-id="7759c-182">**Imfratesupport**</span><span class="sxs-lookup"><span data-stu-id="7759c-182">**IMFRateSupport**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfratesupport)                 | <span data-ttu-id="7759c-183">Fragt den Bereich der unterstützten Wiedergabe Raten ab, einschließlich der umgekehrten Wiedergabe.</span><span class="sxs-lookup"><span data-stu-id="7759c-183">Queries the range of playback rates that are supported, including reverse playback.</span></span>                                                                |
| [<span data-ttu-id="7759c-184">**Imfratecontrol**</span><span class="sxs-lookup"><span data-stu-id="7759c-184">**IMFRateControl**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol)                 | <span data-ttu-id="7759c-185">Ruft die Wiedergabe Rate ab oder legt Sie fest.</span><span class="sxs-lookup"><span data-stu-id="7759c-185">Gets or sets the playback rate.</span></span>                                                                                                                    |
| [<span data-ttu-id="7759c-186">**Imbtreudinput**</span><span class="sxs-lookup"><span data-stu-id="7759c-186">**IMFTrustedInput**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imftrustedinput)               | <span data-ttu-id="7759c-187">Ruft die ITA für jeden der in der Quelle enthaltenen ASF-Streams ab.</span><span class="sxs-lookup"><span data-stu-id="7759c-187">Gets the ITA for each of the ASF streams contained in the source.</span></span>                                                                                  |
| [<span data-ttu-id="7759c-188">**Imfpmpclient**</span><span class="sxs-lookup"><span data-stu-id="7759c-188">**IMFPMPClient**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfpmpclient)                     | <span data-ttu-id="7759c-189">Ermöglicht es einer Medienquelle, einen Zeiger auf die [**imfpmphost**](/windows/desktop/api/mfidl/nn-mfidl-imfpmphost) -Schnittstelle zu erhalten, die zum Erstellen von Objekten im PMP-Prozess verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-189">Enables a media source to receive a pointer to the [**IMFPMPHost**](/windows/desktop/api/mfidl/nn-mfidl-imfpmphost) interface, which is used to create objects in the PMP process.</span></span> |
| [<span data-ttu-id="7759c-190">**IMF timecodetranslation**</span><span class="sxs-lookup"><span data-stu-id="7759c-190">**IMFTimecodeTranslate**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate)     | <span data-ttu-id="7759c-191">Konvertiert zwischen den Zeit Codes von Motion Picture und TV Engineers (SMPTE) und 100-Nanosecond-Zeiteinheiten.</span><span class="sxs-lookup"><span data-stu-id="7759c-191">Converts between Society of Motion Picture and Television Engineers (SMPTE) time codes and 100-nanosecond time units.</span></span>                              |



 

## <a name="asf-media-source-services"></a><span data-ttu-id="7759c-192">ASF-Medienquellen Dienste</span><span class="sxs-lookup"><span data-stu-id="7759c-192">ASF Media Source Services</span></span>

<span data-ttu-id="7759c-193">Die ASF-Medienquelle bietet verschiedene Dienste, die für die ASF-Datei vorgesehen sind.</span><span class="sxs-lookup"><span data-stu-id="7759c-193">The ASF media source provides various services that are scoped for ASF file.</span></span> <span data-ttu-id="7759c-194">Um einen Zeiger auf einen bestimmten Dienst zu erhalten, muss die Anwendung einen der folgenden Dienst Bezeichner im [**mfgetservice**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice)-Befehl verwenden.</span><span class="sxs-lookup"><span data-stu-id="7759c-194">To get a pointer to a particular service, the application must use one of the following service identifiers in its call to [**MFGetService**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice).</span></span> <span data-ttu-id="7759c-195">Weitere Informationen finden Sie unter [Dienst Schnittstellen](service-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-195">For information, see [Service Interfaces](service-interfaces.md).</span></span>



| <span data-ttu-id="7759c-196">Dienst Bezeichner</span><span class="sxs-lookup"><span data-stu-id="7759c-196">Service Identifier</span></span>               | <span data-ttu-id="7759c-197">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="7759c-197">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|----------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="7759c-198">MF- \_ Raten \_ Steuerungs \_ Dienst</span><span class="sxs-lookup"><span data-stu-id="7759c-198">MF\_RATE\_CONTROL\_SERVICE</span></span>       | <span data-ttu-id="7759c-199">Mithilfe dieses Bezeichners kann eine Anwendung einen Zeiger auf die Schnittstellen [**imfratesupport**](/windows/desktop/api/mfidl/nn-mfidl-imfratesupport) oder [**imfratecontrol**](/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol) erhalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-199">By using this identifier, an application can get a pointer to either [**IMFRateSupport**](/windows/desktop/api/mfidl/nn-mfidl-imfratesupport) or [**IMFRateControl**](/windows/desktop/api/mfidl/nn-mfidl-imfratecontrol) interfaces.</span></span> <span data-ttu-id="7759c-200">Wenn Sie das von der Medienquelle implementierte Raten Unterstützungs Objekt verwenden, kann die Anwendung überprüfen, ob eine bestimmte Rate von der zugrunde liegenden ASF-Mediendatei unterstützt wird. Außerdem erhält Sie die schnellste und langsamste Rate.</span><span class="sxs-lookup"><span data-stu-id="7759c-200">By using the rate support object implemented by the media source, the application can check if a particular rate is supported by the underlying ASF media file also get the fastest and the slowest rate.</span></span> <span data-ttu-id="7759c-201">Mithilfe des Raten Steuerungs Objekts kann die Anwendung die Wiedergabe Rate erhalten und festlegen.</span><span class="sxs-lookup"><span data-stu-id="7759c-201">By using the rate control object the application can get and set the playback rate.</span></span> <span data-ttu-id="7759c-202">Wenn die Anwendung eine bestimmte Rate für die Wiedergabe angibt, prüft die ASF-Medienquelle zunächst, ob die angeforderte Rate innerhalb der Datenübertragungsrate liegt (festgelegt durch "fasted" und "langsamste Raten"), und legt dann die Rate fest.</span><span class="sxs-lookup"><span data-stu-id="7759c-202">If the application specifies a particular rate for playback, the ASF media source first checks if the requested rate is within the rate limits (determined by fasted and slowest rates) and then sets the rate.</span></span> <span data-ttu-id="7759c-203">Dies prüft nicht, ob Variablen Bedingungen vorhanden sind, da die Bitrate abhängig von der Netzwerkbandbreite jederzeit geändert werden kann.</span><span class="sxs-lookup"><span data-stu-id="7759c-203">This does not check for variable conditions as the bitrate might change any moment depending on the network bandwidth.</span></span> <span data-ttu-id="7759c-204">Weitere Informationen finden Sie unter [Raten Kontrolle](rate-control.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-204">For more information, [Rate Control](rate-control.md).</span></span> |
| <span data-ttu-id="7759c-205">MF \_ - \_ Metadatenanbieter- \_ Dienst</span><span class="sxs-lookup"><span data-stu-id="7759c-205">MF\_METADATA\_PROVIDER\_SERVICE</span></span>  | <span data-ttu-id="7759c-206">Mithilfe dieses Bezeichners kann die Anwendung einen Zeiger auf die [**IMFMetadataProvider**](/windows/desktop/api/mfidl/nn-mfidl-imfmetadataprovider) -Schnittstelle der ASF-Medienquelle erhalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-206">By using this identifier, the application can get a pointer to the [**IMFMetadataProvider**](/windows/desktop/api/mfidl/nn-mfidl-imfmetadataprovider) interface of the ASF media source.</span></span> <span data-ttu-id="7759c-207">Diese Schnittstelle bietet Zugriff auf Informationen über die ASF-Datei, insbesondere die ASF-Header Objekte und die Streams, die im Medieninhalt enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="7759c-207">This interface provides access to information about ASF file specifically the ASF Header Objects and the streams contained within the media content.</span></span> <span data-ttu-id="7759c-208">Header Informationen werden über Präsentations deskriptorattribute und streaminformationen über streamdeskriptorattribute bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="7759c-208">Header information is exposes through presentation descriptor attributes and stream information is provided through stream descriptor attributes.</span></span> <span data-ttu-id="7759c-209">Weitere Informationen zu diesen Attributen finden Sie unter [Media Foundation Attribute für ASF-Header Objekte](media-foundation-attributes-for-asf-header-objects.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-209">For more information about these attributes, see [Media Foundation Attributes for ASF Header Objects](media-foundation-attributes-for-asf-header-objects.md).</span></span> <span data-ttu-id="7759c-210">Zusätzlich zu den Informationen, die über Attribute verfügbar gemacht werden, gibt es auch beschreibende Metadaten, die als Eigenschaften festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="7759c-210">In addition to information that is exposed through attributes, there also exists descriptive metadata, which are set as properties.</span></span>                                                                                                 |
| <span data-ttu-id="7759c-211">MF- \_ Eigenschaften \_ Handler- \_ Dienst</span><span class="sxs-lookup"><span data-stu-id="7759c-211">MF\_PROPERTY\_HANDLER\_SERVICE</span></span>   | <span data-ttu-id="7759c-212">Mithilfe dieses Bezeichners kann die Anwendung einen Zeiger auf die [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) -Schnittstelle der ASF-Medienquelle erhalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-212">By using this identifier, the application can get a pointer to the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface of the ASF media source.</span></span> <span data-ttu-id="7759c-213">Der Eigenschaften Speicher enthält alle Metadaten, die mit der ASF-Datei verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="7759c-213">The property store contains all the metadata related to the ASF file.</span></span> <span data-ttu-id="7759c-214">Dieser Bezeichner ist neu in Windows 7 und ersetzt den MF- \_ \_ Metadatenanbieter- \_ Dienst zum erhalten von Metadateneigenschaften.</span><span class="sxs-lookup"><span data-stu-id="7759c-214">This identifier is new in Windows 7 and replaces MF\_METADATA\_PROVIDER\_SERVICE for getting metadata properties.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="7759c-215">MF-Quell \_ Statistik \_ Dienst</span><span class="sxs-lookup"><span data-stu-id="7759c-215">MFNETSOURCE\_STATISTICS\_SERVICE</span></span> | <span data-ttu-id="7759c-216">Weitere Informationen finden Sie unter Abrufen von Netzwerk Statistiken in der [Client Protokollierung](client-logging.md).</span><span class="sxs-lookup"><span data-stu-id="7759c-216">For more information, see Retrieving Network Statistics in [Client Logging](client-logging.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="7759c-217">MF- \_ Zeit Code \_ Dienst</span><span class="sxs-lookup"><span data-stu-id="7759c-217">MF\_TIMECODE\_SERVICE</span></span>            | <span data-ttu-id="7759c-218">Mithilfe dieses Bezeichners kann die Anwendung einen Zeiger auf die [**imftimecodetranslation**](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate) -Schnittstelle der Medienquelle erhalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-218">By using this identifier, the application can get a pointer to the media source’s [**IMFTimecodeTranslate**](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate) interface.</span></span> <span data-ttu-id="7759c-219">Diese Implementierung kann verwendet werden, um Zeit Code Übersetzungen, wie z. b. das Umrechnen von SMPTE-Zeit Code in 100-Nano-Einheiten und zurück.</span><span class="sxs-lookup"><span data-stu-id="7759c-219">This implementation can be used to perform time code translations such as converting SMPTE time code to 100-nano second units and back.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

### <a name="timecode-translation"></a><span data-ttu-id="7759c-220">Zeit Code Übersetzung</span><span class="sxs-lookup"><span data-stu-id="7759c-220">Timecode Translation</span></span>

<span data-ttu-id="7759c-221">Die ASF-Medienquelle bietet einen Zeit Code Übersetzungsdienst, mit dem Ihre Anwendung SMPTE-Zeit Code in die nächste Präsentationszeit (in 100-Nanosecond-Einheit) konvertieren kann.</span><span class="sxs-lookup"><span data-stu-id="7759c-221">The ASF media source provides a time code translation service that allows your application to convert SMPTE time code to the closest presentation time (in 100-nanosecond unit).</span></span> <span data-ttu-id="7759c-222">Umgekehrt kann die Anwendung auch den Zeit Code für eine angeforderte Präsentationszeit erhalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-222">Conversely, the application can also get the time code for a requested presentation time.</span></span> <span data-ttu-id="7759c-223">Der Dienst ist über die [**IMF timecodetranslation**](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate) -Schnittstelle verfügbar, die von der ASF-Medienquelle implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-223">The service is available through the [**IMFTimecodeTranslate**](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate) interface, which the ASF media source implements.</span></span> <span data-ttu-id="7759c-224">Die Methodenaufrufe für diesen Schnittstellen Zeiger sind asynchron, der aus dem Haupt Anwendungs Thread ausgeführt werden kann, ohne dass die Benutzeroberfläche der Anwendung blockiert wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-224">The method calls on this interface pointer are asynchronous that can run from your main application thread without blocking the user interface of your application.</span></span>

<span data-ttu-id="7759c-225">In den folgenden Schritten wird das Verfahren für Zeit Code Übersetzung zusammengefasst:</span><span class="sxs-lookup"><span data-stu-id="7759c-225">The following steps summarize the procedure for time code translation:</span></span>

1.  <span data-ttu-id="7759c-226">Abrufen eines Zeigers auf die [**imftimecodetranslation**](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate) -Schnittstelle der ASF-Medienquelle durch Aufrufen von " [**mfgetservice**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice) " und angeben des Konfigurations-ID- **\_ \_ Dienst** Bezeichners.</span><span class="sxs-lookup"><span data-stu-id="7759c-226">Get pointer to the [**IMFTimecodeTranslate**](/windows/desktop/api/mfidl/nn-mfidl-imftimecodetranslate) interface of the ASF media source by calling [**MFGetService**](/windows/desktop/api/mfidl/nf-mfidl-mfgetservice) and specifying the **MF\_TIMECODE\_SERVICE** identifier.</span></span>
2.  <span data-ttu-id="7759c-227">Aufrufen von [**imftimecodetranslation:: beginconverttimecodetohns**](/windows/desktop/api/mfidl/nf-mfidl-imftimecodetranslate-beginconverttimecodetohns) oder [**imftimecodetranslation:: beginconverthnstotimecode**](/windows/desktop/api/mfidl/nf-mfidl-imftimecodetranslate-beginconverthnstotimecode) und angeben der Zeit, die übersetzt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7759c-227">Call [**IMFTimecodeTranslate::BeginConvertTimecodeToHNS**](/windows/desktop/api/mfidl/nf-mfidl-imftimecodetranslate-beginconverttimecodetohns) or [**IMFTimecodeTranslate::BeginConvertHNSToTimecode**](/windows/desktop/api/mfidl/nf-mfidl-imftimecodetranslate-beginconverthnstotimecode) and specify the time that is to be translated..</span></span> <span data-ttu-id="7759c-228">Für **beginconverttimecodeumhns** muss der Zeit Code als [**PROPVARIANT**](/windows/win32/api/propidl/ns-propidl-propvariant) -Variable mit dem **VT \_ I8** -Datentyp angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="7759c-228">For **BeginConvertTimecodeToHNS** the time code must be specified as a [**PROPVARIANT**](/windows/win32/api/propidl/ns-propidl-propvariant) variable with **VT\_I8** data type.</span></span> <span data-ttu-id="7759c-229">Die **beginconverthnstotimecode** -Methode erfordert die Zeit in 100-Nanosecond-Einheiten als [**MF-Zeittyp**](mftime.md) .</span><span class="sxs-lookup"><span data-stu-id="7759c-229">The **BeginConvertHNSToTimecode** method requires the time in 100-nanosecond units as the [**MFTIME**](mftime.md) type.</span></span>
3.  <span data-ttu-id="7759c-230">Schließen Sie den asynchronen Vorgang ab, indem Sie [**imftimecodetranslation:: endconverttimecodetohns**](/windows/desktop/api/mfidl/nf-mfidl-imftimecodetranslate-endconverttimecodetohns) oder **imftimecodetranslation:: endconverttimecodetohns** entsprechend aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7759c-230">Complete the asynchronous operation by calling [**IMFTimecodeTranslate::EndConvertTimecodeToHNS**](/windows/desktop/api/mfidl/nf-mfidl-imftimecodetranslate-endconverttimecodetohns) or **IMFTimecodeTranslate::EndConvertTimecodeToHNS** appropriately.</span></span>

<span data-ttu-id="7759c-231">Während der Erstellung der Medienquelle erstellt der quellresolver einen Bytestream für die Datei, aus der die Medienquelle den ASF-Inhalt liest.</span><span class="sxs-lookup"><span data-stu-id="7759c-231">During the creation of the media source, the source resolver creates a byte stream for the file from which the media source reads the ASF content.</span></span> <span data-ttu-id="7759c-232">Damit die Zeit Konvertierungen erfolgreich ausgeführt werden können, muss der Bytestream, der der ASF-Datei zugeordnet ist, Suchfunktionen aufweisen. Andernfalls ruft die Anwendung den Fehler "MF \_ E \_ Bytestream \_ nicht \_ durchsuchbar"  ab.</span><span class="sxs-lookup"><span data-stu-id="7759c-232">In order for the time conversions to be successful, the byte stream associated with the ASF file must have seeking capabilities; otherwise, the application gets the MF\_E\_BYTESTREAM\_NOT\_SEEKABLE error from the **Begin...** call.</span></span> <span data-ttu-id="7759c-233">Eine weitere Anforderung für Zeit Konvertierungen besteht darin, dass die von der ASF-Medienquelle dargestellte ASF-Datei über ASF-Index Objekte verfügen muss.</span><span class="sxs-lookup"><span data-stu-id="7759c-233">Another requirement for time conversions is that the ASF file, represented by the ASF media source, must have ASF Index Objects.</span></span> <span data-ttu-id="7759c-234">Die Präsentations Zeiten und die Zeit Codes werden aus den ASF-Index Objekten extrahiert, die alle Indizes und die entsprechenden Such Punkte für die ASF-Datei verwalten.</span><span class="sxs-lookup"><span data-stu-id="7759c-234">The presentation times and the time codes are extracted from the ASF Index Objects that maintain all the indexes and the corresponding seek- points for the ASF file.</span></span> <span data-ttu-id="7759c-235">Für die Zeit-zu-Zeit-Code Übersetzung in der Präsentation muss die ASF-Datei ein einfaches Index Objekt enthalten. für die Zeit Code-zu-Präsentation-Zeit Übersetzung muss die ASF-Datei über ein Index Objekt verfügen.</span><span class="sxs-lookup"><span data-stu-id="7759c-235">For presentation time-to-time code translation, the ASF file must contain a Simple Index Object; for time code-to-presentation time translation, the ASF file must have an Index Object.</span></span> <span data-ttu-id="7759c-236">Die Konvertierungs Vorgänge basieren auf dem zugrunde liegenden *Indexer* (wmcontainer-Komponente) zum Analysieren und Lesen des Index Objekts, das der ASF-Datei zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="7759c-236">The conversion operations rely on the underlying *indexer* (WMContainer component) to parse and read the Index Object associated with the ASF file.</span></span> <span data-ttu-id="7759c-237">Wenn die Datei kein Index Objekt enthält, empfängt die Anwendung asynchron den Fehlercode für die MF- \_ E \_ ohne \_ Index.</span><span class="sxs-lookup"><span data-stu-id="7759c-237">If the file does not contain an Index Object, the application asynchronously receives the MF\_E\_NO\_INDEX error code.</span></span>

<span data-ttu-id="7759c-238">Um die von der Anwendung angeforderte Zeit zu übersetzen, listet die Medienquelle die Streams in der Datei auf und findet den Stream, der das entsprechende ASF-Index-Objekt enthält.</span><span class="sxs-lookup"><span data-stu-id="7759c-238">To translate the time requested by the application, the media source enumerates the streams within the file and finds the stream that contains the appropriate ASF Index Object.</span></span> <span data-ttu-id="7759c-239">Wenn ein solcher Stream gefunden wird, analysiert die Medienquelle, dass die ASF-Pakete des Streams analysiert werden, bis der richtige Zeit Code erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="7759c-239">If such a stream is found, the media source parses the stream’s ASF packets are parsed until the correct time code is reached.</span></span> <span data-ttu-id="7759c-240">Nachdem Sie das richtige Beispiel gefunden hat, wird die entsprechende Präsentationszeit oder der Zeit Code aus dem Beispiel abgerufen und an den Aufrufer zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="7759c-240">After it finds the correct sample it retrieves the corresponding presentation time or the time code from the sample, and returns it to the caller.</span></span>

### <a name="script-command-support"></a><span data-ttu-id="7759c-241">Skript Befehls Unterstützung</span><span class="sxs-lookup"><span data-stu-id="7759c-241">Script Command Support</span></span>

<span data-ttu-id="7759c-242">Wenn Sie eine ASF-Topologie erstellen, die einen Skript Datenstrom enthält, wird der Topologie ein Skript-Stream-Knoten hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="7759c-242">When you build an ASF topology that contains a script stream a Script Stream node is added to the topology.</span></span> <span data-ttu-id="7759c-243">Dieser Knoten sendet IMF Samples zum richtigen Zeitpunkt.</span><span class="sxs-lookup"><span data-stu-id="7759c-243">This node will send IMFSamples at the appropriate time.</span></span> <span data-ttu-id="7759c-244">Das imfsample, das vom Skript Quellknoten bereitgestellt wird, speichert die Daten in imfmediabuffer, das mit dem Beispiel verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="7759c-244">The IMFSample provided by the script source node stores the data in the IMFMediaBuffer associated with the sample.</span></span> <span data-ttu-id="7759c-245">Sie können CopyTo Buffer für das Beispiel zum Abrufen eines imfmediabuffer und zum anschließenden Abrufen der Sperre für den Puffer abrufen, um die Daten abzurufen.</span><span class="sxs-lookup"><span data-stu-id="7759c-245">You can call CopyToBuffer on the sample to get an IMFMediaBuffer and then call Lock on the buffer to get the data.</span></span> 

<span data-ttu-id="7759c-246">Die Skript Datenstrom-Nutzlasten werden als Typzeichenfolge in den Puffer gepackt, gefolgt von NULL, gefolgt von der Befehls Zeichenfolge, gefolgt von NULL.</span><span class="sxs-lookup"><span data-stu-id="7759c-246">Script stream payloads are packed into the buffer as a type string, followed by NULL, followed by the command string, followed by NULL.</span></span> <span data-ttu-id="7759c-247">Zeichen folgen sind im ASF-Format Unicode.</span><span class="sxs-lookup"><span data-stu-id="7759c-247">Strings are Unicode in the ASF format.</span></span>

<span data-ttu-id="7759c-248">Eine Nutzlast könnte z. b. wie folgt aussehen (wobei \ 0 ein NULL-Zeichen angibt):</span><span class="sxs-lookup"><span data-stu-id="7759c-248">For example, a payload might look like the following (where \0 indicates a NULL character):</span></span>

<span data-ttu-id="7759c-249">*Url\0http://contoso.com\0*</span><span class="sxs-lookup"><span data-stu-id="7759c-249">*URL\0http://contoso.com\0*</span></span>

<span data-ttu-id="7759c-250">*Text\0this is a caption\0*</span><span class="sxs-lookup"><span data-stu-id="7759c-250">*Text\0This is a caption\0*</span></span>



## <a name="related-topics"></a><span data-ttu-id="7759c-251">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7759c-251">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7759c-252">Komponenten der Pipeline Schicht-ASF</span><span class="sxs-lookup"><span data-stu-id="7759c-252">Pipeline Layer ASF Components</span></span>](pipeline-layer-asf-components.md)
</dt> <dt>

[<span data-ttu-id="7759c-253">Unterstützung von ASF in Media Foundation</span><span class="sxs-lookup"><span data-stu-id="7759c-253">ASF Support in Media Foundation</span></span>](asf-support-in-media-foundation.md)
</dt> </dl>

 

 
