---
description: Initialisieren des ContentInfo-Objekts einer neuen ASF-Datei
ms.assetid: a4f6c90e-1b38-4c70-8bc5-e2e16af3d87a
title: Initialisieren des ContentInfo-Objekts einer neuen ASF-Datei
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74826942700f4be8028075fcd9466414834eb8e2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104343329"
---
# <a name="initializing-the-contentinfo-object-of-a-new-asf-file"></a><span data-ttu-id="6c849-103">Initialisieren des ContentInfo-Objekts einer neuen ASF-Datei</span><span class="sxs-lookup"><span data-stu-id="6c849-103">Initializing the ContentInfo Object of a New ASF File</span></span>

<span data-ttu-id="6c849-104">Nachdem Sie ein leeres ContentInfo-Objekt durch Aufrufen der [**mfcreateasfcontentinfo**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfcontentinfo) -Funktion erstellt haben, muss die Anwendung [**imfasfcontentinfo:: setprofile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile) aufrufen, um das Codierungs Profil bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="6c849-104">After creating an empty ContentInfo object by calling the [**MFCreateASFContentInfo**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfcontentinfo) function, the application must call [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile) to provide the encoding profile.</span></span> <span data-ttu-id="6c849-105">Weitere Informationen zum Erstellen eines Profils finden Sie unter [Erstellen eines ASF-Profils](creating-an-asf-profile.md).</span><span class="sxs-lookup"><span data-stu-id="6c849-105">For information about creating a profile, see [Creating an ASF Profile](creating-an-asf-profile.md).</span></span>

<span data-ttu-id="6c849-106">Bevor Informationen aus dem Profil gelesen werden können, muss die **setprofile** -Methode das angegebene Profil Objekt durch Überprüfen der Datenstrom Bezeichner oder Medientypen überprüfen.</span><span class="sxs-lookup"><span data-stu-id="6c849-106">Before information can be read from the profile, the **SetProfile** method must validate the specified profile object by checking the stream identifiers or media types.</span></span> <span data-ttu-id="6c849-107">Wenn das Profil die Überprüfung übergibt, werden verschiedene Header Objekte generiert, wie z. b. das Dateieigenschaften Objekt, das Eigenschaften Objekt der Stream-Bitrate, das Stream Properties-Objekt und das gegenseitige Ausschluss Objekt.</span><span class="sxs-lookup"><span data-stu-id="6c849-107">If the profile passes the validation, various header objects are generated, such as the File Properties Object, the Stream Bitrate Properties Object, the Stream Properties Object, and the Mutual Exclusion Object.</span></span>

<span data-ttu-id="6c849-108">**Setprofile** berechnet und legt Empfohlene Werte für bestimmte Eigenschaften fest, z. b. den ein Vorlauf ausgeführt-Wert.</span><span class="sxs-lookup"><span data-stu-id="6c849-108">**SetProfile** computes and sets recommended values for certain properties, such as the preroll value.</span></span> <span data-ttu-id="6c849-109">Wenn dies nicht bereits festgelegt ist, hängt der empfohlene vorab Wert in Millisekunden vom maximalen Puffer Fenster des unzulässigen Bucket ab, der für die Streams im Profil angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="6c849-109">If this is not already set, the recommended preroll value in milliseconds depends on the maximum buffer window of the leaky bucket specified for the streams in the profile.</span></span> <span data-ttu-id="6c849-110">Entsprechend werden auch die minimalen und maximalen Datenpaket Größen festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6c849-110">Similarly, the minimum and maximum data packet sizes are also set.</span></span> <span data-ttu-id="6c849-111">Die empfohlenen Werte können die Paketgrößen überschreiben, die für das Profil über Attribute festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="6c849-111">The recommended values might override the packet sizes that are set on the profile through attributes.</span></span>

<span data-ttu-id="6c849-112">Da die Datei gerade erstellt wird, wird die Datei als Broadcast-Typ kategorisiert, der durch das Flags-Feld des Dateieigenschaften Objekts gekennzeichnet ist.</span><span class="sxs-lookup"><span data-stu-id="6c849-112">Because the file is in the process of being created, the file is categorized as a broadcast type, which is denoted by the Flags field of the File Properties Object.</span></span> <span data-ttu-id="6c849-113">Bestimmte unbekannte Werte, wie z. b. die Anzahl von Datenpaketen, Wiedergabedauer und sende Dauer, werden auf 0 (null) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6c849-113">Certain unknown values such as the number of data packets, play duration, and send duration are set to zero.</span></span> <span data-ttu-id="6c849-114">Diese Werte werden durch die MF-,-ASF-Attribute **\_ \_ \_ xxx** -Attribute dargestellt und müssen von der Anwendung aktualisiert werden, nachdem die Dateierstellung fertiggestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="6c849-114">These values are represented by **MF\_PD\_ASF\_xxx** attributes and must be updated by the application after file creation is complete.</span></span>

<span data-ttu-id="6c849-115">Das angegebene Profil Objekt ersetzt alle vorhandenen Profile, die dem ContentInfo-Objekt zugeordnet sind, entfernt die Header Objekte, auf die verwiesen wird, und setzt globale Dateieigenschaften, z. b. vorab-und Datenpaket Größe, zurück.</span><span class="sxs-lookup"><span data-stu-id="6c849-115">The specified profile object replaces any existing profile associated with the ContentInfo object, removes the referenced header objects, and resets global file properties such as preroll and data packet size.</span></span>

<span data-ttu-id="6c849-116">Die **setprofile** -Methode erstellt außerdem das Datenobjekt, das das ASF-Datenobjekt darstellt.</span><span class="sxs-lookup"><span data-stu-id="6c849-116">The **SetProfile** method also creates the data object that represents the ASF Data Object.</span></span> <span data-ttu-id="6c849-117">Wenn Sie ein ContentInfo-Objekt wieder verwenden, das Informationen zu beliebigen Datenpaketen enthält, schlägt **setprofile** fehl und gibt den \_ bereits initialisierten MF E-Fehler zurück, der \_ \_ anzeigt, dass er bereits einem vorhandenen ASF-Datenobjekt zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="6c849-117">If you reuse a ContentInfo object that includes information about any data packets, **SetProfile** fails and returns the MF\_E\_ALREADY\_INITIALIZED error indicating that it is already associated with an existing ASF Data Object.</span></span> <span data-ttu-id="6c849-118">Bei einem neuen ContentInfo-Objekt wird die Anzahl der Datenpakete standardmäßig auf 0 (null) festgelegt, und die Datenobjekt Größe ist auf 50 Bytes festgelegt.</span><span class="sxs-lookup"><span data-stu-id="6c849-118">By default, for a new ContentInfo object, the data packet count is set to zero and the data object size is set to 50 bytes.</span></span> <span data-ttu-id="6c849-119">Wenn Sie den Multiplexer zum Generieren von Datenpaketen verwenden, aktualisiert der Multiplexer das ContentInfo-Objekt, um neue Werte wie die Anzahl der Datenpakete widerzuspiegeln.</span><span class="sxs-lookup"><span data-stu-id="6c849-119">If you use the multiplexer to generate data packets, the multiplexer updates the ContentInfo object to reflect new values such as the data packet count.</span></span> <span data-ttu-id="6c849-120">Weitere Informationen zur Generierung von Datenpaketen finden Sie unter [Generieren neuer ASF-Datenpakete](generating-new-asf-data-packets.md).</span><span class="sxs-lookup"><span data-stu-id="6c849-120">For more information about data packet generation, see [Generating New ASF Data Packets](generating-new-asf-data-packets.md).</span></span>

<span data-ttu-id="6c849-121">Nachdem alle Header Objekte zum endgültigen ASF-Header Objekt hinzugefügt wurden, kann die gesamte Header Größe durch den Aufruf von [**imfasfcontentinfo:: gedie adersize**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-getheadersize)abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="6c849-121">After all the Header Objects are added to the final ASF Header Object, the total header size can be retrieved by calling [**IMFASFContentInfo::GetHeaderSize**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-getheadersize).</span></span> <span data-ttu-id="6c849-122">Diese Größe schließt die anfängliche Größe des Datenobjekts ein.</span><span class="sxs-lookup"><span data-stu-id="6c849-122">This size includes the initial data object size.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6c849-123">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6c849-123">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6c849-124">Festlegen von Eigenschaften im ContentInfo-Objekt</span><span class="sxs-lookup"><span data-stu-id="6c849-124">Setting Properties in the ContentInfo Object</span></span>](setting-properties-in-the-contentinfo-object.md)
</dt> <dt>

[<span data-ttu-id="6c849-125">Schreiben eines ASF-Header Objekts für eine neue Datei</span><span class="sxs-lookup"><span data-stu-id="6c849-125">Writing an ASF Header Object for a New File</span></span>](writing-an-asf-header-object-for-a-new-file.md)
</dt> </dl>

 

 



