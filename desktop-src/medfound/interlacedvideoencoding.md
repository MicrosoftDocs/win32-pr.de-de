---
description: Video Codierung mit Zeilen Sprung
ms.assetid: 7695d4e3-4a75-4972-ab02-bc532d6a4dce
title: Video Codierung mit Zeilen Sprung (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fafacb56f29964e81b040c59cdb75d8ebb35830b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103960590"
---
# <a name="interlaced-video-encoding-microsoft-media-foundation"></a><span data-ttu-id="cea7b-103">Video Codierung mit Zeilen Sprung (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="cea7b-103">Interlaced Video Encoding (Microsoft Media Foundation)</span></span>

<span data-ttu-id="cea7b-104">Video Daten, die für die Verwendung mit Computern vorgesehen sind, sind in der Regel *progressiv*, was bedeutet, dass jeder Frame als einzelnes Bild codiert</span><span class="sxs-lookup"><span data-stu-id="cea7b-104">Video data intended for use with computers is typically *progressive*, meaning that each frame is encoded as a single image.</span></span> <span data-ttu-id="cea7b-105">Einige Geräte, wie z. b. Fernsehgeräte, zeigen einen Frame nicht gleichzeitig an, sondern als zwei Bilder.</span><span class="sxs-lookup"><span data-stu-id="cea7b-105">Some devices, like televisions, do not display a frame all at once, but as two images.</span></span> <span data-ttu-id="cea7b-106">Eines der Bilder oder Felder enthält alle geraden Zeilen.</span><span class="sxs-lookup"><span data-stu-id="cea7b-106">One of the images, or fields, contains all of the even numbered rows.</span></span> <span data-ttu-id="cea7b-107">Das andere Feld enthält die Daten für alle ungeraden nummerierten Zeilen.</span><span class="sxs-lookup"><span data-stu-id="cea7b-107">The other field contains the data for all of the odd numbered rows.</span></span> <span data-ttu-id="cea7b-108">Videos, die mit mehr als einem Feld pro Frame codiert sind, werden mit Zeilen Sprung bezeichnet, da es durchwechseln zwischen dem geraden Feld und dem ungeraden Feld gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-108">Video encoded with more than one field per frame is called interlaced, because it is rendered by switching between the even field and the odd field.</span></span>

<span data-ttu-id="cea7b-109">In der Vergangenheit war der Zeilen Sprung Videoinhalt vor der Codierung mit dem Windows Media Video Codec immer deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="cea7b-109">In the past, interlaced video content was always de-interlaced before encoding with the Windows Media Video codec.</span></span> <span data-ttu-id="cea7b-110">Ab der Windows Media 9-Serie unterstützt der Video Encoder die Komprimierung von Zeilen Sprung Inhalten, ohne Sie zuvor in progressiv umzuwandeln.</span><span class="sxs-lookup"><span data-stu-id="cea7b-110">Beginning with Windows Media 9 Series, however, the video encoder supports compression of interlaced content without first converting it to progressive.</span></span> <span data-ttu-id="cea7b-111">Die Beibehaltung von Zeilen Sprung in einer codierten Datei ist wichtig, wenn der Inhalt jemals auf einer Zeilen Sprung Anzeige, z. b. einem Fernsehen, gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-111">Maintaining interlacing in an encoded file is important if the content is ever rendered on an interlaced display, such as a television.</span></span> <span data-ttu-id="cea7b-112">Diese Funktion ist von größerer Bedeutung, da die Unterstützung von Windows Media-basierten Inhalten auf DVD-Player, Set-Top-Boxes und andere Home-Elektronik aufsetzt.</span><span class="sxs-lookup"><span data-stu-id="cea7b-112">This feature is of increasing importance, as support for Windows Media-based content spreads to DVD players, set-top boxes, and other home electronics.</span></span>

<span data-ttu-id="cea7b-113">Die einfachste Methode zum Codieren und bereitzustellen von Zeilen Sprung Videos besteht darin, Ihre Anwendung mit dem Windows Media-Format-SDK zu entwickeln und den Inhalt in ASF-Dateien zu speichern.</span><span class="sxs-lookup"><span data-stu-id="cea7b-113">The easiest way to encode and deliver interlaced video is to develop your application using the Windows Media Format SDK and storing the content in ASF files.</span></span> <span data-ttu-id="cea7b-114">Die Zeilen Sprung Informationen zu Frames werden mithilfe von dateneinheits-Erweiterungen an den Codec übermittelt, die für den ASF-Inhalt gut geeignet sind, aber in anderen Containern unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="cea7b-114">The interlaced information about frames is passed to the codec using data unit extensions, which work well for ASF content, but are a little trickier to support in other containers.</span></span> <span data-ttu-id="cea7b-115">Weitere Informationen zu Dateneinheiten Erweiterungen finden Sie unter [Verwenden von Dateneinheiten Erweiterungen](usingdataunitextensions.md).</span><span class="sxs-lookup"><span data-stu-id="cea7b-115">For more information about data unit extensions, see [Using Data Unit Extensions](usingdataunitextensions.md).</span></span>

<span data-ttu-id="cea7b-116">Zur Unterstützung der interplizierung sind zwei Hauptschritte erforderlich: die Frame-Informationen werden dem Encoder und die Informationen an die renderinganwendung geliefert.</span><span class="sxs-lookup"><span data-stu-id="cea7b-116">To support interlaced encoding involves two major steps: getting the frame information to the encoder, and delivering the information to the rendering application.</span></span> <span data-ttu-id="cea7b-117">Diese Schritte werden in den folgenden Abschnitten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="cea7b-117">These steps are described in the following paragraphs.</span></span>

## <a name="interlaced-video-and-the-encoder"></a><span data-ttu-id="cea7b-118">Zeilen Sprung Video und der Encoder</span><span class="sxs-lookup"><span data-stu-id="cea7b-118">Interlaced Video and the Encoder</span></span>

<span data-ttu-id="cea7b-119">Der erste Schritt beim Codieren von Videos mit geprüfter Zeilen Sprung besteht darin, den Encoder zum Codieren von Zeilen Sprung Feldern zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="cea7b-119">The first step in encoding video with maintained interlacing is to configure the encoder to encode interlaced fields.</span></span> <span data-ttu-id="cea7b-120">Legen Sie dazu die Eigenschaft " [mfpkey \_ interlacedcodingenabled](mfpkey-interlacedcodingenabledproperty.md) " auf " **true**" fest.</span><span class="sxs-lookup"><span data-stu-id="cea7b-120">To do this, set the [MFPKEY\_INTERLACEDCODINGENABLED](mfpkey-interlacedcodingenabledproperty.md) property to **TRUE**.</span></span> <span data-ttu-id="cea7b-121">Dadurch wird der Encoder vorbereitet, um Zeilen Sprung Beispiele zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="cea7b-121">This prepares the encoder to receive interlaced samples.</span></span> <span data-ttu-id="cea7b-122">Jedes Eingabe Beispiel muss beide Felder enthalten.</span><span class="sxs-lookup"><span data-stu-id="cea7b-122">Each input sample must contain both fields.</span></span>

<span data-ttu-id="cea7b-123">Für jedes Beispiel, das Sie nach dem Aktivieren der Zeilen Sprung Codierung mit dem Encoder verarbeiten, sollte eine dateneinheits Erweiterung angefügt werden.</span><span class="sxs-lookup"><span data-stu-id="cea7b-123">Each sample that you process with the encoder after activating interlaced encoding should have a data unit extension attached.</span></span> <span data-ttu-id="cea7b-124">Beispiele ohne die erwartete Dateneinheiten Erweiterung werden als progressiv angenommen.</span><span class="sxs-lookup"><span data-stu-id="cea7b-124">Samples without the expected data unit extension are assumed to be progressive.</span></span> <span data-ttu-id="cea7b-125">Die GUID, die die Erweiterung identifiziert, ist D590DC20-07BC-436C-9CF7-F3BBFBF1A4DC.</span><span class="sxs-lookup"><span data-stu-id="cea7b-125">The GUID identifying the extension is D590DC20-07BC-436C-9CF7-F3BBFBF1A4DC.</span></span> <span data-ttu-id="cea7b-126">Die Werte, die von den-Objekten des Windows Media Format SDK übermittelt werden, werden in der folgenden Tabelle definiert.</span><span class="sxs-lookup"><span data-stu-id="cea7b-126">The values passed by the objects of the Windows Media Format SDK are defined in the following table.</span></span>



| <span data-ttu-id="cea7b-127">Wert</span><span class="sxs-lookup"><span data-stu-id="cea7b-127">Value</span></span>      | <span data-ttu-id="cea7b-128">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="cea7b-128">Description</span></span>                                                                                                                              |
|------------|------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cea7b-129">0x00000020</span><span class="sxs-lookup"><span data-stu-id="cea7b-129">0x00000020</span></span> | <span data-ttu-id="cea7b-130">Gibt an, dass das Beispiel zuerst mit dem untersten Feld codiert wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-130">Specifies that the sample is encoded with the bottom field first.</span></span> <span data-ttu-id="cea7b-131">Dieser Wert ist nur in Kombination mit dem Zeilen Sprung Wert sinnvoll.</span><span class="sxs-lookup"><span data-stu-id="cea7b-131">This value is only meaningful when combined with the interlaced value.</span></span> |
| <span data-ttu-id="cea7b-132">0x00000040</span><span class="sxs-lookup"><span data-stu-id="cea7b-132">0x00000040</span></span> | <span data-ttu-id="cea7b-133">Gibt an, dass das Beispiel zuerst mit dem obersten Feld codiert wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-133">Specifies that the sample is encoded with the top field first.</span></span> <span data-ttu-id="cea7b-134">Dieser Wert ist nur in Kombination mit dem Zeilen Sprung Wert sinnvoll.</span><span class="sxs-lookup"><span data-stu-id="cea7b-134">This value is only meaningful when combined with the interlaced value.</span></span>    |
| <span data-ttu-id="cea7b-135">0x00000080</span><span class="sxs-lookup"><span data-stu-id="cea7b-135">0x00000080</span></span> | <span data-ttu-id="cea7b-136">Gibt an, dass das Beispiel mit Zeilen Sprung dargestellt wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-136">Specifies that the sample is interlaced.</span></span> <span data-ttu-id="cea7b-137">Dies ist der einzige Wert, der für die Codec-DMOS von Bedeutung ist.</span><span class="sxs-lookup"><span data-stu-id="cea7b-137">This is the only value that is meaningful to the codec DMOs.</span></span>                                    |



 

<span data-ttu-id="cea7b-138">Einer der ersten beiden Werte wird immer mit 0x80 kombiniert, indem ein bitweises **or** verwendet wird, bevor er für das Beispiel festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-138">One of the first two values is always combined with 0x80 using a bitwise **OR** before being set on the sample.</span></span> <span data-ttu-id="cea7b-139">Der Encoder prüft jedoch nur 0x80 und ignoriert den Rest der Erweiterung.</span><span class="sxs-lookup"><span data-stu-id="cea7b-139">However, the encoder only checks for 0x80 and disregards the rest of the extension.</span></span> <span data-ttu-id="cea7b-140">Wenn die Erweiterung das Beispiel als Zeilen Sprung bezeichnet, behält der Encoder das Sample-Zeilen Sprung im komprimierten Stream bei und bettet ein Kennzeichen im Stream ein, sodass der Decoder Zeilen Sprung Frames identifizieren kann.</span><span class="sxs-lookup"><span data-stu-id="cea7b-140">If the extension identifies the sample as interlaced, the encoder maintains the sample interlacing in the compressed stream, and embeds an indication flag in the stream so that the decoder can identify interlaced frames.</span></span> <span data-ttu-id="cea7b-141">Jedes Zeilen Sprung Beispiel ist als markiert, sodass Quell Inhalte, die eine Mischung aus progressivem und Zeilen Sprung sind, zusammen in einen Stream codiert werden können.</span><span class="sxs-lookup"><span data-stu-id="cea7b-141">Each interlaced sample is marked, so that source content that is a mix of progressive and interlaced can be encoded into a stream together.</span></span>

<span data-ttu-id="cea7b-142">Das Windows Media Format SDK Writer-Objekt enthält die Inhaltstyp-Dateneinheiten Erweiterungen in den Beispielen, die beim Rendern in den Daten Abschnitt des ASF-Containers geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="cea7b-142">The Windows Media Format SDK writer object includes the content type data unit extensions in the samples that it writes to the data section of the ASF container for use at the time of rendering.</span></span>

## <a name="reading-and-rendering-interlaced-video"></a><span data-ttu-id="cea7b-143">Lesen und Rendern von Video Dateien</span><span class="sxs-lookup"><span data-stu-id="cea7b-143">Reading and Rendering Interlaced Video</span></span>

<span data-ttu-id="cea7b-144">Der Decoder identifiziert Zeilen Sprung Proben basierend auf dem im Stream festgelegten Flag durch den Encoder.</span><span class="sxs-lookup"><span data-stu-id="cea7b-144">The decoder identifies interlaced samples based on the flag set in the stream by the encoder.</span></span> <span data-ttu-id="cea7b-145">Standardmäßig deinstalübergibt der Decoder die Beispiele und stellt Progressive Ausgaben bereit.</span><span class="sxs-lookup"><span data-stu-id="cea7b-145">As a default, the decoder deinterlaces the samples and delivers progressive outputs.</span></span> <span data-ttu-id="cea7b-146">Die Player Anwendung kann den Decoder so konfigurieren, dass Ausgaben mit Zeilen Sprung verarbeitet werden, indem die Eigenschaft [debuglacing des mfpkey- \_ Decoders \_ ](mfpkey-decoder-deinterlacingproperty.md) festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="cea7b-146">The player application can configure the decoder to process outputs with interlacing maintained by setting the [MFPKEY\_DECODER\_DEINTERLACING](mfpkey-decoder-deinterlacingproperty.md) property.</span></span>

<span data-ttu-id="cea7b-147">Die Schwierigkeit bei der Zeilen Sprung Videowiedergabe tritt auf, nachdem der Decoder die Beispiele bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="cea7b-147">The difficulty in interlaced video playback arises after the decoder delivers the samples.</span></span> <span data-ttu-id="cea7b-148">Der Renderer (Grafikkarte oder Chip in einem Gerät) kann den Videoinhalt nicht ordnungsgemäß anzeigen, ohne zu wissen, welches Feld zu welchem Feld gehört.</span><span class="sxs-lookup"><span data-stu-id="cea7b-148">The renderer (video card or chip in a device) cannot properly display the video content without knowing which field is which.</span></span> <span data-ttu-id="cea7b-149">In Anwendungen, die das SDK für den Windows Media-Format verwenden, wird der Inhaltstyp für die Dateneinheiten Erweiterung aus den nicht komprimierten Beispielen abgerufen und kann an das Gerät übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="cea7b-149">In applications using the Windows Media Format SDK, the content type data unit extension is retrieved from the uncompressed samples, and can be passed to the device.</span></span>

<span data-ttu-id="cea7b-150">Wenn Sie die Codec-Objekte direkt verwenden, erfolgt keine automatische Datenübertragung.</span><span class="sxs-lookup"><span data-stu-id="cea7b-150">When using the codec objects directly, none of this data transfer is automatic.</span></span> <span data-ttu-id="cea7b-151">Sie müssen Unterstützung für Daten-Einheiten Erweiterungen sowohl in den Puffer Objekten als auch in dem Container implementieren, den Sie für den codierten Inhalt verwenden.</span><span class="sxs-lookup"><span data-stu-id="cea7b-151">You must implement data-unit-extension support, both in your buffer objects and in the container that you use for your encoded content.</span></span> <span data-ttu-id="cea7b-152">Die meisten gängigen Typen von Medien Containern (wie AVI) unterstützen keine Metadaten auf Stichproben Ebene.</span><span class="sxs-lookup"><span data-stu-id="cea7b-152">Most common types of media containers (like AVI) do not support sample-level metadata.</span></span> <span data-ttu-id="cea7b-153">Sie können ein eigenes System implementieren, um die Daten in der Datei zu speichern und Sie einzelnen Beispielen zuzuordnen, aber nur ein benutzerdefinierter Reader kann Sie abrufen.</span><span class="sxs-lookup"><span data-stu-id="cea7b-153">You can implement your own system to store the data in the file and associate it with individual samples, but only a customized reader would be able to retrieve it.</span></span>

> [!Note]  
> <span data-ttu-id="cea7b-154">Wenn Sie die Eigenschaft " [mfpkey \_ interlacedcodingenabled](mfpkey-interlacedcodingenabledproperty.md) " auf " **true**" festlegen und dann keine Stichproben mit der angefügten dateneinheits Erweiterung "Content-Type" senden, kann der Encoder abstürzen.</span><span class="sxs-lookup"><span data-stu-id="cea7b-154">Setting the [MFPKEY\_INTERLACEDCODINGENABLED](mfpkey-interlacedcodingenabledproperty.md) property to **TRUE**, and then not sending any samples with the content-type data-unit extension attached can cause the encoder to crash.</span></span> <span data-ttu-id="cea7b-155">Legen Sie den Encoder für die Zeilen Sprung Codierung nur dann fest, wenn Sie über Sprung Proben zur Bereitstellung verfügen.</span><span class="sxs-lookup"><span data-stu-id="cea7b-155">Set the encoder for interlaced encoding only if you have interlaced samples to deliver.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="cea7b-156">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="cea7b-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cea7b-157">Arbeiten mit Videos</span><span class="sxs-lookup"><span data-stu-id="cea7b-157">Working with Video</span></span>](workingwithvideo.md)
</dt> </dl>

 

 



