---
description: DMO-Grundlagen
ms.assetid: eaf453d2-69f8-432a-8a58-1ed70778f182
title: DMO-Grundlagen (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44b1aca2fcd7e70cf78e2e95135aee73c454b910
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214312"
---
# <a name="dmo-basics-microsoft-media-foundation"></a><span data-ttu-id="46b5e-103">DMO-Grundlagen (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="46b5e-103">DMO Basics (Microsoft Media Foundation)</span></span>

<span data-ttu-id="46b5e-104">Dieses Thema enthält eine kurze Übersicht über DMOS im Zusammenhang mit Windows Media Codecs.</span><span class="sxs-lookup"><span data-stu-id="46b5e-104">This topic provides a brief overview of DMOs as they relate to Windows Media Codecs.</span></span> <span data-ttu-id="46b5e-105">Weitere Informationen zu DMOS finden Sie unter [DirectX-Medienobjekte](../directshow/directx-media-objects.md).</span><span class="sxs-lookup"><span data-stu-id="46b5e-105">For more information about DMOs, see [DirectX Media Objects](../directshow/directx-media-objects.md).</span></span>

<span data-ttu-id="46b5e-106">Ein DMO ist ein COM-Objekt, das Daten transformiert.</span><span class="sxs-lookup"><span data-stu-id="46b5e-106">A DMO is a COM object that transforms data.</span></span> <span data-ttu-id="46b5e-107">Sie übergeben Daten an Sie und geben die transformierten Daten zurück.</span><span class="sxs-lookup"><span data-stu-id="46b5e-107">You pass data to it, and it returns the transformed data.</span></span> <span data-ttu-id="46b5e-108">Bei einem Codec-Encoder-DMO geben Sie unkomprimierte Mediendaten ein, und der DMO liefert komprimierte Mediendaten.</span><span class="sxs-lookup"><span data-stu-id="46b5e-108">In the case of a codec encoder DMO, you input uncompressed media data and the DMO delivers compressed media data.</span></span> <span data-ttu-id="46b5e-109">Der Hauptvorteil der Verwendung von dmos besteht darin, dass alle die gleiche Basisschnittstelle ( [**imediaobject**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject)) implementieren, was die Arbeit mit Ihnen vereinfacht, da Sie das gleiche Objekt unabhängig vom Typ der Transformation, die ausgeführt wird, verwenden können.</span><span class="sxs-lookup"><span data-stu-id="46b5e-109">The primary advantage of using DMOs is that they all implement the same base interface, [**IMediaObject**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediaobject), which simplifies working with them because you can use the same object, regardless of the type of transformation being performed.</span></span>

<span data-ttu-id="46b5e-110">Da es Variablen gibt, die an einer beliebigen Art von Datentransformation beteiligt sind, muss die Transformation für Audiodaten und Videos die verschiedensten möglichen Medien Konfigurationen berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-110">Because there are variables involved in any sort of data transformation, audio and video transformation must take into account the wide range of possible media configurations.</span></span> <span data-ttu-id="46b5e-111">Die Windows Media Audio-und Video Codecs unterstützen außerdem eine Reihe spezieller Features, die Sie mit dem DMO konfigurieren können.</span><span class="sxs-lookup"><span data-stu-id="46b5e-111">The Windows Media Audio and Video codecs also support a number of special features that you must be able to configure by using the DMO.</span></span>

<span data-ttu-id="46b5e-112">Im Allgemeinen werden die Variablen Informationen, die vom Codec-DMOS zum Komprimieren und Dekomprimieren digitaler Medien benötigt werden, auf eine von drei Arten übermittelt:</span><span class="sxs-lookup"><span data-stu-id="46b5e-112">In general, the variable information that is needed by the codec DMOs to compress and decompress digital media is conveyed in one of three ways:</span></span>

-   <span data-ttu-id="46b5e-113">Legen Sie den Eingabetyp für den DMO fest, um die Merkmale der nicht komprimierten Medien zu übermitteln, die Sie an einen DMO-Encoder übergeben, sowie die Merkmale der komprimierten Medien, die Sie an einen DMO-Decoder übergeben.</span><span class="sxs-lookup"><span data-stu-id="46b5e-113">Set the input type on the DMO to convey the characteristics of the uncompressed media that you pass to an encoder DMO, and the characteristics of the compressed media that you pass to a decoder DMO.</span></span>
-   <span data-ttu-id="46b5e-114">Legen Sie den Ausgabetyp für den DMO fest, um die Merkmale der von einem Encoder-DMO gelieferten komprimierten Medien und die Merkmale der nicht komprimierten Medien zu übermitteln, die von einem Decoder-DMO übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="46b5e-114">Set the output type on the DMO to convey the characteristics of the compressed media that are delivered by an encoder DMO, and the characteristics of the uncompressed media that are delivered by a decoder DMO.</span></span>
-   <span data-ttu-id="46b5e-115">Konfigurieren Sie mithilfe der Methoden der **IPropertyBag** -Schnittstelle andere Einstellungen, die die verschiedenen Funktionen der Codec-DMOS als Eigenschaften unterstützen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-115">Using the methods of the **IPropertyBag** interface, configure other settings that support the various features of the codec DMOs as properties.</span></span> <span data-ttu-id="46b5e-116">**IPropertyBag** ist eine Standard-COM-Schnittstelle, die von allen Codec-DMOS unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="46b5e-116">**IPropertyBag** is a standard COM interface that is supported by all of the codec DMOs.</span></span>

<span data-ttu-id="46b5e-117">Darüber hinaus werden einige Codec-Features über andere Schnittstellen verwaltet, die für die Codec-DMOS spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="46b5e-117">Additionally, some codec features are managed by using other interfaces that are specific to the codec DMOs.</span></span> <span data-ttu-id="46b5e-118">Diese Schnittstellen werden für jeden Codec im Abschnitt [Codec-Objekte](codecobjects.md)aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="46b5e-118">These interfaces are listed for each codec in the section [Codec Objects](codecobjects.md).</span></span>

<span data-ttu-id="46b5e-119">Eingabe-und Ausgabetypen sind spezifisch für Eingabe-und Ausgabestreams.</span><span class="sxs-lookup"><span data-stu-id="46b5e-119">Input and output types are specific to input and output streams.</span></span> <span data-ttu-id="46b5e-120">Jeder Stream stellt eine diskrete Darstellung des Inhalts dar.</span><span class="sxs-lookup"><span data-stu-id="46b5e-120">Each stream represents a discrete representation of the content.</span></span> <span data-ttu-id="46b5e-121">Der Windows Media Video Encoder DMO verfügt z. b. über einen einzelnen Eingabestream und zwei Ausgabedaten Ströme.</span><span class="sxs-lookup"><span data-stu-id="46b5e-121">For example, the Windows Media Video encoder DMO has a single input stream, and two output streams.</span></span> <span data-ttu-id="46b5e-122">Der Eingabestream akzeptiert nicht komprimierte Videobeispiele.</span><span class="sxs-lookup"><span data-stu-id="46b5e-122">The input stream accepts uncompressed video samples.</span></span> <span data-ttu-id="46b5e-123">Der erste der beiden Ausgabedaten Ströme liefert komprimierte Beispiele. der andere stellt nicht komprimierte Beispiele bereit.</span><span class="sxs-lookup"><span data-stu-id="46b5e-123">The first of the two output streams delivers compressed samples; the other provides uncompressed samples.</span></span> <span data-ttu-id="46b5e-124">Die einzelnen Beispiele in einem Ausgabestream repräsentieren denselben Inhalt wie die entsprechenden Beispiele im anderen Stream, aber jeder Stream liefert diese Beispiele in einem anderen Format.</span><span class="sxs-lookup"><span data-stu-id="46b5e-124">The individual samples in one output stream represent the same content as the corresponding samples in the other stream, but each stream delivers those samples in a different format.</span></span>

<span data-ttu-id="46b5e-125">Jeder Stream (Eingabe oder Ausgabe) unterstützt einen oder mehrere Medientypen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-125">Each stream (input or output) supports one or more types of media.</span></span> <span data-ttu-id="46b5e-126">Ein Medientyp oder-Format wird durch eine [**DMO- \_ \_ Medientyp**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) Struktur beschrieben.</span><span class="sxs-lookup"><span data-stu-id="46b5e-126">A media type, or format, is described by a [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure.</span></span> <span data-ttu-id="46b5e-127">Sie können den DMO nach den Typen Abfragen, die von einem Ausgabestream unterstützt werden, indem Sie [**imediaobject:: getoutputtype**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-127">You can query the DMO for the types that are supported by an output stream by calling [**IMediaObject::GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype).</span></span> <span data-ttu-id="46b5e-128">Diese Methode gibt einen gültigen Ausgabetyp (in einigen Fällen teilweise unvollständig) für diesen Stream zurück.</span><span class="sxs-lookup"><span data-stu-id="46b5e-128">This method returns a valid (though in some cases partially incomplete) output type for that stream.</span></span> <span data-ttu-id="46b5e-129">Sie können die unterstützten Medientypen für einen Ausgabestream auflisten, indem Sie wiederholte Aufrufe von **getoutputtype** ausführen und den Typparameter bei jedem Aufruf erhöhen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-129">You can enumerate the supported media types for an output stream by making repeated calls to **GetOutputType**, incrementing the type parameter with each call.</span></span> <span data-ttu-id="46b5e-130">Wenn der übergebene Typindex außerhalb des gültigen Bereichs liegt, gibt die Methode **DMO \_ E \_ nicht \_ mehr \_ Elemente** zurück.</span><span class="sxs-lookup"><span data-stu-id="46b5e-130">When the type index that you pass is out of bounds, the method returns **DMO\_E\_NO\_MORE\_ITEMS**.</span></span> <span data-ttu-id="46b5e-131">Eingabeformate können mithilfe der [**imediaobject:: getinputtype**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) -Methode auf die gleiche Weise aufgezählt werden.</span><span class="sxs-lookup"><span data-stu-id="46b5e-131">Input formats can be enumerated in the same way by using the [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) method.</span></span>

<span data-ttu-id="46b5e-132">Die Typen, die vom DMO aufgelistet werden, sind nur die "bevorzugten" Typen. andere Typen werden jedoch möglicherweise unterstützt.</span><span class="sxs-lookup"><span data-stu-id="46b5e-132">The types that are enumerated by the DMO are only the "preferred" types, however, other types may be supported.</span></span> <span data-ttu-id="46b5e-133">Sie können einen Ausgabetyp überprüfen, indem Sie [**imediaobject:: setoutputtype**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-133">You can validate an output type by calling [**IMediaObject::SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype).</span></span> <span data-ttu-id="46b5e-134">Verwenden Sie [**imediaobject:: setinputtype**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) , um einen Eingabetyp zu validieren.</span><span class="sxs-lookup"><span data-stu-id="46b5e-134">Use [**IMediaObject::SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) to validate an input type.</span></span> <span data-ttu-id="46b5e-135">Beide Methoden geben den **DMO \_ E- \_ Typ \_ nicht \_ akzeptiert** zurück, wenn die übergebenen [**DMO- \_ \_ Medientyp**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) Struktur ungültig ist.</span><span class="sxs-lookup"><span data-stu-id="46b5e-135">Both methods will return **DMO\_E\_TYPE\_NOT\_ACCEPTED** if the [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure you passed is invalid.</span></span> <span data-ttu-id="46b5e-136">Einige DMOS erfordern, dass Sie einen Ausgabetyp vor dem Auflisten von Eingabetypen festlegen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-136">Some DMOs require you to set an output type before enumerating any input types.</span></span> <span data-ttu-id="46b5e-137">Die Windows Media Audio-und Videocodec-DMOS haben alle Eingaben und Ausgaben, die über eine abhängige Validierung verfügen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-137">The Windows Media Audio and Video codec DMOs all have inputs and outputs that have interdependent validation.</span></span> <span data-ttu-id="46b5e-138">Das heißt, der von Ihnen festgelegte Ausgabetyp legt die Überprüfungs Kriterien für den Eingabetyp fest.</span><span class="sxs-lookup"><span data-stu-id="46b5e-138">That is, the output type you set will set the validation criteria for the input type.</span></span> <span data-ttu-id="46b5e-139">Es gibt auch einige Eigenschaften, die die gültigen Eingabe-und Ausgabetypen ändern, wenn Sie festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="46b5e-139">There are also some properties that, when set, alter the valid input and output types.</span></span> <span data-ttu-id="46b5e-140">Aus diesem Grund sollten Sie alle gewünschten Eigenschaften für das DMO festlegen, bevor Sie Typen aufzählen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-140">For this reason, you should set all of the desired properties on the DMO before enumerating types.</span></span>

<span data-ttu-id="46b5e-141">Wenn Sie die Ausgabe-und Eingabetypen für den DMO festgelegt haben, können Sie mit der Verarbeitung von Beispielen beginnen.</span><span class="sxs-lookup"><span data-stu-id="46b5e-141">When you have set the output and input types for the DMO, you can begin processing samples.</span></span> <span data-ttu-id="46b5e-142">Jedes Eingabe Beispiel wird mithilfe eines [**imediaobject::P rocessinput-Objekts**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processinput)an den Codec übergeben, und jedes Ausgabe Beispiel wird vom Codec übermittelt, wenn Sie [**imediaobject aufrufen::P rocess Output**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processoutput).</span><span class="sxs-lookup"><span data-stu-id="46b5e-142">Each input sample is passed to the codec using a call to [**IMediaObject::ProcessInput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processinput), and each output sample is delivered by the codec when you make a call to [**IMediaObject::ProcessOutput**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-processoutput).</span></span>

## <a name="related-topics"></a><span data-ttu-id="46b5e-143">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="46b5e-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="46b5e-144">Arbeiten mit Codec-DMOS</span><span class="sxs-lookup"><span data-stu-id="46b5e-144">Working with Codec DMOs</span></span>](workingwithcodecdmos.md)
</dt> </dl>

 

 
