---
description: Der &\# 0034; Leaky Bucket&\# 0034; Modell ist eine Möglichkeit, die Puffer Anforderungen für die reibungslose Wiedergabe zu modellieren.
ms.assetid: 2f7f80d6-3abb-462f-a571-b223a1d59da6
title: Das undichte Bucket-Puffer Modell (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0f5a99932fb121808f6a49323360c47c09d0acbb
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/05/2021
ms.locfileid: "106355111"
---
# <a name="the-leaky-bucket-buffer-model-microsoft-media-foundation"></a><span data-ttu-id="2ef4e-103">Das undichte Bucket-Puffer Modell (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="2ef4e-103">The Leaky Bucket Buffer Model (Microsoft Media Foundation)</span></span>

<span data-ttu-id="2ef4e-104">Wenn Sie Medien über ein Netzwerk streamen, empfängt der Decoder codierte Daten mit einer theoretisch Konstanten Rate (der Übertragungsrate).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-104">When you stream media over a network, the decoder receives encoded data at a theoretically constant rate (the transmission rate).</span></span> <span data-ttu-id="2ef4e-105">Der Decoder verwendet diese Daten, um decodierte Ausgaben zu liefern.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-105">The decoder consumes this data to produce decoded output.</span></span> <span data-ttu-id="2ef4e-106">Im Allgemeinen verwendet der Decoder die Daten jedoch mit einer *Variablen* Rate, da der Encoder dann eine Variablen Codierungsrate verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-106">In the general case, however, the decoder consumes the data at a *variable* rate, because then encoder can use a variable encoding rate.</span></span>

<span data-ttu-id="2ef4e-107">Das "Leaky Bucket"-Modell ist eine Möglichkeit, die Puffer Anforderungen für die reibungslose Wiedergabe zu modellieren.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-107">The "leaky bucket" model is a way to model the buffering requirements for smooth playback.</span></span> <span data-ttu-id="2ef4e-108">In diesem Modell verwaltet der Decoder einen Puffer.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-108">In this model, the decoder maintains a buffer.</span></span> <span data-ttu-id="2ef4e-109">Codierte Daten werden vom Netzwerk in den Puffer und vom Puffer in den Decoder.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-109">Encoded data goes from the network into the buffer, and from the buffer into the decoder.</span></span> <span data-ttu-id="2ef4e-110">Wenn der Puffer unterfließt, bedeutet dies, dass der Decoder Daten aus dem Puffer schneller entfernt, als vom Netzwerk bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-110">If the buffer underflows, it means the decoder is removing data from the buffer faster than the network is delivering it.</span></span> <span data-ttu-id="2ef4e-111">Wenn der Puffer überläuft, bedeutet dies, dass das Netzwerkdaten schneller bereitstellt, als der Decoder Sie verwendet.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-111">If the buffer overflows, it means the network is delivering data faster than the decoder consumes it.</span></span>

<span data-ttu-id="2ef4e-112">In diesem Thema wird das Modell "Leaky Bucket" der Puffer für die Codierung und Decodierung beschrieben.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-112">This topic describes the "leaky bucket" model of buffers for encoding and decoding.</span></span>

-   [<span data-ttu-id="2ef4e-113">Der Bucket "Leaky"</span><span class="sxs-lookup"><span data-stu-id="2ef4e-113">The Leaky Bucket</span></span>](#the-leaky-bucket)
-   [<span data-ttu-id="2ef4e-114">Der verwendete Bucket</span><span class="sxs-lookup"><span data-stu-id="2ef4e-114">The Bucket in Use</span></span>](#the-bucket-in-use)
-   [<span data-ttu-id="2ef4e-115">Festlegen von Leaky-Bucket-Werten für ASF-Streams</span><span class="sxs-lookup"><span data-stu-id="2ef4e-115">Setting Leaky Bucket Values for ASF Streams</span></span>](#setting-leaky-bucket-values-for-asf-streams)
-   [<span data-ttu-id="2ef4e-116">Leaky-Bucket-Werte im ASF-Multiplexer</span><span class="sxs-lookup"><span data-stu-id="2ef4e-116">Leaky Bucket Values in the ASF Multiplexer</span></span>](#leaky-bucket-values-in-the-asf-multiplexer)
-   [<span data-ttu-id="2ef4e-117">Aktualisieren von Leaky-Bucket-Werten in der ASF-Medien Senke</span><span class="sxs-lookup"><span data-stu-id="2ef4e-117">Updating Leaky Bucket Values in the ASF Media Sink</span></span>](#updating-leaky-bucket-values-in-the-asf-media-sink)
-   [<span data-ttu-id="2ef4e-118">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="2ef4e-118">Related topics</span></span>](#related-topics)

## <a name="the-leaky-bucket"></a><span data-ttu-id="2ef4e-119">Der Bucket "Leaky"</span><span class="sxs-lookup"><span data-stu-id="2ef4e-119">The Leaky Bucket</span></span>

<span data-ttu-id="2ef4e-120">Um das Modell "Leaky Bucket" zu verstehen, betrachten Sie einen Bucket mit einem kleinen Loch unten.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-120">To understand the leaky bucket model, consider a bucket with a small hole at the bottom.</span></span> <span data-ttu-id="2ef4e-121">Der Bucket wird durch drei Parameter definiert:</span><span class="sxs-lookup"><span data-stu-id="2ef4e-121">Three parameters define the bucket:</span></span>

-   <span data-ttu-id="2ef4e-122">Die Kapazität (B)</span><span class="sxs-lookup"><span data-stu-id="2ef4e-122">The capacity (B)</span></span>
-   <span data-ttu-id="2ef4e-123">Die Rate, mit der Wasser aus dem Bucket fließt (R)</span><span class="sxs-lookup"><span data-stu-id="2ef4e-123">The rate at which water flows out of the bucket (R)</span></span>
-   <span data-ttu-id="2ef4e-124">Der anfängliche Füllwert des Bucket (F).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-124">The initial fullness of the bucket (F)</span></span>

<span data-ttu-id="2ef4e-125">In dieser Metapher ist der Bucket der Puffer:</span><span class="sxs-lookup"><span data-stu-id="2ef4e-125">In this metaphor, the bucket is the buffer:</span></span>

![die Abbildung zeigt einen Puffer als Bucket, eine Eingabe Rate als Wasser in den Bucket und die Ausgabe Rate als Wasser, das eine Lücke im Bucket verlässt.](images/asf-components03.png)

<span data-ttu-id="2ef4e-127">Wenn Wasser in den Bucket zu genau der Geschwindigkeit von *R* gegossen wird, verbleibt der Bucket bei F, da die Eingabe Rate der Ausgabe Rate entspricht.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-127">If water is poured into the bucket at exactly rate *R*, the bucket will remain at F, because the input rate equals the output rate.</span></span> <span data-ttu-id="2ef4e-128">Wenn die Eingabe Rate zunimmt, während *R* konstant bleibt, akkumuliert der Bucket Wasser.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-128">If the input rate increases while *R* remains constant, the bucket accumulates water.</span></span> <span data-ttu-id="2ef4e-129">Wenn die Eingabe Rate für einen längeren Zeitraum größer als *R* ist, wird der Bucket letztendlich überläuft.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-129">If the input rate is larger than *R* for a sustained period, eventually the bucket overflows.</span></span> <span data-ttu-id="2ef4e-130">Allerdings kann die Eingabe Rate um *R* variieren, ohne den Bucket zu überschreiten, solange die durchschnittliche Eingangs Rate die Kapazität des Bucket nicht überschreitet.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-130">However, the input rate can vary around *R* without overflowing the bucket, as long as the average input rate does not exceed the capacity of the bucket.</span></span> <span data-ttu-id="2ef4e-131">Je größer die Kapazität ist, desto mehr kann die Eingabe Rate innerhalb eines bestimmten Zeitfensters variieren.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-131">The larger the capacity, the more the input rate can vary within a given window of time.</span></span>

<span data-ttu-id="2ef4e-132">In ASF wird der "Leaky"-Bucket durch drei Parameter definiert:</span><span class="sxs-lookup"><span data-stu-id="2ef4e-132">In ASF, the leaky bucket is defined by three parameters:</span></span>

-   <span data-ttu-id="2ef4e-133">Die durchschnittliche Bitrate (in Bytes pro Sekunde), die der Ausgabe Rate (*R*) entspricht.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-133">The average bit rate, in bytes per second, which corresponds to the output rate (*R*)</span></span>
-   <span data-ttu-id="2ef4e-134">Das Puffer Fenster (gemessen in Millisekunden), das der Bucket-Kapazität (*B*) entspricht.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-134">The buffer window, measured in milliseconds, which corresponds to the bucket capacity (*B*).</span></span>
-   <span data-ttu-id="2ef4e-135">Der anfängliche Puffer Füll Wert, der im Allgemeinen auf 0 (null) festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-135">The initial buffer fullness, which is generally set to zero.</span></span>

<span data-ttu-id="2ef4e-136">Die Bitrate misst die durchschnittliche Anzahl von Bits pro Sekunde im codierten Stream.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-136">The bit rate measures the average number of bits per second in the encoded stream.</span></span> <span data-ttu-id="2ef4e-137">Das Puffer Fenster misst die Anzahl der Millisekunden der Daten an dieser Bitrate, die in den Puffer passen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-137">The buffer window measures the number of milliseconds of data at that bit rate that can fit in the buffer.</span></span> <span data-ttu-id="2ef4e-138">Die Größe des Puffers in Bits ist gleich R \* (B/1000).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-138">The size of the buffer in bits is equal to R \* (B / 1000).</span></span>

<span data-ttu-id="2ef4e-139">Bei den ASF-Nutzlastdaten kann es vorkommen, dass der Lecky-Bucket zu unregelmäßigen Zeiten und unregelmäßig ist, der Bucket jedoch mit einer Konstanten positiven Bitrate belassen werden muss.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-139">ASF payload data may enter the leaky bucket at irregular times and in irregular amounts, but must leave the bucket at a constant positive bit rate.</span></span> <span data-ttu-id="2ef4e-140">Aufgrund des Puffer Fensters gibt es eine mögliche Verzögerung zwischen dem Zeitpunkt, zu dem die Nutzlast in den Bucket gelangt und wann Sie verlässt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-140">Because of the buffer window, there is a possible delay between the time that payload enters the bucket and when it leaves.</span></span> <span data-ttu-id="2ef4e-141">Die maximale Verzögerung, die auftreten kann, ist *B* / *R*.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-141">The maximum delay that can occur is *B*/*R*.</span></span> <span data-ttu-id="2ef4e-142">Die Nutzlastdaten, die in den Bucket eingegeben werden, entsprechen der Präsentationszeit und dürfen niemals einen Überlauf des Bucket verursachen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-142">The payload data that enters into the bucket is according to the presentation time and must never overflow the bucket.</span></span> <span data-ttu-id="2ef4e-143">Zusätzlich zur Präsentationszeit verfügt jede Nutzlast auch über eine Sendezeit – die Zeit, zu der die Nutzlastdaten den Bucket entsprechend der Bitrate verlassen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-143">In addition to the presentation time, each payload also has a send time—the time at which the payload data leaves the bucket according to the bit rate.</span></span> <span data-ttu-id="2ef4e-144">Die Sendezeit muss vor der Präsentationszeit liegen, um sicherzustellen, dass jede Nutzlast den Bucket vor oder während der Präsentationszeit verlässt, wenn der Leaky-Bucket fast voll ist.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-144">Send time must be earlier than the presentation time to ensure that, when the leaky bucket gets close to being full, every payload leaves the bucket before or at its presentation time.</span></span> <span data-ttu-id="2ef4e-145">Um dies zu erreichen, werden die Präsentations Zeiten um den *B* / *R* -Wert (das *ein Vorlauf ausgeführt*) verschoben, und die Sendezeiten erhalten einen Anfang, beginnend bei Null.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-145">To accomplish this, the presentation times are shifted ahead by the *B*/*R* value (the *preroll*), and the send times get a head start starting at zero.</span></span> <span data-ttu-id="2ef4e-146">Die Sendezeit darf nicht später sein als die Präsentationszeit, da dies darauf hindeuten würde, dass die Nutzlast zu spät in den Bucket gelangt und nicht in das Datenobjekt eingeschlossen werden kann.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-146">The send time must be no later than the presentation time because that would indicate that the payload entered the bucket too late and cannot be included in the data object.</span></span> <span data-ttu-id="2ef4e-147">Der ein Vorlauf ausgeführt-Wert ist im [ASF-Header Objekt](asf-file-structure.md) enthalten.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-147">The preroll value is included in the [ASF Header Object](asf-file-structure.md) .</span></span>

<span data-ttu-id="2ef4e-148">Bei einem fehlerfreien Streaming über das Netzwerk müssen komprimierte Datenströme innerhalb des Medien Inhalts während der Wiedergabedauer eine Konstante Bitrate beibehält.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-148">For glitch-free streaming over the network, compressed streams within the media content must maintain a constant bit rate throughout the playback duration.</span></span> <span data-ttu-id="2ef4e-149">Das Modell "ASF Leaky Bucket" stellt sicher, dass Mediendaten mit konstanter Bitrate über das Netzwerk gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-149">The ASF leaky bucket model ensures that media data is sent across the network at a constant bit rate.</span></span> <span data-ttu-id="2ef4e-150">Die Parameter des "Leaky"-Bucket werden im Eigenschaften Objekt des erweiterten Streams des [ASF-Header Objekts](asf-file-structure.md)angegeben.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-150">The parameters of the leaky bucket are specified in the Extended Stream Properties Object of the [ASF Header Object](asf-file-structure.md).</span></span> <span data-ttu-id="2ef4e-151">In Microsoft Media Foundation werden Sie als Attribute für den Medientyp festgelegt, der den Stream darstellt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-151">In Microsoft Media Foundation, they are set as attributes on the media type that represents the stream.</span></span>

<span data-ttu-id="2ef4e-152">Die Lecks-Bucket-Werte werden sowohl in der ASF-Datei-Senke als auch im zugrunde liegenden ASF Multiplexer-Objekt und dem Windows Media Encoder definiert.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-152">The leaky bucket values are defined both in the ASF file sink and the underlying ASF multiplexer object, and the Windows Media encoder.</span></span> <span data-ttu-id="2ef4e-153">Diese Werte können gleich oder unterschiedlich sein.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-153">These values could be same or different.</span></span> <span data-ttu-id="2ef4e-154">Stellen Sie sich beispielsweise ein Streamingszenario vor, das erfordert, dass die Audiobeispiele später als die Videobeispiele zugestellt werden, damit die Datei ohne Latenz gestreamt werden kann.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-154">For example, consider a streaming scenario, which requires the audio samples to be delivered later than the video samples so that the file can be streamed without latency.</span></span> <span data-ttu-id="2ef4e-155">Um dies zu erreichen, kann der UNY-Bucket des Audiodatenstroms in der Medien Senke auf einen Wert festgelegt werden, der höher als der im Windows Media-Audioencoder festgelegte Wert ist.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-155">To achieve this, the audio stream's leaky bucket in the media sink can be set to a value higher than the value set in the Windows Media audio encoder.</span></span>

<span data-ttu-id="2ef4e-156">Um B/R-Werte im Encoder festzulegen, muss die Anwendung die [**\_ bmax**](mfpkey-bmaxproperty.md) -Eigenschaften " [**mfpkey \_ Ravg**](mfpkey-ravgproperty.md)", " [**mfpkey \_ bavg**](mfpkey-bavgproperty.md)", " [**mfpkey \_ Rmax**](mfpkey-rmaxproperty.md)" und "mfpkey" festlegen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-156">To set B/R values in the encoder, the application must set the [**MFPKEY\_RAVG**](mfpkey-ravgproperty.md), [**MFPKEY\_BAVG**](mfpkey-bavgproperty.md), [**MFPKEY\_RMAX**](mfpkey-rmaxproperty.md), and [**MFPKEY\_BMAX**](mfpkey-bmaxproperty.md) properties.</span></span> <span data-ttu-id="2ef4e-157">Weitere Informationen zum Festlegen von Eigenschaften im Encoder finden Sie unter [Codierungs Eigenschaften](configuring-the-encoder.md).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-157">For information about setting properties in the encoder, see [Encoding Properties](configuring-the-encoder.md).</span></span>

## <a name="the-bucket-in-use"></a><span data-ttu-id="2ef4e-158">Der verwendete Bucket</span><span class="sxs-lookup"><span data-stu-id="2ef4e-158">The Bucket in Use</span></span>

<span data-ttu-id="2ef4e-159">Das Ziel eines Encoders besteht darin sicherzustellen, dass der Inhalt niemals den Puffer überschreitet.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-159">The goal of an encoder is to ensure that the content never overflows the buffer.</span></span> <span data-ttu-id="2ef4e-160">Der Encoder verwendet die Werte für Bitrate und Puffer Fenster als Handbücher.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-160">The encoder uses the bit rate and buffer window values as guides.</span></span> <span data-ttu-id="2ef4e-161">Die tatsächliche Anzahl von Bits, die über einen beliebigen Zeitraum des Puffer Fensters übergeben wird, darf nicht größer als die doppelte Größe des Puffers sein.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-161">The actual number of bits passed over any period of time equal to the buffer window can never be greater than twice the size of the buffer.</span></span>

<span data-ttu-id="2ef4e-162">Sehen Sie sich das folgende Beispiel an: Sie haben einen 3-Gallone-Bucket mit einem Loch darin, in dem 1 Gallone pro Minute fließen kann.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-162">Consider the following example: You have a 3-gallon bucket with a hole in it through which 1 gallon can flow per minute.</span></span> <span data-ttu-id="2ef4e-163">Sie platzieren den Bucket unter einem Spigot und öffnen das Ventil, um Wasser mit einer Rate von 1 Gallone pro Minute auszulassen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-163">You put the bucket under a spigot and open the valve to let out water at a rate of 1 gallon per minute.</span></span> <span data-ttu-id="2ef4e-164">Der Wasserfluss fließt so schnell wie möglich aus dem Bucket, ohne zusätzliche im Bucket.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-164">The water flows out of the bucket as quickly as it enters, leaving no extra in the bucket.</span></span> <span data-ttu-id="2ef4e-165">Dann erhöhen Sie den Flow von Spigot auf 2 Gallonen pro Minute.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-165">Then you increase the flow from the spigot to 2 gallons per minute.</span></span> <span data-ttu-id="2ef4e-166">Jede Minute, in der sich der Wasserfluss ergibt, werden 2 Gallonen in den Bucket geleitet und 1 Gallone wird verworfen, sodass 1 Gallone im Bucket bleibt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-166">Each minute that the water flows at this rate, 2 gallons go into the bucket and 1 gallon leaks out, leaving 1 gallon in the bucket.</span></span> <span data-ttu-id="2ef4e-167">Am Ende der drei Minuten sind 6 Gallonen des Wassers in den Bucket gewechselt, drei Gallonen sind ausgelaufen, und der Bucket ist voll.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-167">At the end of 3 minutes, 6 gallons of water have gone into the bucket, 3 gallons have leaked out, and the bucket is full.</span></span>

<span data-ttu-id="2ef4e-168">In der Praxis wird die theoretisch maximale Datenrate für ein Intervall, das dem Puffer Fenster entspricht, niemals erreicht.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-168">In practice, the theoretical maximum data rate over an interval equal to the buffer window is never achieved.</span></span> <span data-ttu-id="2ef4e-169">Im vorherigen Beispiel wurde eine konstante Datenrate angenommen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-169">The previous example assumed a constant data rate.</span></span> <span data-ttu-id="2ef4e-170">Mit dem gleichen 3-Gallon-Bucket können Sie die Flowrate von Spigot auf 6 Gallonen pro Minute für eine Minute erhöhen und dann den Spigot für zwei Minuten deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-170">Given the same 3-gallon bucket, you could increase the flow rate from the spigot to 6 gallons per minute for one minute and then turn the spigot off for two minutes.</span></span> <span data-ttu-id="2ef4e-171">Obwohl sich die Gesamtmenge an Wasser in den Bucket innerhalb des theoretischen Höchstwerts für das Puffer Fenster befindet, bewirkt die Konzentration dieses Betrags in einen Teil des Fensters einen Überlauf des Bucket.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-171">Even though the total amount of water put into the bucket is within the theoretical maximum for the buffer window, the concentration of that amount into one part of the window causes the bucket to overflow.</span></span> <span data-ttu-id="2ef4e-172">Bei 6 Gallonen pro Minute wird der 3-Gallon-Bucket kurz nach 30 Sekunden überlaufen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-172">At 6 gallons per minute, the 3-gallon bucket overflows shortly after 30 seconds pass.</span></span> <span data-ttu-id="2ef4e-173">Daher hängt die tatsächliche maximale Datenmenge, die für die Dauer eines beliebigen Intervalls gleich der Puffer Fenster Einstellung an den Puffer übermittelt werden kann, von der Größe einzelner Stichproben und der übermittelten ab.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-173">Therefore, the actual maximum amount of data that can be delivered to the buffer over the duration of any interval equal to the buffer window setting depends upon the size of individual samples and when they are delivered.</span></span>

<span data-ttu-id="2ef4e-174">Bisher haben die Beispiele nur den vom Decoder verwendeten Puffer behandelt, aber auch der Encoder verwendet einen unkomprimierten Bucket-Puffer, der den komprimierten Inhalt erstellt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-174">So far the examples have only discussed the buffer used by the decoder, but a leaky bucket buffer is also used by the encoder which creates the compressed content.</span></span> <span data-ttu-id="2ef4e-175">Der Encoder führt alle Anpassungen aus, die für die Komprimierungs Algorithmen erforderlich sind, um die Bitrate der komprimierten Stichproben innerhalb der durch die Bitrate und das Puffer Fenster beschriebenen Grenzen beizubehalten. dabei wird vorausgesetzt, dass die Beispiele mit konstanter Rate an den Decoder übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-175">The encoder makes whatever adjustments are necessary to the compression algorithms to keep the bit rate of the compressed samples within the boundaries described by the bit rate and buffer window, assuming that the samples will be delivered to the decoder at a constant rate.</span></span> <span data-ttu-id="2ef4e-176">Sie können sich den Encoder-Bucket als Spiegelung des Decoder-Bucket vorstellen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-176">You can think of the encoder bucket as mirroring the decoder bucket.</span></span> <span data-ttu-id="2ef4e-177">Der Encoder-Bucket wird mit einer Variablen Rate aufgefüllt, die durch die Größe der einzelnen Stichproben und die Werte mit einer konstanten Rate, die der durchschnittlichen Bitrate entspricht, bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-177">The encoder bucket is filled at a variable rate determined by the size of the individual samples and leaks at a constant rate equal to the average bit rate.</span></span>

<span data-ttu-id="2ef4e-178">Sehen Sie sich das folgende Beispiel eines Encoders und Decoders an, die über ein Netzwerk miteinander verbunden sind.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-178">Consider the following example of an encoder and decoder connected together over a network.</span></span> <span data-ttu-id="2ef4e-179">Sie codieren eine Videodatei mit 30 Frames pro Sekunde mit einer Bitrate von 6.000 Bits pro Sekunde und einem Puffer Fenster von 3 Sekunden (eine Gesamt Puffergröße von 18.000 Bits).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-179">You encode a video file at 30 frames per second with a bit rate of 6,000 bits per second and a buffer window of 3 seconds (a total buffer size of 18,000 bits).</span></span> <span data-ttu-id="2ef4e-180">Das erste Beispiel wird als Keyframe codiert und erfordert 7.000 Bits.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-180">The first sample is encoded as a key frame and takes up 7,000 bits.</span></span> <span data-ttu-id="2ef4e-181">Der Encoder-Puffer enthält jetzt 7.000 Bits.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-181">The encoder buffer now contains 7,000 bits.</span></span> <span data-ttu-id="2ef4e-182">Die nächsten 29 Frames sind alle Delta Frames, die insgesamt 3.000 Bits betragen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-182">The next 29 frames are all delta frames that total 3,000 bits.</span></span> <span data-ttu-id="2ef4e-183">Der erste zweite Inhalt (30 Frames) würde also den Puffer in 10.000 Bits einfügen, wenn nichts zurückgegeben würde. Wir wissen, dass die Bitrate des Streams 6.000 Bits pro Sekunde beträgt. Nachdem die erste Sekunde von codiertem Inhalt in den Codierungs Puffer eingefügt wurde, wird der Füllwert auf 4.000 Bits festgestellt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-183">So the first second of content (30 frames) would put the buffer fullness at 10,000 bits if nothing were leaking out. We know that the bit rate of the stream is 6,000 bits per second, so after the first second of encoded content is put in the encoder buffer, the fullness drops to 4,000 bits.</span></span> <span data-ttu-id="2ef4e-184">In der Decodierungs Anwendung wird dieser Stream an den Decoder-Puffer mit 6.000 Bits pro Sekunde übermittelt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-184">In the decoding application, this stream is delivered to the decoder buffer at 6,000 bits per second.</span></span> <span data-ttu-id="2ef4e-185">Nach einer Sekunde enthält der Puffer 6.000 Bits.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-185">After one second, the buffer contains 6,000 bits.</span></span> <span data-ttu-id="2ef4e-186">Das erste Beispiel enthält 7.000 Bits, sodass der Decoder-Puffer mehr ausgefüllt werden muss, bevor der Decoder mit dem Entfernen von Beispielen beginnt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-186">The first sample contains 7,000 bits, so the decoder buffer must be filled more before the decoder begins removing samples.</span></span>

## <a name="setting-leaky-bucket-values-for-asf-streams"></a><span data-ttu-id="2ef4e-187">Festlegen von Leaky-Bucket-Werten für ASF-Streams</span><span class="sxs-lookup"><span data-stu-id="2ef4e-187">Setting Leaky Bucket Values for ASF Streams</span></span>

<span data-ttu-id="2ef4e-188">In einem Datei Codierungs Szenario kann eine Anwendung die Werte für den Leaky-Bucket beim Konfigurieren der Streams im [ASF-Profil](asf-profile.md)festlegen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-188">In a file-encoding scenario, an application can set the leaky bucket values while configuring the streams in the [ASF Profile](asf-profile.md).</span></span>

<span data-ttu-id="2ef4e-189">Nachdem Sie den Stream erstellt und einen Verweis auf die [**imfasfstreamconfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) -Schnittstelle des Streams erstellt haben, können Sie die Werte mithilfe der folgenden Attribute festlegen:</span><span class="sxs-lookup"><span data-stu-id="2ef4e-189">After you have created the stream and have a reference to the stream's [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) interface, you can set the values by using the following attributes:</span></span>

-   <span data-ttu-id="2ef4e-190">[**MF \_ Asfstreamconfig \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) (durchschnittliche Anzahl von Lecks-Bucket-Werten)</span><span class="sxs-lookup"><span data-stu-id="2ef4e-190">[**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) (average leaky bucket values)</span></span>
-   <span data-ttu-id="2ef4e-191">[**MF \_ Asfstreamconfig \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) (maximale Anzahl von unzulässigen Bucket-Werten)</span><span class="sxs-lookup"><span data-stu-id="2ef4e-191">[**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) (maximum leaky bucket values)</span></span>

<span data-ttu-id="2ef4e-192">Weitere Informationen zum Hinzufügen von Streams und zum erhalten des **imfasfstreamconfig** -Zeigers finden [Sie unter Hinzufügen von streaminformationen zur ASF-Datei Senke](adding-stream-information-to-the-asf-file-sink.md).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-192">For information about adding streams and getting the **IMFASFStreamConfig** pointer, see [Adding Stream Information to the ASF File Sink](adding-stream-information-to-the-asf-file-sink.md).</span></span>

<span data-ttu-id="2ef4e-193">Diese Werte enthalten die folgenden Informationen:</span><span class="sxs-lookup"><span data-stu-id="2ef4e-193">These values contain the following set of information:</span></span>

-   <span data-ttu-id="2ef4e-194">Durchschnittliche Bitrate: Geben Sie die durchschnittliche Bitrate aus dem Ausgabe Medientyp an, der während der Medientyp Aushandlung ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-194">Average bit rate: Get the average bit rate from the output media type that is selected during media type negotiation.</span></span> <span data-ttu-id="2ef4e-195">Verwenden Sie das Attribut " [**MF \_ MT \_ -audiodurchschn. \_ \_ Byte \_ pro \_ Sekunde**](mf-mt-audio-avg-bytes-per-second-attribute.md) " (für audiodatenstreams) oder das " [**MF \_ MT \_ AVG \_ Bitrate**](mf-mt-avg-bitrate-attribute.md) "-Attribut (für Videostreams).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-195">Use the [**MF\_MT\_AUDIO\_AVG\_BYTES\_PER\_SECOND**](mf-mt-audio-avg-bytes-per-second-attribute.md) attribute (for audio streams) or the [**MF\_MT\_AVG\_BITRATE**](mf-mt-avg-bitrate-attribute.md) attribute (for video streams).</span></span>
-   <span data-ttu-id="2ef4e-196">Puffer Fenster: Wenn Sie über eine Instanz des Encoders verfügen und Ausgabemedien Typen ausgehandelt haben, können Sie diesen Wert zu einem späteren Zeitpunkt aktualisieren, indem Sie den Encoder für die [**iwmcodecleakybucket**](/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmcodecleakybucket) -Schnittstelle Abfragen und anschließend [**iwmcodecleakybucket:: getbuffersizebits**](../wmformat/iwmcodecleakybucket-getbuffersizebits.md) (wmcodecigesichter. h, wmcodecdspuuid</span><span class="sxs-lookup"><span data-stu-id="2ef4e-196">Buffer window: If you have an instance of the encoder and have negotiated output media types, you can update this value later by querying the encoder for the [**IWMCodecLeakyBucket**](/windows/desktop/api/wmcodecdsp/nn-wmcodecdsp-iwmcodecleakybucket) interface and then calling [**IWMCodecLeakyBucket::GetBufferSizeBits**](../wmformat/iwmcodecleakybucket-getbuffersizebits.md) (wmcodecifaces.h, wmcodecdspuuid.lib).</span></span> <span data-ttu-id="2ef4e-197">Andernfalls verwenden Sie den Standardwert von 3000 Millisekunden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-197">Otherwise, Use the default value of 3000 milliseconds.</span></span>
-   <span data-ttu-id="2ef4e-198">Anfängliche Puffergröße: wird auf 0 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-198">Initial buffer size: Set to 0.</span></span>

<span data-ttu-id="2ef4e-199">Die Werte, die von der Anwendung bereitgestellt werden, hängen vom Codierungstyp und dem Medientyp des Streams ab.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-199">The values provided by the application depend on the type of encoding and the media type of the stream.</span></span> <span data-ttu-id="2ef4e-200">Beispielsweise erfordert die [Konstante Bitrate-Codierung](constant-bit-rate-encoding.md) eine vorgegebene festgelegte Bitrate und ein Puffer Fenster.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-200">For example, [Constant Bit Rate Encoding](constant-bit-rate-encoding.md) requires a predetermined fixed bit rate and a buffer window.</span></span> <span data-ttu-id="2ef4e-201">Die Anwendung kann diese Lecks-Bucket-Werte angeben, indem Sie die Eigenschaft " [**mfpkey \_ videowindow**](mfpkey-videowindowproperty.md) Encoding" und das Attribut " [**MF \_ asfstreamconfig \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) " für den Datenstrom festlegt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-201">The application can specify these leaky bucket values by setting the [**MFPKEY\_VIDEOWINDOW**](mfpkey-videowindowproperty.md) encoding property and the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) attribute on the stream.</span></span> <span data-ttu-id="2ef4e-202">Die angegebenen Puffer Fenster Werte werden verwendet, um sicherzustellen, dass für die codierte Datei die richtigen Sendezeiten in den Datenpaketen gekennzeichnet sind und der ein Vorlauf ausgeführt-Wert im Objekt des ASF-Headers angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-202">The specified buffer window values are used to make sure that the encoded file has the correct send times marked on the data packets and the preroll value appears in the ASF Header Object.</span></span> <span data-ttu-id="2ef4e-203">Es genügt, dass Sie " **MF \_ asfstreamconfig \_ LEAKYBUCKET1** " festlegen, da diese angegebenen Werte in das MF-Attribut " [**\_ asfstreamconfig \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) " kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-203">It is sufficient to set **MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1** because these specified values are copied into the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) attribute.</span></span>

<span data-ttu-id="2ef4e-204">Für den 2-Durchlauf-Codierungs Modus müssen Sie beide Attribute festlegen, um die durchschnittlichen und maximalen Werte anzugeben.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-204">For 2-pass encoding modes you need to set both of these attributes to specify the average and maximum values.</span></span>

<span data-ttu-id="2ef4e-205">Bei der VBR-Codierung kann die Anwendung nach Abschluss der Codierungs Übergabe die vom Encoder verwendeten Werte vom Typ "Leaky Bucket" Abfragen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-205">For VBR encoding, the application can query for the leaky bucket values used by the encoder only after the encoding pass is complete.</span></span> <span data-ttu-id="2ef4e-206">Aus diesem Grund kann die Anwendung beim Konfigurieren der Medien Senke festlegen, dass die Attribute oder Eigenschaften, die sich auf ein unkompatibilitäts Bucket beziehen, festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-206">Therefore, while configuring the media sink, the application can choose not to set the attributes or properties related to leaky buckets.</span></span> <span data-ttu-id="2ef4e-207">Nach der Codierung muss die Anwendung den Encoder nach den Eigenschaften " [**mfpkey \_ Ravg**](mfpkey-ravgproperty.md)", " [**mfpkey \_ bavg**](mfpkey-bavgproperty.md)", " [**mfpkey \_ Rmax**](mfpkey-rmaxproperty.md)" und " [**mfpkey \_ bmax**](mfpkey-bmaxproperty.md) " Abfragen und Sie in der Medien Senke festlegen, damit die exakten Werte im Header Objekt widergespiegelt werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-207">After encoding, the application must query the encoder for the [**MFPKEY\_RAVG**](mfpkey-ravgproperty.md), [**MFPKEY\_BAVG**](mfpkey-bavgproperty.md), [**MFPKEY\_RMAX**](mfpkey-rmaxproperty.md), and [**MFPKEY\_BMAX**](mfpkey-bmaxproperty.md) properties and set them in the media sink so that the accurate values are reflected in the Header Object.</span></span> <span data-ttu-id="2ef4e-208">Ein Codebeispiel zum Aktualisieren der Werte für die VBR-Codierung finden Sie unter "Aktualisieren der Codierungs Eigenschaften in der Datei Senke" in [Tutorial: 1-Pass Windows Media Encoding](tutorial--1-pass-windows-media-encoding.md).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-208">For code example about how to update the values for VBR encoding, see "Update Encoding Properties in the File Sink" in [Tutorial: 1-Pass Windows Media Encoding](tutorial--1-pass-windows-media-encoding.md).</span></span>

<span data-ttu-id="2ef4e-209">Wenn Sie Windows Media-Inhalte aus der Quelle in die Medien Senke ohne Codierung kopieren, müssen die Werte für den Leaky-Bucket in der Medien Senke festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-209">If you are copying Windows Media content from source to media sink without encoding, the leaky bucket values must be set in the media sink.</span></span>

## <a name="leaky-bucket-values-in-the-asf-multiplexer"></a><span data-ttu-id="2ef4e-210">Leaky-Bucket-Werte im ASF-Multiplexer</span><span class="sxs-lookup"><span data-stu-id="2ef4e-210">Leaky Bucket Values in the ASF Multiplexer</span></span>

<span data-ttu-id="2ef4e-211">In Media Foundation werden die Werte für den Leaky-Hashwert vom [ASF Multiplexer](asf-multiplexer.md) verwendet, um die internen Lecks-Bucket-Werte einzurichten, die für die Generierung von Datenpaketen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-211">In Media Foundation, the leaky bucket values are used by the [ASF Multiplexer](asf-multiplexer.md) to set up the internal leaky bucket values that it uses to generate data packets.</span></span> <span data-ttu-id="2ef4e-212">Die Nutzlast ist in einem Medien Beispiel enthalten, und eine Reihe von Medien Beispielen bilden ein ASF-Datenpaket.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-212">The payload is contained within a media sample and a series of media samples constitutes an ASF data packet.</span></span> <span data-ttu-id="2ef4e-213">Basierend auf den unkonstanten Bucket-Werten und der Präsentationszeit weist der Multiplexer eine Sendezeit für jedes Medien Beispiel zu, sodass die Bitraten der über das Netzwerk gesendeten Pakete zu einer konstanten Bitrate (*R*) werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-213">Based on the leaky bucket values and the presentation time, the multiplexer assigns a send time for each media sample so that the bit rates of the packets being sent across the network is at a constant bit rate (*R*).</span></span>

<span data-ttu-id="2ef4e-214">Eine Anwendung kann im Multiplexer nicht direkt Werte für "Leaky Bucket" festlegen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-214">An application cannot set leaky bucket values in the multiplexer directly.</span></span> <span data-ttu-id="2ef4e-215">Die Werte müssen in der ASF-Medien Senke bereitgestellt werden, mit der die entsprechenden Werte für den Multiplexer festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-215">The values must be provided on the ASF media sink, which sets the appropriate values on the multiplexer.</span></span> <span data-ttu-id="2ef4e-216">Die in [**MF \_ asfstreamconfig \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) und [**MF \_ asfstreamconfig \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) festgelegten Werte werden vom Multiplexer verwendet, um zu überprüfen, ob die an die ASF-Medien Senke gesendeten Beispiele mithilfe der angegebenen Werte generiert werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-216">The values set in [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) and [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) are used by the multiplexer to validate the samples sent to the ASF media sink are generated by using the specified values.</span></span>

## <a name="updating-leaky-bucket-values-in-the-asf-media-sink"></a><span data-ttu-id="2ef4e-217">Aktualisieren von Leaky-Bucket-Werten in der ASF-Medien Senke</span><span class="sxs-lookup"><span data-stu-id="2ef4e-217">Updating Leaky Bucket Values in the ASF Media Sink</span></span>

<span data-ttu-id="2ef4e-218">Eine Anwendung kann die Lecks-Bucket-Werte auf Streamebene (festgelegt im ASF-Profil während der Datenstrom Erstellung) überschreiben, indem die [**mfpkey \_ asfstreamsink \_ korrigiert \_ leakybucket**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) -Eigenschaft im Eigenschaften Speicher der Medien Senke festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-218">An application can overwrite the stream-level leaky bucket values (set in the ASF profile during stream creation) by setting the [**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) property in the media sink's property store.</span></span> <span data-ttu-id="2ef4e-219">Um einen Verweis auf den Eigenschaften Speicher zu erhalten, verwenden Sie das von der Medien Senke implementierte ContentInfo-Objekt.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-219">To get a reference to the property store, use the ContentInfo object implemented by the media sink.</span></span> <span data-ttu-id="2ef4e-220">Weitere Informationen finden Sie unter [Festlegen von Eigenschaften in der Datei Senke](setting-properties-in-the-file-sink.md).</span><span class="sxs-lookup"><span data-stu-id="2ef4e-220">For more information, see [Setting Properties in the File Sink](setting-properties-in-the-file-sink.md).</span></span>

<span data-ttu-id="2ef4e-221">**Hinweis**  Dieser Vorgang ist nur für Audiostreams zulässig.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-221">**Note**  This operation is only allowed for audio streams.</span></span>

<span data-ttu-id="2ef4e-222">Diese Eigenschaft muss festgelegt werden, nachdem Sie den Ausgabetyp für den Encoder festgelegt haben.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-222">This property must be set after you have set the output type on the encoder.</span></span> <span data-ttu-id="2ef4e-223">Basierend auf der Bitrate, die im Medientyp festgelegt ist, berechnet der Encoder die Puffergröße, um sicherzustellen, dass die generierten Medien Beispiele niemals einen Überlauf des Puffers verursachen.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-223">Based on the bit rate set in the media type, the encoder calculates the buffer size to ensure that the generated media samples never overflow the buffer.</span></span> <span data-ttu-id="2ef4e-224">Der Encoder nimmt während der Komprimierung erforderliche Anpassungen vor, um die Bitrate der komprimierten Stichproben innerhalb der Grenzen beizubehalten, die durch die Bitrate und das Puffer Fenster beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-224">The encoder makes necessary adjustments during compression to keep the bit rate of the compressed samples within the boundaries described by the bit rate and buffer window.</span></span>

<span data-ttu-id="2ef4e-225">Legen Sie ähnlich wie bei den Datenstrom-Konfigurations Attributen für leckige Bucket die durchschnittliche Bitrate und die Puffergröße sowie die anfängliche Puffergröße in einem Array von DWords fest.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-225">Similar to the stream configuration attributes for leaky buckets, set the average bit rate and the buffer size, and the initial buffer fullness in an array of DWORDs.</span></span> <span data-ttu-id="2ef4e-226">Weitere Informationen finden Sie im Abschnitt "Festlegen von Lecks-Bucket-Werten für ASF-Streams" in diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="2ef4e-226">For more information, see "Setting Leaky Bucket Values for ASF Streams" section in this topic.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2ef4e-227">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="2ef4e-227">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2ef4e-228">Unterstützung von ASF in Media Foundation</span><span class="sxs-lookup"><span data-stu-id="2ef4e-228">ASF Support in Media Foundation</span></span>](asf-support-in-media-foundation.md)
</dt> <dt>

[<span data-ttu-id="2ef4e-229">Windows Media-Codecs</span><span class="sxs-lookup"><span data-stu-id="2ef4e-229">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 
