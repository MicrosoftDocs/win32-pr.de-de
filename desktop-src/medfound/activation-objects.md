---
description: Aktivierungs Objekte
ms.assetid: 767d5f1c-2b8d-43b6-916b-035129e93204
title: Aktivierungs Objekte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa8741cbfa8bc3801a23b4976e60c0a3ad028b0e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104129556"
---
# <a name="activation-objects"></a><span data-ttu-id="6d697-103">Aktivierungs Objekte</span><span class="sxs-lookup"><span data-stu-id="6d697-103">Activation Objects</span></span>

<span data-ttu-id="6d697-104">Ein *Aktivierungs Objekt* ist ein Hilfsobjekt, das verwendet wird, um ein anderes Objekt zu erstellen, das einer Klassenfactory ähnelt.</span><span class="sxs-lookup"><span data-stu-id="6d697-104">An *activation object* is a helper object that is used to create another object, somewhat similar to a class factory.</span></span> <span data-ttu-id="6d697-105">Aktivierungs Objekte machen die [**imfaktivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="6d697-105">Activation objects expose the [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) interface.</span></span>

<span data-ttu-id="6d697-106">Mit einem Aktivierungs Objekt können Sie die Erstellung des Zielobjekts verzögern, da Sie einen [**unfaktivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) -Zeiger halten können, ohne das Zielobjekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6d697-106">An activation object lets you defer the creation of the target object, because you can hold onto an [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) pointer without creating the target object.</span></span> <span data-ttu-id="6d697-107">Aktivierungs Objekte können auch serialisiert und daher zum Erstellen des Zielobjekts in einem anderen Prozess verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6d697-107">Activation objects can also be serialized, and thus used to create the target object in another process.</span></span> <span data-ttu-id="6d697-108">Beispielsweise werden Aktivierungs Objekte verwendet, um Pipeline Komponenten aus dem Anwendungsprozess in den PMP-Prozess (Protected Media Path) zu Mars Hallen.</span><span class="sxs-lookup"><span data-stu-id="6d697-108">For example, activation objects are used to marshal pipeline components from the application process to the protected media path (PMP) process.</span></span> <span data-ttu-id="6d697-109">Aktivierungs Objekte werden auch von bestimmten Enumerationsfunktionen verwendet, die eine Liste von **imfaktivezeigern** zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="6d697-109">Activation objects are also used by certain enumeration functions that return a list of **IMFActivate** pointers.</span></span> <span data-ttu-id="6d697-110">Bevor die Anwendung das Zielobjekt erstellt, kann Sie Informationen über das Objekt erhalten, indem die Attribute für das Aktivierungs Objekt untersucht werden.</span><span class="sxs-lookup"><span data-stu-id="6d697-110">Before the application creates the target object, it can get information about the object by examining attributes on the activation object.</span></span>

<span data-ttu-id="6d697-111">Um das Zielobjekt aus einem Aktivierungs Objekt zu erstellen, rufen Sie die [**imfactivate:: activateobject**](/windows/desktop/api/mfobjects/nf-mfobjects-imfactivate-activateobject) -Methode auf.</span><span class="sxs-lookup"><span data-stu-id="6d697-111">To create the target object from an activation object, call the [**IMFActivate::ActivateObject**](/windows/desktop/api/mfobjects/nf-mfobjects-imfactivate-activateobject) method.</span></span> <span data-ttu-id="6d697-112">Der Aufrufer muss [**imfaktivate:: shutdownobject**](/windows/desktop/api/mfobjects/nf-mfobjects-imfactivate-shutdownobject) aufgerufen werden, wenn er mithilfe des erstellten Objekts abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="6d697-112">The caller must call [**IMFActivate::ShutdownObject**](/windows/desktop/api/mfobjects/nf-mfobjects-imfactivate-shutdownobject) when it is done using the created object.</span></span> <span data-ttu-id="6d697-113">Häufig erstellt die Anwendung das Aktivierungs Objekt, und die Medien Sitzung ruft **activateobject** auf.</span><span class="sxs-lookup"><span data-stu-id="6d697-113">Often the application creates the activation object, and the Media Session calls **ActivateObject**.</span></span> <span data-ttu-id="6d697-114">In diesem Fall muss die Medien Sitzung, nicht die Anwendung, **shutdownobject** aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="6d697-114">In that case, the Media Session, not the application, must call **ShutdownObject**.</span></span> <span data-ttu-id="6d697-115">In anderen Situationen erhält die Anwendung einen [**imfaktivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) -Zeiger von der Medien Sitzung, und die Anwendung ruft **activateobject** und **shutdownobject** auf.</span><span class="sxs-lookup"><span data-stu-id="6d697-115">In other situations, the application receives an [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) pointer from the Media Session, and the application calls **ActivateObject** and **ShutdownObject**.</span></span> <span data-ttu-id="6d697-116">(Informationen hierzu finden Sie beispielsweise [unter Wiedergabe geschützter Mediendateien](how-to-play-protected-media-files.md).)</span><span class="sxs-lookup"><span data-stu-id="6d697-116">(For example, see [How to Play Protected Media Files](how-to-play-protected-media-files.md).)</span></span>

<span data-ttu-id="6d697-117">Aktivierungs Objekte können über Attribute verfügen, und die [**imfaktivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) -Schnittstelle erbt die [**imfattributes**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="6d697-117">Activation objects can have attributes, and the [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) interface inherits the [**IMFAttributes**](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes) interface.</span></span> <span data-ttu-id="6d697-118">Einige Aktivierungs Objekte verwenden Attribute, um das erstellte Objekt zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="6d697-118">Some activation objects use attributes to configure the created object.</span></span> <span data-ttu-id="6d697-119">Die spezifischen Attribute, die von den einzelnen Objekten unterstützt werden, sind in der Referenz für die Erstellungs Funktion dieses Aktivierungs Objekts dokumentiert.</span><span class="sxs-lookup"><span data-stu-id="6d697-119">The specific attributes supported by each object are documented in the reference for that activation object's creation function.</span></span> <span data-ttu-id="6d697-120">Legen Sie die Attribute mit dem **imfaktivate** -Zeiger fest, den Sie von der Funktion erhalten.</span><span class="sxs-lookup"><span data-stu-id="6d697-120">Set the attributes using the **IMFActivate** pointer that you receive from the function.</span></span>

<span data-ttu-id="6d697-121">Bei geschützter Wiedergabe werden Aktivierungs Objekte an den PMP-Prozess gemarshallt.</span><span class="sxs-lookup"><span data-stu-id="6d697-121">For protected playback, activation objects are marshaled to the PMP process.</span></span> <span data-ttu-id="6d697-122">Um das Marshalling zu unterstützen, muss ein Aktivierungs Objekt die **IPersistStream** -Schnittstelle verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="6d697-122">To support marshaling, an activation object must expose the **IPersistStream** interface.</span></span> <span data-ttu-id="6d697-123">Außerdem müssen das Aktivierungs Objekt und das erstellte Objekt vertrauenswürdige Komponenten sein, wenn das PMP in einem geschützten Prozess ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="6d697-123">In addition, both the activation object and the created object must be trusted components if the PMP is running in a protected process.</span></span> <span data-ttu-id="6d697-124">Dies ist keine Anforderung, wenn das PMP in einen ungeschützten Prozess geladen wird.</span><span class="sxs-lookup"><span data-stu-id="6d697-124">This is not a requirement when the PMP is loaded in an unprotected process.</span></span>

<span data-ttu-id="6d697-125">Wenn Sie ein benutzerdefiniertes Pipeline Objekt (z. b. eine Medien Senke) im PMP-Prozess verwenden möchten, müssen Sie ein Aktivierungs Objekt für das Pipeline Objekt implementieren:</span><span class="sxs-lookup"><span data-stu-id="6d697-125">To use a custom pipeline object (such as a media sink) inside the PMP process, you must implement an activation object for your pipeline object:</span></span>

-   <span data-ttu-id="6d697-126">Das Aktivierungs Objekt muss [**imfaktivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) und **IPersistStream** verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="6d697-126">The activation object must expose [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) and **IPersistStream**.</span></span>
-   <span data-ttu-id="6d697-127">Die **ipersistent:: GetClassID** -Methode des Aktivierungs Objekts muss die CLSID des Aktivierungs Objekts zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="6d697-127">The activation object's **IPersist::GetClassID** method must return the activation object's CLSID.</span></span>
-   <span data-ttu-id="6d697-128">Optional können Sie die **IPersistStream:: Save** -Methode und die **IPersistStream:: Load** -Methode implementieren, um alle Daten zu Mars Hallen, die Sie benötigen, um das Aktivierungs Objekt zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="6d697-128">Optionally, you can implement the **IPersistStream::Save** and **IPersistStream::Load** methods to marshal any data that you need to configure your activation object.</span></span>

<span data-ttu-id="6d697-129">Wenn die Medien Sitzung die Topologie innerhalb des PMP-Prozesses lädt, wird **cokreateinstance** aufgerufen, um eine neue Instanz Ihres Aktivierungs Objekts zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6d697-129">When the Media Session loads the topology inside the PMP process, it calls **CoCreateInstance** to create a new instance of your activation object.</span></span> <span data-ttu-id="6d697-130">Anschließend wird [**imfaktivate:: activateobject**](/windows/desktop/api/mfobjects/nf-mfobjects-imfactivate-activateobject) aufgerufen, um das Pipeline Objekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6d697-130">Then it calls [**IMFActivate::ActivateObject**](/windows/desktop/api/mfobjects/nf-mfobjects-imfactivate-activateobject) to create the pipeline object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6d697-131">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6d697-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6d697-132">Media Foundation Plattform-APIs</span><span class="sxs-lookup"><span data-stu-id="6d697-132">Media Foundation Platform APIs</span></span>](media-foundation-platform-apis.md)
</dt> <dt>

[<span data-ttu-id="6d697-133">**Imfaktivate**</span><span class="sxs-lookup"><span data-stu-id="6d697-133">**IMFActivate**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate)
</dt> </dl>

 

 



