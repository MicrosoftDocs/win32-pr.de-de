---
description: Verwenden der Video-Mixer-Steuerelemente
ms.assetid: 475996c6-a205-4133-8882-f55beaf9f8fd
title: Verwenden der Video-Mixer-Steuerelemente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0a8a062c6f984e0eac0128bd67c72bf691c95af6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104042039"
---
# <a name="using-the-video-mixer-controls"></a><span data-ttu-id="27cd4-103">Verwenden der Video-Mixer-Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="27cd4-103">Using the Video Mixer Controls</span></span>

<span data-ttu-id="27cd4-104">Der EVR-Mixer bietet mehrere Schnittstellen, die eine Anwendung verwenden kann, um zu steuern, wie der Mixer Video verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="27cd4-104">The EVR mixer provides several interfaces that an application can use to control how the mixer processes video.</span></span> <span data-ttu-id="27cd4-105">Diese Schnittstellen können entweder in DirectShow oder Media Foundation verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-105">These interfaces can be used in either DirectShow or Media Foundation.</span></span>



| <span data-ttu-id="27cd4-106">Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="27cd4-106">Interface</span></span>                                                      | <span data-ttu-id="27cd4-107">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="27cd4-107">Description</span></span>                                                                                                                                                                                                                                 |
|----------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="27cd4-108">[**IMF videomixerbitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="27cd4-108">[**IMFVideoMixerBitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) interface</span></span>   | <span data-ttu-id="27cd4-109">Alpha: kombiniert ein statisches Bitmap-Bild mit dem Video.</span><span class="sxs-lookup"><span data-stu-id="27cd4-109">Alpha-blends a static bitmap image onto the video.</span></span>                                                                                                                                                                                          |
| <span data-ttu-id="27cd4-110">[**IMF videomixercontrol**](/windows/desktop/api/evr/nn-evr-imfvideomixercontrol) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="27cd4-110">[**IMFVideoMixerControl**](/windows/desktop/api/evr/nn-evr-imfvideomixercontrol) interface</span></span> | <span data-ttu-id="27cd4-111">Steuert, wie das EVR Video-unter Ströme mischt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-111">Controls how the EVR mixes video substreams.</span></span>                                                                                                                                                                                                |
| <span data-ttu-id="27cd4-112">[**IMF videoprocessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="27cd4-112">[**IMFVideoProcessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) interface</span></span>       | <span data-ttu-id="27cd4-113">Steuert Farbanpassung, Bild Filter und andere Video Verarbeitungsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-113">Controls color adjustment, image filters, and other video processing capabilities.</span></span> <span data-ttu-id="27cd4-114">Diese Schnittstelle bietet Zugriff auf die Funktionalität, die vom Grafiktreiber implementiert wird, sodass die genauen Funktionen vom Grafiktreiber des Benutzers abhängen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-114">This interface provides access to functionality implemented by the graphics driver, so the exact capabilities will depend on the user's graphics driver.</span></span> |



 

<span data-ttu-id="27cd4-115">Die richtige Methode, um Zeiger auf diese Schnittstellen zu erhalten, hängt davon ab, ob Sie die DirectShow-Version von EVR oder die Media Foundation Version verwenden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-115">The correct way to get pointers to these interfaces depends on whether you are using the DirectShow version of the EVR or the Media Foundation version.</span></span> <span data-ttu-id="27cd4-116">Für den Media Foundation EVR hängt es auch davon ab, ob Sie den EVR direkt verwenden oder über die [Medien Sitzung](media-session.md)verwenden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-116">For the Media Foundation EVR, it also depends on whether you are using the EVR directly or using it through the [Media Session](media-session.md).</span></span> <span data-ttu-id="27cd4-117">(In der Regel verwendet eine Anwendung den EVR über die Medien Sitzung, nicht direkt).</span><span class="sxs-lookup"><span data-stu-id="27cd4-117">(Typically an application will use the EVR through the Media Session, not directly).</span></span>

<span data-ttu-id="27cd4-118">Um einen Zeiger auf eine dieser Schnittstellen zu erhalten, führen Sie folgende Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="27cd4-118">To get a pointer to any of these interfaces, do the following:</span></span>

1.  <span data-ttu-id="27cd4-119">Einen Zeiger auf die [**imfgetservice**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) -Schnittstelle für den EVR erhalten.</span><span class="sxs-lookup"><span data-stu-id="27cd4-119">Get a pointer to the [**IMFGetService**](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice) interface on the EVR.</span></span>

    -   <span data-ttu-id="27cd4-120">Wenn Sie den DirectShow-EVR-Filter verwenden, können Sie **QueryInterface** für den Filter aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-120">If you are using the DirectShow EVR filter, call **QueryInterface** on the filter.</span></span>

    -   <span data-ttu-id="27cd4-121">Wenn Sie die EVR-Medien Senke direkt verwenden, können Sie **QueryInterface** in der Medien Senke aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-121">If you are using the EVR media sink directly, call **QueryInterface** on the media sink.</span></span>

    -   <span data-ttu-id="27cd4-122">Wenn Sie die Medien Sitzung verwenden, können Sie **QueryInterface** in der Medien Sitzung aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-122">If you are using the Media Session, call **QueryInterface** on the Media Session.</span></span>

2.  <span data-ttu-id="27cd4-123">Wenn Sie die Medien Sitzung verwenden, warten Sie, bis die Medien Sitzung das Ereignis [mesessiontopologystatus](mesessiontopologystatus.md) mit dem Statuswert MF \_ topostatus Ready sendet \_ .</span><span class="sxs-lookup"><span data-stu-id="27cd4-123">If you are using the Media Session, wait for the Media Session to send the [MESessionTopologyStatus](mesessiontopologystatus.md) event with a status value of MF\_TOPOSTATUS\_READY.</span></span> <span data-ttu-id="27cd4-124">(Überspringen Sie diesen Schritt, wenn Sie die Medien Sitzung nicht verwenden.)</span><span class="sxs-lookup"><span data-stu-id="27cd4-124">(Skip this step if you are not using the Media Session.)</span></span>

3.  <span data-ttu-id="27cd4-125">Aufrufen von [**imfgetservice:: GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) zum Abrufen der Mixer-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="27cd4-125">Call [**IMFGetService::GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) to get the mixer interface.</span></span> <span data-ttu-id="27cd4-126">Verwenden Sie den Dienst Bezeichner Mr- \_ Video- \_ Mixer- \_ Dienst.</span><span class="sxs-lookup"><span data-stu-id="27cd4-126">Use the service identifier MR\_VIDEO\_MIXER\_SERVICE.</span></span>

## <a name="alpha-blending-a-bitmap-onto-the-video"></a><span data-ttu-id="27cd4-127">Alpha mischen einer Bitmap in das Video</span><span class="sxs-lookup"><span data-stu-id="27cd4-127">Alpha Blending a Bitmap onto the Video</span></span>

<span data-ttu-id="27cd4-128">Sie können die [**imfvideomixerbitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) -Schnittstelle verwenden, um während der Wiedergabe eine statische Bitmap auf das Video zu mischen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-128">You can use the [**IMFVideoMixerBitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) interface to alpha blend a static bitmap onto the video during playback.</span></span> <span data-ttu-id="27cd4-129">Sie können die Bitmap in einer Direct3D-Oberfläche speichern, die als **IDirect3DSurface9** -Zeiger angegeben ist, oder Sie verwenden eine GDI-Bitmap.</span><span class="sxs-lookup"><span data-stu-id="27cd4-129">You can store the bitmap in a Direct3D surface, specified as an **IDirect3DSurface9** pointer, or use a GDI bitmap.</span></span>

<span data-ttu-id="27cd4-130">Wenn Sie eine Direct3D-Oberfläche für die Bitmap verwenden, kann die-Oberfläche pro Pixel-Alpha-Daten enthalten, die verwendet werden, wenn das Bild von der Mischung gemischt wird.</span><span class="sxs-lookup"><span data-stu-id="27cd4-130">If you use a Direct3D surface for the bitmap, the surface can contain per-pixel alpha data, which will be used when the mixer alpha-blends the image.</span></span> <span data-ttu-id="27cd4-131">Alternativ können Sie einen Farbschlüssel definieren, d. –. eine einzelne Farbe, die überall transparent ist, wo Sie in der Bitmap angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="27cd4-131">Alternatively, you can define a color key—that is, a single color that will be transparent wherever it appears in the bitmap.</span></span> <span data-ttu-id="27cd4-132">Außerdem können Sie einen Alphawert angeben, der auf das gesamte Bild angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="27cd4-132">Also, you can specify an alpha value that will be applied to the entire image.</span></span> <span data-ttu-id="27cd4-133">Sie können auch ein Quell Rechteck zum Zuschneiden der Bitmap und ein Ziel Rechteck festlegen, um die Bitmap innerhalb des Video Rahmens zu positionieren.</span><span class="sxs-lookup"><span data-stu-id="27cd4-133">You can also set a source rectangle to crop the bitmap, and a destination rectangle to position the bitmap within the video frame.</span></span>

<span data-ttu-id="27cd4-134">Um die Bitmap festzulegen, müssen Sie [**imfvideomixerbitmap:: setalphabitmap**](/windows/desktop/api/evr9/nf-evr9-imfvideomixerbitmap-setalphabitmap)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-134">To set the bitmap, call [**IMFVideoMixerBitmap::SetAlphaBitmap**](/windows/desktop/api/evr9/nf-evr9-imfvideomixerbitmap-setalphabitmap).</span></span> <span data-ttu-id="27cd4-135">Diese Methode nimmt einen Zeiger auf eine [**mfvideoalphabitmap**](/windows/desktop/api/evr9/ns-evr9-mfvideoalphabitmap) -Struktur an, die die Bitmap und die Alpha Mischungs Parameter angibt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-135">This method takes a pointer to an [**MFVideoAlphaBitmap**](/windows/desktop/api/evr9/ns-evr9-mfvideoalphabitmap) structure that specifies the bitmap and the alpha-blending parameters.</span></span> <span data-ttu-id="27cd4-136">Beispielcode finden Sie im Referenz Thema für die **setalphabitmap** -Methode.</span><span class="sxs-lookup"><span data-stu-id="27cd4-136">For example code, see the reference topic for the **SetAlphaBitmap** method.</span></span>

<span data-ttu-id="27cd4-137">Nachdem Sie die Bitmap festgelegt haben, können Sie die Mischungs Parameter, einschließlich der Quell-und Ziel-recangles, durch Aufrufen von [**imfvideomixerbitmap:: updatealphabitmapparameters**](/windows/desktop/api/evr9/nf-evr9-imfvideomixerbitmap-updatealphabitmapparameters)aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="27cd4-137">After you set the bitmap, you can update the blending parameters, including the source and destination recangles, by calling [**IMFVideoMixerBitmap::UpdateAlphaBitmapParameters**](/windows/desktop/api/evr9/nf-evr9-imfvideomixerbitmap-updatealphabitmapparameters).</span></span> <span data-ttu-id="27cd4-138">Das Update wird im nächsten Video Frame wirksam.</span><span class="sxs-lookup"><span data-stu-id="27cd4-138">The update takes effect on the next video frame.</span></span> <span data-ttu-id="27cd4-139">Das Video muss abgespielt werden, damit das Update stattfindet.</span><span class="sxs-lookup"><span data-stu-id="27cd4-139">The video must be playing for the update to occur.</span></span> <span data-ttu-id="27cd4-140">Sie können diese Methode verwenden, um einfache Animationen auf der Bitmap auszuführen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-140">You can use this method to perform simple animations on the bitmap.</span></span> <span data-ttu-id="27cd4-141">(Wenn Sie anspruchsvollere Effekte benötigen, sollten Sie einen benutzerdefinierten EVR-Mixer schreiben.)</span><span class="sxs-lookup"><span data-stu-id="27cd4-141">(If you need more sophisticated effects, consider writing a custom EVR mixer.)</span></span>

<span data-ttu-id="27cd4-142">Um die Bitmap zu löschen, müssen Sie [**imfvideomixerbitmap:: clearalphabitmap**](/windows/desktop/api/evr9/nf-evr9-imfvideomixerbitmap-clearalphabitmap)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-142">To clear the bitmap, call [**IMFVideoMixerBitmap::ClearAlphaBitmap**](/windows/desktop/api/evr9/nf-evr9-imfvideomixerbitmap-clearalphabitmap).</span></span>

## <a name="controlling-substreams"></a><span data-ttu-id="27cd4-143">Steuern von Substreams</span><span class="sxs-lookup"><span data-stu-id="27cd4-143">Controlling Substreams</span></span>

<span data-ttu-id="27cd4-144">Der EVR kann einen oder mehrere videosubstreams mit dem primären Videostream mischen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-144">The EVR can mix one or more video substreams onto the primary video stream.</span></span> <span data-ttu-id="27cd4-145">Um die substreammischung zu steuern, verwenden Sie die [**imfvideomixercontrol**](/windows/desktop/api/evr/nn-evr-imfvideomixercontrol) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="27cd4-145">To control substream mixing, use the [**IMFVideoMixerControl**](/windows/desktop/api/evr/nn-evr-imfvideomixercontrol) interface.</span></span>

-   <span data-ttu-id="27cd4-146">Aufrufen von [**imfvideomixercontrol:: setstreamoutputrect**](/windows/desktop/api/evr/nf-evr-imfvideomixercontrol-setstreamoutputrect) , um die Position eines Substreams innerhalb des zusammengesetzten Video Rahmens festzulegen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-146">Call [**IMFVideoMixerControl::SetStreamOutputRect**](/windows/desktop/api/evr/nf-evr-imfvideomixercontrol-setstreamoutputrect) to set the position of a substream within the composited video frame.</span></span>

-   <span data-ttu-id="27cd4-147">Aufrufen von [**imfvideomixercontrol:: setstreamzorder**](/windows/desktop/api/evr/nf-evr-imfvideomixercontrol-setstreamzorder) zum Festlegen der z-Reihenfolge für die unter Ströme.</span><span class="sxs-lookup"><span data-stu-id="27cd4-147">Call [**IMFVideoMixerControl::SetStreamZOrder**](/windows/desktop/api/evr/nf-evr-imfvideomixercontrol-setstreamzorder) to set the z-order for the substreams.</span></span> <span data-ttu-id="27cd4-148">Der EVR zeichnet die Videostreams in der Reihenfolge ihrer z-Reihen folgen Werte, beginnend mit 0 (null).</span><span class="sxs-lookup"><span data-stu-id="27cd4-148">The EVR draws the video streams in the order of their z-order values, starting with zero.</span></span> <span data-ttu-id="27cd4-149">Der primäre Videostream ist immer an erster Stelle in der z-Reihenfolge.</span><span class="sxs-lookup"><span data-stu-id="27cd4-149">The primary video stream is always first in the z-order.</span></span>

## <a name="video-processor-settings"></a><span data-ttu-id="27cd4-150">Video Prozessor Einstellungen</span><span class="sxs-lookup"><span data-stu-id="27cd4-150">Video Processor Settings</span></span>

<span data-ttu-id="27cd4-151">Der EVR-Mixer verwendet die DirectX-Videobeschleunigung (DXVA), um die Videoverarbeitung in den Eingabestreams auszuführen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-151">The EVR mixer uses DirectX Video Acceleration (DXVA) to perform video processing on the input streams.</span></span> <span data-ttu-id="27cd4-152">Die genauen Verarbeitungsfunktionen hängen vom Grafiktreiber ab.</span><span class="sxs-lookup"><span data-stu-id="27cd4-152">The exact processing capabilities depend on the graphics driver.</span></span> <span data-ttu-id="27cd4-153">Die Video Verarbeitungsfunktionen werden mithilfe der [**DXVA2 \_ videoprocess orcaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) -Struktur beschrieben.</span><span class="sxs-lookup"><span data-stu-id="27cd4-153">Video processing capabilities are described by using the [**DXVA2\_VideoProcessorCaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) structure.</span></span> <span data-ttu-id="27cd4-154">Ein bestimmter Satz von Funktionen wird als *Video Verarbeitungsmodus* bezeichnet, wobei jeder Modus durch eine GUID identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="27cd4-154">A particular set of capabilities is called a *video processing mode*, each mode being identified by a GUID.</span></span> <span data-ttu-id="27cd4-155">Eine Liste der vordefinierten GUIDs finden Sie unter [**idirectxvideoprocess orservice:: getvideoprocess ordeviceguids**](/windows/desktop/api/dxva2api/nf-dxva2api-idirectxvideoprocessorservice-getvideoprocessordeviceguids).</span><span class="sxs-lookup"><span data-stu-id="27cd4-155">For a list of predefined GUIDs, see [**IDirectXVideoProcessorService::GetVideoProcessorDeviceGuids**](/windows/desktop/api/dxva2api/nf-dxva2api-idirectxvideoprocessorservice-getvideoprocessordeviceguids).</span></span> <span data-ttu-id="27cd4-156">Der Treiber kann zusätzliche anbieterspezifische GUIDs definieren, die verschiedene Kombinationen von Funktionen darstellen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-156">The driver might define additional vendor-specific GUIDs, representing different combinations of capabilities.</span></span>

<span data-ttu-id="27cd4-157">Gehen Sie folgendermaßen vor, um die unterstützten Modi und die Funktionen der einzelnen Modi zu ermitteln:</span><span class="sxs-lookup"><span data-stu-id="27cd4-157">To find the supported modes and the capabilities of each mode, do the following:</span></span>

1.  <span data-ttu-id="27cd4-158">Aufrufen von [**imfgetservice:: GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) , um einen Zeiger auf die [**imfvideoprocessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) -Schnittstelle des Mischers zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="27cd4-158">Call [**IMFGetService::GetService**](/windows/desktop/api/mfidl/nf-mfidl-imfgetservice-getservice) to get a pointer to the mixer's [**IMFVideoProcessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) interface.</span></span>

2.  <span data-ttu-id="27cd4-159">Aufrufen von [**imfvideoprocessor:: getavailablevideoprocessormodes**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getavailablevideoprocessormodes).</span><span class="sxs-lookup"><span data-stu-id="27cd4-159">Call [**IMFVideoProcessor::GetAvailableVideoProcessorModes**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getavailablevideoprocessormodes).</span></span> <span data-ttu-id="27cd4-160">Diese Methode gibt ein Array von GUIDs zurück, mit denen die verfügbaren Videoprozessor Modi identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-160">This method returns an array of GUIDs, which identify the available video processor modes.</span></span> <span data-ttu-id="27cd4-161">Die Liste wird in absteigender Reihenfolge zurückgegeben. der Modus mit der höchsten Qualität wird zuerst in der Liste angezeigt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-161">The list is returned in descending quality order, the mode with the highest quality appearing first in the list.</span></span> <span data-ttu-id="27cd4-162">Die Liste kann je nach Format des Videos geändert werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-162">The list can change depending on the format of the video.</span></span>

3.  <span data-ttu-id="27cd4-163">Für jede GUID in der Liste müssen Sie [**imfvideoprocessor:: getvideoprocessorcaps**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getvideoprocessorcaps) aufrufen, um die Funktionen des entsprechenden Videoprozessor Modus zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="27cd4-163">For each GUID in the list, call [**IMFVideoProcessor::GetVideoProcessorCaps**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getvideoprocessorcaps) to find the capabilities of the corresponding video processor mode.</span></span> <span data-ttu-id="27cd4-164">Die-Methode füllt eine [**DXVA2 \_ videoprocess orcaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) -Struktur mit einer Beschreibung der Funktionen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-164">The method fills a [**DXVA2\_VideoProcessorCaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) structure with a description of the capabilities.</span></span>

4.  <span data-ttu-id="27cd4-165">Um einen Modus auszuwählen, nennen Sie [**imfvideoprocessor:: setvideoprocessormode**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-setvideoprocessormode).</span><span class="sxs-lookup"><span data-stu-id="27cd4-165">To select a mode, call [**IMFVideoProcessor::SetVideoProcessorMode**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-setvideoprocessormode).</span></span> <span data-ttu-id="27cd4-166">Andernfalls wählt der EVR automatisch einen Modus aus, wenn das Streaming beginnt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-166">Otherwise, the EVR automatically selects a mode when streaming begins.</span></span> <span data-ttu-id="27cd4-167">In diesem Fall können Sie [**imfvideoprocessor:: getvideoprocessormode**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getvideoprocessormode) aufrufen, um zu ermitteln, welcher Modus ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="27cd4-167">In that case, you can call [**IMFVideoProcessor::GetVideoProcessorMode**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getvideoprocessormode) to find which mode was selected.</span></span>

<span data-ttu-id="27cd4-168">Die meisten Felder in der [**DXVA2 \_ videoprocessorcaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) -Struktur beschreiben das Verhalten auf niedriger Ebene und sind in einer typischen Anwendung nicht von Interesse.</span><span class="sxs-lookup"><span data-stu-id="27cd4-168">Most of the fields in the [**DXVA2\_VideoProcessorCaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) structure describe low-level driver behavior and are not of interest in a typical application.</span></span> <span data-ttu-id="27cd4-169">Die folgenden Felder sind höchstwahrscheinlich von Interesse:</span><span class="sxs-lookup"><span data-stu-id="27cd4-169">The following fields are most likely to be of interest:</span></span>

-   <span data-ttu-id="27cd4-170">**Deaktiviert** werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-170">**DeviceCaps**.</span></span> <span data-ttu-id="27cd4-171">Dieses Feld gibt an, ob die Videoverarbeitung in Hardware oder Software erfolgt und ob es sich bei dem Grafiktreiber um einen älteren DXVA 1,0-Treiber handelt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-171">This field indicates whether video processing is performed in hardware or software, and whether the graphics driver is an older DXVA 1.0 driver.</span></span>

-   <span data-ttu-id="27cd4-172">**Deinterlacetechnology**.</span><span class="sxs-lookup"><span data-stu-id="27cd4-172">**DeinterlaceTechnology**.</span></span> <span data-ttu-id="27cd4-173">Dieses Feld gibt Aufschluss darüber, welche Ebene der deinterlacingqualität Sie erwarten können, wenn das Quellvideo mit Zeilen Sprung verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="27cd4-173">This field provides some indication of what level of deinterlacing quality you can expect if the source video is interlaced.</span></span>

-   <span data-ttu-id="27cd4-174">**Procampcontrolcaps**.</span><span class="sxs-lookup"><span data-stu-id="27cd4-174">**ProcAmpControlCaps**.</span></span> <span data-ttu-id="27cd4-175">Dieses Feld gibt an, welche Farb Anpassungs Steuerelemente verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="27cd4-175">This field specifies which color adjustment controls are available.</span></span> <span data-ttu-id="27cd4-176">Eine Liste der möglichen Farbanpassungen finden Sie unter [ProcAmp Settings](procamp-settings.md).</span><span class="sxs-lookup"><span data-stu-id="27cd4-176">For a list of possible color adjustments, see [ProcAmp Settings](procamp-settings.md).</span></span> <span data-ttu-id="27cd4-177">Wenn der Treiber keine Farbanpassung durchführen kann, ist dieses Feld NULL.</span><span class="sxs-lookup"><span data-stu-id="27cd4-177">If the driver cannot perform color adjustment, this field is zero.</span></span>

-   <span data-ttu-id="27cd4-178">**Videoprocess oroperations**.</span><span class="sxs-lookup"><span data-stu-id="27cd4-178">**VideoProcessorOperations**.</span></span> <span data-ttu-id="27cd4-179">Dieses Feld enthält Flags, die verschiedene Video Verarbeitungsfunktionen beschreiben.</span><span class="sxs-lookup"><span data-stu-id="27cd4-179">This field contains flags that describe miscellaneous video processing capabilities.</span></span> <span data-ttu-id="27cd4-180">Zwei Flags von besonderer Wichtigkeit sind das \_ Flag DXVA2 videoprocess \_ Substreams und das \_ Flag DXVA2 videoprocess \_ Substreams.</span><span class="sxs-lookup"><span data-stu-id="27cd4-180">Two flags of particular importance are the DXVA2\_VideoProcess\_SubStreams flag and the DXVA2\_VideoProcess\_SubStreams flag.</span></span> <span data-ttu-id="27cd4-181">Mindestens eines dieser Flags muss vorhanden sein, damit das EVR-Substreams in den Verweis Videostream mischen können.</span><span class="sxs-lookup"><span data-stu-id="27cd4-181">At least one of these flags must be present for the EVR to mix substreams onto the reference video stream.</span></span> <span data-ttu-id="27cd4-182">Wenn keines der Flags vorhanden ist, ist der EVR auf einen Videostream beschränkt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-182">If neither flag is present, the EVR is limited to one video stream.</span></span>

-   <span data-ttu-id="27cd4-183">**Noisefiltertechnology**.</span><span class="sxs-lookup"><span data-stu-id="27cd4-183">**NoiseFilterTechnology**.</span></span> <span data-ttu-id="27cd4-184">Dieses Feld gibt an, welche Rauschfilter vom Grafiktreiber unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-184">This field indicates which noise filters are supported by the graphics driver.</span></span> <span data-ttu-id="27cd4-185">Wenn der Treiber keine Rausch Filterung unterstützt, wird der Wert DXVA2 \_ noisefiltertech nicht \_ unterstützt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-185">If the driver does not support noise filtering, the value is DXVA2\_NoiseFilterTech\_Unsupported.</span></span>

-   <span data-ttu-id="27cd4-186">**Detailfiltertechnology**.</span><span class="sxs-lookup"><span data-stu-id="27cd4-186">**DetailFilterTechnology**.</span></span> <span data-ttu-id="27cd4-187">Dieses Feld gibt an, welche Detail Filter vom Grafiktreiber unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-187">This field indicates which detail filters are supported by the graphics driver.</span></span> <span data-ttu-id="27cd4-188">Wenn der Treiber keine Rausch Filterung unterstützt, wird der Wert DXVA2 \_ detailfiltertech nicht \_ unterstützt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-188">If the driver does not support noise filtering, the value is DXVA2\_DetailFilterTech\_Unsupported.</span></span>

## <a name="color-adjustment-and-image-filtering"></a><span data-ttu-id="27cd4-189">Farbanpassung und Bildfilterung</span><span class="sxs-lookup"><span data-stu-id="27cd4-189">Color Adjustment and Image Filtering</span></span>

<span data-ttu-id="27cd4-190">Der Grafiktreiber unterstützt möglicherweise Farbanpassungen (auch als *Prozess Verstärkung* oder einfach *ProcAmp* bezeichnet) und Bildfilterung.</span><span class="sxs-lookup"><span data-stu-id="27cd4-190">The graphics driver might support color adjustment (also called *process amplification* or simply *ProcAmp*) and image filtering.</span></span> <span data-ttu-id="27cd4-191">Bei Durchführung durch die GPU können Farbanpassung und Bildfilterung in Echtzeit ohne CPU-Aufwand durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="27cd4-191">When performed by the GPU, color adjustment and image filtering can be done in real time with no CPU overhead.</span></span>

<span data-ttu-id="27cd4-192">Führen Sie die folgenden Schritte aus, um diese Features zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="27cd4-192">To use these features, perform the following steps:</span></span>

1.  <span data-ttu-id="27cd4-193">Wählen Sie einen Video Verarbeitungsmodus aus, wie im vorherigen Abschnitt beschrieben.</span><span class="sxs-lookup"><span data-stu-id="27cd4-193">Select a video processing mode as described in the previous section.</span></span>

2.  <span data-ttu-id="27cd4-194">Aufrufen von [**imfvideoprocessor:: getvideoprocessorcaps**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getvideoprocessorcaps) , um die Video Verarbeitungsfunktionen zu finden, wie im vorherigen Abschnitt beschrieben.</span><span class="sxs-lookup"><span data-stu-id="27cd4-194">Call [**IMFVideoProcessor::GetVideoProcessorCaps**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getvideoprocessorcaps) to find the video processing capabilities as described in the previous section.</span></span> <span data-ttu-id="27cd4-195">Die-Methode füllt eine [**DXVA2 \_ videoprocess orcaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) -Struktur aus, die die Funktionen beschreibt. Dies umfasst auch, ob der Treiber Farbanpassung und Bild Filter unterstützt.</span><span class="sxs-lookup"><span data-stu-id="27cd4-195">The method fills in a [**DXVA2\_VideoProcessorCaps**](/windows/desktop/api/dxva2api/ns-dxva2api-dxva2_videoprocessorcaps) structure which describes the capabilities, including whether the driver supports color adjustment and image filter.</span></span>

3.  <span data-ttu-id="27cd4-196">Für jede Farbanpassung, die vom Treiber unterstützt wird, müssen Sie [**imfvideoprocessor:: getprocamprange**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getprocamprange) aufrufen, um den möglichen Wertebereich für diese Einstellung zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="27cd4-196">For each color adjustment that is supported by driver, call [**IMFVideoProcessor::GetProcAmpRange**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getprocamprange) to find the possible range of value for that setting.</span></span> <span data-ttu-id="27cd4-197">Diese Methode gibt auch den Standardwert für die Einstellung zurück.</span><span class="sxs-lookup"><span data-stu-id="27cd4-197">This method also returns the default value for the setting.</span></span> <span data-ttu-id="27cd4-198">Wenn Sie [**imfvideoprocessor:: getprocampvalues**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getprocampvalues) aufrufen, finden Sie den aktuellen Wert der Einstellungen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-198">Call [**IMFVideoProcessor::GetProcAmpValues**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getprocampvalues) to find the current value of the settings.</span></span> <span data-ttu-id="27cd4-199">Die Werte haben keine angegebenen Einheiten.</span><span class="sxs-lookup"><span data-stu-id="27cd4-199">The values do not have specified units.</span></span> <span data-ttu-id="27cd4-200">Der Treiber muss den Wertebereich definieren.</span><span class="sxs-lookup"><span data-stu-id="27cd4-200">It is up to the driver to define the range of values.</span></span>

4.  <span data-ttu-id="27cd4-201">Aufrufen von [**imfvideoprocessor:: setfilteringvalue**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-setfilteringvalue) , um einen Farb Anpassungswert festzulegen.</span><span class="sxs-lookup"><span data-stu-id="27cd4-201">Call [**IMFVideoProcessor::SetFilteringValue**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-setfilteringvalue) to set a color adjustment value.</span></span>

5.  <span data-ttu-id="27cd4-202">Wenn der Treiber die Bildfilterung unterstützt, unterstützt jeder Filtertyp (Rauschen und Details) drei Einstellungen – Ebene, Radius und Schwellenwert – sowohl in Chroma als auch in Luma.</span><span class="sxs-lookup"><span data-stu-id="27cd4-202">If the driver supports image filtering, then each filter type (noise and detail) supports three settings—level, radius, and threshold—in both chroma and luma.</span></span> <span data-ttu-id="27cd4-203">(Weitere Informationen finden Sie unter [DXVA Image Filter Settings](dxva-image-filter-settings.md).) Für jede Einstellung müssen Sie [**imfvideoprocessor:: getfilteringrange**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getfilteringrange) aufrufen, um den Bereich möglicher Werte abzurufen, und [**imfvideoprocessor:: getfilteringvalue**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getfilteringvalue) aufrufen, um den aktuellen Wert zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="27cd4-203">(See [DXVA Image Filter Settings](dxva-image-filter-settings.md).) For each setting, call [**IMFVideoProcessor::GetFilteringRange**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getfilteringrange) to get the range of possible values and call [**IMFVideoProcessor::GetFilteringValue**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-getfilteringvalue) to get the current value.</span></span>

6.  <span data-ttu-id="27cd4-204">Um eine Bild Filtereinstellung zu ändern, wenden Sie [**imfvideoprocessor:: setfilteringvalue**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-setfilteringvalue)an.</span><span class="sxs-lookup"><span data-stu-id="27cd4-204">To change an image filter setting, call [**IMFVideoProcessor::SetFilteringValue**](/windows/desktop/api/evr9/nf-evr9-imfvideoprocessor-setfilteringvalue).</span></span>

## <a name="related-topics"></a><span data-ttu-id="27cd4-205">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="27cd4-205">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="27cd4-206">Erweiterter Videorenderer</span><span class="sxs-lookup"><span data-stu-id="27cd4-206">Enhanced Video Renderer</span></span>](enhanced-video-renderer.md)
</dt> </dl>

 

 



