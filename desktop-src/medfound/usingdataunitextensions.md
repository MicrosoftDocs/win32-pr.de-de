---
description: Beschreibt das Hinzufügen von Dateneinheiten Erweiterungen bei Verwendung von Windows Media Encoder.
ms.assetid: fdadcb85-c564-4d05-a4d7-af53a0107455
title: Verwenden von Dateneinheiten Erweiterungen (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21c16053ee078f5adcd48767f53d9e6e1c0eeb02
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106372912"
---
# <a name="using-data-unit-extensions-microsoft-media-foundation"></a><span data-ttu-id="847f1-103">Verwenden von Dateneinheiten Erweiterungen (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="847f1-103">Using Data Unit Extensions (Microsoft Media Foundation)</span></span>

<span data-ttu-id="847f1-104">Die Windows Media Audio-und Video Codecs sind so konzipiert, dass Sie mit dem Container "Advanced Systems Format (ASF)" gut funktionieren.</span><span class="sxs-lookup"><span data-stu-id="847f1-104">The Windows Media Audio and Video codecs are designed to work well with the Advanced Systems Format (ASF) container.</span></span> <span data-ttu-id="847f1-105">ASF ist das strukturierte Format, das für Windows Media Audio-Dateien (WMA) und Windows Media Video (WMV)-Dateien verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="847f1-105">ASF is the structured format used for Windows Media Audio (WMA) files and Windows Media Video (WMV) files.</span></span> <span data-ttu-id="847f1-106">Es ist ein erweiterbares Format, das für das Streamen von Daten konzipiert ist.</span><span class="sxs-lookup"><span data-stu-id="847f1-106">It is an extensible format designed for streaming data.</span></span> <span data-ttu-id="847f1-107">Eines der ungewöhnlichen Merkmale der ASF-Struktur ist die Möglichkeit, Metadaten an einzelne Stichproben anzufügen und diese Daten mit den Beispielen im Bitstream einzubetten.</span><span class="sxs-lookup"><span data-stu-id="847f1-107">One of the unusual characteristics of the ASF structure is the ability to attach metadata to individual samples, and to embed that data with the samples in the bit stream.</span></span> <span data-ttu-id="847f1-108">Ein Element von Metadaten, das auf diese Weise gespeichert wird, wird als *dateneinheits Erweiterung* oder *Beispiel Erweiterung* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="847f1-108">An item of metadata stored in this way is called a data *unit extension*, or *sample extension*.</span></span>

<span data-ttu-id="847f1-109">Eine Erweiterung für Dateneinheiten kann Informationen enthalten, die vom Encoder, dem Decoder oder der Player Anwendung benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="847f1-109">A data unit extension can contain information that is required by the encoder, the decoder, or the player application.</span></span> <span data-ttu-id="847f1-110">Die meisten Daten-Einheiten Erweiterungs Typen, die in der Windows Media 9-Reihe von Codecs implementiert sind, enthalten Daten, die für die Anwendung vorgesehen sind, die die Medien decodiert und rendert.</span><span class="sxs-lookup"><span data-stu-id="847f1-110">Most of the data-unit-extension types that are implemented in the Windows Media 9 Series of codecs contain data intended for the application that decodes and renders the media.</span></span> <span data-ttu-id="847f1-111">Beispielsweise können Sie SMPTE-Zeit Codes aus den Quelldaten verwalten, indem Sie Sie als Dateneinheiten Erweiterungen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="847f1-111">For example, you can maintain SMPTE time codes from source data by adding them as data unit extensions.</span></span> <span data-ttu-id="847f1-112">Die folgenden Codec-Features erfordern jedoch Erweiterungen für Dateneinheiten:</span><span class="sxs-lookup"><span data-stu-id="847f1-112">However, the following codec features require data unit extensions:</span></span>

-   [<span data-ttu-id="847f1-113">Erzwungene Keyframe-Einfügung</span><span class="sxs-lookup"><span data-stu-id="847f1-113">Forced Key Frame Insertion</span></span>](forcedkeyframeinsertion.md)
-   [<span data-ttu-id="847f1-114">Video Codierung mit Zeilen Sprung</span><span class="sxs-lookup"><span data-stu-id="847f1-114">Interlaced Video Encoding</span></span>](interlacedvideoencoding.md)
-   <span data-ttu-id="847f1-115">Die Schwierigkeit bei der direkten Verwendung von dateneinheits Erweiterungen beim direkten Zugriff auf den Codec ist der Mechanismus, mit dem das Objekt die Erweiterungs Daten empfängt.</span><span class="sxs-lookup"><span data-stu-id="847f1-115">The difficulty in using data unit extensions when accessing the codec directly is the mechanism by which the object receives the extension data.</span></span> <span data-ttu-id="847f1-116">Dies wird durch die Objekte des SDK für den Windows Media-Format erreicht, indem Puffer Objekte verwendet werden, die diese Funktion unterstützen.</span><span class="sxs-lookup"><span data-stu-id="847f1-116">This is achieved by the objects of the Windows Media Format SDK by using buffer objects designed to support this feature.</span></span> <span data-ttu-id="847f1-117">Es wird empfohlen, dass Sie das Windows Media-Format-SDK zum Aktivieren der Codec-Features verwenden, die Dateneinheiten Erweiterungen erfordern, aber Sie können diese Funktionen mit den eigenständigen Codec-Objekten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="847f1-117">It is recommended that you use the Windows Media Format SDK to activate the codec features that require data unit extensions, but you can make these features work with the standalone codec objects.</span></span>

## <a name="passing-extended-samples-to-the-codec-objects"></a><span data-ttu-id="847f1-118">Übergeben von erweiterten Beispielen an die Codec-Objekte</span><span class="sxs-lookup"><span data-stu-id="847f1-118">Passing Extended Samples to the Codec Objects</span></span>

<span data-ttu-id="847f1-119">Das Windows Media-Format SDK verwendet Puffer Objekte, die [**inssbuffer**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer) -Schnittstellen verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="847f1-119">The Windows Media Format SDK uses buffer objects that expose [**INSSBuffer**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer) interfaces.</span></span> <span data-ttu-id="847f1-120">Die neueste Schnittstelle ist [**INSSBuffer4**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer4).</span><span class="sxs-lookup"><span data-stu-id="847f1-120">The latest interface is [**INSSBuffer4**](/previous-versions/windows/desktop/api/wmsbuffer/nn-wmsbuffer-inssbuffer4).</span></span> <span data-ttu-id="847f1-121">Zum Übergeben von Beispielen an ein Codec-Objekt mit Dateneinheiten Erweiterungen müssen Sie ein Puffer Objekt verwenden, das die [**imediabuffer**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediabuffer) -Schnittstelle oder die [**imfmediabuffer**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediabuffer) -Schnittstelle und die **inssbuffer** -Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="847f1-121">To pass samples to a codec object with data unit extensions, you must use a buffer object that implements the [**IMediaBuffer**](/previous-versions/windows/desktop/api/mediaobj/nn-mediaobj-imediabuffer) or [**IMFMediaBuffer**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediabuffer) interface and the **INSSBuffer** interface.</span></span> <span data-ttu-id="847f1-122">Sie können Puffer Objekte verwenden, die vom SDK für den Windows Media-Format oder Microsoft Media Foundation erstellt wurden, oder Sie können eine eigene Puffer Klasse erstellen, die die Anforderungen erfüllt.</span><span class="sxs-lookup"><span data-stu-id="847f1-122">You can use buffer objects created by the Windows Media Format SDK or Microsoft Media Foundation to accomplish this, or you can make your own buffer class that meets the requirements.</span></span> <span data-ttu-id="847f1-123">Zum Erstellen einer eigenen Puffer Klasse müssen Sie den Methoden Prototypen für die **inssbuffer** -Schnittstellen entsprechen.</span><span class="sxs-lookup"><span data-stu-id="847f1-123">To create your own buffer class, you must conform to the method prototypes for the **INSSBuffer** interfaces.</span></span> <span data-ttu-id="847f1-124">Diese Schnittstellendefinitionen finden Sie in der wmsbuffer. h-Header Datei, die mit dem Windows Media-Format SDK installiert wird.</span><span class="sxs-lookup"><span data-stu-id="847f1-124">These interface definitions can be found in the wmsbuffer.h header file that is installed with the Windows Media Format SDK.</span></span>

## <a name="related-topics"></a><span data-ttu-id="847f1-125">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="847f1-125">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="847f1-126">Windows Media-Codecs</span><span class="sxs-lookup"><span data-stu-id="847f1-126">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 
