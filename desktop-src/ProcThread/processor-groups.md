---
description: Die 64-Bit-Versionen von Windows 7 und Windows Server 2008 R2 und höhere Versionen von Windows unterstützen mehr als 64 logische Prozessoren auf einem einzelnen Computer. Diese Funktionalität ist in 32-Bit-Versionen von Windows nicht verfügbar.
ms.assetid: c627ac0f-96e8-48b5-9103-4316f487e173
title: Prozessorgruppen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cebc5b9ab1b386847b6561a9f6322c2fca0e2ae5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104042258"
---
# <a name="processor-groups"></a><span data-ttu-id="4f276-104">Prozessorgruppen</span><span class="sxs-lookup"><span data-stu-id="4f276-104">Processor Groups</span></span>

<span data-ttu-id="4f276-105">Die 64-Bit-Versionen von Windows 7 und Windows Server 2008 R2 und höhere Versionen von Windows unterstützen mehr als 64 logische Prozessoren auf einem einzelnen Computer.</span><span class="sxs-lookup"><span data-stu-id="4f276-105">The 64-bit versions of Windows 7 and Windows Server 2008 R2 and later versions of Windows support more than 64 logical processors on a single computer.</span></span> <span data-ttu-id="4f276-106">Diese Funktionalität ist in 32-Bit-Versionen von Windows nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="4f276-106">This functionality is not available on 32-bit versions of Windows.</span></span>

<span data-ttu-id="4f276-107">Systeme mit mehr als einem physischen Prozessor oder Systemen mit physischen Prozessoren, die mehrere Kerne aufweisen, bieten dem Betriebssystem mehrere logische Prozessoren.</span><span class="sxs-lookup"><span data-stu-id="4f276-107">Systems with more than one physical processor or systems with physical processors that have multiple cores provide the operating system with multiple logical processors.</span></span> <span data-ttu-id="4f276-108">Ein *logischer Prozessor* ist eine logische Computer-Engine aus der Sicht des Betriebssystems, der Anwendung oder des Treibers.</span><span class="sxs-lookup"><span data-stu-id="4f276-108">A *logical processor* is one logical computing engine from the perspective of the operating system, application or driver.</span></span> <span data-ttu-id="4f276-109">Ein *Kern* ist eine Prozessoreinheit, die aus einem oder mehreren logischen Prozessoren bestehen kann.</span><span class="sxs-lookup"><span data-stu-id="4f276-109">A *core* is one processor unit, which can consist of one or more logical processors.</span></span> <span data-ttu-id="4f276-110">Ein *physischer Prozessor* kann aus einem oder mehreren Kernen bestehen.</span><span class="sxs-lookup"><span data-stu-id="4f276-110">A *physical processor* can consist of one or more cores.</span></span> <span data-ttu-id="4f276-111">Ein physischer Prozessor ist das gleiche wie ein Prozessor Paket, ein Socket oder eine CPU.</span><span class="sxs-lookup"><span data-stu-id="4f276-111">A physical processor is the same as a processor package, a socket, or a CPU.</span></span>

<span data-ttu-id="4f276-112">Die Unterstützung für Systeme, die mehr als 64 logische Prozessoren aufweisen, basiert auf dem Konzept einer *Prozessor Gruppe*, bei der es sich um einen statischen Satz von bis zu 64 logischen Prozessoren handelt, die als einzelne Zeit Planungs Entität behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="4f276-112">Support for systems that have more than 64 logical processors is based on the concept of a *processor group*, which is a static set of up to 64 logical processors that is treated as a single scheduling entity.</span></span> <span data-ttu-id="4f276-113">Prozessor Gruppen werden beginnend mit 0 nummeriert.</span><span class="sxs-lookup"><span data-stu-id="4f276-113">Processor groups are numbered starting with 0.</span></span> <span data-ttu-id="4f276-114">Systeme mit weniger als 64 logischen Prozessoren verfügen immer über eine einzelne Gruppe, Gruppe 0.</span><span class="sxs-lookup"><span data-stu-id="4f276-114">Systems with fewer than 64 logical processors always have a single group, Group 0.</span></span>

<span data-ttu-id="4f276-115">**Windows Server 2008, Windows Vista, Windows Server 2003 und Windows XP:** Prozessor Gruppen werden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4f276-115">**Windows Server 2008, Windows Vista, Windows Server 2003 and Windows XP:** Processor groups are not supported.</span></span>

<span data-ttu-id="4f276-116">Beim Starten des Systems erstellt das Betriebssystem Prozessor Gruppen und weist den Gruppen logische Prozessoren zu.</span><span class="sxs-lookup"><span data-stu-id="4f276-116">When the system starts, the operating system creates processor groups and assigns logical processors to the groups.</span></span> <span data-ttu-id="4f276-117">Wenn das System in der Lage ist, Prozessoren hinzuzufügen, lässt das Betriebssystem Speicherplatz in Gruppen für Prozessoren zu, die möglicherweise während der Ausführung des Systems eintreffen.</span><span class="sxs-lookup"><span data-stu-id="4f276-117">If the system is capable of hot-adding processors, the operating system allows space in groups for processors that might arrive while the system is running.</span></span> <span data-ttu-id="4f276-118">Das Betriebssystem minimiert die Anzahl der Gruppen in einem System.</span><span class="sxs-lookup"><span data-stu-id="4f276-118">The operating system minimizes the number of groups in a system.</span></span> <span data-ttu-id="4f276-119">Beispielsweise verfügt ein System mit 128 logischen Prozessoren über zwei Prozessor Gruppen mit 64 Prozessoren in jeder Gruppe, nicht vier Gruppen mit 32 logischen Prozessoren in jeder Gruppe.</span><span class="sxs-lookup"><span data-stu-id="4f276-119">For example, a system with 128 logical processors would have two processor groups with 64 processors in each group, not four groups with 32 logical processors in each group.</span></span>

<span data-ttu-id="4f276-120">Um eine bessere Leistung zu erzielen, übernimmt das Betriebssystem die physische Lokalität beim Zuweisen von logischen Prozessoren zu Gruppen.</span><span class="sxs-lookup"><span data-stu-id="4f276-120">For better performance, the operating system takes physical locality into account when assigning logical processors to groups.</span></span> <span data-ttu-id="4f276-121">Alle logischen Prozessoren in einem Kern und alle Kerne in einem physischen Prozessor werden, sofern möglich, derselben Gruppe zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="4f276-121">All of the logical processors in a core, and all of the cores in a physical processor, are assigned to the same group, if possible.</span></span> <span data-ttu-id="4f276-122">Physische Prozessoren, die sich physisch in der Nähe zueinander befinden, werden derselben Gruppe zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="4f276-122">Physical processors that are physically close to one another are assigned to the same group.</span></span> <span data-ttu-id="4f276-123">Ein NUMA-Knoten wird einer einzelnen Gruppe zugewiesen, es sei denn, die Kapazität des Knotens überschreitet die maximale Gruppengröße.</span><span class="sxs-lookup"><span data-stu-id="4f276-123">A NUMA node is assigned to a single group unless the capacity of the node exceeds the maximum group size.</span></span> <span data-ttu-id="4f276-124">Weitere Informationen finden Sie [unter NUMA-Unterstützung](numa-support.md).</span><span class="sxs-lookup"><span data-stu-id="4f276-124">For more information, see [NUMA Support](numa-support.md).</span></span>

<span data-ttu-id="4f276-125">Auf Systemen mit 64 oder weniger Prozessoren funktionieren vorhandene Anwendungen ohne Änderungen ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="4f276-125">On systems with 64 or fewer processors, existing applications will operate correctly without modification.</span></span> <span data-ttu-id="4f276-126">Anwendungen, die keine Funktionen mit Prozessor Affinitäts Masken oder Prozessornummern aufzurufen, werden unabhängig von der Anzahl der Prozessoren auf allen Systemen ordnungsgemäß ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="4f276-126">Applications that do not call any functions that use processor affinity masks or processor numbers will operate correctly on all systems, regardless of the number of processors.</span></span> <span data-ttu-id="4f276-127">Um auf Systemen mit mehr als 64 logischen Prozessoren ordnungsgemäß arbeiten zu können, sind für die folgenden Arten von Anwendungen möglicherweise Änderungen erforderlich:</span><span class="sxs-lookup"><span data-stu-id="4f276-127">To operate correctly on systems with more than 64 logical processors, the following kinds of applications might require modification:</span></span>

-   <span data-ttu-id="4f276-128">Anwendungen, die pro-Prozessor-Informationen für das gesamte System verwalten, warten oder anzeigen, müssen geändert werden, um mehr als 64 logische Prozessoren zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="4f276-128">Applications that manage, maintain, or display per-processor information for the entire system must be modified to support more than 64 logical processors.</span></span> <span data-ttu-id="4f276-129">Ein Beispiel für eine solche Anwendung ist der Windows Task-Manager, in dem die Arbeitsauslastung der einzelnen Prozessoren im System angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="4f276-129">An example of such an application is Windows Task Manager, which displays the workload of each processor in the system.</span></span>
-   <span data-ttu-id="4f276-130">Anwendungen, deren Leistung kritisch ist und die effizient über 64 logische Prozessoren hinaus skaliert werden können, müssen so geändert werden, dass Sie auf solchen Systemen ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="4f276-130">Applications for which performance is critical and that can scale efficiently beyond 64 logical processors must be modified to run on such systems.</span></span> <span data-ttu-id="4f276-131">Datenbankanwendungen können z. b. von Änderungen profitieren.</span><span class="sxs-lookup"><span data-stu-id="4f276-131">For example, database applications might benefit from modifications.</span></span>
-   <span data-ttu-id="4f276-132">Wenn eine Anwendung eine DLL verwendet, die Prozessor übergreifende Datenstrukturen aufweist, und die dll nicht geändert wurde, um mehr als 64 logische Prozessoren zu unterstützen, müssen alle Threads in der Anwendung, die von der dll exportierte Funktionen aufzurufen, derselben Gruppe zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="4f276-132">If an application uses a DLL that has per-processor data structures, and the DLL has not been modified to support more than 64 logical processors, all threads in the application that call functions exported by the DLL must be assigned to the same group.</span></span>

<span data-ttu-id="4f276-133">Standardmäßig ist eine Anwendung auf eine einzelne Gruppe beschränkt, die eine umfangreiche Verarbeitungskapazität für die typische Anwendung bereitstellen sollte.</span><span class="sxs-lookup"><span data-stu-id="4f276-133">By default, an application is constrained to a single group, which should provide ample processing capability for the typical application.</span></span> <span data-ttu-id="4f276-134">Das Betriebssystem weist den einzelnen Prozess anfänglich einer einzelnen Gruppe in den Gruppen im System zu.</span><span class="sxs-lookup"><span data-stu-id="4f276-134">The operating system initially assigns each process to a single group in a round-robin manner across the groups in the system.</span></span> <span data-ttu-id="4f276-135">Ein Prozess beginnt seine Ausführung, die einer Gruppe zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="4f276-135">A process begins its execution assigned to one group.</span></span> <span data-ttu-id="4f276-136">Der erste Thread eines Prozesses wird anfänglich in der Gruppe ausgeführt, der der Prozess zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="4f276-136">The first thread of a process initially runs in the group to which the process is assigned.</span></span> <span data-ttu-id="4f276-137">Jeder neu erstellte Thread wird derselben Gruppe wie der Thread zugewiesen, der ihn erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="4f276-137">Each newly created thread is assigned to the same group as the thread that created it.</span></span>

<span data-ttu-id="4f276-138">Eine Anwendung, die die Verwendung mehrerer Gruppen erfordert, damit Sie auf mehr als 64 Prozessoren ausgeführt werden kann, muss explizit ermitteln, wo die Threads ausgeführt werden müssen, und Sie ist dafür verantwortlich, die Prozessor Affinitäten der Threads auf die gewünschten Gruppen festzulegen.</span><span class="sxs-lookup"><span data-stu-id="4f276-138">An application that requires the use of multiple groups so that it can run on more than 64 processors must explicitly determine where to run its threads and is responsible for setting the threads' processor affinities to the desired groups.</span></span> <span data-ttu-id="4f276-139">Das Flag über [ \_ geordnetes \_ Affinitäts Vererbung](process-creation-flags.md) kann verwendet werden, um einen übergeordneten Prozess (der sich vom aktuellen Prozess unterscheiden kann) anzugeben, von dem die Affinität für einen neuen Prozess generiert wird.</span><span class="sxs-lookup"><span data-stu-id="4f276-139">The [INHERIT\_PARENT\_AFFINITY](process-creation-flags.md) flag can be used to specify a parent process (which can be different than the current process) from which to generate the affinity for a new process.</span></span> <span data-ttu-id="4f276-140">Wenn der Prozess in einer einzelnen Gruppe ausgeführt wird, kann er seine Affinität mithilfe von " [**getprocessaffinitymask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) " und " [**setprocessaffinitymask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) " lesen und ändern, während Sie in derselben Gruppe verbleiben. Wenn die Prozess Affinität geändert wird, wird die neue Affinität auf Ihre Threads angewendet.</span><span class="sxs-lookup"><span data-stu-id="4f276-140">If the process is running in a single group, it can read and modify its affinity using [**GetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) and [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) while remaining in the same group; if the process affinity is modified, the new affinity is applied to its threads.</span></span>

<span data-ttu-id="4f276-141">Die Affinität eines Threads kann bei der Erstellung mithilfe des erweiterten Attributs für die [**\_ \_ Attribut \_ Gruppen \_ Affinität "proc Thread Attribute**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-updateprocthreadattribute) " und [**der Funktion "**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex) " der Funktion "" in der Funktion "-Funktion"</span><span class="sxs-lookup"><span data-stu-id="4f276-141">A thread's affinity can be specified at creation using the [**PROC\_THREAD\_ATTRIBUTE\_GROUP\_AFFINITY**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-updateprocthreadattribute) extended attribute with the [**CreateRemoteThreadEx**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethreadex) function.</span></span> <span data-ttu-id="4f276-142">Nachdem der Thread erstellt wurde, kann seine Affinität durch Aufrufen von [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) oder [**setthreadgroupaffative**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity)geändert werden.</span><span class="sxs-lookup"><span data-stu-id="4f276-142">After the thread is created, its affinity can be changed by calling [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) or [**SetThreadGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-setthreadgroupaffinity).</span></span> <span data-ttu-id="4f276-143">Wenn ein Thread einer anderen Gruppe als der Prozess zugewiesen ist, wird die Affinität des Prozesses so aktualisiert, dass die Thread Affinität enthalten ist, und der Prozess wird zu einem Prozess mit mehreren Gruppen.</span><span class="sxs-lookup"><span data-stu-id="4f276-143">If a thread is assigned to a different group than the process, the process's affinity is updated to include the thread's affinity and the process becomes a multi-group process.</span></span> <span data-ttu-id="4f276-144">Für einzelne Threads müssen weitere Affinitäts Änderungen vorgenommen werden. die Affinität eines Prozesses mit mehreren Gruppen kann nicht mithilfe von [**setprocessaffinitymask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask)geändert werden.</span><span class="sxs-lookup"><span data-stu-id="4f276-144">Further affinity changes must be made for individual threads; a multi-group process's affinity cannot be modified using [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask).</span></span> <span data-ttu-id="4f276-145">Die [**getprocessgroupaff-**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity) Funktion Ruft den Satz von Gruppen ab, denen ein Prozess und seine Threads zugewiesen sind.</span><span class="sxs-lookup"><span data-stu-id="4f276-145">The [**GetProcessGroupAffinity**](/windows/win32/api/processtopologyapi/nf-processtopologyapi-getprocessgroupaffinity) function retrieves the set of groups to which a process and its threads are assigned.</span></span>

<span data-ttu-id="4f276-146">Um die Affinität für alle einem Auftrags Objekt zugeordneten Prozesse anzugeben, verwenden Sie die [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) -Funktion mit der " **jobobjectgroupinformation** "-oder " **jobobjectgroupinformationex** "-Informations Klasse.</span><span class="sxs-lookup"><span data-stu-id="4f276-146">To specify affinity for all processes associated with a job object, use the [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) function with the **JobObjectGroupInformation** or **JobObjectGroupInformationEx** information class.</span></span>

<span data-ttu-id="4f276-147">Ein logischer Prozessor wird durch seine Gruppennummer und deren Gruppen relative Prozessornummer identifiziert.</span><span class="sxs-lookup"><span data-stu-id="4f276-147">A logical processor is identified by its group number and its group-relative processor number.</span></span> <span data-ttu-id="4f276-148">Dies wird durch eine [**Prozessor \_ Zahlen**](/windows/desktop/api/WinNT/ns-winnt-processor_number) Struktur dargestellt.</span><span class="sxs-lookup"><span data-stu-id="4f276-148">This is represented by a [**PROCESSOR\_NUMBER**](/windows/desktop/api/WinNT/ns-winnt-processor_number) structure.</span></span> <span data-ttu-id="4f276-149">Numerische Prozessor Zahlen, die von Legacy Funktionen verwendet werden, sind Gruppen bezogen.</span><span class="sxs-lookup"><span data-stu-id="4f276-149">Numeric processor numbers used by legacy functions are group-relative.</span></span>

<span data-ttu-id="4f276-150">Eine Erörterung der Änderungen an der Betriebssystemarchitektur zur Unterstützung von mehr als 64 Prozessoren finden Sie im Whitepaper [unterstützende Systeme mit mehr als 64 Prozessoren](https://www.microsoft.com/whdc/system/Sysinternals/MoreThan64proc.mspx).</span><span class="sxs-lookup"><span data-stu-id="4f276-150">For a discussion of operating system architecture changes to support more than 64 processors, see the white paper [Supporting Systems That Have More Than 64 Processors](https://www.microsoft.com/whdc/system/Sysinternals/MoreThan64proc.mspx).</span></span>

<span data-ttu-id="4f276-151">Eine Liste der neuen Funktionen und Strukturen, die Prozessor Gruppen unterstützen, finden Sie unter [Neues in Prozessen und Threads](what-s-new-in-processes-and-threads.md).</span><span class="sxs-lookup"><span data-stu-id="4f276-151">For a list of new functions and structures that support processor groups, see [What's New in Processes and Threads](what-s-new-in-processes-and-threads.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="4f276-152">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="4f276-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4f276-153">Mehrere Prozessoren</span><span class="sxs-lookup"><span data-stu-id="4f276-153">Multiple Processors</span></span>](multiple-processors.md)
</dt> <dt>

[<span data-ttu-id="4f276-154">NUMA-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="4f276-154">NUMA Support</span></span>](numa-support.md)
</dt> </dl>

 

 
