---
description: Microsoft Windows ermöglicht Ihnen, den Zugriff auf Thread Objekte zu steuern. Weitere Informationen zur Sicherheit finden Sie unter Access-Control Modell.
ms.assetid: 72709446-5c59-4fac-8dc8-7912906ecc85
title: Thread Sicherheit und Zugriffsrechte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e16b0ac5b4142f819d59775014a82a79a188bdd3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106360530"
---
# <a name="thread-security-and-access-rights"></a>Thread Sicherheit und Zugriffsrechte

Microsoft Windows ermöglicht Ihnen, den Zugriff auf Thread Objekte zu steuern. Weitere Informationen zur Sicherheit finden Sie unter [Zugriffs Steuerungsmodell](../secauthz/access-control-model.md).

Sie können eine [Sicherheits Beschreibung](../secauthz/security-descriptors.md) für einen Thread angeben, wenn Sie die Funktion [**"forateprocess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa)", " [**forateprocessasuser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)", "forateprocesswithlogonw", " [**foratethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread)" oder " [**kreateremotethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) " aufrufen. [](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) Wenn Sie **null** angeben, erhält der Thread eine Standard Sicherheits Beschreibung. Die ACLs in der Standard Sicherheits Beschreibung für einen Thread stammen aus dem primären Token oder dem Identitätswechsel Token des Erstellers.

Rufen Sie die [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) -Funktion auf, um die Sicherheits Beschreibung eines Threads abzurufen. Um die Sicherheits Beschreibung eines Threads zu ändern, müssen Sie die Funktion [**setsecurityinfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) aufrufen.

Das von der Funktion " [**kreatethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) " zurückgegebene Handle verfügt über **Thread \_ \_ Zugriffs** Zugriff auf das Thread Objekt. Wenn Sie die [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) -Funktion aufrufen, gibt das System einen Pseudohandle mit dem maximalen Zugriff zurück, den die Sicherheits Beschreibung des Threads dem Aufrufer zulässt.

Die gültigen Zugriffsrechte für Thread Objekte umfassen die [Standard Zugriffsrechte](../secauthz/standard-access-rights.md) und einige Thread spezifische Zugriffsrechte. In der folgenden Tabelle sind die standardmäßigen Zugriffsrechte aufgelistet, die von allen Objekten verwendet werden.

| Wert                           | Bedeutung                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Delete** (0x00010000l)        | Erforderlich, um das Objekt zu löschen.                                                                                                                                                                                                                                                           |
| **Lesen Sie \_ Control** (0x00020000l) | Ist erforderlich, um Informationen in der Sicherheits Beschreibung für das-Objekt zu lesen, ohne die Informationen in der SACL zu einschließen. Um die SACL zu lesen oder zu schreiben, müssen Sie das **Zugriffs \_ System- \_ Sicherheits** Zugriffsrecht anfordern. Weitere Informationen finden Sie unter [SACL-Zugriffsrecht](../secauthz/sacl-access-right.md). |
| **Synchronisieren** (0x00100000l)   | Das Recht, das Objekt für die Synchronisierung zu verwenden. Dadurch kann ein Thread warten, bis sich das Objekt im signalisierten Zustand befindet.                                                                                                                                                                |
| **Schreiben \_ DAC** (0x00040000l)    | Erforderlich, um die DACL in der Sicherheits Beschreibung für das-Objekt zu ändern.                                                                                                                                                                                                                   |
| **Schreiben \_ Besitzer** (0x00080000l)  | Erforderlich, um den Besitzer in der Sicherheits Beschreibung für das Objekt zu ändern.                                                                                                                                                                                                                  |



 

In der folgenden Tabelle sind die Thread spezifischen Zugriffsrechte aufgeführt.



| Wert                                            | Bedeutung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Synchronisieren** (0x00100000l)                    | Aktiviert die Verwendung des Thread Handles in allen [warte Funktionen](../sync/wait-functions.md).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Thread \_ \_ Zugriff**                          | Alle möglichen Zugriffsrechte für ein Thread Objekt. **Windows Server 2003 und Windows XP:** Der Wert für das Flag für den **\_ \_ Zugriff auf das gesamte Thread** auf Windows Server 2008 und Windows Vista wurde angehoben. Wenn eine für Windows Server 2008 und Windows Vista kompilierte Anwendung unter Windows Server 2003 oder Windows XP ausgeführt wird, enthält das Flag für den **\_ \_ Zugriff auf Thread alle** Zugriffs Bits, die nicht unterstützt werden, und die Funktion, die dieses Flag angibt, schlägt fehl, wenn der **\_ Zugriff \_ verweigert** wurde. Um dieses Problem zu vermeiden, geben Sie den minimalen Satz von Zugriffsrechten an, der für den Vorgang erforderlich ist. Wenn **der \_ gesamte \_ Zugriff auf Thread** erforderlich ist, legen Sie **\_ Win32 \_ Winnt** auf das Betriebssystem fest, das von Ihrer Anwendung als Ziel verwendet wird (z `#define _WIN32_WINNT _WIN32_WINNT_WINXP` . b.). Weitere Informationen finden Sie unter [Verwenden der Windows-Header](../winprog/using-the-windows-headers.md). <br/> |
| **Thread \_ Direkter \_** Identitätswechsel (0x0200)       | Erforderlich für einen Server Thread, der die Identität eines Clients annimmt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Thread \_ \_Kontext erhalten** (0x0008)                | Erforderlich, um den Kontext eines Threads mithilfe von [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext)zu lesen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Thread \_ Identität annehmen (** 0x0100)                 | Ist erforderlich, um die Sicherheitsinformationen eines Threads direkt zu verwenden, ohne ihn mit einem Kommunikationsmechanismus zu verwenden, der Identitätswechsel Dienste bereitstellt.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| **Thread \_ Abfrage \_ Informationen** (0x0040)          | Erforderlich, um bestimmte Informationen aus dem Thread Objekt zu lesen, z. b. den Exitcode (siehe [**GetExitCodeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodethread)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Thread \_ \_Eingeschränkte \_ Informationen Abfragen** (0x0800) | Erforderlich, um bestimmte Informationen aus den Thread Objekten zu lesen (siehe [**getprocessidofthread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getprocessidofthread)). Einem Handle, dem das Zugriffsrecht für die **Thread \_ Abfrage \_ Informationen** zugewiesen ist, werden automatisch **\_ \_ eingeschränkte \_ Informationen zu Thread Abfragen** erteilt.**Windows Server 2003 und Windows XP:** dieses Zugriffsrecht wird nicht unterstützt.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| **Thread \_ \_Kontext festlegen** (0x0010)                | Erforderlich, um den Kontext eines Threads mithilfe von [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext)zu schreiben.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| **Thread \_ \_Informationen festlegen** (0x0020)            | Erforderlich, um bestimmte Informationen im Thread Objekt festzulegen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Thread \_ \_Eingeschränkte \_ Informationen festlegen** (0x0400)   | Erforderlich, um bestimmte Informationen im Thread Objekt festzulegen. Einem Handle, das über die Berechtigung zum **\_ festlegen \_** des Zugriffs auf das Thread Dataset verfügt, werden automatisch **\_ \_ \_ Informationen****zu Thread Satz beschränkten Windows Server 2003 und Windows XP:** dieses Zugriffsrecht wird nicht unterstützt.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| **Thread \_ \_Thread \_ Token festlegen** (0x0080)          | Erforderlich, um das Identitätswechsel Token für einen Thread mithilfe von [**SetThreadToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadtoken)festzulegen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| **Thread \_ Fort \_** setzen fortsetzen (0x0002)             | Erforderlich zum aussetzen oder Fortsetzen eines Threads (siehe [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) und [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Thread \_ Beenden** (0x0001)                   | Erforderlich, um einen Thread mithilfe von [**TerminateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminatethread)zu beenden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



 

Sie können das Zugriffs **\_ System- \_ Sicherheits** Zugriffsrecht für ein Thread Objekt anfordern, wenn Sie die SACL des Objekts lesen oder schreiben möchten. Weitere Informationen finden Sie unter [Zugriffs Steuerungs Listen (Access Control Lists, ACLs)](../secauthz/access-control-lists.md) und [SACL-Zugriffsrecht](../secauthz/sacl-access-right.md).

## <a name="protected-processes"></a>Geschützte Prozesse

*Geschützte Prozesse* verbessern die Unterstützung digitaler Rights Management. Das System schränkt den Zugriff auf geschützte Prozesse und die Threads geschützter Prozesse ein.

**Windows Server 2003 und Windows XP:** Geschützte Prozesse wurden ab Windows Vista hinzugefügt.

Die folgenden spezifischen Zugriffsrechte sind von einem Prozess zu den Threads eines geschützten Prozesses nicht zulässig:

**Thread \_ \_ Zugriff**  
**Thread \_ direkter Identitätswechsel \_**  
**Thread \_ \_ Kontext erhalten**  
**Thread \_ Identität**  
**Thread \_ Abfrage \_ Informationen**  
**Thread \_ Satz \_ Kontext**  
**Thread \_ Satz \_ Informationen**  
**Thread \_ Satz \_ Token**  
**Thread \_ Beenden**  


Das Recht zum Bereitstellen von **\_ \_ eingeschränkten \_ Informationen für Thread Abfragen** wurde eingeführt, um den Zugriff auf eine Teilmenge der Informationen zu ermöglichen, die über **Thread \_ Abfrage \_ Informationen** verfügbar sind

 

 
