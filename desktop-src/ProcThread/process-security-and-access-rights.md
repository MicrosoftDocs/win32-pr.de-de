---
description: Das Microsoft Windows-Sicherheitsmodell ermöglicht es Ihnen, den Zugriff auf die Verarbeitung von Objekten zu steuern. Weitere Informationen zur Sicherheit finden Sie unter Access-Control Modell.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Prozesssicherheit und Zugriffsrechte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 668520a6f4e0eb8a81b55418033ff583bce8bddf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106368743"
---
# <a name="process-security-and-access-rights"></a>Prozesssicherheit und Zugriffsrechte

Das Microsoft Windows-Sicherheitsmodell ermöglicht es Ihnen, den Zugriff auf die Verarbeitung von Objekten zu steuern. Weitere Informationen zur Sicherheit finden Sie unter [Zugriffs Steuerungsmodell](../secauthz/access-control-model.md).

Wenn sich ein Benutzer anmeldet, sammelt das System eine Gruppe von Daten, die den Benutzer während des Authentifizierungs Vorgangs eindeutig identifiziert, und speichert Sie in einem [Zugriffs Token](../secauthz/access-tokens.md). Dieses Zugriffs Token beschreibt den Sicherheitskontext aller Prozesse, die dem Benutzer zugeordnet sind. Der Sicherheitskontext eines Prozesses ist der Satz von Anmelde Informationen für den Prozess oder das Benutzerkonto, das den Prozess erstellt hat.

Sie können ein Token verwenden, um den aktuellen Sicherheitskontext für einen Prozess mithilfe der Funktion " [**kreateprocesswithtokenw**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) " anzugeben. Sie können eine [Sicherheits Beschreibung](../secauthz/security-descriptors.md) für einen Prozess angeben, wenn Sie die Funktion "up- [**Process**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa)", " [**kreateprocessasuser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)" oder " [**deateprocesswithlogonw**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) " aufrufen. Wenn Sie **null** angeben, erhält der Prozess eine Standard Sicherheits Beschreibung. Die ACLs in der Standard Sicherheits Beschreibung für einen Prozess stammen aus dem primären Token oder dem Identitätswechsel Token des Erstellers.

Um die Sicherheits Beschreibung eines Prozesses abzurufen, rufen Sie die [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) -Funktion auf. Um die Sicherheits Beschreibung eines Prozesses zu ändern, müssen Sie die Funktion [**setsecurityinfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) aufrufen.

Zu den gültigen Zugriffsrechten für Prozess Objekte gehören die [Standard Zugriffsrechte](../secauthz/standard-access-rights.md) und einige prozessspezifische Zugriffsrechte. In der folgenden Tabelle sind die standardmäßigen Zugriffsrechte aufgelistet, die von allen Objekten verwendet werden.

| Wert                           | Bedeutung                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **Delete** (0x00010000l)        | Erforderlich, um das Objekt zu löschen.                                                                                                                                                                                                                                                           |
| **Lesen Sie \_ Control** (0x00020000l) | Ist erforderlich, um Informationen in der Sicherheits Beschreibung für das-Objekt zu lesen, ohne die Informationen in der SACL zu einschließen. Um die SACL zu lesen oder zu schreiben, müssen Sie das **Zugriffs \_ System- \_ Sicherheits** Zugriffsrecht anfordern. Weitere Informationen finden Sie unter [SACL-Zugriffsrecht](../secauthz/sacl-access-right.md). |
| **Synchronisieren** (0x00100000l)   | Das Recht, das Objekt für die Synchronisierung zu verwenden. Dadurch kann ein Thread warten, bis sich das Objekt im signalisierten Zustand befindet.                                                                                                                                                                |
| **Schreiben \_ DAC** (0x00040000l)    | Erforderlich, um die DACL in der Sicherheits Beschreibung für das-Objekt zu ändern.                                                                                                                                                                                                                   |
| **Schreiben \_ Besitzer** (0x00080000l)  | Erforderlich, um den Besitzer in der Sicherheits Beschreibung für das Objekt zu ändern.                                                                                                                                                                                                                  |



 

In der folgenden Tabelle sind die prozessspezifischen Zugriffsrechte aufgeführt.



| Wert                                             | Bedeutung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **\_gesamten \_ Zugriff verarbeiten**                          | Alle möglichen Zugriffsrechte für ein Prozess Objekt. **Windows Server 2003 und Windows XP:** Die Größe des **\_ \_ Zugriffsflags für den gesamten Prozess** wurde auf Windows Server 2008 und Windows Vista angehoben. Wenn eine für Windows Server 2008 und Windows Vista kompilierte Anwendung unter Windows Server 2003 oder Windows XP ausgeführt wird, ist das Flag zum **Verarbeiten des \_ gesamten \_ Zugriffs** zu groß, und die Funktion, die dieses Flag angibt, schlägt mit dem **Fehler " \_ Zugriff \_ verweigert**" fehl. Um dieses Problem zu vermeiden, geben Sie den minimalen Satz von Zugriffsrechten an, der für den Vorgang erforderlich ist. Wenn der Prozess für den **\_ gesamten \_ Zugriff** verwendet werden muss, legen Sie \_ Win32 \_ Winnt auf das Betriebssystem fest, das von Ihrer Anwendung verwendet wird (z `#define _WIN32_WINNT _WIN32_WINNT_WINXP` . b.). Weitere Informationen finden Sie unter [Verwenden der Windows-Header](../winprog/using-the-windows-headers.md). <br/> |
| **Prozess \_ \_Prozess erstellen** (0x0080)             | Zum Erstellen eines Prozesses erforderlich.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Prozess \_ \_Thread erstellen** (0x0002)              | Erforderlich, um einen Thread zu erstellen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| **Prozess \_ DUP- \_ handle** (0x0040)                 | Erforderlich, um ein Handle mit [**duplikatandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle)zu duplizieren.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Prozess \_ Abfrage \_ Informationen** (0x0400)          | Erforderlich, um bestimmte Informationen zu einem Prozess abzurufen, z. b. das Token, den Exitcode und die Prioritäts Klasse (siehe [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Prozess \_ \_Eingeschränkte \_ Informationen Abfragen** (0x1000) | Erforderlich, um bestimmte Informationen zu einem Prozess abzurufen (siehe [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**getpriorityclass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**isprocessinjob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**queryfullprocessimagename**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)). Ein Handle, das über die Berechtigung zum **Verarbeiten von \_ Abfrage \_ Informationen** verfügt, erhält automatisch **\_ \_ eingeschränkte \_ Informationen zu Prozess Abfragen**.**Windows Server 2003 und Windows XP:** dieses Zugriffsrecht wird nicht unterstützt.<br/>                                                                                                                                                                                                                                                                                                                         |
| **Prozess \_ \_Informationen festlegen** (0x0200)            | Erforderlich, um bestimmte Informationen zu einem Prozess festzulegen, z. b. die Prioritäts Klasse (siehe [**setpriorityclass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Prozess \_ \_Kontingent festlegen** (0x0100)                  | Erforderlich, um Speicher Limits mithilfe von [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize)festzulegen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Prozess \_ Fort \_** setzen fortsetzen (0x0800)             | Ist erforderlich, um einen Prozess anzuhalten oder fortzusetzen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| **Prozess \_ Beenden** (0x0001)                   | Erforderlich, um einen Prozess mit [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess)zu beenden.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **Prozess \_ VM- \_ Vorgang** (0x0008)               | Ist erforderlich, um einen Vorgang für den Adressraum eines Prozesses auszuführen (siehe [**virtualprotectex**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) und [**Beschreib teprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| **Prozess \_ VM- \_ Lese** Vorgang (0x0010)                    | Erforderlich, um Arbeitsspeicher in einem Prozess mit " [**leseprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory)" zu lesen.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **Prozess \_ VM- \_ Schreib** Vorgänge (0x0020)                   | Erforderlich, um in einem Prozess mit "Write- [**processmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)" in den Arbeitsspeicher zu schreiben.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **Synchronisieren** (0x00100000l)                     | Muss gewartet werden, um auf das Beenden des Prozesses mithilfe der [Wait-Funktionen](../sync/wait-functions.md)zu warten.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

Zum Öffnen eines Handles für einen anderen Prozess und zum Abrufen von vollständigen Zugriffsrechten müssen **Sie die Berechtigung** "" für "" die Berechtigung "*" aktivieren. Weitere Informationen finden Sie unter [Ändern von Berechtigungen in einem Token](../secbp/changing-privileges-in-a-token.md).

Das Handle, das von der Funktion "up- [**Process**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) " zurückgegeben wird **, hat Zugriff auf das Prozess Objekt \_ \_** . Wenn Sie die [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) -Funktion aufrufen, prüft das System die angeforderten [Zugriffsrechte](../secauthz/access-rights-and-access-masks.md) auf die DACL in der Sicherheits Beschreibung des Prozesses. Wenn Sie die [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) -Funktion aufrufen, gibt das System ein Pseudohandle mit dem maximalen Zugriff zurück, den die DACL dem Aufrufer zulässt.

Sie können das **Zugriffs \_ System- \_ Sicherheits** Zugriffsrecht für ein Prozess Objekt anfordern, wenn Sie die SACL des Objekts lesen oder schreiben möchten. Weitere Informationen finden Sie unter [Zugriffs Steuerungs Listen (Access Control Lists, ACLs)](../secauthz/access-control-lists.md) und [SACL-Zugriffsrecht](../secauthz/sacl-access-right.md).

> [!WARNING]
> Ein Prozess, der über einige der hier angegebenen Zugriffsrechte verfügt, kann Sie verwenden, um andere Zugriffsrechte zu erhalten. Wenn z. b. Prozess a ein Handle für die Verarbeitung von B mit **Prozess- \_ DUP- \_ handle** -Zugriff hat, kann er das Pseudo Handle für Prozess B duplizieren. Dadurch wird ein Handle erstellt, das über maximalen Zugriff auf den Prozess B verfügt. Weitere Informationen zu Pseudo Handles finden Sie unter [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).

 

## <a name="protected-processes"></a>Geschützte Prozesse

Mit Windows Vista werden *geschützte Prozesse* eingeführt, um die Unterstützung digitaler Rights Management zu verbessern. Das System schränkt den Zugriff auf geschützte Prozesse und die Threads geschützter Prozesse ein.

Die folgenden Standard Zugriffsrechte sind von einem Prozess zu einem geschützten Prozess nicht zulässig:

- **DELETE**  
- **Lese \_ Steuerelement**  
- **\_DAC schreiben**  
- **\_Besitzer schreiben**  

Die folgenden spezifischen Zugriffsrechte sind von einem Prozess zu einem geschützten Prozess nicht zulässig:

- **\_gesamten \_ Zugriff verarbeiten**  
- **Prozess Erstellungs \_ \_ Prozess**  
- **Prozess zum \_ Erstellen von \_ Threads**  
- **Prozess- \_ DUP- \_ handle**  
- **Verarbeiten von \_ Abfrage \_ Informationen**  
- **Prozess \_ Satz \_ Informationen**  
- **Kontingent für Prozess \_ Satz \_**  
- **Vorgang "VM verarbeiten" \_ \_**  
- **Prozess- \_ VM \_ Lesen**  
- **Prozess- \_ VM \_ schreiben**  

Das Recht **Prozess \_ Abfrage \_ beschränkte \_ Informationen** wurde eingeführt, um den Zugriff auf eine Teilmenge der Informationen zu ermöglichen, die über **Prozess \_ Abfrage \_ Informationen** zur Verfügung stehen.
