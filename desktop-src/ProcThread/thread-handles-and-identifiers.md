---
description: Wenn ein neuer Thread durch die Funktion "foratethread" oder "forateremotethread" erstellt wird, wird ein Handle für den Thread zurückgegeben.
ms.assetid: ff91fe27-9773-4185-bc1e-57e897be3821
title: Thread Handles und-Bezeichner
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 501d449bdb34d158ad14e52409967d4ef17f62f3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865055"
---
# <a name="thread-handles-and-identifiers"></a><span data-ttu-id="25bef-103">Thread Handles und-Bezeichner</span><span class="sxs-lookup"><span data-stu-id="25bef-103">Thread Handles and Identifiers</span></span>

<span data-ttu-id="25bef-104">Wenn ein neuer Thread durch die Funktion " [**foratethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) " oder " [**forateremotethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) " erstellt wird, wird ein Handle für den Thread zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="25bef-104">When a new thread is created by the [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) or [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) function, a handle to the thread is returned.</span></span> <span data-ttu-id="25bef-105">Standardmäßig verfügt dieses Handle über vollständige Zugriffsrechte, und – unterliegt der Sicherheits Zugriffs Überprüfung – kann in allen Funktionen verwendet werden, die ein Thread handle akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="25bef-105">By default, this handle has full access rights, and—subject to security access checking—can be used in any of the functions that accept a thread handle.</span></span> <span data-ttu-id="25bef-106">Dieses Handle kann von untergeordneten Prozessen geerbt werden, abhängig von dem Vererbungs Flag, das bei der Erstellung angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="25bef-106">This handle can be inherited by child processes, depending on the inheritance flag specified when it is created.</span></span> <span data-ttu-id="25bef-107">Das Handle kann durch [**duplitorehandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle)dupliziert werden, sodass Sie ein Thread Handle mit einer Teilmenge der Zugriffsrechte erstellen können.</span><span class="sxs-lookup"><span data-stu-id="25bef-107">The handle can be duplicated by [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle), which enables you to create a thread handle with a subset of the access rights.</span></span> <span data-ttu-id="25bef-108">Das Handle ist bis zum Schließen gültig, auch nachdem der Thread, den es darstellt, beendet wurde.</span><span class="sxs-lookup"><span data-stu-id="25bef-108">The handle is valid until closed, even after the thread it represents has been terminated.</span></span>

<span data-ttu-id="25bef-109">Die Funktionen " [**foratethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) " und " [**forateremotethread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) " geben auch einen Bezeichner zurück, der den Thread im gesamten System eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="25bef-109">The [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) and [**CreateRemoteThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createremotethread) functions also return an identifier that uniquely identifies the thread throughout the system.</span></span> <span data-ttu-id="25bef-110">Ein Thread kann die [**GetCurrentThreadID**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) -Funktion verwenden, um einen eigenen Thread Bezeichner zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="25bef-110">A thread can use the [**GetCurrentThreadId**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthreadid) function to get its own thread identifier.</span></span> <span data-ttu-id="25bef-111">Die Bezeichner sind ab dem Zeitpunkt gültig, zu dem der Thread erstellt wird, bis der Thread beendet wurde.</span><span class="sxs-lookup"><span data-stu-id="25bef-111">The identifiers are valid from the time the thread is created until the thread has been terminated.</span></span> <span data-ttu-id="25bef-112">Beachten Sie, dass der Thread Bezeichner niemals 0 sein wird.</span><span class="sxs-lookup"><span data-stu-id="25bef-112">Note that no thread identifier will ever be 0.</span></span>

<span data-ttu-id="25bef-113">Wenn Sie einen Thread Bezeichner haben, können Sie das Thread handle abrufen, indem Sie die [**openthread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="25bef-113">If you have a thread identifier, you can get the thread handle by calling the [**OpenThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openthread) function.</span></span> <span data-ttu-id="25bef-114">Mit **openthread** können Sie die Zugriffsrechte des Handles angeben und angeben, ob es vererbt werden kann.</span><span class="sxs-lookup"><span data-stu-id="25bef-114">**OpenThread** enables you to specify the handle's access rights and whether it can be inherited.</span></span>

<span data-ttu-id="25bef-115">Ein Thread kann die [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) -Funktion verwenden, um ein *Pseudo handle* zum eigenen Thread Objekt abzurufen.</span><span class="sxs-lookup"><span data-stu-id="25bef-115">A thread can use the [**GetCurrentThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentthread) function to retrieve a *pseudo handle* to its own thread object.</span></span> <span data-ttu-id="25bef-116">Dieses Pseudo Handle ist nur für den aufrufenden Prozess gültig. Sie kann nicht für die Verwendung durch andere Prozesse geerbt oder dupliziert werden.</span><span class="sxs-lookup"><span data-stu-id="25bef-116">This pseudo handle is valid only for the calling process; it cannot be inherited or duplicated for use by other processes.</span></span> <span data-ttu-id="25bef-117">Um das eigentliche Handle für den Thread mit einem Pseudo Handle zu erhalten, verwenden Sie die [**duplitorandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="25bef-117">To get the real handle to the thread, given a pseudo handle, use the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function.</span></span>

<span data-ttu-id="25bef-118">Um die Threads eines Prozesses aufzulisten, verwenden Sie die [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) -Funktion und die [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="25bef-118">To enumerate the threads of a process, use the [**Thread32First**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32first) and [**Thread32Next**](/windows/win32/api/tlhelp32/nf-tlhelp32-thread32next) functions.</span></span>

 

 
