---
description: 'Computer mit mehreren Prozessoren sind in der Regel für eine von zwei Architekturen konzipiert: Non-Uniform Memory Access (NUMA) oder symmetrischen Multiprocessing (SMP).'
ms.assetid: 3c9186c8-a54d-4536-8237-bfff78cc7d11
title: Mehrere Prozessoren
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0093404a0df653a153823915f1ac72b5e41d50c0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106348006"
---
# <a name="multiple-processors"></a><span data-ttu-id="3bf5d-103">Mehrere Prozessoren</span><span class="sxs-lookup"><span data-stu-id="3bf5d-103">Multiple Processors</span></span>

<span data-ttu-id="3bf5d-104">Computer mit mehreren Prozessoren sind in der Regel für eine von zwei Architekturen konzipiert: Non-Uniform Memory Access (NUMA) oder symmetrischen Multiprocessing (SMP).</span><span class="sxs-lookup"><span data-stu-id="3bf5d-104">Computers with multiple processors are typically designed for one of two architectures: non-uniform memory access (NUMA) or symmetric multiprocessing (SMP).</span></span>

<span data-ttu-id="3bf5d-105">Bei einem NUMA-Computer ist jeder Prozessor näher an einigen Teilen des Speichers als andere, sodass der Speicherzugriff für einige Teile des Speichers schneller ist als bei anderen Teilen.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-105">In a NUMA computer, each processor is closer to some parts of memory than others, making memory access faster for some parts of memory than other parts.</span></span> <span data-ttu-id="3bf5d-106">Im NUMA-Modell versucht das System, Threads auf Prozessoren zu planen, die sich in der Nähe des verwendeten Speichers befinden.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-106">Under the NUMA model, the system attempts to schedule threads on processors that are close to the memory being used.</span></span> <span data-ttu-id="3bf5d-107">Weitere Informationen zu NUMA finden Sie [unter NUMA-Unterstützung](numa-support.md).</span><span class="sxs-lookup"><span data-stu-id="3bf5d-107">For more information about NUMA, see [NUMA Support](numa-support.md).</span></span>

<span data-ttu-id="3bf5d-108">Auf einem SMP-Computer stellen zwei oder mehr identische Prozessoren oder Kerne eine Verbindung mit einem einzelnen gemeinsam genutzten Hauptspeicher her.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-108">In an SMP computer, two or more identical processors or cores connect to a single shared main memory.</span></span> <span data-ttu-id="3bf5d-109">Unter dem SMP-Modell kann jeder beliebige Thread jedem Prozessor zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-109">Under the SMP model, any thread can be assigned to any processor.</span></span> <span data-ttu-id="3bf5d-110">Daher ähnelt das Planen von Threads auf einem SMP-Computer dem Planen von Threads auf einem Computer mit einem einzelnen Prozessor.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-110">Therefore, scheduling threads on an SMP computer is similar to scheduling threads on a computer with a single processor.</span></span> <span data-ttu-id="3bf5d-111">Allerdings verfügt der Planer über einen Pool von Prozessoren, sodass er die gleichzeitige Ausführung von Threads planen kann.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-111">However, the scheduler has a pool of processors, so that it can schedule threads to run concurrently.</span></span> <span data-ttu-id="3bf5d-112">Die Planung wird weiterhin durch die Thread Priorität bestimmt. Sie kann jedoch durch Festlegen der Thread Affinität und des idealen Thread-Prozessors beeinflusst werden, wie in diesem Thema erläutert.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-112">Scheduling is still determined by thread priority, but it can be influenced by setting thread affinity and thread ideal processor, as discussed in this topic.</span></span>

## <a name="thread-affinity"></a><span data-ttu-id="3bf5d-113">Thread Affinität</span><span class="sxs-lookup"><span data-stu-id="3bf5d-113">Thread Affinity</span></span>

<span data-ttu-id="3bf5d-114">*Thread Affinität* erzwingt, dass ein Thread für eine bestimmte Teilmenge von Prozessoren ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-114">*Thread affinity* forces a thread to run on a specific subset of processors.</span></span> <span data-ttu-id="3bf5d-115">Das Festlegen der Thread Affinität sollte in der Regel vermieden werden, da Sie die Möglichkeit des Zeit Planungs Moduls beeinträchtigen kann, Threads über Prozessoren hinweg effektiv zu planen.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-115">Setting thread affinity should generally be avoided, because it can interfere with the scheduler's ability to schedule threads effectively across processors.</span></span> <span data-ttu-id="3bf5d-116">Dies kann die Leistungssteigerungen verringern, die bei der parallelen Verarbeitung erzielt werden.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-116">This can decrease the performance gains produced by parallel processing.</span></span> <span data-ttu-id="3bf5d-117">Eine angemessene Verwendung der Thread Affinität ist das Testen der einzelnen Prozessoren.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-117">An appropriate use of thread affinity is testing each processor.</span></span>

<span data-ttu-id="3bf5d-118">Das System stellt eine Affinität mit einer Bitmaske dar, die als Prozessor Affinitäts Maske bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-118">The system represents affinity with a bitmask called a processor affinity mask.</span></span> <span data-ttu-id="3bf5d-119">Die Affinitäts Maske ist die Größe der maximalen Anzahl von Prozessoren im System, wobei Bits zum Identifizieren einer Teilmenge der Prozessoren festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-119">The affinity mask is the size of the maximum number of processors in the system, with bits set to identify a subset of processors.</span></span> <span data-ttu-id="3bf5d-120">Anfänglich bestimmt das System die Teilmenge der Prozessoren in der Maske.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-120">Initially, the system determines the subset of processors in the mask.</span></span>

<span data-ttu-id="3bf5d-121">Sie können die aktuelle Thread Affinität für alle Threads des Prozesses abrufen, indem Sie die [**getprocessaffinitymask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-121">You can obtain the current thread affinity for all threads of the process by calling the [**GetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-getprocessaffinitymask) function.</span></span> <span data-ttu-id="3bf5d-122">Verwenden Sie die Funktion [**setprocessaffinitymask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) , um die Thread Affinität für alle Threads des Prozesses anzugeben.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-122">Use the [**SetProcessAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setprocessaffinitymask) function to specify thread affinity for all threads of the process.</span></span> <span data-ttu-id="3bf5d-123">Verwenden Sie die Funktion [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) , um die Thread Affinität für einen einzelnen Thread festzulegen.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-123">To set the thread affinity for a single thread, use the [**SetThreadAffinityMask**](/windows/desktop/api/WinBase/nf-winbase-setthreadaffinitymask) function.</span></span> <span data-ttu-id="3bf5d-124">Die Thread Affinität muss eine Teilmenge der Prozess Affinität sein.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-124">The thread affinity must be a subset of the process affinity.</span></span>

<span data-ttu-id="3bf5d-125">Auf Systemen mit mehr als 64 Prozessoren stellt die Affinitäts Maske anfänglich Prozessoren in einer einzelnen Prozessor Gruppe dar.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-125">On systems with more than 64 processors, the affinity mask initially represents processors in a single processor group.</span></span> <span data-ttu-id="3bf5d-126">Thread Affinität kann jedoch auf einen Prozessor in einer anderen Gruppe festgelegt werden, wodurch die Affinitäts Maske für den Prozess geändert wird.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-126">However, thread affinity can be set to a processor in a different group, which alters the affinity mask for the process.</span></span> <span data-ttu-id="3bf5d-127">Weitere Informationen finden Sie unter [Prozessor Gruppen](processor-groups.md).</span><span class="sxs-lookup"><span data-stu-id="3bf5d-127">For more information, see [Processor Groups](processor-groups.md).</span></span>

## <a name="thread-ideal-processor"></a><span data-ttu-id="3bf5d-128">Thread idealer Prozessor</span><span class="sxs-lookup"><span data-stu-id="3bf5d-128">Thread Ideal Processor</span></span>

<span data-ttu-id="3bf5d-129">Wenn Sie einen *Thread idealen Prozessor* angeben, führt der Scheduler den Thread nach Möglichkeit auf dem angegebenen Prozessor aus.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-129">When you specify a *thread ideal processor*, the scheduler runs the thread on the specified processor when possible.</span></span> <span data-ttu-id="3bf5d-130">Verwenden Sie die [**setthreadidealprocessor**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadidealprocessor) -Funktion, um einen bevorzugten Prozessor für einen Thread anzugeben.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-130">Use the [**SetThreadIdealProcessor**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadidealprocessor) function to specify a preferred processor for a thread.</span></span> <span data-ttu-id="3bf5d-131">Dies garantiert nicht, dass der ideale Prozessor ausgewählt wird, stellt jedoch einen nützlichen Hinweis für den Scheduler bereit.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-131">This does not guarantee that the ideal processor will be chosen but provides a useful hint to the scheduler.</span></span> <span data-ttu-id="3bf5d-132">Auf Systemen mit mehr als 64 Prozessoren können Sie die Funktion " [**setthreadidealprocessorex**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadidealprocessorex) " verwenden, um einen bevorzugten Prozessor in einer bestimmten Prozessor Gruppe anzugeben.</span><span class="sxs-lookup"><span data-stu-id="3bf5d-132">On systems with more than 64 processors, you can use the [**SetThreadIdealProcessorEx**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadidealprocessorex) function to specify a preferred processor in a specific processor group.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3bf5d-133">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="3bf5d-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3bf5d-134">NUMA-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="3bf5d-134">NUMA Support</span></span>](numa-support.md)
</dt> <dt>

[<span data-ttu-id="3bf5d-135">Prozessorgruppen</span><span class="sxs-lookup"><span data-stu-id="3bf5d-135">Processor Groups</span></span>](processor-groups.md)
</dt> </dl>

 

 
