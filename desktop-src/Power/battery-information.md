---
description: Akkus können Stromversorgung für tragbare Computer und Computer bereitstellen, die auf einer unterbrechungsfreien Stromversorgung (USV) ausgeführt werden.
ms.assetid: 3580b37d-611c-46b4-9300-4943833d6852
title: Akku Informationen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a4f9838a2a95db037b9655f116f07e3cf2e072d4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106368745"
---
# <a name="battery-information"></a><span data-ttu-id="13111-103">Akku Informationen</span><span class="sxs-lookup"><span data-stu-id="13111-103">Battery Information</span></span>

<span data-ttu-id="13111-104">Akkus können Stromversorgung für tragbare Computer und Computer bereitstellen, die auf einer unterbrechungsfreien Stromversorgung (USV) ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="13111-104">Batteries can provide power for portable computers and computers running on an uninterruptible power supply (UPS).</span></span> <span data-ttu-id="13111-105">Auf diesen Computern bietet das Betriebssysteminformationen zum Zustand des Akkus, damit Anwendungen nützliche Funktionen für den Benutzer bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="13111-105">On these computers, the operating system provides information on the state of the battery so applications can provide useful functions for the user.</span></span> <span data-ttu-id="13111-106">(Einige ältere nicht standardmäßige Akku Systeme und UPSS werden nicht unterstützt.)</span><span class="sxs-lookup"><span data-stu-id="13111-106">(Some older nonstandard battery systems and UPSs are not supported.)</span></span>

<span data-ttu-id="13111-107">Beachten Sie, dass diese Übersicht voraussetzt, dass Sie mit der [Geräteverwaltung](/windows/desktop/DevIO/device-management)vertraut sind.</span><span class="sxs-lookup"><span data-stu-id="13111-107">Note that this overview assumes you are familiar with [device management](/windows/desktop/DevIO/device-management).</span></span>

<span data-ttu-id="13111-108">Um Informationen zum Akku Status zu erhalten, verwenden Sie die [**GetSystemPowerStatus**](/windows/desktop/api/Winbase/nf-winbase-getsystempowerstatus) -Funktion, die allgemeine Informationen zu allen Stromquellen im System zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="13111-108">To obtain information about the battery status, use the [**GetSystemPowerStatus**](/windows/desktop/api/Winbase/nf-winbase-getsystempowerstatus) function, which returns general information about all power sources in the system.</span></span> <span data-ttu-id="13111-109">Sie sollten **GetSystemPowerStatus** nach Möglichkeit verwenden.</span><span class="sxs-lookup"><span data-stu-id="13111-109">You should use **GetSystemPowerStatus** whenever possible.</span></span>

<span data-ttu-id="13111-110">In einigen Fällen sind jedoch ausführliche Informationen zu den einzelnen Akkus erforderlich.</span><span class="sxs-lookup"><span data-stu-id="13111-110">In some cases, however, detailed information about each individual battery is necessary.</span></span> <span data-ttu-id="13111-111">Zu diesem Zweck macht jedes Akku Gerät eine ioctl-Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="13111-111">For this purpose, each battery device exposes an IOCTL interface.</span></span> <span data-ttu-id="13111-112">Die folgenden ioctl-Vorgänge werden mithilfe der [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) -Funktion ausgeführt:</span><span class="sxs-lookup"><span data-stu-id="13111-112">The following IOCTL operations are performed using the [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) function:</span></span>

<dl>

[<span data-ttu-id="13111-113">**IOCTL- \_ Akku \_ Abfrage \_ Informationen**</span><span class="sxs-lookup"><span data-stu-id="13111-113">**IOCTL\_BATTERY\_QUERY\_INFORMATION**</span></span>](ioctl-battery-query-information.md)  
[<span data-ttu-id="13111-114">**IOCTL \_ Akku \_ Query- \_ Status**</span><span class="sxs-lookup"><span data-stu-id="13111-114">**IOCTL\_BATTERY\_QUERY\_STATUS**</span></span>](ioctl-battery-query-status.md)  
[<span data-ttu-id="13111-115">**IOCTL \_ Akku \_ - \_ abfragetag**</span><span class="sxs-lookup"><span data-stu-id="13111-115">**IOCTL\_BATTERY\_QUERY\_TAG**</span></span>](ioctl-battery-query-tag.md)  
[<span data-ttu-id="13111-116">**IOCTL- \_ Akku \_ Satz \_ Informationen**</span><span class="sxs-lookup"><span data-stu-id="13111-116">**IOCTL\_BATTERY\_SET\_INFORMATION**</span></span>](ioctl-battery-set-information.md)  
</dl>

<span data-ttu-id="13111-117">Um diese Schnittstelle zu verwenden, muss eine Anwendung mehreren Schritten folgen.</span><span class="sxs-lookup"><span data-stu-id="13111-117">To use this interface, an application must follow several steps.</span></span> <span data-ttu-id="13111-118">Zuerst müssen Setup Routinen verwendet werden, um alle Geräte aufzulisten, die über eine Akku Klassen Schnittstelle verfügen.</span><span class="sxs-lookup"><span data-stu-id="13111-118">First, it must use setup routines to enumerate all devices that have a battery class interface.</span></span> <span data-ttu-id="13111-119">Beachten Sie, dass diese Geräte die Akku Anschlüsse und nicht die tatsächlich im System vorhandenen Akkus darstellen.</span><span class="sxs-lookup"><span data-stu-id="13111-119">Note that these devices represent the battery ports, not actual batteries present in the system.</span></span> <span data-ttu-id="13111-120">Die Anwendung muss dann ein Handle für jedes Gerät öffnen, damit Sie die Funktion [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) verwenden kann, um Anforderungen an das Gerät zu senden, und dann Tags für alle Akkus abrufen, die eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="13111-120">The application must then open a handle to each device so it can use the [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol) function to send requests to the device, and then acquire tags for any batteries that are inserted.</span></span> <span data-ttu-id="13111-121">Nachdem Sie diese Schritte ausgeführt haben, kann die Anwendung Abfragen an die einzelnen Akku Geräte senden.</span><span class="sxs-lookup"><span data-stu-id="13111-121">After completing these steps, the application can send queries to each battery device.</span></span>

## <a name="battery-tags"></a><span data-ttu-id="13111-122">Akku-Tags</span><span class="sxs-lookup"><span data-stu-id="13111-122">Battery Tags</span></span>

<span data-ttu-id="13111-123">Da jedes Akku Gerät einen Slot darstellt, in den ein Akku eingefügt werden kann, muss es eine Möglichkeit geben, zu bestimmen, wann der Akku entfernt und erneut eingefügt, ersetzt oder geändert wird.</span><span class="sxs-lookup"><span data-stu-id="13111-123">Because each battery device represents a slot into which a battery can be inserted, there must be a way to determine when the battery is removed and reinserted, replaced, or changed in any other way.</span></span> <span data-ttu-id="13111-124">Zu diesem Zweck wird jedem Akku in einem bestimmten Slot ein Tag zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="13111-124">To do this, each battery in a particular slot is assigned a tag.</span></span> <span data-ttu-id="13111-125">Dieses Tag muss für alle Abfragen nach Informationen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="13111-125">This tag must be used for all queries for information.</span></span> <span data-ttu-id="13111-126">Wenn das von der Anwendung bereitgestellte Tag nicht mit dem Akku identisch ist, schlägt die Abfrage fehl, was der Anwendung anzeigt, dass sich der Akku auf irgendeine Weise geändert hat.</span><span class="sxs-lookup"><span data-stu-id="13111-126">If the tag provided by the application does not match the battery, the query fails, indicating to the application that the battery has changed in some way.</span></span> <span data-ttu-id="13111-127">Zum erfolgreichen Abschluss der Abfrage ist ein neues Akku Kennzeichen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="13111-127">To successfully complete the query, a new battery tag is required.</span></span> <span data-ttu-id="13111-128">Erwerben Sie das Tag mithilfe des [**IOCTL- \_ \_ abfragetagvorgangs \_**](ioctl-battery-query-tag.md) .</span><span class="sxs-lookup"><span data-stu-id="13111-128">Acquire the tag using the [**IOCTL\_BATTERY\_QUERY\_TAG**](ioctl-battery-query-tag.md) operation.</span></span> <span data-ttu-id="13111-129">Wenn ein Akku in diesem Slot vorhanden ist, kann das zurückgegebene Tag an jeden anderen Akku-IOCTLs zum Ausführen anderer Funktionen übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="13111-129">If a battery is present in that slot, the tag returned can be passed to any of the other battery IOCTLs to perform other functions.</span></span> <span data-ttu-id="13111-130">Auf einem System mit mehreren Akkus gibt jedes Akku Gerät (Slot) Akku Tags unabhängig aus, sodass das Tag von zwei separaten Geräten manchmal identisch sein könnte.</span><span class="sxs-lookup"><span data-stu-id="13111-130">On a multi-battery system, each battery device (slot) issues battery tags independently, so the tag from two separate devices could at times be identical.</span></span>

<span data-ttu-id="13111-131">Eine Änderung im Akku-Tag bedeutet nicht notwendigerweise, dass der Akku entfernt und erneut eingefügt oder ersetzt wurde.</span><span class="sxs-lookup"><span data-stu-id="13111-131">A change in the battery tag does not necessarily mean that the battery was removed and reinserted or replaced.</span></span> <span data-ttu-id="13111-132">Ein neues Tag kann generiert werden, wenn eine Änderung in einem der Daten vorliegt, die normalerweise statisch wäre.</span><span class="sxs-lookup"><span data-stu-id="13111-132">A new tag can be generated if there is a change in any of the data that would normally be static.</span></span> <span data-ttu-id="13111-133">Wenn z. b. die Abrechnung für einen Akku abgeschlossen ist, hat sich möglicherweise die letzte vollständig berechnete Kapazität geändert.</span><span class="sxs-lookup"><span data-stu-id="13111-133">For example, when a battery is done charging, the last fully charged capacity may have changed.</span></span> <span data-ttu-id="13111-134">Das Tag kann sich auch ändern, wenn die Akku Kommunikation vorübergehend unterbrochen wurde oder wenn eine falsche Benachrichtigung vom BIOS aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="13111-134">The tag can also change if battery communication was temporarily lost or if there was an improper notification from the BIOS.</span></span> <span data-ttu-id="13111-135">Auf einigen Systemen kann das Akku Kennzeichen immer dann aktualisiert werden, wenn sich der AC-Status ändert.</span><span class="sxs-lookup"><span data-stu-id="13111-135">On some systems, the battery tag may be updated whenever the AC status changes.</span></span> <span data-ttu-id="13111-136">Dieses Verhalten ist auf ein Merkmal des Akku Systems zurückzuführen und nicht üblich.</span><span class="sxs-lookup"><span data-stu-id="13111-136">This behavior is due to a characteristic of the battery system and isn't common.</span></span>

<span data-ttu-id="13111-137">Wenn das Akku Kennzeichen aktualisiert wird, sollte der Akku so behandelt werden, als ob es sich um einen neuen Akku handelt und alle zwischengespeicherten Daten erneut gelesen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="13111-137">Whenever the battery tag is updated, the battery should be treated as if it were a new battery and all cached data should be re-read.</span></span> <span data-ttu-id="13111-138">Wenn eine Anwendung wissen muss, ob dieselbe physische Akkukapazität vorhanden ist, sollte Sie den Wert von " **batteryuniqueid** " im Ausgabepuffer der [**IOCTL- \_ Akku \_ Abfrage \_ Informationen**](ioctl-battery-query-information.md) überprüfen, wenn Sie mit der Informationen auf der Ebene " **batteryuniqueid** " aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="13111-138">If an application needs to know if the same physical battery is present, it should check the value of **BatteryUniqueID** in the output buffer of [**IOCTL\_BATTERY\_QUERY\_INFORMATION**](ioctl-battery-query-information.md) when called with the **BatteryUniqueID** information level.</span></span>

## <a name="related-topics"></a><span data-ttu-id="13111-139">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="13111-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="13111-140">Informationen zur Energie Verwaltung</span><span class="sxs-lookup"><span data-stu-id="13111-140">About Power Management</span></span>](about-power-management.md)
</dt> <dt>

[<span data-ttu-id="13111-141">Aufzählen von Akku Geräten</span><span class="sxs-lookup"><span data-stu-id="13111-141">Enumerating Battery Devices</span></span>](enumerating-battery-devices.md)
</dt> </dl>

 

 
