---
description: Solange das System feststellt, dass Benutzer-oder Anwendungs Aktivitäten vorhanden sind, wird es nicht in den Standbymodus versetzt.
ms.assetid: 83c9394a-1813-405a-802a-0623e5de50d3
title: System Energiespar Kriterien
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b90950b980ec1e0fa06171d7a57d76b410534f96
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103756565"
---
# <a name="system-sleep-criteria"></a><span data-ttu-id="7557b-103">System Energiespar Kriterien</span><span class="sxs-lookup"><span data-stu-id="7557b-103">System Sleep Criteria</span></span>

<span data-ttu-id="7557b-104">Solange das System feststellt, dass Benutzer-oder Anwendungs Aktivitäten vorhanden sind, wird es nicht in den Standbymodus versetzt.</span><span class="sxs-lookup"><span data-stu-id="7557b-104">As long as the system determines that there is user or application activity, it will not enter sleep.</span></span> <span data-ttu-id="7557b-105">Das System kann bestimmte Aktivitäten, z. b. Benutzereingaben oder Netzwerkkommunikation, erkennen.</span><span class="sxs-lookup"><span data-stu-id="7557b-105">The system can detect certain activities, such as user input or network communications.</span></span> <span data-ttu-id="7557b-106">Es gibt jedoch andere Aktivitäten, die vom System nicht erkannt werden können.</span><span class="sxs-lookup"><span data-stu-id="7557b-106">However, there are other activities that the system cannot detect.</span></span> <span data-ttu-id="7557b-107">Beispielsweise erfordert eine Präsentations Anwendung, dass der Bildschirm angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7557b-107">For example, a presentation application requires the screen for display.</span></span> <span data-ttu-id="7557b-108">Es kann jedoch vorkommen, dass die Anwendung während der Präsentation im Leerlauf ist, was dazu führt, dass das System die Anzeige deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="7557b-108">However, it may appear that the application is idle during the presentation, causing the system to turn off the display.</span></span>

<span data-ttu-id="7557b-109">Verwenden Sie die Funktion [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) , um das System zu benachrichtigen, dass Ihre Anwendung ausgelastet ist.</span><span class="sxs-lookup"><span data-stu-id="7557b-109">To notify the system that your application is busy, use the [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) function.</span></span> <span data-ttu-id="7557b-110">Diese Funktion verhindert, dass das System in den Standbymodus wechselt, oder schaltet die Anzeige aus, während die Anwendung ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7557b-110">This function prevents the system from entering sleep or turning off the display while the application is running.</span></span>

<span data-ttu-id="7557b-111">Präsentations-und Multimediaanwendungen müssen die Funktion [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) mit der **\_ Anzeige \_ erforderlich** aufrufen, damit das System weiß, dass das Anzeigegerät nicht in den Standbymodus versetzt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7557b-111">Presentation and multimedia applications must call the [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) function with **ES\_DISPLAY\_REQUIRED** so that the system will know that it should not put the display device to sleep.</span></span> <span data-ttu-id="7557b-112">Ereignis Behandlungs Anwendungen, wie z. b. Tools zum Verwalten eingehender Faxe, müssen **SetThreadExecutionState** mit **es- \_ System \_ erforderlich** aufrufen, das-Ereignis behandeln und dann das-Flag löschen, damit das System in den Standbymodus zurückkehren kann.</span><span class="sxs-lookup"><span data-stu-id="7557b-112">Event-handling applications, such as tools for managing incoming faxes, must call **SetThreadExecutionState** with **ES\_SYSTEM\_REQUIRED**, handle the event, and then clear the flag so the system can return to sleep.</span></span> <span data-ttu-id="7557b-113">Beachten Sie, dass die meisten Produktivitätsanwendungen nicht **SetThreadExecutionState** verwenden müssen, da das System in der Regel die Aktivität nach Benutzereingaben bestimmen kann.</span><span class="sxs-lookup"><span data-stu-id="7557b-113">Note that most productivity applications do not need to use **SetThreadExecutionState** because the system can usually determine activity by user input.</span></span>

<span data-ttu-id="7557b-114">Um die Zeit seit der letzten Benutzereingabe beizubehalten, verwendet das System einen Anzeige Leerlauf-Timer und einen Leerlauf Zeitgeber für das System.</span><span class="sxs-lookup"><span data-stu-id="7557b-114">To maintain the time since the last user input, the system uses a display idle timer and a system idle timer.</span></span> <span data-ttu-id="7557b-115">Das System vergleicht die Leerlaufzeit Geber mit den Werten, die im Energie Sparplan konfiguriert sind.</span><span class="sxs-lookup"><span data-stu-id="7557b-115">The system compares the idle timers to the values configured in the power plan.</span></span> <span data-ttu-id="7557b-116">Wenn der Zeit Geber Wert für die Anzeige im Leerlauf größer als der Anzeige Timeout Wert ist und keine Threads die Anzeige durch Aufrufen von [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) mit **der \_ Anzeige \_ erforderlich** angefordert haben, schaltet das System die Anzeige aus.</span><span class="sxs-lookup"><span data-stu-id="7557b-116">If the display idle timer value is greater than the display time-out value, and no threads have requested the display by calling [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) with **ES\_DISPLAY\_REQUIRED**, the system powers off the display.</span></span> <span data-ttu-id="7557b-117">Ebenso gilt, wenn der Timer für den System Leerlauf größer als der Timeout Wert des Systems ist und keine Anwendungen das System durch Aufrufen von **SetThreadExecutionState** mit dem **\_ System \_ erforderlich** angefordert haben, dass das System in den Standbymodus wechselt.</span><span class="sxs-lookup"><span data-stu-id="7557b-117">Similarly, if the system idle timer is greater than the system time-out value and no applications have requested the system by calling **SetThreadExecutionState** with **ES\_SYSTEM\_REQUIRED**, the system enters sleep.</span></span>

<span data-ttu-id="7557b-118">Das System verwaltet die Anzahl der Anwendungen, die [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate)aufgerufen haben.</span><span class="sxs-lookup"><span data-stu-id="7557b-118">The system maintains a count of applications that have called [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate).</span></span> <span data-ttu-id="7557b-119">Das System verfolgt jeden Thread nach, der **SetThreadExecutionState** aufruft und den Counter entsprechend anpasst.</span><span class="sxs-lookup"><span data-stu-id="7557b-119">The system tracks each thread that calls **SetThreadExecutionState** and adjusts the counter accordingly.</span></span> <span data-ttu-id="7557b-120">Wenn dieser Wert 0 (null) erreicht und keine Benutzereingaben vorhanden sind, wechselt das System in den Standbymodus.</span><span class="sxs-lookup"><span data-stu-id="7557b-120">If this counter reaches zero and there has not been any user input, the system enters sleep.</span></span>

<span data-ttu-id="7557b-121">Wenn die Stromversorgung gering ist, kann eine Anwendung einen Benutzereingriff anfordern oder anfordern, dass das System sich selbst anhält.</span><span class="sxs-lookup"><span data-stu-id="7557b-121">If power is low, an application can request user intervention or request that the system suspend itself.</span></span> <span data-ttu-id="7557b-122">Sie können den Systembetrieb mithilfe der [**SetSuspendState**](/windows/desktop/api/PowrProf/nf-powrprof-setsuspendstate) -Funktion aussetzen.</span><span class="sxs-lookup"><span data-stu-id="7557b-122">You can suspend system operation by using the [**SetSuspendState**](/windows/desktop/api/PowrProf/nf-powrprof-setsuspendstate) function.</span></span>

<span data-ttu-id="7557b-123">Wenn das System automatisch aktiviert wird ([PBT \_ apmresumeautomatic](pbt-apmresumeautomatic.md)), ist keiner der Timer relevant.</span><span class="sxs-lookup"><span data-stu-id="7557b-123">If the system wakes automatically ([PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md)), none of the timers are relevant.</span></span> <span data-ttu-id="7557b-124">Weitere Informationen finden Sie unter [System Aktivierungs Ereignisse](system-wake-up-events.md).</span><span class="sxs-lookup"><span data-stu-id="7557b-124">For more information, see [System Wake-up Events](system-wake-up-events.md).</span></span>

## <a name="entering-sleep"></a><span data-ttu-id="7557b-125">Im Standbymodus</span><span class="sxs-lookup"><span data-stu-id="7557b-125">Entering Sleep</span></span>

<span data-ttu-id="7557b-126">Wenn das System in den Standbymodus wechselt, wird automatisch der Status des gesamten Systems und aller Anwendungen beibehalten.</span><span class="sxs-lookup"><span data-stu-id="7557b-126">When the system enters sleep, it will automatically preserve the state of the entire system and all applications.</span></span> <span data-ttu-id="7557b-127">Daher müssen die meisten Anwendungen keine besonderen Maßnahmen ergreifen.</span><span class="sxs-lookup"><span data-stu-id="7557b-127">Therefore, most applications do not need to take any special action.</span></span> <span data-ttu-id="7557b-128">Anwendungen, die vor dem System Übergang bestimmte Aktionen ausführen müssen, können für Strom Ereignisse registriert werden.</span><span class="sxs-lookup"><span data-stu-id="7557b-128">Applications that need to perform specific actions before the system transitions can register for power events.</span></span>

<span data-ttu-id="7557b-129">Wenn das System ein [PBT \_ apmsuspend](pbt-apmsuspend.md) -Ereignis sendet, verfügt jede Anwendung über zwei Sekunden, um erforderliche Aktionen auszuführen, bevor das System den Übergang in den Standbymodus startet.</span><span class="sxs-lookup"><span data-stu-id="7557b-129">When the system sends a [PBT\_APMSUSPEND](pbt-apmsuspend.md) event, each application has two seconds to perform any necessary actions before the system starts the transition to sleep.</span></span> <span data-ttu-id="7557b-130">Anwendungen müssen einschränken, welche Aktion Sie als Reaktion auf dieses Ereignis durchführen, um sicherzustellen, dass alle Vorgänge in der vorgesehenen Zeit ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="7557b-130">Applications must limit what action they take in response to this event to ensure that they complete all operations in the time allotted.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7557b-131">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7557b-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7557b-132">Informationen zur Energie Verwaltung</span><span class="sxs-lookup"><span data-stu-id="7557b-132">About Power Management</span></span>](about-power-management.md)
</dt> <dt>

[<span data-ttu-id="7557b-133">System Aktivierungs Ereignisse</span><span class="sxs-lookup"><span data-stu-id="7557b-133">System Wake-up Events</span></span>](system-wake-up-events.md)
</dt> </dl>

 

 



