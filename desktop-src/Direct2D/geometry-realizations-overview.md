---
title: Übersicht über Geometrierealisierungen
description: In diesem Thema wird beschrieben, wie Sie mithilfe von Direct2D-Geometrie-neufunktionen in bestimmten Szenarien die Leistung der Geometrie Leistung Ihrer APP verbessern.
ms.assetid: E8C4C4E5-3102-4F53-847E-A4C2D12A6921
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5b903e047ee58a803a7584aaca407281fc803e30
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "106340911"
---
# <a name="geometry-realizations-overview"></a><span data-ttu-id="701bf-103">Übersicht über Geometrierealisierungen</span><span class="sxs-lookup"><span data-stu-id="701bf-103">Geometry Realizations Overview</span></span>

<span data-ttu-id="701bf-104">In diesem Thema wird beschrieben, wie Sie mithilfe von [Direct2D](direct2d-portal.md) -Geometrie-neufunktionen in bestimmten Szenarien die Leistung der Geometrie Leistung Ihrer APP verbessern.</span><span class="sxs-lookup"><span data-stu-id="701bf-104">This topic describes how to use [Direct2D](direct2d-portal.md) geometry realizations to improve your app’s geometry rendering performance in certain scenarios.</span></span>

<span data-ttu-id="701bf-105">Sie enthält die folgenden Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="701bf-105">It contains the following sections:</span></span>

-   [<span data-ttu-id="701bf-106">Was sind Geometrie-neusetzungen?</span><span class="sxs-lookup"><span data-stu-id="701bf-106">What are geometry realizations?</span></span>](#what-are-geometry-realizations)
-   [<span data-ttu-id="701bf-107">Gründe für die Verwendung von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-107">Why use geometry realizations?</span></span>](#why-use-geometry-realizations)
-   [<span data-ttu-id="701bf-108">Verwendungszwecke von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-108">When to use geometry realizations</span></span>](#when-to-use-geometry-realizations)
-   [<span data-ttu-id="701bf-109">Erstellen von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-109">Creating geometry realizations</span></span>](#creating-geometry-realizations)
-   [<span data-ttu-id="701bf-110">Zeichnen von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-110">Drawing geometry realizations</span></span>](#drawing-geometry-realizations)
-   [<span data-ttu-id="701bf-111">Skalieren von Geometry-Neuerungen</span><span class="sxs-lookup"><span data-stu-id="701bf-111">Scaling geometry realizations</span></span>](#scaling-geometry-realizations)
    -   [<span data-ttu-id="701bf-112">Verwenden von Geometrie-Neuerungen in apps, die nicht skaliert werden</span><span class="sxs-lookup"><span data-stu-id="701bf-112">Using geometry realizations in apps that do not scale</span></span>](#using-geometry-realizations-in-apps-that-do-not-scale)
    -   [<span data-ttu-id="701bf-113">Verwenden von Geometrie-Neuerungen in apps, die sich um eine kleine Menge skalieren</span><span class="sxs-lookup"><span data-stu-id="701bf-113">Using geometry realizations in apps that scale by a small amount</span></span>](#using-geometry-realizations-in-apps-that-scale-by-a-small-amount)
    -   [<span data-ttu-id="701bf-114">Verwenden von Geometrie-Neuerungen in apps, die sich um eine große Menge skalieren</span><span class="sxs-lookup"><span data-stu-id="701bf-114">Using geometry realizations in apps that scale by a large amount</span></span>](#using-geometry-realizations-in-apps-that-scale-by-a-large-amount)
-   [<span data-ttu-id="701bf-115">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="701bf-115">Related topics</span></span>](#related-topics)

## <a name="what-are-geometry-realizations"></a><span data-ttu-id="701bf-116">Was sind Geometrie-neusetzungen?</span><span class="sxs-lookup"><span data-stu-id="701bf-116">What are geometry realizations?</span></span>

<span data-ttu-id="701bf-117">In Windows 8.1 eingeführte Geometrie-Real Messungen sind eine neue Art von Zeichnungs primitiven, die es [Direct2D](direct2d-portal.md) -apps erleichtern, die Leistung von Geometrie Rendering in bestimmten Fällen zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="701bf-117">Geometry realizations, introduced in Windows 8.1, are a new type of drawing primitive that make it easy for [Direct2D](direct2d-portal.md) apps to improve geometry rendering performance in certain cases.</span></span> <span data-ttu-id="701bf-118">Geometrie-Neumessungen werden durch die [**ID2D1GeometryRealization**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization) -Schnittstelle dargestellt.</span><span class="sxs-lookup"><span data-stu-id="701bf-118">Geometry realizations are represented by the [**ID2D1GeometryRealization**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization) interface.</span></span>

## <a name="why-use-geometry-realizations"></a><span data-ttu-id="701bf-119">Gründe für die Verwendung von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-119">Why use geometry realizations?</span></span>

<span data-ttu-id="701bf-120">Wenn [Direct2D](direct2d-portal.md) ein [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) -Objekt rendert, muss es diese Geometrie in ein Formular konvertieren, das die Grafikhardware durch einen Prozess mit dem Namen "Mosaik" versteht.</span><span class="sxs-lookup"><span data-stu-id="701bf-120">When [Direct2D](direct2d-portal.md) renders an [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) object, it must convert that geometry to a form the graphics hardware understands through a process called tessellation.</span></span> <span data-ttu-id="701bf-121">In der Regel muss Direct2D die Geometrie jedes Frame, das Sie gezeichnet hat, verändern, auch wenn sich die Geometrie nicht ändert.</span><span class="sxs-lookup"><span data-stu-id="701bf-121">Typically, Direct2D must tessellate geometry every frame it is drawn, even if the geometry does not change.</span></span> <span data-ttu-id="701bf-122">Wenn Ihre APP die gleiche Geometrie jedes Frame rendert, stellt die wiederholte Wiederholung einen verlorenen Berechnungs Aufwand dar.</span><span class="sxs-lookup"><span data-stu-id="701bf-122">If your app renders the same geometry every frame, then the repeated re-tessellation represents wasted computational effort.</span></span> <span data-ttu-id="701bf-123">Es ist rechnerisch effizienter, das Mosaik oder sogar die vollständige rasterisierung der Geometrie zwischenzuspeichern und die zwischengespeicherte Darstellung jedes Frames zu zeichnen, anstatt wiederholt zu werden.</span><span class="sxs-lookup"><span data-stu-id="701bf-123">It is more computationally efficient to cache the tessellation, or even the full rasterization, of the geometry, and to draw that cached representation each frame instead of repeatedly re-tessellating.</span></span>

<span data-ttu-id="701bf-124">Eine gängige Methode, mit der Entwickler dieses Problem lösen können, ist das Zwischenspeichern der vollständigen rasterisierung der Geometrie.</span><span class="sxs-lookup"><span data-stu-id="701bf-124">A common way that developers solve this problem is to cache the full rasterization of the geometry.</span></span> <span data-ttu-id="701bf-125">Insbesondere ist es üblich, eine neue Bitmap zu erstellen, die Geometrie auf diese Bitmap zu setzen und diese Bitmap nach Bedarf in die Szene zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="701bf-125">In particular, it is common to create a new bitmap, rasterize the geometry to that bitmap, and then draw that bitmap to the scene as needed.</span></span> <span data-ttu-id="701bf-126">(Dieser Ansatz wird im Abschnitt [Geometrie Rendering](improving-direct2d-performance.md) unter Verbessern der Leistung von Direct2D-apps beschrieben.) Dieser Ansatz ist zwar sehr Rechen effizient, hat jedoch einige Nachteile:</span><span class="sxs-lookup"><span data-stu-id="701bf-126">(This approach is described in the [Geometry rendering](improving-direct2d-performance.md) section of Improving the performance of Direct2D apps.) While this approach is very computationally efficient, it has some drawbacks:</span></span>

-   <span data-ttu-id="701bf-127">Die zwischengespeicherte Bitmap ist sensibel für Änderungen in der Transformation, die auf die Szene angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-127">The cached bitmap is sensitive to changes in the transform applied to the scene.</span></span> <span data-ttu-id="701bf-128">Beispielsweise kann das Skalieren der rasterisierung zu merkbaren Skalierungs Artefakten führen.</span><span class="sxs-lookup"><span data-stu-id="701bf-128">For example, scaling the rasterization can result in a noticeable scaling artifacts.</span></span> <span data-ttu-id="701bf-129">Das Verringern dieser Artefakte mit hochwertigen Skalierungs Algorithmen kann Rechen intensiv sein.</span><span class="sxs-lookup"><span data-stu-id="701bf-129">Mitigating these artifacts with high-quality scaling algorithms can be computationally expensive.</span></span>
-   <span data-ttu-id="701bf-130">Die zwischengespeicherte Bitmap beansprucht eine beträchtliche Menge an Arbeitsspeicher, insbesondere, wenn Sie mit hoher Auflösung gerengt wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-130">The cached bitmap consumes a significant amount of memory, especially if it is rasterized at a high resolution.</span></span>

<span data-ttu-id="701bf-131">Geometry-Neueinstellungen stellen eine alternative Möglichkeit zum Zwischenspeichern von Geometrie dar, die die obigen Nachteile vermeidet.</span><span class="sxs-lookup"><span data-stu-id="701bf-131">Geometry realizations provide an alternative way to cache geometry that avoids the above drawbacks.</span></span> <span data-ttu-id="701bf-132">Geometrie-Neuberechnungen werden nicht durch Pixel dargestellt (wie bei einer vollständigen rasterisierung), sondern durch Punkte auf einer mathematischen Ebene.</span><span class="sxs-lookup"><span data-stu-id="701bf-132">Geometry realizations are represented not by pixels (as is the case with a full rasterization) but instead by points on a mathematical plane.</span></span> <span data-ttu-id="701bf-133">Aus diesem Grund sind Sie weniger sensibel als vollständige rasterierungen bei der Skalierung und anderen Manipulationen, und Sie verbrauchen erheblich weniger Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="701bf-133">For this reason they are less sensitive than full rasterizations to scaling and other manipulation, and they consume significantly less memory.</span></span>

## <a name="when-to-use-geometry-realizations"></a><span data-ttu-id="701bf-134">Verwendungszwecke von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-134">When to use geometry realizations</span></span>

<span data-ttu-id="701bf-135">Sie sollten die Verwendung von Geometrie-Neuerungen in Erwägung ziehen, wenn Ihre APP komplexe Geometrien rendert, deren Formen selten geändert werden, die jedoch veränderliche Transformationen unterliegen</span><span class="sxs-lookup"><span data-stu-id="701bf-135">Consider using geometry realizations when your app renders complex geometries whose shapes change infrequently but which may be subject to changing transforms.</span></span>

<span data-ttu-id="701bf-136">Stellen Sie sich z. b. eine Zuordnungs Anwendung vor, die eine statische Zuordnung anzeigt, die dem Benutzer jedoch das Vergrößern und verkleinern ermöglicht. Diese APP kann von der Verwendung von Geometrie-Neumessungen profitieren.</span><span class="sxs-lookup"><span data-stu-id="701bf-136">For example, consider a mapping application that shows a static map but which allows the user to zoom in and out. This app can benefit from using geometry realizations.</span></span> <span data-ttu-id="701bf-137">Da die zu rendernden Geometrien statisch bleiben, ist es sinnvoll, Sie zwischenzuspeichern, um Mosaik Vorgänge zu speichern.</span><span class="sxs-lookup"><span data-stu-id="701bf-137">Since the geometries being rendered remain static, it is useful to cache them in order to save tessellation work.</span></span> <span data-ttu-id="701bf-138">Da die Zuordnungen jedoch skaliert werden, wenn der Benutzer vergrößert wird, ist das Zwischenspeichern einer vollständigen rasterisierung aufgrund von Skalierungs Artefakten nicht ideal.</span><span class="sxs-lookup"><span data-stu-id="701bf-138">But because the maps are scaled when the user zooms, caching a full rasterization is not ideal, due to scaling artifacts.</span></span> <span data-ttu-id="701bf-139">Durch das Zwischenspeichern von Geometrie Vorgängen kann die APP eine Wiederholung vermeiden, während gleichzeitig eine hohe visuelle Qualität während der Skalierung gewährleisten wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-139">Caching geometry realizations would allow the app to avoid re-tessellation work while maintaining high visual quality during scaling.</span></span>

<span data-ttu-id="701bf-140">Nehmen wir andererseits eine Kaleidoskop-App mit animierter Geometrie, die sich ständig ändert.</span><span class="sxs-lookup"><span data-stu-id="701bf-140">On the other hand, consider a kaleidoscope app with animated geometry that continually changes.</span></span> <span data-ttu-id="701bf-141">Diese APP wäre wahrscheinlich nicht von der Verwendung von Geometrie-Neumessungen profitieren.</span><span class="sxs-lookup"><span data-stu-id="701bf-141">This app would probably not benefit from using geometry realizations.</span></span> <span data-ttu-id="701bf-142">Da sich die Formen selbst von Frame zu Frame ändern, ist es nicht sinnvoll, die Mosaik Vorgänge zwischenzuspeichern.</span><span class="sxs-lookup"><span data-stu-id="701bf-142">Since the shapes themselves change from frame to frame, it is not useful to cache their tessellations.</span></span> <span data-ttu-id="701bf-143">Der beste Ansatz für diese APP besteht darin, [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) -Objekte direkt zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="701bf-143">The best approach for this app is to draw [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) objects directly.</span></span>

## <a name="creating-geometry-realizations"></a><span data-ttu-id="701bf-144">Erstellen von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-144">Creating geometry realizations</span></span>

<span data-ttu-id="701bf-145">Ein [**ID2D1GeometryRealization**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization) -Objekt muss aus einem vorhandenen [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) -Objekt erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="701bf-145">An [**ID2D1GeometryRealization**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization) object must be created from an existing [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) object.</span></span> <span data-ttu-id="701bf-146">Um eine Geometrie zu erstellen, rufen Sie die Methode " [**kreatefilledgeometryrealisation**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createfilledgeometryrealization) " oder die Methode " [**kreatestrokedgeometryrealisation**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createstrokedgeometryrealization) " auf, und übergeben Sie die **ID2D1Geometry** , um Sie zu realisieren.</span><span class="sxs-lookup"><span data-stu-id="701bf-146">To create a geometry realization, call the [**CreateFilledGeometryRealization**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createfilledgeometryrealization) method or the [**CreateStrokedGeometryRealization**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createstrokedgeometryrealization) method and pass in the **ID2D1Geometry** to be realized.</span></span>

-   <span data-ttu-id="701bf-147">[**Createfilledgeometryrealisation**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createfilledgeometryrealization) erstellt eine Realisierung des Inneren der Form: der Bereich, der durch den Aufruf von [**fillgeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry)gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-147">[**CreateFilledGeometryRealization**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createfilledgeometryrealization) creates a realization of the interior of the shape: the region that would be drawn by calling [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry).</span></span>
-   <span data-ttu-id="701bf-148">[**Createstrokedgeometryrealisation**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createstrokedgeometryrealization) erstellt eine Realisierung des Strichs der Form: der Bereich, der durch den Aufruf von [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry)gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-148">[**CreateStrokedGeometryRealization**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-createstrokedgeometryrealization) creates a realization of the stroke of the shape: the region that would be drawn by calling [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry).</span></span>

<span data-ttu-id="701bf-149">Beide Arten der Geometrie-Realisierung werden durch die [**ID2D1GeometryRealization**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization) -Schnittstelle dargestellt.</span><span class="sxs-lookup"><span data-stu-id="701bf-149">Both kinds of geometry realization are represented by the [**ID2D1GeometryRealization**](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization) interface.</span></span>

<span data-ttu-id="701bf-150">Beim Erstellen einer Geometry-Realisierung muss [Direct2D](direct2d-portal.md) alle Kurven in der bereitgestellten Geometrie in polygonale Näherungen vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="701bf-150">When creating a geometry realization, [Direct2D](direct2d-portal.md) must flatten any curves in the provided geometry to polygonal approximations.</span></span> <span data-ttu-id="701bf-151">Sie müssen einen vereinfachten Toleranzparameter für die Erstellungs Methode angeben – Dies gibt den maximalen Abstand zwischen der true-Kurve der Geometrie und der polygonalen Näherung in geräteunabhängigen Pixeln (Device-Independent Pixels, Dips) an.</span><span class="sxs-lookup"><span data-stu-id="701bf-151">You must provide a flattening tolerance parameter to the creation method—this specifies the maximum distance, in device-independent pixels (DIPs), between the geometry’s true curve and its polygonal approximation.</span></span> <span data-ttu-id="701bf-152">Je niedriger die von Ihnen bereitgestellte Vereinfachungs Toleranz ist, desto höher ist die Genauigkeit des resultierenden Geometrie-Realisierungs Objekts.</span><span class="sxs-lookup"><span data-stu-id="701bf-152">The lower the flattening tolerance you provide, the higher the fidelity of the resulting geometry realization object.</span></span> <span data-ttu-id="701bf-153">Entsprechend ergibt sich durch die Bereitstellung einer höheren Vereinfachungs Toleranz eine niedrigere Geometrie-Realisierung.</span><span class="sxs-lookup"><span data-stu-id="701bf-153">Similarly, providing a higher flattening tolerance yields a lower-fidelity geometry realization.</span></span> <span data-ttu-id="701bf-154">Beachten Sie, dass das Zeichnen von Geometrie mit höherer Genauigkeit teurer ist als bei niedrigerer Genauigkeit, aber Sie können auch weiter skaliert werden, bevor sichtbare Artefakte eingeführt werden.</span><span class="sxs-lookup"><span data-stu-id="701bf-154">Note that higher-fidelity geometry realizations are more expensive to draw than lower-fidelity ones, but they can be scaled further before introducing visible artifacts.</span></span> <span data-ttu-id="701bf-155">Hinweise zur Verwendung von Vereinfachungs Toleranzen finden Sie weiter unten unter [Skalieren von Geometrie](#scaling-geometry-realizations) -Real Messungen.</span><span class="sxs-lookup"><span data-stu-id="701bf-155">For guidance on using flattening tolerances, see [Scaling geometry realizations](#scaling-geometry-realizations) below.</span></span>

> [!Note]  
> <span data-ttu-id="701bf-156">Geometry-Realisierungs Objekte sind einem bestimmten Grafikgerät zugeordnet: Sie sind Geräte abhängige Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="701bf-156">Geometry realization objects are associated with a particular graphics device: they are device-dependent resources.</span></span>

 

## <a name="drawing-geometry-realizations"></a><span data-ttu-id="701bf-157">Zeichnen von Geometrie-Neumessungen</span><span class="sxs-lookup"><span data-stu-id="701bf-157">Drawing geometry realizations</span></span>

<span data-ttu-id="701bf-158">Das Zeichnen von Geometrie-Neuzuordnungen ähnelt dem Zeichnen anderer [Direct2D](direct2d-portal.md) primitiver, wie z. b. Bitmaps.</span><span class="sxs-lookup"><span data-stu-id="701bf-158">Drawing geometry realizations is similar to drawing other [Direct2D](direct2d-portal.md) primitives, like bitmaps.</span></span> <span data-ttu-id="701bf-159">Um dies zu tun, müssen Sie die [**drawgeometryrealisation**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-drawgeometryrealization) -Methode abrufen und ihr das zu zeichende Geometrie-Geometry-Objekt und den zu verwendenden Pinsel übergeben.</span><span class="sxs-lookup"><span data-stu-id="701bf-159">To do so, call the [**DrawGeometryRealization**](/windows/win32/api/d2d1_2/nf-d2d1_2-id2d1devicecontext1-drawgeometryrealization) method and pass it the geometry realization object to be drawn and the brush to use.</span></span> <span data-ttu-id="701bf-160">Wie bei anderen Direct2D Drawing-Methoden müssen Sie **drawgeometryrealisation** zwischen Aufrufen von [**beginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) und [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="701bf-160">As with other Direct2D drawing methods, you must call **DrawGeometryRealization** between calls to [**BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) and [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw).</span></span>

## <a name="scaling-geometry-realizations"></a><span data-ttu-id="701bf-161">Skalieren von Geometry-Neuerungen</span><span class="sxs-lookup"><span data-stu-id="701bf-161">Scaling geometry realizations</span></span>

<span data-ttu-id="701bf-162">Geometry-neueinrichtungen, wie andere [Direct2D](direct2d-portal.md) -primitive, berücksichtigen den Transformations Satz für den Gerätekontext.</span><span class="sxs-lookup"><span data-stu-id="701bf-162">Geometry realizations, like other [Direct2D](direct2d-portal.md) primitives, respect the transform set on the device context.</span></span> <span data-ttu-id="701bf-163">Obwohl Übersetzungs-und Drehungs Transformationen keine Auswirkung auf die visuelle Qualität von Geometrie-neueffekten haben, können Skalierungs Transformationen visuelle Artefakte liefern.</span><span class="sxs-lookup"><span data-stu-id="701bf-163">Although translation and rotation transforms have no effect on the visual quality of geometry realizations, scale transforms can produce visual artifacts.</span></span>

<span data-ttu-id="701bf-164">Insbesondere kann das Anwenden einer großen ausreichenden Skala auf eine Geometrie-Realisierung die polygonale Näherung der echten Kurven darstellen.</span><span class="sxs-lookup"><span data-stu-id="701bf-164">In particular, applying a large enough scale to any geometry realization can reveal the polygonal approximation of the true curves.</span></span> <span data-ttu-id="701bf-165">Das Bild hier zeigt ein paar elliptischer Geometrie-Neuerungen (Fill und Stroke), die zu weit hochskaliert wurden.</span><span class="sxs-lookup"><span data-stu-id="701bf-165">The image here shows a pair of elliptical geometry realizations (fill and stroke) that have been scaled up too far.</span></span> <span data-ttu-id="701bf-166">Die Kurven vereinfachen die Elemente.</span><span class="sxs-lookup"><span data-stu-id="701bf-166">Curve-flattening artifacts are visible.</span></span>

![ein paar elliptischer Geometrie-Neuerungen (Fill und Stroke), die zu weit hochskaliert wurden.](images/zoomed-in.png)

<span data-ttu-id="701bf-169">Apps, die für die visuelle Qualität sensibel sind, sollten Maßnahmen ergreifen, um sicherzustellen, dass dies nicht geschieht.</span><span class="sxs-lookup"><span data-stu-id="701bf-169">Apps that are sensitive to visual quality should take measures to ensure this does not happen.</span></span> <span data-ttu-id="701bf-170">Wie Sie die Skalierung handhaben, hängt von den Anforderungen Ihrer APP ab.</span><span class="sxs-lookup"><span data-stu-id="701bf-170">How you handle scaling depends on the needs of your app.</span></span> <span data-ttu-id="701bf-171">Im folgenden finden Sie einige empfohlene Vorgehensweisen für verschiedene Arten von apps.</span><span class="sxs-lookup"><span data-stu-id="701bf-171">Following are several recommended approaches for several different types of app.</span></span>

### <a name="using-geometry-realizations-in-apps-that-do-not-scale"></a><span data-ttu-id="701bf-172">Verwenden von Geometrie-Neuerungen in apps, die nicht skaliert werden</span><span class="sxs-lookup"><span data-stu-id="701bf-172">Using geometry realizations in apps that do not scale</span></span>

<span data-ttu-id="701bf-173">Wenn Ihre APP keine Skalierung der Geometrie-Neuerungen ausführt, ist es sicher, die Neuerungen nur einmal zu erstellen, indem Sie eine einzige vereinfachte Toleranz verwenden.</span><span class="sxs-lookup"><span data-stu-id="701bf-173">If your app does not perform any scaling on the geometry realizations, then it is safe to create the realizations only once, using a single flattening tolerance.</span></span> <span data-ttu-id="701bf-174">(Nicht skalierbare Transformationen wirken sich nicht auf die visuelle Qualität von gerenderten Geometrie-Neuerungen aus.) Verwenden Sie die [**computevereinfachingtolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)) -Funktion, um die entsprechende Vereinfachungs Toleranz für den dpi-Vorgang zu berechnen:</span><span class="sxs-lookup"><span data-stu-id="701bf-174">(Non-scaling transforms do not affect the visual quality of rendered geometry realizations.) Use the [**ComputeFlatteningTolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)) function to calculate the appropriate flattening tolerance for the DPI:</span></span>


```C++
    float dpiX, dpiY;
    deviceContext->GetDpi(&dpiX, &dpiY);

    float flatteningTolerance = D2D1::ComputeFlatteningTolerance(
        D2D1::Matrix3x2F::Identity(),   // apply no additional scaling transform
        dpiX,                           // horizontal DPI
        dpiY                            // vertical DPI
        );
```



### <a name="using-geometry-realizations-in-apps-that-scale-by-a-small-amount"></a><span data-ttu-id="701bf-175">Verwenden von Geometrie-Neuerungen in apps, die sich um eine kleine Menge skalieren</span><span class="sxs-lookup"><span data-stu-id="701bf-175">Using geometry realizations in apps that scale by a small amount</span></span>

<span data-ttu-id="701bf-176">Wenn Ihre APP eine Geometry-Realisierung nur mit einem kleinen Betrag (z. b. bis zu 2 x oder 3 x) skalieren kann, ist es möglicherweise sinnvoll, die Geometrie Realisierung einmalig zu erstellen, und zwar mit einer proportional geringeren reduzierungstoleranz als die Standardeinstellung.</span><span class="sxs-lookup"><span data-stu-id="701bf-176">If your app can scale a geometry realization up by only a small amount (for example, up to 2x or 3x), then it may be appropriate simply to create the geometry realization once, at a proportionally lower flattening tolerance than the default.</span></span> <span data-ttu-id="701bf-177">Dadurch wird eine Erkenntnis mit höherer Genauigkeit erstellt, die vor dem Einfügen skalieringartefakte erheblich hochskaliert werden kann. der Nachteil ist, dass das Zeichnen der höhere Treue-Erkenntnis mehr Arbeit erfordert.</span><span class="sxs-lookup"><span data-stu-id="701bf-177">This creates a higher-fidelity realization that can be scaled up significantly before incurring scaling artifacts; the trade-off is that drawing the higher-fidelity realization requires more work.</span></span>

<span data-ttu-id="701bf-178">Angenommen, Sie wissen, dass Ihre APP nie eine Geometry-Realisierung um mehr als 2X skaliert.</span><span class="sxs-lookup"><span data-stu-id="701bf-178">For example, suppose you know that your app will never scale a geometry realization by more than 2x.</span></span> <span data-ttu-id="701bf-179">Ihre APP kann die Geometrie-Realisierung mithilfe einer vereinfachten Toleranz erstellen, die die Hälfte des Standardwerts ist, und die Realisierung einfach nach Bedarf skalieren.</span><span class="sxs-lookup"><span data-stu-id="701bf-179">Your app can create the geometry realization using a flattening tolerance that’s half the default value and simply scale the realization as needed, up to 2x.</span></span> <span data-ttu-id="701bf-180">Verwenden Sie die [**computevereinfachingtolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)) -Funktion, um die entsprechende Vereinfachungs Toleranz zu berechnen, indem Sie 2,0 als *maxzoomfactor* -Parameter übergeben:</span><span class="sxs-lookup"><span data-stu-id="701bf-180">Use the [**ComputeFlatteningTolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)) function to calculate the appropriate flattening tolerance by passing 2.0 as the *maxZoomFactor* parameter:</span></span>


```C++
    float dpiX, dpiY;
    deviceContext->GetDpi(&dpiX, &dpiY);
    
    float flatteningTolerance = D2D1::ComputeFlatteningTolerance(
        D2D1::Matrix3x2F::Identity(),   // apply no additional scaling transform
        dpiX,                           // horizontal DPI
        dpiY,                           // vertical DPI
        2.0f                            // realization can be scaled by an additional 2x
        );
```



### <a name="using-geometry-realizations-in-apps-that-scale-by-a-large-amount"></a><span data-ttu-id="701bf-181">Verwenden von Geometrie-Neuerungen in apps, die sich um eine große Menge skalieren</span><span class="sxs-lookup"><span data-stu-id="701bf-181">Using geometry realizations in apps that scale by a large amount</span></span>

<span data-ttu-id="701bf-182">Wenn Ihre APP eine Geometry-Realisierung durch große Mengen zentral hoch-oder Herunterskalieren kann (z. b. um Zehnfache oder mehr), ist die Verarbeitung der Skalierung entsprechend komplizierter.</span><span class="sxs-lookup"><span data-stu-id="701bf-182">If your app can scale a geometry realization up or down by large amounts (for example, by 10x or more), then handling scaling appropriately is more complicated.</span></span>

<span data-ttu-id="701bf-183">Bei den meisten dieser apps empfiehlt es sich, die Geometrie Realisierung beim horizontalen hochskalieren der Szene mit progressiver geringer Geschwindigkeit zu erstellen, um die visuelle Genauigkeit aufrechtzuerhalten und Artefakte zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="701bf-183">For most of these apps, the recommended approach is to recreate the geometry realization at progressively lower flattening tolerances as the scene is scaled up, in order to maintain visual fidelity and avoid scaling artifacts.</span></span> <span data-ttu-id="701bf-184">Ebenso, wenn die Szene herunterskaliert wird, sollte die APP die Geometry-Neueinstellungen bei progressiv höheren Vereinfachungs Toleranzen neu erstellen, um das nicht sichtbare Debuggen von Details zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="701bf-184">Similarly, as the scene is scaled down, the app should recreate the geometry realizations at progressively higher flattening tolerances, in order to avoid wastefully rendering details that aren’t visible.</span></span> <span data-ttu-id="701bf-185">Die APP sollte die Geometrie neustellungen nicht jedes Mal neu erstellen, wenn sich die Skalierung ändert, da dadurch der Zweck der Zwischenspeicherung der Mosaikarbeit nicht mehr besteht.</span><span class="sxs-lookup"><span data-stu-id="701bf-185">The app shouldn’t recreate the geometry realizations every time the scale changes, because doing so defeats the purpose of caching the tessellation work.</span></span> <span data-ttu-id="701bf-186">Stattdessen sollte die APP die Geometry-Neuerungen seltener neu erstellen, z. b. nach jeder 2X-Vergrößerung oder-Verkleinerung.</span><span class="sxs-lookup"><span data-stu-id="701bf-186">Instead, the app should recreate the geometry realizations less frequently: for example, after every 2x increase or decrease in scale.</span></span>

<span data-ttu-id="701bf-187">Jedes Mal, wenn sich die Skalierung in einer App als Reaktion auf eine Benutzerinteraktion ändert, könnte die APP die neue Skala mit der Skala vergleichen, bei der die Geometrie-neustellungen zuletzt erstellt wurden (z. b. in einem **m \_ lastscale** -Member).</span><span class="sxs-lookup"><span data-stu-id="701bf-187">Each time the scale changes in an app in response to user interaction, the app could compare the new scale against the scale at which the geometry realizations were last created (stored, for example, in an **m\_lastScale** member).</span></span> <span data-ttu-id="701bf-188">Wenn die beiden Werte close sind (in diesem Fall innerhalb eines Faktors von 2), wird keine weitere Aktion durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="701bf-188">If the two values are close (in this case, within a factor of 2), then no further action is taken.</span></span> <span data-ttu-id="701bf-189">Wenn die beiden Werte jedoch nicht geschlossen werden, werden die Geometrie-Neueinstellungen neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="701bf-189">But if the two values are not close, then the geometry realizations are re-created.</span></span> <span data-ttu-id="701bf-190">Die [**computevereinfachingtolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)) -Funktion wird verwendet, um eine vereinfachte Toleranz für die neue Skalierung zu berechnen, und **m \_ lastscale** wird auf die neue Skalierung aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="701bf-190">The [**ComputeFlatteningTolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)) function is used to compute a flattening tolerance appropriate for the new scale, and **m\_lastScale** is updated to the new scale.</span></span>

<span data-ttu-id="701bf-191">Außerdem erstellt die APP immer mit einer geringeren Toleranz, als normalerweise für die neue Skala verwendet würde, indem der Wert 2 als *maxzoomfactor* -Parameter an [**computevereinfachingtolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85))übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-191">In addition, the app always creates realizations using a smaller tolerance than what would normally be used for the new scale, by passing a value of 2 as the *maxZoomFactor* parameter to [**ComputeFlatteningTolerance**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85)).</span></span> <span data-ttu-id="701bf-192">Dadurch können die neuen Geometrie-Neuerungen um einen zusätzlichen Faktor von 2 zentral hochskaliert werden, ohne dass die Skalierung von Artefakten durchlaufen wird.</span><span class="sxs-lookup"><span data-stu-id="701bf-192">This allows the new geometry realizations to be scaled up by an additional factor of 2 without incurring scaling artifacts.</span></span>

> [!Note]  
> <span data-ttu-id="701bf-193">Der hier beschriebene Ansatz eignet sich möglicherweise nicht für alle apps.</span><span class="sxs-lookup"><span data-stu-id="701bf-193">The approach described here may not be appropriate for all apps.</span></span> <span data-ttu-id="701bf-194">Wenn Ihre APP beispielsweise zulässt, dass die Szene sehr schnell von sehr großen Faktoren skaliert wird (wenn Sie z. b. einen "Zoom"-Schieberegler enthält, der in der Spanne von einigen Frames von 100% auf 1 Million% verschoben werden kann), kann dieser Ansatz zu einer übermäßigen Arbeit führen, indem die Geometrie-neustellungen jedes Frame neu erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="701bf-194">For example, if your app allows the scene to be scaled by very large factors very quickly (for example, if it contains a “zoom” slider that can be moved from 100% to 1,000,000% in the span of a few frames) then this approach may result in excess work by recreating the geometry realizations every frame.</span></span> <span data-ttu-id="701bf-195">Ein alternativer Ansatz besteht darin, die Geometrie-neueinrichtungen erst neu zu erstellen, nachdem jede Bearbeitung der Szene der Szene abgeschlossen wurde (z. b. Nachdem der Benutzer eine Pinsel Bewegung abgeschlossen hat).</span><span class="sxs-lookup"><span data-stu-id="701bf-195">An alternative approach is to recreate the geometry realizations only after each manipulation of the scene’s scale has been completed (for example, after the user has completed a pinch gesture).</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="701bf-196">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="701bf-196">Related topics</span></span>

[<span data-ttu-id="701bf-197">Übersicht über Geometrien</span><span class="sxs-lookup"><span data-stu-id="701bf-197">Geometries Overview</span></span>](direct2d-geometries-overview.md)

[<span data-ttu-id="701bf-198">Verbessern der Leistung von Direct2D-apps</span><span class="sxs-lookup"><span data-stu-id="701bf-198">Improving the performance of Direct2D apps</span></span>](improving-direct2d-performance.md)

[<span data-ttu-id="701bf-199">Allgemeine Richtlinien zum Rendern komplexer statischer Inhalte</span><span class="sxs-lookup"><span data-stu-id="701bf-199">General guidelines for rendering complex static content</span></span>](improving-direct2d-performance.md)

[<span data-ttu-id="701bf-200">**ID2D1DeviceContext1**</span><span class="sxs-lookup"><span data-stu-id="701bf-200">**ID2D1DeviceContext1**</span></span>](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1devicecontext1)

[<span data-ttu-id="701bf-201">**ID2D1GeometryRealization**</span><span class="sxs-lookup"><span data-stu-id="701bf-201">**ID2D1GeometryRealization**</span></span>](/windows/win32/api/d2d1_2/nn-d2d1_2-id2d1geometryrealization)

<span data-ttu-id="701bf-202">[**Computevereinfachingtolerance-Funktion**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="701bf-202">[**ComputeFlatteningTolerance function**](/previous-versions/windows/desktop/legacy/dn280327(v=vs.85))</span></span>