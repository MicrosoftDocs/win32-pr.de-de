---
title: HDR-Ton Zuordnungs Effekt
description: Dadurch wird der dynamische Bereich eines Bilds so angepasst, dass es seinen Inhalt besser an die Funktion der Ausgabe Anzeige anpasst.
ms.topic: article
ms.date: 02/01/2019
ms.openlocfilehash: 4c9234e1b50e155173630a2ff7d94756c5be6130
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/12/2020
ms.locfileid: "103858988"
---
# <a name="hdr-tone-map-effect"></a><span data-ttu-id="838ed-103">HDR-Ton Zuordnungs Effekt</span><span class="sxs-lookup"><span data-stu-id="838ed-103">HDR tone map effect</span></span>

<span data-ttu-id="838ed-104">Dadurch wird der dynamische Bereich eines Bilds so angepasst, dass es seinen Inhalt besser an die Funktion der Ausgabe Anzeige anpasst.</span><span class="sxs-lookup"><span data-stu-id="838ed-104">This effect adjusts the dynamic range of an image to better suit its content to the capability of the output display.</span></span>

<span data-ttu-id="838ed-105">Die Eigenschaften für diesen Effekt werden durch die [**D2D1_HDRTONEMAP_PROP-Enumeration**](/windows/desktop/api/d2d1effects_2/ne-d2d1effects_2-d2d1_hdrtonemap_prop)identifiziert, und die CLSID ist **CLSID_D2D1HdrToneMap**.</span><span class="sxs-lookup"><span data-stu-id="838ed-105">The properties for this effect are identified by the [**D2D1_HDRTONEMAP_PROP enumeration**](/windows/desktop/api/d2d1effects_2/ne-d2d1effects_2-d2d1_hdrtonemap_prop), and the CLSID is **CLSID_D2D1HdrToneMap**.</span></span>

## <a name="effect-properties"></a><span data-ttu-id="838ed-106">Effekt Eigenschaften</span><span class="sxs-lookup"><span data-stu-id="838ed-106">Effect properties</span></span>

| <span data-ttu-id="838ed-107">Anzeige Name und indexenumeration</span><span class="sxs-lookup"><span data-stu-id="838ed-107">Display name and index enumeration</span></span> | <span data-ttu-id="838ed-108">Typ und Standardwert</span><span class="sxs-lookup"><span data-stu-id="838ed-108">Type and default value</span></span> | <span data-ttu-id="838ed-109">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="838ed-109">Description</span></span> |
|-|-|-|
| <span data-ttu-id="838ed-110">Inputmaxluminance, D2D1_HDRTONEMAP_PROP_INPUT_MAX_LUMINANCE</span><span class="sxs-lookup"><span data-stu-id="838ed-110">InputMaxLuminance, D2D1_HDRTONEMAP_PROP_INPUT_MAX_LUMINANCE</span></span> | <span data-ttu-id="838ed-111">GLEITKOMMAZAHL</span><span class="sxs-lookup"><span data-stu-id="838ed-111">FLOAT</span></span> | <span data-ttu-id="838ed-112">Die maximale helle Ebene (oder maxcll) des Bilds in Nits.</span><span class="sxs-lookup"><span data-stu-id="838ed-112">The maximum light level (or MaxCLL) of the image, in nits.</span></span> |
| <span data-ttu-id="838ed-113">Outputmaxluminance, D2D1_HDRTONEMAP_PROP_OUTPUT_MAX_LUMINANCE</span><span class="sxs-lookup"><span data-stu-id="838ed-113">OutputMaxLuminance, D2D1_HDRTONEMAP_PROP_OUTPUT_MAX_LUMINANCE</span></span> | <span data-ttu-id="838ed-114">GLEITKOMMAZAHL</span><span class="sxs-lookup"><span data-stu-id="838ed-114">FLOAT</span></span> | <span data-ttu-id="838ed-115">Das vom Ausgabeziel unterstützte maxcll in Nits, das in der &mdash; Regel auf die maxcll der Anzeige festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="838ed-115">The MaxCLL supported by the output target, in nits&mdash;typically set to the MaxCLL of the display.</span></span> |
| <span data-ttu-id="838ed-116">Display Mode, D2D1_HDRTONEMAP_PROP_DISPLAY_MODE</span><span class="sxs-lookup"><span data-stu-id="838ed-116">DisplayMode, D2D1_HDRTONEMAP_PROP_DISPLAY_MODE</span></span> | [<span data-ttu-id="838ed-117">**D2D1_HDRTONEMAP_DISPLAY_MODE**</span><span class="sxs-lookup"><span data-stu-id="838ed-117">**D2D1_HDRTONEMAP_DISPLAY_MODE**</span></span>](/windows/desktop/api/d2d1effects_2/ne-d2d1effects_2-d2d1_hdrtonemap_display_mode) | <span data-ttu-id="838ed-118">Wenn diese Einstellung auf **_HDR** festgelegt ist, wird die tonzuordnungskurve angepasst, um das Verhalten von gängigen HDR-anzeigen besser anzupassen.</span><span class="sxs-lookup"><span data-stu-id="838ed-118">When set to **_HDR**, the tone mapping curve is adjusted to better fit the fit the behavior of common HDR displays.</span></span> |

## <a name="remarks"></a><span data-ttu-id="838ed-119">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="838ed-119">Remarks</span></span>
<span data-ttu-id="838ed-120">Der Wert für `InputMaxLuminance` wird in der Regel von den Bild Metadaten abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="838ed-120">The value for `InputMaxLuminance` is typically derived from the image metadata.</span></span> <span data-ttu-id="838ed-121">In Fällen, in denen die Metadaten nicht vorhanden sind, können Sie die Funktion **D2DAdvancedColorImagesRenderer:: computehdrmetadata** (im [Beispiel Direct2D Advanced Color Image Rendering](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/D2DAdvancedColorImages)) verwenden, um die maximale Lichtebene (maxcll) eines Bilds in Nits zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="838ed-121">For cases where the metadata is not present, you can use the **D2DAdvancedColorImagesRenderer::ComputeHdrMetadata** function (in the [Direct2D advanced color image rendering sample](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/D2DAdvancedColorImages)) to compute the maximum light level (MaxCLL) of an image, in nits.</span></span>

<span data-ttu-id="838ed-122">Der Wert für `OutputMaxLuminance` ist so konzipiert, dass er von der Anzeige mithilfe von [**DXGI_OUTPUT_DESC1:: maxluminance**](/windows/desktop/api/dxgi1_6/ns-dxgi1_6-dxgi_output_desc1)abgeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="838ed-122">The value for `OutputMaxLuminance` is designed to be derived from the display, using [**DXGI_OUTPUT_DESC1::MaxLuminance**](/windows/desktop/api/dxgi1_6/ns-dxgi1_6-dxgi_output_desc1).</span></span>

<span data-ttu-id="838ed-123">Der HDR-Ton Zuordnungs Effekt hat unterschiedliche Karten Kurven, abhängig davon, ob es sich um eine HDR-Anzeige oder eine SZR-/WCG-Anzeige handelt.</span><span class="sxs-lookup"><span data-stu-id="838ed-123">The HDR tone map effect has different tone map curves depending on whether the display is an HDR display or an SDR/WCG display.</span></span>

<span data-ttu-id="838ed-124">Dieser Effekt ist dafür vorgesehen, mit dem [Anpassungs Effekt auf der weißen Ebene](white-level-adjustment-effect.md) kombiniert zu werden, damit Sie HDR-Bilder in Direct2D mit entsprechender Farbverwaltung und Ton Zuordnung Rendering können.</span><span class="sxs-lookup"><span data-stu-id="838ed-124">This effect is intended to be combined with the [White level adjustment effect](white-level-adjustment-effect.md) to allow you to render HDR images in Direct2D with proper color management and tone mapping.</span></span> <span data-ttu-id="838ed-125">Es richtet sich an jedes Framework, das eine erstklassige HDR-Bild Anzeige bietet, das alle Windows HDR-Bildformate verarbeitet und sich an die Funktionen der Anzeige anpasst (ob HDR oder WCG/SDR).</span><span class="sxs-lookup"><span data-stu-id="838ed-125">It's aimed at any framework that wants to provide a best-in-class HDR image viewing experience that handles all of the Windows HDR image formats, and adapts to the capabilities of the display (whether that's HDR or WCG/SDR).</span></span> <span data-ttu-id="838ed-126">Die Effekte sind so ausgerichtet, dass Sie nacheinander verkettet werden, wie unten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="838ed-126">The effects are intended to be chained together in sequence, as described below.</span></span>

- <span data-ttu-id="838ed-127">Nehmen Sie das Eingabebild, dessen Farbraum durch seinen Codec definiert ist.</span><span class="sxs-lookup"><span data-stu-id="838ed-127">Take the input image, whose color space defined by its codec.</span></span> <span data-ttu-id="838ed-128">Metadaten können einen WhitePoint angeben.</span><span class="sxs-lookup"><span data-stu-id="838ed-128">Metadata may specify whitePoint.</span></span> <span data-ttu-id="838ed-129">Metadaten können die Eingabe-Leuchtkraft Ebene angeben.</span><span class="sxs-lookup"><span data-stu-id="838ed-129">Metadata may specify input luminance level.</span></span>
- <span data-ttu-id="838ed-130">Anwenden des Farb Verwaltungs Effekts.</span><span class="sxs-lookup"><span data-stu-id="838ed-130">Apply the color management effect.</span></span> <span data-ttu-id="838ed-131">In ScRGB-Speicher (CCCS) konvertieren.</span><span class="sxs-lookup"><span data-stu-id="838ed-131">Convert to scRGB (CCCS) space.</span></span>
- <span data-ttu-id="838ed-132">Anwenden des HDR-Ton Zuordnungs Effekts.</span><span class="sxs-lookup"><span data-stu-id="838ed-132">Apply the HDR tone map effect.</span></span> <span data-ttu-id="838ed-133">Verringern Sie die helle Ebene des Bilds auf die gewünschte Ebene.</span><span class="sxs-lookup"><span data-stu-id="838ed-133">Lower the light level of the image to the desired level.</span></span>
- <span data-ttu-id="838ed-134">Anwenden des Anpassungs Effekts auf der weißen Ebene.</span><span class="sxs-lookup"><span data-stu-id="838ed-134">Apply the white level adjustment effect.</span></span> <span data-ttu-id="838ed-135">Skalieren Sie die weiße Ebene des Bilds auf die für die Swapkette erforderliche weiße Ebene.</span><span class="sxs-lookup"><span data-stu-id="838ed-135">Scale the white level of the image to the white level required by the swap chain.</span></span>
- <span data-ttu-id="838ed-136">Wenden Sie den Farb Verwaltungs Effekt erneut an.</span><span class="sxs-lookup"><span data-stu-id="838ed-136">Apply the color management effect again.</span></span> <span data-ttu-id="838ed-137">Wenn Sie in 8bpc rendern, konvertieren Sie in sRGB.</span><span class="sxs-lookup"><span data-stu-id="838ed-137">If rendering to 8bpc, then convert to sRGB.</span></span>

## <a name="requirements"></a><span data-ttu-id="838ed-138">Anforderungen</span><span class="sxs-lookup"><span data-stu-id="838ed-138">Requirements</span></span>

| <span data-ttu-id="838ed-139">Anforderung</span><span class="sxs-lookup"><span data-stu-id="838ed-139">Requirement</span></span> | <span data-ttu-id="838ed-140">Wert</span><span class="sxs-lookup"><span data-stu-id="838ed-140">Value</span></span> |
|-|-|
| <span data-ttu-id="838ed-141">Unterstützte Mindestversion (Client)</span><span class="sxs-lookup"><span data-stu-id="838ed-141">Minimum supported client</span></span> | <span data-ttu-id="838ed-142">Windows 10, Version 1809 (10,0; Build 17763) \[ Desktop-Apps \| UWP-apps\]</span><span class="sxs-lookup"><span data-stu-id="838ed-142">Windows 10, version 1809 (10.0; Build 17763) \[desktop apps \| UWP apps\]</span></span> |
| <span data-ttu-id="838ed-143">Header</span><span class="sxs-lookup"><span data-stu-id="838ed-143">Header</span></span> | <span data-ttu-id="838ed-144">d2d1effects \_ 2. h</span><span class="sxs-lookup"><span data-stu-id="838ed-144">d2d1effects\_2.h</span></span> |
| <span data-ttu-id="838ed-145">Bibliothek</span><span class="sxs-lookup"><span data-stu-id="838ed-145">Library</span></span> | <span data-ttu-id="838ed-146">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="838ed-146">d2d1.lib, dxguid.lib</span></span> |

## <a name="related-topics"></a><span data-ttu-id="838ed-147">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="838ed-147">Related topics</span></span>

* [<span data-ttu-id="838ed-148">ID2D1Effect-Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="838ed-148">ID2D1Effect interface</span></span>](/windows/desktop/api/d2d1_1/nn-d2d1_1-id2d1effect)
* [<span data-ttu-id="838ed-149">D2D1_HDRTONEMAP_PROP-Enumeration</span><span class="sxs-lookup"><span data-stu-id="838ed-149">D2D1_HDRTONEMAP_PROP enumeration</span></span>](/windows/desktop/api/d2d1effects_2/ne-d2d1effects_2-d2d1_hdrtonemap_prop)
