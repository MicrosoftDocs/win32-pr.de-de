---
title: Ressourcen Übersicht
description: Beschreibt Direct2D-Ressourcen und wie Sie freigegeben werden können.
ms.assetid: afd308a7-9524-4436-9a0e-8575383d96fa
keywords:
- Direct2D, Ressourcen
ms.topic: article
ms.date: 05/31/2018
ms.custom: seodec18
ms.openlocfilehash: bf4eb807a25b592e32a2d83436532af17462d70c
ms.sourcegitcommit: 7d0cc7eb398fee8f5be55cd654a12d29937d643c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/08/2021
ms.locfileid: "104350999"
---
# <a name="resources-overview"></a><span data-ttu-id="32742-104">Ressourcen Übersicht</span><span class="sxs-lookup"><span data-stu-id="32742-104">Resources Overview</span></span>

<span data-ttu-id="32742-105">Eine Direct2D-Ressource ist ein Objekt, das zum Zeichnen verwendet wird und durch eine Direct2D-Schnittstelle dargestellt wird, z. b. [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) oder [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget).</span><span class="sxs-lookup"><span data-stu-id="32742-105">A Direct2D resource is an object that is used for drawing and is represented by a Direct2D interface, such as [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) or [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget).</span></span> <span data-ttu-id="32742-106">In diesem Thema werden die Arten von Direct2D-Ressourcen und deren Freigabe beschrieben.</span><span class="sxs-lookup"><span data-stu-id="32742-106">This topic describes the kinds of Direct2D resources and how they can be shared.</span></span>

<span data-ttu-id="32742-107">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="32742-107">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="32742-108">Informationen zu Direct2D-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-108">About Direct2D Resources</span></span>](#about-direct2d-resources)
-   [<span data-ttu-id="32742-109">Geräteunabhängige Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-109">Device-Independent Resources</span></span>](#device-independent-resources)
-   [<span data-ttu-id="32742-110">Geräte abhängige Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-110">Device-Dependent Resources</span></span>](#device-dependent-resources)
-   [<span data-ttu-id="32742-111">Freigeben von Factory-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-111">Sharing Factory Resources</span></span>](#sharing-factory-resources)
-   [<span data-ttu-id="32742-112">Freigeben von renderzielressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-112">Sharing Render Target Resources</span></span>](#sharing-render-target-resources)
    -   [<span data-ttu-id="32742-113">Hardwarrenderziele</span><span class="sxs-lookup"><span data-stu-id="32742-113">Hardware Render Targets</span></span>](#hardware-render-targets)
    -   [<span data-ttu-id="32742-114">DXGI-Oberflächen Renderziele</span><span class="sxs-lookup"><span data-stu-id="32742-114">DXGI Surface Render Targets</span></span>](#dxgi-surface-render-targets)
    -   [<span data-ttu-id="32742-115">Kompatible Renderziele und freigegebene Bitmaps</span><span class="sxs-lookup"><span data-stu-id="32742-115">Compatible Render Targets and Shared Bitmaps</span></span>](#compatible-render-targets-and-shared-bitmaps)

## <a name="about-direct2d-resources"></a><span data-ttu-id="32742-116">Informationen zu Direct2D-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-116">About Direct2D Resources</span></span>

<span data-ttu-id="32742-117">Viele hardwarebeschleunigte 2D-APIs sind für ein CPU-orientiertes Ressourcenmodell und eine Reihe von Renderingvorgängen konzipiert, die für CPUs gut geeignet sind. dann wird ein Teil der API Hardware beschleunigt.</span><span class="sxs-lookup"><span data-stu-id="32742-117">Many hardware-accelerated 2D APIs are designed around a CPU-focused resource model and a set of rendering operations that work well on CPUs.Then, some part of the API is hardware-accelerated.</span></span> <span data-ttu-id="32742-118">Zum Implementieren dieser APIs ist ein Ressourcen-Manager zum Mapping von CPU-Ressourcen zu Ressourcen auf der GPU erforderlich.</span><span class="sxs-lookup"><span data-stu-id="32742-118">Implementing these APIs requires a resource manager for mapping CPU resources to resources on the GPU.</span></span> <span data-ttu-id="32742-119">Aufgrund von GPU-Einschränkungen können einige Vorgänge möglicherweise nicht in jedem Fall beschleunigt werden.</span><span class="sxs-lookup"><span data-stu-id="32742-119">Because of GPU limitations, some operations might be unable to be accelerated in every circumstance.</span></span> <span data-ttu-id="32742-120">In diesen Fällen muss der Ressourcen-Manager zwischen der CPU und der GPU (was teuer ist) zwischen der CPU und der GPU kommunizieren, sodass er zum CPU-Rendering übergehen kann.</span><span class="sxs-lookup"><span data-stu-id="32742-120">In these cases, the resource manager must communicate back and forth between the CPU and GPU (which is expensive) so that it can transition to CPU rendering.</span></span> <span data-ttu-id="32742-121">In einigen Fällen kann es vorkommen, dass Renderingvorgänge auf die CPU vollständig zurückgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="32742-121">In some cases, it might unpredictably force rendering to fall back completely to the CPU.</span></span> <span data-ttu-id="32742-122">Außerdem sind bei Renderingvorgängen, die einfach erscheinen, möglicherweise temporäre zwischenrenderingschritte erforderlich, die nicht in der API verfügbar gemacht werden und zusätzliche GPU-Ressourcen erfordern.</span><span class="sxs-lookup"><span data-stu-id="32742-122">In addition, rendering operations that appear simple might require temporary intermediate rendering steps that are not exposed in the API and that require additional GPU resources.</span></span>

<span data-ttu-id="32742-123">Direct2D bietet eine direktere Zuordnung, um die GPU vollständig zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="32742-123">Direct2D provides a more direct mapping to making full use of the GPU.</span></span> <span data-ttu-id="32742-124">Es bietet zwei Kategorien von Ressourcen: Geräte unabhängig und Geräte abhängig.</span><span class="sxs-lookup"><span data-stu-id="32742-124">It provides two categories of resources: device-independent and device-dependent.</span></span>

-   <span data-ttu-id="32742-125">Geräteunabhängige Ressourcen, z. b. [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry), werden auf der CPU beibehalten.</span><span class="sxs-lookup"><span data-stu-id="32742-125">Device-independent resources, such as [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry), are kept on the CPU.</span></span>
-   <span data-ttu-id="32742-126">Geräte abhängige Ressourcen, z. b. [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) und [**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush), werden direkt den Ressourcen auf der GPU zugeordnet (wenn die Hardwarebeschleunigung verfügbar ist).</span><span class="sxs-lookup"><span data-stu-id="32742-126">Device-dependent resources, such as [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) and [**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush), directly map to resources on the GPU (when hardware acceleration is available).</span></span> <span data-ttu-id="32742-127">Renderingaufrufe werden durch das Kombinieren von Scheitelpunkt-und Abdeckungs Informationen aus einer Geometrie mit texturierungsinformationen durch die geräteabhängigen Ressourcen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="32742-127">Rendering calls are performed by combining vertex and coverage information from a geometry with texturing information produced by the device-dependent resources.</span></span>

<span data-ttu-id="32742-128">Wenn Sie Geräte abhängige Ressourcen erstellen, werden Systemressourcen (die GPU, falls verfügbar oder die CPU) zugeordnet, wenn das Gerät erstellt wird, und sich nicht von einem Renderingvorgang zu einem anderen ändern.</span><span class="sxs-lookup"><span data-stu-id="32742-128">When you create device-dependent resources, system resources (the GPU, if available, or the CPU) are allocated when the device is created and do not change from one rendering operation to another.</span></span> <span data-ttu-id="32742-129">Durch diese Situation entfällt die Notwendigkeit eines Ressourcen-Managers.</span><span class="sxs-lookup"><span data-stu-id="32742-129">This situation eliminates the need for a resource manager.</span></span> <span data-ttu-id="32742-130">Zusätzlich zu den allgemeinen Leistungsverbesserungen, die durch die Beseitigung eines Ressourcen-Managers bereitgestellt werden, können Sie mit diesem Modell jedes zwischen Rendering direkt steuern.</span><span class="sxs-lookup"><span data-stu-id="32742-130">In addition to the general performance improvements that are provided by the elimination of a resource manager, this model enables you to directly control any intermediate rendering.</span></span>

<span data-ttu-id="32742-131">Da Direct2D so viel Kontrolle über Ressourcen bietet, müssen Sie sich mit den verschiedenen Arten von Ressourcen und deren Verwendung vertraut machen.</span><span class="sxs-lookup"><span data-stu-id="32742-131">Because Direct2D provides so much control over resources, you must understand the different kinds of resources and when they can be used together.</span></span>

## <a name="device-independent-resources"></a><span data-ttu-id="32742-132">Device-Independent Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-132">Device-Independent Resources</span></span>

<span data-ttu-id="32742-133">Wie im vorherigen Abschnitt beschrieben, befinden sich geräteunabhängige Ressourcen immer auf der CPU und sind niemals einem Hardware Rendering-Gerät zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="32742-133">As described in the previous section, device-independent resources always reside on the CPU and are never associated with a hardware rendering device.</span></span> <span data-ttu-id="32742-134">Im folgenden sind geräteunabhängige Ressourcen aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="32742-134">The following are device-independent resources:</span></span>

-   [<span data-ttu-id="32742-135">**ID2D1DrawingStateBlock**</span><span class="sxs-lookup"><span data-stu-id="32742-135">**ID2D1DrawingStateBlock**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1drawingstateblock)
-   [<span data-ttu-id="32742-136">**ID2D1Factory**</span><span class="sxs-lookup"><span data-stu-id="32742-136">**ID2D1Factory**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)
-   <span data-ttu-id="32742-137">[**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) und die Schnittstellen, die von ihm erben.</span><span class="sxs-lookup"><span data-stu-id="32742-137">[**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) and the interfaces that inherit from it.</span></span>
-   <span data-ttu-id="32742-138">[**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) und [ **ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink)</span><span class="sxs-lookup"><span data-stu-id="32742-138">[**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) and [**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink)</span></span>
-   [<span data-ttu-id="32742-139">**ID2D1StrokeStyle**</span><span class="sxs-lookup"><span data-stu-id="32742-139">**ID2D1StrokeStyle**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1strokestyle)

<span data-ttu-id="32742-140">Verwenden Sie eine [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)-geräteunabhängige Ressource, um geräteunabhängige Ressourcen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="32742-140">Use an [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory), itself a device-independent resource, to create device-independent resources.</span></span> <span data-ttu-id="32742-141">(Um eine Factory zu erstellen, verwenden Sie die Funktion " [**kreatefactory**](/windows/desktop/api/d2d1/nf-d2d1-d2d1createfactory) ".)</span><span class="sxs-lookup"><span data-stu-id="32742-141">(To create a factory, use the [**CreateFactory**](/windows/desktop/api/d2d1/nf-d2d1-d2d1createfactory) function.)</span></span>

<span data-ttu-id="32742-142">Mit Ausnahme von renderzielen sind alle von einer Factory erstellten Ressourcen Geräte unabhängig.</span><span class="sxs-lookup"><span data-stu-id="32742-142">Except for render targets, all the resources created by a factory are device-independent.</span></span> <span data-ttu-id="32742-143">Ein Renderziel ist eine Geräte abhängige Ressource.</span><span class="sxs-lookup"><span data-stu-id="32742-143">A render target is a device-dependent resource.</span></span>

## <a name="device-dependent-resources"></a><span data-ttu-id="32742-144">Device-Dependent Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-144">Device-Dependent Resources</span></span>

<span data-ttu-id="32742-145">Jede Ressource, die nicht in der vorherigen Liste benannt ist, ist eine Geräte abhängige Ressource.</span><span class="sxs-lookup"><span data-stu-id="32742-145">Any resource that is not named in the previous list is a device-dependent resource.</span></span> <span data-ttu-id="32742-146">Geräte abhängige Ressourcen sind einem bestimmten renderinggerät zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="32742-146">Device-dependent resources are associated with a particular rendering device.</span></span> <span data-ttu-id="32742-147">Wenn die Hardwarebeschleunigung verfügbar ist, ist dieses Gerät die GPU.</span><span class="sxs-lookup"><span data-stu-id="32742-147">When hardware acceleration is available, that device is the GPU.</span></span> <span data-ttu-id="32742-148">In anderen Fällen ist es die CPU.</span><span class="sxs-lookup"><span data-stu-id="32742-148">In other cases, it is the CPU.</span></span>

<span data-ttu-id="32742-149">Verwenden Sie zum Erstellen der meisten geräteabhängigen Ressourcen ein Renderziel.</span><span class="sxs-lookup"><span data-stu-id="32742-149">To create most device-dependent resources, use a render target.</span></span> <span data-ttu-id="32742-150">Verwenden Sie in den meisten Fällen eine Factory zum Erstellen eines Renderziels.</span><span class="sxs-lookup"><span data-stu-id="32742-150">In most cases, use a factory to create a render target.</span></span>

<span data-ttu-id="32742-151">Im folgenden finden Sie Beispiele für Geräte abhängige Ressourcen:</span><span class="sxs-lookup"><span data-stu-id="32742-151">The following are examples of device-dependent resources:</span></span>

-   <span data-ttu-id="32742-152">[**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) und die Schnittstellen, die von ihm erben.</span><span class="sxs-lookup"><span data-stu-id="32742-152">[**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) and the interfaces that inherit from it.</span></span> <span data-ttu-id="32742-153">Verwenden Sie ein Renderziel, um Pinsel zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="32742-153">Use a render target to create brushes.</span></span>
-   <span data-ttu-id="32742-154">[**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer).</span><span class="sxs-lookup"><span data-stu-id="32742-154">[**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer).</span></span> <span data-ttu-id="32742-155">Verwenden Sie zum Erstellen von Ebenen ein Renderziel.</span><span class="sxs-lookup"><span data-stu-id="32742-155">Use a render target to create layers.</span></span>
-   <span data-ttu-id="32742-156">[**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) und die Schnittstellen, die von ihm erben.</span><span class="sxs-lookup"><span data-stu-id="32742-156">[**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) and the interfaces that inherit from it.</span></span> <span data-ttu-id="32742-157">Verwenden Sie zum Erstellen eines Renderziels eine Factory oder ein anderes Renderziel.</span><span class="sxs-lookup"><span data-stu-id="32742-157">To create a render target, use a factory or another render target.</span></span>

> [!Note]  
> <span data-ttu-id="32742-158">Ab Windows 8 gibt es neue Schnittstellen, mit denen Geräte abhängige Ressourcen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="32742-158">Starting with Windows 8, there are new interfaces that create device dependent resources.</span></span> <span data-ttu-id="32742-159">Eine [**ID2D1Device**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1device) und eine [**ID2D1DeviceContext**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext) können eine Ressource freigeben, wenn der Gerätekontext und die Ressource aus demselben **ID2D1Device** erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="32742-159">An [**ID2D1Device**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1device) and a [**ID2D1DeviceContext**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext) can share a resource if the device context and the resource are created from the same **ID2D1Device**.</span></span>

 

<span data-ttu-id="32742-160">Geräte abhängige Ressourcen werden unbrauchbar, wenn die zugehörigen renderinggeräte nicht mehr verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="32742-160">Device-dependent resources become unusable when the associated rendering devices become unavailable.</span></span> <span data-ttu-id="32742-161">Dies bedeutet, dass Sie beim Empfang des D2DERR-Erstellungs [**\_ \_ Ziel**](direct2d-error-codes.md) Fehlers für ein Renderziel das Renderziel und alle zugehörigen Ressourcen neu erstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="32742-161">This means that when you receive the [**D2DERR\_RECREATE\_TARGET**](direct2d-error-codes.md) error for a render target, you must re-create the render target and all its resources.</span></span>

## <a name="sharing-factory-resources"></a><span data-ttu-id="32742-162">Freigeben von Factory-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-162">Sharing Factory Resources</span></span>

<span data-ttu-id="32742-163">Sie können alle geräteunabhängigen Ressourcen, die von einer Factory erstellt wurden, mit allen anderen Ressourcen (Geräte unabhängig oder Geräte abhängig) freigeben, die von der gleichen Factory erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="32742-163">You can share all device-independent resources created by a factory with all other resources (device-independent or device-dependent) created by the same factory.</span></span> <span data-ttu-id="32742-164">Beispielsweise können Sie zwei [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) -Objekte zum Zeichnen desselben [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) verwenden, wenn beide **ID2D1RenderTarget** -Objekte von derselben Factory erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="32742-164">For example, you can use two [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) objects to draw the same [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) if both of those **ID2D1RenderTarget** objects were created by the same factory.</span></span>

<span data-ttu-id="32742-165">Die senkschnittstellen ([**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink), [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink)und [**ID2D1TessellationSink**](/windows/win32/api/d2d1/nn-d2d1-id2d1tessellationsink)) können mit von einer beliebigen Factory erstellten Ressourcen gemeinsam genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="32742-165">The sink interfaces ([**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink), [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink), and [**ID2D1TessellationSink**](/windows/win32/api/d2d1/nn-d2d1-id2d1tessellationsink)) may be shared with resources created by any factory.</span></span> <span data-ttu-id="32742-166">Im Gegensatz zu anderen Schnittstellen in Direct2D kann jede Implementierung einer Sink-Schnittstelle verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="32742-166">Unlike other interfaces in Direct2D, any implementation of a sink interface can be used.</span></span> <span data-ttu-id="32742-167">Beispielsweise können Sie Ihre eigene Implementierung von **ID2D1SimplifiedGeometrySink** verwenden.</span><span class="sxs-lookup"><span data-stu-id="32742-167">For example, you could use your own implementation of **ID2D1SimplifiedGeometrySink**.</span></span>

## <a name="sharing-render-target-resources"></a><span data-ttu-id="32742-168">Freigeben von renderzielressourcen</span><span class="sxs-lookup"><span data-stu-id="32742-168">Sharing Render Target Resources</span></span>

<span data-ttu-id="32742-169">Die Möglichkeit, von einem Renderziel erstellte Ressourcen freizugeben, hängt von der Art des Renderziels ab.</span><span class="sxs-lookup"><span data-stu-id="32742-169">Your ability to share resources created by a render target depends on the kind of render target.</span></span> <span data-ttu-id="32742-170">Wenn Sie ein Renderziel vom Typ [**D2D1 \_ \_ renderzieltyp \_ \_ Standard**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type)erstellen, können die von diesem Renderziel erstellten Ressourcen nur von diesem Renderziel verwendet werden (es sei denn, das Renderziel passt in eine der Kategorien, die in den folgenden Abschnitten beschrieben sind).</span><span class="sxs-lookup"><span data-stu-id="32742-170">When you create a render target of type [**D2D1\_RENDER\_TARGET\_TYPE\_DEFAULT**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type), the resources created by that render target can only be used by that render target (unless the render target fits into one of the categories described in the following sections).</span></span> <span data-ttu-id="32742-171">Dies liegt daran, dass Sie nicht wissen, auf welchem Gerät das Renderziel am Ende steht – es könnte das Rendering an lokaler Hardware, Software oder auf der Hardware eines Remote Clients durchführen.</span><span class="sxs-lookup"><span data-stu-id="32742-171">This occurs because you do not know what device the render target will end up using—it could end up rendering to local hardware, software, or to a remote client's hardware.</span></span> <span data-ttu-id="32742-172">Sie könnten z. b. ein Programm schreiben, das nicht mehr funktioniert, wenn es Remote angezeigt wird, oder wenn das Renderziel über die maximale Größe hinausgeht, die von der renderinghardware unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="32742-172">For example, you could write a program that stops working when it is displayed remotely or when the render target is increased in size beyond the maximum size supported by the rendering hardware.</span></span>

<span data-ttu-id="32742-173">In den folgenden Abschnitten werden die Umstände beschrieben, unter denen eine durch ein Renderziel erstellte Ressource mit einem anderen Renderziel gemeinsam genutzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="32742-173">The following sections describe the circumstances under which a resource created by one render target can be shared with another render target.</span></span>

### <a name="hardware-render-targets"></a><span data-ttu-id="32742-174">Hardwarrenderziele</span><span class="sxs-lookup"><span data-stu-id="32742-174">Hardware Render Targets</span></span>

<span data-ttu-id="32742-175">Sie können Ressourcen zwischen jedem Renderziel freigeben, das explizit Hardware verwendet, solange der Remoting-Modus kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="32742-175">You can share resources between any render target that explicitly uses hardware, as long as the remoting mode is compatible.</span></span> <span data-ttu-id="32742-176">Der Remoting-Modus ist nur garantiert kompatibel, wenn beide Renderziele das Flag " [**D2D1 \_ \_ Renderziel \_ Usage \_ Force \_ Bitmap \_ Remoting**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_usage) " oder " **D2D1 \_ \_ renderzielverwendung \_ \_ GDI- \_ kompatibel** " verwenden, oder wenn keines der Flags angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="32742-176">The remoting mode is only guaranteed to be compatible when both render targets use the [**D2D1\_RENDER\_TARGET\_USAGE\_FORCE\_BITMAP\_REMOTING**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_usage) or **D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE** usage flag, or if neither flag is specified.</span></span> <span data-ttu-id="32742-177">Mit diesen Einstellungen wird sichergestellt, dass sich die Ressourcen immer auf demselben Computer befinden.</span><span class="sxs-lookup"><span data-stu-id="32742-177">These settings guarantee that the resources will always be located on the same computer.</span></span> <span data-ttu-id="32742-178">Um einen Verwendungs Modus anzugeben, legen Sie das Feld **Verwendung** der [**D2D1 \_ \_ Renderziel- \_ Eigenschaften**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) Struktur fest, die Sie zum Erstellen des Renderziels mit einem oder mehreren **D2D1- \_ \_ Renderziel- \_ nutzungsflags** verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="32742-178">To specify a usage mode, set the **usage** field of the [**D2D1\_RENDER\_TARGET\_PROPERTIES**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) structure that you used to create the render target with one or more **D2D1\_RENDER\_TARGET\_USAGE** flags.</span></span>

<span data-ttu-id="32742-179">Legen Sie zum Erstellen eines Renderziels, das explizit das Hardware Rendering verwendet, das **typanfeld** der [**D2D1 \_ \_ Renderziel- \_ Eigenschafts**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) Struktur fest, das Sie zum Erstellen des Renderziels auf [**D2D1 \_ \_ renderzieltyp \_ \_ Hardware**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type)verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="32742-179">To create a render target that explicitly uses hardware rendering, set the **type** field of the [**D2D1\_RENDER\_TARGET\_PROPERTIES**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) structure that you used to create the render target to [**D2D1\_RENDER\_TARGET\_TYPE\_HARDWARE**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type).</span></span>

### <a name="dxgi-surface-render-targets"></a><span data-ttu-id="32742-180">DXGI-Oberflächen Renderziele</span><span class="sxs-lookup"><span data-stu-id="32742-180">DXGI Surface Render Targets</span></span>

<span data-ttu-id="32742-181">Sie können Ressourcen, die von einem DXGI-Oberflächen Rendering erstellt wurden, mit einem beliebigen anderen DXGI-Oberflächen Renderziel freigeben, das das gleiche zugrunde liegende Direct3D-Gerät verwendet.</span><span class="sxs-lookup"><span data-stu-id="32742-181">You can share resources created by a DXGI surface render target with any other DXGI surface render target that is using the same underlying Direct3D device.</span></span>

### <a name="compatible-render-targets-and-shared-bitmaps"></a><span data-ttu-id="32742-182">Kompatible Renderziele und freigegebene Bitmaps</span><span class="sxs-lookup"><span data-stu-id="32742-182">Compatible Render Targets and Shared Bitmaps</span></span>

<span data-ttu-id="32742-183">Sie können Ressourcen zwischen einem Renderziel und kompatiblen renderzielen freigeben, die von diesem Renderziel erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="32742-183">You can share resources between a render target and compatible render targets that are created by that render target.</span></span> <span data-ttu-id="32742-184">Wenn Sie ein kompatibles Renderziel erstellen möchten, verwenden Sie die [**ID2D1RenderTarget::**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) -Methode.</span><span class="sxs-lookup"><span data-stu-id="32742-184">To create a compatible render target, use the [**ID2D1RenderTarget::CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) method.</span></span>

<span data-ttu-id="32742-185">Sie können die [**ID2D1RenderTarget:: kreatesharedbitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createsharedbitmap) -Methode verwenden, um eine [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) zu erstellen, die von den beiden renderzielen gemeinsam genutzt werden kann, die im Methoden Aufrufwert angegeben werden, wenn die Methode erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="32742-185">You can use the [**ID2D1RenderTarget::CreateSharedBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createsharedbitmap) method to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) that can be shared between the two render targets that are specified in the method call, if the method succeeds.</span></span> <span data-ttu-id="32742-186">Diese Methode ist erfolgreich, solange die beiden Renderziele dasselbe zugrunde liegende Gerät zum Rendern verwenden.</span><span class="sxs-lookup"><span data-stu-id="32742-186">This method will succeed as long as the two render targets use the same underlying device for rendering.</span></span>

 

 
