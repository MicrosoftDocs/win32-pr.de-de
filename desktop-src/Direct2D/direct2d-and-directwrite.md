---
title: Text Rendering mit Direct2D und DirectWrite
description: Anders als bei anderen APIs, wie z. b. GDI, GDI+ oder WPF, interagiert Direct2D mit einer anderen API, DirectWrite, um Text zu bearbeiten und zu Rendering. In diesem Thema werden die Vorteile und die Zusammenarbeit dieser separaten Komponenten beschrieben.
ms.assetid: 1d5b8deb-34e2-433c-8de3-4ef66fb4e49d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e2c49a8f341377bcf78a9a99699a3bd4852411dd
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104549819"
---
# <a name="text-rendering-with-direct2d-and-directwrite"></a><span data-ttu-id="011e4-104">Text Rendering mit Direct2D und DirectWrite</span><span class="sxs-lookup"><span data-stu-id="011e4-104">Text Rendering with Direct2D and DirectWrite</span></span>

<span data-ttu-id="011e4-105">Anders als bei anderen APIs, wie z. b. [GDI](/windows/desktop/gdi/windows-gdi), GDI+ oder WPF, interagiert [Direct2D](./direct2d-portal.md) mit einer anderen API, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), um Text zu bearbeiten und zu Rendering.</span><span class="sxs-lookup"><span data-stu-id="011e4-105">Unlike other APIs, such as [GDI](/windows/desktop/gdi/windows-gdi), GDI+ or WPF, [Direct2D](./direct2d-portal.md) interoperates with another API, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), to manipulate and render text.</span></span> <span data-ttu-id="011e4-106">In diesem Thema werden die Vorteile und die Zusammenarbeit dieser separaten Komponenten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="011e4-106">This topic describes the benefits and interoperation of these separate components.</span></span>

<span data-ttu-id="011e4-107">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="011e4-107">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="011e4-108">Direct2D ermöglicht inkrementelle Akzeptanz</span><span class="sxs-lookup"><span data-stu-id="011e4-108">Direct2D Enables Incremental Adoption</span></span>](#direct2d-enables-incremental-adoption)
-   [<span data-ttu-id="011e4-109">Text Dienste im Vergleich zum Text Rendering</span><span class="sxs-lookup"><span data-stu-id="011e4-109">Text Services versus Text Rendering</span></span>](#text-services-versus-text-rendering)
-   [<span data-ttu-id="011e4-110">Symbole im Vergleich zu Text</span><span class="sxs-lookup"><span data-stu-id="011e4-110">Glyphs versus Text</span></span>](#glyphs-versus-text)
-   [<span data-ttu-id="011e4-111">DirectWrite und Direct2D</span><span class="sxs-lookup"><span data-stu-id="011e4-111">DirectWrite and Direct2D</span></span>](#directwrite-and-direct2d)
    -   [<span data-ttu-id="011e4-112">DrawText</span><span class="sxs-lookup"><span data-stu-id="011e4-112">DrawText</span></span>](#drawtextlayout)
    -   [<span data-ttu-id="011e4-113">Drawtextlayout</span><span class="sxs-lookup"><span data-stu-id="011e4-113">DrawTextLayout</span></span>](#drawtextlayout)
    -   [<span data-ttu-id="011e4-114">DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="011e4-114">DrawGlyphRun</span></span>](#drawglyphrun)
-   [<span data-ttu-id="011e4-115">Symbol Rendering</span><span class="sxs-lookup"><span data-stu-id="011e4-115">Glyph Rendering</span></span>](#glyph-rendering)
-   [<span data-ttu-id="011e4-116">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="011e4-116">Conclusion</span></span>](#conclusion)

## <a name="direct2d-enables-incremental-adoption"></a><span data-ttu-id="011e4-117">Direct2D ermöglicht inkrementelle Akzeptanz</span><span class="sxs-lookup"><span data-stu-id="011e4-117">Direct2D Enables Incremental Adoption</span></span>

<span data-ttu-id="011e4-118">Das Verschieben einer Anwendung von einer Grafik-API in eine andere kann aus verschiedenen Gründen schwierig oder nicht sinnvoll sein.</span><span class="sxs-lookup"><span data-stu-id="011e4-118">Moving an application from one graphics API to another can be difficult or not what you want for various reasons.</span></span> <span data-ttu-id="011e4-119">Dies kann daran liegen, dass Sie Plug-Ins unterstützen müssen, die weiterhin die älteren Schnittstellen verwenden, da die Anwendung selbst zu groß für den Portieren auf eine neue API in einem Release ist oder weil ein Teil der neueren API wünschenswert ist, aber die ältere API für andere Teile der Anwendung ausreichend funktioniert.</span><span class="sxs-lookup"><span data-stu-id="011e4-119">This might be because you have to support plug-ins that still take the older interfaces, because the application itself is too large to port over to a new API in one release or because some part of the newer API is desirable but the older API is working well enough for other parts of the application.</span></span>

<span data-ttu-id="011e4-120">Da [Direct2D](./direct2d-portal.md) und [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) als separate Komponenten implementiert werden, können Sie das gesamte 2D-Grafiksystem oder nur den Textzeile des Texts aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="011e4-120">Because [Direct2D](./direct2d-portal.md) and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) are implemented as separate components, you can upgrade your whole 2D graphics system or just the text part of it.</span></span> <span data-ttu-id="011e4-121">Beispielsweise können Sie eine Anwendung so aktualisieren, dass Sie DirectWrite für Text verwendet, aber weiterhin [GDI](/windows/desktop/gdi/windows-gdi) oder GDI+ zum Rendern verwenden.</span><span class="sxs-lookup"><span data-stu-id="011e4-121">For example, you could update an application to use DirectWrite for text but still use [GDI](/windows/desktop/gdi/windows-gdi) or GDI+ for rendering.</span></span>

## <a name="text-services-versus-text-rendering"></a><span data-ttu-id="011e4-122">Text Dienste im Vergleich zum Text Rendering</span><span class="sxs-lookup"><span data-stu-id="011e4-122">Text Services versus Text Rendering</span></span>

<span data-ttu-id="011e4-123">Wenn sich Anwendungen entwickelt haben, haben sich die Anforderungen an die Textverarbeitung immer komplexer.</span><span class="sxs-lookup"><span data-stu-id="011e4-123">As applications have evolved, their text processing requirements have grown increasingly complex.</span></span> <span data-ttu-id="011e4-124">Zunächst war Text in der Regel auf eine statisch gestaltete Benutzeroberfläche beschränkt, und der Text wurde in einem klar definierten Feld, z. b. einer Schaltfläche, gerendert.</span><span class="sxs-lookup"><span data-stu-id="011e4-124">At first, text was generally confined to statically laid-out UI, and the text was rendered in a well-defined box, such as a button.</span></span> <span data-ttu-id="011e4-125">Da Anwendungen in einer wachsenden Anzahl von Sprachen verfügbar waren, wurde diese Vorgehensweise schwieriger, da sowohl die Breite als auch die Höhe des übersetzten Texts zwischen den Sprachen stark variieren kann.</span><span class="sxs-lookup"><span data-stu-id="011e4-125">As applications began to be available in a growing number of languages, this approach became more difficult to sustain because both the width and height of the translated text can vary significantly between languages.</span></span> <span data-ttu-id="011e4-126">Zum anpassen können Anwendungen ihre Benutzeroberfläche dynamisch anordnen, damit Sie von der tatsächlich gerenderten Größe des Texts abhängig ist, anstatt umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="011e4-126">To adapt, applications started to dynamically lay out their UI to depend on the actual rendered size of the text, instead of the other way around.</span></span>

<span data-ttu-id="011e4-127">Um Anwendungen bei der Ausführung dieser Aufgabe zu unterstützen, stellt [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) die [**idschreitetextlayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) -Schnittstelle bereit.</span><span class="sxs-lookup"><span data-stu-id="011e4-127">To help applications complete this task, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) provides the [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) interface.</span></span> <span data-ttu-id="011e4-128">Diese API ermöglicht es einer Anwendung, Text mit komplexen Merkmalen anzugeben, z. b. unterschiedliche Schriftarten und Schriftgrößen, Unterstriche, Unterstriche, bidirektionaler Text, Effekte, Auslassungs Zeichen und sogar eingebettete nicht-Symbol Zeichen (z. b. ein Bitmap-Emoticon "oder ein Symbol).</span><span class="sxs-lookup"><span data-stu-id="011e4-128">This API enables an application to specify a piece of text with complex characteristics such as different fonts and font sizes, underlines, strikethroughs, bi-directional text, effects, ellipsis and even embedded non-glyph characters (such as a bitmap emoticon or an icon).</span></span> <span data-ttu-id="011e4-129">Die Anwendung kann dann verschiedene Eigenschaften des Texts ändern, während Sie das Benutzeroberflächen Layout iterativ bestimmt.</span><span class="sxs-lookup"><span data-stu-id="011e4-129">The application can then change various characteristics of the text as it iteratively determines its UI layout.</span></span> <span data-ttu-id="011e4-130">Das [Hallo Welt Beispiel für DirectWrite](/samples/browse/?redirectedfrom=MSDN-samples), das in der folgenden Abbildung dargestellt wird, und im [Tutorial: Einstieg in das DirectWrite](/windows/desktop/DirectWrite/getting-started-with-directwrite) -Thema zeigt viele dieser Auswirkungen.</span><span class="sxs-lookup"><span data-stu-id="011e4-130">The [DirectWrite Hello World Sample](/samples/browse/?redirectedfrom=MSDN-samples), which is shown in the following illustration and in the [Tutorial: Getting Started with DirectWrite](/windows/desktop/DirectWrite/getting-started-with-directwrite) topic, shows many of these effects.</span></span>

![Screenshot des "Hello World"-Beispiels.](images/dwrite-hello-world.png)

<span data-ttu-id="011e4-132">Das Layout kann entweder die Symbole idealerweise auf Grundlage ihrer breiten (wie WPF) positionieren oder die Glyphen an die nächstgelegenen Pixelpositionen ausrichten (wie [GDI](/windows/desktop/gdi/windows-gdi) ).</span><span class="sxs-lookup"><span data-stu-id="011e4-132">The layout can either position the glyphs ideally based on their widths (as WPF does), or it can snap the glyphs to the nearest pixel positions (as [GDI](/windows/desktop/gdi/windows-gdi) does).</span></span>

<span data-ttu-id="011e4-133">Neben der Beschaffung von Text Messungen kann die Anwendung auch verschiedene Teile des Texts testen.</span><span class="sxs-lookup"><span data-stu-id="011e4-133">In addition to obtaining text measurements, the application can hit test various parts of the text.</span></span> <span data-ttu-id="011e4-134">Beispielsweise könnte es sein, dass Sie wissen möchten, dass auf einen Link im Text geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="011e4-134">For example, it might want to know that a hyperlink in the text is clicked.</span></span> <span data-ttu-id="011e4-135">(Weitere Informationen zu Treffer Tests finden Sie im Thema Gewusst [wie: Ausführen von Treffer Tests für ein Text Layout](/windows/desktop/DirectWrite/how-to-perform-hit-testing-on-a-text-layout) .)</span><span class="sxs-lookup"><span data-stu-id="011e4-135">(For more information about hit testing, see the [How to Perform Hit Testing on a Text Layout](/windows/desktop/DirectWrite/how-to-perform-hit-testing-on-a-text-layout) topic.)</span></span>

<span data-ttu-id="011e4-136">Die Text Layout-Schnittstelle ist von der Rendering-API entkoppelt, die von der Anwendung verwendet wird, wie im folgenden Diagramm gezeigt:</span><span class="sxs-lookup"><span data-stu-id="011e4-136">The text layout interface is decoupled from the rendering API that the application uses, as the following diagram shows:</span></span>

![Textlayout und Grafik-API-Diagramm.](images/direct2d-directwrite1.png)

<span data-ttu-id="011e4-138">Diese Trennung ist möglich, da DirectWrite eine Renderingschnittstelle ([**idschreitetextrenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)) bereitstellt, die von Anwendungen implementiert werden kann, um Text mithilfe der gewünschten Grafik-API zu rendern.</span><span class="sxs-lookup"><span data-stu-id="011e4-138">This separation is possible because DirectWrite provides a rendering interface ([**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)) that applications can implement to render text by using whatever graphics API you want.</span></span> <span data-ttu-id="011e4-139">Die Anwendung hat [**idschreitetextrenderer implementiert::D rawglyphrun-**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) Rückruf Methode wird von DirectWrite aufgerufen, wenn ein Text Layout gerendert wird.</span><span class="sxs-lookup"><span data-stu-id="011e4-139">The application implemented [**IDWriteTextRenderer::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) callback method is called by DirectWrite when rendering a text layout.</span></span> <span data-ttu-id="011e4-140">Diese Methode ist dafür verantwortlich, die Zeichnungsvorgänge auszuführen oder zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="011e4-140">It is the responsibility of this method to perform the drawing operations or pass them along.</span></span>

<span data-ttu-id="011e4-141">Für Zeichnungs Symbole bietet [Direct2D](./direct2d-portal.md) [**ID2D1RenderTarget::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) zum Zeichnen auf eine Direct2D-Oberfläche und [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) stellt [**idschreitebitmaprendertarget bereit::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) zum Zeichnen auf eine GDI-Oberfläche, die dann mithilfe von GDI in ein Fenster übertragen werden kann.</span><span class="sxs-lookup"><span data-stu-id="011e4-141">For drawing glyphs, [Direct2D](./direct2d-portal.md) provides [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) for drawing to a Direct2D surface and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) provides [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) for drawing to a GDI surface that can then be transferred to a window by using GDI.</span></span> <span data-ttu-id="011e4-142">" **DrawGlyphRun** " in "Direct2D" und "DirectWrite" haben praktisch kompatible Parameter für die [**DrawGlyphRun-**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) Methode, die von der Anwendung auf " [**idschreitetextrenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)" implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="011e4-142">Conveniently, **DrawGlyphRun** in both Direct2D and DirectWrite have exactly compatible parameters to the [**DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) method that the application implements on [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer).</span></span>

<span data-ttu-id="011e4-143">Nach einer ähnlichen Trennung werden textspezifische Funktionen (z. b. Schriftart Enumeration und Verwaltung, Glyphe-Analyse usw.) von [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) anstelle von [Direct2D](./direct2d-portal.md)behandelt.</span><span class="sxs-lookup"><span data-stu-id="011e4-143">Following a similar separation, text-specific features (such as font enumeration and management, glyph analysis, and so on) are handled by [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) instead of [Direct2D](./direct2d-portal.md).</span></span> <span data-ttu-id="011e4-144">Die DirectWrite-Objekte werden direkt von Direct2D akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="011e4-144">The DirectWrite objects are accepted directly by Direct2D.</span></span> <span data-ttu-id="011e4-145">Damit vorhandene GDI-Anwendungen DirectWrite nutzen können, stellt Sie die [**idwrite tegdiinterop**](/windows/desktop/api/dwrite/nn-dwrite-idwritegdiinterop) -Methoden Schnittstelle mit Methoden für Folgendes bereit:</span><span class="sxs-lookup"><span data-stu-id="011e4-145">To help existing GDI applications to take advantage of DirectWrite, it provides the [**IDWriteGdiInterop**](/windows/desktop/api/dwrite/nn-dwrite-idwritegdiinterop) method interface with methods to do the following:</span></span>

-   <span data-ttu-id="011e4-146">Erstellen Sie eine [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) -Schriftart aus einer logischen [GDI](/windows/desktop/gdi/windows-gdi) -Schriftart ("[**kreatefontfromlogfont**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfromlogfont)").</span><span class="sxs-lookup"><span data-stu-id="011e4-146">Create a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font from a [GDI](/windows/desktop/gdi/windows-gdi) Logical Font ([**CreateFontFromLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfromlogfont)).</span></span>
-   <span data-ttu-id="011e4-147">Konvertieren von einer [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) -Schriftart in eine logische [GDI](/windows/desktop/gdi/windows-gdi) -Schriftart ([**convertfontfacetologfont**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-convertfontfacetologfont)).</span><span class="sxs-lookup"><span data-stu-id="011e4-147">Convert from a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font Face to a [GDI](/windows/desktop/gdi/windows-gdi) Logical Font ([**ConvertFontFaceToLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-convertfontfacetologfont)).</span></span>
-   <span data-ttu-id="011e4-148">Rufen Sie die Schriftart der [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) -Schriftart von der Person ab, die in einem hdc ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="011e4-148">Retrieve the [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font Face from the one that is selected into an HDC.</span></span> <span data-ttu-id="011e4-149">([**Kreatefontfakefromhdc**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfacefromhdc))</span><span class="sxs-lookup"><span data-stu-id="011e4-149">([**CreateFontFaceFromHdc**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfacefromhdc))</span></span>
-   <span data-ttu-id="011e4-150">Erstellen Sie ein [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) - [**Bitmap-Renderziel**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) im Systemspeicher ("[**kreatebitmaprendertarget**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createbitmaprendertarget)").</span><span class="sxs-lookup"><span data-stu-id="011e4-150">Create a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) [**bitmap render target**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in system memory ([**CreateBitmapRenderTarget**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createbitmaprendertarget)).</span></span>

## <a name="glyphs-versus-text"></a><span data-ttu-id="011e4-151">Symbole im Vergleich zu Text</span><span class="sxs-lookup"><span data-stu-id="011e4-151">Glyphs versus Text</span></span>

<span data-ttu-id="011e4-152">Bei Text handelt es sich um einen Satz von Unicode-Code Punkten (Zeichen) mit verschiedenen stilmodifiziererzeichen (Schriftarten, Gewichtungen, unterstrichen, Strichen usw.), die in einem Rechteck angeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="011e4-152">Text is a set of Unicode code points (characters), with various stylistic modifiers (fonts, weights, underlines, strikethroughs, and so on) that is laid out in a rectangle.</span></span> <span data-ttu-id="011e4-153">Bei einem Symbol handelt es sich dagegen um einen bestimmten Index in einer bestimmten Schriftart Datei.</span><span class="sxs-lookup"><span data-stu-id="011e4-153">A glyph, in contrast, is a particular index into a particular font file.</span></span> <span data-ttu-id="011e4-154">Ein Symbol definiert eine Reihe von Kurven, die gerendert werden können, aber keine Text Bedeutung haben.</span><span class="sxs-lookup"><span data-stu-id="011e4-154">A glyph defines a set of curves which can be rendered, but, it doesn't have any textual meaning.</span></span> <span data-ttu-id="011e4-155">Es gibt potenziell eine m:n-Zuordnung zwischen Symbolen und Zeichen.</span><span class="sxs-lookup"><span data-stu-id="011e4-155">There is potentially a many-to-many mapping between glyphs and characters.</span></span> <span data-ttu-id="011e4-156">Eine Sequenz von Symbolen, die von der gleichen Schriftart stammen und sequenziell auf einer Baseline angeordnet sind, wird als [GlyphRun](/windows/desktop/DirectWrite/glyphs-and-glyph-runs)bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="011e4-156">A sequence of glyphs that come from the same Font Face and that are laid-out sequentially on a baseline is called a [GlyphRun](/windows/desktop/DirectWrite/glyphs-and-glyph-runs).</span></span> <span data-ttu-id="011e4-157">Sowohl [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) als auch [Direct2D](./direct2d-portal.md) nennen ihre präzisere Glyphe-renderingapi [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) und verfügen über sehr ähnliche Signaturen.</span><span class="sxs-lookup"><span data-stu-id="011e4-157">Both [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) and [Direct2D](./direct2d-portal.md) call their most precise glyph rendering API [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) and they have very similar signatures.</span></span> <span data-ttu-id="011e4-158">Folgendes gilt für [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) in Direct2D:</span><span class="sxs-lookup"><span data-stu-id="011e4-158">The following is from [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) in Direct2D:</span></span>


```
STDMETHOD_(void, DrawGlyphRun)(
        D2D1_POINT_2F baselineOrigin,
        __in CONST DWRITE_GLYPH_RUN *glyphRun,
        __in ID2D1Brush *foregroundBrush,
        DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL 
        ) PURE;
```



<span data-ttu-id="011e4-159">Diese Methode wird von [**idschreitebitmaprendertarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal)verwendet:</span><span class="sxs-lookup"><span data-stu-id="011e4-159">And this method is from [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal):</span></span>


```
STDMETHOD(DrawGlyphRun)(
        FLOAT baselineOriginX,
        FLOAT baselineOriginY,
        DWRITE_MEASURING_MODE measuringMode,
        __in DWRITE_GLYPH_RUN const* glyphRun,
        IDWriteRenderingParams* renderingParams,
        COLORREF textColor,
        __out_opt RECT* blackBoxRect = NULL
        ) PURE;
```



<span data-ttu-id="011e4-160">Die [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) -Version behält den Baseline-Ursprung, den Mess Modus und die Symbol Lauf Parameter bei und enthält zusätzliche Parameter.</span><span class="sxs-lookup"><span data-stu-id="011e4-160">The [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) version keeps the baseline origin, measuring mode and the glyph run parameters and includes additional parameters.</span></span>

<span data-ttu-id="011e4-161">Mithilfe von [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) können Sie auch einen benutzerdefinierten Renderer für Symbole verwenden, indem Sie die [**idschreitetextrenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) -Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="011e4-161">[DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) also enables you to use a custom renderer for glyphs by implementing the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface.</span></span> <span data-ttu-id="011e4-162">Diese Schnittstelle verfügt auch über eine **DrawGlyphRun-** Methode, wie im folgenden Codebeispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="011e4-162">This interface also has a **DrawGlyphRun** method, as the following code example shows.</span></span>


```
STDMETHOD(DrawGlyphRun)(
        __maybenull void* clientDrawingContext,
        FLOAT baselineOriginX,
        FLOAT baselineOriginY,
        DWRITE_MEASURING_MODE measuringMode,
        __in DWRITE_GLYPH_RUN const* glyphRun,
        __in DWRITE_GLYPH_RUN_DESCRIPTION const* glyphRunDescription,
        __maybenull IUnknown* clientDrawingEffect
        ) PURE;
```



<span data-ttu-id="011e4-163">Diese Version enthält weitere Parameter, die nützlich sind, wenn Sie einen [benutzerdefinierten TextRenderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer)implementieren.</span><span class="sxs-lookup"><span data-stu-id="011e4-163">This version includes more parameters that are useful when you implement a [custom text renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer).</span></span> <span data-ttu-id="011e4-164">Der letzte Parameter wird für Anwendungs implementierte benutzerdefinierte Zeichnungs Effekte verwendet.</span><span class="sxs-lookup"><span data-stu-id="011e4-164">The final parameter is used for application-implemented custom drawing effects.</span></span> <span data-ttu-id="011e4-165">(Weitere Informationen zu Client Zeichnungs Effekten finden [Sie unter Hinzufügen von Client Zeichnungs Effekten zu einem Text Layout](/windows/desktop/DirectWrite/how-to-add-custom-drawing-efffects-to-a-text-layout).</span><span class="sxs-lookup"><span data-stu-id="011e4-165">(For more information about client drawing effects see [How to Add Client Drawing Effects to a Text Layout](/windows/desktop/DirectWrite/how-to-add-custom-drawing-efffects-to-a-text-layout).</span></span>

<span data-ttu-id="011e4-166">Jedes Symbol wird an einem Ursprung gestartet und in eine Zeile eingefügt, beginnend mit diesem Ursprung.</span><span class="sxs-lookup"><span data-stu-id="011e4-166">Each glyph run starts at an origin and is put on a line starting from this origin.</span></span> <span data-ttu-id="011e4-167">Die Symbole werden von der aktuellen Welt Transformation und den ausgewählten Text Rendering-Einstellungen auf dem zugeordneten Renderziel geändert.</span><span class="sxs-lookup"><span data-stu-id="011e4-167">The glyphs are changed by the current world transform and the selected text rendering settings on the associated render target.</span></span> <span data-ttu-id="011e4-168">Diese API wird in der Regel nur direkt von Anwendungen aufgerufen, die ihr eigenes Layout (z. b. ein Textverarbeitungs Tool) oder eine Anwendung, die die [**idschreitetextrenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) -Schnittstelle implementiert hat.</span><span class="sxs-lookup"><span data-stu-id="011e4-168">This API is generally called directly only by applications that do their own layout (For example a Word Processor) or by an application that has implemented the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface.</span></span>

## <a name="directwrite-and-direct2d"></a><span data-ttu-id="011e4-169">DirectWrite und Direct2D</span><span class="sxs-lookup"><span data-stu-id="011e4-169">DirectWrite and Direct2D</span></span>

<span data-ttu-id="011e4-170">[Direct2D](./direct2d-portal.md) stellt Renderingdienste auf Glyphe über [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun)bereit.</span><span class="sxs-lookup"><span data-stu-id="011e4-170">[Direct2D](./direct2d-portal.md) provides glyph level rendering services through [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="011e4-171">Dies erfordert jedoch, dass die Anwendung die Details des Renderings implementiert, das im Grunde die Funktionalität der [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) -API aus GDI selbst neu erstellt.</span><span class="sxs-lookup"><span data-stu-id="011e4-171">However, this requires the application to implement the details of rendering, which basically reproduces the functionality of the [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) API from GDI on its own.</span></span>

<span data-ttu-id="011e4-172">Daher stellt [Direct2D](./direct2d-portal.md) APIs bereit, die Text anstelle von Glyphen akzeptieren: [**ID2D1RenderTarget::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) und [**ID2D1RenderTarget::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span><span class="sxs-lookup"><span data-stu-id="011e4-172">Therefore, [Direct2D](./direct2d-portal.md) provides APIs that accept text instead of glyphs: [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) and [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span></span> <span data-ttu-id="011e4-173">Beide Methoden werden auf eine Direct2D-Oberfläche Render.</span><span class="sxs-lookup"><span data-stu-id="011e4-173">Both methods render to a Direct2D surface.</span></span> <span data-ttu-id="011e4-174">Zum Rendervorgang auf einer GDI-Oberfläche wird [**idschreitebitmaprendertarget::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="011e4-174">To render to a GDI surface, [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) is provided.</span></span> <span data-ttu-id="011e4-175">Diese Methode erfordert jedoch, dass ein benutzerdefinierter TextRenderer von der Anwendung implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="011e4-175">But this method requires a custom text renderer to be implemented by the application.</span></span> <span data-ttu-id="011e4-176">(Weitere Informationen finden Sie im Thema [Rendering zu einer GDI-Oberfläche](/windows/desktop/DirectWrite/render-to-a-gdi-surface) .)</span><span class="sxs-lookup"><span data-stu-id="011e4-176">(For more information, see the [Render to a GDI Surface](/windows/desktop/DirectWrite/render-to-a-gdi-surface) topic.)</span></span>

<span data-ttu-id="011e4-177">Die Verwendung von Text in einer Anwendung beginnt in der Regel einfach: Legen Sie " **OK** " oder " **Abbrechen** " auf einer Schaltfläche mit festem Layout (z.b.)</span><span class="sxs-lookup"><span data-stu-id="011e4-177">An application's usage of text typically starts simple: put **OK** or **Cancel** on a fixed-layout button, for example.</span></span> <span data-ttu-id="011e4-178">Im Laufe der Zeit wird Sie jedoch komplexer, wenn Internationalisierung und andere Features hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="011e4-178">However, over time, it becomes more complex as internationalization and other features are added.</span></span> <span data-ttu-id="011e4-179">Schließlich müssen viele Anwendungen die textlayoutobjekte [von DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) verwenden und den TextRenderer implementieren.</span><span class="sxs-lookup"><span data-stu-id="011e4-179">Eventually many applications will have to use [DirectWrite's](/windows/desktop/DirectWrite/direct-write-portal) text layout objects and implement the text renderer.</span></span>

<span data-ttu-id="011e4-180">[Direct2D](./direct2d-portal.md) bietet daher mehrstufige APIs, mit denen eine Anwendung einfach gestartet werden kann, ohne dass Ihr funktionierender Code zurückverfolgt oder abgebrochen werden muss.</span><span class="sxs-lookup"><span data-stu-id="011e4-180">Therefore, [Direct2D](./direct2d-portal.md) provides layered APIs that enable an application to start simply and grow more sophisticated without having to back-track or abandon their working code.</span></span> <span data-ttu-id="011e4-181">Eine vereinfachte Ansicht ist im folgenden Diagramm dargestellt:</span><span class="sxs-lookup"><span data-stu-id="011e4-181">A simplified view is shown in the following diagram:</span></span>

![DirectWrite-und Direct2D-Anwendungs Diagramm.](images/direct2d-directwrite2.png)

### <a name="drawtext"></a><span data-ttu-id="011e4-183">DrawText</span><span class="sxs-lookup"><span data-stu-id="011e4-183">DrawText</span></span>

<span data-ttu-id="011e4-184">[**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) ist die einfachste der zu verwendenden APIs.</span><span class="sxs-lookup"><span data-stu-id="011e4-184">[**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is the simplest of the APIs to use.</span></span> <span data-ttu-id="011e4-185">Sie benötigt eine Unicode-Zeichenfolge, einen Vordergrund Pinsel, ein einzelnes Format Objekt und ein Ziel Rechteck.</span><span class="sxs-lookup"><span data-stu-id="011e4-185">It takes a Unicode string, a foreground brush, a single format object and a destination rectangle.</span></span> <span data-ttu-id="011e4-186">Die gesamte Zeichenfolge wird im Layoutrechteck angelegt und dargestellt, und optional wird Sie ausgeblendet.</span><span class="sxs-lookup"><span data-stu-id="011e4-186">It will lay out and render the whole string within the layout rectangle, and optionally clip it.</span></span> <span data-ttu-id="011e4-187">Dies ist hilfreich, wenn Sie einen einfachen Text in einem Teil der Benutzeroberfläche mit festem Layout platzieren.</span><span class="sxs-lookup"><span data-stu-id="011e4-187">This is useful when you put a simple piece of text in a piece of fixed-layout UI.</span></span>

### <a name="drawtextlayout"></a><span data-ttu-id="011e4-188">Drawtextlayout</span><span class="sxs-lookup"><span data-stu-id="011e4-188">DrawTextLayout</span></span>

<span data-ttu-id="011e4-189">Durch das Erstellen eines [**idwrite-Textlayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) -Objekts kann eine Anwendung mit dem Messen und Anordnen des Texts und anderer Benutzeroberflächen Elemente beginnen und mehrere Schriftarten, Stile, Unterstriche und Unterstriche unterstützen.</span><span class="sxs-lookup"><span data-stu-id="011e4-189">By creating an [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) object, an application can start measuring and arranging the text and other UI elements, and support multiple fonts, styles, underlines and strikethroughs.</span></span> <span data-ttu-id="011e4-190">[Direct2D](./direct2d-portal.md) stellt die [**drawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) -API bereit, die dieses Objekt direkt annimmt und den Text an einem bestimmten Punkt rendert.</span><span class="sxs-lookup"><span data-stu-id="011e4-190">[Direct2D](./direct2d-portal.md) provides the [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) API that directly accepts this object and renders the text at a given point.</span></span> <span data-ttu-id="011e4-191">(Breite und Höhe werden durch das Layoutobjekt bereitgestellt).</span><span class="sxs-lookup"><span data-stu-id="011e4-191">(The width and height are provided by the layout object).</span></span> <span data-ttu-id="011e4-192">Zusätzlich zur Implementierung aller erwarteten textzeitfeatures interpretiert Direct2D jedes Effekt Objekt als Pinsel und wendet diesen Pinsel auf den ausgewählten Bereich von Symbolen an.</span><span class="sxs-lookup"><span data-stu-id="011e4-192">In addition to implementing all the expected text layout features, Direct2D will interpret any effect object as a brush and apply that brush to the selected range of glyphs.</span></span> <span data-ttu-id="011e4-193">Außerdem werden alle Inline Objekte aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="011e4-193">It will also call any inline objects.</span></span> <span data-ttu-id="011e4-194">Eine Anwendung kann dann, wenn Sie möchte, nicht--Symbol Zeichen (Symbole) in den Text einfügen.</span><span class="sxs-lookup"><span data-stu-id="011e4-194">An application can then insert non-glyph characters (icons) into the text if it wishes.</span></span> <span data-ttu-id="011e4-195">Ein weiterer Vorteil der Verwendung eines textlayoutobjekte besteht darin, dass die Symbol Positionen darin zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="011e4-195">Another advantage of using a text layout object is that the glyph positions are cached in it.</span></span> <span data-ttu-id="011e4-196">Daher ist ein großer Leistungszuwachs möglich, indem das gleiche Layoutobjekt für mehrere Draw-Aufrufe wieder verwendet wird, und es wird vermieden, dass die Symbol Positionen für jeden Aufruf neu berechnet werden.</span><span class="sxs-lookup"><span data-stu-id="011e4-196">Therefore, a large performance gain is possible by reusing the same layout object for multiple draw calls and avoiding recalculating the glyph positions for each call.</span></span> <span data-ttu-id="011e4-197">Diese Funktion ist für den GDI- [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))nicht vorhanden.</span><span class="sxs-lookup"><span data-stu-id="011e4-197">This capability is not present for GDI's [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span></span>

### <a name="drawglyphrun"></a><span data-ttu-id="011e4-198">DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="011e4-198">DrawGlyphRun</span></span>

<span data-ttu-id="011e4-199">Schließlich kann die Anwendung die [**idwrite tetextrenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) -Schnittstelle selbst implementieren und [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) und [**fillrechteck**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillrectangle(constd2d1_rect_f_id2d1brush)) selbst oder eine beliebige andere Rendering-API aufrufen.</span><span class="sxs-lookup"><span data-stu-id="011e4-199">Finally, the application can implement the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface itself and call [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) and [**FillRectangle**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillrectangle(constd2d1_rect_f_id2d1brush)) itself, or any other rendering API.</span></span> <span data-ttu-id="011e4-200">Alle bestehenden Interaktionen mit dem textlayoutobjekt bleiben unverändert.</span><span class="sxs-lookup"><span data-stu-id="011e4-200">All the existing interaction with the Text Layout object will remain unchanged.</span></span>

<span data-ttu-id="011e4-201">Ein Beispiel für das Implementieren eines benutzerdefinierten textrenderers finden Sie im Thema [Rendering using a Custom Text Renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer) .</span><span class="sxs-lookup"><span data-stu-id="011e4-201">For an example of how to implement a custom text renderer see the [Render Using a Custom Text Renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer) topic.</span></span>

## <a name="glyph-rendering"></a><span data-ttu-id="011e4-202">Symbol Rendering</span><span class="sxs-lookup"><span data-stu-id="011e4-202">Glyph Rendering</span></span>

<span data-ttu-id="011e4-203">Durch das Hinzufügen von [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) zu einer vorhandenen GDI-Anwendung kann die Anwendung die [**idwrite-bitmaprendertarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) -API verwenden, um Symbole zu renhen.</span><span class="sxs-lookup"><span data-stu-id="011e4-203">Adding [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) to an existing GDI application enables the application to use the [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) API to render glyphs.</span></span> <span data-ttu-id="011e4-204">Die von DirectWrite bereitgestellte [**idwrite-bitmaprendertarget::D rawglyphrun-**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) Methode wird in einer voll Tonfarbe in einen Speicher-DC gerenbt, ohne dass zusätzliche APIs erforderlich sind, wie z. b. [Direct2D](./direct2d-portal.md).</span><span class="sxs-lookup"><span data-stu-id="011e4-204">The [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) method that DirectWrite provides will render in solid color to a memory DC without requiring any additional APIs, such as [Direct2D](./direct2d-portal.md).</span></span>

<span data-ttu-id="011e4-205">Dadurch kann die Anwendung erweiterte textrenderingfunktionen wie die folgende abrufen:</span><span class="sxs-lookup"><span data-stu-id="011e4-205">This enables the application to obtain advanced text rendering features such as the following:</span></span>

-   <span data-ttu-id="011e4-206">Sub-Pixel ClearType ermöglicht es einer Anwendung, Symbole an untergeordneten Pixelpositionen zu platzieren, um sowohl das Rendern von Symbolen als auch das Symbol Layout zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="011e4-206">Sub-pixel ClearType enables an application to put glyphs on sub-pixel positions to allow for both sharp glyph rendering and glyph layout.</span></span>
-   <span data-ttu-id="011e4-207">Das Antialiasing in Y-Richtung ermöglicht ein glatteres Rendering von Kurven auf größeren Glyphen.</span><span class="sxs-lookup"><span data-stu-id="011e4-207">Y-direction antialiasing enables smoother rendering of curves on larger glyphs.</span></span>

<span data-ttu-id="011e4-208">Eine Anwendung, die auf [Direct2D](./direct2d-portal.md) verschoben wird, erhält außerdem die folgenden Features:</span><span class="sxs-lookup"><span data-stu-id="011e4-208">An application moving to [Direct2D](./direct2d-portal.md) will also obtain the following features:</span></span>

-   <span data-ttu-id="011e4-209">Hardwarebeschleunigung.</span><span class="sxs-lookup"><span data-stu-id="011e4-209">Hardware acceleration.</span></span>
-   <span data-ttu-id="011e4-210">Die Möglichkeit, Text mit einem beliebigen [Direct2D](./direct2d-portal.md) -Pinsel (z. b. radiale Farbverläufe, lineare Farbverläufe und Bitmaps) auszufüllen.</span><span class="sxs-lookup"><span data-stu-id="011e4-210">The ability to fill text with an arbitrary [Direct2D](./direct2d-portal.md) brush, such as radial gradients, linear gradients, and bitmaps.</span></span>
-   <span data-ttu-id="011e4-211">Weitere Unterstützung für das Schichten und Clipping über die [**pushaxisalignedclip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode))-, [**pushlayer**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushlayer(constd2d1_layer_parameters__id2d1layer)) -und [**die-API**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) -API-Funktion.</span><span class="sxs-lookup"><span data-stu-id="011e4-211">More support for layering and clipping through the [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)), [**PushLayer**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushlayer(constd2d1_layer_parameters__id2d1layer)) and [**CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) APIs.</span></span>
-   <span data-ttu-id="011e4-212">Die Fähigkeit zur Unterstützung von Graustufen Text Rendering.</span><span class="sxs-lookup"><span data-stu-id="011e4-212">The ability to support Grayscale text rendering.</span></span> <span data-ttu-id="011e4-213">Dadurch wird der Alphakanal des Ziels ordnungsgemäß mit der Text Pinsel Deckkraft und dem Antialiasing des Texts aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="011e4-213">This correctly populates the destination alpha channel according to both the text brush opacity and the antialiasing of the text.</span></span>

<span data-ttu-id="011e4-214">Zur effizienten Unterstützung der Hardwarebeschleunigung verwendet [Direct2D](./direct2d-portal.md) eine etwas andere Näherung zur Gamma Korrektur namens *Alpha Korrektur*.</span><span class="sxs-lookup"><span data-stu-id="011e4-214">To efficiently support hardware acceleration, [Direct2D](./direct2d-portal.md) uses a slightly different approximation to Gamma correction called *alpha correction*.</span></span> <span data-ttu-id="011e4-215">Dies erfordert keinen Direct2D, um das Renderziel-Farbpixel beim Rendern von Text zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="011e4-215">This does not require Direct2D to inspect the render target color pixel when rendering text.</span></span>

## <a name="conclusion"></a><span data-ttu-id="011e4-216">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="011e4-216">Conclusion</span></span>

<span data-ttu-id="011e4-217">In diesem Thema werden die Unterschiede und Ähnlichkeiten zwischen [Direct2D](./direct2d-portal.md) und [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) sowie die architektonischen Beweggründe für die Bereitstellung als separate, kooperative APIs erläutert.</span><span class="sxs-lookup"><span data-stu-id="011e4-217">This topic explains the differences and similarities between [Direct2D](./direct2d-portal.md) and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) and the architectural motivations for providing them as separate, cooperative APIs.</span></span>

 

 