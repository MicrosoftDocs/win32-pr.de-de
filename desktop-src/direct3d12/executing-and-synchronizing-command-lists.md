---
title: Ausführen und Synchronisieren von Befehlslisten
description: In Microsoft Direct3D 12 ist der unmittelbaren Modus vorheriger Versionen nicht mehr vorhanden.
ms.assetid: D5013102-2302-4D66-8F59-079C03BA65FD
keywords:
- Befehlsliste
- Synchronisierung
- Ausführung
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90d5362d0f093c7c1034e03d396ad28c40d4d600
ms.sourcegitcommit: 170bc12e9724d00cecbb96d57c7226c51e135dee
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/07/2021
ms.locfileid: "113489179"
---
# <a name="executing-and-synchronizing-command-lists"></a><span data-ttu-id="29117-106">Ausführen und Synchronisieren von Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="29117-106">Executing and Synchronizing Command Lists</span></span>

<span data-ttu-id="29117-107">In Microsoft Direct3D 12 ist der unmittelbaren Modus vorheriger Versionen nicht mehr vorhanden.</span><span class="sxs-lookup"><span data-stu-id="29117-107">In Microsoft Direct3D 12, the immediate mode of previous versions is no longer present.</span></span> <span data-ttu-id="29117-108">Stattdessen erstellen Apps Befehlslisten und Bündel und zeichnen dann Gruppen von GPU-Befehlen auf.</span><span class="sxs-lookup"><span data-stu-id="29117-108">Instead, apps create command lists and bundles and then record sets of GPU commands.</span></span> <span data-ttu-id="29117-109">Befehlswarteschlangen werden zum Übermitteln von Befehlslisten verwendet, die ausgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="29117-109">Command queues are used to submit command lists to be executed.</span></span> <span data-ttu-id="29117-110">Dieses Modell ermöglicht Entwicklern mehr Kontrolle über die effiziente Nutzung von Grafikprozessor (GRAPHICS Processing Unit, GPU) und CPU.</span><span class="sxs-lookup"><span data-stu-id="29117-110">This model allows developers to have more control over the efficient usage of both graphics processing unit (GPU) and CPU.</span></span>

-   [<span data-ttu-id="29117-111">Übersicht über die Befehlswarteschlange</span><span class="sxs-lookup"><span data-stu-id="29117-111">Command queue overview</span></span>](#command-queue-overview)
-   [<span data-ttu-id="29117-112">Initialisieren einer Befehlswarteschlange</span><span class="sxs-lookup"><span data-stu-id="29117-112">Initializing a command queue</span></span>](#initializing-a-command-queue)
-   [<span data-ttu-id="29117-113">Ausführen von Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="29117-113">Executing command Lists</span></span>](#executing-command-lists)
-   [<span data-ttu-id="29117-114">Zugreifen auf Ressourcen aus mehreren Befehlswarteschlangen</span><span class="sxs-lookup"><span data-stu-id="29117-114">Accessing resources from multiple command queues</span></span>](#accessing-resources-from-multiple-command-queues)
-   [<span data-ttu-id="29117-115">Synchronisieren der Befehlslistenausführung mithilfe von Befehlswarteschlangen-Fences</span><span class="sxs-lookup"><span data-stu-id="29117-115">Synchronizing command list execution using command queue fences</span></span>](#synchronizing-command-list-execution-using-command-queue-fences)
-   [<span data-ttu-id="29117-116">Synchronisieren von Ressourcen, auf die von Befehlswarteschlangen zugegriffen wird</span><span class="sxs-lookup"><span data-stu-id="29117-116">Synchronizing resources accessed by command queues</span></span>](#synchronizing-resources-accessed-by-command-queues)
-   [<span data-ttu-id="29117-117">Unterstützung von Befehlswarteschlangen für gekachelte Ressourcen</span><span class="sxs-lookup"><span data-stu-id="29117-117">Command queue support for tiled resources</span></span>](#command-queue-support-for-tiled-resources)
-   [<span data-ttu-id="29117-118">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="29117-118">Related topics</span></span>](#related-topics)

## <a name="command-queue-overview"></a><span data-ttu-id="29117-119">Übersicht über die Befehlswarteschlange</span><span class="sxs-lookup"><span data-stu-id="29117-119">Command queue overview</span></span>

<span data-ttu-id="29117-120">Direct3D 12-Befehlswarteschlangen ersetzen die Laufzeit- und Treibersynchronisierung der Direktmodus-Arbeitsübermittlung, die dem Entwickler zuvor nicht zur Verfügung gestellt wurde, durch APIs für die explizite Verwaltung von Parallelität, Parallelität und Synchronisierung.</span><span class="sxs-lookup"><span data-stu-id="29117-120">Direct3D 12 command queues replace runtime and driver synchronization of immediate mode work submission, previously not-exposed to the developer, with APIs for explicitly managing concurrency, parallelism and synchronization.</span></span> <span data-ttu-id="29117-121">Befehlswarteschlangen bieten Entwicklern die folgenden Verbesserungen:</span><span class="sxs-lookup"><span data-stu-id="29117-121">Command queues provide the following improvements for developers:</span></span>

-   <span data-ttu-id="29117-122">Ermöglicht Es Entwicklern, versehentliche Ineffizienzen zu vermeiden, die durch unerwartete Synchronisierung verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="29117-122">Allows developers to avoid accidental inefficiencies caused by unexpected synchronization.</span></span>
-   <span data-ttu-id="29117-123">Ermöglicht Entwicklern, die Synchronisierung auf einer höheren Ebene einzuführen, auf der die erforderliche Synchronisierung effizienter und genauer bestimmt werden kann.</span><span class="sxs-lookup"><span data-stu-id="29117-123">Allows developers to introduce synchronization at a higher level where the required synchronization can be determined more efficiently and accurately.</span></span> <span data-ttu-id="29117-124">Dies bedeutet, dass die Runtime und der Grafiktreiber weniger Zeit damit verbringen, reaktiv Parallelität zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="29117-124">This means the runtime and the graphics driver will spend less time reactively engineering parallelism.</span></span>
-   <span data-ttu-id="29117-125">Macht teure Vorgänge expliziter.</span><span class="sxs-lookup"><span data-stu-id="29117-125">Makes expensive operations more explicit.</span></span>

<span data-ttu-id="29117-126">Diese Verbesserungen ermöglichen oder verbessern die folgenden Szenarien:</span><span class="sxs-lookup"><span data-stu-id="29117-126">These improvements enable or enhance the following scenarios:</span></span>

-   <span data-ttu-id="29117-127">Erhöhte Parallelität: Anwendungen können tiefere Warteschlangen für Hintergrundworkloads wie die Videodecodierung verwenden, wenn sie separate Warteschlangen für die Arbeit im Vordergrund haben.</span><span class="sxs-lookup"><span data-stu-id="29117-127">Increased parallelism - Applications can use deeper queues for background workloads, such as video decoding, when they have separate queues for foreground work.</span></span>
-   <span data-ttu-id="29117-128">Asynchrone GPU-Arbeit mit niedriger Priorität: Das Befehlswarteschlangenmodell ermöglicht die gleichzeitige Ausführung von GPU-Arbeitsvorgängen mit niedriger Priorität und atomaren Vorgängen, die es einem GPU-Thread ermöglichen, die Ergebnisse eines anderen nicht synchronisierten Threads ohne Blockierung zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="29117-128">Asynchronous and low-priority GPU work - The command queue model enables concurrent execution of low-priority GPU work and atomic operations that enable one GPU thread to consume the results of another unsynchronized thread without blocking.</span></span>
-   <span data-ttu-id="29117-129">Computearbeit mit hoher Priorität: Dieser Entwurf ermöglicht Szenarien, bei denen das 3D-Rendering unterbrochen werden muss, um eine geringe Menge an Computearbeit mit hoher Priorität zu verarbeiten, damit das Ergebnis frühzeitig für eine zusätzliche Verarbeitung auf der CPU erzielt werden kann.</span><span class="sxs-lookup"><span data-stu-id="29117-129">High-priority compute work - This design enables scenarios that require interrupting 3D rendering to do a small amount of high-priority compute work so that the result can be obtained early for additional processing on the CPU.</span></span>

## <a name="initializing-a-command-queue"></a><span data-ttu-id="29117-130">Initialisieren einer Befehlswarteschlange</span><span class="sxs-lookup"><span data-stu-id="29117-130">Initializing a command queue</span></span>

<span data-ttu-id="29117-131">Befehlswarteschlangen können durch Aufrufen von [**ID3D12Device::CreateCommandQueue erstellt werden.**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue)</span><span class="sxs-lookup"><span data-stu-id="29117-131">Command queues can be created by calling [**ID3D12Device::CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span></span> <span data-ttu-id="29117-132">Diese Methode verwendet einen [**D3D12 \_ COMMAND \_ LIST \_ TYPE,**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) der angibt, welcher Warteschlangentyp erstellt werden soll und welcher Befehlstyp an diese Warteschlange übermittelt werden kann.</span><span class="sxs-lookup"><span data-stu-id="29117-132">This method takes a [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) indicating what type of queue should be created, and therefore, what type of commands can be submitted to that queue.</span></span> <span data-ttu-id="29117-133">Denken Sie daran, dass Bundles nur über direkte Befehlslisten aufgerufen und nicht direkt an eine Warteschlange übermittelt werden können.</span><span class="sxs-lookup"><span data-stu-id="29117-133">Remember that bundles can only be called from direct command lists and can't be submitted directly to a queue.</span></span> <span data-ttu-id="29117-134">Die folgenden Warteschlangentypen werden unterstützt:</span><span class="sxs-lookup"><span data-stu-id="29117-134">The supported queue types are:</span></span>

-   [<span data-ttu-id="29117-135">**D3D12 \_ COMMAND \_ LIST \_ TYPE \_ DIRECT**</span><span class="sxs-lookup"><span data-stu-id="29117-135">**D3D12\_COMMAND\_LIST\_TYPE\_DIRECT**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="29117-136">**D3D12 \_ \_ BEFEHLSLISTENTYP \_ \_ COMPUTE**</span><span class="sxs-lookup"><span data-stu-id="29117-136">**D3D12\_COMMAND\_LIST\_TYPE\_COMPUTE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="29117-137">**D3D12 \_ BEFEHLSLISTE \_ \_ TYP \_ KOPIEREN**</span><span class="sxs-lookup"><span data-stu-id="29117-137">**D3D12\_COMMAND\_LIST\_TYPE\_COPY**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)

<span data-ttu-id="29117-138">Im Allgemeinen akzeptieren DIRECT-Warteschlangen und Befehlslisten alle Befehle, COMPUTE-Warteschlangen und Befehlslisten akzeptieren Compute- und Kopierbefehle, und COPY-Warteschlangen und Befehlslisten akzeptieren nur Kopierbefehle.</span><span class="sxs-lookup"><span data-stu-id="29117-138">In general, DIRECT queues and command lists accept any command, COMPUTE queues and command lists accept compute and copy related commands, and COPY queues and command lists accept only copy commands.</span></span>

## <a name="executing-command-lists"></a><span data-ttu-id="29117-139">Ausführen von Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="29117-139">Executing command Lists</span></span>

<span data-ttu-id="29117-140">Nachdem Sie eine Befehlsliste aufgezeichnet und entweder die Standardbefehlswarteschlange abgerufen oder eine neue erstellt haben, führen Sie Befehlslisten aus, indem Sie [**ID3D12CommandQueue::ExecuteCommandLists aufrufen.**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists)</span><span class="sxs-lookup"><span data-stu-id="29117-140">After you have recorded a command list and either retrieved the default command queue or created a new one, you execute command lists by calling [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="29117-141">Anwendungen können Befehlslisten aus mehreren Threads an eine beliebige Befehlswarteschlange übermitteln.</span><span class="sxs-lookup"><span data-stu-id="29117-141">Applications can submit command lists to any command queue from multiple threads.</span></span> <span data-ttu-id="29117-142">Die Runtime führt die Serialisierung dieser Anforderungen in der Reihenfolge der Übermittlung durch.</span><span class="sxs-lookup"><span data-stu-id="29117-142">The runtime will perform the work of serializing these requests in the order of submission.</span></span>

<span data-ttu-id="29117-143">Die Runtime überprüft die übermittelte Befehlsliste und gibt den Aufruf von [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) zurück, wenn eine der Einschränkungen verletzt wird.</span><span class="sxs-lookup"><span data-stu-id="29117-143">The runtime will validate the submitted command list and will drop the call to [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) if any of the restrictions are violated.</span></span> <span data-ttu-id="29117-144">Aufrufe werden aus den folgenden Gründen gelöscht:</span><span class="sxs-lookup"><span data-stu-id="29117-144">Calls will be dropped for the following reasons:</span></span>

-   <span data-ttu-id="29117-145">Die angegebene Befehlsliste ist ein Paket, keine direkte Befehlsliste.</span><span class="sxs-lookup"><span data-stu-id="29117-145">The supplied command list is a bundle, not a direct command list.</span></span>
-   <span data-ttu-id="29117-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) wurde in der angegebenen Befehlsliste nicht aufgerufen, um die Aufzeichnung abschließen zu können.</span><span class="sxs-lookup"><span data-stu-id="29117-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) has not been called on the supplied command list to complete recording.</span></span>
-   <span data-ttu-id="29117-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) wurde für die Befehlszuweisung aufgerufen, die der Befehlsliste zugeordnet ist, seit sie aufgezeichnet wurde.</span><span class="sxs-lookup"><span data-stu-id="29117-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) has been called on the command allocator associated with the command list since it was recorded.</span></span> <span data-ttu-id="29117-148">Weitere Informationen zu Befehlszuweisungen finden Sie unter Erstellen und Aufzeichnen [von Befehlslisten und Paketen.](recording-command-lists-and-bundles.md)</span><span class="sxs-lookup"><span data-stu-id="29117-148">For more information about command allocators, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>
-   <span data-ttu-id="29117-149">Der Fence der Befehlswarteschlange gibt an, dass eine vorherige Ausführung der Befehlsliste noch nicht abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="29117-149">The command queue fence indicates that a previous execution of the command list has not yet completed.</span></span> <span data-ttu-id="29117-150">Befehlswarteschlangen-Fences werden unten ausführlich erläutert.</span><span class="sxs-lookup"><span data-stu-id="29117-150">Command queue fences are discussed in detail below.</span></span>
-   <span data-ttu-id="29117-151">Die Zustände vor und nach Abfragen, die mit Aufrufen von [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) und [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery)festgelegt werden, werden nicht ordnungsgemäß abgefragt.</span><span class="sxs-lookup"><span data-stu-id="29117-151">The before and after states of queries, set with calls to [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), are not matched properly.</span></span>
-   <span data-ttu-id="29117-152">Die Zustände vor und nach dem Übergang von Ressourcen werden nicht ordnungsgemäß übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="29117-152">The before and after states of resource transition barriers are not matched properly.</span></span> <span data-ttu-id="29117-153">Weitere Informationen finden Sie unter [Verwenden von Ressourcenbarrieren zum Synchronisieren von Ressourcenzuständen.](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)</span><span class="sxs-lookup"><span data-stu-id="29117-153">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="accessing-resources-from-multiple-command-queues"></a><span data-ttu-id="29117-154">Zugreifen auf Ressourcen aus mehreren Befehlswarteschlangen</span><span class="sxs-lookup"><span data-stu-id="29117-154">Accessing resources from multiple command queues</span></span>

<span data-ttu-id="29117-155">Es gibt eine Reihe von Regeln, die von der Runtime festgelegt werden, die den Zugriff auf Ressourcen aus mehreren Befehlswarteschlangen einschränken.</span><span class="sxs-lookup"><span data-stu-id="29117-155">There are a couple of rules imposed by the runtime that restrict the access of resources from multiple command queues.</span></span> <span data-ttu-id="29117-156">Nachfolgend sind diese Regeln aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="29117-156">These rules are as follows:</span></span>

1. <span data-ttu-id="29117-157">Eine Ressource kann nicht gleichzeitig aus mehreren Befehlswarteschlangen in geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="29117-157">A resource cannot be written to from multiple command queues simultaneously.</span></span> <span data-ttu-id="29117-158">Wenn eine Ressource in einen schreibbaren Zustand in einer Warteschlange übergeführt wurde, gilt sie als ausschließlich im Besitz dieser Warteschlange und muss in einen Lese- oder COMMON-Zustand (siehe [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) überwechseln, bevor eine andere Warteschlange darauf zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="29117-158">When a resource has transitioned to a writeable state on a queue, it is considered exclusively owned by that queue, and must transition to a read or COMMON state (refer to [**D3D12_RESOURCE_STATES**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states)) before it can be accessed by another queue.</span></span>

2. <span data-ttu-id="29117-159">In einem Lesezustand kann eine Ressource basierend auf ihrem Lesezustand gleichzeitig aus mehreren Befehlswarteschlangen gelesen werden, auch prozessübergreifend.</span><span class="sxs-lookup"><span data-stu-id="29117-159">When in a read state, a resource can be read from multiple command queues simultaneously, including across processes, based on its read state.</span></span>

<span data-ttu-id="29117-160">Weitere Informationen zu Ressourcenzugriffseinschränkungen und zur Verwendung von Ressourcenbarrieren zum Synchronisieren des Zugriffs auf Ressourcen finden Sie unter Verwenden von [Ressourcenbarrieren zum Synchronisieren von Ressourcenzuständen.](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)</span><span class="sxs-lookup"><span data-stu-id="29117-160">For more information about resource access restrictions and using resource barriers to synchronize access to resources, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="synchronizing-command-list-execution-using-command-queue-fences"></a><span data-ttu-id="29117-161">Synchronisieren der Befehlslistenausführung mithilfe von Befehlswarteschlangen-Fences</span><span class="sxs-lookup"><span data-stu-id="29117-161">Synchronizing command list execution using command queue fences</span></span>

<span data-ttu-id="29117-162">Die Unterstützung mehrerer paralleler Befehlswarteschlangen in Direct3D 12 bietet Ihnen mehr Flexibilität und Kontrolle über die Priorisierung asynchroner Arbeit auf der GPU.</span><span class="sxs-lookup"><span data-stu-id="29117-162">The support for multiple parallel command queues in Direct3D 12 gives you more flexibility and control over the prioritization of asynchronous work on the GPU.</span></span> <span data-ttu-id="29117-163">Dieser Entwurf bedeutet auch, dass Apps die Synchronisierung der Arbeit explizit verwalten müssen, insbesondere wenn die Befehlslisten in einer Warteschlange von Ressourcen abhängen, die von einer anderen Befehlswarteschlange betrieben werden.</span><span class="sxs-lookup"><span data-stu-id="29117-163">This design also means that apps need to explicitly manage the synchronization of work, especially when the command lists in one queue depend on resources that are being operated on by another command queue.</span></span> <span data-ttu-id="29117-164">Beispiele hierfür sind das Warten auf den Abschluss eines Vorgangs in einer Computewarteschlange, sodass das Ergebnis für einen Renderingvorgang in der 3D-Warteschlange verwendet werden kann, und das Warten auf den Abschluss eines 3D-Vorgangs, damit ein Vorgang in der Computewarteschlange auf eine Ressource zum Schreiben zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="29117-164">Some examples of this include waiting for an operation on a compute queue to complete so that the result can be used for a rendering operation on the 3D queue, and waiting for a 3D operation to complete so that an operation on the compute queue can access a resource for writing.</span></span> <span data-ttu-id="29117-165">Um die Synchronisierung der Arbeit zwischen Warteschlangen zu ermöglichen, verwendet Direct3D 12 das Konzept der Umhängungen, die in der API durch die [**ID3D12Fence-Schnittstelle**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="29117-165">To enable the synchronization of work between queues, Direct3D 12 uses the concept of fences, which are represented in the API by the [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) interface.</span></span>

<span data-ttu-id="29117-166">Ein Fence ist eine ganze Zahl, die die aktuelle Arbeitseinheit darstellt, die verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="29117-166">A fence is an integer that represents the current unit of work being processed.</span></span> <span data-ttu-id="29117-167">Wenn die App den Fence durch Aufrufen von [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal)übergibt, wird die ganze Zahl aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="29117-167">When the app advances the fence, by calling [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), the integer is updated.</span></span> <span data-ttu-id="29117-168">Apps können den Wert eines Fence überprüfen und ermitteln, ob eine Arbeitseinheit abgeschlossen wurde, um zu entscheiden, ob ein nachfolgender Vorgang gestartet werden kann.</span><span class="sxs-lookup"><span data-stu-id="29117-168">Apps can check the value of a fence and determine if a unit of work has been completed in order to decide whether a subsequent operation can be started.</span></span>

## <a name="synchronizing-resources-accessed-by-command-queues"></a><span data-ttu-id="29117-169">Synchronisieren von Ressourcen, auf die von Befehlswarteschlangen zugegriffen wird</span><span class="sxs-lookup"><span data-stu-id="29117-169">Synchronizing resources accessed by command queues</span></span>

<span data-ttu-id="29117-170">In Direct3D 12 wird die Synchronisierung des Zustands einiger Ressourcen mit Ressourcenbarrieren implementiert.</span><span class="sxs-lookup"><span data-stu-id="29117-170">In Direct3D 12, synchronizing the state of some resources is implemented with resource barriers.</span></span> <span data-ttu-id="29117-171">Bei jeder Ressourcenbarriere deklariert eine App die Zustände vor und nach einer Ressource.</span><span class="sxs-lookup"><span data-stu-id="29117-171">At each resource barrier, an app declares the before and after states of a resource.</span></span> <span data-ttu-id="29117-172">Ein gängiges Beispiel ist der Übergang einer Ressource zwischen einer Shaderressourcenansicht und einer Renderzielansicht.</span><span class="sxs-lookup"><span data-stu-id="29117-172">A common example is for a resource to transition between a shader resource view to a render target view.</span></span> <span data-ttu-id="29117-173">Diese Ressourcenbarrieren werden größtenfalls in Befehlslisten verwaltet.</span><span class="sxs-lookup"><span data-stu-id="29117-173">For the most part, these resource barriers are managed within command lists.</span></span> <span data-ttu-id="29117-174">Wenn die Debugebenen aktiviert sind, erzwingt das System, dass die Zustände vor und nach allen Ressourcen übereinstimmen, um zu gewährleisten, dass sich die Ressource bei einem Übergang zu einer Barriere im richtigen Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="29117-174">When the debug layers are enabled, the system enforces that the before and after states of all resources match up, guaranteeing that the resource is in the correct state for a particular operation at a barrier transition.</span></span>

<span data-ttu-id="29117-175">Weitere Informationen zum Synchronisieren des Ressourcenzustands finden Sie unter [Verwenden von Ressourcenbarrieren zum Synchronisieren von Ressourcenzuständen.](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md)</span><span class="sxs-lookup"><span data-stu-id="29117-175">For more information about synchronizing resource state, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="command-queue-support-for-tiled-resources"></a><span data-ttu-id="29117-176">Unterstützung von Befehlswarteschlangen für gekachelte Ressourcen</span><span class="sxs-lookup"><span data-stu-id="29117-176">Command queue support for tiled resources</span></span>

<span data-ttu-id="29117-177">Methoden zum Verwalten von gekachelten Ressourcen, die über die [**ID3D11DeviceContext2-Schnittstelle**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) in Direct3D 11 verfügbar gemacht wurden, werden von der [**ID3D12CommandQueue-Schnittstelle**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) in Direct3D 12 bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="29117-177">Methods for managing tiled resources, which were exposed through the [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) interface in Direct3D 11, are provided by the [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) interface in Direct3D 12.</span></span> <span data-ttu-id="29117-178">Diese Methoden umfassen:</span><span class="sxs-lookup"><span data-stu-id="29117-178">These methods include:</span></span>



| <span data-ttu-id="29117-179">Methode</span><span class="sxs-lookup"><span data-stu-id="29117-179">Method</span></span>                                                              | <span data-ttu-id="29117-180">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="29117-180">Description</span></span>                                                                                              |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="29117-181">**CopyTileMappings**</span><span class="sxs-lookup"><span data-stu-id="29117-181">**CopyTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-copytilemappings)     | <span data-ttu-id="29117-182">Kopiert Zuordnungen aus einer gekachelten Quellressource in eine gekachelte Zielressource.</span><span class="sxs-lookup"><span data-stu-id="29117-182">Copies mappings from a source tiled resource to a destination tiled resource.</span></span><br/>                 |
| [<span data-ttu-id="29117-183">**UpdateTileMappings**</span><span class="sxs-lookup"><span data-stu-id="29117-183">**UpdateTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) | <span data-ttu-id="29117-184">Aktualisiert Zuordnungen von Kachelspeicherorten in gekachelten Ressourcen zu Speicherspeicherorten in einem Ressourcenhap.</span><span class="sxs-lookup"><span data-stu-id="29117-184">Updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span><br/> |



 

<span data-ttu-id="29117-185">Weitere Informationen zur Verwendung von gekachelten Ressourcen in Direct3D 12-Apps finden Sie unter [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span><span class="sxs-lookup"><span data-stu-id="29117-185">For more information about using tiled resources in Direct3D 12 apps, refer to [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span></span>

## <a name="related-topics"></a><span data-ttu-id="29117-186">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="29117-186">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="29117-187">Arbeitsübermittlung in Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="29117-187">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

