---
title: Ausführen und Synchronisieren von Befehlslisten
description: In Microsoft Direct3D 12 ist der unmittelbare Modus vorheriger Versionen nicht mehr vorhanden.
ms.assetid: D5013102-2302-4D66-8F59-079C03BA65FD
keywords:
- Befehlsliste
- Synchronisierung
- Ausführung
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2ef910463ba3a771ac142d41309ae590884e3bc9
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104548756"
---
# <a name="executing-and-synchronizing-command-lists"></a><span data-ttu-id="e3fdb-106">Ausführen und Synchronisieren von Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="e3fdb-106">Executing and Synchronizing Command Lists</span></span>

<span data-ttu-id="e3fdb-107">In Microsoft Direct3D 12 ist der unmittelbare Modus vorheriger Versionen nicht mehr vorhanden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-107">In Microsoft Direct3D 12, the immediate mode of previous versions is no longer present.</span></span> <span data-ttu-id="e3fdb-108">Stattdessen erstellen apps Befehlslisten und Pakete und zeichnen dann Sätze von GPU-Befehlen auf.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-108">Instead, apps create command lists and bundles and then record sets of GPU commands.</span></span> <span data-ttu-id="e3fdb-109">Befehls Warteschlangen werden verwendet, um auszuführende Befehlslisten zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-109">Command queues are used to submit command lists to be executed.</span></span> <span data-ttu-id="e3fdb-110">Dieses Modell ermöglicht Entwicklern eine bessere Kontrolle über die effiziente Nutzung von GPU (Graphics Processing Unit) und CPU.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-110">This model allows developers to have more control over the efficient usage of both graphics processing unit (GPU) and CPU.</span></span>

-   [<span data-ttu-id="e3fdb-111">Befehls Warteschlange</span><span class="sxs-lookup"><span data-stu-id="e3fdb-111">Command queue overview</span></span>](#command-queue-overview)
-   [<span data-ttu-id="e3fdb-112">Initialisieren einer Befehls Warteschlange</span><span class="sxs-lookup"><span data-stu-id="e3fdb-112">Initializing a command queue</span></span>](#initializing-a-command-queue)
-   [<span data-ttu-id="e3fdb-113">Ausführen von Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="e3fdb-113">Executing command Lists</span></span>](#executing-command-lists)
-   [<span data-ttu-id="e3fdb-114">Zugreifen auf Ressourcen aus mehreren Befehls Warteschlangen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-114">Accessing resources from multiple command queues</span></span>](#accessing-resources-from-multiple-command-queues)
-   [<span data-ttu-id="e3fdb-115">Synchronisieren der Befehlslisten Ausführung mithilfe von Befehlen der Befehls Warteschlange</span><span class="sxs-lookup"><span data-stu-id="e3fdb-115">Synchronizing command list execution using command queue fences</span></span>](#synchronizing-command-list-execution-using-command-queue-fences)
-   [<span data-ttu-id="e3fdb-116">Synchronisieren von Ressourcen, auf die über Befehls Warteschlangen zugegriffen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-116">Synchronizing resources accessed by command queues</span></span>](#synchronizing-resources-accessed-by-command-queues)
-   [<span data-ttu-id="e3fdb-117">Unterstützung der Befehls Warteschlange für Kachel Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-117">Command queue support for tiled resources</span></span>](#command-queue-support-for-tiled-resources)
-   [<span data-ttu-id="e3fdb-118">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-118">Related topics</span></span>](#related-topics)

## <a name="command-queue-overview"></a><span data-ttu-id="e3fdb-119">Befehls Warteschlange</span><span class="sxs-lookup"><span data-stu-id="e3fdb-119">Command queue overview</span></span>

<span data-ttu-id="e3fdb-120">Direct3D 12-Befehls Warteschlangen ersetzen die Laufzeit-und Treiber Synchronisierung der Arbeits Übermittlung im unmittelbaren Modus, die zuvor nicht für den Entwickler verfügbar gemacht wurde, mit APIs für die explizite Verwaltung von Parallelität, Parallelität und Synchronisierung</span><span class="sxs-lookup"><span data-stu-id="e3fdb-120">Direct3D 12 command queues replace runtime and driver synchronization of immediate mode work submission, previously not-exposed to the developer, with APIs for explicitly managing concurrency, parallelism and synchronization.</span></span> <span data-ttu-id="e3fdb-121">Befehls Warteschlangen bieten die folgenden Verbesserungen für Entwickler:</span><span class="sxs-lookup"><span data-stu-id="e3fdb-121">Command queues provide the following improvements for developers:</span></span>

-   <span data-ttu-id="e3fdb-122">Ermöglicht Entwicklern die Vermeidung zufälliger Ineffizienzen, die durch eine unerwartete Synchronisierung verursacht werden</span><span class="sxs-lookup"><span data-stu-id="e3fdb-122">Allows developers to avoid accidental inefficiencies caused by unexpected synchronization.</span></span>
-   <span data-ttu-id="e3fdb-123">Ermöglicht es Entwicklern, die Synchronisierung auf einer höheren Ebene einzuführen, bei der die erforderliche Synchronisierung effizienter und präziser ermittelt werden kann.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-123">Allows developers to introduce synchronization at a higher level where the required synchronization can be determined more efficiently and accurately.</span></span> <span data-ttu-id="e3fdb-124">Dies bedeutet, dass die Laufzeit und der Grafiktreiber weniger Zeit für eine reaktive Engineering-Parallelität aufwenden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-124">This means the runtime and the graphics driver will spend less time reactively engineering parallelism.</span></span>
-   <span data-ttu-id="e3fdb-125">Macht teure Vorgänge expliziter.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-125">Makes expensive operations more explicit.</span></span>

<span data-ttu-id="e3fdb-126">Diese Verbesserungen aktivieren oder verbessern die folgenden Szenarien:</span><span class="sxs-lookup"><span data-stu-id="e3fdb-126">These improvements enable or enhance the following scenarios:</span></span>

-   <span data-ttu-id="e3fdb-127">Erhöhter Parallelität: Anwendungen können tiefere Warteschlangen für hintergrundworkloads verwenden, wie z. b. Video Decodierung, wenn Sie über separate Warteschlangen für Vordergrund arbeiten verfügen.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-127">Increased parallelism - Applications can use deeper queues for background workloads, such as video decoding, when they have separate queues for foreground work.</span></span>
-   <span data-ttu-id="e3fdb-128">Asynchrone GPU-Arbeit mit niedriger Priorität: das Befehls Warteschlangen Modell ermöglicht die gleichzeitige Ausführung von GPU-arbeiten mit niedriger Priorität und atomarische Vorgänge, mit denen ein GPU-Thread die Ergebnisse eines anderen nicht synchronisierten Threads nutzen kann, ohne zu blockieren.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-128">Asynchronous and low-priority GPU work - The command queue model enables concurrent execution of low-priority GPU work and atomic operations that enable one GPU thread to consume the results of another unsynchronized thread without blocking.</span></span>
-   <span data-ttu-id="e3fdb-129">Computearbeit mit hoher Priorität: dieser Entwurf ermöglicht Szenarien, in denen das Unterbrechen von 3D-Rendering erforderlich ist, um eine kleine Menge von computeaufgaben mit hoher Priorität zu erledigen, damit das Ergebnis frühzeitig zur weiteren Verarbeitung auf der CPU abgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-129">High-priority compute work - This design enables scenarios that require interrupting 3D rendering to do a small amount of high-priority compute work so that the result can be obtained early for additional processing on the CPU.</span></span>

## <a name="initializing-a-command-queue"></a><span data-ttu-id="e3fdb-130">Initialisieren einer Befehls Warteschlange</span><span class="sxs-lookup"><span data-stu-id="e3fdb-130">Initializing a command queue</span></span>

<span data-ttu-id="e3fdb-131">Befehls Warteschlangen können durch Aufrufen von [**ID3D12Device:: createcommandqueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue)erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-131">Command queues can be created by calling [**ID3D12Device::CreateCommandQueue**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommandqueue).</span></span> <span data-ttu-id="e3fdb-132">Diese Methode nimmt einen [**D3D12 \_ - \_ Befehls \_ auflistentyp**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) an, der angibt, welcher Typ von Warteschlange erstellt werden soll. Daher können Sie den Typ der Befehle an diese Warteschlange senden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-132">This method takes a [**D3D12\_COMMAND\_LIST\_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type) indicating what type of queue should be created, and therefore, what type of commands can be submitted to that queue.</span></span> <span data-ttu-id="e3fdb-133">Beachten Sie, dass Pakete nur von direkten Befehlslisten aufgerufen werden können und nicht direkt an eine Warteschlange übermittelt werden können.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-133">Remember that bundles can only be called from direct command lists and can't be submitted directly to a queue.</span></span> <span data-ttu-id="e3fdb-134">Folgende Warteschlangen Typen werden unterstützt:</span><span class="sxs-lookup"><span data-stu-id="e3fdb-134">The supported queue types are:</span></span>

-   [<span data-ttu-id="e3fdb-135">**D3D12 \_ Command \_ List \_ Type \_ Direct**</span><span class="sxs-lookup"><span data-stu-id="e3fdb-135">**D3D12\_COMMAND\_LIST\_TYPE\_DIRECT**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="e3fdb-136">**D3D12 \_ Befehls \_ List \_ Type \_ Compute**</span><span class="sxs-lookup"><span data-stu-id="e3fdb-136">**D3D12\_COMMAND\_LIST\_TYPE\_COMPUTE**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)
-   [<span data-ttu-id="e3fdb-137">**D3D12 \_ - \_ Befehls \_ Auflistungstyp \_ Kopieren**</span><span class="sxs-lookup"><span data-stu-id="e3fdb-137">**D3D12\_COMMAND\_LIST\_TYPE\_COPY**</span></span>](/windows/desktop/api/d3d12/ne-d3d12-d3d12_command_list_type)

<span data-ttu-id="e3fdb-138">Im allgemeinen akzeptieren direkte Warteschlangen und Befehlslisten alle Befehle, computewarteschlangen und Befehlslisten, die COMPUTE-und Kopier bezogene Befehle akzeptieren, und Kopier Warteschlangen und Befehlslisten akzeptieren nur Kopier Befehle.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-138">In general, DIRECT queues and command lists accept any command, COMPUTE queues and command lists accept compute and copy related commands, and COPY queues and command lists accept only copy commands.</span></span>

## <a name="executing-command-lists"></a><span data-ttu-id="e3fdb-139">Ausführen von Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="e3fdb-139">Executing command Lists</span></span>

<span data-ttu-id="e3fdb-140">Nachdem Sie eine Befehlsliste aufgezeichnet und entweder die Standard Befehls Warteschlange abgerufen oder eine neue erstellt haben, führen Sie Befehlslisten durch Aufrufen von [**ID3D12CommandQueue:: executecommandlists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists)aus.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-140">After you have recorded a command list and either retrieved the default command queue or created a new one, you execute command lists by calling [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="e3fdb-141">Anwendungen können Befehlslisten an eine beliebige Befehls Warteschlange aus mehreren Threads übermitteln.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-141">Applications can submit command lists to any command queue from multiple threads.</span></span> <span data-ttu-id="e3fdb-142">Die Laufzeit führt die Serialisierung dieser Anforderungen in der Reihenfolge der Übermittlung durch.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-142">The runtime will perform the work of serializing these requests in the order of submission.</span></span>

<span data-ttu-id="e3fdb-143">Die Laufzeit überprüft die übermittelte Befehlsliste und löscht den Aufrufen von [**executecommandlists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) , wenn eine der Einschränkungen verletzt wird.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-143">The runtime will validate the submitted command list and will drop the call to [**ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists) if any of the restrictions are violated.</span></span> <span data-ttu-id="e3fdb-144">Aufrufe werden aus den folgenden Gründen gelöscht:</span><span class="sxs-lookup"><span data-stu-id="e3fdb-144">Calls will be dropped for the following reasons:</span></span>

-   <span data-ttu-id="e3fdb-145">Die angegebene Befehlsliste ist ein Bündel und keine direkte Befehlsliste.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-145">The supplied command list is a bundle, not a direct command list.</span></span>
-   <span data-ttu-id="e3fdb-146">[**ID3D12GraphicsCommandList:: Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) wurde nicht in der angegebenen Befehlsliste aufgerufen, um die Aufzeichnung abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-146">[**ID3D12GraphicsCommandList::Close**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-close) has not been called on the supplied command list to complete recording.</span></span>
-   <span data-ttu-id="e3fdb-147">[**ID3D12CommandAllocator:: Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) wurde für den Befehls Zuweiser aufgerufen, der der Befehlsliste zugeordnet ist, seit Sie aufgezeichnet wurde.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-147">[**ID3D12CommandAllocator::Reset**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandallocator-reset) has been called on the command allocator associated with the command list since it was recorded.</span></span> <span data-ttu-id="e3fdb-148">Weitere Informationen zu Befehls Zuweisungen finden Sie unter [Erstellen und Aufzeichnen von Befehlslisten und Paketen](recording-command-lists-and-bundles.md).</span><span class="sxs-lookup"><span data-stu-id="e3fdb-148">For more information about command allocators, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>
-   <span data-ttu-id="e3fdb-149">Der Fence der Befehls Warteschlange gibt an, dass eine vorherige Ausführung der Befehlsliste noch nicht abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-149">The command queue fence indicates that a previous execution of the command list has not yet completed.</span></span> <span data-ttu-id="e3fdb-150">Die Zäune der Befehls Warteschlange werden im folgenden ausführlich erläutert.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-150">Command queue fences are discussed in detail below.</span></span>
-   <span data-ttu-id="e3fdb-151">Die vorher-und nachher-Zustände von Abfragen, die mit Aufrufen von [**ID3D12GraphicsCommandList:: beginquery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) und [**ID3D12GraphicsCommandList:: endquery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery)festgelegt wurden, werden nicht ordnungsgemäß abgeglichen.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-151">The before and after states of queries, set with calls to [**ID3D12GraphicsCommandList::BeginQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-beginquery) and [**ID3D12GraphicsCommandList::EndQuery**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-endquery), are not matched properly.</span></span>
-   <span data-ttu-id="e3fdb-152">Die vorher-und After-Zustände von Ressourcen Übergangs Barrieren werden nicht ordnungsgemäß abgeglichen.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-152">The before and after states of resource transition barriers are not matched properly.</span></span> <span data-ttu-id="e3fdb-153">Weitere Informationen finden Sie unter [Verwenden von Ressourcen Barrieren zum Synchronisieren von Ressourcen Zuständen](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="e3fdb-153">For more information, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="accessing-resources-from-multiple-command-queues"></a><span data-ttu-id="e3fdb-154">Zugreifen auf Ressourcen aus mehreren Befehls Warteschlangen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-154">Accessing resources from multiple command queues</span></span>

<span data-ttu-id="e3fdb-155">Es gibt einige Regeln, die von der Laufzeit erzwungen werden, die den Zugriff von Ressourcen aus mehreren Befehls Warteschlangen einschränken.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-155">There are a couple of rules imposed by the runtime that restrict the access of resources from multiple command queues.</span></span> <span data-ttu-id="e3fdb-156">Nachfolgend sind diese Regeln aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="e3fdb-156">These rules are as follows:</span></span>

<dl> <span data-ttu-id="e3fdb-157">1. Eine Ressource kann nicht gleichzeitig aus mehreren Befehls Warteschlangen geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-157">1. A resource cannot be written to from multiple command queues simultaneously.</span></span> <span data-ttu-id="e3fdb-158">Wenn eine Ressource in einen beschreibbaren Zustand für eine Warteschlange gewechselt hat, wird Sie als exklusiv im Besitz dieser Warteschlange betrachtet und muss in einen Lese-oder gemeinsamen Zustand übergehen (siehe <a href="/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states">**D3D12 \_ Resource \_ States**</a>), bevor Sie von einer anderen Warteschlange aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-158">When a resource has transitioned to a writeable state on a queue, it is considered exclusively owned by that queue, and must transition to a read or COMMON state (refer to <a href="/windows/desktop/api/d3d12/ne-d3d12-d3d12_resource_states">**D3D12\_RESOURCE\_STATES**</a>) before it can be accessed by another queue.</span></span>  </dl>
<dl> <span data-ttu-id="e3fdb-159">2. Im Lese Zustand kann eine Ressource auf der Grundlage ihres Lese Zustands gleichzeitig aus mehreren Befehls Warteschlangen gelesen werden. Dies gilt auch für prozessübergreifende Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-159">2. When in a read state, a resource can be read from multiple command queues simultaneously, including across processes, based on its read state.</span></span> </dl>

<span data-ttu-id="e3fdb-160">Weitere Informationen zu Ressourcen Zugriffsbeschränkungen und zum Verwenden von Ressourcen Barrieren zum Synchronisieren des Zugriffs auf Ressourcen finden [Sie unter Verwenden von Ressourcen Sperren zum Synchronisieren von Ressourcen Zuständen](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="e3fdb-160">For more information about resource access restrictions and using resource barriers to synchronize access to resources, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="synchronizing-command-list-execution-using-command-queue-fences"></a><span data-ttu-id="e3fdb-161">Synchronisieren der Befehlslisten Ausführung mithilfe von Befehlen der Befehls Warteschlange</span><span class="sxs-lookup"><span data-stu-id="e3fdb-161">Synchronizing command list execution using command queue fences</span></span>

<span data-ttu-id="e3fdb-162">Die Unterstützung mehrerer paralleler Befehls Warteschlangen in Direct3D 12 bietet Ihnen mehr Flexibilität und Kontrolle über die Priorisierung der asynchronen Arbeit auf der GPU.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-162">The support for multiple parallel command queues in Direct3D 12 gives you more flexibility and control over the prioritization of asynchronous work on the GPU.</span></span> <span data-ttu-id="e3fdb-163">Dies bedeutet auch, dass Apps die Synchronisierung der Arbeit explizit verwalten müssen. Dies gilt insbesondere dann, wenn die Befehlslisten in einer Warteschlange von Ressourcen abhängen, die von einer anderen Befehls Warteschlange betrieben werden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-163">This design also means that apps need to explicitly manage the synchronization of work, especially when the command lists in one queue depend on resources that are being operated on by another command queue.</span></span> <span data-ttu-id="e3fdb-164">Einige Beispiele hierfür sind z. b. das warten auf den Abschluss eines Vorgangs in einer computewarteschlange, damit das Ergebnis für einen Renderingvorgang in der 3D-Warteschlange verwendet werden kann und auf den Abschluss eines 3D-Vorgangs gewartet wird, damit ein Vorgang in der computewarteschlange auf eine Ressource zum Schreiben zugreifen kann</span><span class="sxs-lookup"><span data-stu-id="e3fdb-164">Some examples of this include waiting for an operation on a compute queue to complete so that the result can be used for a rendering operation on the 3D queue, and waiting for a 3D operation to complete so that an operation on the compute queue can access a resource for writing.</span></span> <span data-ttu-id="e3fdb-165">Zum Aktivieren der Synchronisierung von Arbeit zwischen Warteschlangen verwendet Direct3D 12 das Konzept von Zäunen, die von der [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) -Schnittstelle in der API dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-165">To enable the synchronization of work between queues, Direct3D 12 uses the concept of fences, which are represented in the API by the [**ID3D12Fence**](/windows/desktop/api/d3d12/nn-d3d12-id3d12fence) interface.</span></span>

<span data-ttu-id="e3fdb-166">Ein Fence ist eine ganze Zahl, die die aktuelle Arbeitseinheit darstellt, die verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-166">A fence is an integer that represents the current unit of work being processed.</span></span> <span data-ttu-id="e3fdb-167">Wenn die APP den Fence durch Aufrufen von [**ID3D12CommandQueue:: Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal)verschiebt, wird die ganze Zahl aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-167">When the app advances the fence, by calling [**ID3D12CommandQueue::Signal**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-signal), the integer is updated.</span></span> <span data-ttu-id="e3fdb-168">Apps können den Wert eines Fence überprüfen und bestimmen, ob eine Arbeitseinheit abgeschlossen wurde, um zu entscheiden, ob ein nachfolgende Vorgang gestartet werden kann.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-168">Apps can check the value of a fence and determine if a unit of work has been completed in order to decide whether a subsequent operation can be started.</span></span>

## <a name="synchronizing-resources-accessed-by-command-queues"></a><span data-ttu-id="e3fdb-169">Synchronisieren von Ressourcen, auf die über Befehls Warteschlangen zugegriffen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-169">Synchronizing resources accessed by command queues</span></span>

<span data-ttu-id="e3fdb-170">In Direct3D 12 wird die Synchronisierung des Zustands einiger Ressourcen mit Ressourcen Barrieren implementiert.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-170">In Direct3D 12, synchronizing the state of some resources is implemented with resource barriers.</span></span> <span data-ttu-id="e3fdb-171">An jeder Ressourcen Barriere deklariert eine APP den Zustand "Before" und "After" einer Ressource.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-171">At each resource barrier, an app declares the before and after states of a resource.</span></span> <span data-ttu-id="e3fdb-172">Ein gängiges Beispiel ist, dass eine Ressource zwischen einer Shader-Ressourcen Ansicht und einer renderzielansicht übergeht.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-172">A common example is for a resource to transition between a shader resource view to a render target view.</span></span> <span data-ttu-id="e3fdb-173">In den meisten Fällen werden diese Ressourcen Barrieren innerhalb von Befehlslisten verwaltet.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-173">For the most part, these resource barriers are managed within command lists.</span></span> <span data-ttu-id="e3fdb-174">Wenn die debugschichten aktiviert sind, erzwingt das System, dass die vorher-und nach-Zustände aller Ressourcen einander entsprechen. Dadurch wird sichergestellt, dass die Ressource für einen bestimmten Vorgang bei einem Sperrungs Übergang den richtigen Status aufweist.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-174">When the debug layers are enabled, the system enforces that the before and after states of all resources match up, guaranteeing that the resource is in the correct state for a particular operation at a barrier transition.</span></span>

<span data-ttu-id="e3fdb-175">Weitere Informationen zum Synchronisieren des Ressourcen Zustands finden Sie unter [Verwenden von Ressourcen Sperren zum Synchronisieren von Ressourcen Zuständen](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span><span class="sxs-lookup"><span data-stu-id="e3fdb-175">For more information about synchronizing resource state, see [Using resource barriers to synchronize resource states](using-resource-barriers-to-synchronize-resource-states-in-direct3d-12.md).</span></span>

## <a name="command-queue-support-for-tiled-resources"></a><span data-ttu-id="e3fdb-176">Unterstützung der Befehls Warteschlange für Kachel Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-176">Command queue support for tiled resources</span></span>

<span data-ttu-id="e3fdb-177">Methoden zum Verwalten von gekachelten Ressourcen, die über die [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) -Schnittstelle in Direct3D 11 verfügbar gemacht wurden, werden von der [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) -Schnittstelle in Direct3D 12 bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-177">Methods for managing tiled resources, which were exposed through the [**ID3D11DeviceContext2**](/windows/desktop/api/d3d11_2/nn-d3d11_2-id3d11devicecontext2) interface in Direct3D 11, are provided by the [**ID3D12CommandQueue**](/windows/desktop/api/d3d12/nn-d3d12-id3d12commandqueue) interface in Direct3D 12.</span></span> <span data-ttu-id="e3fdb-178">Diese Methoden umfassen:</span><span class="sxs-lookup"><span data-stu-id="e3fdb-178">These methods include:</span></span>



| <span data-ttu-id="e3fdb-179">Methode</span><span class="sxs-lookup"><span data-stu-id="e3fdb-179">Method</span></span>                                                              | <span data-ttu-id="e3fdb-180">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e3fdb-180">Description</span></span>                                                                                              |
|---------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="e3fdb-181">**Copytilemappings**</span><span class="sxs-lookup"><span data-stu-id="e3fdb-181">**CopyTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-copytilemappings)     | <span data-ttu-id="e3fdb-182">Kopiert Zuordnungen aus einer Ressource mit Kachel Kachel in eine gekachelte Ziel Ressource.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-182">Copies mappings from a source tiled resource to a destination tiled resource.</span></span><br/>                 |
| [<span data-ttu-id="e3fdb-183">**Updatetilemappings**</span><span class="sxs-lookup"><span data-stu-id="e3fdb-183">**UpdateTileMappings**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) | <span data-ttu-id="e3fdb-184">Aktualisiert Zuordnungen von Kachel Positionen in gekachelten Ressourcen an Speicherorte in einem Ressourcenheap.</span><span class="sxs-lookup"><span data-stu-id="e3fdb-184">Updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span><br/> |



 

<span data-ttu-id="e3fdb-185">Weitere Informationen zum Verwenden von gekachelten Ressourcen in Direct3D 12-apps finden Sie unter [Direct3D11-Kachel Ressourcen](/windows/desktop/direct3d11/tiled-resources).</span><span class="sxs-lookup"><span data-stu-id="e3fdb-185">For more information about using tiled resources in Direct3D 12 apps, refer to [Direct3D11 Tiled Resources](/windows/desktop/direct3d11/tiled-resources).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e3fdb-186">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="e3fdb-186">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e3fdb-187">Arbeits Übermittlung in Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="e3fdb-187">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

