---
title: Übersicht über Deskriptoren
description: Deskriptoren werden von API-aufrufen erstellt und identifizieren Ressourcen.
ms.assetid: 64721226-5533-4816-865E-9429032FCC86
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 17d83b2fbfd5c5df2738c61aea4f1d1115d6c874
ms.sourcegitcommit: 3bdf30edb314e0fcd17dc4ddbc70e4ec7d3596e6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/10/2021
ms.locfileid: "104548700"
---
# <a name="descriptors-overview"></a><span data-ttu-id="d5449-103">Übersicht über Deskriptoren</span><span class="sxs-lookup"><span data-stu-id="d5449-103">Descriptors Overview</span></span>

<span data-ttu-id="d5449-104">Deskriptoren werden von API-aufrufen erstellt und identifizieren Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="d5449-104">Descriptors are created by API calls and identify resources.</span></span>

-   [<span data-ttu-id="d5449-105">Deskriptordaten</span><span class="sxs-lookup"><span data-stu-id="d5449-105">Descriptor data</span></span>](#descriptor-data)
-   [<span data-ttu-id="d5449-106">Deskriptorhandles</span><span class="sxs-lookup"><span data-stu-id="d5449-106">Descriptor handles</span></span>](#descriptor-handles)
-   [<span data-ttu-id="d5449-107">NULL-Deskriptoren</span><span class="sxs-lookup"><span data-stu-id="d5449-107">Null descriptors</span></span>](#null-descriptors)
-   [<span data-ttu-id="d5449-108">Standard Deskriptoren</span><span class="sxs-lookup"><span data-stu-id="d5449-108">Default descriptors</span></span>](#default-descriptors)
-   [<span data-ttu-id="d5449-109">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="d5449-109">Related topics</span></span>](#related-topics)

## <a name="descriptor-data"></a><span data-ttu-id="d5449-110">Deskriptordaten</span><span class="sxs-lookup"><span data-stu-id="d5449-110">Descriptor data</span></span>

<span data-ttu-id="d5449-111">Ein Deskriptor ist ein relativ kleiner Datenblock, in dem ein Objekt für die GPU vollständig in einem GPU-spezifischen, nicht transparenten Format beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="d5449-111">A descriptor is a relatively small block of data that fully describes an object to the GPU, in a GPU-specific opaque format.</span></span> <span data-ttu-id="d5449-112">Es gibt mehrere verschiedene Arten von Deskriptoren zum &mdash; Renderziel (rtvs), tiefen Schablonen Sichten (DSVs), Shader-Ressourcen Sichten (Srvs), unsortierter Zugriffs Sichten (UAVs), Konstante Puffer Ansichten (cbvs) und Samplers.</span><span class="sxs-lookup"><span data-stu-id="d5449-112">There are several different types of descriptors&mdash;render target views (RTVs), depth stencil views (DSVs), shader resource views (SRVs), unordered access views (UAVs), constant buffer views (CBVs), and samplers.</span></span>

<span data-ttu-id="d5449-113">Die Größe der Deskriptoren variiert abhängig von der GPU-Hardware.</span><span class="sxs-lookup"><span data-stu-id="d5449-113">Descriptors vary in size, depending on the GPU hardware.</span></span> <span data-ttu-id="d5449-114">Sie können die Größe eines SRV, UAV oder CBV Abfragen, indem Sie [**ID3D12Device:: getdescriptorhandleincrementsize**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getdescriptorhandleincrementsize)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d5449-114">You can query for the size of an SRV, UAV, or CBV by calling [**ID3D12Device::GetDescriptorHandleIncrementSize**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getdescriptorhandleincrementsize).</span></span> <span data-ttu-id="d5449-115">In dieser Dokumentation werden Deskriptoren als unteilbare Einheiten angezeigt. Im folgenden finden Sie ein Beispiel.</span><span class="sxs-lookup"><span data-stu-id="d5449-115">Descriptors are shown in this documentation as indivisible units; here's an example.</span></span>

![SRV, CBV, UAV und Sampler](images/single-descriptor.png)

<span data-ttu-id="d5449-117">Deskriptoren werden von API-aufrufen erstellt und enthalten Informationen wie die Ressource und MIP-Maps, die der Deskriptor enthalten soll.</span><span class="sxs-lookup"><span data-stu-id="d5449-117">Descriptors are created by API calls, and will include information such as the resource and mip-maps you want the descriptor to contain.</span></span>

<span data-ttu-id="d5449-118">Der Treiber verfolgt keine Verweise auf Deskriptoren oder hält Verweise darauf. es liegt an der APP, sicherzustellen, dass der richtige Deskriptortyp verwendet wird und dass die Informationen aktuell sind.</span><span class="sxs-lookup"><span data-stu-id="d5449-118">The driver does not track or hold references to descriptors, it is up to the app to ensure the correct descriptor type is in use, and that the information is current.</span></span> <span data-ttu-id="d5449-119">Es gibt eine kleine Ausnahme. der Treiber prüft renderzielbindungen, um sicherzustellen, dass Swapketten ordnungsgemäß funktionieren.</span><span class="sxs-lookup"><span data-stu-id="d5449-119">There is one small exception to this; the driver does inspect render target bindings to ensure swap chains work correctly.</span></span>

<span data-ttu-id="d5449-120">Objekt Deskriptoren müssen nicht freigegeben oder freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="d5449-120">Object descriptors do not need to be freed or released.</span></span> <span data-ttu-id="d5449-121">Treiber fügen keine Zuordnungen an die Erstellung eines Deskriptors an.</span><span class="sxs-lookup"><span data-stu-id="d5449-121">Drivers do not attach any allocations to the creation of a descriptor.</span></span> <span data-ttu-id="d5449-122">Ein Deskriptor kann jedoch Verweise auf andere Zuordnungen codieren, für die die Anwendung die Lebensdauer besitzt.</span><span class="sxs-lookup"><span data-stu-id="d5449-122">A descriptor may, however, encode references to other allocations for which the application owns the lifetime.</span></span> <span data-ttu-id="d5449-123">Beispielsweise muss ein Deskriptor für einen SRV die virtuelle Adresse der D3D-Ressource (z. b. eine Textur) enthalten, auf die sich der SRV bezieht.</span><span class="sxs-lookup"><span data-stu-id="d5449-123">For instance, a descriptor for an SRV must contain the virtual address of the D3D resource (e.g. a texture) that the SRV refers to.</span></span> <span data-ttu-id="d5449-124">Es liegt in der Verantwortung der Anwendung, sicherzustellen, dass Sie keinen SRV-Deskriptor verwendet, wenn die zugrunde liegende D3D-Ressource, von der Sie abhängt, zerstört wurde oder geändert wird (z. b. als nicht residente deklariert).</span><span class="sxs-lookup"><span data-stu-id="d5449-124">It is the application's responsibility to make sure that it does not use an SRV descriptor when the underlying D3D resource it depends on has been destroyed or is being modified (such as being declared as nonresident).</span></span>

<span data-ttu-id="d5449-125">Die primäre Methode, Deskriptoren zu verwenden, besteht darin, Sie in deskriptorheaps zu platzieren, die für Deskriptoren Arbeitsspeicher unterstützen.</span><span class="sxs-lookup"><span data-stu-id="d5449-125">The primary way to use descriptors is to place them in descriptor heaps, which are backing memory for descriptors.</span></span>

## <a name="descriptor-handles"></a><span data-ttu-id="d5449-126">Deskriptorhandles</span><span class="sxs-lookup"><span data-stu-id="d5449-126">Descriptor handles</span></span>

<span data-ttu-id="d5449-127">Ein Deskriptorhandle ist die eindeutige Adresse des Deskriptors.</span><span class="sxs-lookup"><span data-stu-id="d5449-127">A descriptor handle is the unique address of the descriptor.</span></span> <span data-ttu-id="d5449-128">Sie ähnelt einem-Zeiger, ist aber nicht transparent, da die Implementierung Hardware spezifisch ist.</span><span class="sxs-lookup"><span data-stu-id="d5449-128">It is similar to a pointer, but is opaque as its implementation is hardware specific.</span></span> <span data-ttu-id="d5449-129">Das Handle ist über deskriptorheaps hinweg eindeutig, sodass z. b. ein Array von Handles auf Deskriptoren in mehreren Heaps verweisen kann.</span><span class="sxs-lookup"><span data-stu-id="d5449-129">The handle is unique across descriptor heaps, so, for example, an array of handles can reference descriptors in multiple heaps.</span></span>

<span data-ttu-id="d5449-130">CPU-Handles sind für die sofortige Verwendung vorgesehen, z. b. das Kopieren, wenn Quelle und Ziel identifiziert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d5449-130">CPU handles are for immediate use, such as copying where both the source and destination need to be identified.</span></span> <span data-ttu-id="d5449-131">Unmittelbar nach der Verwendung (z. b. einem [**ID3D12GraphicsCommandList:: omstrendertargets**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets)-Befehl) können Sie wieder verwendet werden, oder der zugrunde liegende Heap kann verworfen werden.</span><span class="sxs-lookup"><span data-stu-id="d5449-131">Immediately after use (for example, a call to [**ID3D12GraphicsCommandList::OMSetRenderTargets**](/windows/win32/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets)), they can be reused, or their underlying heap can be disposed.</span></span>

<span data-ttu-id="d5449-132">GPU-Handles dienen nicht der unmittelbaren Verwendung &mdash; , Sie identifizieren Positionen aus einer Befehlsliste, die zur GPU-Ausführungszeit verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="d5449-132">GPU handles are not for immediate use&mdash;they identify locations from a command list, for use at GPU execution time.</span></span> <span data-ttu-id="d5449-133">Sie müssen beibehalten werden, bis alle Befehlslisten, auf die verwiesen wird, vollständig ausgeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="d5449-133">They must be preserved until any command lists referencing them have executed entirely.</span></span>

<span data-ttu-id="d5449-134">Zum Erstellen eines Deskriptorhandles für den Anfang eines Heaps rufen Sie nach dem Erstellen des deskriptorheaps eine der folgenden Methoden auf:</span><span class="sxs-lookup"><span data-stu-id="d5449-134">To create a descriptor handle for the start of a heap, after creating the descriptor heap itself, call one of the following methods:</span></span>

-   [<span data-ttu-id="d5449-135">**ID3D12DescriptorHeap:: getcpudescriptor Lenker forheapstart**</span><span class="sxs-lookup"><span data-stu-id="d5449-135">**ID3D12DescriptorHeap::GetCPUDescriptorHandleForHeapStart**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12descriptorheap-getcpudescriptorhandleforheapstart)
-   [<span data-ttu-id="d5449-136">**ID3D12DescriptorHeap:: getgpudescriptor Lenker forheapstart**</span><span class="sxs-lookup"><span data-stu-id="d5449-136">**ID3D12DescriptorHeap::GetGPUDescriptorHandleForHeapStart**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12descriptorheap-getgpudescriptorhandleforheapstart)

<span data-ttu-id="d5449-137">Diese Methoden geben die folgenden Strukturen zurück:</span><span class="sxs-lookup"><span data-stu-id="d5449-137">These methods return the following structures:</span></span>

-   [<span data-ttu-id="d5449-138">**D3D12- \_ CPU- \_ \_ Deskriptorhandle**</span><span class="sxs-lookup"><span data-stu-id="d5449-138">**D3D12\_CPU\_DESCRIPTOR\_HANDLE**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_cpu_descriptor_handle)
-   [<span data-ttu-id="d5449-139">**D3D12- \_ GPU- \_ \_ Deskriptorhandle**</span><span class="sxs-lookup"><span data-stu-id="d5449-139">**D3D12\_GPU\_DESCRIPTOR\_HANDLE**</span></span>](/windows/desktop/api/d3d12/ns-d3d12-d3d12_gpu_descriptor_handle)

<span data-ttu-id="d5449-140">Wenn die Größe der Deskriptoren von der Hardware abweicht, verwenden Sie Folgendes, um das Inkrement zwischen den einzelnen Deskriptoren in einem Heap zu erzielen:</span><span class="sxs-lookup"><span data-stu-id="d5449-140">As the size of the descriptors varies by hardware, to get the increment between each descriptor in a heap use:</span></span>

-   [<span data-ttu-id="d5449-141">**ID3D12Device:: getDescriptor handleinkrementsize**</span><span class="sxs-lookup"><span data-stu-id="d5449-141">**ID3D12Device::GetDescriptorHandleIncrementSize**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-getdescriptorhandleincrementsize)

<span data-ttu-id="d5449-142">Es ist sicher, eine Startposition mit einer Reihe von Schritten zu versetzen, Handles zu kopieren und Handles an API-Aufrufe zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="d5449-142">It is safe to offset a starting location with a number of increments, to copy handles, and to pass handles into API calls.</span></span> <span data-ttu-id="d5449-143">Es ist nicht sicher, ein Handle so zu dereferenzieren, als ob es sich um einen gültigen CPU-Zeiger handelt, oder um die Bits innerhalb eines Handles zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="d5449-143">It is not safe to dereference a handle as if it was a valid CPU pointer, nor to analyze the bits within a handle.</span></span>

<span data-ttu-id="d5449-144">Einige Hilfsstrukturen wurden mit Initialisierungs Membern hinzugefügt, um die Verwaltung von Handles etwas zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="d5449-144">Some helper structures have been added, with initialization members, to make managing handles a little easier.</span></span>

-   [<span data-ttu-id="d5449-145">**CD3DX12- \_ CPU- \_ \_ Deskriptorhandle**</span><span class="sxs-lookup"><span data-stu-id="d5449-145">**CD3DX12\_CPU\_DESCRIPTOR\_HANDLE**</span></span>](cd3dx12-cpu-descriptor-handle.md)
-   [<span data-ttu-id="d5449-146">**CD3DX12- \_ GPU- \_ \_ Deskriptorhandle**</span><span class="sxs-lookup"><span data-stu-id="d5449-146">**CD3DX12\_GPU\_DESCRIPTOR\_HANDLE**</span></span>](cd3dx12-gpu-descriptor-handle.md)

## <a name="null-descriptors"></a><span data-ttu-id="d5449-147">NULL-Deskriptoren</span><span class="sxs-lookup"><span data-stu-id="d5449-147">Null descriptors</span></span>

<span data-ttu-id="d5449-148">Beim Erstellen von Deskriptoren mithilfe von API-aufrufen übergeben Anwendungen NULL für den Ressourcen Zeiger in der deskriptordefinition, um die Auswirkung von nichts zu erreichen, wenn von einem Shader darauf zugegriffen wird.</span><span class="sxs-lookup"><span data-stu-id="d5449-148">When creating descriptors using API calls, applications pass NULL for the resource pointer in the descriptor definition to achieve the effect of nothing bound when accessed by a shader.</span></span>

<span data-ttu-id="d5449-149">Der restliche Deskriptor muss so weit wie möglich aufgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="d5449-149">The rest of the descriptor must be populated as much as possible.</span></span> <span data-ttu-id="d5449-150">Im Fall von Shader-Ressourcen Sichten (Srvs) kann der Deskriptor beispielsweise verwendet werden, um den Ansichtstyp (Texture1D, Texture2D usw.) zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="d5449-150">For example, in the case of Shader Resource Views (SRVs), the descriptor can be used to distinguish the type of view it is (Texture1D, Texture2D, and so on).</span></span> <span data-ttu-id="d5449-151">Numerische Parameter im Ansichts Deskriptor (z. b. die Anzahl von Mipmaps) müssen auf Werte festgelegt werden, die für eine Ressource gültig sind.</span><span class="sxs-lookup"><span data-stu-id="d5449-151">Numerical parameters in the view descriptor, such as the number of mipmaps, must all be set to values that are valid for a resource.</span></span>

<span data-ttu-id="d5449-152">In vielen Fällen gibt es ein definiertes Verhalten für den Zugriff auf eine nicht gebundene Ressource, wie z. b. Srvs, die Standardwerte zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="d5449-152">In many cases, there is a defined behavior for accessing an unbound resource, such as SRVs which return default values.</span></span> <span data-ttu-id="d5449-153">Diese werden berücksichtigt, wenn auf einen NULL-Deskriptor zugegriffen wird, solange der Shader-Zugriff mit dem Deskriptortyp kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="d5449-153">Those will be honored when accessing a NULL descriptor as long as the type of shader access is compatible with the descriptor type.</span></span> <span data-ttu-id="d5449-154">Wenn ein Shader z. b. einen Texture2D SRV erwartet und auf einen NULL-SRV zugreift, der als Texture1D definiert ist, ist das Verhalten nicht definiert und könnte zum Zurücksetzen des Geräts führen.</span><span class="sxs-lookup"><span data-stu-id="d5449-154">For example, if a shader expects a Texture2D SRV and accesses a NULL SRV defined as a Texture1D, the behavior is undefined and could result in device reset.</span></span>

<span data-ttu-id="d5449-155">Wenn Sie einen NULL-Deskriptor erstellen möchten, übergeben Sie `null` für den *presource* -Parameter, wenn Sie die Sicht mit Methoden wie z. b. " [**kreateshaderresourceview**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createshaderresourceview)" erstellen.</span><span class="sxs-lookup"><span data-stu-id="d5449-155">In summary, to create a null descriptor, pass `null` for the *pResource* parameter when creating the view with methods such as [**CreateShaderResourceView**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createshaderresourceview).</span></span> <span data-ttu-id="d5449-156">Legen Sie für den Ansichts Beschreibungs Parameter *pdesc* eine Konfiguration fest, die funktioniert, wenn die Ressource nicht NULL war (andernfalls tritt möglicherweise ein Absturz auf der Hardware auf).</span><span class="sxs-lookup"><span data-stu-id="d5449-156">For the view description parameter *pDesc*, set a configuration that would work if the resource was not null (otherwise a crash may occur on some hardware).</span></span>

<span data-ttu-id="d5449-157">Stamm Deskriptoren sollten jedoch nicht auf NULL festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="d5449-157">Root descriptors however, should not be set to null.</span></span>

<span data-ttu-id="d5449-158">Auf Tier1-Hardware (siehe [**Hardware Stufen**](./hardware-support.md)) müssen alle Deskriptoren, die gebunden sind (über deskriptortabellen), entweder als echte Deskriptoren oder NULL-Deskriptoren initialisiert werden. Dies gilt auch, wenn die Hardware nicht darauf zugreifen kann. andernfalls ist das Verhalten nicht definiert.</span><span class="sxs-lookup"><span data-stu-id="d5449-158">On Tier1 hardware (see [**Hardware Tiers**](./hardware-support.md), all descriptors that are bound (via descriptor tables) must be initialized, either as real descriptors or null descriptors, even if not accessed by the hardware, otherwise behaviour is undefined.</span></span>

<span data-ttu-id="d5449-159">Auf Instanzen-Hardware gilt dies für gebundene CBV-und UAV-Deskriptoren, jedoch nicht für SRV-Deskriptoren.</span><span class="sxs-lookup"><span data-stu-id="d5449-159">On Tier2 hardware, this applies to bound CBV and UAV descriptors, but not to SRV descriptors.</span></span>

<span data-ttu-id="d5449-160">Auf Instanzen-Hardware gibt es keine Einschränkung, vorausgesetzt, dass nicht initialisierte Deskriptoren nie aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="d5449-160">On Tier3 hardware, there's no restriction on this, provided that uninitialized descriptors are never accessed.</span></span>

## <a name="default-descriptors"></a><span data-ttu-id="d5449-161">Standard Deskriptoren</span><span class="sxs-lookup"><span data-stu-id="d5449-161">Default descriptors</span></span>

<span data-ttu-id="d5449-162">Wenn Sie einen Standard Deskriptor für eine bestimmte Ansicht erstellen möchten, übergeben Sie einen gültigen *presource* -Parameter an die CREATE VIEW-Methode (z. b. " [**kreateshaderresourceview**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createshaderresourceview)"), übergeben jedoch **null** für den *pdesc* -Parameter.</span><span class="sxs-lookup"><span data-stu-id="d5449-162">To create a default descriptor for a particular view, pass in a valid *pResource* parameter to the create view method (such as [**CreateShaderResourceView**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-createshaderresourceview)), but pass in **NULL** for the *pDesc* parameter.</span></span> <span data-ttu-id="d5449-163">Wenn die Ressource z. b. 14 MIPS enthielt, würde die Sicht 14 MIPS enthalten.</span><span class="sxs-lookup"><span data-stu-id="d5449-163">For example, if the resource contained 14 mips, then the view would contain 14 mips.</span></span> <span data-ttu-id="d5449-164">Der Standardfall deckt die offensichtlichste Zuordnung einer Ressource zu einer Ansicht ab.</span><span class="sxs-lookup"><span data-stu-id="d5449-164">The default case covers the most obvious mapping of a resource to a view.</span></span> <span data-ttu-id="d5449-165">Dies erfordert, dass die Ressource mit einem voll qualifizierten Format Namen (z. b. **DXGI_FORMAT_R8G8B8A8_UNORM_SRGB** anstatt **DXGI_FORMAT_R8G8B8A8_TYPELESS**) zugeordnet wird.</span><span class="sxs-lookup"><span data-stu-id="d5449-165">This does require that the resource is allocated with a fully qualified format name (such as **DXGI_FORMAT_R8G8B8A8_UNORM_SRGB** rather than **DXGI_FORMAT_R8G8B8A8_TYPELESS**).</span></span>

<span data-ttu-id="d5449-166">Standard Deskriptoren können nicht mit einer Strukturansicht der Raytracing-Beschleunigung verwendet werden, da der angegebene *presource* -Parameter **null** sein muss und der Speicherort über einen [**D3D12_RAYTRACING_ACCELERATION_STRUCTURE_SRV**]/Windows/Win32/API/d3d12/NS-d3d12-d3d12_raytracing_acceleration_structure_srv) übergeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="d5449-166">Default descriptors can't be used with a raytracing acceleration structure view, because the provided *pResource* parameter must be **NULL**, and the location must be passed via a [**D3D12_RAYTRACING_ACCELERATION_STRUCTURE_SRV**]/windows/win32/api/d3d12/ns-d3d12-d3d12_raytracing_acceleration_structure_srv).</span></span>

## <a name="related-topics"></a><span data-ttu-id="d5449-167">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="d5449-167">Related topics</span></span>

[<span data-ttu-id="d5449-168">Deskriptoren</span><span class="sxs-lookup"><span data-stu-id="d5449-168">Descriptors</span></span>](descriptors.md)