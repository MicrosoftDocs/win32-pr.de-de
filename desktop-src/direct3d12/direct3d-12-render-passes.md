---
title: Direct3D 12-Rendering-Verläufen
description: Die Funktion "renderingüberläufen" hilft Ihrem Renderer, die GPU-Effizienz zu verbessern, indem der Speicher Datenverkehr auf den/aus dem Dies geschieht, indem es Ihrer Anwendung ermöglicht wird, Anforderungen an die Reihenfolge von Ressourcen Rendering und Daten Abhängigkeiten besser zu identifizieren.
ms.localizationpriority: high
ms.topic: article
ms.date: 11/15/2018
ms.openlocfilehash: f776729f17ac0017d713c6f37bc71de7302a7c08
ms.sourcegitcommit: 780d4b1601c45658ef0b799b80d13f45a53d808d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/26/2020
ms.locfileid: "104548635"
---
# <a name="direct3d-12-render-passes"></a><span data-ttu-id="bf1dd-103">Direct3D 12-Rendering-Verläufen</span><span class="sxs-lookup"><span data-stu-id="bf1dd-103">Direct3D 12 render passes</span></span>

<span data-ttu-id="bf1dd-104">Die Funktion "Rendering übergibt" ist neu für Windows 10, Version 1809 (10,0; Build 17763), und es wird das Konzept eines Direct3D 12-Renderpass eingeführt.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-104">The render passes feature is new for Windows 10, version 1809 (10.0; Build 17763), and it introduces the concept of a Direct3D 12 render pass.</span></span> <span data-ttu-id="bf1dd-105">Ein renderdurchlauf besteht aus einer Teilmenge der Befehle, die Sie in einer Befehlsliste aufzeichnen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-105">A render pass consists of a subset of the commands that you record into a command list.</span></span>

<span data-ttu-id="bf1dd-106">Um zu deklarieren, wo jeder renderdurchlauf beginnt und endet, Schachteln Sie die Befehle, die zu gehören und innerhalb von Aufrufen an [**ID3D12GraphicsCommandList4:: beginrenderpass**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-beginrenderpass) und [**endrenderpass**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-endrenderpass)übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-106">To declare where each render pass begins and ends, you nest the commands belonging to that pass inside calls to [**ID3D12GraphicsCommandList4::BeginRenderPass**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-beginrenderpass) and [**EndRenderPass**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-endrenderpass).</span></span> <span data-ttu-id="bf1dd-107">Folglich enthält jede Befehlsliste 0 (null), ein oder mehrere Rendering-Durchläufen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-107">Consequently, any command list contains zero, one, or more render passes.</span></span>

## <a name="scenarios"></a><span data-ttu-id="bf1dd-108">Szenarien</span><span class="sxs-lookup"><span data-stu-id="bf1dd-108">Scenarios</span></span>

<span data-ttu-id="bf1dd-109">Renderingerweiterungen können die Leistung Ihres Renderers verbessern, wenn er auf Tile-Based verzögertem Rendering (tbdr) basiert, und zwar neben anderen Techniken.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-109">Render passes can improve the performance of your renderer if it's based on Tile-Based Deferred Rendering (TBDR), among other techniques.</span></span> <span data-ttu-id="bf1dd-110">Genauer gesagt unterstützt das Verfahren ihren Renderer, die GPU-Effizienz zu verbessern, indem der Speicher Datenverkehr auf den bzw. aus dem Off-Chip-Speicher reduziert wird, indem die Anwendung die Sortier Anforderungen und Daten Abhängigkeiten der Ressourcen Rendering besser identifiziert</span><span class="sxs-lookup"><span data-stu-id="bf1dd-110">More specifically, the technique helps your renderer to improve GPU efficiency by reducing memory traffic to/from off-chip memory by enabling your application to better identify resource rendering ordering requirements and data dependencies.</span></span>

<span data-ttu-id="bf1dd-111">Ein Anzeigetreiber, der ausdrücklich zur Nutzung der Rendering-Funktion geschrieben wurde, liefert die besten Ergebnisse.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-111">A display driver written expressly to leverage the render passes feature gives the best results.</span></span> <span data-ttu-id="bf1dd-112">Renderpass-APIs können jedoch auch für bereits vorhandene Treiber ausgeführt werden (Dies ist jedoch nicht notwendigerweise bei Leistungsverbesserungen der gibt).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-112">But render passes APIs can run even on pre-existing drivers (although, not necessarily with performance improvements).</span></span>

<span data-ttu-id="bf1dd-113">Dabei handelt es sich um Szenarios, in denen "Rendering Pass" einen Wert bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-113">These are the scenarios in which render passes is designed to provide value.</span></span>

### <a name="allow-your-application-to-avoid-unnecessary-loadsstores-of-resources-fromto-main-memory-on-a-tile-based-deferred-rendering-tbdr-architecture"></a><span data-ttu-id="bf1dd-114">Ermöglicht der Anwendung, unnötige Lade-und Speicherressourcen aus/in den Hauptspeicher einer Tile-Based verzögerten Rendering (tbdr)-Architektur zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-114">Allow your application to avoid unnecessary loads/stores of resources from/to main memory on a Tile-Based Deferred Rendering (TBDR) architecture</span></span>

<span data-ttu-id="bf1dd-115">Einer der Wertbeiträge von Renderingvorgängen ist, dass Sie einen zentralen Speicherort bereitstellen, um die Daten Abhängigkeiten Ihrer Anwendung für eine Reihe von Renderingvorgängen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-115">One of the value propositions of render passes is that it provides you with a central location to indicate your application's data dependencies for a set of rendering operations.</span></span> <span data-ttu-id="bf1dd-116">Diese Daten Abhängigkeiten ermöglichen es dem Anzeigetreiber, diese Daten zur Bindungs-/Sperrzeit zu untersuchen und Anweisungen auszugeben, mit denen Ressourcen Belastungen/-Speicher aus/in den Hauptspeicher minimiert werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-116">These data dependencies allow the display driver to inspect this data at bind/barrier time, and to issue instructions that minimize resource loads/stores from/to main memory.</span></span>

### <a name="allow-your-tbdr-architecture-to-opportunistically-persistent-resources-in-on-chip-cache-across-render-passes-even-in-separate-command-lists"></a><span data-ttu-id="bf1dd-117">Ermöglichen Sie Ihrer tbdr-Architektur die opportunistische Persistenz von Ressourcen im on-Chip-Cache über Rendering-Pass (selbst in separaten Befehlslisten).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-117">Allow your TBDR architecture to opportunistically persistent resources in on-chip cache across render passes (even in separate Command Lists)</span></span>

> [!NOTE]
> <span data-ttu-id="bf1dd-118">Insbesondere ist dieses Szenario auf die Fälle beschränkt, in denen Sie in die gleichen Renderziele in mehreren Befehlslisten schreiben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-118">Specifically, this scenario is limited to the cases where you're writing to the same render target(s) across multiple command lists.</span></span>

<span data-ttu-id="bf1dd-119">Ein gängiges renderingmuster besteht darin, dass Ihre Anwendung seriell in denselben Renderziel (en) über mehrere Befehlslisten gerendert wird, auch wenn die renderingbefehle parallel generiert werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-119">A common rendering pattern is for your application to render to the same render target(s) across multiple command lists serially, even though the rendering commands are generated in parallel.</span></span> <span data-ttu-id="bf1dd-120">Die Verwendung von renderweiterungen in diesem Szenario ermöglicht es, dass diese weitergeleitet werden (da die Anwendung weiß, dass Sie das Rendering in der direkt nachfolgenden Befehlsliste fort setzt), dass der Anzeigetreiber eine Leerung in den Hauptspeicher der Befehlslisten Grenzen vermeiden kann.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-120">Your use of render passes in this scenario allows these passes to be combined in such a way (since the application knows that it will resume rendering on the immediate succeeding command list) that the display driver can avoid a flush to main memory on command list boundaries.</span></span>

## <a name="your-applications-responsibilities"></a><span data-ttu-id="bf1dd-121">Zuständigkeiten ihrer Anwendung</span><span class="sxs-lookup"><span data-stu-id="bf1dd-121">Your application's responsibilities</span></span>

<span data-ttu-id="bf1dd-122">Selbst bei der Funktion "Rendering übergibt" übernimmt weder die Direct3D 12-Laufzeit noch der Anzeigetreiber die Verantwortung für das Ableiten von Verkaufschancen zum erneuten Anordnen/vermeiden von Lade-und Speicher Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-122">Even with the render passes feature, neither the Direct3D 12 runtime nor the display driver take on the responsibility of deducing opportunities to re-order/avoid loads and stores.</span></span> <span data-ttu-id="bf1dd-123">Um die Funktion "Rendering-Pass" ordnungsgemäß nutzen zu können, hat ihre Anwendung diese Zuständigkeiten.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-123">To correctly leverage the render passes feature, your application has these responsibilities.</span></span>

- <span data-ttu-id="bf1dd-124">Identifizieren Sie die Abhängigkeiten von Daten/Reihenfolge für Ihre Vorgänge ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-124">Properly identify data/ordering dependencies for its operations.</span></span>
- <span data-ttu-id="bf1dd-125">Ordnen Sie die Übermittlungen so an, dass Leerungen minimiert werden (sodass Sie die Verwendung von **_PRESERVE** Flags minimieren).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-125">Order its submissions in a way that minimizes flushes (so, minimize your use of **_PRESERVE** flags).</span></span>
- <span data-ttu-id="bf1dd-126">Verwenden Sie die Ressourcen Barrieren ordnungsgemäß, und verfolgen Sie den Ressourcen Status nach.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-126">Correctly make use of resource barriers, and track resource state.</span></span>
- <span data-ttu-id="bf1dd-127">Vermeiden Sie nicht benötigte Kopien/gelöschten Kopien.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-127">Avoid unneeded copies/clears.</span></span> <span data-ttu-id="bf1dd-128">Um diese zu identifizieren, können Sie die automatisierten Leistungs Warnungen aus dem [pix on Windows-Tool](https://devblogs.microsoft.com/pix/)nutzen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-128">To help identify these, you can make use of the automated performance warnings from the [PIX on Windows tool](https://devblogs.microsoft.com/pix/).</span></span>

## <a name="using-the-render-pass-feature"></a><span data-ttu-id="bf1dd-129">Verwenden der Funktion "Renderpass"</span><span class="sxs-lookup"><span data-stu-id="bf1dd-129">Using the render pass feature</span></span>

### <a name="what-is-a-render-pass"></a><span data-ttu-id="bf1dd-130">Was ist ein *renderdurchlauf*?</span><span class="sxs-lookup"><span data-stu-id="bf1dd-130">What is a *render pass*?</span></span>

<span data-ttu-id="bf1dd-131">Ein renderdurchlauf wird von diesen Elementen definiert.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-131">A render pass is defined by these elements.</span></span>

- <span data-ttu-id="bf1dd-132">Ein Satz von Ausgabe Bindungen, die für die Dauer des Renderpass festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-132">A set of output bindings that are fixed for the duration of the render pass.</span></span> <span data-ttu-id="bf1dd-133">Diese Bindungen befinden sich in einer oder mehreren renderzielsichten (rtvs) und/oder in einer tiefen Schablonen Ansicht (DSV).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-133">These bindings are to one or more render target views (RTVs), and/or to a depth stencil view (DSV).</span></span>
- <span data-ttu-id="bf1dd-134">Eine Liste von GPU-Vorgängen, die auf diesen Satz von Ausgabe Bindungen abzielen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-134">A list of GPU operations that target that set of output bindings.</span></span>
- <span data-ttu-id="bf1dd-135">Metadaten, die die Lade-/Speicherabhängigkeiten für alle Ausgabe Bindungen beschreiben, die auf den renderdurchlauf abzielen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-135">Metadata that describes the load/store dependencies for all output bindings targeted by the render pass.</span></span>

### <a name="declare-your-output-bindings"></a><span data-ttu-id="bf1dd-136">Deklarieren der Ausgabe Bindungen</span><span class="sxs-lookup"><span data-stu-id="bf1dd-136">Declare your output bindings</span></span>

<span data-ttu-id="bf1dd-137">Am Anfang eines Renderpass deklarieren Sie Bindungen an die Renderziel (en) und/oder an ihren tiefen-/Stencil-Puffer.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-137">At the start of a render pass, you declare bindings to your render target(s) and/or to your depth/stencil buffer.</span></span> <span data-ttu-id="bf1dd-138">Es ist optional, eine Bindung an Renderziel (en) herzustellen, und es ist optional, eine Bindung an einen tiefen-oder Schablonen Puffer zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-138">It's optional to bind to render target(s), and it's optional to bind to a depth/stencil buffer.</span></span> <span data-ttu-id="bf1dd-139">Sie müssen jedoch mindestens eine Bindung an mindestens eine der beiden Bindungen herstellen, und im folgenden Codebeispiel binden wir an beides.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-139">But you must bind to at least one of the two, and in the code example below we bind to both.</span></span>

<span data-ttu-id="bf1dd-140">Sie deklarieren diese Bindungen in einem Aufrufen von [**ID3D12GraphicsCommandList4:: beginrenderpass**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-beginrenderpass).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-140">You declare these bindings in a call to [**ID3D12GraphicsCommandList4::BeginRenderPass**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-beginrenderpass).</span></span>

```cppwinrt
void render_passes(::ID3D12GraphicsCommandList4 * pIGCL4,
    D3D12_CPU_DESCRIPTOR_HANDLE const& rtvCPUDescriptorHandle,
    D3D12_CPU_DESCRIPTOR_HANDLE const& dsvCPUDescriptorHandle)
{
    const float clearColor4[]{ 0.f, 0.f, 0.f, 0.f };
    CD3DX12_CLEAR_VALUE clearValue{ DXGI_FORMAT_R32G32B32_FLOAT, clearColor4 };

    D3D12_RENDER_PASS_BEGINNING_ACCESS renderPassBeginningAccessClear{ D3D12_RENDER_PASS_BEGINNING_ACCESS_TYPE_CLEAR, { clearValue } };
    D3D12_RENDER_PASS_ENDING_ACCESS renderPassEndingAccessPreserve{ D3D12_RENDER_PASS_ENDING_ACCESS_TYPE_PRESERVE, {} };
    D3D12_RENDER_PASS_RENDER_TARGET_DESC renderPassRenderTargetDesc{ rtvCPUDescriptorHandle, renderPassBeginningAccessClear, renderPassEndingAccessPreserve };

    D3D12_RENDER_PASS_BEGINNING_ACCESS renderPassBeginningAccessNoAccess{ D3D12_RENDER_PASS_BEGINNING_ACCESS_TYPE_NO_ACCESS, {} };
    D3D12_RENDER_PASS_ENDING_ACCESS renderPassEndingAccessNoAccess{ D3D12_RENDER_PASS_ENDING_ACCESS_TYPE_NO_ACCESS, {} };
    D3D12_RENDER_PASS_DEPTH_STENCIL_DESC renderPassDepthStencilDesc{ dsvCPUDescriptorHandle, renderPassBeginningAccessNoAccess, renderPassBeginningAccessNoAccess, renderPassEndingAccessNoAccess, renderPassEndingAccessNoAccess };

    pIGCL4->BeginRenderPass(1, &renderPassRenderTargetDesc, &renderPassDepthStencilDesc, D3D12_RENDER_PASS_FLAG_NONE);
    // Record command list.
    pIGCL4->EndRenderPass();
    // Begin/End further render passes and then execute the command list(s).
}
```

<span data-ttu-id="bf1dd-141">Sie legen das erste Feld der [**D3D12_RENDER_PASS_RENDER_TARGET_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_render_target_desc) Struktur auf das CPU-Deskriptorhandle fest, das einer oder mehreren renderzielsichten (rtvs) entspricht.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-141">You set the first field of the [**D3D12_RENDER_PASS_RENDER_TARGET_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_render_target_desc) structure to the CPU descriptor handle corresponding to one or more render target views (RTVs).</span></span> <span data-ttu-id="bf1dd-142">Entsprechend enthält [**D3D12_RENDER_PASS_DEPTH_STENCIL_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_depth_stencil_desc) das CPU-Deskriptorhandle, das einer Sicht der tiefen Schablone (DSV) entspricht.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-142">Similarly, [**D3D12_RENDER_PASS_DEPTH_STENCIL_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_depth_stencil_desc) contains the CPU descriptor handle corresponding to a depth stencil view (DSV).</span></span> <span data-ttu-id="bf1dd-143">Dabei handelt es sich um dieselben CPU-Deskriptorhandles, die Sie andernfalls an [**ID3D12GraphicsCommandList:: omantrendertargets**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets)übergeben würden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-143">Those CPU descriptor handles are the same ones that you would otherwise pass to [**ID3D12GraphicsCommandList::OMSetRenderTargets**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets).</span></span> <span data-ttu-id="bf1dd-144">Ebenso wie bei **omstrendertargets** werden die CPU-Deskriptoren zum Zeitpunkt des Aufrufens von **beginrenderpass** von ihren jeweiligen (CPU-Deskriptor-) Heaps abgedockt. </span><span class="sxs-lookup"><span data-stu-id="bf1dd-144">And, just as with **OMSetRenderTargets**, the CPU descriptors are *snapped* from their respective (CPU descriptor) heaps at the time of the call to **BeginRenderPass**.</span></span>

<span data-ttu-id="bf1dd-145">Rtvs und DSV werden nicht in den renderdurchlauf geerbt.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-145">The RTVs and DSV are not inherited in to the render pass.</span></span> <span data-ttu-id="bf1dd-146">Stattdessen müssen Sie festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-146">Rather, they must be set.</span></span> <span data-ttu-id="bf1dd-147">Ebenso wie die in **beginrenderpass** deklarierten rtvs und die DSV in der Befehlsliste weitergegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-147">Nor are the RTVs and DSV declared in **BeginRenderPass** propagated out to the command list.</span></span> <span data-ttu-id="bf1dd-148">Sie befinden sich vielmehr in einem nicht definierten Zustand nach dem Renderpass.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-148">Rather, they are in an undefined state following the render pass.</span></span>

### <a name="render-passes-and-workloads"></a><span data-ttu-id="bf1dd-149">Rendering-und Arbeits Auslastungen</span><span class="sxs-lookup"><span data-stu-id="bf1dd-149">Render passes and workloads</span></span>

<span data-ttu-id="bf1dd-150">Sie können renderpassungen nicht schachteln, und es ist nicht möglich, dass ein renderdurchlauf mehr als eine Befehlsliste überschreitet (Sie müssen beim Aufzeichnen in einer einzigen Befehlsliste beginnen und enden).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-150">You can't nest render passes, and you can't have a render pass straddle more than one command list (they must begin and end while recording into a single command list).</span></span> <span data-ttu-id="bf1dd-151">Optimierungen, die für eine effiziente Generierung von Renderingvorgängen mit mehreren Threads entwickelt wurden, werden im Abschnitt weiter unten im Abschnitt [ renderingflags](#render-pass-flags)erläutert.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-151">Optimizations designed to enable efficient multi-threaded generation of render passes are discussed in the section [ render pass Flags](#render-pass-flags), below.</span></span>

<span data-ttu-id="bf1dd-152">Ein Schreibvorgang, den Sie innerhalb eines Renderpass ausführen, ist für Sie bis zu einem nachfolgenden renderdurchlauf nicht *gültig* .</span><span class="sxs-lookup"><span data-stu-id="bf1dd-152">A write that you do from within a render pass isn't *valid* for you to read from until a subsequent render pass.</span></span> <span data-ttu-id="bf1dd-153">Dies schließt einige Arten von Barrieren innerhalb des Renderings aus &mdash; , z. b. das verbarriering von **RENDER_TARGET** auf **SHADER_RESOURCE** auf dem momentan gebundenen Renderziel.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-153">That precludes some types of barriers from within the render pass&mdash;for example, barriering from **RENDER_TARGET** to **SHADER_RESOURCE** on the currently-bound render target.</span></span> <span data-ttu-id="bf1dd-154">Weitere Informationen finden Sie weiter unten im Abschnitt [Rendering-und Ressourcen Barrieren](#render-passes-and-resource-barriers).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-154">For more info, see the section [Render passes and resource barriers](#render-passes-and-resource-barriers), below.</span></span>

<span data-ttu-id="bf1dd-155">Die einzige Ausnahme von der Schreib-Lese-Einschränkung, die gerade erwähnt wird, umfasst die impliziten Lesevorgänge, die als Teil des tiefen Tests und renderzielmischungen auftreten.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-155">The one exception to the write-read constraint just mentioned involves the implicit reads that occur as part of depth-testing and render target blending.</span></span>
<span data-ttu-id="bf1dd-156">Diese APIs sind also innerhalb eines Renderpass nicht zulässig (die Core-Laufzeit entfernt die Befehlsliste, wenn Sie während der Aufzeichnung aufgerufen werden).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-156">So, these APIs are disallowed within a render pass (the core runtime removes the command list if any of them are called during recording).</span></span>

- [<span data-ttu-id="bf1dd-157">**ID3D12GraphicsCommandList1:: atomiccopybufferuint**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-157">**ID3D12GraphicsCommandList1::AtomicCopyBufferUINT**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist1-atomiccopybufferuint)
- [<span data-ttu-id="bf1dd-158">**ID3D12GraphicsCommandList1::AtomicCopyBufferUINT64**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-158">**ID3D12GraphicsCommandList1::AtomicCopyBufferUINT64**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist1-atomiccopybufferuint64)
- [<span data-ttu-id="bf1dd-159">**ID3D12GraphicsCommandList4:: beginrenderpass**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-159">**ID3D12GraphicsCommandList4::BeginRenderPass**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist4-beginrenderpass)
- [<span data-ttu-id="bf1dd-160">**ID3D12GraphicsCommandList:: cleardepthstencilview**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-160">**ID3D12GraphicsCommandList::ClearDepthStencilView**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-cleardepthstencilview)
- [<span data-ttu-id="bf1dd-161">**ID3D12GraphicsCommandList:: clearrendertargetview**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-161">**ID3D12GraphicsCommandList::ClearRenderTargetView**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-clearrendertargetview)
- [<span data-ttu-id="bf1dd-162">**ID3D12GraphicsCommandList:: clearstate**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-162">**ID3D12GraphicsCommandList::ClearState**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-clearstate)
- [<span data-ttu-id="bf1dd-163">**ID3D12GraphicsCommandList:: clearunorderedaccessviewfloat**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-163">**ID3D12GraphicsCommandList::ClearUnorderedAccessViewFloat**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-clearunorderedaccessviewfloat)
- [<span data-ttu-id="bf1dd-164">**ID3D12GraphicsCommandList:: clearunorderedaccessviewuint**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-164">**ID3D12GraphicsCommandList::ClearUnorderedAccessViewUint**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-clearunorderedaccessviewuint)
- [<span data-ttu-id="bf1dd-165">**ID3D12GraphicsCommandList:: copybufferregion**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-165">**ID3D12GraphicsCommandList::CopyBufferRegion**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copybufferregion)
- [<span data-ttu-id="bf1dd-166">**ID3D12GraphicsCommandList:: copyresource**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-166">**ID3D12GraphicsCommandList::CopyResource**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copyresource)
- [<span data-ttu-id="bf1dd-167">**ID3D12GraphicsCommandList:: copytextureregion**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-167">**ID3D12GraphicsCommandList::CopyTextureRegion**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion)
- [<span data-ttu-id="bf1dd-168">**ID3D12GraphicsCommandList:: copytiles**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-168">**ID3D12GraphicsCommandList::CopyTiles**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytiles)
- [<span data-ttu-id="bf1dd-169">**ID3D12GraphicsCommandList::D iscardresource**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-169">**ID3D12GraphicsCommandList::DiscardResource**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-discardresource)
- [<span data-ttu-id="bf1dd-170">**ID3D12GraphicsCommandList::D ispatch**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-170">**ID3D12GraphicsCommandList::Dispatch**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-dispatch)
- [<span data-ttu-id="bf1dd-171">**ID3D12GraphicsCommandList:: omgtrendertargets**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-171">**ID3D12GraphicsCommandList::OMSetRenderTargets**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-omsetrendertargets)
- [<span data-ttu-id="bf1dd-172">**ID3D12GraphicsCommandList:: resolvequerydata**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-172">**ID3D12GraphicsCommandList::ResolveQueryData**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvequerydata)
- [<span data-ttu-id="bf1dd-173">**ID3D12GraphicsCommandList:: resolvesubresource**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-173">**ID3D12GraphicsCommandList::ResolveSubresource**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-resolvesubresource)
- [<span data-ttu-id="bf1dd-174">**ID3D12GraphicsCommandList1:: resolvesubresourceregion**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-174">**ID3D12GraphicsCommandList1::ResolveSubresourceRegion**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist1-resolvesubresourceregion)
- [<span data-ttu-id="bf1dd-175">**ID3D12GraphicsCommandList3:: setprotectedresourcesession**</span><span class="sxs-lookup"><span data-stu-id="bf1dd-175">**ID3D12GraphicsCommandList3::SetProtectedResourceSession**</span></span>](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist3-setprotectedresourcesession)

### <a name="render-passes-and-resource-barriers"></a><span data-ttu-id="bf1dd-176">Rendering und Ressourcen Barrieren</span><span class="sxs-lookup"><span data-stu-id="bf1dd-176">Render passes and resource barriers</span></span>

<span data-ttu-id="bf1dd-177">Ein Schreibvorgang, der innerhalb desselben Renderpass aufgetreten ist, kann nicht gelesen oder verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-177">You may not read from, or consume, a write that occurred within the same render pass.</span></span> <span data-ttu-id="bf1dd-178">Bestimmte Barrieren entsprechen nicht dieser Einschränkung, z. b. von **D3D12_RESOURCE_STATE_RENDER_TARGET** bis **\* _SHADER_RESOURCE** auf dem zurzeit gebundenen Renderziel (und die debugschicht führt zu diesem Effekt).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-178">Certain barriers don't conform to this constraint, for example from **D3D12_RESOURCE_STATE_RENDER_TARGET** to **\*_SHADER_RESOURCE** on the currently-bound render target (and the debug layer will error to that effect).</span></span> <span data-ttu-id="bf1dd-179">Die gleiche Barriere für ein Renderziel, das *außerhalb* des aktuellen Renderpass geschrieben wurde, ist jedoch konform, da die Schreibvorgänge vor dem aktuellen renderdurchlauf abgeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-179">But, that same barrier on a render target that was written *outside* the current render pass is conformant, because the writes will complete ahead of the current render pass starting.</span></span>
<span data-ttu-id="bf1dd-180">Sie können sich über bestimmte Optimierungen, die ein Anzeigetreiber in dieser Hinsicht treffen kann, in Kenntnis nehmen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-180">You might benefit from knowing about certain optimizations that a display driver can make in this regard.</span></span> <span data-ttu-id="bf1dd-181">Bei einer Übereinstimmung mit einer Übereinstimmung kann ein Anzeigetreiber eventuell alle in Ihrem renderdurchlauf gefundenen Barrieren an den Anfang des Renderpass verschieben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-181">Given a conformant workload, a display driver might move any barriers encountered in your render pass to the beginning of the render pass.</span></span> <span data-ttu-id="bf1dd-182">Dort können Sie zusammengefügt werden (und haben keine Auswirkungen auf das einarbeiten/klassifizieren).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-182">There, they can be coalesced (and not interfere with any tiling/binning operations).</span></span> <span data-ttu-id="bf1dd-183">Dies ist eine gültige Optimierung, vorausgesetzt, dass alle Ihre Schreibvorgänge abgeschlossen sind, bevor der aktuelle renderdurchlauf gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-183">This is a valid optimization provided that all of your writes have finished before the current render pass starts.</span></span>

<span data-ttu-id="bf1dd-184">Im folgenden finden Sie ein ausführeres Beispiel für die Treiber Optimierung, bei dem davon ausgegangen wird, dass Sie über ein Renderingmodul verfügen, das über einen Ressourcen Bindungs Entwurf vor dem Direct3D 12-Stil verfügt &mdash; </span><span class="sxs-lookup"><span data-stu-id="bf1dd-184">Here's a more complete driver-optimization example, which assumes that you have a rendering engine that has a pre-Direct3D 12-style resource-binding design&mdash;doing barriers *on demand* based on how resources are bound.</span></span> <span data-ttu-id="bf1dd-185">Beim Schreiben in eine ungeordnete Zugriffs Ansicht (UAV) bis zum Ende eines Frames (für die Verwendung im folgenden Frame) kann die Engine die Ressource möglicherweise im **D3D12_RESOURCE_STATE_UNORDERED_ACCESS** Zustand am Ende des Frames belassen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-185">When writing into an unordered access view (UAV) toward the end of a frame (to be consumed in the following frame), the engine might happen to leave the resource in the **D3D12_RESOURCE_STATE_UNORDERED_ACCESS** state at the conclusion of the frame.</span></span> <span data-ttu-id="bf1dd-186">Wenn die Engine im folgenden Frame die Ressource als Shader-Ressourcen Ansicht (SRV) bindet, wird feststellen, dass sich die Ressource nicht im richtigen Zustand befindet, und es wird eine Barriere von **D3D12_RESOURCE_STATE_UNORDERED_ACCESS** auf **D3D12_RESOURCE_STATE_PIXEL_SHADER_RESOURCE** ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-186">In the frame that follows, when the engine goes to bind the resource as a shader resource view (SRV), it will find that the resource is not in the correct state, and it will issue a barrier from **D3D12_RESOURCE_STATE_UNORDERED_ACCESS** to **D3D12_RESOURCE_STATE_PIXEL_SHADER_RESOURCE**.</span></span> <span data-ttu-id="bf1dd-187">Wenn diese Barriere im renderdurchlauf auftritt, wird der Anzeigetreiber so konfiguriert, dass er davon ausgeht, dass alle Schreibvorgänge bereits *außerhalb* dieses aktuellen renderlaufs stattgefunden haben. Folglich (und hier ist die Optimierung, in der die Optimierung erfolgt) kann der Anzeigetreiber die Barriere bis zum Anfang des renderdurchlaufs *verschieben* .</span><span class="sxs-lookup"><span data-stu-id="bf1dd-187">If that barrier occurs within the render pass, then the display driver is justified in assuming that all writes have already occurred *outside* of this current render pass, and consequently (and here's where the optimization comes in) the display driver might *move* the barrier up to the start of the render pass.</span></span> <span data-ttu-id="bf1dd-188">Dies ist auch dann gültig, wenn der Code der in diesem Abschnitt und der letzten beschriebenen Schreib-/leseeinschränkung entspricht.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-188">Again, this is valid, as long as your code is conforming to the write-read constraint described in this section and the last.</span></span>


<span data-ttu-id="bf1dd-189">Dies sind Beispiele für konforme Barrieren.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-189">These are examples of conformant barriers.</span></span>
- <span data-ttu-id="bf1dd-190">**D3D12_RESOURCE_STATE_UNORDERED_ACCESS** **D3D12_RESOURCE_STATE_INDIRECT_ARGUMENT**.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-190">**D3D12_RESOURCE_STATE_UNORDERED_ACCESS** to **D3D12_RESOURCE_STATE_INDIRECT_ARGUMENT**.</span></span>
- <span data-ttu-id="bf1dd-191">**D3D12_RESOURCE_STATE_COPY_DEST** **\* _SHADER_RESOURCE**.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-191">**D3D12_RESOURCE_STATE_COPY_DEST** to **\*_SHADER_RESOURCE**.</span></span>

<span data-ttu-id="bf1dd-192">Dies sind Beispiele für nicht konforme Barrieren.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-192">And these are examples of non-conformant barriers.</span></span>

- <span data-ttu-id="bf1dd-193">**D3D12_RESOURCE_STATE_RENDER_TARGET** in einen beliebigen Lese Zustand für aktuell gebundene rtvs/DSVs.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-193">**D3D12_RESOURCE_STATE_RENDER_TARGET** to any read state on currently-bound RTVs/DSVs.</span></span>
- <span data-ttu-id="bf1dd-194">**D3D12_RESOURCE_STATE_DEPTH_WRITE** in einen beliebigen Lese Zustand für aktuell gebundene rtvs/DSVs.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-194">**D3D12_RESOURCE_STATE_DEPTH_WRITE** to any read state on currently-bound RTVs/DSVs.</span></span>
- <span data-ttu-id="bf1dd-195">Eine beliebige Aliasing Barriere.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-195">Any aliasing barrier.</span></span>
- <span data-ttu-id="bf1dd-196">UAV-Barrieren (unsortierter Zugriffs Ansicht).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-196">Unordered access view (UAV) barriers.</span></span> 

### <a name="resource-access-declaration"></a><span data-ttu-id="bf1dd-197">Deklaration des Ressourcen Zugriffs</span><span class="sxs-lookup"><span data-stu-id="bf1dd-197">Resource access declaration</span></span>

<span data-ttu-id="bf1dd-198">Bei **beginrenderpass** und beim Deklarieren aller Ressourcen, die in diesem Durchlauf als rtvs und/oder DSV fungieren, müssen Sie auch deren Anfangs-und *endzugriffsmerkmale* angeben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-198">At **BeginRenderPass** time, as well as declaring all resources that are serving as RTVs and/or DSV within that pass, you must also specify their beginning and ending *access* characteristics.</span></span> <span data-ttu-id="bf1dd-199">Wie Sie im Codebeispiel im obigen Abschnitt [Deklarieren von Ausgabe Bindungen](#declare-your-output-bindings) sehen können, verwenden Sie die [**D3D12_RENDER_PASS_RENDER_TARGET_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_render_target_desc) -und [**D3D12_RENDER_PASS_DEPTH_STENCIL_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_depth_stencil_desc) Strukturen.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-199">As you can see in the code example in the [Declare your output bindings](#declare-your-output-bindings) section above, you do this with the [**D3D12_RENDER_PASS_RENDER_TARGET_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_render_target_desc) and [**D3D12_RENDER_PASS_DEPTH_STENCIL_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_depth_stencil_desc) structures.</span></span>

<span data-ttu-id="bf1dd-200">Weitere Informationen finden Sie in den [**D3D12_RENDER_PASS_BEGINNING_ACCESS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_beginning_access) -und [**D3D12_RENDER_PASS_ENDING_ACCESS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_ending_access) Strukturen und in den Enumerationen [**D3D12_RENDER_PASS_BEGINNING_ACCESS_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_render_pass_beginning_access_type) und [**D3D12_RENDER_PASS_ENDING_ACCESS_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_render_pass_ending_access_type) .</span><span class="sxs-lookup"><span data-stu-id="bf1dd-200">For more details, see the [**D3D12_RENDER_PASS_BEGINNING_ACCESS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_beginning_access) and [**D3D12_RENDER_PASS_ENDING_ACCESS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_render_pass_ending_access) structures, and the [**D3D12_RENDER_PASS_BEGINNING_ACCESS_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_render_pass_beginning_access_type) and [**D3D12_RENDER_PASS_ENDING_ACCESS_TYPE**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_render_pass_ending_access_type) enumerations.</span></span>

### <a name="render-pass-flags"></a><span data-ttu-id="bf1dd-201">Renderpassflags</span><span class="sxs-lookup"><span data-stu-id="bf1dd-201">Render pass flags</span></span>

<span data-ttu-id="bf1dd-202">Der letzte an **beginrenderpass** übergebene Parameter ist ein renderpassflag (ein Wert aus der [**D3D12_RENDER_PASS_FLAGS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_render_pass_flags) Enumeration).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-202">The last parameter passed to **BeginRenderPass** is a render pass flag (a value from the [**D3D12_RENDER_PASS_FLAGS**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_render_pass_flags) enumeration).</span></span>

```cppwinrt
enum D3D12_RENDER_PASS_FLAGS
{
    D3D12_RENDER_PASS_FLAG_NONE = 0,
    D3D12_RENDER_PASS_FLAG_ALLOW_UAV_WRITES = 0x1,
    D3D12_RENDER_PASS_FLAG_SUSPENDING_PASS = 0x2,
    D3D12_RENDER_PASS_FLAG_RESUMING_PASS = 0x4
};
```

#### <a name="uav-writes-within-a-render-pass"></a><span data-ttu-id="bf1dd-203">UAV-Schreibvorgänge innerhalb eines Renderpass</span><span class="sxs-lookup"><span data-stu-id="bf1dd-203">UAV writes within a render pass</span></span>

<span data-ttu-id="bf1dd-204">UAV-Schreibvorgänge (unsortierter Zugriffs Ansicht) sind innerhalb eines Renderpass zulässig, aber Sie müssen explizit angeben, dass Sie UAV-Schreibvorgänge innerhalb des Renderpass ausgeben, indem Sie **D3D12_RENDER_PASS_FLAG_ALLOW_UAV_WRITES** angeben, sodass der Anzeigetreiber ggf. das Ticken deaktivieren kann.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-204">Unordered access view (UAV) writes are permitted within a render pass, but you must specifically indicate that you'll be issuing UAV writes within the render pass by specifying **D3D12_RENDER_PASS_FLAG_ALLOW_UAV_WRITES**, so that the display driver can opt out of tiling if necessary.</span></span>

<span data-ttu-id="bf1dd-205">UAV-Zugriffe müssen der oben beschriebenen Schreib-/leseeinschränkung folgen (Schreibvorgänge in einem renderdurchlauf können bis zu einem nachfolgenden renderdurchlauf nicht gelesen werden).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-205">UAV accesses must follow the write-read constraint described above (writes in a render pass are not valid to read until a subsequent render pass).</span></span> <span data-ttu-id="bf1dd-206">UAV-Barrieren sind innerhalb eines Renderpass nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-206">UAV barriers are not permitted within a render pass.</span></span>

<span data-ttu-id="bf1dd-207">UAV-Bindungen (über Stamm Tabellen oder Stamm Deskriptoren) werden in Rendering-Pässe geerbt und aus den Rendering-Durchläufen weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-207">UAV bindings (via root tables or root descriptors) are inherited into render passes, and are propagated out of render passes.</span></span>

#### <a name="suspending-passes-and-resuming-passes"></a><span data-ttu-id="bf1dd-208">Anhalten-übergibt und fortsetzen-übergibt</span><span class="sxs-lookup"><span data-stu-id="bf1dd-208">Suspending-passes, and resuming-passes</span></span>

<span data-ttu-id="bf1dd-209">Sie können einen gesamten renderdurchlauf als einen anhaltedurchlauf und/oder einen fort Setz baren Durchlauf angeben.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-209">You can indicate an entire render pass as being a suspending-pass and/or a resuming-pass.</span></span> <span data-ttu-id="bf1dd-210">Ein "anhalten-gefolgt von a-fortsetzen"-paar muss über identische Sichten/Zugriffsflags zwischen den Durchläufen verfügen und möglicherweise keine zwischenzeitlichen GPU-Vorgänge (z. b. "zeichnet", "Dispatches", "verworfen", "löscht", "Kopien", "Update-Tile-Mappings", "Write-Buffer-unmittelates",</span><span class="sxs-lookup"><span data-stu-id="bf1dd-210">A suspending-followed-by-a-resuming pair must have identical views/access flags between the passes, and may not have any intervening GPU operations (for example, draws, dispatches, discards, clears, copies, update-tile-mappings, write-buffer-immediates, queries, query resolves) between the suspending render pass and the resuming render pass.</span></span>

<span data-ttu-id="bf1dd-211">Der vorgesehene Anwendungsfall ist Multithread-Rendering, bei dem vier Befehlslisten (jeweils mit eigenen Renderingvorgängen) die gleichen Renderziele als Ziel haben können.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-211">The intended use case is multi-threaded rendering, where say four command lists (each with their own render passes) can target the same render targets.</span></span> <span data-ttu-id="bf1dd-212">Wenn die Rendering-Weitergabe über Befehlslisten hinweg angehalten/fortgesetzt wird, müssen die Befehlslisten in demselben Aufrufen von [**ID3D12CommandQueue:: executecommandlists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists)ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-212">When render passes are suspended/resumed across command lists, the command lists must be executed in the same call to [**ID3D12CommandQueue::ExecuteCommandLists**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-executecommandlists).</span></span>

<span data-ttu-id="bf1dd-213">Ein renderdurchlauf kann sowohl fortgesetzt als auch angehalten werden.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-213">A render pass can be both resuming and suspending.</span></span> <span data-ttu-id="bf1dd-214">Im soeben angegebenen Multithread-Beispiel werden die Befehlslisten 2 und 3 von 1 bis 2 fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-214">In the multi-threaded example just given, command lists 2 and 3 would be resuming from 1 and 2, respectively.</span></span> <span data-ttu-id="bf1dd-215">2 und 3 werden gleichzeitig auf 3 bzw. 4 ausgesetzt.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-215">And at the same time 2 and 3 would be suspending to 3 and 4, respectively.</span></span>

## <a name="query-for-render-passes-feature-support"></a><span data-ttu-id="bf1dd-216">Abfrage für die Funktions Unterstützung von "Rendering"</span><span class="sxs-lookup"><span data-stu-id="bf1dd-216">Query for render passes feature support</span></span>

<span data-ttu-id="bf1dd-217">Sie können " [**ID3D12Device:: checkfeaturesupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) " anrufen, um das Ausmaß abzufragen, in dem ein Gerätetreiber und/oder die Hardware das Rendering von Vorgängen effizient unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-217">You can call [**ID3D12Device::CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) to query the extent to which a device driver and/or the hardware efficiently supports render passes.</span></span>

```cppwinrt
D3D12_RENDER_PASS_TIER get_render_passes_tier(::ID3D12Device * pIDevice)
{
    D3D12_FEATURE_DATA_D3D12_OPTIONS5 featureSupport{};
    winrt::check_hresult(
        pIDevice->CheckFeatureSupport(D3D12_FEATURE_D3D12_OPTIONS5, &featureSupport, sizeof(featureSupport))
    );
    return featureSupport.RenderPassesTier;
}
...
    D3D12_RENDER_PASS_TIER renderPassesTier{ get_render_passes_tier(pIDevice) };
```

<span data-ttu-id="bf1dd-218">Aufgrund der Lauf Zeit-Mapping-Logik funktioniert Rendering immer.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-218">Because of the runtime's mapping logic, render passes always function.</span></span> <span data-ttu-id="bf1dd-219">Abhängig von der Funktions Unterstützung bieten Sie jedoch nicht immer einen Vorteil.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-219">But, depending on feature support, they won't always provide a benefit.</span></span> <span data-ttu-id="bf1dd-220">Sie können Code verwenden, der dem obigen Codebeispiel ähnelt, um zu bestimmen, ob es für Sie sinnvoll ist, Befehle als Renderpass auszugeben, und wenn es definitiv kein Vorteil ist (d. h., wenn die Laufzeit lediglich der vorhandenen API-Oberfläche entspricht).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-220">You can use code similar to the code example above to determine whether/when it is worth your while to issue commands as render passes, and when it is definitely not a benefit (that is, when the runtime is just mapping to the existing API surface).</span></span> <span data-ttu-id="bf1dd-221">Die Durchführung dieser Überprüfung ist besonders wichtig, wenn Sie [D3D11On12](/windows/desktop/direct3d12/direct3d-11-on-12)verwenden).</span><span class="sxs-lookup"><span data-stu-id="bf1dd-221">Performing this check is particularly important if you're using [D3D11On12](/windows/desktop/direct3d12/direct3d-11-on-12)).</span></span>

<span data-ttu-id="bf1dd-222">Eine Beschreibung der drei Ebenen der Unterstützung finden Sie in der [**D3D12_RENDER_PASS_TIER**](/windows/win32/api/d3d12/ne-d3d12-d3d12_render_pass_tier) -Enumeration.</span><span class="sxs-lookup"><span data-stu-id="bf1dd-222">For a description of the three tiers of support, see the [**D3D12_RENDER_PASS_TIER**](/windows/win32/api/d3d12/ne-d3d12-d3d12_render_pass_tier) enumeration.</span></span>
