---
title: Erweiterte Verwendung von deskriptortabellen
description: In den folgenden Abschnitten finden Sie Informationen zur erweiterten Verwendung von deskriptortabellen.
ms.assetid: BB0CA29C-65CB-48B1-8351-EE13CC470B54
ms.date: 05/31/2018
ms.localizationpriority: high
ms.topic: article
ms.openlocfilehash: 79dad6914cff07726c2d40ed2ee27cccb6a0cf1e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "74104641"
---
# <a name="advanced-use-of-descriptor-tables"></a><span data-ttu-id="dfea9-103">Erweiterte Verwendung von deskriptortabellen</span><span class="sxs-lookup"><span data-stu-id="dfea9-103">Advanced use of Descriptor Tables</span></span>

<span data-ttu-id="dfea9-104">In den folgenden Abschnitten finden Sie Informationen zur erweiterten Verwendung von deskriptortabellen.</span><span class="sxs-lookup"><span data-stu-id="dfea9-104">The following sections provide information about the advanced use of descriptor tables.</span></span>

-   [<span data-ttu-id="dfea9-105">Ändern von deskriptortabelleneinträgen zwischen renderingaufrufen</span><span class="sxs-lookup"><span data-stu-id="dfea9-105">Changing Descriptor Table Entries between Rendering Calls</span></span>](#changing-descriptor-table-entries-between-rendering-calls)
-   [<span data-ttu-id="dfea9-106">Indizierung außerhalb der Grenzen</span><span class="sxs-lookup"><span data-stu-id="dfea9-106">Out of Bounds Indexing</span></span>](#out-of-bounds-indexing)
-   [<span data-ttu-id="dfea9-107">Shader-Ableitungen und abweichende Indizierung</span><span class="sxs-lookup"><span data-stu-id="dfea9-107">Shader Derivatives and Divergent Indexing</span></span>](#shader-derivatives-and-divergent-indexing)
-   [<span data-ttu-id="dfea9-108">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="dfea9-108">Related topics</span></span>](#related-topics)

## <a name="changing-descriptor-table-entries-between-rendering-calls"></a><span data-ttu-id="dfea9-109">Ändern von deskriptortabelleneinträgen zwischen renderingaufrufen</span><span class="sxs-lookup"><span data-stu-id="dfea9-109">Changing Descriptor Table Entries between Rendering Calls</span></span>

<span data-ttu-id="dfea9-110">Nachdem in der Befehlsliste festgelegt wurde, dass die deskriptortabellen für die Ausführung an eine Warteschlange gesendet wurden, darf die Anwendung die Teile der deskriptorheaps, auf die die GPU verweisen könnte, nicht aus der CPU bearbeiten, bis die Anwendung weiß, dass die GPU die Verwendung der Verweise abgeschlossen hat.</span><span class="sxs-lookup"><span data-stu-id="dfea9-110">After command lists that set descriptor tables have been submitted to a queue for execution, the application must not edit from the CPU the portions of descriptor heaps that the GPU might reference until the application knows that the GPU has finished using the references.</span></span>

<span data-ttu-id="dfea9-111">Der Abschluss des Vorgangs kann an einer eng gebundenen Grenze mithilfe von API-Zäunen für die Nachverfolgung des GPU-Status oder durch mehr grobe Mechanismen (z. b. das warten darauf, dass das Rendering an die Anzeige gesendet wurde) festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="dfea9-111">Work completion can be determined at a tight bound using API fences for tracking GPU progress, or more coarse mechanisms like waiting to see that rendering has been sent to display - whatever suits the application.</span></span> <span data-ttu-id="dfea9-112">Wenn eine Anwendung weiß, dass nur eine Teilmenge des Bereichs, auf den eine Deskriptortabelle zeigt, zugegriffen wird (z.b. aufgrund der Fluss Steuerung im Shader), können die anderen Deskriptoren, auf die nicht verwiesen wird, weiterhin geändert werden.</span><span class="sxs-lookup"><span data-stu-id="dfea9-112">If an application knows that only a subset of the region a descriptor table points to will be accessed (say due to flow control in the shader), the other unreferenced descriptors are still free to be changed.</span></span> <span data-ttu-id="dfea9-113">Wenn eine Anwendung zwischen den verschiedenen deskriptortabellen zwischen renderingaufrufen wechseln muss, gibt es einige Ansätze, aus denen die Anwendung wählen kann:</span><span class="sxs-lookup"><span data-stu-id="dfea9-113">If an application needs to switch between different descriptor tables between rendering calls, there are a few approaches the application can choose from:</span></span>

-   <span data-ttu-id="dfea9-114">Deskriptor Table Versioning: erstellt (oder verwendet) eine separate Deskriptortabelle für jede eindeutige Auflistung von Deskriptoren, auf die von einer Befehlsliste verwiesen werden soll.</span><span class="sxs-lookup"><span data-stu-id="dfea9-114">Descriptor Table Versioning: Create (or reuse) a separate descriptor table for every unique collection of descriptors that is to be referenced by a command list.</span></span> <span data-ttu-id="dfea9-115">Beim Bearbeiten und erneuten verwenden zuvor aufgefüllter Bereiche auf deskriptorheaps müssen Anwendungen zuerst sicherstellen, dass die GPU die Verwendung eines beliebigen Teils eines deskriptorheaps abgeschlossen hat, der wieder verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="dfea9-115">When editing and reusing previously populated areas on descriptor heaps, applications must first ensure that the GPU has finished using any portion of a descriptor heap that will be recycled.</span></span>
-   <span data-ttu-id="dfea9-116">Dynamische Indizierung: Anwendungen können Objekte anordnen, die überzeichnen/verteilen (oder sogar innerhalb eines zeichnen) in einem Bereich eines deskriptorheaps variieren, eine Deskriptortabelle definieren, die alle umfasst, und aus dem Shader die dynamische Indizierung der Tabelle während der shaderausführung verwenden, um das zu verwendende Objekt auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="dfea9-116">Dynamic Indexing: Applications can arrange objects that vary across draw/dispatch (or even vary within a draw) in a range of a descriptor heap, define a descriptor table that spans all of them, and from the shader, use dynamic indexing of the table during shader execution to select which object to use.</span></span>
-   <span data-ttu-id="dfea9-117">Direktes Platzieren von Deskriptoren in der Stamm Signatur.</span><span class="sxs-lookup"><span data-stu-id="dfea9-117">Putting descriptors in the root signature directly.</span></span> <span data-ttu-id="dfea9-118">Nur eine sehr kleine Anzahl von Deskriptoren kann auf diese Weise verwaltet werden, da der Stamm Signatur Bereich beschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="dfea9-118">Only a very small number of descriptors can be managed this way because root signature space is limited.</span></span>

<span data-ttu-id="dfea9-119">Die Verwendung der deskriptortabellenversionierung besteht darin, dass der deskriptorspeicher aus einem deskriptorheap für jeden eindeutigen Satz von Deskriptoren, auf die von der Grafik Pipeline für jede Befehlsliste verwiesen wird, die entweder ausgeführt werden kann, in die Warteschlange eingereiht oder zu einem bestimmten Zeitpunkt aufgezeichnet werden kann, durchgebrannt werden muss.</span><span class="sxs-lookup"><span data-stu-id="dfea9-119">The implication of using descriptor table versioning is that descriptor memory out of a descriptor heap must be burned through for every unique set of descriptors referenced by the graphics pipeline for every command list that could be either executing, queued for execution, or being recorded at any given time.</span></span>

<span data-ttu-id="dfea9-120">D3D12 übernimmt die Verwaltung der Versionsverwaltung für die Anwendung für die Objekttypen, die über deskriptorheaps und deskriptortabellen verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="dfea9-120">D3D12 leaves the responsibility of managing versioning to the application for the object types managed via descriptor heaps and descriptor tables.</span></span> <span data-ttu-id="dfea9-121">Ein Vorteil besteht darin, dass Anwendungen den deskriptortabelleninhalt so weit wie möglich wieder verwenden können, anstatt immer eine neue deskriptortabellenversion für jede Übermittlung von Befehlslisten zu definieren.</span><span class="sxs-lookup"><span data-stu-id="dfea9-121">One benefit of this is that applications can choose to reuse descriptor table contents as much as possible rather than always defining a new descriptor table version for every command list submission.</span></span> <span data-ttu-id="dfea9-122">Bei der Stamm Signatur handelt es sich um ein Leerzeichen, das der D3D12-Treiber automatisch Versionen</span><span class="sxs-lookup"><span data-stu-id="dfea9-122">The root signature is a space that the D3D12 driver automatically versions.</span></span>

<span data-ttu-id="dfea9-123">Die Möglichkeit, mehrere deskriptortabellen gleichzeitig an die Stamm Signatur (und somit an die Pipeline) zu binden, ermöglicht es Anwendungen, Gruppen von deskriptorverweisen bei Bedarf zu gruppieren und zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="dfea9-123">The ability to bind multiple descriptor tables to the root signature (and thus to the pipeline) at a time allows applications to group and switch sets of descriptor references at different frequencies if desired.</span></span> <span data-ttu-id="dfea9-124">Eine Anwendung kann z. b. eine kleine Zahl (z. b. nur eine) von großen statischen deskriptortabellen verwenden, die selten geändert werden, oder in der die Bereiche im zugrunde liegenden deskriptorheap-Speicher nach Bedarf aufgefüllt werden, wobei die dynamische Indizierung aus dem Shader verwendet wird, um Texturen auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="dfea9-124">For example, an application could use a small number (perhaps just one) of large static descriptor tables that rarely change, or in which regions in the underlying descriptor heap memory are being populated as needed, with the use of dynamic indexing from the shader to select textures.</span></span> <span data-ttu-id="dfea9-125">Gleichzeitig kann die Anwendung eine andere Klasse von Ressourcen verwalten, in der die Gruppe, auf die von jedem Zeichnen-Befehl verwiesen wird, mithilfe der deskriptortable-versionierungstechnik von der CPU gewechselt wird.</span><span class="sxs-lookup"><span data-stu-id="dfea9-125">At the same time, the application could maintain another class of resources where the set referenced by each draw call is switched from the CPU using the descriptor table versioning technique.</span></span>

## <a name="out-of-bounds-indexing"></a><span data-ttu-id="dfea9-126">Indizierung außerhalb der Grenzen</span><span class="sxs-lookup"><span data-stu-id="dfea9-126">Out of Bounds Indexing</span></span>

<span data-ttu-id="dfea9-127">Die Indizierung einer beliebigen Deskriptortabelle aus dem Shader führt zu einem größtenteils undefinierten Speicherzugriff, einschließlich der Möglichkeit, beliebigen Prozess internen Speicher zu lesen, als ob es sich um einen Hardware Zustands Deskriptor handelt, der mit der Folge der Auswirkungen der Hardware zu tun hat.</span><span class="sxs-lookup"><span data-stu-id="dfea9-127">Out of bounds indexing of any descriptor table from the shader results in a largely undefined memory access, including the possibility of reading arbitrary in-process memory as if it is a hardware state descriptor and living with the consequence of what the hardware does with that.</span></span> <span data-ttu-id="dfea9-128">Dies kann zum Zurücksetzen des Geräts führen, stürzt jedoch nicht auf Windows ab.</span><span class="sxs-lookup"><span data-stu-id="dfea9-128">This could produce a device reset, but will not crash Windows.</span></span>

## <a name="shader-derivatives-and-divergent-indexing"></a><span data-ttu-id="dfea9-129">Shader-Ableitungen und abweichende Indizierung</span><span class="sxs-lookup"><span data-stu-id="dfea9-129">Shader Derivatives and Divergent Indexing</span></span>

<span data-ttu-id="dfea9-130">Wenn Pixel-Shader-Aufrufe, die in einem 2 x 2-Stempel ausgeführt werden (zur Unterstützung von abgeleiteten Berechnungen), verschiedene Textur Indizes auswählen, um aus einer Deskriptortabelle Stichproben zu erhalten. wenn die ausgewählte samplingkonfiguration und Textur für ein bestimmtes Pixel eine Lod-Berechnung aus Texturkoordinaten Ableitungen erfordert, werden die Lod-Berechnung und der Textur samplingprozess von der Hardware unabhängig für jede Textur Suche im 2 x 2-Stempel durchgeführt. , was sich auf die Leistung auswirkt.</span><span class="sxs-lookup"><span data-stu-id="dfea9-130">If pixel shader invocations that are executing in a 2x2 stamp (to support derivative calculations) choose different texture indices to sample from out of a descriptor table, and if the selected sampler configuration and texture for any given pixel requires an LOD calculation from texture coordinate derivatives, then the LOD calculation and texture sampling process is done by the hardware independently for each texture lookup in the 2x2 stamp, which will impact performance.</span></span>

## <a name="related-topics"></a><span data-ttu-id="dfea9-131">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="dfea9-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="dfea9-132">Deskriptortabellen</span><span class="sxs-lookup"><span data-stu-id="dfea9-132">Descriptor Tables</span></span>](descriptor-tables.md)
</dt> </dl>

 

 




