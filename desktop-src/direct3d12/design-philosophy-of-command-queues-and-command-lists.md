---
title: Entwurfs Philosophie von Befehls Warteschlangen und Befehlslisten
description: Die Ziele der Aktivierung der Wiederverwendung von renderingarbeiten und der Multithread-Skalierung erforderten grundlegende Änderungen an der Art und Weise, wie Direct3D apps renderingarbeit an die GPU
ms.assetid: C85C8C41-2306-4568-8FAE-F57EDA624298
keywords:
- Befehlsliste
- bundle
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 812275a630464dbe9137d587a672803f4d0c72f9
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "74103403"
---
# <a name="design-philosophy-of-command-queues-and-command-lists"></a><span data-ttu-id="cc4cd-105">Entwurfs Philosophie von Befehls Warteschlangen und Befehlslisten</span><span class="sxs-lookup"><span data-stu-id="cc4cd-105">Design Philosophy of Command Queues and Command Lists</span></span>

<span data-ttu-id="cc4cd-106">Die Ziele der Aktivierung der Wiederverwendung von renderingarbeiten und der Multithread-Skalierung erforderten grundlegende Änderungen an der Art und Weise, wie Direct3D apps renderingarbeit an die GPU</span><span class="sxs-lookup"><span data-stu-id="cc4cd-106">The goals of enabling reuse of rendering work and of multi-threaded scaling, required fundamental changes to how Direct3D apps submit rendering work to the GPU.</span></span> <span data-ttu-id="cc4cd-107">In Direct3D 12 unterscheidet sich der Prozess der Übermittlung von renderingarbeiten von früheren Versionen auf drei wichtige Arten:</span><span class="sxs-lookup"><span data-stu-id="cc4cd-107">In Direct3D 12, the process of submitting rendering work differs from earlier versions in three important ways:</span></span>

<dl> 1. <span data-ttu-id="cc4cd-108">Beseitigung des unmittelbaren Kontexts.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-108">Elimination of the immediate context.</span></span> <span data-ttu-id="cc4cd-109">Dies ermöglicht das Multithreading.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-109">This enables multi-threading.</span></span>  
2. <span data-ttu-id="cc4cd-110">Apps sind jetzt für die Gruppierung von renderingaufrufen in GPU-Arbeitsaufgaben (Graphics Processing Unit) geeignet.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-110">Apps now own how rendering calls are grouped into graphics processing unit (GPU) work items.</span></span> <span data-ttu-id="cc4cd-111">Dies ermöglicht die Wiederverwendung.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-111">This enables re-use.</span></span>  
3. <span data-ttu-id="cc4cd-112">Apps steuern nun explizit, wann die Arbeit an die GPU übermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-112">Apps now explicitly control when work is submitted to the GPU .</span></span> <span data-ttu-id="cc4cd-113">Dies ermöglicht die Elemente 1 und 2.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-113">This enables items 1 and 2.</span></span>  
</dl>

-   [<span data-ttu-id="cc4cd-114">Entfernen des unmittelbaren Kontexts</span><span class="sxs-lookup"><span data-stu-id="cc4cd-114">Removal of the immediate context</span></span>](#removal-of-the-immediate-context)
-   [<span data-ttu-id="cc4cd-115">Gruppieren von GPU-Arbeits Elementen</span><span class="sxs-lookup"><span data-stu-id="cc4cd-115">Grouping of GPU work items</span></span>](#grouping-of-gpu-work-items)
-   [<span data-ttu-id="cc4cd-116">GPU-Arbeits Übermittlung</span><span class="sxs-lookup"><span data-stu-id="cc4cd-116">GPU work submission</span></span>](#gpu-work-submission)
-   [<span data-ttu-id="cc4cd-117">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="cc4cd-117">Related topics</span></span>](#related-topics)

## <a name="removal-of-the-immediate-context"></a><span data-ttu-id="cc4cd-118">Entfernen des unmittelbaren Kontexts</span><span class="sxs-lookup"><span data-stu-id="cc4cd-118">Removal of the immediate context</span></span>

<span data-ttu-id="cc4cd-119">Die größte Änderung von Microsoft Direct3D 11 zu Microsoft Direct3D 12 besteht darin, dass ein einzelnes, unmittelbares Kontext mit einem Gerät nicht mehr vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-119">The largest change from Microsoft Direct3D 11 to Microsoft Direct3D 12 is that there is no longer a single, immediate context associated with a device.</span></span> <span data-ttu-id="cc4cd-120">Stattdessen erstellen Apps zum Rendern Befehlslisten, in denen herkömmliche Rendering-APIs aufgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-120">Instead, to render, apps create command lists in which traditional rendering APIs can be called.</span></span> <span data-ttu-id="cc4cd-121">Eine Befehlsliste ähnelt der Renderingmethode einer Direct3D 11-APP, die den unmittelbaren Kontext verwendet, in dem Sie Aufrufe enthält, die primitive zeichnen oder den renderingstatus ändern.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-121">A command list looks similar to the render method of a Direct3D 11 app that used the immediate context in that it contains calls that draw primitives or change the rendering state.</span></span> <span data-ttu-id="cc4cd-122">Wie bei unmittelbaren Kontexten ist jede Befehlsliste nicht frei Thread. Es können jedoch mehrere Befehlslisten gleichzeitig aufgezeichnet werden, was die Vorteile moderner, Multikern-Prozessoren nutzt.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-122">Like immediate contexts, each command list is not free-threaded; however, multiple command lists can be recorded concurrently, which takes advantage of modern, multi-core processors.</span></span>

<span data-ttu-id="cc4cd-123">Befehlslisten werden in der Regel einmal ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-123">Command lists are typically executed once.</span></span> <span data-ttu-id="cc4cd-124">Eine Befehlsliste kann jedoch mehrmals ausgeführt werden, wenn die Anwendung sicherstellt, dass die vorherigen Ausführungen abgeschlossen sind, bevor neue Ausführungen übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-124">However, a command list can be executed multiple times if the application ensures that the previous executions are complete before submitting new executions.</span></span> <span data-ttu-id="cc4cd-125">Weitere Informationen zur Synchronisierung von Befehlslisten finden Sie unter [ausführen und Synchronisieren von Befehlslisten](executing-and-synchronizing-command-lists.md).</span><span class="sxs-lookup"><span data-stu-id="cc4cd-125">For more information about command list synchronization, see [Executing and synchronizing command lists](executing-and-synchronizing-command-lists.md).</span></span>

## <a name="grouping-of-gpu-work-items"></a><span data-ttu-id="cc4cd-126">Gruppieren von GPU-Arbeits Elementen</span><span class="sxs-lookup"><span data-stu-id="cc4cd-126">Grouping of GPU work items</span></span>

<span data-ttu-id="cc4cd-127">Zusätzlich zu den Befehlslisten nutzt Direct3D 12 die Funktionen, die heute in der gesamten Hardware vorhanden sind, indem eine zweite Ebene von Befehlslisten hinzugefügt wird, die als *Bündel* bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-127">In addition to command lists, Direct3D 12 takes advantage of functionality present in all hardware today by adding a second level of command lists, which are called *bundles*.</span></span> <span data-ttu-id="cc4cd-128">Um diese beiden Typen zu unterscheiden, können die Befehlslisten der ersten Ebene als *direkte Befehlslisten* bezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-128">To help to distinguish these two types, the first-level command lists can be referred to as *direct command lists*.</span></span> <span data-ttu-id="cc4cd-129">Der Zweck von Paketen besteht darin, dass apps eine kleine Anzahl von API-Befehlen zur späteren wiederholten Ausführung in direkten Befehlslisten gruppieren können.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-129">The purpose of bundles is to allow apps to group a small number of API commands together for later, repeated execution from within direct command lists.</span></span> <span data-ttu-id="cc4cd-130">Zum Zeitpunkt der Erstellung eines Pakets führt der Treiber so viel Vorverarbeitung wie möglich aus, um eine spätere Ausführung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-130">At the time of creating a bundle, the driver will perform as much pre-processing as possible to make later execution efficient.</span></span> <span data-ttu-id="cc4cd-131">Pakete können dann in mehreren Befehlslisten und mehrmals innerhalb derselben Befehlsliste ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-131">Bundles can then be executed from within multiple command lists and multiple times within the same command list.</span></span>

<span data-ttu-id="cc4cd-132">Die Wiederverwendung von Paketen ist ein großer Treiber für eine höhere Effizienz mit einzelnen CPU-Threads.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-132">The re-use of bundles is a large driver of improved efficiency with single CPU threads.</span></span> <span data-ttu-id="cc4cd-133">Da Pakete vorab verarbeitet werden und mehrmals übermittelt werden können, gibt es bestimmte Einschränkungen hinsichtlich der Vorgänge, die innerhalb eines Pakets ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-133">Because bundles are pre-processed and can be submitted multiple times, there are certain restrictions on what operations can be performed within a bundle.</span></span> <span data-ttu-id="cc4cd-134">Weitere Informationen finden Sie unter [Erstellen und Aufzeichnen von Befehlslisten und Paketen](recording-command-lists-and-bundles.md).</span><span class="sxs-lookup"><span data-stu-id="cc4cd-134">For more information, see [Creating and recording command lists and bundles](recording-command-lists-and-bundles.md).</span></span>

## <a name="gpu-work-submission"></a><span data-ttu-id="cc4cd-135">GPU-Arbeits Übermittlung</span><span class="sxs-lookup"><span data-stu-id="cc4cd-135">GPU work submission</span></span>

<span data-ttu-id="cc4cd-136">Um die Arbeit auf der GPU auszuführen, muss eine APP explizit eine Befehlsliste an eine Befehls Warteschlange senden, die dem Direct3D-Gerät zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-136">To execute work on the GPU, an app must explicitly submit a command list to a command queue associated with the Direct3D device.</span></span> <span data-ttu-id="cc4cd-137">Eine direkte Befehlsliste kann mehrmals zur Ausführung übermittelt werden, aber die APP ist dafür verantwortlich, sicherzustellen, dass die Ausführung der direkten Befehlsliste auf der GPU abgeschlossen ist, bevor Sie erneut gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-137">A direct command list can be submitted for execution multiple times, but the app is responsible for ensuring that the direct command list has finished executing on the GPU before submitting it again.</span></span> <span data-ttu-id="cc4cd-138">Bündel haben keine Einschränkungen für die gleichzeitige Verwendung und können mehrmals in mehreren Befehlslisten ausgeführt werden, aber Pakete können nicht direkt zur Ausführung an eine Befehls Warteschlange übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-138">Bundles have no concurrent-use restrictions and can be executed multiple times in multiple command lists, but bundles cannot be directly submitted to a command queue for execution.</span></span>

<span data-ttu-id="cc4cd-139">Jeder Thread kann jederzeit eine Befehlsliste an eine beliebige Befehls Warteschlange senden, und die Laufzeit serialisiert die Übermittlung der Befehlsliste automatisch in der Befehls Warteschlange, während die Übermittlungs Reihenfolge beibehalten wird.</span><span class="sxs-lookup"><span data-stu-id="cc4cd-139">Any thread may submit a command list to any command queue at any time, and the runtime will automatically serialize submission of the command list in the command queue while preserving the submission order.</span></span>

## <a name="related-topics"></a><span data-ttu-id="cc4cd-140">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="cc4cd-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cc4cd-141">Arbeits Übermittlung in Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="cc4cd-141">Work Submission in Direct3D 12</span></span>](command-queues-and-command-lists.md)
</dt> </dl>

 

 




