---
title: Ermitteln der Funktionen des Geräte Formats
description: Ermitteln der Funktionen des Geräte Formats
ms.assetid: dd139816-dc8c-4e73-9a21-67287bfe6405
keywords:
- Windows Media Device Manager, Gerätefunktionen
- Device Manager, Gerätefunktionen
- Programmier Handbuch, Gerätefunktionen
- Desktop Anwendungen, Gerätefunktionen
- Erstellen von Windows Media Device Manager-Anwendungen, Gerätefunktionen
- Schreiben von Dateien auf Geräte, Gerätefunktionen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c0ee05476f6b84bc85bb81cc7cff5815649f5842
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "106337150"
---
# <a name="discovering-device-format-capabilities"></a><span data-ttu-id="d8d6a-109">Ermitteln der Funktionen des Geräte Formats</span><span class="sxs-lookup"><span data-stu-id="d8d6a-109">Discovering Device Format Capabilities</span></span>

<span data-ttu-id="d8d6a-110">Die Anwendung versucht möglicherweise, die Wiedergabe Funktionen eines Geräts zu bestimmen, bevor eine Datei an Sie gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-110">Your application might try to determine a device's playback capabilities before sending a file to it.</span></span> <span data-ttu-id="d8d6a-111">Wenn ein Gerät das Format einer Datei, die Sie senden möchten, nicht verarbeiten kann, kann die Anwendung versuchen, die Datei in ein Format zu transcodieren, das vom Gerät verwendet werden kann, oder den Benutzer darüber benachrichtigen, dass die angeforderte Datei vom Gerät nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-111">If a device cannot handle the format of a file you want to send, your application might attempt to transcode the file into a format that the device can use, or notify the user that the device cannot support the requested file.</span></span>

<span data-ttu-id="d8d6a-112">Beachten Sie, dass einige Geräte, z. b. Massenspeicher Klassen-Geräte, möglicherweise nur als Wechselmedien ohne Wiedergabe Funktionen dienen.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-112">Note that some devices, such as mass storage class devices, might serve only as removable storage media without playback capabilities.</span></span> <span data-ttu-id="d8d6a-113">In diesem Fall wäre es für Ihre Anwendung ungeeignet, eine Datei zu transcodieren, bevor Sie an das Gerät gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-113">In this case, it would be inappropriate for your application to transcode a file before sending it to the device.</span></span>

<span data-ttu-id="d8d6a-114">Obwohl die [**iwmdmdevice:: GetType**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-gettype) -Methode es einem Gerät ermöglicht, seine Funktionen zu melden, geben einige Geräte falsche Werte für diese Methode zurück.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-114">Although the [**IWMDMDevice::GetType**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-gettype) method enables a device to report its capabilities, some devices return incorrect values for this method.</span></span> <span data-ttu-id="d8d6a-115">Bevor Sie eine Datei auf ein Gerät kopieren, können Sie den Benutzer Fragen, ob die Wiedergabe beabsichtigt ist. wenn dies der Fall ist, versuchen Sie, die Datei in eines der gemeldeten Formate des Geräts zu transcodieren (oder ein vernünftiges Format, wenn das Gerät die Unterstützung für ein beliebiges Format beansprucht).</span><span class="sxs-lookup"><span data-stu-id="d8d6a-115">Before copying a file to a device, you might want to ask the user whether playback is intended, and if so, attempt to transcode the file to one of the device's reported formats (or a reasonable format, if the device claims support for any format).</span></span> <span data-ttu-id="d8d6a-116">Ein anderer Ansatz besteht darin, zu übernehmen, dass alle Formate, die vom Gerät unterstützt werden, für die Wiedergabe gedacht sind und alle anderen Dateien unverändert übertragen werden sollten.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-116">Another approach is to assume that any formats specifically listed as supported by the device are intended for playback, and all other files should be transferred unmodified.</span></span>

<span data-ttu-id="d8d6a-117">Nachdem Sie das Format der zu übertragenden Datei und die von einem Gerät unterstützten Formate ermittelt haben, können Sie entscheiden, welches das beste Zielformat für die Transcodierung ist.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-117">After discovering the format of the file to be transferred, and the formats supported by a device, you can decide which is the best target format for transcoding.</span></span>

<span data-ttu-id="d8d6a-118">In der Vergangenheit war es üblich, dass eine Anwendung für eine Eigenschaft NULL zurückgibt, um die Unterstützung für alle Werte dieser Eigenschaft anzugeben.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-118">In the past, it was common for an application to return zero for a property to indicate support for any values of that property.</span></span> <span data-ttu-id="d8d6a-119">Beispielsweise würde ein Wert von 0 (null) für [**\_ WaveFormatEx**](-waveformatex.md). nsamplespersec die Unterstützung für jede Bitrate angeben.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-119">For example, a value of zero for [**\_WAVEFORMATEX**](-waveformatex.md).nSamplesPerSec would indicate support for any bit rate.</span></span> <span data-ttu-id="d8d6a-120">Die empfohlene Vorgehensweise, um die Unterstützung für beliebige Werte anzugeben, besteht darin, die WMDM-Enumerationswerte für \_ \_ \_ gültige \_ Werte \_ in [**WMDM- \_ Prop- \_ DESC**](wmdm-prop-desc.md)anzugeben. Validvaluesform.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-120">Now, the recommended way to indicate support for any value is to specify WMDM\_ENUM\_PROP\_VALID\_VALUES\_ANY in [**WMDM\_PROP\_DESC**](wmdm-prop-desc.md).ValidValuesForm.</span></span> <span data-ttu-id="d8d6a-121">Einige Eigenschaften können jedoch recht NULL zurückgeben, um bestimmte Unterstützung anzugeben.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-121">Some properties, though, can legitimately return zero to indicate specific support.</span></span> <span data-ttu-id="d8d6a-122">Wenn [**\_ BITMAPINFOHEADER**](-bitmapinfoheader.md). bisizeimage beispielsweise auf 0 (null) festgelegt ist, deutet dies auf eine BI- \_ RGB-Bitmap hin.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-122">For example, if [**\_BITMAPINFOHEADER**](-bitmapinfoheader.md).biSizeImage is set to zero, this indicates a BI\_RGB bitmap.</span></span> <span data-ttu-id="d8d6a-123">Ausnahmen für Nullwerte werden in der Dokumentation für die relevanten Strukturen angegeben.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-123">Exceptions for zero values are noted in the documentation for the relevant structures.</span></span>

<span data-ttu-id="d8d6a-124">Es ist jedoch wichtig zu beachten, dass Geräte ihre Formatfunktionen häufig nicht ordnungsgemäß oder standardmäßig melden.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-124">However, it is important to note that devices often do not report their format capabilities properly, or in a standard way.</span></span> <span data-ttu-id="d8d6a-125">Beispielsweise melden Geräte häufig, dass Sie ein beliebiges Format unterstützen, wenn Sie tatsächlich nur bestimmte Formate oder bestimmte Bitraten innerhalb eines Formattyps verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-125">For example, devices often report that they support any format, when in fact they can only handle specific formats, or specific bit rates within a format type.</span></span> <span data-ttu-id="d8d6a-126">Sie müssen entscheiden, ob Ihre Anwendung solche Berichte akzeptieren soll oder ob Sie eine Obergrenze für die Wiedergabe Fähigkeiten eines Geräts annehmen soll (z. b. 192 Kbit/s).</span><span class="sxs-lookup"><span data-stu-id="d8d6a-126">It is up to you to decide whether your application should accept such reports, or whether it should assume some kind of upper limit to a device's playback abilities (for example, 192 kbps).</span></span>

<span data-ttu-id="d8d6a-127">Die empfohlene Methode zum Anfordern der Formatunterstützung eines Geräts ist [**IWMDMDevice3:: getformatcapability**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice3-getformatcapability).</span><span class="sxs-lookup"><span data-stu-id="d8d6a-127">The recommended method for requesting a device's format support is [**IWMDMDevice3::GetFormatCapability**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice3-getformatcapability).</span></span> <span data-ttu-id="d8d6a-128">Wenn diese Methode nicht unterstützt wird, sollte die Anwendung auf [**iwmdmdevice:: getformatsupport**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-getformatsupport)zurückgreifen.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-128">If this method is not supported, your application should fall back on [**IWMDMDevice::GetFormatSupport**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmdevice-getformatsupport).</span></span> <span data-ttu-id="d8d6a-129">**Getformatsupport** gibt im Gegensatz zu **GetFormatSupport2** keine Videoinformationen zurück.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-129">**GetFormatSupport**, unlike **GetFormatSupport2**, does not return video information.</span></span>

<span data-ttu-id="d8d6a-130">Wie eine Anwendung die Formatierungsfunktionen eines Geräts anfordert, hängt davon ab, welche Schnittstelle die Anwendung unterstützt.</span><span class="sxs-lookup"><span data-stu-id="d8d6a-130">How an application requests a device's format capabilities depends on which interface the application supports.</span></span> <span data-ttu-id="d8d6a-131">Weitere Einzelheiten dazu finden Sie in folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="d8d6a-131">For more details, see the following topics:</span></span>

-   [<span data-ttu-id="d8d6a-132">Erhalten von Format Funktionen auf Geräten, die IWMDMDevice3 unterstützen</span><span class="sxs-lookup"><span data-stu-id="d8d6a-132">Getting Format Capabilities on Devices That Support IWMDMDevice3</span></span>](getting-format-capabilities-on-devices-that-support-iwmdmdevice3.md)
-   [<span data-ttu-id="d8d6a-133">Erhalten von Format Funktionen auf Geräten, die nur iwmdmdevice unterstützen</span><span class="sxs-lookup"><span data-stu-id="d8d6a-133">Getting Format Capabilities on Devices That Support Only IWMDMDevice</span></span>](getting-format-capabilities-on-devices-that-support-only-iwmdmdevice.md)

## <a name="related-topics"></a><span data-ttu-id="d8d6a-134">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d8d6a-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d8d6a-135">**Schreiben von Dateien auf das Gerät**</span><span class="sxs-lookup"><span data-stu-id="d8d6a-135">**Writing Files to the Device**</span></span>](writing-files-to-the-device.md)
</dt> </dl>

 

 




