---
title: Verwendung von Messungs Inhalten
description: Verwendung von Messungs Inhalten
ms.assetid: f87b5d95-a497-4356-817f-49ac3819df08
keywords:
- Windows Media Device Manager, Verwendung von Messungs Inhalten
- Device Manager, Verwendung von Messungs Inhalten
- Programmier Handbuch, Verwendung von Messungs Inhalten
- Desktop Anwendungen, Verwendung von Messungs Inhalten
- Erstellen von Windows Media Device Manager-Anwendungen, Verwendung von Messungs Inhalten
- Verwendung von Messungs Inhalten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 649eee810e7bbdbc2ea93a32c6368ec345fa7364
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/09/2020
ms.locfileid: "106337881"
---
# <a name="metering-content-usage"></a><span data-ttu-id="92a3a-109">Verwendung von Messungs Inhalten</span><span class="sxs-lookup"><span data-stu-id="92a3a-109">Metering Content Usage</span></span>

<span data-ttu-id="92a3a-110">Mit der Windows Media 10-Technologie können Sie nun die Inhalts Verwendung auf einem tragbaren Gerät messen.</span><span class="sxs-lookup"><span data-stu-id="92a3a-110">With Windows Media 10 technology, you can now meter content usage on a portable device.</span></span> <span data-ttu-id="92a3a-111">Wenn eine Windows Media 10-Lizenz eine Messung zulässt, kann das Gerät die Wiedergabe Anzahl für Lieder speichern und die Nutzung über das Internet wieder in den Lizenz Aussteller hochladen.</span><span class="sxs-lookup"><span data-stu-id="92a3a-111">If a Windows Media 10 license allows metering, the device can store the play count for songs and upload usage back to the license issuer over the Internet.</span></span> <span data-ttu-id="92a3a-112">Mit diesem System können Inhaltsanbieter Ihre Lizenzgebühren anpassen, indem Sie die Inhalts Verwendung genau messen.</span><span class="sxs-lookup"><span data-stu-id="92a3a-112">This system enables content providers to adjust their royalty fees by accurately measuring content usage.</span></span>

<span data-ttu-id="92a3a-113">Zum Messen von Inhalten muss die Anwendung über ein Messungs Zertifikat verfügen, das von einem Lizenzierungs Dienst bereitgestellt wird, der auf dem Windows Media Rights Manager 10 SDK erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="92a3a-113">To meter content, the application must have a metering certificate provided by a licensing service built on the Windows Media Rights Manager 10 SDK.</span></span> <span data-ttu-id="92a3a-114">Nur Inhalt, der durch denselben Dienst lizenziert ist, kann gemessen werden.</span><span class="sxs-lookup"><span data-stu-id="92a3a-114">Only content licensed by this same service can be metered.</span></span> <span data-ttu-id="92a3a-115">Weitere Informationen zur Funktionsweise der Messung und zum Erstellen eines Lizenz Messungs Dienstanbieter finden Sie in der [Dokumentation zum Windows Media Rights Manager SDK](/previous-versions/ms986509(v=msdn.10)) auf MSDN.</span><span class="sxs-lookup"><span data-stu-id="92a3a-115">For more information on how metering works, and how to build a license metering service, see the [Windows Media Rights Manager SDK documentation](/previous-versions/ms986509(v=msdn.10)) on MSDN.</span></span> <span data-ttu-id="92a3a-116">Das SDK kann abgerufen werden, indem Sie die erforderlichen Informationen auf der [Seite Windows Media-Lizenzierung](https://www.microsoft.com/licensing/default)ausfüllen.</span><span class="sxs-lookup"><span data-stu-id="92a3a-116">The SDK can be acquired by filling out the necessary information on the [Windows Media Licensing Page](https://www.microsoft.com/licensing/default).</span></span>

<span data-ttu-id="92a3a-117">In einer Anwendung kann eine Messung erstellt werden, oder Sie können ein com-Plug-in für eine vorhandene Anwendung erstellen, z. b. die Windows-Media Player, wenn die Anwendung Messungs-Plug-ins akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="92a3a-117">An application can have metering built in to it, or you can build a COM plug-in for an existing application, such as the Windows Media Player, if the application accepts metering plug-ins.</span></span>

<span data-ttu-id="92a3a-118">Eine Anwendung sollte Benutzer warnen, wenn die Nutzung von Inhalten gemessen wird.</span><span class="sxs-lookup"><span data-stu-id="92a3a-118">An application should warn users if content usage will be metered.</span></span> <span data-ttu-id="92a3a-119">Weitere Informationen finden Sie in den Microsoft-Webseiten, die in der [Datenschutzerklärung](privacy-statement.md)aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="92a3a-119">For more information, see the Microsoft Web pages listed in the [Privacy Statement](privacy-statement.md).</span></span>

<span data-ttu-id="92a3a-120">Das Abrufen von Messungs Daten von einem Gerät kann langsam sein.</span><span class="sxs-lookup"><span data-stu-id="92a3a-120">Acquiring metering data from a device can be slow.</span></span> <span data-ttu-id="92a3a-121">Wenn eine Anwendungs Verbrauchseinheiten verwendet werden, sollten Sie dies häufig tun, um zu verhindern, dass sich große Datenmengen auf dem Gerät anhäufen und die Datenübertragung verlangsamt.</span><span class="sxs-lookup"><span data-stu-id="92a3a-121">Therefore, if an application meters usage, it should do so frequently to prevent large amounts of data from accumulating on the device and slowing down the data transfer.</span></span> <span data-ttu-id="92a3a-122">Um Datenübertragungen zu vermeiden, die zu langsam sind, können Gerätehersteller Teilmengen verfügbarer Messungs Daten senden.</span><span class="sxs-lookup"><span data-stu-id="92a3a-122">To prevent data transfers that would be too slow, device manufacturers can send subsets of available metering data.</span></span> <span data-ttu-id="92a3a-123">Die Anwendung sollte die von [**iwmdrmdeviceapp abgerufenen Flags überwachen::P rocessmeterresponse**](iwmdrmdeviceapp-processmeterresponse.md) , um festzustellen, ob weitere Messungs Daten auf dem Gerät verbleiben.</span><span class="sxs-lookup"><span data-stu-id="92a3a-123">The application should monitor the flags retrieved by [**IWMDRMDeviceApp::ProcessMeterResponse**](iwmdrmdeviceapp-processmeterresponse.md) to see if any more metering data remains on the device.</span></span>

<span data-ttu-id="92a3a-124">Die folgenden Schritte zeigen, wie eine Anwendung die Inhalts Verwendung messen kann.</span><span class="sxs-lookup"><span data-stu-id="92a3a-124">The following steps show how an application can meter content usage.</span></span>

1.  <span data-ttu-id="92a3a-125">Da die Messung nur auf Geräten verfügbar ist, die Windows Media DRM 10 für tragbare Geräte unterstützen, sollte Ihre Anwendung zu einem bestimmten Zeitpunkt **querydevicestatus** abrufen, wie in [behandeln geschützter Inhalte in der Anwendung](handling-protected-content-in-the-application.md)beschrieben, um sicherzustellen, dass das Gerät gültig und auf dem neuesten Stand ist.</span><span class="sxs-lookup"><span data-stu-id="92a3a-125">Because metering is only available on devices that support Windows Media DRM 10 for Portable Devices, your application should at some point call **QueryDeviceStatus**, as described in [Handling Protected Content in the Application](handling-protected-content-in-the-application.md), to ensure that the device is valid and up to date.</span></span>
2.  <span data-ttu-id="92a3a-126">Anfordern von Messungs Informationen vom Gerät durch Aufrufen von [**iwmdrmdeviceapp:: generatemeterchallenge**](iwmdrmdeviceapp-generatemeterchallenge.md).</span><span class="sxs-lookup"><span data-stu-id="92a3a-126">Request metering information from the device by calling [**IWMDRMDeviceApp::GenerateMeterChallenge**](iwmdrmdeviceapp-generatemeterchallenge.md).</span></span>
3.  <span data-ttu-id="92a3a-127">Senden Sie die abgerufenen Messungs Daten an den Messungs Dienst unter der URL, die von **generatemeterchallenge** abgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="92a3a-127">Send the retrieved metering data to the metering service at the URL retrieved by **GenerateMeterChallenge**.</span></span> <span data-ttu-id="92a3a-128">Das Format der Daten, die an den Dienst gesendet werden, hängt von der Skripterstellung für den jeweiligen Dienst ab.</span><span class="sxs-lookup"><span data-stu-id="92a3a-128">The format of data sent to the service depends on the scripting on that particular service.</span></span> <span data-ttu-id="92a3a-129">Beispielsweise erfordern einige Dienste möglicherweise, dass die Daten als Post-Befehl als Name/Wert-Paar gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="92a3a-129">For example, some services might require the data sent as a POST command as a name/value pair.</span></span> <span data-ttu-id="92a3a-130">Der Dienstanbieter sollte Ihnen Ihre speziellen Formatierungs Anforderungen mitteilen.</span><span class="sxs-lookup"><span data-stu-id="92a3a-130">The service provider should let you know their particular formatting requirements.</span></span>
4.  <span data-ttu-id="92a3a-131">Rufen Sie eine Antwort vom Messungs Dienst ab, und senden Sie Sie durch Aufrufen von [**iwmdrmdeviceapp::P rocessmeterresponse**](iwmdrmdeviceapp-processmeterresponse.md)an das Gerät.</span><span class="sxs-lookup"><span data-stu-id="92a3a-131">Get a response from the metering service, and send it to the device by calling [**IWMDRMDeviceApp::ProcessMeterResponse**](iwmdrmdeviceapp-processmeterresponse.md).</span></span> <span data-ttu-id="92a3a-132">Dies bewirkt, dass das Gerät die Wiedergabe Anzahl zurücksetzt und außerdem einen Wert zurückgibt, der angibt, ob auf dem Gerät, das durch Aufrufen von **generatemeterchallenge** abgerufen werden soll, mehr Messungs Daten vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="92a3a-132">This causes the device to reset play counts, and also returns a value indicating whether more metering data exists on the device that should be retrieved by calling **GenerateMeterChallenge** again.</span></span>

<span data-ttu-id="92a3a-133">Ausführliche Informationen und Beispielcode für die Messung finden Sie auf der [Windows Media](/previous-versions//bb614723(v=vs.85))-Website.</span><span class="sxs-lookup"><span data-stu-id="92a3a-133">For extensive information and sample code for metering, see the [Windows Media Web site](/previous-versions//bb614723(v=vs.85)).</span></span>

 

 