---
description: Informationen zu WASAPI
ms.assetid: 452b9725-b0b9-4888-bbb5-a23e0067e840
title: Informationen zu WASAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f869319f3100b797e58c7b43597869c9767ac037
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103958422"
---
# <a name="about-wasapi"></a><span data-ttu-id="67cc1-103">Informationen zu WASAPI</span><span class="sxs-lookup"><span data-stu-id="67cc1-103">About WASAPI</span></span>

<span data-ttu-id="67cc1-104">Mithilfe der Windows-audiositzungs-API (WASAPI) können Client Anwendungen den Fluss von Audiodaten zwischen der Anwendung und einem [audioendpunkt-Gerät](audio-endpoint-devices.md)verwalten.</span><span class="sxs-lookup"><span data-stu-id="67cc1-104">The Windows Audio Session API (WASAPI) enables client applications to manage the flow of audio data between the application and an [audio endpoint device](audio-endpoint-devices.md).</span></span>

<span data-ttu-id="67cc1-105">Header Dateien AudioClient. h und audiopolicy. h definieren die WASAPI-Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-105">Header files Audioclient.h and Audiopolicy.h define the WASAPI interfaces.</span></span>

<span data-ttu-id="67cc1-106">Jeder Audiostream ist ein Member einer [Audiositzung](audio-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="67cc1-106">Every audio stream is a member of an [audio session](audio-sessions.md).</span></span> <span data-ttu-id="67cc1-107">Mithilfe der Sitzungs Abstraktion kann ein WASAPI-Client einen Audiostream als Member einer Gruppe verwandter Audiostreams identifizieren.</span><span class="sxs-lookup"><span data-stu-id="67cc1-107">Through the session abstraction, a WASAPI client can identify an audio stream as a member of a group of related audio streams.</span></span> <span data-ttu-id="67cc1-108">Das System kann alle Streams in der Sitzung als eine Einheit verwalten.</span><span class="sxs-lookup"><span data-stu-id="67cc1-108">The system can manage all of the streams in the session as a single unit.</span></span>

<span data-ttu-id="67cc1-109">Die Audioengine ist die [Audiokomponente im Benutzermodus](user-mode-audio-components.md) , über die Anwendungen den Zugriff auf ein audioendpunktgerät freigeben.</span><span class="sxs-lookup"><span data-stu-id="67cc1-109">The audio engine is the [user-mode audio component](user-mode-audio-components.md) through which applications share access to an audio endpoint device.</span></span> <span data-ttu-id="67cc1-110">Die Audioengine transportiert Audiodaten zwischen einem Endpunkt Puffer und einem Endpunkt Gerät.</span><span class="sxs-lookup"><span data-stu-id="67cc1-110">The audio engine transports audio data between an endpoint buffer and an endpoint device.</span></span> <span data-ttu-id="67cc1-111">Um einen Audiostream über ein renderingendpunktgerät wiederzugeben, schreibt eine Anwendung regelmäßig Audiodaten in einen renderingendpunktpuffer.</span><span class="sxs-lookup"><span data-stu-id="67cc1-111">To play an audio stream through a rendering endpoint device, an application periodically writes audio data to a rendering endpoint buffer.</span></span> <span data-ttu-id="67cc1-112">Die Audioengine mischt die Streams aus den verschiedenen Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-112">The audio engine mixes the streams from the various applications.</span></span> <span data-ttu-id="67cc1-113">Um einen Audiostream von einem Aufzeichnungs Endpunkt-Gerät aufzuzeichnen, liest eine Anwendung regelmäßig Audiodaten aus einem Erfassungs Endpunkt Puffer.</span><span class="sxs-lookup"><span data-stu-id="67cc1-113">To record an audio stream from a capture endpoint device, an application periodically reads audio data from a capture endpoint buffer.</span></span>

<span data-ttu-id="67cc1-114">WASAPI besteht aus mehreren Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-114">WASAPI consists of several interfaces.</span></span> <span data-ttu-id="67cc1-115">Der erste ist die [**iaudioclient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="67cc1-115">The first of these is the [**IAudioClient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) interface.</span></span> <span data-ttu-id="67cc1-116">Für den Zugriff auf die WASAPI-Schnittstellen Ruft ein Client zuerst einen Verweis auf die **iaudioclient** -Schnittstelle eines audioendpunktgeräts ab, indem er die Methode " [**immdevice:: Aktivierungs**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) " mit dem Parameter " *IID* " auf **REFIID** IID \_ iaudioclient ansetzt.</span><span class="sxs-lookup"><span data-stu-id="67cc1-116">To access the WASAPI interfaces, a client first obtains a reference to the **IAudioClient** interface of an audio endpoint device by calling the [**IMMDevice::Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) method with parameter *iid* set to **REFIID** IID\_IAudioClient.</span></span> <span data-ttu-id="67cc1-117">Der Client ruft die [**iaudioclient:: Initialisieren**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize) -Methode auf, um einen Stream auf einem Endpunkt Gerät zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="67cc1-117">The client calls the [**IAudioClient::Initialize**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-initialize) method to initialize a stream on an endpoint device.</span></span> <span data-ttu-id="67cc1-118">Nachdem ein Stream initialisiert wurde, kann der Client Verweise auf die anderen WASAPI-Schnittstellen abrufen, indem er die [**iaudioclient:: GetService**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-getservice) -Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-118">After initializing a stream, the client can obtain references to the other WASAPI interfaces by calling the [**IAudioClient::GetService**](/windows/desktop/api/Audioclient/nf-audioclient-iaudioclient-getservice) method.</span></span>

<span data-ttu-id="67cc1-119">Viele der Methoden in der WASAPI geben Fehlercode "audclnt \_ E \_ Device" ungültig aus \_ , wenn das audioendpunktgerät, das von einer Client Anwendung verwendet wird, ungültig wird.</span><span class="sxs-lookup"><span data-stu-id="67cc1-119">Many of the methods in WASAPI return error code AUDCLNT\_E\_DEVICE\_INVALIDATED if the audio endpoint device that a client application is using becomes invalid.</span></span> <span data-ttu-id="67cc1-120">Häufig kann die Anwendung nach diesem Fehler wieder hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="67cc1-120">Frequently, the application can recover from this error.</span></span> <span data-ttu-id="67cc1-121">Weitere Informationen finden Sie unter wieder [herstellen nach einem Invalid-Device Fehler](recovering-from-an-invalid-device-error.md).</span><span class="sxs-lookup"><span data-stu-id="67cc1-121">For more information, see [Recovering from an Invalid-Device Error](recovering-from-an-invalid-device-error.md).</span></span>

<span data-ttu-id="67cc1-122">WASAPI implementiert die folgenden Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-122">WASAPI implements the following interfaces.</span></span>



| <span data-ttu-id="67cc1-123">Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="67cc1-123">Interface</span></span>                                            | <span data-ttu-id="67cc1-124">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="67cc1-124">Description</span></span>                                                                                                                                                     |
|------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="67cc1-125">**Iaudiocaptureclient**</span><span class="sxs-lookup"><span data-stu-id="67cc1-125">**IAudioCaptureClient**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-iaudiocaptureclient)   | <span data-ttu-id="67cc1-126">Ermöglicht einem Client das Lesen von Eingabedaten aus einem Erfassungs Endpunkt Puffer.</span><span class="sxs-lookup"><span data-stu-id="67cc1-126">Enables a client to read input data from a capture endpoint buffer.</span></span>                                                                                             |
| [<span data-ttu-id="67cc1-127">**Iaudioclient**</span><span class="sxs-lookup"><span data-stu-id="67cc1-127">**IAudioClient**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient)                 | <span data-ttu-id="67cc1-128">Ermöglicht es einem Client, einen Audiostream zwischen einer Audioanwendung und der Audioengine oder dem Hardware Puffer eines audioendpunktgeräts zu erstellen und zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="67cc1-128">Enables a client to create and initialize an audio stream between an audio application and the audio engine or the hardware buffer of an audio endpoint device.</span></span> |
| [<span data-ttu-id="67cc1-129">**Iaudioclock**</span><span class="sxs-lookup"><span data-stu-id="67cc1-129">**IAudioClock**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclock)                   | <span data-ttu-id="67cc1-130">Ermöglicht einem Client, die Datenrate eines Streams und die aktuelle Position im Stream zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-130">Enables a client to monitor a stream's data rate and the current position in the stream.</span></span>                                                                        |
| [<span data-ttu-id="67cc1-131">**Iaudiorenderclient**</span><span class="sxs-lookup"><span data-stu-id="67cc1-131">**IAudioRenderClient**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-iaudiorenderclient)     | <span data-ttu-id="67cc1-132">Ermöglicht einem Client das Schreiben von Ausgabedaten in einen Rendering-Endpunkt Puffer.</span><span class="sxs-lookup"><span data-stu-id="67cc1-132">Enables a client to write output data to a rendering endpoint buffer.</span></span>                                                                                           |
| [<span data-ttu-id="67cc1-133">**Iaudiosessioncontrol**</span><span class="sxs-lookup"><span data-stu-id="67cc1-133">**IAudioSessionControl**</span></span>](/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessioncontrol) | <span data-ttu-id="67cc1-134">Ermöglicht einem Client, die Steuerelement Parameter für eine Audiositzung zu konfigurieren und Ereignisse in der Sitzung zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-134">Enables a client to configure the control parameters for an audio session and to monitor events in the session.</span></span>                                                 |
| [<span data-ttu-id="67cc1-135">**Iaudiosessionmanager**</span><span class="sxs-lookup"><span data-stu-id="67cc1-135">**IAudioSessionManager**</span></span>](/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessionmanager) | <span data-ttu-id="67cc1-136">Ermöglicht einem Client den Zugriff auf die Sitzungs Steuerelemente und volumesteuerelemente für prozessübergreifende und prozessspezifische audiositzungen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-136">Enables a client to access the session controls and volume controls for both cross-process and process-specific audio sessions.</span></span>                                 |
| [<span data-ttu-id="67cc1-137">**Iaudiostreamvolume**</span><span class="sxs-lookup"><span data-stu-id="67cc1-137">**IAudioStreamVolume**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-iaudiostreamvolume)     | <span data-ttu-id="67cc1-138">Ermöglicht einem Client, die volumeebenen für alle Kanäle in einem Audiostream zu steuern und zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="67cc1-138">Enables a client to control and monitor the volume levels for all of the channels in an audio stream.</span></span>                                                           |
| [<span data-ttu-id="67cc1-139">**Ichannelaudiovolume**</span><span class="sxs-lookup"><span data-stu-id="67cc1-139">**IChannelAudioVolume**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-ichannelaudiovolume)   | <span data-ttu-id="67cc1-140">Ermöglicht einem Client das Steuern der volumeebenen für alle Kanäle in der Audiositzung, zu der der Stream gehört.</span><span class="sxs-lookup"><span data-stu-id="67cc1-140">Enables a client to control the volume levels for all of the channels in the audio session that the stream belongs to.</span></span>                                          |
| [<span data-ttu-id="67cc1-141">**Isimpleaudiovolume**</span><span class="sxs-lookup"><span data-stu-id="67cc1-141">**ISimpleAudioVolume**</span></span>](/windows/desktop/api/Audioclient/nn-audioclient-isimpleaudiovolume)     | <span data-ttu-id="67cc1-142">Ermöglicht einem Client, die Master Volume-Ebene einer Audiositzung zu steuern.</span><span class="sxs-lookup"><span data-stu-id="67cc1-142">Enables a client to control the master volume level of an audio session.</span></span>                                                                                        |



 

<span data-ttu-id="67cc1-143">Bei WASAPI-Clients, die Benachrichtigungen zu Sitzungs bezogenen Ereignissen erfordern, sollte die folgende Schnittstelle implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="67cc1-143">WASAPI clients that require notification of session-related events should implement the following interface.</span></span>



| <span data-ttu-id="67cc1-144">Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="67cc1-144">Interface</span></span>                                          | <span data-ttu-id="67cc1-145">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="67cc1-145">Description</span></span>                                                                                                            |
|----------------------------------------------------|------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="67cc1-146">**Iaudiosessionevents**</span><span class="sxs-lookup"><span data-stu-id="67cc1-146">**IAudioSessionEvents**</span></span>](/windows/desktop/api/Audiopolicy/nn-audiopolicy-iaudiosessionevents) | <span data-ttu-id="67cc1-147">Bietet Benachrichtigungen zu Sitzungs bezogenen Ereignissen, wie z. b. Änderungen der Volumeebene, des anzeigen Amens und des Sitzungs Zustands.</span><span class="sxs-lookup"><span data-stu-id="67cc1-147">Provides notifications of session-related events such as changes in the volume level, display name, and session state.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="67cc1-148">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="67cc1-148">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="67cc1-149">Datenstrom Verwaltung</span><span class="sxs-lookup"><span data-stu-id="67cc1-149">Stream Management</span></span>](stream-management.md)
</dt> <dt>

[<span data-ttu-id="67cc1-150">**Programmierverzeichnis**</span><span class="sxs-lookup"><span data-stu-id="67cc1-150">**Programming Reference**</span></span>](programming-reference.md)
</dt> </dl>

 

 



