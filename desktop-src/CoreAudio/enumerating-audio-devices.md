---
description: Auflisten von Audiogeräten
ms.assetid: 20110ffc-5eff-4279-abea-53115803b6ee
title: Auflisten von Audiogeräten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 707b9a88181c83344757c711af1c0199c19ebc16
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104041455"
---
# <a name="enumerating-audio-devices"></a><span data-ttu-id="c08f4-103">Auflisten von Audiogeräten</span><span class="sxs-lookup"><span data-stu-id="c08f4-103">Enumerating Audio Devices</span></span>

<span data-ttu-id="c08f4-104">Die erste Aufgabe einer Client-Audioanwendung besteht darin, ein geeignetes Audiogerät zu finden, das verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="c08f4-104">The first task of a client audio application is to find a suitable audio device to use.</span></span> <span data-ttu-id="c08f4-105">Mit der [mmdevice-API](mmdevice-api.md) können Clients die [audioendpunktgeräte](audio-endpoint-devices.md) im System ermitteln und ermitteln, welche Geräte für die Anwendung geeignet sind.</span><span class="sxs-lookup"><span data-stu-id="c08f4-105">The [MMDevice API](mmdevice-api.md) lets clients discover the [audio endpoint devices](audio-endpoint-devices.md) in the system and determine which devices are suitable for the application to use.</span></span> <span data-ttu-id="c08f4-106">Mit dieser API können Clients Sammlungen der verfügbaren Endpunkt Geräte abrufen und die Funktionen jedes Geräts abrufen.</span><span class="sxs-lookup"><span data-stu-id="c08f4-106">This API enables clients to retrieve collections of the available endpoint devices and get the capabilities of each device.</span></span> <span data-ttu-id="c08f4-107">Die Header Datei "mmdeviceapi. h" definiert die Schnittstellen in der mmdevice-API.</span><span class="sxs-lookup"><span data-stu-id="c08f4-107">Header file Mmdeviceapi.h defines the interfaces in the MMDevice API.</span></span>

<span data-ttu-id="c08f4-108">Ein Audioadapter kann mehrere Geräte enthalten, z. –. ein waverenderinggerät und ein Wellen Erfassungsgerät.</span><span class="sxs-lookup"><span data-stu-id="c08f4-108">An audio adapter might contain several devices—for example, a wave-rendering device and a wave-capture device.</span></span> <span data-ttu-id="c08f4-109">Dabei handelt es sich um Adapter Geräte anstelle von Endpunkt Geräten.</span><span class="sxs-lookup"><span data-stu-id="c08f4-109">These are adapter devices rather than endpoint devices.</span></span> <span data-ttu-id="c08f4-110">Wie bereits erwähnt, werden Adapter Geräte vom Plug & Play-Manager registriert, im Gegensatz zu Endpunkt Geräten, die vom Endpunkt-Manager registriert werden.</span><span class="sxs-lookup"><span data-stu-id="c08f4-110">As mentioned previously, adapter devices are registered by the Plug and Play manager, in contrast with endpoint devices, which are registered by the endpoint manager.</span></span> <span data-ttu-id="c08f4-111">Jedes Adapter Gerät unterstützt normalerweise ein oder mehrere Endpunkt Geräte.</span><span class="sxs-lookup"><span data-stu-id="c08f4-111">Each adapter device typically supports one or more endpoint devices.</span></span> <span data-ttu-id="c08f4-112">Ein renderingendpunktgerät (z. b. Kopfhörer) kann einen Stream von Audiodaten von einer Client Anwendung empfangen, und ein Erfassungs Endpunkt-Gerät (z. b. ein Mikrofon) kann einen Audiostream an eine Client Anwendung senden.</span><span class="sxs-lookup"><span data-stu-id="c08f4-112">A rendering endpoint device (for example, headphones) can receive a stream of audio data from a client application, and a capture endpoint device (for example, a microphone) can send an audio stream to a client application.</span></span>

<span data-ttu-id="c08f4-113">Vor dem Auflisten der Endpunkt Geräte im System muss der Client zuerst die Windows [**cokreateinstance**](/windows/desktop/api/combaseapi/nf-combaseapi-cocreateinstance) -Funktion aufrufen, um einen Geräte Enumerator zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c08f4-113">Before enumerating the endpoint devices in the system, the client must first call the Windows [**CoCreateInstance**](/windows/desktop/api/combaseapi/nf-combaseapi-cocreateinstance) function to create a device enumerator.</span></span> <span data-ttu-id="c08f4-114">Ein Geräte Enumerator ist ein Objekt mit einer [**immdeviceenumerator**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdeviceenumerator) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="c08f4-114">A device enumerator is an object with an [**IMMDeviceEnumerator**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdeviceenumerator) interface.</span></span> <span data-ttu-id="c08f4-115">Weitere Informationen zu **cokreateinstance** finden Sie in der Windows SDK-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="c08f4-115">For information about **CoCreateInstance**, see the Windows SDK documentation.</span></span>

<span data-ttu-id="c08f4-116">Der Client ruft die [**immdeviceenumerator:: enumaudioendpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) -Methode auf, um eine Auflistung von Endpunkt Objekten zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="c08f4-116">The client calls the [**IMMDeviceEnumerator::EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) method to create a collection of endpoint objects.</span></span> <span data-ttu-id="c08f4-117">Jedes Endpunkt Objekt stellt ein audioendpunktgerät im System dar.</span><span class="sxs-lookup"><span data-stu-id="c08f4-117">Each endpoint object represents an audio endpoint device in the system.</span></span> <span data-ttu-id="c08f4-118">In diesem Befehl gibt der Client an, ob die Sammlung alle renderinggeräte im System, alle Erfassungsgeräte oder beides enthalten soll.</span><span class="sxs-lookup"><span data-stu-id="c08f4-118">In this call, the client specifies whether the collection should contain all of the rendering devices in the system, all of the capture devices, or both.</span></span>

<span data-ttu-id="c08f4-119">Eine Geräte Sammlung ist ein Objekt mit der [**immdebug**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevicecollection) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="c08f4-119">A device collection is an object with an [**IMMDeviceCollection**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevicecollection) interface.</span></span> <span data-ttu-id="c08f4-120">Jedes Element in einer Geräte Sammlung ist ein Endpunkt Objekt mit mindestens den folgenden beiden Schnittstellen:</span><span class="sxs-lookup"><span data-stu-id="c08f4-120">Each item in a device collection is an endpoint object with at least the following two interfaces:</span></span>

-   <span data-ttu-id="c08f4-121">Eine [**immdevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="c08f4-121">An [**IMMDevice**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immdevice) interface.</span></span> <span data-ttu-id="c08f4-122">Ein Client ruft einen Verweis auf die **immdevice** -Schnittstelle eines Endpunkt Objekts in einer Geräte Sammlung ab, indem er die [**immdevicecollection:: Item**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevicecollection-item) -Methode aufruft.</span><span class="sxs-lookup"><span data-stu-id="c08f4-122">A client obtains a reference to the **IMMDevice** interface of an endpoint object in a device collection by calling the [**IMMDeviceCollection::Item**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevicecollection-item) method.</span></span>
-   <span data-ttu-id="c08f4-123">Eine [**immendpoint**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immendpoint) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="c08f4-123">An [**IMMEndpoint**](/windows/desktop/api/Mmdeviceapi/nn-mmdeviceapi-immendpoint) interface.</span></span> <span data-ttu-id="c08f4-124">Ein Client ruft einen Verweis auf die **immendpoint** -Schnittstelle eines Endpunkt Objekts durch Aufrufen der [**immdevice:: QueryInterface**](/windows/desktop/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) -Methode ab.</span><span class="sxs-lookup"><span data-stu-id="c08f4-124">A client obtains a reference to the **IMMEndpoint** interface of an endpoint object by calling the [**IMMDevice::QueryInterface**](/windows/desktop/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) method.</span></span>

<span data-ttu-id="c08f4-125">Nachdem eine Sammlung von Endpunkt Geräten abgerufen wurde, kann der Client die Eigenschaften der einzelnen Geräte in der Sammlung Abfragen, um deren Eignung für die Verwendung zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="c08f4-125">After retrieving a collection of endpoint devices, the client can query the properties of the individual devices in the collection to determine their suitability for use.</span></span> <span data-ttu-id="c08f4-126">Ein Codebeispiel, das zeigt, wie Endpunkt Geräte aufgezählt und deren Eigenschaften abgefragt werden, finden Sie unter [Geräteeigenschaften](device-properties.md).</span><span class="sxs-lookup"><span data-stu-id="c08f4-126">For a code example that shows how to enumerate endpoint devices and query their properties, see [Device Properties](device-properties.md).</span></span>

<span data-ttu-id="c08f4-127">Nachdem Sie ein geeignetes Gerät ausgewählt haben, kann der Client die [**immdevice:: Aktivierungs**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) -Methode zum Aktivieren der gerätespezifischen Schnittstellen in [WASAPI](wasapi.md), der [devicetopology-API](devicetopology-api.md)und der [endpointvolume-API](endpointvolume-api.md)aufruft.</span><span class="sxs-lookup"><span data-stu-id="c08f4-127">After selecting a suitable device, the client can call the [**IMMDevice::Activate**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdevice-activate) method to activate the device-specific interfaces in [WASAPI](wasapi.md), the [DeviceTopology API](devicetopology-api.md), and the [EndpointVolume API](endpointvolume-api.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c08f4-128">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="c08f4-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c08f4-129">Audioendpunktgeräte</span><span class="sxs-lookup"><span data-stu-id="c08f4-129">Audio Endpoint Devices</span></span>](audio-endpoint-devices.md)
</dt> </dl>

 

 
