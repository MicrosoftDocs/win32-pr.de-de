---
title: Aushandlung der Sicherheits Pauschale
description: Aushandlung der Sicherheits Pauschale
ms.assetid: 5a01912d-611c-4a6e-ab9d-0243cba331f1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e51407de908eaaf0f79eea452046f8e424ccf900
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "104039681"
---
# <a name="security-blanket-negotiation"></a><span data-ttu-id="adf9f-103">Aushandlung der Sicherheits Pauschale</span><span class="sxs-lookup"><span data-stu-id="adf9f-103">Security Blanket Negotiation</span></span>

<span data-ttu-id="adf9f-104">Eine Sicherheits Pauschale ist eine Gruppe von Werten, die die Sicherheitseinstellungen beschreiben, die für alle Proxys in einem Prozess oder nur für einen bestimmten Schnittstellen Proxy gelten.</span><span class="sxs-lookup"><span data-stu-id="adf9f-104">A security blanket is a group of values that describe the security settings that apply to all proxies in a process or to just a particular interface proxy.</span></span> <span data-ttu-id="adf9f-105">Eine Sicherheits Pauschale besteht aus den folgenden Werten:</span><span class="sxs-lookup"><span data-stu-id="adf9f-105">A security blanket comprises the following values:</span></span>

-   <span data-ttu-id="adf9f-106">Authentifizierungsdienst</span><span class="sxs-lookup"><span data-stu-id="adf9f-106">Authentication service</span></span>
-   <span data-ttu-id="adf9f-107">Autorisierungs Dienst</span><span class="sxs-lookup"><span data-stu-id="adf9f-107">Authorization service</span></span>
-   <span data-ttu-id="adf9f-108">Prinzipalname</span><span class="sxs-lookup"><span data-stu-id="adf9f-108">Principal name</span></span>
-   <span data-ttu-id="adf9f-109">Authentifizierungs Ebene</span><span class="sxs-lookup"><span data-stu-id="adf9f-109">Authentication level</span></span>
-   <span data-ttu-id="adf9f-110">Ebene des Identitätswechsels</span><span class="sxs-lookup"><span data-stu-id="adf9f-110">Impersonation level</span></span>
-   <span data-ttu-id="adf9f-111">Authentifizierungsidentität</span><span class="sxs-lookup"><span data-stu-id="adf9f-111">Authentication identity</span></span>
-   <span data-ttu-id="adf9f-112">Funktionen</span><span class="sxs-lookup"><span data-stu-id="adf9f-112">Capabilities</span></span>
-   <span data-ttu-id="adf9f-113">Eine Zugriffs Steuerungs Liste (ACL) (nur Server)</span><span class="sxs-lookup"><span data-stu-id="adf9f-113">An access control list (ACL) (servers only)</span></span>

<span data-ttu-id="adf9f-114">Die sicherheitspauseaushandlung ist der Prozess, den com verwendet, um die Sicherheitseinstellungen für einen Proxy auszuwählen, wenn dieser erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="adf9f-114">Security blanket negotiation is the process that COM uses to choose the security settings for a proxy when it is created.</span></span> <span data-ttu-id="adf9f-115">Dieser Prozess umfasst den Vergleich der Sicherheits übereindecke des Servers mit der Sicherheits Pauschale des Clients und die Verwendung dieser Werte, um eine entsprechende Standard Sicherheitsmetriken für den Proxy zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="adf9f-115">This process involves comparing the server's security blanket with the client's security blanket and using those values to create an appropriate default security blanket for the proxy.</span></span> <span data-ttu-id="adf9f-116">In den folgenden Abschnitten wird erläutert, wo die Sicherheits decken des Clients und des Servers stammen, und es wird beschrieben, wie com die Sicherheits Pauschale für den Proxy mithilfe der Sicherheits decken des Clients und des Servers aushandiert.</span><span class="sxs-lookup"><span data-stu-id="adf9f-116">The following paragraphs explain where the client's and the server's security blankets come from and describe how COM negotiates the security blanket for the proxy using the client's and server's security blankets.</span></span>

<span data-ttu-id="adf9f-117">Sowohl der Client als auch der Server können [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) abrufen, um die jeweiligen Sicherheits decken anzugeben.</span><span class="sxs-lookup"><span data-stu-id="adf9f-117">The client and the server can each call [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) to specify their respective security blankets.</span></span> <span data-ttu-id="adf9f-118">Wenn eine Anwendung **CoInitializeSecurity** nicht explizit aufruft, ruft com Sie implizit für die Anwendung auf, wobei die entsprechenden Standardwerte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="adf9f-118">If an application doesn't call **CoInitializeSecurity** explicitly, COM calls it implicitly for the application, using appropriate default values.</span></span> <span data-ttu-id="adf9f-119">Weitere Informationen zu diesen Standardwerten finden Sie unter [com-Sicherheits](com-security-defaults.md)Standards.</span><span class="sxs-lookup"><span data-stu-id="adf9f-119">For more information about these default values, see [COM Security Defaults](com-security-defaults.md).</span></span>

<span data-ttu-id="adf9f-120">Einige Parameter für [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) gelten, wenn es sich bei der Anwendung um einen Server handelt, und einige gelten, wenn es sich bei der Anwendung um einen Client handelt.</span><span class="sxs-lookup"><span data-stu-id="adf9f-120">Some parameters to [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) apply when the application is a server, and some apply when the application is a client.</span></span> <span data-ttu-id="adf9f-121">Wenn die Anwendung als Server fungiert, sind diese Parameter relevant: eine ACL, eine Liste mit Tupeln für den Authentifizierungsdienst/-Autorisierungs Dienst/-Prinzipal Namen und eine Authentifizierungs Ebene.</span><span class="sxs-lookup"><span data-stu-id="adf9f-121">When the application is acting as a server, these parameters are relevant: an ACL, a list of authentication service/authorization service/principal name tuples, and an authentication level.</span></span> <span data-ttu-id="adf9f-122">Der **CoInitializeSecurity**-Rückruf eines Servers bestimmt, ob es sich um einen impliziten oder expliziten Wert handelt.</span><span class="sxs-lookup"><span data-stu-id="adf9f-122">A server's call to **CoInitializeSecurity**, whether implicit or explicit, determines the server's security blanket, which remains fixed.</span></span>

<span data-ttu-id="adf9f-123">Wenn die Anwendung als Client fungiert, sind die folgenden Werte, die an [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) übermittelt werden, relevant: eine Authentifizierungs Ebene, eine Identitätswechsel Ebene, die Authentifizierungs Identität und Funktionen.</span><span class="sxs-lookup"><span data-stu-id="adf9f-123">When the application is acting as a client, the following values passed to [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) are relevant: an authentication level, an impersonation level, the authentication identity, and capabilities.</span></span> <span data-ttu-id="adf9f-124">Der implizite oder explizite **CoInitializeSecurity** -Rückruf eines Clients gibt die Sicherheits Pauschale an, die der Client wünscht.</span><span class="sxs-lookup"><span data-stu-id="adf9f-124">A client's implicit or explicit call to **CoInitializeSecurity** indicates the security blanket that the client wants.</span></span>

<span data-ttu-id="adf9f-125">Beim Erstellen eines Proxys verwendet com die Werte, die in der Sicherheits-und der Sicherheits Pauschale des Servers angegeben sind, um eine standardmäßige Sicherheits Pauschale auszuhandeln, die für den Proxy geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="adf9f-125">When a proxy is created, COM uses the values specified by the server's security blanket and the client's security blanket to negotiate a default security blanket that is appropriate for the proxy.</span></span> <span data-ttu-id="adf9f-126">COM wählt einen Authentifizierungsdienst aus, der sowohl auf dem Client als auch auf dem Server funktioniert.</span><span class="sxs-lookup"><span data-stu-id="adf9f-126">COM picks an authentication service that works on both the client and server.</span></span> <span data-ttu-id="adf9f-127">Der Autorisierungs Dienst und der Prinzipal Name werden für die Zusammenarbeit mit dem Authentifizierungsdienst ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="adf9f-127">The authorization service and principal name are chosen to work with the authentication service.</span></span> <span data-ttu-id="adf9f-128">Für die Authentifizierungs Ebene wählt com den höheren der Authentifizierungs Ebenen aus, die vom Client und dem Server angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="adf9f-128">For the authentication level, COM chooses the higher of the authentication levels specified by the client and the server.</span></span> <span data-ttu-id="adf9f-129">Die Identitätswechsel Ebene und die von com ausgewählten Funktionen sind diejenigen, die vom Client festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="adf9f-129">The impersonation level and the capabilities chosen by COM are the ones specified by the client.</span></span> <span data-ttu-id="adf9f-130">Die Authentifizierungs Identität ist die, die vom Client für den ausgewählten Authentifizierungsdienst angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="adf9f-130">The authentication identity is the one specified by the client for the chosen authentication service.</span></span>

<span data-ttu-id="adf9f-131">Nachdem die Standard Sicherheits Pauschale berechnet wurde, werden die zugehörigen Werte dem neu erstellten Proxy zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="adf9f-131">Once the default security blanket has been computed, its values are assigned to the newly created proxy.</span></span> <span data-ttu-id="adf9f-132">Der Client kann die Sicherheitseinstellungen für den Proxy überschreiben, indem er [**IClientSecurity:: setblanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket)aufruft.</span><span class="sxs-lookup"><span data-stu-id="adf9f-132">The client can override the security settings for the proxy by calling [**IClientSecurity::SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket).</span></span> <span data-ttu-id="adf9f-133">Die für **setblanket** angegebenen Werte werden nicht ausgehandelt. Sie werden dem angegebenen Proxy einfach zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="adf9f-133">The values specified to **SetBlanket** are not negotiated; they are simply assigned to the specified proxy.</span></span> <span data-ttu-id="adf9f-134">Wenn jedoch Standardparameter (z. b. der Standardwert der RPC- \_ C- \_ \_ \_ Standard Ebene) an **setblanket** weitergegeben werden, verwendet com den zuvor beschriebenen Algorithmus für die sicherheitspauseaushandlung, um die Standardparameter zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="adf9f-134">However, if default parameters (such as RPC\_C\_IMP\_LEVEL\_DEFAULT) are passed to **SetBlanket**, COM uses the previously described security blanket negotiation algorithm to compute the default parameters.</span></span>

## <a name="related-topics"></a><span data-ttu-id="adf9f-135">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="adf9f-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="adf9f-136">Sicherheit in com</span><span class="sxs-lookup"><span data-stu-id="adf9f-136">Security in COM</span></span>](security-in-com.md)
</dt> </dl>

 

 