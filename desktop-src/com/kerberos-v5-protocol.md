---
title: Kerberos V5-Protokoll
description: Kerberos V5-Protokoll
ms.assetid: a53a1edf-f374-4cbf-8050-7cde45284157
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 68d78c4bdc457007c04ad66163e2ebfd7f5397f9
ms.sourcegitcommit: 3e70ae762629e244028b437420ed50b5850db4e3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/20/2020
ms.locfileid: "106340481"
---
# <a name="kerberos-v5-protocol"></a><span data-ttu-id="e824a-103">Kerberos V5-Protokoll</span><span class="sxs-lookup"><span data-stu-id="e824a-103">Kerberos v5 Protocol</span></span>

<span data-ttu-id="e824a-104">Das Kerberos V5-Authentifizierungsprotokoll verfügt über einen Authentifizierungsdienst Bezeichner von RPC \_ C \_ authn \_ GSS \_ Kerberos.</span><span class="sxs-lookup"><span data-stu-id="e824a-104">The Kerberos v5 authentication protocol has an authentication service identifier of RPC\_C\_AUTHN\_GSS\_KERBEROS.</span></span> <span data-ttu-id="e824a-105">Das Kerberos-Protokoll definiert, wie Clients mit einem Netzwerk Authentifizierungsdienst interagieren und von der Internet Engineering Task Force (IETF) im September 1993 im Dokument [RFC 1510](https://www.ietf.org/rfc/rfc1510.txt)standardisiert wurden.</span><span class="sxs-lookup"><span data-stu-id="e824a-105">The Kerberos protocol defines how clients interact with a network authentication service and was standardized by the Internet Engineering Task Force (IETF) in September 1993, in document [RFC 1510](https://www.ietf.org/rfc/rfc1510.txt).</span></span> <span data-ttu-id="e824a-106">Clients erhalten Tickets vom Kerberos Key Distribution Center (KDC), die sie beim Herstellen einer Verbindung an den Server übergeben.</span><span class="sxs-lookup"><span data-stu-id="e824a-106">Clients obtain tickets from the Kerberos Key Distribution Center (KDC), and they present these tickets to servers when connections are established.</span></span> <span data-ttu-id="e824a-107">Kerberos-Tickets stellen die Netzwerkanmeldeinformationen des Clients dar.</span><span class="sxs-lookup"><span data-stu-id="e824a-107">Kerberos tickets represent the client's network credentials.</span></span>

<span data-ttu-id="e824a-108">Wie NTLM verwendet das Kerberos-Protokoll den Domänen Namen, Benutzernamen und das Kennwort zur Darstellung der Identität des Clients.</span><span class="sxs-lookup"><span data-stu-id="e824a-108">Like NTLM, the Kerberos protocol uses the domain name, user name, and password to represent the client's identity.</span></span> <span data-ttu-id="e824a-109">Das anfängliche Kerberos-Ticket, das bei der Anmeldung des Benutzers vom KDC abgerufen wird, basiert auf einem verschlüsselten Hash des Benutzer Kennworts.</span><span class="sxs-lookup"><span data-stu-id="e824a-109">The initial Kerberos ticket obtained from the KDC when the user logs on is based on an encrypted hash of the user's password.</span></span> <span data-ttu-id="e824a-110">Dieses anfängliche Ticket wird zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="e824a-110">This initial ticket is cached.</span></span> <span data-ttu-id="e824a-111">Wenn der Benutzer versucht, eine Verbindung mit einem Server herzustellen, überprüft das Kerberos-Protokoll den Ticket Cache auf ein gültiges Ticket für diesen Server.</span><span class="sxs-lookup"><span data-stu-id="e824a-111">When the user tries to connect to a server, the Kerberos protocol checks the ticket cache for a valid ticket for that server.</span></span> <span data-ttu-id="e824a-112">Wenn eine solche nicht verfügbar ist, wird das Anfangs Ticket für den Benutzer zusammen mit einer Anforderung für ein Ticket für den angegebenen Server an den KDC gesendet.</span><span class="sxs-lookup"><span data-stu-id="e824a-112">If one is not available, the initial ticket for the user is sent to the KDC along with a request for a ticket for the specified server.</span></span> <span data-ttu-id="e824a-113">Das Sitzungs Ticket wird dem Cache hinzugefügt und kann verwendet werden, um eine Verbindung mit dem gleichen Server herzustellen, bis das Ticket abläuft.</span><span class="sxs-lookup"><span data-stu-id="e824a-113">That session ticket is added to the cache, and it can be used to connect to the same server until the ticket expires.</span></span>

<span data-ttu-id="e824a-114">Wenn ein Server [**coqueryclientblanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) mithilfe des Kerberos-Protokolls aufruft, werden der Domänen Name und der Benutzername des Clients zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e824a-114">When a server calls [**CoQueryClientBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryclientblanket) using the Kerberos protocol, the client's domain name and user name are returned.</span></span> <span data-ttu-id="e824a-115">Wenn ein Server " [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient)" aufruft, wird das Token des Clients zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="e824a-115">When a server calls [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), the client's token is returned.</span></span> <span data-ttu-id="e824a-116">Diese Verhalten sind identisch mit der Verwendung von NTLM.</span><span class="sxs-lookup"><span data-stu-id="e824a-116">These behaviors are the same as when using NTLM.</span></span>

<span data-ttu-id="e824a-117">Das Kerberos-Protokoll funktioniert über Computer Grenzen hinweg.</span><span class="sxs-lookup"><span data-stu-id="e824a-117">The Kerberos protocol works across computer boundaries.</span></span> <span data-ttu-id="e824a-118">Die Client-und Server Computer müssen sich in Domänen befinden, und diese Domänen müssen eine Vertrauensstellung aufweisen.</span><span class="sxs-lookup"><span data-stu-id="e824a-118">The client and server computers must both be in domains, and those domains must have a trust relationship.</span></span>

<span data-ttu-id="e824a-119">Das Kerberos-Protokoll erfordert die gegenseitige Authentifizierung und unterstützt es Remote.</span><span class="sxs-lookup"><span data-stu-id="e824a-119">The Kerberos protocol requires mutual authentication and supports it remotely.</span></span> <span data-ttu-id="e824a-120">Der Client muss den Prinzipal Namen des Servers angeben, und die Identität des Servers muss genau mit dem Prinzipal Namen übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="e824a-120">The client must specify the principal name of the server, and the server's identity must match that principal name exactly.</span></span> <span data-ttu-id="e824a-121">Wenn der Client für den Prinzipal Namen des Servers **null** angibt oder wenn der Prinzipal Name nicht mit dem Server identisch ist, tritt ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="e824a-121">If the client specifies **NULL** for the server's principal name or if the principal name doesn't match the server, the call will fail.</span></span>

<span data-ttu-id="e824a-122">Mithilfe des Kerberos-Protokolls können die Identitätswechsel Ebenen identifiziert, angenommen und Delegat verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e824a-122">With the Kerberos protocol, the impersonation levels identify, impersonate, and delegate can be used.</span></span> <span data-ttu-id="e824a-123">Wenn von einem Server " [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient)" aufgerufen wird, ist das zurückgegebene Token für einen Zeitraum von 5 Minuten bis 8 Stunden außerhalb des Computers gültig.</span><span class="sxs-lookup"><span data-stu-id="e824a-123">When a server calls [**CoImpersonateClient**](/windows/desktop/api/combaseapi/nf-combaseapi-coimpersonateclient), the token returned is valid off the computer for some time period between 5 minutes and 8 hours.</span></span> <span data-ttu-id="e824a-124">Nach dieser Zeit kann Sie nur auf dem Server Computer verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e824a-124">After this time, it can be used on the server computer only.</span></span> <span data-ttu-id="e824a-125">Wenn ein Server "Ausführen als Aktivator" ist und die Aktivierung mit dem Kerberos-Protokoll erfolgt, läuft das Token des Servers zwischen 5 Minuten und 8 Stunden nach der Aktivierung ab.</span><span class="sxs-lookup"><span data-stu-id="e824a-125">If a server is "run as activator" and the activation is done with the Kerberos protocol, the server's token will expire between 5 minutes and 8 hours after activation.</span></span>

<span data-ttu-id="e824a-126">Das Kerberos V5-Authentifizierungsprotokoll, das von Windows implementiert wird, unterstützt das [Cloaking](cloaking.md).</span><span class="sxs-lookup"><span data-stu-id="e824a-126">The Kerberos v5 authentication protocol implemented by WindowsÂ supports [cloaking](cloaking.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e824a-127">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="e824a-127">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e824a-128">COM-und Sicherheitspakete</span><span class="sxs-lookup"><span data-stu-id="e824a-128">COM and Security Packages</span></span>](com-and-security-packages.md)
</dt> </dl>

 

 




