---
title: Festlegen der Process-Wide Sicherheit über die Registrierung
description: Wenn Sie die Sicherheit für einen gesamten Prozess festlegen möchten, besteht eine Lösung darin, die in der Registrierung gewünschten Sicherheitsstufen festzulegen.
ms.assetid: 87f0a64f-f3ec-4ee2-8d65-4f82e8971f0b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d303f184229cb20aef1cbf71733956a3b6ce6618
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "103949150"
---
# <a name="setting-process-wide-security-through-the-registry"></a><span data-ttu-id="bc93d-103">Festlegen der Process-Wide Sicherheit über die Registrierung</span><span class="sxs-lookup"><span data-stu-id="bc93d-103">Setting Process-Wide Security Through the Registry</span></span>

<span data-ttu-id="bc93d-104">Wenn Sie die Sicherheit für einen gesamten Prozess festlegen möchten, besteht eine Lösung darin, die in der Registrierung gewünschten Sicherheitsstufen festzulegen.</span><span class="sxs-lookup"><span data-stu-id="bc93d-104">If you want to set security for an entire process, one solution is to set the security levels you want in the registry.</span></span> <span data-ttu-id="bc93d-105">Wenn Ihre Anwendung nicht [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) aufgerufen werden kann oder wenn Sie nicht die programmgesteuerte Sicherheit verwenden möchten, ist dies möglicherweise eine gute Option.</span><span class="sxs-lookup"><span data-stu-id="bc93d-105">If your application cannot call [**CoInitializeSecurity**](/windows/desktop/api/combaseapi/nf-combaseapi-coinitializesecurity) or if you prefer not to use programmatic security, this might be a good option.</span></span> <span data-ttu-id="bc93d-106">Wenn Sie die Prozess weite Sicherheit mithilfe der Registrierung festlegen möchten, sollten Sie beachten, dass beim **CoInitializeSecurity** -Befehl im Programm com die Werte in **CoInitializeSecurity** verwendet und die Registrierungs Werte ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="bc93d-106">If you decide to set process-wide security using the registry, you should be aware that if you call **CoInitializeSecurity** within your program COM will use the values in **CoInitializeSecurity** and ignore the registry values.</span></span>

<span data-ttu-id="bc93d-107">Es gibt zwei Möglichkeiten, die Sicherheit in der Registrierung für Ihre Anwendung festzulegen:</span><span class="sxs-lookup"><span data-stu-id="bc93d-107">There are two ways to set security in the registry for your application:</span></span>

-   <span data-ttu-id="bc93d-108">Sie können Dcomcnfg.exe verwenden, das eine einfache Benutzeroberfläche zum Ändern von Sicherheits Werten bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="bc93d-108">You can use Dcomcnfg.exe, which provides a simple user interface for modifying security values.</span></span> <span data-ttu-id="bc93d-109">Alle com-Server können mithilfe von Dcomcnfg.exe konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="bc93d-109">All COM servers can be configured using Dcomcnfg.exe.</span></span> <span data-ttu-id="bc93d-110">Weitere Informationen finden Sie unter [Festlegen von Process-Wide Sicherheit mithilfe von DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span><span class="sxs-lookup"><span data-stu-id="bc93d-110">For more information, see [Setting Process-Wide Security Using DCOMCNFG](setting-processwide-security-using-dcomcnfg.md).</span></span> <span data-ttu-id="bc93d-111">Client Anwendungen werden jedoch normalerweise nicht in Dcomcnfg.exe angezeigt, es sei denn, der Client erstellt eine GUID und gibt Sie in der Registrierung ein.</span><span class="sxs-lookup"><span data-stu-id="bc93d-111">However, client applications do not normally appear in Dcomcnfg.exe unless the client creates a GUID and enters it in the registry.</span></span>
-   <span data-ttu-id="bc93d-112">Sie können Sicherheitswerte unter dem [AppID](appid-key.md) -Schlüssel für die Anwendung festlegen.</span><span class="sxs-lookup"><span data-stu-id="bc93d-112">You can set security values under the [AppID](appid-key.md) key for the application.</span></span> <span data-ttu-id="bc93d-113">Im weiteren Verlauf dieses Themas wird erläutert, wie die Sicherheit mithilfe des **AppID** -Schlüssels in der Registrierung festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="bc93d-113">The rest of this topic explains how to set security in the registry using the **AppID** key.</span></span>

<span data-ttu-id="bc93d-114">Eine AppID ist eine GUID, die einen Server Prozess für eine oder mehrere Klassen darstellt.</span><span class="sxs-lookup"><span data-stu-id="bc93d-114">An AppID is a GUID that represents a server process for one or more classes.</span></span> <span data-ttu-id="bc93d-115">Jede Klasse ist genau einer AppID zugeordnet, und AppIDs können nur EXEs zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="bc93d-115">Each class is associated with exactly one AppID, and AppIDs can be assigned only to EXEs.</span></span> <span data-ttu-id="bc93d-116">DLLs erhalten keine APPIDs, es sei denn, Sie werden in einem Ersatzprogramm ausgeführt, und dann handelt es sich um den Ersatzprozess, der über die AppID verfügt.</span><span class="sxs-lookup"><span data-stu-id="bc93d-116">DLLs do not get AppIDs unless they are running in a surrogate, and then it is the surrogate process that has the AppID.</span></span> <span data-ttu-id="bc93d-117">Wenn mehrere DLLs in ein Ersatz Zeichen geladen werden, verfügt jedes Ersatz Zeichen nur über eine AppID.</span><span class="sxs-lookup"><span data-stu-id="bc93d-117">If multiple DLLs are loaded into a surrogate, each surrogate has only one AppID.</span></span>

<span data-ttu-id="bc93d-118">Bei einigen com-Servern generiert der Registrierungscode eine AppID und platziert Einträge in der Registrierung, die die AppID dem Namen der ausführbaren Datei zuordnen.</span><span class="sxs-lookup"><span data-stu-id="bc93d-118">For some COM servers, the registration code generates an AppID and places entries in the registry that map the AppID to the name of the executable.</span></span> <span data-ttu-id="bc93d-119">Einige com-Server bieten diese Funktionalität jedoch nicht.</span><span class="sxs-lookup"><span data-stu-id="bc93d-119">But some COM servers do not provide this functionality.</span></span> <span data-ttu-id="bc93d-120">Wenn der Registrierungscode des Servers jedoch einen Eintrag für HKCR \\ CLSID {serverclsid} \\ [LocalServer32](localserver32.md) hinzufügt, wenn dcomcnfg.exe ausgeführt wird, wird automatisch eine AppID für die CLSID hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="bc93d-120">However, if the server's registration code adds an entry for HKCR\\CLSID{ServerCLSID}\\[LocalServer32](localserver32.md) when dcomcnfg.exe is run, it will automatically add an AppID for the CLSID.</span></span>

<span data-ttu-id="bc93d-121">Bei einem com-Client, bei dem es sich nicht um einen Server handelt, wird diese Zuordnung nicht erstellt, da der Client nie registriert wird.</span><span class="sxs-lookup"><span data-stu-id="bc93d-121">For a COM client that is not a server, this mapping is not created because the client is never registered.</span></span> <span data-ttu-id="bc93d-122">Damit die Sicherheit mithilfe des **AppID** -Schlüssels festgelegt werden kann, muss der Client die erforderlichen Registrierungseinträge erstellen, entweder Programm gesteuert mithilfe der [Registrierungsfunktionen](/windows/desktop/SysInfo/registry-functions) oder mithilfe von regedit.</span><span class="sxs-lookup"><span data-stu-id="bc93d-122">Therefore, to set security using the **AppID** key, the client must create the necessary registry entries, either programmatically by using the [registry functions](/windows/desktop/SysInfo/registry-functions) or by using regedit.</span></span>

<span data-ttu-id="bc93d-123">Wenn Sie die Prozess weite Sicherheit in der Registrierung unter dem Schlüssel " **AppID** " festlegen möchten, beachten Sie, dass es zwei benannte Werte unter dem Schlüssel " **AppID** " gibt, die Sie ohne Administrator Berechtigungen festlegen können:</span><span class="sxs-lookup"><span data-stu-id="bc93d-123">If you decide to set process-wide security in the registry under the **AppID** key, be aware that there are two named values under the **AppID** key that you can set without having administrator permissions:</span></span>

-   [<span data-ttu-id="bc93d-124">Access spermission</span><span class="sxs-lookup"><span data-stu-id="bc93d-124">AccessPermission</span></span>](accesspermission.md)
-   [<span data-ttu-id="bc93d-125">AuthenticationLevel</span><span class="sxs-lookup"><span data-stu-id="bc93d-125">AuthenticationLevel</span></span>](authenticationlevel.md)

<span data-ttu-id="bc93d-126">Die Werte **AuthenticationLevel** und **AccessPermission** werden unabhängig voneinander festgelegt und verfügen über separate Standardwerte.</span><span class="sxs-lookup"><span data-stu-id="bc93d-126">The **AuthenticationLevel** and **AccessPermission** values are set independently and have separate default values.</span></span> <span data-ttu-id="bc93d-127">Wenn der **AuthenticationLevel** -Wert nicht vorhanden ist, wird der [legacyauthenticationlevel](legacyauthenticationlevel.md) -Wert als Standardwert verwendet.</span><span class="sxs-lookup"><span data-stu-id="bc93d-127">If the **AuthenticationLevel** value is not present, the [LegacyAuthenticationLevel](legacyauthenticationlevel.md) value is used as the default.</span></span> <span data-ttu-id="bc93d-128">Entsprechend wird der Wert [DefaultAccessPermission](defaultaccesspermission.md) als Standardwert verwendet, wenn der **AccessPermission** -Wert nicht vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="bc93d-128">Similarly, if the **AccessPermission** value is not present, the [DefaultAccessPermission](defaultaccesspermission.md) value is used as the default.</span></span> <span data-ttu-id="bc93d-129">Allerdings sind die Werte **AuthenticationLevel** und **AccessPermission** auf folgende Weise miteinander verknüpft:</span><span class="sxs-lookup"><span data-stu-id="bc93d-129">However, the **AuthenticationLevel** and the **AccessPermission** values are interrelated in the following ways:</span></span>

-   <span data-ttu-id="bc93d-130">Wenn **AuthenticationLevel** den Wert None hat, werden die Werte **AccessPermission** und **DefaultAccessPermission** für diese Anwendung ignoriert.</span><span class="sxs-lookup"><span data-stu-id="bc93d-130">If the **AuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>
-   <span data-ttu-id="bc93d-131">Wenn " **AuthenticationLevel** " nicht vorhanden ist und " **legacyauthenticationlevel** " auf "None" festgelegt ist, werden die Werte **AccessPermission** und **DefaultAccessPermission** für diese Anwendung ignoriert.</span><span class="sxs-lookup"><span data-stu-id="bc93d-131">If the **AuthenticationLevel** is not present and the **LegacyAuthenticationLevel** is none, the **AccessPermission** and **DefaultAccessPermission** values are ignored for that application.</span></span>

## <a name="related-topics"></a><span data-ttu-id="bc93d-132">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="bc93d-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="bc93d-133">Festlegen Process-Wide Sicherheit</span><span class="sxs-lookup"><span data-stu-id="bc93d-133">Setting Process-Wide Security</span></span>](setting-processwide-security.md)
</dt> </dl>

 

 