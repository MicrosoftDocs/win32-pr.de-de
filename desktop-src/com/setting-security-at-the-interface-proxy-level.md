---
title: Festlegen der Sicherheit auf der Ebene des Schnittstellen Proxys
description: Manchmal benötigt der Client eine präzisere Kontrolle über die Sicherheit bei Aufrufen bestimmter Schnittstellen.
ms.assetid: 72925ca2-78c9-47d9-8760-63f6379326d2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b38fe83e8ce8841cc9029808a6947ec67d4eaf4
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "106341559"
---
# <a name="setting-security-at-the-interface-proxy-level"></a><span data-ttu-id="37895-103">Festlegen der Sicherheit auf der Ebene des Schnittstellen Proxys</span><span class="sxs-lookup"><span data-stu-id="37895-103">Setting Security at the Interface Proxy Level</span></span>

<span data-ttu-id="37895-104">Manchmal benötigt der Client eine präzisere Kontrolle über die Sicherheit bei Aufrufen bestimmter Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="37895-104">Sometimes the client needs fine-grained control over the security on calls to particular interfaces.</span></span> <span data-ttu-id="37895-105">Beispielsweise kann die Sicherheit auf niedriger Ebene für den Prozess festgelegt werden, aber Aufrufe an eine bestimmte Schnittstelle erfordern möglicherweise eine höhere Authentifizierungs Ebene, z. b. die Verschlüsselung.</span><span class="sxs-lookup"><span data-stu-id="37895-105">For example, security might be set at a low level for the process but calls to a particular interface might require a higher authentication level, such as encryption.</span></span> <span data-ttu-id="37895-106">Mit den Methoden der [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) -Schnittstelle kann der Client die Sicherheitseinstellungen ändern, die den Aufrufen einer bestimmten Schnittstelle zugeordnet sind, indem die Sicherheitseinstellungen auf der Schnittstellen-Proxy Ebene gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="37895-106">The methods of the [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) interface allow the client to change the security settings associated with calls to a particular interface by controlling the security settings at the interface-proxy level.</span></span>

<span data-ttu-id="37895-107">Der Client kann ein vorhandenes Objekt für [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) Abfragen und dann die [**IClientSecurity:: queryblanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-queryblanket) -Methode aufzurufen, um herauszufinden, welche der aktuellen Sicherheitseinstellungen für einen bestimmten Schnittstellen Proxy vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="37895-107">The client can query an existing object for [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) and then call the [**IClientSecurity::QueryBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-queryblanket) method to find out what the current security settings are for a particular interface proxy.</span></span> <span data-ttu-id="37895-108">Die [**IClientSecurity:: setblanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) -Methode kann verwendet werden, um die Sicherheitseinstellungen eines einzelnen Schnittstellen Proxys für das Objekt zu ändern, bevor eine der Methoden der Schnittstelle aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="37895-108">The [**IClientSecurity::SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) method can be used to modify the security settings for an individual interface proxy on the object before calling one of the interface's methods.</span></span> <span data-ttu-id="37895-109">Die neuen Einstellungen gelten für zukünftige Aufrufer dieser speziellen Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="37895-109">The new settings apply to any future callers of this particular interface.</span></span> <span data-ttu-id="37895-110">Die [**IClientSecurity:: copyproxy**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-copyproxy) -Methode bietet dem Client die Möglichkeit, einen Schnittstellen Proxy zu kopieren, damit nachfolgende Aufrufe von **setblanket** für die Kopie keine Auswirkungen auf Aufrufer des ursprünglichen Proxys haben.</span><span class="sxs-lookup"><span data-stu-id="37895-110">The [**IClientSecurity::CopyProxy**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-copyproxy) method provides a way for the client to copy an interface proxy so that subsequent calls to **SetBlanket** on the copy do not affect callers of the original proxy.</span></span>

<span data-ttu-id="37895-111">[**Setblanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) wird häufig verwendet, um die Authentifizierungs Ebene für einen bestimmten Schnittstellen Proxy auf einen höheren Grad an Sicherheitsschutz zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="37895-111">[**SetBlanket**](/windows/win32/api/objidl/nf-objidl-iclientsecurity-setblanket) is commonly used to raise the authentication level for a particular interface proxy to a higher level of security protection.</span></span> <span data-ttu-id="37895-112">In einigen Situationen kann es jedoch auch hilfreich sein, die Authentifizierungs Ebene für einen bestimmten Schnittstellen Proxy zu verringern.</span><span class="sxs-lookup"><span data-stu-id="37895-112">However, in some situations, it might also be helpful to lower the authentication level for a particular interface proxy.</span></span> <span data-ttu-id="37895-113">Nehmen wir beispielsweise an, die Standard Authentifizierungs Ebene für den Prozess ist ein anderer Wert als RPC \_ \_ -C-authn \_ -Ebene "None", \_ und der Client und der Server befinden sich in separaten Domänen, die sich nicht gegenseitig vertrauen.</span><span class="sxs-lookup"><span data-stu-id="37895-113">For instance, suppose the default authentication level for the process is some value other than RPC\_C\_AUTHN\_LEVEL\_NONE and the client and server are in separate domains that do not trust each other.</span></span> <span data-ttu-id="37895-114">In diesem Fall können Aufrufe an den Server nicht ausgeführt werden, es sei denn, der Client ruft **setblanket** auf, um die Authentifizierungs Ebene auf RPC- \_ C- \_ authn- \_ Ebene " \_ None"</span><span class="sxs-lookup"><span data-stu-id="37895-114">In this case, calls to the server will fail unless the client calls **SetBlanket** to lower the authentication level to RPC\_C\_AUTHN\_LEVEL\_NONE.</span></span>

<span data-ttu-id="37895-115">Clients, die die vom Proxy-Manager bereitgestellte Standard Implementierung von [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) verwenden, können die Hilfsfunktionen [**coqueryproxyblanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket), [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket)und [**cocopyproxy**](/windows/desktop/api/combaseapi/nf-combaseapi-cocopyproxy) aufrufen, anstatt die **IClientSecurity** -Methoden direkt aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="37895-115">Clients using the default implementation of [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) provided by the proxy manager can call the [**CoQueryProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-coqueryproxyblanket), [**CoSetProxyBlanket**](/windows/desktop/api/combaseapi/nf-combaseapi-cosetproxyblanket), and [**CoCopyProxy**](/windows/desktop/api/combaseapi/nf-combaseapi-cocopyproxy) helper functions instead of calling **IClientSecurity** methods directly.</span></span> <span data-ttu-id="37895-116">Die Hilfsfunktionen vereinfachen den Code, sind aber etwas weniger effizient, als die entsprechenden **IClientSecurity** -Methoden direkt aufrufen.</span><span class="sxs-lookup"><span data-stu-id="37895-116">The helper functions simplify the code but are slightly less efficient than calling the corresponding **IClientSecurity** methods directly.</span></span>

<span data-ttu-id="37895-117">Die [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) -Schnittstelle wird vom Proxy-Manager lokal für den Client implementiert.</span><span class="sxs-lookup"><span data-stu-id="37895-117">The [**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) interface is implemented locally for the client by the proxy manager.</span></span> <span data-ttu-id="37895-118">Einige benutzerdefinierte gemarshallte Objekte unterstützen **IClientSecurity** möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="37895-118">Some custom marshaled objects might not support **IClientSecurity**.</span></span>

<span data-ttu-id="37895-119">[**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) funktioniert mit allen unterstützten Authentifizierungsdiensten (zurzeit NTLMSSP, SChannel und das Kerberos V5-Protokoll).</span><span class="sxs-lookup"><span data-stu-id="37895-119">[**IClientSecurity**](/windows/desktop/api/ObjIdl/nn-objidl-iclientsecurity) works with all supported authentication services (currently NTLMSSP, Schannel, and the Kerberos v5 protocol).</span></span>

## <a name="related-topics"></a><span data-ttu-id="37895-120">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="37895-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="37895-121">Festlegen der Sicherheit für COM-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="37895-121">Setting Security for COM Applications</span></span>](setting-security-for-com-applications.md)
</dt> </dl>

 

 