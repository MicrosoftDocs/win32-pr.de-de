---
title: Srdelayed.exe
description: Anwendungen, die Systemstatus Wiederherstellungs Vorgänge früh beim Start des Betriebssystems ausführen, können möglicherweise die Dateiverwaltungsfunktionen nicht verwenden, um den Kurznamen bestimmter Systemdateien zu verschieben, zu löschen oder festzulegen.
ms.assetid: cedeb48e-bc1d-48d1-9bee-0b8b0132c3e5
keywords:
- Srdelayed.exe Sicherung
- Sicherung der Systemstatus Wiederherstellung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5a5f6b281c07f5b0ad8d6cd7e59b4f93ec9208a5
ms.sourcegitcommit: 46376be61d3fa308f9b1a06d7e2fa122a39755af
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/10/2020
ms.locfileid: "104474571"
---
# <a name="srdelayedexe"></a><span data-ttu-id="eb4b5-105">Srdelayed.exe</span><span class="sxs-lookup"><span data-stu-id="eb4b5-105">Srdelayed.exe</span></span>

<span data-ttu-id="eb4b5-106">Anwendungen, die Systemstatus Wiederherstellungs Vorgänge früh beim Start des Betriebssystems ausführen, können möglicherweise die Dateiverwaltungsfunktionen nicht verwenden, um den Kurznamen bestimmter Systemdateien zu verschieben, zu löschen oder festzulegen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-106">Applications that perform system state restore operations early in the startup of the operating system may be unable to use the file management functions to move, delete, or set the short name of certain system files.</span></span> <span data-ttu-id="eb4b5-107">Srdelayed.exe ist eine ausführbare Datei, die mit der Funktion Windows Server-Sicherung (WSB) in Windows Server 2008 bereitgestellt wird, mit der Systemstatus-Wiederherstellungs Anwendungen den Kurznamen von Systemdateien verschieben, löschen und festlegen können.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-107">Srdelayed.exe is an executable file, provided with the Windows Server Backup (WSB) feature in Windows Server 2008, that can enable system state recovery applications to move, delete, and set the short name of system files.</span></span>

<span data-ttu-id="eb4b5-108">Das srverzögert-Tool ist für Systemstatus-Wiederherstellungs Anwendungen vorgesehen. die Dateiverwaltungsfunktionen werden nicht ersetzt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-108">The Srdelayed tool is intended for system state recovery applications; it does not replace the file management functions.</span></span> <span data-ttu-id="eb4b5-109">Dieses Tool sollte nur verwendet werden, wenn die Anwendung nicht in der Lage ist, den Kurznamen einer Systemdatei mithilfe der Funktionen [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa), [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)und [**setfileshortname**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) zu verschieben, zu löschen oder festzulegen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-109">This tool should be used only when the application is unable to move, delete, or set the short name of a system file using the [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa), [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea), and [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) functions.</span></span> <span data-ttu-id="eb4b5-110">Während der Wiederherstellung des Systemstatus und des Neustarts wird Srdelayed.exe von der Systemwiederherstellung verwendet. das Befehlszeilen Tool wbadmin.exe verwendet, um den Kurznamen für bestimmte Systemdateien zu verschieben, zu löschen und festzulegen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-110">During a system state restore and restart, Srdelayed.exe is used by System Restore and the wbadmin.exe command-line tool to move, delete, and set the short name on certain system files.</span></span> <span data-ttu-id="eb4b5-111">Srverzögert kann daher für Entwickler nützlich sein, die die Möglichkeit haben, diese Systemdateien in ihren eigenen Systemstatus-Wiederherstellungs Anwendungen wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-111">Srdelayed may therefore be useful to developers that require the capability to restore these system files in their own system state recovery applications.</span></span>

<span data-ttu-id="eb4b5-112">Mit srverzögert können die folgenden Vorgänge durchgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="eb4b5-112">Srdelayed can perform the following operations:</span></span>

-   <span data-ttu-id="eb4b5-113">Ein Vorgang zum Verschieben einer Datei, der der [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa) -Funktion mit dem Flag " **MoveFile \_ Delay \_ until \_ Reboot** " ähnelt</span><span class="sxs-lookup"><span data-stu-id="eb4b5-113">A move file operation similar to the [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa) function with the **MOVEFILE\_DELAY\_UNTIL\_REBOOT** flag</span></span>
-   <span data-ttu-id="eb4b5-114">Ein Vorgang zum Löschen einer Datei ähnlich der [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea) -Funktion</span><span class="sxs-lookup"><span data-stu-id="eb4b5-114">A delete file operation similar to the [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea) function</span></span>
-   <span data-ttu-id="eb4b5-115">Ein Kurznamen-Vorgang, der der Funktion [**setfileshortname**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) ähnelt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-115">A set short-name operation similar to the [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) function</span></span>

<span data-ttu-id="eb4b5-116">Zur Verwendung von srverzögert benötigt die Anwendung den vollständigen Pfad zum Speicherort der Srdelayed.exe Datei und den vollständigen Pfad zu einer von Ihnen erstellten Unicode-Textdatei, die die Informationen enthält, die das Tool benötigt, um alle angeforderten Datei Verwaltungsvorgänge auszuführen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-116">To use Srdelayed, your application requires the full path to the location of the Srdelayed.exe file and the full path to a Unicode text file that you have authored to contain the information the tool needs to perform all the file management operations being requested.</span></span> <span data-ttu-id="eb4b5-117">Die Anwendung ist dafür verantwortlich, sicherzustellen, dass diese Textdatei keine redundanten Anforderungen für einen Vorgang enthält und dass Sie jede erforderliche Reihenfolge der Datei Verwaltungsvorgänge behandelt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-117">Your application is responsible for ensuring that this text file does not contain redundant requests for an operation and that it handles any required ordering of the file management operations.</span></span> <span data-ttu-id="eb4b5-118">Da ein Ordner z. b. leer sein muss, um gelöscht zu werden, muss die Anwendung sicherstellen, dass in der Textdatei das Entfernen aller Dateien im Ordner angegeben ist, bevor der Ordner gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-118">For example, because a folder must be empty to be deleted, your application needs to ensure that the text file specifies the removal of all files inside the folder before requesting the folder be deleted.</span></span>

<span data-ttu-id="eb4b5-119">Wenn der Eintrag **SetupExecute** nicht bereits in der Registrierung vorhanden ist, muss die Anwendung einen **reg \_ \_ MultiSZ** -typeintrag mit dem Namen **SetupExecute** unter dem folgenden Registrierungsschlüssel erstellen: **HKEY \_ local \_ Machine** \\ **System** \\ **CurrentControlSet** \\ **Control** \\ **Session Manager**.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-119">If the **SetupExecute** entry does not already exist in the registry, your application needs to create a **REG\_MULTI\_SZ** type entry named **SetupExecute** under the following registry key: **HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Control**\\**Session Manager**.</span></span>

<span data-ttu-id="eb4b5-120">Die Anwendung sollte das folgende Format verwenden, um den Wert von **SetupExecute** auf den vollständigen Pfad zum Speicherort der Srdelayed.exe Datei und den vollständigen Pfad zum Speicherort der Textdatei festzulegen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-120">Your application should use the following format to set the value of **SetupExecute** to the full path to the location of the Srdelayed.exe file and the full path to the location of the text file.</span></span> <span data-ttu-id="eb4b5-121">Stellen \\ \\ \\ Sie dem Pfad der Textdatei das Präfix "??" folgendermaßen voran:</span><span class="sxs-lookup"><span data-stu-id="eb4b5-121">Prefix "\\\\??\\" to the path of the text file, as follows:</span></span>

<span data-ttu-id="eb4b5-122">*Vollständiger Pfad zu Srdelayed.exe* \\ \\ ?? \\ *Vollständiger Pfad zur Textdatei*</span><span class="sxs-lookup"><span data-stu-id="eb4b5-122">*Full Path to Srdelayed.exe* \\\\??\\*Full Path to Text file*</span></span>  


<span data-ttu-id="eb4b5-123">Der folgende Wert für **SetupExecute** gibt beispielsweise an, dass sich die Srdelayed.exe im Ordner System32 befindet und die Textdatei den Namen delayedoperations hat:</span><span class="sxs-lookup"><span data-stu-id="eb4b5-123">For example, the following value for **SetupExecute** indicates that the Srdelayed.exe is located in the System32 folder and the text file is named DelayedOperations:</span></span>

<span data-ttu-id="eb4b5-124">C: \\ Windows \\ system32 \\srdelayed.exe \\ \\ ?? \\ C: \\ Temp \\ delayedoperations</span><span class="sxs-lookup"><span data-stu-id="eb4b5-124">C:\\Windows\\System32\\srdelayed.exe \\\\??\\C:\\temp\\DelayedOperations</span></span>  


<span data-ttu-id="eb4b5-125">Leerzeichen im Pfad und Namen müssen hexadezimal codiert sein.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-125">Spaces in the path and name should be hexadecimal encoded.</span></span> <span data-ttu-id="eb4b5-126">Codieren Sie z. b. für *Programmdateien* den Pfad in " \\ \\ ?? \\ C:Program%20dateien \\a.dll ".</span><span class="sxs-lookup"><span data-stu-id="eb4b5-126">For example, for *Program Files*, encode the path as "\\\\??\\C:Program%20Files\\a.dll".</span></span>

<span data-ttu-id="eb4b5-127">Wenn die Registrierung oder das System nach dem Neustart wieder hergestellt wird, muss die Anwendung sicherstellen, dass **SetupExecute** in der richtigen Registrierungs Struktur geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-127">When the registry or system is being restored upon restart, your application needs to ensure that **SetupExecute** gets written in the correct registry hive.</span></span> <span data-ttu-id="eb4b5-128">Die Wiederherstellung der Registrierung wird ausgeführt, bevor Srdelayed.exe ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-128">Recovery of the registry is performed before Srdelayed.exe is run.</span></span> <span data-ttu-id="eb4b5-129">Die Anwendung muss **SetupExecute** in die wiederhergestellte Version der Registrierung schreiben, da dies die gelesene Version ist.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-129">The application needs to write **SetupExecute** into the recovered version of the registry because this is the version that is read.</span></span>

## <a name="format-for-the-srdelayed-input-file"></a><span data-ttu-id="eb4b5-130">Format für die srverzögert-Eingabedatei</span><span class="sxs-lookup"><span data-stu-id="eb4b5-130">Format for the Srdelayed Input File</span></span>

<span data-ttu-id="eb4b5-131">Alle Informationen, die für die Ausführung von Datei Verwaltungsvorgängen erforderlich sind, werden als Zeichenfolge von Unicode-Zeichen in einer Unicode-Textdatei angegeben.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-131">All the information Srdelayed needs to perform file management operations is specified as a string of Unicode characters in a Unicode text file.</span></span> <span data-ttu-id="eb4b5-132">Die Zeichenfolge von Unicode-Zeichen wird in Datensätze partitioniert, die selbst jeweils in vier Felder partitioniert sind.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-132">The string of Unicode characters is partitioned into records that are themselves each partitioned into four fields.</span></span> <span data-ttu-id="eb4b5-133">Jeder Datensatz gibt eine einzelne Datei zum Verschieben, löschen oder Festlegen eines Kurznamens an.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-133">Each record specifies a single move file, delete file, or set short-name operation.</span></span> <span data-ttu-id="eb4b5-134">Die vier Felder der einzelnen Datensätze enthalten die Parameter für den Vorgang.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-134">The four fields of each record contain the parameters for the operation.</span></span> <span data-ttu-id="eb4b5-135">Srdelayed.exe führt jeden Vorgang in der Reihenfolge aus, in der die Datensätze in der Zeichenfolge auftreten.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-135">Srdelayed.exe performs each operation in the order that their records occur in the string.</span></span> <span data-ttu-id="eb4b5-136">Die Anwendung sollte alle doppelten Datensätze in dieser Datei überprüfen und die Duplikate entfernen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-136">Your application should check for any duplicate records in this file and remove the duplicates.</span></span>

<span data-ttu-id="eb4b5-137">Die folgende Zeichenfolge veranschaulicht das Format einer Datei, die zwei Vorgänge anfordert und aus zwei Datensätzen besteht.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-137">The following string illustrates the format for a file requesting two operations and consisting of two records.</span></span> <span data-ttu-id="eb4b5-138">Jedes Parameterfeld endet mit einem einzelnen L- \\ Zeichen (0).</span><span class="sxs-lookup"><span data-stu-id="eb4b5-138">Each parameter field ends with a single L'\\0' character.</span></span> <span data-ttu-id="eb4b5-139">Ein Datensatz besteht aus vier aufeinander folgenden Feldern.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-139">A record is composed of four consecutive fields.</span></span> <span data-ttu-id="eb4b5-140">Ein zusätzliches einzelnes L- \\ Zeichen ' 0 ' wird an das Ende aller Datensätze angehängt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-140">An additional single L'\\0' character is appended to the end of all records.</span></span>

`<ParamA1>L'\0'<ParamA2>L'\0'<ParamA3>L'\0'<ParamA4>L'\0'<ParamB1>L'\0'<ParamB2>L'\0'<ParamB3>L'\0'<ParamB4>L'\0'L'\0'`  
`|-----------------------RecordA------------------------|------------------------RecordB------------------------|`  


<span data-ttu-id="eb4b5-141">Die Bedeutung der ersten, zweiten, dritten und vierten Parameter Felder hängt davon ab, ob der Datensatz einen Vorgang zum Verschieben, löschen oder Festlegen eines Kurznamens beschreibt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-141">The meaning of the first, second, third, and fourth parameter fields depends on whether the record describes a move, delete, or set short-name operation.</span></span>

## <a name="format-for-a-move-file-record"></a><span data-ttu-id="eb4b5-142">Format für einen Verschiebungs Datei-Datensatz</span><span class="sxs-lookup"><span data-stu-id="eb4b5-142">Format for a Move File Record</span></span>

<span data-ttu-id="eb4b5-143">Feld 1 identifiziert dies als Anforderung zum Verschieben einer Datei.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-143">Field 1 identifies this as a request to move a file.</span></span> <span data-ttu-id="eb4b5-144">Der Wert in diesem Feld lautet immer L "muvefile", und es wird die Groß-/Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-144">The value in this field is always L"MoveFile" and is case sensitive.</span></span>

<span data-ttu-id="eb4b5-145">Field 2 gibt den Quell Speicherort der Datei an.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-145">Field 2 specifies the source location of the file.</span></span> <span data-ttu-id="eb4b5-146">Der srverzögert-Vorgang zum Verschieben von Dateien unterstützt nicht das Verschieben eines Ordners.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-146">The Srdelayed move file operation does not support moving a folder.</span></span> <span data-ttu-id="eb4b5-147">In diesem Feld muss eine Datei angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-147">A file must be specified in this field.</span></span> <span data-ttu-id="eb4b5-148">Der Wert für dieses Feld ist der vollständige Pfad der Datei, die an " \\ \\ ??" angehängt wird \\ , es sei denn, der Pfad enthält eine Globally Unique Identifier (GUID), die " \\ \\ ? \\ " als Präfix verwendet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-148">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="eb4b5-149">Entfernen \\ \\ Sie "? \\ ", bevor Sie an " \\ \\ ?? \\ " Anhängen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-149">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="eb4b5-150">Field 3 gibt das Ziel der Datei an.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-150">Field 3 specifies the destination of the file.</span></span> <span data-ttu-id="eb4b5-151">Der Vorgang zum Verschieben von Dateien funktioniert nur innerhalb eines Volumes.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-151">The move file operation works only within a volume.</span></span> <span data-ttu-id="eb4b5-152">Quelle und Ziel müssen sich auf demselben Volume befinden.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-152">The source and destination must be on the same volume.</span></span> <span data-ttu-id="eb4b5-153">Der Wert für dieses Feld ist der vollständige Pfad der Datei, die an " \\ \\ ??" angehängt wird \\ , es sei denn, der Pfad enthält eine Globally Unique Identifier (GUID), die " \\ \\ ? \\ " als Präfix verwendet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-153">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="eb4b5-154">Entfernen \\ \\ Sie "? \\ ", bevor Sie an " \\ \\ ?? \\ " Anhängen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-154">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="eb4b5-155">In Feld 4 werden Statusinformationen von srverzögert empfangen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-155">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="eb4b5-156">Der Wert in diesem Feld sollte für einen neuen Datensatz auf L "notexecuted" festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-156">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="eb4b5-157">Im folgenden Beispiel wird auf die Datei nach Laufwerks Pfad verwiesen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-157">The following example references the file by drive path.</span></span> <span data-ttu-id="eb4b5-158">Wenn der Pfad und der Name der Quelle C: \\ Stage \\a.dll sind, fordert dieser Datensatz an, dass srverzögertes verschieben in c: \\ Tempa.dll erfolgt \\ .</span><span class="sxs-lookup"><span data-stu-id="eb4b5-158">If the path and name of the source is C:\\Stage\\a.dll, this record requests that Srdelayed move it to C:\\temp\\a.dll.</span></span>

<span data-ttu-id="eb4b5-159">\\ \\ ? \\ C: \\ Stufen \\a.dll \\ \\ ?? \\ C: \\ Temp \\a.dll notexecuted</span><span class="sxs-lookup"><span data-stu-id="eb4b5-159">MoveFile \\\\??\\C:\\Stage\\a.dll \\\\??\\C:\\temp\\a.dll NotExecuted</span></span>  


<span data-ttu-id="eb4b5-160">Im folgenden Beispiel wird auf die Datei mit dem GUID-Pfad des Volumes verwiesen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-160">The following example references the file by volume GUID path.</span></span> <span data-ttu-id="eb4b5-161">Wenn der Pfad und der Name der Quelle sind \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963}- \\ Phasen \\a.dll. dieser Datensatz fordert die Anforderung an, dass Sie von srverzögert verschoben wird \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6f 6e6963} \\ Temp \\a.dll</span><span class="sxs-lookup"><span data-stu-id="eb4b5-161">If the path and name of the source is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\Stage\\a.dll, this record requests that Srdelayed move it to \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\a.dll</span></span>

 <span data-ttu-id="eb4b5-162">\\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6l6e6963} \\ Phase \\a.dll \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6f 6e6963} \\ Temp \\a.dll notexecuted</span><span class="sxs-lookup"><span data-stu-id="eb4b5-162">MoveFile \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\Stage\\a.dll \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\a.dll NotExecuted</span></span>  


## <a name="format-for-a-delete-file-record"></a><span data-ttu-id="eb4b5-163">Format für einen Lösch Datei Daten Satz</span><span class="sxs-lookup"><span data-stu-id="eb4b5-163">Format for a Delete File Record</span></span>

<span data-ttu-id="eb4b5-164">Feld 1 identifiziert dies als Anforderung zum Löschen einer Datei.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-164">Field 1 identifies this as a request to delete a file.</span></span> <span data-ttu-id="eb4b5-165">Der Wert in diesem Feld lautet immer L "DeleteFile", und es wird die Groß-/Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-165">The value in this field is always L"DeleteFile" and is case sensitive.</span></span>

<span data-ttu-id="eb4b5-166">Feld 2 wird nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-166">Field 2 is unused.</span></span> <span data-ttu-id="eb4b5-167">Der Wert in diesem Feld sollte auf L "nicht verwendet" festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-167">The value in this field should be set to L"Unused".</span></span>

<span data-ttu-id="eb4b5-168">Field 3 gibt die zu entfernende Datei an.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-168">Field 3 specifies the file to be removed.</span></span> <span data-ttu-id="eb4b5-169">Ein Ordner muss leer sein, um entfernt werden zu können.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-169">A folder must be empty to be removed.</span></span> <span data-ttu-id="eb4b5-170">Verwenden Sie Vorgänge zum Löschen von Dateien, um alle Dateien im Ordner zu entfernen, bevor Sie den Ordner entfernen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-170">Use delete file operations to remove all files in the folder before removing the folder.</span></span> <span data-ttu-id="eb4b5-171">Der Wert für dieses Feld ist der vollständige Pfad der Datei, die an " \\ \\ ??" angehängt wird \\ , es sei denn, der Pfad enthält eine Globally Unique Identifier (GUID), die " \\ \\ ? \\ " als Präfix verwendet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-171">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="eb4b5-172">Entfernen \\ \\ Sie "? \\ ", bevor Sie an " \\ \\ ?? \\ " Anhängen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-172">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="eb4b5-173">In Feld 4 werden Statusinformationen von srverzögert empfangen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-173">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="eb4b5-174">Der Wert in diesem Feld sollte für einen neuen Datensatz auf L "notexecuted" festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-174">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="eb4b5-175">Im folgenden Beispiel wird auf die Datei nach Laufwerks Pfad verwiesen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-175">The following example references the file by drive path.</span></span> <span data-ttu-id="eb4b5-176">Wenn der Pfad und der Name C: \\ Temp \\b.dll sind, fordert dieser Datensatz an, dass die Datei von srverzögert gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-176">If the path and name is C:\\temp\\b.dll, this record requests that Srdelayed delete the file.</span></span>

<span data-ttu-id="eb4b5-177">DeleteFile nicht verwendet \\ \\ ?? \\ C: \\ Temp \\b.dll notexecuted</span><span class="sxs-lookup"><span data-stu-id="eb4b5-177">DeleteFile Unused \\\\??\\C:\\temp\\b.dll NotExecuted</span></span>  


<span data-ttu-id="eb4b5-178">Im folgenden Beispiel wird auf die Datei mit der VolumeGuid verwiesen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-178">The following example references the file by volume GUID.</span></span> <span data-ttu-id="eb4b5-179">Wenn Pfad und Name \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6bda-a d e6fi6e6963} temporäre \\ \\b.dll. dieser Datensatz fordert an, dass srverzögert die Datei entfernt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-179">If the path and name is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\b.dll, this record requests that Srdelayed remove the file.</span></span>

<span data-ttu-id="eb4b5-180">DeleteFile nicht verwendet \\ \\ ?? \\ Volume {26a21bda-a627-11d7-9931-806e6f 6e6963} \\ Temp \\b.dll\\ notexecuted</span><span class="sxs-lookup"><span data-stu-id="eb4b5-180">DeleteFile Unused \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\b.dll\\ NotExecuted</span></span>  


## <a name="format-for-set-short-name-record"></a><span data-ttu-id="eb4b5-181">Format für Short-Name Datensatz festlegen</span><span class="sxs-lookup"><span data-stu-id="eb4b5-181">Format for Set Short-Name Record</span></span>

<span data-ttu-id="eb4b5-182">Feld 1 identifiziert dies als Anforderung zum Festlegen des Kurznamens einer Datei.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-182">Field 1 identifies this as a request to set a file's short name.</span></span> <span data-ttu-id="eb4b5-183">Der Wert in diesem Feld lautet immer L "setfileshortname", und es wird die Groß-/Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-183">The value in this field is always L"SetFileShortName" and is case sensitive.</span></span>

<span data-ttu-id="eb4b5-184">Feld 2 gibt den Kurznamen an.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-184">Field 2 specifies the short name.</span></span>

<span data-ttu-id="eb4b5-185">Feld 3: gibt den Pfad und den langen Namen an, um den Kurznamen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-185">Field 3 field specifies the path and long name to receive the short name.</span></span> <span data-ttu-id="eb4b5-186">Der Wert für dieses Feld ist der Pfad und der lange Name der Datei, die an " \\ \\ ??" angehängt wird \\ , es sei denn, der Pfad enthält eine Globally Unique Identifier (GUID), die " \\ \\ ? \\ " als Präfix verwendet.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-186">The value for this field is the path and long name of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="eb4b5-187">Entfernen \\ \\ Sie "? \\ ", bevor Sie an " \\ \\ ?? \\ " Anhängen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-187">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="eb4b5-188">In Feld 4 werden Statusinformationen von srverzögert empfangen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-188">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="eb4b5-189">Der Wert in diesem Feld sollte für einen neuen Datensatz auf L "notexecuted" festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-189">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="eb4b5-190">Im folgenden Beispiel wird auf die Datei nach Laufwerks Pfad verwiesen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-190">The following example references the file by drive path.</span></span> <span data-ttu-id="eb4b5-191">Wenn der Pfad und der Name der Datei C: \\ Temp \\ShortFileName.dll sind, fordert dieser Datensatz an, dass die Datei einen Kurznamen, shortn ~1.dll erhält.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-191">If the path and name of the file is C:\\temp\\ShortFileName.dll, this record requests that the file receive a short name, ShortN~1.dll.</span></span>

<span data-ttu-id="eb4b5-192">Setfileshortname-shortn ~1.dll \\ \\ ?? \\ C: \\ Temp \\ShortFileName.dll notexecuted</span><span class="sxs-lookup"><span data-stu-id="eb4b5-192">SetFileShortName ShortN~1.dll \\\\??\\C:\\temp\\ShortFileName.dll NotExecuted</span></span>  


<span data-ttu-id="eb4b5-193">Im folgenden Beispiel wird auf die Datei mit der VolumeGuid verwiesen.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-193">The following example references the file by volume GUID.</span></span> <span data-ttu-id="eb4b5-194">Wenn der Pfad und der Name der Datei \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6bda-a d e6f 6e6963} temporäre \\ \\ShortFileName.dll\\ . dieser Datensatz fordert an, dass die Datei einen Kurznamen, shortn ~1.dll erhält.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-194">If the path and name of the file is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\ShortFileName.dll\\, this record requests that the file receive a short name, ShortN~1.dll.</span></span>

<span data-ttu-id="eb4b5-195">Setfileshortname-shortn ~1.dll \\ \\ ?? \\ Volume {26a21bda-a627-11d7-9931-806e6f 6e6963} \\ Temp \\ShortFileName.dll\\ notexecuted</span><span class="sxs-lookup"><span data-stu-id="eb4b5-195">SetFileShortName ShortN~1.dll \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\ShortFileName.dll\\ NotExecuted</span></span>  


## <a name="srdelayed-operations-status"></a><span data-ttu-id="eb4b5-196">Status der srverzögerten Vorgänge</span><span class="sxs-lookup"><span data-stu-id="eb4b5-196">Srdelayed Operations Status</span></span>

<span data-ttu-id="eb4b5-197">Srverzögert schreibt die Zeichenfolge L "SC =*xxxxxxx*" in das vierte Feld jedes Datensatzes der Textdatei, wobei *xxxxxxx* ein Hexadezimalwert ist, der den Status des angeforderten Vorgangs angibt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-197">Srdelayed writes the string L"SC=*xxxxxxx*" into the fourth field of each record of the text file, where *xxxxxxx* is a hexadecimal that indicates the status of the requested operation.</span></span> <span data-ttu-id="eb4b5-198">Der Wert NULL gibt an, dass der Vorgang erfolgreich war.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-198">A value of zero indicates the operation succeeded.</span></span>

<span data-ttu-id="eb4b5-199">Srverzögert erstellt einen Registrierungsschlüssel mit dem Namen **SystemRestore** unter **HKEY \_ local \_ Machine** \\ **Software** \\ **Microsoft** \\ **Windows NT** \\ **CurrentVersion** , um das Ergebnis des gesamten Wiederherstellungs Vorgangs zu protokollieren.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-199">Srdelayed creates a registry key named **SystemRestore** under **HKEY\_LOCAL\_MACHINE**\\**Software**\\**Microsoft**\\**Windows NT**\\**CurrentVersion** to log the outcome of the entire restore operation.</span></span> <span data-ttu-id="eb4b5-200">Wenn srverzögert alle angeforderten Vorgänge erfolgreich ausführt, wird der Name restorestatus result unter diesem Schlüssel mit einem Wert von 0 (null) geschrieben.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-200">If Srdelayed performs all the requested operations with success, the name RestoreStatusResult is written under this key with a zero value.</span></span> <span data-ttu-id="eb4b5-201">Wenn srverzögert keine der angeforderten Vorgänge ausführen kann, werden die Namen restorestatus result und restorestatus Details unter diesem Schlüssel mit Werten ungleich NULL geschrieben.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-201">If Srdelayed is unable to perform any of the requested operations, the names RestoreStatusResult and RestoreStatusDetails are written under this key with nonzero values.</span></span> <span data-ttu-id="eb4b5-202">Der Name restorestatus Details wird nur unter diesem Schlüssel geschrieben, wenn srverzögert keine angeforderten Vorgänge ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-202">The name RestoreStatusDetails is written under this key only if Srdelayed is unable to perform any requested operations.</span></span> <span data-ttu-id="eb4b5-203">Wenn ein Vorgang zum Festlegen des Kurznamens einer Datei nicht erfolgreich ist, wird srverzögert mit dem nächsten Vorgang fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-203">If an operation to set the short name of a file is unsuccessful, Srdelayed continues to the next operation.</span></span> <span data-ttu-id="eb4b5-204">Bei srverzögert werden die Vorgänge "Datei verschieben" und "Datei löschen" als kritisch angesehen und nicht fortgesetzt, wenn ein verschiebe-oder Löschvorgang nicht erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="eb4b5-204">Srdelayed considers the move file and delete file operations to be critical and does not continue if a move or delete operation is unsuccessful.</span></span>

 

 