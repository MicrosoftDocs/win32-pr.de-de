---
title: Band Eingabe und-Ausgabe
description: Es gibt mehrere Funktionen, die Anwendungen verwenden können, um Eingabe-und Ausgabe Vorgänge (e/a) auf einem Bandlaufwerk auszuführen. Die Band-e/a ähnelt der e/a-Vorgänge, die auf einem Kommunikationsgerät ausgeführt werden.
ms.assetid: 1862c267-0070-4fe8-bb77-40167913978a
keywords:
- Band Eingabe und Ausgabe Sicherung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5946659f1ad0246e37981201e4e08611b45b70b1
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104315897"
---
# <a name="tape-input-and-output"></a><span data-ttu-id="b893b-105">Band Eingabe und-Ausgabe</span><span class="sxs-lookup"><span data-stu-id="b893b-105">Tape Input and Output</span></span>

<span data-ttu-id="b893b-106">Es gibt mehrere Funktionen, die Anwendungen verwenden können, um Eingabe-und Ausgabe Vorgänge (e/a) auf einem Bandlaufwerk auszuführen.</span><span class="sxs-lookup"><span data-stu-id="b893b-106">There are several functions that applications can use to perform input and output (I/O) on a tape drive.</span></span> <span data-ttu-id="b893b-107">Die Band-e/a ähnelt der e/a-Vorgänge, die auf einem Kommunikationsgerät ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="b893b-107">Tape I/O is similar to I/O performed on a communications device.</span></span>

<span data-ttu-id="b893b-108">Beim Durchführen von Band-e/a-Vorgängen werden Band Firmwareinformationen in den ersten Blöcken auf einem Band gespeichert. in der Regel wird ein Teil der ersten 100-Blöcke verwendet.</span><span class="sxs-lookup"><span data-stu-id="b893b-108">When performing tape I/O, some tape drives store tape firmware information in the first few blocks on a tape, typically using some portion of the first 100 blocks.</span></span> <span data-ttu-id="b893b-109">Anwendungen sollten diese Blöcke nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="b893b-109">Applications should not use those blocks.</span></span> <span data-ttu-id="b893b-110">Spezifischere Informationen zu diesem Betreff sind von den einzelnen Band Systemherstellern verfügbar.</span><span class="sxs-lookup"><span data-stu-id="b893b-110">More specific information on this subject is available from individual tape system manufacturers.</span></span> <span data-ttu-id="b893b-111">Im Allgemeinen werden von einer Anwendung, die die ersten 100-Blöcke auf einem Band überspringt, das Bandlaufwerk idiosyncraasen vermieden.</span><span class="sxs-lookup"><span data-stu-id="b893b-111">In general, an application that skips the first 100 blocks on a tape will avoid tape drive idiosyncrasies.</span></span>

<span data-ttu-id="b893b-112">Die Funktionen [**gettapeposition**](/windows/desktop/api/Winbase/nf-winbase-gettapeposition) und [**settapeposition**](/windows/desktop/api/Winbase/nf-winbase-settapeposition) rufen die aktuelle Band Position ab und verschieben diese.</span><span class="sxs-lookup"><span data-stu-id="b893b-112">The [**GetTapePosition**](/windows/desktop/api/Winbase/nf-winbase-gettapeposition) and [**SetTapePosition**](/windows/desktop/api/Winbase/nf-winbase-settapeposition) functions retrieve and move the current tape position.</span></span> <span data-ttu-id="b893b-113">Die Funktion " [**schreitetapemark**](/windows/desktop/api/Winbase/nf-winbase-writetapemark) " schreibt eine angegebene Anzahl von setmarkierungen, Datei Markierungen, kurzen Datei Markierungen und langen Datei Markierungen.</span><span class="sxs-lookup"><span data-stu-id="b893b-113">The [**WriteTapemark**](/windows/desktop/api/Winbase/nf-winbase-writetapemark) function writes a specified number of setmarks, filemarks, short filemarks, and long filemarks.</span></span> <span data-ttu-id="b893b-114">Die [**erasetape**](/windows/desktop/api/Winbase/nf-winbase-erasetape) -Funktion löscht den gesamten oder einen Teil eines Bands.</span><span class="sxs-lookup"><span data-stu-id="b893b-114">The [**EraseTape**](/windows/desktop/api/Winbase/nf-winbase-erasetape) function erases all or part of a tape.</span></span>

<span data-ttu-id="b893b-115">Die Funktionen " [**Infofile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) " und " [**Write File**](/windows/desktop/api/fileapi/nf-fileapi-writefile) " lesen und schreiben Datei Daten von und auf dem Band.</span><span class="sxs-lookup"><span data-stu-id="b893b-115">The [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) functions read and write file data from and to the tape.</span></span> <span data-ttu-id="b893b-116">Die Daten werden in kompletten Blöcken gelesen und geschrieben.</span><span class="sxs-lookup"><span data-stu-id="b893b-116">The data is read and written in complete blocks.</span></span> <span data-ttu-id="b893b-117">Wenn die Blockgröße des Bands 512 Bytes beträgt, müssen bei allen Lese-und Schreibvorgängen Puffer verwendet werden, bei denen es sich um einfache ganzzahlige Vielfache dieser Blockgröße handelt: 512, 1024, 1536, 2048 usw.</span><span class="sxs-lookup"><span data-stu-id="b893b-117">If the tape's block size is 512 bytes, all read and write operations must use buffers that are simple integer multiples of that block size: 512, 1024, 1536, 2048, and so on.</span></span> <span data-ttu-id="b893b-118">Bei den meisten, wenn nicht allen, dürfen Laufwerke nur einen Schreibvorgang zulassen, nachdem das Band zurückgesetzt oder ein Lesevorgang eine Daten Ende-Fehlermeldung erzeugt hat.</span><span class="sxs-lookup"><span data-stu-id="b893b-118">Most, if not all, drives only allow a write operation after the tape is rewound or after a read operation produces an end-of-data error message.</span></span>

<span data-ttu-id="b893b-119">Führen Sie die folgenden Schritte aus, um Datei Daten im Block Modus variabler Länge in ein Band zu schreiben oder von einem Band zu schreiben:</span><span class="sxs-lookup"><span data-stu-id="b893b-119">To read or write file data to or from a tape in variable-length block mode, perform the following steps:</span></span>

1.  <span data-ttu-id="b893b-120">Bestimmen Sie, ob das Bandlaufwerk den Block Modus variabler Länge unterstützt, indem Sie die [**gettapeparameters**](/windows/desktop/api/Winbase/nf-winbase-gettapeparameters) -Funktion aufrufen und das Block-Bit der Band \_ Laufwerk \_ Variablen des \_ **featureslow** -Members der zurückgegebenen [**Tape \_ get \_ Drive \_ Parameters**](/windows/desktop/api/Winnt/ns-winnt-tape_get_drive_parameters) -Struktur überprüfen.</span><span class="sxs-lookup"><span data-stu-id="b893b-120">Determine whether the tape drive supports variable-length block mode by calling the [**GetTapeParameters**](/windows/desktop/api/Winbase/nf-winbase-gettapeparameters) function and checking the TAPE\_DRIVE\_VARIABLE\_BLOCK bit of the **FeaturesLow** member of the returned [**TAPE\_GET\_DRIVE\_PARAMETERS**](/windows/desktop/api/Winnt/ns-winnt-tape_get_drive_parameters) structure.</span></span>
2.  <span data-ttu-id="b893b-121">Geben Sie den Blockgrößen Modus der Variablen an, indem Sie die [**settapeparameters**](/windows/desktop/api/Winbase/nf-winbase-settapeparameters) -Funktion aufrufen, und legen Sie den **Block Size** -Member der [**Tape \_ Set \_ Media \_ Parameters**](/windows/desktop/api/Winnt/ns-winnt-tape_set_media_parameters) -Struktur auf NULL fest.</span><span class="sxs-lookup"><span data-stu-id="b893b-121">Specify the variable block size mode by calling the [**SetTapeParameters**](/windows/desktop/api/Winbase/nf-winbase-settapeparameters) function, setting the **BlockSize** member of the [**TAPE\_SET\_MEDIA\_PARAMETERS**](/windows/desktop/api/Winnt/ns-winnt-tape_set_media_parameters) structure to zero.</span></span> <span data-ttu-id="b893b-122">Verwenden Sie dann " [**Infofile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) " oder " [**Write File**](/windows/desktop/api/fileapi/nf-fileapi-writefile) ", um die Datei Daten zu lesen oder zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="b893b-122">Then, use [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) or [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) to read or write the file data.</span></span>

<span data-ttu-id="b893b-123">Wenn die [**Datei "Infofile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) " auf ein Datei Zeichen stößt, werden die Daten bis zum Datei Zeichen gelesen, und die Funktion schlägt fehl.</span><span class="sxs-lookup"><span data-stu-id="b893b-123">If [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) encounters a filemark, the data up to the filemark is read and the function fails.</span></span> <span data-ttu-id="b893b-124">(Die [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) -Funktion gibt einen Fehlercode zurück, der den Typ der gefundenen Datei Markierung angibt.) Das Betriebssystem verschiebt das Band hinter das Datei Zeichen, und eine Anwendung kann die **ReadFile-Datei** erneut abrufen, um den Vorgang fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="b893b-124">(The [**GetLastError**](/windows/desktop/api/errhandlingapi/nf-errhandlingapi-getlasterror) function returns an error code indicating the type of filemark that was encountered.) The operating system moves the tape past the filemark, and an application can call **ReadFile** again to continue reading.</span></span>

<span data-ttu-id="b893b-125">" [**Infofile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) " und "Write [**File**](/windows/desktop/api/fileapi/nf-fileapi-writefile) " lesen und schreiben nur den Datenstrom.</span><span class="sxs-lookup"><span data-stu-id="b893b-125">[**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) read and write only the data stream.</span></span> <span data-ttu-id="b893b-126">Die Funktionen [**BackupRead**](/windows/desktop/api/Winbase/nf-winbase-backupread) und [**BackupWrite**](/windows/desktop/api/Winbase/nf-winbase-backupwrite) lesen und schreiben alle Streams, die einer Datei zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="b893b-126">The [**BackupRead**](/windows/desktop/api/Winbase/nf-winbase-backupread) and [**BackupWrite**](/windows/desktop/api/Winbase/nf-winbase-backupwrite) functions read and write all the streams associated with a file.</span></span> <span data-ttu-id="b893b-127">Dazu zählen Daten, erweiterte Attribute, Sicherheit und alternative Datenströme.</span><span class="sxs-lookup"><span data-stu-id="b893b-127">These include data, extended attributes, security, and alternative data streams.</span></span> <span data-ttu-id="b893b-128">Die Sicherheits-und alternativen Datenströme sind nur für die NTFS-Dateisystem Partition relevant.</span><span class="sxs-lookup"><span data-stu-id="b893b-128">The security and alternate data streams are relevant only on the NTFS file system partition.</span></span>

<span data-ttu-id="b893b-129">Die [**BackupSeek**](/windows/desktop/api/Winbase/nf-winbase-backupseek) -Funktion sucht vorwärts in einer Datei, auf die zunächst von [**BackupRead**](/windows/desktop/api/Winbase/nf-winbase-backupread) oder [**BackupWrite**](/windows/desktop/api/Winbase/nf-winbase-backupwrite)zugegriffen wurde.</span><span class="sxs-lookup"><span data-stu-id="b893b-129">The [**BackupSeek**](/windows/desktop/api/Winbase/nf-winbase-backupseek) function seeks forward in a file initially accessed by [**BackupRead**](/windows/desktop/api/Winbase/nf-winbase-backupread) or [**BackupWrite**](/windows/desktop/api/Winbase/nf-winbase-backupwrite).</span></span> <span data-ttu-id="b893b-130">Diese Funktion ermöglicht einer Anwendung das Überspringen von Informationen, die Zugriffsfehler verursachen.</span><span class="sxs-lookup"><span data-stu-id="b893b-130">This function enables an application to skip information that causes access errors.</span></span>

<span data-ttu-id="b893b-131">Wenn eine Anwendung nur auf die Datei Daten zugreifen muss, sollte Sie "read [**File**](/windows/desktop/api/fileapi/nf-fileapi-readfile) " und " [**Write File**](/windows/desktop/api/fileapi/nf-fileapi-writefile)" verwenden.</span><span class="sxs-lookup"><span data-stu-id="b893b-131">If an application needs to access only the file data, it should use [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) and [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile).</span></span> <span data-ttu-id="b893b-132">Diese Funktionen können auch alternative Datenströme lesen, [**Wenn die Streams mithilfe der Funktion "**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) -Funktion" erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="b893b-132">These functions can also read alternative data streams if the streams were created by using the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function.</span></span>

<span data-ttu-id="b893b-133">Eine Band Sicherungs Anwendung muss [**BackupRead**](/windows/desktop/api/Winbase/nf-winbase-backupread) und [**BackupWrite**](/windows/desktop/api/Winbase/nf-winbase-backupwrite) verwenden, um alle Informationen in einer Datei zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="b893b-133">A tape-backup application must use [**BackupRead**](/windows/desktop/api/Winbase/nf-winbase-backupread) and [**BackupWrite**](/windows/desktop/api/Winbase/nf-winbase-backupwrite) to copy all information pertaining to a file.</span></span> <span data-ttu-id="b893b-134">Diese Funktionen lesen oder schreiben jedoch keine Datei Merkmale, wie z. b. Attribute, Datei Erstellungszeit usw.</span><span class="sxs-lookup"><span data-stu-id="b893b-134">However, these functions do not read or write file characteristics such as attributes, file creation time, and so on.</span></span> <span data-ttu-id="b893b-135">Anwendungen müssen die Dateieingabe-und-Ausgabefunktionen, wie z. b. [**getfileattribute**](/windows/desktop/api/fileapi/nf-fileapi-getfileattributesa) und [**setfileattribute**](/windows/desktop/api/fileapi/nf-fileapi-setfileattributesa), verwenden, um diese Werte abzurufen und festzulegen.</span><span class="sxs-lookup"><span data-stu-id="b893b-135">Applications must use the file input and output functions, such as [**GetFileAttributes**](/windows/desktop/api/fileapi/nf-fileapi-getfileattributesa) and [**SetFileAttributes**](/windows/desktop/api/fileapi/nf-fileapi-setfileattributesa), to retrieve and set those values.</span></span>

 

 