---
description: Bewährte Methoden für die Ein-/Aus-Leistung
ms.assetid: 872c2a33-327e-41a8-81db-905c46673f13
title: Bewährte Methoden für die Ein-/Aus-Leistung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e2c88eaf5175db43061e57bc4689d8bf256e6881
ms.sourcegitcommit: 95685061d5b0333bbf9e6ebd208dde8190f97005
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/28/2021
ms.locfileid: "108088618"
---
# <a name="best-practices-for-onoff-performance"></a><span data-ttu-id="e5063-103">Bewährte Methoden für die Ein-/Aus-Leistung</span><span class="sxs-lookup"><span data-stu-id="e5063-103">Best Practices for On/Off Performance</span></span>

## <a name="platform"></a><span data-ttu-id="e5063-104">Plattform</span><span class="sxs-lookup"><span data-stu-id="e5063-104">Platform</span></span>

<span data-ttu-id="e5063-105">**Clients:** Windows Vista \| Windows 7</span><span class="sxs-lookup"><span data-stu-id="e5063-105">**Clients -** Windows Vista \| Windows 7</span></span>  
<span data-ttu-id="e5063-106">**Server :** Windows Server 2008 \| Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="e5063-106">**Servers -** Windows Server 2008 \| Windows Server 2008 R2</span></span>  

## <a name="description"></a><span data-ttu-id="e5063-107">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="e5063-107">Description</span></span>

<span data-ttu-id="e5063-108">Die Systemleistungszustände (oder S-Zustände), wie in der Spezifikation advanced Computer Power Interface (ACPI) definiert, werden umgangssprachlich als Ein-/Aus-Zustände bezeichnet, da der gängigste S-Zustandsübergang ein Computer ist, der ein- und ausgeschaltet wird.</span><span class="sxs-lookup"><span data-stu-id="e5063-108">The system power states (or S-states), as defined in the Advanced Computer Power Interface (ACPI) specification, are colloquially called on/off states since the most common S-state transition is a computer turning on and off.</span></span> <span data-ttu-id="e5063-109">Die verschiedenen Ein-/Aus-Zustandsübergänge auf einem System unter Windows Vista oder Windows 7 sind Start, Ruhezustand (ACPI S3), Ruhezustand (ACPI S4) und Herunterfahren.</span><span class="sxs-lookup"><span data-stu-id="e5063-109">The different on/off state transitions on a system running Windows Vista or Windows 7 are boot, sleep (ACPI S3), hibernate (ACPI S4), and shutdown.</span></span>

<span data-ttu-id="e5063-110">Eine gute Leistung während dieser Ein-/Aus-Übergänge verbessert nicht nur die wahrgenommene Qualität eines Computers, sondern wirkt sich auch erheblich auf die täglichen Computernutzungsmuster und die Systemzuverlässigkeit aus.</span><span class="sxs-lookup"><span data-stu-id="e5063-110">Good performance during these on/off transitions not only improves the perceived quality of a computer, but also greatly affects daily computer usage patterns and system reliability.</span></span> <span data-ttu-id="e5063-111">Kunden können von Systemen frustriert werden, die zu lange zum Starten oder Herunterfahren dauern.</span><span class="sxs-lookup"><span data-stu-id="e5063-111">Customers can become frustrated by systems that take too long to boot or to shut down.</span></span> <span data-ttu-id="e5063-112">Mobile Systeme mit längeren Ruhezustands- und Ruhezustandsübergängen können die Akkulaufzeit unnötigerweise versappen.</span><span class="sxs-lookup"><span data-stu-id="e5063-112">Mobile systems that have lengthy sleep and hibernation transitions can unnecessarily deplete battery life.</span></span> <span data-ttu-id="e5063-113">Längere Herunterfahrenszeiten können sich auch negativ auf die Zuverlässigkeit mobiler Systeme auswirken.</span><span class="sxs-lookup"><span data-stu-id="e5063-113">Longer shutdown times can also adversely affect the reliability of mobile systems.</span></span> <span data-ttu-id="e5063-114">Sie erhöhen z. B. das Risiko unerwarteter Stromabschaltungen.</span><span class="sxs-lookup"><span data-stu-id="e5063-114">For example, they increase the risk of unexpected power cut-offs.</span></span>

<span data-ttu-id="e5063-115">Systemerweiterungen wie Treiber, Anwendungen und Dienste können erhebliche Auswirkungen auf die Ein-/Aus-Übergangszeiten haben.</span><span class="sxs-lookup"><span data-stu-id="e5063-115">System extensions like drivers, applications, and services can have a significant impact on on/off transition times.</span></span> <span data-ttu-id="e5063-116">In diesem Abschnitt werden einige der bewährten Methoden erläutert, die Anwendungs- und Dienstentwickler befolgen können, um Verzögerungen beim Starten, Standby und Herunterfahren zu vermeiden und eine reaktionsfähige Benutzererfahrung nach dem Start und nach dem Fortsetzen sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="e5063-116">This section discusses some of the best practices that application and service developers can follow to avoid delays during boot, standby, and shutdown, and to ensure a responsive post-boot and post-resume user experience.</span></span> <span data-ttu-id="e5063-117">Weitere Informationen zum Identifizieren von Ein-/Aus-Leistungsproblemen mit dem Windows Performance Toolkit und zum Implementieren der folgenden Empfehlungen für Ihre Anwendung oder Ihren Dienst finden Sie in den Whitepapers im Abschnitt "Links zu anderen Ressourcen".</span><span class="sxs-lookup"><span data-stu-id="e5063-117">For more details on how to identify on/off performance issues using the Windows Performance Toolkit and implement the below recommendations for your application or service, please refer to the whitepapers in the 'Links to other Resources' section.</span></span>

## <a name="best-practices"></a><span data-ttu-id="e5063-118">Bewährte Methoden</span><span class="sxs-lookup"><span data-stu-id="e5063-118">Best Practices</span></span>

-   <span data-ttu-id="e5063-119">Verwenden Sie das Windows Performance Toolkit, um die Leistung während aller Ein-/Aus-Übergänge zu messen.</span><span class="sxs-lookup"><span data-stu-id="e5063-119">Use the Windows Performance Toolkit to measure performance during all on/off transitions.</span></span>
-   <span data-ttu-id="e5063-120">Führen Sie Tests kontrolliert durch, und führen Sie Vergleiche mit einer gültigen Baseline durch:</span><span class="sxs-lookup"><span data-stu-id="e5063-120">Perform testing in a controlled way, and make comparisons against a valid baseline:</span></span>
    -   <span data-ttu-id="e5063-121">Abrufen einer Baselinemessung auf einem System mit so wenigen Systemerweiterungen wie möglich</span><span class="sxs-lookup"><span data-stu-id="e5063-121">Obtain a baseline measurement on a system with as few system extensions as possible</span></span>
    -   <span data-ttu-id="e5063-122">Hinzufügen von Anwendungen und Diensten nacheinander</span><span class="sxs-lookup"><span data-stu-id="e5063-122">Add applications and services one at a time</span></span>
    -   <span data-ttu-id="e5063-123">Testen auf unzulässige Regressionen in Ein-/Aus-Übergangszeiten</span><span class="sxs-lookup"><span data-stu-id="e5063-123">Test for unacceptable regressions in on/off transition times</span></span>
-   <span data-ttu-id="e5063-124">Vermeiden Sie die Verwendung von verwaltetem Code für Anwendungen auf dem kritischen Startpfad.</span><span class="sxs-lookup"><span data-stu-id="e5063-124">Avoid using managed code for applications on the critical boot path.</span></span>
-   <span data-ttu-id="e5063-125">Stellen Sie sicher, dass alle Anwendungen schnell auf Benachrichtigungen zum Herunterfahren reagieren (WM \_ QUERYENDSESSION- und WM \_ ENDSESSION-Meldungen).</span><span class="sxs-lookup"><span data-stu-id="e5063-125">Ensure that all applications respond quickly to shutdown notifications (WM\_QUERYENDSESSION and WM\_ENDSESSION messages).</span></span>
-   <span data-ttu-id="e5063-126">Reduzieren Sie Verzögerungen beim Herunterfahren von Diensten und Anwendungen, indem Sie die CPU-, Datenträger- und Netzwerkaktivität als Reaktion auf Benachrichtigungen zum Herunterfahren minimieren.</span><span class="sxs-lookup"><span data-stu-id="e5063-126">Reduce delays in the shutdown path of services and applications by minimizing CPU, disk, and network activity in response to shutdown notifications.</span></span>
-   <span data-ttu-id="e5063-127">Vermeiden Sie Verzögerungen bei der Verarbeitung der Unterbrechungsbenachrichtigung (WM \_ POWERBROADCAST-Nachricht).</span><span class="sxs-lookup"><span data-stu-id="e5063-127">Avoid delays in processing the suspend notification (WM\_POWERBROADCAST message).</span></span>
-   <span data-ttu-id="e5063-128">Reagieren Sie schnell, um Ereignisse fortzusetzen und die CPU-, Datenträger- und Netzwerkauslastung nach dem Fortsetzen zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="e5063-128">Respond quickly to resume events and minimize post-resume CPU, disk, and network usage.</span></span>
-   <span data-ttu-id="e5063-129">Reduzieren sie den Ressourcenverbrauch der Anwendung nach dem Start.</span><span class="sxs-lookup"><span data-stu-id="e5063-129">Reduce application resource consumption post-boot.</span></span>
-   <span data-ttu-id="e5063-130">Starten Sie Anwendungen nicht bei jedem Start mit dem RunOnce-Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="e5063-130">Do not start applications from the RunOnce key on every boot.</span></span>
-   <span data-ttu-id="e5063-131">Konvertieren Sie alle nicht grundlegenden Dienste in den start- oder trigger-Start des Bedarfs, um Systemressourcen während des Starts verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="e5063-131">Convert all nonessential services to demand start or trigger start in order to make system resources available during boot.</span></span>
-   <span data-ttu-id="e5063-132">Vermeiden Sie die Verwendung von Lastreihenfolgegruppen, um Dienstabhängigkeiten auszudrücken.</span><span class="sxs-lookup"><span data-stu-id="e5063-132">Avoid using load order groups to express service dependencies.</span></span>
-   <span data-ttu-id="e5063-133">Stellen Sie sicher, dass alle ausgeführten Dienste diesen Status so bald wie möglich während des Starts melden, um zu vermeiden, dass der Dienststeuerungs-Manager (Service Control Manager, SCM) blockiert wird.</span><span class="sxs-lookup"><span data-stu-id="e5063-133">Ensure that all running services report this status as soon as possible during boot to avoid blocking the Service Control Manager (SCM).</span></span>
-   <span data-ttu-id="e5063-134">Vermeiden Sie die Verwendung von verwaltetem Code für Dienste im Startpfad.</span><span class="sxs-lookup"><span data-stu-id="e5063-134">Avoid using managed code for services on the startup path.</span></span>
-   <span data-ttu-id="e5063-135">Lassen Sie nicht zu, dass Dienste Benachrichtigungen vor dem Herunterfahren und Herunterfahren empfangen (SERVICE \_ CONTROL \_ PRESHUTDOWN- und SERVICE \_ CONTROL \_ SHUTDOWN-Steuerungscodes), es sei denn, dies ist unbedingt erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e5063-135">Do not allow services to opt in to receive pre-shutdown and shutdown notifications (SERVICE\_CONTROL\_PRESHUTDOWN and SERVICE\_CONTROL\_SHUTDOWN control codes) unless absolutely required.</span></span>
-   <span data-ttu-id="e5063-136">Stellen Sie sicher, dass alle Dienste, die sich für den Empfang von Benachrichtigungen zum Herunterfahren entschieden haben, schnell auf den SCM reagieren.</span><span class="sxs-lookup"><span data-stu-id="e5063-136">Ensure that all services that have opted to receive shutdown notifications respond quickly to the SCM.</span></span>
-   <span data-ttu-id="e5063-137">Vergewissern Sie sich, dass Dienste nicht für den Empfang von Benachrichtigungen zum Anhalten optieren, es sei denn, dies ist unbedingt erforderlich.</span><span class="sxs-lookup"><span data-stu-id="e5063-137">Verify that services do not opt in to receive suspend notifications unless absolutely required.</span></span>
-   <span data-ttu-id="e5063-138">Stellen Sie sicher, dass alle Dienste schnell reagieren, um Ereignisse fortzusetzen und die CPU-, Datenträger- und Netzwerkauslastung nach dem Fortsetzen zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="e5063-138">Ensure that all services respond quickly to resume events and minimize post-resume CPU, disk, and network usage.</span></span>

## <a name="links-to-other-resources"></a><span data-ttu-id="e5063-139">Links zu anderen Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e5063-139">Links to Other Resources</span></span>

-   -   [<span data-ttu-id="e5063-140">Leitfaden für Windows-Lösungen für ein/aus-Übergänge</span><span class="sxs-lookup"><span data-stu-id="e5063-140">Windows On/Off Transitions Solutions Guide</span></span>](/windows-hardware/test/assessments/onoff-transition-performance)
-   [<span data-ttu-id="e5063-141">On/Off Transition Performance Analysis of Windows Vista</span><span class="sxs-lookup"><span data-stu-id="e5063-141">On/Off Transition Performance Analysis of Windows Vista</span></span>](/windows-hardware/test/assessments/onoff-transition-performance)
-   [<span data-ttu-id="e5063-142">Windows-Leistungsanalyse</span><span class="sxs-lookup"><span data-stu-id="e5063-142">Windows Performance Analysis</span></span>](https://msdn.microsoft.com/performance/default.aspx)
-   [<span data-ttu-id="e5063-143">Dokumentation zum Windows Performance Toolkit auf MSDN</span><span class="sxs-lookup"><span data-stu-id="e5063-143">Windows Performance Toolkit documentation on MSDN</span></span>](/previous-versions/windows/desktop/xperf/windows-performance-analyzer--wpa-)
-   [<span data-ttu-id="e5063-144">Forum zur Windows-Leistungsanalyse</span><span class="sxs-lookup"><span data-stu-id="e5063-144">Windows Performance Analysis forum</span></span>](https://social.msdn.microsoft.com/Forums/wptk_v4/threads/)
-   [<span data-ttu-id="e5063-145">Ereignisablaufverfolgung für Windows auf MSDN</span><span class="sxs-lookup"><span data-stu-id="e5063-145">Event Tracing for Windows on MSDN</span></span>](../etw/event-tracing-portal.md)

 

 
