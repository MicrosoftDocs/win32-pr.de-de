---
UID: ''
title: MessageProc-Rückruffunktion
description: Das System ruft diese Funktion auf, nachdem ein Eingabe Ereignis in einem Dialogfeld, einem Meldungs Feld, einem Menü oder einer Scrollleiste auftritt. | MessageProc-Rückruffunktion
old-location: ''
ms.assetid: na
ms.date: 04/05/2019
ms.keywords: ''
ms.topic: reference
req.header: ''
req.include-header: ''
req.target-type: Windows
req.target-min-winverclnt: ''
req.target-min-winversvr: ''
req.kmdf-ver: ''
req.umdf-ver: ''
req.ddi-compliance: ''
req.unicode-ansi: ''
req.idl: ''
req.max-support: ''
req.namespace: ''
req.assembly: ''
req.type-library: ''
req.lib: ''
req.dll: ''
req.irql: ''
topic_type:
- APIRef
api_type: ''
api_location: ''
api_name: ''
targetos: Windows
req.typenames: ''
req.redist: ''
ms.openlocfilehash: 00a1d1c52d50d0d9a028829181c886a813112a15
ms.sourcegitcommit: 92e74c99f8f4d097676959d0c317f533c2400a80
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/09/2021
ms.locfileid: "104353569"
---
# <a name="messageproc-function"></a><span data-ttu-id="058da-104">MessageProc-Funktion</span><span class="sxs-lookup"><span data-stu-id="058da-104">MessageProc function</span></span>

## <a name="description"></a><span data-ttu-id="058da-105">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="058da-105">Description</span></span>

<span data-ttu-id="058da-106">Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [SetWindowsHookEx](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw) -Funktion verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="058da-106">An application-defined or library-defined callback function used with the [SetWindowsHookEx](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw) function.</span></span>
<span data-ttu-id="058da-107">Das System ruft diese Funktion auf, nachdem ein Eingabe Ereignis in einem Dialogfeld, einem Meldungs Feld, einem Menü oder einer Scrollleiste aufgetreten ist, aber bevor die vom Eingabe Ereignis generierte Meldung verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="058da-107">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span>
<span data-ttu-id="058da-108">Die Hook-Prozedur kann Meldungen für ein Dialogfeld, ein Meldungs Feld, ein Menü oder eine Bild Lauf Leiste überwachen, die von einer bestimmten Anwendung oder von allen Anwendungen erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="058da-108">The hook procedure can monitor messages for a dialog box, message box, menu, or scroll bar created by a particular application or all applications.</span></span>

<span data-ttu-id="058da-109">Der **HookProc** -Typ definiert einen Zeiger auf diese Rückruffunktion.</span><span class="sxs-lookup"><span data-stu-id="058da-109">The **HOOKPROC** type defines a pointer to this callback function.</span></span>
<span data-ttu-id="058da-110">**MessageProc** ist ein Platzhalter für den Anwendungs definierten oder Bibliotheks definierten Funktionsnamen.</span><span class="sxs-lookup"><span data-stu-id="058da-110">**MessageProc** is a placeholder for the application-defined or library-defined function name.</span></span>

```cpp
LRESULT CALLBACK MessageProc(
  _In_ int    code,
       WPARAM wParam,
  _In_ LPARAM lParam
);
```

## <a name="parameters"></a><span data-ttu-id="058da-111">Parameter</span><span class="sxs-lookup"><span data-stu-id="058da-111">Parameters</span></span>

### <a name="code-in"></a><span data-ttu-id="058da-112">Code [in]</span><span class="sxs-lookup"><span data-stu-id="058da-112">code [in]</span></span>

<span data-ttu-id="058da-113">Typ: **int**</span><span class="sxs-lookup"><span data-stu-id="058da-113">Type: **int**</span></span>

<span data-ttu-id="058da-114">Der Typ des Eingabe Ereignisses, von dem die Meldung generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="058da-114">The type of input event that generated the message.</span></span>
<span data-ttu-id="058da-115">Wenn *Code* kleiner als 0 (null) ist, muss die Hook-Prozedur die Nachricht an die [CallNextHookEx](/windows/desktop/api/winuser/nf-winuser-callnexthookex) -Funktion übergeben, ohne die Verarbeitung zu verarbeiten und den von **CallNextHookEx** zurückgegebenen Wert zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="058da-115">If *code* is less than zero, the hook procedure must pass the message to the [CallNextHookEx](/windows/desktop/api/winuser/nf-winuser-callnexthookex) function without further processing and return the value returned by **CallNextHookEx**.</span></span>
<span data-ttu-id="058da-116">Dieser Parameter kann einen der folgenden Werte annehmen.</span><span class="sxs-lookup"><span data-stu-id="058da-116">This parameter can be one of the following values.</span></span>

| <span data-ttu-id="058da-117">Wert</span><span class="sxs-lookup"><span data-stu-id="058da-117">Value</span></span> | <span data-ttu-id="058da-118">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="058da-118">Meaning</span></span> |
|-------|---------|
| <span data-ttu-id="058da-119">**MSGF_DDEMGR** 0x8001</span><span class="sxs-lookup"><span data-stu-id="058da-119">**MSGF_DDEMGR** 0x8001</span></span> | <span data-ttu-id="058da-120">Das Eingabe Ereignis ist aufgetreten, während die dynamischer Datenaustausch Management Library (Ddeml) darauf wartete, dass eine synchrone Transaktion abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="058da-120">The input event occurred while the Dynamic Data Exchange Management Library (DDEML) was waiting for a synchronous transaction to finish.</span></span> <span data-ttu-id="058da-121">Weitere Informationen zu DDEML finden Sie unter [dynamischer Datenaustausch-Verwaltungs Bibliothek](../dataxchg/dynamic-data-exchange-management-library.md).</span><span class="sxs-lookup"><span data-stu-id="058da-121">For more information about DDEML, see [Dynamic Data Exchange Management Library](../dataxchg/dynamic-data-exchange-management-library.md).</span></span> |
| <span data-ttu-id="058da-122">**MSGF_DIALOGBOX** 0</span><span class="sxs-lookup"><span data-stu-id="058da-122">**MSGF_DIALOGBOX** 0</span></span> | <span data-ttu-id="058da-123">Das Eingabe Ereignis ist in einem Meldungs Feld oder Dialogfeld aufgetreten.</span><span class="sxs-lookup"><span data-stu-id="058da-123">The input event occurred in a message box or dialog box.</span></span> |
| <span data-ttu-id="058da-124">**MSGF_MENU** 2</span><span class="sxs-lookup"><span data-stu-id="058da-124">**MSGF_MENU** 2</span></span> | <span data-ttu-id="058da-125">Das Eingabe Ereignis ist in einem Menü aufgetreten.</span><span class="sxs-lookup"><span data-stu-id="058da-125">The input event occurred in a menu.</span></span> |
| <span data-ttu-id="058da-126">**MSGF_SCROLLBAR** 5</span><span class="sxs-lookup"><span data-stu-id="058da-126">**MSGF_SCROLLBAR** 5</span></span> | <span data-ttu-id="058da-127">Das Eingabe Ereignis ist in einer Bild Lauf Leiste aufgetreten.</span><span class="sxs-lookup"><span data-stu-id="058da-127">The input event occurred in a scroll bar.</span></span> |

### <a name="wparam"></a><span data-ttu-id="058da-128">wParam</span><span class="sxs-lookup"><span data-stu-id="058da-128">wParam</span></span>

<span data-ttu-id="058da-129">Typ: **wParam**</span><span class="sxs-lookup"><span data-stu-id="058da-129">Type: **WPARAM**</span></span>

<span data-ttu-id="058da-130">Dieser Parameter wird nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="058da-130">This parameter is not used.</span></span>

### <a name="lparam-in"></a><span data-ttu-id="058da-131">LParam [in]</span><span class="sxs-lookup"><span data-stu-id="058da-131">lParam [in]</span></span>

<span data-ttu-id="058da-132">Typ: **LPARAM**</span><span class="sxs-lookup"><span data-stu-id="058da-132">Type: **LPARAM**</span></span>

<span data-ttu-id="058da-133">Ein Zeiger auf eine [msg](/windows/win32/api/winuser/ns-winuser-msg) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="058da-133">A pointer to an [MSG](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span>

## <a name="returns"></a><span data-ttu-id="058da-134">Gibt zurück</span><span class="sxs-lookup"><span data-stu-id="058da-134">Returns</span></span>

<span data-ttu-id="058da-135">Typ: **LRESULT**</span><span class="sxs-lookup"><span data-stu-id="058da-135">Type: **LRESULT**</span></span>

<span data-ttu-id="058da-136">Wenn *Code* kleiner als 0 (null) ist, muss die Hook-Prozedur den von **CallNextHookEx** zurückgegebenen Wert zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="058da-136">If *code* is less than zero, the hook procedure must return the value returned by **CallNextHookEx**.</span></span>

<span data-ttu-id="058da-137">Wenn *Code* größer oder gleich 0 (null) ist und die Hook-Prozedur die Nachricht nicht verarbeitet hat, wird dringend empfohlen, **CallNextHookEx** aufzurufen und den zurückgegebenen Wert zurückzugeben. Andernfalls erhalten andere Anwendungen, die [WH_MSGFILTER](about-hooks.md) Hooks installiert haben, keine Hook-Benachrichtigungen und können sich daher fälschlicherweise Verhalten.</span><span class="sxs-lookup"><span data-stu-id="058da-137">If *code* is greater than or equal to zero, and the hook procedure did not process the message, it is highly recommended that you call **CallNextHookEx** and return the value it returns; otherwise, other applications that have installed [WH_MSGFILTER](about-hooks.md) hooks will not receive hook notifications and may behave incorrectly as a result.</span></span>
<span data-ttu-id="058da-138">Wenn die Hook-Prozedur die Nachricht verarbeitet hat, kann Sie einen Wert ungleich 0 (null) zurückgeben, um zu verhindern, dass das System die Nachricht an den Rest der Hook-Kette oder der Zielfenster Prozedur übergibt.</span><span class="sxs-lookup"><span data-stu-id="058da-138">If the hook procedure processed the message, it may return a nonzero value to prevent the system from passing the message to the rest of the hook chain or the target window procedure.</span></span>

## <a name="remarks"></a><span data-ttu-id="058da-139">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="058da-139">Remarks</span></span>

<span data-ttu-id="058da-140">Eine Anwendung installiert die Hook-Prozedur, indem Sie den **WH_MSGFILTER** Hooktyp und einen Zeiger auf die Hook-Prozedur in einem Aufrufen der **SetWindowsHookEx** -Funktion angibt.</span><span class="sxs-lookup"><span data-stu-id="058da-140">An application installs the hook procedure by specifying the **WH_MSGFILTER** hook type and a pointer to the hook procedure in a call to the **SetWindowsHookEx** function.</span></span>

<span data-ttu-id="058da-141">Wenn eine Anwendung, die die Ddeml verwendet und synchrone Transaktionen ausführt, Nachrichten verarbeiten muss, bevor Sie gesendet werden, muss der **WH_MSGFILTER** Hook verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="058da-141">If an application that uses the DDEML and performs synchronous transactions must process messages before they are dispatched, it must use the **WH_MSGFILTER** hook.</span></span>

## <a name="see-also"></a><span data-ttu-id="058da-142">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="058da-142">See also</span></span>

[<span data-ttu-id="058da-143">CallNextHookEx</span><span class="sxs-lookup"><span data-stu-id="058da-143">CallNextHookEx</span></span>](/windows/desktop/api/winuser/nf-winuser-callnexthookex)

[<span data-ttu-id="058da-144">SetWindowsHookEx</span><span class="sxs-lookup"><span data-stu-id="058da-144">SetWindowsHookEx</span></span>](/windows/desktop/api/winuser/nf-winuser-setwindowshookexw)

[<span data-ttu-id="058da-145">Meldung</span><span class="sxs-lookup"><span data-stu-id="058da-145">MSG</span></span>](/windows/win32/api/winuser/ns-winuser-msg)

[<span data-ttu-id="058da-146">Hooks</span><span class="sxs-lookup"><span data-stu-id="058da-146">Hooks</span></span>](hooks.md)
