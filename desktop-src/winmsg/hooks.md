---
description: In diesem Abschnitt werden Hooks erläutert. Ein Hook ist ein Punkt im Mechanismus zur Verarbeitung von Systemnachrichten, bei dem eine Anwendung eine Unterroutine zum Überwachen des Nachrichtenverkehrs installieren kann.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\hooks.htm
title: Hooks
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74057d25e3152c8782c2be364688bb971b08ddf5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104217820"
---
# <a name="hooks"></a>Hooks

Ein Hook ist ein Punkt im Mechanismus zur Verarbeitung von Systemnachrichten, bei dem eine Anwendung eine Unterroutine installieren kann, um den Nachrichtenverkehr im System zu überwachen und bestimmte Nachrichten Typen zu verarbeiten, bevor Sie die Zielfenster Prozedur erreichen.

### <a name="in-this-section"></a>In diesem Abschnitt



| Name                                 | BESCHREIBUNG                                                         |
|--------------------------------------|---------------------------------------------------------------------|
| [Übersicht über Hook](about-hooks.md)     | Erläutert, wie Hooks verwendet werden sollen.<br/>                      |
| [Verwenden von Hooks](using-hooks.md)       | Veranschaulicht, wie mit Hooks verknüpfte Aufgaben ausgeführt werden.<br/> |
| [Hook-Verweis](hook-reference.md) | Enthält die API-Referenz.<br/>                              |



 

### <a name="hook-functions"></a>Hook-Funktionen



| Name                                               | BESCHREIBUNG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Callmsgfilter**](/windows/win32/api/winuser/nf-winuser-callmsgfiltera)             | Übergibt die angegebene Meldung und den zugehörigen Hook-Code an die Hook-Prozeduren, die den joinprozeduren " [**WH \_ sysmsgfilter**](about-hooks.md) " und " **WH \_ msg**<br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [**CallNextHookEx**](/windows/win32/api/winuser/nf-winuser-callnexthookex)           | Übergibt die Hook-Informationen an die nächste Hook-Prozedur in der aktuellen Hook-Kette. Eine Hook-Prozedur kann diese Funktion entweder vor oder nach der Verarbeitung der Hook-Informationen aufruft. <br/>                                                                                                                                                                                                                                                                                                                                                                                                         |
| [*Callwndproc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))                   | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion auf, bevor die Fenster Prozedur aufgerufen wird, um eine an den Thread gesendete Nachricht zu verarbeiten.<br/>                                                                                                                                                                                                                                                                                                                                               |
| [*Callwndretproc*](/windows/win32/api/winuser/nc-winuser-hookproc)             | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion auf, nachdem die [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) -Funktion aufgerufen wurde. Die Hook-Prozedur kann die Nachricht überprüfen. Sie kann Sie nicht ändern. <br/>                                                                                                                                                                                                                                                                                         |
| [*Cbtproc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))                           | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion vor dem aktivieren, erstellen, zerstören, minimieren, maximieren, verschieben oder Anpassen eines Fensters auf. vor dem Abschließen eines System Befehls vor dem Entfernen eines Maus-oder Tastatur Ereignisses aus der System Meldungs Warteschlange vor dem Festlegen des Tastaturfokus; oder vor der Synchronisierung mit der System Meldungs Warteschlange. Eine computerbasierte Schulungs Anwendung (CBT) verwendet diese Hook-Prozedur, um nützliche Benachrichtigungen vom System zu empfangen. <br/> |
| [*Debug-Prozedur*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))                       | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion auf, bevor die Hook-Prozeduren aufgerufen werden, die einem Typ von Hook zugeordnet sind Das System übergibt Informationen zum Hook, die aufgerufen werden sollen, an die [*debugproc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) -Hook-Prozedur, die die Informationen untersucht und bestimmt, ob der Hook aufgerufen werden kann. <br/>                                                                                                                                                  |
| [*Foregroundidleproc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))     | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion immer dann auf, wenn sich der Vordergrund Thread im Leerlauf befindet. <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| [*Getmsgproc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))                     | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion immer dann auf, wenn die [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) -Funktion oder die [**Peer Message**](/windows/win32/api/winuser/nf-winuser-peekmessagea) -Funktion eine Nachricht aus einer Anwendungs Nachrichten Warteschlange abgerufen hat. Bevor die abgerufene Nachricht an den Aufrufer zurückgegeben wird, übergibt das System die Nachricht an die Hook-Prozedur. <br/>                                                                                                                                                        |
| [*Journalplaybackproc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))   | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. In der Regel verwendet eine Anwendung diese Funktion, um eine Reihe von Maus-und Tastatur Meldungen wiederzugeben, die zuvor von der [*journalrecordproc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) -Hook-Prozedur aufgezeichnet wurden. Solange eine [*journalplaybackproc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) -Hook-Prozedur installiert ist, sind normale Maus-und Tastatureingaben deaktiviert. <br/>                                                                                                                       |
| [*Journalrecordproc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))       | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Die Funktion zeichnet Meldungen auf, die das System aus der System Meldungs Warteschlange entfernt. Später kann eine Anwendung eine [*journalplaybackproc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) -Hook-Prozedur verwenden, um die Nachrichten wiederzugeben. <br/>                                                                                                                                                                                                                                               |
| [*Keyboardproc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))                 | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion immer dann auf, wenn eine Anwendung die [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) -oder die [**Peer Message**](/windows/win32/api/winuser/nf-winuser-peekmessagea) -Funktion aufruft und eine Tastatur Meldung ([**WM \_ KeyUp**](/windows/desktop/inputdev/wm-keyup) oder [**WM \_ KeyDown**](/windows/desktop/inputdev/wm-keydown)) zur Verarbeitung vorhanden ist. <br/>                                                                                                                                                                         |
| [*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85)) | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion jedes Mal auf, wenn ein neues Tastatureingabe Ereignis in einer Thread Eingabe Warteschlange gepostet wird.<br/>                                                                                                                                                                                                                                                                                                                                     |
| [*Lowlevelmousegproc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))       | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion jedes Mal auf, wenn ein neues Mauseingabe Ereignis in einer Thread Eingabe Warteschlange gepostet wird.<br/>                                                                                                                                                                                                                                                                                                                                        |
| [*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))                   | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion auf, nachdem ein Eingabe Ereignis in einem Dialogfeld, einem Meldungs Feld, einem Menü oder einer Scrollleiste aufgetreten ist, aber bevor die vom Eingabe Ereignis generierte Meldung verarbeitet wird. Die Hook-Prozedur kann Meldungen für ein Dialogfeld, ein Meldungs Feld, ein Menü oder eine Bild Lauf Leiste überwachen, die von einer bestimmten Anwendung oder von allen Anwendungen erstellt wurde.<br/>                                                                                                                       |
| [*Mousegproc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))                       | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion immer dann auf, wenn eine Anwendung die [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) -oder die [**Peer Message**](/windows/win32/api/winuser/nf-winuser-peekmessagea) -Funktion aufruft und eine zu verarbeitende Maus Nachricht vorhanden ist. <br/>                                                                                                                                                                                                                                                           |
| [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa)       | Installiert eine Anwendungs definierte Hook-Prozedur in eine Hook-Kette. Sie installieren eine Hook-Prozedur, um das System für bestimmte Arten von Ereignissen zu überwachen. Diese Ereignisse werden entweder mit einem bestimmten Thread oder mit allen Threads im gleichen Desktop wie der aufrufende Thread verknüpft.<br/>                                                                                                                                                                                                                                                                                                           |
| [*Shellproc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))                       | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Die Funktion empfängt Benachrichtigungen von shellereignissen vom System.<br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [*Sysmsgproc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))                     | Eine von der Anwendung definierte oder Bibliotheks definierte Rückruffunktion, die mit der [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion verwendet wird. Das System ruft diese Funktion auf, nachdem ein Eingabe Ereignis in einem Dialogfeld, einem Meldungs Feld, einem Menü oder einer Scrollleiste aufgetreten ist, aber bevor die vom Eingabe Ereignis generierte Meldung verarbeitet wird. Die-Funktion kann Meldungen für beliebige Dialogfelder, ein Meldungs Feld, ein Menü oder eine Bild Lauf Leiste im System überwachen. <br/>                                                                                                                                                                    |
| [**Unhuokwindowshookex**](/windows/win32/api/winuser/nf-winuser-unhookwindowshookex) | Entfernt eine Hook-Prozedur, die in einer [**Hookkette durch die SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) -Funktion installiert ist. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

### <a name="hook-notifications"></a>Hook-Benachrichtigungen



| Name                                          | BESCHREIBUNG                                                                                                                                                                         |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WM \_ canceljournal**](wm-canceljournal.md) | Wird an eine Anwendung gesendet, wenn ein Benutzer die journalingaktivitäten der Anwendung abbricht. Die Nachricht wird mit einem **null** -Fenster Handle gepostet. <br/>                              |
| [**WM \_ queuesync**](wm-queuesync.md)         | Wird von einer CBT-Anwendung zum Trennen von Benutzereingabe Nachrichten von anderen Nachrichten gesendet, die über die Prozedur " [**WH \_ journalplayback**](about-hooks.md) " gesendet werden. <br/> |



 

### <a name="hook-structures"></a>Hook-Strukturen



| Name                                           | BESCHREIBUNG                                                                                                                                                                                                                 |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**CBT \_ -Skript**](/windows/win32/api/winuser/ns-winuser-cbt_createwnda)        | Enthält Informationen, die an eine **WH \_ CBT** -Hook-Prozedur [*cbtproc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))übergeben werden, bevor ein Fenster erstellt wird.<br/>                                                                                               |
| [**Cbtactivatestruct**](/windows/win32/api/winuser/ns-winuser-cbtactivatestruct) | Enthält Informationen, die an eine **WH \_ CBT** -Hook-Prozedur [*cbtproc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))übergeben werden, bevor ein Fenster aktiviert wird. <br/>                                                                                            |
| [**Cwpretstruct**](/windows/win32/api/winuser/ns-winuser-cwpretstruct)           | Definiert die Nachrichten Parameter, die an eine " **WH \_ callwndprokret** "-Hook-Prozedur ( [*callwndretproc*](/windows/win32/api/winuser/nc-winuser-hookproc)) übergeben werden. <br/>                                                                                       |
| [**Cwpstruct**](/windows/win32/api/winuser/ns-winuser-cwpstruct)                 | Definiert die Nachrichten Parameter, die an eine " **WH \_ callwndproc** "-Hook-Prozedur ( [*callwndproc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))) übermittelt werden <br/>                                                                                                |
| [**Debug-Info**](/windows/win32/api/winuser/ns-winuser-debughookinfo)         | Enthält Debuginformationen, die an eine **WH- \_ Debug** -Hook-Prozedur übergeben werden. [*debugproc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)). <br/>                                                                                                          |
| [**Eventmsg**](/windows/win32/api/winuser/ns-winuser-eventmsg)                   | Enthält Informationen über eine Hardware Nachricht, die an die System Meldungs Warteschlange gesendet wird. Diese Struktur wird verwendet, um Nachrichten Informationen für die [*journalplaybackproc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) -Rückruffunktion zu speichern. <br/> |
| [**Kbdlltuokstruct**](/windows/win32/api/winuser/ns-winuser-kbdllhookstruct)     | Enthält Informationen zu einem Tastatureingabe Ereignis auf niedriger Ebene. <br/>                                                                                                                                                    |
| [**Mouselhuokstruct**](/windows/win32/api/winuser/ns-winuser-mousehookstruct)     | Enthält Informationen zu einem Maus Ereignis, das an eine **WH- \_ maushook** -Prozedur, [*mouseproc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)), übermittelt wurde. <br/>                                                                                                |
| [**Mouselhuokstructex**](/windows/win32/api/winuser/ns-winuser-mousehookstructex) | Enthält Informationen zu einem Maus Ereignis, das an eine **WH- \_ maushook** -Prozedur, [*mouseproc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)), übermittelt wurde. <br/>                                                                                                |
| [**Msllhuokstruct**](/windows/win32/api/winuser/ns-winuser-msllhookstruct)       | Enthält Informationen über ein Eingabe Ereignis auf niedriger Ebene. <br/>                                                                                                                                                       |



 

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[**Setwineventhook**](/windows/desktop/api/winuser/nf-winuser-setwineventhook)
</dt> </dl>

 

