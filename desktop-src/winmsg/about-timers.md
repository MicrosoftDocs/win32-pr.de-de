---
description: In diesem Thema wird beschrieben, wie Timer erstellt, identifiziert, festgelegt und gelöscht werden.
ms.assetid: 509a6fc4-ddee-4ff4-88a2-25dad4c48c2f
title: Informationen zu Timern
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b3163dbfd5357de516e0202665cd76d017335593
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103960851"
---
# <a name="about-timers"></a><span data-ttu-id="de0a2-103">Informationen zu Timern</span><span class="sxs-lookup"><span data-stu-id="de0a2-103">About Timers</span></span>

<span data-ttu-id="de0a2-104">In diesem Thema wird beschrieben, wie Timer erstellt, identifiziert, festgelegt und gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="de0a2-104">This topic describes how to create, identify, set, and delete timers.</span></span> <span data-ttu-id="de0a2-105">Eine Anwendung verwendet einen Timer, um ein Ereignis für ein Fenster zu planen, nachdem eine angegebene Zeit abgelaufen ist.</span><span class="sxs-lookup"><span data-stu-id="de0a2-105">An application uses a timer to schedule an event for a window after a specified time has elapsed.</span></span> <span data-ttu-id="de0a2-106">Jedes Mal, wenn das angegebene Intervall (oder Timeout Wert) für einen Timer abläuft, benachrichtigt das System das Fenster, das dem Timer zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="de0a2-106">Each time the specified interval (or time-out value) for a timer elapses, the system notifies the window associated with the timer.</span></span> <span data-ttu-id="de0a2-107">Da die Genauigkeit eines Timers von der systemtaktrate abhängig ist und die Häufigkeit, mit der die Anwendung Nachrichten aus der Nachrichten Warteschlange abruft, ist der Timeout Wert nur annähernd.</span><span class="sxs-lookup"><span data-stu-id="de0a2-107">Because a timer's accuracy depends on the system clock rate and how often the application retrieves messages from the message queue, the time-out value is only approximate.</span></span>

<span data-ttu-id="de0a2-108">Das Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="de0a2-108">This topic includes the following sections.</span></span>

-   [<span data-ttu-id="de0a2-109">Timer-Vorgänge</span><span class="sxs-lookup"><span data-stu-id="de0a2-109">Timer Operations</span></span>](#timer-operations)
-   [<span data-ttu-id="de0a2-110">Zeitgeber mit hoher Auflösung</span><span class="sxs-lookup"><span data-stu-id="de0a2-110">High-Resolution Timer</span></span>](#high-resolution-timer)
-   [<span data-ttu-id="de0a2-111">Wanutzbare Zeit Geber Objekte</span><span class="sxs-lookup"><span data-stu-id="de0a2-111">Waitable Timer Objects</span></span>](#waitable-timer-objects)
-   [<span data-ttu-id="de0a2-112">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="de0a2-112">Related topics</span></span>](#related-topics)

## <a name="timer-operations"></a><span data-ttu-id="de0a2-113">Timer-Vorgänge</span><span class="sxs-lookup"><span data-stu-id="de0a2-113">Timer Operations</span></span>

<span data-ttu-id="de0a2-114">Anwendungen erstellen Timer [**mithilfe der Funktion**](/windows/win32/api/winuser/nf-winuser-settimer) "Funktion".</span><span class="sxs-lookup"><span data-stu-id="de0a2-114">Applications create timers by using the [**SetTimer**](/windows/win32/api/winuser/nf-winuser-settimer) function.</span></span> <span data-ttu-id="de0a2-115">Ein neuer Timer beginnt mit der zeitlichen Steuerung des Intervalls, sobald es erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="de0a2-115">A new timer starts timing the interval as soon as it is created.</span></span> <span data-ttu-id="de0a2-116">Eine Anwendung kann den Timeout Wert eines Timers mithilfe von **SETTIMER** ändern und einen Timer mithilfe der [**killtimer**](/windows/win32/api/winuser/nf-winuser-killtimer) -Funktion zerstören.</span><span class="sxs-lookup"><span data-stu-id="de0a2-116">An application can change a timer's time-out value by using **SetTimer** and can destroy a timer by using the [**KillTimer**](/windows/win32/api/winuser/nf-winuser-killtimer) function.</span></span> <span data-ttu-id="de0a2-117">Um Systemressourcen effizient zu verwenden, sollten Anwendungen nicht mehr benötigte Timer zerstören.</span><span class="sxs-lookup"><span data-stu-id="de0a2-117">To use system resources efficiently, applications should destroy timers that are no longer necessary.</span></span>

<span data-ttu-id="de0a2-118">Jeder Timer verfügt über einen eindeutigen Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="de0a2-118">Each timer has a unique identifier.</span></span> <span data-ttu-id="de0a2-119">Beim Erstellen eines Timers kann eine Anwendung entweder einen Bezeichner angeben oder festlegen, dass das System einen eindeutigen Wert erstellt.</span><span class="sxs-lookup"><span data-stu-id="de0a2-119">When creating a timer, an application can either specify an identifier or have the system create a unique value.</span></span> <span data-ttu-id="de0a2-120">Der erste Parameter einer [**WM- \_**](wm-timer.md) Zeit Geber Nachricht enthält den Bezeichner des Timers, der die Nachricht gepostet hat.</span><span class="sxs-lookup"><span data-stu-id="de0a2-120">The first parameter of a [**WM\_TIMER**](wm-timer.md) message contains the identifier of the timer that posted the message.</span></span>

<span data-ttu-id="de0a2-121">Wenn Sie im aufzurufenden [**SETTIMER**](/windows/win32/api/winuser/nf-winuser-settimer)-Befehl ein Fenster Handle angeben, ordnet die Anwendung den Timer diesem Fenster zu.</span><span class="sxs-lookup"><span data-stu-id="de0a2-121">If you specify a window handle in the call to [**SetTimer**](/windows/win32/api/winuser/nf-winuser-settimer), the application associates the timer with that window.</span></span> <span data-ttu-id="de0a2-122">Jedes Mal, wenn der Timeout Wert für den Timer abläuft, stellt das System eine [**WM \_**](wm-timer.md) -Zeit Geber Meldung an das Fenster, das dem Timer zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="de0a2-122">Whenever the time-out value for the timer elapses, the system posts a [**WM\_TIMER**](wm-timer.md) message to the window associated with the timer.</span></span> <span data-ttu-id="de0a2-123">Wenn im aufzurufenden **SETTIMER**-Befehl kein Fenster handle angegeben ist, muss die Anwendung, die den Timer erstellt hat, die Meldungs Warteschlange für die Zeit Geber Nachrichten der **\_ WM** überwachen und Sie an das entsprechende Fenster verteilen</span><span class="sxs-lookup"><span data-stu-id="de0a2-123">If no window handle is specified in the call to **SetTimer**, the application that created the timer must monitor its message queue for **WM\_TIMER** messages and dispatch them to the appropriate window.</span></span> <span data-ttu-id="de0a2-124">Wenn Sie eine [**timerproc**](/windows/win32/api/winuser/nc-winuser-timerproc) -Rückruffunktion angeben, ruft die Standardfenster Prozedur die Rückruffunktion auf, wenn Sie den **WM- \_ Timer** verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="de0a2-124">If you specify a [**TimerProc**](/windows/win32/api/winuser/nc-winuser-timerproc) callback function, the default window procedure calls the callback function when it processes **WM\_TIMER**.</span></span> <span data-ttu-id="de0a2-125">Daher müssen Sie Nachrichten in den aufrufenden Thread verteilen, auch wenn Sie **timerproc** anstelle der Verarbeitung des **WM- \_ Timers** verwenden.</span><span class="sxs-lookup"><span data-stu-id="de0a2-125">Therefore, you need to dispatch messages in the calling thread, even when you use **TimerProc** instead of processing **WM\_TIMER**.</span></span>

<span data-ttu-id="de0a2-126">Wenn Sie benachrichtigt werden müssen, wenn ein Timer abläuft, verwenden Sie einen aktivierbaren Timer.</span><span class="sxs-lookup"><span data-stu-id="de0a2-126">If you need to be notified when a timer elapses, use a waitable timer.</span></span> <span data-ttu-id="de0a2-127">Weitere Informationen finden Sie unter [wanutzbare Timer-Objekte](/windows/desktop/Sync/waitable-timer-objects).</span><span class="sxs-lookup"><span data-stu-id="de0a2-127">For more information, see [Waitable Timer Objects](/windows/desktop/Sync/waitable-timer-objects).</span></span>

## <a name="high-resolution-timer"></a><span data-ttu-id="de0a2-128">High-Resolution Timer</span><span class="sxs-lookup"><span data-stu-id="de0a2-128">High-Resolution Timer</span></span>

<span data-ttu-id="de0a2-129">Ein-Wert ist ein allgemeiner Begriff, der beim Programmieren verwendet wird, um auf eine inkrementvariable zu verweisen</span><span class="sxs-lookup"><span data-stu-id="de0a2-129">A counter is a general term used in programming to refer to an incrementing variable.</span></span> <span data-ttu-id="de0a2-130">Einige Systeme beinhalten einen hochleistungsfähigen Leistungs Bewert, der eine zeitintensive Zeitspanne mit hoher Auflösung bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="de0a2-130">Some systems include a high-resolution performance counter that provides high-resolution elapsed times.</span></span>

<span data-ttu-id="de0a2-131">Wenn ein Leistungsindikatoren mit hoher Auflösung auf dem System vorhanden ist, können Sie die [**QueryPerformanceFrequency**](/windows/desktop/api/profileapi/nf-profileapi-queryperformancefrequency) -Funktion verwenden, um die Häufigkeit in Zählungen pro Sekunde auszudrücken.</span><span class="sxs-lookup"><span data-stu-id="de0a2-131">If a high-resolution performance counter exists on the system, you can use the [**QueryPerformanceFrequency**](/windows/desktop/api/profileapi/nf-profileapi-queryperformancefrequency) function to express the frequency, in counts per second.</span></span> <span data-ttu-id="de0a2-132">Der Wert der Anzahl ist Prozessor abhängig.</span><span class="sxs-lookup"><span data-stu-id="de0a2-132">The value of the count is processor dependent.</span></span> <span data-ttu-id="de0a2-133">Bei einigen Prozessoren kann die Anzahl z. b. die Taktrate der Prozessoruhr sein.</span><span class="sxs-lookup"><span data-stu-id="de0a2-133">On some processors, for example, the count might be the cycle rate of the processor clock.</span></span>

<span data-ttu-id="de0a2-134">Die [**QueryPerformanceCounter**](/windows/desktop/api/profileapi/nf-profileapi-queryperformancecounter) -Funktion Ruft den aktuellen Wert des Leistungs Zählers mit hoher Auflösung ab.</span><span class="sxs-lookup"><span data-stu-id="de0a2-134">The [**QueryPerformanceCounter**](/windows/desktop/api/profileapi/nf-profileapi-queryperformancecounter) function retrieves the current value of the high-resolution performance counter.</span></span> <span data-ttu-id="de0a2-135">Wenn diese Funktion am Anfang und Ende eines Code Abschnitts aufgerufen wird, verwendet eine Anwendung den Zähler im Wesentlichen als Zeit Geber mit hoher Auflösung.</span><span class="sxs-lookup"><span data-stu-id="de0a2-135">By calling this function at the beginning and end of a section of code, an application essentially uses the counter as a high-resolution timer.</span></span> <span data-ttu-id="de0a2-136">Nehmen Sie beispielsweise an, dass [**QueryPerformanceFrequency**](/windows/desktop/api/profileapi/nf-profileapi-queryperformancefrequency) angibt, dass die Häufigkeit des Leistungs Zählers für hohe Auflösung 50.000 Zähler pro Sekunde ist.</span><span class="sxs-lookup"><span data-stu-id="de0a2-136">For example, suppose that [**QueryPerformanceFrequency**](/windows/desktop/api/profileapi/nf-profileapi-queryperformancefrequency) indicates that the frequency of the high-resolution performance counter is 50,000 counts per second.</span></span> <span data-ttu-id="de0a2-137">Wenn die Anwendung **QueryPerformanceCounter** unmittelbar vor und unmittelbar nach dem zu überprüfenden Code Abschnitt aufruft, können die Zählerwerte 1500 Zähler bzw. 3500 Zähler sein.</span><span class="sxs-lookup"><span data-stu-id="de0a2-137">If the application calls **QueryPerformanceCounter** immediately before and immediately after the section of code to be timed, the counter values might be 1500 counts and 3500 counts, respectively.</span></span> <span data-ttu-id="de0a2-138">Diese Werte geben an, dass .04 Sekunden (2000 Zählungen) während der Ausführung des Codes verstrichen sind.</span><span class="sxs-lookup"><span data-stu-id="de0a2-138">These values would indicate that .04 seconds (2000 counts) elapsed while the code executed.</span></span>

## <a name="waitable-timer-objects"></a><span data-ttu-id="de0a2-139">Wanutzbare Zeit Geber Objekte</span><span class="sxs-lookup"><span data-stu-id="de0a2-139">Waitable Timer Objects</span></span>

<span data-ttu-id="de0a2-140">Ein wanutzbares Zeit Geber Objekt ist ein Synchronisierungs Objekt, dessen Zustand auf signalisiert festgelegt wird, wenn die angegebene Fälligkeits Zeit erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="de0a2-140">A waitable timer object is a synchronization object whose state is set to signaled when the specified due time arrives.</span></span> <span data-ttu-id="de0a2-141">Es gibt zwei Typen von aufnutzbaren Timern, die erstellt werden können: manuelles Zurücksetzen und synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="de0a2-141">There are two types of waitable timers that can be created: manual-reset and synchronization.</span></span> <span data-ttu-id="de0a2-142">Ein Timer eines der beiden Typen kann auch ein periodischer Timer sein.</span><span class="sxs-lookup"><span data-stu-id="de0a2-142">A timer of either type can also be a periodic timer.</span></span>

<span data-ttu-id="de0a2-143">Ein Thread verwendet die Funktion " [**foratewaitabletimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) " oder " [**foratewaitabletimerex**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw) ", um ein Zeit Geber Objekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="de0a2-143">A thread uses the [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) or [**CreateWaitableTimerEx**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw) function to create a timer object.</span></span> <span data-ttu-id="de0a2-144">Der Erstellungsthread gibt an, ob es sich um einen Zeit Geber oder einen Synchronisierungs Zeit Geber handelt.</span><span class="sxs-lookup"><span data-stu-id="de0a2-144">The creating thread specifies whether the timer is a manual-reset timer or a synchronization timer.</span></span> <span data-ttu-id="de0a2-145">Der Erstellungsthread kann einen Namen für das Timer-Objekt angeben.</span><span class="sxs-lookup"><span data-stu-id="de0a2-145">The creating thread can specify a name for the timer object.</span></span> <span data-ttu-id="de0a2-146">Threads in anderen Prozessen können ein Handle für einen vorhandenen Timer öffnen, indem Sie den Namen in einem Aufrufen der [**openwaitabletimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw) -Funktion angeben.</span><span class="sxs-lookup"><span data-stu-id="de0a2-146">Threads in other processes can open a handle to an existing timer by specifying its name in a call to the [**OpenWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw) function.</span></span> <span data-ttu-id="de0a2-147">Jeder Thread mit einem Handle für ein Timer-Objekt kann eine der Wait-Funktionen verwenden, um zu warten, bis der Zeit Geber Zustand auf "signalisiert" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="de0a2-147">Any thread with a handle to a timer object can use one of the wait functions to wait for the timer state to be set to signaled.</span></span>

<span data-ttu-id="de0a2-148">Weitere Informationen zur Verwendung von ausnutzbaren Zeit Geber Objekten für die Thread Synchronisierung finden Sie unter [wanutzbare](/windows/desktop/Sync/waitable-timer-objects)Zeit Geber Objekte.</span><span class="sxs-lookup"><span data-stu-id="de0a2-148">For more information about using waitable timer objects for thread synchronization, see [Waitable Timer Objects](/windows/desktop/Sync/waitable-timer-objects).</span></span>

## <a name="related-topics"></a><span data-ttu-id="de0a2-149">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="de0a2-149">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="de0a2-150">Verwenden von Timern</span><span class="sxs-lookup"><span data-stu-id="de0a2-150">Using Timers</span></span>](using-timers.md)
</dt> </dl>

 

 
