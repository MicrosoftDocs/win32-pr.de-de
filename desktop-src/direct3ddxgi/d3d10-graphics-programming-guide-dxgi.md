---
description: 'Dieses Thema enthält folgende Abschnitte:'
ms.assetid: 0522ccbf-e754-470a-8199-004fcbaa927d
title: Übersicht über DXGI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 324a5be26aade17385a6ab0b7d347015497a2a3f
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104481086"
---
# <a name="dxgi-overview"></a><span data-ttu-id="034d2-103">Übersicht über DXGI</span><span class="sxs-lookup"><span data-stu-id="034d2-103">DXGI overview</span></span>

<span data-ttu-id="034d2-104">Die Microsoft DirectX Graphics Infrastructure (DXGI) erkennt, dass sich einige Teile der Grafiken langsamer entwickeln als andere.</span><span class="sxs-lookup"><span data-stu-id="034d2-104">Microsoft DirectX Graphics Infrastructure (DXGI) recognizes that some parts of graphics evolve more slowly than others.</span></span> <span data-ttu-id="034d2-105">Das primäre Ziel von DXGI ist das Verwalten von Aufgaben auf niedriger Ebene, die unabhängig von der DirectX-Grafik Laufzeit sein können.</span><span class="sxs-lookup"><span data-stu-id="034d2-105">The primary goal of DXGI is to manage low-level tasks that can be independent of the DirectX graphics runtime.</span></span> <span data-ttu-id="034d2-106">DXGI bietet ein gemeinsames Framework für zukünftige Grafik Komponenten. die erste Komponente, die DXGI nutzt, ist Microsoft Direct3D 10.</span><span class="sxs-lookup"><span data-stu-id="034d2-106">DXGI provides a common framework for future graphics components; the first component that takes advantage of DXGI is Microsoft Direct3D 10.</span></span>

<span data-ttu-id="034d2-107">In früheren Versionen von Direct3D waren auf Low-Level-Aufgaben wie die Enumeration von Hardware Geräten, das darstellen von gerenderten Frames in einer Ausgabe, das Steuern von Gamma und das Verwalten eines voll Bild Übergangs in der Direct3D-Laufzeit enthalten.</span><span class="sxs-lookup"><span data-stu-id="034d2-107">In previous versions of Direct3D, low-level tasks like enumeration of hardware devices, presenting rendered frames to an output, controlling gamma, and managing a full-screen transition were included in the Direct3D runtime.</span></span> <span data-ttu-id="034d2-108">Diese Aufgaben sind nun in DXGI implementiert.</span><span class="sxs-lookup"><span data-stu-id="034d2-108">These tasks are now implemented in DXGI.</span></span>

<span data-ttu-id="034d2-109">Der Zweck von DXGI besteht darin, mit dem Kernel Modus-Treiber und der System Hardware zu kommunizieren, wie im folgenden Diagramm dargestellt.</span><span class="sxs-lookup"><span data-stu-id="034d2-109">DXGI's purpose is to communicate with the kernel mode driver and the system hardware, as shown in the following diagram.</span></span>

![Diagramm der Kommunikation zwischen Anwendungen, DXGI und Treibern und Hardware](images/dxgi-dll.png)

<span data-ttu-id="034d2-111">Eine Anwendung kann direkt auf DXGI zugreifen oder die Direct3D-APIs in D3D11 \_ 1. h, D3D11. h, d3d10 \_ 1. h oder d3d10. h aufrufen, die die Kommunikation mit DXGI für Sie verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="034d2-111">An application can access DXGI directly, or call the Direct3D APIs in D3D11\_1.h, D3D11.h, D3D10\_1.h, or D3D10.h, which handles the communications with DXGI for you.</span></span> <span data-ttu-id="034d2-112">Möglicherweise möchten Sie DXGI direkt arbeiten, wenn Ihre Anwendung Geräte aufzählen oder Steuern soll, wie Daten in einer Ausgabe dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="034d2-112">You may want to work with DXGI directly if your application needs to enumerate devices or control how data is presented to an output.</span></span>

<span data-ttu-id="034d2-113">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="034d2-113">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="034d2-114">Auflisten von Adaptern</span><span class="sxs-lookup"><span data-stu-id="034d2-114">Enumerating Adapters</span></span>](#enumerating-adapters)
    -   [<span data-ttu-id="034d2-115">Neue Informationen zum Auflisten von Adaptern für Windows 8</span><span class="sxs-lookup"><span data-stu-id="034d2-115">New info about enumerating adapters for Windows 8</span></span>](#new-info-about-enumerating-adapters-for-windows-8)
-   [<span data-ttu-id="034d2-116">Präsentation</span><span class="sxs-lookup"><span data-stu-id="034d2-116">Presentation</span></span>](#presentation)
    -   [<span data-ttu-id="034d2-117">Austausch Kette erstellen</span><span class="sxs-lookup"><span data-stu-id="034d2-117">Create a Swap Chain</span></span>](#create-a-swap-chain)
    -   [<span data-ttu-id="034d2-118">Pflege und Fütterung der SwapChain</span><span class="sxs-lookup"><span data-stu-id="034d2-118">Care and Feeding of the Swap Chain</span></span>](#care-and-feeding-of-the-swap-chain)
    -   [<span data-ttu-id="034d2-119">Bearbeiten der Fenstergröße</span><span class="sxs-lookup"><span data-stu-id="034d2-119">Handling Window Resizing</span></span>](#handling-window-resizing)
    -   [<span data-ttu-id="034d2-120">Auswählen der DXGI-Ausgabe und-Größe</span><span class="sxs-lookup"><span data-stu-id="034d2-120">Choosing the DXGI Output and Size</span></span>](#choosing-the-dxgi-output-and-size)
    -   [<span data-ttu-id="034d2-121">Debuggen im Full-Screen Modus</span><span class="sxs-lookup"><span data-stu-id="034d2-121">Debugging in Full-Screen Mode</span></span>](#debugging-in-full-screen-mode)
    -   [<span data-ttu-id="034d2-122">Zerstören einer austauschkette</span><span class="sxs-lookup"><span data-stu-id="034d2-122">Destroying a Swap Chain</span></span>](#destroying-a-swap-chain)
    -   [<span data-ttu-id="034d2-123">Verwenden eines gedrehten Monitors</span><span class="sxs-lookup"><span data-stu-id="034d2-123">Using a Rotated Monitor</span></span>](#using-a-rotated-monitor)
    -   [<span data-ttu-id="034d2-124">Wechsel Modi</span><span class="sxs-lookup"><span data-stu-id="034d2-124">Switching Modes</span></span>](#switching-modes)
    -   [<span data-ttu-id="034d2-125">Vollbild-Leistungs Tipp</span><span class="sxs-lookup"><span data-stu-id="034d2-125">Full-Screen Performance Tip</span></span>](#full-screen-performance-tip)
    -   [<span data-ttu-id="034d2-126">Überlegungen zum Multithread</span><span class="sxs-lookup"><span data-stu-id="034d2-126">Multithread Considerations</span></span>](#multithread-considerations)
-   [<span data-ttu-id="034d2-127">DXGI-Antworten von DllMain</span><span class="sxs-lookup"><span data-stu-id="034d2-127">DXGI Responses from DLLMain</span></span>](#dxgi-responses-from-dllmain)
-   [<span data-ttu-id="034d2-128">DXGI 1,1-Änderungen</span><span class="sxs-lookup"><span data-stu-id="034d2-128">DXGI 1.1 Changes</span></span>](#dxgi-11-changes)
-   [<span data-ttu-id="034d2-129">DXGI 1,2-Änderungen</span><span class="sxs-lookup"><span data-stu-id="034d2-129">DXGI 1.2 Changes</span></span>](#dxgi-12-changes)
-   [<span data-ttu-id="034d2-130">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="034d2-130">Related topics</span></span>](#related-topics)

<span data-ttu-id="034d2-131">So sehen Sie, welche Formate von Direct3D 11-Hardware unterstützt werden:</span><span class="sxs-lookup"><span data-stu-id="034d2-131">To see which formats are supported by Direct3D 11 hardware:</span></span>

-   [<span data-ttu-id="034d2-132">DXGI-Format Unterstützung für Direct3D Featureebene 12,1 Hardware</span><span class="sxs-lookup"><span data-stu-id="034d2-132">DXGI Format Support for Direct3D Feature Level 12.1 Hardware</span></span>](hardware-support-for-direct3d-12-1-formats.md)
-   [<span data-ttu-id="034d2-133">DXGI-Format Unterstützung für Direct3D Featureebene 12,0 Hardware</span><span class="sxs-lookup"><span data-stu-id="034d2-133">DXGI Format Support for Direct3D Feature Level 12.0 Hardware</span></span>](hardware-support-for-direct3d-12-0-formats.md)
-   [<span data-ttu-id="034d2-134">DXGI-Format Unterstützung für Direct3D Featureebene 11,1 Hardware</span><span class="sxs-lookup"><span data-stu-id="034d2-134">DXGI Format Support for Direct3D Feature Level 11.1 Hardware</span></span>](format-support-for-direct3d-11-1-feature-level-hardware.md)
-   [<span data-ttu-id="034d2-135">DXGI-Format Unterstützung für Direct3D Featureebene 11,0 Hardware</span><span class="sxs-lookup"><span data-stu-id="034d2-135">DXGI Format Support for Direct3D Feature Level 11.0 Hardware</span></span>](format-support-for-direct3d-11-0-feature-level-hardware.md)
-   <span data-ttu-id="034d2-136">[Hardware Unterstützung für Direct3D 10level9-Formate](/previous-versions//ff471324(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="034d2-136">[Hardware Support for Direct3D 10Level9 Formats](/previous-versions//ff471324(v=vs.85))</span></span>
-   <span data-ttu-id="034d2-137">[Hardware Unterstützung für Direct3D 10,1-Formate](/previous-versions//cc627091(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="034d2-137">[Hardware Support for Direct3D 10.1 Formats](/previous-versions//cc627091(v=vs.85))</span></span>
-   <span data-ttu-id="034d2-138">[Hardware Unterstützung für Direct3D 10-Formate](/previous-versions//cc627090(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="034d2-138">[Hardware Support for Direct3D 10 Formats](/previous-versions//cc627090(v=vs.85))</span></span>

## <a name="enumerating-adapters"></a><span data-ttu-id="034d2-139">Auflisten von Adaptern</span><span class="sxs-lookup"><span data-stu-id="034d2-139">Enumerating adapters</span></span>

<span data-ttu-id="034d2-140">Bei einem Adapter handelt es sich um eine Abstraktion der Hardware und der Software Funktion Ihres Computers.</span><span class="sxs-lookup"><span data-stu-id="034d2-140">An adapter is an abstraction of the hardware and the software capability of your computer.</span></span> <span data-ttu-id="034d2-141">Es gibt im Allgemeinen viele Adapter auf Ihrem Computer.</span><span class="sxs-lookup"><span data-stu-id="034d2-141">There are generally many adapters on your machine.</span></span> <span data-ttu-id="034d2-142">Einige Geräte werden in Hardware (z. b. auf Ihrer Grafikkarte) implementiert, und einige sind in Software implementiert (z. b. Direct3D Reference Rasterizer).</span><span class="sxs-lookup"><span data-stu-id="034d2-142">Some devices are implemented in hardware (like your video card) and some are implemented in software (like the Direct3D reference rasterizer).</span></span> <span data-ttu-id="034d2-143">Adapter implementieren Funktionen, die von einer Grafikanwendung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="034d2-143">Adapters implement functionality used by a graphic application.</span></span> <span data-ttu-id="034d2-144">Das folgende Diagramm zeigt ein System mit einem einzelnen Computer, zwei Adaptern (Grafikkarten) und drei Ausgabe Monitoren.</span><span class="sxs-lookup"><span data-stu-id="034d2-144">The following diagram shows a system with a single computer, two adapters (video cards), and three output monitors.</span></span>

![Diagramm eines Computers mit zwei Grafikkarten und drei Monitoren](images/dxgi-terms.png)

<span data-ttu-id="034d2-146">Wenn diese Hardwareteile aufgelistet werden, erstellt DXGI eine [**IDXGIOutput1**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgioutput1) -Schnittstelle für jede Ausgabe (bzw. jeden Monitor) und eine [**IDXGIAdapter2**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgiadapter2) -Schnittstelle für jede Grafikkarte (auch wenn es sich um eine Grafikkarte handelt, die in einem Motherboard integriert ist).</span><span class="sxs-lookup"><span data-stu-id="034d2-146">When enumerating these pieces of hardware, DXGI creates an [**IDXGIOutput1**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgioutput1) interface for each output (or monitor) and an [**IDXGIAdapter2**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgiadapter2) interface for each video card (even if it is a video card built into a motherboard).</span></span> <span data-ttu-id="034d2-147">Die Enumeration erfolgt mithilfe eines [**idxgifactory**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgifactory2) -Schnittstellen Aufrufes [**idxgifactory:: enumadapters**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-enumadapters), um einen Satz von [**idxgi-Adapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) -Schnittstellen zurückzugeben, die die Video Hardware darstellen.</span><span class="sxs-lookup"><span data-stu-id="034d2-147">Enumeration is done by using an [**IDXGIFactory**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgifactory2) interface call, [**IDXGIFactory::EnumAdapters**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-enumadapters), to return a set of [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) interfaces that represent the video hardware.</span></span>

<span data-ttu-id="034d2-148">DXGI 1,1 hat die [**IDXGIFactory1**](/windows/win32/api/DXGI/nn-dxgi-idxgifactory1) -Schnittstelle hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="034d2-148">DXGI 1.1 added the [**IDXGIFactory1**](/windows/win32/api/DXGI/nn-dxgi-idxgifactory1) interface.</span></span> <span data-ttu-id="034d2-149">[**IDXGIFactory1:: EnumAdapters1**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory1-enumadapters1) gibt eine Reihe von [**IDXGIAdapter1**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter1) -Schnittstellen zurück, die die Video Hardware darstellen.</span><span class="sxs-lookup"><span data-stu-id="034d2-149">[**IDXGIFactory1::EnumAdapters1**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory1-enumadapters1) returns a set of [**IDXGIAdapter1**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter1) interfaces that represents the video hardware.</span></span>

<span data-ttu-id="034d2-150">Wenn Sie bei der Verwendung von Direct3D-APIs bestimmte Video Hardwarefunktionen auswählen möchten, empfiehlt es sich, die [**D3D11CreateDevice**](/windows/win32/api/d3d11/nf-d3d11-d3d11createdevice) -Funktion oder die [**D3D11CreateDeviceAndSwapChain**](/windows/win32/api/d3d11/nf-d3d11-d3d11createdeviceandswapchain) -Funktion iterativ mit jedem Adapter Handle und einer möglichen Hardware [Funktionsebene](../direct3d11/overviews-direct3d-11-devices-downlevel-intro.md)aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="034d2-150">If you want to select specific video hardware capabilities when you use Direct3D APIs, we recommend that you iteratively call the [**D3D11CreateDevice**](/windows/win32/api/d3d11/nf-d3d11-d3d11createdevice) or [**D3D11CreateDeviceAndSwapChain**](/windows/win32/api/d3d11/nf-d3d11-d3d11createdeviceandswapchain) function with each adapter handle and possible hardware [feature level](../direct3d11/overviews-direct3d-11-devices-downlevel-intro.md).</span></span> <span data-ttu-id="034d2-151">Diese Funktion ist erfolgreich, wenn die Featureebene vom angegebenen Adapter unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-151">This function succeeds if the feature level is supported by the specified adapter.</span></span>

### <a name="new-info-about-enumerating-adapters-for-windows-8"></a><span data-ttu-id="034d2-152">Neue Informationen zum Auflisten von Adaptern für Windows 8</span><span class="sxs-lookup"><span data-stu-id="034d2-152">New info about enumerating adapters for Windows 8</span></span>

<span data-ttu-id="034d2-153">Ab Windows 8 ist immer ein Adapter mit dem Namen "Microsoft Basic-Rendering-Treiber" vorhanden.</span><span class="sxs-lookup"><span data-stu-id="034d2-153">Starting with Windows 8, an adapter called the "Microsoft Basic Render Driver" is always present.</span></span> <span data-ttu-id="034d2-154">Dieser Adapter weist die VendorID **0x1414** und die DeviceID **0x8c** auf.</span><span class="sxs-lookup"><span data-stu-id="034d2-154">This adapter has a VendorId of **0x1414** and a DeviceID of **0x8c**.</span></span> <span data-ttu-id="034d2-155">Dieser Adapter weist auch den [**\_ \_ \_ Software Wert des DXGI-Adapters**](/windows/win32/api/dxgi/ne-dxgi-dxgi_adapter_flag) auf, der im **Flags** -Member seiner [**DXGI- \_ Adapter \_ DESC2**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_adapter_desc2) -Struktur festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-155">This adapter also has the [**DXGI\_ADAPTER\_FLAG\_SOFTWARE**](/windows/win32/api/dxgi/ne-dxgi-dxgi_adapter_flag) value set in the **Flags** member of its [**DXGI\_ADAPTER\_DESC2**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_adapter_desc2) structure.</span></span> <span data-ttu-id="034d2-156">Bei diesem Adapter handelt es sich um ein nur für das Rendering geschütztes Gerät ohne Anzeige Ausgaben.</span><span class="sxs-lookup"><span data-stu-id="034d2-156">This adapter is a render-only device that has no display outputs.</span></span> <span data-ttu-id="034d2-157">DXGI gibt nie das [**DXGI- \_ Fehler \_ Gerät \_**](dxgi-error.md) zurück, das für diesen Adapter entfernt wurde.</span><span class="sxs-lookup"><span data-stu-id="034d2-157">DXGI never returns [**DXGI\_ERROR\_DEVICE\_REMOVED**](dxgi-error.md) for this adapter.</span></span>

<span data-ttu-id="034d2-158">Wenn der Anzeigetreiber eines Computers nicht funktionsfähig ist oder deaktiviert ist, kann der primäre (**null**) Adapter des Computers auch "Microsoft Basic-Rendering-Treiber" genannt werden.</span><span class="sxs-lookup"><span data-stu-id="034d2-158">If a computer's display driver is not functioning or is disabled, the computer's primary (**NULL**) adapter might also be called "Microsoft Basic Render Driver."</span></span> <span data-ttu-id="034d2-159">Dieser Adapter weist jedoch Ausgaben auf, und der [**\_ \_ \_ Software Wert des DXGI-Adapters**](/windows/win32/api/dxgi/ne-dxgi-dxgi_adapter_flag) wird nicht festgelegt.</span><span class="sxs-lookup"><span data-stu-id="034d2-159">But this adapter has outputs and doesn't have the [**DXGI\_ADAPTER\_FLAG\_SOFTWARE**](/windows/win32/api/dxgi/ne-dxgi-dxgi_adapter_flag) value set.</span></span> <span data-ttu-id="034d2-160">Das Betriebssystem und die apps verwenden diesen Adapter standardmäßig.</span><span class="sxs-lookup"><span data-stu-id="034d2-160">The operating system and apps use this adapter by default.</span></span> <span data-ttu-id="034d2-161">Wenn ein Anzeigetreiber installiert oder aktiviert ist, kann für apps das [**DXGI- \_ Fehler \_ Gerät \_**](dxgi-error.md) für diesen Adapter entfernt werden, und die Adapter müssen erneut erneut aufgelistet werden.</span><span class="sxs-lookup"><span data-stu-id="034d2-161">If a display driver is installed or enabled, apps can receive [**DXGI\_ERROR\_DEVICE\_REMOVED**](dxgi-error.md) for this adapter and then must re-enumerate adapters again.</span></span>

<span data-ttu-id="034d2-162">Wenn der primäre Anzeige Adapter eines Computers der "Microsoft Basic Display Adapter" ([Warp](../direct3d11/overviews-direct3d-11-devices-create-warp.md) -Adapter) ist, verfügt dieser Computer auch über einen zweiten Adapter.</span><span class="sxs-lookup"><span data-stu-id="034d2-162">When a computer's primary display adapter is the "Microsoft Basic Display Adapter" ([WARP](../direct3d11/overviews-direct3d-11-devices-create-warp.md) adapter), that computer also has a second adapter.</span></span> <span data-ttu-id="034d2-163">Bei diesem zweiten Adapter handelt es sich um das reine Rendering-Gerät, das keine Anzeige Ausgaben aufweist und für die DXGI nie das [**DXGI- \_ Fehler \_ Gerät \_**](dxgi-error.md)zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="034d2-163">This second adapter is the render-only device that has no display outputs and for which DXGI never returns [**DXGI\_ERROR\_DEVICE\_REMOVED**](dxgi-error.md).</span></span>

<span data-ttu-id="034d2-164">Wenn Sie Warp für Rendering-, COMPUTE-oder andere Tasks mit langer Ausführungszeit verwenden möchten, empfiehlt es sich, das reine rendergerät zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="034d2-164">If you want to use WARP for rendering, compute, or other long running tasks, we recommend to use the render-only device.</span></span> <span data-ttu-id="034d2-165">Sie können einen Zeiger auf das reine Rendering-Gerät abrufen, indem Sie die [**IDXGIFactory1:: EnumAdapters1**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory1-enumadapters1) -Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="034d2-165">You can obtain a pointer to the render-only device by calling the [**IDXGIFactory1::EnumAdapters1**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory1-enumadapters1) method.</span></span> <span data-ttu-id="034d2-166">Außerdem erstellen Sie das nur-Rendering-Gerät, wenn Sie [**D3D \_ Driver \_ Type \_ Warp**](/windows/win32/api/d3dcommon/ne-d3dcommon-d3d_driver_type) im *DriverType* -Parameter von [**D3D11CreateDevice**](/windows/win32/api/d3d11/nf-d3d11-d3d11createdevice) angeben, da das Warp-Gerät auch den reinen Rendering-Adapter verwendet.</span><span class="sxs-lookup"><span data-stu-id="034d2-166">You also create the render-only device when you specify [**D3D\_DRIVER\_TYPE\_WARP**](/windows/win32/api/d3dcommon/ne-d3dcommon-d3d_driver_type) in the *DriverType* parameter of [**D3D11CreateDevice**](/windows/win32/api/d3d11/nf-d3d11-d3d11createdevice) because the WARP device also uses the render-only WARP adapter.</span></span>

## <a name="presentation"></a><span data-ttu-id="034d2-167">Präsentation</span><span class="sxs-lookup"><span data-stu-id="034d2-167">Presentation</span></span>

<span data-ttu-id="034d2-168">Die Aufgabe Ihrer Anwendung besteht darin, Frames zu renderken und DXGI aufzufordern, diese Frames der Ausgabe anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="034d2-168">Your application's job is to render frames and ask DXGI to present those frames to the output.</span></span> <span data-ttu-id="034d2-169">Wenn für die Anwendung zwei Puffer verfügbar sind, kann Sie einen Puffer darstellen, während eine andere bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-169">If the application has two buffers available, it can render one buffer while presenting another one.</span></span> <span data-ttu-id="034d2-170">Abhängig von der Zeit, die zum Renderingvorgang oder der gewünschten Framerate für die Darstellung benötigt wird, sind für die Anwendung möglicherweise mehr als zwei Puffer erforderlich.</span><span class="sxs-lookup"><span data-stu-id="034d2-170">The application might require more than two buffers depending on the time it takes to render a frame or the desired frame rate for presentation.</span></span> <span data-ttu-id="034d2-171">Die Gruppe der erstellten Puffer wird als SwapChain bezeichnet, wie hier gezeigt.</span><span class="sxs-lookup"><span data-stu-id="034d2-171">The set of buffers created is called a swap chain, as shown here.</span></span>

![Abbildung einer Swapkette](images/dxgi-swap-chain.png)

-   [<span data-ttu-id="034d2-173">Austausch Kette erstellen</span><span class="sxs-lookup"><span data-stu-id="034d2-173">Create a Swap Chain</span></span>](#create-a-swap-chain)
-   [<span data-ttu-id="034d2-174">Pflege und Fütterung der SwapChain</span><span class="sxs-lookup"><span data-stu-id="034d2-174">Care and Feeding of the Swap Chain</span></span>](#care-and-feeding-of-the-swap-chain)
-   [<span data-ttu-id="034d2-175">Bearbeiten der Fenstergröße</span><span class="sxs-lookup"><span data-stu-id="034d2-175">Handling Window Resizing</span></span>](#handling-window-resizing)
-   [<span data-ttu-id="034d2-176">Auswählen der DXGI-Ausgabe und-Größe</span><span class="sxs-lookup"><span data-stu-id="034d2-176">Choosing the DXGI Output and Size</span></span>](#choosing-the-dxgi-output-and-size)
-   [<span data-ttu-id="034d2-177">Debuggen im Full-Screen Modus</span><span class="sxs-lookup"><span data-stu-id="034d2-177">Debugging in Full-Screen Mode</span></span>](#debugging-in-full-screen-mode)
-   [<span data-ttu-id="034d2-178">Zerstören einer austauschkette</span><span class="sxs-lookup"><span data-stu-id="034d2-178">Destroying a Swap Chain</span></span>](#destroying-a-swap-chain)
-   [<span data-ttu-id="034d2-179">Verwenden eines gedrehten Monitors</span><span class="sxs-lookup"><span data-stu-id="034d2-179">Using a Rotated Monitor</span></span>](#using-a-rotated-monitor)
-   [<span data-ttu-id="034d2-180">Wechsel Modi</span><span class="sxs-lookup"><span data-stu-id="034d2-180">Switching Modes</span></span>](#switching-modes)
-   [<span data-ttu-id="034d2-181">Vollbild-Leistungs Tipp</span><span class="sxs-lookup"><span data-stu-id="034d2-181">Full-Screen Performance Tip</span></span>](#full-screen-performance-tip)
-   [<span data-ttu-id="034d2-182">Überlegungen zum Multithread</span><span class="sxs-lookup"><span data-stu-id="034d2-182">Multithread Considerations</span></span>](#multithread-considerations)

<span data-ttu-id="034d2-183">Eine austauschkette verfügt über einen Vorder-und einen oder mehrere Back-Puffer.</span><span class="sxs-lookup"><span data-stu-id="034d2-183">A swap chain has one front buffer and one or more back buffers.</span></span> <span data-ttu-id="034d2-184">Jede Anwendung erstellt eine eigene Austausch Kette.</span><span class="sxs-lookup"><span data-stu-id="034d2-184">Each application creates its own swap chain.</span></span> <span data-ttu-id="034d2-185">Um die Geschwindigkeit der Darstellung der Daten in einer Ausgabe zu maximieren, wird eine Swapkette fast immer im Arbeitsspeicher eines Anzeige Subsystems erstellt, was in der folgenden Abbildung dargestellt ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-185">To maximize the speed of the presentation of the data to an output, a swap chain is almost always created in the memory of a display sub-system, which is shown in the following illustration.</span></span>

![Abbildung eines Anzeige Subsystems](images/dxgi-adapter.png)

<span data-ttu-id="034d2-187">Das Anzeige Subsystem (bei dem es sich häufig um eine Grafikkarte handelt, die jedoch auf einem Motherboard implementiert werden kann) enthält eine GPU, einen Digital-to-Analog-Konverter (DAC) und Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="034d2-187">The display sub-system (which is often a video card but could be implemented on a motherboard) contains a GPU, a digital to analog converter (DAC), and memory.</span></span> <span data-ttu-id="034d2-188">Die Swapkette wird in diesem Arbeitsspeicher zugeordnet, damit die Präsentation sehr schnell ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-188">The swap chain is allocated within this memory to make presentation very fast.</span></span> <span data-ttu-id="034d2-189">Das Anzeige-unter System zeigt die Daten im Vorder Puffer der Ausgabe an.</span><span class="sxs-lookup"><span data-stu-id="034d2-189">The display sub-system presents the data in the front buffer to the output.</span></span>

<span data-ttu-id="034d2-190">Eine SwapChain ist so eingerichtet, dass Sie im Vollbildmodus oder im Fenstermodus gezeichnet wird. dadurch ist es nicht erforderlich, dass Sie wissen, ob es sich um eine Ausgabe oder einen Vollbildmodus handelt.</span><span class="sxs-lookup"><span data-stu-id="034d2-190">A swap chain is set up to draw in full-screen or windowed mode, this eliminates the need to know whether an output is windowed or full screen.</span></span> <span data-ttu-id="034d2-191">Eine Auslagerungs Kette im Vollbild Modus kann die Leistung optimieren, indem die Bildschirmauflösung gewechselt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-191">A full-screen mode swap chain can optimize performance by switching the display resolution.</span></span>

### <a name="create-a-swap-chain"></a><span data-ttu-id="034d2-192">Erstellen einer Swapchain</span><span class="sxs-lookup"><span data-stu-id="034d2-192">Create a swap chain</span></span>

<table>
<colgroup>
<col style="width: 100%" />
</colgroup>
<tbody>
<tr class="odd">
<td><span data-ttu-id="034d2-193">Unterschiede zwischen Direct3D 9 und Direct3D 10: Direct3D 10 sind die erste Grafik Komponente für die Verwendung von dxgi.</span><span class="sxs-lookup"><span data-stu-id="034d2-193">Differences between Direct3D 9 and Direct3D 10: Direct3D 10 is the first graphics component to use DXGI.</span></span> <span data-ttu-id="034d2-194">DXGI weist verschiedene Austausch Ketten Verhalten auf.</span><span class="sxs-lookup"><span data-stu-id="034d2-194">DXGI has some different swap chain behaviors.</span></span><br/>
<ul>
<li><span data-ttu-id="034d2-195">In DXGI ist eine austauschkette an ein Fenster gebunden, wenn die SwapChain erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-195">In DXGI, a swap chain is tied to a window when the swap chain is created.</span></span> <span data-ttu-id="034d2-196">Diese Änderung verbessert die Leistung und spart Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="034d2-196">This change improves performance and saves memory.</span></span> <span data-ttu-id="034d2-197">In früheren Versionen von Direct3D konnte die Swapkette das Fenster ändern, an das die SwapChain gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-197">Previous versions of Direct3D allowed the swap chain to change the window that the swap chain is tied to.</span></span></li>
<li><span data-ttu-id="034d2-198">In DXGI ist eine SwapChain bei der Erstellung an ein renderinggerät gebunden.</span><span class="sxs-lookup"><span data-stu-id="034d2-198">In DXGI, a swap chain is tied to a rendering device on creation.</span></span> <span data-ttu-id="034d2-199">Das von den Direct3D Create Device Functions zurückgegebene Geräte Objekt implementiert die <a href="/windows/win32/api/unknwn/nn-unknwn-iunknown"><strong>IUnknown</strong></a> -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="034d2-199">The device object that the Direct3D create device functions return implements the <a href="/windows/win32/api/unknwn/nn-unknwn-iunknown"><strong>IUnknown</strong></a> interface.</span></span> <span data-ttu-id="034d2-200">Sie können <a href="/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)"><strong>QueryInterface</strong></a> zum Abfragen der entsprechenden <a href="/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgidevice2"><strong>IDXGIDevice2</strong></a> -Schnittstelle des Geräts abrufen.</span><span class="sxs-lookup"><span data-stu-id="034d2-200">You can call <a href="/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)"><strong>QueryInterface</strong></a> to query for the device's corresponding <a href="/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgidevice2"><strong>IDXGIDevice2</strong></a> interface.</span></span> <span data-ttu-id="034d2-201">Eine Änderung am renderinggerät erfordert, dass die Swapkette neu erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-201">A change to the rendering device requires the swap chain to be recreated.</span></span></li>
<li><p><span data-ttu-id="034d2-202">In DXGI sind die Auslagerungs Effekte DXGI_SWAP_EFFECT_DISCARD und DXGI_SWAP_EFFECT_SEQUENTIAL verfügbar.</span><span class="sxs-lookup"><span data-stu-id="034d2-202">In DXGI, the swap effects available are DXGI_SWAP_EFFECT_DISCARD and DXGI_SWAP_EFFECT_SEQUENTIAL.</span></span> <span data-ttu-id="034d2-203">Ab Windows 8 ist auch der DXGI_SWAP_EFFECT_FLIP_SEQUENTIAL Swap-Effekt verfügbar.</span><span class="sxs-lookup"><span data-stu-id="034d2-203">Starting with Windows 8 the DXGI_SWAP_EFFECT_FLIP_SEQUENTIAL swap effect is also available.</span></span> <span data-ttu-id="034d2-204">Die folgende Tabelle zeigt eine Zuordnung von Direct3D 9 zu DXGI-Swap-Effekt definiert.</span><span class="sxs-lookup"><span data-stu-id="034d2-204">The following table shows a mapping of Direct3D 9 to DXGI swap effect defines.</span></span> </p>
<table>
<thead>
<tr class="header">
<th><span data-ttu-id="034d2-205">D3d9 Swap-Effekt</span><span class="sxs-lookup"><span data-stu-id="034d2-205">D3D9 Swap Effect</span></span></th>
<th><span data-ttu-id="034d2-206">DXGI-Swap-Effekt</span><span class="sxs-lookup"><span data-stu-id="034d2-206">DXGI Swap Effect</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="034d2-207">D3DSWAPEFFECT_DISCARD</span><span class="sxs-lookup"><span data-stu-id="034d2-207">D3DSWAPEFFECT_DISCARD</span></span></td>
<td><span data-ttu-id="034d2-208">DXGI_SWAP_EFFECT_DISCARD</span><span class="sxs-lookup"><span data-stu-id="034d2-208">DXGI_SWAP_EFFECT_DISCARD</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="034d2-209">D3DSWAPEFFECT_COPY</span><span class="sxs-lookup"><span data-stu-id="034d2-209">D3DSWAPEFFECT_COPY</span></span></td>
<td><span data-ttu-id="034d2-210">DXGI_SWAP_EFFECT_SEQUENTIAL mit 1 Puffer</span><span class="sxs-lookup"><span data-stu-id="034d2-210">DXGI_SWAP_EFFECT_SEQUENTIAL with 1 buffer</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="034d2-211">D3DSWAPEFFECT_FLIP</span><span class="sxs-lookup"><span data-stu-id="034d2-211">D3DSWAPEFFECT_FLIP</span></span></td>
<td><span data-ttu-id="034d2-212">DXGI_SWAP_EFFECT_SEQUENTIAL mit mindestens zwei Puffern</span><span class="sxs-lookup"><span data-stu-id="034d2-212">DXGI_SWAP_EFFECT_SEQUENTIAL with 2 or more buffers</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="034d2-213">D3DSWAPEFFECT_FLIPEX</span><span class="sxs-lookup"><span data-stu-id="034d2-213">D3DSWAPEFFECT_FLIPEX</span></span></td>
<td><span data-ttu-id="034d2-214">DXGI_SWAP_EFFECT_FLIP_SEQUENTIAL mit mindestens zwei Puffern</span><span class="sxs-lookup"><span data-stu-id="034d2-214">DXGI_SWAP_EFFECT_FLIP_SEQUENTIAL with 2 or more buffers</span></span></td>
</tr>
</tbody>
</table>
<p></p>
<p> </p></li>
</ul></td>
</tr>
</tbody>
</table>



 

<span data-ttu-id="034d2-215">Die Puffer der Swapkette werden in einer bestimmten Größe und in einem bestimmten Format erstellt.</span><span class="sxs-lookup"><span data-stu-id="034d2-215">A swap chain's buffers are created at a particular size and in a particular format.</span></span> <span data-ttu-id="034d2-216">Die Anwendung gibt diese Werte an (oder Sie können die Größe vom Zielfenster erben) beim Start und kann Sie dann optional ändern, wenn sich die Fenstergröße in Reaktion auf Benutzereingaben oder Programm Ereignisse ändert.</span><span class="sxs-lookup"><span data-stu-id="034d2-216">The application specifies these values (or you can inherit the size from the target window) at startup, and can then optionally modify them as the window size changes in response to user input or program events.</span></span>

<span data-ttu-id="034d2-217">Nachdem Sie die SwapChain erstellt haben, möchten Sie in der Regel Bilder in Sie darstellen.</span><span class="sxs-lookup"><span data-stu-id="034d2-217">After you create the swap chain, you will typically want to render images into it.</span></span> <span data-ttu-id="034d2-218">Hier ist ein Code Fragment, das einen Direct3D-Kontext zum Rendering in eine Swapkette einrichtet.</span><span class="sxs-lookup"><span data-stu-id="034d2-218">Here's a code fragment that sets up a Direct3D context to render into a swap chain.</span></span> <span data-ttu-id="034d2-219">Mit diesem Code wird ein Puffer aus der Swapkette extrahiert, eine renderzielansicht aus diesem Puffer erstellt und dann auf dem Gerät festgelegt:</span><span class="sxs-lookup"><span data-stu-id="034d2-219">This code extracts a buffer from the swap chain, creates a render-target-view from that buffer, then sets it on the device:</span></span>


```
ID3D11Resource * pBB;
ThrowFailure( pSwapChain->GetBuffer(0, __uuidof(pBB),    
  reinterpret_cast<void**>(&pBB)), "Couldn't get back buffer");
ID3D11RenderTargetView * pView;
ThrowFailure( pD3D11Device->CreateRenderTargetView(pBB, NULL, &pView), 
  "Couldn't create view" );
pD3D11DeviceContext->OMSetRenderTargets(1, &pView, 0);
        
```



<span data-ttu-id="034d2-220">Nachdem die Anwendung einen Frame in einen Austausch Ketten Puffer gerendert hat, nennen Sie [**IDXGISwapChain1::P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1).</span><span class="sxs-lookup"><span data-stu-id="034d2-220">After your application renders a frame into a swap-chain buffer, call [**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1).</span></span> <span data-ttu-id="034d2-221">Die Anwendung kann dann zum Rendering des nächsten Bilds wechseln.</span><span class="sxs-lookup"><span data-stu-id="034d2-221">The application can then go render the next image.</span></span>

### <a name="care-and-feeding-of-the-swap-chain"></a><span data-ttu-id="034d2-222">Pflege und Fütterung der SwapChain</span><span class="sxs-lookup"><span data-stu-id="034d2-222">Care and feeding of the swap chain</span></span>

<span data-ttu-id="034d2-223">Nachdem Sie das Bild dargestellt haben, rufen Sie [**IDXGISwapChain1::P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) auf, und gehen Sie zum Rendering des nächsten Bilds.</span><span class="sxs-lookup"><span data-stu-id="034d2-223">After you render your image, call [**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) and go render the next image.</span></span> <span data-ttu-id="034d2-224">Das ist das Ausmaß ihrer Verantwortung.</span><span class="sxs-lookup"><span data-stu-id="034d2-224">That is the extent of your responsibility.</span></span>

<span data-ttu-id="034d2-225">Wenn Sie zuvor [**idxgifactory:: makewindowassociation**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-makewindowassociation)aufgerufen haben, kann der Benutzer die Kombination aus Alt-Enter Tasten drücken, und DXGI wechselt zwischen dem Fenstermodus und dem Vollbildmodus.</span><span class="sxs-lookup"><span data-stu-id="034d2-225">If you previously called [**IDXGIFactory::MakeWindowAssociation**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-makewindowassociation), the user can press the Alt-Enter key combination and DXGI will transition your application between windowed and full-screen mode.</span></span> <span data-ttu-id="034d2-226">**Idxgifactory:: makewindowassociation** wird empfohlen, da ein Standard Steuerungsmechanismus für den Benutzer dringend erwünscht ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-226">**IDXGIFactory::MakeWindowAssociation** is recommended, because a standard control mechanism for the user is strongly desired.</span></span>

<span data-ttu-id="034d2-227">Obwohl Sie nicht mehr Code schreiben müssen, als bereits beschrieben wurde, können einige einfache Schritte die reaktionsfähigere Anwendung optimieren.</span><span class="sxs-lookup"><span data-stu-id="034d2-227">While you don't have to write any more code than has been described, a few simple steps can make your application more responsive.</span></span> <span data-ttu-id="034d2-228">Der wichtigste Aspekt ist die Größe der Puffer der Swapkette als Reaktion auf die Größe des Ausgabe Fensters.</span><span class="sxs-lookup"><span data-stu-id="034d2-228">The most important consideration is the resizing of the swap chain's buffers in response to the resizing of the output window.</span></span> <span data-ttu-id="034d2-229">Natürlich besteht die beste Route der Anwendung darin, auf die WM-Größe zu reagieren \_ und [**idxgiswapchain:: resizebuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers)aufzurufen und die in den Parametern der Nachricht enthaltene Größe zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="034d2-229">Naturally, the application's best route is to respond to WM\_SIZE, and call [**IDXGISwapChain::ResizeBuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers), passing the size contained in the message's parameters.</span></span> <span data-ttu-id="034d2-230">Durch dieses Verhalten wird Ihre Anwendung offensichtlich für den Benutzer gut reagieren, wenn Sie die Rahmen des Fensters zieht, aber auch genau, was einen reibungslosen voll Bild Übergang ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="034d2-230">This behavior obviously makes your application respond well to the user when he or she drags the window's borders, but it is also exactly what enables a smooth full-screen transition.</span></span> <span data-ttu-id="034d2-231">\_Wenn ein solcher Übergang stattfindet, erhält Ihr Fenster eine WM-Größen Meldung, und der Aufruf von **idxgiswapchain:: resizebuffers** ist die Möglichkeit, den Pufferspeicher für eine optimale Darstellung neu zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="034d2-231">Your window will receive a WM\_SIZE message whenever such a transition happens, and calling **IDXGISwapChain::ResizeBuffers** is the swap chain's chance to re-allocate the buffers' storage for optimal presentation.</span></span> <span data-ttu-id="034d2-232">Aus diesem Grund ist es erforderlich, dass die Anwendung alle Verweise auf den vorhandenen Puffern freigibt, bevor Sie **idxgiswapchain:: resizebuffers** aufruft.</span><span class="sxs-lookup"><span data-stu-id="034d2-232">This is why the application is required to release any references it has on the existing buffers before it calls **IDXGISwapChain::ResizeBuffers**.</span></span>

<span data-ttu-id="034d2-233">Wenn Sie [**idxgiswapchain:: resizebuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) nicht als Reaktion auf den Vollbildmodus aufrufen, \_ kann die Optimierung des flippens durch DXGI, das in der Antwort auf die WM-Größe am meisten angezeigt wird, die Optimierung des flippens ausschließen, wobei DXGI einfach austauschen kann, welcher Puffer angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-233">Failure to call [**IDXGISwapChain::ResizeBuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) in response to switching to full-screen mode (most naturally, in response to WM\_SIZE), can preclude the optimization of flipping, wherein DXGI can simply swap which buffer is being displayed, rather than copying a full screen's worth of data around.</span></span>

<span data-ttu-id="034d2-234">[**IDXGISwapChain1: in:P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) werden Sie informiert, wenn Ihr Ausgabefenster vollständig über den **DXGI- \_ Status " \_ okded**" verdeckt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-234">[**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) will inform you if your output window is entirely occluded via **DXGI\_STATUS\_OCCLUDED**.</span></span> <span data-ttu-id="034d2-235">Wenn dies auftritt, wird empfohlen, dass Ihre Anwendung in den Standbymodus wechselt (durch Aufrufen von **IDXGISwapChain1::P resent1** mit **DXGI \_ Present \_ Test**), da die zum Renderingvorgang verwendeten Ressourcen verschwendet werden.</span><span class="sxs-lookup"><span data-stu-id="034d2-235">When this occurs, we recommended that your application go into standby mode (by calling **IDXGISwapChain1::Present1** with **DXGI\_PRESENT\_TEST**) since resources used to render the frame are wasted.</span></span> <span data-ttu-id="034d2-236">Die Verwendung von **DXGI \_ Present- \_ Test** verhindert, dass Daten angezeigt werden, während die Okklusions Prüfung weiterhin durchgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-236">Using **DXGI\_PRESENT\_TEST** will prevent any data from being presented while still performing the occlusion check.</span></span> <span data-ttu-id="034d2-237">**IDXGISwapChain1::P resent1** gibt S \_ OK zurück, Sie sollten den Standbymodus beenden. verwenden Sie den Rückgabecode nicht zum Wechseln in den Standbymodus, da dies dazu führen kann, dass die Swapkette den Vollbildmodus nicht verlassen kann.</span><span class="sxs-lookup"><span data-stu-id="034d2-237">Once **IDXGISwapChain1::Present1** returns S\_OK, you should exit standby mode; do not use the return code to switch to standby mode as doing so can leave the swap chain unable to relinquish full-screen mode.</span></span>

<span data-ttu-id="034d2-238">Die Direct3D 11,1-Laufzeit, die ab Windows 8 verfügbar ist, stellt eine **Swapkette** für das Flip-Modell bereit (d. h. eine Swapkette mit dem [**DXGI- \_ Swap- \_ \_ \_ Effekt**](/windows/win32/api/DXGI/ne-dxgi-dxgi_swap_effect) ), die im SwapEffect-Member der [**DXGI-Swap- \_ \_ Kette \_ DESC**](/windows/win32/api/DXGI/ns-dxgi-dxgi_swap_chain_desc) oder [**DXGI- \_ SwapChain \_ \_ DESC1**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_swap_chain_desc1)festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-238">The Direct3D 11.1 runtime, which is available starting with Windows 8, provides a flip-model swap chain (that is, a swap chain that has the [**DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL**](/windows/win32/api/DXGI/ne-dxgi-dxgi_swap_effect) value set in the **SwapEffect** member of [**DXGI\_SWAP\_CHAIN\_DESC**](/windows/win32/api/DXGI/ns-dxgi-dxgi_swap_chain_desc) or [**DXGI\_SWAP\_CHAIN\_DESC1**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_swap_chain_desc1)).</span></span> <span data-ttu-id="034d2-239">Wenn Sie Frames für eine Ausgabe mit einer Swapkette mit einem Flip-Modell darstellen, hebt DXGI die Bindung des Back Puffers an allen Pipeline Zustands Positionen auf, wie z. b. ein Renderziel für die Ausgabe Zusammenführung, das in den Hintergrund Puffer 0 schreibt.</span><span class="sxs-lookup"><span data-stu-id="034d2-239">When you present frames to an output with a flip-model swap chain, DXGI unbinds the back buffer from all pipeline state locations, like an output-merger render target, that write to back buffer 0.</span></span> <span data-ttu-id="034d2-240">Daher empfiehlt es sich, [**Verknüpfung id3d11devicecontext aus:: omstrendertargets**](/windows/win32/api/d3d11/nf-d3d11-id3d11devicecontext-omsetrendertargets) direkt vor dem renderingzeichen in den Hintergrund Puffer aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="034d2-240">Therefore, we recommend that you call [**ID3D11DeviceContext::OMSetRenderTargets**](/windows/win32/api/d3d11/nf-d3d11-id3d11devicecontext-omsetrendertargets) immediately before you render to the back buffer.</span></span> <span data-ttu-id="034d2-241">Nennen Sie z. b. nicht **omstrendertargets** , und führen Sie dann Compute-shaderaufgaben aus, die das Rendering der Ressource nicht beenden.</span><span class="sxs-lookup"><span data-stu-id="034d2-241">For example, don't call **OMSetRenderTargets** and then perform compute shader work that doesn't end up rendering to the resource.</span></span> <span data-ttu-id="034d2-242">Weitere Informationen zu Austausch Ketten von Flip-Modellen und deren Vorteilen finden Sie unter [DXGI Flip Model](dxgi-flip-model.md).</span><span class="sxs-lookup"><span data-stu-id="034d2-242">For more info about flip-model swap chains and their benefits, see [DXGI Flip Model](dxgi-flip-model.md).</span></span>

> [!NOTE]  
> <span data-ttu-id="034d2-243">In Direct3D 10 und Direct3D 11 müssen Sie [**idxgiswapchain:: GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer) nicht aufrufen, um den Puffer 0 abzurufen, nachdem Sie [**IDXGISwapChain1::P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) aufgerufen haben, da sich die Identitäten von backpuffern aus Gründen der Gewohnheit ändern.</span><span class="sxs-lookup"><span data-stu-id="034d2-243">In Direct3D 10 and Direct3D 11, you don't have to call [**IDXGISwapChain::GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer) to retrieve back buffer 0 after you call [**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) because for convenience the identities of back buffers change.</span></span> <span data-ttu-id="034d2-244">Dies geschieht in Direct3D 12 nicht, und Ihre Anwendung muss stattdessen die Puffer Indizes manuell nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="034d2-244">This doesn't happen in Direct3D 12, and your application must instead manually track back buffer indices.</span></span>

### <a name="handling-window-resizing"></a><span data-ttu-id="034d2-245">Bearbeiten der Fenstergröße</span><span class="sxs-lookup"><span data-stu-id="034d2-245">Handling window resizing</span></span>

<span data-ttu-id="034d2-246">Zum Verarbeiten der Fenstergröße können Sie die [**idxgiswapchain:: resizebuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) -Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="034d2-246">You can use the [**IDXGISwapChain::ResizeBuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) method to handle window resizing.</span></span> <span data-ttu-id="034d2-247">Vor dem Aufrufen von **resizebuffers** müssen Sie alle ausstehenden Verweise auf die Puffer der Austausch Kette freigeben.</span><span class="sxs-lookup"><span data-stu-id="034d2-247">Before you call **ResizeBuffers**, you must release all outstanding references to the swap chain's buffers.</span></span> <span data-ttu-id="034d2-248">Das Objekt, das in der Regel einen Verweis auf den Puffer einer Swapkette enthält, ist eine renderzielansicht.</span><span class="sxs-lookup"><span data-stu-id="034d2-248">The object that typically holds a reference to a swap chain's buffer is a render-target-view.</span></span>

<span data-ttu-id="034d2-249">Der folgende Beispielcode zeigt, wie [**resizebuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) innerhalb des WindowProc-Handlers für WM- \_ Größen Meldungen aufgerufen werden:</span><span class="sxs-lookup"><span data-stu-id="034d2-249">The following example code shows how to call [**ResizeBuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) from within the WindowProc handler for WM\_SIZE messages:</span></span>


```
    case WM_SIZE:
        if (g_pSwapChain)
        {
            g_pd3dDeviceContext->OMSetRenderTargets(0, 0, 0);

            // Release all outstanding references to the swap chain's buffers.
            g_pRenderTargetView->Release();

            HRESULT hr;
            // Preserve the existing buffer count and format.
            // Automatically choose the width and height to match the client rect for HWNDs.
            hr = g_pSwapChain->ResizeBuffers(0, 0, 0, DXGI_FORMAT_UNKNOWN, 0);
                                            
            // Perform error handling here!

            // Get buffer and create a render-target-view.
            ID3D11Texture2D* pBuffer;
            hr = g_pSwapChain->GetBuffer(0, __uuidof( ID3D11Texture2D),
                                         (void**) &pBuffer );
            // Perform error handling here!

            hr = g_pd3dDevice->CreateRenderTargetView(pBuffer, NULL,
                                                     &g_pRenderTargetView);
            // Perform error handling here!
            pBuffer->Release();

            g_pd3dDeviceContext->OMSetRenderTargets(1, &g_pRenderTargetView, NULL );

            // Set up the viewport.
            D3D11_VIEWPORT vp;
            vp.Width = width;
            vp.Height = height;
            vp.MinDepth = 0.0f;
            vp.MaxDepth = 1.0f;
            vp.TopLeftX = 0;
            vp.TopLeftY = 0;
            g_pd3dDeviceContext->RSSetViewports( 1, &vp );
        }
        return 1;
```



### <a name="choosing-the-dxgi-output-and-size"></a><span data-ttu-id="034d2-250">Auswählen der DXGI-Ausgabe und-Größe</span><span class="sxs-lookup"><span data-stu-id="034d2-250">Choosing the DXGI output and size</span></span>

<span data-ttu-id="034d2-251">Standardmäßig wählt DXGI die Ausgabe aus, die den größten Teil des Client Bereichs des Fensters enthält.</span><span class="sxs-lookup"><span data-stu-id="034d2-251">By default, DXGI chooses the output that contains most of the client area of the window.</span></span> <span data-ttu-id="034d2-252">Dies ist die einzige Option, die für DXGI verfügbar ist, wenn Sie als Reaktion auf Alt + Eingabe den Vollbildmodus selbst durchläuft.</span><span class="sxs-lookup"><span data-stu-id="034d2-252">This is the only option available to DXGI when it goes full-screen itself in response to alt-enter.</span></span> <span data-ttu-id="034d2-253">Wenn die Anwendung den Vollbildmodus alleine wechselt, kann Sie [**idxgiswapchain:: setfullscreenstate**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate) aufrufen und einen expliziten [**IDXGIOutput1**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgioutput1) (oder **null**) übergeben, wenn die Anwendung die DXGI-Entscheidung überlassen möchte.</span><span class="sxs-lookup"><span data-stu-id="034d2-253">If the application chooses to go to full-screen mode by itself, then it can call [**IDXGISwapChain::SetFullscreenState**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate) and pass an explicit [**IDXGIOutput1**](/windows/win32/api/DXGI1_2/nn-dxgi1_2-idxgioutput1) (or **NULL**, if the application is happy to let DXGI decide).</span></span>

<span data-ttu-id="034d2-254">Um die Größe der Ausgabe während des voll Bildschirms oder des Fensters zu ändern, wird empfohlen, [**idxgiswapchain:: resizetarget**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizetarget)aufzurufen, da diese Methode auch die Größe des Zielfensters ändert.</span><span class="sxs-lookup"><span data-stu-id="034d2-254">To resize the output while either full screen or windowed, we recommend to call [**IDXGISwapChain::ResizeTarget**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizetarget), since this method resizes the target window also.</span></span> <span data-ttu-id="034d2-255">Da die Größe des Zielfensters geändert wird, sendet das Betriebssystem die **WM- \_ Größe**, und Ihr Code ruft in der Antwort auf natürliche Weise [**idxgiswapchain:: resizebuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) auf.</span><span class="sxs-lookup"><span data-stu-id="034d2-255">Since the target window is resized, the operating system sends **WM\_SIZE**, and your code will naturally call [**IDXGISwapChain::ResizeBuffers**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) in response.</span></span> <span data-ttu-id="034d2-256">Es ist daher eine Verschwendung von Aufwand, die Größe der Puffer zu ändern und anschließend die Größe des Ziels zu ändern.</span><span class="sxs-lookup"><span data-stu-id="034d2-256">It's thus a waste of effort to resize your buffers, and then subsequently resize the target.</span></span>

### <a name="debugging-in-full-screen-mode"></a><span data-ttu-id="034d2-257">Debuggen im Vollbildmodus</span><span class="sxs-lookup"><span data-stu-id="034d2-257">Debugging in full-screen mode</span></span>

<span data-ttu-id="034d2-258">Eine DXGI-SwapChain gibt den Vollbildmodus nur dann zurück, wenn dies unbedingt erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-258">A DXGI swap chain relinquishes full-screen mode only when absolutely necessary.</span></span> <span data-ttu-id="034d2-259">Dies bedeutet, dass Sie eine Vollbildanwendung mithilfe mehrerer Monitore Debuggen können, solange sich das Debuggingfenster nicht mit dem Zielfenster der Austausch Kette überschneidet.</span><span class="sxs-lookup"><span data-stu-id="034d2-259">This means that you can debug a full-screen application using multiple monitors, as long as the debug window doesn't overlap the swap chain's target window.</span></span> <span data-ttu-id="034d2-260">Alternativ können Sie den Modus für den Modus vermeiden, indem Sie das switchflag für das **DXGI- \_ \_ SwapChain- \_ Flag \_ zulassen \_ \_** nicht festlegen.</span><span class="sxs-lookup"><span data-stu-id="034d2-260">Alternatively, you can prevent mode switching altogether by not setting the **DXGI\_SWAP\_CHAIN\_FLAG\_ALLOW\_MODE\_SWITCH** flag.</span></span>

<span data-ttu-id="034d2-261">Wenn der Moduswechsel zulässig ist, gibt eine Austausch Kette den Vollbildmodus aus, sobald das Ausgabefenster von einem anderen Fenster ausgeblendet wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-261">If mode switching is allowed, a swap chain will relinquish full-screen mode whenever its output window is occluded by another window.</span></span> <span data-ttu-id="034d2-262">Die Okklusions Überprüfung wird bei [**IDXGISwapChain1::P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1)oder einem separaten Thread ausgeführt, dessen Zweck darin besteht, festzustellen, ob die Anwendung nicht mehr reagiert (und **IDXGISwapChain1::P resent1**) nicht mehr aufruft.</span><span class="sxs-lookup"><span data-stu-id="034d2-262">The occlusion check is performed during [**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1), or by a separate thread whose purpose is to watch to see if the application has becomes unresponsive (and no longer calls **IDXGISwapChain1::Present1**).</span></span> <span data-ttu-id="034d2-263">Legen Sie den folgenden Registrierungsschlüssel auf einen Wert ungleich 0 (null) fest, um die Fähigkeit des separaten Threads zu deaktivieren, einen Switch auszulösen.</span><span class="sxs-lookup"><span data-stu-id="034d2-263">To disable the ability of the separate thread to cause a switch, set the following registry key to any non-zero value.</span></span>

<span data-ttu-id="034d2-264">**HKCU \\ Software \\ Microsoft \\ DXGI \\ disablefullscreenwatchdog**</span><span class="sxs-lookup"><span data-stu-id="034d2-264">**HKCU\\Software\\Microsoft\\DXGI\\DisableFullscreenWatchdog**</span></span>

### <a name="destroying-a-swap-chain"></a><span data-ttu-id="034d2-265">Zerstören einer austauschkette</span><span class="sxs-lookup"><span data-stu-id="034d2-265">Destroying a swap chain</span></span>

<span data-ttu-id="034d2-266">Eine SwapChain kann nicht im Vollbildmodus freigegeben werden, da dadurch Thread Konflikte entstehen können (was dazu führt, dass DXGI eine nicht fort Setz Bare Ausnahme auslöst).</span><span class="sxs-lookup"><span data-stu-id="034d2-266">You may not release a swap chain in full-screen mode because doing so may create thread contention (which will cause DXGI to raise a non-continuable exception).</span></span> <span data-ttu-id="034d2-267">Wechseln Sie vor dem Freigeben einer austauschkette zuerst in den Fenstermodus (mit [**idxgiswapchain:: setfullscreenstate**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate)( **false**, **null** )), und nennen Sie dann [**IUnknown:: Release**](/windows/win32/api/unknwn/nf-unknwn-iunknown-release).</span><span class="sxs-lookup"><span data-stu-id="034d2-267">Before releasing a swap chain, first switch to windowed mode (using [**IDXGISwapChain::SetFullscreenState**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate)( **FALSE**, **NULL** )) and then call [**IUnknown::Release**](/windows/win32/api/unknwn/nf-unknwn-iunknown-release).</span></span>

### <a name="using-a-rotated-monitor"></a><span data-ttu-id="034d2-268">Verwenden eines gedrehten Monitors</span><span class="sxs-lookup"><span data-stu-id="034d2-268">Using a rotated monitor</span></span>

<span data-ttu-id="034d2-269">Eine Anwendung muss sich nicht um die Monitor Ausrichtung kümmern, da DXGI bei Bedarf während der Präsentation einen Austausch Ketten Puffer rotiert.</span><span class="sxs-lookup"><span data-stu-id="034d2-269">An application does not need to worry about monitor orientation, DXGI will rotate a swap-chain buffer during presentation, if necessary.</span></span> <span data-ttu-id="034d2-270">Natürlich kann sich diese zusätzliche Rotation auf die Leistung auswirken.</span><span class="sxs-lookup"><span data-stu-id="034d2-270">Of course, this additional rotation can impact performance.</span></span> <span data-ttu-id="034d2-271">Um eine optimale Leistung zu erzielen, führen Sie die Rotation in der Anwendung aus, indem Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="034d2-271">For best performance, take care of the rotation in your application by doing the following:</span></span>

-   <span data-ttu-id="034d2-272">Verwenden Sie das **DXGI- \_ \_ SwapChain- \_ Flag \_ nicht vorab**.</span><span class="sxs-lookup"><span data-stu-id="034d2-272">Use the **DXGI\_SWAP\_CHAIN\_FLAG\_NONPREROTATED**.</span></span> <span data-ttu-id="034d2-273">Dadurch wird DXGI benachrichtigt, dass die Anwendung ein gedrehtes Bild erzeugt (z. b. durch Ändern der Projektions Matrix).</span><span class="sxs-lookup"><span data-stu-id="034d2-273">This notifies DXGI that the application will produce a rotated image (for example, by altering its projection matrix).</span></span> <span data-ttu-id="034d2-274">Beachten Sie, dass dieses Flag nur im Vollbildmodus gültig ist.</span><span class="sxs-lookup"><span data-stu-id="034d2-274">One thing to note, this flag is only valid while in full-screen mode.</span></span>
-   <span data-ttu-id="034d2-275">Weisen Sie jeden SwapChain-Puffer in seine gedrehte Größe zu.</span><span class="sxs-lookup"><span data-stu-id="034d2-275">Allocate each swap-chain buffer in its rotated size.</span></span> <span data-ttu-id="034d2-276">Verwenden Sie [**idxgioutput:: getdesc**](/windows/win32/api/DXGI/nf-dxgi-idxgioutput-getdesc) , um diese Werte ggf. zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="034d2-276">Use [**IDXGIOutput::GetDesc**](/windows/win32/api/DXGI/nf-dxgi-idxgioutput-getdesc) to get these values, if necessary.</span></span>

<span data-ttu-id="034d2-277">Durch Ausführen der Drehung in der Anwendung führt DXGI einfach eine Kopie anstelle einer Kopie und einer Drehung aus.</span><span class="sxs-lookup"><span data-stu-id="034d2-277">By performing the rotation in your application, DXGI will simply do a copy instead of a copy and a rotate.</span></span>

<span data-ttu-id="034d2-278">Die Direct3D 11,1-Laufzeit, die ab Windows 8 verfügbar ist, stellt eine Swapkette für das Flip-Modell bereit (d. h. eine Swapkette mit dem [**DXGI- \_ Swap- \_ Effekt \_ \_**](/windows/win32/api/DXGI/ne-dxgi-dxgi_swap_effect) , die im **SwapEffect** -Member der [**DXGI- \_ \_ SwapChain \_ DESC1**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_swap_chain_desc1)festgelegt ist).</span><span class="sxs-lookup"><span data-stu-id="034d2-278">The Direct3D 11.1 runtime, which is available starting with Windows 8, provides a flip-model swap chain (that is, a swap chain that has the [**DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL**](/windows/win32/api/DXGI/ne-dxgi-dxgi_swap_effect) value set in the **SwapEffect** member of [**DXGI\_SWAP\_CHAIN\_DESC1**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_swap_chain_desc1)).</span></span> <span data-ttu-id="034d2-279">Um die Präsentations Optimierungen zu maximieren, die mit einer Swapkette für das Kippen von Modellen verfügbar sind, empfiehlt es sich, dass Sie die Inhalte Ihrer Anwendungen entsprechend der jeweiligen Ausgabe ausrichten, auf der sich der Inhalt befindet, wenn der Inhalt die Ausgabe vollständig einnimmt.</span><span class="sxs-lookup"><span data-stu-id="034d2-279">To maximize the presentation optimizations available with a flip-model swap chain, we recommend that you make your applications orient content to match the particular output on which the content resides when that content fully occupies the output.</span></span> <span data-ttu-id="034d2-280">Weitere Informationen zu Austausch Ketten von Flip-Modellen und deren Vorteilen finden Sie unter [DXGI Flip Model](dxgi-flip-model.md).</span><span class="sxs-lookup"><span data-stu-id="034d2-280">For more info about flip-model swap chains and their benefits, see [DXGI Flip Model](dxgi-flip-model.md).</span></span>

### <a name="switching-modes"></a><span data-ttu-id="034d2-281">Wechsel Modi</span><span class="sxs-lookup"><span data-stu-id="034d2-281">Switching modes</span></span>

<span data-ttu-id="034d2-282">Die DXGI-Swapkette kann den Anzeigemodus einer Ausgabe beim Durchführen eines voll Bild Wechsels ändern.</span><span class="sxs-lookup"><span data-stu-id="034d2-282">The DXGI swap chain might change the display mode of an output when making a full-screen transition.</span></span> <span data-ttu-id="034d2-283">Um die Änderung des automatischen Anzeigemodus zu aktivieren, müssen Sie in der Beschreibung der Austausch Kette **DXGI-Schalter für den Zulassungs \_ \_ \_ \_ \_ \_ Modus zulassen** angeben.</span><span class="sxs-lookup"><span data-stu-id="034d2-283">To enable the automatic display mode change, you must specify **DXGI\_SWAP\_CHAIN\_FLAG\_ALLOW\_MODE\_SWITCH** in the swap-chain description.</span></span> <span data-ttu-id="034d2-284">Wenn sich der Anzeigemodus automatisch ändert, wählt DXGI den grundlegendsten Modus aus (Größe und Auflösung werden nicht geändert, aber die Farbtiefe kann).</span><span class="sxs-lookup"><span data-stu-id="034d2-284">If the display mode automatically changes, DXGI will choose the most modest mode (size and resolution will not change, but the color depth may).</span></span> <span data-ttu-id="034d2-285">Das Ändern der Größe von Swap-Ketten Puffern führt nicht zu einem Modusschalter.</span><span class="sxs-lookup"><span data-stu-id="034d2-285">Resizing swap chain buffers will not cause a mode switch.</span></span> <span data-ttu-id="034d2-286">Die SwapChain gibt eine implizite Zusage aus, dass bei Auswahl eines Back Puffers, der genau mit einem von der Ziel Ausgabe unterstützten Anzeigemodus übereinstimmt, zu diesem Anzeigemodus gewechselt wird, wenn in den Vollbildmodus für die Ausgabe gewechselt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-286">The swap chain makes an implicit promise that if you choose a back buffer that exactly matches a display mode supported by the target output, then it will switch to that display mode when entering full-screen mode on that output.</span></span> <span data-ttu-id="034d2-287">Folglich wählen Sie einen Anzeigemodus aus, indem Sie die Größe und das Format des Hintergrund Puffers auswählen.</span><span class="sxs-lookup"><span data-stu-id="034d2-287">Consequently, you choose a display mode by choosing your back buffer size and format.</span></span>

### <a name="full-screen-performance-tip"></a><span data-ttu-id="034d2-288">Vollbild-Leistungs Tipp</span><span class="sxs-lookup"><span data-stu-id="034d2-288">Full-screen performance tip</span></span>

<span data-ttu-id="034d2-289">Wenn Sie [**IDXGISwapChain1::P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) auf einer Vollbildanwendung aufzurufen, schaltet die Swapkette den Inhalt des Hintergrund Puffers in den Vordergrund Puffer um (im Gegensatz zu Blits).</span><span class="sxs-lookup"><span data-stu-id="034d2-289">When you call [**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) on a full-screen application, the swap chain flips (as opposed to blits) the contents of the back buffer to the front buffer.</span></span> <span data-ttu-id="034d2-290">Hierfür ist es erforderlich, dass die Swapkette mithilfe eines aufgelisteten Anzeigemodus (angegeben in der [**DXGI- \_ \_ SwapChain \_ DESC1**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_swap_chain_desc1)) erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="034d2-290">This requires that the swap chain was created by using an enumerated display mode (specified in [**DXGI\_SWAP\_CHAIN\_DESC1**](/windows/win32/api/DXGI1_2/ns-dxgi1_2-dxgi_swap_chain_desc1)).</span></span> <span data-ttu-id="034d2-291">Wenn Sie die Anzeigemodi nicht aufzählen oder den Anzeigemodus fälschlicherweise in der Beschreibung angeben, kann die Swapkette stattdessen eine Bitblock Übertragung (Bitblock Transfer, BitBLT) durchführen.</span><span class="sxs-lookup"><span data-stu-id="034d2-291">If you fail to enumerate display modes, or incorrectly specify the display mode in the description, the swap chain may perform a bit-block transfer (bitblt) instead.</span></span> <span data-ttu-id="034d2-292">Das BitBLT bewirkt eine zusätzliche streckungs Kopie sowie eine bessere Auslastung des Video Speichers und ist schwer zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="034d2-292">The bitblt causes an extra stretching copy as well as some increased video memory usage, and is difficult to detect.</span></span> <span data-ttu-id="034d2-293">Um dieses Problem zu vermeiden, müssen Sie die Anzeigemodi aufzählen und die Beschreibung der Austausch Kette ordnungsgemäß initialisieren, bevor Sie die SwapChain erstellen.</span><span class="sxs-lookup"><span data-stu-id="034d2-293">To avoid this problem, enumerate display modes, and initialize the swap chain description correctly before you create the swap chain.</span></span> <span data-ttu-id="034d2-294">Dies gewährleistet eine maximale Leistung beim Kippen im Vollbildmodus und vermeidet zusätzlichen Speicher Mehraufwand.</span><span class="sxs-lookup"><span data-stu-id="034d2-294">This will ensure maximum performance when flipping in full-screen mode and avoid the extra memory overhead.</span></span>

### <a name="multithread-considerations"></a><span data-ttu-id="034d2-295">Überlegungen zum Multithread</span><span class="sxs-lookup"><span data-stu-id="034d2-295">Multithread considerations</span></span>

<span data-ttu-id="034d2-296">Wenn Sie DXGI in einer Anwendung mit mehreren Threads verwenden, müssen Sie darauf achten, das Erstellen eines Deadlocks zu vermeiden, bei dem zwei verschiedene Threads aufeinander warten.</span><span class="sxs-lookup"><span data-stu-id="034d2-296">When you use DXGI in an application with multiple threads, you need to be careful to avoid creating a deadlock, where two different threads are waiting on each other to complete.</span></span> <span data-ttu-id="034d2-297">Es gibt zwei Situationen, in denen dies vorkommen kann.</span><span class="sxs-lookup"><span data-stu-id="034d2-297">There are two situations where this can occur.</span></span>

-   <span data-ttu-id="034d2-298">Der Renderingthread ist nicht der Nachrichten Pump Thread.</span><span class="sxs-lookup"><span data-stu-id="034d2-298">The rendering thread is not the message-pump thread.</span></span>
-   <span data-ttu-id="034d2-299">Der Thread, der eine DXGI-API ausführt, ist nicht derselbe Thread, der das Fenster erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="034d2-299">The thread executing a DXGI API is not the same thread that created the window.</span></span>

<span data-ttu-id="034d2-300">Achten Sie darauf, dass der Message-Pump-Thread nie auf den Renderthread wartet, wenn Sie voll Bildaustausch Ketten verwenden.</span><span class="sxs-lookup"><span data-stu-id="034d2-300">Be careful that you never have the message-pump thread wait on the render thread when you use full-screen swap chains.</span></span> <span data-ttu-id="034d2-301">Beispielsweise kann das Aufrufen von [**IDXGISwapChain1::P resent1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) (vom Renderthread) bewirken, dass der Renderthread auf den nachrichtenpump Thread wartet.</span><span class="sxs-lookup"><span data-stu-id="034d2-301">For instance, calling [**IDXGISwapChain1::Present1**](/windows/win32/api/DXGI1_2/nf-dxgi1_2-idxgiswapchain1-present1) (from the render thread) may cause the render thread to wait on the message-pump thread.</span></span> <span data-ttu-id="034d2-302">Wenn eine Modusänderung auftritt, ist dieses Szenario möglich, wenn **Present1** Folgendes aufruft:: SetWindowPos () oder:: setwindowstyle () und eine der folgenden Methoden aufrufen:: SendMessage ().</span><span class="sxs-lookup"><span data-stu-id="034d2-302">When a mode change occurs, this scenario is possible if **Present1** calls ::SetWindowPos() or ::SetWindowStyle() and either of these methods call ::SendMessage().</span></span> <span data-ttu-id="034d2-303">Wenn in diesem Szenario der Nachrichten Pump Thread über einen kritischen Abschnitt verfügt, in dem er sich befindet, oder wenn der Renderthread blockiert wird, werden die beiden Threads Deadlock.</span><span class="sxs-lookup"><span data-stu-id="034d2-303">In this scenario, if the message-pump thread has a critical section guarding it or if the render thread is blocked, then the two threads will deadlock.</span></span>

<span data-ttu-id="034d2-304">Weitere Informationen zur Verwendung von DXGI mit mehreren Threads finden Sie unter [Multithreading und DXGI](../direct3d11/overviews-direct3d-11-render-multi-thread-intro.md).</span><span class="sxs-lookup"><span data-stu-id="034d2-304">For more info about using DXGI with multiple threads, see [Multithreading and DXGI](../direct3d11/overviews-direct3d-11-render-multi-thread-intro.md).</span></span>

## <a name="dxgi-responses-from-dllmain"></a><span data-ttu-id="034d2-305">DXGI-Antworten von DllMain</span><span class="sxs-lookup"><span data-stu-id="034d2-305">DXGI responses from DLLMain</span></span>

<span data-ttu-id="034d2-306">Da eine [**DllMain**](../dlls/dllmain.md) -Funktion nicht die Reihenfolge garantieren kann, in der DLLs geladen und entladen werden, wird empfohlen, dass die **DllMain** -Funktion der APP keine Direct3D-oder DXGI-Funktionen oder-Methoden aufruft, einschließlich Funktionen oder Methoden, die Objekte erstellen oder freigeben.</span><span class="sxs-lookup"><span data-stu-id="034d2-306">Because a [**DllMain**](../dlls/dllmain.md) function can't guarantee the order in which it loads and unloads DLLs, we recommend that your app's **DllMain** function not call Direct3D or DXGI functions or methods, including functions or methods that create or release objects.</span></span> <span data-ttu-id="034d2-307">Wenn die **DllMain** -Funktion Ihrer APP eine bestimmte Komponente aufruft, kann diese Komponente eine andere DLL aufrufen, die nicht auf dem Betriebssystem vorhanden ist, was dazu führt, dass das Betriebssystem abstürzt.</span><span class="sxs-lookup"><span data-stu-id="034d2-307">If your app's **DllMain** function calls into a particular component, that component might call another DLL that isn't present on the operating system, which causes the operating system to crash.</span></span> <span data-ttu-id="034d2-308">Direct3D und DXGI laden möglicherweise einen Satz von DLLs, in der Regel einen Satz von Treibern, der sich von Computer zu Computer unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="034d2-308">Direct3D and DXGI might load a set of DLLs, typically a set of drivers, that differs from computer to computer.</span></span> <span data-ttu-id="034d2-309">Dies gilt auch dann, wenn Ihre APP auf ihren Entwicklungs-und Testcomputern nicht stürzt, wenn die **DllMain** -Funktion Direct3D-oder DXGI-Funktionen oder-Methoden aufruft. Sie stürzt möglicherweise ab, wenn Sie auf einem anderen Computer ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-309">Therefore, even if your app doesn t crash on your development and test computers when its **DllMain** function calls Direct3D or DXGI functions or methods, it might crash when it runs on another computer.</span></span>

<span data-ttu-id="034d2-310">Um zu verhindern, dass Sie eine APP erstellen, die möglicherweise zu einem Absturz des Betriebssystems führt, stellt DXGI die folgenden Antworten in den angegebenen Situationen bereit:</span><span class="sxs-lookup"><span data-stu-id="034d2-310">To prevent you from creating an app that might cause the operating system to crash, DXGI provides the following responses in the specified situations:</span></span>

-   <span data-ttu-id="034d2-311">Wenn die [**DllMain**](../dlls/dllmain.md) -Funktion Ihrer APP den letzten Verweis auf eine DXGI-Factory freigibt, löst DXGI eine Ausnahme aus.</span><span class="sxs-lookup"><span data-stu-id="034d2-311">If your app's [**DllMain**](../dlls/dllmain.md) function releases its last reference to a DXGI factory, DXGI raises an exception.</span></span>
-   <span data-ttu-id="034d2-312">Wenn die [**DllMain**](../dlls/dllmain.md) -Funktion Ihrer APP eine DXGI-Factory erstellt, gibt DXGI einen Fehlercode zurück.</span><span class="sxs-lookup"><span data-stu-id="034d2-312">If your app's [**DllMain**](../dlls/dllmain.md) function creates a DXGI factory, DXGI returns an error code.</span></span>

## <a name="dxgi-11-changes"></a><span data-ttu-id="034d2-313">DXGI 1,1-Änderungen</span><span class="sxs-lookup"><span data-stu-id="034d2-313">DXGI 1.1 changes</span></span>

<span data-ttu-id="034d2-314">In DXGI 1,1 wurden die folgenden Funktionen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="034d2-314">We added the following functionality in DXGI 1.1.</span></span>

-   <span data-ttu-id="034d2-315">Unterstützung für synchronisierte Shared-</span><span class="sxs-lookup"><span data-stu-id="034d2-315">Synchronized Shared Surfaces Support</span></span>

    <span data-ttu-id="034d2-316">Synchronisierte freigegebene Oberflächen für Direct3D 10,1 und Direct3D 11 ermöglichen effiziente Lese-und Schreib Oberflächen Freigabe zwischen mehreren Direct3D-Geräten (die gemeinsame Nutzung von Direct3D 10-und Direct3D 11-Geräten ist möglich).</span><span class="sxs-lookup"><span data-stu-id="034d2-316">Synchronized shared surfaces for Direct3D 10.1 and Direct3D 11 enables efficient read and write surface sharing between multiple Direct3D devices (sharing between Direct3D 10 and Direct3D 11 devices is possible).</span></span> <span data-ttu-id="034d2-317">Weitere Informationen finden Sie unter [**idxgikeyedmutex:: acquiresync**](/windows/win32/api/DXGI/nf-dxgi-idxgikeyedmutex-acquiresync) und [**idxgikeyedmutex:: releasesync**](/windows/win32/api/DXGI/nf-dxgi-idxgikeyedmutex-releasesync).</span><span class="sxs-lookup"><span data-stu-id="034d2-317">See [**IDXGIKeyedMutex::AcquireSync**](/windows/win32/api/DXGI/nf-dxgi-idxgikeyedmutex-acquiresync) and [**IDXGIKeyedMutex::ReleaseSync**](/windows/win32/api/DXGI/nf-dxgi-idxgikeyedmutex-releasesync).</span></span>

-   <span data-ttu-id="034d2-318">Unterstützung für hohe Farben</span><span class="sxs-lookup"><span data-stu-id="034d2-318">High Color Support</span></span>

    <span data-ttu-id="034d2-319">Unterstützt das unorm-Format DXGI- \_ Format \_ R10G10B10 \_ XR \_ Bias \_ a2 \_ .</span><span class="sxs-lookup"><span data-stu-id="034d2-319">Supports the DXGI\_FORMAT\_R10G10B10\_XR\_BIAS\_A2\_UNORM format.</span></span>

-   <span data-ttu-id="034d2-320">[**IDXGIDevice1:: setmaximumframelatency**](/windows/win32/api/DXGI/nf-dxgi-idxgidevice1-setmaximumframelatency) und [ **IDXGIDevice1:: getmaximumframelatency**](/windows/win32/api/DXGI/nf-dxgi-idxgidevice1-getmaximumframelatency)</span><span class="sxs-lookup"><span data-stu-id="034d2-320">[**IDXGIDevice1::SetMaximumFrameLatency**](/windows/win32/api/DXGI/nf-dxgi-idxgidevice1-setmaximumframelatency) and [**IDXGIDevice1::GetMaximumFrameLatency**](/windows/win32/api/DXGI/nf-dxgi-idxgidevice1-getmaximumframelatency)</span></span>
-   <span data-ttu-id="034d2-321">[**IDXGIFactory1:: EnumAdapters1**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory1-enumadapters1) Listet lokale Adapter (e) ohne angehängte Monitore oder Ausgaben sowie Adapter (s) mit verbundenen Ausgaben auf.</span><span class="sxs-lookup"><span data-stu-id="034d2-321">[**IDXGIFactory1::EnumAdapters1**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory1-enumadapters1) enumerates local adapter(s) without any monitors or outputs attached, as well as adapters(s) with outputs attached.</span></span> <span data-ttu-id="034d2-322">Der erste zurückgegebene Adapter ist der lokale Adapter, auf dem die primäre Desktop Datenbank angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="034d2-322">The first adapter returned will be the local adapter on which the Desktop primary is displayed.</span></span>
-   <span data-ttu-id="034d2-323">BGRA-Formatunterstützung</span><span class="sxs-lookup"><span data-stu-id="034d2-323">BGRA format support</span></span>

    <span data-ttu-id="034d2-324">DXGI \_ \_ -Format B8G8R8A8 \_ unorm und DXGI \_ Format \_ B8G8R8A8 \_ unorm \_ sRGB, siehe [**IDXGISurface1:: GetDC**](/windows/win32/api/DXGI/nf-dxgi-idxgisurface1-getdc) und [**IDXGISurface1:: ReleaseDC**](/windows/win32/api/DXGI/nf-dxgi-idxgisurface1-releasedc).</span><span class="sxs-lookup"><span data-stu-id="034d2-324">DXGI\_FORMAT\_B8G8R8A8\_UNORM and DXGI\_FORMAT\_B8G8R8A8\_UNORM\_SRGB, see [**IDXGISurface1::GetDC**](/windows/win32/api/DXGI/nf-dxgi-idxgisurface1-getdc) and [**IDXGISurface1::ReleaseDC**](/windows/win32/api/DXGI/nf-dxgi-idxgisurface1-releasedc).</span></span>

## <a name="dxgi-12-changes"></a><span data-ttu-id="034d2-325">DXGI 1,2-Änderungen</span><span class="sxs-lookup"><span data-stu-id="034d2-325">DXGI 1.2 changes</span></span>

<span data-ttu-id="034d2-326">In DXGI 1,2 wurden die folgenden Funktionen hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="034d2-326">We added the following functionality in DXGI 1.2.</span></span>

-   <span data-ttu-id="034d2-327">Stereo Austausch Kette</span><span class="sxs-lookup"><span data-stu-id="034d2-327">Stereo swap chain</span></span>
-   [<span data-ttu-id="034d2-328">Swapkette des Flip-Modells</span><span class="sxs-lookup"><span data-stu-id="034d2-328">Flip-model swap chain</span></span>](dxgi-flip-model.md)
-   <span data-ttu-id="034d2-329">Optimierte Darstellung (Scrollen, geänderte Rechtecke und Drehung)</span><span class="sxs-lookup"><span data-stu-id="034d2-329">Optimized presentation (scrolling, dirty rectangles, and rotation)</span></span>
-   <span data-ttu-id="034d2-330">Verbesserte freigegebene Ressourcen und Synchronisierung</span><span class="sxs-lookup"><span data-stu-id="034d2-330">Improved shared resources and synchronization</span></span>
-   [<span data-ttu-id="034d2-331">Desktop Duplizierung</span><span class="sxs-lookup"><span data-stu-id="034d2-331">Desktop Duplication</span></span>](desktop-dup-api.md)
-   <span data-ttu-id="034d2-332">Optimierte Verwendung von Videospeicher</span><span class="sxs-lookup"><span data-stu-id="034d2-332">Optimized use of video memory</span></span>
-   <span data-ttu-id="034d2-333">Unterstützung für 16 Bits pro Pixel (BPP)-Formate (DXGI- \_ Format \_ B5G6R5 \_ unorm, DXGI- \_ Format \_ B5G5R5A1 \_ unorm, DXGI- \_ Format \_ B4G4R4A4 \_ unorm)</span><span class="sxs-lookup"><span data-stu-id="034d2-333">Support for 16 bits per pixel (bpp) formats (DXGI\_FORMAT\_B5G6R5\_UNORM, DXGI\_FORMAT\_B5G5R5A1\_UNORM, DXGI\_FORMAT\_B4G4R4A4\_UNORM)</span></span>
-   <span data-ttu-id="034d2-334">Debugging-APIs</span><span class="sxs-lookup"><span data-stu-id="034d2-334">Debugging APIs</span></span>

<span data-ttu-id="034d2-335">Weitere Informationen zu DXGI 1,2 finden Sie unter [DXGI 1,2-Verbesserungen](dxgi-1-2-improvements.md).</span><span class="sxs-lookup"><span data-stu-id="034d2-335">For more info about DXGI 1.2, see [DXGI 1.2 Improvements](dxgi-1-2-improvements.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="034d2-336">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="034d2-336">Related topics</span></span>

[<span data-ttu-id="034d2-337">Programmier Handbuch für DXGI</span><span class="sxs-lookup"><span data-stu-id="034d2-337">Programming Guide for DXGI</span></span>](dx-graphics-dxgi-overviews.md)
