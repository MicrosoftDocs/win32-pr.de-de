---
title: Windows Installer für Spieleentwickler
description: Dieser Artikel bietet eine Übersicht über Windows Installer, die speziell für Spieleentwickler konzipiert ist. Eine ausführliche Dokumentation zu den Features und APIs, die in diesem Artikel erwähnt werden, finden Sie im Windows Platform SDK.
ms.assetid: 07401792-b34b-71c9-18f8-a11c916c7d81
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0e44227b633f7f9491b8a69bc06aa7945941a154
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104390569"
---
# <a name="windows-installer-for-game-developers"></a><span data-ttu-id="a84b8-104">Windows Installer für Spieleentwickler</span><span class="sxs-lookup"><span data-stu-id="a84b8-104">Windows Installer for Game Developers</span></span>

<span data-ttu-id="a84b8-105">Zeigt, wie Windows Installer verwendet werden kann, um Spiele auf Endbenutzer Computern zu installieren.</span><span class="sxs-lookup"><span data-stu-id="a84b8-105">Shows how Windows Installer can be used to install games on end-user machines.</span></span> <span data-ttu-id="a84b8-106">Windows Installer bietet vollständige Unterstützung für eine angepasste Benutzeroberfläche sowie für das Patchen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-106">Windows Installer offers full support for a customized user interface, as well as for patching.</span></span>

<span data-ttu-id="a84b8-107">Microsoft Windows Installer ist die bevorzugte API zum Installieren von Software auf Windows-basierten Computern.</span><span class="sxs-lookup"><span data-stu-id="a84b8-107">Microsoft Windows Installer is the preferred API for installing software on Windows-based computers.</span></span> <span data-ttu-id="a84b8-108">Obwohl viele der Features von Windows Installer entwickelt wurden, um die Bereitstellung von Geschäftsanwendungen in einer Unternehmensumgebung zu unterstützen, ist Windows Installer auch vollständig für die Installation von Spielen auf Endbenutzer Computern geeignet.</span><span class="sxs-lookup"><span data-stu-id="a84b8-108">While many of the features of Windows Installer are designed to support deployment of business applications in a corporate environment, Windows Installer is also completely suitable for installing games on end-user machines.</span></span> <span data-ttu-id="a84b8-109">Die wichtigsten Vorteile der Verwendung von Windows Installer für die Spiele Installation sind:</span><span class="sxs-lookup"><span data-stu-id="a84b8-109">The primary advantages of using Windows Installer for game installation are:</span></span>

-   <span data-ttu-id="a84b8-110">Zuverlässige Deinstallation</span><span class="sxs-lookup"><span data-stu-id="a84b8-110">Reliable uninstall</span></span>
-   <span data-ttu-id="a84b8-111">Möglichkeit zum Installieren von Inhalten nach Bedarf</span><span class="sxs-lookup"><span data-stu-id="a84b8-111">Ability to install content on demand</span></span>
-   <span data-ttu-id="a84b8-112">Unterstützung für vollständig benutzerdefinierte Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="a84b8-112">Support for completely custom user interface</span></span>
-   <span data-ttu-id="a84b8-113">Effizientes Patchen</span><span class="sxs-lookup"><span data-stu-id="a84b8-113">Efficient patching</span></span>

<span data-ttu-id="a84b8-114">Dieser Artikel bietet eine Übersicht über Windows Installer, die speziell für Spieleentwickler konzipiert ist.</span><span class="sxs-lookup"><span data-stu-id="a84b8-114">This article gives an overview of Windows Installer, specifically targeted to game developers.</span></span> <span data-ttu-id="a84b8-115">Eine ausführliche Dokumentation zu den Features und APIs, die in diesem Artikel erwähnt werden, finden Sie im Windows Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="a84b8-115">For detailed documentation on the features and APIs mentioned in this article, please refer to the Windows Platform SDK.</span></span>

-   [<span data-ttu-id="a84b8-116">Übersicht</span><span class="sxs-lookup"><span data-stu-id="a84b8-116">Overview</span></span>](#overview)
-   [<span data-ttu-id="a84b8-117">Konzepte der Schlüssel Windows Installer</span><span class="sxs-lookup"><span data-stu-id="a84b8-117">Key Windows Installer Concepts</span></span>](#key-windows-installer-concepts)
    -   [<span data-ttu-id="a84b8-118">Komponenten</span><span class="sxs-lookup"><span data-stu-id="a84b8-118">Components</span></span>](#components)
    -   [<span data-ttu-id="a84b8-119">Funktionen</span><span class="sxs-lookup"><span data-stu-id="a84b8-119">Features</span></span>](#features)
-   [<span data-ttu-id="a84b8-120">Installations Zustände</span><span class="sxs-lookup"><span data-stu-id="a84b8-120">Install States</span></span>](#install-states)
-   [<span data-ttu-id="a84b8-121">Bedarfs gesteuert installieren</span><span class="sxs-lookup"><span data-stu-id="a84b8-121">Install on Demand</span></span>](#install-on-demand)
-   [<span data-ttu-id="a84b8-122">Benutzerdefinierte Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="a84b8-122">Custom User Interface</span></span>](#custom-user-interface)
-   [<span data-ttu-id="a84b8-123">Patchen</span><span class="sxs-lookup"><span data-stu-id="a84b8-123">Patching</span></span>](#patching)
-   [<span data-ttu-id="a84b8-124">Andere Ressourcen</span><span class="sxs-lookup"><span data-stu-id="a84b8-124">Other Resources</span></span>](#other-resources)

## <a name="overview"></a><span data-ttu-id="a84b8-125">Übersicht</span><span class="sxs-lookup"><span data-stu-id="a84b8-125">Overview</span></span>

<span data-ttu-id="a84b8-126">Alle Windows Installer basierten Setups verwenden eine Installationsdaten Bank Datei mit dem Namen MSI-Datei, um zu beschreiben, wie die Anwendung installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a84b8-126">All Windows Installer-based setups use an installation database file called an MSI file to describe how the application is to be installed.</span></span> <span data-ttu-id="a84b8-127">Die MSI-Datei enthält Informationen darüber, welche Dateien, Registrierungsschlüssel, Desktop Verknüpfungen, Dateizuordnungen und andere Anwendungs Elemente installiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-127">The MSI file contains information on what files, registry keys, desktop shortcuts, file associations, and other application elements are to be installed.</span></span> <span data-ttu-id="a84b8-128">Die tatsächlich zu installierenden Dateien können innerhalb der MSI-Datei selbst komprimiert, gebündelt und in separate "CAB-Dateien" komprimiert oder an einer anderen Stelle auf dem Installationsmedium als einzelne nicht komprimierte Dateien gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-128">The actual files to be installed can be compressed within the MSI file itself, bundled and compressed into separate "cabinet files", or stored elsewhere on the installation media as individual uncompressed files.</span></span> <span data-ttu-id="a84b8-129">Die MSI-Datei kann auch auf extern implementierte benutzerdefinierte Aktionen verweisen, um Aktionen zuzulassen, für die die MSI-Datei nicht nativ zulässt.</span><span class="sxs-lookup"><span data-stu-id="a84b8-129">The MSI file can also reference externally implemented custom actions, in order to allow for actions for which the MSI file does not natively allow.</span></span>

<span data-ttu-id="a84b8-130">Eine MSI-Datei kann optional eine Benutzeroberfläche enthalten, die den Benutzer durch den Installationsprozess führt.</span><span class="sxs-lookup"><span data-stu-id="a84b8-130">An MSI file can optionally contain a user interface to guide the user through the installation process.</span></span> <span data-ttu-id="a84b8-131">Diese Benutzeroberfläche eignet sich für die meisten Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-131">This UI is adequate for most applications.</span></span> <span data-ttu-id="a84b8-132">Es verfügt jedoch über das Aussehen und Verhalten einer normalen Windows-Anwendung, und viele Spieleentwickler bevorzugen, dass Ihre Setup Anwendung das Aussehen und Verhalten des Spiels selbst beibehält, um eine konsistentere Benutzererfahrung zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="a84b8-132">However, it has the look and feel of a regular Windows application, and many game developers prefer to have their setup application maintain the look and feel of the game itself, in order to provide a more consistent end-user experience.</span></span> <span data-ttu-id="a84b8-133">Zur Unterstützung dieses vollständig benutzerdefinierten Benutzeroberflächen Szenarios kann eine Setup Anwendung die integrierte Benutzeroberfläche Windows Installer deaktivieren und die gesamte Benutzeroberfläche verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a84b8-133">To support this fully custom UI scenario, a setup application can turn off Windows Installer's built-in UI, and handle the entire user interface itself.</span></span> <span data-ttu-id="a84b8-134">Die Windows Installer-API stellt einen Rückrufmechanismus bereit, mit dem eine benutzerdefinierte Setup Benutzeroberfläche über den Fortschritt der Installation sowie wichtige Ereignisse, wie z. b. Datenträger Änderungsanforderungen, benachrichtigt werden kann.</span><span class="sxs-lookup"><span data-stu-id="a84b8-134">The Windows Installer API exposes a callback mechanism to allow a custom setup UI to be notified of the progress of the installation, as well as important events such as disk change requests.</span></span>

<span data-ttu-id="a84b8-135">Windows Installer ist keine End-to-End-Lösung zum Erstellen von Setups.</span><span class="sxs-lookup"><span data-stu-id="a84b8-135">Windows Installer is not an end-to-end solution for creating setups.</span></span> <span data-ttu-id="a84b8-136">Es handelt sich hierbei nur um eine API, die von einem Setup Programm verwendet werden kann, um die tatsächliche Installation von Dateien, Registrierungs Schlüsseln, Desktop Verknüpfungen und anderen Elementen der Anwendung durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-136">It is only an API that can be used by a setup program to do the actual installation of files, registry keys, desktop shortcuts, and other elements of the application.</span></span> <span data-ttu-id="a84b8-137">Die neuesten Versionen aller wichtigen kommerziellen Einrichtungs Tools (z. b. InstallShield, Wise und Microsoft Visual Studio) unterstützen Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="a84b8-137">Recent versions of all of the major commercial setup tools (for example, InstallShield, WISE, and Microsoft Visual Studio) support Windows Installer.</span></span> <span data-ttu-id="a84b8-138">Diese Tools bieten praktische Benutzeroberflächen zum Erstellen des Setups für ein Spiel, aber Sie verlassen sich auf die Windows Installer-API, um einen Großteil der eigentlichen Installation durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-138">These tools provide convenient user interfaces for creating the setup for a game, but they rely on the Windows Installer API to do much of the actual installation.</span></span> <span data-ttu-id="a84b8-139">Diese Tools können auch verwendet werden, um eine MSI-Datenbank zu erstellen, die das Setup Paket enthält, das dann über eine benutzerdefinierte Setup Benutzeroberfläche installiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a84b8-139">These tools can also be used just to build an MSI database containing the setup package, which can then be installed from a custom-written setup UI.</span></span> <span data-ttu-id="a84b8-140">Als Alternative zu Tools von Drittanbietern stellt die Windows Installer-API alle Funktionen bereit, die für die programmgesteuerte Erstellung und Bearbeitung einer MSI-Datenbank erforderlich sind, und das Windows Platform SDK enthält ein bare-The-MSI-Tool zur Datenbankbearbeitung namens Orca.</span><span class="sxs-lookup"><span data-stu-id="a84b8-140">As an alternative to third-party tools, the Windows Installer API provides all of the functions necessary for creating and manipulating an MSI database programmatically, and the Windows Platform SDK includes a bare-bones MSI database-editing tool called Orca.</span></span>

## <a name="key-windows-installer-concepts"></a><span data-ttu-id="a84b8-141">Konzepte der Schlüssel Windows Installer</span><span class="sxs-lookup"><span data-stu-id="a84b8-141">Key Windows Installer Concepts</span></span>

<span data-ttu-id="a84b8-142">Im folgenden finden Sie die Windows Installer Komponenten und Features.</span><span class="sxs-lookup"><span data-stu-id="a84b8-142">Here are the Windows Installer components and features.</span></span>

### <a name="components"></a><span data-ttu-id="a84b8-143">Komponenten</span><span class="sxs-lookup"><span data-stu-id="a84b8-143">Components</span></span>

<span data-ttu-id="a84b8-144">Eine Anwendung besteht aus einer oder mehreren Komponenten, die durch eine GUID-Komponenten-ID identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-144">An application is made up of one or more components, identified by a GUID component ID.</span></span> <span data-ttu-id="a84b8-145">Eine Komponente ist eine unteilbare Einheit. Es ist entweder vollständig installiert oder überhaupt nicht installiert.</span><span class="sxs-lookup"><span data-stu-id="a84b8-145">A component is an atomic unit; it is either entirely installed or not installed at all.</span></span> <span data-ttu-id="a84b8-146">Eine Komponente kann aus einer einzelnen Datei, mehreren Dateien, Registrierungs Schlüsseln, Desktop Verknüpfungen oder einer Kombination aus bestehen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-146">A component can consist of a single file, multiple files, registry keys, desktop shortcuts, or some combination thereof.</span></span> <span data-ttu-id="a84b8-147">Die Ressourcen (Dateien usw.) innerhalb einer Komponente müssen für diese Komponente eindeutig sein. es können keine zwei Komponenten dieselbe Ressource enthalten.</span><span class="sxs-lookup"><span data-stu-id="a84b8-147">The resources (files, and so on) within a component must be unique to that component-no two components can contain the same resource.</span></span> <span data-ttu-id="a84b8-148">Eine Komponente wird nie explizit installiert. Sie wird nur als Teil eines Features installiert (siehe unten).</span><span class="sxs-lookup"><span data-stu-id="a84b8-148">A component is never installed explicitly; it is only installed as part of a feature (see following).</span></span>

### <a name="features"></a><span data-ttu-id="a84b8-149">Features</span><span class="sxs-lookup"><span data-stu-id="a84b8-149">Features</span></span>

<span data-ttu-id="a84b8-150">Eine Funktion ist eine Gruppe von Komponenten, die durch eine GUID-Funktions-ID identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="a84b8-150">A feature is a group of components, identified by a GUID feature ID.</span></span> <span data-ttu-id="a84b8-151">Im Unterschied zu-Komponenten können mehrere Features dieselbe Komponente enthalten.</span><span class="sxs-lookup"><span data-stu-id="a84b8-151">Unlike components, multiple features may contain the same component.</span></span> <span data-ttu-id="a84b8-152">Eine Komponente, die von mehreren Features gemeinsam verwendet wird, wird installiert, wenn eine dieser Features installiert ist, und Sie wird nur dann entfernt, wenn alle Features, die auf die Komponente verweisen, deinstalliert wurden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-152">A component shared between multiple features will be installed if any of those features is installed, and removed only when all features that reference the component have been uninstalled.</span></span> <span data-ttu-id="a84b8-153">Die Installation eines Features kann automatisch im Rahmen der Installation eines Produkts erfolgen, oder es kann manuell mithilfe der [**msikonfigurirefeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) -API ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-153">Installation of a feature can be done automatically as part of the installation of a product, or it can be done manually using the [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) API.</span></span>

<span data-ttu-id="a84b8-154">Obwohl einige Spiele mehrere "Features" aufweisen, die unabhängig installiert werden können, ist das Windows Installer Konzept eines Features weiterhin nützlich.</span><span class="sxs-lookup"><span data-stu-id="a84b8-154">Although few games have multiple "features" that can be installed independently, the Windows Installer concept of a feature is still useful.</span></span> <span data-ttu-id="a84b8-155">Da eine Windows Installer Funktion nicht mehr als eine Auflistung von Komponenten ist, die gleichzeitig installiert werden können, können Spiele Features verwenden, um den gesamten für eine bestimmte Phase des Spiels benötigten Inhalt zu gruppieren.</span><span class="sxs-lookup"><span data-stu-id="a84b8-155">Since a Windows Installer feature is nothing more than a collection of components that can be installed together, games can use features to group together all of the content needed for a particular stage of the game.</span></span> <span data-ttu-id="a84b8-156">Beispielsweise könnte ein ebenenorientiertes Spiel eine Funktion pro Ebene definieren, die aus dem gesamten für diese Ebene benötigten Inhalt besteht.</span><span class="sxs-lookup"><span data-stu-id="a84b8-156">For example, a level-oriented game could define one feature per level, consisting of all of the content required for that level.</span></span> <span data-ttu-id="a84b8-157">Dies ermöglicht es dem Spiel, den Inhalt einzeln von innerhalb des Spiels zu installieren, anstatt den gesamten Inhalt für alle Ebenen während der Erstinstallation zu installieren.</span><span class="sxs-lookup"><span data-stu-id="a84b8-157">This would allow the game to install the content one level at a time from within the game itself, rather than installing all of the content for all of the levels during the initial installation.</span></span>

## <a name="install-states"></a><span data-ttu-id="a84b8-158">Installations Zustände</span><span class="sxs-lookup"><span data-stu-id="a84b8-158">Install States</span></span>

<span data-ttu-id="a84b8-159">Jede Komponente oder jedes Feature verfügt über einen zugeordneten Installationsstatus, der bestimmt, ob die Komponente oder das Feature verfügbar ist, und wenn ja, wo die Dateien für die Komponente oder das Feature installiert sind.</span><span class="sxs-lookup"><span data-stu-id="a84b8-159">Each component or feature has an associated install state, which determines whether the component or feature is available, and if so, where the files for the component or feature are installed.</span></span> <span data-ttu-id="a84b8-160">Die möglichen Installations Zustände für ein Feature lauten:</span><span class="sxs-lookup"><span data-stu-id="a84b8-160">The possible install states for a feature are:</span></span>

<dl> <dt>

<span data-ttu-id="a84b8-161"><span id="Absent"></span><span id="absent"></span><span id="ABSENT"></span>Enthalten</span><span class="sxs-lookup"><span data-stu-id="a84b8-161"><span id="Absent"></span><span id="absent"></span><span id="ABSENT"></span>Absent</span></span>
</dt> <dd>

<span data-ttu-id="a84b8-162">Die Funktion ist nicht installiert und kann daher nicht aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-162">The feature is not installed and is therefore inaccessible.</span></span>

</dd> <dt>

<span data-ttu-id="a84b8-163"><span id="Local"></span><span id="local"></span><span id="LOCAL"></span>Nah</span><span class="sxs-lookup"><span data-stu-id="a84b8-163"><span id="Local"></span><span id="local"></span><span id="LOCAL"></span>Local</span></span>
</dt> <dd>

<span data-ttu-id="a84b8-164">Die Funktion ist verfügbar und wird zum Ausführen von der lokalen Festplatte installiert.</span><span class="sxs-lookup"><span data-stu-id="a84b8-164">The feature is available and is installed to run from the local hard drive.</span></span>

</dd> <dt>

<span data-ttu-id="a84b8-165"><span id="Source"></span><span id="source"></span><span id="SOURCE"></span>Ausgangs</span><span class="sxs-lookup"><span data-stu-id="a84b8-165"><span id="Source"></span><span id="source"></span><span id="SOURCE"></span>Source</span></span>
</dt> <dd>

<span data-ttu-id="a84b8-166">Die-Funktion ist verfügbar und wird zum Ausführen vom ursprünglichen Quell Medium (in der Regel eine CD oder DVD) installiert.</span><span class="sxs-lookup"><span data-stu-id="a84b8-166">The feature is available and is installed to run from the original source media (usually a CD or DVD).</span></span>

</dd> <dt>

<span data-ttu-id="a84b8-167"><span id="Advertised"></span><span id="advertised"></span><span id="ADVERTISED"></span>Angekündigte</span><span class="sxs-lookup"><span data-stu-id="a84b8-167"><span id="Advertised"></span><span id="advertised"></span><span id="ADVERTISED"></span>Advertised</span></span>
</dt> <dd>

<span data-ttu-id="a84b8-168">Die Funktion ist nicht installiert, kann jedoch bei Bedarf mit der [**msikonfigurirefeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) -API installiert werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-168">The feature is not installed, but can be installed on demand using the [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) API.</span></span> <span data-ttu-id="a84b8-169">Wenn die Funktion tatsächlich installiert ist, kann Sie entweder im lokalen oder im Quell Zustand installiert werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-169">When the feature is actually installed, it can be installed either to the Local or Source state.</span></span>

</dd> </dl>

<span data-ttu-id="a84b8-170">Eine Komponente kann über einen der oben genannten Zustände mit Ausnahme von "angekündigt" verfügen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-170">A component can have any of the above states except for "Advertised."</span></span> <span data-ttu-id="a84b8-171">Wenn eine Komponente Teil eines angekündigten Features ist, wird die Komponente so lange als "nicht vorhanden" angezeigt, bis die Funktion installiert ist.</span><span class="sxs-lookup"><span data-stu-id="a84b8-171">If a component is part of an advertised feature, the component will appear as "Absent" until the feature is installed.</span></span>

## <a name="install-on-demand"></a><span data-ttu-id="a84b8-172">Bedarfs gesteuert installieren</span><span class="sxs-lookup"><span data-stu-id="a84b8-172">Install on Demand</span></span>

<span data-ttu-id="a84b8-173">Windows Installer ermöglicht es einer Anwendung, Features als angekündigt zu markieren, was bedeutet, dass das Feature noch nicht installiert ist, aber zur Laufzeit zur Installation zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="a84b8-173">Windows Installer allows an application to mark features as Advertised, meaning that the feature is not yet installed, but is available to install at runtime if it is needed.</span></span> <span data-ttu-id="a84b8-174">Die Installation von Features zur Laufzeit wird als "Bedarfs gesteuerte Installation" bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="a84b8-174">Installing features at runtime is known as "Install on Demand."</span></span> <span data-ttu-id="a84b8-175">Spiele können install on Demand verwenden, um die für die anfängliche Spiel Einrichtung erforderliche Zeit drastisch zu verringern, indem die Installation von Spielinhalten verzögert wird, bis Sie zur Laufzeit benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="a84b8-175">Games can use Install on Demand to drastically reduce the time required for the initial game setup by deferring the installation of game content until it is needed at runtime.</span></span> <span data-ttu-id="a84b8-176">Die Verzögerung, die erforderlich ist, um den Inhalt zur Laufzeit zu installieren, kann oft teilweise oder vollständig ausgeblendet werden, indem die Bedarfs gesteuerte Installation in einem Hintergrund Thread ausgeführt wird, während der Benutzer andernfalls mit dem Spiel beschäftigt ist.</span><span class="sxs-lookup"><span data-stu-id="a84b8-176">The delay required to install the content at runtime can often be partially or completely hidden by doing the on-demand installation in a background thread, while the user is otherwise occupied with the game.</span></span>

## <a name="custom-user-interface"></a><span data-ttu-id="a84b8-177">Benutzerdefinierte Benutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="a84b8-177">Custom User Interface</span></span>

<span data-ttu-id="a84b8-178">Obwohl Windows Installer eine Standardbenutzer Oberfläche bereitstellt, die den Benutzer durch die Installation der Anwendung führt, sieht diese Schnittstelle wie eine standardmäßige Windows-Anwendung aus.</span><span class="sxs-lookup"><span data-stu-id="a84b8-178">Although Windows Installer provides a default user interface that guides the user through the installation of the application, this interface looks like that of a standard Windows application.</span></span> <span data-ttu-id="a84b8-179">Viele Spieleentwickler bevorzugen, dass die Benutzeroberfläche der Installation das gleiche Aussehen hat wie das Spiel selbst, um dem Benutzer einen Vorgeschmack auf das Spiel zu geben.</span><span class="sxs-lookup"><span data-stu-id="a84b8-179">Many game developers prefer that their installation UI have the same look and feel as the game itself, to provide the user with a taste of the game's ambiance.</span></span> <span data-ttu-id="a84b8-180">Um dies zu unterstützen, ermöglicht Windows Installer die vollständige Deaktivierung der integrierten Benutzeroberfläche, sodass der Entwickler eine vollständig benutzerdefinierte Benutzeroberfläche bereitstellen kann.</span><span class="sxs-lookup"><span data-stu-id="a84b8-180">To support this, Windows Installer allows its built-in user interface to be completely disabled, allowing the developer to provide a completely custom UI.</span></span>

<span data-ttu-id="a84b8-181">Das benutzerdefinierte Setup Programm deaktiviert zunächst die integrierte Benutzeroberfläche von Windows Installer mithilfe der [**MsiSetInternalUI**](/windows/desktop/api/msi/nf-msi-msisetinternalui) -API, um die Benutzeroberflächen Ebene auf "installuilevel None" festzulegen \_ .</span><span class="sxs-lookup"><span data-stu-id="a84b8-181">The custom setup program first disables Windows Installer's built-in user interface using the [**MsiSetInternalUI**](/windows/desktop/api/msi/nf-msi-msisetinternalui) API to set the UI level to INSTALLUILEVEL\_NONE.</span></span> <span data-ttu-id="a84b8-182">Anschließend wird die [**msisetexternalui**](/windows/desktop/api/msi/nf-msi-msisetexternaluia) -API aufgerufen, um eine Rückruffunktion anzugeben, die während des Installationsvorgangs aufgerufen wird, um das Setup Programm über wichtige Ereignisse während der Installation zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-182">It then calls the [**MsiSetExternalUI**](/windows/desktop/api/msi/nf-msi-msisetexternaluia) API to specify a callback function that will be called during the installation process to notify the setup program of key events during the installation.</span></span>

<span data-ttu-id="a84b8-183">Der tatsächliche Installationsvorgang wird dann durch Aufrufen der [**msiinstallproduct**](/windows/desktop/api/msi/nf-msi-msiinstallproducta) -API gestartet.</span><span class="sxs-lookup"><span data-stu-id="a84b8-183">The actual installation process is then started by calling the [**MsiInstallProduct**](/windows/desktop/api/msi/nf-msi-msiinstallproducta) API.</span></span> <span data-ttu-id="a84b8-184">Diese API akzeptiert eine Parameter Zeichenfolge, die es dem Aufrufer ermöglicht, Werte für benannte Eigenschaften anzugeben.</span><span class="sxs-lookup"><span data-stu-id="a84b8-184">This API accepts a parameter string that allows the caller to specify values for named properties.</span></span> <span data-ttu-id="a84b8-185">Diese Eigenschaften können in der Installations Datenbank selbst verwendet werden, um anzupassen, wie die Anwendung installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a84b8-185">These properties can be used within the installation database itself to customize how the application is to be installed.</span></span> <span data-ttu-id="a84b8-186">Diese Eigenschaften können verwendet werden, um Folgendes anzugeben:</span><span class="sxs-lookup"><span data-stu-id="a84b8-186">These properties can be used to specify:</span></span>

-   <span data-ttu-id="a84b8-187">Das Verzeichnis, in dem die Anwendung installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a84b8-187">The directory to which the application is to be installed</span></span>
-   <span data-ttu-id="a84b8-188">Welche Features lokal installiert werden müssen und welche installiert werden müssen, um von der CD/DVD auszuführen (z. b. um die Auswahl zwischen einer minimalen Installation und einer vollständigen Installation zu ermöglichen)</span><span class="sxs-lookup"><span data-stu-id="a84b8-188">Which features are to be installed locally and which are to be installed to run from the CD/DVD (for example, to enable choosing between a minimal install and a full install)</span></span>
-   <span data-ttu-id="a84b8-189">Gibt an, ob die Anwendung für alle Benutzer des Computers oder nur für den aktuellen Benutzer installiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="a84b8-189">Whether the application should be installed for all users of the machine, or for only the current user</span></span>

<span data-ttu-id="a84b8-190">Im Verlauf der Installation verwendet das Setup Programm die Benachrichtigungs Meldungen, die an die Rückruffunktion gesendet werden, um zu bestimmen, wann die Benutzeroberfläche der Statusanzeige aktualisiert werden soll, wann der Benutzer zur Eingabe der nächsten CD aufgefordert werden soll oder ob der Benutzer über einen Fehler im Installationsprozess benachrichtigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="a84b8-190">During the course of the installation, the setup program uses the notification messages sent to its callback function to determine when to update its progress indicator UI, when to prompt the user to insert the next CD, or when to notify the user about an error in the installation process.</span></span>

## <a name="patching"></a><span data-ttu-id="a84b8-191">Patching</span><span class="sxs-lookup"><span data-stu-id="a84b8-191">Patching</span></span>

<span data-ttu-id="a84b8-192">Windows Installer ermöglicht das Patchen installierter Anwendungen durch Anwenden einer Patchdatei.</span><span class="sxs-lookup"><span data-stu-id="a84b8-192">Windows Installer allows installed applications to be patched by applying a patch file.</span></span> <span data-ttu-id="a84b8-193">Eine Patchdatei enthält die neuen Dateien, die vom Patch hinzugefügt werden sollen, die Dateien, die durch den Patch geändert werden, sowie eine Liste der Änderungen, die an der Installations Datenbank vorgenommen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a84b8-193">A patch file contains the new files to be added by the patch, the files that are modified by the patch, and a list of changes to make to the installation database.</span></span> <span data-ttu-id="a84b8-194">Um Speicherplatz zu sparen, enthält die Patchdatei statt des vollständigen Inhalts einer Datei, die vom Patch geändert wurde, tatsächlich nur die Unterschiede zwischen der ursprünglichen Version der Datei und der neuen Version der Datei.</span><span class="sxs-lookup"><span data-stu-id="a84b8-194">To conserve space, instead of storing the complete contents of a file changed by the patch, the patch file actually contains only the differences between the original version of the file and the new version of the file.</span></span>

<span data-ttu-id="a84b8-195">Zum Erstellen eines Patches benötigen Sie das Setup Abbild für jede Version der Anwendung, von der der Patch aktualisiert werden soll, sowie das Setup Image für die neue aktualisierte Version der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a84b8-195">In order to create a patch, you need the setup image for each of the versions of the application that you wish the patch to upgrade from, as well as the setup image for the new, upgraded version of the application.</span></span> <span data-ttu-id="a84b8-196">Ein Setup Abbild besteht aus der MSI-Datenbank und allen tatsächlichen Datendateien für die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="a84b8-196">A setup image consists of the MSI database and all of the actual data files for the application.</span></span> <span data-ttu-id="a84b8-197">Die beste Möglichkeit, ein Setup Abbild für eine neue Version der Anwendung zu erstellen, besteht darin, das Setup Abbild aus der früheren Version der Anwendung zu kopieren und dann alle erforderlichen Änderungen vorzunehmen, um diese Kopie in die gepatchte Version zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="a84b8-197">The best way to create a setup image for a new version of the application is to copy the setup image from the previous version of the application, and then make any changes necessary to update that copy to the patched version.</span></span>

<span data-ttu-id="a84b8-198">Nachdem Sie alle erforderlichen Setup Abbilder erstellt haben, können Sie die Patches mithilfe von Msimsp.exe erstellen. dabei handelt es sich um ein Tool zur Patcherstellung, das als Teil des Platform SDK zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="a84b8-198">Once you have all of the necessary setup images, you can create the patches using Msimsp.exe, which is a patch creation tool available as part of the Platform SDK.</span></span> <span data-ttu-id="a84b8-199">Das Tool fragt nach den Speicherorten der einzelnen Setup Abbilder und bestimmt dann, wie die Unterschiede zwischen den aufeinander folgenden Versionen effizient dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a84b8-199">The tool will ask for the locations of each of the setup images, and then determine how to efficiently represent the differences between the successive versions.</span></span> <span data-ttu-id="a84b8-200">Die Ausgabe des Tools ist die endgültige Patchdatei (identifiziert durch die Erweiterung msp).</span><span class="sxs-lookup"><span data-stu-id="a84b8-200">The output of the tool is the final patch file (identified by the extension MSP).</span></span> <span data-ttu-id="a84b8-201">Um den Patch Programm gesteuert zu installieren, wenden Sie die [**msiapplypatch**](/windows/desktop/api/msi/nf-msi-msiapplypatcha) -API an.</span><span class="sxs-lookup"><span data-stu-id="a84b8-201">In order to install the patch programmatically, call the [**MsiApplyPatch**](/windows/desktop/api/msi/nf-msi-msiapplypatcha) API.</span></span> <span data-ttu-id="a84b8-202">Der Benutzer kann den Patch auch manuell installieren, indem Sie im Explorer auf die MSP-Datei doppelklicken.</span><span class="sxs-lookup"><span data-stu-id="a84b8-202">The user can also install the patch manually by double-clicking on the MSP file in Explorer.</span></span>

## <a name="other-resources"></a><span data-ttu-id="a84b8-203">Weitere Ressourcen</span><span class="sxs-lookup"><span data-stu-id="a84b8-203">Other Resources</span></span>

-   <span data-ttu-id="a84b8-204">Ausführliche Informationen zur Windows Installer-API finden Sie unter [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="a84b8-204">For detailed info on the Windows Installer API, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>
-   <span data-ttu-id="a84b8-205">Informationen zu bewährten Methoden für die Spiele Installation finden Sie unter [Installation und Wartung von spielen](/windows/desktop/DxTechArts/installation-and-maintenance-of-games).</span><span class="sxs-lookup"><span data-stu-id="a84b8-205">For info on best practices for game installation, see [Installation and Maintenance of Games](/windows/desktop/DxTechArts/installation-and-maintenance-of-games).</span></span>

 

 