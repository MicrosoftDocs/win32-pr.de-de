---
title: Patchen von Spiel Software in Windows XP, Windows Vista und Windows 7
description: In diesem Artikel werden einige Methoden zum Patchen erläutert, die in Windows Vista und Windows 7 sowie in Windows XP gut funktionieren.
ms.assetid: 27be805a-bffd-a9f8-2207-2a9a4822ba48
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 95ae0b1455cae61b8372f81e6928977743084c9e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "106341532"
---
# <a name="patching-game-software-in-windows-xp-windows-vista-and-windows-7"></a><span data-ttu-id="cede9-103">Patchen von Spiel Software in Windows XP, Windows Vista und Windows 7</span><span class="sxs-lookup"><span data-stu-id="cede9-103">Patching Game Software in Windows XP, Windows Vista, and Windows 7</span></span>

<span data-ttu-id="cede9-104">Windows Vista und Windows 7 verfügen über eine Reihe von Features, um das Betriebssystem sicherer zu machen.</span><span class="sxs-lookup"><span data-stu-id="cede9-104">Windows Vista and Windows 7 have a number of features to make the operating system more secure.</span></span> <span data-ttu-id="cede9-105">Hinzugefügte Sicherheit bedeutet, dass das Anwenden von Patches auf Software nicht so einfach ist wie in der Vergangenheit.</span><span class="sxs-lookup"><span data-stu-id="cede9-105">Added security means that applying patches to software is not as simple as it was in the past.</span></span> <span data-ttu-id="cede9-106">In diesem Artikel werden einige Methoden zum Patchen erläutert, die in Windows Vista und Windows 7 sowie in Windows XP gut funktionieren.</span><span class="sxs-lookup"><span data-stu-id="cede9-106">This article examines some methods of patching that will work well in Windows Vista and Windows 7, as well as Windows XP.</span></span>

<span data-ttu-id="cede9-107">Es gibt zwei Hauptkategorien von spielen, für die Patches erforderlich sind:</span><span class="sxs-lookup"><span data-stu-id="cede9-107">There are two main categories of games that require patches:</span></span>

-   <span data-ttu-id="cede9-108">Spiele, die nur gelegentliche Patches benötigen, z. b. die meisten Offline Spiele.</span><span class="sxs-lookup"><span data-stu-id="cede9-108">Games that require only occasional patches, such as most offline games.</span></span>
-   <span data-ttu-id="cede9-109">Spiele, die häufig Patches erfordern, z. b. die meisten Online Spiele.</span><span class="sxs-lookup"><span data-stu-id="cede9-109">Games that require frequent patches, such as most online games.</span></span>

<span data-ttu-id="cede9-110">Dieser Artikel bietet auch eine kurze Einführung in die Benutzerkontensteuerung (User Account Control, UAC), die als Hintergrund der Rechte fungiert, die Entwickler in Windows Vista und Windows 7 erwarten können.</span><span class="sxs-lookup"><span data-stu-id="cede9-110">This article also offers a brief introduction to the User Account Control (UAC) to serve as background about the rights that developers can expect users to have in Windows Vista and Windows 7.</span></span>

-   [<span data-ttu-id="cede9-111">Benutzerkontensteuerung</span><span class="sxs-lookup"><span data-stu-id="cede9-111">User Account Control</span></span>](#user-account-control)
-   [<span data-ttu-id="cede9-112">Spiele, die nur gelegentliche Patches erfordern</span><span class="sxs-lookup"><span data-stu-id="cede9-112">Games that Require Only Occasional Patches</span></span>](#games-that-require-only-occasional-patches)
    -   [<span data-ttu-id="cede9-113">Methode 1: Verwenden von Windows Installer für gelegentliche Patches</span><span class="sxs-lookup"><span data-stu-id="cede9-113">Method 1: Use Windows Installer for Occasional Patches</span></span>](#method-1-use-windows-installer-for-occasional-patches)
    -   [<span data-ttu-id="cede9-114">Methode 2: Administrator Rechte zum Anwenden von Patches erforderlich</span><span class="sxs-lookup"><span data-stu-id="cede9-114">Method 2: Require Administrator Rights to Apply Patches</span></span>](#method-2-require-administrator-rights-to-apply-patches)
-   [<span data-ttu-id="cede9-115">Spiele, die häufig Patches erfordern</span><span class="sxs-lookup"><span data-stu-id="cede9-115">Games that Require Frequent Patches</span></span>](#games-that-require-frequent-patches)
    -   [<span data-ttu-id="cede9-116">Methode 3: Installation pro Benutzer</span><span class="sxs-lookup"><span data-stu-id="cede9-116">Method 3: Install Per-User</span></span>](#method-3-install-per-user)
    -   [<span data-ttu-id="cede9-117">Methode 4: Installieren an einem gemeinsamen Per-Computer Speicherort</span><span class="sxs-lookup"><span data-stu-id="cede9-117">Method 4: Install to a Common Per-Computer Location</span></span>](#method-4-install-to-a-common-per-computer-location)
    -   [<span data-ttu-id="cede9-118">Weitere Möglichkeiten</span><span class="sxs-lookup"><span data-stu-id="cede9-118">Other Possibilities</span></span>](#other-possibilities)
-   [<span data-ttu-id="cede9-119">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="cede9-119">Summary</span></span>](#summary)

## <a name="user-account-control"></a><span data-ttu-id="cede9-120">Benutzerkontensteuerung</span><span class="sxs-lookup"><span data-stu-id="cede9-120">User Account Control</span></span>

<span data-ttu-id="cede9-121">Windows Vista und Windows 7 verfügen über zwei primäre Arten von Benutzerkonten: Standard Benutzer und Administrator.</span><span class="sxs-lookup"><span data-stu-id="cede9-121">Windows Vista and Windows 7 have two primary types of user accounts: Standard User and Administrator.</span></span> <span data-ttu-id="cede9-122">Ein Standard Benutzerkonto weist mehrere Zugriffsbeschränkungen auf: Beispielsweise können keine Daten in das Dateisystem in% System Drive%- \\ Programmdateien oder in die Registrierung auf dem lokalen HKEY-Computer geschrieben werden \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="cede9-122">A Standard User account has several access restrictions; for example, it cannot write data to the file system in %SystemDrive%\\Program Files or to the registry in the HKEY\_LOCAL\_MACHINE.</span></span> <span data-ttu-id="cede9-123">Dies hat Auswirkungen auf das Anwenden von Patches auf ein Spiel, wenn es an einem schreibgeschützten Speicherort installiert ist.</span><span class="sxs-lookup"><span data-stu-id="cede9-123">This has implications for applying patches to a game if it is installed in a read-only location.</span></span> <span data-ttu-id="cede9-124">Anders als in Windows XP ist das Standard Benutzerkonto in Windows Vista und Windows 7 viel häufiger.</span><span class="sxs-lookup"><span data-stu-id="cede9-124">Unlike in Windows XP, the Standard User account is much more common in Windows Vista and Windows 7.</span></span> <span data-ttu-id="cede9-125">Standard Benutzerkonten sind auch für wichtige Features des Betriebssystems erforderlich, wie z. b. Jugendschutz.</span><span class="sxs-lookup"><span data-stu-id="cede9-125">Standard User accounts are also required for important features of the operating system, like parental controls.</span></span> <span data-ttu-id="cede9-126">Die Jugendschutz Kontrolle erfordert, dass das untergeordnete Konto ein Standard Benutzer ist, und die Erhöhung eines solchen Kontos auf den Administrator für sogar ein Spiel verhindert, dass Eltern Kontrollen mit allen anderen Spielen arbeiten.</span><span class="sxs-lookup"><span data-stu-id="cede9-126">Parental controls require that the child account be Standard User, and elevating such an account to Administrator for even one game prevents parental controls from working with all other games.</span></span> <span data-ttu-id="cede9-127">Daher ist es wichtig, dass Spiele für Standard Benutzer entwickelt werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-127">So, it important for games to be designed for Standard User.</span></span>

<span data-ttu-id="cede9-128">Windows Vista und Windows 7 verfügen über ein neueres Modell für Benutzerrechte, um Benutzer daran zu hindern, Programme auszuführen, die versuchen, Vorgänge auszuführen, die der Benutzer nicht beabsichtigt oder autorisiert.</span><span class="sxs-lookup"><span data-stu-id="cede9-128">Windows Vista and Windows 7 have a newer model for user rights, to help prevent users from running programs that attempt to perform operations that the user doesn't intend or authorize.</span></span> <span data-ttu-id="cede9-129">Zu diesem Zweck ermöglicht die Benutzerkontensteuerung (früher als "Benutzerkonto mit den geringsten Rechten" bezeichnet) Benutzern den Betrieb des Computers in der Regel auf niedriger Ebene, während Sie problemlos Anwendungen ausführen können, die Rechte höherer Ebene erfordern, wenn dies erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="cede9-129">To that end, User Account Control (formerly called Least-privileged User Account or LUA) enables users to operate the computer with low-level rights most of the time, while being able to easily run applications that require higher-level rights, when necessary.</span></span> <span data-ttu-id="cede9-130">Dies bedeutet, dass Standardbenutzer Konten und Administrator Konten beide Anwendungen mit Standard Benutzerrechten ausführen, aber nur Administrator Konten können Anwendungen erweiterte Rechte erteilen.</span><span class="sxs-lookup"><span data-stu-id="cede9-130">This means that Standard User accounts and Administrator accounts both run applications with Standard User rights, but only Administrator accounts have the ability to grant elevated rights to applications.</span></span> <span data-ttu-id="cede9-131">Das Betriebssystem fordert Benutzer mit Administrator Konten zur expliziten Zustimmung auf, bevor eine Anwendung mit erhöhten Rechten ausgeführt wird. Wenn ein Programm, das Administrator Rechte erfordert, auf einem Standard Benutzerkonto ausgeführt wird, fordert das System zur Genehmigung des Administrators auf.</span><span class="sxs-lookup"><span data-stu-id="cede9-131">The operating system asks users with Administrator accounts for explicit consent before running an application with elevated rights, and if a program that requires Administrator rights is run on a Standard User account, the system prompts for Administrator approval.</span></span>

## <a name="games-that-require-only-occasional-patches"></a><span data-ttu-id="cede9-132">Spiele, die nur gelegentliche Patches erfordern</span><span class="sxs-lookup"><span data-stu-id="cede9-132">Games that Require Only Occasional Patches</span></span>

<span data-ttu-id="cede9-133">Einige Spiele erfordern nur einige Patches während des gesamten Lebenszyklus.</span><span class="sxs-lookup"><span data-stu-id="cede9-133">Some games only require a few patches throughout their lifecycle.</span></span> <span data-ttu-id="cede9-134">Zwei Methoden, die Sie für diese Häufigkeit von Patchen verwenden können, sind die Verteilung von Patches als Windows Installer Pakete, für die in der Regel keine Administrator Rechte erforderlich sind, oder eine andere Art von Verteilung, mit der Spieldateien direkt geändert werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-134">Two methods that you can employ for this frequency of patching are to distribute patches as Windows Installer packages, which does not generally require Administrator rights, or to use some other type of distribution that directly modifies game files.</span></span>

> [!Note]  
> <span data-ttu-id="cede9-135">Unabhängig davon, ob ein Spiel ein häufiges Patchen erfordert, benötigen Anwendungen in der Regel Administrator Rechte, um installiert oder entfernt zu werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-135">Regardless of whether a game requires frequent patching, applications typically require Administrator rights to be installed or removed.</span></span>

 

### <a name="method-1-use-windows-installer-for-occasional-patches"></a><span data-ttu-id="cede9-136">Methode 1: Verwenden von Windows Installer für gelegentliche Patches</span><span class="sxs-lookup"><span data-stu-id="cede9-136">Method 1: Use Windows Installer for Occasional Patches</span></span>

<span data-ttu-id="cede9-137">Bei dieser Methode wird ein Windows Installer zum Installieren eines Pakets (MSI-Datei) verwendet, und ein Windows Installer Patch (MSP-Datei) wird zur Installation von Patches verteilt.</span><span class="sxs-lookup"><span data-stu-id="cede9-137">In this method, a Windows Installer is used to install a package (.msi file) and a Windows Installer patch (.msp file) is distributed to install patches.</span></span> <span data-ttu-id="cede9-138">Das Paket muss über eine MsiPatchCertificate-Tabelle verfügen, und der Patch muss von einem Zertifikat in der Tabelle digital signiert werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-138">The package must have an MsiPatchCertificate table, and the patch must be digitally signed by a certificate in the table.</span></span> <span data-ttu-id="cede9-139">Weitere Informationen zu digitalen Signaturen finden Sie unter [Authenticode-Signierung für Spieleentwickler](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span><span class="sxs-lookup"><span data-stu-id="cede9-139">More information about digital signing can be found at [Authenticode Signing for Game Developers](/windows/desktop/DxTechArts/authenticode-signing-for-game-developers).</span></span>

<span data-ttu-id="cede9-140">Weitere Details und Anforderungen zur Verwendung dieser patchmethode finden Sie in der Windows Installer-Dokumentation:</span><span class="sxs-lookup"><span data-stu-id="cede9-140">More details and requirements to use this patching method can be found in the Windows Installer documentation:</span></span>

-   [<span data-ttu-id="cede9-141">Patchen und Upgrades</span><span class="sxs-lookup"><span data-stu-id="cede9-141">Patching and Upgrades</span></span>](/windows/desktop/Msi/patching-and-upgrades)
-   [<span data-ttu-id="cede9-142">Patching der Benutzerkontensteuerung (User Account Control, UAC)</span><span class="sxs-lookup"><span data-stu-id="cede9-142">User Account Control (UAC) Patching</span></span>](/windows/desktop/Msi/user-account-control--uac--patching)

<span data-ttu-id="cede9-143">Der Nachteil dieser Methode besteht darin, dass das Patchen Administrator Rechte erfordert, wenn das Spiel nicht von einem Wechselmedium unter Windows XP installiert wurde.</span><span class="sxs-lookup"><span data-stu-id="cede9-143">The disadvantage to this method is that if the game was not installed from removable media on Windows XP, then patching requires Administrator rights.</span></span> <span data-ttu-id="cede9-144">Dies ist jedoch wahrscheinlich nicht zu restriktiv, da die meisten Benutzer Administratoren unter Windows XP und die Beschränkung auf Software, die von Wechselmedien installiert wird, nicht unter Windows Vista vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="cede9-144">However, this not likely to be too restrictive, because most users administrators on Windows XP, and the restriction to software installed from removable media is not present on Windows Vista.</span></span>

<span data-ttu-id="cede9-145">Der Hauptvorteil dieser Methode besteht darin, dass Patches von einem Standard Benutzerkonto angewendet werden können, ohne dass eine Aufforderung und eine Authentifizierung für erhöhte Rechte erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="cede9-145">The main advantage of this method is that patches can be applied by a Standard User account without requiring a prompt and authentication for elevated rights.</span></span> <span data-ttu-id="cede9-146">Dies sorgt für eine bessere Benutzer Leistung, da ein Benutzer mit einem Standard Benutzerkonto nicht jemand mit einem Administrator Konto bitten muss, den Patch zu installieren oder dem Standardbenutzer Konto permanente Administrator Rechte bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="cede9-146">This provides a better user experience, because to play a game, a user with a Standard User account doesn't need to ask someone with an Administrator account to install the patch or to provide the Standard User account with permanent Administrator rights.</span></span>

<span data-ttu-id="cede9-147">Es ist möglich, dass diese Methode für Spiele funktioniert, die häufig Patches erfordern, aber der Aufwand für die Verwendung von Windows Installer Paketen in Bezug auf die Buildintegration und die Unterstützung einer großen Anzahl von Dateien kann dazu führen, dass diese Methode weniger erwünscht ist als andere.</span><span class="sxs-lookup"><span data-stu-id="cede9-147">It is possible that this method might work for games that require frequent patches, but the overhead of using Windows Installer packages, in terms of build integration and supporting large numbers of files, might make this method less desirable than others.</span></span>

### <a name="method-2-require-administrator-rights-to-apply-patches"></a><span data-ttu-id="cede9-148">Methode 2: Administrator Rechte zum Anwenden von Patches erforderlich</span><span class="sxs-lookup"><span data-stu-id="cede9-148">Method 2: Require Administrator Rights to Apply Patches</span></span>

<span data-ttu-id="cede9-149">Bei dieser Methode erfordert die ausführbare Datei, die den Patch anwendet, Administrator Rechte zum Ausführen von.</span><span class="sxs-lookup"><span data-stu-id="cede9-149">In this method, the executable file that applies the patch requires Administrator rights to run.</span></span> <span data-ttu-id="cede9-150">Mit Administrator Rechten kann die ausführbare Datei für das Patchen die Spieldateien, die sich in% System Drive% Program Files befinden, direkt ändern \\ .</span><span class="sxs-lookup"><span data-stu-id="cede9-150">With Administrator rights, the patching executable can directly modify the game files located in %SystemDrive%\\Program Files.</span></span>

<span data-ttu-id="cede9-151">Der Vorteil dieser Methode ist die Einfachheit.</span><span class="sxs-lookup"><span data-stu-id="cede9-151">The advantage of this method is its simplicity.</span></span> <span data-ttu-id="cede9-152">Diese Methode ist jedoch ungeeignet, wenn das Spiel häufig Patches benötigt, denn wenn ein Benutzer mit einem Standard Benutzerkonto ein Spiel spielen möchte, das häufig Patches erfordert, wie etwa ein Massively Multi-Player-Onlinespiel, bietet dieser Benutzer zwei Möglichkeiten:</span><span class="sxs-lookup"><span data-stu-id="cede9-152">However, this method is unsuitable if the game needs frequent patches, because if a user with a Standard User account wants to play a game that requires frequent patches, like a massively multi-player online game, then that user has two choices:</span></span>

-   <span data-ttu-id="cede9-153">Holen Sie sich einen Administrator zum Anmelden und Patchen des Spiels, was für beide Parteien unpraktisch sein kann.</span><span class="sxs-lookup"><span data-stu-id="cede9-153">Get an Administrator to log on and patch the game, which might be inconvenient for both parties.</span></span>
-   <span data-ttu-id="cede9-154">Lassen Sie sein Konto dauerhaft mit Administrator Rechten herauf.</span><span class="sxs-lookup"><span data-stu-id="cede9-154">Have his or her account permanently elevated with Administrator rights.</span></span>

> [!Note]  
> <span data-ttu-id="cede9-155">Die zweite Lösung schwächt nicht nur die Sicherheit des Systems als Ganzes, sondern verhindert, dass wichtige Features, wie z. b. Jugend Kontrollen, funktionieren.</span><span class="sxs-lookup"><span data-stu-id="cede9-155">The latter solution not only weakens the security of the system as a whole, but it prevents important features, like parental controls, from working.</span></span>

 

<span data-ttu-id="cede9-156">Beim Implementieren dieser Methode muss sich die ausführbare Datei, die den Patch anwendet, von der ausführbaren Spieldatei unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="cede9-156">When implementing this method, the executable file that applies the patch must be different from the game executable.</span></span> <span data-ttu-id="cede9-157">Das Manifest der ausführbaren Datei für das Patchen sollte für requestedExecutionLevel den Wert requisionministrator angeben, um ihn als Anwendung anzugeben, für die Administrator Rechte erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="cede9-157">The manifest of the patching executable should specify requireAdministrator for requestedExecutionLevel to denote it as an application that requires Administrator rights.</span></span> <span data-ttu-id="cede9-158">Weitere Informationen hierzu finden Sie unter [bewährte Methoden für Entwickler und Richtlinien für Anwendungen in einer Umgebung mit geringsten](/previous-versions/dotnet/articles/aa480150(v=msdn.10))Berechtigungen im "Schema des Anwendungs Manifests".</span><span class="sxs-lookup"><span data-stu-id="cede9-158">More information about how to do this can be found at [Developer Best Practices and Guidelines for Applications in a Least Privileged Environment](/previous-versions/dotnet/articles/aa480150(v=msdn.10)), in "Application Manifest Schema."</span></span>

<span data-ttu-id="cede9-159">Wenn diese Methode verwendet wird, auch mit den Einstellungen im Manifest, kann die ausführbare Datei in zwei Fällen weiterhin ohne Administrator Rechte gestartet werden:</span><span class="sxs-lookup"><span data-stu-id="cede9-159">When this method is used, even with the settings in the manifest, the executable file might still be launched without Administrator rights in two cases:</span></span>

-   <span data-ttu-id="cede9-160">Wenn das Betriebssystem Windows XP ist und das Benutzerkonto ein eingeschränkter Benutzer ist.</span><span class="sxs-lookup"><span data-stu-id="cede9-160">If the operating system is Windows XP, and the user's account is a Restricted User.</span></span>
-   <span data-ttu-id="cede9-161">Wenn das Betriebssystem Windows Vista oder Windows 7 ist, ist das Benutzerkonto ein Standard Benutzer, und UAC ist deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="cede9-161">If the operating system is Windows Vista or Windows 7, the user's account is a Standard User, and UAC is disabled.</span></span>

<span data-ttu-id="cede9-162">Beides sind seltene Consumerszenarien.</span><span class="sxs-lookup"><span data-stu-id="cede9-162">Both of these are rare consumer scenarios.</span></span> <span data-ttu-id="cede9-163">Der Patcher sollte jedoch über das Manifest verfügen, das Administrator Rechte erfordert, und es sollte [**isuseranadmin**](/windows/desktop/api/shlobj_core/nf-shlobj_core-isuseranadmin); aufgerufen werden. Wenn diese Funktion false zurückgibt, wird die Fehlermeldung "Administrator Rechte sind erforderlich" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="cede9-163">However, the patcher should have the manifest require Administrator rights, and it should call [**IsUserAnAdmin**](/windows/desktop/api/shlobj_core/nf-shlobj_core-isuseranadmin); if this function returns FALSE, the error message "Administrator rights are required" is displayed.</span></span>

<span data-ttu-id="cede9-164">Insgesamt ist Methode 1 für Spiele vorzuziehen, die in ihrer Lebensdauer nur wenige Patches benötigen.</span><span class="sxs-lookup"><span data-stu-id="cede9-164">Overall, method 1 is preferable for games that need just a few patches over their lifetimes.</span></span>

## <a name="games-that-require-frequent-patches"></a><span data-ttu-id="cede9-165">Spiele, die häufig Patches erfordern</span><span class="sxs-lookup"><span data-stu-id="cede9-165">Games that Require Frequent Patches</span></span>

<span data-ttu-id="cede9-166">Viele Internet basierte Spiele werden ständig verbessert und erfordern normalerweise reguläre Patches.</span><span class="sxs-lookup"><span data-stu-id="cede9-166">Many Internet-based games are being improved continuously, and they usually require regular patches.</span></span> <span data-ttu-id="cede9-167">Für diese Spiele können Patches pro Benutzer oder pro Computer angewendet werden, wie in den folgenden Themen erläutert.</span><span class="sxs-lookup"><span data-stu-id="cede9-167">For these games, patches could be applied per-user or per-computer, as discussed in the follow topics.</span></span> <span data-ttu-id="cede9-168">Weitere mögliche Lösungen sind das Ändern der ACL, die% System Drive%- \\ Programmdateien schützt, oder das Erstellen eines benutzerdefinierten Dienstanbieter.</span><span class="sxs-lookup"><span data-stu-id="cede9-168">Other possible solutions include altering the ACL that protects %SystemDrive%\\Program Files or creating a custom service.</span></span>

### <a name="method-3-install-per-user"></a><span data-ttu-id="cede9-169">Methode 3: Installieren von Per-User</span><span class="sxs-lookup"><span data-stu-id="cede9-169">Method 3: Install Per-User</span></span>

<span data-ttu-id="cede9-170">Ein empfohlener und einfacher Ansatz besteht darin, das gesamte Spiel in einem benutzerspezifischen Unterordner des Ordners "lokale Anwendungsdaten" zu installieren, den Sie durch Aufrufen von " [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) " mit lokalen CSIDL- \_ \_ AppData finden können.</span><span class="sxs-lookup"><span data-stu-id="cede9-170">One recommended and easy approach is to install the entire game to a per-user subfolder of the local application data folder, which you can find by calling [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with CSIDL\_LOCAL\_APPDATA.</span></span> <span data-ttu-id="cede9-171">Ein Beispiel Pfad ist C: \\ Dokumente und Einstellungen \\ Benutzername \\ lokale Einstellungen \\ Anwendungsdaten \\ examplegname.</span><span class="sxs-lookup"><span data-stu-id="cede9-171">An example path is C:\\Documents and Settings\\user name\\Local Settings\\Application Data\\ExampleGame.</span></span> <span data-ttu-id="cede9-172">Ein solcher Speicherort ermöglicht es einer Anwendung, die mit Standard Benutzerrechten ausgeführt wird, Spieldateien direkt zu ändern.</span><span class="sxs-lookup"><span data-stu-id="cede9-172">Such a location allows an application running with Standard User rights to directly modify game files.</span></span>

<span data-ttu-id="cede9-173">Bei diesem Ansatz gibt es jedoch einen Nachteil, wenn ein Computer mehrere Benutzer hat: für jeden Benutzer ist eine Kopie des Spiels installiert, und Patches müssen heruntergeladen und von jedem Benutzer angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-173">However, there is a disadvantage to this approach when a computer has multiple users: each user has a copy of the game installed, and patches must be downloaded and applied by each user.</span></span> <span data-ttu-id="cede9-174">Dadurch wird nicht nur die Zeit und der Speicherplatz des Benutzers verschwendet, sondern auch die Netzwerkbandbreite auf den Server erhöht, der Patches bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="cede9-174">This wastes not only users' time and disk space, but it also increases use of network bandwidth to the server that provides patches.</span></span> <span data-ttu-id="cede9-175">Da alle Anwendungen mit Standardbenutzer rechten das Spiel ändern können, sind die ausführbaren Spieldateien weniger geschützt. Es ist für den Spiel Hersteller zu entscheiden, ob dies akzeptabel ist oder nicht.</span><span class="sxs-lookup"><span data-stu-id="cede9-175">Also, because any application with standard user rights can modify the game, game executables are less protected; it is up to the game manufacturer to decide if this is acceptable or not.</span></span>

### <a name="method-4-install-to-a-common-per-computer-location"></a><span data-ttu-id="cede9-176">Methode 4: Installieren an einem gemeinsamen Per-Computer Speicherort</span><span class="sxs-lookup"><span data-stu-id="cede9-176">Method 4: Install to a Common Per-Computer Location</span></span>

<span data-ttu-id="cede9-177">Eine andere Methode besteht darin, die nicht ausführbaren Spieldaten in einem Unterverzeichnis des Pfads zu installieren, der durch [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) CSIDL \_ Common \_ AppData angegeben wird. ein Beispiel Pfad ist C: \\ Dokumente und Einstellungen \\ alle Benutzer \\ Anwendungsdaten \\ examplegname.</span><span class="sxs-lookup"><span data-stu-id="cede9-177">Another method is to install the non-executable game data to a subdirectory of the path specified by [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) CSIDL\_COMMON\_APPDATA; an example path is C:\\Documents and Settings\\All Users\\Application Data\\ExampleGame.</span></span> <span data-ttu-id="cede9-178">Dabei handelt es sich um einen freigegebenen Speicherort für alle Benutzer, der von Anwendungen geändert werden kann, die mit Standard Benutzerrechten ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-178">This is a shared location for all users, and it can be modified by applications that run with Standard User rights.</span></span> <span data-ttu-id="cede9-179">Diese Methode minimiert die Notwendigkeit, große Patches erneut anzuwenden, wenn das Spiel von mehr als einem Konto wiedergegeben wird.</span><span class="sxs-lookup"><span data-stu-id="cede9-179">This method minimizes the need to reapply large patches when the game is played from more than one account.</span></span> <span data-ttu-id="cede9-180">Ausführbare Dateien für das Spiel sollten in% System Drive% Programme aufbewahrt werden \\ , um das Risiko für andere Konten auf dem System zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="cede9-180">Executable files for the game should be kept in %SystemDrive%\\Programs Files to minimize the risk to other accounts on the system.</span></span> <span data-ttu-id="cede9-181">Die ausführbaren Dateien sollten die Integrität des neuen Inhalts im freigegebenen Verzeichnis überprüfen, da der Speicherort von einem Programm oder einer Person mit Standard Benutzerrechten geändert werden kann. Verwenden Sie " [**mapfileandchecksum**](/windows/desktop/api/imagehlp/nf-imagehlp-mapfileandchecksuma) ", um eine Prüfsumme der Dateien zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="cede9-181">The executable files should verify the integrity of the new content in the shared directory, since that location can be modified by a program or person with Standard User rights; consider using [**MapFileAndCheckSum**](/windows/desktop/api/imagehlp/nf-imagehlp-mapfileandchecksuma) to compute a checksum of the files.</span></span>

<span data-ttu-id="cede9-182">Diese Methode hat den Vorteil, dass Sie sowohl unter Windows XP als auch unter Windows Vista gleichermaßen gut funktioniert und keine Administrator Rechte erfordert.</span><span class="sxs-lookup"><span data-stu-id="cede9-182">This method has the advantage of working equally well on both Windows XP and Windows Vista, and it doesn't require Administrator rights.</span></span>

### <a name="other-possibilities"></a><span data-ttu-id="cede9-183">Weitere Möglichkeiten</span><span class="sxs-lookup"><span data-stu-id="cede9-183">Other Possibilities</span></span>

<span data-ttu-id="cede9-184">Außerhalb der bereits erörterten Methoden besteht eine weitere Möglichkeit darin, die ACL des% System Drive% \\ Program Files- \\ Spiel Ordners zu ändern, \\ Wenn das Spiel installiert wird, sodass ein Tool zum Patchen direkt in die Spieldateien schreiben kann, auch wenn es mit Standard Benutzerrechten ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cede9-184">Outside of the methods already discussed, another possibility is to alter the ACL of %SystemDrive%\\Program Files\\Game Folder\\ when installing the game so that a patching tool can write directly to the game's files even when run with Standard User rights.</span></span> <span data-ttu-id="cede9-185">Obwohl dies nicht schwierig ist, wird der Sicherheitsschutz umgangen, den das System für die Dateien des Spiels bietet, und es ist möglich, dass böswillige Programme den Inhalt des Verzeichnisses ändern können.</span><span class="sxs-lookup"><span data-stu-id="cede9-185">While this is not difficult, it does bypass the security protection that the system offers to the game's files and provides an opportunity for malicious programs to alter the contents of the directory.</span></span> <span data-ttu-id="cede9-186">Dies ist nicht empfehlenswert, und es wird dringend empfohlen, stattdessen eine Alternative zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="cede9-186">This is not advisable, and it is strongly recommended that an alternative be used instead.</span></span>

<span data-ttu-id="cede9-187">Eine letzte Möglichkeit besteht darin, einen benutzerdefinierten Dienst zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="cede9-187">One final possibility is to write a custom service.</span></span> <span data-ttu-id="cede9-188">Im Allgemeinen ist das Schreiben eines benutzerdefinierten Dienstanbieter in patchspiele keine gute Idee, da dies kompliziert und fehleranfällig ist.</span><span class="sxs-lookup"><span data-stu-id="cede9-188">In general, writing a custom service to patch games is not a good idea, because doing so is complicated and error-prone.</span></span> <span data-ttu-id="cede9-189">Es wird empfohlen, das Patchen mithilfe anderer Methoden durchführen, die in diesem Artikel erläutert werden.</span><span class="sxs-lookup"><span data-stu-id="cede9-189">It is recommended that patching be done by use of other methods discussed in this article.</span></span> <span data-ttu-id="cede9-190">Es ist jedoch möglich, dass ein benutzerdefinierter Dienst erforderlich ist, wenn er mit Anticheat-oder Anti-Piraterie-Lösungen kombiniert wird.</span><span class="sxs-lookup"><span data-stu-id="cede9-190">However, a custom service might be necessary when combined with anti-cheat or anti-piracy solutions.</span></span> <span data-ttu-id="cede9-191">Ein solcher Dienst sollte eine große Anzahl von Spielen unterstützen und so entworfen werden, dass er nur die Patchdateien herunterladen und nur in das Installationsverzeichnis für das zielspiel schreiben kann.</span><span class="sxs-lookup"><span data-stu-id="cede9-191">Such a service should support a large number of games and be designed so that it can only download the patch files and write only to the installation directory for the target game.</span></span> <span data-ttu-id="cede9-192">Es ist wichtig, dass der Dienst klein ist, einen minimalen Oberflächen Bereich hat, der anfällig für Angriffe ist, und so wenig Systemressourcen wie möglich verwenden, wenn das Spiel nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cede9-192">It is important that the service be small, have a minimal surface area that is vulnerable to attack, and use as few system resources as possible when the game is not running.</span></span>

## <a name="summary"></a><span data-ttu-id="cede9-193">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="cede9-193">Summary</span></span>

<span data-ttu-id="cede9-194">Letztendlich müssen Sie entscheiden, welche Methode implementiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="cede9-194">Ultimately, it is up to you to decide which method to implement.</span></span> <span data-ttu-id="cede9-195">Sie müssen die Faktoren abwägen, die für Sie wichtig sind.</span><span class="sxs-lookup"><span data-stu-id="cede9-195">You need to weigh the factors are that are important to you.</span></span> <span data-ttu-id="cede9-196">Die Sicherheit, die Häufigkeit des Patchens, die Benutzerfreundlichkeit durch den Kunden, die für die Implementierung erforderliche Arbeitsauslastung, die Komplexität der Lösung und die Kompatibilität von Platt Form Features sind die Faktoren, die jeder Entwickler berücksichtigen muss, bevor er sich für eine bestimmte Methode entscheidet.</span><span class="sxs-lookup"><span data-stu-id="cede9-196">Security, frequency of patching, ease of use by customer, workload required to implement, complexity of solution, and platform feature compliance are the factors that each developer must consider before deciding on a particular method.</span></span>

<span data-ttu-id="cede9-197">Weitere Informationen zum Schutz von Benutzerkonten finden Sie unter [Windows Vista Anwendungs Entwicklungsanforderungen für die Benutzerkontensteuerung (User Account Control, UAC)](/previous-versions/aa905330(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="cede9-197">You can find more information about user account protection in [Windows Vista Application Development Requirements for User Account Control (UAC)](/previous-versions/aa905330(v=msdn.10)).</span></span>

 

 