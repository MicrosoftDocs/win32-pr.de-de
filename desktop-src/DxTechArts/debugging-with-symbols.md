---
title: Debuggen mit Symbolen
description: Dieser Artikel bietet einen Überblick über die beste Verwendung von Symbolen im Debugprozess.
ms.assetid: 7ce0c9c7-485c-8d72-0353-27fd2e369a7c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ff63e2404a07a2f0ab5adcb156d83dc989b42fd4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104516940"
---
# <a name="debugging-with-symbols"></a><span data-ttu-id="72e8e-103">Debuggen mit Symbolen</span><span class="sxs-lookup"><span data-stu-id="72e8e-103">Debugging with Symbols</span></span>

<span data-ttu-id="72e8e-104">Dieser Artikel bietet einen Überblick über die beste Verwendung von Symbolen im Debugprozess.</span><span class="sxs-lookup"><span data-stu-id="72e8e-104">This article provides a high level overview of how to best use symbols in your debugging process.</span></span> <span data-ttu-id="72e8e-105">Es wird erläutert, wie Sie den Microsoft-Symbol Server verwenden und wie Sie Ihren eigenen privaten Symbol Server einrichten und verwenden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-105">It explains how to use the Microsoft symbol server, and also how to set up and use your own private symbol server.</span></span> <span data-ttu-id="72e8e-106">Mit diesen bewährten Methoden können Sie die Effektivität und die Fähigkeit zum Debuggen von Problemen steigern, auch wenn sich alle Symbole und ausführbaren Dateien, die mit einem Problem zusammenhängen, nicht auf dem Computer befinden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-106">These best practices can help increase your effectiveness and ability to debug issues, even in cases where all the symbols and executable files that are related to a problem are not located on your computer.</span></span>

-   [<span data-ttu-id="72e8e-107">Symbols</span><span class="sxs-lookup"><span data-stu-id="72e8e-107">Symbols</span></span>](#debugging-with-symbols)
-   [<span data-ttu-id="72e8e-108">Verwenden von Symbolen zum Debuggen</span><span class="sxs-lookup"><span data-stu-id="72e8e-108">Using Symbols for Debugging</span></span>](#using-symbols-for-debugging)
-   [<span data-ttu-id="72e8e-109">Erhalten der benötigten Symbole</span><span class="sxs-lookup"><span data-stu-id="72e8e-109">Getting the Symbols You Need</span></span>](#getting-the-symbols-you-need)
    -   [<span data-ttu-id="72e8e-110">Überprüfen Sie, ob eine bestimmte dll-Datei oder exe-Datei und PDB im gleichen Ordner übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-110">Check if a given DLL or .exe file and PDB in the same folder match</span></span>](#check-if-a-given-dll-or-exe-file-and-pdb-in-the-same-folder-match)
    -   [<span data-ttu-id="72e8e-111">Überprüfen Sie, ob alle DLLs und ausführbaren Dateien in einem Ordner Satz übereinstimmende pdsb aufweisen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-111">Check if all the DLLs and executable files in a set of folders have matching PDBs</span></span>](#check-if-all-the-dlls-and-executable-files-in-a-set-of-folders-have-matching-pdbs)
    -   [<span data-ttu-id="72e8e-112">Funktionsweise von Symchk</span><span class="sxs-lookup"><span data-stu-id="72e8e-112">How symchk Works</span></span>](#how-symchk-works)
-   [<span data-ttu-id="72e8e-113">Symbol Server</span><span class="sxs-lookup"><span data-stu-id="72e8e-113">Symbol Servers</span></span>](#symbol-servers)
-   [<span data-ttu-id="72e8e-114">Verwenden des Microsoft-Symbol Servers</span><span class="sxs-lookup"><span data-stu-id="72e8e-114">Using the Microsoft Symbol Server</span></span>](#using-the-microsoft-symbol-server)
-   [<span data-ttu-id="72e8e-115">Manuelles erhalten von Symbolen</span><span class="sxs-lookup"><span data-stu-id="72e8e-115">Getting Symbols Manually</span></span>](#getting-symbols-manually)
-   [<span data-ttu-id="72e8e-116">Einrichten eines Symbol Servers</span><span class="sxs-lookup"><span data-stu-id="72e8e-116">Setting Up a Symbol Server</span></span>](#setting-up-a-symbol-server)
-   [<span data-ttu-id="72e8e-117">Hinzufügen von Symbolen zu einem Symbol Server</span><span class="sxs-lookup"><span data-stu-id="72e8e-117">Adding Symbols to a Symbol Server</span></span>](#adding-symbols-to-a-symbol-server)
-   [<span data-ttu-id="72e8e-118">Bewährte Methoden</span><span class="sxs-lookup"><span data-stu-id="72e8e-118">Best Practices</span></span>](#best-practices)

## <a name="symbols"></a><span data-ttu-id="72e8e-119">Symbole</span><span class="sxs-lookup"><span data-stu-id="72e8e-119">Symbols</span></span>

<span data-ttu-id="72e8e-120">Eine Reihe verschiedener Typen von Symbolen sind zum Debuggen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="72e8e-120">A number of different types of symbols are available for debugging.</span></span> <span data-ttu-id="72e8e-121">Dazu zählen CodeView-Symbole, COFF, dbg, SYM, PDB und sogar Export Symbole, die aus einer Export Tabelle für binäre Dateien generiert werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-121">They include CodeView symbols, COFF, DBG, SYM, PDB, and even export symbols that are generated from a binary files export table.</span></span> <span data-ttu-id="72e8e-122">In diesem Whitepaper werden nur die Symbole vs.net und PDB-Format erläutert, da Sie das aktuellste bevorzugte Format aufweisen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-122">This white paper discusses only VS.NET and the PDB format symbols, because they are the most recent, preferred format.</span></span> <span data-ttu-id="72e8e-123">Sie werden standardmäßig für Projekte generiert, die mithilfe von Visual Studio kompiliert werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-123">They are generated by default for projects that are compiled by using Visual Studio.</span></span>

<span data-ttu-id="72e8e-124">Das Generieren von PDB-Dateien für releaseexecutables wirkt sich nicht auf Optimierungen aus oder ändert die Größe der generierten Dateien erheblich.</span><span class="sxs-lookup"><span data-stu-id="72e8e-124">Generating PDB files for release executables does not affect any optimizations, or significantly alter the size of the generated files.</span></span> <span data-ttu-id="72e8e-125">In der Regel ist der Pfad der einzige Unterschied, und der Dateiname der PDB-Datei wird in die ausführbare Datei eingebettet.</span><span class="sxs-lookup"><span data-stu-id="72e8e-125">Typically, the only difference is the path, and the file name of the PDB file is embedded in the executable.</span></span> <span data-ttu-id="72e8e-126">Aus diesem Grund sollten Sie immer PDB-Dateien entwickeln, auch wenn Sie Sie nicht mit der ausführbaren Datei versenden möchten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-126">For this reason, you should always produce PDB files, even if you don't want to ship them with the executable.</span></span>

<span data-ttu-id="72e8e-127">PDB-Dateien werden generiert, wenn ein Projekt erstellt wird, indem der **/Zi** -oder **/Zi** -Compilerschalter (erzeugt PDB-Informationen) sowie der Linkerschalter **/Debug** (Debuginfo generieren) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="72e8e-127">PDB files are generated if a project is built by using the **/Zi** or **/ZI** (Produce PDB Information) compiler switch, together with the **/DEBUG** (Generate Debug Info) linker switch.</span></span> <span data-ttu-id="72e8e-128">Die vom Compiler generierten PDB-Dateien werden kombiniert und in eine einzelne PDB-Datei geschrieben, die sich im selben Verzeichnis wie die ausführbare Datei befindet.</span><span class="sxs-lookup"><span data-stu-id="72e8e-128">The compiler-generated PDB files are combined and written into a single PDB file that is placed in the same directory as the executable.</span></span>

<span data-ttu-id="72e8e-129">Standardmäßig enthalten PDB-Dateien die folgenden Informationen:</span><span class="sxs-lookup"><span data-stu-id="72e8e-129">By default, PDB files contain the following information:</span></span>

-   <span data-ttu-id="72e8e-130">Öffentliche Symbole (in der Regel alle Funktionen, statische und globale Variablen)</span><span class="sxs-lookup"><span data-stu-id="72e8e-130">Public symbols (typically all functions, static and global variables)</span></span>
-   <span data-ttu-id="72e8e-131">Eine Liste von Objektdateien, die für Code Abschnitte in der ausführbaren Datei verantwortlich sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-131">A list of object files that are responsible for sections of code in the executable</span></span>
-   <span data-ttu-id="72e8e-132">Informationen zur Frame Zeiger Optimierung (FPO)</span><span class="sxs-lookup"><span data-stu-id="72e8e-132">Frame pointer optimization information (FPO)</span></span>
-   <span data-ttu-id="72e8e-133">Name und Typinformationen für lokale Variablen und Datenstrukturen</span><span class="sxs-lookup"><span data-stu-id="72e8e-133">Name and type information for local variables and data structures</span></span>
-   <span data-ttu-id="72e8e-134">Informationen zur Quelldatei und Zeilennummer</span><span class="sxs-lookup"><span data-stu-id="72e8e-134">Source file and line number information</span></span>

<span data-ttu-id="72e8e-135">Wenn Sie sich Gedanken darüber machen, welche Personen die PDB-Dateiinformationen verwenden, um Sie bei der Umkehrung der ausführbaren Datei zu unterstützen, können Sie auch gestreifte PDB-Dateien mithilfe der Linkeroption **/PDBSTRIPPED: filename** generieren.</span><span class="sxs-lookup"><span data-stu-id="72e8e-135">If you are concerned about people using the PDB file information to help them reverse engineer your executable, you can also generate stripped PDB files, by using the **/PDBSTRIPPED:filename** linker option.</span></span> <span data-ttu-id="72e8e-136">Wenn Sie über vorhandene PDB-Dateien verfügen, von denen Sie private Informationen entfernen möchten, können Sie ein Tool namens pdbcopy verwenden, das Teil der Debugtools für Windows ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-136">If you have existing PDB files that you would like to strip private information from, you can use a tool called pdbcopy, which is part of the debugging tools for Windows.</span></span>

<span data-ttu-id="72e8e-137">Standardmäßig enthalten die abgestürzten PDB-Dateien die folgenden Informationen:</span><span class="sxs-lookup"><span data-stu-id="72e8e-137">By default, stripped PDB files contain the following information:</span></span>

-   <span data-ttu-id="72e8e-138">Öffentliche Symbole (in der Regel nur nicht statische Funktionen und globale Variablen)</span><span class="sxs-lookup"><span data-stu-id="72e8e-138">Public symbols (typically only non-static functions and global variables)</span></span>
-   <span data-ttu-id="72e8e-139">Eine Liste von Objektdateien, die für Code Abschnitte in der ausführbaren Datei verantwortlich sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-139">A list of object files that are responsible for sections of code in the executable</span></span>
-   <span data-ttu-id="72e8e-140">Informationen zur Frame Zeiger Optimierung (FPO)</span><span class="sxs-lookup"><span data-stu-id="72e8e-140">Frame pointer optimization information (FPO)</span></span>

<span data-ttu-id="72e8e-141">Dies sind die minimalen Informationen, die erforderlich sind, um zuverlässiges Debuggen zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-141">This is the minimum information that is required to allow reliable debugging.</span></span> <span data-ttu-id="72e8e-142">Die minimalen Informationen erschweren außerdem das Abrufen zusätzlicher Informationen über den ursprünglichen Quellcode.</span><span class="sxs-lookup"><span data-stu-id="72e8e-142">Minimum information also makes it difficult to obtain any additional information about your original source code.</span></span> <span data-ttu-id="72e8e-143">Da sowohl eine abgestreifte PDB-Datei als auch eine reguläre PDB-Datei generiert werden, können Sie Benutzern, die möglicherweise eingeschränkte Debuggingfähigkeiten benötigen, eine nicht benötigte Version bereitstellen, aber die vollständigen pdsb vertraulich aufbewahren.</span><span class="sxs-lookup"><span data-stu-id="72e8e-143">Because both a stripped PDB file and a regular PDB file are generated, you can provide the stripped version to users who may need limited debugging abilities, but keep the full PDBs confidential.</span></span> <span data-ttu-id="72e8e-144">Beachten Sie, dass **/PDBSTRIPPED** eine zweite, kleinere PDB-Datei generiert. Stellen Sie daher sicher, dass Sie die richtige PDB-Datei verwenden, wenn Sie Builds zur allgemeinen Verteilung generieren.</span><span class="sxs-lookup"><span data-stu-id="72e8e-144">Note that **/PDBSTRIPPED** generates a second, smaller PDB file, so make sure that you use the correct PDB file when you generate builds to distribute broadly.</span></span> <span data-ttu-id="72e8e-145">Bei einem typischen Projekt kann eine reguläre PDB-Datei eine Größe von wenigen Megabyte aufweisen, aber eine gestreifte Version der PDB-Datei kann nur ein paar hundert Kilobyte betragen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-145">For a typical project, a regular PDB may be a few megabytes in size, but a stripped version of the PDB may be only a few hundred kilobytes.</span></span>

## <a name="using-symbols-for-debugging"></a><span data-ttu-id="72e8e-146">Verwenden von Symbolen zum Debuggen</span><span class="sxs-lookup"><span data-stu-id="72e8e-146">Using Symbols for Debugging</span></span>

<span data-ttu-id="72e8e-147">Wenn Sie eine Anwendung debuggen, die abgestürzt ist, versucht der Debugger, die Funktionen auf dem Stapel anzuzeigen, der zum Absturz geführt hat.</span><span class="sxs-lookup"><span data-stu-id="72e8e-147">When you are debugging an application that has crashed, the debugger attempts to show you the functions on the stack that led up to the crash.</span></span> <span data-ttu-id="72e8e-148">Ohne eine PDB-Datei kann der Debugger die Funktionsnamen, die zugehörigen Parameter oder lokale Variablen, die auf dem Stapel gespeichert sind, nicht auflösen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-148">Without a PDB file, the debugger can not resolve the function names, their parameters, or any local variables that are stored on the stack.</span></span> <span data-ttu-id="72e8e-149">Wenn Sie ausführbare 32-Bit-Dateien Debuggen, gibt es Situationen, in denen Sie nicht sogar zuverlässige Stapel Überwachungen ohne Symbole erhalten können.</span><span class="sxs-lookup"><span data-stu-id="72e8e-149">If you debug 32-bit executables, there are situations where you cannot even get reliable stack traces without symbols.</span></span> <span data-ttu-id="72e8e-150">Manchmal ist es möglich, die Rohwerte im Stapel zu betrachten und herauszufinden, welche Werte Rückgabe Adressen sein können. Diese können jedoch problemlos mit Funktions verweisen oder Daten verwechselt werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-150">Sometimes it's possible to look at the raw values on the stack, and work out which values might be return addresses, but these can be easily confused with function references or data.</span></span>

<span data-ttu-id="72e8e-151">Wenn Funktionen auf dem aktuellen Stapel mithilfe der **/Oy**-Optimierung (unterdrücken von Frame Zeigern) kompiliert wurden und keine Symbole vorhanden sind, kann der Debugger nicht zuverlässig bestimmen, welche Funktion die aktuelle Funktion aufgerufen hat.</span><span class="sxs-lookup"><span data-stu-id="72e8e-151">If functions on the current stack were compiled by using the Omit Frame Pointers (**/Oy**) optimization, and if symbols are not present, the debugger cannot reliably determine which function called the current function.</span></span> <span data-ttu-id="72e8e-152">Dies liegt daran, dass der Debugger ohne die Informationen der Frame Zeiger Optimierung (FPO), die PDBs enthalten, nicht darauf verlassen kann, dass das Frame Zeiger Register (EBP) auf den gespeicherten vorherigen Frame Zeiger und an der Rückgabeadresse der übergeordneten Funktion verweist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-152">This is because without the Frame Pointer Optimization (FPO) information that PDBs contain, the debugger cannot rely on the frame pointer register (EBP) to point at the saved previous frame pointer and at the return address of the parent function.</span></span> <span data-ttu-id="72e8e-153">Stattdessen wird es angezeigt.</span><span class="sxs-lookup"><span data-stu-id="72e8e-153">Instead, it guesses.</span></span> <span data-ttu-id="72e8e-154">Manchmal wird Sie richtig angezeigt.</span><span class="sxs-lookup"><span data-stu-id="72e8e-154">Sometimes it gets it right.</span></span> <span data-ttu-id="72e8e-155">Es ist jedoch häufig falsch, was irreführend sein kann.</span><span class="sxs-lookup"><span data-stu-id="72e8e-155">However, it often gets it wrong, which can be misleading.</span></span> <span data-ttu-id="72e8e-156">Wenn eine Warnung zu fehlenden Symbolen angezeigt wird oder keine Symbole geladen wurden, wie im folgenden Beispiel gezeigt, sollten Sie den Stapel von diesem Punkt nicht als vertrauenswürdig einstufen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-156">If you see a warning about missing symbols, or no symbols loaded, as in the following example, do not trust the stack from that point down.</span></span>

``` syntax
SWPerfTest.exe!TextFunction(... ...)    Line 59    C++
d3dx9d.dll!008829b5()
[Frames below may be incorrect and/or missing, no symbols loaded for d3dx9d.dll]
SWPerfTest.exe!main(int argc=, const char * * argv=)  Line 328 + 0x12 bytes     C++
SWPerfTest.exe!__mainCRTStartup() Line 716 + 0x17 bytes    C
kernel32.dll!@BaseThreadInitThunk@12() + 0x12 bytes
ntdll.dll!__RtlUserThreadStart@8() + 0x27 bytes
```

<span data-ttu-id="72e8e-157">In vielen Fällen ist es möglich, das Debuggen ohne Symbole fortzusetzen, da sich das Problem an einem Speicherort mit exakten Symbolen befindet und Sie die Funktionen nicht weiter unten in der aufrufsstapel ansehen müssen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-157">In many cases, it's possible to continue debugging without symbols, because the problem is in a location that has accurate symbols, and you don't need to look at functions further down the call stack.</span></span> <span data-ttu-id="72e8e-158">Auch wenn für eine Bibliothek, die sich in der Aufruf Stapel befindet, keine PDB-Funktionen verfügbar sind, sollte der Debugger bei der Kompilierung mit Frame Zeigern in der Lage sein, in den übergeordneten Funktionen ordnungsgemäß zu erraten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-158">Even if a library that is in your call stack doesn't have PDBs available, as long as they were compiled with frame pointers, the debugger should be able to guess correctly at the parent functions.</span></span> <span data-ttu-id="72e8e-159">Ab Windows XP Service Pack 2 werden alle Windows-DLL-Dateien und ausführbaren Dateien mit deaktiviertem voll qualifizierte Datenschutz kompiliert, da das Debugging genauer ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-159">Starting with Windows XP Service Pack 2, all Windows DLL and executable files are compiled with FPO disabled, because it makes debugging more accurate.</span></span> <span data-ttu-id="72e8e-160">Durch die Deaktivierung der FPO können auch Samplings von Profiler während der Laufzeit den Stapel durchlaufen, mit minimalen Auswirkungen auf die Leistung.</span><span class="sxs-lookup"><span data-stu-id="72e8e-160">Disabling FPO also allows sampling profilers to walk the stack during run-time, with minimal performance impact.</span></span> <span data-ttu-id="72e8e-161">Unter Windows-Versionen vor Windows XP SP2 erfordern alle Binärdateien des Betriebssystems übereinstimmende Symbol Dateien, die FPO-Informationen enthalten, um das exakte Debuggen und die Profilerstellung zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-161">On versions of Windows before Windows XP SP2, all operating system binaries require matching symbol files that contain FPO information, to allow accurate debugging and profiling.</span></span>

<span data-ttu-id="72e8e-162">Wenn Sie systemeigene 64-Bit-Dateien Debuggen, benötigen Sie keine Symbol Dateien, um gültige Stapel Überwachungen zu erhalten, da x64-Betriebssysteme und Compiler diese nicht benötigen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-162">If you debug 64-bit native executables, you do not need symbol files to produce valid stack traces, because x64 operating systems and compilers are designed not to require them.</span></span> <span data-ttu-id="72e8e-163">Sie benötigen jedoch weiterhin Symbol Dateien, um die Funktionsnamen, die aufrufsparameter und die lokalen Variablen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-163">However, you still need symbol files to retrieve the function names, call parameters and local variables.</span></span>

<span data-ttu-id="72e8e-164">In einigen Fällen ist es jedoch besonders schwierig, ohne Symbole zu debuggen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-164">However, some cases are particularly difficult to debug without symbols.</span></span> <span data-ttu-id="72e8e-165">Wenn Sie z. b. ein Programm debuggen, für das Sie eine PDB-Datei erstellt haben, und wenn Sie in einem Rückruf von einer Funktion in einer DLL abstürzen, für die Sie keine Symbole haben, können Sie nicht sehen, welche Funktion den Rückruf verursacht hat, da Sie den Stapel nicht decodieren können.</span><span class="sxs-lookup"><span data-stu-id="72e8e-165">For example, if you debug a program for which you built a PDB file, and if you crash in a callback from a function in a DLL that you don't have symbols for, you will not be able to see which function caused the callback, because you will not be able to decode the stack.</span></span> <span data-ttu-id="72e8e-166">Dies geschieht häufig in Bibliotheken von Drittanbietern, wenn keine pdsb bereitgestellt werden, oder bei alten Betriebssystemkomponenten, wenn pdsb nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-166">This frequently happens in third-party libraries, if PDBs are not provided, or in old operating system components, if PDBs are not available.</span></span> <span data-ttu-id="72e8e-167">Rückrufe erfolgen häufig während der Nachrichten Übergabe, der Enumeration, der Speicher Belegung oder der Ausnahmebehandlung.</span><span class="sxs-lookup"><span data-stu-id="72e8e-167">Callbacks often happen during message passing, enumeration, memory allocation, or exception handling.</span></span> <span data-ttu-id="72e8e-168">Das Debuggen dieser Funktionen ohne einen exakten Stapel kann frustrierend sein.</span><span class="sxs-lookup"><span data-stu-id="72e8e-168">Debugging these functions without an accurate stack can be frustrating.</span></span>

<span data-ttu-id="72e8e-169">Es ist wichtig, auf alle Symbole und Binärdateien für die ausführbaren Dateien zuzugreifen, auf die im Minidump verwiesen wird, um Mini Abbilder zuverlässig zu debuggen, die auf einem anderen Computer generiert werden oder in nicht eigenen Code abstürzen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-169">To reliably debug mini-dumps that are generated on a different computer, or that crashed in code that you do not own, it's important to be able to access all the symbols and binaries for the executables that are referenced in the mini-dump.</span></span> <span data-ttu-id="72e8e-170">Wenn die Symbole und Binärdateien von einem Symbol Server verfügbar sind, werden Sie automatisch vom Debugger abgerufen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-170">If the symbols and binaries are available from a symbol server, they are automatically obtained by the debugger.</span></span> <span data-ttu-id="72e8e-171">Weitere Informationen zu Minidumps finden Sie im Whitepaper zur Absturz Abbild [Analyse](/windows/desktop/DxTechArts/crash-dump-analysis) .</span><span class="sxs-lookup"><span data-stu-id="72e8e-171">For more information on mini-dumps, see the [Crash Dump Analysis](/windows/desktop/DxTechArts/crash-dump-analysis) white paper.</span></span>

## <a name="getting-the-symbols-you-need"></a><span data-ttu-id="72e8e-172">Erhalten der benötigten Symbole</span><span class="sxs-lookup"><span data-stu-id="72e8e-172">Getting the Symbols You Need</span></span>

<span data-ttu-id="72e8e-173">Visual Studio und andere Microsoft-Debugger (z. b. WinDbg) werden in der Regel so eingerichtet, dass Sie funktionieren, wenn Sie eine Anwendung entwickeln und auf Ihrem eigenen Computer Debuggen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-173">Visual Studio and other Microsoft debuggers, such as WinDbg, are typically set up to just work if you are building an application and debugging it on your own computer.</span></span> <span data-ttu-id="72e8e-174">Wenn Sie die ausführbare Datei an eine andere Person übergeben müssen, wenn Sie mehrere Versionen einer DLL-oder exe-Datei auf Ihrem Computer haben oder wenn Sie eine Anwendung, die Windows oder andere Bibliotheken verwendet (z. b. DirectX), genau debuggen möchten, müssen Sie verstehen, wie Debugger Symbole suchen und laden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-174">If you need to give your executable to someone else, if you have multiple versions of a DLL or an .exe file on your computer, or if you want to accurately debug an application that uses Windows or other libraries, such as DirectX, you need to understand how debuggers find and load symbols.</span></span> <span data-ttu-id="72e8e-175">Der Debugger verwendet entweder den Symbol Suchpfad, der vom Benutzer angegeben wird – in Optionen zum \\ Debuggen von \\ Symbolen in Visual Studio – oder die \_ NT- \_ Symbol Pfad- \_ Umgebungsvariable.</span><span class="sxs-lookup"><span data-stu-id="72e8e-175">The debugger uses either the symbol search path that is specified by the user—which is found in Options\\Debugging\\Symbols in Visual Studio—or the \_NT\_SYMBOL\_PATH environment variable.</span></span> <span data-ttu-id="72e8e-176">In der Regel sucht der Debugger an den folgenden Speicherorten nach passenden pdsb:</span><span class="sxs-lookup"><span data-stu-id="72e8e-176">Typically, the debugger searches for matching PDBs in the following locations:</span></span>

-   <span data-ttu-id="72e8e-177">Der Speicherort, der in der DLL-Datei oder der ausführbaren Datei angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-177">The location that is specified inside the DLL or the executable file.</span></span>

    <span data-ttu-id="72e8e-178">Wenn Sie eine DLL-Datei oder eine ausführbare Datei auf dem Computer erstellt haben, platziert der Linker standardmäßig den vollständigen Pfad und den Dateinamen der zugehörigen PDB-Datei in der DLL-Datei oder der ausführbaren Datei.</span><span class="sxs-lookup"><span data-stu-id="72e8e-178">If you have built a DLL or an executable file on your computer, by default the linker places the full path and file name of the associated PDB file inside the DLL or the executable file.</span></span> <span data-ttu-id="72e8e-179">Beim Debuggen prüft der Debugger zunächst, ob die Symbol Datei an dem Speicherort vorhanden ist, der in der DLL-Datei oder der ausführbaren Datei angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-179">When you debug, the debugger first checks to see if the symbol file exists in the location that is specified inside the DLL or the executable file.</span></span> <span data-ttu-id="72e8e-180">Dies ist hilfreich, da Sie immer über Symbole für den Code verfügen, den Sie auf dem Computer kompiliert haben.</span><span class="sxs-lookup"><span data-stu-id="72e8e-180">This is helpful, because you always have symbols available for code that you have compiled on your computer.</span></span>

-   <span data-ttu-id="72e8e-181">Pdsb, die möglicherweise im gleichen Ordner wie die DLL-Datei oder die ausführbare Datei vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-181">PDBs that may be present in the same folder as the DLL or executable file.</span></span>
-   <span data-ttu-id="72e8e-182">Alle lokalen Symbolcache-Ordner.</span><span class="sxs-lookup"><span data-stu-id="72e8e-182">Any local symbol cache folders.</span></span>
-   <span data-ttu-id="72e8e-183">Beliebige lokale Netzwerkdatei Freigabe-Symbol Server.</span><span class="sxs-lookup"><span data-stu-id="72e8e-183">Any local network file share symbol servers.</span></span>
-   <span data-ttu-id="72e8e-184">Alle Internet Symbol Server, wie z. b. der Microsoft-Symbol Server.</span><span class="sxs-lookup"><span data-stu-id="72e8e-184">Any Internet symbol servers, such as the Microsoft symbol server.</span></span>

<span data-ttu-id="72e8e-185">Installieren Sie die Debugtools für Windows, um sicherzustellen, dass Sie über alle pdsb verfügen, die Sie für das exakte Debuggen benötigen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-185">To make sure that you have all the PDBs that you need for accurate debugging, install the debugging tools for Windows.</span></span> <span data-ttu-id="72e8e-186">Die Bit-Versionen 32 und 64 finden Sie unter [Debugtools für Windows](/windows-hardware/drivers/debugger/).</span><span class="sxs-lookup"><span data-stu-id="72e8e-186">The 32 and 64 bit versions can be found at [Debugging Tools for Windows](/windows-hardware/drivers/debugger/).</span></span>

<span data-ttu-id="72e8e-187">Ein nützliches Tool, das mit diesem Paket installiert wird, ist symchk.exe.</span><span class="sxs-lookup"><span data-stu-id="72e8e-187">A useful tool that is installed with this package is symchk.exe.</span></span> <span data-ttu-id="72e8e-188">Dadurch können fehlende oder falsche Symbole identifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-188">It can help to identify missing or incorrect symbols.</span></span> <span data-ttu-id="72e8e-189">Dieses Tool verfügt über eine große Anzahl potenzieller Befehlszeilenoptionen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-189">This tool has a large number of potential command line options.</span></span> <span data-ttu-id="72e8e-190">Hier sind zwei der nützlicheren und häufig verwendeten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-190">Here are two of the more useful and commonly used ones.</span></span>

### <a name="check-if-a-given-dll-or-exe-file-and-pdb-in-the-same-folder-match"></a><span data-ttu-id="72e8e-191">Überprüfen Sie, ob eine bestimmte dll-Datei oder exe-Datei und PDB im gleichen Ordner übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-191">Check if a given DLL or .exe file and PDB in the same folder match</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" testing.dll /s

SYMCHK: FAILED files = 0
SYMCHK: PASSED + IGNORED files = 1
```

<span data-ttu-id="72e8e-192">Die **/s** -Option weist **Symchk** an, nur im aktuellen Ordner nach Symbolen zu suchen und nicht in Symbol Servern zu suchen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-192">The **/s** option tells **symchk** to look for symbols only in the current folder, and not to look in any symbol servers.</span></span>

### <a name="check-if-all-the-dlls-and-executable-files-in-a-set-of-folders-have-matching-pdbs"></a><span data-ttu-id="72e8e-193">Überprüfen Sie, ob alle DLLs und ausführbaren Dateien in einem Ordner Satz übereinstimmende pdsb aufweisen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-193">Check if all the DLLs and executable files in a set of folders have matching PDBs</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" *.* /r
```

<span data-ttu-id="72e8e-194">Mit der **/r** -Option wird **Symchk** so festgelegt, dass Ordner rekursiv durchlaufen werden, um zu überprüfen, ob alle ausführbaren Dateien übereinstimmende</span><span class="sxs-lookup"><span data-stu-id="72e8e-194">The **/r** option sets **symchk** to recursively traverse through folders, to check that all the executable files have matching PDBs.</span></span> <span data-ttu-id="72e8e-195">Ohne die **/s** -Option verwendet **Symchk** den aktuellen \_ NT- \_ Symbol Pfad, \_ um auf einem beliebigen privaten oder lokalen Server oder auf den Microsoft-Symbol Servern nach Symbolen zu suchen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-195">Without the **/s** option, **symchk** uses the current \_NT\_SYMBOL\_PATH to search for symbols on any private or local server, or on the Microsoft symbol servers.</span></span> <span data-ttu-id="72e8e-196">Das **Symchk** -Tool sucht nur nach Symbolen für ausführbare Dateien (. exe,. dll und ähnlich).</span><span class="sxs-lookup"><span data-stu-id="72e8e-196">The **symchk** tool searches only for symbols for executable files (.exe, .dll, and similar).</span></span> <span data-ttu-id="72e8e-197">Es ist nicht möglich, die Platzhalter Suche nach Symbolen für nicht ausführbare Dateien zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-197">You cannot use wild cards search for symbols for non-executable files.</span></span>

### <a name="how-symchk-works"></a><span data-ttu-id="72e8e-198">Funktionsweise von Symchk</span><span class="sxs-lookup"><span data-stu-id="72e8e-198">How symchk Works</span></span>

<span data-ttu-id="72e8e-199">Wenn der Linker dll-, ausführbare und PDB-Dateien generiert, speichert er identische GUIDs in jeder Datei.</span><span class="sxs-lookup"><span data-stu-id="72e8e-199">When the linker generates .dll, executable, and PDB files, it stores identical GUIDs in each file.</span></span> <span data-ttu-id="72e8e-200">Der GUID wird von den-Tools verwendet, um zu bestimmen, ob eine bestimmte PDB-Datei mit einer DLL oder einer ausführbaren Datei übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="72e8e-200">The GUID is used by tools to determine if a given PDB file matches a DLL or an executable file.</span></span> <span data-ttu-id="72e8e-201">Wenn Sie eine DLL oder eine ausführbare Datei ändern – indem Sie einen Ressourcen-Editor oder eine Codierung zum Kopieren von Schutz oder die Versionsinformationen ändern – wird die GUID aktualisiert, und der Debugger kann die PDB-Datei nicht laden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-201">If you alter a DLL or an executable file—by using a resource editor or copy protection encoding, or by altering its version information—the GUID is updated and the debugger cannot load the PDB file.</span></span> <span data-ttu-id="72e8e-202">Aus diesem Grund ist es sehr wichtig, die DLL-Datei oder die ausführbare Datei zu manipulieren, nachdem Sie vom Linker erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="72e8e-202">For this reason, it's very important to avoid manipulating the DLL or executable file after it is created by the linker.</span></span>

<span data-ttu-id="72e8e-203">Sie können auch das Dienstprogramm DUMPBIN, das in vs.NET enthalten ist, verwenden, um die zu durchsuchenden Symbol Pfade anzuzeigen und zu überprüfen, ob Symbol Dateien gefunden werden, die einer bestimmten dll oder ausführbaren Datei entsprechen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-203">You can also use the DUMPBIN utility that comes with VS.NET to show the symbol paths that are searched, and to see if symbol files are found that match a given DLL or executable file.</span></span> <span data-ttu-id="72e8e-204">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="72e8e-204">For example:</span></span>

``` syntax
DUMPBIN /PDBPATH:VERBOSE filename.exe
```

## <a name="symbol-servers"></a><span data-ttu-id="72e8e-205">Symbol Server</span><span class="sxs-lookup"><span data-stu-id="72e8e-205">Symbol Servers</span></span>

<span data-ttu-id="72e8e-206">Ein Symbol Server ist ein Repository für mehrere Versionen von ausführbaren Dateien und Symbol Dateien.</span><span class="sxs-lookup"><span data-stu-id="72e8e-206">A symbol server is a repository for multiple versions of executable and symbol files.</span></span> <span data-ttu-id="72e8e-207">Sie enthält entweder die Symbol Dateien selbst oder Zeiger auf die zugeordneten Symbol Dateien.</span><span class="sxs-lookup"><span data-stu-id="72e8e-207">It contains either the symbol files themselves, or pointers to the associated symbol files.</span></span> <span data-ttu-id="72e8e-208">Debugger verstehen, wie Symbol Server verwendet werden, und können Sie verwenden, um nach fehlenden oder unbekannten Symbolen zu suchen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-208">Debuggers understand how to use symbol servers, and can use them to search for missing or unknown symbols.</span></span>

<span data-ttu-id="72e8e-209">DLL-Dateien und ausführbare Dateien sind auch auf dem Microsoft-Symbol Server verfügbar.</span><span class="sxs-lookup"><span data-stu-id="72e8e-209">DLL and executable files are also available from the Microsoft symbol server.</span></span> <span data-ttu-id="72e8e-210">Dies ermöglicht das Debuggen von Abstürzen und das Untersuchen von Code für Betriebssystemdateien, die möglicherweise nicht auf Ihrem Computer vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-210">This makes it possible to debug crashes and examine code for operating system files that may not exist on your machine.</span></span> <span data-ttu-id="72e8e-211">Wenn ein Debugger auf eine ausführbare Datei oder eine DLL trifft, die nicht auf dem System vorhanden ist, das Sie für das Debuggen verwenden, fordert es automatisch sowohl die Symbole als auch eine Kopie der Binärdatei von den Microsoft-Symbol Servern an.</span><span class="sxs-lookup"><span data-stu-id="72e8e-211">If a debugger encounters an executable file or a DLL that does not exist on the system that you are using for debugging, it automatically requests both the symbols and a copy of the binary file from the Microsoft symbol servers.</span></span> <span data-ttu-id="72e8e-212">Dies ist hilfreich, wenn Sie eine Komponente Debuggen, die über viele Versionen verfügt – z. b. msvcrt.dll –. Sie müssen den Code für eine Version untersuchen, die auf dem Computer nicht vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-212">This is helpful if you are debugging a component that has many versions—for example, msvcrt.dll—and you need to examine the code for a version that does not exist on your computer.</span></span> <span data-ttu-id="72e8e-213">Dies hilft auch beim Debuggen von Mini Abbildern, die auf einem Betriebssystem generiert werden, das sich von dem System unterscheidet, das Sie für das Debuggen verwenden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-213">This also helps debug mini-dumps that are generated on an operating system that is different from the system that you are using for debugging.</span></span>

<span data-ttu-id="72e8e-214">Microsoft veröffentlicht alle PDB-Dateien für alle Betriebssysteme und anderen verteilbaren Komponenten, z. b. das DirectX SDK, auf dem extern zugänglichen Symbol Server.</span><span class="sxs-lookup"><span data-stu-id="72e8e-214">Microsoft publishes all the PDB files for all operating systems and other redistributed components, such as the DirectX SDK, on its externally accessible symbol server.</span></span> <span data-ttu-id="72e8e-215">Dies erleichtert das Debuggen einer Anwendung, die diese DLL-Dateien oder ausführbaren Dateien verwendet.</span><span class="sxs-lookup"><span data-stu-id="72e8e-215">This makes it easy to debug an application that uses these DLL or executable files.</span></span> <span data-ttu-id="72e8e-216">Sie können den Microsoft-Symbol Server verwenden, um Symbole sowie alle lokalen Symbole für Komponenten aufzulösen, die auf Ihrem Computer erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-216">You can use the Microsoft symbol server to resolve symbols, together with any local symbols for components that were built on your computer.</span></span>

<span data-ttu-id="72e8e-217">Sie können den Computer so einrichten, dass er den Microsoft-Symbol Server verwendet, der Ihnen den Zugriff auf alle Microsoft-Symbol Dateien ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="72e8e-217">You can set up your computer to use the Microsoft symbol server, which gives you access to all Microsoft symbol files.</span></span> <span data-ttu-id="72e8e-218">Sie können auch einen privaten Symbol Server für das Unternehmen, das Team oder das Netzwerk einrichten, der zum Speichern mehrerer älterer Versionen eines Projekts verwendet werden kann, an dem Sie arbeiten, oder um einen lokalen Cache für die Symbole bereitzustellen, die Sie auf dem Microsoft-Symbol Server verwenden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-218">You can also set up a private symbol server for your company, team or network, which can be used to store multiple older versions of a project you are working on, or to provide a local cache for the symbols that you use from the Microsoft symbol server.</span></span>

<span data-ttu-id="72e8e-219">Wenn Sie einen Symbol Server verwenden möchten, geben Sie den Suchpfad in einer Umgebungsvariablen an, die als \_ NT- \_ Symbol Pfad bezeichnet wird \_ .</span><span class="sxs-lookup"><span data-stu-id="72e8e-219">To use a symbol server, specify the search path in an environment variable that is called \_NT\_SYMBOL\_PATH.</span></span> <span data-ttu-id="72e8e-220">Zu Debuggern und modernen Tools, wie WinDBG, NTD oder Visual Studio, wird dieser Pfad automatisch verwendet, um nach Symbolen zu suchen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-220">Debuggers and modern tools, such as WinDbg, NTSD or Visual Studio, automatically use this path to search for symbols.</span></span>

<span data-ttu-id="72e8e-221">Wenn ein Debugger nach Symbolen sucht, wird er zuerst lokal durchsucht.</span><span class="sxs-lookup"><span data-stu-id="72e8e-221">When a debugger searches for symbols, it first searches locally.</span></span> <span data-ttu-id="72e8e-222">Anschließend werden Symbol Server angezeigt.</span><span class="sxs-lookup"><span data-stu-id="72e8e-222">Then it looks on symbol servers.</span></span> <span data-ttu-id="72e8e-223">Wenn ein übereinstimmendes Symbol gefunden wird, wird die Symbol Datei in Ihren lokalen Cache übertragen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-223">When it finds a matching symbol, it transfers the symbol file to your local cache.</span></span> <span data-ttu-id="72e8e-224">Die Symbole für eine typische dll oder eine ausführbare Datei reichen von 1 bis 100 MB.</span><span class="sxs-lookup"><span data-stu-id="72e8e-224">The symbols for a typical DLL or executable file range from 1 to 100 MB in size.</span></span> <span data-ttu-id="72e8e-225">Wenn Sie also einen Prozess Debuggen, der viele DLLs enthält, kann es einige Zeit dauern, bis alle Symbole aufgelöst und in einen lokalen Cache übertragen wurden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-225">Therefore, if you are debugging a process that includes many DLLs, it can take some time to resolve all the symbols and transfer them to a local cache.</span></span>

## <a name="using-the-microsoft-symbol-server"></a><span data-ttu-id="72e8e-226">Verwenden des Microsoft-Symbol Servers</span><span class="sxs-lookup"><span data-stu-id="72e8e-226">Using the Microsoft Symbol Server</span></span>

<span data-ttu-id="72e8e-227">Mit dem Microsoft-Symbol Server können Sie alle aktuellen Symbole abrufen, einschließlich Symbolen für gepatchte oder aktualisierte Dateien.</span><span class="sxs-lookup"><span data-stu-id="72e8e-227">The Microsoft symbol server allows you to obtain all the latest symbols, including symbols for patched or updated files.</span></span> <span data-ttu-id="72e8e-228">Den Microsoft-Symbol Server finden Sie unter <https://msdl.microsoft.com/download/symbols> .</span><span class="sxs-lookup"><span data-stu-id="72e8e-228">The Microsoft symbol server is available at <https://msdl.microsoft.com/download/symbols>.</span></span>

<span data-ttu-id="72e8e-229">Sie können auf den Symbol Server auf eine der folgenden Arten zugreifen:</span><span class="sxs-lookup"><span data-stu-id="72e8e-229">You can access the symbol server in one of the following ways:</span></span>

-   <span data-ttu-id="72e8e-230">Geben Sie die Server Adresse direkt ein.</span><span class="sxs-lookup"><span data-stu-id="72e8e-230">Enter the server address directly.</span></span> <span data-ttu-id="72e8e-231">Wählen Sie in Visual Studio im **Menü Extras** die **Option Optionen** aus, und wählen Sie dann **Debuggen** und dann **Symbole** aus.</span><span class="sxs-lookup"><span data-stu-id="72e8e-231">In Visual Studio, from the **Tools** menu, choose **Options**, then choose **Debugging**, and then choose **Symbols**.</span></span>
-   <span data-ttu-id="72e8e-232">Verwenden Sie die Umgebungsvariable \_ NT- \_ Symbol \_ Pfad.</span><span class="sxs-lookup"><span data-stu-id="72e8e-232">Use the environment variable \_NT\_SYMBOL\_PATH.</span></span> <span data-ttu-id="72e8e-233">Diese Methode wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-233">We recommend this method.</span></span>

    <span data-ttu-id="72e8e-234">Diese wird von allen Debuggingtools verwendet.</span><span class="sxs-lookup"><span data-stu-id="72e8e-234">This is used by all debugging tools.</span></span> <span data-ttu-id="72e8e-235">Sie wird auch von Visual Studio verwendet und wird beim Öffnen von Visual Studio gelesen und decodiert.</span><span class="sxs-lookup"><span data-stu-id="72e8e-235">It is also used by Visual Studio, and is read and decoded when Visual Studio opens.</span></span> <span data-ttu-id="72e8e-236">Daher müssen Sie Visual Studio neu starten, wenn Sie Sie ändern.</span><span class="sxs-lookup"><span data-stu-id="72e8e-236">Therefore, if you change it, you need to restart Visual Studio.</span></span>

    <span data-ttu-id="72e8e-237">Mit dieser Umgebungsvariablen können Sie mehrere Symbol Server angeben, z. –. einen internen privaten Symbol Server.</span><span class="sxs-lookup"><span data-stu-id="72e8e-237">This environment variable allows you to specify multiple symbol servers—for example, an internal private symbol server.</span></span> <span data-ttu-id="72e8e-238">Außerdem können Sie ein lokales Cache Verzeichnis angeben, in dem Sie pdsb für alle Symbole speichern können, die Sie von Symbol Servern sowohl intern als auch über das Internet suchen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-238">It also allows you to specify a local cache directory to store PDBs for all symbols that you look up from symbol servers, both internally and over the Internet.</span></span>

<span data-ttu-id="72e8e-239">Die Syntax für die \_ NT- \_ Symbol \_ Pfad Variable lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="72e8e-239">The syntax for the \_NT\_SYMBOL\_PATH variable is:</span></span>

``` syntax
srv*[local cache]*[private symbol server]*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="72e8e-240">Ersetzen \[ Sie local Cache \] durch den Namen eines Verzeichnisses auf dem Computer, in dem Sie einen Cache aller verwendeten Symbole speichern möchten, z. – .% systemroot% \\ Symbols oder c: \\ Symbols.</span><span class="sxs-lookup"><span data-stu-id="72e8e-240">Replace \[local cache\] with the name of a directory on your computer where you want to store a cache of any symbols used—for example, %SYSTEMROOT%\\Symbols, or c:\\symbols.</span></span>

<span data-ttu-id="72e8e-241">Der \[ private Symbol Server \] ist optional.</span><span class="sxs-lookup"><span data-stu-id="72e8e-241">The \[private symbol server\] is optional.</span></span> <span data-ttu-id="72e8e-242">Sie kann auf einen Symbol Server verweisen, der sich im Netzwerk befindet, oder auf einen Symbol Server, der von Ihrem Team, ihrer Produktgruppe oder Ihrem Unternehmen gemeinsam genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="72e8e-242">It can point to a symbol server that is located on your network, or it can point to a symbol server that is shared by your team, product group, or company.</span></span>

<span data-ttu-id="72e8e-243">Wenn Sie nur den Microsoft-Symbol Server in Verbindung mit einem lokalen Cache von Symbolen verwenden möchten, um den Zugriff über das Internet zu beschleunigen, verwenden Sie die folgende Einstellung für den \_ NT- \_ Symbol \_ Pfad:</span><span class="sxs-lookup"><span data-stu-id="72e8e-243">To use only the Microsoft symbol server together with a local cache of symbols, to speed up access over the Internet, use the following setting for \_NT\_SYMBOL\_PATH:</span></span>

``` syntax
srv*c:\symbols*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="72e8e-244">Weitere Optionen für den \_ NT- \_ Symbol Pfad finden Sie \_ in der Hilfedatei, die mit dem Paket Microsoft Debugtools für Windows installiert wird.</span><span class="sxs-lookup"><span data-stu-id="72e8e-244">You can find other options for the \_NT\_SYMBOL\_PATH in the help file that is installed with the Microsoft Debugging Tools for Windows package.</span></span>

<span data-ttu-id="72e8e-245">Ausführbare Dateien ohne Symbole können den Zeitbedarf für das Starten eines Debuggers erhöhen, wenn Sie einen Symbol Server verwenden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-245">Executables without symbols can increase the time it takes to launch a debugger if you use a symbol server.</span></span> <span data-ttu-id="72e8e-246">Dies liegt daran, dass der Debugger den Symbol Server jedes Mal abfragt, wenn er versucht, die ausführbare Datei zu laden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-246">This is because the debugger queries the symbol server each time it tries to load the executable.</span></span> <span data-ttu-id="72e8e-247">Aus diesem Grund ist es am besten, immer Symbole für alle Komponenten anzufordern.</span><span class="sxs-lookup"><span data-stu-id="72e8e-247">For this reason, it is best to always request symbols for all components.</span></span>

<span data-ttu-id="72e8e-248">Es ist möglicherweise nicht möglich, Symbole für jede Komponente anzufordern, z. –., wenn Videotreiber über DLLs im Prozessbereich verfügen und die erforderlichen PDB-Dateien auf dem Microsoft-Symbol Server verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-248">It may not be possible to request symbols for every component—for example, video drivers may have DLLs in your process space, and the required PDB files are available on the Microsoft symbol server.</span></span> <span data-ttu-id="72e8e-249">In diesem Fall kommt es zu einer kurzen Verzögerung, wenn Sie eine Debugsitzung starten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-249">In this case, there is a small delay when you start a debugging session.</span></span>

<span data-ttu-id="72e8e-250">Um dies zu vermeiden, können Sie den Debugger einmal ausführen, um alle Symbole lokal vom Microsoft-Symbol Server zwischenzuspeichern.</span><span class="sxs-lookup"><span data-stu-id="72e8e-250">To avoid even this small delay, you can run the debugger once, to cache all the symbols locally from the Microsoft symbol server.</span></span> <span data-ttu-id="72e8e-251">Ändern Sie dann Ihren \_ NT- \_ Symbol \_ Pfad, um den Microsoft-Symbol Server zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-251">Then, modify your \_NT\_SYMBOL\_PATH to remove the Microsoft symbol server.</span></span> <span data-ttu-id="72e8e-252">Wenn sich die ausführbaren Dateien nicht ändern, wird durch die Prüfung auf ausführbare Dateien ohne Symbole keine Abfrage über das Internet benötigt, da Sie über lokale zwischengespeicherte Kopien aller Symbole verfügen, die Sie auf dem Microsoft-Symbol Server benötigen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-252">Unless the executable files change, checks for executable files that do not have symbols will not require a query over the Internet, because you have local cached copies of all the symbols that you need from the Microsoft symbol server.</span></span>

## <a name="getting-symbols-manually"></a><span data-ttu-id="72e8e-253">Manuelles erhalten von Symbolen</span><span class="sxs-lookup"><span data-stu-id="72e8e-253">Getting Symbols Manually</span></span>

<span data-ttu-id="72e8e-254">Wenn Sie den Debugger ordnungsgemäß eingerichtet haben, lädt er automatisch alle erforderlichen Symbole aus dem lokalen Cache oder einem Symbol Server.</span><span class="sxs-lookup"><span data-stu-id="72e8e-254">If you have set up your debugger correctly, it automatically loads any symbols that it requires from your local cache or from a symbol server.</span></span> <span data-ttu-id="72e8e-255">Wenn Sie die Symbole für nur eine einzelne ausführbare Datei oder für einen Ordner mit ausführbaren Dateien erhalten möchten, können Sie **Symchk** verwenden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-255">If you would like to get the symbols for just a single executable, or for a folder of executables, you can use **symchk**.</span></span> <span data-ttu-id="72e8e-256">Wenn Sie z. b. die Symbole für die \_ Datei d3dx930.dll im Windows-System Ordner in das aktuelle Verzeichnis herunterladen möchten, können Sie den folgenden Befehl verwenden:</span><span class="sxs-lookup"><span data-stu-id="72e8e-256">For example, if you want to download the symbols for the d3dx9\_30.dll file in the Windows System folder into the current directory, you can use the following command:</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symchk" c:\Windows\System32\d3dx9_30.dll /oc \.
```

<span data-ttu-id="72e8e-257">Das **Symchk** -Tool hat viele andere Verwendungsmöglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-257">The **symchk** tool has many other uses.</span></span> <span data-ttu-id="72e8e-258">Weitere Informationen finden Sie unter **Symchk/?**, oder in der Dokumentation zu Microsoft-Debuggingtools für Windows.</span><span class="sxs-lookup"><span data-stu-id="72e8e-258">For details, see **symchk /?**, or look in the Microsoft Debugging Tools for Windows documentation.</span></span>

## <a name="setting-up-a-symbol-server"></a><span data-ttu-id="72e8e-259">Einrichten eines Symbol Servers</span><span class="sxs-lookup"><span data-stu-id="72e8e-259">Setting Up a Symbol Server</span></span>

<span data-ttu-id="72e8e-260">Das Einrichten eines Symbol Servers ist sehr einfach.</span><span class="sxs-lookup"><span data-stu-id="72e8e-260">Setting up a symbol server is very simple.</span></span> <span data-ttu-id="72e8e-261">Dies ist aus folgenden Gründen hilfreich:</span><span class="sxs-lookup"><span data-stu-id="72e8e-261">It is useful for the following reasons:</span></span>

-   <span data-ttu-id="72e8e-262">Um Bandbreite zu sparen oder um die Symbol Auflösung für Ihr Unternehmen, Ihr Team oder Ihr Produkt zu beschleunigen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-262">To save bandwidth, or to speed up symbol resolution for your company, team or product.</span></span> <span data-ttu-id="72e8e-263">Ein interner Symbol Server in einer lokalen Dateifreigabe im Netzwerk speichert alle Verweise auf externe Symbol Server, wie z. b. den Microsoft-Symbol Server, zwischen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-263">An internal symbol server on a local file share on your network caches any references to external symbol servers, such as the Microsoft symbol server.</span></span> <span data-ttu-id="72e8e-264">Auf einen lokalen oder internen Symbol Server kann von vielen Benutzern gleichzeitig schnell zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-264">A local or internal symbol server can be accessed quickly by many people at the same time.</span></span> <span data-ttu-id="72e8e-265">Daher spart Sie Bandbreite und Latenzzeit, die doppelte Symbol Anforderungen erstellen können.</span><span class="sxs-lookup"><span data-stu-id="72e8e-265">Therefore, it saves bandwidth and the latency that duplicate symbol requests can create.</span></span>
-   <span data-ttu-id="72e8e-266">Zum Speichern von Symbolen für alte Builds, Versionen oder externe Releases Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="72e8e-266">To store symbols for old builds, versions or external releases of your application.</span></span> <span data-ttu-id="72e8e-267">Durch das Speichern der Symbole für diese Builds auf einem Symbol Server, auf den Sie problemlos zugreifen können, können Sie Abstürze und Probleme in diesen Builds auf allen Computern Debuggen, die über einen Debugger und eine Verbindung mit dem lokalen Symbol Server verfügen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-267">By storing the symbols for these builds on a symbol server that you can easily access, you can debug crashes and problems in these builds on any computer that has a debugger and a connection to the local symbol server.</span></span> <span data-ttu-id="72e8e-268">Dies ist besonders nützlich, wenn Sie Minidumps Debuggen, die von ausführbaren Dateien generiert werden, die Sie nicht selbst erstellt haben – d. h. Builds, die von einem anderen Programmierer oder einem Buildcomputer generiert wurden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-268">This is particularly useful if you debug mini-dumps that are generated by executables that you did not build yourself—that is, builds that were generated by another programmer or by a build machine.</span></span> <span data-ttu-id="72e8e-269">Wenn die Symbole für diese Builds auf dem Symbol Server gespeichert sind, haben Sie zuverlässiges und genaues Debuggen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-269">If the symbols for these builds are stored on your symbol server, you will have reliable and accurate debugging.</span></span>
-   <span data-ttu-id="72e8e-270">, Um Symbole auf dem neuesten Stand zu halten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-270">To keep symbols up to date.</span></span> <span data-ttu-id="72e8e-271">Wenn Komponenten aktualisiert werden, wie z. b. Betriebssystemkomponenten, die durch Windows Update oder das DirectX SDK geändert werden, können Sie weiterhin mit allen aktuellen Symbolen Debuggen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-271">When components are updated, such as OS components that are modified by Windows Update or by the DirectX SDK, you can still debug by using all the latest symbols.</span></span>

<span data-ttu-id="72e8e-272">Das Einrichten eines Symbol Servers in Ihrem eigenen lokalen Netzwerk ist so einfach wie das Erstellen einer Dateifreigabe auf einem Server und das Erteilen von vollständigen Berechtigungen für den Zugriff auf die Freigabe, um Dateien und Ordner zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-272">Setting up a symbol server on your own local network is as simple as creating a file share on a server and giving users full permissions to access the share, to create files and folders.</span></span> <span data-ttu-id="72e8e-273">Diese Freigabe sollte auf einem Server Betriebssystem erstellt werden, z. b. Windows Server 2003, damit die Anzahl der Personen, die gleichzeitig auf die Freigabe zugreifen können, nicht eingeschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-273">This share should be created on a server operating system, such as Windows Server 2003, so that the number of people who can access the share simultaneously is not limited.</span></span>

<span data-ttu-id="72e8e-274">Wenn Sie z. b. eine Dateifreigabe auf \\ \\ Main maindatabase- \\ Symbolen einrichten, legen die Mitglieder des Teams den \_ NT- \_ Symbol \_ Pfad auf Folgendes fest:</span><span class="sxs-lookup"><span data-stu-id="72e8e-274">For example, if you set up a file share on \\\\mainserver\\symbols, then the members of your team set the \_NT\_SYMBOL\_PATH to the following:</span></span>

``` syntax
Srv*c:\symbols*\\mainserver\symbols*https://msdl.microsoft.com/download/symbols
```

<span data-ttu-id="72e8e-275">Beim Abrufen von Symbolen werden Dateien und Ordner im frei \\ \\ gegebenen Verzeichnis der Main maindatabase- \\ Symbole sowie in einzelnen Caches im Verzeichnis c: \\ Symbols angezeigt.</span><span class="sxs-lookup"><span data-stu-id="72e8e-275">As symbols are retrieved, files and folders appear in the \\\\mainserver\\symbols shared directory, as well as in individual caches, in the c:\\symbols directory.</span></span>

<span data-ttu-id="72e8e-276">Dies ist in der Regel alles, was beim Einrichten und Verwenden Ihres eigenen Symbol Servers oder des Microsoft-Symbol Servers beteiligt ist.</span><span class="sxs-lookup"><span data-stu-id="72e8e-276">This is typically all that is involved in setting up and using either your own symbol server, or the Microsoft symbol server.</span></span>

## <a name="adding-symbols-to-a-symbol-server"></a><span data-ttu-id="72e8e-277">Hinzufügen von Symbolen zu einem Symbol Server</span><span class="sxs-lookup"><span data-stu-id="72e8e-277">Adding Symbols to a Symbol Server</span></span>

<span data-ttu-id="72e8e-278">Um Dateien auf einer Symbol Server Freigabe hinzuzufügen, zu löschen oder zu bearbeiten, verwenden Sie das symstore.exe Tool.</span><span class="sxs-lookup"><span data-stu-id="72e8e-278">To add, delete or edit files on a symbol server share, use the symstore.exe tool.</span></span> <span data-ttu-id="72e8e-279">Dieses Tool ist Teil des Microsoft Debugtools für Windows-Paket.</span><span class="sxs-lookup"><span data-stu-id="72e8e-279">This tool is part of the Microsoft Debugging Tools for Windows package.</span></span> <span data-ttu-id="72e8e-280">Die vollständige Dokumentation zu Symbol Servern, dem SymStore-Tool und Indizierungs Symbolen ist im Paket Debugtools für Windows enthalten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-280">Full documentation on symbol servers, the symstore tool, and indexing symbols is included in the Debugging Tools for Windows package.</span></span>

<span data-ttu-id="72e8e-281">Möglicherweise möchten Sie dem eigenen Symbol Server als Teil eines Buildprozesses Symbole direkt hinzufügen, oder Sie können dem gesamten Team Symbole für Bibliotheken oder Tools von Drittanbietern zur Verfügung stellen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-281">You may want to add symbols directly to your own symbol server, as part of a build process, or to make symbols available to your whole team for third-party libraries or tools.</span></span> <span data-ttu-id="72e8e-282">Das Hinzufügen eines Symbols zu einer Symbol Server-Dateifreigabe wird als Indizierungs Symbole bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="72e8e-282">The process of adding a symbol to a symbol server file share is called indexing symbols.</span></span> <span data-ttu-id="72e8e-283">Es gibt zwei gängige Methoden zum Indizieren von Symbolen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-283">There are two common ways to index symbols.</span></span> <span data-ttu-id="72e8e-284">Eine Symbol Datei kann auf den Symbol Server kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-284">A symbol file can be copied to the symbol server.</span></span> <span data-ttu-id="72e8e-285">Oder ein Zeiger auf den Speicherort des Symbols kann auf den Symbol Server kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-285">Or, a pointer to the location of the symbol can be copied to the symbol server.</span></span> <span data-ttu-id="72e8e-286">Wenn Sie über einen Archivordner verfügen, der Ihre alten Builds enthält, können Sie Zeiger auf die PDB-Dateien indizieren, die sich bereits auf der Freigabe befinden, anstatt Symbole zu duplizieren.</span><span class="sxs-lookup"><span data-stu-id="72e8e-286">If you have an archive folder that contains your old builds, you may want to index pointers to the PDB files that are already on the share, instead of duplicating symbols.</span></span> <span data-ttu-id="72e8e-287">Da Symbole manchmal eine Größe von zehn Megabyte haben können, empfiehlt es sich, voraus zu planen, wie viel Speicherplatz Sie benötigen, um alle Builds Ihres Projekts während der Entwicklung zu archivieren.</span><span class="sxs-lookup"><span data-stu-id="72e8e-287">Because symbols can sometimes be tens of megabytes in size, it's a good idea to plan ahead for how much space you may require to archive all the builds of your project throughout development.</span></span> <span data-ttu-id="72e8e-288">Wenn Sie nur Zeiger auf Symbole indizieren, treten möglicherweise Probleme auf, wenn Sie alte Builds entfernen oder den Namen einer Dateifreigabe ändern.</span><span class="sxs-lookup"><span data-stu-id="72e8e-288">If you index only pointers to symbols, you may have problems if you remove old builds, or change the name of a file share.</span></span>

<span data-ttu-id="72e8e-289">Um beispielsweise rekursiv alle Symbole in c: dxsym-Extras-Symbolen zu indizieren, die \\ \\ \\ Sie aus dem DirectX SDK von Oktober 2006 auf eine Symbol Server-Dateifreigabe \\ \\ mit dem Namen Main maindatabase- \\ Symbole abgerufen haben, können Sie den folgenden Befehl verwenden:</span><span class="sxs-lookup"><span data-stu-id="72e8e-289">For example, to index recursively all the symbols in c:\\dxsym\\Extras\\Symbols that you obtained from the October 2006 DirectX SDK onto a symbol server file share called \\\\mainserver\\symbols, you can use the following command:</span></span>

``` syntax
"c:\Program Files\Debugging Tools for Windows\symstore" add /f "C:\dxsym\Extras\Symbols\*.pdb"
/s \\mainserver\symbols /t "October 2006 DirectX SDK " /r
```

<span data-ttu-id="72e8e-290">Der **/t-Parameter "comment"** wird verwendet, um der Transaktion, durch die die Symbole hinzugefügt wurden, eine Beschreibung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-290">The **/t "comment"** parameter is used to add a description to the transaction that added the symbols.</span></span> <span data-ttu-id="72e8e-291">Dies kann beim Ausführen administrativer Aufgaben für die Symbole nützlich sein.</span><span class="sxs-lookup"><span data-stu-id="72e8e-291">This can be useful when performing administrative tasks on the symbols.</span></span>

## <a name="best-practices"></a><span data-ttu-id="72e8e-292">Bewährte Methoden</span><span class="sxs-lookup"><span data-stu-id="72e8e-292">Best Practices</span></span>

-   <span data-ttu-id="72e8e-293">Richten Sie eine eigene Symbol Server-Dateifreigabe für Ihr Team, Ihr Unternehmen oder Ihr Produkt ein.</span><span class="sxs-lookup"><span data-stu-id="72e8e-293">Set up your own symbol server file share for your team, company, or product.</span></span>
-   <span data-ttu-id="72e8e-294">Richten Sie \_ \_ den NT \_ -Symbol Pfad ein, um auf einen lokalen Cache, auf einen privaten Symbol Server und auf den Microsoft-Symbol Server zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="72e8e-294">Set up \_NT\_SYMBOL\_PATH to point to a local cache, to a private symbol server, and to the Microsoft symbol server.</span></span>
-   <span data-ttu-id="72e8e-295">Wenn ein Debugger keine Symbole für eine Komponente laden kann, die Sie Debuggen, wenden Sie sich an den Besitzer der Komponente, um Symbole anzufordern – zumindest eine abgestreifte pdb.</span><span class="sxs-lookup"><span data-stu-id="72e8e-295">If a debugger cannot load symbols for a component you are debugging, contact the owner of the component to request symbols—at least a stripped PDB.</span></span>
-   <span data-ttu-id="72e8e-296">Richten Sie ein automatisiertes Buildsystem ein, um Symbole auf dem privaten Symbol Server für jeden erstellten Build zu indizieren.</span><span class="sxs-lookup"><span data-stu-id="72e8e-296">Set up an automated build system to index symbols on your private symbol server for each build that is produced.</span></span> <span data-ttu-id="72e8e-297">Stellen Sie sicher, dass es sich bei den von Ihnen verteilten Builds um die Builds handelt, die von diesem Prozess generiert werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-297">Make sure that the builds that you distribute are the builds that are generated by this process.</span></span> <span data-ttu-id="72e8e-298">Dadurch wird sichergestellt, dass Symbole immer für Debugprobleme verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="72e8e-298">This ensures that symbols are always available to debug problems.</span></span>
-   <span data-ttu-id="72e8e-299">Richten Sie einen Symbol Server ein, um den Debuggern den Zugriff auf den Quellcode für ein bestimmtes Modul direkt von einem auf der Grundlage eines visuellen Quellcodes oder einem auf einem Symbol basierenden Quell Code Verwaltungssystem zu gestatten.</span><span class="sxs-lookup"><span data-stu-id="72e8e-299">Set up a symbol server to allow debuggers to access the source code for a specific module directly from a Visual Source Safe or Perforce based source control system.</span></span> <span data-ttu-id="72e8e-300">Wenn die Quelldatei Informationen und-Symbole für eine veröffentlichte Version eines Spiels indiziert sind, können Entwickler, die Zugriff auf Ihren Symbol Server haben, über vollständiges Debuggen von gemeldeten Problemen auf Quell Ebene verfügen, ohne dass Buildumgebungen oder alte Versionen der Quelldateien auf ihren Entwicklungs Computern aufbewahrt werden.</span><span class="sxs-lookup"><span data-stu-id="72e8e-300">If the source file information and symbols for a released version of a game are indexed, developers who have access to your symbol server can have full source level debugging of reported issues, without keeping build environments or old versions of source files on their development computers.</span></span> <span data-ttu-id="72e8e-301">Informationen zum Einrichten des Symbol Servers zum Zulassen der Indizierung von Quelldatei Informationen finden Sie in der Dokumentation zum Quell Server.</span><span class="sxs-lookup"><span data-stu-id="72e8e-301">To set up your symbol server to allow indexing of source file information, see source server documentation.</span></span>

 

 