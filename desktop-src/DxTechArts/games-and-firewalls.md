---
title: Windows-Firewall für Spieleentwickler
description: In diesem Artikel wird beschrieben, warum die Windows-Firewall vorhanden ist, was sie erreicht und wie sie funktioniert. Vor allem wird beschrieben, wie Sie Ihr Spiel so konfigurieren, dass es gut mit der Firewall funktioniert.
ms.assetid: 2ee9f769-03dc-3661-5d5b-6a4ecd151fd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 15c7ff3c9b651b6264703732f0eec57054784034
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120235"
---
# <a name="windows-firewall-for-game-developers"></a><span data-ttu-id="ed930-104">Windows-Firewall für Spieleentwickler</span><span class="sxs-lookup"><span data-stu-id="ed930-104">Windows Firewall for Game Developers</span></span>

<span data-ttu-id="ed930-105">In diesem Artikel wird beschrieben, warum die Windows-Firewall vorhanden ist, was sie erreicht und wie sie funktioniert.</span><span class="sxs-lookup"><span data-stu-id="ed930-105">This article describes the Windows Firewall - why it exists, what it accomplishes, and how it does so.</span></span> <span data-ttu-id="ed930-106">Vor allem wird beschrieben, wie Sie Ihr Spiel so konfigurieren, dass es gut mit der Firewall funktioniert.</span><span class="sxs-lookup"><span data-stu-id="ed930-106">Most importantly, it describes how to configure your game to work well with the firewall.</span></span>

<span data-ttu-id="ed930-107">Inhalte:</span><span class="sxs-lookup"><span data-stu-id="ed930-107">Contents:</span></span>

-   [<span data-ttu-id="ed930-108">Was ist eine Firewall?</span><span class="sxs-lookup"><span data-stu-id="ed930-108">What is a Firewall?</span></span>](#what-is-a-firewall)
-   [<span data-ttu-id="ed930-109">Wie kann ich feststellen, ob mein Spiel betroffen ist?</span><span class="sxs-lookup"><span data-stu-id="ed930-109">How can I tell if my game is affected?</span></span>](#how-can-i-tell-if-my-game-is-affected)
-   [<span data-ttu-id="ed930-110">Die Firewall vor Windows XP SP2</span><span class="sxs-lookup"><span data-stu-id="ed930-110">The Firewall Before Windows XP SP2</span></span>](#the-firewall-before-windows-xp-sp2)
-   [<span data-ttu-id="ed930-111">Windows XP SP2-Firewall ist besser</span><span class="sxs-lookup"><span data-stu-id="ed930-111">Windows XP SP2 Firewall Is Better</span></span>](#windows-xp-sp2-firewall-is-better)
-   [<span data-ttu-id="ed930-112">Arbeiten mit der Windows-Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-112">Working with the Windows Firewall</span></span>](#working-with-the-windows-firewall)
-   [<span data-ttu-id="ed930-113">Integrieren mit InstallShield InstallScript</span><span class="sxs-lookup"><span data-stu-id="ed930-113">Integrating using InstallShield InstallScript</span></span>](#integrating-using-installshield-installscript)
-   [<span data-ttu-id="ed930-114">Integration in Wise für Windows Installer</span><span class="sxs-lookup"><span data-stu-id="ed930-114">Integrating into Wise for Windows Installer</span></span>](#integrating-into-wise-for-windows-installer)
-   [<span data-ttu-id="ed930-115">Integration in Windows Installer</span><span class="sxs-lookup"><span data-stu-id="ed930-115">Integrating into Windows Installer</span></span>](#integrating-into-windows-installer)
-   [<span data-ttu-id="ed930-116">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="ed930-116">Recommendations</span></span>](#recommendations)

## <a name="what-is-a-firewall"></a><span data-ttu-id="ed930-117">Was ist eine Firewall?</span><span class="sxs-lookup"><span data-stu-id="ed930-117">What is a Firewall?</span></span>

<span data-ttu-id="ed930-118">Die Firewall stellt eine Barriere gegen netzwerkbasierte Eindringversuche dar.</span><span class="sxs-lookup"><span data-stu-id="ed930-118">The firewall provides a barrier against network-based intrusions.</span></span> <span data-ttu-id="ed930-119">Sie blockiert nicht angeforderten eingehenden Datenverkehr und macht das System im Internet größtenteils unsichtbar, indem ICMP-Anforderungen (Internet Control Message Protocol) abgelehnt werden.</span><span class="sxs-lookup"><span data-stu-id="ed930-119">It blocks unsolicited incoming traffic, and makes the system mostly invisible on the internet by rejecting Internet Control Message Protocol (ICMP) requests.</span></span> <span data-ttu-id="ed930-120">Dies bedeutet, dass Ping und Tracert nicht funktionieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-120">This means that ping and tracert will not work.</span></span> <span data-ttu-id="ed930-121">Die Firewall sucht auch nach ungültigen Paketen und lehnt sie ab.</span><span class="sxs-lookup"><span data-stu-id="ed930-121">The firewall also looks and rejects invalid packets.</span></span>

<span data-ttu-id="ed930-122">Diese Barriere verhindert deterministische Angriffe.</span><span class="sxs-lookup"><span data-stu-id="ed930-122">This barrier prevents opportunistic attacks.</span></span> <span data-ttu-id="ed930-123">Angriffe werden verteilt, indem viele Systeme mit demselben Sicherheitsrisiko auffinden.</span><span class="sxs-lookup"><span data-stu-id="ed930-123">Attacks spread by finding many systems with the same vulnerability.</span></span> <span data-ttu-id="ed930-124">Die Firewall kann viele Angriffe vereitelt, indem sie ein Zeichen "nicht störend" für die features einlädt, die derzeit nicht verwendet werden. Der Angriff wird ignoriert und schlägt nicht nach Hause.</span><span class="sxs-lookup"><span data-stu-id="ed930-124">The firewall can thwart many attacks by putting up a "do not disturb" sign for those features not currently in use; the attack is ignored and does not strike home.</span></span> <span data-ttu-id="ed930-125">Der wesentliche Vorteil der Windows-Firewall ist, dass Features und Anwendungen, die nicht verwendet werden, keine Angriffswege sein können.</span><span class="sxs-lookup"><span data-stu-id="ed930-125">The essential benefit of the Windows Firewall is that features and applications that are not in use cannot be avenues for attack.</span></span>

<span data-ttu-id="ed930-126">Der Benutzer konfiguriert das System so, dass es identifiziert, welche Anwendungen und Features benötigt werden, und sollte für das Netzwerk geöffnet sein.</span><span class="sxs-lookup"><span data-stu-id="ed930-126">The user configures the system to identify what applications and features are needed and should be open to the network.</span></span> <span data-ttu-id="ed930-127">Dies geschieht entweder, wenn eine Anwendung installiert ist oder wenn sie versucht, sich selbst für das Netzwerk zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="ed930-127">This happens either when an application is installed or when it tries to open itself to the network.</span></span>

## <a name="how-can-i-tell-if-my-game-is-affected"></a><span data-ttu-id="ed930-128">Wie kann ich feststellen, ob mein Spiel betroffen ist?</span><span class="sxs-lookup"><span data-stu-id="ed930-128">How can I tell if my game is affected?</span></span>

<span data-ttu-id="ed930-129">Mit der Einführung von Windows XP SP2 wurde die Windows-Firewall umfassend bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="ed930-129">With the arrival of Windows XP SP2, the Windows Firewall has been widely deployed.</span></span> <span data-ttu-id="ed930-130">Alle Multiplayer-Windows-Spiele sind in gewissem Maße betroffen.</span><span class="sxs-lookup"><span data-stu-id="ed930-130">All multiplayer Windows games are affected to some degree.</span></span> <span data-ttu-id="ed930-131">Während Clients in der Regel in einer guten Form sind, müssen Server, Hosts und Peers in Peer-to-Peer die Firewall konfigurieren, um weiterhin zu funktionieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-131">While clients are generally in good shape, servers, hosts, and peers in peer-to-peer all need the firewall configured to continue working.</span></span> <span data-ttu-id="ed930-132">Insbesondere eingehender nicht angeforderter Datenverkehr wird verworfen.</span><span class="sxs-lookup"><span data-stu-id="ed930-132">Specifically, incoming unsolicited traffic is dropped.</span></span> <span data-ttu-id="ed930-133">Die Firewall fängt Filterpakete für Netzwerkdatenverkehr basierend auf dem Paketinhalt und der aktuellen Netzwerkaktivität ab.</span><span class="sxs-lookup"><span data-stu-id="ed930-133">The firewall intercepts network-traffic filter packets based on the packet contents and recent network activity.</span></span> <span data-ttu-id="ed930-134">Die Firewall verwendet den Inhalt und die Aktivität, um zu entscheiden, ob ein Paket weitergeleitet oder verworfen werden soll.</span><span class="sxs-lookup"><span data-stu-id="ed930-134">The firewall uses the contents and activity to decide to forward or drop a packet.</span></span> <span data-ttu-id="ed930-135">Sobald die Firewall ordnungsgemäß konfiguriert ist, kann ein Spiel nicht angeforderten eingehenden Datenverkehr wie zuvor akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-135">Once the firewall is properly configured, a game will be able to accept inbound unsolicited traffic as before.</span></span>

<span data-ttu-id="ed930-136">Wer hat nicht angeforderten eingehenden Datenverkehr?</span><span class="sxs-lookup"><span data-stu-id="ed930-136">Who has inbound unsolicited traffic?</span></span>

-   <span data-ttu-id="ed930-137">Client/Server: Alle Teilnehmer stellen eine Verbindung mit einem zentralen Server herstellen.</span><span class="sxs-lookup"><span data-stu-id="ed930-137">Client/Server: All participants connect to a central server.</span></span> <span data-ttu-id="ed930-138">Der zentrale Server ist der Server mit eingehendem nicht angeforderten Datenverkehr.</span><span class="sxs-lookup"><span data-stu-id="ed930-138">The central server is the one with incoming unsolicited traffic.</span></span> <span data-ttu-id="ed930-139">Die Clients, die eine Verbindung mit dem Server herstellen, bitten um Rückgabedatenverkehr, was erwartet wird und die Firewall passieren darf, wenn die Regeln für Clients eingehalten werden.</span><span class="sxs-lookup"><span data-stu-id="ed930-139">The clients connecting to the server are soliciting return traffic, which is expected and is allowed to pass through the firewall if the rules for clients are followed.</span></span> <span data-ttu-id="ed930-140">Der zentrale Server muss so konfiguriert sein, dass er nicht angeforderten Datenverkehr akzeptiert, damit der Clientdatenverkehr die Firewall passieren kann.</span><span class="sxs-lookup"><span data-stu-id="ed930-140">The central server must be configured to accept the unsolicited traffic to allow the client traffic to pass through the firewall.</span></span>
-   <span data-ttu-id="ed930-141">Massively Multiplayer (MMP): Alle Teilnehmer sind mit einem Rechenzentrum verbunden.</span><span class="sxs-lookup"><span data-stu-id="ed930-141">Massively Multiplayer (MMP): All participants are connected to a data center.</span></span> <span data-ttu-id="ed930-142">Dies entspricht einer komplexen Client-/Serverbeziehung, da das Rechenzentrum über den eingehenden nicht angeforderten Datenverkehr verfügt.</span><span class="sxs-lookup"><span data-stu-id="ed930-142">This amounts to a complex client/server relationship, as the data center has the inbound unsolicited traffic.</span></span> <span data-ttu-id="ed930-143">Die Teilnehmer sind Clients und müssen im Allgemeinen nicht angeforderten Datenverkehr akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-143">The participants are clients, and in general do not need to accept unsolicited traffic.</span></span>
-   <span data-ttu-id="ed930-144">Peer-to-Peer, bei dem alle Teilnehmer direkt miteinander verbunden sind: Alle Teilnehmer müssen bereit sein, nicht angeforderten Datenverkehr von einem neuen Spieler zu akzeptieren, der der Gruppe beitritt.</span><span class="sxs-lookup"><span data-stu-id="ed930-144">Peer-to-Peer, where all participants are connected to each other directly: All participants must be ready to accept unsolicited traffic from any new player joining the group.</span></span> <span data-ttu-id="ed930-145">In einem bestimmten Sinne muss jeder Teilnehmer als Host funktionieren, sodass alle so konfiguriert werden müssen, als ob es sich um Hosts würde.</span><span class="sxs-lookup"><span data-stu-id="ed930-145">In a sense, each of the participants must function as a host, so they must all be configured as if they were hosts.</span></span>

<span data-ttu-id="ed930-146">Clients sind im Allgemeinen gut in Form.</span><span class="sxs-lookup"><span data-stu-id="ed930-146">Clients are generally in good shape.</span></span> <span data-ttu-id="ed930-147">Die ausgehenden TCP/IP-Verbindungen (Transmission Control Protocol/Internet Protocol) funktionieren genauso gut wie ausgehende UDP-Nachrichten (User Datagram Protocol) zusammen mit rechtzeitigen Antworten auf diese Nachrichten. Die Firewall hält den Port 90 Sekunden lang geöffnet, nachdem jede ausgehende Nachricht in Erwartung einer Antwort empfangen wurde.</span><span class="sxs-lookup"><span data-stu-id="ed930-147">Their outgoing Transmission Control Protocol/Internet Protocol (TCP/IP) connections will work fine, as will outgoing User Datagram Protocol (UDP) messages along with timely responses to those messages - the firewall keeps the port open for 90 seconds after each outgoing message in anticipation of a reply.</span></span>

## <a name="the-firewall-before-windows-xp-sp2"></a><span data-ttu-id="ed930-148">Die Firewall vor Windows XP SP2</span><span class="sxs-lookup"><span data-stu-id="ed930-148">The Firewall Before Windows XP SP2</span></span>

<span data-ttu-id="ed930-149">Die Internet Connection Firewall (ICF) in Windows XP und Windows Server 2003 ist ein zustandsvoller Paketfilter und verarbeitet sowohl Internetprotokoll, Version 4 (IPv4) als auch Internetprotokoll, Version 6 (IPv6).</span><span class="sxs-lookup"><span data-stu-id="ed930-149">The Internet Connection Firewall (ICF) in Windows XP and Windows Server 2003 is a stateful packet filter, and handles both Internet Protocol, version 4 (IPv4) and Internet Protocol, version 6 (IPv6).</span></span> <span data-ttu-id="ed930-150">Sie ist jedoch nicht standardmäßig aktiviert und unterstützt keine Drittanbieter-Netzwerkstapel, von denen es weltweit eine erhebliche Anzahl gibt, z. B. große Internetanbieter, einschließlich der nationalen Telefonunternehmen.</span><span class="sxs-lookup"><span data-stu-id="ed930-150">However, it is not on by default and does not support 3rd party network stacks, of which there are a significant number in the world, such as large internet providers including national telephone companies.</span></span>

<span data-ttu-id="ed930-151">Für Benutzer ohne Windows XP SP2 wird dringend empfohlen, den ICF zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-151">For those not on Windows XP SP2, turning on the ICF is highly recommended.</span></span> <span data-ttu-id="ed930-152">Sehen Sie sich die Anweisungen unter "Verwenden einer Internetfirewall" als ersten Schritt zum Schützen https://www.microsoft.com/security/protect Ihres PCs an.</span><span class="sxs-lookup"><span data-stu-id="ed930-152">See the instructions "Use an Internet Firewall" on https://www.microsoft.com/security/protect as the first step to securing your PC.</span></span> <span data-ttu-id="ed930-153">Die Internet Connection Firewall (ICF) stellt eine Portzuordnung zum Überschreiben des Paketfilters zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="ed930-153">The Internet Connection Firewall (ICF) provides port mapping to override the packet filter.</span></span> <span data-ttu-id="ed930-154">Im Wesentlichen geben Sie den zu öffnenden Port an, und er bleibt geöffnet, bis Sie ihn schließen.</span><span class="sxs-lookup"><span data-stu-id="ed930-154">Essentially, you specify the port to open and it remains opened until you close it.</span></span> <span data-ttu-id="ed930-155">Wenn der Benutzer neu gestartet wird, bevor er geschlossen wird, bleibt er geöffnet, bis er ausdrücklich geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-155">If the user reboots before it is closed, it will remain open until specifically closed.</span></span> <span data-ttu-id="ed930-156">Die Steuerung der Firewall und die Verwaltung der Portzuordnungen erfolgt über [**INetSharingManager**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) und [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).</span><span class="sxs-lookup"><span data-stu-id="ed930-156">The control of the firewall and the management of the port mappings is done via [**INetSharingManager**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) and [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).</span></span>

<span data-ttu-id="ed930-157">Die Windows-Firewall für Windows XP SP2 ist eine umfassendere Lösung, die Netzwerkstapel von Drittanbietern unterstützt und Ports intelligenter verarbeitet: Ports bleiben nur geöffnet, solange die Anwendung, die sie benötigt, noch aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="ed930-157">The Windows Firewall for Windows XP SP2 is a more comprehensive solution that does support 3rd party network stacks, and handles ports more intelligently: ports are kept open only so long as the application that needs them is still active.</span></span>

## <a name="windows-xp-sp2-firewall-is-better"></a><span data-ttu-id="ed930-158">Windows XP SP2-Firewall ist besser</span><span class="sxs-lookup"><span data-stu-id="ed930-158">Windows XP SP2 Firewall Is Better</span></span>

<span data-ttu-id="ed930-159">Windows XP SP2 setzt die Sicherheitsoptionen und -einstellungen vor.</span><span class="sxs-lookup"><span data-stu-id="ed930-159">Windows XP SP2 puts the security choices and settings out front.</span></span> <span data-ttu-id="ed930-160">Das Ziel ist es, standardmäßig zu schützen und es dem Benutzer zu ermöglichen, fundierte Entscheidungen darüber zu treffen, welche Anwendungen auf dem Computer ausgeführt werden dürfen.</span><span class="sxs-lookup"><span data-stu-id="ed930-160">The goal is to protect by default, and allow the user to make informed choices about what applications are allowed to run on their machine.</span></span>

<span data-ttu-id="ed930-161">Die neue Windows-Firewall ist sowohl unter Windows XP SP2 als auch unter Windows Server 2003 Service Pack 1 (SP1) verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ed930-161">The new Windows Firewall is available on both Windows XP SP2 and Windows Server 2003 Service Pack 1 (SP1).</span></span> <span data-ttu-id="ed930-162">Wie der ICF ist es eine Softwarefirewall, die sowohl IPv4 als auch IPv6 unterstützt, aber im Gegensatz zu ICF die Windows-Firewall:</span><span class="sxs-lookup"><span data-stu-id="ed930-162">Like the ICF, it is a software firewall that supports both IPv4 and IPv6, but unlike ICF the Windows Firewall:</span></span>

-   <span data-ttu-id="ed930-163">Verfügt über Startzeitschutz des Systems, wodurch ein kleines Sicherheitsfenster während des Startvorgangs beseitigt wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-163">Has boot-time protection of the system, eliminating a small window of vulnerability during boot.</span></span>
-   <span data-ttu-id="ed930-164">Unterstützt Netzwerkstapel von Drittanbietern.</span><span class="sxs-lookup"><span data-stu-id="ed930-164">Supports 3rd party network stacks.</span></span>
-   <span data-ttu-id="ed930-165">Verfügt über den Modus "Ein ohne Ausnahmen", der alle nicht angeforderten eingehenden Pakete blockiert.</span><span class="sxs-lookup"><span data-stu-id="ed930-165">Has an "on with no exceptions" mode that blocks all unsolicited incoming packets.</span></span> <span data-ttu-id="ed930-166">Dies ist ideal, wenn Sie ein öffentliches Netzwerk verwenden, z. B. in einem Flughafen oder in einem Coffee-Shop.</span><span class="sxs-lookup"><span data-stu-id="ed930-166">This is great when you're using a public network, such as in an airport or coffee shop.</span></span>

<span data-ttu-id="ed930-167">Im Modus "Ein ohne Ausnahmen" werden alle statischen Lücken geschlossen.</span><span class="sxs-lookup"><span data-stu-id="ed930-167">In the "on with no exceptions" mode, all static holes are closed.</span></span> <span data-ttu-id="ed930-168">API-Aufrufe zum Öffnen einer statischen Lücke sind zulässig, aber verzögert. Das heißt, sie werden erst angewendet, wenn die Firewall wieder in den normalen Betrieb wechselt.</span><span class="sxs-lookup"><span data-stu-id="ed930-168">API calls to open a static hole are allowed but deferred; that is, they are not applied until the firewall switches back to normal operation.</span></span> <span data-ttu-id="ed930-169">Alle Lauschenanforderungen von Anwendungen werden ebenfalls ignoriert.</span><span class="sxs-lookup"><span data-stu-id="ed930-169">All listen requests by applications will also be ignored.</span></span> <span data-ttu-id="ed930-170">Ausgehende Verbindungen sind weiterhin erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="ed930-170">Outbound connections will still succeed.</span></span>

<span data-ttu-id="ed930-171">Bei neuen Anwendungen fügen Sie Ihre Anwendung während der Installation der "Ausnahmenliste" hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-171">For new applications, add your application to the "Exceptions List" during installation.</span></span> <span data-ttu-id="ed930-172">Sie können die Anwendung mithilfe der [**INetFwAuthorizedApplications-Schnittstelle**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) hinzufügen und dabei den vollständigen Pfad zur Verfügung stellen.</span><span class="sxs-lookup"><span data-stu-id="ed930-172">You can add the application using the [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) interface, supplying the full path.</span></span> <span data-ttu-id="ed930-173">Wir behandeln die Details im Beispiel.</span><span class="sxs-lookup"><span data-stu-id="ed930-173">We'll cover the details in the sample.</span></span>

<span data-ttu-id="ed930-174">Neben beachten Sie, dass Sie sich vielleicht fragen, ob es ein Sicherheitsrisiko ist, dass Anwendungen Anwendungen hinzufügen und aus der Ausnahmenliste entfernen können, wenn Benutzereingriffe erforderlich sind, oder vielleicht denken Sie, dass das größere Risiko ist, dass Anwendungen die Firewall vollständig deaktivieren können.</span><span class="sxs-lookup"><span data-stu-id="ed930-174">As a side note, you may be wondering if it is a security risk that applications can add and remove applications from the exceptions list any user intervention, or perhaps you think that the bigger risk is that applications can disable the firewall altogether.</span></span> <span data-ttu-id="ed930-175">Um diese Funktionen ausführen zu können, muss die Anwendung über Administratorrechte verfügen.</span><span class="sxs-lookup"><span data-stu-id="ed930-175">To perform these feats, the application must have administrator privileges.</span></span> <span data-ttu-id="ed930-176">Wenn auf Ihrem System schädlicher Code im Administratormodus ausgeführt wird, ist das Spiel bereits beendet, und der Hacker hat bereits gewonnen.</span><span class="sxs-lookup"><span data-stu-id="ed930-176">If you have malicious code running in administrator mode on your system, the game is already over and the hacker has already won.</span></span> <span data-ttu-id="ed930-177">Die Fähigkeit des Hackers, die Firewall zu deaktivieren, wäre kaum mehr als eine Fußnote.</span><span class="sxs-lookup"><span data-stu-id="ed930-177">The hacker's ability to disable the firewall would merit little more than a footnote.</span></span>

<span data-ttu-id="ed930-178">Ältere Anwendungen, einschließlich Anwendungen, die vor dem Upgrade des Benutzers auf Windows XP SP2 installiert wurden, werden mit dem Popupfenster Ausnahmenliste behandelt (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="ed930-178">Legacy applications, including applications installed before the user upgraded to Windows XP SP2, are handled with the Exceptions List popup (see Figure 1).</span></span> <span data-ttu-id="ed930-179">Dieses Dialogfeld zeigt, wenn eine Anwendung versucht, einen Port für eingehenden Datenverkehr zu öffnen – entweder beim Aufrufen von bind() mit einem Port, der nicht null ist, für UDP oder accept() für das TCP/IP-Protokoll.</span><span class="sxs-lookup"><span data-stu-id="ed930-179">This dialog shows when an application tries to open a port for incoming traffic - either when calling bind() with a non-zero port for UDP, or accept() for TCP/IP protocol.</span></span> <span data-ttu-id="ed930-180">Sie müssen als Administrator ausgeführt werden, um die Blockierung von Anwendungen zu "entsperren", während "Ask Me Later" dieses Mal nicht zusingentspricht, aber beim nächsten Mal erneut fragt.</span><span class="sxs-lookup"><span data-stu-id="ed930-180">You must be running as an Administrator to "Unblock" applications, while "Ask Me Later" disallows this time around but asks again next time.</span></span>

<span data-ttu-id="ed930-181">Dies ist ein nicht blockierende, modales Systemdialogfeld.</span><span class="sxs-lookup"><span data-stu-id="ed930-181">This is a non-blocking, system modal dialog box.</span></span> <span data-ttu-id="ed930-182">Wenn Sie eine Microsoft Direct3D-Vollbildanwendung ausführen, wird das Dialogfeld darunter angezeigt. und der Benutzer kann dies dann verarbeiten, wenn die Anwendung den Vollbildmodus oder die ALT-TAB-TASTE wieder auf dem Desktop beendet.</span><span class="sxs-lookup"><span data-stu-id="ed930-182">When running a fullscreen Microsoft Direct3D application, the dialog comes in underneath; and the user can then handle it when the application exits fullscreen mode or alt-tabs back to the desktop.</span></span> <span data-ttu-id="ed930-183">Es ist für den Benutzer jedoch nicht immer offensichtlich, dass dieser Dialog angezeigt wurde, wenn ein Spiel im Vollbildmodus ausgeführt wird. Daher ist es wichtig, zu vermeiden, dass dieser Dialog mithilfe der [**INetFwAuthorizedApplications-Schnittstelle**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) angezeigt wird, wie unten erläutert.</span><span class="sxs-lookup"><span data-stu-id="ed930-183">However, it is not always obvious to the user that this dialog has appeared when a game is running fullscreen, so it is important to avoid causing this dialog to appear by using [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) interface as discussed below.</span></span>

<span data-ttu-id="ed930-184">**Abbildung 1: Popupdialogfeld "Ausnahmenliste"**</span><span class="sxs-lookup"><span data-stu-id="ed930-184">**Figure 1. Exceptions List Popup Dialog**</span></span>

![Popupdialogfeld "Ausnahmenliste"](images/firewalls1.jpg)

<span data-ttu-id="ed930-186">Sie werden feststellen, dass das Popup den Namen und herausgeber der Anwendung kennt.</span><span class="sxs-lookup"><span data-stu-id="ed930-186">You'll notice that the popup knows the name and publisher of the application.</span></span> <span data-ttu-id="ed930-187">Hier gibt es keine Magisches: Es wird aus den Versionsinformationen der ausführbaren Datei gezogen.</span><span class="sxs-lookup"><span data-stu-id="ed930-187">There's no magic here - it's pulled from the executable's version information.</span></span> <span data-ttu-id="ed930-188">Diese Informationen sind ein wichtiges Systemverwaltungstool. Es wird sogar für laufende Anwendungskompatibilitätsarbeiten verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed930-188">This information is an important system administration tool; it is even used for ongoing application compatibility work.</span></span> <span data-ttu-id="ed930-189">Einige Anwendungen halten diese Versionsinformationen nicht auf dem neuesten Stand.</span><span class="sxs-lookup"><span data-stu-id="ed930-189">Some applications neglect to keep this version information up-to-date.</span></span>

<span data-ttu-id="ed930-190">Benutzer können ihre Anwendungen auch über die Benutzeroberfläche (UI) hinzufügen (siehe Abbildung 2)</span><span class="sxs-lookup"><span data-stu-id="ed930-190">Users can also add their applications through the user interface (UI) (see Figure 2)</span></span>

<span data-ttu-id="ed930-191">**Abbildung 2: Konfigurieren der Firewall**</span><span class="sxs-lookup"><span data-stu-id="ed930-191">**Figure 2. Configuring the Firewall**</span></span>

![Konfigurieren der Firewall](images/firewalls2.jpg)

<span data-ttu-id="ed930-193">**Abbildung 3. Hinzufügen eines Programms zur Liste der Firewallausnahmen**</span><span class="sxs-lookup"><span data-stu-id="ed930-193">**Figure 3. Adding a Program to the Firewall Exceptions List**</span></span>

![Hinzufügen eines Programms zur Liste der Firewallausnahmen](images/firewalls3.jpg)

<span data-ttu-id="ed930-195">Das beste Szenario besteht im automatisierten Hinzufügen und Entfernen aus der Ausnahmeliste.</span><span class="sxs-lookup"><span data-stu-id="ed930-195">The best scenario is to make additions and removals from the exception list automated.</span></span> <span data-ttu-id="ed930-196">Der beste Zeitpunkt, um diese Ergänzungen und Entfernungen durchzuführen, ist während des Installations- und Deinstallationsprozesses.</span><span class="sxs-lookup"><span data-stu-id="ed930-196">The best time to perform these additions and removals is during the install and uninstall process.</span></span> <span data-ttu-id="ed930-197">Zum Hinzufügen oder Entfernen aus der Firewallausnahmeliste sind Administratorrechte erforderlich. Berücksichtigen Sie dies daher unbedingt.</span><span class="sxs-lookup"><span data-stu-id="ed930-197">Adding or removing from the firewall exception list requires administrator privileges, so be sure to take this into account.</span></span>

## <a name="working-with-the-windows-firewall"></a><span data-ttu-id="ed930-198">Arbeiten mit der Windows-Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-198">Working with the Windows Firewall</span></span>

<span data-ttu-id="ed930-199">Auch hier müssen die meisten Spiele nur zur Firewallausnahmeliste hinzugefügt werden, wenn sie als Server funktionieren können oder ein Peer-zu-Peer-Kommunikationsprotokoll implementieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-199">Again, most games only need to be added to the firewall exception list if they can function as a server or if they implement a peer-to-peer communication protocol.</span></span> <span data-ttu-id="ed930-200">Der FirewallInstallHelper.dll ist eine Beispiel-DLL, die von einem Installationsprogramm aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="ed930-200">The FirewallInstallHelper.dll is a sample DLL that can be called from an installer.</span></span> <span data-ttu-id="ed930-201">Die Quelle wird bereitgestellt, wenn Sie die Quelle direkt in Ihre eigene Anwendung integrieren möchten.</span><span class="sxs-lookup"><span data-stu-id="ed930-201">Source is provided if you want to integrate the source directly into your own application.</span></span> <span data-ttu-id="ed930-202">Das Beispiel finden Sie hier:</span><span class="sxs-lookup"><span data-stu-id="ed930-202">The sample can be found here:</span></span>



|             | <span data-ttu-id="ed930-203">Datei</span><span class="sxs-lookup"><span data-stu-id="ed930-203">File</span></span>                                                                             |
|-------------|------------------------------------------------------------------------------|
| <span data-ttu-id="ed930-204">**Quelle:**</span><span class="sxs-lookup"><span data-stu-id="ed930-204">**Source:**</span></span>     | <span data-ttu-id="ed930-205">(SDK-Stamm) \\ Beispiele \\ für C++-Misc \\ \\ FirewallInstallHelper</span><span class="sxs-lookup"><span data-stu-id="ed930-205">(SDK root)\\Samples\\C++\\Misc\\FirewallInstallHelper</span></span>                        |
| <span data-ttu-id="ed930-206">**Ausführbaren:**</span><span class="sxs-lookup"><span data-stu-id="ed930-206">**Executable:**</span></span> | <span data-ttu-id="ed930-207">(SDK-Stamm) \\ Beispiele \\ für C++-FirewallInstallHelper.dll \\ \\ \\ <arch> \\</span><span class="sxs-lookup"><span data-stu-id="ed930-207">(SDK root)\\Samples\\C++\\Misc\\Bin\\<arch>\\FirewallInstallHelper.dll</span></span> |



 

<span data-ttu-id="ed930-208">Die von dieser DLL exportierten Funktionen sind die folgenden:</span><span class="sxs-lookup"><span data-stu-id="ed930-208">The functions exported by this DLL are the following:</span></span>

<dl> <dt>

<span data-ttu-id="ed930-209"><span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**AddApplicationToExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="ed930-209"><span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**AddApplicationToExceptionListW**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-210">Diese Funktion fügt der Ausnahmeliste eine Anwendung hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-210">This function adds an application to the exception list.</span></span> <span data-ttu-id="ed930-211">Sie benötigt einen vollständigen Pfad zur ausführbaren Datei und einen Anzeigenamen, der in der Firewallausnahmeliste angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-211">It takes a complete path to the executable and a friendly name that will appear in the firewall exception list.</span></span> <span data-ttu-id="ed930-212">Diese Funktion erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="ed930-212">This function requires administrator privileges.</span></span>

</dd> <dt>

<span data-ttu-id="ed930-213"><span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**AddApplicationToExceptionListA**</span><span class="sxs-lookup"><span data-stu-id="ed930-213"><span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**AddApplicationToExceptionListA**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-214">ANSI-Version von **AddApplicationToExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="ed930-214">ANSI version of **AddApplicationToExceptionListW**</span></span>

</dd> <dt>

<span data-ttu-id="ed930-215"><span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**RemoveApplicationFromExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="ed930-215"><span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**RemoveApplicationFromExceptionListW**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-216">Diese Funktion entfernt die Anwendung aus der Ausnahmeliste.</span><span class="sxs-lookup"><span data-stu-id="ed930-216">This function removes the application from the exception list.</span></span> <span data-ttu-id="ed930-217">Sie nimmt einen vollständigen Pfad zur ausführbaren Datei an.</span><span class="sxs-lookup"><span data-stu-id="ed930-217">It takes in a complete path to the executable.</span></span> <span data-ttu-id="ed930-218">Diese Funktion erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="ed930-218">This function requires administrator privileges</span></span>

</dd> <dt>

<span data-ttu-id="ed930-219"><span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**RemoveApplicationFromExceptionListA**</span><span class="sxs-lookup"><span data-stu-id="ed930-219"><span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**RemoveApplicationFromExceptionListA**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-220">ANSI-Version von **RemoveApplicationFromExceptionListW**</span><span class="sxs-lookup"><span data-stu-id="ed930-220">ANSI version of **RemoveApplicationFromExceptionListW**</span></span>

</dd> <dt>

<span data-ttu-id="ed930-221"><span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**CanLaunchMultiplayerGameW**</span><span class="sxs-lookup"><span data-stu-id="ed930-221"><span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**CanLaunchMultiplayerGameW**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-222">Diese Funktion meldet, ob die Anwendung deaktiviert oder aus der Ausnahmenliste entfernt wurde.</span><span class="sxs-lookup"><span data-stu-id="ed930-222">This function reports if the application has been disabled or removed from the exceptions list.</span></span> <span data-ttu-id="ed930-223">Sie sollte jedes Mal aufgerufen werden, wenn das Spiel ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-223">It should be called every time the game is run.</span></span> <span data-ttu-id="ed930-224">Die Funktion nimmt einen vollständigen Pfad zur ausführbaren Datei an.</span><span class="sxs-lookup"><span data-stu-id="ed930-224">The function takes in a complete path to the executable.</span></span> <span data-ttu-id="ed930-225">Für diese Funktion sind keine Administratorrechte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="ed930-225">This function does not require administrator privileges.</span></span>

</dd> <dt>

<span data-ttu-id="ed930-226"><span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**CanLaunchMultiplayerGameA**</span><span class="sxs-lookup"><span data-stu-id="ed930-226"><span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**CanLaunchMultiplayerGameA**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-227">ANSI-Version von **CanLaunchMultiplayerGameW**</span><span class="sxs-lookup"><span data-stu-id="ed930-227">ANSI version of **CanLaunchMultiplayerGameW**</span></span>

</dd> <dt>

<span data-ttu-id="ed930-228"><span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**SetMSIFirewallProperties**</span><span class="sxs-lookup"><span data-stu-id="ed930-228"><span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**SetMSIFirewallProperties**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-229">Rufen Sie dies nur auf, wenn Sie benutzerdefinierte Aktionen in Windows Installer verwenden.</span><span class="sxs-lookup"><span data-stu-id="ed930-229">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="ed930-230">Weitere Informationen finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="ed930-230">See below for more details.</span></span>

</dd> <dt>

<span data-ttu-id="ed930-231"><span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**AddToExceptionListUsingMSI**</span><span class="sxs-lookup"><span data-stu-id="ed930-231"><span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**AddToExceptionListUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-232">Rufen Sie dies nur auf, wenn Sie benutzerdefinierte Aktionen in Windows Installer verwenden.</span><span class="sxs-lookup"><span data-stu-id="ed930-232">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="ed930-233">Weitere Informationen finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="ed930-233">See below for more details.</span></span>

</dd> <dt>

<span data-ttu-id="ed930-234"><span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**RemoveFromExceptionListUsingMSI**</span><span class="sxs-lookup"><span data-stu-id="ed930-234"><span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**RemoveFromExceptionListUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="ed930-235">Rufen Sie dies nur auf, wenn Sie benutzerdefinierte Aktionen in Windows Installer verwenden.</span><span class="sxs-lookup"><span data-stu-id="ed930-235">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="ed930-236">Weitere Informationen finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="ed930-236">See below for more details.</span></span>

</dd> </dl>

<span data-ttu-id="ed930-237">In den folgenden Abschnitten werden bestimmte Methoden zum Aufrufen der exportierten DLL-Funktionen aus dieser FirewallInstallHelper-Datei in einem InstallShield-, Wise- oder Windows Installer-Paket beschrieben.</span><span class="sxs-lookup"><span data-stu-id="ed930-237">The following sections describe specific methods of calling the exported DLL functions from this FirewallInstallHelper from within an InstallShield, Wise, or Windows Installer package.</span></span> <span data-ttu-id="ed930-238">Alle Methoden rendern die gleichen Ergebnisse, und der Entwickler muss bestimmen, welche Methode implementiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="ed930-238">All methods render the same results and it is up to the developer to determine which method to implement.</span></span>

## <a name="integrating-using-installshield-installscript"></a><span data-ttu-id="ed930-239">Integrieren mit InstallShield InstallScript</span><span class="sxs-lookup"><span data-stu-id="ed930-239">Integrating using InstallShield InstallScript</span></span>

<span data-ttu-id="ed930-240">Eine alternative Methode zur Verwendung der Firewall-APIs ist das Hinzufügen der Funktionsaufrufe zu InstallShield InstallScript.</span><span class="sxs-lookup"><span data-stu-id="ed930-240">An alternate method of using the Firewall APIs is to add the function calls to an InstallShield InstallScript.</span></span> <span data-ttu-id="ed930-241">Die schritte, die für die Integration erforderlich sind, sind recht einfach:</span><span class="sxs-lookup"><span data-stu-id="ed930-241">The steps required to integrate are fairly simple:</span></span>

1.  <span data-ttu-id="ed930-242">Öffnen Sie ein InstallScript-Projekt im InstallShield-Editor.</span><span class="sxs-lookup"><span data-stu-id="ed930-242">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="ed930-243">Fügen Sie dem Projekt die FirewallInstallHelper.dll als Supportdatei hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-243">Add the FirewallInstallHelper.dll to the project as a support file.</span></span>

    1.  <span data-ttu-id="ed930-244">Öffnen Sie auf der Registerkarte Projekt-Assistent die Registerkarte Anwendungsdateien.</span><span class="sxs-lookup"><span data-stu-id="ed930-244">Under Project Assistant tab, open the Application Files tab.</span></span>
    2.  <span data-ttu-id="ed930-245">Klicken Sie auf die Schaltfläche Dateien hinzufügen, um dateien zum Anwendungszielordner hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed930-245">Click on the Add Files button to add files to the Application Target Folder.</span></span>
    3.  <span data-ttu-id="ed930-246">Navigieren Sie zu der FirewallInstallHelper.dll, die Sie erstellt haben, oder verwenden Sie das im DirectX SDK bereitgestellte , und fügen Sie es dem Projekt hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-246">Browse to the FirewallInstallHelper.dll that you have built or use the one provided in the DirectX SDK and add it to the project.</span></span>

3.  <span data-ttu-id="ed930-247">Fügen Sie InstallScript zum Projekt hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-247">Add InstallScript to the project.</span></span>

    1.  <span data-ttu-id="ed930-248">Öffnen Sie die Ansicht Installations-Designer, und klicken Sie auf Behavior and Logic InstallScript (Verhalten und Logic \| InstallScript).</span><span class="sxs-lookup"><span data-stu-id="ed930-248">Open the Installation Designer view, and click on the Behavior and Logic \| InstallScript</span></span>
    2.  <span data-ttu-id="ed930-249">Klicken Sie auf die InstallScript-Datei (normalerweise setup.rul), um sie im Editor zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="ed930-249">Click on the InstallScript file (usually setup.rul) to open it in the editor</span></span>
    3.  <span data-ttu-id="ed930-250">Fügen Sie den folgenden Code in die InstallScript-Datei ein:</span><span class="sxs-lookup"><span data-stu-id="ed930-250">Paste the following code into the InstallScript file:</span></span>

    ``` syntax
    #include "ifx.h"

    prototype BOOL FirewallInstallHelper.AddApplicationToExceptionListW( WSTRING, WSTRING );
    prototype BOOL FirewallInstallHelper.RemoveApplicationFromExceptionListW( WSTRING );

    function OnMoved()
        WSTRING path[256];
    begin
        // The DLL has been installed into the TARGETDIR
        if !MAINTENANCE then // TRUE when installing
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.AddApplicationToExceptionListW( path, "TODO: change to friendly app name" );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
          

    function OnMoving()
        WSTRING path[256];
    begin
        // The DLL is about to be removed from TARGETDIR
        if MAINTENANCE && UNINST != "" then // TRUE when uninstalling
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.RemoveApplicationFromExceptionListW( path );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
    ```

    4.  <span data-ttu-id="ed930-251">Ändern Sie die TODO-Kommentare mit dem Anwendungsnamen, der in der Firewallausnahmeliste angezeigt wird, und dem Pfad zur ausführbaren Datei des Spiels relativ zum Installationsverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="ed930-251">Change the TODO comments with the application name that will be shown in the Firewall Exception List and the path to the game executable relative to the installation directory.</span></span>

## <a name="integrating-into-wise-for-windows-installer"></a><span data-ttu-id="ed930-252">Integration in Wise for Windows Installer</span><span class="sxs-lookup"><span data-stu-id="ed930-252">Integrating into Wise for Windows Installer</span></span>

<span data-ttu-id="ed930-253">Für die Integration in Wise for Windows Installer müssen die folgenden Schritte ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="ed930-253">To integrate with Wise for Windows Installer, these steps have to be done:</span></span>

1.  <span data-ttu-id="ed930-254">Öffnen Sie Ihr Wise for Windows Installer-Projekt.</span><span class="sxs-lookup"><span data-stu-id="ed930-254">Open your Wise for Windows Installer project.</span></span>
2.  <span data-ttu-id="ed930-255">Wählen Sie unten die Registerkarte "Installationsexperten" aus.</span><span class="sxs-lookup"><span data-stu-id="ed930-255">Select the "Installation Expert" tab at the bottom.</span></span>
3.  <span data-ttu-id="ed930-256">Klicken Sie auf Dateien, und fügen Sie die FirewallInstallHelper.dll aus dem DXSDK dem Installationsverzeichnis des Spiels hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-256">Click on Files, and add the FirewallInstallHelper.dll from the DXSDK to the game's install directory.</span></span>
4.  <span data-ttu-id="ed930-257">Wählen Sie unten die Registerkarte "MSI-Skript" aus.</span><span class="sxs-lookup"><span data-stu-id="ed930-257">Select the "MSI script" tab at the bottom.</span></span>
5.  <span data-ttu-id="ed930-258">Wählen Sie unten die Registerkarte "Direkt ausführen" aus.</span><span class="sxs-lookup"><span data-stu-id="ed930-258">Select the "Execute Immediate" tab near the bottom.</span></span>
6.  <span data-ttu-id="ed930-259">Fügen Sie nach CostFinalize eine Aktion "Eigenschaft festlegen" hinzu, die FULLPATH auf \[ "INSTALLDIR \] relative path to executable from install directory" festlegt.</span><span class="sxs-lookup"><span data-stu-id="ed930-259">After CostFinalize, add a "Set Property" action that sets FULLPATH to "\[INSTALLDIR\]relative path to executable from install directory".</span></span> <span data-ttu-id="ed930-260">Beispiel: \[ "INSTALLDIR \]game.exe" ohne Anführungszeichen</span><span class="sxs-lookup"><span data-stu-id="ed930-260">For example, "\[INSTALLDIR\]game.exe" without the quotes</span></span>
7.  <span data-ttu-id="ed930-261">Wählen Sie unten die Registerkarte "Verzögert ausführen" aus.</span><span class="sxs-lookup"><span data-stu-id="ed930-261">Select the "Execute Deferred" tab near the bottom.</span></span>
8.  <span data-ttu-id="ed930-262">Fügen Sie nach PublishProduct eine If-Anweisung mit der Bedingung "NICHT installiert" hinzu (Groß-/Kleinschreibung wird beachtet).</span><span class="sxs-lookup"><span data-stu-id="ed930-262">After PublishProduct, add an "If statement" with the condition "NOT Installed" (case sensitive).</span></span>
9.  <span data-ttu-id="ed930-263">Fügen Sie innerhalb des If-Blocks die Aktion "Benutzerdefinierte DLL aus Ziel aufrufen" hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-263">Within the If block, add a "Call Custom DLL from Destination" action.</span></span>

    1.  <span data-ttu-id="ed930-264">Legen Sie das Feld DLL-Datei auf \[ "INSTALLDIR \]FirewallInstallHelper.dll" fest.</span><span class="sxs-lookup"><span data-stu-id="ed930-264">Set the DLL File field to "\[INSTALLDIR\]FirewallInstallHelper.dll."</span></span>
    2.  <span data-ttu-id="ed930-265">Legen Sie das Feld Funktionsname auf "AddApplicationToExceptionListA" fest.</span><span class="sxs-lookup"><span data-stu-id="ed930-265">Set the Function Name field to "AddApplicationToExceptionListA."</span></span>
    3.  <span data-ttu-id="ed930-266">Fügen Sie einen Parameter mit dem Typ "Zeichenfolgenzeiger", der Wertquelle "Property" und dem Eigenschaftsnamen "FULLPATH" hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-266">Add a parameter with type "string pointer", value source "Property", and property name "FULLPATH."</span></span>
    4.  <span data-ttu-id="ed930-267">Fügen Sie einen zweiten Parameter mit dem Typ "Zeichenfolgenzeiger" und der Wertquelle "Constant" hinzu, und legen Sie den konstanten Wert auf den Anzeigenamen der Anwendung fest, den Sie in der Firewallausnahmeliste anzeigen möchten.</span><span class="sxs-lookup"><span data-stu-id="ed930-267">Add a second parameter with type "string pointer", value source "Constant", and set the constant value to the friendly application name you want displayed in the firewall exception list.</span></span>
    5.  <span data-ttu-id="ed930-268">Schließen Sie den If-Block, indem Sie eine "End-Anweisung" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed930-268">Close the If block by adding an "End Statement."</span></span>

10. <span data-ttu-id="ed930-269">Fügen Sie direkt oberhalb der Aktion RemoveFiles am oberen Rand einen weiteren If-Block mit der Bedingung "REMOVE~="ALL"" hinzu (Groß-/Kleinschreibung wird beachtet und keine äußeren Anführungszeichen verwendet).</span><span class="sxs-lookup"><span data-stu-id="ed930-269">Just above the RemoveFiles action near the top, add another If block, with the condition to be "REMOVE~="ALL"" (case sensitive and without the outer quotes).</span></span>
11. <span data-ttu-id="ed930-270">Fügen Sie innerhalb des zweiten If-Blocks die Aktion "Benutzerdefinierte DLL aus Ziel aufrufen" hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-270">Within the second If block, add a "Call Custom DLL from Destination" action.</span></span>

    1.  <span data-ttu-id="ed930-271">Legen Sie das Feld DLL-Datei auf \[ "INSTALLDIR \]FirewallInstallHelper.dll" fest.</span><span class="sxs-lookup"><span data-stu-id="ed930-271">Set the DLL File field to "\[INSTALLDIR\]FirewallInstallHelper.dll."</span></span>
    2.  <span data-ttu-id="ed930-272">Legen Sie das Feld Funktionsname auf "RemoveApplicationFromExceptionListA" fest.</span><span class="sxs-lookup"><span data-stu-id="ed930-272">Set the Function Name field to "RemoveApplicationFromExceptionListA."</span></span>
    3.  <span data-ttu-id="ed930-273">Fügen Sie einen Parameter mit dem Typ "Zeichenfolgenzeiger", der Wertquelle "Property" und dem Eigenschaftsnamen "FULLPATH" hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-273">Add a parameter with type "string pointer", value source "Property", and property name "FULLPATH."</span></span>
    4.  <span data-ttu-id="ed930-274">Schließen Sie den zweiten If-Block, indem Sie eine "End-Anweisung" hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed930-274">Close the second If block by adding an "End Statement."</span></span>

## <a name="integrating-into-windows-installer"></a><span data-ttu-id="ed930-275">Integrieren in Windows Installer</span><span class="sxs-lookup"><span data-stu-id="ed930-275">Integrating into Windows Installer</span></span>

<span data-ttu-id="ed930-276">Für die Integration in Windows Installer auf hoher Ebene müssen diese Schritte ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="ed930-276">To integrate with Windows Installer at the high level, these steps have to be done.</span></span> <span data-ttu-id="ed930-277">Sie werden im Folgenden ausführlich erläutert:</span><span class="sxs-lookup"><span data-stu-id="ed930-277">They will be explained in detail below:</span></span>

-   <span data-ttu-id="ed930-278">Fügen Sie wie unten beschrieben die zwei Eigenschaften "FriendlyNameForFirewall" und "RelativePathToExeForFirewall" hinzu.</span><span class="sxs-lookup"><span data-stu-id="ed930-278">Add 2 properties "FriendlyNameForFirewall" and "RelativePathToExeForFirewall" as described below.</span></span>
-   <span data-ttu-id="ed930-279">Rufen Sie nach der CostFinalize-Aktion "SetMSIFirewallProperties" in einer unmittelbaren benutzerdefinierten Aktion auf, um die entsprechenden MSI-Eigenschaften für die anderen benutzerdefinierten Aktionen festzulegen.</span><span class="sxs-lookup"><span data-stu-id="ed930-279">After the CostFinalize action, call "SetMSIFirewallProperties" in an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
-   <span data-ttu-id="ed930-280">Rufen Sie während der Installation nach der InstallFiles-Aktion eine verzögerte benutzerdefinierte Aktion auf, die die Funktion "AddToExceptionListUsingMSI" von FirewallInstallHelper verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed930-280">During install after the InstallFiles action, call a deferred custom action that uses the FirewallInstallHelper's "AddToExceptionListUsingMSI" function.</span></span>
-   <span data-ttu-id="ed930-281">Rufen Sie während der Deinstallation nach der InstallFiles-Aktion eine verzögerte benutzerdefinierte Aktion auf, die die Funktion "RemoveFromExceptionListUsingMSI" von FirewallInstallHelper verwendet.</span><span class="sxs-lookup"><span data-stu-id="ed930-281">During uninstall after the InstallFiles action, call a deferred custom action that uses the FirewallInstallHelper's "RemoveFromExceptionListUsingMSI" function.</span></span>
-   <span data-ttu-id="ed930-282">Rufen Sie während des Rollbacks eine verzögerte benutzerdefinierte Aktion auf, die auch die Funktion "RemoveFromExceptionListUsingMSI" von FirewallInstallHelper aufruft.</span><span class="sxs-lookup"><span data-stu-id="ed930-282">During rollback, call a deferred custom action which also calls the FirewallInstallHelper's "RemoveFromExceptionListUsingMSI" function.</span></span>

<span data-ttu-id="ed930-283">Die folgenden Schritte sind erforderlich, um dies mithilfe eines MSI-Editors wie Orca im Plattform-SDK zu tun.</span><span class="sxs-lookup"><span data-stu-id="ed930-283">The following is the steps needed to do this using an MSI editor such as Orca found in the Platform SDK.</span></span> <span data-ttu-id="ed930-284">Beachten Sie, dass einige Editoren über Assistenten verfügen, die einige dieser Schritte vereinfachen:</span><span class="sxs-lookup"><span data-stu-id="ed930-284">Note that some editors have wizards that simplify some of these steps:</span></span>

1.  <span data-ttu-id="ed930-285">Öffnen Sie das MSI-Paket in Orca.</span><span class="sxs-lookup"><span data-stu-id="ed930-285">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="ed930-286">Fügen Sie der Binärtabelle Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="ed930-286">Add the following to the Binary table:</span></span>

    

    | <span data-ttu-id="ed930-287">Name</span><span class="sxs-lookup"><span data-stu-id="ed930-287">Name</span></span>     | <span data-ttu-id="ed930-288">Daten</span><span class="sxs-lookup"><span data-stu-id="ed930-288">Data</span></span>                                                                                                                                                                          |
    |----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="ed930-289">Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-289">FIREWALL</span></span> | <span data-ttu-id="ed930-290">Zeigen Sie auf den FirewallInstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="ed930-290">Point it to the FirewallInstallHelper.dll.</span></span> <span data-ttu-id="ed930-291">Diese Datei wird in das MSI-Paket eingebettet, sodass Sie diesen Schritt jedes Mal durchführen müssen, wenn Sie FirewallInstallHelper.dll neu kompilieren.</span><span class="sxs-lookup"><span data-stu-id="ed930-291">This file will be embedded in the MSI package so you will have to do this step every time you recompile FirewallInstallHelper.dll.</span></span> |

    

     

3.  <span data-ttu-id="ed930-292">Fügen Sie der Tabelle CustomAction Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="ed930-292">Add the following to CustomAction table:</span></span>

    

    | <span data-ttu-id="ed930-293">Aktion</span><span class="sxs-lookup"><span data-stu-id="ed930-293">Action</span></span>                   | <span data-ttu-id="ed930-294">type</span><span class="sxs-lookup"><span data-stu-id="ed930-294">Type</span></span>                                                                                                                                                                                                   | <span data-ttu-id="ed930-295">`Source`</span><span class="sxs-lookup"><span data-stu-id="ed930-295">Source</span></span>   | <span data-ttu-id="ed930-296">Ziel</span><span class="sxs-lookup"><span data-stu-id="ed930-296">Target</span></span>                          |
    |--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------------------------------|
    | <span data-ttu-id="ed930-297">FirewallSetMSIProperties</span><span class="sxs-lookup"><span data-stu-id="ed930-297">FirewallSetMSIProperties</span></span> | <span data-ttu-id="ed930-298">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span><span class="sxs-lookup"><span data-stu-id="ed930-298">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                                                        | <span data-ttu-id="ed930-299">Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-299">FIREWALL</span></span> | <span data-ttu-id="ed930-300">SetMSIFirewallProperties</span><span class="sxs-lookup"><span data-stu-id="ed930-300">SetMSIFirewallProperties</span></span>        |
    | <span data-ttu-id="ed930-301">FirewallAdd</span><span class="sxs-lookup"><span data-stu-id="ed930-301">FirewallAdd</span></span>              | <span data-ttu-id="ed930-302">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="ed930-302">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="ed930-303">Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-303">FIREWALL</span></span> | <span data-ttu-id="ed930-304">AddToExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="ed930-304">AddToExceptionListUsingMSI</span></span>      |
    | <span data-ttu-id="ed930-305">FirewallRemove</span><span class="sxs-lookup"><span data-stu-id="ed930-305">FirewallRemove</span></span>           | <span data-ttu-id="ed930-306">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span><span class="sxs-lookup"><span data-stu-id="ed930-306">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="ed930-307">Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-307">FIREWALL</span></span> | <span data-ttu-id="ed930-308">RemoveFromExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="ed930-308">RemoveFromExceptionListUsingMSI</span></span> |
    | <span data-ttu-id="ed930-309">FirewallRollBackAdd</span><span class="sxs-lookup"><span data-stu-id="ed930-309">FirewallRollBackAdd</span></span>      | <span data-ttu-id="ed930-310">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span><span class="sxs-lookup"><span data-stu-id="ed930-310">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="ed930-311">Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-311">FIREWALL</span></span> | <span data-ttu-id="ed930-312">RemoveFromExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="ed930-312">RemoveFromExceptionListUsingMSI</span></span> |
    | <span data-ttu-id="ed930-313">FirewallRollBackRemove</span><span class="sxs-lookup"><span data-stu-id="ed930-313">FirewallRollBackRemove</span></span>   | <span data-ttu-id="ed930-314">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span><span class="sxs-lookup"><span data-stu-id="ed930-314">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="ed930-315">Firewall</span><span class="sxs-lookup"><span data-stu-id="ed930-315">FIREWALL</span></span> | <span data-ttu-id="ed930-316">AddToExceptionListUsingMSI</span><span class="sxs-lookup"><span data-stu-id="ed930-316">AddToExceptionListUsingMSI</span></span>      |

    

     

4.  <span data-ttu-id="ed930-317">Fügen Sie der Tabelle InstallExecuteSequence Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="ed930-317">Add the following to the InstallExecuteSequence table:</span></span>

    

    | <span data-ttu-id="ed930-318">Aktion</span><span class="sxs-lookup"><span data-stu-id="ed930-318">Action</span></span>                   | <span data-ttu-id="ed930-319">Bedingung</span><span class="sxs-lookup"><span data-stu-id="ed930-319">Condition</span></span>     | <span data-ttu-id="ed930-320">Sequenz</span><span class="sxs-lookup"><span data-stu-id="ed930-320">Sequence</span></span> | <span data-ttu-id="ed930-321">Hinweise</span><span class="sxs-lookup"><span data-stu-id="ed930-321">Notes</span></span>                                                                                                                                                                      |
    |--------------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="ed930-322">FirewallSetMSIProperties</span><span class="sxs-lookup"><span data-stu-id="ed930-322">FirewallSetMSIProperties</span></span> |               | <span data-ttu-id="ed930-323">1010</span><span class="sxs-lookup"><span data-stu-id="ed930-323">1010</span></span>     | <span data-ttu-id="ed930-324">Dies wird kurz nach CostFinalize erreicht.</span><span class="sxs-lookup"><span data-stu-id="ed930-324">This places soon after CostFinalize.</span></span>                                                                                                                                       |
    | <span data-ttu-id="ed930-325">FirewallAdd</span><span class="sxs-lookup"><span data-stu-id="ed930-325">FirewallAdd</span></span>              | <span data-ttu-id="ed930-326">NICHT installiert</span><span class="sxs-lookup"><span data-stu-id="ed930-326">NOT Installed</span></span> | <span data-ttu-id="ed930-327">4021</span><span class="sxs-lookup"><span data-stu-id="ed930-327">4021</span></span>     | <span data-ttu-id="ed930-328">Diese benutzerdefinierte Aktion wird nur während einer neu installierten Installation vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="ed930-328">This custom action will only happen during a fresh install.</span></span> <span data-ttu-id="ed930-329">Die Sequenznummer platziert die Aktion nach InstallFiles und nach den Rollbacks.</span><span class="sxs-lookup"><span data-stu-id="ed930-329">The sequence number places the action after InstallFiles and after the rollbacks.</span></span>                              |
    | <span data-ttu-id="ed930-330">FirewallRollBackAdd</span><span class="sxs-lookup"><span data-stu-id="ed930-330">FirewallRollBackAdd</span></span>      | <span data-ttu-id="ed930-331">NICHT installiert</span><span class="sxs-lookup"><span data-stu-id="ed930-331">NOT Installed</span></span> | <span data-ttu-id="ed930-332">4020</span><span class="sxs-lookup"><span data-stu-id="ed930-332">4020</span></span>     | <span data-ttu-id="ed930-333">Diese benutzerdefinierte Aktion wird nur dann vorgenommen, wenn eine neu installierte Installation abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-333">This custom action will only happen when a fresh install is cancelled.</span></span> <span data-ttu-id="ed930-334">Die Sequenznummer platziert die Aktion nach InstallFiles und vor der Aktion Benutzerdefinierte Hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed930-334">The sequence number places the action after InstallFiles and before the Add custom action.</span></span>          |
    | <span data-ttu-id="ed930-335">FirewallRemove</span><span class="sxs-lookup"><span data-stu-id="ed930-335">FirewallRemove</span></span>           | <span data-ttu-id="ed930-336">Installiert</span><span class="sxs-lookup"><span data-stu-id="ed930-336">Installed</span></span>     | <span data-ttu-id="ed930-337">3461</span><span class="sxs-lookup"><span data-stu-id="ed930-337">3461</span></span>     | <span data-ttu-id="ed930-338">Diese benutzerdefinierte Aktion wird nur während der Deinstallation geschehen.</span><span class="sxs-lookup"><span data-stu-id="ed930-338">This custom action will only happen during uninstall.</span></span> <span data-ttu-id="ed930-339">Die Sequenznummer platziert die Aktion direkt vor RemoveFiles und nach den Rollbacks.</span><span class="sxs-lookup"><span data-stu-id="ed930-339">The sequence number places the action directly before RemoveFiles and after the rollbacks.</span></span>                           |
    | <span data-ttu-id="ed930-340">FirewallRollBackRemove</span><span class="sxs-lookup"><span data-stu-id="ed930-340">FirewallRollBackRemove</span></span>   | <span data-ttu-id="ed930-341">NICHT installiert</span><span class="sxs-lookup"><span data-stu-id="ed930-341">NOT Installed</span></span> | <span data-ttu-id="ed930-342">3460</span><span class="sxs-lookup"><span data-stu-id="ed930-342">3460</span></span>     | <span data-ttu-id="ed930-343">Diese benutzerdefinierte Aktion wird nur dann geschehen, wenn eine Deinstallation abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-343">This custom action will only happen when an uninstall is cancelled.</span></span> <span data-ttu-id="ed930-344">Die Sequenznummer platziert die Aktion direkt vor RemoveFiles und vor der benutzerdefinierten Aktion Entfernen.</span><span class="sxs-lookup"><span data-stu-id="ed930-344">The sequence number places the action directly before RemoveFiles and before the Remove custom action.</span></span> |

    

     

5.  <span data-ttu-id="ed930-345">Fügen Sie der Tabelle Property Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="ed930-345">Add the following to the Property table:</span></span>

    

    | <span data-ttu-id="ed930-346">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="ed930-346">Property</span></span>                     | <span data-ttu-id="ed930-347">Wert</span><span class="sxs-lookup"><span data-stu-id="ed930-347">Value</span></span>                                                                             |
    |------------------------------|-----------------------------------------------------------------------------------|
    | <span data-ttu-id="ed930-348">FriendlyNameForFirewall</span><span class="sxs-lookup"><span data-stu-id="ed930-348">FriendlyNameForFirewall</span></span>      | <span data-ttu-id="ed930-349">Muss der Name sein, der in der Ausnahmeliste angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-349">Needs to be the name the exception list will display.</span></span> <span data-ttu-id="ed930-350">Beispiel: "Beispielspiel"</span><span class="sxs-lookup"><span data-stu-id="ed930-350">For example, "Example Game"</span></span> |
    | <span data-ttu-id="ed930-351">RelativePathToExeForFirewall</span><span class="sxs-lookup"><span data-stu-id="ed930-351">RelativePathToExeForFirewall</span></span> | <span data-ttu-id="ed930-352">Muss die installierte ausführbare Datei des Spiels sein.</span><span class="sxs-lookup"><span data-stu-id="ed930-352">Needs to be the installed executable of the game.</span></span> <span data-ttu-id="ed930-353">Beispiel: "ExampleGame.exe"</span><span class="sxs-lookup"><span data-stu-id="ed930-353">For example, "ExampleGame.exe"</span></span>  |

    

     

<span data-ttu-id="ed930-354">Weitere Informationen zu Windows Installer finden Sie unter [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="ed930-354">For more information on Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="recommendations"></a><span data-ttu-id="ed930-355">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="ed930-355">Recommendations</span></span>

<span data-ttu-id="ed930-356">Die Firewall ist hier, um zu bleiben.</span><span class="sxs-lookup"><span data-stu-id="ed930-356">The firewall is here to stay.</span></span> <span data-ttu-id="ed930-357">Diese Empfehlungen bieten Ihren Kunden eine gute Firewallerfahrung mit Ihrem Windows-Spiel:</span><span class="sxs-lookup"><span data-stu-id="ed930-357">These recommendations will give your customers a good firewall experience with your Windows game:</span></span>

-   <span data-ttu-id="ed930-358">Informieren Sie Benutzer nicht, die Firewall zu deaktivieren, um Ihr Spiel zu spielen.</span><span class="sxs-lookup"><span data-stu-id="ed930-358">Don't tell users to disable the firewall to play your game.</span></span> <span data-ttu-id="ed930-359">Dadurch wird der gesamte Computer anfällig, auch wenn er ihr Spiel nicht spielt.</span><span class="sxs-lookup"><span data-stu-id="ed930-359">This makes the entire machine vulnerable even when they aren't playing your game.</span></span>
-   <span data-ttu-id="ed930-360">Sorgen Sie für eine nahtlose Firewallkonfiguration für Ihre Benutzer.</span><span class="sxs-lookup"><span data-stu-id="ed930-360">Make the firewall configuration seamless for your users.</span></span> <span data-ttu-id="ed930-361">Fügen Sie ihre Anwendung während der Installation der Ausnahmeliste hinzu, und entfernen Sie die Anwendung während der Installation aus der Ausnahmeliste.</span><span class="sxs-lookup"><span data-stu-id="ed930-361">Add your application to the exception list during installation, and remove your application from the exception list during installation.</span></span>
-   <span data-ttu-id="ed930-362">Geben Sie dem Benutzer Feedback, wenn multiplayer durch den Firewallzustand blockiert wird.</span><span class="sxs-lookup"><span data-stu-id="ed930-362">Give feedback to the user if multiplayer is blocked by the firewall state.</span></span> <span data-ttu-id="ed930-363">Deaktivieren Sie z. B. Netzwerkfeatures, wenn sie nicht funktionieren, weil die Anwendung nicht verfügbar ist oder weil sich das System im Modus "Keine Ausnahmen" befindet.</span><span class="sxs-lookup"><span data-stu-id="ed930-363">For example, disable networking features if they won't work either because the application is disallowed or because the system is in the "no exceptions" mode.</span></span>

 

 