---
title: Windows-Firewall für Spieleentwickler
description: In diesem Artikel wird die Windows-Firewall beschrieben. Warum Sie vorhanden ist, was Sie erreicht und wie dies funktioniert. Vor allem wird beschrieben, wie Sie Ihr Spiel so konfigurieren, dass es mit der Firewall gut funktioniert.
ms.assetid: 2ee9f769-03dc-3661-5d5b-6a4ecd151fd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 88656fb3f622a847c15544646c333b807f3a0fb2
ms.sourcegitcommit: b7a1da2711221fa99072079bf52399cbdfc6bd9d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/05/2021
ms.locfileid: "104530566"
---
# <a name="windows-firewall-for-game-developers"></a><span data-ttu-id="0bfea-104">Windows-Firewall für Spieleentwickler</span><span class="sxs-lookup"><span data-stu-id="0bfea-104">Windows Firewall for Game Developers</span></span>

<span data-ttu-id="0bfea-105">In diesem Artikel wird die Windows-Firewall beschrieben. Warum Sie vorhanden ist, was Sie erreicht und wie dies funktioniert.</span><span class="sxs-lookup"><span data-stu-id="0bfea-105">This article describes the Windows Firewall - why it exists, what it accomplishes, and how it does so.</span></span> <span data-ttu-id="0bfea-106">Vor allem wird beschrieben, wie Sie Ihr Spiel so konfigurieren, dass es mit der Firewall gut funktioniert.</span><span class="sxs-lookup"><span data-stu-id="0bfea-106">Most importantly, it describes how to configure your game to work well with the firewall.</span></span>

<span data-ttu-id="0bfea-107">Inhalte:</span><span class="sxs-lookup"><span data-stu-id="0bfea-107">Contents:</span></span>

-   [<span data-ttu-id="0bfea-108">Was ist eine Firewall?</span><span class="sxs-lookup"><span data-stu-id="0bfea-108">What is a Firewall?</span></span>](#what-is-a-firewall)
-   [<span data-ttu-id="0bfea-109">Wie kann ich erkennen, ob mein Spiel betroffen ist?</span><span class="sxs-lookup"><span data-stu-id="0bfea-109">How can I tell if my game is affected?</span></span>](#how-can-i-tell-if-my-game-is-affected)
-   [<span data-ttu-id="0bfea-110">Die Firewall vor Windows XP SP2</span><span class="sxs-lookup"><span data-stu-id="0bfea-110">The Firewall Before Windows XP SP2</span></span>](#the-firewall-before-windows-xp-sp2)
-   [<span data-ttu-id="0bfea-111">Windows XP SP2-Firewall ist besser</span><span class="sxs-lookup"><span data-stu-id="0bfea-111">Windows XP SP2 Firewall Is Better</span></span>](#windows-xp-sp2-firewall-is-better)
-   [<span data-ttu-id="0bfea-112">Arbeiten mit der Windows-Firewall</span><span class="sxs-lookup"><span data-stu-id="0bfea-112">Working with the Windows Firewall</span></span>](#working-with-the-windows-firewall)
-   [<span data-ttu-id="0bfea-113">Integrieren mithilfe von InstallShield InstallScript</span><span class="sxs-lookup"><span data-stu-id="0bfea-113">Integrating using InstallShield InstallScript</span></span>](#integrating-using-installshield-installscript)
-   [<span data-ttu-id="0bfea-114">Integration in eine Weise für Windows Installer</span><span class="sxs-lookup"><span data-stu-id="0bfea-114">Integrating into Wise for Windows Installer</span></span>](#integrating-into-wise-for-windows-installer)
-   [<span data-ttu-id="0bfea-115">Integration in Windows Installer</span><span class="sxs-lookup"><span data-stu-id="0bfea-115">Integrating into Windows Installer</span></span>](#integrating-into-windows-installer)
-   [<span data-ttu-id="0bfea-116">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="0bfea-116">Recommendations</span></span>](#recommendations)

## <a name="what-is-a-firewall"></a><span data-ttu-id="0bfea-117">Was ist eine Firewall?</span><span class="sxs-lookup"><span data-stu-id="0bfea-117">What is a Firewall?</span></span>

<span data-ttu-id="0bfea-118">Die Firewall stellt eine Barriere gegen netzwerkbasierte Eindring Versuche dar.</span><span class="sxs-lookup"><span data-stu-id="0bfea-118">The firewall provides a barrier against network-based intrusions.</span></span> <span data-ttu-id="0bfea-119">Er blockiert nicht angeforderten eingehenden Datenverkehr und macht das System vor allem im Internet unsichtbar, indem ICMP-Anforderungen (Internet Control Message Protocol) abgelehnt werden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-119">It blocks unsolicited incoming traffic, and makes the system mostly invisible on the internet by rejecting Internet Control Message Protocol (ICMP) requests.</span></span> <span data-ttu-id="0bfea-120">Dies bedeutet, dass Ping und tracert nicht funktionieren.</span><span class="sxs-lookup"><span data-stu-id="0bfea-120">This means that ping and tracert will not work.</span></span> <span data-ttu-id="0bfea-121">Die Firewall sucht auch nach ungültigen Paketen und lehnt sie ab.</span><span class="sxs-lookup"><span data-stu-id="0bfea-121">The firewall also looks and rejects invalid packets.</span></span>

<span data-ttu-id="0bfea-122">Diese Barriere verhindert opportunistische Angriffe.</span><span class="sxs-lookup"><span data-stu-id="0bfea-122">This barrier prevents opportunistic attacks.</span></span> <span data-ttu-id="0bfea-123">Angriffe werden durch das Auffinden vieler Systeme mit dem gleichen Sicherheitsrisiko verteilt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-123">Attacks spread by finding many systems with the same vulnerability.</span></span> <span data-ttu-id="0bfea-124">Die Firewall kann viele Angriffe behindern, indem Sie für die Features, die derzeit nicht verwendet werden, ein "nicht stören"-Vorzeichen ansetzt. der Angriff wird ignoriert und schlägt nicht zu Hause.</span><span class="sxs-lookup"><span data-stu-id="0bfea-124">The firewall can thwart many attacks by putting up a "do not disturb" sign for those features not currently in use; the attack is ignored and does not strike home.</span></span> <span data-ttu-id="0bfea-125">Der wesentliche Vorteil der Windows-Firewall besteht darin, dass Features und Anwendungen, die nicht verwendet werden, keine Angriffsmöglichkeiten sind.</span><span class="sxs-lookup"><span data-stu-id="0bfea-125">The essential benefit of the Windows Firewall is that features and applications that are not in use cannot be avenues for attack.</span></span>

<span data-ttu-id="0bfea-126">Der Benutzer konfiguriert das System, um zu ermitteln, welche Anwendungen und Features benötigt werden und für das Netzwerk geöffnet sein sollten.</span><span class="sxs-lookup"><span data-stu-id="0bfea-126">The user configures the system to identify what applications and features are needed and should be open to the network.</span></span> <span data-ttu-id="0bfea-127">Dies geschieht entweder, wenn eine Anwendung installiert wird oder wenn versucht wird, sich im Netzwerk zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-127">This happens either when an application is installed or when it tries to open itself to the network.</span></span>

## <a name="how-can-i-tell-if-my-game-is-affected"></a><span data-ttu-id="0bfea-128">Wie kann ich erkennen, ob mein Spiel betroffen ist?</span><span class="sxs-lookup"><span data-stu-id="0bfea-128">How can I tell if my game is affected?</span></span>

<span data-ttu-id="0bfea-129">Bei der Ankunft von Windows XP SP2 wurde die Windows-Firewall umfassend bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-129">With the arrival of Windows XP SP2, the Windows Firewall has been widely deployed.</span></span> <span data-ttu-id="0bfea-130">Alle multiplayerwindowsspielen sind von einem gewissen Grad betroffen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-130">All multiplayer Windows games are affected to some degree.</span></span> <span data-ttu-id="0bfea-131">Während sich Clients in der Regel in einer guten Form befinden, muss die Firewall für die Fortsetzung der Firewall konfiguriert werden, und zwar für Server, Hosts und Peers in Peer-to-Peer.</span><span class="sxs-lookup"><span data-stu-id="0bfea-131">While clients are generally in good shape, servers, hosts, and peers in peer-to-peer all need the firewall configured to continue working.</span></span> <span data-ttu-id="0bfea-132">Insbesondere wird eingehender nicht angeforderter Datenverkehr gelöscht.</span><span class="sxs-lookup"><span data-stu-id="0bfea-132">Specifically, incoming unsolicited traffic is dropped.</span></span> <span data-ttu-id="0bfea-133">Die Firewall fängt Netzwerkverkehrs Filter Pakete ab, die auf dem Paket Inhalt und der aktuellen Netzwerkaktivität basieren.</span><span class="sxs-lookup"><span data-stu-id="0bfea-133">The firewall intercepts network-traffic filter packets based on the packet contents and recent network activity.</span></span> <span data-ttu-id="0bfea-134">Die Firewall verwendet den Inhalt und die Aktivität, um ein Paket weiterzuleiten oder zu löschen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-134">The firewall uses the contents and activity to decide to forward or drop a packet.</span></span> <span data-ttu-id="0bfea-135">Sobald die Firewall ordnungsgemäß konfiguriert ist, kann ein Spiel eingehenden nicht angeforderten Datenverkehr wie zuvor akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="0bfea-135">Once the firewall is properly configured, a game will be able to accept inbound unsolicited traffic as before.</span></span>

<span data-ttu-id="0bfea-136">Wer hat nicht angeforderten Datenverkehr?</span><span class="sxs-lookup"><span data-stu-id="0bfea-136">Who has inbound unsolicited traffic?</span></span>

-   <span data-ttu-id="0bfea-137">Client/Server: alle Teilnehmer stellen eine Verbindung mit einem zentralen Server her.</span><span class="sxs-lookup"><span data-stu-id="0bfea-137">Client/Server: All participants connect to a central server.</span></span> <span data-ttu-id="0bfea-138">Der zentrale Server ist der Server mit einem eingehenden nicht angeforderten Datenverkehr.</span><span class="sxs-lookup"><span data-stu-id="0bfea-138">The central server is the one with incoming unsolicited traffic.</span></span> <span data-ttu-id="0bfea-139">Die Clients, die eine Verbindung mit dem Server herstellen, geben den zurückgegebenen Datenverkehr an. Dies ist zu erwarten, und die Firewall kann durchlaufen werden, wenn die Regeln für Clients befolgt werden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-139">The clients connecting to the server are soliciting return traffic, which is expected and is allowed to pass through the firewall if the rules for clients are followed.</span></span> <span data-ttu-id="0bfea-140">Der zentrale Server muss so konfiguriert werden, dass er den nicht angeforderten Datenverkehr akzeptiert, damit der Client Datenverkehr die Firewall durchlaufen kann.</span><span class="sxs-lookup"><span data-stu-id="0bfea-140">The central server must be configured to accept the unsolicited traffic to allow the client traffic to pass through the firewall.</span></span>
-   <span data-ttu-id="0bfea-141">Massively Multiplayer (MMP): alle Teilnehmer sind mit einem Rechenzentrum verbunden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-141">Massively Multiplayer (MMP): All participants are connected to a data center.</span></span> <span data-ttu-id="0bfea-142">Dies ergibt eine komplexe Client/Server-Beziehung, da das Rechenzentrum über den eingehenden nicht angeforderten Datenverkehr verfügt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-142">This amounts to a complex client/server relationship, as the data center has the inbound unsolicited traffic.</span></span> <span data-ttu-id="0bfea-143">Die Teilnehmer sind Clients und müssen im Allgemeinen nicht angeforderten Datenverkehr akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="0bfea-143">The participants are clients, and in general do not need to accept unsolicited traffic.</span></span>
-   <span data-ttu-id="0bfea-144">Peer-to-Peer, bei dem alle Teilnehmer direkt miteinander verbunden sind: alle Teilnehmer müssen bereit sein, nicht angeforderten Datenverkehr von jedem neuen Spieler zu akzeptieren, der der Gruppe Beitritt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-144">Peer-to-Peer, where all participants are connected to each other directly: All participants must be ready to accept unsolicited traffic from any new player joining the group.</span></span> <span data-ttu-id="0bfea-145">In gewisser Hinsicht muss jeder Teilnehmer als Host fungieren, sodass er alle so konfiguriert werden muss, als ob es sich um Hosts handelt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-145">In a sense, each of the participants must function as a host, so they must all be configured as if they were hosts.</span></span>

<span data-ttu-id="0bfea-146">Clients sind im Allgemeinen eine gute Form.</span><span class="sxs-lookup"><span data-stu-id="0bfea-146">Clients are generally in good shape.</span></span> <span data-ttu-id="0bfea-147">Ihre ausgehenden TCP/IP-Verbindungen (Transmission Control Protocol/Internet Protocol) funktionieren ordnungsgemäß, da ausgehende UDP-Nachrichten (User Datagram Protocol) zusammen mit rechtzeitigen Antworten auf diese Nachrichten verwendet werden. die Firewall hält den Port für 90 Sekunden nach jeder ausgehenden Nachricht in Erwartung einer Antwort offen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-147">Their outgoing Transmission Control Protocol/Internet Protocol (TCP/IP) connections will work fine, as will outgoing User Datagram Protocol (UDP) messages along with timely responses to those messages - the firewall keeps the port open for 90 seconds after each outgoing message in anticipation of a reply.</span></span>

## <a name="the-firewall-before-windows-xp-sp2"></a><span data-ttu-id="0bfea-148">Die Firewall vor Windows XP SP2</span><span class="sxs-lookup"><span data-stu-id="0bfea-148">The Firewall Before Windows XP SP2</span></span>

<span data-ttu-id="0bfea-149">Die Internetverbindungs Firewall (ICF) in Windows XP und Windows Server 2003 ist ein Zustands behafteter Paketfilter, der sowohl Internet Protocol, Version 4 (IPv4) als auch Internet Protocol, Version 6 (IPv6), verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="0bfea-149">The Internet Connection Firewall (ICF) in Windows XP and Windows Server 2003 is a stateful packet filter, and handles both Internet Protocol, version 4 (IPv4) and Internet Protocol, version 6 (IPv6).</span></span> <span data-ttu-id="0bfea-150">Es ist jedoch nicht standardmäßig aktiviert und unterstützt keine Netzwerk Stapel von Drittanbietern, von denen es eine beträchtliche Zahl weltweit gibt, wie z. b. große Internetanbieter, einschließlich Länder Telefonunternehmen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-150">However, it is not on by default and does not support 3rd party network stacks, of which there are a significant number in the world, such as large internet providers including national telephone companies.</span></span>

<span data-ttu-id="0bfea-151">Für diejenigen, die nicht unter Windows XP SP2 angezeigt werden, wird dringend empfohlen, das ICF zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="0bfea-151">For those not on Windows XP SP2, turning on the ICF is highly recommended.</span></span> <span data-ttu-id="0bfea-152">Weitere Informationen finden Sie in den Anweisungen zum Verwenden einer Internet Firewall https://www.microsoft.com/security/protect als ersten Schritt zum Sichern Ihres PCs.</span><span class="sxs-lookup"><span data-stu-id="0bfea-152">See the instructions "Use an Internet Firewall" on https://www.microsoft.com/security/protect as the first step to securing your PC.</span></span> <span data-ttu-id="0bfea-153">Die Internetverbindungs Firewall (ICF) bietet Port Zuordnung, um den Paketfilter zu überschreiben.</span><span class="sxs-lookup"><span data-stu-id="0bfea-153">The Internet Connection Firewall (ICF) provides port mapping to override the packet filter.</span></span> <span data-ttu-id="0bfea-154">Im wesentlichen geben Sie den zu öffnenden Port an und bleiben geöffnet, bis Sie ihn schließen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-154">Essentially, you specify the port to open and it remains opened until you close it.</span></span> <span data-ttu-id="0bfea-155">Wenn der Benutzer neu gestartet wird, bevor er geschlossen wird, bleibt er geöffnet, bis er explizit geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="0bfea-155">If the user reboots before it is closed, it will remain open until specifically closed.</span></span> <span data-ttu-id="0bfea-156">Die Kontrolle über die Firewall und die Verwaltung der Port Zuordnungen erfolgt über [**inetsharingmanager**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) und [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).</span><span class="sxs-lookup"><span data-stu-id="0bfea-156">The control of the firewall and the management of the port mappings is done via [**INetSharingManager**](/previous-versions/windows/desktop/api/netcon/nn-netcon-inetsharingmanager) (IPv4) and [**INetFwV6Mgr**](/previous-versions/windows/desktop/ics/inetfwv6mgr) (IPv6).</span></span>

<span data-ttu-id="0bfea-157">Die Windows-Firewall für Windows XP SP2 ist eine umfassendere Lösung, die Netzwerk Stapel von Drittanbietern unterstützt und Ports intelligenter verarbeitet: Ports werden nur geöffnet, solange die Anwendung, die Sie benötigt, immer noch aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="0bfea-157">The Windows Firewall for Windows XP SP2 is a more comprehensive solution that does support 3rd party network stacks, and handles ports more intelligently: ports are kept open only so long as the application that needs them is still active.</span></span>

## <a name="windows-xp-sp2-firewall-is-better"></a><span data-ttu-id="0bfea-158">Windows XP SP2-Firewall ist besser</span><span class="sxs-lookup"><span data-stu-id="0bfea-158">Windows XP SP2 Firewall Is Better</span></span>

<span data-ttu-id="0bfea-159">Windows XP SP2 stellt die Sicherheitsoptionen und-Einstellungen vor.</span><span class="sxs-lookup"><span data-stu-id="0bfea-159">Windows XP SP2 puts the security choices and settings out front.</span></span> <span data-ttu-id="0bfea-160">Ziel ist es, standardmäßig zu schützen und den Benutzern zu ermöglichen, fundierte Entscheidungen zu treffen, welche Anwendungen auf Ihrem Computer ausgeführt werden dürfen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-160">The goal is to protect by default, and allow the user to make informed choices about what applications are allowed to run on their machine.</span></span>

<span data-ttu-id="0bfea-161">Die neue Windows-Firewall ist sowohl unter Windows XP SP2 als auch unter Windows Server 2003 Service Pack 1 (SP1) verfügbar.</span><span class="sxs-lookup"><span data-stu-id="0bfea-161">The new Windows Firewall is available on both Windows XP SP2 and Windows Server 2003 Service Pack 1 (SP1).</span></span> <span data-ttu-id="0bfea-162">Wie bei ICF auch, ist es eine Software Firewall, die sowohl IPv4 als auch IPv6 unterstützt, aber im Gegensatz zu ICF die Windows-Firewall:</span><span class="sxs-lookup"><span data-stu-id="0bfea-162">Like the ICF, it is a software firewall that supports both IPv4 and IPv6, but unlike ICF the Windows Firewall:</span></span>

-   <span data-ttu-id="0bfea-163">Verfügt über einen systemeigenen systemeigenen Schutz, um beim Start ein kleines Sicherheitsrisiko zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-163">Has boot-time protection of the system, eliminating a small window of vulnerability during boot.</span></span>
-   <span data-ttu-id="0bfea-164">Unterstützt Netzwerk Stapel von Drittanbietern.</span><span class="sxs-lookup"><span data-stu-id="0bfea-164">Supports 3rd party network stacks.</span></span>
-   <span data-ttu-id="0bfea-165">Verfügt über einen Modus ohne Ausnahmen, der alle nicht angeforderten eingehenden Pakete blockiert.</span><span class="sxs-lookup"><span data-stu-id="0bfea-165">Has an "on with no exceptions" mode that blocks all unsolicited incoming packets.</span></span> <span data-ttu-id="0bfea-166">Dies ist hervorragend, wenn Sie ein öffentliches Netzwerk verwenden, z. b. in einem Flughafen oder Coffee-Shop.</span><span class="sxs-lookup"><span data-stu-id="0bfea-166">This is great when you're using a public network, such as in an airport or coffee shop.</span></span>

<span data-ttu-id="0bfea-167">Im Modus "bei ohne Ausnahmen" werden alle statischen Löcher geschlossen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-167">In the "on with no exceptions" mode, all static holes are closed.</span></span> <span data-ttu-id="0bfea-168">API-Aufrufe zum Öffnen einer statischen Lücke sind zulässig, aber verzögert; Das heißt, Sie werden erst angewendet, wenn die Firewall wieder zum normalen Betrieb wechselt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-168">API calls to open a static hole are allowed but deferred; that is, they are not applied until the firewall switches back to normal operation.</span></span> <span data-ttu-id="0bfea-169">Alle lauschen-Anforderungen von Anwendungen werden ebenfalls ignoriert.</span><span class="sxs-lookup"><span data-stu-id="0bfea-169">All listen requests by applications will also be ignored.</span></span> <span data-ttu-id="0bfea-170">Ausgehende Verbindungen sind weiterhin erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="0bfea-170">Outbound connections will still succeed.</span></span>

<span data-ttu-id="0bfea-171">Fügen Sie bei neuen Anwendungen die Anwendung während der Installation der Ausnahmeliste hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-171">For new applications, add your application to the "Exceptions List" during installation.</span></span> <span data-ttu-id="0bfea-172">Sie können die Anwendung mithilfe der [**inetswautorizedapplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) -Schnittstelle hinzufügen, die den vollständigen Pfad bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-172">You can add the application using the [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) interface, supplying the full path.</span></span> <span data-ttu-id="0bfea-173">Wir behandeln die Details im Beispiel.</span><span class="sxs-lookup"><span data-stu-id="0bfea-173">We'll cover the details in the sample.</span></span>

<span data-ttu-id="0bfea-174">Sie Fragen sich vielleicht, ob es sich um ein Sicherheitsrisiko handelt, mit dem Anwendungen Anwendungen aus der Ausnahmeliste jedes Benutzers hinzufügen und daraus entfernen können. das größere Risiko ist, dass Anwendungen die Firewall vollständig deaktivieren können.</span><span class="sxs-lookup"><span data-stu-id="0bfea-174">As a side note, you may be wondering if it is a security risk that applications can add and remove applications from the exceptions list any user intervention, or perhaps you think that the bigger risk is that applications can disable the firewall altogether.</span></span> <span data-ttu-id="0bfea-175">Die Anwendung muss über Administratorrechte verfügen, um diese Berechtigungen ausführen zu können.</span><span class="sxs-lookup"><span data-stu-id="0bfea-175">To perform these feats, the application must have administrator privileges.</span></span> <span data-ttu-id="0bfea-176">Wenn auf Ihrem System bösartiger Code im Administrator Modus ausgeführt wird, ist das Spiel bereits aktiv, und der Hacker hat bereits gewonnen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-176">If you have malicious code running in administrator mode on your system, the game is already over and the hacker has already won.</span></span> <span data-ttu-id="0bfea-177">Die Fähigkeit des Hacker, die Firewall zu deaktivieren, würde nur wenig mehr als eine Fußnote verdienen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-177">The hacker's ability to disable the firewall would merit little more than a footnote.</span></span>

<span data-ttu-id="0bfea-178">Ältere Anwendungen, einschließlich Anwendungen, die vor dem Upgrade des Benutzers auf Windows XP SP2 installiert wurden, werden mit dem Dropdown Listen-Popup behandelt (siehe Abbildung 1).</span><span class="sxs-lookup"><span data-stu-id="0bfea-178">Legacy applications, including applications installed before the user upgraded to Windows XP SP2, are handled with the Exceptions List popup (see Figure 1).</span></span> <span data-ttu-id="0bfea-179">In diesem Dialogfeld wird angezeigt, wenn eine Anwendung versucht, einen Port für eingehenden Datenverkehr zu öffnen, entweder beim Aufrufen von BIND () mit einem Port ungleich NULL für UDP oder Accept () für das TCP/IP-Protokoll.</span><span class="sxs-lookup"><span data-stu-id="0bfea-179">This dialog shows when an application tries to open a port for incoming traffic - either when calling bind() with a non-zero port for UDP, or accept() for TCP/IP protocol.</span></span> <span data-ttu-id="0bfea-180">Sie müssen als Administrator ausgeführt werden, um die Blockierung von Anwendungen zu verhindern, während "später Fragen", diese Zeit nicht mehr zulässt, sondern das nächste Mal erneut fragt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-180">You must be running as an Administrator to "Unblock" applications, while "Ask Me Later" disallows this time around but asks again next time.</span></span>

<span data-ttu-id="0bfea-181">Dies ist ein nicht blockierendes Systemmodales Dialogfeld.</span><span class="sxs-lookup"><span data-stu-id="0bfea-181">This is a non-blocking, system modal dialog box.</span></span> <span data-ttu-id="0bfea-182">Beim Ausführen einer Vollbild-Microsoft Direct3D-Anwendung, wird das Dialogfeld unterhalb von angezeigt. der Benutzer kann ihn dann verarbeiten, wenn die Anwendung den Vollbildmodus oder die alt-Registerkarten zurück zum Desktop verlässt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-182">When running a fullscreen Microsoft Direct3D application, the dialog comes in underneath; and the user can then handle it when the application exits fullscreen mode or alt-tabs back to the desktop.</span></span> <span data-ttu-id="0bfea-183">Es ist jedoch nicht immer offensichtlich, dass dieses Dialogfeld angezeigt wird, wenn ein Spiel voll Bildschirm ausgeführt wird. Daher ist es wichtig zu vermeiden, dass dieses Dialogfeld angezeigt wird, indem Sie die [**inetfwautorizedapplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) -Schnittstelle verwenden, wie unten erläutert.</span><span class="sxs-lookup"><span data-stu-id="0bfea-183">However, it is not always obvious to the user that this dialog has appeared when a game is running fullscreen, so it is important to avoid causing this dialog to appear by using [**INetFwAuthorizedApplications**](/previous-versions/windows/desktop/api/netfw/nn-netfw-inetfwauthorizedapplications) interface as discussed below.</span></span>

<span data-ttu-id="0bfea-184">**Abbildung 1. Popup Dialogfeld für Ausnahmen Liste**</span><span class="sxs-lookup"><span data-stu-id="0bfea-184">**Figure 1. Exceptions List Popup Dialog**</span></span>

![Popup Dialogfeld für Ausnahmen Liste](images/firewalls1.jpg)

<span data-ttu-id="0bfea-186">Sie werden feststellen, dass das Popup den Namen und den Herausgeber der Anwendung kennt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-186">You'll notice that the popup knows the name and publisher of the application.</span></span> <span data-ttu-id="0bfea-187">Hier gibt es keine Magie, sondern Sie werden aus den Versionsinformationen der ausführbaren Datei abgerufen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-187">There's no magic here - it's pulled from the executable's version information.</span></span> <span data-ttu-id="0bfea-188">Diese Informationen sind ein wichtiges System Verwaltungs Tool. Sie wird sogar für fortlaufende Anwendungs Kompatibilitäts Arbeiten verwendet.</span><span class="sxs-lookup"><span data-stu-id="0bfea-188">This information is an important system administration tool; it is even used for ongoing application compatibility work.</span></span> <span data-ttu-id="0bfea-189">Einige Anwendungen vernachlässigen diese Versionsinformationen nicht auf dem neuesten Stand.</span><span class="sxs-lookup"><span data-stu-id="0bfea-189">Some applications neglect to keep this version information up-to-date.</span></span>

<span data-ttu-id="0bfea-190">Benutzer können Ihre Anwendungen auch über die Benutzeroberfläche (UI) hinzufügen (siehe Abbildung 2).</span><span class="sxs-lookup"><span data-stu-id="0bfea-190">Users can also add their applications through the user interface (UI) (see Figure 2)</span></span>

<span data-ttu-id="0bfea-191">**Abbildung 2. Konfigurieren der Firewall**</span><span class="sxs-lookup"><span data-stu-id="0bfea-191">**Figure 2. Configuring the Firewall**</span></span>

![Konfigurieren der Firewall](images/firewalls2.jpg)

<span data-ttu-id="0bfea-193">**Abbildung 3. Hinzufügen eines Programms zur Liste der Firewallausnahmen**</span><span class="sxs-lookup"><span data-stu-id="0bfea-193">**Figure 3. Adding a Program to the Firewall Exceptions List**</span></span>

![Hinzufügen eines Programms zur Liste der Firewallausnahmen](images/firewalls3.jpg)

<span data-ttu-id="0bfea-195">Das beste Szenario ist, dass Ergänzungen und Entfernungen aus der Ausnahmeliste automatisiert werden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-195">The best scenario is to make additions and removals from the exception list automated.</span></span> <span data-ttu-id="0bfea-196">Der beste Zeitpunkt, diese Ergänzungen und Entfernungen auszuführen, ist während der Installation und Deinstallation.</span><span class="sxs-lookup"><span data-stu-id="0bfea-196">The best time to perform these additions and removals is during the install and uninstall process.</span></span> <span data-ttu-id="0bfea-197">Zum Hinzufügen oder Entfernen von aus der Liste der Firewallausnahmen sind Administratorrechte erforderlich. Achten Sie daher darauf, dies zu berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-197">Adding or removing from the firewall exception list requires administrator privileges, so be sure to take this into account.</span></span>

## <a name="working-with-the-windows-firewall"></a><span data-ttu-id="0bfea-198">Arbeiten mit der Windows-Firewall</span><span class="sxs-lookup"><span data-stu-id="0bfea-198">Working with the Windows Firewall</span></span>

<span data-ttu-id="0bfea-199">Auch hier müssen die meisten Spiele nur der Liste der Firewallausnahmen hinzugefügt werden, wenn Sie als Server fungieren können oder ein Peer-zu-Peer-Kommunikationsprotokoll implementiert.</span><span class="sxs-lookup"><span data-stu-id="0bfea-199">Again, most games only need to be added to the firewall exception list if they can function as a server or if they implement a peer-to-peer communication protocol.</span></span> <span data-ttu-id="0bfea-200">Der FirewallInstallHelper.dll ist eine Beispiel-dll, die von einem Installer aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="0bfea-200">The FirewallInstallHelper.dll is a sample DLL that can be called from an installer.</span></span> <span data-ttu-id="0bfea-201">Die Quelle wird bereitgestellt, wenn Sie die Quelle direkt in Ihre eigene Anwendung integrieren möchten.</span><span class="sxs-lookup"><span data-stu-id="0bfea-201">Source is provided if you want to integrate the source directly into your own application.</span></span> <span data-ttu-id="0bfea-202">Das Beispiel finden Sie hier:</span><span class="sxs-lookup"><span data-stu-id="0bfea-202">The sample can be found here:</span></span>



|             |                                                                              |
|-------------|------------------------------------------------------------------------------|
| <span data-ttu-id="0bfea-203">Quelle:</span><span class="sxs-lookup"><span data-stu-id="0bfea-203">Source:</span></span>     | <span data-ttu-id="0bfea-204">(SDK-Stamm) \\ Beispiele \\ C++ \\ misc \\ firewallinstallhelper</span><span class="sxs-lookup"><span data-stu-id="0bfea-204">(SDK root)\\Samples\\C++\\Misc\\FirewallInstallHelper</span></span>                        |
| <span data-ttu-id="0bfea-205">Ausführbare Datei:</span><span class="sxs-lookup"><span data-stu-id="0bfea-205">Executable:</span></span> | <span data-ttu-id="0bfea-206">(SDK-Stamm) \\ Beispiele \\ C++ \\ misc \\ bin \\ <arch> \\FirewallInstallHelper.dll</span><span class="sxs-lookup"><span data-stu-id="0bfea-206">(SDK root)\\Samples\\C++\\Misc\\Bin\\<arch>\\FirewallInstallHelper.dll</span></span> |



 

<span data-ttu-id="0bfea-207">Die von dieser DLL exportierten Funktionen lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="0bfea-207">The functions exported by this DLL are the following:</span></span>

<dl> <dt>

<span data-ttu-id="0bfea-208"><span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**Addapplicationreexceptionlistw**</span><span class="sxs-lookup"><span data-stu-id="0bfea-208"><span id="AddApplicationToExceptionListW"></span><span id="addapplicationtoexceptionlistw"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTW"></span>**AddApplicationToExceptionListW**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-209">Mit dieser Funktion wird eine Anwendung zur Ausnahmeliste hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-209">This function adds an application to the exception list.</span></span> <span data-ttu-id="0bfea-210">Es wird ein kompletter Pfad zur ausführbaren Datei und ein Anzeige Name verwendet, der in der Ausnahmeliste der Firewall angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="0bfea-210">It takes a complete path to the executable and a friendly name that will appear in the firewall exception list.</span></span> <span data-ttu-id="0bfea-211">Diese Funktion erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="0bfea-211">This function requires administrator privileges.</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-212"><span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**Addapplicationreexceptionlista**</span><span class="sxs-lookup"><span data-stu-id="0bfea-212"><span id="AddApplicationToExceptionListA"></span><span id="addapplicationtoexceptionlista"></span><span id="ADDAPPLICATIONTOEXCEPTIONLISTA"></span>**AddApplicationToExceptionListA**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-213">ANSI-Version von **addapplicationdeexceptionlistw**</span><span class="sxs-lookup"><span data-stu-id="0bfea-213">ANSI version of **AddApplicationToExceptionListW**</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-214"><span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**Removeapplicationfromexceptionlistw**</span><span class="sxs-lookup"><span data-stu-id="0bfea-214"><span id="RemoveApplicationFromExceptionListW"></span><span id="removeapplicationfromexceptionlistw"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTW"></span>**RemoveApplicationFromExceptionListW**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-215">Diese Funktion entfernt die Anwendung aus der Ausnahmeliste.</span><span class="sxs-lookup"><span data-stu-id="0bfea-215">This function removes the application from the exception list.</span></span> <span data-ttu-id="0bfea-216">Es wird ein kompletter Pfad zur ausführbaren Datei benötigt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-216">It takes in a complete path to the executable.</span></span> <span data-ttu-id="0bfea-217">Diese Funktion erfordert Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="0bfea-217">This function requires administrator privileges</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-218"><span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**Removeapplicationfromexceptionlista**</span><span class="sxs-lookup"><span data-stu-id="0bfea-218"><span id="RemoveApplicationFromExceptionListA"></span><span id="removeapplicationfromexceptionlista"></span><span id="REMOVEAPPLICATIONFROMEXCEPTIONLISTA"></span>**RemoveApplicationFromExceptionListA**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-219">ANSI-Version von **removeapplicationfromexceptionlistw**</span><span class="sxs-lookup"><span data-stu-id="0bfea-219">ANSI version of **RemoveApplicationFromExceptionListW**</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-220"><span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**Canlaunchmultiplayergamew**</span><span class="sxs-lookup"><span data-stu-id="0bfea-220"><span id="CanLaunchMultiplayerGameW"></span><span id="canlaunchmultiplayergamew"></span><span id="CANLAUNCHMULTIPLAYERGAMEW"></span>**CanLaunchMultiplayerGameW**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-221">Diese Funktion meldet, ob die Anwendung deaktiviert oder aus der Ausnahmeliste entfernt wurde.</span><span class="sxs-lookup"><span data-stu-id="0bfea-221">This function reports if the application has been disabled or removed from the exceptions list.</span></span> <span data-ttu-id="0bfea-222">Er sollte bei jedem Ausführen des Spiels aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-222">It should be called every time the game is run.</span></span> <span data-ttu-id="0bfea-223">Die-Funktion nimmt einen kompletten Pfad zur ausführbaren Datei an.</span><span class="sxs-lookup"><span data-stu-id="0bfea-223">The function takes in a complete path to the executable.</span></span> <span data-ttu-id="0bfea-224">Diese Funktion erfordert keine Administratorrechte.</span><span class="sxs-lookup"><span data-stu-id="0bfea-224">This function does not require administrator privileges.</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-225"><span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**Canlaunchmultiplayergamea**</span><span class="sxs-lookup"><span data-stu-id="0bfea-225"><span id="CanLaunchMultiplayerGameA"></span><span id="canlaunchmultiplayergamea"></span><span id="CANLAUNCHMULTIPLAYERGAMEA"></span>**CanLaunchMultiplayerGameA**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-226">ANSI-Version von **canlaunchmultiplayergamew**</span><span class="sxs-lookup"><span data-stu-id="0bfea-226">ANSI version of **CanLaunchMultiplayerGameW**</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-227"><span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**"\*"**</span><span class="sxs-lookup"><span data-stu-id="0bfea-227"><span id="SetMSIFirewallProperties"></span><span id="setmsifirewallproperties"></span><span id="SETMSIFIREWALLPROPERTIES"></span>**SetMSIFirewallProperties**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-228">Dies wird nur aufgerufen, wenn Sie benutzerdefinierte Aktionen in Windows Installer verwenden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-228">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="0bfea-229">Weitere Informationen finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="0bfea-229">See below for more details.</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-230"><span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**Add-exceptionlistusingmsi**</span><span class="sxs-lookup"><span data-stu-id="0bfea-230"><span id="AddToExceptionListUsingMSI"></span><span id="addtoexceptionlistusingmsi"></span><span id="ADDTOEXCEPTIONLISTUSINGMSI"></span>**AddToExceptionListUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-231">Dies wird nur aufgerufen, wenn Sie benutzerdefinierte Aktionen in Windows Installer verwenden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-231">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="0bfea-232">Weitere Informationen finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="0bfea-232">See below for more details.</span></span>

</dd> <dt>

<span data-ttu-id="0bfea-233"><span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**Removefromexceptionlistusingmsi**</span><span class="sxs-lookup"><span data-stu-id="0bfea-233"><span id="RemoveFromExceptionListUsingMSI"></span><span id="removefromexceptionlistusingmsi"></span><span id="REMOVEFROMEXCEPTIONLISTUSINGMSI"></span>**RemoveFromExceptionListUsingMSI**</span></span>
</dt> <dd>

<span data-ttu-id="0bfea-234">Dies wird nur aufgerufen, wenn Sie benutzerdefinierte Aktionen in Windows Installer verwenden.</span><span class="sxs-lookup"><span data-stu-id="0bfea-234">Call this only if you are using custom actions in Windows Installer.</span></span> <span data-ttu-id="0bfea-235">Weitere Informationen finden Sie unten.</span><span class="sxs-lookup"><span data-stu-id="0bfea-235">See below for more details.</span></span>

</dd> </dl>

<span data-ttu-id="0bfea-236">In den folgenden Abschnitten werden bestimmte Methoden zum Aufrufen der exportierten DLL-Funktionen aus diesem firewallinstallhelper aus einem InstallShield-, Wise-oder Windows Installer-Paket beschrieben.</span><span class="sxs-lookup"><span data-stu-id="0bfea-236">The following sections describe specific methods of calling the exported DLL functions from this FirewallInstallHelper from within an InstallShield, Wise, or Windows Installer package.</span></span> <span data-ttu-id="0bfea-237">Alle Methoden führen die gleichen Ergebnisse aus, und der Entwickler muss die Methode ermitteln, die implementiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="0bfea-237">All methods render the same results and it is up to the developer to determine which method to implement.</span></span>

## <a name="integrating-using-installshield-installscript"></a><span data-ttu-id="0bfea-238">Integrieren mithilfe von InstallShield InstallScript</span><span class="sxs-lookup"><span data-stu-id="0bfea-238">Integrating using InstallShield InstallScript</span></span>

<span data-ttu-id="0bfea-239">Eine alternative Methode zur Verwendung der Firewall-APIs besteht darin, die Funktionsaufrufe einem InstallShield InstallScript hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-239">An alternate method of using the Firewall APIs is to add the function calls to an InstallShield InstallScript.</span></span> <span data-ttu-id="0bfea-240">Die Schritte, die für die Integration erforderlich sind, sind recht einfach:</span><span class="sxs-lookup"><span data-stu-id="0bfea-240">The steps required to integrate are fairly simple:</span></span>

1.  <span data-ttu-id="0bfea-241">Öffnen Sie ein InstallScript-Projekt im InstallShield-Editor.</span><span class="sxs-lookup"><span data-stu-id="0bfea-241">Open an InstallScript project in the InstallShield editor.</span></span>
2.  <span data-ttu-id="0bfea-242">Fügen Sie dem Projekt die FirewallInstallHelper.dll als Unterstützungs Datei hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-242">Add the FirewallInstallHelper.dll to the project as a support file.</span></span>

    1.  <span data-ttu-id="0bfea-243">Öffnen Sie die Registerkarte Anwendungs Dateien auf der Registerkarte Projekt-Assistent.</span><span class="sxs-lookup"><span data-stu-id="0bfea-243">Under Project Assistant tab, open the Application Files tab.</span></span>
    2.  <span data-ttu-id="0bfea-244">Klicken Sie auf die Schaltfläche Dateien hinzufügen, um dem Anwendungs Zielordner Dateien hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-244">Click on the Add Files button to add files to the Application Target Folder.</span></span>
    3.  <span data-ttu-id="0bfea-245">Navigieren Sie zu der FirewallInstallHelper.dll, die Sie erstellt haben, oder verwenden Sie die im DirectX SDK bereitgestellte, und fügen Sie Sie dem Projekt hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-245">Browse to the FirewallInstallHelper.dll that you have built or use the one provided in the DirectX SDK and add it to the project.</span></span>

3.  <span data-ttu-id="0bfea-246">Fügen Sie dem Projekt InstallScript hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-246">Add InstallScript to the project.</span></span>

    1.  <span data-ttu-id="0bfea-247">Öffnen Sie die Ansicht des Installations-Designers, und klicken Sie auf das Verhalten und die logische \| InstallScript.</span><span class="sxs-lookup"><span data-stu-id="0bfea-247">Open the Installation Designer view, and click on the Behavior and Logic \| InstallScript</span></span>
    2.  <span data-ttu-id="0bfea-248">Klicken Sie auf die InstallScript-Datei (normalerweise Setup. rul), um Sie im Editor zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-248">Click on the InstallScript file (usually setup.rul) to open it in the editor</span></span>
    3.  <span data-ttu-id="0bfea-249">Fügen Sie den folgenden Code in die InstallScript-Datei ein:</span><span class="sxs-lookup"><span data-stu-id="0bfea-249">Paste the following code into the InstallScript file:</span></span>

    ``` syntax
    #include "ifx.h"

    prototype BOOL FirewallInstallHelper.AddApplicationToExceptionListW( WSTRING, WSTRING );
    prototype BOOL FirewallInstallHelper.RemoveApplicationFromExceptionListW( WSTRING );

    function OnMoved()
        WSTRING path[256];
    begin
        // The DLL has been installed into the TARGETDIR
        if !MAINTENANCE then // TRUE when installing
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.AddApplicationToExceptionListW( path, "TODO: change to friendly app name" );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
          

    function OnMoving()
        WSTRING path[256];
    begin
        // The DLL is about to be removed from TARGETDIR
        if MAINTENANCE && UNINST != "" then // TRUE when uninstalling
            UseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
            path = TARGETDIR ^ "TODO: change to relative path to executable from install directory";
            FirewallInstallHelper.RemoveApplicationFromExceptionListW( path );
            UnUseDLL( TARGETDIR ^ "FirewallInstallHelper.dll" );
        endif;
    end;
    ```

    4.  <span data-ttu-id="0bfea-250">Ändern Sie die TODO-Kommentare mit dem Anwendungsnamen, der in der Ausnahmeliste der Firewall angezeigt wird, und dem Pfad zur ausführbaren Datei des Spiels relativ zum Installationsverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="0bfea-250">Change the TODO comments with the application name that will be shown in the Firewall Exception List and the path to the game executable relative to the installation directory.</span></span>

## <a name="integrating-into-wise-for-windows-installer"></a><span data-ttu-id="0bfea-251">Integration in eine Weise für Windows Installer</span><span class="sxs-lookup"><span data-stu-id="0bfea-251">Integrating into Wise for Windows Installer</span></span>

<span data-ttu-id="0bfea-252">Diese Schritte müssen ausgeführt werden, um die Windows Installer in eine Weise zu integrieren:</span><span class="sxs-lookup"><span data-stu-id="0bfea-252">To integrate with Wise for Windows Installer, these steps have to be done:</span></span>

1.  <span data-ttu-id="0bfea-253">Öffnen Sie Ihre Weise für Windows Installer Projekt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-253">Open your Wise for Windows Installer project.</span></span>
2.  <span data-ttu-id="0bfea-254">Wählen Sie unten die Registerkarte "Installationsexperte" aus.</span><span class="sxs-lookup"><span data-stu-id="0bfea-254">Select the "Installation Expert" tab at the bottom.</span></span>
3.  <span data-ttu-id="0bfea-255">Klicken Sie auf Dateien, und fügen Sie die FirewallInstallHelper.dll aus dem dxsdk dem Installationsverzeichnis des Spiels hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-255">Click on Files, and add the FirewallInstallHelper.dll from the DXSDK to the game's install directory.</span></span>
4.  <span data-ttu-id="0bfea-256">Wählen Sie unten die Registerkarte "MSI-Skript" aus.</span><span class="sxs-lookup"><span data-stu-id="0bfea-256">Select the "MSI script" tab at the bottom.</span></span>
5.  <span data-ttu-id="0bfea-257">Klicken Sie im unteren Bereich auf die Registerkarte direkt ausführen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-257">Select the "Execute Immediate" tab near the bottom.</span></span>
6.  <span data-ttu-id="0bfea-258">Fügen Sie nach der costfinalize-Aktion eine Aktion zum Festlegen der Eigenschaft hinzu, die FullPath auf " \[ INSTALLDIR \] relativer Pfad zur ausführbaren Datei aus dem Installationsverzeichnis" festlegt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-258">After CostFinalize, add a "Set Property" action that sets FULLPATH to "\[INSTALLDIR\]relative path to executable from install directory".</span></span> <span data-ttu-id="0bfea-259">Beispiel: " \[ INSTALLDIR \]game.exe" ohne Anführungszeichen</span><span class="sxs-lookup"><span data-stu-id="0bfea-259">For example, "\[INSTALLDIR\]game.exe" without the quotes</span></span>
7.  <span data-ttu-id="0bfea-260">Wählen Sie im unteren Bereich die Registerkarte "verzögert ausführen" aus.</span><span class="sxs-lookup"><span data-stu-id="0bfea-260">Select the "Execute Deferred" tab near the bottom.</span></span>
8.  <span data-ttu-id="0bfea-261">Fügen Sie nach publishproduct eine "if-Anweisung" mit der Bedingung "nicht installiert" (Groß-/Kleinschreibung wird beachtet) hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-261">After PublishProduct, add an "If statement" with the condition "NOT Installed" (case sensitive).</span></span>
9.  <span data-ttu-id="0bfea-262">Fügen Sie im If-Block eine Aktion zum Abrufen der benutzerdefinierten DLL aus dem Ziel hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-262">Within the If block, add a "Call Custom DLL from Destination" action.</span></span>

    1.  <span data-ttu-id="0bfea-263">Legen Sie das Feld dll-Datei auf " \[ INSTALLDIR \]FirewallInstallHelper.dll" fest.</span><span class="sxs-lookup"><span data-stu-id="0bfea-263">Set the DLL File field to "\[INSTALLDIR\]FirewallInstallHelper.dll."</span></span>
    2.  <span data-ttu-id="0bfea-264">Legen Sie das Feld Funktions Name auf "addapplicationdeexceptionlista" fest.</span><span class="sxs-lookup"><span data-stu-id="0bfea-264">Set the Function Name field to "AddApplicationToExceptionListA."</span></span>
    3.  <span data-ttu-id="0bfea-265">Fügen Sie einen Parameter mit dem Typ "Zeichen folgen Zeiger", der Wert Quelle "Property" und dem Eigenschaftsnamen "FullPath" hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-265">Add a parameter with type "string pointer", value source "Property", and property name "FULLPATH."</span></span>
    4.  <span data-ttu-id="0bfea-266">Fügen Sie einen zweiten Parameter vom Typ "Zeichen folgen Zeiger", Wert Quelle "Konstante" hinzu, und legen Sie den konstanten Wert auf den gewünschten Anwendungsnamen fest, der in der Liste der Firewallausnahmen angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="0bfea-266">Add a second parameter with type "string pointer", value source "Constant", and set the constant value to the friendly application name you want displayed in the firewall exception list.</span></span>
    5.  <span data-ttu-id="0bfea-267">Schließen Sie den If-Block durch Hinzufügen einer "End"-Anweisung.</span><span class="sxs-lookup"><span data-stu-id="0bfea-267">Close the If block by adding an "End Statement."</span></span>

10. <span data-ttu-id="0bfea-268">Fügen Sie direkt oberhalb der RemoveFiles-Aktion am oberen Rand einen weiteren If-Block mit der Bedingung "Remove ~ =" All "" (Groß-/Kleinschreibung und ohne äußere Anführungszeichen) hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-268">Just above the RemoveFiles action near the top, add another If block, with the condition to be "REMOVE~="ALL"" (case sensitive and without the outer quotes).</span></span>
11. <span data-ttu-id="0bfea-269">Fügen Sie im zweiten If-Block eine Aktion zum Abrufen der benutzerdefinierten DLL aus dem Ziel hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-269">Within the second If block, add a "Call Custom DLL from Destination" action.</span></span>

    1.  <span data-ttu-id="0bfea-270">Legen Sie das Feld dll-Datei auf " \[ INSTALLDIR \]FirewallInstallHelper.dll" fest.</span><span class="sxs-lookup"><span data-stu-id="0bfea-270">Set the DLL File field to "\[INSTALLDIR\]FirewallInstallHelper.dll."</span></span>
    2.  <span data-ttu-id="0bfea-271">Legen Sie für das Feld Funktions Name den Wert removeapplicationfromexceptionlista fest.</span><span class="sxs-lookup"><span data-stu-id="0bfea-271">Set the Function Name field to "RemoveApplicationFromExceptionListA."</span></span>
    3.  <span data-ttu-id="0bfea-272">Fügen Sie einen Parameter mit dem Typ "Zeichen folgen Zeiger", der Wert Quelle "Property" und dem Eigenschaftsnamen "FullPath" hinzu.</span><span class="sxs-lookup"><span data-stu-id="0bfea-272">Add a parameter with type "string pointer", value source "Property", and property name "FULLPATH."</span></span>
    4.  <span data-ttu-id="0bfea-273">Schließen Sie den zweiten If-Block durch Hinzufügen einer "End"-Anweisung.</span><span class="sxs-lookup"><span data-stu-id="0bfea-273">Close the second If block by adding an "End Statement."</span></span>

## <a name="integrating-into-windows-installer"></a><span data-ttu-id="0bfea-274">Integration in Windows Installer</span><span class="sxs-lookup"><span data-stu-id="0bfea-274">Integrating into Windows Installer</span></span>

<span data-ttu-id="0bfea-275">Diese Schritte müssen ausgeführt werden, damit Sie in Windows Installer auf hoher Ebene integriert werden können.</span><span class="sxs-lookup"><span data-stu-id="0bfea-275">To integrate with Windows Installer at the high level, these steps have to be done.</span></span> <span data-ttu-id="0bfea-276">Sie werden im folgenden ausführlich erläutert:</span><span class="sxs-lookup"><span data-stu-id="0bfea-276">They will be explained in detail below:</span></span>

-   <span data-ttu-id="0bfea-277">Fügen Sie 2 Eigenschaften "friendlynameforfirewall" und "relativepathtoexeforfirewall" hinzu, wie unten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="0bfea-277">Add 2 properties "FriendlyNameForFirewall" and "RelativePathToExeForFirewall" as described below.</span></span>
-   <span data-ttu-id="0bfea-278">Nach der Aktion "costfinalize" wird in einer unmittelbaren benutzerdefinierten Aktion "setmsifirewallproperties" aufgerufen, um die entsprechenden MSI-Eigenschaften für die anderen benutzerdefinierten Aktionen festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-278">After the CostFinalize action, call "SetMSIFirewallProperties" in an immediate custom action to set the appropriate MSI properties for the other custom actions.</span></span>
-   <span data-ttu-id="0bfea-279">Bei der Installation nach der InstallFiles-Aktion wird eine verzögerte benutzerdefinierte Aktion aufgerufen, die die Funktion "adddeexceptionlistusingmsi" von firewallinstallhelper verwendet.</span><span class="sxs-lookup"><span data-stu-id="0bfea-279">During install after the InstallFiles action, call a deferred custom action that uses the FirewallInstallHelper's "AddToExceptionListUsingMSI" function.</span></span>
-   <span data-ttu-id="0bfea-280">Bei der Deinstallation nach der InstallFiles-Aktion wird eine verzögerte benutzerdefinierte Aktion aufgerufen, die die Funktion "removefromexceptionlistusingmsi" von firewallinstallhelper verwendet.</span><span class="sxs-lookup"><span data-stu-id="0bfea-280">During uninstall after the InstallFiles action, call a deferred custom action that uses the FirewallInstallHelper's "RemoveFromExceptionListUsingMSI" function.</span></span>
-   <span data-ttu-id="0bfea-281">Rufen Sie während des Rollbacks eine verzögerte benutzerdefinierte Aktion auf, die auch die Funktion "removefromexceptionlistusingmsi" von firewallinstallhelper aufruft.</span><span class="sxs-lookup"><span data-stu-id="0bfea-281">During rollback, call a deferred custom action which also calls the FirewallInstallHelper's "RemoveFromExceptionListUsingMSI" function.</span></span>

<span data-ttu-id="0bfea-282">Im folgenden finden Sie die Schritte, die dazu erforderlich sind, mithilfe eines MSI-Editors, wie z. b. Orca im Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="0bfea-282">The following is the steps needed to do this using an MSI editor such as Orca found in the Platform SDK.</span></span> <span data-ttu-id="0bfea-283">Beachten Sie, dass einige Editoren über Assistenten verfügen, die einige dieser Schritte vereinfachen:</span><span class="sxs-lookup"><span data-stu-id="0bfea-283">Note that some editors have wizards that simplify some of these steps:</span></span>

1.  <span data-ttu-id="0bfea-284">Öffnen Sie das MSI-Paket in Orca.</span><span class="sxs-lookup"><span data-stu-id="0bfea-284">Open the MSI package in Orca.</span></span>
2.  <span data-ttu-id="0bfea-285">Fügen Sie der binären Tabelle Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="0bfea-285">Add the following to the Binary table:</span></span>

    

    | <span data-ttu-id="0bfea-286">Name</span><span class="sxs-lookup"><span data-stu-id="0bfea-286">Name</span></span>     | <span data-ttu-id="0bfea-287">Daten</span><span class="sxs-lookup"><span data-stu-id="0bfea-287">Data</span></span>                                                                                                                                                                          |
    |----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="0bfea-288">Brand</span><span class="sxs-lookup"><span data-stu-id="0bfea-288">FIREWALL</span></span> | <span data-ttu-id="0bfea-289">Zeigen Sie auf den FirewallInstallHelper.dll.</span><span class="sxs-lookup"><span data-stu-id="0bfea-289">Point it to the FirewallInstallHelper.dll.</span></span> <span data-ttu-id="0bfea-290">Diese Datei wird in das MSI-Paket eingebettet, sodass Sie diesen Schritt bei jeder erneuten Kompilierung FirewallInstallHelper.dll ausführen müssen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-290">This file will be embedded in the MSI package so you will have to do this step every time you recompile FirewallInstallHelper.dll.</span></span> |

    

     

3.  <span data-ttu-id="0bfea-291">Fügen Sie der Tabelle CustomAction Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="0bfea-291">Add the following to CustomAction table:</span></span>

    

    | <span data-ttu-id="0bfea-292">Aktion</span><span class="sxs-lookup"><span data-stu-id="0bfea-292">Action</span></span>                   | <span data-ttu-id="0bfea-293">type</span><span class="sxs-lookup"><span data-stu-id="0bfea-293">Type</span></span>                                                                                                                                                                                                   | <span data-ttu-id="0bfea-294">`Source`</span><span class="sxs-lookup"><span data-stu-id="0bfea-294">Source</span></span>   | <span data-ttu-id="0bfea-295">Ziel</span><span class="sxs-lookup"><span data-stu-id="0bfea-295">Target</span></span>                          |
    |--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------|---------------------------------|
    | <span data-ttu-id="0bfea-296">Firewallabtmsiproperties</span><span class="sxs-lookup"><span data-stu-id="0bfea-296">FirewallSetMSIProperties</span></span> | <span data-ttu-id="0bfea-297">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue = 65</span><span class="sxs-lookup"><span data-stu-id="0bfea-297">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue = 65</span></span>                                                                                                        | <span data-ttu-id="0bfea-298">Brand</span><span class="sxs-lookup"><span data-stu-id="0bfea-298">FIREWALL</span></span> | <span data-ttu-id="0bfea-299">"\*"</span><span class="sxs-lookup"><span data-stu-id="0bfea-299">SetMSIFirewallProperties</span></span>        |
    | <span data-ttu-id="0bfea-300">Firewalladd</span><span class="sxs-lookup"><span data-stu-id="0bfea-300">FirewallAdd</span></span>              | <span data-ttu-id="0bfea-301">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue + msidbcustomaktiontypeingescript + msidbcustomaktiontybinoidentitäts Ate = 3137</span><span class="sxs-lookup"><span data-stu-id="0bfea-301">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="0bfea-302">Brand</span><span class="sxs-lookup"><span data-stu-id="0bfea-302">FIREWALL</span></span> | <span data-ttu-id="0bfea-303">Add-exceptionlistusingmsi</span><span class="sxs-lookup"><span data-stu-id="0bfea-303">AddToExceptionListUsingMSI</span></span>      |
    | <span data-ttu-id="0bfea-304">Firewallremove</span><span class="sxs-lookup"><span data-stu-id="0bfea-304">FirewallRemove</span></span>           | <span data-ttu-id="0bfea-305">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue + msidbcustomaktiontypeingescript + msidbcustomaktiontybinoidentitäts Ate = 3137</span><span class="sxs-lookup"><span data-stu-id="0bfea-305">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3137</span></span>                                 | <span data-ttu-id="0bfea-306">Brand</span><span class="sxs-lookup"><span data-stu-id="0bfea-306">FIREWALL</span></span> | <span data-ttu-id="0bfea-307">Removefromexceptionlistusingmsi</span><span class="sxs-lookup"><span data-stu-id="0bfea-307">RemoveFromExceptionListUsingMSI</span></span> |
    | <span data-ttu-id="0bfea-308">Firewallrollbackadd</span><span class="sxs-lookup"><span data-stu-id="0bfea-308">FirewallRollBackAdd</span></span>      | <span data-ttu-id="0bfea-309">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue + msidbcustomaktiontyperollback + msidbcustomaktiontypeingescript + msidbcustomaktiontypoperfate = 3393</span><span class="sxs-lookup"><span data-stu-id="0bfea-309">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="0bfea-310">Brand</span><span class="sxs-lookup"><span data-stu-id="0bfea-310">FIREWALL</span></span> | <span data-ttu-id="0bfea-311">Removefromexceptionlistusingmsi</span><span class="sxs-lookup"><span data-stu-id="0bfea-311">RemoveFromExceptionListUsingMSI</span></span> |
    | <span data-ttu-id="0bfea-312">Firewallrollbackremove</span><span class="sxs-lookup"><span data-stu-id="0bfea-312">FirewallRollBackRemove</span></span>   | <span data-ttu-id="0bfea-313">msidbcustomaktiontypedll + msidbcustomaktiontypebinarydata + msidbcustomaktiontypecontinue + msidbcustomaktiontyperollback + msidbcustomaktiontypeingescript + msidbcustomaktiontypoperfate = 3393</span><span class="sxs-lookup"><span data-stu-id="0bfea-313">msidbCustomActionTypeDll + msidbCustomActionTypeBinaryData + msidbCustomActionTypeContinue + msidbCustomActionTypeRollback + msidbCustomActionTypeInScript + msidbCustomActionTypeNoImpersonate = 3393</span></span> | <span data-ttu-id="0bfea-314">Brand</span><span class="sxs-lookup"><span data-stu-id="0bfea-314">FIREWALL</span></span> | <span data-ttu-id="0bfea-315">Add-exceptionlistusingmsi</span><span class="sxs-lookup"><span data-stu-id="0bfea-315">AddToExceptionListUsingMSI</span></span>      |

    

     

4.  <span data-ttu-id="0bfea-316">Fügen Sie der Tabelle InstallExecuteSequence Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="0bfea-316">Add the following to the InstallExecuteSequence table:</span></span>

    

    | <span data-ttu-id="0bfea-317">Aktion</span><span class="sxs-lookup"><span data-stu-id="0bfea-317">Action</span></span>                   | <span data-ttu-id="0bfea-318">Bedingung</span><span class="sxs-lookup"><span data-stu-id="0bfea-318">Condition</span></span>     | <span data-ttu-id="0bfea-319">Sequenz</span><span class="sxs-lookup"><span data-stu-id="0bfea-319">Sequence</span></span> | <span data-ttu-id="0bfea-320">Notizen</span><span class="sxs-lookup"><span data-stu-id="0bfea-320">Notes</span></span>                                                                                                                                                                      |
    |--------------------------|---------------|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="0bfea-321">Firewallabtmsiproperties</span><span class="sxs-lookup"><span data-stu-id="0bfea-321">FirewallSetMSIProperties</span></span> |               | <span data-ttu-id="0bfea-322">1010</span><span class="sxs-lookup"><span data-stu-id="0bfea-322">1010</span></span>     | <span data-ttu-id="0bfea-323">Dieser Platz wird bald nach der costfinalize-</span><span class="sxs-lookup"><span data-stu-id="0bfea-323">This places soon after CostFinalize.</span></span>                                                                                                                                       |
    | <span data-ttu-id="0bfea-324">Firewalladd</span><span class="sxs-lookup"><span data-stu-id="0bfea-324">FirewallAdd</span></span>              | <span data-ttu-id="0bfea-325">Nicht installiert</span><span class="sxs-lookup"><span data-stu-id="0bfea-325">NOT Installed</span></span> | <span data-ttu-id="0bfea-326">4021</span><span class="sxs-lookup"><span data-stu-id="0bfea-326">4021</span></span>     | <span data-ttu-id="0bfea-327">Diese benutzerdefinierte Aktion erfolgt nur bei einer Neuinstallation.</span><span class="sxs-lookup"><span data-stu-id="0bfea-327">This custom action will only happen during a fresh install.</span></span> <span data-ttu-id="0bfea-328">Die Sequenznummer platziert die Aktion nach "InstallFiles" und nach den Rollbacks.</span><span class="sxs-lookup"><span data-stu-id="0bfea-328">The sequence number places the action after InstallFiles and after the rollbacks.</span></span>                              |
    | <span data-ttu-id="0bfea-329">Firewallrollbackadd</span><span class="sxs-lookup"><span data-stu-id="0bfea-329">FirewallRollBackAdd</span></span>      | <span data-ttu-id="0bfea-330">Nicht installiert</span><span class="sxs-lookup"><span data-stu-id="0bfea-330">NOT Installed</span></span> | <span data-ttu-id="0bfea-331">4020</span><span class="sxs-lookup"><span data-stu-id="0bfea-331">4020</span></span>     | <span data-ttu-id="0bfea-332">Diese benutzerdefinierte Aktion wird nur ausgeführt, wenn eine neue Installation abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="0bfea-332">This custom action will only happen when a fresh install is cancelled.</span></span> <span data-ttu-id="0bfea-333">Die Sequenznummer platziert die Aktion nach InstallFiles und vor der Aktion benutzerdefiniertes hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-333">The sequence number places the action after InstallFiles and before the Add custom action.</span></span>          |
    | <span data-ttu-id="0bfea-334">Firewallremove</span><span class="sxs-lookup"><span data-stu-id="0bfea-334">FirewallRemove</span></span>           | <span data-ttu-id="0bfea-335">Installiert</span><span class="sxs-lookup"><span data-stu-id="0bfea-335">Installed</span></span>     | <span data-ttu-id="0bfea-336">3461</span><span class="sxs-lookup"><span data-stu-id="0bfea-336">3461</span></span>     | <span data-ttu-id="0bfea-337">Diese benutzerdefinierte Aktion wird nur während der Deinstallation ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-337">This custom action will only happen during uninstall.</span></span> <span data-ttu-id="0bfea-338">Die Sequenznummer platziert die Aktion direkt vor RemoveFiles und nach den Rollbacks.</span><span class="sxs-lookup"><span data-stu-id="0bfea-338">The sequence number places the action directly before RemoveFiles and after the rollbacks.</span></span>                           |
    | <span data-ttu-id="0bfea-339">Firewallrollbackremove</span><span class="sxs-lookup"><span data-stu-id="0bfea-339">FirewallRollBackRemove</span></span>   | <span data-ttu-id="0bfea-340">Nicht installiert</span><span class="sxs-lookup"><span data-stu-id="0bfea-340">NOT Installed</span></span> | <span data-ttu-id="0bfea-341">3460</span><span class="sxs-lookup"><span data-stu-id="0bfea-341">3460</span></span>     | <span data-ttu-id="0bfea-342">Diese benutzerdefinierte Aktion wird nur ausgeführt, wenn eine Deinstallation abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="0bfea-342">This custom action will only happen when an uninstall is cancelled.</span></span> <span data-ttu-id="0bfea-343">Die Sequenznummer platziert die Aktion direkt vor RemoveFiles und vor der benutzerdefinierten Aktion Entfernen.</span><span class="sxs-lookup"><span data-stu-id="0bfea-343">The sequence number places the action directly before RemoveFiles and before the Remove custom action.</span></span> |

    

     

5.  <span data-ttu-id="0bfea-344">Fügen Sie der Eigenschaften Tabelle Folgendes hinzu:</span><span class="sxs-lookup"><span data-stu-id="0bfea-344">Add the following to the Property table:</span></span>

    

    | <span data-ttu-id="0bfea-345">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="0bfea-345">Property</span></span>                     | <span data-ttu-id="0bfea-346">Wert</span><span class="sxs-lookup"><span data-stu-id="0bfea-346">Value</span></span>                                                                             |
    |------------------------------|-----------------------------------------------------------------------------------|
    | <span data-ttu-id="0bfea-347">Friendlynameforfirewall</span><span class="sxs-lookup"><span data-stu-id="0bfea-347">FriendlyNameForFirewall</span></span>      | <span data-ttu-id="0bfea-348">Muss der Name sein, der in der Ausnahmeliste angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="0bfea-348">Needs to be the name the exception list will display.</span></span> <span data-ttu-id="0bfea-349">Beispiel: "Beispiel Spiel"</span><span class="sxs-lookup"><span data-stu-id="0bfea-349">For example, "Example Game"</span></span> |
    | <span data-ttu-id="0bfea-350">Relativepathtoexeforfirewall</span><span class="sxs-lookup"><span data-stu-id="0bfea-350">RelativePathToExeForFirewall</span></span> | <span data-ttu-id="0bfea-351">Muss die installierte ausführbare Datei des Spiels sein.</span><span class="sxs-lookup"><span data-stu-id="0bfea-351">Needs to be the installed executable of the game.</span></span> <span data-ttu-id="0bfea-352">Beispiel: "ExampleGame.exe"</span><span class="sxs-lookup"><span data-stu-id="0bfea-352">For example, "ExampleGame.exe"</span></span>  |

    

     

<span data-ttu-id="0bfea-353">Weitere Informationen zu Windows Installer finden Sie unter [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="0bfea-353">For more information on Windows Installer, see [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="recommendations"></a><span data-ttu-id="0bfea-354">Empfehlungen</span><span class="sxs-lookup"><span data-stu-id="0bfea-354">Recommendations</span></span>

<span data-ttu-id="0bfea-355">Die Firewall bleibt erhalten.</span><span class="sxs-lookup"><span data-stu-id="0bfea-355">The firewall is here to stay.</span></span> <span data-ttu-id="0bfea-356">Diese Empfehlungen bieten ihren Kunden eine gute Firewall-Darstellung mit Ihrem Windows-Spiel:</span><span class="sxs-lookup"><span data-stu-id="0bfea-356">These recommendations will give your customers a good firewall experience with your Windows game:</span></span>

-   <span data-ttu-id="0bfea-357">Teilen Sie den Benutzern nicht mit, dass die Firewall zum spielen Ihres Spiels deaktiviert werden muss.</span><span class="sxs-lookup"><span data-stu-id="0bfea-357">Don't tell users to disable the firewall to play your game.</span></span> <span data-ttu-id="0bfea-358">Dadurch ist der gesamte Computer anfällig, auch wenn er nicht in Ihrem Spiel spielt.</span><span class="sxs-lookup"><span data-stu-id="0bfea-358">This makes the entire machine vulnerable even when they aren't playing your game.</span></span>
-   <span data-ttu-id="0bfea-359">Machen Sie die Firewallkonfiguration für Ihre Benutzer nahtlos.</span><span class="sxs-lookup"><span data-stu-id="0bfea-359">Make the firewall configuration seamless for your users.</span></span> <span data-ttu-id="0bfea-360">Fügen Sie die Anwendung während der Installation zur Ausnahmeliste hinzu, und entfernen Sie die Anwendung während der Installation aus der Ausnahmeliste.</span><span class="sxs-lookup"><span data-stu-id="0bfea-360">Add your application to the exception list during installation, and remove your application from the exception list during installation.</span></span>
-   <span data-ttu-id="0bfea-361">Geben Sie dem Benutzer Feedback, wenn multiplayerzustand durch den Firewallstatus blockiert wird.</span><span class="sxs-lookup"><span data-stu-id="0bfea-361">Give feedback to the user if multiplayer is blocked by the firewall state.</span></span> <span data-ttu-id="0bfea-362">Deaktivieren Sie z. b. Netzwerk Features, wenn Sie nicht funktionieren, weil die Anwendung nicht zulässig ist oder weil sich das System im Modus "keine Ausnahmen" befindet.</span><span class="sxs-lookup"><span data-stu-id="0bfea-362">For example, disable networking features if they won't work either because the application is disallowed or because the system is in the "no exceptions" mode.</span></span>

 

 