---
title: Kopieren von Streams, ohne die Daten zu entkomprimieren
description: Kopieren von Streams, ohne die Daten zu entkomprimieren
ms.assetid: c268ce44-a09d-4304-bc39-8b6657da2bdb
keywords:
- Windows Media-Format-SDK, Kopieren von Streams
- Advanced Systems Format (ASF), Kopieren von Streams
- ASF (Advanced Systems Format), Kopieren von Streams
- Streams, Kopieren ohne das Komprimieren von Daten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 831b85ad431a6c4d3f4255c281d22ca17004674f
ms.sourcegitcommit: b04e152a7f51618fc174ffa872654623fe088db2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/21/2020
ms.locfileid: "104390041"
---
# <a name="copying-streams-without-decompressing-the-data"></a><span data-ttu-id="6088b-107">Kopieren von Streams, ohne die Daten zu entkomprimieren</span><span class="sxs-lookup"><span data-stu-id="6088b-107">Copying Streams Without Decompressing the Data</span></span>

<span data-ttu-id="6088b-108">Der einfachste und gängigste Weg, einen Stream aus einer Datei in einen anderen zu kopieren, besteht darin, die Stichproben im komprimierten Zustand abzurufen und Sie dann in die neue Datei zu schreiben, ohne Sie zu dekomprimieren und erneut zu komprimieren.</span><span class="sxs-lookup"><span data-stu-id="6088b-108">The simplest and most common way to copy a stream from one file to another is to retrieve the samples in their compressed state and then write them to the new file without decompressing and recompressing them.</span></span> <span data-ttu-id="6088b-109">Beispiele aus einer Datei im komprimierten Zustand werden als streambeispiele bezeichnet, da Sie aus ihrer Darstellung im Stream nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="6088b-109">Samples obtained from a file in their compressed state are called stream samples, because they are unaltered from their representation in the stream.</span></span> <span data-ttu-id="6088b-110">Es wird empfohlen, streambeispiele immer zum Kopieren von Datenströmen zu verwenden, da die Qualität durch Dekomprimieren und erneutes komprimieren digitaler Mediendaten beeinträchtigt wird.</span><span class="sxs-lookup"><span data-stu-id="6088b-110">It is recommended that you always use stream samples to copy streams, because decompressing and recompressing digital media data degrades quality.</span></span> <span data-ttu-id="6088b-111">Wenn Sie einen Stream aus dekomprimierten Daten kopieren müssen, finden Sie weitere Informationen unter Kopieren von Daten [strömen mit dekomprimierten Beispielen](copying-streams-using-decompressed-samples.md).</span><span class="sxs-lookup"><span data-stu-id="6088b-111">If you must copy a stream from decompressed data, see [Copying Streams Using Decompressed Samples](copying-streams-using-decompressed-samples.md).</span></span>

<span data-ttu-id="6088b-112">Es ist möglich, zwei oder mehr Streams mit komprimierten Beispielen zu einem einzigen Stream zu verketten, aber nur, wenn die Bitraten identisch sind.</span><span class="sxs-lookup"><span data-stu-id="6088b-112">It is possible to concatenate two or more streams into a single stream using compressed samples, but only if the bit rates are identical.</span></span> <span data-ttu-id="6088b-113">Der Prozess ist im Wesentlichen mit den unten beschriebenen Schritten identisch, mit dem Unterschied, dass Sie mehrere Originaldateien lesen müssen, um den gesamten benötigten Inhalt zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6088b-113">The process is essentially the same as the steps described below, except that you must read multiple original files to get all of the content you need.</span></span> <span data-ttu-id="6088b-114">Sie können jedoch nur komprimierte Beispiele aus mehreren Dateien in einen einzigen Stream schreiben, wenn die **WM- \_ \_ Medientyp** Strukturen (einschließlich aller **pbformat** -Strukturmember) aller komprimierten Streams identisch sind.</span><span class="sxs-lookup"><span data-stu-id="6088b-114">However, you can only write compressed samples from multiple files to a single stream if the **WM\_MEDIA\_TYPE** structures (including all the **pbFormat** structure members) of all the compressed streams are identical.</span></span> <span data-ttu-id="6088b-115">Zum Kombinieren von Daten aus mehreren Datenströmen, die nicht das gleiche Format aufweisen, müssen Sie den Inhalt dekomprimieren und erneut in den Zielstream komprimieren.</span><span class="sxs-lookup"><span data-stu-id="6088b-115">To combine data from multiple streams that are not of the same format, you must decompress the content and recompress it into the destination stream.</span></span> <span data-ttu-id="6088b-116">Außerdem müssen Sie beim Kombinieren von Daten aus mindestens zwei Datenströmen in einem einzigen Stream die Puffer Fenster Werte für alle Streams zusammenfügen, um das Puffer Fenster für den neuen Stream zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6088b-116">Additionally, when you combine data from two or more streams into a single stream, you must add the buffer window values for all of the streams together to get the buffer window for the new stream.</span></span> <span data-ttu-id="6088b-117">Dies liegt daran, dass es nicht möglich ist, zu bestimmen, wie viel Puffer am Ende eines Streams und am Anfang eines anderen Datenstroms benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="6088b-117">This is because it is impossible to determine how much of the buffer is taken up at the end of one stream and at the beginning of another.</span></span>

<span data-ttu-id="6088b-118">Sie können streambeispiele mit dem asynchronen Reader mithilfe von [**iwmreaderadvanced:: setreceivestreamsamples**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setreceivestreamsamples)abrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-118">You can retrieve stream samples with the asynchronous reader using [**IWMReaderAdvanced::SetReceiveStreamSamples**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced-setreceivestreamsamples).</span></span> <span data-ttu-id="6088b-119">Streambeispiele werden an [**iwmreadercallbackadvanced:: onstreamsample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallbackadvanced-onstreamsample)und nicht an [**iwmreadercallback:: onsample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample)übermittelt.</span><span class="sxs-lookup"><span data-stu-id="6088b-119">Stream samples are delivered to [**IWMReaderCallbackAdvanced::OnStreamSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallbackadvanced-onstreamsample), not to [**IWMReaderCallback::OnSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample).</span></span> <span data-ttu-id="6088b-120">Wenn Sie eine Datei lesen und einige komprimierte Datenströme und dekomprimierte Datenströme abrufen, müssen Sie beide Rückruf Methoden implementieren.</span><span class="sxs-lookup"><span data-stu-id="6088b-120">If you are reading a file and retrieving some streams compressed and some decompressed, you must implement both callback methods.</span></span>

<span data-ttu-id="6088b-121">Der synchrone Reader bietet mehr Flexibilität beim Abrufen von Beispielen.</span><span class="sxs-lookup"><span data-stu-id="6088b-121">The synchronous reader provides more flexibility for retrieving samples.</span></span> <span data-ttu-id="6088b-122">Sie können bei der Wiedergabe mithilfe von [**iwmsynkreader:: abtreadstreamsamples**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-setreadstreamsamples)kostenlos zwischen komprimierten und nicht komprimierten Beispielen wechseln.</span><span class="sxs-lookup"><span data-stu-id="6088b-122">You can switch between compressed and decompressed samples freely during playback using [**IWMSyncReader::SetReadStreamSamples**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-setreadstreamsamples).</span></span>

<span data-ttu-id="6088b-123">Führen Sie die folgenden Schritte aus, um einen vollständigen Stream aus einer ASF-Datei in eine neue ASF-Datei zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="6088b-123">To copy an entire stream from one ASF file to a new ASF file, perform the following steps.</span></span> <span data-ttu-id="6088b-124">In diesen Schritten wird der synchrone Reader verwendet, da dieser Vorgang für diese Art von Vorgang wesentlich einfacher ist.</span><span class="sxs-lookup"><span data-stu-id="6088b-124">These steps use the synchronous reader because it is much simpler to use for this kind of operation.</span></span>

1.  <span data-ttu-id="6088b-125">Erstellen Sie ein synchrones Reader-Objekt, indem Sie die [**wmcreatesyncreader**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatesyncreader) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-125">Create a synchronous reader object by calling the [**WMCreateSyncReader**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatesyncreader) function.</span></span>
2.  <span data-ttu-id="6088b-126">Öffnen Sie eine Datei im Reader mit einem Befehl zum Aufrufen von [**iwmsynkreader:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-open).</span><span class="sxs-lookup"><span data-stu-id="6088b-126">Open a file in the reader with a call to [**IWMSyncReader::Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-open).</span></span>
3.  <span data-ttu-id="6088b-127">Abrufen eines Zeigers auf die [**iwmprofile**](iwmprofile.md) -Schnittstelle des synchronen Reader-Objekts durch Aufrufen von **iwmsyncreader:: QueryInterface**.</span><span class="sxs-lookup"><span data-stu-id="6088b-127">Get a pointer to the [**IWMProfile**](iwmprofile.md) interface of the synchronous reader object by calling **IWMSyncReader::QueryInterface**.</span></span>
4.  <span data-ttu-id="6088b-128">Rufen Sie die Eigenschaften des gewünschten Streams durch Aufrufen von [**iwmprofile:: getstreambynumber**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-getstreambynumber)ab.</span><span class="sxs-lookup"><span data-stu-id="6088b-128">Retrieve the properties of the desired stream by calling [**IWMProfile::GetStreamByNumber**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-getstreambynumber).</span></span> <span data-ttu-id="6088b-129">Dadurch wird ein Zeiger auf die [**iwmstreamconfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig) -Schnittstelle des Datenstrom-Konfigurations Objekts für den gewünschten Stream abgerufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-129">This will retrieve a pointer to the [**IWMStreamConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig) interface of the stream configuration object for the stream you want.</span></span>
5.  <span data-ttu-id="6088b-130">Eine Kopie der WM- [**\_ \_ Medientyp**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type) Struktur für den Stream erhalten.</span><span class="sxs-lookup"><span data-stu-id="6088b-130">Get a copy of the [**WM\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type) structure for the stream.</span></span> <span data-ttu-id="6088b-131">Erstellen Sie zwei Aufrufe an [**iwmmedia-Eigenschaften:: getmediatype**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmmediaprops-getmediatype): das erste-Element, um die Größe der Struktur zu erhalten, die zweite, um die Struktur selbst zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6088b-131">Make two calls to [**IWMMediaProps::GetMediaType**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmmediaprops-getmediatype): the first to get the size of the structure, the second to get the structure itself.</span></span>
6.  <span data-ttu-id="6088b-132">Erstellen Sie ein Profil-Manager-Objekt, indem Sie die [**wmcreateprofilemanager**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreateprofilemanager) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-132">Create a profile manager object by calling the [**WMCreateProfileManager**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreateprofilemanager) function.</span></span>
7.  <span data-ttu-id="6088b-133">Rufen Sie [**iwmprofilemanager:: kreateemptyprofile**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofilemanager-createemptyprofile) auf, um ein neues Profil zu erstellen (oder öffnen Sie ein vorhandenes Profil, dem Sie den Stream hinzufügen möchten).</span><span class="sxs-lookup"><span data-stu-id="6088b-133">Call [**IWMProfileManager::CreateEmptyProfile**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofilemanager-createemptyprofile) to create a new profile (or open an existing profile to which you want to add the stream).</span></span> <span data-ttu-id="6088b-134">Nennen Sie [**iwmprofile:: addstream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-addstream) für das neue Profil, um den Stream aus der vorhandenen Datei hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="6088b-134">Call [**IWMProfile::AddStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-addstream) on the new profile to add the stream from the existing file.</span></span> <span data-ttu-id="6088b-135">Verwenden Sie beim Hinzufügen des Streams den in Schritt 4 erhaltenen **iwmstreamconfig** -Zeiger.</span><span class="sxs-lookup"><span data-stu-id="6088b-135">When adding the stream, use the **IWMStreamConfig** pointer obtained in step 4.</span></span>
8.  <span data-ttu-id="6088b-136">Erstellen Sie ein Writer-Objekt, indem Sie die [**wmkreatewriter**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatewriter) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-136">Create a writer object with a call to the [**WMCreateWriter**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatewriter) function.</span></span> <span data-ttu-id="6088b-137">Legen Sie das neu erstellte Profil als aktives Profil im Writer fest, indem Sie [**iwmwriter:: setprofile**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-setprofile)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-137">Set the newly created profile as the active profile in the writer by calling [**IWMWriter::SetProfile**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-setprofile).</span></span> <span data-ttu-id="6088b-138">Erstellen Sie eine Datei für die Ausgabe, indem Sie [**iwmwriter:: setoutputfilename**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-setoutputfilename)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-138">Create a file for output by calling [**IWMWriter::SetOutputFilename**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-setoutputfilename).</span></span>
9.  <span data-ttu-id="6088b-139">**Geben Sie für jede** Eingabe, die dem Stream bzw [**. den Daten**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwminputmediaprops) strömen zugeordnet ist, den Sie kopieren, den Befehl [**iwmwriter::**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-setinputprops)"".</span><span class="sxs-lookup"><span data-stu-id="6088b-139">For each input associated with the stream or streams you are copying, call [**IWMWriter::SetInputProps**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-setinputprops), passing **NULL** for the [**IWMInputMediaProps**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwminputmediaprops) interface.</span></span> <span data-ttu-id="6088b-140">Dadurch wird dem Writer-Objekt mitgeteilt, dass es nicht erforderlich ist, die Daten zu überprüfen, die Sie weiterleiten.</span><span class="sxs-lookup"><span data-stu-id="6088b-140">This informs the writer object that it does not need to validate the data you are passing.</span></span> <span data-ttu-id="6088b-141">Sie müssen diesen Aufruf vor dem Aufrufen von **beginwriting** ausführen (Schritt 14), andernfalls ist ein Lese Objekt möglicherweise nicht in der Lage, den Inhalt zu decodieren.</span><span class="sxs-lookup"><span data-stu-id="6088b-141">You must make this call before calling **BeginWriting** (step 14), otherwise a reading object may not be able to decode the content.</span></span>
10. <span data-ttu-id="6088b-142">Legen Sie den synchronen Reader für die Bereitstellung von komprimierten streambeispielen für den ausgewählten Stream fest, indem Sie [**iwmsyncreader:: setreadstreamsamples**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-setreadstreamsamples) aufrufen, wobei der *fcompressed* -Parameter auf true festgelegt</span><span class="sxs-lookup"><span data-stu-id="6088b-142">Set the synchronous reader to deliver compressed stream samples for the selected stream by calling [**IWMSyncReader::SetReadStreamSamples**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-setreadstreamsamples) with the *fCompressed* parameter set to True.</span></span>
11. <span data-ttu-id="6088b-143">Abrufen von Codec-Informationen für jeden Stream, der kopiert wird, und Hinzufügen der Codec-Informationen zum Header vor dem Schreiben.</span><span class="sxs-lookup"><span data-stu-id="6088b-143">Obtain codec information for every stream being copied and add the codec information to the header before writing.</span></span> <span data-ttu-id="6088b-144">Rufen Sie zum Abrufen der Codec-Informationen [**IWMHeaderInfo2:: getcodecinfocount**](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmheaderinfo2-getcodecinfocount) und [**IWMHeaderInfo2:: getcodecinfo**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmheaderinfo2-getcodecinfo) auf, um die Codecs aufzulisten, die der Datei im Reader zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="6088b-144">To obtain the codec information, call [**IWMHeaderInfo2::GetCodecInfoCount**](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-iwmheaderinfo2-getcodecinfocount) and [**IWMHeaderInfo2::GetCodecInfo**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmheaderinfo2-getcodecinfo) to enumerate the codecs associated with the file in the reader.</span></span> <span data-ttu-id="6088b-145">Wählen Sie die Codec-Informationen aus, die der Datenstrom Konfiguration entsprechen.</span><span class="sxs-lookup"><span data-stu-id="6088b-145">Select the codec information that matches the stream configuration.</span></span> <span data-ttu-id="6088b-146">Legen Sie dann die Codec-Informationen im Writer durch Aufrufen von [**IWMHeaderInfo3:: addcodecinfo**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmheaderinfo3-addcodecinfo)fest, und übergeben Sie dabei die Informationen, die vom Reader abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="6088b-146">Then set the codec information in the writer by calling [**IWMHeaderInfo3::AddCodecInfo**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmheaderinfo3-addcodecinfo), passing the information obtained from the reader.</span></span>
12. <span data-ttu-id="6088b-147">Abrufen eines Zeigers auf die [**iwmschreibadvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwriteradvanced) -Schnittstelle durch Aufrufen von **iwmwriter:: QueryInterface**.</span><span class="sxs-lookup"><span data-stu-id="6088b-147">Obtain a pointer to the [**IWMWriterAdvanced**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwriteradvanced) interface by calling **IWMWriter::QueryInterface**.</span></span>
13. <span data-ttu-id="6088b-148">Legen Sie den Writer auf den Schreibmodus fest, indem Sie [**iwmwriter:: BeginWrite**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-beginwriting)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6088b-148">Set the writer to writing mode by calling [**IWMWriter::BeginWriting**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-beginwriting).</span></span>
14. <span data-ttu-id="6088b-149">Führen Sie wiederholte Aufrufe von [**iwmsynkreader:: getnextsample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-getnextsample)aus, und geben Sie dabei die gewünschte streamnummer an.</span><span class="sxs-lookup"><span data-stu-id="6088b-149">Make repeated calls to [**IWMSyncReader::GetNextSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmsyncreader-getnextsample), specifying the desired stream number.</span></span> <span data-ttu-id="6088b-150">Wenn Beispiele empfangen werden, übergeben Sie Sie an den Writer mit Aufrufen von [**iwmschreiteradvanced:: Beschreib testreamsample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced-writestreamsample).</span><span class="sxs-lookup"><span data-stu-id="6088b-150">When samples are received, pass them to the writer with calls to [**IWMWriterAdvanced::WriteStreamSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced-writestreamsample).</span></span> <span data-ttu-id="6088b-151">Bei Videostreams sollten Sie die Flags (sofern vorhanden) überprüfen, die der Writer bei jedem Aufrufen von **getnextsample** festgelegt hat.</span><span class="sxs-lookup"><span data-stu-id="6088b-151">For video streams, you should check the flags (if any) set by the writer on each call to **GetNextSample**.</span></span> <span data-ttu-id="6088b-152">Wenn der WM- \_ SF- \_ Cleanpoint festgelegt ist, müssen Sie ihn auch für den Aufrufen von " **Write-streamsample**" festlegen.</span><span class="sxs-lookup"><span data-stu-id="6088b-152">If WM\_SF\_CLEANPOINT is set, you must also set it on your call to **WriteStreamSample**.</span></span>
15. <span data-ttu-id="6088b-153">Wenn der Lesevorgang beendet ist, nennen Sie [**iwmwriter:: EndWrite**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-endwriting).</span><span class="sxs-lookup"><span data-stu-id="6088b-153">When reading is complete, call [**IWMWriter::EndWriting**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriter-endwriting).</span></span> <span data-ttu-id="6088b-154">Der Stream sollte übertragen werden.</span><span class="sxs-lookup"><span data-stu-id="6088b-154">The stream should be transferred.</span></span>

> [!Note]  
> <span data-ttu-id="6088b-155">Bildstreams können mithilfe von streambeispielen nicht aus einer Datei in eine andere kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="6088b-155">Image streams cannot be copied from one file to another using stream samples.</span></span> <span data-ttu-id="6088b-156">Wenn Sie bildstreamdaten kopieren möchten, rufen Sie die Beispiele unkomprimiert ab, und verarbeiten Sie Sie wie gewohnt über den Writer.</span><span class="sxs-lookup"><span data-stu-id="6088b-156">To copy image stream data, retrieve the samples uncompressed and then process them through the writer as you normally would.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="6088b-157">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="6088b-157">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6088b-158">**Kopieren von Daten aus einer Datei in eine andere**</span><span class="sxs-lookup"><span data-stu-id="6088b-158">**Copying Data from One File to Another**</span></span>](copying-data-from-one-file-to-another.md)
</dt> <dt>

[<span data-ttu-id="6088b-159">**Kopieren von Streams mithilfe von nicht komprimierten Beispielen**</span><span class="sxs-lookup"><span data-stu-id="6088b-159">**Copying Streams Using Decompressed Samples**</span></span>](copying-streams-using-decompressed-samples.md)
</dt> </dl>

 

 




