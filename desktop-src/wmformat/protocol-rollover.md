---
title: Protokollrollover
description: Protokollrollover
ms.assetid: 61db5e2b-4858-446e-9a27-e0305b46683d
keywords:
- Windows Media-Format-SDK, Protokollrollover
- Advanced Systems Format (ASF), Protokollrollover
- ASF (Advanced Systems Format), Protokollrollover
- Protokollrollover
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b2de8d0496467535f5740a10082f82e285c11ef6
ms.sourcegitcommit: 48d1c892045445bcbd0f22bafa2fd3861ffaa6e7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/19/2020
ms.locfileid: "104038560"
---
# <a name="protocol-rollover"></a><span data-ttu-id="ba05a-107">Protokollrollover</span><span class="sxs-lookup"><span data-stu-id="ba05a-107">Protocol Rollover</span></span>

<span data-ttu-id="ba05a-108">Der Protokollrollover ist ein Prozess, bei dem das Reader-Objekt das beste Streamingprotokoll erkennt, das auf einem Server verfügbar ist</span><span class="sxs-lookup"><span data-stu-id="ba05a-108">Protocol rollover is a process whereby the reader object discovers the best streaming protocol available from a server.</span></span> <span data-ttu-id="ba05a-109">Der Reader verwendet beim Öffnen einer URL, die ein "MMS"-Schema enthält, den Protokollrollover.</span><span class="sxs-lookup"><span data-stu-id="ba05a-109">The reader uses protocol rollover whenever it opens a URL that contains an "mms" scheme.</span></span>

<span data-ttu-id="ba05a-110">Der Reader unterstützt mehrere Protokolle:</span><span class="sxs-lookup"><span data-stu-id="ba05a-110">The reader supports several protocols:</span></span>

-   <span data-ttu-id="ba05a-111">Real-Time Streaming Protocol (RTSP)</span><span class="sxs-lookup"><span data-stu-id="ba05a-111">Real Time Streaming Protocol (RTSP)</span></span>
-   <span data-ttu-id="ba05a-112">Hypertext Transfer-Protokoll (HTTP)</span><span class="sxs-lookup"><span data-stu-id="ba05a-112">Hypertext Transfer Protocol (HTTP)</span></span>
-   <span data-ttu-id="ba05a-113">Microsoft Media Server (MMS)</span><span class="sxs-lookup"><span data-stu-id="ba05a-113">Microsoft Media Server (MMS)</span></span>

<span data-ttu-id="ba05a-114">Die Protokolle "RTSP" und "MMS" sind in zwei Varianten enthalten: eine, die [*UDP*](wmformat-glossary.md) als zugrunde liegendes Übermittlungs Protokoll verwendet, und die andere mit TCP.</span><span class="sxs-lookup"><span data-stu-id="ba05a-114">The RTSP and MMS protocols both come in two flavors, one using [*UDP*](wmformat-glossary.md) as the underlying delivery protocol, and the other using TCP.</span></span>

<span data-ttu-id="ba05a-115">Das Reader-Objekt verwendet immer TCP für Wiedergabe Steuerungsbefehle, aber es kann entweder TCP oder UDP für die Übermittlung des gestreuten Inhalts verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba05a-115">The reader object always uses TCP for playback control commands, but it can use either TCP or UDP for delivery of the streamed content.</span></span> <span data-ttu-id="ba05a-116">UDP wird für die Inhalts Übermittlung bevorzugt, da dadurch weniger Bandbreiten Aufwand als bei TCP erzwungen wird.</span><span class="sxs-lookup"><span data-stu-id="ba05a-116">UDP is preferred for content delivery, because it imposes less bandwidth overhead than TCP.</span></span> <span data-ttu-id="ba05a-117">Das TCP-Protokoll gewährleistet einen zuverlässigen Transport durch die Verwendung von "virtuellen Leitungen", aber die Kosten hierfür bedeuten, dass TCP nicht so gut für digitale Medienströme geeignet ist, wenn die effiziente Nutzung der Bandbreite wichtiger ist, dass gelegentlich verlorene Pakete verloren gehen.</span><span class="sxs-lookup"><span data-stu-id="ba05a-117">The TCP protocol ensures reliable transport through the use of "virtual circuits," but the cost of doing so means that TCP is not as well suited for digital media streams, where efficient use of bandwidth is more important that occasional lost packets.</span></span>

<span data-ttu-id="ba05a-118">Wenn eine URL "MMS://" angibt, versucht der Reader, die folgenden Protokolle für die Datenübermittlung in der folgenden Reihenfolge zu verwenden:</span><span class="sxs-lookup"><span data-stu-id="ba05a-118">When a URL specifies "mms://", the reader attempts to use the following protocols for data delivery, in the following order:</span></span>

1.  <span data-ttu-id="ba05a-119">RTSPU (RTSP mithilfe von UDP)</span><span class="sxs-lookup"><span data-stu-id="ba05a-119">RTSPU (RTSP using UDP)</span></span>
2.  <span data-ttu-id="ba05a-120">RTSPT (RTSP mit TCP)</span><span class="sxs-lookup"><span data-stu-id="ba05a-120">RTSPT (RTSP using TCP)</span></span>
3.  <span data-ttu-id="ba05a-121">MMSU (MMS mithilfe von UDP)</span><span class="sxs-lookup"><span data-stu-id="ba05a-121">MMSU (MMS using UDP)</span></span>
4.  <span data-ttu-id="ba05a-122">Mmst (MMS mit TCP)</span><span class="sxs-lookup"><span data-stu-id="ba05a-122">MMST (MMS using TCP)</span></span>
5.  <span data-ttu-id="ba05a-123">HTTP</span><span class="sxs-lookup"><span data-stu-id="ba05a-123">HTTP</span></span>

<span data-ttu-id="ba05a-124">HTTP ist ein unidirektionales Protokoll, das auf TCP basiert, und ist das Protokoll, das von Webservern verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ba05a-124">HTTP is a one-way protocol based on TCP, and is the protocol used by Web servers.</span></span> <span data-ttu-id="ba05a-125">Streaming mit http ist mit RTSP weniger effizient.</span><span class="sxs-lookup"><span data-stu-id="ba05a-125">Streaming with HTTP is less efficient that using RTSP.</span></span> <span data-ttu-id="ba05a-126">Die meisten Firewalls sind jedoch so konfiguriert, dass HTTP-Anforderungen akzeptiert werden, während Sie in der Regel andere Streamingprotokolle ablehnen.</span><span class="sxs-lookup"><span data-stu-id="ba05a-126">However, most firewalls are configured to accept HTTP requests, whereas they typically reject other streaming protocols.</span></span>

<span data-ttu-id="ba05a-127">Die Windows Media Services 9-Reihe in Microsoft Windows Server 2003 lehnt alle MMSU-oder mmst-Anforderungen von einem SDK-Reader des Windows Media-Formats ab, da RTSP das bevorzugte Streamingprotokoll ist.</span><span class="sxs-lookup"><span data-stu-id="ba05a-127">Windows Media Services 9 Series in Microsoft Windows Server 2003 will reject any MMSU or MMST requests from a Windows Media Format SDK reader, because RTSP is the preferred streaming protocol.</span></span> <span data-ttu-id="ba05a-128">RTSP wird von Windows Media Services Version 4,1 und früher nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ba05a-128">Windows Media Services version 4.1 and earlier do not support RTSP.</span></span> <span data-ttu-id="ba05a-129">In diesem Fall greift das Reader-Objekt auf "MMSU" oder "http" zurück.</span><span class="sxs-lookup"><span data-stu-id="ba05a-129">In this case the reader object falls back to MMSU or HTTP.</span></span>

<span data-ttu-id="ba05a-130">Der Protokollrollover trifft nicht zu, wenn das URL-Schema ein bestimmtes Protokoll (z. b. "rtspu://" für RTSPU oder "https://" für http) enthält.</span><span class="sxs-lookup"><span data-stu-id="ba05a-130">Protocol rollover does not apply if the URL scheme gives a specific protocol, such as "rtspu://" for RTSPU or "https://" for HTTP.</span></span> <span data-ttu-id="ba05a-131">Wenn das URL-Schema "RTSP://" ist, versucht der Reader RTSPU und RTSPT, aber keine anderen.</span><span class="sxs-lookup"><span data-stu-id="ba05a-131">If the URL scheme is "rtsp://", the reader tries RTSPU and RTSPT, but no others.</span></span>

<span data-ttu-id="ba05a-132">Nachdem der Reader eine Datei geöffnet hat, können Sie Abfragen, welches Protokoll verwendet wird, indem Sie die [**IWMReaderAdvanced2:: getprotocolname**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getprotocolname) -Methode für den Reader aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba05a-132">After the reader opens a file, you can query which protocol it is using by calling the [**IWMReaderAdvanced2::GetProtocolName**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getprotocolname) method on the reader.</span></span> <span data-ttu-id="ba05a-133">Während der Inhalt gestreamt oder heruntergeladen wird, gibt diese Methode den Namen zurück, sobald der Inhalt vollständig zwischengespeichert ist. die **getprotocolname** -Methode gibt die Zeichenfolge "Cache" zurück.</span><span class="sxs-lookup"><span data-stu-id="ba05a-133">While the content is being streamed or downloaded, this method returns the name as soon as the content is completely cached, the **GetProtocolName** method returns the string "Cache."</span></span>

<span data-ttu-id="ba05a-134">Um die Namen aller Windows Media Server-Protokolle abzurufen, die der Reader unterstützt, müssen Sie die [**iwmreadernetworkconfig:: getsupportedprotocolname**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadernetworkconfig-getsupportedprotocolname) -Methode für den Reader aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ba05a-134">To get the names of all the Windows Media server protocols that the reader supports, call the [**IWMReaderNetworkConfig::GetSupportedProtocolName**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadernetworkconfig-getsupportedprotocolname) method on the reader.</span></span> <span data-ttu-id="ba05a-135">Sie können ein oder mehrere der Protokolle in der protokollrolloverliste des Readers mithilfe der **iwmreadernetworkconfig** -Schnittstelle deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="ba05a-135">You can disable one or more of the protocols in the reader's protocol rollover list, using **IWMReaderNetworkConfig** interface.</span></span> <span data-ttu-id="ba05a-136">Die [**iwmreadernetworkconfig:: abtenabletcp**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadernetworkconfig-setenabletcp) -Methode aktiviert oder deaktiviert z. b. die TCP-basierten Protokolle, und [**iwmreadernetworkconfig:: ableudp**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadernetworkconfig-setenableudp) aktiviert oder deaktiviert die UDP-basierten Protokolle.</span><span class="sxs-lookup"><span data-stu-id="ba05a-136">For example, the [**IWMReaderNetworkConfig::SetEnableTCP**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadernetworkconfig-setenabletcp) method enables or disables the TCP-based protocols, and [**IWMReaderNetworkConfig::SetEnableUDP**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadernetworkconfig-setenableudp) enables or disables the UDP-based protocols.</span></span> <span data-ttu-id="ba05a-137">Diese Methoden gelten nur für Protokollrollover. die Protokolle sind weiterhin verfügbar, wenn das URL-Schema ein bestimmtes Protokoll enthält.</span><span class="sxs-lookup"><span data-stu-id="ba05a-137">These methods apply only to protocol rollover; the protocols are still available if the URL scheme contains a specific protocol.</span></span> <span data-ttu-id="ba05a-138">Es gibt in der Regel keinen Grund, die Protokolle zu deaktivieren, die im Protokollrollover verwendet werden. Dadurch kann die Leistung beeinträchtigt werden.</span><span class="sxs-lookup"><span data-stu-id="ba05a-138">There is usually no reason to disable any of the protocols used in protocol rollover; doing so can degrade performance.</span></span> <span data-ttu-id="ba05a-139">Dies kann jedoch für Tests hilfreich sein.</span><span class="sxs-lookup"><span data-stu-id="ba05a-139">However, it might be useful for testing.</span></span>

 

 




