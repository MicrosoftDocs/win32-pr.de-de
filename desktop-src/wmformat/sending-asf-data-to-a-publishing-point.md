---
title: Senden von ASF-Daten an einen Publishing Point
description: Senden von ASF-Daten an einen Publishing Point
ms.assetid: 8f01beae-4270-4cf5-afff-3f7014cae90f
keywords:
- Windows Media-Format-SDK, Senden von ASF-Daten
- Windows Media-Format-SDK, Veröffentlichungs Punkte
- Advanced Systems Format (ASF), Senden von Daten
- ASF (Advanced Systems Format), Senden von Daten
- Advanced Systems Format (ASF), Veröffentlichungs Punkte
- ASF (Advanced Systems-Format), Veröffentlichungs Punkte
- Veröffentlichungs Punkte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7a0f38f4d24a458681c4b0dc4ee6d1a73563bdd2
ms.sourcegitcommit: ad672d3a10192c5ccac619ad2524407109266e93
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/25/2020
ms.locfileid: "103724126"
---
# <a name="sending-asf-data-to-a-publishing-point"></a><span data-ttu-id="fc957-110">Senden von ASF-Daten an einen Publishing Point</span><span class="sxs-lookup"><span data-stu-id="fc957-110">Sending ASF Data to a Publishing Point</span></span>

<span data-ttu-id="fc957-111">Mit dem Windows Media-Format-SDK können Sie die Daten von ASF an einen Publishing Point auf einem Windows Media-Server überführen.</span><span class="sxs-lookup"><span data-stu-id="fc957-111">You can use the Windows Media Format SDK to push ASF data to a publishing point on a Windows Media server.</span></span> <span data-ttu-id="fc957-112">Der Server überträgt dann die Daten von diesem Publishing Point.</span><span class="sxs-lookup"><span data-stu-id="fc957-112">The server then broadcasts the data from that publishing point.</span></span> <span data-ttu-id="fc957-113">Dieses Szenario ist nützlich, wenn Sie Inhalte auf einem Computer erfassen oder neu codieren und den Inhalt von einem anderen Computer (oder mehreren Computern) verteilen möchten.</span><span class="sxs-lookup"><span data-stu-id="fc957-113">This scenario is useful if you are capturing or re-encoding content on one computer, and wish to distribute the content from another computer (or several computers).</span></span> <span data-ttu-id="fc957-114">Dies ist auch nützlich, wenn Sie Inhalte von einem Computer innerhalb einer Firewall auf einen Windows Media-Server außerhalb der Firewall verschieben müssen, da die Pushverteilung das HTTP-Protokoll verwendet.</span><span class="sxs-lookup"><span data-stu-id="fc957-114">It is also useful if you need to move content from a computer inside a firewall to a Windows Media server outside the firewall, because push distribution uses the HTTP protocol.</span></span>

> [!Note]  
> <span data-ttu-id="fc957-115">Ein *Publishing Point* verhält sich im Wesentlichen wie ein Redirector.</span><span class="sxs-lookup"><span data-stu-id="fc957-115">A *publishing point* acts essentially like a redirector.</span></span> <span data-ttu-id="fc957-116">Der Client gibt den Publishing Point in der URL an (z. b. MMS://MyServer/MyPublishingPoint), und der Server übersetzt diesen in eine Inhalts Anforderung.</span><span class="sxs-lookup"><span data-stu-id="fc957-116">The client specifies the publishing point in the URL (for example, mms://MyServer/MyPublishingPoint) and the server translates this into a request for content.</span></span>

 

<span data-ttu-id="fc957-117">Fügen Sie das Push Sink-Objekt an das Writer-Objekt an, um Daten per Push an den Publishing Point zu übersetzen</span><span class="sxs-lookup"><span data-stu-id="fc957-117">To push data to the publishing point, attach the push sink object to the writer object.</span></span> <span data-ttu-id="fc957-118">Mithilfe der Push-Senke wird die Verbindung mit dem Server geöffnet und die pushsitzung verwaltet.</span><span class="sxs-lookup"><span data-stu-id="fc957-118">The push sink is used to open the connection to the server and manage the push session.</span></span> <span data-ttu-id="fc957-119">Das Writer-Objekt behandelt alle anderen Aspekte der Dateierstellung.</span><span class="sxs-lookup"><span data-stu-id="fc957-119">The writer object handles all the other aspects of creating the file.</span></span>

<span data-ttu-id="fc957-120">Führen Sie die folgenden Schritte aus:</span><span class="sxs-lookup"><span data-stu-id="fc957-120">Perform the following steps:</span></span>

1.  <span data-ttu-id="fc957-121">Erstellen Sie das Writer-Objekt, indem Sie die [**wmcreatewriter**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatewriter) -Funktion aufrufen, die einen [**iwmwriter**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwriter) -Zeiger zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="fc957-121">Create the writer object by calling the [**WMCreateWriter**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-wmcreatewriter) function, which returns an [**IWMWriter**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwriter) pointer.</span></span>
2.  <span data-ttu-id="fc957-122">Erstellen Sie das Push Sink-Objekt, indem Sie die [**wmcreateschreiterpushsink**](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-wmcreatewriterpushsink) -Funktion aufrufen, die einen [**iwmwrite-pushsink**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwriterpushsink) -Zeiger zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="fc957-122">Create the push sink object by calling the [**WMCreateWriterPushSink**](/previous-versions/windows/desktop/api/wmsdkidl/nf-wmsdkidl-wmcreatewriterpushsink) function, which returns an [**IWMWriterPushSink**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmwriterpushsink) pointer.</span></span>
3.  <span data-ttu-id="fc957-123">Fügen Sie die Netzwerk Senke an den Writer an, indem Sie [**iwmschreiteradvanced:: addsink**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced-addsink) für den Writer aufrufen, mit einem Zeiger auf die **iwmschreiterpushsink** -Schnittstelle der Netzwerk Senke.</span><span class="sxs-lookup"><span data-stu-id="fc957-123">Attach the network sink to the writer by calling [**IWMWriterAdvanced::AddSink**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced-addsink) on the writer, with a pointer to the network sink's **IWMWriterPushSink** interface.</span></span>
4.  <span data-ttu-id="fc957-124">Stellen Sie eine Verbindung mit dem Server her, indem Sie [**iwmschreiterpushsink:: Connect**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriterpushsink-connect)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="fc957-124">Connect to the server by calling [**IWMWriterPushSink::Connect**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriterpushsink-connect).</span></span>
5.  <span data-ttu-id="fc957-125">Schreiben Sie den Stream.</span><span class="sxs-lookup"><span data-stu-id="fc957-125">Write the stream.</span></span> <span data-ttu-id="fc957-126">Dieser Schritt umfasst das Festlegen des Profils für das Writer-Objekt, das Senden von Beispielen an den Writer und möglicherweise andere Aufgaben.</span><span class="sxs-lookup"><span data-stu-id="fc957-126">This step involves setting the profile on the writer object, sending samples to the writer, and possibly other tasks.</span></span> <span data-ttu-id="fc957-127">Weitere Informationen finden Sie unter [Schreiben von ASF-Dateien](writing-asf-files.md).</span><span class="sxs-lookup"><span data-stu-id="fc957-127">For more information, see [Writing ASF Files](writing-asf-files.md).</span></span> <span data-ttu-id="fc957-128">Weitere Aufgaben können das Festlegen von Metadatenattributen (wie unter [Arbeiten mit Metadaten](working-with-metadata.md)beschrieben) oder das Festlegen von Live-DRM im Stream (wie unter [Aktivieren der DRM-Unterstützung](enabling-drm-support.md)beschrieben) umfassen.</span><span class="sxs-lookup"><span data-stu-id="fc957-128">Additional tasks might include setting metadata attributes (as described in [Working with Metadata](working-with-metadata.md)) or setting live-DRM on the stream (as described in [Enabling DRM Support](enabling-drm-support.md)).</span></span> <span data-ttu-id="fc957-129">Diese Aufgaben werden genau wie beim Schreiben von ASF-Dateien ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="fc957-129">These tasks are performed exactly as they are for ASF file writing.</span></span>
6.  <span data-ttu-id="fc957-130">Wenn Sie den Schreibvorgang abgeschlossen haben, nennen Sie [**iwmwriteradvanced:: removesink**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced-removesink) auf dem Writer, um das Push Sink-Objekt zu trennen.</span><span class="sxs-lookup"><span data-stu-id="fc957-130">After you are done writing, call [**IWMWriterAdvanced::RemoveSink**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriteradvanced-removesink) on the writer to detach the push sink object.</span></span>
7.  <span data-ttu-id="fc957-131">Nennen Sie [**iwmschreiterpushsink:: EndSession**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriterpushsink-endsession) auf der Push-Senke, um die Sitzung mit dem Server zu beenden.</span><span class="sxs-lookup"><span data-stu-id="fc957-131">Call [**IWMWriterPushSink::EndSession**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmwriterpushsink-endsession) on the push sink to end the session with the server.</span></span>

<span data-ttu-id="fc957-132">Diese Schritte werden in der wmvnetwrite-Beispielanwendung veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="fc957-132">These steps are illustrated in the WMVNetWrite sample application.</span></span>

> [!Note]  
> <span data-ttu-id="fc957-133">Wenn Sie eine nur-Low-Bitrate-Videodatei senden, wird Sie möglicherweise einige Sekunden lang nicht auf dem Publishing Point abgespielt.</span><span class="sxs-lookup"><span data-stu-id="fc957-133">If you are sending a very-low-bit-rate video-only file, it might not start playing on the publishing point for several seconds.</span></span> <span data-ttu-id="fc957-134">Dies kann in verschiedenen Fällen vorkommen, z. b. Wenn ein einzelnes Paket viele kleine Video Frames und keine Audiodaten enthält, oder wenn es eine lange Zeitspanne zwischen dem ersten Paket und dem zweiten Paket in einer nur-Video-Datei mit geringem Bitrate gibt.</span><span class="sxs-lookup"><span data-stu-id="fc957-134">This can happen in various cases, for example when a single packet contains many small video frames and no audio, or when there is a long time gap between the first packet and the second packet in a low-bit-rate video-only file.</span></span> <span data-ttu-id="fc957-135">Um dieses Problem zu vermeiden, fügen Sie einen automatischen Audiostream in die Datei ein.</span><span class="sxs-lookup"><span data-stu-id="fc957-135">To avoid this problem, insert a silent audio stream into the file.</span></span>

 

## <a name="authentication"></a><span data-ttu-id="fc957-136">Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="fc957-136">Authentication</span></span>

<span data-ttu-id="fc957-137">Die Authentifizierung beim Server wird automatisch vom Push-Senkenobjekt verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="fc957-137">Authentication to the server is automatically handled by the push sink object.</span></span> <span data-ttu-id="fc957-138">Die Anwendung muss jedoch möglicherweise Anmelde Informationen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="fc957-138">However, the application may need to supply credentials.</span></span> <span data-ttu-id="fc957-139">Dies erfolgt über die **iwmkredentialcallback** -Rückruf Schnittstelle wie folgt:</span><span class="sxs-lookup"><span data-stu-id="fc957-139">This is done through the **IWMCredentialCallback** callback interface, as follows:</span></span>

1.  <span data-ttu-id="fc957-140">Implementieren Sie die [**iwmstatus Callback**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstatuscallback) -und die [**iwmkredentialcallback**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcredentialcallback) -Schnittstelle in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="fc957-140">Implement the [**IWMStatusCallback**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstatuscallback) and [**IWMCredentialCallback**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcredentialcallback) interface in your application.</span></span>
2.  <span data-ttu-id="fc957-141">Fragen Sie das Push Sink-Objekt für die [**iwmregistercallback**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmregistercallback) -Schnittstelle ab.</span><span class="sxs-lookup"><span data-stu-id="fc957-141">Query the push sink object for the [**IWMRegisterCallback**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmregistercallback) interface.</span></span>
3.  <span data-ttu-id="fc957-142">Rufen Sie [**iwmregistercallback:: Rat**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmregistercallback-advise) mit einem Zeiger auf die **iwmstatus Callback** -Schnittstelle Ihrer Anwendung auf.</span><span class="sxs-lookup"><span data-stu-id="fc957-142">Call [**IWMRegisterCallback::Advise**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmregistercallback-advise) with a pointer to your application's **IWMStatusCallback** interface.</span></span>
4.  <span data-ttu-id="fc957-143">Wenn die pushsenke Anmelde Informationen von der Anwendung erhalten muss, fragt Sie den **iwmstatus Callback** -Zeiger auf die **iwmkredentialcallback** -Schnittstelle ab und ruft [**iwmkredentialcallback:: acquirecredenseins**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmcredentialcallback-acquirecredentials)auf.</span><span class="sxs-lookup"><span data-stu-id="fc957-143">If the push sink needs to get credentials from the application, it queries the **IWMStatusCallback** pointer for the **IWMCredentialCallback** interface and calls [**IWMCredentialCallback::AcquireCredentials**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmcredentialcallback-acquirecredentials).</span></span> <span data-ttu-id="fc957-144">Weitere Informationen zu dieser Methode finden Sie unter [Authentifizierung](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="fc957-144">For information about this method, see [Authentication](authentication.md).</span></span>
5.  <span data-ttu-id="fc957-145">Wenn Sie den Vorgang abgeschlossen haben, rufen Sie [**iwmregistercallback:: unempfehlung**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmregistercallback-unadvise) auf, um das Abrufen von Ereignis Benachrichtigungen von der pushsenke zu beenden.</span><span class="sxs-lookup"><span data-stu-id="fc957-145">When you are done, call [**IWMRegisterCallback::Unadvise**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmregistercallback-unadvise) to stop getting event notifications from the push sink.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fc957-146">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="fc957-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fc957-147">**Senden von ASF-Daten über ein Netzwerk**</span><span class="sxs-lookup"><span data-stu-id="fc957-147">**Sending ASF Data Over a Network**</span></span>](sending-asf-data-over-a-network.md)
</dt> <dt>

[<span data-ttu-id="fc957-148">**Arbeiten mit Writer-senken**</span><span class="sxs-lookup"><span data-stu-id="fc957-148">**Working with Writer Sinks**</span></span>](working-with-writer-sinks.md)
</dt> <dt>

[<span data-ttu-id="fc957-149">**Writer-Push-Sink-Objekt**</span><span class="sxs-lookup"><span data-stu-id="fc957-149">**Writer Push Sink Object**</span></span>](writer-push-sink-object.md)
</dt> </dl>

 

 




