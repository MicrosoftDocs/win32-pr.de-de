---
description: Die Handhabung von Benutzermodus-Ausnahmen durch das System bietet Unterstützung für anspruchsvolle debuggger.
ms.assetid: c45a7dc6-e6b2-4fc4-9522-12d96893f4c7
title: Debugger-Ausnahmebehandlung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6aff6d566e8798aaf4f3113ce6d8f44a3bc71ba
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104482742"
---
# <a name="debugger-exception-handling"></a><span data-ttu-id="25a26-103">Debugger-Ausnahmebehandlung</span><span class="sxs-lookup"><span data-stu-id="25a26-103">Debugger Exception Handling</span></span>

<span data-ttu-id="25a26-104">Die Handhabung von Benutzermodus-Ausnahmen durch das System bietet Unterstützung für anspruchsvolle debuggger.</span><span class="sxs-lookup"><span data-stu-id="25a26-104">The system's handling of user-mode exceptions provides support for sophisticated debuggers.</span></span> <span data-ttu-id="25a26-105">Wenn der Prozess, in dem eine Ausnahme auftritt, gedebuggt wird, generiert das System ein Debugereignis.</span><span class="sxs-lookup"><span data-stu-id="25a26-105">If the process in which an exception occurs is being debugged, the system generates a debug event.</span></span> <span data-ttu-id="25a26-106">Wenn der Debugger die [**waitfordebugevent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) -Funktion verwendet, bewirkt das Debug-Ereignis, dass diese Funktion mit einem Zeiger auf eine [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="25a26-106">If the debugger is using the [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) function, the debug event causes that function to return with a pointer to a [**DEBUG\_EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) structure.</span></span> <span data-ttu-id="25a26-107">Diese Struktur enthält die Prozess-und Thread Bezeichner, mit denen der Debugger auf den Kontext Daten Satz des Threads zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="25a26-107">This structure contains the process and thread identifiers the debugger can use to access the thread's context record.</span></span> <span data-ttu-id="25a26-108">Die Struktur enthält außerdem eine [**Ausnahme- \_ Debug- \_ Informations**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) Struktur, die eine Kopie des Ausnahme Datensatzes enthält.</span><span class="sxs-lookup"><span data-stu-id="25a26-108">The structure also contains an [**EXCEPTION\_DEBUG\_INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) structure that includes a copy of the exception record.</span></span>

<span data-ttu-id="25a26-109">Wenn das System nach einem Ausnahmehandler sucht, werden zwei Versuche unternommen, den Debugger eines Prozesses zu benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="25a26-109">When the system is searching for an exception handler, it makes two attempts to notify a process's debugger.</span></span> <span data-ttu-id="25a26-110">Der erste Benachrichtigungs Versuch bietet dem Debugger die Möglichkeit, Haltepunkt-oder einstufige Ausnahmen zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="25a26-110">The first notification attempt provides the debugger with an opportunity to handle breakpoint or single-step exceptions.</span></span> <span data-ttu-id="25a26-111">Dies wird als Benachrichtigung über die *erste Chance* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="25a26-111">This is known as *first-chance notification*.</span></span> <span data-ttu-id="25a26-112">Der Benutzer kann dann Debugger-Befehle ausgeben, um die Prozessumgebung zu bearbeiten, bevor Ausnahmehandler ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="25a26-112">The user can then issue debugger commands to manipulate the process's environment before any exception handlers are executed.</span></span> <span data-ttu-id="25a26-113">Der zweite Versuch, den Debugger zu benachrichtigen, tritt nur dann auf, wenn das System keinen Frame basierten Ausnahmehandler finden kann, der die Ausnahme behandelt.</span><span class="sxs-lookup"><span data-stu-id="25a26-113">The second attempt to notify the debugger occurs only if the system is unable to find a frame-based exception handler that handles the exception.</span></span> <span data-ttu-id="25a26-114">Dies wird als *Benachrichtigung der letzten Chance* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="25a26-114">This is known as *last-chance notification*.</span></span> <span data-ttu-id="25a26-115">Wenn die Ausnahme vom Debugger nach der Benachrichtigung der letzten Chance nicht behandelt wird, beendet das System den Prozess, der debuggt wird.</span><span class="sxs-lookup"><span data-stu-id="25a26-115">If the debugger does not handle the exception after the last-chance notification, the system terminates the process being debugged.</span></span>

<span data-ttu-id="25a26-116">Bei jedem Benachrichtigungs Versuch verwendet der Debugger die [**continuedebugevent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) -Funktion, um die Steuerung an das System zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="25a26-116">At each notification attempt, the debugger uses the [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) function to return control to the system.</span></span> <span data-ttu-id="25a26-117">Vor dem Zurückgeben der Steuerung kann der Debugger die Ausnahme behandeln und den Thread Zustand entsprechend ändern, oder er kann die Ausnahme nicht behandeln.</span><span class="sxs-lookup"><span data-stu-id="25a26-117">Before returning control, the debugger can handle the exception and modify the thread state as appropriate, or it can choose not to handle the exception.</span></span> <span data-ttu-id="25a26-118">Mithilfe von **continuedebugevent** kann der Debugger angeben, dass die Ausnahme behandelt wurde. in diesem Fall wird der Zustand des Computers wieder hergestellt, und die Thread Ausführung wird an dem Punkt fortgesetzt, an dem die Ausnahme aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="25a26-118">Using **ContinueDebugEvent**, the debugger can indicate that it has handled the exception, in which case the machine state is restored and thread execution is continued at the point at which the exception occurred.</span></span> <span data-ttu-id="25a26-119">Der Debugger kann auch angeben, dass die Ausnahme nicht behandelt wurde, was bewirkt, dass das System die Suche nach einem Ausnahmehandler fortsetzt.</span><span class="sxs-lookup"><span data-stu-id="25a26-119">The debugger can also indicate that it did not handle the exception, which causes the system to continue its search for an exception handler.</span></span>

 

 
