---
description: Die Funktionen zur Symbol Behandlung der dbghelp-API wurden im Laufe der Jahre weiterentwickelt.
ms.assetid: 6dc41682-6104-418b-b045-7afe8c2b11e9
title: Öffentliche, globale und lokale Symbole
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 623bf93ec8f11d1cec9c5fec64e2479dd91ee5cd
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104041392"
---
# <a name="public-global-and-local-symbols"></a><span data-ttu-id="315a5-103">Öffentliche, globale und lokale Symbole</span><span class="sxs-lookup"><span data-stu-id="315a5-103">Public, Global, and Local Symbols</span></span>

<span data-ttu-id="315a5-104">Die Funktionen zur Symbol Behandlung der dbghelp-API wurden im Laufe der Jahre weiterentwickelt.</span><span class="sxs-lookup"><span data-stu-id="315a5-104">The symbol handling capabilities of the DbgHelp API have evolved over the years.</span></span> <span data-ttu-id="315a5-105">Um sicherzustellen, dass Ihr Code in einer Vielzahl von Szenarien funktioniert und umfassende Details zu den Symbolen bietet, verwenden Sie nach Möglichkeit die neuesten Funktionen.</span><span class="sxs-lookup"><span data-stu-id="315a5-105">To ensure that your code works in a variety of scenarios and provides full details on the symbols, use the newest functions whenever possible.</span></span> <span data-ttu-id="315a5-106">[**Symenumschlag Symbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) ersetzt beispielsweise [**SymEnumerateSymbols64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratesymbols), [**symfromname**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) ersetzt [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), und [**symfromaddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) ersetzt [**SymGetSymFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromaddr).</span><span class="sxs-lookup"><span data-stu-id="315a5-106">For example, [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) replaces [**SymEnumerateSymbols64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumeratesymbols), [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) replaces [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname), and [**SymFromAddr**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromaddr) replaces [**SymGetSymFromAddr64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromaddr).</span></span>

## <a name="public-symbols"></a><span data-ttu-id="315a5-107">Öffentliche Symbole</span><span class="sxs-lookup"><span data-stu-id="315a5-107">Public Symbols</span></span>

<span data-ttu-id="315a5-108">Anfängliche Versionen von DbgHelp.dll unterstützt nur öffentliche Symbole.</span><span class="sxs-lookup"><span data-stu-id="315a5-108">Initial versions of DbgHelp.dll supported examining only public symbols.</span></span> <span data-ttu-id="315a5-109">Diese Symbole werden für jedes Element im Code generiert, das zwischen verschiedenen Quelldateien verfügbar gemacht werden muss.</span><span class="sxs-lookup"><span data-stu-id="315a5-109">These symbols are generated for any item in the code that must be exposed between different source files.</span></span> <span data-ttu-id="315a5-110">Sie enthalten außerdem alle Elemente, die aus dem Modul exportiert werden.</span><span class="sxs-lookup"><span data-stu-id="315a5-110">They also include all items that are exported out of the module.</span></span>

<span data-ttu-id="315a5-111">Die Symbole sind entweder im Bild eingebettet oder separat in einer dbg-oder PDB-Datei gespeichert.</span><span class="sxs-lookup"><span data-stu-id="315a5-111">The symbols are either embedded in the image, or stored separately in a .dbg or .pdb file.</span></span> <span data-ttu-id="315a5-112">Die einzigen gespeicherten Informationen sind der Symbol Name und die Adresse.</span><span class="sxs-lookup"><span data-stu-id="315a5-112">The only information stored is the symbol name and address.</span></span> <span data-ttu-id="315a5-113">Die Namen sind als ergänzte Namen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="315a5-113">The names are available as decorated names.</span></span> <span data-ttu-id="315a5-114">Um nicht ergänzte Namen anzuzeigen, nennen Sie die [**symabtoptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) -Funktion mit symopt \_ undname, oder verwenden Sie die [**undecoratesymbolname**](/windows/desktop/api/Dbghelp/nf-dbghelp-undecoratesymbolname) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="315a5-114">To view undecorated names, call the [**SymSetOptions**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetoptions) function with SYMOPT\_UNDNAME, or use the [**UnDecorateSymbolName**](/windows/desktop/api/Dbghelp/nf-dbghelp-undecoratesymbolname) function.</span></span>

<span data-ttu-id="315a5-115">Beachten Sie, dass die dbghelp-API anfänglich nicht dazu entworfen wurde, mehrere Instanzen desselben Symbols innerhalb eines Moduls zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="315a5-115">Note that the DbgHelp API was not initially designed to support multiple instances of the same symbol within a module.</span></span> <span data-ttu-id="315a5-116">Dies liegt daran, dass öffentliche Symbole auf eindeutige Namen innerhalb eines Moduls beschränkt sind.</span><span class="sxs-lookup"><span data-stu-id="315a5-116">This is because public symbols are restricted to unique names within a module.</span></span> <span data-ttu-id="315a5-117">Daher gibt [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname) nur das erste Symbol zurück, das mit übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="315a5-117">Therefore, [**SymGetSymFromName64**](/windows/desktop/api/Dbghelp/nf-dbghelp-symgetsymfromname) returns only the first symbol that matches.</span></span> <span data-ttu-id="315a5-118">Rufen Sie [**symenumschlag Symbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols)auf, um alle Symbole abzurufen, die mit verglichen werden.</span><span class="sxs-lookup"><span data-stu-id="315a5-118">To retrieve all symbols that match, call [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols).</span></span>

## <a name="global-and-local-symbols"></a><span data-ttu-id="315a5-119">Globale und lokale Symbole</span><span class="sxs-lookup"><span data-stu-id="315a5-119">Global and Local Symbols</span></span>

<span data-ttu-id="315a5-120">Neuere Versionen von DbgHelp.dll unterstützen globale und lokale Symbole, wenn PDB-Dateien verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="315a5-120">Newer versions of DbgHelp.dll support global and local symbols when using .pdb files.</span></span> <span data-ttu-id="315a5-121">Diese neuen Versionen enthalten statische Funktionen, Funktionen innerhalb einer Quelldatei, Funktionsparameter und lokalen Variablen.</span><span class="sxs-lookup"><span data-stu-id="315a5-121">These new versions include static functions, functions scoped within a source file, function parameters, and local variables.</span></span> <span data-ttu-id="315a5-122">Wenn dbghelp nach einem Symbol sucht, werden die globalen und lokalen Symboltabellen vor dem Überprüfen der öffentlichen Symboltabelle überprüft.</span><span class="sxs-lookup"><span data-stu-id="315a5-122">When DbgHelp searches for a symbol, it checks the global and local symbol tables before checking the public symbol table.</span></span> <span data-ttu-id="315a5-123">Dies liegt daran, dass für diese Typen von Symbolen Weitere Informationen verfügbar sind, als für öffentliche Symbole verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="315a5-123">This is because there is more information available for these types of symbols than is available for public symbols.</span></span>

<span data-ttu-id="315a5-124">Globale und lokale Symbole werden mit nicht ergänzten Namen gespeichert.</span><span class="sxs-lookup"><span data-stu-id="315a5-124">Global and local symbols are stored with undecorated names.</span></span> <span data-ttu-id="315a5-125">Daher hat das symopt \_ undname-Flag keine Auswirkung.</span><span class="sxs-lookup"><span data-stu-id="315a5-125">Therefore, the SYMOPT\_UNDNAME flag has no effect.</span></span> <span data-ttu-id="315a5-126">Um ergänzte Symbolnamen zu erhalten, müssen Sie das Flag "symopt \_ publics only" verwenden \_ .</span><span class="sxs-lookup"><span data-stu-id="315a5-126">To get decorated symbol names, you must use the SYMOPT\_PUBLICS\_ONLY flag.</span></span> <span data-ttu-id="315a5-127">Dies bewirkt, dass dbghelp nur die öffentlichen Symbole durchsucht.</span><span class="sxs-lookup"><span data-stu-id="315a5-127">This causes DbgHelp to search only the public symbols.</span></span>

<span data-ttu-id="315a5-128">Um lokale Symbole oder Funktionsparameter anzuzeigen, müssen Sie die [**symsetcontext**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetcontext) -Funktion mit dem **instructionoffset** -Member der [**imagehlp- \_ Stapel \_ Rahmen**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_stack_frame) Struktur aufrufen, die auf die Adresse eines beliebigen Funktions Symbols festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="315a5-128">To view local symbols or function parameters, call the [**SymSetContext**](/windows/desktop/api/Dbghelp/nf-dbghelp-symsetcontext) function with the **InstructionOffset** member of the [**IMAGEHLP\_STACK\_FRAME**](/windows/desktop/api/DbgHelp/ns-dbghelp-imagehlp_stack_frame) structure set to the address of any function symbol.</span></span> <span data-ttu-id="315a5-129">Nachfolgende Aufrufe von [**symfromname**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) und [**symenum Symbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) können innerhalb des Kontexts dieser Adresse ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="315a5-129">Subsequent calls to [**SymFromName**](/windows/desktop/api/Dbghelp/nf-dbghelp-symfromname) and [**SymEnumSymbols**](/windows/desktop/api/Dbghelp/nf-dbghelp-symenumsymbols) can operate within the context of this address.</span></span> <span data-ttu-id="315a5-130">Legen Sie hierzu den *baseofdll* -Parameter auf **null** fest, und lassen Sie den modulspezifizierer aus dem *Name* -oder *Mask* -Parameter aus.</span><span class="sxs-lookup"><span data-stu-id="315a5-130">To do so, set the *BaseOfDll* parameter to **NULL** and omit the module specifier from the *Name* or *Mask* parameter.</span></span> <span data-ttu-id="315a5-131">Dadurch wird dbghelp gezwungen, nach übereinstimmenden Symbolen innerhalb des Bereichs zu suchen, der von **symsetcontext** angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="315a5-131">This forces DbgHelp to search for matching symbols within the scope indicated by **SymSetContext**.</span></span>

<span data-ttu-id="315a5-132">Um zu ermitteln, ob ein Symbol ein Parameter ist, überprüfen Sie den **Flags** -Member der [**Symbol \_ Informations**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) Struktur.</span><span class="sxs-lookup"><span data-stu-id="315a5-132">To determine if a symbol is a parameter, check the **Flags** member of the [**SYMBOL\_INFO**](/windows/desktop/api/DbgHelp/ns-dbghelp-symbol_info) structure.</span></span> <span data-ttu-id="315a5-133">Wenn das Symbol ein Parameter ist, enthält der Member den Parameter symflag \_ .</span><span class="sxs-lookup"><span data-stu-id="315a5-133">If the symbol is a parameter, the member contains SYMFLAG\_PARAMETER.</span></span> <span data-ttu-id="315a5-134">Wenn es sich um ein lokales Symbol handelt, enthält das Element "symflag \_ local".</span><span class="sxs-lookup"><span data-stu-id="315a5-134">If it is a local symbol, the member contains SYMFLAG\_LOCAL.</span></span>

 

 



