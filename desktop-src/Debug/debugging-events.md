---
description: Ein Debugereignis ist ein Incident im Prozess, der gedebuggt wird und dazu führt, dass das System den Debugger benachrichtigt.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Debugereignisse
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7d1f9f723e55b75b32d9f9e3cbf4baac0a8cc683dd3a5aa1b95a2931bceba29
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/11/2021
ms.locfileid: "119642190"
---
# <a name="debugging-events"></a>Debugereignisse

Ein Debugereignis ist ein Incident im Prozess, der gedebuggt wird und dazu führt, dass das System den Debugger benachrichtigt. Debugereignisse umfassen das Erstellen eines Prozesses, das Erstellen eines Threads, das Laden einer Dll (Dynamic Link Library), das Entladen einer DLL, das Senden einer Ausgabezeichenfolge und das Generieren einer Ausnahme.

Wenn ein Debugereignis auftritt, während ein Debugger auf ein Ereignis wartet, füllt das System die durch [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) angegebene [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) mit Informationen zur Beschreibung des Ereignisses auf.

Wenn das System den Debugger über ein Debugereignis benachrichtigt, werden auch alle Threads im betroffenen Prozess angehalten. Die Ausführung der Threads wird erst fortgesetzt, wenn der Debugger das Debugereignis mit [**continueDebugEvent fortsetzt.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) Die folgenden Debugereignisse können während des Debuggens eines Prozesses auftreten.



| Debugereignis                          | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CREATE \_ PROCESS \_ \_ DEBUG-EREIGNIS<br/> | Wird immer dann generiert, wenn ein neuer Prozess in einem Prozess erstellt wird, der debuggt wird, oder wenn der Debugger mit dem Debuggen eines bereits aktiven Prozesses beginnt. Das System generiert dieses Debugereignis, bevor der Prozess im Benutzermodus und bevor das System andere Debugereignisse für den neuen Prozess generiert. <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**CREATE PROCESS DEBUG \_ \_ \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) Diese Struktur enthält ein Handle für den neuen Prozess, ein Handle für die Bilddatei des Prozesses, ein Handle für den anfänglichen Thread des Prozesses und andere Informationen, die den neuen Prozess beschreiben.<br/> Das Handle für den Prozess verfügt über PROCESS \_ VM \_ READ- und PROCESS \_ VM \_ WRITE-Zugriff. Wenn ein Debugger über diese Zugriffstypen für einen Thread verfügt, kann er mithilfe der [**Funktionen ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) und [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) Lese- und Schreibzugriff auf den Arbeitsspeicher des Prozesses ausführen. Wenn das System zuvor ein EXIT PROCESS DEBUG EVENT-Ereignis gemeldet hat, schließt das System dieses Handle, wenn der Debugger die \_ \_ \_ [**ContinueDebugEvent-Funktion aufruft.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> Das Handle für die Imagedatei des Prozesses verfügt über generischen \_ READ-Zugriff und wird für die Lesefreigabe geöffnet. Der Debugger sollte dieses Handle schließen, während CREATE \_ PROCESS DEBUG EVENT verarbeitet \_ \_ wird.<br/> Das Handle für den anfänglichen Thread des Prozesses verfügt über THREAD \_ GET \_ CONTEXT-, THREAD SET CONTEXT- und \_ THREAD SUSPEND \_ \_ \_ RESUME-Zugriff auf den Thread. Wenn ein Debugger über diese Zugriffstypen für einen Thread verfügt, kann er mithilfe der [**Funktionen GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) und [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) aus den Registern des Threads lesen und in diese schreiben und den Thread mithilfe der [**Funktionen SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) und [**ResumeThread fortsetzen.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) Wenn das System zuvor ein EXIT PROCESS DEBUG EVENT-Ereignis gemeldet hat, schließt das System dieses Handle, wenn der Debugger die \_ \_ \_ [**ContinueDebugEvent-Funktion aufruft.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> |
| CREATE \_ THREAD \_ DEBUG \_ EVENT<br/>  | Wird immer dann generiert, wenn ein neuer Thread in einem Prozess erstellt wird, der debuggt wird, oder wenn der Debugger mit dem Debuggen eines bereits aktiven Prozesses beginnt. Dieses Debugereignis wird generiert, bevor der neue Thread im Benutzermodus ausgeführt wird. <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**CREATE THREAD DEBUG \_ \_ \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) Diese Struktur enthält ein Handle für den neuen Thread und die Startadresse des Threads. Das Handle verfügt über THREAD \_ GET \_ CONTEXT-, THREAD \_ SET \_ CONTEXT- und THREAD SUSPEND \_ \_ RESUME-Zugriff auf den Thread. Wenn ein Debugger über diese Zugriffstypen für einen Thread verfügt, kann er mithilfe der [**Funktionen GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) und [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) aus den Registern des Threads lesen und in diese schreiben und den Thread mithilfe der [**Funktionen SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) und [**ResumeThread fortsetzen.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)<br/> Wenn das System zuvor ein EXIT THREAD DEBUG EVENT-Ereignis gemeldet hat, schließt das System das Handle für den neuen Thread, wenn der Debugger die \_ \_ \_ [**ContinueDebugEvent-Funktion aufruft.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_AUSNAHMEDEBUGEREIGNIS \_<br/>       | Wird immer dann generiert, wenn in dem Prozess, der debuggt wird, eine Ausnahme auftritt. Mögliche Ausnahmen sind der Versuch, auf nicht zugänglichen Speicher zu zugreifen, das Ausführen von Haltepunktanweisungen, das Aufteilen durch 0 (null) oder eine andere Ausnahme, die unter Structured Exception Handling (Strukturierte [Ausnahmebehandlung) angegeben ist.](structured-exception-handling.md) <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**EXCEPTION DEBUG \_ \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) Diese Struktur beschreibt die Ausnahme, die das Debugereignis verursacht hat.<br/> Neben den Standardausnahmebedingungen kann während des Debuggens des Konsolenprozesses ein zusätzlicher Ausnahmecode auftreten. Das System generiert einen DBG CONTROL C-Ausnahmecode, wenn STRG+C in einen Konsolenprozess eingegeben wird, der STRG+C-Signale verarbeitet und \_ \_ gedebuggt wird. Dieser Ausnahmecode ist nicht für die Handhabung durch Anwendungen gedacht. Eine Anwendung sollte niemals einen Ausnahmehandler verwenden, um sie zu behandeln. Sie wird nur zum Vorteil des Debuggers ausgelöst und nur verwendet, wenn ein Debugger an den Konsolenprozess angefügt ist.<br/> Wenn ein Prozess nicht gedebuggt wird oder der Debugger die DBG CONTROL C-Ausnahme nicht behandelt (über den gn-Befehl) übergibt, wird die Liste der Handlerfunktionen der Anwendung durchsucht, wie für die \_ \_ [**SetConsoleCtrlHandler-Funktion**](/windows/console/setconsolectrlhandler) dokumentiert.<br/> Wenn der Debugger die DBG CONTROL C-Ausnahme (über den Gh-Befehl) behandelt, bemerkt eine Anwendung STRG+C nur in code \_ \_ wie diesem.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Daher kann der Debugger nicht verwendet werden, um zu verhindern, dass der Lese-Warte-Prozess in diesem Code beendet wird.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EXIT \_ PROCESS \_ DEBUG \_ EVENT<br/>   | Wird immer dann generiert, wenn der letzte Thread in einem Prozess, der debuggt wird, beendet wird. Dieses Debugereignis tritt unmittelbar auf, nachdem das System die DLLs des Prozesses entladen und den Exitcode des Prozesses aktualisiert hat. <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**EXIT PROCESS DEBUG \_ \_ \_ INFO-Struktur,**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) die den Exitcode angibt.<br/> Der Debugger gibt alle internen Strukturen, die dem Prozess zugeordnet sind, nach Eingang dieses Debugereignis wieder auf. Das System schließt das Handle des Debuggers für den beendenden Prozess und alle Threads des Prozesses. Der Debugger sollte diese Handles nicht schließen.<br/> Der Kernelmodusteil des Herunterfahrens des Prozesses kann erst abgeschlossen werden, wenn der Debugger, der dieses Ereignis empfängt, [**ContinueDebugEvent aufruft.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) Bis dahin sind die Prozesshandles geöffnet, und der virtuelle Adressraum wird nicht freigegeben, sodass der Debugger den untergeordneten Prozess untersuchen kann. Um eine Benachrichtigung zu erhalten, wenn der Kernelmodusteil des Herunterfahrens des Prozesses abgeschlossen ist, duplizieren Sie das mit CREATE PROCESS DEBUG EVENT zurückgegebene Handle, rufen \_ \_ Sie \_ **ContinueDebugEvent** auf, und warten Sie dann, bis das duplizierte Prozesshand handle signalisiert wird.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| EXIT \_ THREAD \_ DEBUG \_ EVENT<br/>    | Wird immer dann generiert, wenn ein Thread, der Teil eines debuggten Prozesses ist, beendet wird. Das System generiert dieses Debugereignis unmittelbar nach dem Aktualisieren des Exitcodes des Threads. <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**EXIT THREAD DEBUG \_ \_ \_ INFO-Struktur,**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) die den Exitcode angibt.<br/> Dieses Debugereignis tritt nicht auf, wenn der beendende Thread der letzte Thread eines Prozesses ist. In diesem Fall tritt stattdessen das Debugereignis EXIT \_ PROCESS \_ DEBUG EVENT \_ auf.<br/> Der Debugger gibt alle internen Strukturen, die dem Thread zugeordnet sind, nach Eingang dieses Debugereignis wieder auf. Das System schließt das Handle des Debuggers mit dem beendenden Thread. Der Debugger sollte dieses Handle nicht schließen.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| LADEN DES \_ \_ DLL-DEBUG-EREIGNISSES \_<br/>       | Wird immer dann generiert, wenn ein Prozess, der debuggt wird, eine DLL lädt. Dieses Debugereignis tritt auf, wenn das Systemlader Links zu einer DLL auflöset oder wenn der debuggte Prozess die [**LoadLibrary-Funktion**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) verwendet. Dieses Debugereignis tritt nur auf, wenn das System zum ersten Mal eine DLL an den virtuellen Adressraum eines Prozesses anfügen. <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**LOAD DLL DEBUG \_ \_ \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) Diese Struktur enthält ein Handle für die neu geladene DLL, die Basisadresse der DLL und andere Informationen, die die DLL beschreiben. Der Debugger sollte das Handle mit dem DLL-Handle schließen, während LOAD \_ DLL DEBUG EVENT verarbeitet \_ \_ wird.<br/> In der Regel lädt ein Debugger eine Symboltabelle, die der DLL zugeordnet ist, wenn dieses Debugereignis angezeigt wird.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| \_ \_ AUSGABEDEBUGZEICHENFOLGENEREIGNIS \_<br/>  | Wird generiert, wenn ein prozess, der debuggt wird, die <br/>[**OutputDebugString-Funktion.**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**OUTPUT DEBUG STRING \_ \_ \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) Diese Struktur gibt die Adresse, Länge und das Format der Debugzeichenfolge an.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| DEBUGEREIGNIS \_ "DLL \_ \_ ENTLADEN"<br/>     | Wird immer dann generiert, wenn ein Prozess, der debuggt wird, eine DLL mithilfe der [**FreeLibrary-Funktion entlädt.**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) Dieses Debugereignis tritt nur auf, wenn eine DLL zuletzt aus dem Adressraum eines Prozesses entladen wird (d. h., wenn die Nutzungsanzahl der DLL 0 ist). <br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**UNLOAD DLL DEBUG \_ \_ \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) Diese Struktur gibt die Basisadresse der DLL im Adressraum des Prozesses an, der die DLL entlädt.<br/> In der Regel entlädt ein Debugger eine Symboltabelle, die der DLL zugeordnet ist, wenn dieses Debugereignis empfangen wird.<br/> Wenn ein Prozess beendet wird, entlädt das System automatisch die DLLs des Prozesses, generiert jedoch kein UNLOAD \_ DLL \_ DEBUG \_ EVENT-Debugereignis.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| \_RIP-EREIGNIS<br/>                    | Wird immer dann generiert, wenn ein prozess, der debuggt wird, außerhalb des Steuerelements des Systemdebuggers abfälscht.<br/> Die [**DEBUG \_ EVENT-Struktur**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) enthält eine [**RIP \_ INFO-Struktur.**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) Diese Struktur gibt den Fehler und den Typ des Fehlers an.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
