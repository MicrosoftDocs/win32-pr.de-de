---
description: Ein Debugereignis ist ein Vorfall im debuggten Prozess, der bewirkt, dass das System den Debugger benachrichtigt.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Debugereignisse
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bee6d159dded992e56ac05bc1d751246cd051733
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104041333"
---
# <a name="debugging-events"></a>Debugereignisse

Ein Debugereignis ist ein Vorfall im debuggten Prozess, der bewirkt, dass das System den Debugger benachrichtigt. Zu debuggingereignissen zählen das Erstellen eines Prozesses, das Erstellen eines Threads, das Laden einer DLL (Dynamic-Link Library), das Entladen einer DLL, das Senden einer Ausgabe Zeichenfolge und das Erzeugen einer Ausnahme.

Wenn ein Debugereignis auftritt, während ein Debugger auf eins wartet, füllt das System die von [**waitfordebugevent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) angegebene [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur mit Informationen, die das Ereignis beschreiben.

Wenn das System den Debugger über ein Debugereignis benachrichtigt, werden auch alle Threads im betroffenen Prozess angehalten. Die Threads werden nicht fortgesetzt, bis der Debugger das debuggingereignis mithilfe von [**continuedebugevent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)fortsetzt. Die folgenden Debugereignisse können auftreten, während ein Prozess gedebuggt wird.



| Debugereignis                          | BESCHREIBUNG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \_ \_ prozessdebugereignis erstellen \_<br/> | Wird generiert, wenn ein neuer Prozess in einem debuggten Prozess erstellt wird oder wenn der Debugger mit dem Debuggen eines bereits aktiven Prozesses beginnt. Das System generiert dieses Debugereignis, bevor der Prozess im Benutzermodus ausgeführt wird und bevor das System andere Debugereignisse für den neuen Prozess generiert. <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine [**Create \_ Process \_ Debug \_ Info**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) -Struktur. Diese Struktur enthält ein Handle für den neuen Prozess, ein Handle für die Bilddatei des Prozesses, ein Handle für den anfänglichen Thread des Prozesses und weitere Informationen, die den neuen Prozess beschreiben.<br/> Das Handle für den Prozess verfügt über \_ Prozess \_ -VM-Lese-und Prozess- \_ VM- \_ Schreibzugriff. Wenn ein Debugger über diese Zugriffs Typen für einen Thread verfügt, kann er mithilfe der Funktionen " [**leseprocessmemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) " und "Write- [**processmemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) " den Prozess Speicher lesen und schreiben. Wenn das System zuvor ein Ereignis zum Beenden des \_ \_ \_ Debugereignisses gemeldet hat, schließt das System dieses Handle, wenn der Debugger die [**continuedebugevent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) -Funktion aufruft.<br/> Das Handle für die Bilddatei des Prozesses hat allgemeinen \_ Lesezugriff und wird für die Lese Freigabe geöffnet. Der Debugger sollte dieses Handle schließen, während das Erstellungs \_ Prozess- \_ Debugereignis verarbeitet wird \_ .<br/> Das Handle für den anfänglichen Thread des Prozesses verfügt über Thread- \_ get- \_ Kontext, Thread \_ Satz \_ Kontext und Thread \_ Suspend-anhaltezugriff \_ auf den Thread. Wenn ein Debugger diese Art von Zugriff auf einen Thread hat, kann er mithilfe der Funktionen [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) und [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) Lese-und Schreibvorgänge in die Register des Threads ausführen und den Thread mithilfe der Funktionen " [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) " und " [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) " unterbrechen und fortsetzen. Wenn das System zuvor ein Ereignis zum Beenden des \_ \_ \_ Debugereignisses gemeldet hat, schließt das System dieses Handle, wenn der Debugger die [**continuedebugevent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) -Funktion aufruft.<br/> |
| \_Thread- \_ \_ Debugereignis erstellen<br/>  | Wird generiert, wenn ein neuer Thread in einem debuggten Prozess erstellt wird oder wenn der Debugger mit dem Debuggen eines bereits aktiven Prozesses beginnt. Dieses Debugereignis wird generiert, bevor der neue Thread mit der Ausführung im Benutzermodus beginnt. <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine [**Create \_ Thread \_ Debug \_ Info**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) -Struktur. Diese Struktur enthält ein Handle für den neuen Thread und die Startadresse des Threads. Das Handle verfügt über \_ Thread \_ -Get-Kontext, Thread \_ Satz \_ Kontext und Thread \_ anhaltezugriff \_ auf den Thread. Wenn ein Debugger diese Art von Zugriff auf einen Thread hat, kann er mithilfe der Funktionen [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) und [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) Lese-und Schreibvorgänge in die Register des Threads ausführen und den Thread mithilfe der Funktionen " [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) " und " [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) " unterbrechen und fortsetzen.<br/> Wenn das System zuvor ein Exit \_ Thread \_ Debug- \_ Ereignis Ereignis gemeldet hat, schließt das System das Handle für den neuen Thread, wenn der Debugger die [**continuedebugevent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) -Funktion aufruft.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Ausnahme \_ - \_ Debugereignis<br/>       | Wird generiert, wenn im debuggten Prozess eine Ausnahme auftritt. Mögliche Ausnahmen sind der Versuch, auf nicht zugänglichen Speicher zuzugreifen, Haltepunkt Anweisungen auszuführen, den Versuch, eine Division durch Null auszuführen, oder eine andere Ausnahme, die bei der [strukturierten Ausnahmebehandlung](structured-exception-handling.md)angegeben wurde. <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine [**Ausnahme-Debug- \_ \_ Informations**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) Struktur. Diese Struktur beschreibt die Ausnahme, die das Debugereignis verursacht hat.<br/> Neben den Standard Ausnahmebedingungen kann beim Debuggen des Konsolen Prozesses ein zusätzlicher Ausnahme Code auftreten. Das System generiert einen \_ \_ Ausnahme Code für den dbg-Steuerungs-C, wenn Strg + c für einen Konsolen Prozess eingegeben wird, der Strg + c-Signale verarbeitet und gedebuggt wird. Dieser Ausnahme Code soll nicht von Anwendungen behandelt werden. Eine Anwendung sollte niemals einen Ausnahmehandler verwenden, um Sie zu behandeln. Sie wird nur für den Vorteil des-Debuggers ausgelöst und wird nur verwendet, wenn ein Debugger an den Konsolen Prozess angefügt wird.<br/> Wenn ein Prozess nicht gedebuggt wird oder der Debugger die dbg- \_ Steuerung \_ C-Ausnahme nicht behandelt (über den GN-Befehl) übergibt, wird die Liste der Handlerfunktionen der Anwendung durchsucht, wie für die [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) -Funktion dokumentiert.<br/> Wenn der Debugger die Ausnahme für den dbg- \_ Steuerungs- \_ C behandelt (über den Befehl "GH"), wird die STRG + C-Datei von einer Anwendung nicht bemerkt, außer in Code wie diesem.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Folglich kann der Debugger nicht verwendet werden, um zu verhindern, dass der Lesevorgang in diesem Code beendet wird.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| \_Debug- \_ \_ Debugereignis beenden<br/>   | Wird immer dann generiert, wenn der letzte Thread in einem debuggten Prozess beendet wird. Dieses Debugereignis tritt sofort auf, nachdem das System die DLLs des Prozesses entlädt und den Exitcode des Prozesses aktualisiert hat. <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine Beendigungs [**Prozess- \_ \_ \_ debuginfostruktur**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) , die den Exitcode angibt.<br/> Der Debugger hebt die Zuordnung aller internen Strukturen auf, die dem Prozess beim Empfang dieses Debugereignisses zugeordnet sind. Das System schließt den Debugger-Handle für den beendenden Prozess und alle Threads des Prozesses. Der Debugger sollte diese Handles nicht schließen.<br/> Der kernelmodusteil des herunter Fahrens des Prozesses kann erst abgeschlossen werden, wenn der Debugger, der dieses Ereignis empfängt, [**continuedebugevent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)aufruft. Bis dahin sind die Prozess Handles geöffnet, und der virtuelle Adressraum wird nicht freigegeben, sodass der Debugger den untergeordneten Prozess überprüfen kann. Um eine Benachrichtigung zu erhalten, wenn der kernelmodusteil des Prozess Beendigungs Vorgangs beendet ist, duplizieren Sie das mit Create \_ Process Debug Event zurückgegebene Handle \_ \_ , rufen Sie **continuedebugevent** auf, und warten Sie dann, bis das duplizierte Prozess Handle signalisiert wird.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| \_Thread \_ \_ Debugereignis beenden<br/>    | Wird generiert, wenn ein Thread, der Teil eines debuggten Prozesses ist, beendet wird. Das System generiert dieses Debugereignis sofort, nachdem es den Exitcode des Threads aktualisiert hat. <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine ExitThread- [**\_ \_ \_ debuginfostruktur**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) , die den Exitcode angibt.<br/> Dieses Debugereignis tritt nicht auf, wenn der letzte Thread eines Prozesses der letzte Thread ist. In diesem Fall \_ tritt stattdessen das Debugereignis für das Beendigungs Prozess- \_ \_ Debugereignis auf.<br/> Der Debugger hebt die Zuordnung aller internen Strukturen auf, die dem Thread beim Empfang dieses Debugereignisses zugeordnet sind. Das System schließt das Handle des Debuggers für den beenden enden Thread. Der Debugger sollte dieses Handle nicht schließen.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_dll- \_ \_ Debugereignis laden<br/>       | Wird generiert, wenn ein Prozess, der debuggt wird, eine DLL lädt Dieses Debugereignis tritt auf, wenn das System Lade Modul Links zu einer DLL auflöst oder der Debugprozess die [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) -Funktion verwendet. Dieses Debugereignis tritt nur auf, wenn das System zum ersten Mal eine DLL an den virtuellen Adressraum eines Prozesses anfügt. <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält die [**Debug- \_ \_ \_ Informationsstruktur Load dll**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) . Diese Struktur enthält ein Handle für die neu geladene DLL, die Basisadresse der dll und weitere Informationen, die die dll beschreiben. Der Debugger sollte das Handle für das dll-handle schließen, während \_ das \_ Debugereignis für die Last-dll verarbeitet \_<br/> In der Regel lädt ein Debugger beim Empfang dieses Debugereignisses eine Symboltabelle, die mit der DLL verknüpft ist.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Ausgabe- \_ Debug- \_ Zeichen folgen \_ Ereignis<br/>  | Wird generiert, wenn ein Prozess, der debuggt wird, das <br/>[**Outputdebug String**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) -Funktion. Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine [**Ausgabe-Debug-Zeichen folgen \_ \_ \_ Informations**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) Struktur. Diese Struktur gibt die Adresse, Länge und das Format der debugzeichenfolge an.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| \_dll- \_ \_ Debugereignis entladen<br/>     | Wird generiert, wenn ein Prozess, der debuggt wird, eine DLL mithilfe der [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) -Funktion entlädt. Dieses Debugereignis tritt nur auf, wenn eine DLL zum letzten Mal aus dem Adressraum eines Prozesses entladen wird (d. h., wenn die Verwendungs Anzahl der dll NULL ist). <br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält [**die \_ debuggingstruktur \_ \_ zum Entladen der dll**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) . Diese Struktur gibt die Basisadresse der dll im Adressraum des Prozesses an, der die dll entlädt.<br/> In der Regel entlädt ein Debugger beim Empfang dieses Debugereignisses eine Symboltabelle, die mit der DLL verknüpft ist.<br/> Wenn ein Prozess beendet wird, entlädt das System automatisch die DLLs des Prozesses, generiert jedoch kein \_ \_ Debugereignis zum Entladen des dll-Debuggens \_ .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| Ereignis "RIP" \_<br/>                    | Wird generiert, wenn ein Prozess, der debuggt wird, außerhalb der Steuerung des System Debuggers ausgeführt wird.<br/> Die [**Debug- \_ Ereignis**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) Struktur enthält eine [**RIP \_ Info**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) -Struktur. Diese Struktur gibt den Fehler und den Typ des Fehlers an.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
