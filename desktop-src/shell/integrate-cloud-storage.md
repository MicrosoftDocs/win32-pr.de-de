---
description: Zeigt, wie Sie sich als Synchronisierungs Stamm Anbieter registrieren und einen cloudspeicheranbieter in die Stamm Ebene des Navigationsbereichs integrieren.
ms.assetid: BB177EDC-8C88-4540-B2F8-994C1C8BA91C
title: Integrieren eines cloudspeicheranbieters
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21fdc5abfbf9881bfe23b00a924fce989aec7c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104552105"
---
# <a name="integrate-a-cloud-storage-provider"></a><span data-ttu-id="7bafd-103">Integrieren eines cloudspeicheranbieters</span><span class="sxs-lookup"><span data-stu-id="7bafd-103">Integrate a Cloud Storage Provider</span></span>

<span data-ttu-id="7bafd-104">Wenn Sie über einen cloudspeicheranbieter verfügen, müssen Sie einige Schritte ausführen, um dem Benutzer eine konsistente und bevorzugte Benutzerfunktion bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-104">When you have a cloud storage provider, there are a couple of steps you should take in order to provide a consistent and preferred experience for the user.</span></span> <span data-ttu-id="7bafd-105">Diese beiden Dinge werden als Synchronisierungs Stamm Anbieter registriert und die Anwendung in die Stamm Ebene des Navigationsbereichs integriert.</span><span class="sxs-lookup"><span data-stu-id="7bafd-105">These two things are registering as a sync root provider and integrating your application into the root level of the Navigation Pane.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7bafd-106">Das Integrieren Ihres cloudspeicheranbieters wird nur ab Windows 10 unterstützt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-106">Integrating your cloud storage provider is only supported starting in Windows 10.</span></span>

 

<span data-ttu-id="7bafd-107">Als erstes muss als Synchronisierungs Stamm Anbieter registriert werden.</span><span class="sxs-lookup"><span data-stu-id="7bafd-107">The first thing is to register as a sync root provider.</span></span> <span data-ttu-id="7bafd-108">Dadurch wird die Windows-Shell über Ihre Anwendung informiert, und Ihre Anwendung ist für das Synchronisieren von Dateien unter Ihrem Synchronisierungs Stamm zuständig.</span><span class="sxs-lookup"><span data-stu-id="7bafd-108">This lets the Windows Shell know about your application and that your application will be responsible for synchronizing files under your sync root.</span></span> <span data-ttu-id="7bafd-109">Dies ermöglicht anderen Anwendungen außerdem, dass Sie diese Dateien synchronisieren, damit Sie entsprechend reagieren können.</span><span class="sxs-lookup"><span data-stu-id="7bafd-109">This will also let other applications know that you are synchronizing these files so that they can respond appropriately.</span></span> <span data-ttu-id="7bafd-110">Andere Anwendungen können dann mithilfe von [**storagefile. Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) den [**Display Name**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) und die [**ID**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) der Anwendung erhalten.</span><span class="sxs-lookup"><span data-stu-id="7bafd-110">Other applications can then use [**StorageFile.Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) to get the [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) and [**Id**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) of your application.</span></span>

<span data-ttu-id="7bafd-111">Sie müssen mehrere Registrierungseinträge erstellen, um als Synchronisierungs Stamm Anbieter registriert werden zu können.</span><span class="sxs-lookup"><span data-stu-id="7bafd-111">In order to register as a sync root provider, you will need to create multiple registry entries.</span></span> <span data-ttu-id="7bafd-112">Vor dem Bereitstellen der Liste der Schlüssel-Wert-Paare sollten Sie die folgenden Platzhalter durch ihre eigenen Anwendungsdaten ersetzen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-112">Before providing the list of key-value pairs, here are some placeholders that you should replace with your own application data.</span></span>

-   <span data-ttu-id="7bafd-113">*\[ Speicher Anbieter- \] ID*: der Name Ihres cloudspeicheranbieters.</span><span class="sxs-lookup"><span data-stu-id="7bafd-113">*\[storage provider ID\]*: The name of your cloud storage provider.</span></span> <span data-ttu-id="7bafd-114">Dieser Name sollte unabhängig von der Version der Anwendung konsistent sein.</span><span class="sxs-lookup"><span data-stu-id="7bafd-114">This name should be consistent regardless of the version of your application.</span></span> <span data-ttu-id="7bafd-115">Ein Beispiel hierfür ist onedrive.</span><span class="sxs-lookup"><span data-stu-id="7bafd-115">An example of this is OneDrive.</span></span>
-   <span data-ttu-id="7bafd-116">*\[ Windows- \] sid*: die eindeutige Windows-SID, die den Benutzer identifiziert.</span><span class="sxs-lookup"><span data-stu-id="7bafd-116">*\[Windows SID\]*: The unique Windows SID that identifies the user.</span></span> <span data-ttu-id="7bafd-117">Wenn Ihre APP mehrere Installationen für mehrere Benutzer auf einem einzelnen Computer unterstützt, ist dieses Element erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7bafd-117">If your app supports multiple installations for multiple users on a single machine, this piece is required.</span></span>
-   <span data-ttu-id="7bafd-118">*\[ Konto- \] ID*: der Dienstanbieter Bezeichner für das aktuelle Konto dieses Benutzers.</span><span class="sxs-lookup"><span data-stu-id="7bafd-118">*\[Account ID\]*: The service provider identifier for this user's current account.</span></span> <span data-ttu-id="7bafd-119">Einige Anbieter benötigen die Möglichkeit, mehrere Synchronisierungs Stämme für einen Benutzer bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-119">Some providers require the ability to provide multiple synchronization roots for a user.</span></span> <span data-ttu-id="7bafd-120">Ein Beispiel hierfür ist ein work-und ein persönliches Konto.</span><span class="sxs-lookup"><span data-stu-id="7bafd-120">One example of this is a work and a personal account.</span></span> <span data-ttu-id="7bafd-121">Mit der *Konto-ID* können Sie mehrere Konten für einen Benutzer registrieren.</span><span class="sxs-lookup"><span data-stu-id="7bafd-121">The *Account ID* enables you to have multiple accounts registered for one user.</span></span> <span data-ttu-id="7bafd-122">Wenn Ihr Anbieter mehrere Synchronisierungs Stämme pro Benutzer unterstützt, ist dieses Element erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7bafd-122">If your provider does support multiple synchronization roots per user, this piece is required.</span></span>

<span data-ttu-id="7bafd-123">Diese Platzhalter werden kombiniert, um die Synchronisierungs Stamm-ID zu bilden. Sie müssen eine **!**</span><span class="sxs-lookup"><span data-stu-id="7bafd-123">These placeholders are combined together to form the sync root id. You must place a **!**</span></span> <span data-ttu-id="7bafd-124">Zeichen zwischen den einzelnen Platzhaltern beim bilden der Synchronisierungs Stamm-ID. Hier sind die Schlüssel-Wert-Paare, die erstellt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-124">character between each of the placeholders when forming the sync root id. Here are the key-value pairs that need to be created.</span></span>

-   <span data-ttu-id="7bafd-125">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ syncrootmanager \\**-_\[ Speicher Anbieter \] -ID_*_!_* _\[ Windows- \] sid_*_!_* _\[ Konto- \] ID_*_\\ displaynameresource_* : verweist auf die Ressource, in der die Windows-Shell oder andere Anwendungen einen benutzerfreundlichen Namen für den Synchronisierungs Stamm erhalten können.</span><span class="sxs-lookup"><span data-stu-id="7bafd-125">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\DisplayNameResource_* : Points to the resource where the Windows Shell or other applications can get a user-friendly name for your sync root.</span></span>
-   <span data-ttu-id="7bafd-126">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ syncrootmanager \\**-_\[ Speicher Anbieter \] -ID_*_!_* _\[ Windows- \] sid_*_!_* _\[ Konto- \] ID_*_\\ IconResource_* : verweist auf die Ressource, in der die Windows-Shell oder andere Anwendungen ein Symbol für den Synchronisierungs Stamm erhalten können.</span><span class="sxs-lookup"><span data-stu-id="7bafd-126">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\IconResource_* : Points to the resource where the Windows Shell or other applications can get an icon for your sync root.</span></span>
-   <span data-ttu-id="7bafd-127">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ syncrootmanager \\**-_\[ Speicher Anbieter \] -ID_*_!_* _\[ Windows- \] sid_*_!_* _\[ Konto- \] ID_*_\\ usersyncroots \\_*_\[ Windows \] sid_ : der Speicherort auf dem Datenträger, auf dem sich der Synchronisierungs Stamm befindet.</span><span class="sxs-lookup"><span data-stu-id="7bafd-127">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\UserSyncRoots\\_*_\[Windows SID\]_ : The location on disk where the sync root is located.</span></span>

<span data-ttu-id="7bafd-128">Wenn Sie sich nicht als Synchronisierungs Stamm Anbieter registrieren, sollten Sie außerdem den Benutzern einfachen Zugriff auf die von Ihnen bereitgestellten Daten gewähren.</span><span class="sxs-lookup"><span data-stu-id="7bafd-128">Other than registering as a sync root provider, you also want users to have easy access to the data you provide.</span></span> <span data-ttu-id="7bafd-129">Der Datei-Explorer-Namespace ist so konzipiert, dass er eine Methode für diesen einfachen Zugriff bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-129">The File Explorer namespace is designed to provide a method for that easy access.</span></span> <span data-ttu-id="7bafd-130">Wenn Sie eine Namespace Erweiterung für Ihren Anbieter erstellen und in das Datei-Explorer-Fenster einbinden, können Benutzer mit der Stamm Ebene ihrer Dienste genauso interagieren, wie Sie in anderen Datei-Explorer-Elementen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="7bafd-130">Creating a namespace extension for your provider and incorporating it into the File Explorer window will allow users to interact with the root level of your services just like they are used to with other File Explorer items.</span></span> <span data-ttu-id="7bafd-131">In diesem Thema wird erläutert, wie Sie den Datei-Explorer-Namespace erweitern, damit der Anbieter auf der Stamm Ebene im Navigationsbereich angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-131">This topic explains how to extend the File Explorer namespace so that your provider will appear at the root level in the Navigation Pane.</span></span>

<span data-ttu-id="7bafd-132">Der Navigationsbereich des Datei-Explorer-Fensters ist der Teil des Fensters, der auf der linken Seite angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-132">The Navigation Pane of the File Explorer window is the portion of the window displayed on the left side.</span></span> <span data-ttu-id="7bafd-133">In der folgenden Abbildung sehen Sie die Namespace Struktur für diesen Benutzer.</span><span class="sxs-lookup"><span data-stu-id="7bafd-133">In the image below, you can see the namespace structure for this user.</span></span> <span data-ttu-id="7bafd-134">Die Stamm Ebene im Navigationsbereich umfasst die Objekte für **onedrive**, **diesen PC** und das **Netzwerk**.</span><span class="sxs-lookup"><span data-stu-id="7bafd-134">The root level on the Navigation Pane includes the objects for **OneDrive**, **This PC**, and **Network**.</span></span> <span data-ttu-id="7bafd-135">Wenn Sie die folgenden Schritte ausführen, wird die Erweiterung der gleichen Ebene hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-135">Following these steps will add your extension to the same level.</span></span>

![Navigationsbereich](images/navigationpane.png)

<span data-ttu-id="7bafd-137">Um die Erweiterung dem Navigationsbereich hinzuzufügen, benötigen Sie Folgendes, bevor Sie die Registrierung bearbeiten:</span><span class="sxs-lookup"><span data-stu-id="7bafd-137">In order to add your extension to the Navigation Pane, you will need to have the following before editing the registry:</span></span>

-   <span data-ttu-id="7bafd-138">Ein Dateisystem Ordner, der die Daten enthält, die dem Benutzer angezeigt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-138">A file system folder that contains the data to display to the user.</span></span>

-   <span data-ttu-id="7bafd-139">Der Name des clouddiensts, der im Navigationsbereich angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-139">Name of your cloud service that will appear in the Navigation Pane.</span></span> <span data-ttu-id="7bafd-140">Dies kann auch der Name der Instanz sein, wenn Ihr Dienst mehrere Konten unterstützt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-140">This could also be the name of the instance if your service supports multiple accounts.</span></span>

-   <span data-ttu-id="7bafd-141">Identifizierbares Symbol für Ihre Anwendung.</span><span class="sxs-lookup"><span data-stu-id="7bafd-141">Identifiable icon for your application.</span></span>

-   <span data-ttu-id="7bafd-142">Eine CLSID für Ihre Anwendung.</span><span class="sxs-lookup"><span data-stu-id="7bafd-142">A CLSID for your application.</span></span> <span data-ttu-id="7bafd-143">Eine Möglichkeit, eine CLSID für Ihre Anwendung zu generieren, besteht darin, die Uuidgen.exe zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="7bafd-143">One way to generate a CLSID for your application is to use the Uuidgen.exe.</span></span> <span data-ttu-id="7bafd-144">Weitere Informationen zu CLSID finden Sie unter [CLSID-Schlüssel](../com/clsid-key-hklm.md) .</span><span class="sxs-lookup"><span data-stu-id="7bafd-144">See [CLSID Key](../com/clsid-key-hklm.md) for more information about CLSID.</span></span>

<span data-ttu-id="7bafd-145">Mit den folgenden Schritten können Sie die Registrierung ändern, um die erforderlichen Informationen in den Datei-Explorer-Namespace zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-145">The following steps modify the registry in order to get the necessary information into the File Explorer namespace.</span></span> <span data-ttu-id="7bafd-146">In den einzelnen Schritten werden drei Dinge ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-146">The specific steps do three things.</span></span>

-   <span data-ttu-id="7bafd-147">Erstellen Sie Schlüssel in der Registrierung für Ihre CLSID, die Werte für den Namen und das Symbol für Ihre Erweiterung sowie andere Informationen enthält, die das Verhalten definieren.</span><span class="sxs-lookup"><span data-stu-id="7bafd-147">Create keys in the registry for your CLSID that includes values for the name and icon for your extension as well as other information that defines its behavior.</span></span>

-   <span data-ttu-id="7bafd-148">Konfigurieren Sie die Erweiterung so, dass Sie in den Navigationsbereich am richtigen Speicherort und mit der richtigen Sichtbarkeit integriert wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-148">Configure your extension to be integrated into the Navigation Pane in the proper location and with the proper visibility.</span></span>

-   <span data-ttu-id="7bafd-149">Konfigurieren Sie die Erweiterung so, dass Sie das erwartete Verhalten für ein Element im Navigationsbereich hat.</span><span class="sxs-lookup"><span data-stu-id="7bafd-149">Configure your extension to have the expected behavior for an element in the navigation pane.</span></span>

<span data-ttu-id="7bafd-150">Diese Anweisungen verwenden speziell den **reg.exe** -Befehl, Sie können jedoch ein beliebiges Registrierungs Bearbeitungs Tool Ihrer Wahl verwenden.</span><span class="sxs-lookup"><span data-stu-id="7bafd-150">These instructions specifically use the **reg.exe** command, however you can use any registry editing tool of your choice.</span></span> <span data-ttu-id="7bafd-151">Sie können diese Schritte sogar in ein Installationsprogramm integrieren, das die Registrierung Programm gesteuert aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="7bafd-151">You can even integrate these steps into an installer that updates the registry programmatically.</span></span>

## <a name="instructions"></a><span data-ttu-id="7bafd-152">Instructions</span><span class="sxs-lookup"><span data-stu-id="7bafd-152">Instructions</span></span>

### <a name="step-1-add-your-clsid-and-name-your-extension"></a><span data-ttu-id="7bafd-153">Schritt 1: Hinzufügen der CLSID und benennen der Erweiterung</span><span class="sxs-lookup"><span data-stu-id="7bafd-153">Step 1: Add your CLSID and name your extension</span></span>

<span data-ttu-id="7bafd-154">Fügen Sie der Registrierung unter HKEY Current User den Namen ihrer Erweiterung hinzu \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="7bafd-154">Add the name of your extension to the registry under HKEY\_CURRENT\_USER.</span></span> <span data-ttu-id="7bafd-155">Außerdem fügen Sie den eindeutigen Bezeichner für diese Erweiterung hinzu.</span><span class="sxs-lookup"><span data-stu-id="7bafd-155">You will also be adding the unique identifier for this extension.</span></span> <span data-ttu-id="7bafd-156">Es ist möglich, mehr als eine Erweiterung pro Benutzer hinzuzufügen. in diesem Fall benötigen Sie jedoch für jede Erweiterung einen eindeutigen Namen und Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="7bafd-156">It is possible to add more than one extension per user, but in that case you will need a unique name and identifier for each extension.</span></span> <span data-ttu-id="7bafd-157">Dieser Name und Bezeichner müssen in den restlichen Schritten einheitlich sein.</span><span class="sxs-lookup"><span data-stu-id="7bafd-157">This name and identifier must be consistent throughout the rest of these steps.</span></span> <span data-ttu-id="7bafd-158">In diesem Beispiel lautet der Name *mycloudstorageapp*.</span><span class="sxs-lookup"><span data-stu-id="7bafd-158">In this example, the name is *MyCloudStorageApp*.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7bafd-159">Der in diesen Schritten angegebene Bezeichner (0672a6d1-a6e0-40fe-AB16-s25badc6d9e3) wird nur als Beispiel verwendet.</span><span class="sxs-lookup"><span data-stu-id="7bafd-159">The identifier provided (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) in these steps is just used as a sample.</span></span> <span data-ttu-id="7bafd-160">Sie müssen dies in Ihre eindeutige CLSID ändern.</span><span class="sxs-lookup"><span data-stu-id="7bafd-160">You will need to change this to your unique CLSID.</span></span>

 

<span data-ttu-id="7bafd-161">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3}/ve/t reg \_ SZ/d "mycloudstorageapp"/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-161">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d "MyCloudStorageApp" /f**</span></span>

### <a name="step-2-set-the-image-for-your-icon"></a><span data-ttu-id="7bafd-162">Schritt 2: Festlegen des Bilds für das Symbol</span><span class="sxs-lookup"><span data-stu-id="7bafd-162">Step 2: Set the image for your icon</span></span>

<span data-ttu-id="7bafd-163">Geben Sie den Pfad für das Symbol an, das im Navigationsbereich angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="7bafd-163">Provide the path to the icon that should be displayed in the Navigation Pane.</span></span> <span data-ttu-id="7bafd-164">Im folgenden Beispiel verweist *1043* auf den Ressourcen Bezeichner für das Symbol in der angegebenen DLL.</span><span class="sxs-lookup"><span data-stu-id="7bafd-164">In the example below, *1043* refers to the resource identifier for the icon in the indicated DLL.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="7bafd-165">Sie müssen den Bildpfad aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="7bafd-165">You need to update the image path.</span></span> <span data-ttu-id="7bafd-166">Er sollte auf einen generischen Pfad zeigen, in dem Ihre APP ein Image installiert hat.</span><span class="sxs-lookup"><span data-stu-id="7bafd-166">It should point to a generic path where your app installed an image.</span></span>

 

<span data-ttu-id="7bafd-167">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-f25badc6d9e3} \\ DefaultIcon/ve/t reg \_ Expand \_ SZ/d%% systemroot%% \\ system32 \\imageres.dll,-1043/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-167">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\DefaultIcon /ve /t REG\_EXPAND\_SZ /d %%SystemRoot%%\\system32\\imageres.dll,-1043 /f**</span></span>

### <a name="step-3-add-your-extension-to-the-navigation-pane-and-make-it-visible"></a><span data-ttu-id="7bafd-168">Schritt 3: Fügen Sie die Erweiterung dem Navigationsbereich hinzu, und machen Sie sie sichtbar.</span><span class="sxs-lookup"><span data-stu-id="7bafd-168">Step 3: Add your extension to the Navigation Pane and make it visible</span></span>

<span data-ttu-id="7bafd-169">Wenn dieser Wert auf "0x1" festgelegt wird, wird angegeben, dass die Erweiterung fixiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="7bafd-169">Setting this value to 0x1 indicates that the extension should be pinned.</span></span> <span data-ttu-id="7bafd-170">Dadurch wird sichergestellt, dass Sie Benutzern standardmäßig angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-170">This will make sure it is shown to users by default.</span></span> <span data-ttu-id="7bafd-171">Die Standardkonfiguration für einen Benutzer besteht darin, dass nur angeheftete Elemente im Navigationsbereich angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="7bafd-171">The default configuration for a user is that only pinned items will be shown in the Navigation Pane.</span></span> <span data-ttu-id="7bafd-172">Benutzer können diese Einstellung ändern, indem Sie mit der rechten Maustaste in den Navigationsbereich klicken und **alle Ordner anzeigen** auswählen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-172">A user can change that setting by right-clicking in the Navigation Pane and selecting **Show all folders**.</span></span> <span data-ttu-id="7bafd-173">Wenn Sie die Erweiterung nicht anheften möchten, können Sie diesen Wert auf 0x0 festlegen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-173">If you don't want to pin your extension, you can set this value to 0x0.</span></span> <span data-ttu-id="7bafd-174">Dadurch wird die Erweiterung nicht entfernt, sondern es wird lediglich verhindert, dass Sie standardmäßig für den Benutzer angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-174">That will not remove your extension, but merely prevent it from being displayed to the user by default.</span></span>

<span data-ttu-id="7bafd-175">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3}/v System. ispinnedtonamespacetree/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-175">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v System.IsPinnedToNameSpaceTree /t REG\_DWORD /d 0x1 /f**</span></span>

### <a name="step-4-set-the-location-for-your-extension-in-the-navigation-pane"></a><span data-ttu-id="7bafd-176">Schritt 4: Festlegen des Speicher Orts für die Erweiterung im Navigationsbereich</span><span class="sxs-lookup"><span data-stu-id="7bafd-176">Step 4: Set the location for your extension in the Navigation Pane</span></span>

<span data-ttu-id="7bafd-177">Dies ist wichtig, um sicherzustellen, dass der Navigationsbereich eine konsistente Benutzerfunktion bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-177">This is critical in order to make sure the Navigation Pane provides a consistent experience for the user.</span></span>

<span data-ttu-id="7bafd-178">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3}/v sortorderindex/t reg \_ DWORD/d 0x42/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-178">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v SortOrderIndex /t REG\_DWORD /d 0x42 /f**</span></span>

### <a name="step-5-provide-the-dll-that-hosts-your-extension"></a><span data-ttu-id="7bafd-179">Schritt 5: Bereitstellen der dll, die die Erweiterung hostet.</span><span class="sxs-lookup"><span data-stu-id="7bafd-179">Step 5: Provide the dll that hosts your extension.</span></span>

<span data-ttu-id="7bafd-180">Verwenden Sie die shell32.dll, um Windows-Standardordner zu emulieren.</span><span class="sxs-lookup"><span data-stu-id="7bafd-180">Use the shell32.dll to emulate default windows folders.</span></span> <span data-ttu-id="7bafd-181">Ändern Sie dies nur, wenn Sie einen bestimmten Grund dafür haben und mit Namespace Erweiterungen vertraut sind.</span><span class="sxs-lookup"><span data-stu-id="7bafd-181">Only change this if you have a specific reason to do so and are familiar with namespace extensions.</span></span>

<span data-ttu-id="7bafd-182">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-f25badc6d9e3} \\ InProcServer32/ve/t reg \_ Expand \_ SZ/d%% systemroot%% \\ system32 \\shell32.dll/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-182">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\InProcServer32 /ve /t REG\_EXPAND\_SZ /d %%systemroot%%\\system32\\shell32.dll /f**</span></span>

### <a name="step-6-define-the-instance-object"></a><span data-ttu-id="7bafd-183">Schritt 6: Definieren des Instanzobjekts</span><span class="sxs-lookup"><span data-stu-id="7bafd-183">Step 6: Define the instance object</span></span>

<span data-ttu-id="7bafd-184">Geben Sie an, dass die Namespace Erweiterung wie andere Datei Ordnerstrukturen im Datei-Explorer funktionieren soll.</span><span class="sxs-lookup"><span data-stu-id="7bafd-184">Indicate that your namespace extension should function like other file folder structures in File Explorer.</span></span> <span data-ttu-id="7bafd-185">Weitere Informationen zu shellinstanzobjekten finden Sie unter [Erstellen von Shellerweiterungen mit shellinstanzobjekten](/previous-versions/ms997573(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="7bafd-185">For more information about shell instance objects, see [Creating Shell Extensions with Shell Instance Objects](/previous-versions/ms997573(v=msdn.10)).</span></span>

<span data-ttu-id="7bafd-186">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3} \\ instance/v CLSID/t reg \_ SZ/d {0e5aae11-a475-4c5b-ab00-c05de400274e}/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-186">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance /v CLSID /t REG\_SZ /d {0E5AAE11-A475-4c5b-AB00-C66DE400274E} /f**</span></span>

### <a name="step-7-provide-the-file-system-attributes-of-the-target-folder"></a><span data-ttu-id="7bafd-187">Schritt 7: Bereitstellen der Dateisystem Attribute des Ziel Ordners</span><span class="sxs-lookup"><span data-stu-id="7bafd-187">Step 7: Provide the file system attributes of the target folder</span></span>

<span data-ttu-id="7bafd-188">Dies ist erforderlich, um sicherzustellen, dass der Datei-Explorer für Benutzer eine konsistente und erwartete Benutzerfunktion bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-188">This is required to make sure that the File Explorer provides a consistent and expected experience for users.</span></span> <span data-ttu-id="7bafd-189">Dieser Befehl legt das **Datei \_ Attribut \_ Verzeichnis** und das **Datei Attribut "schreibgeschützt \_ \_**" fest, bei denen es sich beide um [**Datei Attribut Konstanten**](../fileio/file-attribute-constants.md)handelt.</span><span class="sxs-lookup"><span data-stu-id="7bafd-189">This command sets **FILE\_ATTRIBUTE\_DIRECTORY** and **FILE\_ATTRIBUTE\_READONLY**, both of which are [**File Attribute Constants**](../fileio/file-attribute-constants.md).</span></span>

<span data-ttu-id="7bafd-190">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3} \\ instance \\ initpropertybag/v Attribute/t reg \_ DWORD/d 0x11/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-190">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v Attributes /t REG\_DWORD /d 0x11 /f**</span></span>

### <a name="step-8-set-the-path-for-the-sync-root"></a><span data-ttu-id="7bafd-191">Schritt 8: Festlegen des Pfads für den Synchronisierungs Stamm</span><span class="sxs-lookup"><span data-stu-id="7bafd-191">Step 8: Set the path for the sync root</span></span>

<span data-ttu-id="7bafd-192">Legen Sie den Pfad für den Synchronisierungs Stamm fest.</span><span class="sxs-lookup"><span data-stu-id="7bafd-192">Set the path for the sync root.</span></span>

<span data-ttu-id="7bafd-193">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3} \\ instance \\ initpropertybag/v targetfolderpath/t reg \_ Expand \_ SZ/d%% User Profile%% \\ mycloudstorageapp/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-193">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v TargetFolderPath /t REG\_EXPAND\_SZ /d %%USERPROFILE%%\\MyCloudStorageApp /f**</span></span>

### <a name="step-9-set-appropriate-shell-flags"></a><span data-ttu-id="7bafd-194">Schritt 9: Festlegen geeigneter shellflags</span><span class="sxs-lookup"><span data-stu-id="7bafd-194">Step 9: Set appropriate shell flags</span></span>

<span data-ttu-id="7bafd-195">Legen Sie einige Flags fest, die für das Anheften der Namespace Erweiterung an die Struktur des Datei-Explorers</span><span class="sxs-lookup"><span data-stu-id="7bafd-195">Set some flags necessary to pin your namespace extension to the File Explorer tree.</span></span>

<span data-ttu-id="7bafd-196">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3} \\ ShellFolder/v foldervalueflags/t reg \_ DWORD/d 0x28/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-196">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v FolderValueFlags /t REG\_DWORD /d 0x28 /f**</span></span>

### <a name="step-10-set-the-appropriate-flags-to-control-your-shell-behavior"></a><span data-ttu-id="7bafd-197">Schritt 10: Festlegen der geeigneten Flags, um das shellverhalten zu steuern</span><span class="sxs-lookup"><span data-stu-id="7bafd-197">Step 10: Set the appropriate flags to control your shell behavior</span></span>

<span data-ttu-id="7bafd-198">Legen Sie die entsprechenden [**sfgao**](sfgao.md) -Flags fest.</span><span class="sxs-lookup"><span data-stu-id="7bafd-198">Set the appropriate [**SFGAO**](sfgao.md) flags.</span></span> <span data-ttu-id="7bafd-199">Die relevanten Flags sind sfgao \_ canCopy, sfgao \_ CANLINK, sfgao \_ Storage, sfgao \_ haspropsheet, sfgao \_ storagevorgänger, sfgao \_ filesysancestor, sfgao \_ Folder, sfgao \_ File System und sfgao \_ hassubfolder.</span><span class="sxs-lookup"><span data-stu-id="7bafd-199">The relevant flags are SFGAO\_CANCOPY, SFGAO\_CANLINK, SFGAO\_STORAGE, SFGAO\_HASPROPSHEET, SFGAO\_STORAGEANCESTOR, SFGAO\_FILESYSANCESTOR, SFGAO\_FOLDER, SFGAO\_FILESYSTEM, and SFGAO\_HASSUBFOLDER.</span></span>

<span data-ttu-id="7bafd-200">**REG add HKCU \\ Software \\ Classes \\ CLSID \\ {0672a6d1-a6e0-40fe-AB16-s25badc6d9e3} \\ ShellFolder/v Attribute/t reg \_ DWORD/d 0xF 080004d/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-200">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v Attributes /t REG\_DWORD /d 0xF080004D /f**</span></span>

### <a name="step-11-register-your-extension-in-the-namespace-root"></a><span data-ttu-id="7bafd-201">Schritt 11: Registrieren der Erweiterung im Namespace Stamm</span><span class="sxs-lookup"><span data-stu-id="7bafd-201">Step 11: Register your extension in the namespace root</span></span>

<span data-ttu-id="7bafd-202">Konfigurieren Sie die Namespace Erweiterung als untergeordnetes Element des Desktop Ordners.</span><span class="sxs-lookup"><span data-stu-id="7bafd-202">Configure the namespace extension to be a child of the desktop folder.</span></span>

<span data-ttu-id="7bafd-203">**REG add HKCU \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ Desktop \\ Namespace \\ {0672a6d1-a6e0-40fe-AB16-f 25badc6d9e3}/ve/t reg \_ SZ/d mycloudstorageapp/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-203">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Desktop\\NameSpace\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d MyCloudStorageApp /f**</span></span>

### <a name="step-12-hide-your-extension-from-the-desktop"></a><span data-ttu-id="7bafd-204">Schritt 12: Ausblenden der Erweiterung auf dem Desktop</span><span class="sxs-lookup"><span data-stu-id="7bafd-204">Step 12: Hide your extension from the Desktop</span></span>

<span data-ttu-id="7bafd-205">Es ist wichtig, dass die Erweiterung nur im Navigationsbereich des Datei-Explorers angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="7bafd-205">It is important that your extension only appears on the Navigation Pane of the File Explorer.</span></span> <span data-ttu-id="7bafd-206">Eine Namespace Erweiterung funktioniert nicht wie eine normale Verknüpfung.</span><span class="sxs-lookup"><span data-stu-id="7bafd-206">A namespace extension does not function like a normal shortcut.</span></span> <span data-ttu-id="7bafd-207">Daher sollten Sie diese Methode nicht verwenden, um eine Desktop Verknüpfung zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7bafd-207">Therefore, you should not use this method to create a Desktop shortcut.</span></span>

<span data-ttu-id="7bafd-208">**REG add HKCU \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ hidedesktopsymbolen \\ newstartpanel/v {0672a6d1-a6e0-40fe-AB16-f 25badc6d9e3}/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="7bafd-208">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\HideDesktopIcons\\NewStartPanel /v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /t REG\_DWORD /d 0x1 /f**</span></span>

 

 
