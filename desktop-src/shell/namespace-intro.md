---
description: Der Shell-Namespace organisiert das Dateisystem und andere Objekte, die von der Shell verwaltet werden, in einer einzigen Struktur strukturierten Hierarchie. Konzeptionell handelt es sich um eine größere und inklusiver Version des Dateisystems.
ms.assetid: 539c4455-e1c7-45a0-b3c3-781f2b7a1617
title: Einführung in den Shellnamespace
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 28b9ccb87cc67c025f09233128780545d610f90d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104344149"
---
# <a name="introduction-to-the-shell-namespace"></a><span data-ttu-id="e02a5-104">Einführung in den Shellnamespace</span><span class="sxs-lookup"><span data-stu-id="e02a5-104">Introduction to the Shell Namespace</span></span>

<span data-ttu-id="e02a5-105">Der Shell- *Namespace* organisiert das Dateisystem und andere Objekte, die von der Shell verwaltet werden, in einer einzigen Struktur strukturierten Hierarchie.</span><span class="sxs-lookup"><span data-stu-id="e02a5-105">The Shell *namespace* organizes the file system and other objects managed by the Shell into a single tree-structured hierarchy.</span></span> <span data-ttu-id="e02a5-106">Konzeptionell handelt es sich um eine größere und inklusiver Version des Dateisystems.</span><span class="sxs-lookup"><span data-stu-id="e02a5-106">Conceptually, it is a larger and more inclusive version of the file system.</span></span>

-   [<span data-ttu-id="e02a5-107">Introduction (Einführung)</span><span class="sxs-lookup"><span data-stu-id="e02a5-107">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="e02a5-108">Identifizieren von Namespace Objekten</span><span class="sxs-lookup"><span data-stu-id="e02a5-108">Identifying Namespace Objects</span></span>](#identifying-namespace-objects)
    -   [<span data-ttu-id="e02a5-109">Element-IDs</span><span class="sxs-lookup"><span data-stu-id="e02a5-109">Item IDs</span></span>](#item-ids)
    -   [<span data-ttu-id="e02a5-110">Liste der Element-IDs</span><span class="sxs-lookup"><span data-stu-id="e02a5-110">Item ID Lists</span></span>](#item-id-lists)
    -   [<span data-ttu-id="e02a5-111">PIDLs</span><span class="sxs-lookup"><span data-stu-id="e02a5-111">PIDLs</span></span>](#pidls)
    -   [<span data-ttu-id="e02a5-112">Zuordnen von pidls</span><span class="sxs-lookup"><span data-stu-id="e02a5-112">Allocating PIDLs</span></span>](#allocating-pidls)

## <a name="introduction"></a><span data-ttu-id="e02a5-113">Einführung</span><span class="sxs-lookup"><span data-stu-id="e02a5-113">Introduction</span></span>

<span data-ttu-id="e02a5-114">Eine der Hauptaufgaben der Shell besteht darin, den Zugriff auf die Vielzahl von Objekten zu verwalten und bereitzustellen, aus denen das System besteht.</span><span class="sxs-lookup"><span data-stu-id="e02a5-114">One of the primary responsibilities of the Shell is managing and providing access to the wide variety of objects that make up the system.</span></span> <span data-ttu-id="e02a5-115">Die häufigsten und vertrauten Objekte sind die Ordner und Dateien, die sich auf Computer Laufwerken befinden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-115">The most numerous and familiar of these objects are the folders and files that reside on computer disk drives.</span></span> <span data-ttu-id="e02a5-116">Die Shell verwaltet jedoch auch eine Reihe von nicht Dateisystemen oder *virtuellen* Objekten.</span><span class="sxs-lookup"><span data-stu-id="e02a5-116">However, the Shell manages a number of nonfile system, or *virtual* objects, as well.</span></span> <span data-ttu-id="e02a5-117">Beispiele hierfür sind:</span><span class="sxs-lookup"><span data-stu-id="e02a5-117">Some examples include:</span></span>

-   <span data-ttu-id="e02a5-118">Netzwerkdrucker</span><span class="sxs-lookup"><span data-stu-id="e02a5-118">Network printers</span></span>
-   <span data-ttu-id="e02a5-119">Andere vernetzte Computer</span><span class="sxs-lookup"><span data-stu-id="e02a5-119">Other networked computers</span></span>
-   <span data-ttu-id="e02a5-120">System Steuerungsanwendungen</span><span class="sxs-lookup"><span data-stu-id="e02a5-120">Control Panel applications</span></span>
-   <span data-ttu-id="e02a5-121">Der Papierkorb</span><span class="sxs-lookup"><span data-stu-id="e02a5-121">The Recycle Bin</span></span>

<span data-ttu-id="e02a5-122">Einige virtuelle Objekte umfassen überhaupt keinen physischen Speicher.</span><span class="sxs-lookup"><span data-stu-id="e02a5-122">Some virtual objects do not involve physical storage at all.</span></span> <span data-ttu-id="e02a5-123">Das Drucker Objekt enthält beispielsweise eine Auflistung von Links zu vernetzten Druckern.</span><span class="sxs-lookup"><span data-stu-id="e02a5-123">The printer object, for instance, contains a collection of links to networked printers.</span></span> <span data-ttu-id="e02a5-124">Andere virtuelle Objekte (z. b. der Papierkorb) enthalten möglicherweise Daten, die auf einem Laufwerk gespeichert sind, müssen jedoch anders behandelt werden als normale Dateien.</span><span class="sxs-lookup"><span data-stu-id="e02a5-124">Other virtual objects, such as the Recycle Bin, may contain data that is stored on a disk drive, but needs to be handled differently than normal files.</span></span> <span data-ttu-id="e02a5-125">Beispielsweise kann ein virtuelles-Objekt verwendet werden, um in einer Datenbank gespeicherte Daten darzustellen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-125">For example, a virtual object can be used to represent data stored in a database.</span></span> <span data-ttu-id="e02a5-126">Im Hinblick auf den-Namespace können die verschiedenen Elemente in der Datenbank als separate Objekte im Windows-Explorer angezeigt werden, obwohl Sie alle in einer einzigen Datenträger Datei gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="e02a5-126">In terms of the namespace, the various items in the database could appear in the Windows Explorer as separate objects, even though they are all stored in a single disk file.</span></span>

<span data-ttu-id="e02a5-127">Virtuelle Objekte befinden sich möglicherweise sogar auf Remote Computern.</span><span class="sxs-lookup"><span data-stu-id="e02a5-127">Virtual objects may even be located on remote computers.</span></span> <span data-ttu-id="e02a5-128">Beispielsweise können die Dokument Dateien eines Benutzers auf einem Server gespeichert werden, um das Roaming zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-128">For instance, to facilitate roaming, a user's document files might be stored on a server.</span></span> <span data-ttu-id="e02a5-129">Um Benutzern den Zugriff auf Ihre Dateien über mehrere Desktop-PCs zu gestatten, verweist der Ordner "eigene Dateien" auf dem Desktop-PC, den Sie zurzeit verwenden, auf den Server, nicht auf die Festplatte des Desktop-PCs.</span><span class="sxs-lookup"><span data-stu-id="e02a5-129">To give users access to their files from multiple desktop PCs, the My Documents folder on the desktop PC they are currently using will point to the server, not the hard disk of the desktop PC.</span></span> <span data-ttu-id="e02a5-130">Der Pfad enthält entweder ein zugeordnetes Netzwerklaufwerk oder einen UNC-Pfadnamen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-130">Its path will include either a mapped network drive or a UNC path name.</span></span>

<span data-ttu-id="e02a5-131">Wie das Dateisystem enthält der-Namespace zwei grundlegende Typen von Objekten: Ordner und Dateien.</span><span class="sxs-lookup"><span data-stu-id="e02a5-131">Like the file system, the namespace includes two basic types of object: folders and files.</span></span> <span data-ttu-id="e02a5-132">Ordner Objekte sind die *Knoten* der Struktur. Dabei handelt es sich um Container für Datei Objekte und andere Ordner.</span><span class="sxs-lookup"><span data-stu-id="e02a5-132">Folder objects are the *nodes* of the tree; they are containers for file objects and other folders.</span></span> <span data-ttu-id="e02a5-133">Datei Objekte sind die *Blätter* der Struktur. Sie sind entweder normale Datenträger Dateien oder virtuelle Objekte, wie z. b. Drucker Verknüpfungen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-133">File objects are the *leaves* of the tree; they are either normal disk files or virtual objects, such as printer links.</span></span> <span data-ttu-id="e02a5-134">Ordner, die nicht Teil des Dateisystems sind, werden manchmal auch als *virtuelle Ordner* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e02a5-134">Folders that are not part of the file system are sometimes referred to as *virtual folders*.</span></span>

<span data-ttu-id="e02a5-135">Wie bei Dateisystem Ordnern variiert die Sammlung virtueller Ordner in der Regel von System zu System.</span><span class="sxs-lookup"><span data-stu-id="e02a5-135">Like file system folders, the collection of virtual folders generally varies from system to system.</span></span> <span data-ttu-id="e02a5-136">Es gibt drei Klassen von virtuellen Ordnern:</span><span class="sxs-lookup"><span data-stu-id="e02a5-136">There are three classes of virtual folders:</span></span>

-   <span data-ttu-id="e02a5-137">Standard mäßige virtuelle Ordner, z. b. der Papierkorb, die auf allen Systemen gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-137">Standard virtual folders, such as the Recycle Bin, that are found on all systems.</span></span>
-   <span data-ttu-id="e02a5-138">Optionale virtuelle Ordner mit Standardnamen und-Funktionen, die jedoch möglicherweise nicht auf allen Systemen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="e02a5-138">Optional virtual folders that have standard names and functionality, but may not be present on all systems.</span></span>
-   <span data-ttu-id="e02a5-139">Nicht standardmäßige Ordner, die vom Benutzer installiert werden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-139">Non-standard folders that are installed by the user.</span></span>

<span data-ttu-id="e02a5-140">Im Unterschied zu Dateisystem Ordnern können Benutzer keine neuen virtuellen Ordner selbst erstellen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-140">Unlike file system folders, users cannot create new virtual folders themselves.</span></span> <span data-ttu-id="e02a5-141">Sie können nur diejenigen installieren, die von nicht-Microsoft-Entwicklern erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-141">They can only install ones created by non-Microsoft developers.</span></span> <span data-ttu-id="e02a5-142">Die Anzahl der virtuellen Ordner ist daher normalerweise weitaus geringer als die Anzahl der Dateisystem Ordner.</span><span class="sxs-lookup"><span data-stu-id="e02a5-142">The number of virtual folders is thus normally much fewer than the number of file system folders.</span></span> <span data-ttu-id="e02a5-143">Eine Erläuterung zum Implementieren virtueller Ordner finden Sie unter [Namespace Erweiterungen](nse-works.md).</span><span class="sxs-lookup"><span data-stu-id="e02a5-143">For a discussion of how to implement virtual folders see [Namespace Extensions](nse-works.md).</span></span>

<span data-ttu-id="e02a5-144">Sie können sehen, wie der Namespace in der Explorer-Leiste von Windows-Explorer strukturiert ist.</span><span class="sxs-lookup"><span data-stu-id="e02a5-144">You can see a visual representation of how the namespace is structured in the Explorer Bar of the Windows Explorer.</span></span> <span data-ttu-id="e02a5-145">Der folgende Screenshot von Windows Explorer zeigt z. b. einen relativ einfachen Namespace.</span><span class="sxs-lookup"><span data-stu-id="e02a5-145">For example, the following screen shot of Windows Explorer shows a relatively simple namespace.</span></span>

![eine Ansicht des Shell-Namespace](images/prog1.png)

<span data-ttu-id="e02a5-147">Der ultimative Stamm der Namespace Hierarchie ist der Desktop.</span><span class="sxs-lookup"><span data-stu-id="e02a5-147">The ultimate root of the namespace hierarchy is the desktop.</span></span> <span data-ttu-id="e02a5-148">Direkt unterhalb des Stamms befinden sich mehrere virtuelle Ordner (z. b. Arbeitsplatz und der Papierkorb).</span><span class="sxs-lookup"><span data-stu-id="e02a5-148">Immediately below the root are several virtual folders such as My Computer and the Recycle Bin.</span></span>

<span data-ttu-id="e02a5-149">Die Dateisysteme der verschiedenen Laufwerke können als Teilmengen der größeren Namespace Hierarchie angesehen werden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-149">The file systems of the various disk drives can be seen to be subsets of the larger namespace hierarchy.</span></span> <span data-ttu-id="e02a5-150">Die Stämme dieser Dateisysteme sind Unterordner des Ordners Arbeitsplatz.</span><span class="sxs-lookup"><span data-stu-id="e02a5-150">The roots of these file systems are subfolders of the My Computer folder.</span></span> <span data-ttu-id="e02a5-151">Arbeitsplatz umfasst auch die Stämme aller zugeordneten Netzlaufwerke.</span><span class="sxs-lookup"><span data-stu-id="e02a5-151">My Computer also includes the roots of any mapped network drives.</span></span> <span data-ttu-id="e02a5-152">Andere Knoten in der Struktur, z. b. "eigene Dokumente", sind virtuelle Ordner.</span><span class="sxs-lookup"><span data-stu-id="e02a5-152">Other nodes in the tree, such as My Documents, are virtual folders.</span></span>

## <a name="identifying-namespace-objects"></a><span data-ttu-id="e02a5-153">Identifizieren von Namespace Objekten</span><span class="sxs-lookup"><span data-stu-id="e02a5-153">Identifying Namespace Objects</span></span>

<span data-ttu-id="e02a5-154">Bevor Sie ein Namespace Objekt verwenden können, müssen Sie zunächst eine Möglichkeit haben, es zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="e02a5-154">Before you can use a namespace object, you must first have a way of identifying it.</span></span> <span data-ttu-id="e02a5-155">Ein Objekt im Dateisystem könnte einen Namen haben, z. b. MyFile.htm.</span><span class="sxs-lookup"><span data-stu-id="e02a5-155">An object in the file system could have a name such as MyFile.htm.</span></span> <span data-ttu-id="e02a5-156">Da es möglicherweise andere Dateien mit diesem Namen an anderer Stelle im System gibt, ist für eine eindeutige Identifizierung einer Datei oder eines Ordners ein voll qualifizierter Pfad erforderlich, z. b. "C: \\ MyDocs \\MyFile.htm".</span><span class="sxs-lookup"><span data-stu-id="e02a5-156">Because there might be other files with that name elsewhere in the system, uniquely identifying a file or folder requires a fully qualified path such as "C:\\MyDocs\\MyFile.htm".</span></span> <span data-ttu-id="e02a5-157">Bei diesem Pfad handelt es sich im Grunde um eine geordnete Liste aller Ordner in einem Pfad aus dem Dateisystem Stamm "C:" \\ , die mit der Datei endet.</span><span class="sxs-lookup"><span data-stu-id="e02a5-157">This path is basically an ordered list of all folders in a path from the file system root, C:\\, ending with the file.</span></span>

<span data-ttu-id="e02a5-158">Im Kontext des-Namespace sind Pfade nach wie vor sehr nützlich für das Identifizieren von Objekten, die sich im Dateisystem Teil des-Namespace befinden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-158">In the context of the namespace, paths are still quite useful for identifying objects located in the file system part of the namespace.</span></span> <span data-ttu-id="e02a5-159">Sie können jedoch nicht für virtuelle Objekte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-159">However, they cannot be used for virtual objects.</span></span> <span data-ttu-id="e02a5-160">Stattdessen bietet die Shell eine Alternative Identifikationsmethode, die mit jedem Namespace Objekt verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="e02a5-160">Instead, the Shell provides an alternative means of identification that can be used with any namespace object.</span></span>

### <a name="item-ids"></a><span data-ttu-id="e02a5-161">Element-IDs</span><span class="sxs-lookup"><span data-stu-id="e02a5-161">Item IDs</span></span>

<span data-ttu-id="e02a5-162">In einem Ordner hat jedes Objekt eine *Element-ID*, die die funktionale Entsprechung eines Datei-oder Ordner namens ist.</span><span class="sxs-lookup"><span data-stu-id="e02a5-162">Within a folder, each object has an *item ID*, which is the functional equivalent of a file or folder name.</span></span> <span data-ttu-id="e02a5-163">Die Element-ID ist tatsächlich eine [**shitemid**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) -Struktur:</span><span class="sxs-lookup"><span data-stu-id="e02a5-163">The item ID is actually a [**SHITEMID**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) structure:</span></span>


```
typedef struct _SHITEMID { 
    USHORT cb; 
    BYTE   abID[1]; 
} SHITEMID, * LPSHITEMID; 
```



<span data-ttu-id="e02a5-164">Der **Abid** -Member ist der Bezeichner des Objekts.</span><span class="sxs-lookup"><span data-stu-id="e02a5-164">The **abID** member is the object's identifier.</span></span> <span data-ttu-id="e02a5-165">Die Länge von **Abid** ist nicht definiert, und ihr Wert wird durch den Ordner bestimmt, der das-Objekt enthält.</span><span class="sxs-lookup"><span data-stu-id="e02a5-165">The length of **abID** is not defined, and its value is determined by the folder that contains the object.</span></span> <span data-ttu-id="e02a5-166">Da es keine Standard Definition gibt, wie **Abid** -Werte von Ordnern zugewiesen werden, sind Sie nur für das zugeordnete Ordner Objekt von Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="e02a5-166">Because there is no standard definition for how **abID** values are assigned by folders, they are only meaningful to the associated folder object.</span></span> <span data-ttu-id="e02a5-167">Anwendungen sollten Sie einfach als Token behandeln, das ein Objekt in einem bestimmten Ordner identifiziert.</span><span class="sxs-lookup"><span data-stu-id="e02a5-167">Applications should simply treat them as a token that identifies an object in a particular folder.</span></span> <span data-ttu-id="e02a5-168">Da die Länge der **Abid** variiert, enthält das **CB** -Element die Größe der [**shitemid**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) -Struktur in Bytes.</span><span class="sxs-lookup"><span data-stu-id="e02a5-168">Because the length of **abID** varies, the **cb** member holds the size of the [**SHITEMID**](/windows/desktop/api/Shtypes/ns-shtypes-shitemid) structure, in bytes.</span></span>

<span data-ttu-id="e02a5-169">Da Element-IDs zu Anzeige Zwecken nicht nützlich sind, weist der Ordner, der das Objekt enthält, normalerweise einen anzeigen Amen zu.</span><span class="sxs-lookup"><span data-stu-id="e02a5-169">Because item IDs aren't useful for display purposes, the folder that contains the object normally assigns it a display name.</span></span> <span data-ttu-id="e02a5-170">Dies ist der Name, der von Windows Explorer beim Anzeigen des Inhalts eines Ordners verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="e02a5-170">This is the name that is used by Windows Explorer when it displays the contents of a folder.</span></span> <span data-ttu-id="e02a5-171">Weitere Informationen zur Behandlung von anzeigen Amen finden Sie unter [erhalten von Informationen aus einem Ordner](folder-info.md).</span><span class="sxs-lookup"><span data-stu-id="e02a5-171">For more information on how display names are handled, see [Getting Information From a Folder](folder-info.md).</span></span>

### <a name="item-id-lists"></a><span data-ttu-id="e02a5-172">Liste der Element-IDs</span><span class="sxs-lookup"><span data-stu-id="e02a5-172">Item ID Lists</span></span>

<span data-ttu-id="e02a5-173">Die Element-ID wird nur selten von sich selbst verwendet.</span><span class="sxs-lookup"><span data-stu-id="e02a5-173">The item ID is rarely used by itself.</span></span> <span data-ttu-id="e02a5-174">Normalerweise ist Sie Teil einer Element-ID-Liste, die den gleichen Zweck wie ein Dateisystempfad hat.</span><span class="sxs-lookup"><span data-stu-id="e02a5-174">Normally, it is part of an item ID list, which serves the same purpose as a file system path.</span></span> <span data-ttu-id="e02a5-175">Anstelle der für Pfade verwendeten Zeichenfolge ist eine Element-ID-Liste jedoch eine [**itemittel List**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="e02a5-175">However, instead of the character string used for paths, an item ID list is an [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure.</span></span> <span data-ttu-id="e02a5-176">Diese Struktur ist eine geordnete Sequenz aus einer oder mehreren Element-IDs, die mit einem 2-Byte- **null**-Wert beendet wird.</span><span class="sxs-lookup"><span data-stu-id="e02a5-176">This structure is an ordered sequence of one or more item IDs, terminated by a two-byte **NULL**.</span></span> <span data-ttu-id="e02a5-177">Jede Element-ID in der Liste der Element-IDs entspricht einem Namespace Objekt.</span><span class="sxs-lookup"><span data-stu-id="e02a5-177">Each item ID in the item ID list corresponds to a namespace object.</span></span> <span data-ttu-id="e02a5-178">Ihre Reihenfolge definiert einen Pfad im Namespace, ähnlich wie ein Dateisystempfad.</span><span class="sxs-lookup"><span data-stu-id="e02a5-178">Their order defines a path in the namespace, much like a file system path.</span></span>

<span data-ttu-id="e02a5-179">Die folgende Abbildung zeigt eine Schema förmige Darstellung der [**itemittlerlist**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) -Struktur, die C: \\ MyDocs \\MyFile.htm entspricht.</span><span class="sxs-lookup"><span data-stu-id="e02a5-179">The following illustration shows a schematic representation of the [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure that corresponds to C:\\MyDocs\\MyFile.htm.</span></span> <span data-ttu-id="e02a5-180">Der Anzeige Name der einzelnen Element-IDs wird oberhalb des anzeigen Amens angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e02a5-180">The display name of each item ID is shown above it.</span></span> <span data-ttu-id="e02a5-181">Die unterschiedlichen Breiten der **Abid** -Elemente sind willkürlich. Sie veranschaulichen die Tatsache, dass die Größe dieses Members variieren kann.</span><span class="sxs-lookup"><span data-stu-id="e02a5-181">The varying widths of the **abID** members are arbitrary; they illustrate the fact that the size of this member can vary.</span></span>

![eine Schema grafische Darstellung einer PIDL](images/shell2.png)

### <a name="pidls"></a><span data-ttu-id="e02a5-183">PIDLs</span><span class="sxs-lookup"><span data-stu-id="e02a5-183">PIDLs</span></span>

<span data-ttu-id="e02a5-184">Für die Shell-API werden Namespace Objekte normalerweise durch einen Zeiger auf Ihre [**itemittellist**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) -Struktur oder einen Zeiger auf eine Element Bezeichner-Liste (PIDL) identifiziert.</span><span class="sxs-lookup"><span data-stu-id="e02a5-184">For the Shell API, namespace objects are usually identified by a pointer to their [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure, or pointer to an item identifier list (PIDL).</span></span> <span data-ttu-id="e02a5-185">Der praktische Hinweis ist, dass der Begriff PIDL in dieser Dokumentation im Allgemeinen auf die Struktur selbst und nicht auf den Zeiger verweist.</span><span class="sxs-lookup"><span data-stu-id="e02a5-185">For convenience, the term PIDL will generally refer in this documentation to the structure itself rather than the pointer to it.</span></span>

<span data-ttu-id="e02a5-186">Die in der vorangehenden Abbildung gezeigte PIDL wird als *vollständige* oder *absolute* PIDL bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e02a5-186">The PIDL shown in the preceding illustration is referred to as a *full*, or *absolute*, PIDL.</span></span> <span data-ttu-id="e02a5-187">Eine vollständige PIDL startet vom Desktop und enthält die Element-IDs aller zwischen Ordner im Pfad.</span><span class="sxs-lookup"><span data-stu-id="e02a5-187">A full PIDL starts from the desktop, and contains the item IDs of all intermediate folders in the path.</span></span> <span data-ttu-id="e02a5-188">Er endet mit der Element-ID des Objekts, gefolgt von einem abschließenden zwei Byte **null**.</span><span class="sxs-lookup"><span data-stu-id="e02a5-188">It ends with the object's item ID followed by a terminating two-byte **NULL**.</span></span> <span data-ttu-id="e02a5-189">Eine vollständige PIDL ähnelt einem voll qualifizierten Pfad und identifiziert das Objekt im Shellnamespace eindeutig.</span><span class="sxs-lookup"><span data-stu-id="e02a5-189">A full PIDL is similar to a fully qualified path and uniquely identifies the object in the Shell namespace.</span></span>

<span data-ttu-id="e02a5-190">Vollständige pidls werden nur selten verwendet.</span><span class="sxs-lookup"><span data-stu-id="e02a5-190">Full PIDLs are used infrequently.</span></span> <span data-ttu-id="e02a5-191">Viele Funktionen und Methoden erwarten eine *relative PIDL*.</span><span class="sxs-lookup"><span data-stu-id="e02a5-191">Many functions and methods expect a *relative PIDL*.</span></span> <span data-ttu-id="e02a5-192">Der Stamm einer relativen PIDL ist ein Ordner, nicht der Desktop.</span><span class="sxs-lookup"><span data-stu-id="e02a5-192">The root of a relative PIDL is a folder, not the desktop.</span></span> <span data-ttu-id="e02a5-193">Wie bei relativen Pfaden definiert die Reihe von Element-IDs, die die Struktur bilden, einen Pfad im Namespace zwischen zwei Objekten.</span><span class="sxs-lookup"><span data-stu-id="e02a5-193">As with relative paths, the series of item IDs that make up the structure define a path in the namespace between two objects.</span></span> <span data-ttu-id="e02a5-194">Obwohl Sie das Objekt nicht eindeutig identifizieren, sind Sie in der Regel kleiner als eine vollständige PIDL und sind für viele Zwecke ausreichend.</span><span class="sxs-lookup"><span data-stu-id="e02a5-194">Although they do not uniquely identify the object, they are usually smaller than a full PIDL and sufficient for many purposes.</span></span>

<span data-ttu-id="e02a5-195">Die am häufigsten verwendeten relativen pidls, *Einstufige pidls*, sind relativ zum übergeordneten Ordner des Objekts.</span><span class="sxs-lookup"><span data-stu-id="e02a5-195">The most commonly used relative PIDLs, *single-level PIDLs*, are relative to the object's parent folder.</span></span> <span data-ttu-id="e02a5-196">Sie enthalten nur die Element-ID des Objekts und einen abschließenden **null**-Wert.</span><span class="sxs-lookup"><span data-stu-id="e02a5-196">They contain only the object's item ID and a terminating **NULL**.</span></span> <span data-ttu-id="e02a5-197">Mehrstufige pidls werden auch für viele Zwecke verwendet.</span><span class="sxs-lookup"><span data-stu-id="e02a5-197">Multi-level PIDLs are also used for many purposes.</span></span> <span data-ttu-id="e02a5-198">Sie enthalten mindestens zwei Element-IDs und definieren in der Regel einen Pfad von einem übergeordneten Ordner zu einem Objekt durch eine Reihe von mindestens einem Unterordner.</span><span class="sxs-lookup"><span data-stu-id="e02a5-198">They contain two or more item IDs and typically define a path from a parent folder to an object through a series of one or more subfolders.</span></span> <span data-ttu-id="e02a5-199">Beachten Sie, dass eine PIDL einer einzelnen Ebene immer noch eine voll qualifizierte PIDL sein kann.</span><span class="sxs-lookup"><span data-stu-id="e02a5-199">Note that a single-level PIDL can still be a fully qualified PIDL.</span></span> <span data-ttu-id="e02a5-200">Insbesondere Desktop Objekte sind untergeordnete Elemente des Desktops, sodass Ihre voll qualifizierten pidls nur eine Element-ID enthalten.</span><span class="sxs-lookup"><span data-stu-id="e02a5-200">In particular, desktop objects are children of the desktop, so their fully qualified PIDLs contain only one item ID.</span></span>

<span data-ttu-id="e02a5-201">Wie unter Abrufen [einer Ordner-ID](folder-id.md)erläutert, bietet die Shell-API eine Reihe von Möglichkeiten zum Abrufen der PIDL eines Objekts.</span><span class="sxs-lookup"><span data-stu-id="e02a5-201">As discussed in [Getting a Folder's ID](folder-id.md), the Shell API provides a number of ways to retrieve an object's PIDL.</span></span> <span data-ttu-id="e02a5-202">Wenn Sie es haben, verwenden Sie es im Allgemeinen nur, um das Objekt zu identifizieren, wenn Sie andere shellapi-Funktionen und-Methoden aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-202">Once you have it, you commonly just use it to identify the object when you call other Shell API functions and methods.</span></span> <span data-ttu-id="e02a5-203">In diesem Kontext sind die internen Inhalte einer PIDL undurchsichtig und irrelevant.</span><span class="sxs-lookup"><span data-stu-id="e02a5-203">In this context, a PIDL's internal contents are opaque and irrelevant.</span></span> <span data-ttu-id="e02a5-204">Stellen Sie sich für die Zwecke dieser Diskussion pidls als Token vor, die bestimmte Namespace Objekte darstellen, und konzentrieren Sie sich darauf, wie Sie Sie für häufige Aufgaben verwenden können.</span><span class="sxs-lookup"><span data-stu-id="e02a5-204">For the purposes of this discussion, think of PIDLs as tokens that represent particular namespace objects, and focus on how to use them for common tasks.</span></span>

### <a name="allocating-pidls"></a><span data-ttu-id="e02a5-205">Zuordnen von pidls</span><span class="sxs-lookup"><span data-stu-id="e02a5-205">Allocating PIDLs</span></span>

<span data-ttu-id="e02a5-206">Obwohl pidls eine gewisse Ähnlichkeit mit Pfaden aufweisen, erfordert die Verwendung einen etwas anderen Ansatz.</span><span class="sxs-lookup"><span data-stu-id="e02a5-206">Although PIDLs have some similarity to paths, using them requires a somewhat different approach.</span></span> <span data-ttu-id="e02a5-207">Der Hauptunterschied besteht darin, wie Sie Arbeitsspeicher zuordnen und deren Speicherplatz zuweisen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-207">The primary difference is in how to allocate and deallocate memory for them.</span></span>

<span data-ttu-id="e02a5-208">Wie die für einen Pfad verwendete Zeichenfolge muss Arbeitsspeicher für eine PIDL zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="e02a5-208">Like the string used for a path, memory must be allocated for a PIDL.</span></span> <span data-ttu-id="e02a5-209">Wenn eine Anwendung eine PIDL erstellt, muss Sie ausreichend Arbeitsspeicher für die [**itemittel List**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) -Struktur zuordnen.</span><span class="sxs-lookup"><span data-stu-id="e02a5-209">If an application creates a PIDL, it must allocate sufficient memory for the [**ITEMIDLIST**](/windows/desktop/api/Shtypes/ns-shtypes-itemidlist) structure.</span></span> <span data-ttu-id="e02a5-210">In den meisten Fällen, die hier erläutert werden, erstellt die Shell die PIDL und verarbeitet die Speicher Belegung.</span><span class="sxs-lookup"><span data-stu-id="e02a5-210">For most of the cases discussed here, the Shell creates the PIDL and handles memory allocation.</span></span> <span data-ttu-id="e02a5-211">Unabhängig davon, welche Zuweisung der PIDL erfolgt ist, ist die Anwendung in der Regel für die Aufhebung der Zuordnung der PIDL verantwortlich, wenn Sie nicht mehr benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="e02a5-211">Regardless of what allocated the PIDL, the application is usually responsible for deallocating the PIDL when it is no longer needed.</span></span>

<span data-ttu-id="e02a5-212">Verwenden Sie die [**CoTaskMemAlloc**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemalloc) -Funktion, um die PIDL zuzuordnen, und die [**CoTaskMemFree**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemfree) -Funktion, um Sie freizugeben.</span><span class="sxs-lookup"><span data-stu-id="e02a5-212">Use the [**CoTaskMemAlloc**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemalloc) function to allocate the PIDL, and the [**CoTaskMemFree**](/windows/win32/api/combaseapi/nf-combaseapi-cotaskmemfree) function to deallocate it.</span></span>

 

 
