---
description: Verwenden Sie Transaktions-NTFS, um die Datenintegrität beizubehalten.
ms.assetid: 886d6075-57e8-47db-aec5-77660d0a53f9
title: Verwendungszwecke von transaktionalen NTFS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 28c0a134a8cb5824337022fedf14fe3db3c6f76c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106347444"
---
# <a name="when-to-use-transactional-ntfs"></a><span data-ttu-id="877bb-103">Verwendungszwecke von transaktionalen NTFS</span><span class="sxs-lookup"><span data-stu-id="877bb-103">When to Use Transactional NTFS</span></span>

<span data-ttu-id="877bb-104">Eine Anwendung kann Transaktions-NTFS (TxF) verwenden, um die Integrität der Daten auf dem Datenträger während unerwarteter Fehlerbedingungen beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="877bb-104">An application can use Transactional NTFS (TxF) to preserve the integrity of data on disk during unexpected error conditions.</span></span> <span data-ttu-id="877bb-105">Im Allgemeinen sollte eine Anwendung TxF verwenden, wenn die Anwendung Dateien geleert und andere Techniken verwendet, um die Datenintegrität beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="877bb-105">In general, an application should consider using TxF if the application is flushing files and using other techniques to maintain data integrity.</span></span> <span data-ttu-id="877bb-106">TxF kann eine bessere Leistung erzielen und den Fehler Behandlungs Code der Anwendung vereinfachen und gleichzeitig die Fehlerwiederherstellung und Zuverlässigkeit verbessern.</span><span class="sxs-lookup"><span data-stu-id="877bb-106">TxF can perform better and simplify the application's error handling code while improving error recovery and reliability.</span></span> <span data-ttu-id="877bb-107">Die folgenden Abschnitte in diesem Thema enthalten Beispiele für Szenarien, in denen Sie TxF verwenden können.</span><span class="sxs-lookup"><span data-stu-id="877bb-107">The following sections in this topic provide examples of scenarios for you to use TxF.</span></span>

## <a name="updating-a-file"></a><span data-ttu-id="877bb-108">Aktualisieren einer Datei</span><span class="sxs-lookup"><span data-stu-id="877bb-108">Updating a File</span></span>

<span data-ttu-id="877bb-109">Die Aktualisierung einer Datei ist ein gängiger und in der Regel einfacher Vorgang.</span><span class="sxs-lookup"><span data-stu-id="877bb-109">The updating of a file is a common and typically simple operation.</span></span> <span data-ttu-id="877bb-110">Wenn das System oder die Anwendung jedoch fehlschlägt, während eine Anwendung Informationen auf einem Datenträger aktualisiert, kann das Ergebnis schwerwiegend sein, da die Benutzerdaten durch einen teilweise abgeschlossenen Datei Update Vorgang beschädigt werden können.</span><span class="sxs-lookup"><span data-stu-id="877bb-110">However, if the system or application fails while an application is updating information on a disk, the result can be catastrophic, because the user data can be corrupted by a file update operation that is partially completed.</span></span> <span data-ttu-id="877bb-111">Robuste Anwendungen führen oft komplexe Sequenzen von Datei Kopien und Dateinamen aus, um sicherzustellen, dass die Daten bei einem Systemausfall nicht beschädigt werden.</span><span class="sxs-lookup"><span data-stu-id="877bb-111">Robust applications often perform complex sequences of file copies and file renames to ensure that data is not corrupted if a system fails.</span></span>

<span data-ttu-id="877bb-112">TxF vereinfacht es einer Anwendung, Datei Aktualisierungs Vorgänge vor System-oder Anwendungsfehlern zu schützen.</span><span class="sxs-lookup"><span data-stu-id="877bb-112">TxF makes it simple for an application to protect file update operations from system or application failure.</span></span> <span data-ttu-id="877bb-113">Um eine Datei sicher zu aktualisieren, öffnet die Anwendung die Datei im transaktiven Modus, nimmt die erforderlichen Updates vor und führt einen Commit für die Transaktion aus.</span><span class="sxs-lookup"><span data-stu-id="877bb-113">To update a file safely, the application opens the file in transacted mode, makes the necessary updates, and then commits the transaction.</span></span> <span data-ttu-id="877bb-114">Wenn das System oder die Anwendung während des Datei Updates fehlschlägt, wird die Datei von TxF automatisch in dem Zustand wieder hergestellt, der vor dem Start der Datei aufgetreten ist. Dadurch wird die Beschädigung von Dateien vermieden.</span><span class="sxs-lookup"><span data-stu-id="877bb-114">If the system or application fails during the file update, then TxF automatically restores the file to the state that it had before the file update began, which avoids file corruption.</span></span>

## <a name="multi-file-updates"></a><span data-ttu-id="877bb-115">Updates mit mehreren Dateien</span><span class="sxs-lookup"><span data-stu-id="877bb-115">Multi-File Updates</span></span>

<span data-ttu-id="877bb-116">TxF ist noch wichtiger, wenn sich ein einzelner logischer Vorgang auf mehrere Dateien auswirkt.</span><span class="sxs-lookup"><span data-stu-id="877bb-116">TxF is even more important when a single logical operation affects multiple files.</span></span> <span data-ttu-id="877bb-117">Wenn Sie z. b. ein Tool zum Umbenennen einer der HTML-oder ASP-Seiten auf einer Website verwenden möchten, würde ein gut konzipiertes Tool auch alle Links so korrigieren, dass der neue Dateiname verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="877bb-117">For example, if you want to use a tool to rename one of the HTML or ASP pages on a website, a well-designed tool would also fix all links to use the new file name.</span></span> <span data-ttu-id="877bb-118">Bei einem Fehler während dieses Vorgangs wird die Website jedoch in einem inkonsistenten Zustand belassen, und einige der Links verweisen immer noch auf den alten Dateinamen.</span><span class="sxs-lookup"><span data-stu-id="877bb-118">However, a failure during this operation leaves the website in an inconsistent state, with some of the links still referring to the old file name.</span></span> <span data-ttu-id="877bb-119">Wenn Sie den Vorgang zum Umbenennen der Datei und den Link zur Korrektur einer einzelnen Transaktion vornehmen, stellt TxF sicher, dass die Datei umbenennen und die Link Korrektur als einzelner Vorgang erfolgreich ausgeführt werden kann oder fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="877bb-119">By making the file rename operation and the link fixing operation a single transaction, TxF ensures that the file rename and link fix succeed or fail as a single operation.</span></span>

## <a name="consistent-concurrent-updates"></a><span data-ttu-id="877bb-120">Konsistente gleichzeitige Updates</span><span class="sxs-lookup"><span data-stu-id="877bb-120">Consistent Concurrent Updates</span></span>

<span data-ttu-id="877bb-121">TxF isoliert gleichzeitige Transaktionen.</span><span class="sxs-lookup"><span data-stu-id="877bb-121">TxF isolates concurrent transactions.</span></span> <span data-ttu-id="877bb-122">Wenn eine Anwendung eine Datei für einen transaktionalen Lesevorgang öffnet, während eine andere Anwendung dieselbe Datei für eine transaktionale Aktualisierung geöffnet hat, isoliert TxF die Auswirkungen der beiden Transaktionen voneinander.</span><span class="sxs-lookup"><span data-stu-id="877bb-122">If an application opens a file for a transactional read while another application has the same file open for a transactional update, TxF isolates the effects of the two transactions from one another.</span></span> <span data-ttu-id="877bb-123">Das heißt, dass der Transaktions Leser immer eine einzelne, konsistente Version der Datei anzeigt, auch wenn diese Datei gerade durch eine andere Transaktion aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="877bb-123">In other words, the transactional reader always views a single, consistent version of the file, even while that file is in the process of being updated by another transaction.</span></span>

<span data-ttu-id="877bb-124">Eine Anwendung kann diese Funktion verwenden, um es Kunden zu ermöglichen, Dateien anzuzeigen, während andere Kunden Updates vornehmen.</span><span class="sxs-lookup"><span data-stu-id="877bb-124">An application can use this functionality to allow customers to view files while other customers make updates.</span></span> <span data-ttu-id="877bb-125">Ein transaktionaler Webserver kann z. b. eine einheitliche Ansicht von Dateien bereitstellen, während ein anderes Tool diese Dateien gleichzeitig aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="877bb-125">For example, a transactional web server can provide a single, consistent view of files while another tool concurrently updates those files.</span></span>

> [!Note]  
> <span data-ttu-id="877bb-126">TxF unterstützt keine gleichzeitigen Aktualisierungen durch mehrere Writer in unterschiedlichen Transaktionen.</span><span class="sxs-lookup"><span data-stu-id="877bb-126">TxF does not support concurrent updates by multiple writers in different transactions.</span></span> <span data-ttu-id="877bb-127">TxF unterstützt nur einen einzigen Writer mit mehreren gleichzeitigen und konsistenten Lesern.</span><span class="sxs-lookup"><span data-stu-id="877bb-127">TxF supports only a single writer with multiple concurrent and consistent readers.</span></span>

 

## <a name="coordinating-with-other-transacted-resource-managers"></a><span data-ttu-id="877bb-128">Koordinieren mit anderen transaktiven Ressourcen-Managern</span><span class="sxs-lookup"><span data-stu-id="877bb-128">Coordinating With Other Transacted Resource Managers</span></span>

<span data-ttu-id="877bb-129">Transaktionen, die mit transaktiven Dateisystemen verwendet werden, können auch mit der transaktiven Registrierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="877bb-129">Transactions used with transacted file systems may also be used with the transacted registry.</span></span> <span data-ttu-id="877bb-130">Updates für die Datei und die Registrierung werden mit einer einzelnen Transaktion koordiniert.</span><span class="sxs-lookup"><span data-stu-id="877bb-130">Updates to the file and the registry are coordinated with a single transaction.</span></span>

<span data-ttu-id="877bb-131">Mithilfe von [Distributed Transaction Coordinator](/previous-versions/windows/desktop/mscs/distributed-transaction-coordinator) (DTC)-Transaktionen oder System. Transactions können Updates an SQL, MSMQ und anderen Transaktions Ressourcen mit transaktiven Datei Aktualisierungen koordiniert werden.</span><span class="sxs-lookup"><span data-stu-id="877bb-131">By using [Distributed Transaction Coordinator](/previous-versions/windows/desktop/mscs/distributed-transaction-coordinator) (DTC) transactions or System.Transactions, updates made to SQL, MSMQ, and other transactional resources can be coordinated with transacted file updates.</span></span> <span data-ttu-id="877bb-132">Weitere Informationen finden Sie unter DTC es [IKernelTransaction](/previous-versions/windows/desktop/aa344210(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="877bb-132">For more information, see DTC's [IKernelTransaction](/previous-versions/windows/desktop/aa344210(v=vs.85)).</span></span>

## <a name="unsupported-scenarios"></a><span data-ttu-id="877bb-133">Nicht unterstützte Szenarien</span><span class="sxs-lookup"><span data-stu-id="877bb-133">Unsupported Scenarios</span></span>

<span data-ttu-id="877bb-134">TxF bietet keine Unterstützung für die folgenden Transaktions Szenarien:</span><span class="sxs-lookup"><span data-stu-id="877bb-134">TxF does not support the following transaction scenarios:</span></span>

-   <span data-ttu-id="877bb-135">Transaktionen auf Netzwerkvolumes, z. b. in Dateifreigaben.</span><span class="sxs-lookup"><span data-stu-id="877bb-135">Transactions on network volumes, for example on file shares.</span></span> <span data-ttu-id="877bb-136">TxF wird von den CIFS/SMB-Protokollen nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="877bb-136">TxF is not supported by the CIFS/SMB protocols.</span></span>
-   <span data-ttu-id="877bb-137">Transaktionen in anderen Dateisystemen als NTFS.</span><span class="sxs-lookup"><span data-stu-id="877bb-137">Transactions on any file system other than NTFS.</span></span>
-   <span data-ttu-id="877bb-138">Transaktive Vorgänge für Dateien, die durch Client seitiges zwischenspeichern zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="877bb-138">Transacted operations against files cached by client-side caching.</span></span>
-   <span data-ttu-id="877bb-139">Dateizugriff mithilfe von Objekt-IDs.</span><span class="sxs-lookup"><span data-stu-id="877bb-139">File access using object IDs.</span></span>
-   <span data-ttu-id="877bb-140">Alle freigegebenen Writer-Szenarios.</span><span class="sxs-lookup"><span data-stu-id="877bb-140">Any shared writer scenario.</span></span>
-   <span data-ttu-id="877bb-141">Jede Situation, in der eine Datei für einen längeren Zeitraum (Tage oder Wochen) geöffnet wird.</span><span class="sxs-lookup"><span data-stu-id="877bb-141">Any situation where a file is opened for an extended period of time (days or weeks).</span></span>

 

 
