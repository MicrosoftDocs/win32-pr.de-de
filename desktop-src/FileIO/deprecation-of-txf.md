---
description: In diesem Thema werden Alternativen zur Verwendung der Transaktions-NTFS-API (TxF) in gängigen Verwendungs Szenarios erläutert.
ms.assetid: 9ee26e7e-990e-4cd3-8180-f0fcaac2b752
title: Alternativen zur Verwendung von transaktionalen NTFS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cc69974f27abfba0323ea4d3f16a720e5e99e69d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106372965"
---
# <a name="alternatives-to-using-transactional-ntfs"></a><span data-ttu-id="6a8eb-103">Alternativen zur Verwendung von transaktionalen NTFS</span><span class="sxs-lookup"><span data-stu-id="6a8eb-103">Alternatives to using Transactional NTFS</span></span>

-   [<span data-ttu-id="6a8eb-104">Kter</span><span class="sxs-lookup"><span data-stu-id="6a8eb-104">Abstract</span></span>](#abstract)
-   [<span data-ttu-id="6a8eb-105">Introduction (Einführung)</span><span class="sxs-lookup"><span data-stu-id="6a8eb-105">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="6a8eb-106">Alternativen zu TxF nach Szenario</span><span class="sxs-lookup"><span data-stu-id="6a8eb-106">Alternatives to TxF by Scenario</span></span>](#alternatives-to-txf-by-scenario)
-   [<span data-ttu-id="6a8eb-107">Anwendungen, die eine einzelne Datei mit "Dokument ähnlichen" Daten aktualisieren</span><span class="sxs-lookup"><span data-stu-id="6a8eb-107">Applications updating a single file with "document-like" data</span></span>](#applications-updating-a-single-file-with-document-like-data)
-   [<span data-ttu-id="6a8eb-108">Anwendungen, die Updates für mehrere Dateien und/oder für die Registrierungs Struktur durchführen</span><span class="sxs-lookup"><span data-stu-id="6a8eb-108">Applications performing updates to multiple files and/or to the registry hive</span></span>](#applications-performing-updates-to-multiple-files-andor-to-the-registry-hive)
-   [<span data-ttu-id="6a8eb-109">Anwendungen, die einen Satz strukturierter Daten verwalten</span><span class="sxs-lookup"><span data-stu-id="6a8eb-109">Applications managing a set of structured data</span></span>](#applications-managing-a-set-of-structured-data)
-   [<span data-ttu-id="6a8eb-110">Anwendungen mit Transaktionen, die Dateien auf einem lokalen NTFS-Volume und Tabellen in einer externen SQL-Datenbank betreffen</span><span class="sxs-lookup"><span data-stu-id="6a8eb-110">Applications with Transactions involving files on a local NTFS volume and Tables in an external SQL database</span></span>](#applications-with-transactions-involving-files-on-a-local-ntfs-volume-and-tables-in-an-external-sql-database)
-   [<span data-ttu-id="6a8eb-111">Schließen & empfohlenen Aktion</span><span class="sxs-lookup"><span data-stu-id="6a8eb-111">Closing & Recommended Action</span></span>](/windows)

## <a name="abstract"></a><span data-ttu-id="6a8eb-112">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="6a8eb-112">Abstract</span></span>

<span data-ttu-id="6a8eb-113">Microsoft empfiehlt Entwicklern dringend, die behandelten Alternativen zu untersuchen (oder in einigen Fällen andere Alternativen zu untersuchen), anstatt eine API-Plattform zu verwenden, die in zukünftigen Versionen von Windows möglicherweise nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-113">Microsoft strongly recommends developers investigate utilizing the discussed alternatives (or in some cases, investigate other alternatives) rather than adopting an API platform which may not be available in future versions of Windows.</span></span>

## <a name="introduction"></a><span data-ttu-id="6a8eb-114">Einführung</span><span class="sxs-lookup"><span data-stu-id="6a8eb-114">Introduction</span></span>

<span data-ttu-id="6a8eb-115">TxF wurde mit Windows Vista eingeführt, um atomarische Dateitransaktionen in Windows einzuführen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-115">TxF was introduced with Windows Vista as a means to introduce atomic file transactions to Windows.</span></span> <span data-ttu-id="6a8eb-116">Dadurch können Windows-Entwickler eine transaktionale Atomizität für Datei Vorgänge in Transaktionen mit einer einzelnen Datei, in Transaktionen, die mehrere Dateien betreffen, und in Transaktionen, die mehrere Quellen umfassen – wie z. b. die Registrierung (durch TxR) und Datenbanken (z. b. SQL), haben.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-116">It allows for Windows developers to have transactional atomicity for file operations in transactions with a single file, in transactions involving multiple files, and in transactions spanning multiple sources – such as the Registry (through TxR), and databases (such as SQL).</span></span> <span data-ttu-id="6a8eb-117">Obwohl es sich bei TxF um einen leistungsfähigen Satz von APIs handelt, ist für diese API-Plattform sehr wenig Entwickler Interesse, da Windows Vista hauptsächlich aufgrund der Komplexität und der verschiedenen Nuancen, die Entwickler im Rahmen der Anwendungsentwicklung berücksichtigen müssen, wichtig ist.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-117">While TxF is a powerful set of APIs, there has been extremely limited developer interest in this API platform since Windows Vista primarily due to its complexity and various nuances which developers need to consider as part of application development.</span></span> <span data-ttu-id="6a8eb-118">Daher ist Microsoft in Erwägung gezogen, TxF-APIs in einer zukünftigen Windows-Version als veraltet zu kennzeichnen, um Entwicklungs-und Wartungsmaßnahmen auf andere Features und APIs zu konzentrieren, die für eine größere Mehrheit von Kunden mehr nutzen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-118">As a result, Microsoft is considering deprecating TxF APIs in a future version of Windows to focus development and maintenance efforts on other features and APIs which have more value to a larger majority of customers.</span></span> <span data-ttu-id="6a8eb-119">Der nächste Abschnitt beschreibt alternative Beispiel Methoden, um ähnliche Ergebnisse zu erzielen, wie TxF für verschiedene Typen von Anwendungsszenarien verwendet.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-119">The next section describes sample alternative methods to achieve similar results as TxF would for several types of application scenarios.</span></span>

## <a name="alternatives-to-txf-by-scenario"></a><span data-ttu-id="6a8eb-120">Alternativen zu TxF nach Szenario</span><span class="sxs-lookup"><span data-stu-id="6a8eb-120">Alternatives to TxF by Scenario</span></span>

<span data-ttu-id="6a8eb-121">Mit den oben beschriebenen Einschränkungen sollten Entwickler Alternativen zu TxF untersuchen, um Anwendungs Szenarios abzudecken, die von TxF nicht erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-121">With the limitations described above, developers should investigate alternatives to TxF to cover application scenarios which are not met by TxF.</span></span> <span data-ttu-id="6a8eb-122">Hier finden Sie einige Vorschläge für allgemeine Verwendungsmöglichkeiten von TxF für Entwickler.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-122">Discussed here are some suggested alternatives to common uses of TxF for developers to consider.</span></span> <span data-ttu-id="6a8eb-123">Beachten Sie, dass diese Liste weder vollständig noch vollständig ist.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-123">Note that this list is neither exhaustive nor complete.</span></span>

## <a name="applications-updating-a-single-file-with-document-like-data"></a><span data-ttu-id="6a8eb-124">Anwendungen, die eine einzelne Datei mit "Dokument ähnlichen" Daten aktualisieren</span><span class="sxs-lookup"><span data-stu-id="6a8eb-124">Applications updating a single file with "document-like" data</span></span>

<span data-ttu-id="6a8eb-125">Viele Anwendungen, die "Dokument ähnliche" Daten verarbeiten, laden tendenziell das gesamte Dokument in den Arbeitsspeicher, arbeiten darauf und schreiben es zurück, um die Änderungen zu speichern.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-125">Many applications which deal with "document-like" data tend to load the entire document into memory, operate on it, and then write it back out to save the changes.</span></span> <span data-ttu-id="6a8eb-126">Die erforderliche Atomizität besteht darin, dass die Änderungen entweder vollständig angewendet oder überhaupt nicht angewendet werden, da die Datei durch einen inkonsistenten Zustand beschädigt wird.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-126">The needed atomicity here is that the changes either are completely applied or not applied at all, as an inconsistent state would render the file corrupt.</span></span> <span data-ttu-id="6a8eb-127">Ein gängiger Ansatz besteht darin, das Dokument in eine neue Datei zu schreiben und dann die ursprüngliche Datei durch die neue Datei zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-127">A common approach is to write the document to a new file, then replace the original file with the new one.</span></span> <span data-ttu-id="6a8eb-128">Eine Methode hierfür ist die [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) -API.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-128">One method to do this is with the [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) API.</span></span>

## <a name="applications-performing-updates-to-multiple-files-andor-to-the-registry-hive"></a><span data-ttu-id="6a8eb-129">Anwendungen, die Updates für mehrere Dateien und/oder für die Registrierungs Struktur durchführen</span><span class="sxs-lookup"><span data-stu-id="6a8eb-129">Applications performing updates to multiple files and/or to the registry hive</span></span>

<span data-ttu-id="6a8eb-130">Es gibt viele Anwendungen, die atomarisch ein Update für eine Gruppe von Dateien und für die Registrierung ausführen müssen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-130">There are many applications which need to atomically perform an update to a set of files and to the registry.</span></span> <span data-ttu-id="6a8eb-131">Dieses Szenario wird in der Regel durch eine installeranwendung, wie z. b. Windows Installer, erreicht.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-131">This scenario is most commonly achieved through an installer application, such as Windows Installer.</span></span> <span data-ttu-id="6a8eb-132">Weitere Informationen zu Windows Installer finden Sie unter [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span><span class="sxs-lookup"><span data-stu-id="6a8eb-132">For more information on Windows Installer, please refer to [Windows Installer](/windows/desktop/Msi/windows-installer-portal).</span></span>

## <a name="applications-managing-a-set-of-structured-data"></a><span data-ttu-id="6a8eb-133">Anwendungen, die einen Satz strukturierter Daten verwalten</span><span class="sxs-lookup"><span data-stu-id="6a8eb-133">Applications managing a set of structured data</span></span>

<span data-ttu-id="6a8eb-134">Viele Anwendungen verwalten einige proprietäre Datenstrukturen unterschiedlicher Typen als Mittel zum Speichern von Daten.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-134">Many applications manage some set of proprietary data structures of varying types as a means to store data.</span></span> <span data-ttu-id="6a8eb-135">Eine bedeutende Herausforderung für diese Anwendungen ist der Prozess der Aufrechterhaltung der Integrität Interner Zeiger/Verweise, wenn während eines Aktualisierungs Vorgangs ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-135">A significant challenge for these applications is the process of maintaining the integrity of internal pointers/references if a failure occurs during an update operation.</span></span> <span data-ttu-id="6a8eb-136">Das Erstellen des Mechanismus hierfür ist tatsächlich ein "Schwerpunkt", und daher verlassen sich die meisten Anwendungen auf einen echten Datenbankserver, um das DataSet zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-136">Creating the mechanism for this is indeed a "hard problem", and therefore most applications will rely on a true database server to manage their dataset.</span></span>

<span data-ttu-id="6a8eb-137">Zwei Vorschläge für die Verwaltung strukturierter Daten sind:</span><span class="sxs-lookup"><span data-stu-id="6a8eb-137">Two suggestions to help manage structured data are:</span></span>

-   <span data-ttu-id="6a8eb-138">Microsoft stellt die ESE-Eingangsbox (Extensible Storage Engine) in Windows bereit, damit Anwendungen transaktive Daten Aktualisierungs-und Abruf Vorgänge ausführen können.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-138">Microsoft provides the Extensible Storage Engine (ESE) inbox in Windows to enable applications to perform transacted data update and retrieval operations.</span></span> <span data-ttu-id="6a8eb-139">Weitere Informationen zur Extensible Storage Engine (ESE) finden Sie unter <https://msdn.microsoft.com/library/gg269259.aspx> .</span><span class="sxs-lookup"><span data-stu-id="6a8eb-139">For more information on the Extensible Storage Engine (ESE), please see <https://msdn.microsoft.com/library/gg269259.aspx>.</span></span>
-   <span data-ttu-id="6a8eb-140">Für Anwendungen, die einen leistungsfähigeren, robusten und skalierbaren Datenbankanbieter benötigen, empfiehlt es sich, die FILESTREAM-Funktion zu verwenden, die mit Microsoft SQL Server verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-140">For applications that require a more powerful, robust, and scalable database provider, it is recommended that customers consider using the Filestream feature available with Microsoft SQL Server.</span></span> <span data-ttu-id="6a8eb-141">Weitere Informationen zu SQL-filestreams finden Sie unter <https://technet.microsoft.com/library/bb933993.aspx> .</span><span class="sxs-lookup"><span data-stu-id="6a8eb-141">For more information on SQL Filestreams, please see <https://technet.microsoft.com/library/bb933993.aspx>.</span></span>

## <a name="applications-with-transactions-involving-files-on-a-local-ntfs-volume-and-tables-in-an-external-sql-database"></a><span data-ttu-id="6a8eb-142">Anwendungen mit Transaktionen, die Dateien auf einem lokalen NTFS-Volume und Tabellen in einer externen SQL-Datenbank betreffen</span><span class="sxs-lookup"><span data-stu-id="6a8eb-142">Applications with Transactions involving files on a local NTFS volume and Tables in an external SQL database</span></span>

<span data-ttu-id="6a8eb-143">Es gibt Anwendungs Klassen, die entweder über große datasetanforderungen verfügen oder transaktionale Atomizität in einem Vorgang mit externer Datenbank und lokalem Speicher aufweisen müssen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-143">There are classes of applications which either have large dataset needs, or need to have transactional atomicity in an operation involving an external database and local storage.</span></span> <span data-ttu-id="6a8eb-144">In diesem Szenario wird dringend empfohlen, dass Entwickler SQL-filestreams verwenden, um Transaktions Datei Vorgänge auszuführen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-144">For this scenario, it is highly recommended that developers consider using SQL Filestreams to perform transactional file operations.</span></span> <span data-ttu-id="6a8eb-145">Weitere Informationen zu SQL-filestreams finden Sie unter <https://technet.microsoft.com/library/bb933993.aspx> .</span><span class="sxs-lookup"><span data-stu-id="6a8eb-145">For more information on SQL Filestreams, please see <https://technet.microsoft.com/library/bb933993.aspx>.</span></span>

## <a name="closing--recommended-action"></a><span data-ttu-id="6a8eb-146">Schließen & empfohlenen Aktion</span><span class="sxs-lookup"><span data-stu-id="6a8eb-146">Closing & Recommended Action</span></span>

<span data-ttu-id="6a8eb-147">TxF ist ein komplexer und differenzierter Satz von APIs, die nicht häufig von Anwendungen von Drittanbietern verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-147">TxF is a complex and nuanced set of APIs which are not commonly used by 3rd party applications.</span></span> <span data-ttu-id="6a8eb-148">Mit der Möglichkeit, dass diese APIs in zukünftigen Versionen von Windows möglicherweise nicht verfügbar sind, und die Tatsache, dass es eine einfachere Alternative bedeutet, viele der Szenarien zu erreichen, für die TxF entwickelt wurde, empfiehlt Microsoft Entwicklern dringend, diese alternativen Mittel zu untersuchen, anstatt eine Abhängigkeit von TxF in Ihren Anwendungen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6a8eb-148">With the possibility that these APIs may not be available in future versions of Windows, and the fact that there are simpler alternative means to achieve many of the scenarios which TxF was developed for, Microsoft strongly recommends developers to investigate those alternative means instead of creating a dependency on TxF in their applications.</span></span>

 

 
