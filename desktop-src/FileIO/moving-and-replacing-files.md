---
description: Überlegungen zum Verschieben und Ersetzen von Dateien mithilfe der CopyFileEx-, der-Funktion, der ReplaceFile-Funktion und der-Funktion von "muvefileex".
ms.assetid: 4872af0d-42e8-4576-9aa9-4b8671375f2e
title: Verschieben und Ersetzen von Dateien
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7d7f08d2bd8d07645076620e839d7d12f5969502
ms.sourcegitcommit: 3d9dce1bd6c84e2b51759e940aa95aa9b459cd20
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/04/2021
ms.locfileid: "106354283"
---
# <a name="moving-and-replacing-files"></a><span data-ttu-id="8dc0c-103">Verschieben und Ersetzen von Dateien</span><span class="sxs-lookup"><span data-stu-id="8dc0c-103">Moving and Replacing Files</span></span>

<span data-ttu-id="8dc0c-104">Bevor ein Kopiervorgang ausgeführt werden kann, muss die Quelldatei geschlossen oder nur zum Lesen geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-104">Before a copy operation can be performed, the source file must be closed or opened only for reading.</span></span> <span data-ttu-id="8dc0c-105">Die Quelldatei kann nicht zum Schreiben geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-105">No thread can have the the source file opened for writing.</span></span> <span data-ttu-id="8dc0c-106">Um eine vorhandene Datei in eine neue Datei zu kopieren, verwenden Sie die Funktion [**CopyFile**](/windows/desktop/api/WinBase/nf-winbase-copyfile) oder [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) .</span><span class="sxs-lookup"><span data-stu-id="8dc0c-106">To copy an existing file to a new one, use the [**CopyFile**](/windows/desktop/api/WinBase/nf-winbase-copyfile) or [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) function.</span></span> <span data-ttu-id="8dc0c-107">Anwendungen können angeben, ob **CopyFile** und **CopyFileEx** fehlschlagen, wenn die Zieldatei bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-107">Applications can specify whether **CopyFile** and **CopyFileEx** fail if the destination file already exists.</span></span> <span data-ttu-id="8dc0c-108">Wenn die Zieldatei vorhanden ist und geöffnet ist, muss Sie mit anwendbaren Freigabe Berechtigungen geöffnet worden sein.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-108">If the destination file does exist and is open, it must have been opened with applicable sharing permissions.</span></span> <span data-ttu-id="8dc0c-109">Weitere Informationen finden Sie unter " [**kreatefile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea)".</span><span class="sxs-lookup"><span data-stu-id="8dc0c-109">For more information, see [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea).</span></span>

<span data-ttu-id="8dc0c-110">Mit der [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) -Funktion kann eine Anwendung auch die Adresse einer Rückruffunktion angeben (siehe [**copyprogressroutine**](/windows/desktop/api/WinBase/nc-winbase-lpprogress_routine)), die jedes Mal aufgerufen wird, wenn ein anderer Teil der Datei kopiert wurde.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-110">The [**CopyFileEx**](/windows/desktop/api/WinBase/nf-winbase-copyfileexa) function also allows an application to specify the address of a callback function (see [**CopyProgressRoutine**](/windows/desktop/api/WinBase/nc-winbase-lpprogress_routine)) that is called each time another portion of the file has been copied.</span></span> <span data-ttu-id="8dc0c-111">Die Anwendung kann diese Informationen verwenden, um einen Indikator anzuzeigen, der die Gesamtzahl der Bytes anzeigt, die als Prozentsatz der Gesamt Dateigröße kopiert wurden.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-111">The application can use this information to display an indicator that shows the total number of bytes copied as a percent of the total file size.</span></span>

<span data-ttu-id="8dc0c-112">Die [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) -Funktion ersetzt eine Datei durch eine andere Datei. die Option besteht darin, eine Sicherungskopie der ursprünglichen Datei zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-112">The [**ReplaceFile**](/windows/desktop/api/WinBase/nf-winbase-replacefilea) function replaces one file with another file, with the option of creating a backup copy of the original file.</span></span> <span data-ttu-id="8dc0c-113">Die Funktion behält Attribute der ursprünglichen Datei bei, z. b. die Erstellungszeit, die ACLs und das Verschlüsselungs Attribut.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-113">The function preserves attributes of the original file, such as its creation time, ACLs, and encryption attribute.</span></span>

<span data-ttu-id="8dc0c-114">Eine Datei muss auch geschlossen werden, bevor Sie von einer Anwendung verschoben werden kann.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-114">A file must also be closed before an application can move it.</span></span> <span data-ttu-id="8dc0c-115">Die Funktionen " [**muvefile**](/windows/desktop/api/WinBase/nf-winbase-movefile) " und " [**muvefileex**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) " kopieren eine vorhandene Datei an einen neuen Speicherort und löschen den ursprünglichen.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-115">The [**MoveFile**](/windows/desktop/api/WinBase/nf-winbase-movefile) and [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) functions copy an existing file to a new location and deletes the original.</span></span>

<span data-ttu-id="8dc0c-116">Mit der [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) -Funktion kann eine Anwendung auch angeben, wie die Datei verschoben werden soll.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-116">The [**MoveFileEx**](/windows/desktop/api/WinBase/nf-winbase-movefileexa) function also allows an application to specify how to move the file.</span></span> <span data-ttu-id="8dc0c-117">Die Funktion kann eine vorhandene Datei ersetzen, eine Datei zwischen Volumes verschieben und das Verschieben der Datei verzögern, bis das Betriebssystem neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="8dc0c-117">The function can replace an existing file, move a file across volumes, and delay moving the file until the operating system is restarted.</span></span>

 

 



