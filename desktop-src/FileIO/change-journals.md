---
description: Wenn eine Änderung an einer Datei oder einem Verzeichnis in einem Volume vorgenommen wird, wird das Änderungs Journal für die Aktualisierung des Volumes mit einer Beschreibung der Änderung und des Datei-oder Verzeichnis namens aktualisiert.
ms.assetid: 9a158c2b-da8e-4ca9-b3c1-2185cf41eb7d
title: Ändern von Journalen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fb5052ec87830a822270071a6ee00f1c3f7cffdd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103868255"
---
# <a name="change-journals"></a><span data-ttu-id="d375c-103">Ändern von Journalen</span><span class="sxs-lookup"><span data-stu-id="d375c-103">Change Journals</span></span>

<span data-ttu-id="d375c-104">Eine automatische Sicherungs Anwendung ist ein Beispiel für ein Programm, das eine Überprüfung auf Änderungen am Status eines Volumes durchführen muss, um seine Aufgabe auszuführen.</span><span class="sxs-lookup"><span data-stu-id="d375c-104">An automatic backup application is one example of a program that must check for changes to the state of a volume to perform its task.</span></span> <span data-ttu-id="d375c-105">Die Brute-Force-Methode zum Überprüfen von Änderungen in Verzeichnissen oder Dateien besteht darin, das gesamte Volume zu scannen.</span><span class="sxs-lookup"><span data-stu-id="d375c-105">The brute force method of checking for changes in directories or files is to scan the entire volume.</span></span> <span data-ttu-id="d375c-106">Dies ist jedoch häufig keine akzeptable Vorgehensweise, da die Systemleistung beeinträchtigt wird.</span><span class="sxs-lookup"><span data-stu-id="d375c-106">However, this is often not an acceptable approach because of the decrease in system performance it would cause.</span></span> <span data-ttu-id="d375c-107">Eine andere Methode besteht darin, dass die Anwendung eine Verzeichnis Benachrichtigung (durch Aufrufen der Funktionen [**findfirstchangenotifior**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstchangenotificationa) [**leaddirectorychangesw**](/windows/desktop/api/WinBase/nf-winbase-readdirectorychangesw) ) für die zu sichernden Verzeichnisse registriert.</span><span class="sxs-lookup"><span data-stu-id="d375c-107">Another method is for the application to register a directory notification (by calling the [**FindFirstChangeNotification**](/windows/desktop/api/FileAPI/nf-fileapi-findfirstchangenotificationa) or [**ReadDirectoryChangesW**](/windows/desktop/api/WinBase/nf-winbase-readdirectorychangesw) functions) for the directories to be backed up.</span></span> <span data-ttu-id="d375c-108">Dies ist effizienter als die erste Methode, erfordert jedoch, dass eine Anwendung immer ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d375c-108">This is more efficient than the first method, however, it requires that an application be running at all times.</span></span> <span data-ttu-id="d375c-109">Wenn eine große Anzahl von Verzeichnissen und Dateien gesichert werden muss, kann die Leistung des Betriebssystems durch die Menge an Verarbeitung und den Arbeitsspeicher Aufwand für eine solche Anwendung ebenfalls beeinträchtigt werden.</span><span class="sxs-lookup"><span data-stu-id="d375c-109">Also, if a large number of directories and files must be backed up, the amount of processing and memory overhead for such an application might also cause the operating system's performance to decrease.</span></span>

<span data-ttu-id="d375c-110">Um diese Nachteile zu vermeiden, verwaltet das NTFS-Dateisystem ein Änderungs Journal für eine Aktualisierungs Sequenznummer (Update Sequence Number, n).</span><span class="sxs-lookup"><span data-stu-id="d375c-110">To avoid these disadvantages, the NTFS file system maintains an update sequence number (USN) change journal.</span></span> <span data-ttu-id="d375c-111">Wenn eine Änderung an einer Datei oder einem Verzeichnis in einem Volume vorgenommen wird, wird das Änderungs Journal für die Aktualisierung des Volumes mit einer Beschreibung der Änderung und des Datei-oder Verzeichnis namens aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="d375c-111">When any change is made to a file or directory in a volume, the USN change journal for that volume is updated with a description of the change and the name of the file or directory.</span></span>

<span data-ttu-id="d375c-112">Änderungs Journale sind auch erforderlich, um die Dateisystem Indizierung nach einem Computer-oder Volumefehler wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="d375c-112">Change journals are also needed to recover file system indexing for example after a computer or volume failure.</span></span> <span data-ttu-id="d375c-113">Die Möglichkeit, die Indizierung wiederherzustellen, bedeutet, dass das Dateisystem den zeitaufwändigen Prozess der Neuindizierung des gesamten Volumes in solchen Fällen vermeiden kann.</span><span class="sxs-lookup"><span data-stu-id="d375c-113">The ability to recover indexing means the file system can avoid the time-consuming process of reindexing the entire volume in such cases.</span></span>

<span data-ttu-id="d375c-114">In den folgenden Themen werden Änderungs Journale erörtert.</span><span class="sxs-lookup"><span data-stu-id="d375c-114">The following topics discuss change journals.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="d375c-115">In diesem Abschnitt</span><span class="sxs-lookup"><span data-stu-id="d375c-115">In this section</span></span>



| <span data-ttu-id="d375c-116">Thema</span><span class="sxs-lookup"><span data-stu-id="d375c-116">Topic</span></span>                                                                                                                             | <span data-ttu-id="d375c-117">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="d375c-117">Description</span></span>                                                                                                                                                                                                                                          |
|-----------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d375c-118">Journal Datensätze ändern</span><span class="sxs-lookup"><span data-stu-id="d375c-118">Change Journal Records</span></span>](change-journal-records.md)<br/>                                                                   | <span data-ttu-id="d375c-119">Beim Hinzufügen, löschen und Ändern von Dateien, Verzeichnissen und anderen NTFS-Dateisystemobjekten werden vom NTFS-Dateisystem Datensätze für Änderungs Journal in Streams eingegeben, eine für jedes Volume auf dem Computer.</span><span class="sxs-lookup"><span data-stu-id="d375c-119">As files, directories, and other NTFS file system objects are added, deleted, and modified, the NTFS file system enters change journal records in streams, one for each volume on the computer.</span></span><br/>                                           |
| [<span data-ttu-id="d375c-120">Verwenden des Änderungs Journal Bezeichners</span><span class="sxs-lookup"><span data-stu-id="d375c-120">Using the Change Journal Identifier</span></span>](using-the-change-journal-identifier.md)<br/>                                         | <span data-ttu-id="d375c-121">Das NTFS-Dateisystem ordnet jedem Änderungs Journal einen 64-Bit-Bezeichner ohne Vorzeichen zu.</span><span class="sxs-lookup"><span data-stu-id="d375c-121">The NTFS file system associates an unsigned 64-bit identifier with each change journal.</span></span><br/>                                                                                                                                                   |
| [<span data-ttu-id="d375c-122">Erstellen, ändern und Löschen eines Änderungs Journals</span><span class="sxs-lookup"><span data-stu-id="d375c-122">Creating, Modifying, and Deleting a Change Journal</span></span>](creating-modifying-and-deleting-a-change-journal.md)<br/>             | <span data-ttu-id="d375c-123">Administratoren können Änderungs Journale erstellen, löschen und neu erstellen.</span><span class="sxs-lookup"><span data-stu-id="d375c-123">Administrators can create, delete, and re-create change journals.</span></span><br/>                                                                                                                                                                         |
| [<span data-ttu-id="d375c-124">Abrufen eines Volumehandles für Änderungs Journal Vorgänge</span><span class="sxs-lookup"><span data-stu-id="d375c-124">Obtaining a Volume Handle for Change Journal Operations</span></span>](obtaining-a-volume-handle-for-change-journal-operations.md)<br/> | <span data-ttu-id="d375c-125">Rufen Sie zum Abrufen eines Handles für ein Volume zur Verwendung mit Aktualisierungs Zeichenfolgenvorgängen (Update Sequence Number, Aktualisierungs Sequenznummer) die Funktion "| [**atefile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) " mit dem Parameter " *lpFileName* " auf, die auf eine Zeichenfolge in der folgenden Form \\ \\ \\ *X*.</span><span class="sxs-lookup"><span data-stu-id="d375c-125">To obtain a handle to a volume for use with update sequence number (USN) change journal operations, call the [**CreateFile**](/windows/desktop/api/FileAPI/nf-fileapi-createfilea) function with the *lpFileName* parameter set to a string of the following form: \\\\.\\*X*.</span></span><br/> |
| [<span data-ttu-id="d375c-126">Ändern von Journal Vorgängen</span><span class="sxs-lookup"><span data-stu-id="d375c-126">Change Journal Operations</span></span>](change-journal-operations.md)<br/>                                                             | <span data-ttu-id="d375c-127">Steuern Sie Codes und Strukturen, die mit dem Änderungs Journal für die NTFS-Dateisystem-Aktualisierungs Sequenznummer verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="d375c-127">Control codes and structures to use with the NTFS file system update sequence number (USN) change journal.</span></span><br/>                                                                                                                                |



 

 

 




