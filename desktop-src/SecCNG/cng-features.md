---
description: 'CNG verfügt über die folgenden Funktionen:'
ms.assetid: 400a2b6e-6bbe-4ba4-abde-a2f625007517
title: CNG-Features
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df40606a255adc90bd36540571979c1c34579611
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106343036"
---
# <a name="cng-features"></a><span data-ttu-id="878d4-103">CNG-Features</span><span class="sxs-lookup"><span data-stu-id="878d4-103">CNG Features</span></span>

<span data-ttu-id="878d4-104">CNG verfügt über die folgenden Funktionen:</span><span class="sxs-lookup"><span data-stu-id="878d4-104">CNG has the following features.</span></span>

-   [<span data-ttu-id="878d4-105">Kryptografische Agilität</span><span class="sxs-lookup"><span data-stu-id="878d4-105">Cryptographic Agility</span></span>](#cryptographic-agility)
-   [<span data-ttu-id="878d4-106">Zertifizierung und Konformität</span><span class="sxs-lookup"><span data-stu-id="878d4-106">Certification and Compliance</span></span>](#certification-and-compliance)
-   [<span data-ttu-id="878d4-107">Suite B-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="878d4-107">Suite B Support</span></span>](#suite-b-support)
-   [<span data-ttu-id="878d4-108">Legacy Unterstützung</span><span class="sxs-lookup"><span data-stu-id="878d4-108">Legacy Support</span></span>](#legacy-support)
-   [<span data-ttu-id="878d4-109">Kernel Modus-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="878d4-109">Kernel Mode Support</span></span>](#kernel-mode-support)
-   [<span data-ttu-id="878d4-110">Überwachung</span><span class="sxs-lookup"><span data-stu-id="878d4-110">Auditing</span></span>](#auditing)
-   [<span data-ttu-id="878d4-111">Austauschbare Zufallszahlengeneratoren</span><span class="sxs-lookup"><span data-stu-id="878d4-111">Replaceable Random Number Generators</span></span>](#replaceable-random-number-generators)
-   [<span data-ttu-id="878d4-112">Threadsicherheit</span><span class="sxs-lookup"><span data-stu-id="878d4-112">Thread Safety</span></span>](#thread-safety)
-   [<span data-ttu-id="878d4-113">Betriebsmodus</span><span class="sxs-lookup"><span data-stu-id="878d4-113">Mode of Operation</span></span>](#mode-of-operation)

## <a name="cryptographic-agility"></a><span data-ttu-id="878d4-114">Kryptografische Agilität</span><span class="sxs-lookup"><span data-stu-id="878d4-114">Cryptographic Agility</span></span>

<span data-ttu-id="878d4-115">Eines der wichtigsten Wertbeiträge von CNG ist kryptografische Agilität, auch als kryptografieagnostizismus bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="878d4-115">One of the key value propositions of CNG is cryptographic agility, sometimes called cryptographic agnosticism.</span></span> <span data-ttu-id="878d4-116">Die Implementierung von Protokollen wie [*Secure Sockets Layer Protocol*](/windows/desktop/SecGloss/s-gly) (SSL) oder [*Transport Layer Security*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPSec, Kerberos usw. in CNG war jedoch erforderlich, um diese Möglichkeit zu Verb legen.</span><span class="sxs-lookup"><span data-stu-id="878d4-116">Converting implementation of protocols like [*Secure Sockets Layer protocol*](/windows/desktop/SecGloss/s-gly) (SSL) or [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPsec, Kerberos, and so on, to CNG, however, was required to make this ability valuable.</span></span> <span data-ttu-id="878d4-117">Auf der CNG-Ebene musste die Ersetzung und Erkennbarkeit für alle Algorithmustypen (symmetrische, asymmetrische, Hash Funktionen), Zufallszahlengenerierung und andere Hilfsfunktionen bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-117">At the CNG level, it was necessary to provide substitution and discoverability for all the algorithm types (symmetric, asymmetric, hash functions), random number generation, and other utility functions.</span></span> <span data-ttu-id="878d4-118">Die Änderungen auf Protokollebene sind signifikanter, weil die Protokoll-APIs in vielen Fällen zum Hinzufügen der Algorithmusauswahl und anderer Optionen für die Flexibilität benötigt werden, die zuvor noch nicht vorhanden waren.</span><span class="sxs-lookup"><span data-stu-id="878d4-118">The protocol-level changes are more significant because in many cases the protocol APIs needed to add algorithm selection and other flexibility options that did not previously exist.</span></span>

<span data-ttu-id="878d4-119">CNG ist zuerst in Windows Vista verfügbar und wird so positioniert, dass im gesamten Microsoft-Software Stapel vorhandene Verwendungen von [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-119">CNG is first available in Windows Vista and is positioned to replace existing uses of [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) throughout the Microsoft software stack.</span></span> <span data-ttu-id="878d4-120">Entwickler von Drittanbietern werden viele neue Features in CNG finden, einschließlich:</span><span class="sxs-lookup"><span data-stu-id="878d4-120">Third-party developers will find lots of new features in CNG, including:</span></span>

-   <span data-ttu-id="878d4-121">Ein neues Kryptografiekonfigurationssystem, das eine bessere kryptografische Agilität unterstützt.</span><span class="sxs-lookup"><span data-stu-id="878d4-121">A new crypto configuration system, supporting better cryptographic agility.</span></span>
-   <span data-ttu-id="878d4-122">Präzisere Abstraktion für den Schlüsselspeicher (und die Trennung des Speichers von algorithmusvorgängen).</span><span class="sxs-lookup"><span data-stu-id="878d4-122">Finer-grained abstraction for key storage (and separation of storage from algorithm operations).</span></span>
-   <span data-ttu-id="878d4-123">Prozess Isolation für Vorgänge mit langfristigen Schlüsseln.</span><span class="sxs-lookup"><span data-stu-id="878d4-123">Process isolation for operations with long-term keys.</span></span>
-   <span data-ttu-id="878d4-124">Ersatz Bare Zufallszahlengeneratoren.</span><span class="sxs-lookup"><span data-stu-id="878d4-124">Replaceable random number generators.</span></span>
-   <span data-ttu-id="878d4-125">Erleichterung von Einschränkungen beim Exportieren von Signaturen.</span><span class="sxs-lookup"><span data-stu-id="878d4-125">Relief from export signing restrictions.</span></span>
-   <span data-ttu-id="878d4-126">Thread Sicherheit im Stapel.</span><span class="sxs-lookup"><span data-stu-id="878d4-126">Thread-safety throughout the stack.</span></span>
-   <span data-ttu-id="878d4-127">Kernelmoduskryptografieapi.</span><span class="sxs-lookup"><span data-stu-id="878d4-127">Kernel-mode cryptographic API.</span></span>

<span data-ttu-id="878d4-128">Außerdem bietet CNG Unterstützung für alle erforderlichen Suite B Algorithmen, einschließlich der [*Kryptografie für elliptische Kurven*](/windows/desktop/SecGloss/e-gly) (ECC).</span><span class="sxs-lookup"><span data-stu-id="878d4-128">In addition, CNG includes support for all required Suite B algorithms, including [*elliptic curve cryptography*](/windows/desktop/SecGloss/e-gly) (ECC).</span></span> <span data-ttu-id="878d4-129">Vorhandene CryptoAPI-Anwendungen funktionieren weiterhin, wenn CNG verfügbar wird.</span><span class="sxs-lookup"><span data-stu-id="878d4-129">Existing CryptoAPI applications will continue to work as CNG becomes available.</span></span>

## <a name="certification-and-compliance"></a><span data-ttu-id="878d4-130">Zertifizierung und Konformität</span><span class="sxs-lookup"><span data-stu-id="878d4-130">Certification and Compliance</span></span>

<span data-ttu-id="878d4-131">CNG wird gemäß Federal Information Processing Standards (FIPS) 140-2 überprüft und ist Bestandteil des Evaluierungs Ziels für die Windows Common Criteria-Zertifizierung.</span><span class="sxs-lookup"><span data-stu-id="878d4-131">CNG is validated to Federal Information Processing Standards (FIPS) 140-2 and is part of the Target of Evaluation for the Windows Common Criteria certification.</span></span> <span data-ttu-id="878d4-132">CNG wurde so konzipiert, dass es als Komponente in einem überprüften System mit der Ebene 2 auf der Ebene 2 verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="878d4-132">CNG was designed to be usable as a component in a FIPS level 2 validated system.</span></span>

<span data-ttu-id="878d4-133">CNG erfüllt gängige kriterienanforderungen, indem lange gelebte Schlüssel in einem sicheren Prozess gespeichert und verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-133">CNG complies with Common Criteria requirements by storing and using long lived keys in a secure process.</span></span>

## <a name="suite-b-support"></a><span data-ttu-id="878d4-134">Suite B-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="878d4-134">Suite B Support</span></span>

<span data-ttu-id="878d4-135">Ein wichtiges Feature von CNG ist die Unterstützung der Suite B Algorithmen.</span><span class="sxs-lookup"><span data-stu-id="878d4-135">An important feature of CNG is its support for the Suite B algorithms.</span></span> <span data-ttu-id="878d4-136">Im Februar von 2005 hat die National Security Agency (NSA) des USA einen koordinierten Satz symmetrischer Verschlüsselung, eine asymmetrische geheime Vereinbarung (auch als Schlüsselaustausch bezeichnet), digitale Signaturen und Hash Funktionen für die zukünftige Verwendung *Suite B* der US-Regierung angekündigt. Die NSA hat angekündigt, dass zertifizierte Suite B Implementierungen zum Schutz von Informationen verwendet werden können, die als geheime Schlüssel, geheime Schlüssel und private Informationen festgelegt sind, die in der Vergangenheit als vertraulich, aber-nicht klassifiziert beschrieben wurden.</span><span class="sxs-lookup"><span data-stu-id="878d4-136">In February of 2005, the National Security Agency (NSA) of the United States announced a coordinated set of symmetric encryption, asymmetric secret agreement (also known as key exchange), digital signature and hash functions for future U.S. government use called *Suite B*. The NSA has announced that certified Suite B implementations can and will be used for the protection of information designated as Top Secret, Secret, and private information that, in the past was described as Sensitive-But-Unclassified.</span></span> <span data-ttu-id="878d4-137">Aus diesem Grund ist die Suite B Unterstützung für Anwendungssoftware Hersteller und Systemintegratoren sowie für Microsoft sehr wichtig.</span><span class="sxs-lookup"><span data-stu-id="878d4-137">Because of this, Suite B support is very important to application software vendors and system integrators as well as to Microsoft.</span></span>

<span data-ttu-id="878d4-138">Alle Suite B Algorithmen sind öffentlich bekannt.</span><span class="sxs-lookup"><span data-stu-id="878d4-138">All Suite B algorithms are publicly known.</span></span> <span data-ttu-id="878d4-139">Sie wurden außerhalb des Umfangs des Regierungs Geheimnisses entwickelt, das in der Vergangenheit mit der Entwicklung kryptografischer Algorithmen verbunden war.</span><span class="sxs-lookup"><span data-stu-id="878d4-139">They have been developed outside the scope of the government secrecy historically associated with cryptographic algorithm development.</span></span> <span data-ttu-id="878d4-140">Im gleichen Zeitrahmen haben auch in einigen europäischen Ländern und Regionen dieselben Suite B Anforderungen zum Schutz Ihrer Informationen vorgeschlagen.</span><span class="sxs-lookup"><span data-stu-id="878d4-140">In this same time frame, some European countries and regions have also proposed the same Suite B requirements for protecting their information.</span></span>

<span data-ttu-id="878d4-141">Suite B Kryptografie empfiehlt die Verwendung von ECDH (Elliptic Curve Diffie-Hellman) in vielen vorhandenen Protokollen, wie z. b. dem Internetschlüsselaustausch (IKE, hauptsächlich in IPSec), [*Transport Layer Security*](/windows/desktop/SecGloss/t-gly) (TLS) und Secure MIME (S/MIME).</span><span class="sxs-lookup"><span data-stu-id="878d4-141">Suite B cryptography recommends use of elliptic curve Diffie-Hellman (ECDH) in many existing protocols such as the Internet Key Exchange (IKE, mainly used in IPsec), [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), and Secure MIME (S/MIME).</span></span>

<span data-ttu-id="878d4-142">CNG bietet Unterstützung für Suite B, die sich auf alle erforderlichen Algorithmen erstreckt: AES (alle Schlüsselgrößen), SHA-2-Familie (SHA-256, SHA-384 und SHA-512) von Hash Algorithmen, ECDH und Elliptic Curve DSA (ECDSA) über die NIST-Standard-Prim Kurven p-256, p-384 und p-521.</span><span class="sxs-lookup"><span data-stu-id="878d4-142">CNG includes support for Suite B that extends to all required algorithms: AES (all key sizes), the SHA-2 family (SHA-256, SHA-384 and SHA-512) of hashing algorithms, ECDH, and elliptic curve DSA (ECDSA) over the NIST-standard prime curves P-256, P-384, and P-521.</span></span> <span data-ttu-id="878d4-143">Binäre Kurven, Koblitz-Kurven, benutzerdefinierte primkurven und elliptische Kurven Menezes-qu-Vanstone (ecmqv) werden von den in Windows Vista enthaltenen Microsoft-Algorithmusanbietern nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="878d4-143">Binary curves, Koblitz curves, custom prime curves, and elliptic curve Menezes-Qu-Vanstone (ECMQV) are not supported by the Microsoft algorithm providers included with Windows Vista.</span></span>

## <a name="legacy-support"></a><span data-ttu-id="878d4-144">Legacy Unterstützung</span><span class="sxs-lookup"><span data-stu-id="878d4-144">Legacy Support</span></span>

<span data-ttu-id="878d4-145">CNG bietet Unterstützung für den aktuellen Satz von Algorithmen in [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1,0.</span><span class="sxs-lookup"><span data-stu-id="878d4-145">CNG provides support for the current set of algorithms in [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1.0.</span></span> <span data-ttu-id="878d4-146">Jeder Algorithmus, der derzeit in *CryptoAPI* 1,0 unterstützt wird, wird in CNG weiterhin unterstützt.</span><span class="sxs-lookup"><span data-stu-id="878d4-146">Every algorithm that is currently supported in *CryptoAPI* 1.0 will continue to be supported in CNG.</span></span>

## <a name="kernel-mode-support"></a><span data-ttu-id="878d4-147">Kernel Modus-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="878d4-147">Kernel Mode Support</span></span>

<span data-ttu-id="878d4-148">CNG unterstützt Kryptografie im Kernel Modus.</span><span class="sxs-lookup"><span data-stu-id="878d4-148">CNG supports cryptography in kernel mode.</span></span> <span data-ttu-id="878d4-149">Die gleichen APIs werden sowohl im Kernel-als auch im Benutzermodus verwendet, um die Kryptografiefeatures vollständig zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="878d4-149">The same APIs are used in both kernel and user mode to fully support the cryptography features.</span></span> <span data-ttu-id="878d4-150">Sowohl SSL/TLS als auch IPSec werden neben Start Prozessen, die CNG verwenden, im Kernel Modus ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="878d4-150">Both SSL/TLS and IPsec operate in kernel mode in addition to boot processes that will be using CNG.</span></span> <span data-ttu-id="878d4-151">Nicht alle CNG-Funktionen können aus dem Kernel Modus aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-151">Not all CNG functions can be called from kernel mode.</span></span> <span data-ttu-id="878d4-152">Das Referenz Thema für die Funktionen, die nicht aus dem Kernel Modus aufgerufen werden können, gibt explizit an, dass die Funktion nicht aus dem Kernel Modus aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="878d4-152">The reference topic for the functions that cannot be called from kernel mode will explicitly state that the function cannot be called from kernel mode.</span></span> <span data-ttu-id="878d4-153">Andernfalls können alle CNG-Funktionen aus dem Kernel Modus aufgerufen werden, wenn der Aufrufer auf der **passiven \_ Ebene** " [*unql*](/windows/desktop/SecGloss/i-gly)" ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="878d4-153">Otherwise, all CNG functions can be called from kernel mode if the caller is running at **PASSIVE\_LEVEL** [*IRQL*](/windows/desktop/SecGloss/i-gly).</span></span> <span data-ttu-id="878d4-154">Außerdem kann es sein, dass einige CNG-Funktionen für den kernelmodusvorgang auf der **\_ dispatchebene "unql**", abhängig von den Funktionen des Anbieters</span><span class="sxs-lookup"><span data-stu-id="878d4-154">In addition, some kernel mode CNG functions may be callable at **DISPATCH\_LEVEL IRQL**, depending on the provider's capabilities.</span></span>

<span data-ttu-id="878d4-155">Bei der Microsoft Kernel Security Support Provider Interface (Ksecdd.sys) handelt es sich um ein allgemeines, softwarebasiertes kryptografiemodul, das sich auf der kernelmodusebene von Windows befindet.</span><span class="sxs-lookup"><span data-stu-id="878d4-155">The Microsoft kernel security support provider interface (Ksecdd.sys) is a general purpose, software-based, cryptographic module residing at the kernel mode level of Windows.</span></span> <span data-ttu-id="878d4-156">Ksecdd.sys wird als Export Treiber für den Kernel Modus ausgeführt und stellt Kryptografiedienste über die dokumentierten Schnittstellen für Kernel Komponenten bereit.</span><span class="sxs-lookup"><span data-stu-id="878d4-156">Ksecdd.sys runs as a kernel mode export driver, and provides cryptographic services through their documented interfaces to kernel components.</span></span> <span data-ttu-id="878d4-157">Der einzige integrierte Microsoft-Anbieter Algorithmus, der nicht von Ksecdd.sys unterstützt wird, ist DSA.</span><span class="sxs-lookup"><span data-stu-id="878d4-157">The only built-in Microsoft provider algorithm that is not supported by Ksecdd.sys is DSA.</span></span>

<span data-ttu-id="878d4-158">**Windows Server 2008 und Windows Vista:** CNG unterstützt keine austauschbaren Algorithmen und Anbieter im Kernel Modus.</span><span class="sxs-lookup"><span data-stu-id="878d4-158">**Windows Server 2008 and Windows Vista:** CNG does not support pluggable algorithms and providers in kernel mode.</span></span> <span data-ttu-id="878d4-159">Die einzigen unterstützten Kryptografiealgorithmen, die im Kernel Modus verfügbar sind, sind die von Microsoft bereitgestellten Implementierungen über die CNG-APIs des Kernelmodus</span><span class="sxs-lookup"><span data-stu-id="878d4-159">The only supported cryptographic algorithms available in kernel mode are those implementations provided by Microsoft through the kernel mode CNG APIs.</span></span>

## <a name="auditing"></a><span data-ttu-id="878d4-160">Überwachung</span><span class="sxs-lookup"><span data-stu-id="878d4-160">Auditing</span></span>

<span data-ttu-id="878d4-161">Um einige der allgemeinen kriterienanforderungen zu erfüllen, zusätzlich zur Bereitstellung umfassender Sicherheit, werden viele Aktionen in der CNG-Schicht im Microsoft-Software Schlüsselspeicher-Anbieter (KSP) überwacht.</span><span class="sxs-lookup"><span data-stu-id="878d4-161">To comply with some of the Common Criteria requirements in addition to providing comprehensive security, many actions that happen in the CNG layer are audited in the Microsoft software key storage provider (KSP).</span></span> <span data-ttu-id="878d4-162">Die Microsoft-KSP befolgt die folgenden Richtlinien, um Überwachungsdaten Sätze im Sicherheitsprotokoll zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="878d4-162">The Microsoft KSP adheres to the following guidelines to create audit records in the security log:</span></span>

-   <span data-ttu-id="878d4-163">Fehler bei der Generierung von Schlüsseln und Schlüsselpaaren, einschließlich Selbsttest Fehlern, müssen überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-163">Key and key-pair generation failures, including self-test failures, must be audited.</span></span>
-   <span data-ttu-id="878d4-164">Schlüssel Import und-Export müssen überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-164">Key import and export must be audited.</span></span>
-   <span data-ttu-id="878d4-165">Fehler bei der Schlüssel Zerstörung müssen überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-165">Key destruction failures must be audited.</span></span>
-   <span data-ttu-id="878d4-166">Persistente Schlüssel müssen überwacht werden, wenn Sie in Dateien geschrieben und aus diesen gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-166">Persistent keys need to be audited when they are written to and read from files.</span></span>
-   <span data-ttu-id="878d4-167">Fehler bei der paar weisen Konsistenzprüfung müssen überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-167">Pair-wise consistency check failures must be audited.</span></span>
-   <span data-ttu-id="878d4-168">Fehler bei der Überprüfung des geheimen Schlüssels (falls vorhanden) müssen überprüft werden, z. b. bei Paritäts Überprüfungen auf 3DES-Schlüsseln</span><span class="sxs-lookup"><span data-stu-id="878d4-168">Secret key validation failures, if any, must be audited, for example, parity checks on 3DES keys.</span></span>
-   <span data-ttu-id="878d4-169">Fehler bei Verschlüsselung, Entschlüsselung, Hashwert, Signatur, Überprüfung, Schlüsselaustausch und Zufallszahlengenerierung müssen überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-169">Failures in encryption, decryption, hashing, signature, verification, key exchange, and random number generation must be audited.</span></span>
-   <span data-ttu-id="878d4-170">Kryptografische Self-Tests müssen überwacht werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-170">Cryptographic self-tests must be audited.</span></span>

<span data-ttu-id="878d4-171">Im Allgemeinen handelt es sich bei einem Schlüssel, der keinen Namen hat, um einen kurzlebigen Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="878d4-171">In general, if a key does not have a name, it is an ephemeral key.</span></span> <span data-ttu-id="878d4-172">Ein kurzlebiger Schlüssel wird nicht beibehalten, und der Microsoft KSP generiert keine Überwachungsdaten Sätze für kurzlebige Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="878d4-172">An ephemeral key does not persist, and the Microsoft KSP does not generate audit records for ephemeral keys.</span></span> <span data-ttu-id="878d4-173">Der Microsoft-KSP generiert nur im LSA-Prozess Überwachungsdaten Sätze im Benutzermodus.</span><span class="sxs-lookup"><span data-stu-id="878d4-173">The Microsoft KSP generates audit records in user mode in the LSA process only.</span></span> <span data-ttu-id="878d4-174">Von der kernelmoduscng wird kein Überwachungsdaten Satz generiert.</span><span class="sxs-lookup"><span data-stu-id="878d4-174">No audit record is generated by kernel mode CNG.</span></span> <span data-ttu-id="878d4-175">Administratoren müssen die Überwachungsrichtlinie so konfigurieren, dass alle KSP-Überwachungs Protokolle aus dem Sicherheitsprotokoll abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-175">Administrators need to configure the audit policy to obtain all KSP audit logs from the security log.</span></span> <span data-ttu-id="878d4-176">Ein Administrator muss die folgende Befehlszeile ausführen, um zusätzliche Überwachungen zu konfigurieren, die von kSPS generiert werden:</span><span class="sxs-lookup"><span data-stu-id="878d4-176">An administrator must run the following command line to configure additional audits generated by KSPs:</span></span>

<span data-ttu-id="878d4-177">**Auditpol/Set/SubCategory: "Sonstige Systemereignisse"/Success: enable/Failure: enable**</span><span class="sxs-lookup"><span data-stu-id="878d4-177">**auditpol /set /subcategory:"other system events" /success:enable /failure:enable**</span></span>

## <a name="replaceable-random-number-generators"></a><span data-ttu-id="878d4-178">Austauschbare Zufallszahlengeneratoren</span><span class="sxs-lookup"><span data-stu-id="878d4-178">Replaceable Random Number Generators</span></span>

<span data-ttu-id="878d4-179">Eine weitere Verbesserung, die CNG bietet, ist die Möglichkeit, den standardmäßigen Zufallszahlengenerator (RNG) zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="878d4-179">Another improvement that CNG provides is the ability to replace the default random number generator (RNG).</span></span> <span data-ttu-id="878d4-180">In CryptoAPI ist es möglich, eine Alternative RNG als Teil eines Kryptografiedienstanbieters (kryptografischen Service Provider, CSP) bereitzustellen, aber es ist nicht möglich, die Microsoft Base-CSPs zur Verwendung eines anderen RNG umzuleiten.</span><span class="sxs-lookup"><span data-stu-id="878d4-180">In CryptoAPI, it is possible to provide an alternate RNG as part of a cryptographic service provider (CSP), but it is not possible to redirect the Microsoft Base CSPs to use another RNG.</span></span> <span data-ttu-id="878d4-181">CNG ermöglicht das explizite Angeben eines bestimmten RNG, der in bestimmten Aufrufen verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="878d4-181">CNG makes it possible to explicitly specify a particular RNG to use within particular calls.</span></span>

## <a name="thread-safety"></a><span data-ttu-id="878d4-182">Threadsicherheit</span><span class="sxs-lookup"><span data-stu-id="878d4-182">Thread Safety</span></span>

<span data-ttu-id="878d4-183">Alle Funktionen, die den gleichen Arbeitsspeicher Bereich gleichzeitig ändern (kritische Abschnitte), wenn Sie von separaten Threads aufgerufen werden, sind nicht Thread sicher.</span><span class="sxs-lookup"><span data-stu-id="878d4-183">Any functions that modify the same area of memory at the same time (critical sections) when being called from separate threads are not thread safe.</span></span>

## <a name="mode-of-operation"></a><span data-ttu-id="878d4-184">Betriebsmodus</span><span class="sxs-lookup"><span data-stu-id="878d4-184">Mode of Operation</span></span>

<span data-ttu-id="878d4-185">CNG unterstützt fünf Betriebsmodi, die mit symmetrischen Blockchiffren durch die Verschlüsselungs-APIs verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="878d4-185">CNG supports five modes of operations that can be used with symmetric block ciphers through the encryption APIs.</span></span> <span data-ttu-id="878d4-186">Diese Modi und deren unter Stütz barkeit sind in der folgenden Tabelle aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="878d4-186">These modes and their supportability are listed in the following table.</span></span> <span data-ttu-id="878d4-187">Der Vorgangs Modus kann durch Festlegen der [**bcrypt- \_ Verkettungs \_ Modus**](cng-property-identifiers.md) -Eigenschaft für den Algorithmusanbieter mithilfe der [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) -Funktion geändert werden.</span><span class="sxs-lookup"><span data-stu-id="878d4-187">The mode of operation can be changed by setting the [**BCRYPT\_CHAINING\_MODE**](cng-property-identifiers.md) property for the algorithm provider by using the [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) function.</span></span>



| <span data-ttu-id="878d4-188">Betriebsmodus</span><span class="sxs-lookup"><span data-stu-id="878d4-188">Mode of operation</span></span>           | <span data-ttu-id="878d4-189">Wert des bcrypt- \_ Verkettungs \_ Modus</span><span class="sxs-lookup"><span data-stu-id="878d4-189">BCRYPT\_CHAINING\_MODE value</span></span> | <span data-ttu-id="878d4-190">Algorithmen</span><span class="sxs-lookup"><span data-stu-id="878d4-190">Algorithms</span></span>              | <span data-ttu-id="878d4-191">Standard</span><span class="sxs-lookup"><span data-stu-id="878d4-191">Standard</span></span>  |
|-----------------------------|------------------------------|-------------------------|-----------|
| <span data-ttu-id="878d4-192">ECB (elektronisches Codebook)</span><span class="sxs-lookup"><span data-stu-id="878d4-192">ECB (Electronic Codebook)</span></span>   | <span data-ttu-id="878d4-193">**bcrypt- \_ Ketten \_ Modus- \_ ECB**</span><span class="sxs-lookup"><span data-stu-id="878d4-193">**BCRYPT\_CHAIN\_MODE\_ECB**</span></span> | <span data-ttu-id="878d4-194">Symmetrische Blockchiffren</span><span class="sxs-lookup"><span data-stu-id="878d4-194">Symmetric block ciphers</span></span> | <span data-ttu-id="878d4-195">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="878d4-195">SP800-38A</span></span> |
| <span data-ttu-id="878d4-196">CBC (Chiffre Block Verkettung)</span><span class="sxs-lookup"><span data-stu-id="878d4-196">CBC (Cipher Block Chaining)</span></span> | <span data-ttu-id="878d4-197">**bcrypt- \_ Ketten \_ Modus ( \_ CBC)**</span><span class="sxs-lookup"><span data-stu-id="878d4-197">**BCRYPT\_CHAIN\_MODE\_CBC**</span></span> | <span data-ttu-id="878d4-198">Symmetrische Blockchiffren</span><span class="sxs-lookup"><span data-stu-id="878d4-198">Symmetric block ciphers</span></span> | <span data-ttu-id="878d4-199">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="878d4-199">SP800-38A</span></span> |
| <span data-ttu-id="878d4-200">CFB (Chiffre Feedback)</span><span class="sxs-lookup"><span data-stu-id="878d4-200">CFB (Cipher Feedback)</span></span>       | <span data-ttu-id="878d4-201">**bcrypt- \_ Ketten \_ Modus ( \_ CFB)**</span><span class="sxs-lookup"><span data-stu-id="878d4-201">**BCRYPT\_CHAIN\_MODE\_CFB**</span></span> | <span data-ttu-id="878d4-202">Symmetrische Blockchiffren</span><span class="sxs-lookup"><span data-stu-id="878d4-202">Symmetric block ciphers</span></span> | <span data-ttu-id="878d4-203">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="878d4-203">SP800-38A</span></span> |
| <span data-ttu-id="878d4-204">CCM (Counter mit CBC)</span><span class="sxs-lookup"><span data-stu-id="878d4-204">CCM (Counter with CBC)</span></span>      | <span data-ttu-id="878d4-205">**bcrypt- \_ Ketten \_ Modus- \_ ccm**</span><span class="sxs-lookup"><span data-stu-id="878d4-205">**BCRYPT\_CHAIN\_MODE\_CCM**</span></span> | <span data-ttu-id="878d4-206">AES</span><span class="sxs-lookup"><span data-stu-id="878d4-206">AES</span></span>                     | <span data-ttu-id="878d4-207">SP800-38c</span><span class="sxs-lookup"><span data-stu-id="878d4-207">SP800-38C</span></span> |
| <span data-ttu-id="878d4-208">GCM (Galois/Counter-Modus)</span><span class="sxs-lookup"><span data-stu-id="878d4-208">GCM (Galois/Counter Mode)</span></span>   | <span data-ttu-id="878d4-209">**bcrypt- \_ Ketten \_ Modus- \_ GCM**</span><span class="sxs-lookup"><span data-stu-id="878d4-209">**BCRYPT\_CHAIN\_MODE\_GCM**</span></span> | <span data-ttu-id="878d4-210">AES</span><span class="sxs-lookup"><span data-stu-id="878d4-210">AES</span></span>                     | <span data-ttu-id="878d4-211">SP800-38d</span><span class="sxs-lookup"><span data-stu-id="878d4-211">SP800-38D</span></span> |



 

> [!Note]  
> <span data-ttu-id="878d4-212">In Windows Vista werden nur die Betriebsmodi "ECB", "CBC" und "CFB" definiert.</span><span class="sxs-lookup"><span data-stu-id="878d4-212">Only ECB, CBC, and CFB modes of operation are defined in Windows Vista.</span></span> <span data-ttu-id="878d4-213">GCM und CCM erfordern Windows Vista mit Service Pack 1 (SP1) oder Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="878d4-213">GCM and CCM require Windows Vista with Service Pack 1 (SP1) or Windows Server 2008.</span></span>

 

 

 
