---
description: Optionale Streams
ms.assetid: 94477a71-c267-4602-893b-1bd1256b34ef
title: Optionale Streams
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 940be49196396aa2d1fa71502213b0d4fbacb5ea
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "106340069"
---
# <a name="optional-streams"></a><span data-ttu-id="78a0e-103">Optionale Streams</span><span class="sxs-lookup"><span data-stu-id="78a0e-103">Optional Streams</span></span>

<span data-ttu-id="78a0e-104">Ein DMO kann einige seiner Ausgabedaten Ströme als optional festlegen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-104">A DMO can designate some of its output streams as optional.</span></span> <span data-ttu-id="78a0e-105">Ein optionaler Stream erzeugt Daten, die von der Anwendung verworfen werden können, entweder vollständig oder bei gelegentlichen Stichproben.</span><span class="sxs-lookup"><span data-stu-id="78a0e-105">An optional stream produces data that the application can discard, either completely or on occasional samples.</span></span> <span data-ttu-id="78a0e-106">Ein optionaler Stream kann z. b. zusätzliche Informationen über einen primären Stream enthalten.</span><span class="sxs-lookup"><span data-stu-id="78a0e-106">For example, an optional stream might contain additional information about a primary stream.</span></span>

<span data-ttu-id="78a0e-107">Um abzufragen, ob ein Stream optional ist, müssen Sie die [**imediaobject:: getoutputstreaminfo**](/previous-versions/windows/desktop/api/Mediaobj/nf-mediaobj-imediaobject-getoutputstreaminfo) -Methode aufrufen und den *pdwflags* -Parameter überprüfen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-107">To query whether a stream is optional, call the [**IMediaObject::GetOutputStreamInfo**](/previous-versions/windows/desktop/api/Mediaobj/nf-mediaobj-imediaobject-getoutputstreaminfo) method and check the *pdwFlags* parameter.</span></span> <span data-ttu-id="78a0e-108">Optionale Streams geben entweder das Flag "DMO \_ Output \_ streamf \_ verwerdable" oder das \_ optionale Flag "DMO Output \_ streamf" zurück \_ .</span><span class="sxs-lookup"><span data-stu-id="78a0e-108">Optional streams return either the DMO\_OUTPUT\_STREAMF\_DISCARDABLE flag or the DMO\_OUTPUT\_STREAMF\_OPTIONAL flag.</span></span> <span data-ttu-id="78a0e-109">Diese Flags bedeuten fast dieselbe Sache: ein kleiner Unterschied zwischen Ihnen wird in Kürze erläutert.</span><span class="sxs-lookup"><span data-stu-id="78a0e-109">These flags mean almost the same thing; one minor difference between them will be explained shortly.</span></span>

<span data-ttu-id="78a0e-110">Wenn ein Datenstrom optional ist, kann der Client den DMO anweisen, Daten aus diesem Stream zu verwerfen, wenn die Ausgabe verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="78a0e-110">If a stream is optional, the client can instruct the DMO to discard data from that stream when it processes the output.</span></span> <span data-ttu-id="78a0e-111">Dazu müssen Sie die [**imediaobject::P rocess Output**](/previous-versions/windows/desktop/api/Mediaobj/nf-mediaobj-imediaobject-processoutput) -Methode und den Ausgabepuffer für jeden Datenstrom, den Sie verwerfen möchten, auf **null** festlegen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-111">To do so, call the [**IMediaObject::ProcessOutput**](/previous-versions/windows/desktop/api/Mediaobj/nf-mediaobj-imediaobject-processoutput) method and set the output buffer to **NULL** for each stream that you wish to discard.</span></span> <span data-ttu-id="78a0e-112">(Der Ausgabepuffer wird im **pbuffer** -Member des [**DMO- \_ Ausgabe \_ Daten \_ Puffers**](/previous-versions/windows/desktop/api/Mediaobj/ns-mediaobj-dmo_output_data_buffer)angegeben.) Legen Sie außerdem die DMO- \_ Prozess \_ Ausgabe \_ verwerfen, \_ Wenn \_ kein \_ pufferflag im *dwFlags* -Parameter enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="78a0e-112">(The output buffer is specified in the **pBuffer** member of the [**DMO\_OUTPUT\_DATA\_BUFFER**](/previous-versions/windows/desktop/api/Mediaobj/ns-mediaobj-dmo_output_data_buffer).) Also set the DMO\_PROCESS\_OUTPUT\_DISCARD\_WHEN\_NO\_BUFFER flag in the *dwFlags* parameter.</span></span>

<span data-ttu-id="78a0e-113">Für jeden Stream, bei dem der *pbuffer* -Zeiger **null** ist, versucht der DMO, die Daten zu verwerfen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-113">For each stream where the *pBuffer* pointer is **NULL**, the DMO will attempt to discard the data.</span></span> <span data-ttu-id="78a0e-114">Wenn der Stream optional ist, werden die Daten von DMO garantiert verworfen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-114">If the stream is optional, the DMO is guaranteed to discard the data.</span></span> <span data-ttu-id="78a0e-115">Wenn der Datenstrom nicht optional ist, verwirft DMO die Daten, wenn möglich, dies ist jedoch nicht garantiert.</span><span class="sxs-lookup"><span data-stu-id="78a0e-115">If the stream is not optional, the DMO discards the data when possible, but is not guaranteed to do so.</span></span> <span data-ttu-id="78a0e-116">Wenn die Daten nicht verworfen werden können, wird das Flag "DMO \_ Output \_ Data \_ bufferf unvollständig" festgelegt \_ .</span><span class="sxs-lookup"><span data-stu-id="78a0e-116">If it cannot discard the data, it sets the DMO\_OUTPUT\_DATA\_BUFFERF\_INCOMPLETE flag.</span></span> <span data-ttu-id="78a0e-117">Wenn Sie einen *pbuffer* -Zeiger auf **null** festlegen, aber die DMO- \_ Prozess \_ Ausgabe \_ verwerfen \_ \_ , wenn kein \_ pufferflag festgelegt ist, werden die Daten von DMO nicht verworfen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-117">If you set a *pBuffer* pointer to **NULL** but do not set the DMO\_PROCESS\_OUTPUT\_DISCARD\_WHEN\_NO\_BUFFER flag, the DMO does not discard the data.</span></span> <span data-ttu-id="78a0e-118">In diesem Fall puffert der DMO die Ausgabe entweder intern, oder es wird einfach der **ProcessOutput** -Befehl fehlgeschlagen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-118">In that case, the DMO either buffers the output internally, or simply fails the **ProcessOutput** call.</span></span>

<span data-ttu-id="78a0e-119">Der einzige funktionale Unterschied zwischen dem optionalen Flag der DMO \_ -ausgabestreamf und dem debugfähigen \_ \_ DMO- \_ ausgabeablaufflag \_ lautet wie \_ folgt:</span><span class="sxs-lookup"><span data-stu-id="78a0e-119">The only functional difference between the DMO\_OUTPUT\_STREAMF\_OPTIONAL flag and the DMO\_OUTPUT\_STREAMF\_DISCARDABLE flag is the following:</span></span>

-   <span data-ttu-id="78a0e-120">Das \_ optionale Flag DMO Output \_ streamf \_ gibt an, dass der Client keinen Medientyp für diesen Stream festlegen muss.</span><span class="sxs-lookup"><span data-stu-id="78a0e-120">The DMO\_OUTPUT\_STREAMF\_OPTIONAL flag indicates that the client does not have to set a media type on that stream.</span></span> <span data-ttu-id="78a0e-121">Wenn der Client jedoch mit der Verarbeitung von Daten beginnt, ohne den Medientyp für diesen Stream festzulegen, muss er die Daten aus diesem Stream für die gesamte Dauer des Streamings verwerfen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-121">However, if the client begins processing data without setting the media type for that stream, then it must discard the data from that stream for the entire duration of streaming.</span></span> <span data-ttu-id="78a0e-122">Wenn Sie die Beispiele selektiv verwerfen möchten, müssen Sie den Medientyp festlegen.</span><span class="sxs-lookup"><span data-stu-id="78a0e-122">If you want to discard samples selectively, then you must set the media type.</span></span>
-   <span data-ttu-id="78a0e-123">Das Flag für die DMO-Ausgabe-streamf-abreservierung gibt an, \_ \_ \_ dass, obwohl der Stream optional ist, immer ein Medientyp erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="78a0e-123">The DMO\_OUTPUT\_STREAMF\_DISCARDABLE flag indicates that, although the stream is optional, it always requires a media type.</span></span>

## <a name="related-topics"></a><span data-ttu-id="78a0e-124">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="78a0e-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="78a0e-125">Direktes Hosting eines DMO</span><span class="sxs-lookup"><span data-stu-id="78a0e-125">Directly Hosting a DMO</span></span>](directly-hosting-a-dmo.md)
</dt> </dl>

 

 



