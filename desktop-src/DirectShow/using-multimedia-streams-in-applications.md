---
description: Verwenden von Multimedia-Streams in Anwendungen
ms.assetid: 73cfe89b-df46-445a-92c7-2f7323672441
title: Verwenden von Multimedia-Streams in Anwendungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f30dab204bc7b0bddbdc293708daecbe0558e8f9
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/03/2021
ms.locfileid: "103961163"
---
# <a name="using-multimedia-streams-in-applications"></a><span data-ttu-id="6cf0f-103">Verwenden von Multimedia-Streams in Anwendungen</span><span class="sxs-lookup"><span data-stu-id="6cf0f-103">Using Multimedia Streams in Applications</span></span>

> [!Note]  
> <span data-ttu-id="6cf0f-104">Diese APIs sind veraltet.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-104">These APIs are deprecated.</span></span> <span data-ttu-id="6cf0f-105">Anwendungen sollten den [**Beispiel-Grabber**](sample-grabber-filter.md) Filter verwenden oder einen benutzerdefinierten Filter implementieren, um Daten aus einem DirectShow-Filter Diagramm zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-105">Applications should use the [**Sample Grabber**](sample-grabber-filter.md) filter or implement a custom filter to get data from a DirectShow filter graph.</span></span>

 

<span data-ttu-id="6cf0f-106">Die multimediastreamingschnittstellen vereinfachen den Prozess der Bearbeitung von Multimedia-Daten erheblich, indem die Abhängigkeit von bestimmten Merkmalen der Hardware oder Software Quelle entfernt wird und Unterstützung für alle Microsoft DirectX®-Medienformate bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-106">The multimedia streaming interfaces greatly simplify the process of manipulating multimedia data by removing the dependency on specific characteristics of the hardware or software source and providing support for all Microsoft DirectX® media formats.</span></span> <span data-ttu-id="6cf0f-107">Streams abstrahiert die Daten auf einen sehr hohen Grad. Anwendungen können sogar Daten von einem Stream in einen anderen verschieben, ohne etwas über das Datenformat zu wissen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-107">Streams abstract the data to a very high level; applications can even move data from one stream to another without knowing anything about the data's format.</span></span>

<span data-ttu-id="6cf0f-108">Führen Sie die folgenden Schritte aus, um einen multimediarestream zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-108">Perform the following steps to create a multimedia stream.</span></span>

1.  <span data-ttu-id="6cf0f-109">Erstellen Sie den Multimedia-Stream.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-109">Create the multimedia stream.</span></span> <span data-ttu-id="6cf0f-110">Die Methode der Erstellung und Initialisierung des Streams ist architekturspezifisch.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-110">The method of creation and initialization of the stream is architecture specific.</span></span> <span data-ttu-id="6cf0f-111">DirectShow unterstützt die [**iammultimediastream**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) -Schnittstelle, die zum Initialisieren des Streams verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-111">DirectShow supports the [**IAMMultiMediaStream**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) interface, which is used to initialize the stream.</span></span> <span data-ttu-id="6cf0f-112">Andere Prozess interne Server Implementierungen von [**imultimediastream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) werden mithilfe verschiedener Mechanismen erstellt und initialisiert.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-112">Other in-process server implementations of [**IMultiMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) will be created and initialized using different mechanisms.</span></span>
2.  <span data-ttu-id="6cf0f-113">Nachdem das multimediastreamobjekt initialisiert wurde, verwendet die Anwendung **QueryInterface** , um die **imultimediastream** -Schnittstelle für das Objekt abzurufen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-113">After the multimedia stream object is initialized, the application will use **QueryInterface** to retrieve the **IMultiMediaStream** interface for the object.</span></span> <span data-ttu-id="6cf0f-114">Verwenden Sie diese Schnittstelle, um die Eigenschaften des Streams zu ermitteln und die Streams selbst aufzulisten.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-114">Use this interface to determine the stream's properties and enumerate the streams themselves.</span></span> <span data-ttu-id="6cf0f-115">Sie können einen bestimmten Stream abrufen, indem Sie die [**imultimediastream:: getmediastream**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-imultimediastream-getmediastream) -Methode mit einer bestimmten Zweck-ID aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-115">You can retrieve a specific stream by calling the [**IMultiMediaStream::GetMediaStream**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-imultimediastream-getmediastream) method with a specific purpose ID.</span></span> <span data-ttu-id="6cf0f-116">Mspid \_ primaryvideo und mspid \_ primaryaudiodaten, die die primären Video-und Audiodatenströme darstellen, sind die am häufigsten verwendeten Zweck-IDs.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-116">MSPID\_PrimaryVideo and MSPID\_PrimaryAudio, which represent the primary video and audio streams, are the most commonly used purpose IDs.</span></span>
3.  <span data-ttu-id="6cf0f-117">Ruft **IUnknown:: QueryInterface** für eine Schnittstelle auf, die für den Medientyp des Streams spezifisch ist.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-117">Call **IUnknown::QueryInterface** for an interface specific to the stream's media type.</span></span> <span data-ttu-id="6cf0f-118">Wenn Sie z. b. einen Videostream Rendering möchten, rufen Sie die [**idirectdrawmediastream**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) -Schnittstelle ab.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-118">If you want to render a video stream, for example, retrieve its [**IDirectDrawMediaStream**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) interface.</span></span> <span data-ttu-id="6cf0f-119">Medienspezifische Schnittstellen definieren zusätzliche Methoden, die erforderlich sind, um die Funktionen eines Formats in vollem Umfang zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-119">Media-specific interfaces define additional methods necessary for taking full advantage of a format's capabilities.</span></span>
4.  <span data-ttu-id="6cf0f-120">Erstellen Sie ein oder mehrere Beispiele aus den Streamdaten.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-120">Create one or more samples from the stream data.</span></span> <span data-ttu-id="6cf0f-121">Jeder Mediendaten Strom unterstützt die [**imediastream::**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-imediastream-createsharedsample) -Methode zum Erstellen von Beispielen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-121">Every media stream supports the [**IMediaStream::CreateSharedSample**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-imediastream-createsharedsample) method for sample creation.</span></span> <span data-ttu-id="6cf0f-122">Das resultierende Beispiel unterstützt die [**istreamsample**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) -Schnittstelle, die die Kontrolle über das Beispiel und seine Merkmale bietet.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-122">The resulting sample supports the [**IStreamSample**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) interface, which provides control over the sample and its characteristics.</span></span> <span data-ttu-id="6cf0f-123">In der Regel unterstützt der Mediendaten Strom eine Format spezifische Methode der Beispiel Erstellung, die leistungsfähiger als die oben erwähnten **istreamsample** -Methoden ist.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-123">Typically, the media stream supports a format-specific method of sample creation that is more powerful than the aforementioned **IStreamSample** methods.</span></span> <span data-ttu-id="6cf0f-124">**Idirectdrawmediastream** kann z. b. Beispiele erstellen, die an eine gewünschte DirectDraw-Oberfläche und ein Clippingrechteck angefügt sind.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-124">**IDirectDrawMediaStream**, for example, can create samples attached to a desired DirectDraw surface and clipping rectangle.</span></span> <span data-ttu-id="6cf0f-125">In einigen Situationen müssen Sie jedoch Daten verarbeiten, ohne sich über das Datenformat zu wissen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-125">In some situations, however, you must handle data without knowing about its data format.</span></span> <span data-ttu-id="6cf0f-126">Wenn Sie Daten unabhängig von Ihrem Format streamen möchten, verwenden Sie die **imediastream:: deesesharedsample** -Methode, um die Daten Beispiele zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-126">If you want to stream data independent of its format, use the **IMediaStream::CreateSharedSample** method to create the data samples.</span></span>
5.  <span data-ttu-id="6cf0f-127">Nachdem Sie alle gewünschten streambeispiele erstellt haben, starten Sie den Datenstrom, indem Sie die [**imultimediastream:: SetState**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-imultimediastream-setstate) -Methode aufrufen und das streamstate- \_ Run-Flag als Parameter übergeben.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-127">After creating all desired stream samples, start the stream by calling the [**IMultiMediaStream::SetState**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-imultimediastream-setstate) method and pass in the STREAMSTATE\_RUN flag as its parameter.</span></span>
6.  <span data-ttu-id="6cf0f-128">Nennen Sie [**istreamsample:: Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) , um das streambeispiel zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-128">Call [**IStreamSample::Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) to update the stream sample.</span></span> <span data-ttu-id="6cf0f-129">Wenn die **istreamsample:: Update** -Methode beendet wird, können Sie auf die Beispiel Daten zugreifen.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-129">When the **IStreamSample::Update** method exits, you can access the sample's data.</span></span> <span data-ttu-id="6cf0f-130">Wenn Sie einen bestimmten Ereignis-oder Funktions Rückruf bei der Aktualisierung zurückgeben möchten, übergeben Sie die entsprechenden Zeiger an die **istreamsample:: Update** -Methode.</span><span class="sxs-lookup"><span data-stu-id="6cf0f-130">If you want a trigger a specific event or function call when the update returns, pass the appropriate pointers to the **IStreamSample::Update** method.</span></span>

<span data-ttu-id="6cf0f-131">Weitere Informationen zu den multimediastreaming-Schnittstellen finden Sie unter [Multimedia Streaming](multimedia-streaming.md).</span><span class="sxs-lookup"><span data-stu-id="6cf0f-131">For more information on the multimedia streaming interfaces, see [Multimedia Streaming](multimedia-streaming.md).</span></span>

 

 



