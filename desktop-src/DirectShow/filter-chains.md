---
description: Filter Ketten
ms.assetid: c17b3b58-65ab-4e83-91f2-54a995f22ddf
title: Filter Ketten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d46e374aca71b024773e4177d09e67c7ee6034ac
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "103860407"
---
# <a name="filter-chains"></a><span data-ttu-id="0a381-103">Filter Ketten</span><span class="sxs-lookup"><span data-stu-id="0a381-103">Filter Chains</span></span>

<span data-ttu-id="0a381-104">Eine *Filterkette* ist eine Sequenz von Filtern, die die folgenden Bedingungen erfüllt:</span><span class="sxs-lookup"><span data-stu-id="0a381-104">A *filter chain* is a sequence of filters that meets the following conditions:</span></span>

-   <span data-ttu-id="0a381-105">Jeder Filter in der Kette verfügt höchstens über eine verbundene Eingabe-PIN und eine verbundene Ausgabe-PIN.</span><span class="sxs-lookup"><span data-stu-id="0a381-105">Each filter in the chain has at most one connected input pin and one connected output pin.</span></span>
-   <span data-ttu-id="0a381-106">Es ist möglich, jeden Filter in der Kette zu durchlaufen, ohne Filter außerhalb der Kette durchlaufen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="0a381-106">It is possible to traverse every filter in the chain without traversing filters outside the chain.</span></span>

<span data-ttu-id="0a381-107">Im folgenden Diagramm filtert z. b. ein – B, C – D und F – G – H Filter Ketten.</span><span class="sxs-lookup"><span data-stu-id="0a381-107">For example, in the following diagram, filters A–B, C–D, and F–G–H are filter chains.</span></span> <span data-ttu-id="0a381-108">Jede Teil Kette in f – g – H (f – g und G – H) ist ebenfalls eine Filterkette.</span><span class="sxs-lookup"><span data-stu-id="0a381-108">Each subchain in F–G–H (F–G and G–H) is also a filter chain.</span></span> <span data-ttu-id="0a381-109">Eine Filterkette kann aus einem einzelnen Filter bestehen, D. h., die Filter a, B, C, D, F, G und H sind auch unterschiedliche Filter Ketten.</span><span class="sxs-lookup"><span data-stu-id="0a381-109">A filter chain can consist of a single filter, so filters A, B, C, D, F, G, and H are also distinct filter chains.</span></span> <span data-ttu-id="0a381-110">Filter e verfügt über zwei Eingabe Verbindungen, sodass jede Sequenz von Filtern, die den Filter e enthält, keine Filterkette ist.</span><span class="sxs-lookup"><span data-stu-id="0a381-110">Filter E has two input connections, so any sequence of filters that includes filter E is not a filter chain.</span></span>

![Filterkette (Beispiel 1)](images/filter-chain1.png)

<span data-ttu-id="0a381-112">Die [**ifilterchain**](/windows/desktop/api/Strmif/nn-strmif-ifilterchain) -Schnittstelle stellt die folgenden Methoden zum Steuern von Filter Ketten bereit:</span><span class="sxs-lookup"><span data-stu-id="0a381-112">The [**IFilterChain**](/windows/desktop/api/Strmif/nn-strmif-ifilterchain) interface provides the following methods for controlling filter chains:</span></span>



|                                                               |                                 |
|---------------------------------------------------------------|---------------------------------|
| [<span data-ttu-id="0a381-113">**Ifilterchain:: startchain**</span><span class="sxs-lookup"><span data-stu-id="0a381-113">**IFilterChain::StartChain**</span></span>](/windows/desktop/api/Strmif/nf-strmif-ifilterchain-startchain)   | <span data-ttu-id="0a381-114">Startet eine Kette.</span><span class="sxs-lookup"><span data-stu-id="0a381-114">Starts a chain.</span></span>                 |
| [<span data-ttu-id="0a381-115">**Ifilterchain:: stopchain**</span><span class="sxs-lookup"><span data-stu-id="0a381-115">**IFilterChain::StopChain**</span></span>](/windows/desktop/api/Strmif/nf-strmif-ifilterchain-stopchain)     | <span data-ttu-id="0a381-116">Beendet eine Kette.</span><span class="sxs-lookup"><span data-stu-id="0a381-116">Stops a chain.</span></span>                  |
| [<span data-ttu-id="0a381-117">**Ifilterchain::P aumenchain**</span><span class="sxs-lookup"><span data-stu-id="0a381-117">**IFilterChain::PauseChain**</span></span>](/windows/desktop/api/Strmif/nf-strmif-ifilterchain-pausechain)   | <span data-ttu-id="0a381-118">Hält eine Kette an.</span><span class="sxs-lookup"><span data-stu-id="0a381-118">Pauses a chain.</span></span>                 |
| [<span data-ttu-id="0a381-119">**Ifilterchain:: removechain**</span><span class="sxs-lookup"><span data-stu-id="0a381-119">**IFilterChain::RemoveChain**</span></span>](/windows/desktop/api/Strmif/nf-strmif-ifilterchain-removechain) | <span data-ttu-id="0a381-120">Entfernt eine Kette aus dem Diagramm.</span><span class="sxs-lookup"><span data-stu-id="0a381-120">Removes a chain from the graph.</span></span> |



 

<span data-ttu-id="0a381-121">Es gibt keine bestimmte Methode zum Hinzufügen einer Kette.</span><span class="sxs-lookup"><span data-stu-id="0a381-121">There is no specific method for adding a chain.</span></span> <span data-ttu-id="0a381-122">Fügen Sie zum Hinzufügen einer Kette die neuen Filter mithilfe der [**ifiltergraph:: AddFilter**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) -Methode ein.</span><span class="sxs-lookup"><span data-stu-id="0a381-122">To add a chain, insert the new filters using the [**IFilterGraph::AddFilter**](/windows/desktop/api/Strmif/nf-strmif-ifiltergraph-addfilter) method.</span></span> <span data-ttu-id="0a381-123">Verbinden Sie dann die Filter, indem Sie [**igraphbuilder:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect), [**igraphbuilder:: Rendering**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render)oder ähnliche Methoden aufrufen.</span><span class="sxs-lookup"><span data-stu-id="0a381-123">Then connect the filters by calling [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect), [**IGraphBuilder::Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render), or similar methods.</span></span>

<span data-ttu-id="0a381-124">Wenn das Diagramm ausgeführt wird, kann eine Filterkette zwischen "wird ausgeführt" und "beendet" wechseln.</span><span class="sxs-lookup"><span data-stu-id="0a381-124">When the graph is running, a filter chain can switch between running and stopped.</span></span> <span data-ttu-id="0a381-125">Wenn das Diagramm angehalten wird, kann es zwischen angehalten und beendet wechseln.</span><span class="sxs-lookup"><span data-stu-id="0a381-125">When the graph is paused, it can switch between paused and stopped.</span></span> <span data-ttu-id="0a381-126">Dies sind die einzigen Statusübergänge, die mit Filter Ketten möglich sind.</span><span class="sxs-lookup"><span data-stu-id="0a381-126">These are the only state transitions possible with filter chains.</span></span>

## <a name="filter-chain-guidelines"></a><span data-ttu-id="0a381-127">Filter Ketten Richtlinien</span><span class="sxs-lookup"><span data-stu-id="0a381-127">Filter Chain Guidelines</span></span>

<span data-ttu-id="0a381-128">Wenn Sie **ifilterchain** -Methoden verwenden, ist es wichtig sicherzustellen, dass die Filter im Diagramm Filter Verkettungs Vorgänge unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0a381-128">When you use **IFilterChain** methods, it is important to make sure that the filters in the graph can support filter chaining operations.</span></span> <span data-ttu-id="0a381-129">Andernfalls können Sie Deadlocks oder Graph-Fehler verursachen.</span><span class="sxs-lookup"><span data-stu-id="0a381-129">Otherwise, you might cause deadlocks or graph errors.</span></span> <span data-ttu-id="0a381-130">An die Kette angeschlossene Filter müssen ordnungsgemäß funktionieren, nachdem der Status der Kette geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="0a381-130">Filters connected to the chain must function correctly after the chain changes state.</span></span>

<span data-ttu-id="0a381-131">Die beste Möglichkeit, **ifilterchain** zu verwenden, ist eine Reihe von Filtern, die Sie speziell für die Verkettung entwickelt haben.</span><span class="sxs-lookup"><span data-stu-id="0a381-131">The best way to use **IFilterChain** is with a set of filters that you have designed specifically for chaining.</span></span> <span data-ttu-id="0a381-132">Verwenden Sie die folgenden Richtlinien, um sicherzustellen, dass die Filter für Filter Ketten Vorgänge sicher sind.</span><span class="sxs-lookup"><span data-stu-id="0a381-132">Use the following guidelines to ensure that your filters are safe for filter chain operations.</span></span> <span data-ttu-id="0a381-133">Diese Punkte verweisen auf das folgende Diagramm.</span><span class="sxs-lookup"><span data-stu-id="0a381-133">These points refer to the following diagram.</span></span>

![Filterkette (Beispiel 2)](images/filter-chain2.png)

-   <span data-ttu-id="0a381-135">Bevor der Status der Filterkette geändert wird, müssen alle Datenverarbeitungs Aufrufe an der Grenze der Filterkette abgeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="0a381-135">Before the filter chain's state changes, all data processing calls at the boundary of the filter chain must be completed.</span></span> <span data-ttu-id="0a381-136">Diese Regel gilt für die Methoden [**IMemInputPin:: Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive), [**IPin:: newsegment**](/windows/desktop/api/Strmif/nf-strmif-ipin-newsegment)und [**IPin:: EndOfStream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream).</span><span class="sxs-lookup"><span data-stu-id="0a381-136">This rule applies to the methods [**IMemInputPin::Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive), [**IPin::NewSegment**](/windows/desktop/api/Strmif/nf-strmif-ipin-newsegment), and [**IPin::EndOfStream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream).</span></span> <span data-ttu-id="0a381-137">Filter in der Kette müssen von Aufrufen dieser Methoden zurückgegeben werden, die von Filtern außerhalb der Kette vorgenommen werden. und Filter außerhalb der Kette müssen von Aufrufen von Filtern innerhalb der Kette zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="0a381-137">Filters in the chain must return from calls to these methods made by filters outside the chain; and filters outside the chain must return from calls made by filters within the chain.</span></span>

<span data-ttu-id="0a381-138">In der vorherigen Abbildung muss Filter B beispielsweise alle Datenverarbeitungs Aufrufe von Filter A abschließen, und Filter E muss alle Aufrufe von Filter D abschließen. Wenn die Pins die [**IPinFlowControl**](/windows/desktop/api/Strmif/nn-strmif-ipinflowcontrol) -Schnittstelle und die [**ipinconnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection) -Schnittstelle verfügbar machen, können Sie die Daten über das Diagramm per Push übertragen, indem Sie die Methoden [**IPinFlowControl:: Block**](/windows/desktop/api/Strmif/nf-strmif-ipinflowcontrol-block) und [**igraphconfig::P ushdowndata**](/windows/desktop/api/Strmif/nf-strmif-igraphconfig-pushthroughdata) aufrufen, wie in [Dynamic Reconnection](dynamic-reconnection.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="0a381-138">For example, in the previous diagram, filter B must complete any data processing calls from filter A, and filter E must finish any calls from filter D. If the pins expose the [**IPinFlowControl**](/windows/desktop/api/Strmif/nn-strmif-ipinflowcontrol) and [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection) interfaces, you can push the data through the graph by calling the [**IPinFlowControl::Block**](/windows/desktop/api/Strmif/nf-strmif-ipinflowcontrol-block) and [**IGraphConfig::PushThroughData**](/windows/desktop/api/Strmif/nf-strmif-igraphconfig-pushthroughdata) methods, as described in [Dynamic Reconnection](dynamic-reconnection.md).</span></span> <span data-ttu-id="0a381-139">Filter unterstützen möglicherweise auch private Methoden zum Übertragen der Daten.</span><span class="sxs-lookup"><span data-stu-id="0a381-139">Filters might also support private methods for pushing the data.</span></span>

-   <span data-ttu-id="0a381-140">Upstreamfilter müssen erwarten, dass der Status der Kette geändert wird.</span><span class="sxs-lookup"><span data-stu-id="0a381-140">Upstream filters must expect the chain's state to change.</span></span> <span data-ttu-id="0a381-141">Angenommen, im vorherigen Diagramm ist beispielsweise die Kette angehalten, aber es wird ein **IMemInputPin:: Receive**-Aufruf gefiltert.</span><span class="sxs-lookup"><span data-stu-id="0a381-141">For example, in the previous diagram, suppose the chain is stopped but filter A calls **IMemInputPin::Receive**.</span></span> <span data-ttu-id="0a381-142">Der-Rückruf schlägt fehl, und die Antwort von Filter A besteht darin, das Streaming zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="0a381-142">The call fails and the response of filter A is to stop streaming.</span></span> <span data-ttu-id="0a381-143">Wenn die Anwendung die Kette neu startet, hat Sie keine Auswirkung, da bei Filter A keine Daten mehr gestreamt werden.</span><span class="sxs-lookup"><span data-stu-id="0a381-143">When the application restarts the chain, it has no effect because filter A is no longer streaming data.</span></span>
-   <span data-ttu-id="0a381-144">Downstream-Filter müssen auch erwarten, dass der Status der Kette geändert wird.</span><span class="sxs-lookup"><span data-stu-id="0a381-144">Downstream filters must also expect the chain's state to change.</span></span> <span data-ttu-id="0a381-145">Wenn dies nicht der Fall ist, kann der Downstream-Filter blockieren, während er auf Stichproben wartet, die nie eintreffen</span><span class="sxs-lookup"><span data-stu-id="0a381-145">If not, the downstream filter might block while it waits for samples that never arrive.</span></span> <span data-ttu-id="0a381-146">Beispielsweise erfordern Multiplexer-Filter (MUX) häufig Daten von allen Eingabe Pins.</span><span class="sxs-lookup"><span data-stu-id="0a381-146">For example, multiplexer (MUX) filters often require data from all of their input pins.</span></span> <span data-ttu-id="0a381-147">Durch das Anhalten des Datenflusses aus einer Eingabe-PIN werden die anderen Streams möglicherweise nicht mehr verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="0a381-147">Halting the flow of data from one input pin might block the other streams from processing.</span></span> <span data-ttu-id="0a381-148">Dies kann zu einem Deadlock des Diagramms führen.</span><span class="sxs-lookup"><span data-stu-id="0a381-148">This can cause the graph to deadlock.</span></span>
-   <span data-ttu-id="0a381-149">Jede Pin-Verbindung von einem Filter außerhalb der Kette zu einem Filter in der Kette sollte über eine eigene Zuweisung verfügen, die nicht von anderen Verbindungen gemeinsam genutzt wird.</span><span class="sxs-lookup"><span data-stu-id="0a381-149">Each pin connection from a filter outside the chain to a filter within the chain should have its own allocator, which is not shared by other connections.</span></span> <span data-ttu-id="0a381-150">Wenn sich der Zustand der Kette ändert oder aus dem Diagramm entfernt wird, kann die Zuweisung aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="0a381-150">When the chain changes state or is removed from the graph, the allocator might be decommitted.</span></span> <span data-ttu-id="0a381-151">Wenn andere Verbindungen denselben Zuweiser verwenden, können Sie keine Beispiele mehr verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="0a381-151">If other connections were using the same allocator, they can no longer process samples.</span></span>
-   <span data-ttu-id="0a381-152">Entfernen Sie eine Kette nur dann, wenn die mit der Kette verbundenen Filter dynamische Trennungs Verbindungen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0a381-152">Do not remove a chain unless the filters connected to the chain support dynamic disconnection.</span></span> <span data-ttu-id="0a381-153">In der Regel unterstützen die verbundenen Filter die **ipinconnection** -Schnittstelle oder die **IPinFlowControl** -Schnittstelle, unterstützen jedoch möglicherweise private Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="0a381-153">Typically, the connected filters will support the **IPinConnection** or **IPinFlowControl** interface, but might support private interfaces instead.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0a381-154">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="0a381-154">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0a381-155">Dynamische Diagramm Bildung</span><span class="sxs-lookup"><span data-stu-id="0a381-155">Dynamic Graph Building</span></span>](dynamic-graph-building.md)
</dt> </dl>

 

 



