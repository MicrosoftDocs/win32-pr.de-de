---
description: Entwickeln des DVD-Filter Diagramms
ms.assetid: 1d2f8284-2deb-4207-b067-24a54d6b286c
title: Entwickeln des DVD-Filter Diagramms
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 96d15c7d84ec138771e1f5da8be4270faae049cc
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104125312"
---
# <a name="building-the-dvd-filter-graph"></a><span data-ttu-id="7a66d-103">Entwickeln des DVD-Filter Diagramms</span><span class="sxs-lookup"><span data-stu-id="7a66d-103">Building the DVD Filter Graph</span></span>

<span data-ttu-id="7a66d-104">Wie bei jeder DirectShow-Anwendung beginnt eine DVD-Wiedergabe Anwendung mit dem Aufbau eines Filter Diagramms.</span><span class="sxs-lookup"><span data-stu-id="7a66d-104">As with any DirectShow application, a DVD playback application starts by building a filter graph.</span></span> <span data-ttu-id="7a66d-105">DirectShow stellt die folgenden Komponenten für die DVD-Wiedergabe bereit:</span><span class="sxs-lookup"><span data-stu-id="7a66d-105">DirectShow provides the following components for DVD playback:</span></span>

-   <span data-ttu-id="7a66d-106">[DVD-Diagramm](dvd-graph-builder.md)-Generator.</span><span class="sxs-lookup"><span data-stu-id="7a66d-106">[DVD Graph Builder](dvd-graph-builder.md).</span></span> <span data-ttu-id="7a66d-107">Ein Hilfsobjekt, das das Filter Diagramm erstellt.</span><span class="sxs-lookup"><span data-stu-id="7a66d-107">A helper object that constructs the filter graph.</span></span> <span data-ttu-id="7a66d-108">Sie macht die [**idvdgraphbuilder**](/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="7a66d-108">It exposes the [**IDvdGraphBuilder**](/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder) interface.</span></span>
-   <span data-ttu-id="7a66d-109">Filter für den [DVD-Navigator](dvd-navigator-filter.md) .</span><span class="sxs-lookup"><span data-stu-id="7a66d-109">[DVD Navigator](dvd-navigator-filter.md) filter.</span></span> <span data-ttu-id="7a66d-110">Ein DirectShow-Filter, der die DVD-Wiedergabe, Navigation und andere Befehle behandelt.</span><span class="sxs-lookup"><span data-stu-id="7a66d-110">A DirectShow filter that handles DVD playback, navigation, and other commands.</span></span>

<span data-ttu-id="7a66d-111">Die DVD-Wiedergabe erfordert auch einen MPEG-2-Decoder.</span><span class="sxs-lookup"><span data-stu-id="7a66d-111">DVD playback also requires an MPEG-2 decoder.</span></span> <span data-ttu-id="7a66d-112">Die Hardware-und Software-Decoder von MPEG-2 sind von Drittanbietern verfügbar.</span><span class="sxs-lookup"><span data-stu-id="7a66d-112">Hardware and software MPEG-2 decoders are available from third parties.</span></span> <span data-ttu-id="7a66d-113">Erstellen Sie zunächst eine Instanz des DVD Graph Builder-Objekts.</span><span class="sxs-lookup"><span data-stu-id="7a66d-113">First, create an instance of the DVD Graph Builder object.</span></span>


```C++
IDvdGraphBuilder *pBuild = NULL;
hr = CoCreateInstance(CLSID_DvdGraphBuilder, NULL, 
    CLSCTX_INPROC_SERVER, IID_IDvdGraphBuilder, (void **)&pBuild);
```



<span data-ttu-id="7a66d-114">An diesem Punkt können Sie den Videorenderer auswählen und konfigurieren, bevor Sie den Rest des Diagramms erstellen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-114">At this point, you can select and configure the video renderer before you build the rest of the graph.</span></span> <span data-ttu-id="7a66d-115">Dieser Schritt, der optional ist, wird im nächsten Abschnitt ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7a66d-115">This step, which is optional, is described in more detail in the next section.</span></span> <span data-ttu-id="7a66d-116">Wenn Sie diesen Schritt weglassen, wählt der DVD Graph-Generator einen Standardrenderer aus.</span><span class="sxs-lookup"><span data-stu-id="7a66d-116">If you omit this step, the DVD Graph Builder selects a default renderer.</span></span> <span data-ttu-id="7a66d-117">Erstellen Sie als nächstes das Diagramm, indem Sie die [**idvdgraphbuilder:: renderdvdvideovolume**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-renderdvdvideovolume) -Methode aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-117">Next, build the graph by calling the [**IDvdGraphBuilder::RenderDvdVideoVolume**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-renderdvdvideovolume) method.</span></span>


```C++
AM_DVD_RENDERSTATUS buildStatus;
hr = pBuild->RenderDvdVideoVolume(L"Z:\\video_ts", 0, &buildStatus);
```



<span data-ttu-id="7a66d-118">Der erste Parameter ist der Name eines Verzeichnisses, das die DVD-Dateien enthält.</span><span class="sxs-lookup"><span data-stu-id="7a66d-118">The first parameter is the name of a directory that contains the DVD files.</span></span> <span data-ttu-id="7a66d-119">Auf einem DVD-CD befinden sich diese Dateien in einem Verzeichnis mit dem Namen "Video \_ TS".</span><span class="sxs-lookup"><span data-stu-id="7a66d-119">On a DVD disc, these files reside in a directory named VIDEO\_TS.</span></span> <span data-ttu-id="7a66d-120">Wenn der erste Parameter **null** ist, verwendet der DVD Graph-Generator das erste Laufwerk, das ein DVD-Volume enthält.</span><span class="sxs-lookup"><span data-stu-id="7a66d-120">If the first parameter is **NULL**, the DVD Graph Builder uses the first drive that contains a DVD volume.</span></span>

<span data-ttu-id="7a66d-121">Der zweite Parameter enthält verschiedene optionale Flags zum Auswählen des Typs von Decoder (Hardware oder Software) und anderen Optionen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-121">The second parameter contains various optional flags for choosing the type of decoder (hardware or software) and other options.</span></span>

<span data-ttu-id="7a66d-122">Der dritte Parameter ist eine [**am- \_ DVD- \_ Renderstatus**](/windows/win32/api/strmif/ns-strmif-am_dvd_renderstatus) -Struktur, die Statusinformationen empfängt.</span><span class="sxs-lookup"><span data-stu-id="7a66d-122">The third parameter is an [**AM\_DVD\_RENDERSTATUS**](/windows/win32/api/strmif/ns-strmif-am_dvd_renderstatus) structure that receives status information.</span></span> <span data-ttu-id="7a66d-123">Wenn die [**renderdvdvideovolume**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-renderdvdvideovolume) -Methode den Wert "false" zurückgibt \_ , bedeutet dies, dass der-Befehl teilweise erfolgreich war (oder teilweise fehlgeschlagen ist, wenn Sie ein pessimistisch sind).</span><span class="sxs-lookup"><span data-stu-id="7a66d-123">If the [**RenderDvdVideoVolume**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-renderdvdvideovolume) method returns S\_FALSE, it means the call partially succeeded (or partially failed, if you're a pessimist).</span></span> <span data-ttu-id="7a66d-124">Beispielsweise kann die-Methode den subbildstream nicht rendern, auch wenn die anderen Streams erfolgreich gerendert wurden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-124">For example, the method might fail to render the subpicture stream, even though the other streams rendered successfully.</span></span> <span data-ttu-id="7a66d-125">Wenn die **renderdvdvideovolume** -Methode einen Fehlercode oder den Wert S \_ false zurückgibt, können Sie die **am-DVD- \_ \_ Renderstatus** -Struktur auf Details zum Fehler überprüfen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-125">If the **RenderDvdVideoVolume** method returns an error code or the value S\_FALSE, you can examine the **AM\_DVD\_RENDERSTATUS** structure for details about the error.</span></span>

<span data-ttu-id="7a66d-126">Rufen Sie als nächstes einen Zeiger auf den Filter Graph-Manager ab, indem Sie [**idvdgraphbuilder:: getfiltergraph**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-getfiltergraph)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-126">Next, get a pointer to the Filter Graph Manager by calling [**IDvdGraphBuilder::GetFiltergraph**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-getfiltergraph).</span></span> <span data-ttu-id="7a66d-127">Diese Methode gibt einen Zeiger auf die [**igraphbuilder**](/windows/desktop/api/Strmif/nn-strmif-igraphbuilder) -Schnittstelle des Filter Graph-Managers zurück.</span><span class="sxs-lookup"><span data-stu-id="7a66d-127">This method returns a pointer to the Filter Graph Manager's [**IGraphBuilder**](/windows/desktop/api/Strmif/nn-strmif-igraphbuilder) interface.</span></span>


```C++
IGraphBuilder *pGraph = NULL;
hr =  pBuild->GetFiltergraph(&m_pGraph);
```



<span data-ttu-id="7a66d-128">Verwenden Sie die [**idvdgraphbuilder:: getdvdinterface**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-getdvdinterface) -Methode, um DVD-bezogene Schnittstellen abzurufen, einschließlich der folgenden:</span><span class="sxs-lookup"><span data-stu-id="7a66d-128">Use the [**IDvdGraphBuilder::GetDvdInterface**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-getdvdinterface) method to retrieve DVD-related interfaces, including the following:</span></span>

-   <span data-ttu-id="7a66d-129">[**IDvdControl2**](/windows/desktop/api/Strmif/nn-strmif-idvdcontrol2).</span><span class="sxs-lookup"><span data-stu-id="7a66d-129">[**IDvdControl2**](/windows/desktop/api/Strmif/nn-strmif-idvdcontrol2).</span></span> <span data-ttu-id="7a66d-130">Steuert Wiedergabe-und DVD-Befehle</span><span class="sxs-lookup"><span data-stu-id="7a66d-130">Controls playback and DVD commands</span></span>
-   <span data-ttu-id="7a66d-131">[**IDvdInfo2**](/windows/desktop/api/Strmif/nn-strmif-idvdinfo2).</span><span class="sxs-lookup"><span data-stu-id="7a66d-131">[**IDvdInfo2**](/windows/desktop/api/Strmif/nn-strmif-idvdinfo2).</span></span> <span data-ttu-id="7a66d-132">Gibt Informationen zum aktuellen Zustand des DVD-Navigators zurück.</span><span class="sxs-lookup"><span data-stu-id="7a66d-132">Returns information about the DVD Navigator's current state.</span></span>
-   <span data-ttu-id="7a66d-133">[**IAMLine21Decoder**](/previous-versions/windows/desktop/api/il21dec/nn-il21dec-iamline21decoder).</span><span class="sxs-lookup"><span data-stu-id="7a66d-133">[**IAMLine21Decoder**](/previous-versions/windows/desktop/api/il21dec/nn-il21dec-iamline21decoder).</span></span> <span data-ttu-id="7a66d-134">Steuert die Anzeige von Closed Caption.</span><span class="sxs-lookup"><span data-stu-id="7a66d-134">Controls closed caption display.</span></span> <span data-ttu-id="7a66d-135">Die Anzeige von Closed Caption ist standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="7a66d-135">Closed caption display is enabled by default.</span></span> <span data-ttu-id="7a66d-136">Um dies zu deaktivieren, müssen Sie [**IAMLine21Decoder:: SetServiceState**](/previous-versions/windows/desktop/api/il21dec/nf-il21dec-iamline21decoder-setservicestate) mit dem Flag "am \_ L21 \_ ccstate Off" aufrufen \_ .</span><span class="sxs-lookup"><span data-stu-id="7a66d-136">To disable it, call [**IAMLine21Decoder::SetServiceState**](/previous-versions/windows/desktop/api/il21dec/nf-il21dec-iamline21decoder-setservicestate) with the AM\_L21\_CCSTATE\_Off flag.</span></span>
-   <span data-ttu-id="7a66d-137">[**Ibasicaudio.**](/windows/desktop/api/Control/nn-control-ibasicaudio)</span><span class="sxs-lookup"><span data-stu-id="7a66d-137">[**IBasicAudio**](/windows/desktop/api/Control/nn-control-ibasicaudio).</span></span> <span data-ttu-id="7a66d-138">Steuert die audiomenge und den Saldo.</span><span class="sxs-lookup"><span data-stu-id="7a66d-138">Controls audio volume and balance.</span></span>

<span data-ttu-id="7a66d-139">Der folgende Code gibt z. b. die [**IDvdControl2**](/windows/desktop/api/Strmif/nn-strmif-idvdcontrol2) -Schnittstelle zurück.</span><span class="sxs-lookup"><span data-stu-id="7a66d-139">For example, the following code returns the [**IDvdControl2**](/windows/desktop/api/Strmif/nn-strmif-idvdcontrol2) interface.</span></span>


```C++
IDvdControl2 *pDvdControl = NULL;
hr = pBuild->GetDvdInterface(IID_IDvdControl2, (void**)&pDvdControl);
```



<span data-ttu-id="7a66d-140">Die empfohlene Vorgehensweise zum Erstellen des DVD-Wiedergabe Filter Diagramms besteht darin, dass ein [DVD Graph](dvd-graph-builder.md) -Generator-Objekt dies automatisch durchführen kann.</span><span class="sxs-lookup"><span data-stu-id="7a66d-140">The recommended way to build the DVD playback filter graph is to have a [DVD Graph Builder](dvd-graph-builder.md) object do it for you automatically.</span></span> <span data-ttu-id="7a66d-141">Diese Vorgehensweise wird im folgenden und in der DVD-Beispielanwendung veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="7a66d-141">This approach is demonstrated below and in the DVD sample application.</span></span> <span data-ttu-id="7a66d-142">Wenn Sie das DVD-Filter Diagramm manuell erstellen müssen, können Sie dies tun, indem Sie die grundlegenden Regeln der Graph-Erstellung befolgen, die an anderer Stelle in der DirectShow-Dokumentation erörtert werden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-142">If you need to build your DVD filter graph manually, you can do so by following the basic rules of graph building discussed elsewhere in the DirectShow documentation.</span></span> <span data-ttu-id="7a66d-143">Im Allgemeinen sollten Sie im Diagramm, das vom DVD Graph-Generator erstellt wurde, keine einzelnen Filter manuell hinzufügen, entfernen, verbinden oder trennen, da dadurch der Bereinigungs Code verwechselt werden kann.</span><span class="sxs-lookup"><span data-stu-id="7a66d-143">Generally, you should not manually add, remove, connect, or disconnect individual filters in the graph created by the DVD Graph Builder, because doing so might confuse the cleanup code.</span></span>

<span data-ttu-id="7a66d-144">Konfigurieren des Videorenderers</span><span class="sxs-lookup"><span data-stu-id="7a66d-144">Configuring the Video Renderer</span></span>

<span data-ttu-id="7a66d-145">DirectShow stellt mehrere Videorendererfilter bereit.</span><span class="sxs-lookup"><span data-stu-id="7a66d-145">DirectShow provides several video renderer filters.</span></span> <span data-ttu-id="7a66d-146">Vor dem Erstellen des Diagramms können Sie auswählen, welchen Videorenderer Sie bevorzugen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-146">Before you build the graph, you can chose which video renderer you prefer.</span></span> <span data-ttu-id="7a66d-147">Wählen Sie den Renderer aus, indem Sie [**idvdgraphbuilder:: getdvdinterface**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-getdvdinterface) aufrufen und eine Schnittstelle anfordern, die für diesen Renderer spezifisch ist:</span><span class="sxs-lookup"><span data-stu-id="7a66d-147">Select the renderer by calling [**IDvdGraphBuilder::GetDvdInterface**](/windows/desktop/api/Strmif/nf-strmif-idvdgraphbuilder-getdvdinterface) and requesting an interface that is specific to that renderer:</span></span>

-   <span data-ttu-id="7a66d-148">Filter für Überlagerungs-Mixer: [**iddrawexclmodevideo**](/windows/desktop/api/Strmif/nn-strmif-iddrawexclmodevideo).</span><span class="sxs-lookup"><span data-stu-id="7a66d-148">Overlay Mixer Filter: [**IDDrawExclModeVideo**](/windows/desktop/api/Strmif/nn-strmif-iddrawexclmodevideo).</span></span>
-   <span data-ttu-id="7a66d-149">Video Mischungs-Renderer 7 (VMR-7): [**ivmrfilterconfig**](/windows/desktop/api/Strmif/nn-strmif-ivmrfilterconfig).</span><span class="sxs-lookup"><span data-stu-id="7a66d-149">Video Mixing Renderer 7 (VMR-7): [**IVMRFilterConfig**](/windows/desktop/api/Strmif/nn-strmif-ivmrfilterconfig).</span></span>
-   <span data-ttu-id="7a66d-150">Video Mischungs-Renderer 9 (VMR-9): [**IVMRFilterConfig9**](/previous-versions/windows/desktop/api/Vmr9/nn-vmr9-ivmrfilterconfig9).</span><span class="sxs-lookup"><span data-stu-id="7a66d-150">Video Mixing Renderer 9 (VMR-9): [**IVMRFilterConfig9**](/previous-versions/windows/desktop/api/Vmr9/nn-vmr9-ivmrfilterconfig9).</span></span>
-   <span data-ttu-id="7a66d-151">Erweiterter Videorenderer (EVR): [**ievrfilterconfig**](/windows/desktop/api/evr/nn-evr-ievrfilterconfig).</span><span class="sxs-lookup"><span data-stu-id="7a66d-151">Enhanced Video Renderer (EVR): [**IEVRFilterConfig**](/windows/desktop/api/evr/nn-evr-ievrfilterconfig).</span></span>

<span data-ttu-id="7a66d-152">Wenn Sie eine dieser Schnittstellen vor dem Erstellen des Filter Diagramms anfordern, erstellt der DVD Graph-Generator den entsprechenden Videorenderer.</span><span class="sxs-lookup"><span data-stu-id="7a66d-152">If you request any of these interfaces before building the filter graph, the DVD Graph Builder creates the corresponding video renderer.</span></span> <span data-ttu-id="7a66d-153">Wenn Sie später das Diagramm erstellen, versucht der DVD Graph-Generator, diesen Renderer zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-153">Later, when you build the graph, the DVD Graph Builder will try to use that renderer.</span></span> <span data-ttu-id="7a66d-154">Wenn das Diagramm jedoch nicht mit dem ausgewählten Renderer erstellt werden kann, wechselt es möglicherweise zu einem anderen Renderer.</span><span class="sxs-lookup"><span data-stu-id="7a66d-154">But if it cannot build the graph using the renderer you selected, it may switch to another renderer.</span></span> <span data-ttu-id="7a66d-155">Beispielsweise ist der MPEG-2-Decoder möglicherweise nicht mit dem VMR-Filter kompatibel. in diesem Fall würde der DVD-Diagramm-Generator standardmäßig den Überlagerungs-Mixer enthalten.</span><span class="sxs-lookup"><span data-stu-id="7a66d-155">For example, your MPEG-2 decoder might not be compatible with the VMR filter, in which case the DVD Graph Builder would default to the Overlay Mixer.</span></span>

<span data-ttu-id="7a66d-156">Diese Schnittstellen haben außerdem die Möglichkeit, den Renderer zu konfigurieren, bevor er mit dem Decoder verbunden ist.</span><span class="sxs-lookup"><span data-stu-id="7a66d-156">These interfaces also give you a chance to configure the renderer before it is connected to the decoder.</span></span> <span data-ttu-id="7a66d-157">Beispielsweise können Sie VMR so festlegen, dass der fensterlose Modus anstelle des Standardfenster Modus verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="7a66d-157">For example, you can set the VMR to use windowless mode instead of the default windowed mode.</span></span> <span data-ttu-id="7a66d-158">Weitere Informationen zu videorendererfehlern finden Sie im Thema zum Rendern [von Videos in DirectShow](about-video-rendering-in-directshow.md).</span><span class="sxs-lookup"><span data-stu-id="7a66d-158">For more information about video renderers, see the topic [About Video Rendering in DirectShow](about-video-rendering-in-directshow.md).</span></span>

<span data-ttu-id="7a66d-159">Unter Windows XP und höher verwendet der DVD Graph-Generator immer den [Video Mischungs-Renderer 7](video-mixing-renderer-filter-7.md) (VMR-7), es sei denn,</span><span class="sxs-lookup"><span data-stu-id="7a66d-159">On Windows XP and later, the DVD Graph Builder always uses the [Video Mixing Renderer 7](video-mixing-renderer-filter-7.md) (VMR-7), unless:</span></span>

-   <span data-ttu-id="7a66d-160">Die Aufrufer-Abfrageschnittstellen haben nur den [Überlagerungs-Mixer](overlay-mixer-filter.md)wie [**IMixerPinConfig2**](/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig2)gefunden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-160">The caller queries interfaces found only the [Overlay Mixer](overlay-mixer-filter.md), such as [**IMixerPinConfig2**](/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig2).</span></span> <span data-ttu-id="7a66d-161">Dies sendet einen Hinweis an den DVD-Diagramm-Generator, dass die Anwendung den Overlay-Mixer und nicht den VMR verwenden möchte.</span><span class="sxs-lookup"><span data-stu-id="7a66d-161">This sends a hint to the DVD Graph Builder that the application wants to use the Overlay Mixer and not the VMR.</span></span> <span data-ttu-id="7a66d-162">Windows Media Player verfügt auch über eine Dialogfeld Option, um die Verwendung des Überlagerungs Mischers zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-162">Windows Media Player also has a dialog box option to force the use of the Overlay Mixer.</span></span>
-   <span data-ttu-id="7a66d-163">Der installierte Decoder ist nicht VMR-kompatibel.</span><span class="sxs-lookup"><span data-stu-id="7a66d-163">The installed decoder is not VMR-compatible.</span></span> <span data-ttu-id="7a66d-164">Während der Diagramm Bildung wird die neue [**iamdecodercaps**](/windows/desktop/api/Strmif/nn-strmif-iamdecodercaps) -Schnittstelle verwendet, um die VMR-Unterstützung des Decoders zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-164">During graph building, the new [**IAMDecoderCaps**](/windows/desktop/api/Strmif/nn-strmif-iamdecodercaps) interface is used to check for the decoder's VMR support.</span></span> <span data-ttu-id="7a66d-165">Wenn dies nicht der Fall ist, verwendet der DVD Graph-Generator den Overlay-Mixer.</span><span class="sxs-lookup"><span data-stu-id="7a66d-165">If that is not present, the DVD Graph Builder will use the Overlay Mixer.</span></span>
-   <span data-ttu-id="7a66d-166">Bei Verwendung eines Hardware-Decoders kann der Decoder keine Verbindung mit dem [Videoport-Manager](video-port-manager.md) (VPM) herstellen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-166">While using a hardware decoder, the decoder cannot connect to the [Video Port Manager](video-port-manager.md) (VPM).</span></span> <span data-ttu-id="7a66d-167">Wenn ein Hardware Decoder das VPM nicht verwenden kann, kann der VMR nicht verwendet werden. daher versucht der DVD Graph-Generator, mit dem Überlagerungs Mixer ein Diagramm zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-167">If a hardware decoder cannot use the VPM, then it cannot use the VMR, and so the DVD Graph Builder then tries to build a graph using the Overlay Mixer.</span></span>
-   <span data-ttu-id="7a66d-168">Die Anzeigekarte hat bekanntermaßen nicht genügend Ressourcen und/oder Funktionen zur Unterstützung der VMR, aber dies wird im Treiber nicht korrekt gemeldet.</span><span class="sxs-lookup"><span data-stu-id="7a66d-168">The display card is known to have insufficient resources and/or capabilities to support the VMR but does not correctly report this in the driver.</span></span> <span data-ttu-id="7a66d-169">(Einige bekannte Fälle werden explizit vom DVD Graph-Generator ausgeschlossen.)</span><span class="sxs-lookup"><span data-stu-id="7a66d-169">(Some known cases are specifically excluded by the DVD Graph Builder.)</span></span>
-   <span data-ttu-id="7a66d-170">Die Verbindung zwischen dem Decoder und VMR schlägt aus irgendeinem Grund fehl, normalerweise aufgrund eines fehlenden VRAM, um die erforderlichen Oberflächen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-170">The connection between the decoder and the VMR fails for any reason, usually due to a lack of VRAM to create the necessary surfaces.</span></span> <span data-ttu-id="7a66d-171">In diesen Fällen schaltet der DVD Graph-Generator die Verwendung von VMR ein und versucht, den Overlay-Mixer zu verwenden, um ein Diagramm zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-171">In these cases, the DVD Graph Builder switches off VMR use and tries to use the Overlay Mixer to build a graph.</span></span>

<span data-ttu-id="7a66d-172">Fenstermodus</span><span class="sxs-lookup"><span data-stu-id="7a66d-172">Windowed Mode</span></span>

<span data-ttu-id="7a66d-173">Im Fenstermodus (Overlay-Mixer oder VMR) erstellt der Renderer ein eigenes Videofenster.</span><span class="sxs-lookup"><span data-stu-id="7a66d-173">In windowed mode (Overlay Mixer or VMR), the renderer creates its own video window.</span></span> <span data-ttu-id="7a66d-174">Um dieses Fenster zu einem untergeordneten Element des Anwendungsfensters zu machen, nennen Sie [**IVideoWindow::p UT- \_ Besitzer**](/windows/desktop/api/Control/nf-control-ivideowindow-put_owner) mit einem Handle für die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="7a66d-174">To make this window a child of the application window, call [**IVideoWindow::put\_Owner**](/windows/desktop/api/Control/nf-control-ivideowindow-put_owner) with a handle to the application.</span></span> <span data-ttu-id="7a66d-175">Nennen Sie auch " [**IVideoWindow::p UT \_ WindowStyle**](/windows/desktop/api/Control/nf-control-ivideowindow-put_windowstyle) ", um die Stile "WS \_ Child" und "WS \_ clipneben" im Videofenster des Renderers festzulegen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-175">Also call [**IVideoWindow::put\_WindowStyle**](/windows/desktop/api/Control/nf-control-ivideowindow-put_windowstyle) to set the WS\_CHILD and WS\_CLIPSIBLINGS styles on the renderer's video window.</span></span> <span data-ttu-id="7a66d-176">Um Maus Meldungen aus dem Videofenster des Renderers abzurufen, nennen Sie [**IVideoWindow::p UT \_ messagedrain**](/windows/desktop/api/Control/nf-control-ivideowindow-put_messagedrain) mit einem Handle für das Anwendungsfenster.</span><span class="sxs-lookup"><span data-stu-id="7a66d-176">To get mouse messages from the renderer's video window, call [**IVideoWindow::put\_MessageDrain**](/windows/desktop/api/Control/nf-control-ivideowindow-put_messagedrain) with a handle to the application window.</span></span> <span data-ttu-id="7a66d-177">Diese Methode richtet eine "Nachrichten Ableitung" ein – im Videofenster werden alle empfangenen Maus Meldungen an das Fenster für die Nachrichten Ableitung weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="7a66d-177">This method sets up a "message drain" — the video window forwards any mouse messages it receives to the message drain window.</span></span>


```C++
pVideoWindow->put_Owner((OAHWND)hwnd);
pVideoWindow->put_WindowStyle(WS_CHILD | WS_CLIPSIBLINGS);
pVideoWindow->put_MessageDrain((OAHWND)hwnd) ;
```



<span data-ttu-id="7a66d-178">Der Nachrichten Ausgleich macht das Auswählen von DVD-Menü Schaltflächen etwas kompliziert.</span><span class="sxs-lookup"><span data-stu-id="7a66d-178">The message drain makes selecting DVD menu buttons somewhat complicated.</span></span> <span data-ttu-id="7a66d-179">Wenn im Videofenster der gesamte Client Bereich der Anwendung nicht ausgefüllt wird, fallen einige Mausereignisse außerhalb des Videofensters.</span><span class="sxs-lookup"><span data-stu-id="7a66d-179">Assuming the video window does not fill the application's entire client area, some mouse events will fall outside the video window.</span></span> <span data-ttu-id="7a66d-180">Wenn Sie ein Maus Ereignis *innerhalb* des Videofensters erhalten, sollten Sie es für die DVD-Menü Navigation verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="7a66d-180">When you get a mouse event from *inside* the video window, you should process it for DVD menu navigation.</span></span> <span data-ttu-id="7a66d-181">Mausereignisse von *außerhalb* des Videofensters sollten nicht verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-181">Mouse events from *outside* the video window should not be processed.</span></span> <span data-ttu-id="7a66d-182">Bei der Nachrichten Ableitung gibt es keine Möglichkeit, zwischen beiden zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-182">With the message drain, there is no way to distinguish between the two.</span></span> <span data-ttu-id="7a66d-183">Außerdem sind die Koordinaten für Mausereignisse aus dem Videofenster relativ zum Client Bereich des Videofensters. Mausereignisse von außerhalb des Videofensters sind jedoch relativ zum Client Bereich der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="7a66d-183">Furthermore, the coordinates for mouse events from the video window are relative to the video window's client area; but mouse events from outside the video window are relative to the application's client area.</span></span>

<span data-ttu-id="7a66d-184">Fensterloser Modus</span><span class="sxs-lookup"><span data-stu-id="7a66d-184">Windowless Mode</span></span>

<span data-ttu-id="7a66d-185">Im fensterlosen Modus werden die Probleme mit Maus Meldungen vermieden.</span><span class="sxs-lookup"><span data-stu-id="7a66d-185">Windowless mode avoids the problems with mouse messages altogether.</span></span> <span data-ttu-id="7a66d-186">Sie benötigen keine Nachrichten Ableitung, da VMR (oder EVR) kein eigenes Fenster im fensterlosen Modus erstellt.</span><span class="sxs-lookup"><span data-stu-id="7a66d-186">You do not need a message drain, because the VMR (or EVR) does not create its own window in windowless mode.</span></span> <span data-ttu-id="7a66d-187">Stattdessen wird Sie direkt in das Anwendungsfenster gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="7a66d-187">Instead, it draws directly onto your application window.</span></span> <span data-ttu-id="7a66d-188">Wenn das Ziel Rechteck kleiner als der Anwendungs Client Bereich ist, berücksichtigt der DVD-Navigator dies beim Berechnen der DVD-Schaltflächen Positionen.</span><span class="sxs-lookup"><span data-stu-id="7a66d-188">If the destination rectangle is smaller than the application client area, the DVD Navigator takes this into account when it calculates the DVD button positions.</span></span> <span data-ttu-id="7a66d-189">Wenn Sie also eine Maus Meldung erhalten, können Sie die Koordinaten direkt an den DVD-Navigator übergeben, wie im Abschnitt Menü Navigation beschrieben.</span><span class="sxs-lookup"><span data-stu-id="7a66d-189">Therefore, when you get a mouse message, you can pass the coordinates directly to the DVD Navigator, as described in the section Menu Navigation.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7a66d-190">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7a66d-190">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7a66d-191">DVD-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="7a66d-191">DVD Applications</span></span>](dvd-applications.md)
</dt> </dl>

 

 
