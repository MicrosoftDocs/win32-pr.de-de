---
description: Festlegen von Eigenschaften für die Audioerfassung
ms.assetid: 81400072-91d7-4db4-86d3-d072663e691f
title: Festlegen von Eigenschaften für die Audioerfassung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31afe61d4641906391934bafe4c3acb8a911a9fe
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104213803"
---
# <a name="setting-audio-capture-properties"></a><span data-ttu-id="2cc58-103">Festlegen von Eigenschaften für die Audioerfassung</span><span class="sxs-lookup"><span data-stu-id="2cc58-103">Setting Audio Capture Properties</span></span>

<span data-ttu-id="2cc58-104">Jede Eingabe-PIN im audioerfassungs Filter macht die [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="2cc58-104">Each input pin on the Audio Capture Filter exposes the [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) interface.</span></span> <span data-ttu-id="2cc58-105">Verwenden Sie diese Schnittstelle, um eine bestimmte Eingabe zu aktivieren bzw. zu deaktivieren, indem Sie die [**IAMAudioInputMixer::p UT- \_ Aktivierungs**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) Methode für die PIN aufrufen.</span><span class="sxs-lookup"><span data-stu-id="2cc58-105">Use this interface to enable or disable a particular input, by calling the [**IAMAudioInputMixer::put\_Enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) method on the pin.</span></span> <span data-ttu-id="2cc58-106">Verwenden Sie diese Schnittstelle auch, um die Eigenschaften einer Eingabe festzulegen, z. b. die Bass-, Treble-und volumeebenen.</span><span class="sxs-lookup"><span data-stu-id="2cc58-106">Also use this interface to set properties of an input, such as the bass, treble, and volume levels.</span></span> <span data-ttu-id="2cc58-107">Wenn Sie mehrere Eingaben gleichzeitig erfassen, können Sie die Gesamtzahl der Bass-, Treble-und volumeebenen über die **IAMAudioInputMixer** -Schnittstelle im Filter selbst steuern.</span><span class="sxs-lookup"><span data-stu-id="2cc58-107">If you are capturing multiple inputs at once, you can control the overall bass, treble, and volume levels through the **IAMAudioInputMixer** interface on the filter itself.</span></span>

<span data-ttu-id="2cc58-108">Die verfügbaren Stichproben Raten und Audioformate für die Erfassung werden vom Treiber bestimmt.</span><span class="sxs-lookup"><span data-stu-id="2cc58-108">The available sampling rates and audio formats for capture are determined by the driver.</span></span> <span data-ttu-id="2cc58-109">Verwenden Sie die [**iamstreamconfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) -Schnittstelle in der Ausgabe-PIN des audioerfassungs Filters, um die verfügbaren Stichproben Raten und-Formate aufzulisten und das gewünschte Format festzulegen.</span><span class="sxs-lookup"><span data-stu-id="2cc58-109">Use the [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) interface on the Audio Capture Filter's output pin to enumerate the available sampling rates and formats and set the desired format.</span></span> <span data-ttu-id="2cc58-110">Der Filter kann eine Downstreamverbindung mit einem beliebigen Filter herstellen, der den Medientyp der Ausgabepin akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="2cc58-110">The filter can connect downstream to any filter that accepts the output pin's media type.</span></span>

<span data-ttu-id="2cc58-111">Der audioerfassungs Filter macht auch die [**iambufferaushandlung**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) -Schnittstelle verfügbar.</span><span class="sxs-lookup"><span data-stu-id="2cc58-111">The Audio Capture Filter also exposes the [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) interface.</span></span> <span data-ttu-id="2cc58-112">Diese Schnittstelle ist nützlich, um die Latenzzeit in der Audiovorschau zu steuern.</span><span class="sxs-lookup"><span data-stu-id="2cc58-112">This interface is useful for controlling the amount of latency in audio preview.</span></span> <span data-ttu-id="2cc58-113">Standardmäßig verwendet der audioerfassungs Filter eine halbsekunden-Puffergröße.</span><span class="sxs-lookup"><span data-stu-id="2cc58-113">By default, the Audio Capture filter uses a half-second buffer size.</span></span> <span data-ttu-id="2cc58-114">Diese Puffergröße eignet sich optimal für die Erfassung, verursacht jedoch eine Vorschau Verzögerung von einer halben Sekunde.</span><span class="sxs-lookup"><span data-stu-id="2cc58-114">This buffer size is optimal for capturing but causes a half-second preview delay.</span></span> <span data-ttu-id="2cc58-115">Um die Latenz zu verringern, müssen Sie die [**iambufferaushandlung:: sugerloerproperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) -Methode abrufen, bevor Sie die Ausgabe-PIN des audioerfassungs Filters verbinden.</span><span class="sxs-lookup"><span data-stu-id="2cc58-115">To reduce the latency, call the [**IAMBufferNegotiation::SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) method before you connect the Audio Capture Filter's output pin.</span></span> <span data-ttu-id="2cc58-116">Diese Methode nimmt einen Zeiger auf die Struktur der [**\_ zuordnereigenschaften**](/windows/win32/api/strmif/ns-strmif-allocator_properties) an.</span><span class="sxs-lookup"><span data-stu-id="2cc58-116">This method takes a pointer to the [**ALLOCATOR\_PROPERTIES**](/windows/win32/api/strmif/ns-strmif-allocator_properties) structure.</span></span> <span data-ttu-id="2cc58-117">Verwenden Sie das **cbbuffer** -Element, um die Puffergröße in Bytes anzugeben.</span><span class="sxs-lookup"><span data-stu-id="2cc58-117">Use the **cbBuffer** member to specify the buffer size, in bytes.</span></span> <span data-ttu-id="2cc58-118">Ein 80 millisekundenpuffer ist im Allgemeinen sicher, aber Puffer mit 30 oder 40 Millisekunden sind möglicherweise ausreichend.</span><span class="sxs-lookup"><span data-stu-id="2cc58-118">An 80 millisecond buffer is generally safe, but buffers of 30 or 40 milliseconds might be sufficient.</span></span> <span data-ttu-id="2cc58-119">Wenn die Puffer zu klein sind, wird die Audioqualität beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="2cc58-119">If the buffers are too small, the sound quality will be degraded.</span></span>

 

 



