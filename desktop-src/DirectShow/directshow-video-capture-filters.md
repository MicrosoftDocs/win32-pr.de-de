---
description: DirectShow-Video Erfassungs Filter
ms.assetid: e4d1452d-ceac-4b5c-b9ba-ad4722ecff76
title: DirectShow-Video Erfassungs Filter
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 238f18dd77bc40011fa9fc0dbab3192ea81a223f
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104480875"
---
# <a name="directshow-video-capture-filters"></a><span data-ttu-id="7b343-103">DirectShow-Video Erfassungs Filter</span><span class="sxs-lookup"><span data-stu-id="7b343-103">DirectShow Video Capture Filters</span></span>

<span data-ttu-id="7b343-104">Erfassungs Filter in DirectShow verfügen über einige Funktionen, die Sie von anderen Arten von Filtern unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="7b343-104">Capture filters in DirectShow have some features that distinguish them from other kinds of filters.</span></span> <span data-ttu-id="7b343-105">Obwohl der [Erfassungs Diagramm](capture-graph-builder.md) -Generator viele der Details verbirgt, empfiehlt es sich, diesen Abschnitt zu lesen, um ein allgemeines Verständnis von DirectShow-Erfassungs Diagrammen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="7b343-105">Although the [Capture Graph Builder](capture-graph-builder.md) hides many of the details, it is a good idea to read this section, in order to have a general understanding of DirectShow capture graphs.</span></span>

<span data-ttu-id="7b343-106">**PIN-Kategorien**</span><span class="sxs-lookup"><span data-stu-id="7b343-106">**Pin Categories**</span></span>

<span data-ttu-id="7b343-107">Ein Erfassungs Filter verfügt häufig über zwei oder mehr Ausgabe Pins, die dieselbe Art von Daten bereitstellt, z. –. eine Vorschau-PIN und eine Aufzeichnungs-PIN.</span><span class="sxs-lookup"><span data-stu-id="7b343-107">A capture filter often has two or more output pins that deliver the same kind of data—for example, a preview pin and a capture pin.</span></span> <span data-ttu-id="7b343-108">Aus diesem Grund sind Medientypen keine gute Methode, um die Pins zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="7b343-108">Therefore, media types are not a good way to distinguish the pins.</span></span> <span data-ttu-id="7b343-109">Stattdessen werden die Pins durch ihre Funktionalität unterschieden, die mithilfe einer GUID identifiziert wird, die als *Pin-Kategorie* bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="7b343-109">Instead, the pins are distinguished by their functionality, which is identified using a GUID, called the *pin category*.</span></span>

<span data-ttu-id="7b343-110">Eine Erläuterung zum Abfragen von Pins für Ihre Kategorie finden Sie unter [Arbeiten mit PIN-Kategorien](working-with-pin-categories.md).</span><span class="sxs-lookup"><span data-stu-id="7b343-110">For a discussion of how to query pins for their category, see [Working with Pin Categories](working-with-pin-categories.md).</span></span> <span data-ttu-id="7b343-111">Bei den meisten Anwendungen müssen Pins jedoch nicht direkt abgefragt werden.</span><span class="sxs-lookup"><span data-stu-id="7b343-111">For most applications, however, you will not have to query pins directly.</span></span> <span data-ttu-id="7b343-112">Stattdessen verwenden verschiedene [**ICaptureGraphBuilder2**](/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2) -Methoden Parameter, die die anzuarbeitende Pin-Kategorie angeben.</span><span class="sxs-lookup"><span data-stu-id="7b343-112">Instead, various [**ICaptureGraphBuilder2**](/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2) methods take parameters that specify the pin category on which to operate.</span></span> <span data-ttu-id="7b343-113">Der Erfassungs Diagramm-Generator wird automatisch nach der richtigen PIN fest.</span><span class="sxs-lookup"><span data-stu-id="7b343-113">The Capture Graph Builder automatically locates the correct pin.</span></span>

<span data-ttu-id="7b343-114">**Pins für Vorschau und Erfassung**</span><span class="sxs-lookup"><span data-stu-id="7b343-114">**Preview Pins and Capture Pins**</span></span>

<span data-ttu-id="7b343-115">Einige Video Erfassungsgeräte verfügen über separate Ausgabe Pins für Vorschau und Erfassung.</span><span class="sxs-lookup"><span data-stu-id="7b343-115">Some video capture devices have separate output pins for preview and capture.</span></span> <span data-ttu-id="7b343-116">Die Vorschau-PIN wird zum Rendering von Videos auf dem Bildschirm verwendet, während die Erfassungs-PIN zum Schreiben von Videos in eine Datei verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="7b343-116">The preview pin is used to render video to the screen, while the capture pin is used to write video to a file.</span></span>

<span data-ttu-id="7b343-117">Eine Vorschau-PIN und eine Aufzeichnungs-PIN haben die folgenden Unterschiede:</span><span class="sxs-lookup"><span data-stu-id="7b343-117">A preview pin and a capture pin have the following differences:</span></span>

-   <span data-ttu-id="7b343-118">Eine Vorschau-Pin löscht Frames nach Bedarf, um den Durchsatz auf der Erfassungs-Pin aufrechtzuerhalten.</span><span class="sxs-lookup"><span data-stu-id="7b343-118">A preview pin drops frames as needed to maintain throughput on the capture pin.</span></span>
-   <span data-ttu-id="7b343-119">Jedem Frame aus einer Aufzeichnungs-PIN wird ein Zeitstempel mit der streamzeit angezeigt, zu der der Rahmen aufgezeichnet wurde.</span><span class="sxs-lookup"><span data-stu-id="7b343-119">Each frame from a capture pin is time-stamped with the stream time when the frame was captured.</span></span> <span data-ttu-id="7b343-120">Eine Vorschau-Pin hat keine Zeitstempel für die von ihr bereitgestellten Beispiele.</span><span class="sxs-lookup"><span data-stu-id="7b343-120">A preview pin does not time stamp the samples it delivers.</span></span>

<span data-ttu-id="7b343-121">Der Grund dafür, dass Vorschau Rahmen nicht über Zeitstempel verfügen, besteht darin, dass das Filter Diagramm eine kleine Menge an Latenz in den Datenstrom einführt.</span><span class="sxs-lookup"><span data-stu-id="7b343-121">The reason that preview frames do not have time stamps is that the filter graph introduces a small amount of latency into the stream.</span></span> <span data-ttu-id="7b343-122">Wenn die Erfassungs Zeit als Präsentationszeit verwendet wird, behandelt der Videorenderer jede Stichprobe als etwas spät.</span><span class="sxs-lookup"><span data-stu-id="7b343-122">If the capture time is used as the presentation time, the video renderer treats every sample as being slightly late.</span></span> <span data-ttu-id="7b343-123">Dies kann bewirken, dass der Videorenderer Frames abfängt, während er versucht, den Vorgang zu wiederholen.</span><span class="sxs-lookup"><span data-stu-id="7b343-123">This can cause the video renderer to drop frames while it tries to catch up.</span></span> <span data-ttu-id="7b343-124">Durch das Entfernen der Zeitstempel wird sichergestellt, dass der Renderer die einzelnen Beispiele beim Eintreffen anzeigt, ohne Frames zu verwerfen.</span><span class="sxs-lookup"><span data-stu-id="7b343-124">Removing the time stamps ensures that the renderer presents each sample when it arrives, without dropping frames.</span></span>

<span data-ttu-id="7b343-125">Die PIN-Kategorie für Vorschau Pins ist Pin \_ Category \_ Preview.</span><span class="sxs-lookup"><span data-stu-id="7b343-125">The pin category for preview pins is PIN\_CATEGORY\_PREVIEW.</span></span> <span data-ttu-id="7b343-126">Die Kategorie für Erfassungs Pins ist die Erfassung der PIN- \_ Kategorie \_ .</span><span class="sxs-lookup"><span data-stu-id="7b343-126">The category for capture pins is PIN\_CATEGORY\_CAPTURE.</span></span>

<span data-ttu-id="7b343-127">**VideoPort-Pins**</span><span class="sxs-lookup"><span data-stu-id="7b343-127">**Video Port Pins**</span></span>

<span data-ttu-id="7b343-128">Ein Videoport ist eine Hardware Verbindung zwischen einem Videogerät (z. b. einem analogen TV-Tuner) und der Grafikkarte.</span><span class="sxs-lookup"><span data-stu-id="7b343-128">A video port is a hardware connection between a video device (such as an analog TV tuner) and the video card.</span></span> <span data-ttu-id="7b343-129">Ein Videoport ermöglicht dem Gerät das Senden von Videodaten direkt an die Grafikkarte.</span><span class="sxs-lookup"><span data-stu-id="7b343-129">A video port enables the device to send video data directly to the graphics card.</span></span> <span data-ttu-id="7b343-130">Das Video wird auf dem Bildschirm mithilfe einer Hardware Überlagerung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="7b343-130">The video is displayed on the screen using a hardware overlay.</span></span> <span data-ttu-id="7b343-131">Ein Videoport kann ein tatsächliches Kabel sein, das zwei Geräte auf separaten Karten verbindet. oder es handelt sich möglicherweise um eine hart verdrahtete Verbindung auf derselben Karte.</span><span class="sxs-lookup"><span data-stu-id="7b343-131">A video port might be an actual cable that connects two devices on separate cards; or it might be a hard-wired connection on the same card.</span></span>

<span data-ttu-id="7b343-132">Der Vorteil eines Video Anschlusses besteht darin, dass das Video direkt in den Videospeicher übergeht, ohne dass die CPU funktioniert.</span><span class="sxs-lookup"><span data-stu-id="7b343-132">The advantage of a video port is that the video goes directly into video memory, without any work by the CPU.</span></span> <span data-ttu-id="7b343-133">Allerdings haben videports einige Nachteile:</span><span class="sxs-lookup"><span data-stu-id="7b343-133">However, video ports have some drawbacks:</span></span>

-   <span data-ttu-id="7b343-134">Ein Videoport verwendet immer die Überlagerungs Oberfläche während der Erfassung, unabhängig davon, ob Sie das Video in der Vorschau anzeigen möchten.</span><span class="sxs-lookup"><span data-stu-id="7b343-134">A video port always uses the overlay surface during capture, regardless of whether you want to preview the video.</span></span>
-   <span data-ttu-id="7b343-135">Das Kippen zwischen Frames erfolgt automatisch, wodurch es schwierig wird, das Kippen mit anderen Video Vorgängen zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="7b343-135">Flipping between frames occurs automatically, which makes it difficult to synchronize the flip with other video operations.</span></span>

<span data-ttu-id="7b343-136">Wenn ein Aufzeichnungsgerät einen Videoport verwendet, hat der Erfassungs Filter anstelle einer Vorschau-Pin eine Videoport-PIN.</span><span class="sxs-lookup"><span data-stu-id="7b343-136">If a capture device uses a video port, the capture filter has a video port pin instead of a preview pin.</span></span> <span data-ttu-id="7b343-137">Die PIN-Kategorie für Videoport Pins lautet "Pin \_ Category \_ Videoport".</span><span class="sxs-lookup"><span data-stu-id="7b343-137">The pin category for video port pins is PIN\_CATEGORY\_VIDEOPORT.</span></span>

<span data-ttu-id="7b343-138">Jeder Erfassungs Filter hat mindestens eine Erfassungs-PIN.</span><span class="sxs-lookup"><span data-stu-id="7b343-138">Every capture filter has at least one capture pin.</span></span> <span data-ttu-id="7b343-139">Außerdem verfügt er möglicherweise über eine Vorschau-PIN oder eine Videoport-PIN, aber nicht beides.</span><span class="sxs-lookup"><span data-stu-id="7b343-139">In addition it might have a preview pin or a video port pin, but never both.</span></span> <span data-ttu-id="7b343-140">Filter können über mehrere Erfassungs Pins und Vorschau Pins verfügen, von denen jeder einen separaten Medientyp bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="7b343-140">Filters can have multiple capture pins and preview pins, each delivering a separate media type.</span></span> <span data-ttu-id="7b343-141">Daher kann ein einzelner Filter eine Video Erfassungs-PIN, eine Video Vorschau-PIN, eine audioerfassungs-PIN und eine Audiovorschau-Pin enthalten.</span><span class="sxs-lookup"><span data-stu-id="7b343-141">Thus, a single filter could have a video capture pin, a video preview pin, an audio capture pin, and an audio preview pin.</span></span> <span data-ttu-id="7b343-142">(Es gibt jedoch nichts, was einem Videoport für Audiodaten entspricht.)</span><span class="sxs-lookup"><span data-stu-id="7b343-142">(There is nothing equivalent to a video port for audio, however.)</span></span>

<span data-ttu-id="7b343-143">**WDM-Upstream-Filter**</span><span class="sxs-lookup"><span data-stu-id="7b343-143">**Upstream WDM Filters**</span></span>

<span data-ttu-id="7b343-144">Für Windows-Treibermodell-Geräte (WDM) sind möglicherweise einige zusätzliche Filter für den Erfassungs Filter erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7b343-144">Windows Driver Model (WDM) devices may require some additional filters upstream from the capture filter.</span></span> <span data-ttu-id="7b343-145">Diese Filter umfassen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="7b343-145">These filters include the following:</span></span>

-   <span data-ttu-id="7b343-146">[TV-Tuner-Filter](tv-tuner-filter.md).</span><span class="sxs-lookup"><span data-stu-id="7b343-146">[TV Tuner Filter](tv-tuner-filter.md).</span></span> <span data-ttu-id="7b343-147">Steuert die Optimierung für analoge TV-Tuner.</span><span class="sxs-lookup"><span data-stu-id="7b343-147">Controls tuning for analog TV tuners.</span></span>
-   <span data-ttu-id="7b343-148">[TV-Audiofilter](tv-audio-filter.md).</span><span class="sxs-lookup"><span data-stu-id="7b343-148">[TV Audio Filter](tv-audio-filter.md).</span></span> <span data-ttu-id="7b343-149">Steuert die Audioeinstellungen für analoge TV-Tuner.</span><span class="sxs-lookup"><span data-stu-id="7b343-149">Controls audio settings for analog TV tuners.</span></span>
-   <span data-ttu-id="7b343-150">Der [Querbalken Filter für die analoge Video](analog-video-crossbar-filter.md)-.</span><span class="sxs-lookup"><span data-stu-id="7b343-150">[Analog Video Crossbar Filter](analog-video-crossbar-filter.md).</span></span> <span data-ttu-id="7b343-151">Leitet Video-und Audiosignale über das Hardware Gerät weiter.</span><span class="sxs-lookup"><span data-stu-id="7b343-151">Routes video and audio signals through the hardware device.</span></span> <span data-ttu-id="7b343-152">Ein Gerät kann z. b. über mehrere Eingaben verfügen, z. b. S-Video und zusammengesetztes Video.</span><span class="sxs-lookup"><span data-stu-id="7b343-152">For example, a device might have multiple inputs, such as S-Video and composite video.</span></span> <span data-ttu-id="7b343-153">Der Querbalken Filter ermöglicht der Anwendung, die Eingabe auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="7b343-153">The crossbar filter enables the application to select the input.</span></span>

<span data-ttu-id="7b343-154">Obwohl es sich hierbei um separate Filter in DirectShow handelt, stellen Sie in der Regel dasselbe Hardware Gerät dar.</span><span class="sxs-lookup"><span data-stu-id="7b343-154">Although these are separate filters in DirectShow, they typically represent the same hardware device.</span></span> <span data-ttu-id="7b343-155">Jeder Filter steuert eine andere Funktion des Geräts.</span><span class="sxs-lookup"><span data-stu-id="7b343-155">Each filter controls a different function of the device.</span></span> <span data-ttu-id="7b343-156">Die Filter sind durch Pins verbunden, aber keine Mediendaten werden über die PIN-Verbindungen verschoben.</span><span class="sxs-lookup"><span data-stu-id="7b343-156">The filters are connected by pins, but no media data moves across the pin connections.</span></span> <span data-ttu-id="7b343-157">Daher wird durch das Einrichten eines Medientyps keine Verbindung mit den Pins dieser Filter hergestellt.</span><span class="sxs-lookup"><span data-stu-id="7b343-157">Therefore, the pins on these filters do not connect by establishing a media type.</span></span> <span data-ttu-id="7b343-158">Stattdessen werden GUID-Werte namens " *Mediums*" verwendet.</span><span class="sxs-lookup"><span data-stu-id="7b343-158">Instead, they use GUID values called *mediums*.</span></span> <span data-ttu-id="7b343-159">Mittlere GUIDs sind für einen bestimmten Geräte-Mini Treiber eindeutig definiert.</span><span class="sxs-lookup"><span data-stu-id="7b343-159">Medium GUIDs are uniquely defined for a given device minidriver.</span></span> <span data-ttu-id="7b343-160">Beispielsweise unterstützen der TV-Tuner-Filter und der Video Erfassungs Filter für die gleiche TV-Karte beide das gleiche Medium, das es der Anwendung ermöglicht, das Diagramm ordnungsgemäß zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="7b343-160">For example, the TV Tuner filter and the Video Capture filter for the same TV card will both support the same medium, which enables the application to build the graph correctly.</span></span>

<span data-ttu-id="7b343-161">Wenn Sie **ICaptureGraphBuilder2** verwenden, um die Erfassungs Diagramme zu erstellen, werden diese Filter in der Praxis automatisch dem Diagramm hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="7b343-161">In practice, as long as you are using **ICaptureGraphBuilder2** to build your capture graphs, these filters are added to the graph automatically.</span></span> <span data-ttu-id="7b343-162">Eine ausführlichere Erläuterung finden Sie unter [WDM-Klassen Treiber Filter](wdm-class-driver-filters.md).</span><span class="sxs-lookup"><span data-stu-id="7b343-162">For a more detailed discussion, see [WDM Class Driver Filters](wdm-class-driver-filters.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="7b343-163">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7b343-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7b343-164">Informationen zur Video Erfassung in DirectShow</span><span class="sxs-lookup"><span data-stu-id="7b343-164">About Video Capture in DirectShow</span></span>](about-video-capture-in-directshow.md)
</dt> </dl>

 

 



