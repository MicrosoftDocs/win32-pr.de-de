---
description: Datenfluss im DVD-Navigator
ms.assetid: 14f9cfa3-5ef6-419c-9196-2e4060549c03
title: Datenfluss im DVD-Navigator
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 29a981d2d7b528163abb53478e9e8f2ab88d46c0
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "103747425"
---
# <a name="data-flow-in-the-dvd-navigator"></a><span data-ttu-id="7d0ae-103">Datenfluss im DVD-Navigator</span><span class="sxs-lookup"><span data-stu-id="7d0ae-103">Data Flow in the DVD Navigator</span></span>

<span data-ttu-id="7d0ae-104">Der DVD-Navigator verfügt über Methoden zum Anhalten und Anhalten der Wiedergabe.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-104">The DVD Navigator has methods to stop and pause playback.</span></span> <span data-ttu-id="7d0ae-105">Diese **Methoden sind** ähnlich –, aber nicht identisch – mit den Methoden zum **Anhalten und anhalten** in [**IMediaControl**](/windows/desktop/api/Control/nn-control-imediacontrol).</span><span class="sxs-lookup"><span data-stu-id="7d0ae-105">These methods are similar — but not identical — to the **Stop** and **Pause** methods in [**IMediaControl**](/windows/desktop/api/Control/nn-control-imediacontrol).</span></span> <span data-ttu-id="7d0ae-106">Dies ist der Unterschied zwischen den folgenden:</span><span class="sxs-lookup"><span data-stu-id="7d0ae-106">Here is the difference between them:</span></span>

-   <span data-ttu-id="7d0ae-107">Die **IDvdControl2** -Methoden ändern, was der DVD-Navigator aus dem Datenträger liest.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-107">The **IDvdControl2** methods change what the DVD Navigator reads from the disk.</span></span> <span data-ttu-id="7d0ae-108">Der Status des Diagramms wird nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-108">They do not change the state of the graph.</span></span>
-   <span data-ttu-id="7d0ae-109">Die **IMediaControl** -Methoden ändern den Status des Diagramms.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-109">The **IMediaControl** methods change the state of the graph.</span></span> <span data-ttu-id="7d0ae-110">Sie ändern nicht, was der DVD-Navigator aus dem Datenträger liest.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-110">They do not change what the DVD Navigator reads from the disk.</span></span> <span data-ttu-id="7d0ae-111">(Es gibt eine wichtige Ausnahme, die im nächsten Abschnitt erläutert wird, die sich auf die Methode " **Ende** " bezieht.)</span><span class="sxs-lookup"><span data-stu-id="7d0ae-111">(There is one important exception, explained in the next section, related to the **Stop** method.)</span></span>

<span data-ttu-id="7d0ae-112">Beispielsweise gibt [**IDvdControl2::P ause**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-pause) -Methode den Anhang J "Pause \_ on"-Befehl aus, hält aber nicht das Filter Diagramm an.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-112">For example, [**IDvdControl2::Pause**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-pause) method issues the Annex J "Pause\_On" command, but does not pause the filter graph.</span></span> <span data-ttu-id="7d0ae-113">Die [**IMediaControl::P ause**](/windows/desktop/api/Control/nf-control-imediacontrol-pause) -Methode hält dagegen das Diagramm an, gibt jedoch keinen DVD-Befehl aus.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-113">The [**IMediaControl::Pause**](/windows/desktop/api/Control/nf-control-imediacontrol-pause) method, on the other hand, pauses the graph but does not issue any DVD command.</span></span>

<span data-ttu-id="7d0ae-114">Verwenden Sie im Allgemeinen die Methoden **IMediaControl::P ause** und **Ende** anstelle der entsprechenden **IDvdControl2** -Methoden.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-114">In general, use the **IMediaControl::Pause** and **Stop** methods instead of the corresponding **IDvdControl2** methods.</span></span> <span data-ttu-id="7d0ae-115">Die **IMediaControl** -Methoden weisen sehr kleine Wartezeiten auf, während die **IDvdControl2** -Methoden bis zu zwei Sekunden Wartezeit haben können.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-115">The **IMediaControl** methods have very small latencies, whereas the **IDvdControl2** methods can have up to two seconds of latency.</span></span>

<span data-ttu-id="7d0ae-116">Beenden der Wiedergabe</span><span class="sxs-lookup"><span data-stu-id="7d0ae-116">Stopping Playback</span></span>

<span data-ttu-id="7d0ae-117">Das Verhalten von [**IMediaControl:: Beendigung**](/windows/desktop/api/Control/nf-control-imediacontrol-stop) hängt von einem Flag ab, das Sie mit der [**IDvdControl2:: SetOption**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-setoption) -Methode festlegen können.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-117">The behavior of [**IMediaControl::Stop**](/windows/desktop/api/Control/nf-control-imediacontrol-stop) depends on a flag that you can set with the [**IDvdControl2::SetOption**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-setoption) method.</span></span>

-   <span data-ttu-id="7d0ae-118">Wenn das DVD \_ -resetonstopp-Flag **false** ist, wird das Diagramm von **IMediaControl:: Stopp** beendet, aber die Domäne des DVD-Navigators wird nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-118">If the DVD\_ResetOnStop flag is **FALSE**, **IMediaControl::Stop** stops the graph, but does not change the DVD Navigator's domain.</span></span> <span data-ttu-id="7d0ae-119">Wenn Sie erneut ausführen, wird die Wiedergabe von der aktuellen Position aus fortgesetzt.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-119">When you call run again, playback resumes from the current position.</span></span>
-   <span data-ttu-id="7d0ae-120">Wenn die DVD- \_ reseetonstopps **true** ist, wird der DVD-Navigator von **IMediaControl:: Beendigung** zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-120">If DVD\_ResetOnStop is **TRUE**, **IMediaControl::Stop** causes the DVD Navigator to reset.</span></span> <span data-ttu-id="7d0ae-121">Wenn Sie [**IMediaControl:: Run erneut ausführen**](/windows/desktop/api/Control/nf-control-imediacontrol-run) , wird der DVD-Navigator von der ersten Wiedergabe Domäne abgespielt, als ob Sie die DVD zum ersten Mal eingefügt haben.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-121">When you call [**IMediaControl::Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run) again, the DVD Navigator plays from the First Play domain, as if you were inserting the DVD for the first time.</span></span>

<span data-ttu-id="7d0ae-122">Das \_ Flag für die DVD resetonstoppist standardmäßig auf " **true** " gesetzt, um die Kompatibilität mit älteren Anwendungen zu</span><span class="sxs-lookup"><span data-stu-id="7d0ae-122">The DVD\_ResetOnStop flag is **TRUE** by default, for compatibility with older applications.</span></span> <span data-ttu-id="7d0ae-123">Im Allgemeinen sollten Sie jedoch die Standardeinstellung überschreiben und das-Flag auf **false** festlegen.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-123">Generally, however, you should override the default and set the flag to **FALSE**.</span></span> <span data-ttu-id="7d0ae-124">Der Grund dafür ist, dass bestimmte Ereignisse bewirken können, dass das Diagramm während der Wiedergabe angehalten wird.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-124">The reason is that certain events can cause the graph to stop during playback.</span></span> <span data-ttu-id="7d0ae-125">Wenn sich beispielsweise die Bildschirmauflösung ändert, wird das Filter Diagramm angehalten, der Videorenderer erneut verbunden und neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-125">For example, if the display resolution changes, the filter graph stops, reconnects the video renderer, and restarts.</span></span> <span data-ttu-id="7d0ae-126">Wenn \_ die DVD resetonstopps den Wert **true** hat, wird die Wiedergabe am Anfang der Festplatte neu gestartet. Das ist wahrscheinlich nicht das, was der Benutzer erwartet.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-126">If DVD\_ResetOnStop is **TRUE**, playback will restart from the beginning of the disc. That is probably not what the user expects.</span></span>

<span data-ttu-id="7d0ae-127">Starten Sie daher am Anfang der Anwendung " **SetOption** ", wobei DVD \_ resetonstoppauf **false** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-127">At the beginning of your application, therefore, call **SetOption** with DVD\_ResetOnStop set to **FALSE**.</span></span> <span data-ttu-id="7d0ae-128">Wenn Sie die Wiedergabe wieder aufnehmen möchten und Sie am gleichen Speicherort fortsetzen möchten, nennen Sie **IMediaControl:: stoppoder** **IMediaControl::P ause**.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-128">If you want to stop playback and have it resume from the same location, call **IMediaControl::Stop** or **IMediaControl::Pause**.</span></span> <span data-ttu-id="7d0ae-129">Wenn Sie die Wiedergabe und den Datenträger wiederherstellen möchten, geben Sie **SetOption** mit DVD \_ resetonstopps gleich **true** ein, und klicken Sie dann auf **IMediaControl:: Ende**, und wählen Sie schließlich **SetOption** erneut aus, und setzen \_ Sie DVD resetonstoppauf **false** zurück.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-129">If you want to stop playback and reset the disk, call **SetOption** with DVD\_ResetOnStop equal to **TRUE**; then call **IMediaControl::Stop**; finally, call **SetOption** again and reset DVD\_ResetOnStop to **FALSE**.</span></span>

<span data-ttu-id="7d0ae-130">Anhalten der Wiedergabe</span><span class="sxs-lookup"><span data-stu-id="7d0ae-130">Pausing Playback</span></span>

<span data-ttu-id="7d0ae-131">Wenn Sie dem DVD-Navigator einen Befehl zur Verfügung stellen, während das Diagramm angehalten wird, wird der Befehl möglicherweise erst beendet, wenn das Diagramm erneut ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-131">If you give the DVD Navigator a command while the graph is paused, the command may not complete until the graph runs again.</span></span> <span data-ttu-id="7d0ae-132">In einigen Fällen kann dies zu einem Deadlock in der Anwendung führen.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-132">In some situations, this can cause a deadlock in your application.</span></span> <span data-ttu-id="7d0ae-133">Es gibt zwei Regeln, die Sie befolgen sollten, um Deadlocks zu vermeiden:</span><span class="sxs-lookup"><span data-stu-id="7d0ae-133">There are two rules you should follow to avoid deadlocks:</span></span>

-   <span data-ttu-id="7d0ae-134">Geben Sie bei angehaltenen Ausführung nicht mehr als einen asynchronen DVD-Befehl aus.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-134">While paused, do not issue more than one asynchronous DVD command.</span></span>
-   <span data-ttu-id="7d0ae-135">Blockieren Sie den UI-Thread der Anwendung oder den Thread, der den Status des Diagramms ändert, nicht, wenn der Thread angehalten wurde.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-135">While paused, do not block the application's UI thread or the thread that changes the state of the graph.</span></span>

<span data-ttu-id="7d0ae-136">Die zweite Regel sollte genauer geprüft werden.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-136">The second rule is worth examining in more detail.</span></span> <span data-ttu-id="7d0ae-137">Im folgenden finden Sie einige spezifische Szenarien, die möglicherweise einen Deadlock verursachen:</span><span class="sxs-lookup"><span data-stu-id="7d0ae-137">Here are some specific scenarios that may cause a deadlock:</span></span>

-   <span data-ttu-id="7d0ae-138">**Szenario**: während der angehaltenen Anwendung gibt die Anwendung einen DVD-Befehl mit dem blockierflag aus.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-138">**Scenario**: While paused, the application issues a DVD command with the blocking flag.</span></span> <span data-ttu-id="7d0ae-139">Dies kann zu einem Deadlock führen, wenn der Thread, der den DVD-Befehl ausgibt, derselbe Thread ist, der den Befehl "Run" ausgibt.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-139">This can cause a deadlock if the thread that issues the DVD command is the same thread that issues the run command.</span></span> <span data-ttu-id="7d0ae-140">Der DVD-Befehl blockiert, bis das Diagramm ausgeführt wird, aber das Diagramm kann erst ausgeführt werden, wenn der Befehl abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-140">The DVD command blocks until the graph runs, but the graph cannot run until the command completes.</span></span>

    <span data-ttu-id="7d0ae-141">**Empfehlung**: Geben Sie den DVD-Befehl in einem separaten Arbeits Thread aus, oder verwenden Sie das blockierflag nicht.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-141">**Recommendation**: Issue the DVD command on a separate worker thread, or don't use the blocking flag.</span></span>

-   <span data-ttu-id="7d0ae-142">**Szenario**: bei angehaltenen Anwendungen gibt die Anwendung einen DVD-Befehl aus und ruft dann [**idvdcmd:: waitforend**](/windows/desktop/api/Strmif/nf-strmif-idvdcmd-waitforend) für das Command-Objekt auf.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-142">**Scenario**: While paused, the application issues a DVD command, then calls [**IDvdCmd::WaitForEnd**](/windows/desktop/api/Strmif/nf-strmif-idvdcmd-waitforend) on the command object.</span></span> <span data-ttu-id="7d0ae-143">Diese Situation entspricht dem vorherigen Beispiel.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-143">This situation is equivalent to the previous example.</span></span> <span data-ttu-id="7d0ae-144">Wenn Sie **Wait** aus dem UI-Thread aufzurufen, kann der UI-Thread das Diagramm erst ausführen, wenn die **Wait** - **Methode die** Blockierung aufhebt, die Blockierung allerdings erst, wenn das Diagramm ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-144">If you call **Wait** from the UI thread, the UI thread cannot run the graph until the **Wait** method unblocks, but the **Wait** method will not unblock until the graph runs.</span></span>

    <span data-ttu-id="7d0ae-145">**Empfehlung**: **warten** Sie auf einen Arbeits Thread.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-145">**Recommendation**: Call **Wait** on a worker thread.</span></span>

-   <span data-ttu-id="7d0ae-146">**Szenario**: während das Diagramm ausgeführt wird, gibt die Anwendung einen DVD-Befehl mit dem blockierflag aus und ruft dann die Pause von einem anderen Thread auf.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-146">**Scenario**: While the graph is running, the application issues a DVD command with the blocking flag, and then calls pause from another thread.</span></span> <span data-ttu-id="7d0ae-147">Dies ist eine mögliche Racebedingung, da das Diagramm angehalten werden kann, bevor der Befehl ausgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-147">This is a possible race condition because the graph may pause before the command is issued.</span></span> <span data-ttu-id="7d0ae-148">Wenn einer der beiden Threads der UI-Thread ist, können Sie einen Deadlock ähnlich den beiden vorherigen Beispielen auslösen.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-148">If one of the two threads is the UI thread, you may cause a deadlock similar to the previous two examples.</span></span> <span data-ttu-id="7d0ae-149">Dieses Beispiel veranschaulicht die Wichtigkeit beim Schreiben von Thread sicherem Code, wenn Ihre Anwendung mehrere Threads verwendet.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-149">This example illustrates the importance of writing thread-safe code if your application uses multiple threads.</span></span>

    <span data-ttu-id="7d0ae-150">**Empfehlung**: Wenn Sie Arbeitsthreads verwenden, stellen Sie sicher, dass der Code Thread sicher ist.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-150">**Recommendation**: If you use worker threads, make sure your code is thread-safe.</span></span>

-   <span data-ttu-id="7d0ae-151">**Szenario**: bei angehaltenen Anwendung deaktiviert die Anwendung den Befehl "Run" von der Benutzeroberfläche und gibt dann einen asynchronen DVD-Befehl aus.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-151">**Scenario**: While paused, the application disables the run command from the UI, and then issues an asynchronous DVD command.</span></span> <span data-ttu-id="7d0ae-152">Bei diesem Fall handelt es sich nicht unbedingt um einen Deadlock, da der Anwendungs Thread noch ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-152">This case is not strictly a deadlock, because the application thread is still running.</span></span> <span data-ttu-id="7d0ae-153">Der Benutzer kann das Diagramm jedoch nicht ausführen, und der Befehl wird daher nie ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-153">However, the user is now prevented from running the graph, and therefore the command will never complete.</span></span>

    <span data-ttu-id="7d0ae-154">**Empfehlung**: Wenn Sie anhalten, lassen Sie den Befehl "Run" immer aktiviert.</span><span class="sxs-lookup"><span data-stu-id="7d0ae-154">**Recommendation**: When pausing, always leave the run command enabled.</span></span>

<span data-ttu-id="7d0ae-155">Suchen einer DVD zu einem bestimmten Zeitpunkt</span><span class="sxs-lookup"><span data-stu-id="7d0ae-155">Seeking a DVD to a Specified Time</span></span>

<span data-ttu-id="7d0ae-156">Um auf einer Festplatte genau zu einem bestimmten Zeitpunkt zu suchen, nennen Sie [**IMediaControl:: Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run).</span><span class="sxs-lookup"><span data-stu-id="7d0ae-156">To accurately seek to a specified time on a disc, call [**IMediaControl::Run**](/windows/desktop/api/Control/nf-control-imediacontrol-run).</span></span> <span data-ttu-id="7d0ae-157">Geben Sie dann [**IDvdControl2::P layattime**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-playattime)an, und geben Sie dabei die Zeit und das Festlegen von *dwFlags* auf das \_ Flush-cmd- \_ Flag an \_</span><span class="sxs-lookup"><span data-stu-id="7d0ae-157">Then call [**IDvdControl2::PlayAtTime**](/windows/desktop/api/Strmif/nf-strmif-idvdcontrol2-playattime), specifying the time and setting *dwFlags* to DVD\_CMD\_FLAG\_Flush.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7d0ae-158">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="7d0ae-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="7d0ae-159">DVD-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="7d0ae-159">DVD Applications</span></span>](dvd-applications.md)
</dt> </dl>

 

 



