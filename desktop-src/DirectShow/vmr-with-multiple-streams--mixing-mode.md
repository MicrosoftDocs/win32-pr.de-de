---
description: VMR mit mehreren Streams (Mischungs Modus)
ms.assetid: 053edb70-8631-4fe4-a137-2fe54e02ab9e
title: VMR mit mehreren Streams (Mischungs Modus)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a21a954b0ad78afbceabf0fde493f920961b90dd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106358572"
---
# <a name="vmr-with-multiple-streams-mixing-mode"></a><span data-ttu-id="33f50-103">VMR mit mehreren Streams (Mischungs Modus)</span><span class="sxs-lookup"><span data-stu-id="33f50-103">VMR with Multiple Streams (Mixing Mode)</span></span>

<span data-ttu-id="33f50-104">VMR kann mehrere Eingabestreams Rendering.</span><span class="sxs-lookup"><span data-stu-id="33f50-104">The VMR can render multiple input streams.</span></span> <span data-ttu-id="33f50-105">In dieser Konfiguration, dem sogenannten Mischungs Modus, lädt der VMR seinen Mixer und den Compositor, um vor dem Rendering die Mischung und die Mischung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="33f50-105">In this configuration, called mixing mode, the VMR loads its mixer and compositor to perform the mixing and blending prior to rendering.</span></span> <span data-ttu-id="33f50-106">Der Mischungs Modus kann verwendet werden, während sich der VMR im Fenstermodus oder im fensterlosen Modus befindet.</span><span class="sxs-lookup"><span data-stu-id="33f50-106">Mixing mode can be used either while the VMR is in windowed mode or windowless mode.</span></span>

<span data-ttu-id="33f50-107">Der Mischungs Modus erfordert, dass der Grafiktreiber die ddcaps \_ bltfourcc-und ddcaps \_ bltstretch-funktionsflags (Farb Raum Konvertierung bzw. Stretch-blierung) unterstützt.</span><span class="sxs-lookup"><span data-stu-id="33f50-107">Mixing mode requires that the graphics driver supports the DDCAPS\_BLTFOURCC and DDCAPS\_BLTSTRETCH capability flags (color space conversion and stretch blitting, respectively).</span></span> <span data-ttu-id="33f50-108">Fast alle neuen Grafiktreiber verfügen über diese Funktionen.</span><span class="sxs-lookup"><span data-stu-id="33f50-108">Almost all new graphics drivers have those capabilities.</span></span> <span data-ttu-id="33f50-109">Außerdem muss der Treiber die Erstellung von Direct3D-Renderingzielen für die aktuelle Anzeige Pixel Tiefe unterstützen.</span><span class="sxs-lookup"><span data-stu-id="33f50-109">In addition, the driver must support the creation of Direct3D render targets for the current display pixel depth.</span></span> <span data-ttu-id="33f50-110">Einige Geräte unterstützen keine Direct3D-Vorgänge, wenn die Anzeige auf 24 Bits pro Pixel festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="33f50-110">Some devices do not support Direct3D operations when the display is set to 24 bits per pixel.</span></span> <span data-ttu-id="33f50-111">Weitere Informationen finden Sie in der Dokumentation zum DirectX-Grafik-SDK.</span><span class="sxs-lookup"><span data-stu-id="33f50-111">For more information, see the DirectX Graphics SDK documentation.</span></span>

> [!Note]  
> <span data-ttu-id="33f50-112">Wenn VMR mehrere Videostreams vermischt, sucht das Filter Diagramm nicht ordnungsgemäß.</span><span class="sxs-lookup"><span data-stu-id="33f50-112">When the VMR mixes multiple video streams, the filter graph does not seek correctly.</span></span> <span data-ttu-id="33f50-113">Wenn Sie mehrere Videostreams suchen müssen, müssen Sie separate Filter Diagramme erstellen, die dasselbe benutzerdefinierte "zuordcator-Presenter"-Objekt verwenden.</span><span class="sxs-lookup"><span data-stu-id="33f50-113">If you need to seek multiple video streams, you must create separate filter graphs that share the same custom allocator-presenter object.</span></span>

 

<span data-ttu-id="33f50-114">**Konfigurieren von VMR-7 für mehrere Streams**</span><span class="sxs-lookup"><span data-stu-id="33f50-114">**Configuring the VMR-7 for Multiple Streams**</span></span>

<span data-ttu-id="33f50-115">Gehen Sie folgendermaßen vor, um mehrere Eingabedaten Ströme mit VMR-7 zu erzeugen:</span><span class="sxs-lookup"><span data-stu-id="33f50-115">To render multiple input streams with the VMR-7, do the following:</span></span>

1.  <span data-ttu-id="33f50-116">Bevor Sie eine Verbindung mit den Eingabe Pins von VMR herstellen, können Sie die [**ivmrfilterconfig:: setnumofstreams**](/windows/desktop/api/Strmif/nf-strmif-ivmrfilterconfig-setnumberofstreams) -Methode mit der Anzahl der Streams aufrufen.</span><span class="sxs-lookup"><span data-stu-id="33f50-116">Before connecting any of the VMR's input pins, call the [**IVMRFilterConfig::SetNumberOfStreams**](/windows/desktop/api/Strmif/nf-strmif-ivmrfilterconfig-setnumberofstreams) method with the number of streams.</span></span> <span data-ttu-id="33f50-117">Dies bewirkt, dass der VMR den Mixer und den Compositor lädt und die angegebene Anzahl von Eingabe Pins erstellt.</span><span class="sxs-lookup"><span data-stu-id="33f50-117">This causes the VMR to load the mixer and compositor and to create the specified number of input pins.</span></span>
2.  <span data-ttu-id="33f50-118">Rufen Sie [**ivmrfilterconfig:: strenderingprefs**](/windows/desktop/api/Strmif/nf-strmif-ivmrfilterconfig-setrenderingprefs) auf, um verschiedene renderingeinstellungen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="33f50-118">Call [**IVMRFilterConfig::SetRenderingPrefs**](/windows/desktop/api/Strmif/nf-strmif-ivmrfilterconfig-setrenderingprefs) to specify various rendering preferences.</span></span>
3.  <span data-ttu-id="33f50-119">Verbinden Sie die Pins mit den upstreamfiltern.</span><span class="sxs-lookup"><span data-stu-id="33f50-119">Connect the pins to the upstream filters.</span></span> <span data-ttu-id="33f50-120">Dies lässt sich am einfachsten durchführen, indem Sie für jeden Eingabestream [**igraphbuilder:: RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile) aufruft.</span><span class="sxs-lookup"><span data-stu-id="33f50-120">The easiest way to do this is to call [**IGraphBuilder::RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile) for each input stream.</span></span> <span data-ttu-id="33f50-121">Wenn die Ausgabepin auf dem upstreamfilter (in der Regel ein Decoder) und die Eingabe-PIN in der VMR für eine Verbindung nicht übereinstimmen, wird eine neue Instanz von VMR mit Standardeinstellungen erstellt.</span><span class="sxs-lookup"><span data-stu-id="33f50-121">If the output pin on the upstream filter (usually a decoder) and the input pin on the VMR cannot agree on a connection, then a new instance of the VMR with default settings will be created.</span></span> <span data-ttu-id="33f50-122">Dies führt zu einem neuen Fenster mit "ActiveMovie" in der Titelleiste.</span><span class="sxs-lookup"><span data-stu-id="33f50-122">This will result in a new window with "ActiveMovie" in the title bar.</span></span> <span data-ttu-id="33f50-123">Um dies zu verhindern, sollte die Anwendung immer überprüfen, ob die richtige Instanz von VMR durch Aufrufen einer Methode wie [**IPin:: connectedto**](/windows/desktop/api/Strmif/nf-strmif-ipin-connectedto)verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="33f50-123">To prevent this from happening, the application should always verify that the correct instance of the VMR is being used by calling a method such as [**IPin::ConnectedTo**](/windows/desktop/api/Strmif/nf-strmif-ipin-connectedto).</span></span> <span data-ttu-id="33f50-124">Eine weitere Möglichkeit besteht darin, den Quell Filter hinzuzufügen und dann die Pins mithilfe von **igraphbuilder:: Connect** zu verbinden.</span><span class="sxs-lookup"><span data-stu-id="33f50-124">Another option is to add the source filter and then connect the pins using **IGraphBuilder::Connect**.</span></span>
4.  <span data-ttu-id="33f50-125">Verwenden Sie die [**ivmrmixercontrol**](/windows/desktop/api/Strmif/nn-strmif-ivmrmixercontrol) -Schnittstelle für den VMR, um Parameter für jeden Stream zu steuern, z. b. den Alpha-Wert, die Z-Reihenfolge und das Ausgabe Rechteck.</span><span class="sxs-lookup"><span data-stu-id="33f50-125">Use the [**IVMRMixerControl**](/windows/desktop/api/Strmif/nn-strmif-ivmrmixercontrol) interface on the VMR to control parameters for each stream, such as the alpha value, the Z-ordering, and the output rectangle.</span></span>
5.  <span data-ttu-id="33f50-126">Führen Sie das Filter Diagramm aus.</span><span class="sxs-lookup"><span data-stu-id="33f50-126">Run the filter graph.</span></span>

<span data-ttu-id="33f50-127">**Konfigurieren von VMR-9 für mehrere Streams**</span><span class="sxs-lookup"><span data-stu-id="33f50-127">**Configuring the VMR-9 for Multiple Streams**</span></span>

<span data-ttu-id="33f50-128">Standardmäßig erstellt VMR-9 vier Eingabe Pins.</span><span class="sxs-lookup"><span data-stu-id="33f50-128">By default, the VMR-9 creates four input pins.</span></span> <span data-ttu-id="33f50-129">Wenn Sie mehr als vier Videostreams kombinieren möchten, müssen Sie vor dem Verbinden von Eingabe Pins [**IVMRFilterConfig9:: setnumofstreams**](/previous-versions/windows/desktop/api/Vmr9/nf-vmr9-ivmrfilterconfig9-setnumberofstreams) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="33f50-129">If you want to mix more than four video streams, call [**IVMRFilterConfig9::SetNumberOfStreams**](/previous-versions/windows/desktop/api/Vmr9/nf-vmr9-ivmrfilterconfig9-setnumberofstreams) before connecting any input pins.</span></span> <span data-ttu-id="33f50-130">Verwenden Sie die [**IVMRMixerControl9**](/previous-versions/windows/desktop/api/Vmr9/nn-vmr9-ivmrmixercontrol9) -Schnittstelle zum Festlegen der StreamParameter, wie Z. b. Alpha, Z-Reihenfolge und Position.</span><span class="sxs-lookup"><span data-stu-id="33f50-130">Use the [**IVMRMixerControl9**](/previous-versions/windows/desktop/api/Vmr9/nn-vmr9-ivmrmixercontrol9) interface to set the stream parameters, such as alpha, Z-order, and position.</span></span>

## <a name="related-topics"></a><span data-ttu-id="33f50-131">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="33f50-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="33f50-132">Verwenden des VMR-Mischungs Modus</span><span class="sxs-lookup"><span data-stu-id="33f50-132">Using VMR Mixing Mode</span></span>](using-vmr-mixing-mode.md)
</dt> </dl>

 

 



