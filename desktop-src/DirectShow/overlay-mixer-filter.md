---
description: Filter für Überlagerungsmixer
ms.assetid: e80938b7-31f0-467b-a3fa-c4511d14758d
title: Filter für Überlagerungsmixer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d26ad8ba8a41a1cdb94eec0f4406c4845f25cda5
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "103859980"
---
# <a name="overlay-mixer-filter"></a><span data-ttu-id="3e259-103">Filter für Überlagerungsmixer</span><span class="sxs-lookup"><span data-stu-id="3e259-103">Overlay Mixer Filter</span></span>

<span data-ttu-id="3e259-104">Der Überlagerungs-Mischungs Filter ist ein Videorenderer, der speziell für die DVD-Wiedergabe und Broadcast-Videostreams mit Zeilen 21 Untertiteln entwickelt wurde.</span><span class="sxs-lookup"><span data-stu-id="3e259-104">The Overlay Mixer filter is a video renderer designed specifically for DVD playback and broadcast video streams with line-21 closed captioning.</span></span> <span data-ttu-id="3e259-105">Der Überlagerungs-Mixer unterstützt auch Video Port Erweiterungen (vpes) und ermöglicht es, mit Hardware-MPEG-2-Decodern oder analogen TV-Tunern zu arbeiten, die Videos direkt an die Grafikkarte anstatt über den PCI-Bus senden.</span><span class="sxs-lookup"><span data-stu-id="3e259-105">The Overlay Mixer also supports Video Port Extensions (VPEs), enabling it to work with hardware MPEG-2 decoders or analog TV tuners that send video directly to the graphics card, rather than over the PCI bus.</span></span>

> [!Note]  
> <span data-ttu-id="3e259-106">Der [Video Mischungs-Renderer 9](video-mixing-renderer-filter-9.md) wird jetzt über den Überlagerungs-Mischungs Filter bevorzugt, außer in VPE-Szenarios.</span><span class="sxs-lookup"><span data-stu-id="3e259-106">The [Video Mixing Renderer 9](video-mixing-renderer-filter-9.md) is now preferred over the Overlay Mixer filter, except in VPE scenarios.</span></span>

 

<span data-ttu-id="3e259-107">Der Overlay-Mixer verwendet DirectDraw zum Rendern.</span><span class="sxs-lookup"><span data-stu-id="3e259-107">The Overlay Mixer uses DirectDraw for rendering.</span></span> <span data-ttu-id="3e259-108">Es ist eine Überlagerungs Oberfläche auf der Grafikkarte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="3e259-108">It requires an overlay surface on the graphics card.</span></span> <span data-ttu-id="3e259-109">Der primäre Videostream sollte mit PIN 0 verbunden sein.</span><span class="sxs-lookup"><span data-stu-id="3e259-109">The primary video stream should be connected to pin 0.</span></span> <span data-ttu-id="3e259-110">Sekundäre Datenströme (geschlossene Beschriftungs Grafiken oder DVD-Teilbilder) sind mit Pins 1 und höher verbunden.</span><span class="sxs-lookup"><span data-stu-id="3e259-110">Secondary streams (closed caption graphics or DVD subpictures) are connected to pins 1 and higher.</span></span> <span data-ttu-id="3e259-111">Der Overlay-Mixer blitet die sekundären Datenströme direkt auf das primäre untergeordnete Element. Sie werden nicht gemischt oder Alpha gemischt.</span><span class="sxs-lookup"><span data-stu-id="3e259-111">The Overlay Mixer blits the secondary streams directly onto the primary suface; it does not mix or alpha blend them.</span></span>

<span data-ttu-id="3e259-112">Der Overlay-Mixer verwendet den Videorenderer für die Fensterverwaltung.</span><span class="sxs-lookup"><span data-stu-id="3e259-112">The Overlay Mixer uses the Video Renderer for window management.</span></span> <span data-ttu-id="3e259-113">Der Videorenderer stellt eine Verbindung mit dem Auslagerungs-PIN des Überlagerungs-</span><span class="sxs-lookup"><span data-stu-id="3e259-113">The Video Renderer connects to the Overlay Mixer's output pin.</span></span>

<span data-ttu-id="3e259-114">Dieser Filter wird automatisch dem Filter Diagramm hinzugefügt, wenn Anwendungen die [**idvdgraphbuilder**](/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder) -Schnittstelle und die [**ICaptureGraphBuilder2**](/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2) -Schnittstelle zum Erstellen des Diagramms verwenden.</span><span class="sxs-lookup"><span data-stu-id="3e259-114">This filter is added to the filter graph automatically when applications use the [**IDvdGraphBuilder**](/windows/desktop/api/Strmif/nn-strmif-idvdgraphbuilder) and [**ICaptureGraphBuilder2**](/windows/desktop/api/Strmif/nn-strmif-icapturegraphbuilder2) interfaces to create the graph.</span></span> <span data-ttu-id="3e259-115">Der Diagramm-Manager des Filters fügt dem Diagramm nicht automatisch den Overlay-Mixer hinzu.</span><span class="sxs-lookup"><span data-stu-id="3e259-115">The Filter Graph Manager will not automatically add the Overlay Mixer to the graph.</span></span>

> [!Note]  
> <span data-ttu-id="3e259-116">In der folgenden Tabelle sind die für die Eingabe-PIN 0 zulässigen Medien Teil Typen Hardware abhängig.</span><span class="sxs-lookup"><span data-stu-id="3e259-116">In the following table, the media subtypes accepted on input pin 0 are hardware dependent.</span></span> <span data-ttu-id="3e259-117">Der Überlagerungs Mixer kann nicht bestimmen, ob ein bestimmter Untertyp unterstützt wird, bis die DirectDraw-Oberfläche erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="3e259-117">The Overlay Mixer cannot determine whether a particular subtype is supported until it creates the DirectDraw surface.</span></span> <span data-ttu-id="3e259-118">Daher kann ein upstreamfilter nur dann ermitteln, ob ein Untertyp unterstützt wird, indem versucht wird, eine Verbindung mit diesem Untertyp herzustellen.</span><span class="sxs-lookup"><span data-stu-id="3e259-118">Therefore, the only way for an upstream filter to determine whether a subtype is supported is to attempt a connection with that subtype.</span></span>

 



<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><span data-ttu-id="3e259-119">Filter Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="3e259-119">Filter Interfaces</span></span></td>
<td><span data-ttu-id="3e259-120"><a href="/windows/desktop/api/Strmif/nn-strmif-iamoverlayfx"><strong>Iamoverlayfx</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties"><strong>iamvideodecimationproperties</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ibasefilter"><strong>ibasefilter</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iddrawexclmodevideo"><strong>iddrawexclmodevideo</strong></a>, <a href="ikspropertyset.md"><strong>ikspropertyset</strong></a>, <a href="/windows/desktop/api/Control/nn-control-imediaposition"><strong>imediaposition</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-imediaseeking"><strong>imediaseeking</strong></a>, <a href="/previous-versions/windows/desktop/api/Mixerocx/nn-mixerocx-imixerocx"><strong>imixerocx</strong></a>, <a href="/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop"><strong>iqualprop</strong></a>, <a href="/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify"><strong>ivpnotify</strong></a>, <a href="/previous-versions/windows/desktop/api/vpnotify/nn-vpnotify-ivpnotify2"><strong>IVPNotify2</strong></a></span><span class="sxs-lookup"><span data-stu-id="3e259-120"><a href="/windows/desktop/api/Strmif/nn-strmif-iamoverlayfx"><strong>IAMOverlayFX</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties"><strong>IAMVideoDecimationProperties</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ibasefilter"><strong>IBaseFilter</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iddrawexclmodevideo"><strong>IDDrawExclModeVideo</strong></a>, <a href="ikspropertyset.md"><strong>IKsPropertySet</strong></a>, <a href="/windows/desktop/api/Control/nn-control-imediaposition"><strong>IMediaPosition</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-imediaseeking"><strong>IMediaSeeking</strong></a>, <a href="/previous-versions/windows/desktop/api/Mixerocx/nn-mixerocx-imixerocx"><strong>IMixerOCX</strong></a>, <a href="/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop"><strong>IQualProp</strong></a>, <a href="/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify"><strong>IVPNotify</strong></a>, <a href="/previous-versions/windows/desktop/api/vpnotify/nn-vpnotify-ivpnotify2"><strong>IVPNotify2</strong></a></span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="3e259-121">Eingabe-PIN-Medientypen</span><span class="sxs-lookup"><span data-stu-id="3e259-121">Input Pin Media Types</span></span></td>
<td><span data-ttu-id="3e259-122">Haupttyp: MEDIATYPE_Video</span><span class="sxs-lookup"><span data-stu-id="3e259-122">Major Type: MEDIATYPE_Video</span></span><br/> <span data-ttu-id="3e259-123">Untertypen</span><span class="sxs-lookup"><span data-stu-id="3e259-123">Subtypes:</span></span><br/>
<ul>
<li><span data-ttu-id="3e259-124">MEDIASUBTYPE_Overlay (nur Pin 0)</span><span class="sxs-lookup"><span data-stu-id="3e259-124">MEDIASUBTYPE_Overlay (pin 0 only)</span></span></li>
<li><span data-ttu-id="3e259-125">DirectDraw-YUV-Formate (nur Pin 0)</span><span class="sxs-lookup"><span data-stu-id="3e259-125">DirectDraw YUV formats (pin 0 only)</span></span></li>
<li><span data-ttu-id="3e259-126">DirectDraw-Video Beschleunigungs Formate (nur Pin 0)</span><span class="sxs-lookup"><span data-stu-id="3e259-126">DirectDraw Video Acceleration formats (pin 0 only)</span></span></li>
<li><span data-ttu-id="3e259-127">DirectDraw RGB-Formate (alle Eingabe Pins)</span><span class="sxs-lookup"><span data-stu-id="3e259-127">DirectDraw RGB formats (all input pins)</span></span></li>
</ul>
<span data-ttu-id="3e259-128">Format Typen:</span><span class="sxs-lookup"><span data-stu-id="3e259-128">Format Types:</span></span><br/>
<ul>
<li><span data-ttu-id="3e259-129">Format_VIDEOINFO</span><span class="sxs-lookup"><span data-stu-id="3e259-129">Format_VIDEOINFO</span></span></li>
<li><span data-ttu-id="3e259-130">Format_VIDEOINFO2</span><span class="sxs-lookup"><span data-stu-id="3e259-130">Format_VIDEOINFO2</span></span></li>
</ul></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="3e259-131">PIN-Eingabeschnittstellen</span><span class="sxs-lookup"><span data-stu-id="3e259-131">Input Pin Interfaces</span></span></td>
<td><span data-ttu-id="3e259-132"><a href="/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator"><strong>Iamvideoaccelerator</strong></a>, <a href="ikspin.md"><strong>ikspin</strong></a>, <a href="ikspropertyset.md"><strong>ikspropertyset</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-imeminputpin"><strong>IMemInputPin</strong></a>, <a href="/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig"><strong>imixerpinconfig</strong></a>, <a href="/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig2"><strong>IMixerPinConfig2</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ioverlay"><strong>IOverlay</strong></a> (nur Pin 0), <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ipinconnection"><strong>ipinconnection</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol"><strong>iqualitycontrol</strong></a>, <a href="/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify"><strong>ivpnotify</strong></a>, <a href="/previous-versions/windows/desktop/api/vpnotify/nn-vpnotify-ivpnotify2"><strong>IVPNotify2</strong></a></span><span class="sxs-lookup"><span data-stu-id="3e259-132"><a href="/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator"><strong>IAMVideoAccelerator</strong></a>, <a href="ikspin.md"><strong>IKsPin</strong></a>, <a href="ikspropertyset.md"><strong>IKsPropertySet</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-imeminputpin"><strong>IMemInputPin</strong></a>, <a href="/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig"><strong>IMixerPinConfig</strong></a>, <a href="/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig2"><strong>IMixerPinConfig2</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ioverlay"><strong>IOverlay</strong></a> (pin 0 only), <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ipinconnection"><strong>IPinConnection</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol"><strong>IQualityControl</strong></a>, <a href="/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify"><strong>IVPNotify</strong></a>, <a href="/previous-versions/windows/desktop/api/vpnotify/nn-vpnotify-ivpnotify2"><strong>IVPNotify2</strong></a></span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="3e259-133">Ausgabe-PIN-Medientypen</span><span class="sxs-lookup"><span data-stu-id="3e259-133">Output Pin Media Types</span></span></td>
<td><span data-ttu-id="3e259-134">MEDIATYPE_Video MEDIASUBTYPE_Overlay</span><span class="sxs-lookup"><span data-stu-id="3e259-134">MEDIATYPE_Video, MEDIASUBTYPE_Overlay</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="3e259-135">PIN-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="3e259-135">Output Pin Interfaces</span></span></td>
<td><span data-ttu-id="3e259-136"><a href="/windows/desktop/api/Control/nn-control-imediaposition"><strong>Imediaposition</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-imediaseeking"><strong>imediaseeking</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol"><strong>iqualitycontrol</strong></a></span><span class="sxs-lookup"><span data-stu-id="3e259-136"><a href="/windows/desktop/api/Control/nn-control-imediaposition"><strong>IMediaPosition</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-imediaseeking"><strong>IMediaSeeking</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-ipin"><strong>IPin</strong></a>, <a href="/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol"><strong>IQualityControl</strong></a></span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="3e259-137">CLSID Filtern</span><span class="sxs-lookup"><span data-stu-id="3e259-137">Filter CLSID</span></span></td>
<td><span data-ttu-id="3e259-138">CLSID_OverlayMixer</span><span class="sxs-lookup"><span data-stu-id="3e259-138">CLSID_OverlayMixer</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="3e259-139">CLSID der Eigenschaften Seite</span><span class="sxs-lookup"><span data-stu-id="3e259-139">Property Page CLSID</span></span></td>
<td><span data-ttu-id="3e259-140">Keine Eigenschaften Seite.</span><span class="sxs-lookup"><span data-stu-id="3e259-140">No property page.</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="3e259-141">Ausführbare Datei</span><span class="sxs-lookup"><span data-stu-id="3e259-141">Executable</span></span></td>
<td><span data-ttu-id="3e259-142">qdvd.dll</span><span class="sxs-lookup"><span data-stu-id="3e259-142">qdvd.dll</span></span></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="3e259-143"><a href="merit.md">Verdienst</a></span><span class="sxs-lookup"><span data-stu-id="3e259-143"><a href="merit.md">Merit</a></span></span></td>
<td><span data-ttu-id="3e259-144">MERIT_DO_NOT_USE</span><span class="sxs-lookup"><span data-stu-id="3e259-144">MERIT_DO_NOT_USE</span></span></td>
</tr>
<tr class="even">
<td><span data-ttu-id="3e259-145"><a href="filter-categories.md">Filter Kategorie</a></span><span class="sxs-lookup"><span data-stu-id="3e259-145"><a href="filter-categories.md">Filter Category</a></span></span></td>
<td><span data-ttu-id="3e259-146">CLSID_LegacyAmFilterCategory</span><span class="sxs-lookup"><span data-stu-id="3e259-146">CLSID_LegacyAmFilterCategory</span></span></td>
</tr>
</tbody>
</table>



 

### <a name="remarks"></a><span data-ttu-id="3e259-147">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="3e259-147">Remarks</span></span>

<span data-ttu-id="3e259-148">Der Overlay-Mixer verwendet die Zielfarbe, um Video Oberflächen mit Überlagerungen zu kombinieren.</span><span class="sxs-lookup"><span data-stu-id="3e259-148">The Overlay Mixer uses destination color keying to mix video surfaces with overlays.</span></span> <span data-ttu-id="3e259-149">Es blierte den Farbschlüssel und das sekundäre Video auf die primäre Oberfläche und sendet das primäre Video an die über Lagerungs Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="3e259-149">It blits the color key and the secondary video to the primary surface, and sends the primary video to the overlay surface.</span></span> <span data-ttu-id="3e259-150">Die Grafikkarte kombiniert dann die beiden Oberflächen in ihren Frame Puffer.</span><span class="sxs-lookup"><span data-stu-id="3e259-150">The graphics card then composites the two surfaces into its frame buffer.</span></span>

<span data-ttu-id="3e259-151">Um zu testen, ob der Grafiktreiber die Hardware Überlagerung unterstützt, müssen Sie **IDirectDraw7:: getcaps** aufrufen.</span><span class="sxs-lookup"><span data-stu-id="3e259-151">To test whether the graphics driver supports hardware overlay, call **IDirectDraw7::GetCaps**.</span></span> <span data-ttu-id="3e259-152">Wenn das Feld **dwmaxvisibleoverlays** in der **ddcaps** -Struktur größer als 0 (null) ist, unterstützt der Treiber die Hardware Überlagerung.</span><span class="sxs-lookup"><span data-stu-id="3e259-152">If the **dwMaxVisibleOverlays** field in the **DDCAPS** structure is greater than zero, the driver supports hardware overlay.</span></span>

<span data-ttu-id="3e259-153">Anwendungen können einige Verhaltensweisen auf dem Überlagerungs Mixer über die [**IMixerPinConfig2**](/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig2) -Schnittstelle steuern.</span><span class="sxs-lookup"><span data-stu-id="3e259-153">Applications can control some behaviors on the Overlay Mixer through the [**IMixerPinConfig2**](/windows/desktop/api/Mpconfig/nn-mpconfig-imixerpinconfig2) interface.</span></span> <span data-ttu-id="3e259-154">Spieleentwickler können den Overlay-Mixer zum Anzeigen von Videos im exklusiven DirectDraw-Modus verwenden, wie weiter unten in diesem Abschnitt beschrieben.</span><span class="sxs-lookup"><span data-stu-id="3e259-154">Game developers can use the Overlay Mixer to display video in DirectDraw Exclusive Mode, as described later in this section.</span></span> <span data-ttu-id="3e259-155">Der [Video Mischungs Filter 9](video-mixing-renderer-filter-9.md) (VMR-9) bietet jetzt bessere Unterstützung für Videos in spielen.</span><span class="sxs-lookup"><span data-stu-id="3e259-155">The [Video Mixing Renderer Filter 9](video-mixing-renderer-filter-9.md) (VMR-9) now provides better support for video in games, however.</span></span> <span data-ttu-id="3e259-156">Weitere Informationen finden Sie unter [using the Video mischungsrenderer](using-the-video-mixing-renderer.md).</span><span class="sxs-lookup"><span data-stu-id="3e259-156">For more information, see [Using the Video Mixing Renderer](using-the-video-mixing-renderer.md).</span></span>

<span data-ttu-id="3e259-157">Die folgenden Informationen werden für den Vorteil der Filter Entwickler und Spielentwickler bereitgestellt, die den Overlay-Mixer im exklusiven DirectDraw-Modus verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="3e259-157">The following information is provided for the benefit of filter developers, and game developers who want to use the Overlay Mixer in DirectDraw Exclusive Mode.</span></span>

<span data-ttu-id="3e259-158">**Interne Überlagerungs Mixer-Vorgänge**</span><span class="sxs-lookup"><span data-stu-id="3e259-158">**Overlay Mixer Internal Operations**</span></span>

<span data-ttu-id="3e259-159">Der Overlay-Mixer macht eine Eingabe-PIN für jeden eingehenden Stream verfügbar.</span><span class="sxs-lookup"><span data-stu-id="3e259-159">The Overlay Mixer exposes an input pin for each incoming stream.</span></span> <span data-ttu-id="3e259-160">In der Regel gibt es drei Eingabe Pins: Pin 0 für Videodaten und Pins 1 und 2 für die Daten in Zeile 21 und DVD-subbild.</span><span class="sxs-lookup"><span data-stu-id="3e259-160">Typically, there are three input pins: pin 0 for video data, and pins 1 and 2 for line 21 and DVD subpicture data.</span></span> <span data-ttu-id="3e259-161">Intern erstellt der Overlay-Mixer ein DirectDraw-Objekt mit einer primären Oberfläche, die den gesamten Desktop umfasst, sowie eine Überlagerungs Oberfläche, deren Rechteck durch die Größe des Videodaten Stroms auf Pin 0 definiert wird.</span><span class="sxs-lookup"><span data-stu-id="3e259-161">Internally, the Overlay Mixer creates a DirectDraw object with a primary surface comprising the entire desktop, plus an overlay surface whose rectangle is defined by the size of the video stream on Pin 0.</span></span> <span data-ttu-id="3e259-162">Wenn der Decoder keinen Farbschlüssel angibt, verwendet der Überlagerungs Mixer Standard Farbtasten: dunkelgrau für neuere Grafikkarten und Magenta für ältere 256-farbige Karten.</span><span class="sxs-lookup"><span data-stu-id="3e259-162">If the decoder does not specify a color key, the Overlay Mixer uses default color keys: dark gray for more recent graphics cards and magenta for older 256-color cards.</span></span>

> [!Note]  
> <span data-ttu-id="3e259-163">Die Ergebnisse sind nicht definiert, wenn der Decoder zwei sekundäre Videostreams gleichzeitig an derselben Stelle auf der über Lagerungs Oberfläche bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="3e259-163">The results are undefined if the decoder delivers two secondary video streams simultaneously in the same place on the overlay surface.</span></span> <span data-ttu-id="3e259-164">(Dies tritt manchmal bei DVDs auf, die subbild-und Zeile 21-Streams enthalten.) Das Video kann Flimmern oder nur einen der Streams anzeigen.</span><span class="sxs-lookup"><span data-stu-id="3e259-164">(This sometimes occurs with DVDs that contain subpicture and line 21 streams.) The video might flicker, or display only one of the streams.</span></span>

 

<span data-ttu-id="3e259-165">Unter Windows Vista oder höher deaktiviert der Überlagerungs-Mixer die Komposition von Desktopfenster-Manager (DWM), wenn der Anzeigetreiber die Hardware Überlagerung unterstützt.</span><span class="sxs-lookup"><span data-stu-id="3e259-165">On Windows Vista or later, the Overlay Mixer disables Desktop Window Manager (DWM) composition if the display driver supports hardware overlay.</span></span> <span data-ttu-id="3e259-166">Anwendungen sollten die Verwendung des Überlagerungs-Mischungs Filters vermeiden. Verwenden Sie stattdessen VMR-9 oder den erweiterten Videorenderer (EVR).</span><span class="sxs-lookup"><span data-stu-id="3e259-166">Applications should avoid using the Overlay Mixer filter; use the VMR-9 or the Enhanced Video Renderer (EVR) instead.</span></span>

<span data-ttu-id="3e259-167">**Upstreamverbindung mit dem Video Decoder**</span><span class="sxs-lookup"><span data-stu-id="3e259-167">**Upstream Connection with the Video Decoder**</span></span>

<span data-ttu-id="3e259-168">In der Regel stellen die Eingabe Pins des Overlay-Mixers eine Verbindung mit einem upstreamvideodecoder her</span><span class="sxs-lookup"><span data-stu-id="3e259-168">Typically the Overlay Mixer's input pins connect to an upstream video decoder.</span></span> <span data-ttu-id="3e259-169">Der primäre Videostream muss eine Verbindung mit der PIN 0 herstellen.</span><span class="sxs-lookup"><span data-stu-id="3e259-169">The primary video stream must connect to the pin 0.</span></span> <span data-ttu-id="3e259-170">Die Zeilen 21-oder subbildstreams stellen eine Verbindung mit PIN 1 oder höher her.</span><span class="sxs-lookup"><span data-stu-id="3e259-170">The line 21 or subpicture streams connect to pin 1 or greater.</span></span> <span data-ttu-id="3e259-171">Wenn der Decoder ein Software Decoder ist, der die Host-CPU exklusiv verwendet, ist die Verbindung zwischen dem Decoder und der PIN 0 eine [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) -Verbindung.</span><span class="sxs-lookup"><span data-stu-id="3e259-171">If the decoder is a software decoder that uses the host CPU exclusively, the connection between the decoder and the Pin 0 is an [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) connection.</span></span> <span data-ttu-id="3e259-172">Wenn der Decoder die Hardwarebeschleunigung verwendet, muss für die Verbindung mit PIN 0 das Inferface [**iamvideoaccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="3e259-172">If the decoder uses hardware acceleration, the connection to Pin 0 must use the [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) inferface.</span></span> <span data-ttu-id="3e259-173">Diese beiden Verbindungstypen schließen sich gegenseitig aus.</span><span class="sxs-lookup"><span data-stu-id="3e259-173">These two types of connections are mutually exclusive.</span></span>

<span data-ttu-id="3e259-174">Wenn der Decoder direkt auf die Überlagerungs Oberfläche verweist, sollte er die [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay) -Schnittstelle für PIN 0 verwenden und die [**ioverlaynotify**](/windows/desktop/api/Strmif/nn-strmif-ioverlaynotify) -Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="3e259-174">If the decoder draws directly onto the overlay surface, it should use the [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay) interface on pin 0 and implement the [**IOverlayNotify**](/windows/desktop/api/Strmif/nn-strmif-ioverlaynotify) interface.</span></span>

<span data-ttu-id="3e259-175">Filter, bei denen ein Hardware Decoder umschlossen und über einen Videoport eine Verbindung mit dem Overlay-Mixer hergestellt wird, müssen die [**ivpconfig**](/previous-versions/windows/desktop/api/Vpconfig/nn-vpconfig-ivpconfig) -Schnittstelle implementieren</span><span class="sxs-lookup"><span data-stu-id="3e259-175">Filters that wrap a hardware decoder and connect to the Overlay Mixer through a video port must implement the [**IVPConfig**](/previous-versions/windows/desktop/api/Vpconfig/nn-vpconfig-ivpconfig) interface.</span></span> <span data-ttu-id="3e259-176">Der Overlay-Mixer implementiert die [**ivpnotify**](/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="3e259-176">The Overlay Mixer implements the [**IVPNotify**](/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify) interface.</span></span> <span data-ttu-id="3e259-177">Diese beiden Schnittstellen ermöglichen es dem Decoder, die erforderlichen Überlagerungs Oberflächen anzugeben, und ermöglichen dem Überlagerungs-Mixer, den Decoder über den Speicherort dieser Oberflächen im Videospeicher zu informieren.</span><span class="sxs-lookup"><span data-stu-id="3e259-177">These two interfaces enable the decoder to specify the overlay surfaces it requires, and they enable the Overlay Mixer to inform the decoder of the location of those surfaces in video memory.</span></span>

<span data-ttu-id="3e259-178">Der Overlay-Mixer stellt außerdem sicher, dass das Video Rechteck ordnungsgemäß skaliert wird.</span><span class="sxs-lookup"><span data-stu-id="3e259-178">The Overlay Mixer also ensures that the video rectangle is scaled correctly.</span></span> <span data-ttu-id="3e259-179">Die Video Erfassung umfasst bestimmte Probleme in Bezug auf das Skalieren des Vorschaubilds und das Erfassen von verschachtelten Video Frames.</span><span class="sxs-lookup"><span data-stu-id="3e259-179">Video capture involves certain issues with respect to scaling the preview image and capturing interleaved video frames.</span></span> <span data-ttu-id="3e259-180">Wenn Sie einen Filter oder einen WDM-Treiber für ein Hardware Video Erfassungsgerät entwickeln, finden Sie weitere Informationen zu diesen Themen in den Referenzseiten [**ivpconfig**](/previous-versions/windows/desktop/api/Vpconfig/nn-vpconfig-ivpconfig) und [**ivpnotify**](/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify) .</span><span class="sxs-lookup"><span data-stu-id="3e259-180">If you are developing a filter or WDM driver for a hardware video capture device, refer to the [**IVPConfig**](/previous-versions/windows/desktop/api/Vpconfig/nn-vpconfig-ivpconfig) and [**IVPNotify**](/previous-versions/windows/desktop/api/Vpnotify/nn-vpnotify-ivpnotify) reference pages for more information on these topics.</span></span>

<span data-ttu-id="3e259-181">Der Overlay-Mixer wird nicht in 1394-oder USB-Aufzeichnungs Szenarien verwendet.</span><span class="sxs-lookup"><span data-stu-id="3e259-181">The Overlay Mixer is not used in 1394 or USB capture scenarios.</span></span> <span data-ttu-id="3e259-182">Sie wird bei der Video Erfassung über den PCI-Bus verwendet.</span><span class="sxs-lookup"><span data-stu-id="3e259-182">It is used in video capture over the PCI bus.</span></span>

<span data-ttu-id="3e259-183">**Downstream-Verbindung mit dem Videorenderer**</span><span class="sxs-lookup"><span data-stu-id="3e259-183">**Downstream Connection with the Video Renderer**</span></span>

<span data-ttu-id="3e259-184">Der Overlay-Mixer verfügt über eine Ausgabe-PIN, die eine Verbindung mit dem [Videorenderer](video-renderer-filter.md) -Filter herstellt.</span><span class="sxs-lookup"><span data-stu-id="3e259-184">The Overlay Mixer has an output pin that connects to the [Video Renderer](video-renderer-filter.md) filter.</span></span> <span data-ttu-id="3e259-185">Der Videorenderer in diesem Fall renderdas Video nicht. das Videofenster wird einfach verwaltet.</span><span class="sxs-lookup"><span data-stu-id="3e259-185">The Video Renderer in this case does not render the video; it simply manages the video window.</span></span>

<span data-ttu-id="3e259-186">Die PIN-Verbindung verwendet anstelle der [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) -Schnittstelle die [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="3e259-186">The pin connection uses the [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay) interface rather than the [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin) interface.</span></span> <span data-ttu-id="3e259-187">Der Videorenderer übergibt seinen Fenster Handle über den Überlagerungs Mixer an DirectDraw, das das Rechteck Clipping verwaltet.</span><span class="sxs-lookup"><span data-stu-id="3e259-187">The Video Renderer passes its window handle through the Overlay Mixer to DirectDraw, which manages the rectangle clipping.</span></span> <span data-ttu-id="3e259-188">Anwendungen können den Videorenderer über die [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) -und [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2) -Schnittstellen im Filter Graph-Manager steuern.</span><span class="sxs-lookup"><span data-stu-id="3e259-188">Applications can control the Video Renderer through the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) and [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2) interfaces on the Filter Graph Manager.</span></span>

<span data-ttu-id="3e259-189">**Exklusiver DirectDraw-Modus**</span><span class="sxs-lookup"><span data-stu-id="3e259-189">**DirectDraw Exclusive Mode**</span></span>

<span data-ttu-id="3e259-190">Der exklusive DirectDraw-Modus des Overlay-Mischers ermöglicht spielen, Videos in einem Teil des Bildschirms anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="3e259-190">The Overlay Mixer's DirectDraw exclusive mode enables games to display video on some part of the screen.</span></span> <span data-ttu-id="3e259-191">In diesem Modus rendert der Überlagerungs-Mixer das Video direkt in eine von der Spiel Anwendung erstellte DirectDraw-Oberfläche und nicht in ein Fenster, das vom Videorenderer bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="3e259-191">In this mode, the Overlay Mixer renders the video directly to a DirectDraw surface created by the game application, rather than to a window provided by the Video Renderer.</span></span> <span data-ttu-id="3e259-192">Dies ermöglicht spielen, den Farbschlüssel zu steuern.</span><span class="sxs-lookup"><span data-stu-id="3e259-192">This enables games to control the color key.</span></span> <span data-ttu-id="3e259-193">Der Overlay-Mixer macht nur eine Eingabe-PIN im exklusiven DirectDraw-Modus verfügbar. Dies bedeutet, dass in diesem Modus keine Mischung aus Zeile 21 oder DVD-subbild ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="3e259-193">The Overlay Mixer exposes only one input pin in DirectDraw exclusive mode, which means that no mixing of Line 21 or DVD subpicture can be performed in this mode.</span></span>

<span data-ttu-id="3e259-194">Um den Overlay-Mixer im exklusiven DirectDraw-Modus zu verwenden, erstellen Sie eine Instanz des Overlay-Mischers und Fragen Sie diese nach der [**iddrawexclmodevideo**](/windows/desktop/api/Strmif/nn-strmif-iddrawexclmodevideo) -Schnittstelle ab, bevor Sie das Filter Diagramm erstellen.</span><span class="sxs-lookup"><span data-stu-id="3e259-194">To use the Overlay Mixer in DirectDraw exclusive mode, create an instance of the Overlay Mixer and query it for the [**IDDrawExclModeVideo**](/windows/desktop/api/Strmif/nn-strmif-iddrawexclmodevideo) interface before building the filter graph.</span></span> <span data-ttu-id="3e259-195">Anschließend können Sie [**iddrawexclmodevideo:: setddrawsurface**](/windows/desktop/api/Strmif/nf-strmif-iddrawexclmodevideo-setddrawsurface) aufrufen, um die DirectDraw-Oberfläche für das Rendering anzugeben.</span><span class="sxs-lookup"><span data-stu-id="3e259-195">Then call [**IDDrawExclModeVideo::SetDDrawSurface**](/windows/desktop/api/Strmif/nf-strmif-iddrawexclmodevideo-setddrawsurface) to specify the DirectDraw surface for rendering.</span></span> <span data-ttu-id="3e259-196">Eine wesentliche Einschränkung dieses Modus besteht darin, dass das Spiel keinen Zugriff auf die eigentlichen Video Bits erhält.</span><span class="sxs-lookup"><span data-stu-id="3e259-196">One significant limitation of this mode is that the game does not get access to the actual video bits.</span></span> <span data-ttu-id="3e259-197">Wenn Sie **iddrawexclmodevideo** verwenden, wird die primäre Oberfläche von der Anwendung erstellt, und der Überlagerungs-Mixer erstellt die Überlagerungs Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="3e259-197">If you use **IDDrawExclModeVideo**, your application creates the primary surface, and the Overlay Mixer creates the overlay surface.</span></span>

<span data-ttu-id="3e259-198">Sie können auch den exklusiven DirectDraw-Modus verwenden, um fensterlose Rendering auszuführen – z. b. auf einer Webseite – aber dies wird nicht empfohlen, da der Überlagerungs-Mixer in diesem Modus keine Vermischung ausführt.</span><span class="sxs-lookup"><span data-stu-id="3e259-198">You can also use DirectDraw exclusive mode to perform windowless rendering—for example, in a Web page—but this is not recommended, because the Overlay Mixer does not perform any mixing in this mode.</span></span> <span data-ttu-id="3e259-199">Dies bedeutet, dass keine Daten der Zeile 21 oder eines teilbilds angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="3e259-199">This means that no line 21 or subpicture data can be displayed.</span></span>

## <a name="related-topics"></a><span data-ttu-id="3e259-200">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="3e259-200">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3e259-201">DirectShow-Filter</span><span class="sxs-lookup"><span data-stu-id="3e259-201">DirectShow Filters</span></span>](directshow-filters.md)
</dt> </dl>

 

 




