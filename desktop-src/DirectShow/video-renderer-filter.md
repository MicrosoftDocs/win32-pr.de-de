---
description: Videorendererfilter
ms.assetid: 7719ed9d-e3b9-4c84-b587-4e120b5cabf8
title: Videorendererfilter
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ca3becb4fbdbb52a9968481aade07d14d963828
ms.sourcegitcommit: 63753fcfb0afbbe5ec283fb8316e62c2dc950f66
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 04/22/2021
ms.locfileid: "107908418"
---
# <a name="video-renderer-filter"></a><span data-ttu-id="d74f7-103">Videorendererfilter</span><span class="sxs-lookup"><span data-stu-id="d74f7-103">Video Renderer Filter</span></span>

<span data-ttu-id="d74f7-104">Der Videorenderer-Filter ist ein robuster, allzweckbasierter Videorenderer.</span><span class="sxs-lookup"><span data-stu-id="d74f7-104">The Video Renderer filter is a robust, all-purpose video renderer.</span></span>

> [!Note]  
> <span data-ttu-id="d74f7-105">Unter Windows XP und höher ist der Standardvideorenderer der [Video Mixing Renderer Filter 7](video-mixing-renderer-filter-7.md) (VMR-7).</span><span class="sxs-lookup"><span data-stu-id="d74f7-105">On Windows XP and later, the default video renderer is the [Video Mixing Renderer Filter 7](video-mixing-renderer-filter-7.md) (VMR-7).</span></span> <span data-ttu-id="d74f7-106">DIE VMR-7 und der Videorenderer haben jeweils den Anzeigenamen "Videorenderer".</span><span class="sxs-lookup"><span data-stu-id="d74f7-106">The VMR-7 and the Video Renderer both have the friendly name "Video Renderer."</span></span> <span data-ttu-id="d74f7-107">Auf früheren Plattformen ist der Videorenderer der Standardrenderer.</span><span class="sxs-lookup"><span data-stu-id="d74f7-107">On earlier platforms, the Video Renderer is the default renderer.</span></span> <span data-ttu-id="d74f7-108">Weitere Informationen finden Sie unter [Auswählen des richtigen Renderers.](choosing-the-right-renderer.md)</span><span class="sxs-lookup"><span data-stu-id="d74f7-108">See [Choosing the Right Renderer](choosing-the-right-renderer.md).</span></span>

 

<span data-ttu-id="d74f7-109">Der Videorenderer verwendet DirectDraw und Überlagerungsoberflächen, wenn diese von der Grafikkarte unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="d74f7-109">The Video Renderer uses DirectDraw and overlay surfaces, if the video card supports them.</span></span> <span data-ttu-id="d74f7-110">Der Filtergraph-Manager macht die [**IVideoWindow-Schnittstelle**](/windows/desktop/api/Control/nn-control-ivideowindow) verfügbar, mit der Anwendungen Eigenschaften für den Videorenderer festlegen und abrufen können.</span><span class="sxs-lookup"><span data-stu-id="d74f7-110">The Filter Graph Manager exposes the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) interface, which enables applications to set and retrieve properties on the Video Renderer.</span></span> <span data-ttu-id="d74f7-111">Bei neueren Grafikkarten unterstützt der Videorenderer das Vollbildrendering.</span><span class="sxs-lookup"><span data-stu-id="d74f7-111">With newer video cards, the Video Renderer supports full-screen rendering.</span></span> <span data-ttu-id="d74f7-112">Andernfalls wechselt der Filter Graph-Manager automatisch zum [Vollbild-Rendererfilter](full-screen-renderer-filter.md) für den Vollbildmodus.</span><span class="sxs-lookup"><span data-stu-id="d74f7-112">Otherwise, the Filter Graph Manager automatically switches to the [Full Screen Renderer](full-screen-renderer-filter.md) filter for full-screen mode.</span></span> <span data-ttu-id="d74f7-113">Weitere Informationen finden Sie unter [**IVideoWindow::p ut \_ FullScreenMode.**](/windows/desktop/api/Control/nf-control-ivideowindow-put_fullscreenmode)</span><span class="sxs-lookup"><span data-stu-id="d74f7-113">See [**IVideoWindow::put\_FullScreenMode**](/windows/desktop/api/Control/nf-control-ivideowindow-put_fullscreenmode) for more information.</span></span>

-   <span data-ttu-id="d74f7-114">\[! Wichtig\]</span><span class="sxs-lookup"><span data-stu-id="d74f7-114">\[!Important\]</span></span>  
    > <span data-ttu-id="d74f7-115">Normalerweise verarbeitet das Videofenster dieses Filters Nachrichten in einem Arbeitsthread, der vom Filtergraph-Manager erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="d74f7-115">Normally, this filter's video window processes messages on a worker thread created by the Filter Graph Manager.</span></span> <span data-ttu-id="d74f7-116">Howerver: Wenn eine Anwendung den Filter direkt mit **CoCreateInstance** erstellt, verarbeitet das Videofenster Nachrichten im Anwendungsthread.</span><span class="sxs-lookup"><span data-stu-id="d74f7-116">Howerver, if an application directly creates the filter using **CoCreateInstance**, the video window processes messages on the application thread.</span></span> <span data-ttu-id="d74f7-117">In diesem Fall muss der Anwendungsthread über eine Nachrichtenschleife verfügen, um Nachrichten an das Videofenster zu senden.</span><span class="sxs-lookup"><span data-stu-id="d74f7-117">In that case, the application thread must have a message loop, to dispatch messages to the video window.</span></span> <span data-ttu-id="d74f7-118">Außerdem darf der Thread erst nach dem letzten **Releaseaufruf** des Videorenderers beendet werden, der auftritt, wenn der Filtergraph-Manager heruntergefahren wird.</span><span class="sxs-lookup"><span data-stu-id="d74f7-118">Also, the thread must not exit until the final **Release** call to the Video Renderer, which occurs when the Filter Graph Manager shuts down.</span></span> <span data-ttu-id="d74f7-119">Andernfalls kann die Anwendung zu einem Deadlock führen.</span><span class="sxs-lookup"><span data-stu-id="d74f7-119">Otherwise, the application might deadlock.</span></span>

     



| <span data-ttu-id="d74f7-120">Bezeichnung</span><span class="sxs-lookup"><span data-stu-id="d74f7-120">Label</span></span> | <span data-ttu-id="d74f7-121">Wert</span><span class="sxs-lookup"><span data-stu-id="d74f7-121">Value</span></span> |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d74f7-122">Filterschnittstellen</span><span class="sxs-lookup"><span data-stu-id="d74f7-122">Filter Interfaces</span></span>                        | <span data-ttu-id="d74f7-123">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo), [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2), [**IDirectDrawVideo**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-idirectdrawvideo), [**IKsPropertySet**](ikspropertyset.md), [**IMediaPosition**](/windows/desktop/api/Control/nn-control-imediaposition), [**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow)</span><span class="sxs-lookup"><span data-stu-id="d74f7-123">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo), [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2), [**IDirectDrawVideo**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-idirectdrawvideo), [**IKsPropertySet**](ikspropertyset.md), [**IMediaPosition**](/windows/desktop/api/Control/nn-control-imediaposition), [**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow)</span></span> |
| <span data-ttu-id="d74f7-124">Eingabepin-Medientypen</span><span class="sxs-lookup"><span data-stu-id="d74f7-124">Input Pin Media Types</span></span>                    | <span data-ttu-id="d74f7-125">Unkomprimierte Videoformate.</span><span class="sxs-lookup"><span data-stu-id="d74f7-125">Uncompressed video formats.</span></span>                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="d74f7-126">Eingabepinschnittstellen</span><span class="sxs-lookup"><span data-stu-id="d74f7-126">Input Pin Interfaces</span></span>                     | <span data-ttu-id="d74f7-127">[**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="d74f7-127">[**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="d74f7-128">Ausgabepin-Medientypen</span><span class="sxs-lookup"><span data-stu-id="d74f7-128">Output Pin Media Types</span></span>                   | <span data-ttu-id="d74f7-129">Nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="d74f7-129">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="d74f7-130">Ausgabe-PIN-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="d74f7-130">Output Pin Interfaces</span></span>                    | <span data-ttu-id="d74f7-131">Nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="d74f7-131">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="d74f7-132">Filtern der CLSID</span><span class="sxs-lookup"><span data-stu-id="d74f7-132">Filter CLSID</span></span>                             | <span data-ttu-id="d74f7-133">CLSID \_ VideoRenderer</span><span class="sxs-lookup"><span data-stu-id="d74f7-133">CLSID\_VideoRenderer</span></span>                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="d74f7-134">Eigenschaftenseite CLSID</span><span class="sxs-lookup"><span data-stu-id="d74f7-134">Property Page CLSID</span></span>                      | <span data-ttu-id="d74f7-135">Keine Eigenschaftenseite.</span><span class="sxs-lookup"><span data-stu-id="d74f7-135">No property page.</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="d74f7-136">Ausführbare Datei</span><span class="sxs-lookup"><span data-stu-id="d74f7-136">Executable</span></span>                               | <span data-ttu-id="d74f7-137">quartz.dll</span><span class="sxs-lookup"><span data-stu-id="d74f7-137">quartz.dll</span></span>                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="d74f7-138">Verdienst</span><span class="sxs-lookup"><span data-stu-id="d74f7-138">Merit</span></span>](merit.md)                       | <span data-ttu-id="d74f7-139">Windows XP und höher: **UNWAHRSCHEINLICHER \_ UNWAHRSCHEINLICHER**</span><span class="sxs-lookup"><span data-stu-id="d74f7-139">Windows XP and later: **MERIT\_UNLIKELY**</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="d74f7-140">Filterkategorie</span><span class="sxs-lookup"><span data-stu-id="d74f7-140">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="d74f7-141">**CLSID \_ LegacyAmFilterCategory**</span><span class="sxs-lookup"><span data-stu-id="d74f7-141">**CLSID\_LegacyAmFilterCategory**</span></span>                                                                                                                                                                                                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="d74f7-142">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="d74f7-142">Remarks</span></span>

<span data-ttu-id="d74f7-143">Wenn in der Debugversion von Quartz.dll die LOG TRACE-Debugebene auf 5 oder höher festgelegt ist, zeigt der Videorenderer die Zeitstempel der einzelnen Frames im \_ Videofenster an.</span><span class="sxs-lookup"><span data-stu-id="d74f7-143">In the debug version of Quartz.dll, if the LOG\_TRACE debug level is set to 5 or higher, the Video Renderer displays each frame's time stamps on the video window.</span></span> <span data-ttu-id="d74f7-144">Diese Zahlen werden in der Verkaufsversion der DLL nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d74f7-144">These numbers do not appear in the retail version of the DLL.</span></span> <span data-ttu-id="d74f7-145">Weitere Informationen finden Sie unter [Debugausgabefunktionen](debug-output-functions.md).</span><span class="sxs-lookup"><span data-stu-id="d74f7-145">For more information, see [Debug Output Functions](debug-output-functions.md).</span></span>

<span data-ttu-id="d74f7-146">Die folgenden Hinweise sind für Filterentwickler vorgesehen:</span><span class="sxs-lookup"><span data-stu-id="d74f7-146">The following remarks are intended for filter developers:</span></span>

<span data-ttu-id="d74f7-147">Der Videorenderer akzeptiert YUV-Formate, wenn die Grafikkarte YUV-Überlagerungsoberflächen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="d74f7-147">The Video Renderer accepts YUV formats if the video graphics card supports YUV overlay surfaces.</span></span> <span data-ttu-id="d74f7-148">Beim ersten Herstellen einer Verbindung mit dem Upstreamfilter benötigt der Videorenderer jedoch ein RGB-Format, das der Farbtiefe der aktuellen Monitoreinstellungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="d74f7-148">When it first connects to the upstream filter, however, the Video Renderer requires an RGB format that matches the color depth of the current monitor settings.</span></span> <span data-ttu-id="d74f7-149">Wenn die aktuelle Anzeigeeinstellung beispielsweise eine 24-Bit-Farbe hat, muss der Upstreamfilter 24-Bit-RGB-Video bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="d74f7-149">For example, if the current display setting is 24-bit color, the upstream filter must be able to provide 24-bit RGB video.</span></span> <span data-ttu-id="d74f7-150">Wenn das Filterdiagramm in den Ausführungszustand wechselt, handelt der Videorenderer eine dynamische Formatänderung in den entsprechenden YUV-Farbraum aus.</span><span class="sxs-lookup"><span data-stu-id="d74f7-150">When the filter graph switches to a runing state, the Video Renderer negotiates a dynamic format change to the appropriate YUV color space.</span></span>

<span data-ttu-id="d74f7-151">Durch herstellen einer Verbindung mit einem RGB-Typ stellt der Videorenderer sicher, dass er GDI verwenden kann, falls DirectDraw nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="d74f7-151">By connecting with an RGB type, the Video Renderer ensures that it can use GDI in case DirectDraw is not available.</span></span> <span data-ttu-id="d74f7-152">Sie wechselt zu GDI, wenn eine andere Anwendung den Videospeicher verwendet, wenn das Videorechteck zwei Monitore auf einem System mit mehreren Monitoren umgeht oder wenn das Videorechteck vollständig durch ein anderes Fenster verdeckt wird.</span><span class="sxs-lookup"><span data-stu-id="d74f7-152">It will switch to GDI if another application is using the video memory, if the video rectangle straddles two monitors on a multi-monitor system, or if the video rectangle is completely obscured by another window.</span></span>

> [!Note]  
> <span data-ttu-id="d74f7-153">Der Video Mixing Renderer führt diese Art dynamischer Formatänderungen nicht durch und erfordert keinen RGB-Medientyp, da er GDI nie für das Rendering verwendet.</span><span class="sxs-lookup"><span data-stu-id="d74f7-153">The Video Mixing Renderer does not perform this type of dynamic format change, and does not require an RGB media type, because it never uses GDI for rendering.</span></span>

 

<span data-ttu-id="d74f7-154">Um eine Formatänderung auszuhandeln, ruft der Videorenderer [**IPin::QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) mit dem neuen Medientyp auf.</span><span class="sxs-lookup"><span data-stu-id="d74f7-154">To negotiate a format change, the Video Renderer calls [**IPin::QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) with the new media type.</span></span> <span data-ttu-id="d74f7-155">Wenn der Upstreamfilter S \_ OK zurückgibt, fügt der Videorenderer die neuen Medien an das nächste Beispiel an.</span><span class="sxs-lookup"><span data-stu-id="d74f7-155">If the upstream filter returns S\_OK, the Video Renderer attaches the new media to the next sample.</span></span> <span data-ttu-id="d74f7-156">Der Upstreamfilter sollte [**IMediaSample::GetMediaType**](/windows/desktop/api/Strmif/nf-strmif-imediasample-getmediatype) für jedes Beispiel aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d74f7-156">The upstream filter should call [**IMediaSample::GetMediaType**](/windows/desktop/api/Strmif/nf-strmif-imediasample-getmediatype) on each sample.</span></span> <span data-ttu-id="d74f7-157">Wenn **GetMediaType** einen Wert ungleich **NULL** zurückgibt, weist dies auf eine Formatänderung hin, und der Upstreamfilter sollte reagieren, indem er die Ausgabetypen wechselt.</span><span class="sxs-lookup"><span data-stu-id="d74f7-157">If **GetMediaType** returns a non-**NULL** value, it indicates a format change, and the upstream filter should respond by switching output types.</span></span> <span data-ttu-id="d74f7-158">(Wechseln Sie in der **QueryAccept-Methode** nicht zwischen Typen.) Der Upstreamfilter sollte mindestens die wichtigsten RGB-Typen akzeptieren und im Idealfall die allgemeinen YUV-Typen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="d74f7-158">(Do not switch types in the **QueryAccept** method.) The upstream filter should accept at least the major RGB types, and ideally should support the common YUV types.</span></span> <span data-ttu-id="d74f7-159">Während des Streamings kann der Videorenderer beliebig oft zwischen YUV- und RGB-Typen hin und her wechseln.</span><span class="sxs-lookup"><span data-stu-id="d74f7-159">During streaming, the Video Renderer might switch back and forth between YUV and RGB types any number of times.</span></span> <span data-ttu-id="d74f7-160">Der Videorenderer akzeptiert keine vom Upstreamfilter initiierten dynamischen Formatänderungen.</span><span class="sxs-lookup"><span data-stu-id="d74f7-160">The Video Renderer does not accept dynamic format changes initiated by the upstream filter.</span></span>

<span data-ttu-id="d74f7-161">Wenn der Videorenderer auf eine DirectDraw-Überlagerungsoberfläche zeichnet, ordnet er einen einzelnen Puffer für seinen Eingabepin zu.</span><span class="sxs-lookup"><span data-stu-id="d74f7-161">When the Video Renderer draws to a DirectDraw overlay surface, it allocates a single buffer for its input pin.</span></span> <span data-ttu-id="d74f7-162">Wenn der Upstreamfilter versucht, eine Verbindung mit mehreren Puffern zu erzwingen, kann der Videorenderer die Überlagerungsoberfläche nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="d74f7-162">If the upstream filter attempts to force a connection using multiple buffers, the Video Renderer will be unable to use the overlay surface.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d74f7-163">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d74f7-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d74f7-164">DirectShow-Filter</span><span class="sxs-lookup"><span data-stu-id="d74f7-164">DirectShow Filters</span></span>](directshow-filters.md)
</dt> </dl>

 

 



