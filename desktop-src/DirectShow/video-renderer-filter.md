---
description: Videorenderer-Filter
ms.assetid: 7719ed9d-e3b9-4c84-b587-4e120b5cabf8
title: Videorenderer-Filter
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c71e72375a43a57ce94b38d01f48abba9309e603
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104215000"
---
# <a name="video-renderer-filter"></a><span data-ttu-id="9ca3b-103">Videorenderer-Filter</span><span class="sxs-lookup"><span data-stu-id="9ca3b-103">Video Renderer Filter</span></span>

<span data-ttu-id="9ca3b-104">Der Videorendererfilter ist ein robuster Video-Renderer, der für alle Zwecke Zweck basiert.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-104">The Video Renderer filter is a robust, all-purpose video renderer.</span></span>

> [!Note]  
> <span data-ttu-id="9ca3b-105">Unter Windows XP und höher ist der Standardvideorenderer der [Video Mischungs-Renderer Filter 7](video-mixing-renderer-filter-7.md) (VMR-7).</span><span class="sxs-lookup"><span data-stu-id="9ca3b-105">On Windows XP and later, the default video renderer is the [Video Mixing Renderer Filter 7](video-mixing-renderer-filter-7.md) (VMR-7).</span></span> <span data-ttu-id="9ca3b-106">VMR-7 und der Videorenderer haben beide den anzeigen Amen "Videorenderer".</span><span class="sxs-lookup"><span data-stu-id="9ca3b-106">The VMR-7 and the Video Renderer both have the friendly name "Video Renderer."</span></span> <span data-ttu-id="9ca3b-107">Auf früheren Plattformen ist der Videorenderer der Standard-Renderer.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-107">On earlier platforms, the Video Renderer is the default renderer.</span></span> <span data-ttu-id="9ca3b-108">Weitere Informationen finden Sie [unter Auswählen des richtigen Renderers](choosing-the-right-renderer.md).</span><span class="sxs-lookup"><span data-stu-id="9ca3b-108">See [Choosing the Right Renderer](choosing-the-right-renderer.md).</span></span>

 

<span data-ttu-id="9ca3b-109">Der Videorenderer verwendet DirectDraw-und Overlay-Oberflächen, wenn diese von der Grafikkarte unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-109">The Video Renderer uses DirectDraw and overlay surfaces, if the video card supports them.</span></span> <span data-ttu-id="9ca3b-110">Der Filter Graph-Manager macht die [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) -Schnittstelle verfügbar, mit der Anwendungen Eigenschaften für den Videorenderer festlegen und abrufen können.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-110">The Filter Graph Manager exposes the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) interface, which enables applications to set and retrieve properties on the Video Renderer.</span></span> <span data-ttu-id="9ca3b-111">Mit neueren Grafikkarten unterstützt der Videorenderer das voll Bild Rendering.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-111">With newer video cards, the Video Renderer supports full-screen rendering.</span></span> <span data-ttu-id="9ca3b-112">Andernfalls wechselt der Filter Graph-Manager automatisch zum Vollbild- [Renderer](full-screen-renderer-filter.md) -Filter für den Vollbildmodus.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-112">Otherwise, the Filter Graph Manager automatically switches to the [Full Screen Renderer](full-screen-renderer-filter.md) filter for full-screen mode.</span></span> <span data-ttu-id="9ca3b-113">Weitere Informationen finden Sie unter [**IVideoWindow::p UT \_ Fullscreenmode**](/windows/desktop/api/Control/nf-control-ivideowindow-put_fullscreenmode) .</span><span class="sxs-lookup"><span data-stu-id="9ca3b-113">See [**IVideoWindow::put\_FullScreenMode**](/windows/desktop/api/Control/nf-control-ivideowindow-put_fullscreenmode) for more information.</span></span>

-   <span data-ttu-id="9ca3b-114">\[! Wichtig\]</span><span class="sxs-lookup"><span data-stu-id="9ca3b-114">\[!Important\]</span></span>  
    > <span data-ttu-id="9ca3b-115">Normalerweise verarbeitet das Videofenster dieses Filters Nachrichten auf einem Arbeits Thread, der vom Filter Graph-Manager erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-115">Normally, this filter's video window processes messages on a worker thread created by the Filter Graph Manager.</span></span> <span data-ttu-id="9ca3b-116">Wenn eine Anwendung den Filter mithilfe von **cokreateingestance** direkt erstellt, verarbeitet das Videofenster Nachrichten im Anwendungs Thread.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-116">Howerver, if an application directly creates the filter using **CoCreateInstance**, the video window processes messages on the application thread.</span></span> <span data-ttu-id="9ca3b-117">In diesem Fall muss der Anwendungs Thread eine Meldungs Schleife aufweisen, um Nachrichten an das Videofenster zu senden.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-117">In that case, the application thread must have a message loop, to dispatch messages to the video window.</span></span> <span data-ttu-id="9ca3b-118">Außerdem darf der Thread erst beendet werden, wenn der endgültige **releaseaufruf** an den Videorenderer erfolgt, der beim Herunterfahren des Filter-Graph-Managers auftritt.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-118">Also, the thread must not exit until the final **Release** call to the Video Renderer, which occurs when the Filter Graph Manager shuts down.</span></span> <span data-ttu-id="9ca3b-119">Andernfalls könnte die Anwendung einen Deadlock verursachen.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-119">Otherwise, the application might deadlock.</span></span>

     



|                                          |                                                                                                                                                                                                                                                                                                                                                                                                          |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9ca3b-120">Filter Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-120">Filter Interfaces</span></span>                        | <span data-ttu-id="9ca3b-121">[**Ibasefilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**ibasicvideo**](/windows/desktop/api/Control/nn-control-ibasicvideo), [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2), [**idirectdrawvideo**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-idirectdrawvideo), [**ikspropertyset**](ikspropertyset.md), [**imediaposition**](/windows/desktop/api/Control/nn-control-imediaposition), [**imediaseeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**iqualitycontrol**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol), [**iqualprop**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow)</span><span class="sxs-lookup"><span data-stu-id="9ca3b-121">[**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo), [**IBasicVideo2**](/windows/desktop/api/Control/nn-control-ibasicvideo2), [**IDirectDrawVideo**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-idirectdrawvideo), [**IKsPropertySet**](ikspropertyset.md), [**IMediaPosition**](/windows/desktop/api/Control/nn-control-imediaposition), [**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow)</span></span> |
| <span data-ttu-id="9ca3b-122">Eingabe-PIN-Medientypen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-122">Input Pin Media Types</span></span>                    | <span data-ttu-id="9ca3b-123">Nicht komprimierte Videoformate.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-123">Uncompressed video formats.</span></span>                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="9ca3b-124">PIN-Eingabeschnittstellen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-124">Input Pin Interfaces</span></span>                     | <span data-ttu-id="9ca3b-125">[**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**ipinconnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**iqualitycontrol**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="9ca3b-125">[**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IOverlay**](/windows/desktop/api/Strmif/nn-strmif-ioverlay), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="9ca3b-126">Ausgabe-PIN-Medientypen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-126">Output Pin Media Types</span></span>                   | <span data-ttu-id="9ca3b-127">Nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="9ca3b-127">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="9ca3b-128">PIN-Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-128">Output Pin Interfaces</span></span>                    | <span data-ttu-id="9ca3b-129">Nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="9ca3b-129">Not applicable.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="9ca3b-130">CLSID Filtern</span><span class="sxs-lookup"><span data-stu-id="9ca3b-130">Filter CLSID</span></span>                             | <span data-ttu-id="9ca3b-131">CLSID- \_ Videorenderer</span><span class="sxs-lookup"><span data-stu-id="9ca3b-131">CLSID\_VideoRenderer</span></span>                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="9ca3b-132">CLSID der Eigenschaften Seite</span><span class="sxs-lookup"><span data-stu-id="9ca3b-132">Property Page CLSID</span></span>                      | <span data-ttu-id="9ca3b-133">Keine Eigenschaften Seite.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-133">No property page.</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="9ca3b-134">Ausführbare Datei</span><span class="sxs-lookup"><span data-stu-id="9ca3b-134">Executable</span></span>                               | <span data-ttu-id="9ca3b-135">quartz.dll</span><span class="sxs-lookup"><span data-stu-id="9ca3b-135">quartz.dll</span></span>                                                                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="9ca3b-136">Verdienst</span><span class="sxs-lookup"><span data-stu-id="9ca3b-136">Merit</span></span>](merit.md)                       | <span data-ttu-id="9ca3b-137">Windows XP und höher: Höchstwert **\_ unwahrscheinlich**</span><span class="sxs-lookup"><span data-stu-id="9ca3b-137">Windows XP and later: **MERIT\_UNLIKELY**</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="9ca3b-138">Filter Kategorie</span><span class="sxs-lookup"><span data-stu-id="9ca3b-138">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="9ca3b-139">**CLSID \_ legacyamfiltercategory**</span><span class="sxs-lookup"><span data-stu-id="9ca3b-139">**CLSID\_LegacyAmFilterCategory**</span></span>                                                                                                                                                                                                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="9ca3b-140">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-140">Remarks</span></span>

<span data-ttu-id="9ca3b-141">In der Debugversion von Quartz.dll \_ zeigt der Videorenderer die Zeitstempel jedes Frames im Videofenster an, wenn die Debug-Ebene für die Protokoll Ablauf Verfolgung auf 5 oder höher festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-141">In the debug version of Quartz.dll, if the LOG\_TRACE debug level is set to 5 or higher, the Video Renderer displays each frame's time stamps on the video window.</span></span> <span data-ttu-id="9ca3b-142">Diese Zahlen werden nicht in der Verkaufsversion der dll angezeigt.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-142">These numbers do not appear in the retail version of the DLL.</span></span> <span data-ttu-id="9ca3b-143">Weitere Informationen finden Sie unter [Debug Output Functions](debug-output-functions.md).</span><span class="sxs-lookup"><span data-stu-id="9ca3b-143">For more information, see [Debug Output Functions](debug-output-functions.md).</span></span>

<span data-ttu-id="9ca3b-144">Die folgenden Hinweise sind für Filter Entwickler gedacht:</span><span class="sxs-lookup"><span data-stu-id="9ca3b-144">The following remarks are intended for filter developers:</span></span>

<span data-ttu-id="9ca3b-145">Der Videorenderer akzeptiert YUV-Formate, wenn die Video Grafikkarte YUV-über Lagerungs Oberflächen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-145">The Video Renderer accepts YUV formats if the video graphics card supports YUV overlay surfaces.</span></span> <span data-ttu-id="9ca3b-146">Beim ersten Herstellen einer Verbindung mit dem upstreamfilter benötigt der Videorenderer jedoch ein RGB-Format, das mit der Farbtiefe der aktuellen Monitoreinstellungen übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-146">When it first connects to the upstream filter, however, the Video Renderer requires an RGB format that matches the color depth of the current monitor settings.</span></span> <span data-ttu-id="9ca3b-147">Wenn die aktuelle Anzeige Einstellung beispielsweise 24-Bit-Farbe hat, muss der upstreamfilter in der Lage sein, 24-Bit-RGB-Videos bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-147">For example, if the current display setting is 24-bit color, the upstream filter must be able to provide 24-bit RGB video.</span></span> <span data-ttu-id="9ca3b-148">Wenn das Filter Diagramm in einen runingstatus wechselt, aushandt der Videorenderer eine dynamische Formatänderung in den entsprechenden YUV-Farbraum.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-148">When the filter graph switches to a runing state, the Video Renderer negotiates a dynamic format change to the appropriate YUV color space.</span></span>

<span data-ttu-id="9ca3b-149">Durch Herstellen einer Verbindung mit einem RGB-Typ stellt der Videorenderer sicher, dass GDI für den Fall verwendet werden kann, dass DirectDraw nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-149">By connecting with an RGB type, the Video Renderer ensures that it can use GDI in case DirectDraw is not available.</span></span> <span data-ttu-id="9ca3b-150">Es wechselt zu GDI, wenn eine andere Anwendung den Videospeicher verwendet, wenn das Video Rechteck zwei Monitore in einem Multimonitor-System überschreitet oder wenn das Video Rechteck vollständig von einem anderen Fenster verdeckt wird.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-150">It will switch to GDI if another application is using the video memory, if the video rectangle straddles two monitors on a multi-monitor system, or if the video rectangle is completely obscured by another window.</span></span>

> [!Note]  
> <span data-ttu-id="9ca3b-151">Der Video Mischungs-Renderer führt diese Art von dynamischer Formatänderung nicht aus und erfordert keinen RGB-Medientyp, da er für das Rendering niemals GDI verwendet.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-151">The Video Mixing Renderer does not perform this type of dynamic format change, and does not require an RGB media type, because it never uses GDI for rendering.</span></span>

 

<span data-ttu-id="9ca3b-152">Um eine Formatänderung auszuhandeln, ruft der Videorenderer [**IPin:: queryaccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) mit dem neuen Medientyp auf.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-152">To negotiate a format change, the Video Renderer calls [**IPin::QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) with the new media type.</span></span> <span data-ttu-id="9ca3b-153">Wenn der upstreamfilter S \_ OK zurückgibt, fügt der Videorenderer die neuen Medien an das nächste Beispiel an.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-153">If the upstream filter returns S\_OK, the Video Renderer attaches the new media to the next sample.</span></span> <span data-ttu-id="9ca3b-154">Der upstreamfilter sollte in jedem Beispiel [**imediasample:: getmediatype**](/windows/desktop/api/Strmif/nf-strmif-imediasample-getmediatype) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-154">The upstream filter should call [**IMediaSample::GetMediaType**](/windows/desktop/api/Strmif/nf-strmif-imediasample-getmediatype) on each sample.</span></span> <span data-ttu-id="9ca3b-155">Wenn **getmediatype** einen nicht-**null** -Wert zurückgibt, gibt es eine Formatänderung an, und der upstreamfilter sollte Antworten, indem Ausgabetypen gewechselt werden.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-155">If **GetMediaType** returns a non-**NULL** value, it indicates a format change, and the upstream filter should respond by switching output types.</span></span> <span data-ttu-id="9ca3b-156">(Wechseln Sie in der **queryaccept** -Methode nicht in die Typen.) Der upstreamfilter sollte mindestens die großen RGB-Typen akzeptieren und idealerweise die allgemeinen YUV-Typen unterstützen.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-156">(Do not switch types in the **QueryAccept** method.) The upstream filter should accept at least the major RGB types, and ideally should support the common YUV types.</span></span> <span data-ttu-id="9ca3b-157">Beim Streaming kann der Videorenderer beliebig oft zwischen YUV-und RGB-Typen hin-und herwechseln.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-157">During streaming, the Video Renderer might switch back and forth between YUV and RGB types any number of times.</span></span> <span data-ttu-id="9ca3b-158">Der Videorenderer akzeptiert keine dynamischen Formatierungs Änderungen, die vom upstreamfilter initiiert werden.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-158">The Video Renderer does not accept dynamic format changes initiated by the upstream filter.</span></span>

<span data-ttu-id="9ca3b-159">Wenn der Videorenderer eine DirectDraw-Overlay-Oberfläche zeichnet, ordnet er einen einzelnen Puffer für seine Eingabe-PIN zu.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-159">When the Video Renderer draws to a DirectDraw overlay surface, it allocates a single buffer for its input pin.</span></span> <span data-ttu-id="9ca3b-160">Wenn der upstreamfilter versucht, eine Verbindung mithilfe mehrerer Puffer zu erzwingen, kann der Videorenderer die Überlagerungs Oberfläche nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="9ca3b-160">If the upstream filter attempts to force a connection using multiple buffers, the Video Renderer will be unable to use the overlay surface.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9ca3b-161">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="9ca3b-161">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9ca3b-162">DirectShow-Filter</span><span class="sxs-lookup"><span data-stu-id="9ca3b-162">DirectShow Filters</span></span>](directshow-filters.md)
</dt> </dl>

 

 



