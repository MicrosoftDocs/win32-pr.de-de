---
description: Einführung in die DirectShow-Anwendungsprogrammierung
ms.assetid: 21a72efa-95df-4754-8304-ad56965a914d
title: Einführung in die DirectShow-Anwendungsprogrammierung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f6218a346a7eb9711259c025aef09133ef2e58f6
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104392557"
---
# <a name="introduction-to-directshow-application-programming"></a><span data-ttu-id="ca230-103">Einführung in die DirectShow-Anwendungsprogrammierung</span><span class="sxs-lookup"><span data-stu-id="ca230-103">Introduction to DirectShow Application Programming</span></span>

<span data-ttu-id="ca230-104">In diesem Artikel werden die grundlegenden Begriffe und Konzepte erläutert, die in DirectShow verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ca230-104">This article introduces the basic terminology and concepts that are used in DirectShow.</span></span> <span data-ttu-id="ca230-105">Nach dem Lesen dieses Abschnitts können Sie Ihre erste DirectShow-Anwendung schreiben.</span><span class="sxs-lookup"><span data-stu-id="ca230-105">After reading this section, you will be ready to write your first DirectShow application.</span></span>

<span data-ttu-id="ca230-106">**Filter und Filtern von Diagrammen**</span><span class="sxs-lookup"><span data-stu-id="ca230-106">**Filters and Filter Graphs**</span></span>

<span data-ttu-id="ca230-107">Der Baustein von DirectShow ist eine Softwarekomponente, die als *Filter* bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="ca230-107">The building block of DirectShow is a software component called a *filter*.</span></span> <span data-ttu-id="ca230-108">Ein Filter ist eine Softwarekomponente, die einen Vorgang für einen Multimedia-Stream ausführt.</span><span class="sxs-lookup"><span data-stu-id="ca230-108">A filter is a software component that performs some operation on a multimedia stream.</span></span> <span data-ttu-id="ca230-109">DirectShow-Filter können z. b.</span><span class="sxs-lookup"><span data-stu-id="ca230-109">For example, DirectShow filters can</span></span>

-   <span data-ttu-id="ca230-110">Dateien lesen</span><span class="sxs-lookup"><span data-stu-id="ca230-110">read files</span></span>
-   <span data-ttu-id="ca230-111">Video von einem Video Erfassungsgerät erhalten</span><span class="sxs-lookup"><span data-stu-id="ca230-111">get video from a video capture device</span></span>
-   <span data-ttu-id="ca230-112">Decodieren verschiedener Streamformate, z. b. MPEG-1-Video</span><span class="sxs-lookup"><span data-stu-id="ca230-112">decode various stream formats, such as MPEG-1 video</span></span>
-   <span data-ttu-id="ca230-113">übergeben von Daten an die Grafik oder Soundkarte</span><span class="sxs-lookup"><span data-stu-id="ca230-113">pass data to the graphics or sound card</span></span>

<span data-ttu-id="ca230-114">Filter empfangen Eingaben und liefern Ausgaben.</span><span class="sxs-lookup"><span data-stu-id="ca230-114">Filters receive input and produce output.</span></span> <span data-ttu-id="ca230-115">Wenn z. b. ein Filter das MPEG-1-Video decodiert, ist die Eingabe der MPEG-codierte Stream, und die Ausgabe ist eine Reihe von nicht komprimierten Video Frames.</span><span class="sxs-lookup"><span data-stu-id="ca230-115">For example, if a filter decodes MPEG-1 video, the input is the MPEG-encoded stream and the output is a series of uncompressed video frames.</span></span>

<span data-ttu-id="ca230-116">In DirectShow führt eine Anwendung eine beliebige Aufgabe aus, indem Ketten von Filtern miteinander verbunden werden, sodass die Ausgabe eines Filters zur Eingabe für eine andere wird.</span><span class="sxs-lookup"><span data-stu-id="ca230-116">In DirectShow, an application performs any task by connecting chains of filters together, so that the output from one filter becomes the input for another.</span></span> <span data-ttu-id="ca230-117">Ein Satz verbundener Filter wird als *Filter Diagramm* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="ca230-117">A set of connected filters is called a *filter graph*.</span></span> <span data-ttu-id="ca230-118">Das folgende Diagramm zeigt z. b. ein Filter Diagramm für die Wiedergabe einer AVI-Datei.</span><span class="sxs-lookup"><span data-stu-id="ca230-118">For example, the following diagram shows a filter graph for playing an AVI file.</span></span>

![Filter Diagramm zum Abspielen einer AVI-Datei](images/avi-filter-graph.png)

<span data-ttu-id="ca230-120">Der Datei Quell Filter liest die AVI-Datei von der Festplatte.</span><span class="sxs-lookup"><span data-stu-id="ca230-120">The File Source filter reads the AVI file from the hard disk.</span></span> <span data-ttu-id="ca230-121">Der avi-Splitter Filter analysiert die Datei in zwei Streams, einen komprimierten Videostream und einen Audiodatenstrom.</span><span class="sxs-lookup"><span data-stu-id="ca230-121">The AVI Splitter filter parses the file into two streams, a compressed video stream and an audio stream.</span></span> <span data-ttu-id="ca230-122">Der AVI-Debug-Filter decodiert die Video Frames.</span><span class="sxs-lookup"><span data-stu-id="ca230-122">The AVI Decompressor filter decodes the video frames.</span></span> <span data-ttu-id="ca230-123">Der Videorenderer-Filter zeichnet die Frames mithilfe von DirectDraw oder GDI in die Anzeige.</span><span class="sxs-lookup"><span data-stu-id="ca230-123">The Video Renderer filter draws the frames to the display, using DirectDraw or GDI.</span></span> <span data-ttu-id="ca230-124">Der standardmäßige DirectSound-Geräte Filter gibt den Audiostream mithilfe von DirectSound wieder.</span><span class="sxs-lookup"><span data-stu-id="ca230-124">The Default DirectSound Device filter plays the audio stream, using DirectSound.</span></span>

<span data-ttu-id="ca230-125">Der gesamte Datenfluss muss von der Anwendung nicht verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="ca230-125">The application does not have to manage all of this data flow.</span></span> <span data-ttu-id="ca230-126">Stattdessen werden die Filter durch eine Komponente auf hoher Ebene gesteuert, die als Filter Graph-Manager bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="ca230-126">Instead, the filters are controlled by a high-level component called the Filter Graph Manager.</span></span> <span data-ttu-id="ca230-127">Die Anwendung führt API-Aufrufe auf hoher Ebene aus, z. b. "ausführen" (um Daten durch das Diagramm zu verschieben) oder "anzuhalten" (um den Datenfluss zu verhindern).</span><span class="sxs-lookup"><span data-stu-id="ca230-127">The application makes high-level API calls such as "Run" (to move data through the graph) or "Stop" (to stop the flow of data).</span></span> <span data-ttu-id="ca230-128">Wenn Sie mehr Kontrolle über die streamvorgänge benötigen, können Sie direkt über COM-Schnittstellen auf die Filter zugreifen.</span><span class="sxs-lookup"><span data-stu-id="ca230-128">If you require more control over the stream operations, you can access the filters directly through COM interfaces.</span></span> <span data-ttu-id="ca230-129">Der Filter Graph-Manager übergibt auch Ereignis Benachrichtigungen an die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="ca230-129">The Filter Graph Manager also passes event notifications to the application.</span></span>

<span data-ttu-id="ca230-130">Der Filter Graph-Manager dient ebenfalls einem anderen Zweck: Er stellt Methoden bereit, mit denen die Anwendung das Filter Diagramm erstellen kann, indem die Filter miteinander verbunden werden.</span><span class="sxs-lookup"><span data-stu-id="ca230-130">The Filter Graph Manager serves another purpose as well: It provides methods for the application to build the filter graph, by connecting the filters together.</span></span> <span data-ttu-id="ca230-131">(DirectShow bietet auch verschiedene Hilfsobjekte, die diesen Prozess vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="ca230-131">(DirectShow also provides various helper objects that simplify this process.</span></span> <span data-ttu-id="ca230-132">Diese werden in der-Dokumentation ausführlich beschrieben.)</span><span class="sxs-lookup"><span data-stu-id="ca230-132">These are thoroughly described in the documentation.)</span></span>

<span data-ttu-id="ca230-133">**Schreiben einer DirectShow-Anwendung**</span><span class="sxs-lookup"><span data-stu-id="ca230-133">**Writing a DirectShow Application**</span></span>

<span data-ttu-id="ca230-134">Im Allgemeinen gibt es drei Aufgaben, die jede DirectShow-Anwendung ausführen muss.</span><span class="sxs-lookup"><span data-stu-id="ca230-134">In broad terms, there are three tasks that any DirectShow application must perform.</span></span> <span data-ttu-id="ca230-135">Diese werden in der folgenden Abbildung veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="ca230-135">These are illustrated in the following diagram.</span></span>

![Typische DirectShow-Anwendung](images/fgm.png)

1.  <span data-ttu-id="ca230-137">Die Anwendung erstellt eine Instanz des Filter Graph-Managers.</span><span class="sxs-lookup"><span data-stu-id="ca230-137">The application creates an instance of the Filter Graph Manager.</span></span>
2.  <span data-ttu-id="ca230-138">Die Anwendung verwendet den Filter Graph-Manager, um ein Filter Diagramm zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ca230-138">The application uses the Filter Graph Manager to build a filter graph.</span></span> <span data-ttu-id="ca230-139">Der genaue Satz von Filtern im Diagramm hängt von der Anwendung ab.</span><span class="sxs-lookup"><span data-stu-id="ca230-139">The exact set of filters in the graph will depend on the application.</span></span>
3.  <span data-ttu-id="ca230-140">Die Anwendung verwendet den Filter Graph-Manager, um das Filter Diagramm zu steuern und Daten über die Filter zu streamen.</span><span class="sxs-lookup"><span data-stu-id="ca230-140">The application uses the Filter Graph Manager to control the filter graph and stream data through the filters.</span></span> <span data-ttu-id="ca230-141">Während dieses Vorgangs antwortet die Anwendung auch auf Ereignisse vom Filter Graph-Manager.</span><span class="sxs-lookup"><span data-stu-id="ca230-141">Throughout this process, the application will also respond to events from the Filter Graph Manager.</span></span>

<span data-ttu-id="ca230-142">Wenn die Verarbeitung abgeschlossen ist, gibt die Anwendung den Filter Graph-Manager und alle Filter frei.</span><span class="sxs-lookup"><span data-stu-id="ca230-142">When processing is completed, the application releases the Filter Graph Manager and all of the filters.</span></span>

<span data-ttu-id="ca230-143">DirectShow basiert auf com; der Filter Graph-Manager und die Filter sind alle COM-Objekte.</span><span class="sxs-lookup"><span data-stu-id="ca230-143">DirectShow is based on COM; the Filter Graph Manager and the filters are all COM objects.</span></span> <span data-ttu-id="ca230-144">Sie sollten ein allgemeines Verständnis der com-Client Programmierung haben, bevor Sie mit dem Programmieren von DirectShow beginnen.</span><span class="sxs-lookup"><span data-stu-id="ca230-144">You should have a general understanding of COM client programming before you begin programming DirectShow.</span></span> <span data-ttu-id="ca230-145">Viele Bücher zur COM-Programmierung sind verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ca230-145">Many books about COM programming are available.</span></span>

<span data-ttu-id="ca230-146">Informationen zu den ersten Schritten mit DirectShow finden Sie im Artikel wiedergeben [einer Datei](how-to-play-a-file.md), die eine einfache Konsolenanwendung zum Abspielen einer Videodatei darstellt.</span><span class="sxs-lookup"><span data-stu-id="ca230-146">To get started with DirectShow, read the article [How To Play a File](how-to-play-a-file.md), which presents a simple console application to play a video file.</span></span> <span data-ttu-id="ca230-147">Im Abschnitt [zu DirectShow](about-directshow.md) wird die DirectShow-Architektur ausführlicher erläutert, während der Abschnitt [using DirectShow](using-directshow.md) die wichtigsten Szenarien untersucht, die von DirectShow unterstützt werden, z. b. Erfassung, Videobearbeitung, DVD-Wiedergabe und Fernsehen.</span><span class="sxs-lookup"><span data-stu-id="ca230-147">The section [About DirectShow](about-directshow.md) explains the DirectShow architecture in more detail, while the section [Using DirectShow](using-directshow.md) examines the major scenarios that are supported by DirectShow, such as capture, video editing, DVD playback, and television.</span></span>

 

 



