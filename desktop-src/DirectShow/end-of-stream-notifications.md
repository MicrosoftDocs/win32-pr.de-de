---
description: Streamende-Benachrichtigungen
ms.assetid: cf2b13bc-5b54-4ac7-8a33-7434126fdf31
title: Streamende-Benachrichtigungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 53fcdfef1225aa5b93b56aeaa0d8ae9d0a8550c9
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104213972"
---
# <a name="end-of-stream-notifications"></a><span data-ttu-id="75fbe-103">Streamende-Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="75fbe-103">End-of-Stream Notifications</span></span>

<span data-ttu-id="75fbe-104">Wenn ein Quell Filter das Senden von Daten abgeschlossen hat, ruft er die [**IPin:: EndOf Stream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream) -Methode für die downstreameingabepin auf.</span><span class="sxs-lookup"><span data-stu-id="75fbe-104">When a source filter is done sending data, it calls the [**IPin::EndOfStream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream) method on the downstream input pin.</span></span> <span data-ttu-id="75fbe-105">Der Downstream-Filter gibt den-Befehl an den nächsten Filter weiter usw.</span><span class="sxs-lookup"><span data-stu-id="75fbe-105">The downstream filter propagates the call to the next filter, and so on.</span></span> <span data-ttu-id="75fbe-106">Wenn der **EndOfStream** -Aufruf den Renderer erreicht, sendet der Renderer ein [**EC \_ Complete**](ec-complete.md) -Ereignis an den Filter Graph-Manager.</span><span class="sxs-lookup"><span data-stu-id="75fbe-106">When the **EndOfStream** call reaches the renderer, the renderer sends an [**EC\_COMPLETE**](ec-complete.md) event to the Filter Graph Manager.</span></span> <span data-ttu-id="75fbe-107">Wenn der Renderer über mehrere Eingabe Pins verfügt, wird das EC \_ Complete-Ereignis übermittelt, nachdem jede Eingabe-PIN die Benachrichtigung über das Ende des Datenstroms erhalten hat.</span><span class="sxs-lookup"><span data-stu-id="75fbe-107">If the renderer has multiple input pins, it delivers the EC\_COMPLETE event after every input pin has received the end-of-stream notification.</span></span>

<span data-ttu-id="75fbe-108">Ein Filter muss [**EndOf**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream) -Aufrufe mit anderen streamingaufrufen serialisieren, wie z. b. [**IMemInputPin:: Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive).</span><span class="sxs-lookup"><span data-stu-id="75fbe-108">A filter must serialize [**EndOfStream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream) calls with other streaming calls, such as [**IMemInputPin::Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive).</span></span> <span data-ttu-id="75fbe-109">(Mit anderen Worten, der Downstream-Filter muss immer die Aufrufe in der richtigen Reihenfolge empfangen.)</span><span class="sxs-lookup"><span data-stu-id="75fbe-109">(In other words, the downstream filter must always receive the calls in the correct order.)</span></span>

<span data-ttu-id="75fbe-110">In einigen Fällen kann ein downstreamfilter das Ende des Streams erkennen, bevor der Quell Filter Dies bewirkt.</span><span class="sxs-lookup"><span data-stu-id="75fbe-110">In some cases, a downstream filter might detect the end of the stream before the source filter does.</span></span> <span data-ttu-id="75fbe-111">(Z. b. kann der Downstream-Filter den Datenstrom auswerten.) In diesem Fall kann der Downstream-Filter das Ende der Datenstrom Benachrichtigung senden. in diesem Fall sollte er den Wert " \_ false" von [**IMemInputPin:: Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive) zurückgeben, bis der Graph beendet oder geleert wird.</span><span class="sxs-lookup"><span data-stu-id="75fbe-111">(For example, the downstream filter might be parsing the stream.) In that case, the downstream filter can send the end-of-stream notification, in which case it should return S\_FALSE from [**IMemInputPin::Receive**](/windows/desktop/api/Strmif/nf-strmif-imeminputpin-receive) until the graph stops or flushes.</span></span> <span data-ttu-id="75fbe-112">Der \_ Wert S false gibt den Quell Filter an, das Senden von Daten zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="75fbe-112">The S\_FALSE return value informs the source filter to stop sending data.</span></span>

### <a name="default-handling-of-ec_complete"></a><span data-ttu-id="75fbe-113">Standardbehandlung von EC \_ Complete</span><span class="sxs-lookup"><span data-stu-id="75fbe-113">Default Handling of EC\_COMPLETE</span></span>

<span data-ttu-id="75fbe-114">Standardmäßig führt der Filter Graph-Manager nicht alle Ereignisse vom Typ "EC \_ Complete" an die Anwendung weiter.</span><span class="sxs-lookup"><span data-stu-id="75fbe-114">By default, the Filter Graph Manager does not forward every EC\_COMPLETE event to the application.</span></span> <span data-ttu-id="75fbe-115">Stattdessen wartet Sie, bis alle Streams den Vorgang "EC Complete" signalisiert haben, \_ und sendet dann ein einzelnes "EC Complete"- \_ Ereignis.</span><span class="sxs-lookup"><span data-stu-id="75fbe-115">Instead, it waits until all streams have signaled EC\_COMPLETE and then sends a single EC\_COMPLETE event.</span></span> <span data-ttu-id="75fbe-116">Folglich empfängt die Anwendung das Ereignis, nachdem jeder Stream abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="75fbe-116">Thus, the application receives the event after every stream has completed.</span></span>

<span data-ttu-id="75fbe-117">Zum Ermitteln der Anzahl der Streams zählt der Filter Diagramm-Manager die Anzahl der Filter, die Suchvorgänge unterstützen (über [**imediaseeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking) oder [**imediaposition**](/windows/desktop/api/Control/nn-control-imediaposition)) und über eine *gerenderte* Eingabe-PIN verfügen, die als Eingabe-PIN ohne entsprechende Ausgaben definiert ist.</span><span class="sxs-lookup"><span data-stu-id="75fbe-117">To determine the number of streams, the Filter Graph Manager counts the number of filters that support seeking (through [**IMediaSeeking**](/windows/desktop/api/Strmif/nn-strmif-imediaseeking) or [**IMediaPosition**](/windows/desktop/api/Control/nn-control-imediaposition)) and have a *rendered* input pin, which is defined as an input pin with no corresponding outputs.</span></span> <span data-ttu-id="75fbe-118">Der Filter Graph-Manager bestimmt, ob eine PIN auf zwei Arten gerendert wird:</span><span class="sxs-lookup"><span data-stu-id="75fbe-118">The Filter Graph Manager determines whether a pin is rendered in one of two ways:</span></span>

-   <span data-ttu-id="75fbe-119">Die [**IPin:: QueryInternalConnections**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryinternalconnections) -Methode der PIN gibt im *npin* -Parameter 0 (null) zurück.</span><span class="sxs-lookup"><span data-stu-id="75fbe-119">The pin's [**IPin::QueryInternalConnections**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryinternalconnections) method returns zero in the *nPin* parameter.</span></span>
-   <span data-ttu-id="75fbe-120">Der Filter macht die [**iamfilterfehlflags**](/windows/desktop/api/Strmif/nn-strmif-iamfiltermiscflags) -Schnittstelle verfügbar und gibt das Flag "am \_ Filter \_ misc \_ Flags \_ is \_ Renderer" zurück.</span><span class="sxs-lookup"><span data-stu-id="75fbe-120">The filter exposes the [**IAMFilterMiscFlags**](/windows/desktop/api/Strmif/nn-strmif-iamfiltermiscflags) interface and returns the AM\_FILTER\_MISC\_FLAGS\_IS\_RENDERER flag.</span></span>

### <a name="end-of-stream-notifications-in-pull-mode"></a><span data-ttu-id="75fbe-121">Streamende-Benachrichtigungen im Pull-Modus</span><span class="sxs-lookup"><span data-stu-id="75fbe-121">End-of-Stream Notifications in Pull Mode</span></span>

<span data-ttu-id="75fbe-122">In einer [**iasynkreader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) -Verbindung sendet der Quell Filter keine Benachrichtigung über das Ende des Datenstroms.</span><span class="sxs-lookup"><span data-stu-id="75fbe-122">In an [**IAsyncReader**](/windows/desktop/api/Strmif/nn-strmif-iasyncreader) connection, the source filter does not send an end-of-stream notification.</span></span> <span data-ttu-id="75fbe-123">Instread, dies erfolgt durch den downstreamfilter, bei dem es sich in der Regel um einen Parserfilter handelt.</span><span class="sxs-lookup"><span data-stu-id="75fbe-123">Instread, this is done by the downstream filter, which is typically a parser filter.</span></span> <span data-ttu-id="75fbe-124">Der Parser sendet den [**EndOfStream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream) -Befehl Downstream.</span><span class="sxs-lookup"><span data-stu-id="75fbe-124">The parser sends the [**EndOfStream**](/windows/desktop/api/Strmif/nf-strmif-ipin-endofstream) call downstream.</span></span> <span data-ttu-id="75fbe-125">Eine upstreamdatei wird nicht an den Quell Filter gesendet.</span><span class="sxs-lookup"><span data-stu-id="75fbe-125">It does not send one upstream to the source filter.</span></span>

## <a name="related-topics"></a><span data-ttu-id="75fbe-126">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="75fbe-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="75fbe-127">Über das Ende des Streams</span><span class="sxs-lookup"><span data-stu-id="75fbe-127">Delivering the End of Stream</span></span>](delivering-the-end-of-stream.md)
</dt> </dl>

 

 



