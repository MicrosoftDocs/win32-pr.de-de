---
description: Die ccmdqueue-Klasse ist eine Basisklasse, die eine Warteschlange von cdeferredcommand-Objekten und Element Funktionen zum Hinzufügen, entfernen, Überprüfen des Status und zum Aufrufen der Befehle in der Warteschlange bereitstellt.
ms.assetid: 6bd0f0f3-3c56-47d2-9fd8-e2863a2afa33
title: Ccmdqueue-Klasse
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CCmdQueue
api_type:
- COM
api_location: ''
ms.openlocfilehash: 78af7a975d54ba832bbdf1fb7f8027f87b747660
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104123764"
---
# <a name="ccmdqueue-class"></a><span data-ttu-id="2b4e0-103">Ccmdqueue-Klasse</span><span class="sxs-lookup"><span data-stu-id="2b4e0-103">CCmdQueue class</span></span>

<span data-ttu-id="2b4e0-104">Die- `CCmdQueue` Klasse ist eine Basisklasse, die eine Warteschlange von [**cdeferredcommand**](cdeferredcommand.md) -Objekten und Element Funktionen zum Hinzufügen, entfernen, Überprüfen des Status und zum Aufrufen der Befehle in der Warteschlange bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-104">The `CCmdQueue` class is a base class that provides a queue of [**CDeferredCommand**](cdeferredcommand.md) objects and member functions to add, remove, check status, and invoke the queued commands.</span></span> <span data-ttu-id="2b4e0-105">Ein- `CCmdQueue` Objekt ist ein Teil eines Objekts, das [**iqueuecommand**](/windows/desktop/api/Control/nn-control-iqueuecommand) -Methoden implementiert.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-105">A `CCmdQueue` object is a part of an object that implements [**IQueueCommand**](/windows/desktop/api/Control/nn-control-iqueuecommand) methods.</span></span> <span data-ttu-id="2b4e0-106">Der Filter Graph-Manager implementiert **iqueuecommand** -Methoden, sodass Anwendungen Befehle zum Filter Diagramm in die Warteschlange stellen können.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-106">The filter graph manager implements **IQueueCommand** methods so that applications can queue commands to the filter graph.</span></span> <span data-ttu-id="2b4e0-107">Filter, die die **iqueuecommand** -Schnittstelle implementieren, verwenden diese Klasse direkt.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-107">Filters that implement the **IQueueCommand** interface directly use this class.</span></span> <span data-ttu-id="2b4e0-108">Wenn Sie **cdeferredcommand** -Objekte verwenden möchten, muss Ihre Warteschlange von dieser Klasse abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-108">If you want to use **CDeferredCommand** objects, your queue must be derived from this class.</span></span>

<span data-ttu-id="2b4e0-109">Es gibt zwei Synchronisierungs Modi: grob und genau.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-109">There are two modes of synchronization: coarse and accurate.</span></span> <span data-ttu-id="2b4e0-110">Im groben Modus wartet die Anwendung, bis eine angegebene Zeit erreicht ist, und führt dann den Befehl aus.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-110">In coarse mode, the application waits until a specified time arrives and then executes the command.</span></span> <span data-ttu-id="2b4e0-111">Im exakten Modus wartet die Anwendung, bis die Verarbeitung in dem Beispiel beginnt, das zu diesem Zeitpunkt angezeigt wird, und führt dann den Befehl aus.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-111">In accurate mode, the application waits until processing begins on the sample that appears at the time, and then executes the command.</span></span> <span data-ttu-id="2b4e0-112">Der Filter bestimmt, welcher implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-112">The filter determines which one it will implement.</span></span> <span data-ttu-id="2b4e0-113">Der Filter Graph-Manager implementiert immer den groben Modus für Befehle, die im Filter Diagramm-Manager in die Warteschlange eingereiht werden.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-113">The filter graph manager always implements coarse mode for commands that are queued at the filter graph manager.</span></span>

<span data-ttu-id="2b4e0-114">Wenn Sie eine grobe Synchronisierung durchführen möchten, sollten Sie warten, bis ein Befehl fällig ist, und dann ausführen.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-114">If you want coarse synchronization, you probably want to wait until there is a command due, and then execute it.</span></span> <span data-ttu-id="2b4e0-115">Dazu rufen Sie [**ccmdqueue:: getduecommand**](ccmdqueue-getduecommand.md)auf.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-115">You can do this by calling [**CCmdQueue::GetDueCommand**](ccmdqueue-getduecommand.md).</span></span> <span data-ttu-id="2b4e0-116">Wenn Sie mehrere Dinge abwarten müssen, müssen Sie das Ereignis Handle von [**ccmdqueue:: getduehandle**](ccmdqueue-getduehandle.md) abrufen und dann **ccmdqueue:: getduecommand** aufrufen, wenn dies signalisiert wird.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-116">If you have several things to wait for, get the event handle from [**CCmdQueue::GetDueHandle**](ccmdqueue-getduehandle.md) and then call **CCmdQueue::GetDueCommand** when this is signaled.</span></span> <span data-ttu-id="2b4e0-117">die [**streamzeit**](stream-time.md) wird nur zwischen Aufrufen der Member " [**ccmdqueue:: Run**](ccmdqueue-run.md) " und " [**ccmdqueue:: EndRun**](ccmdqueue-endrun.md) " fortgeführt.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-117">[**stream time**](stream-time.md) will advance only between calls to the [**CCmdQueue::Run**](ccmdqueue-run.md) and [**CCmdQueue::EndRun**](ccmdqueue-endrun.md) member functions.</span></span> <span data-ttu-id="2b4e0-118">Es gibt keine Garantie, dass ein Befehl bereit ist, wenn das Handle festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-118">There is no guarantee that if the handle is set, there will be a command ready.</span></span> <span data-ttu-id="2b4e0-119">Jedes Mal, wenn das Ereignis signalisiert wird, wird die **getduecommand** -Member-Funktion aufgerufen (wahrscheinlich mit einem Timeout von null); Dies kann E Abort zurückgeben, \_ Wenn kein Befehl bereit ist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-119">Each time the event is signaled, call the **GetDueCommand** member function (probably with a time-out of zero); this can return E\_ABORT if no command is ready.</span></span>

<span data-ttu-id="2b4e0-120">Wenn Sie eine exakte Synchronisierung wünschen, müssen Sie die Funktion [**ccmdqueue:: getcommandduefor**](ccmdqueue-getcommandduefor.md) Member aufrufen und die zu verarbeitenden Beispiele als Parameter übergeben.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-120">If you want accurate synchronization, call the [**CCmdQueue::GetCommandDueFor**](ccmdqueue-getcommandduefor.md) member function and pass the samples you are about to process as a parameter.</span></span> <span data-ttu-id="2b4e0-121">Dadurch wird Folgendes zurückgegeben:</span><span class="sxs-lookup"><span data-stu-id="2b4e0-121">This returns the following:</span></span>

-   <span data-ttu-id="2b4e0-122">Ein Stream-Zeit-Befehl, der an oder vor der streamzeit liegt.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-122">A stream-time command due at or before that stream time.</span></span>
-   <span data-ttu-id="2b4e0-123">Ein Präsentationszeit Befehl, der an oder vor der Darstellung der streamzeit liegt.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-123">A presentation-time command due at or before the presentation of the stream time.</span></span> <span data-ttu-id="2b4e0-124">Dies geschieht nur zwischen den [**memmdqueue:: Run**](ccmdqueue-run.md) -und [**ccmdqueue:: EndRun**](ccmdqueue-endrun.md) -Member-Funktionen, da die Zuordnung von der streamzeit zur Präsentationszeit nicht bekannt ist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-124">Do this only between the [**CCmdQueue::Run**](ccmdqueue-run.md) and [**CCmdQueue::EndRun**](ccmdqueue-endrun.md) member functions, because outside of this, the mapping from stream time to presentation time is not known.</span></span>
-   <span data-ttu-id="2b4e0-125">Ein beliebiger Präsentationszeit-Befehl wird jetzt durchzuführen.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-125">Any presentation-time command due now.</span></span>

<span data-ttu-id="2b4e0-126">Wenn Sie für Beispiele, die möglicherweise im angehaltenen Modus verarbeitet werden, eine exakte Synchronisierung durchführen möchten, müssen Sie die Befehle zum Streamen von Daten verwenden</span><span class="sxs-lookup"><span data-stu-id="2b4e0-126">If you want accurate synchronization for samples that might be processed during paused mode, you must use stream-time commands.</span></span>

<span data-ttu-id="2b4e0-127">In allen Fällen bleiben Befehle in der Warteschlange, bis Sie aufgerufen oder abgebrochen werden.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-127">In all cases, commands remain queued until called or canceled.</span></span> <span data-ttu-id="2b4e0-128">Die Einstellung und das Zurücksetzen des Ereignis Handles werden vollständig von diesem Warteschlangen Objekt verwaltet.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-128">The setting and resetting of the event handle is managed entirely by this queue object.</span></span>



| <span data-ttu-id="2b4e0-129">Geschützte Datenmember</span><span class="sxs-lookup"><span data-stu-id="2b4e0-129">Protected Data Members</span></span>                                 | <span data-ttu-id="2b4e0-130">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="2b4e0-130">Description</span></span>                                                                                            |
|--------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2b4e0-131">m- \_ Brunning</span><span class="sxs-lookup"><span data-stu-id="2b4e0-131">m\_bRunning</span></span>                                            | <span data-ttu-id="2b4e0-132">Flag zum Ausführen des Zustands; Legen Sie beim Ausführen von **true** fest.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-132">Flag for running state; set **TRUE** when running.</span></span>                                                     |
| <span data-ttu-id="2b4e0-133">m \_ DW-Empfehlung</span><span class="sxs-lookup"><span data-stu-id="2b4e0-133">m\_dwAdvise</span></span>                                            | <span data-ttu-id="2b4e0-134">Bezeichnerbezeichner von der Referenzuhr (null, wenn keine ausstehende Empfehlung besteht).</span><span class="sxs-lookup"><span data-stu-id="2b4e0-134">Advise identifier from the reference clock (zero if no outstanding advise).</span></span>                            |
| <span data-ttu-id="2b4e0-135">m \_ evdue</span><span class="sxs-lookup"><span data-stu-id="2b4e0-135">m\_evDue</span></span>                                               | <span data-ttu-id="2b4e0-136">Legt die Uhrzeit fest, zu der Befehle fällig werden.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-136">Sets the time when any commands are due.</span></span>                                                               |
| <span data-ttu-id="2b4e0-137">m \_ listpresentation</span><span class="sxs-lookup"><span data-stu-id="2b4e0-137">m\_listPresentation</span></span>                                    | <span data-ttu-id="2b4e0-138">Speichert Befehle in der Präsentationszeit in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-138">Stores commands queued in presentation time.</span></span>                                                           |
| <span data-ttu-id="2b4e0-139">m \_ liststream</span><span class="sxs-lookup"><span data-stu-id="2b4e0-139">m\_listStream</span></span>                                          | <span data-ttu-id="2b4e0-140">Speichert Befehle in der streamzeit in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-140">Stores commands queued in stream time.</span></span>                                                                 |
| <span data-ttu-id="2b4e0-141">m- \_ Sperre</span><span class="sxs-lookup"><span data-stu-id="2b4e0-141">m\_Lock</span></span>                                                | <span data-ttu-id="2b4e0-142">Schützt den Zugriff auf Listen.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-142">Protects access to lists.</span></span>                                                                              |
| <span data-ttu-id="2b4e0-143">m \_ pclock</span><span class="sxs-lookup"><span data-stu-id="2b4e0-143">m\_pClock</span></span>                                              | <span data-ttu-id="2b4e0-144">Aktuelle Referenzuhr.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-144">Current reference clock.</span></span>                                                                               |
| <span data-ttu-id="2b4e0-145">m \_ streamtimeoffset</span><span class="sxs-lookup"><span data-stu-id="2b4e0-145">m\_StreamTimeOffset</span></span>                                    | <span data-ttu-id="2b4e0-146">Enthält den Zeit Offset des Streams, wenn **m- \_ Brunning** den Wert **true** aufweist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-146">Contains the stream time offset when **m\_bRunning** is **TRUE**.</span></span>                                      |
| <span data-ttu-id="2b4e0-147">m \_ streamtimeoffset</span><span class="sxs-lookup"><span data-stu-id="2b4e0-147">m\_StreamTimeOffset</span></span>                                    | <span data-ttu-id="2b4e0-148">Enthält den Zeit Offset des Streams, wenn **m- \_ Brunning** den Wert **true** aufweist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-148">Contains the stream time offset when **m\_bRunning** is **TRUE**.</span></span>                                      |
| <span data-ttu-id="2b4e0-149">Elementfunktionen</span><span class="sxs-lookup"><span data-stu-id="2b4e0-149">Member Functions</span></span>                                       | <span data-ttu-id="2b4e0-150">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="2b4e0-150">Description</span></span>                                                                                            |
| [<span data-ttu-id="2b4e0-151">**Ccmdqueue**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-151">**CCmdQueue**</span></span>](ccmdqueue-ccmdqueue.md)               | <span data-ttu-id="2b4e0-152">Erstellt ein **ccmdqueue** -Objekt.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-152">Constructs a **CCmdQueue** object.</span></span>                                                                     |
| [<span data-ttu-id="2b4e0-153">**Prüfzeit**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-153">**CheckTime**</span></span>](ccmdqueue-checktime.md)               | <span data-ttu-id="2b4e0-154">Bestimmt, ob eine bestimmte Uhrzeit fällig ist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-154">Determines if a given time is due.</span></span>                                                                     |
| [<span data-ttu-id="2b4e0-155">**Getduehandle**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-155">**GetDueHandle**</span></span>](ccmdqueue-getduehandle.md)         | <span data-ttu-id="2b4e0-156">Ruft das Ereignis Handle ab, das signalisiert wird.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-156">Retrieves the event handle that will be signaled.</span></span>                                                      |
| <span data-ttu-id="2b4e0-157">Über schreibbare Member-Funktionen</span><span class="sxs-lookup"><span data-stu-id="2b4e0-157">Overridable Member Functions</span></span>                           | <span data-ttu-id="2b4e0-158">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="2b4e0-158">Description</span></span>                                                                                            |
| [<span data-ttu-id="2b4e0-159">**EndRun**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-159">**EndRun**</span></span>](ccmdqueue-endrun.md)                     | <span data-ttu-id="2b4e0-160">Wechselt zum beendeten oder angehaltenen Modus.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-160">Switches to stopped or paused mode.</span></span>                                                                    |
| [<span data-ttu-id="2b4e0-161">**Getcommandduefor**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-161">**GetCommandDueFor**</span></span>](ccmdqueue-getcommandduefor.md) | <span data-ttu-id="2b4e0-162">Ruft einen verzögerten Befehl ab, der zu einem bestimmten Zeitpunkt geplant wird.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-162">Retrieves a deferred command that is scheduled at a specified time.</span></span>                                    |
| [<span data-ttu-id="2b4e0-163">**Getduecommand**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-163">**GetDueCommand**</span></span>](ccmdqueue-getduecommand.md)       | <span data-ttu-id="2b4e0-164">Ruft einen Zeiger auf den nächsten Befehl ab, der fällig ist.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-164">Retrieves a pointer to the next command that is due.</span></span>                                                   |
| [<span data-ttu-id="2b4e0-165">**Setze**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-165">**Insert**</span></span>](ccmdqueue-insert.md)                     | <span data-ttu-id="2b4e0-166">Fügt der Warteschlange das [**cdeferredcommand**](cdeferredcommand.md) -Objekt hinzu.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-166">Adds the [**CDeferredCommand**](cdeferredcommand.md) object to the queue.</span></span>                             |
| [<span data-ttu-id="2b4e0-167">**Neu**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-167">**New**</span></span>](ccmdqueue-new.md)                           | <span data-ttu-id="2b4e0-168">Initialisiert einen Befehl, der ausgeführt werden soll, und gibt ein neues [**cdeferredcommand**](cdeferredcommand.md) -Objekt zurück.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-168">Initializes a command to be run and returns a new [**CDeferredCommand**](cdeferredcommand.md) object.</span></span> |
| [<span data-ttu-id="2b4e0-169">**Aufgeh**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-169">**Remove**</span></span>](ccmdqueue-remove.md)                     | <span data-ttu-id="2b4e0-170">Entfernt das [**cdeferredcommand**](cdeferredcommand.md) -Objekt aus der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-170">Removes the [**CDeferredCommand**](cdeferredcommand.md) object from the queue.</span></span>                        |
| [<span data-ttu-id="2b4e0-171">**Ausführen**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-171">**Run**</span></span>](ccmdqueue-run.md)                           | <span data-ttu-id="2b4e0-172">Wechselt in den laufenden Modus.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-172">Switches to running mode.</span></span>                                                                              |
| [<span data-ttu-id="2b4e0-173">**Setsyncsource**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-173">**SetSyncSource**</span></span>](ccmdqueue-setsyncsource.md)       | <span data-ttu-id="2b4e0-174">Legt die Uhrzeit für die zeitliche Steuerung fest.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-174">Sets the clock used for timing.</span></span>                                                                        |
| [<span data-ttu-id="2b4e0-175">**Settimerat**</span><span class="sxs-lookup"><span data-stu-id="2b4e0-175">**SetTimeAdvise**</span></span>](ccmdqueue-settimeadvise.md)       | <span data-ttu-id="2b4e0-176">Richtet ein Timer-Ereignis mit der Referenzuhr ein.</span><span class="sxs-lookup"><span data-stu-id="2b4e0-176">Sets up a timer event with the reference clock.</span></span>                                                        |



 

 

 



