---
description: Mit dem Crawl Scope Manager (CSM) können Sie Such Stämme für Ihre Datenspeicher zu und aus dem Windows Search-Crawl Bereich hinzufügen und daraus entfernen.
ms.assetid: 0f1ff41f-7c4c-4516-bb55-bf09a8f2f3bc
title: Verwalten von Such Stämmen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cbdd63e5e71cd18d3028c6d08019890f90c0228a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214467"
---
# <a name="managing-search-roots"></a><span data-ttu-id="d4aec-103">Verwalten von Such Stämmen</span><span class="sxs-lookup"><span data-stu-id="d4aec-103">Managing Search Roots</span></span>

<span data-ttu-id="d4aec-104">Mit dem Crawl Scope Manager (CSM) können Sie Such Stämme für Ihre Datenspeicher zu und aus dem Windows Search-Crawl Bereich hinzufügen und daraus entfernen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-104">The Crawl Scope Manager (CSM) enables you to add and remove search roots for your data stores to and from the Windows Search crawl scope.</span></span>

<span data-ttu-id="d4aec-105">Dieses Thema enthält die folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="d4aec-105">This topic includes the following subjects:</span></span>

-   [<span data-ttu-id="d4aec-106">Informationen zu Such Stämmen</span><span class="sxs-lookup"><span data-stu-id="d4aec-106">About Search Roots</span></span>](#about-search-roots)
-   [<span data-ttu-id="d4aec-107">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="d4aec-107">Before You Begin</span></span>](#before-you-begin)
-   [<span data-ttu-id="d4aec-108">Windows 7: neue Crawl Scope Manager-API</span><span class="sxs-lookup"><span data-stu-id="d4aec-108">Windows 7: New Crawl Scope Manager API</span></span>](#windows-7-new-crawl-scope-manager-api)
-   [<span data-ttu-id="d4aec-109">Hinzufügen von Stämmen zum Crawl Bereich</span><span class="sxs-lookup"><span data-stu-id="d4aec-109">Adding Roots to the Crawl Scope</span></span>](#adding-roots-to-the-crawl-scope)
-   [<span data-ttu-id="d4aec-110">Entfernen von Stämmen aus dem Crawl Bereich</span><span class="sxs-lookup"><span data-stu-id="d4aec-110">Removing Roots from the Crawl Scope</span></span>](#removing-roots-from-the-crawl-scope)
-   [<span data-ttu-id="d4aec-111">Enumerieren von Stämme im Crawl Bereich</span><span class="sxs-lookup"><span data-stu-id="d4aec-111">Enumerating Roots in the Crawl Scope</span></span>](#enumerating-roots-in-the-crawl-scope)
-   [<span data-ttu-id="d4aec-112">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d4aec-112">Related topics</span></span>](#related-topics)

 

## <a name="about-search-roots"></a><span data-ttu-id="d4aec-113">Informationen zu Such Stämmen</span><span class="sxs-lookup"><span data-stu-id="d4aec-113">About Search Roots</span></span>

<span data-ttu-id="d4aec-114">Ein Such Stamm definiert die Basis eines shellnamespaces, in dem bestimmte Bereiche eingeschlossen oder ausgeschlossen werden können, und ist in der Regel der auf der höchsten Ebene enthaltene Container in einem Protokoll, das aufgelistet werden kann.</span><span class="sxs-lookup"><span data-stu-id="d4aec-114">A search root defines the base of a Shell namespace where specific scopes could be included or excluded, and is usually the highest level container in a protocol that can be enumerated.</span></span> <span data-ttu-id="d4aec-115">Sie gibt nicht an, welche Teile dieses Stores indiziert werden sollen oder nicht. Es signalisiert lediglich, dass ein Inhalts Speicher vorhanden ist und einem registrierten Protokollhandler zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="d4aec-115">It does not specify which parts of this store should or should not be indexed; it merely signals that a content store exists and is associated with a registered protocol handler.</span></span> <span data-ttu-id="d4aec-116">Die Syntax zum Identifizieren einer Such Stamm-URL umfasst das Protokoll, die Sicherheits-ID des Stores oder Benutzers, den Pfad und optional ein bestimmtes Element (z. b. eine Datei).</span><span class="sxs-lookup"><span data-stu-id="d4aec-116">The syntax for identifying a search root URL includes the protocol, the store or user's security identifier, the path, and optionally a specific item (like a file).</span></span> <span data-ttu-id="d4aec-117">Die folgenden Beispiele zeigen zwei Formen der Syntax für einen Suchstamm.</span><span class="sxs-lookup"><span data-stu-id="d4aec-117">The following examples show two forms of the syntax for a search root.</span></span>


```
<protocol>://<store or SID>\<path>\[item]
or
<protocol>://<store or SID>/<path>/[item]
```



<span data-ttu-id="d4aec-118"><protocol>Auf das Segment müssen zwei (2) Schrägstriche ("/") folgen, es sei denn, es handelt sich um das file: Protocol-Protokoll, das drei Schrägstriche (file:///) erfordert.</span><span class="sxs-lookup"><span data-stu-id="d4aec-118">The <protocol> segment must be followed by two (2) forward slashes ('/') unless it is the file: protocol, which requires three slashes (file:///).</span></span> <span data-ttu-id="d4aec-119">Das <site or SID> Segment stellt entweder einen Inhalts Speicher oder eine Benutzer Sicherheits-ID dar, wenn der Suchstamm für den Benutzer spezifisch ist.</span><span class="sxs-lookup"><span data-stu-id="d4aec-119">The <site or SID> segment represents either a content store or a user security identifier if the search root is meant to be specific to the user.</span></span> <span data-ttu-id="d4aec-120">Das <path> Segment ist ein Satz von Containern, wie z. b. Verzeichnisse oder Ordner, und kann das Platzhalter Zeichen " \* " enthalten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-120">The <path> segment is a set of containers, like directories or folders, and can include the wildcard character '\*'.</span></span> <span data-ttu-id="d4aec-121">Für</span><span class="sxs-lookup"><span data-stu-id="d4aec-121">The</span></span> <item> <span data-ttu-id="d4aec-122">Segment ist optional und kann auch das Platzhalter Zeichen ' \* ' enthalten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-122">segment is optional and can also include the wildcard character '\*'.</span></span> <span data-ttu-id="d4aec-123">Wenn Sie kein Element einschließen, stellen Sie sicher, dass Sie das Pfad Segment mit einem Schrägstrich beenden, oder der Indexer geht davon aus, dass der letzte unter Container ein Element ist.</span><span class="sxs-lookup"><span data-stu-id="d4aec-123">If you do not include an item, be sure to finish your path segment with a slash or the indexer will assume that the last subcontainer is an item.</span></span>

<span data-ttu-id="d4aec-124">Angenommen, Sie haben einen Protokollhandler (myph) implementiert, um Dateien des Typs " \* . myext" für eine benutzerdefinierte Anwendung zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-124">For example, suppose you have implemented a protocol handler (myPH) to handle files of type \*.myext for a custom application.</span></span> <span data-ttu-id="d4aec-125">Alle diese Dateien befinden sich im Ordner workteama \\ ProjectFiles auf einem lokalen Computer.</span><span class="sxs-lookup"><span data-stu-id="d4aec-125">All of these files will be located in the folder WorkteamA\\ProjectFiles on a local computer.</span></span> <span data-ttu-id="d4aec-126">Der Suchstamm für könnte wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="d4aec-126">The search root for that might look like this:</span></span>

-   <span data-ttu-id="d4aec-127">myPH:///C: \\ workteama \\ ProjectFiles</span><span class="sxs-lookup"><span data-stu-id="d4aec-127">myPH:///C:\\WorkteamA\\ProjectFiles</span></span>\\

<span data-ttu-id="d4aec-128">Angenommen, Sie planen die Einbeziehung aller myext-Dateien, aber nichts anderes aus dem Container in den Index.</span><span class="sxs-lookup"><span data-stu-id="d4aec-128">Suppose you are planning to include all .myext files but nothing else from that container in the index.</span></span> <span data-ttu-id="d4aec-129">Der Suchstamm für könnte wie folgt aussehen:</span><span class="sxs-lookup"><span data-stu-id="d4aec-129">The search root for that might look like this:</span></span>

-   <span data-ttu-id="d4aec-130">myPH:///C: \\ workteama \\ ProjectFiles \\ \* . myext.</span><span class="sxs-lookup"><span data-stu-id="d4aec-130">myPH:///C:\\WorkteamA\\ProjectFiles\\\*.myext.</span></span>

<span data-ttu-id="d4aec-131">Platzhalter Muster definieren URLs mithilfe des Platzhalter Zeichens " \* " und werden als Muster und nicht als URL angesehen, aber die Terminologie wird häufig austauschbar verwendet.</span><span class="sxs-lookup"><span data-stu-id="d4aec-131">Wildcard patterns define URLs by using the wildcard character '\*' and are considered a pattern rather than a URL, but the terminology is often used interchangeably.</span></span> <span data-ttu-id="d4aec-132">Beispielsweise entsprechen file:///C: \\ ProjectA- \\ \* \\ Daten \\ den folgenden URLs:</span><span class="sxs-lookup"><span data-stu-id="d4aec-132">For example, file:///C:\\ProjectA\\\*\\data\\ would match the following URLs:</span></span>

-   <span data-ttu-id="d4aec-133">C: \\ ProjectA \\ **Version1** \\ Daten</span><span class="sxs-lookup"><span data-stu-id="d4aec-133">C:\\ProjectA\\**version1**\\data</span></span>\\
-   <span data-ttu-id="d4aec-134">C: \\ ProjectA \\ **Version2** \\ Daten</span><span class="sxs-lookup"><span data-stu-id="d4aec-134">C:\\ProjectA\\**version2**\\data</span></span>\\

<span data-ttu-id="d4aec-135">Dieses Muster würde jedoch nicht mit dieser URL verglichen werden:</span><span class="sxs-lookup"><span data-stu-id="d4aec-135">But that pattern would not match this URL:</span></span>

-   <span data-ttu-id="d4aec-136">C: \\ ProjectA \\ **Version1 \\** temporäre \\ Daten</span><span class="sxs-lookup"><span data-stu-id="d4aec-136">C:\\ProjectA\\**version1\\temp**\\data</span></span>\\

<span data-ttu-id="d4aec-137">Sie sollten neue Such Stämme für Container erstellen, die sich nicht bereits im Crawl Bereich des Indexers befinden.</span><span class="sxs-lookup"><span data-stu-id="d4aec-137">You should create new search roots for containers that are not already in the crawl scope of the indexer.</span></span> <span data-ttu-id="d4aec-138">Wenn Pfad C: Element \\ Bereich bereits im Crawl Bereich enthalten ist, müssen Sie kein neues Such Stammverzeichnis für C: Element \\ Scope childscope hinzufügen, \\ es sei denn, Sie wissen, dass der untergeordnete Bereich zuvor ausgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="d4aec-138">If path C:\\ParentScope is already included in the crawl scope, you do not need to add a new search root for C:\\ParentScope\\ChildScope unless you know that the child scope was previously excluded.</span></span>

<span data-ttu-id="d4aec-139">Die Benutzeroberfläche zum Festlegen von Windows-Suchoptionen zeigt Such Stämme für Benutzer an, damit Sie die Bereichs Regeln für Ihre Suchvorgänge verfeinern können.</span><span class="sxs-lookup"><span data-stu-id="d4aec-139">The user interface for setting Windows Search options displays search roots to users so they can refine the scope rules for their searches.</span></span> <span data-ttu-id="d4aec-140">Im Rahmen des Installationsvorgangs für Ihren benutzerdefinierten Protokollhandler, Container und/oder Ihre Anwendung können Sie einen Standard-Crawl Bereich mit Einschluss-und Ausschluss Regeln definieren.</span><span class="sxs-lookup"><span data-stu-id="d4aec-140">As part of the installation process for your custom protocol handler, container, and/or application, you might define a default crawl scope, with inclusion and exclusion rules.</span></span> <span data-ttu-id="d4aec-141">Diese Regeln werden Endbenutzern als Standorte angezeigt.</span><span class="sxs-lookup"><span data-stu-id="d4aec-141">These rules are presented to end users as locations.</span></span> <span data-ttu-id="d4aec-142">Benutzer können in den Unterverzeichnissen Ihres vordefinierten Such Stamms navigieren und diejenigen auswählen, die Sie in Durchsuchen einschließen möchten, oder die auszuschließenden löschen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-142">Users can navigate within the subdirectories of your predefined search root and select the ones they want to include in searches or clear the ones they want to exclude.</span></span>

 

## <a name="before-you-begin"></a><span data-ttu-id="d4aec-143">Vorbereitungen</span><span class="sxs-lookup"><span data-stu-id="d4aec-143">Before You Begin</span></span>

<span data-ttu-id="d4aec-144">Bevor Sie eine der CSM-Schnittstellen (Crawl Scope Manager) verwenden können, müssen Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="d4aec-144">Before you can use any of the Crawl Scope Manager (CSM) interfaces, you must perform the following prerequisite steps:</span></span>

1.  <span data-ttu-id="d4aec-145">Erstellen Sie das **crawlsearchmanager** -Objekt, und rufen Sie dessen [**isearchmanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchmanager) -Schnittstelle ab.</span><span class="sxs-lookup"><span data-stu-id="d4aec-145">Create the **CrawlSearchManager** object and obtain its [**ISearchManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchmanager) interface.</span></span>
2.  <span data-ttu-id="d4aec-146">Rufen Sie [**isearchmanager:: getCatalog**](/windows/desktop/api/Searchapi/nf-searchapi-isearchmanager-getcatalog) für "SystemIndex" auf, um eine Instanz einer [**isearchcatalogmanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcatalogmanager) -Schnittstelle zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-146">Call [**ISearchManager::GetCatalog**](/windows/desktop/api/Searchapi/nf-searchapi-isearchmanager-getcatalog) for "SystemIndex" to obtain an instance of an [**ISearchCatalogManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcatalogmanager) interface.</span></span>
3.  <span data-ttu-id="d4aec-147">Rufen Sie [**isearchcatalogmanager:: getcrawlscopemanager**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager-getcrawlscopemanager) auf, um eine Instanz der [**isearchcrawlscopemanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) -Schnittstelle zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-147">Call [**ISearchCatalogManager::GetCrawlScopeManager**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcatalogmanager-getcrawlscopemanager) to obtain an instance of [**ISearchCrawlScopeManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) interface.</span></span>

<span data-ttu-id="d4aec-148">Nachdem Sie die Änderungen am Crawl Scope Manager (CSM) vorgenommen haben, müssen Sie [**isearchcrawlscopemanager:: SaveAll**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager-saveall)ausführen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-148">After making any changes to the Crawl Scope Manager (CSM), you must call [**ISearchCrawlScopeManager::SaveAll**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager-saveall).</span></span> <span data-ttu-id="d4aec-149">Diese Methode nimmt keine Parameter an und gibt \_ bei Erfolg S OK zurück.</span><span class="sxs-lookup"><span data-stu-id="d4aec-149">This method takes no parameters and returns S\_OK on success.</span></span>

 

## <a name="windows-7-new-crawl-scope-manager-api"></a><span data-ttu-id="d4aec-150">Windows 7: neue Crawl Scope Manager-API</span><span class="sxs-lookup"><span data-stu-id="d4aec-150">Windows 7: New Crawl Scope Manager API</span></span>

<span data-ttu-id="d4aec-151">In **Windows 7 und** höher erweitert [**ISearchCrawlScopeManager2**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager2) die Funktionalität der [**isearchcrawlscopemanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="d4aec-151">In **Windows 7 and later**, [**ISearchCrawlScopeManager2**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager2) extends the functionality of the [**ISearchCrawlScopeManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) interface.</span></span> <span data-ttu-id="d4aec-152">Die [**ISearchCrawlScopeManager2:: GetVersion**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager2-getversion) -Methode ruft die CSM-Version ab, mit der Clients informiert werden, wenn sich der Status des CSM geändert hat.</span><span class="sxs-lookup"><span data-stu-id="d4aec-152">The [**ISearchCrawlScopeManager2::GetVersion**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager2-getversion) method gets the Crawl Scope Manager (CSM) version, which informs clients if the state of the CSM has changed.</span></span> <span data-ttu-id="d4aec-153">**ISearchCrawlScopeManager2:: GetVersion** führt nicht zu einem prozessübergreifenden aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-153">**ISearchCrawlScopeManager2::GetVersion** does not result in a cross-process call.</span></span> <span data-ttu-id="d4aec-154">Wenn die Funktion erfolgreich ausgeführt wird, bleibt der zurückgegebene Zeiger gültig, bis der Client **UnmapViewOfFile** für den Zeiger und das **CloseHandle** für das zurückgegebene Handle aufruft.</span><span class="sxs-lookup"><span data-stu-id="d4aec-154">If the function succeeds, then the pointer that is returned remains valid until the client calls **UnmapViewOfFile** on the pointer and **CloseHandle** on the returned handle.</span></span>

 

## <a name="adding-roots-to-the-crawl-scope"></a><span data-ttu-id="d4aec-155">Hinzufügen von Stämmen zum Crawl Bereich</span><span class="sxs-lookup"><span data-stu-id="d4aec-155">Adding Roots to the Crawl Scope</span></span>

<span data-ttu-id="d4aec-156">[**Isearchcrawlscopemanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) weist das Suchmodul an, die Container zu durchforsten und/oder zu überwachen, sowie Elemente unter diesen Containern, die eingeschlossen oder ausgeschlossen werden sollen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-156">The [**ISearchCrawlScopeManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) tells the search engine about containers to crawl and/or watch, and items under those containers to include or exclude.</span></span> <span data-ttu-id="d4aec-157">Zum Hinzufügen eines neuen Such Stamms instanziieren Sie ein [**isearchroot**](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot) -Objekt, legen Sie die Stamm Attribute fest, und geben Sie dann [**isearchcrawlscopemanager:: addroot**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager-addroot) an, und übergeben Sie einen Zeiger auf das **isearchroot** -Objekt.</span><span class="sxs-lookup"><span data-stu-id="d4aec-157">To add a new search root, instantiate an [**ISearchRoot**](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot) object, set the root attributes, and then call [**ISearchCrawlScopeManager::AddRoot**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager-addroot) and pass it a pointer to your **ISearchRoot** object.</span></span> <span data-ttu-id="d4aec-158">Die Stamm-URL für die Suche hat dieselbe Form wie der zuvor beschriebene Such Stamm.</span><span class="sxs-lookup"><span data-stu-id="d4aec-158">The search root URL takes the same form as the search root described earlier.</span></span>

<span data-ttu-id="d4aec-159">In der folgenden Tabelle werden die relevanten Put-Methoden für [**isearchroot**](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot)beschrieben. die anderen Put-Methoden der Schnittstelle werden zurzeit nicht von Windows Search verwendet.</span><span class="sxs-lookup"><span data-stu-id="d4aec-159">The following table describes the relevant put methods for [**ISearchRoot**](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot); the interface's other put methods are not used currently by Windows Search.</span></span> <span data-ttu-id="d4aec-160">Es wird empfohlen, die Sicherheits-IDs (SIDs) der Benutzer in alle Stämme einzubeziehen, um die Sicherheit zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="d4aec-160">We recommend including the users' security identifiers (SIDs) in all roots for better security.</span></span> <span data-ttu-id="d4aec-161">Pro-Benutzer-Stämme sind sicherer, wenn Abfragen in einem benutzerspezifischen Prozess ausgeführt werden. Dadurch wird sichergestellt, dass ein Benutzer die Elemente nicht sehen kann, die beispielsweise aus dem Posteingang eines anderen Benutzers indiziert wurden.</span><span class="sxs-lookup"><span data-stu-id="d4aec-161">Per-user roots are more secure as queries are run in a per-user process, ensuring that one user cannot see items indexed from another user's inbox, for example.</span></span>



| <span data-ttu-id="d4aec-162">Methode</span><span class="sxs-lookup"><span data-stu-id="d4aec-162">Method</span></span>                     | <span data-ttu-id="d4aec-163">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="d4aec-163">Description</span></span>                                                                                                                                                                                         |
|----------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d4aec-164">Bereitstellen von \_ providesbenachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="d4aec-164">put\_ProvidesNotifications</span></span> | <span data-ttu-id="d4aec-165">Auf " **true** " festgelegt, wenn ein Protokollhandler oder eine andere Anwendung das Suchmodul über Änderungen an den URLs unter dem Suchstamm benachrichtigt.</span><span class="sxs-lookup"><span data-stu-id="d4aec-165">Set to **TRUE** if a protocol handler or other application will notify the search engine about changes to the URLs under the search root.</span></span> <span data-ttu-id="d4aec-166">Die Benachrichtigung gibt an, dass die URLs neu indiziert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-166">The notification indicates that the URLs need reindexing.</span></span> |
| <span data-ttu-id="d4aec-167">\_rooturl einfügen</span><span class="sxs-lookup"><span data-stu-id="d4aec-167">put\_RootURL</span></span>               | <span data-ttu-id="d4aec-168">Legt die Stamm-URL der aktuellen Suche fest.</span><span class="sxs-lookup"><span data-stu-id="d4aec-168">Sets the root URL of the current search.</span></span> <span data-ttu-id="d4aec-169">Die URL übernimmt das Such Stamm Formular, das zuvor beschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="d4aec-169">The URL takes the search root form described earlier.</span></span>                                                                                                      |



 

 

<span data-ttu-id="d4aec-170">Standardmäßig durchsucht der Indexer einen Bereich nicht, wenn Sie einen Suchstamm hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-170">By default, the indexer does not crawl a scope when you add a search root.</span></span> <span data-ttu-id="d4aec-171">Außerdem müssen Sie eine include-Regel für den Stamm hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-171">You must also add an include rule for the root.</span></span> <span data-ttu-id="d4aec-172">Wenn Sie einen benutzerspezifischen Stamm für eine Anwendung hinzufügen möchten, sollte diese Anwendung beim Starten der Anwendung die entsprechenden Stämme für neue Benutzer hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-172">If you want to add a user-specific root for an application, that application should add the appropriate roots for new users when the application starts.</span></span>

<span data-ttu-id="d4aec-173">Zum Hinzufügen der entsprechenden Stämme für neue Benutzer:</span><span class="sxs-lookup"><span data-stu-id="d4aec-173">To add the appropriate roots for new users:</span></span>

1.  <span data-ttu-id="d4aec-174">Die SID des Benutzers erhalten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-174">Get the user's SID.</span></span>
2.  <span data-ttu-id="d4aec-175">Listet alle Stämme auf, um zu überprüfen, ob für diese SID vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="d4aec-175">Enumerate all roots to check whether one exists for this SID.</span></span>
3.  <span data-ttu-id="d4aec-176">Fügen Sie ggf. einen neuen Stamm mithilfe der SID hinzu.</span><span class="sxs-lookup"><span data-stu-id="d4aec-176">Add a new root, using the SID, if necessary.</span></span>

 

## <a name="removing-roots-from-the-crawl-scope"></a><span data-ttu-id="d4aec-177">Entfernen von Stämmen aus dem Crawl Bereich</span><span class="sxs-lookup"><span data-stu-id="d4aec-177">Removing Roots from the Crawl Scope</span></span>

<span data-ttu-id="d4aec-178">Sie können [**isearchcrawlscopemanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) verwenden, um einen Stamm aus dem Crawl Bereich zu entfernen, wenn diese URL nicht mehr indiziert werden soll.</span><span class="sxs-lookup"><span data-stu-id="d4aec-178">You can use [**ISearchCrawlScopeManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager) to remove a root from the crawl scope when you no longer want that URL indexed.</span></span> <span data-ttu-id="d4aec-179">Wenn Sie einen Stamm entfernen, werden auch alle Bereichs Regeln für diese URL gelöscht.</span><span class="sxs-lookup"><span data-stu-id="d4aec-179">Removing a root also deletes all scope rules for that URL.</span></span> <span data-ttu-id="d4aec-180">Angenommen, Sie möchten einen Inhalts Speicher und/oder seinen Protokollhandler von einem System deinstallieren.</span><span class="sxs-lookup"><span data-stu-id="d4aec-180">For example, suppose you want to uninstall a content store and/or its protocol handler from a system.</span></span> <span data-ttu-id="d4aec-181">Sie können die Anwendung deinstallieren, alle Daten entfernen und dann das Suchfeld aus dem Crawl Bereich entfernen, und der Crawl Scope-Manager entfernt die Stamm-und alle Bereichs Regeln, die dem Stamm zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="d4aec-181">You can uninstall the application, remove all data, and then remove the search root from the crawl scope, and the Crawl Scope Manager will remove the root and all scope rules associated with the root.</span></span>

<span data-ttu-id="d4aec-182">Um einen vorhandenen Such Stamm zu entfernen, nennen Sie [**isearchcrawlscopemanager:: removeroot**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager-removeroot) mit dem Stammverzeichnis für die Suche, das Sie entfernen möchten.</span><span class="sxs-lookup"><span data-stu-id="d4aec-182">To remove an existing search root, call [**ISearchCrawlScopeManager::RemoveRoot**](/windows/desktop/api/Searchapi/nf-searchapi-isearchcrawlscopemanager-removeroot) with the search root you want to remove.</span></span> <span data-ttu-id="d4aec-183">Die Stamm-URL für die Suche hat dieselbe Form wie der zuvor beschriebene Such Stamm.</span><span class="sxs-lookup"><span data-stu-id="d4aec-183">The search root URL takes the same form as the search root described earlier.</span></span> <span data-ttu-id="d4aec-184">Diese Methode gibt S \_ false zurück, wenn der Stamm nicht gefunden wurde, und einen Fehlercode, wenn beim Entfernen eines gefundenen Stamms ein Fehler aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="d4aec-184">This method returns S\_FALSE if the root is not found and an error code if there was an error removing a root that was found.</span></span>

<span data-ttu-id="d4aec-185">Wenn Sie einen Suchstamm entfernen, wird auch die URL von der Benutzeroberfläche für Windows-Suchoptionen entfernt, sodass Benutzer diesen Container oder Speicherort möglicherweise nicht erneut über die Benutzeroberfläche hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="d4aec-185">Removing a search root also removes the URL from the user interface for Windows Search options, so users may not be able to re-add that container or location using the user interface.</span></span> <span data-ttu-id="d4aec-186">Es ist auch möglich, alle Benutzer Satz Überschreibungen eines Suchstamms zu entfernen und die ursprünglichen Such Stamm-und Bereichs Regeln wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-186">It is also possible to remove all user-set overrides of a search root and revert to the original search root and scope rules.</span></span> <span data-ttu-id="d4aec-187">Weitere Informationen finden Sie unter [Verwalten von Bereichs Regeln](-search-3x-wds-extidx-csm-scoperules.md).</span><span class="sxs-lookup"><span data-stu-id="d4aec-187">For more information, see [Managing Scope Rules](-search-3x-wds-extidx-csm-scoperules.md).</span></span>

> [!Note]  
> <span data-ttu-id="d4aec-188">Wenn Benutzer unter Windows Vista über Benutzerprofile in der Systemsteuerung entfernt werden, entfernt CSM alle Regeln und Stämme mit ihrer sid und entfernt ihre indizierten Elemente aus dem Katalog.</span><span class="sxs-lookup"><span data-stu-id="d4aec-188">On Windows Vista, if users are removed through User Profiles in Control Panel, CSM removes all rules and roots with their SID and removes their indexed items from the catalog.</span></span> <span data-ttu-id="d4aec-189">Unter Windows XP müssen Sie die Stamm Elemente und Regeln der Benutzer manuell entfernen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-189">On Windows XP, you need to remove the users' roots and rules manually.</span></span>

 

 

## <a name="enumerating-roots-in-the-crawl-scope"></a><span data-ttu-id="d4aec-190">Enumerieren von Stämme im Crawl Bereich</span><span class="sxs-lookup"><span data-stu-id="d4aec-190">Enumerating Roots in the Crawl Scope</span></span>

<span data-ttu-id="d4aec-191">Das CSM listet Such Stämme mithilfe einer standardmäßigen Enumeratorschnittstelle im com-Stil, [**ienumsearchroots**](/windows/desktop/api/Searchapi/nn-searchapi-ienumsearchroots), auf.</span><span class="sxs-lookup"><span data-stu-id="d4aec-191">The CSM enumerates search roots using a standard COM-style enumerator interface, [**IEnumSearchRoots**](/windows/desktop/api/Searchapi/nn-searchapi-ienumsearchroots).</span></span> <span data-ttu-id="d4aec-192">Sie können diese Schnittstelle verwenden, um Such Stämme für eine Reihe von Zwecken aufzuzählen.</span><span class="sxs-lookup"><span data-stu-id="d4aec-192">You can use this interface to enumerate search roots for a number of purposes.</span></span> <span data-ttu-id="d4aec-193">Beispielsweise können Sie den gesamten Crawl Bereich auf einer Benutzeroberfläche anzeigen oder ermitteln, ob sich ein bestimmter Stamm oder das untergeordnete Element eines Stamms bereits im Crawl Bereich befindet.</span><span class="sxs-lookup"><span data-stu-id="d4aec-193">For example, you might want to display the entire crawl scope in a user interface, or discover whether a particular root or the child of a root is already in the crawl scope.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="d4aec-194">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d4aec-194">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="d4aec-195">**Referenz**</span><span class="sxs-lookup"><span data-stu-id="d4aec-195">**Reference**</span></span>
</dt> <dt>

[<span data-ttu-id="d4aec-196">**Isearchcrawlscopemanager**</span><span class="sxs-lookup"><span data-stu-id="d4aec-196">**ISearchCrawlScopeManager**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager)
</dt> <dt>

[<span data-ttu-id="d4aec-197">**Isearchroot**</span><span class="sxs-lookup"><span data-stu-id="d4aec-197">**ISearchRoot**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot)
</dt> <dt>

[<span data-ttu-id="d4aec-198">**Ienumsearchroots**</span><span class="sxs-lookup"><span data-stu-id="d4aec-198">**IEnumSearchRoots**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-ienumsearchroots)
</dt> <dt>

<span data-ttu-id="d4aec-199">**Licher**</span><span class="sxs-lookup"><span data-stu-id="d4aec-199">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="d4aec-200">Verwenden des Crawl Scope-Managers</span><span class="sxs-lookup"><span data-stu-id="d4aec-200">Using the Crawl Scope Manager</span></span>](-search-3x-wds-extidx-csm.md)
</dt> <dt>

[<span data-ttu-id="d4aec-201">Verwalten von Bereichs Regeln</span><span class="sxs-lookup"><span data-stu-id="d4aec-201">Managing Scope Rules</span></span>](-search-3x-wds-extidx-csm-scoperules.md)
</dt> </dl>

 

 



