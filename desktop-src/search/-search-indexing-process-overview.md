---
description: In diesem Thema werden die drei Phasen des Indizierungs Prozesses und die jeweiligen primären Komponenten beschrieben, die zeitliche Steuerung der Indizierungs Aktivität erläutert und einige Hinweise für Entwickler von Drittanbietern bereitgestellt, die Ihre Datenspeicher oder Dateiformate indizieren möchten.
ms.assetid: cfba12eb-4123-4b57-8311-d4fc8f9f514e
title: Indizierungsprozess in Windows Search
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87867d5925cd53b237092435bbc9d16428418b4f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103750401"
---
# <a name="indexing-process-in-windows-search"></a><span data-ttu-id="d3777-103">Indizierungsprozess in Windows Search</span><span class="sxs-lookup"><span data-stu-id="d3777-103">Indexing Process in Windows Search</span></span>

<span data-ttu-id="d3777-104">In diesem Thema werden die drei Phasen des Indizierungs Prozesses und die jeweiligen primären Komponenten beschrieben, die zeitliche Steuerung der Indizierungs Aktivität erläutert und einige Hinweise für Entwickler von Drittanbietern bereitgestellt, die Ihre Datenspeicher oder Dateiformate indizieren möchten.</span><span class="sxs-lookup"><span data-stu-id="d3777-104">This topic describes the three stages of the indexing process and the primary components involved in each, explains the timing of indexing activity, and provides some notes for third-party developers who want their data stores or file formats indexed.</span></span>

<span data-ttu-id="d3777-105">Dieses Thema ist wie folgt organisiert:</span><span class="sxs-lookup"><span data-stu-id="d3777-105">This topic is organized as follows:</span></span>

- [<span data-ttu-id="d3777-106">Übersicht</span><span class="sxs-lookup"><span data-stu-id="d3777-106">Overview</span></span>](#overview)
- [<span data-ttu-id="d3777-107">Phase 1: Warteschlangen-URLs für die Indizierung</span><span class="sxs-lookup"><span data-stu-id="d3777-107">Stage 1: Queuing URLs for Indexing</span></span>](#stage-1-queuing-urls-for-indexing)
- [<span data-ttu-id="d3777-108">Phase 2: Crawlen von URLs</span><span class="sxs-lookup"><span data-stu-id="d3777-108">Stage 2: Crawling URLs</span></span>](#stage-2-crawling-urls)
- [<span data-ttu-id="d3777-109">Phase 3: Aktualisieren des Indexes</span><span class="sxs-lookup"><span data-stu-id="d3777-109">Stage 3: Updating the Index</span></span>](#stage-3-updating-the-index)
- [<span data-ttu-id="d3777-110">Planung der Indizierung</span><span class="sxs-lookup"><span data-stu-id="d3777-110">How Indexing is Scheduled</span></span>](#how-indexing-is-scheduled)
- [<span data-ttu-id="d3777-111">Hinweise für Ausführende</span><span class="sxs-lookup"><span data-stu-id="d3777-111">Notes to Implementers</span></span>](#notes-to-implementers)
- [<span data-ttu-id="d3777-112">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d3777-112">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="d3777-113">Übersicht</span><span class="sxs-lookup"><span data-stu-id="d3777-113">Overview</span></span>

<span data-ttu-id="d3777-114">Windows Search unterstützt die Indizierung von Eigenschaften und Inhalten aus Dateien mit unterschiedlichen Dateiformaten, z. b. doc-oder JPEG-Formaten und Daten speichern, wie z. b. das Dateisystem oder Windows Outlook-Postfächer.</span><span class="sxs-lookup"><span data-stu-id="d3777-114">Windows Search supports the indexing of properties and content from files of different file formats, such as .doc or .jpeg formats, and data stores, such as the file system or Windows Outlook mailboxes.</span></span> <span data-ttu-id="d3777-115">Es gibt zwei Arten von Indizes: Wert Indizes, die das Filtern und Sortieren nach dem gesamten Wert einer Eigenschaft und umgekehrten Indizes ermöglichen, die Wörter innerhalb von Texteigenschaften oder Inhalt indizieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-115">There are two kinds of indices: value indices that allow filtering and sorting by the whole value of a property and inverted indices that index words within textual properties or content.</span></span> <span data-ttu-id="d3777-116">Wenn Sie ein benutzerdefiniertes Dateiformat oder einen Datenspeicher haben, müssen Sie verstehen, wie Indizes von Windows durchsucht werden, damit die Elemente korrekt indiziert werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-116">If you have a custom file format or data store, you need to understand how Windows Search indexes in order to get your items indexed correctly.</span></span>

<span data-ttu-id="d3777-117">Der Indizierungsprozess erfolgt in drei Phasen, die von einer Windows-Such Komponente mit dem Namen Gatherer gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-117">The indexing process happens in three stages controlled by a Windows Search component called the gatherer.</span></span> <span data-ttu-id="d3777-118">In der ersten Phase fügt der Gatherer Warteschlangen URLs hinzu.</span><span class="sxs-lookup"><span data-stu-id="d3777-118">In the first stage, the gatherer adds URLs to queues.</span></span> <span data-ttu-id="d3777-119">Die URLs identifizieren Elemente, die indiziert werden sollen, und die Warteschlangen sind nur priorisierte Listen mit URLs.</span><span class="sxs-lookup"><span data-stu-id="d3777-119">The URLs identify items to be indexed, and the queues are merely prioritized lists of URLs.</span></span> <span data-ttu-id="d3777-120">In der zweiten Phase koordiniert der Gatherer andere Windows-Such Komponenten und Komponenten von Drittanbietern, um auf die Elemente zuzugreifen und Daten zu Ihnen zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="d3777-120">In the second stage, the gatherer coordinates other Windows Search and third-party components to access the items and collect data about them.</span></span> <span data-ttu-id="d3777-121">Schließlich werden in der dritten Phase die gesammelten Daten dem Index hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d3777-121">Finally, in the third stage, the data collected is added to the index.</span></span>

<span data-ttu-id="d3777-122">Das folgende Diagramm zeigt die Hauptkomponenten und den Datenfluss durch den Indizierungsprozess.</span><span class="sxs-lookup"><span data-stu-id="d3777-122">The following diagram shows the principal components and flow of data through the indexing process.</span></span> <span data-ttu-id="d3777-123">Beim Sammeln von Daten für den Index sind eine Reihe von Komponenten beteiligt.</span><span class="sxs-lookup"><span data-stu-id="d3777-123">A number of components are involved in collecting data for the index.</span></span> <span data-ttu-id="d3777-124">Einige davon sind Teil der Windows-Suche, und einige Anwendungen stammen von Drittanbieter Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="d3777-124">Some of these are a part of Windows Search, and some come from third-party applications.</span></span> <span data-ttu-id="d3777-125">Wenn Sie einen benutzerdefinierten Datenspeicher oder ein benutzerdefiniertes Dateiformat haben, basiert Windows Search auf dem Protokollhandler und filtert den Zugriff auf URLs und gibt Eigenschaften für die Indizierung aus.</span><span class="sxs-lookup"><span data-stu-id="d3777-125">If you have a custom data store or file format, Windows Search relies on your protocol handler and filter for accessing URLs and emitting properties for indexing.</span></span> <span data-ttu-id="d3777-126">Windows Search-Komponenten sind in blau dargestellt, und Komponenten von Drittanbietern sind grün dargestellt.</span><span class="sxs-lookup"><span data-stu-id="d3777-126">Windows Search components are shown in blue, and third-party components are shown in green.</span></span>

![Diagramm, das die Interaktion zwischen Komponenten während des Indizierungs Prozesses anzeigt](images/indexingcompoverview.jpg)

## <a name="stage-1-queuing-urls-for-indexing"></a><span data-ttu-id="d3777-128">Phase 1: Warteschlangen-URLs für die Indizierung</span><span class="sxs-lookup"><span data-stu-id="d3777-128">Stage 1: Queuing URLs for Indexing</span></span>

<span data-ttu-id="d3777-129">In der ersten Phase der Indizierung sammelt der Gatherer Informationen zu Updates für Datenspeicher, vergleicht diese Informationen mit dem bekannten Crawl Bereich und erstellt dann eine Warteschlangen-URL, die zum Sammeln von Daten für den Index durchlaufen werden soll.</span><span class="sxs-lookup"><span data-stu-id="d3777-129">In the first stage of indexing, the gatherer collects information about updates to data stores, compares that information to the known crawl scope, and then builds a queue of URLs to traverse to collect data for the index.</span></span> <span data-ttu-id="d3777-130">Für Quellen, die nicht auf Benachrichtigungen basieren (z. b. FAT-Laufwerke), initiiert der Gatherer regelmäßig eine vollständige durch Forstung des Durchforstungs Bereichs, sodass die Daten im Index aktuell aufbewahrt werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-130">For sources that are not based on notification, such as FAT drives, the gatherer periodically initiates a full traversal of the crawl scope so that the data in the index is kept fresh.</span></span> <span data-ttu-id="d3777-131">Für Quellen wie NTFS gibt es nur eine einzige durch Forstung, und alles andere wird von Benachrichtigungen aus dem [Aktualitäts Änderungs Journal](/windows/desktop/FileIO/change-journals)verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="d3777-131">For sources such as NTFS, there is only a single crawl and everything else is handled by notifications from the [USN Change Journal](/windows/desktop/FileIO/change-journals).</span></span> <span data-ttu-id="d3777-132">Es gibt auch keinen Crawl von Microsoft Outlook.</span><span class="sxs-lookup"><span data-stu-id="d3777-132">There is also no crawl of Microsoft Outlook.</span></span> <span data-ttu-id="d3777-133">Das folgende Diagramm zeigt eine allgemeine Übersicht über den Warteschlangen Prozess für die nicht-Durchforstungs Indizierung.</span><span class="sxs-lookup"><span data-stu-id="d3777-133">The following diagram shows a high-level view of the queuing process for non-crawl indexing.</span></span>

![Diagramm, das den Abfrageprozess für die nicht-Crawl-Indizierung anzeigt](images/queuingurls.jpg)

<span data-ttu-id="d3777-135">Im restlichen Teil dieses Abschnitts wird erläutert, wie die Windows-Suche bestimmt, welche URLs durchlaufen werden, und es werden einige wichtige Begriffe definiert.</span><span class="sxs-lookup"><span data-stu-id="d3777-135">The rest of this section explains how Windows Search determines what URLs to crawl, and defines some important terms along the way.</span></span>

<span data-ttu-id="d3777-136">**Crawl Bereich**  Der Crawlen Bereich ist ein Satz von URLs, die von Windows Search durchlaufen werden, um Daten zu Elementen zu sammeln, die der Benutzer für schnellere Suchvorgänge indizieren möchte.</span><span class="sxs-lookup"><span data-stu-id="d3777-136">**Crawl Scope**  The crawl scope is a set of URLs that Windows Search traverses to collect data about items that the user wants indexed for faster searches.</span></span> <span data-ttu-id="d3777-137">Bei der Windows-Suche werden dem Crawl Bereich standardmäßig einige URLs hinzugefügt, z. b. Pfade zu den **Dokumenten** und **Bild** Ordnern von Benutzern.</span><span class="sxs-lookup"><span data-stu-id="d3777-137">Windows Search adds some URLs to the crawl scope by default, like paths to users' **Documents** and **Pictures** folders.</span></span> <span data-ttu-id="d3777-138">Andere URLs können von Anwendungen, Benutzern und Gruppenrichtlinie von Drittanbietern hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-138">Other URLs can be added by third-party applications, users, and Group Policy.</span></span> <span data-ttu-id="d3777-139">Und schließlich können sowohl Benutzer als auch Gruppenrichtlinie URLs explizit ausschließen.</span><span class="sxs-lookup"><span data-stu-id="d3777-139">Finally, both users and Group Policy can explicitly exclude URLs.</span></span> <span data-ttu-id="d3777-140">Windows Search übernimmt alle hinzugefügten URLs und entfernt die ausgeschlossenen URLs, um den Crawl Bereich zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="d3777-140">Windows Search takes all the added URLs and removes the excluded URLs to determine the crawl scope.</span></span> <span data-ttu-id="d3777-141">Dies ist der Arbeits Satz von URLs, von denen der Gatherer seine Arbeit startet.</span><span class="sxs-lookup"><span data-stu-id="d3777-141">This is the working set of URLs from which the gatherer begins its work.</span></span>

<span data-ttu-id="d3777-142">**Gatherer**  Der Gatherer ist eine Windows-Such Komponente, die Informationen über URLs innerhalb des Durchforstungs Bereichs sammelt und eine Warteschlange von URLs erstellt, die der Indexer durchforsten kann.</span><span class="sxs-lookup"><span data-stu-id="d3777-142">**Gatherer**  The gatherer is a Windows Search component that collects information about URLs within the crawl scope and creates a queue of URLs for the indexer to crawl.</span></span> <span data-ttu-id="d3777-143">Wenn ein Element im Crawl Bereich hinzugefügt, gelöscht oder aktualisiert wird, wird der Gatherer vom Benachrichtigungs Anbieter des Daten Stores benachrichtigt.</span><span class="sxs-lookup"><span data-stu-id="d3777-143">When an item in the crawl scope is added, deleted, or updated, the gatherer is notified by the data store's notifications provider.</span></span> <span data-ttu-id="d3777-144">Es gibt eine erste durch Forstung, bei der der Gatherer am Stamm des Crawl Bereichs beginnt.</span><span class="sxs-lookup"><span data-stu-id="d3777-144">There is an initial crawl where the gatherer starts at the crawl scope root.</span></span> <span data-ttu-id="d3777-145">Die URL wird an den Protokollhandler und dann an den entsprechenden [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter)weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-145">The URL is passed to the protocol handler and then to the appropriate [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter).</span></span> <span data-ttu-id="d3777-146">Der Filter ist in der Regel eine verzeichnisenumeration, die weitere URLs erzeugt.</span><span class="sxs-lookup"><span data-stu-id="d3777-146">The filter is usually a directory enumeration that produces more URLs.</span></span> <span data-ttu-id="d3777-147">Benachrichtigungen sind der stetige Zustand.</span><span class="sxs-lookup"><span data-stu-id="d3777-147">Notifications are the steady-state.</span></span> <span data-ttu-id="d3777-148">In der Regel verfügt jeder Datenspeicher über einen eigenen Protokollhandler, der diese Benachrichtigungen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="d3777-148">Typically, each data store has its own protocol handler that provides these notifications.</span></span> <span data-ttu-id="d3777-149">Auf dem lokalen Dateisystem fungiert das [Aktualitäts Änderungs Journal](/windows/desktop/FileIO/change-journals) beispielsweise als Benachrichtigungs Anbieter für alle URLs unter dem file://-Protokoll.</span><span class="sxs-lookup"><span data-stu-id="d3777-149">For example, on the local file system, the [USN Change Journal](/windows/desktop/FileIO/change-journals) acts as a notifications provider for all URLs under the file:// protocol.</span></span> <span data-ttu-id="d3777-150">Ebenso fungiert Microsoft Outlook als Benachrichtigungs Anbieter für alle URLs unter dem MAPI://-Protokoll.</span><span class="sxs-lookup"><span data-stu-id="d3777-150">Similarly, Microsoft Outlook acts as a notifications provider for all URLs under the mapi:// protocol.</span></span> <span data-ttu-id="d3777-151">Wenn ein Benutzer eine e-Mail empfängt, verschiebt oder löscht, benachrichtigt Outlook den Gatherer über den geänderten Status der e-Mail.</span><span class="sxs-lookup"><span data-stu-id="d3777-151">When a user receives, moves, or deletes email, Outlook notifies the gatherer of the changed status of the email.</span></span> <span data-ttu-id="d3777-152">Aus diesen Benachrichtigungen erstellt der Gatherer Index Warteschlangen von URLs, die durchsucht werden sollen.</span><span class="sxs-lookup"><span data-stu-id="d3777-152">From these notifications, the gatherer creates indexing queues of URLs to crawl.</span></span>

<span data-ttu-id="d3777-153">**Warteschlangen indizieren**  Die Indizierungs Warteschlangen sind Listen von URLs, die Elemente identifizieren, die indiziert oder neu indiziert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d3777-153">**Indexing Queues**  The indexing queues are lists of URLs that identify items that need to be indexed or re-indexed.</span></span> <span data-ttu-id="d3777-154">Der Gatherer vergleicht die empfangenen URLs von Benachrichtigungs Anbietern mit den URLs im Crawl Bereich.</span><span class="sxs-lookup"><span data-stu-id="d3777-154">The gatherer compares the URLs it receives from notifications providers to the URLs in the crawl scope.</span></span> <span data-ttu-id="d3777-155">Jede URL von Benachrichtigungs Anbietern, die innerhalb des Durchforstungs Bereichs liegt, wird einer Warteschlange hinzugefügt, die der Gatherer verwendet, um festzulegen, welche URLs als Nächstes verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-155">Every URL from notifications providers that falls within the crawl scope is added to a queue that the gatherer uses to prioritize which URLs to process next.</span></span>

<span data-ttu-id="d3777-156">Es gibt drei Warteschlangen: Benachrichtigungen mit hoher Priorität, normale Benachrichtigungen und regelmäßige Crawls.</span><span class="sxs-lookup"><span data-stu-id="d3777-156">There are three queues: high priority notifications, normal notifications, and periodic crawls.</span></span> <span data-ttu-id="d3777-157">Die Warteschlange mit hoher Priorität ist für Benachrichtigungen vorgesehen, die sofort verarbeitet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="d3777-157">The high priority queue is for notifications that should be processed immediately.</span></span> <span data-ttu-id="d3777-158">Wenn ein Benutzer beispielsweise die Title-Eigenschaft eines Elements in Windows-Explorer ändert, muss die Windows Explorer-Ansicht sofort nach der Änderung aktualisiert werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-158">For example, when a user changes an item's title property in Windows Explorer, the Windows Explorer view needs to be updated immediately after the change.</span></span> <span data-ttu-id="d3777-159">Die normale Benachrichtigungs Warteschlange gilt für alle verbleibenden Änderungs Benachrichtigungen.</span><span class="sxs-lookup"><span data-stu-id="d3777-159">The normal notification queue is for all remaining change notifications.</span></span> <span data-ttu-id="d3777-160">Die Benachrichtigungs Warteschlangen werden vor der Durchforstungs Warteschlange verarbeitet, da geänderte Elemente eher für einen Benutzer von Interesse sind.</span><span class="sxs-lookup"><span data-stu-id="d3777-160">The notification queues are processed before the crawl queue because changed items are more likely to be of interest to a user.</span></span> <span data-ttu-id="d3777-161">Der Gatherer greift auf Daten für die URLs in jeder Warteschlange in der First in, First Out (FIFO)-Reihenfolge zu.</span><span class="sxs-lookup"><span data-stu-id="d3777-161">The gatherer accesses data for the URLs on each queue in first in, first out (FIFO) order.</span></span>

<span data-ttu-id="d3777-162">Weitere Informationen zur Priorisierung und zu den in Windows 7 eingeführten APIs finden Sie unter [Indizieren von Priorisierung und rowsetereignissen in Windows 7](indexing-prioritization-and-rowset-events.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-162">For more information on prioritization, and eventing APIs introduced in Windows 7, see [Indexing Prioritization and Rowset Events in Windows 7](indexing-prioritization-and-rowset-events.md).</span></span> <span data-ttu-id="d3777-163">Weitere Informationen zur Verwaltung von Crawl Bereichen und Benachrichtigungen finden Sie unter [Bereitstellen von Änderungs Benachrichtigungen](-search-3x-wds-notifyingofchanges.md) und [Verwenden des Crawl Scope-Managers](-search-3x-wds-extidx-csm.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-163">For more information on crawl scope management and notifications, see [Providing Change Notifications](-search-3x-wds-notifyingofchanges.md) and [Using the Crawl Scope Manager](-search-3x-wds-extidx-csm.md).</span></span>

## <a name="stage-2-crawling-urls"></a><span data-ttu-id="d3777-164">Phase 2: Crawlen von URLs</span><span class="sxs-lookup"><span data-stu-id="d3777-164">Stage 2: Crawling URLs</span></span>

<span data-ttu-id="d3777-165">In der zweiten Phase der Indizierung durchläuft der Gatherer die Warteschlangen, greift auf Datenspeicher zu und ruft Elementdaten Ströme ab.</span><span class="sxs-lookup"><span data-stu-id="d3777-165">In the second stage of indexing, the gatherer crawls through the queues, accessing data stores and retrieving item streams.</span></span> <span data-ttu-id="d3777-166">Zuerst findet der Gatherer den entsprechenden Protokollhandler für jede URL.</span><span class="sxs-lookup"><span data-stu-id="d3777-166">First, the gatherer finds the appropriate protocol handler for each URL.</span></span> <span data-ttu-id="d3777-167">Anschließend übergibt der Gatherer die URL an den Protokollhandler.</span><span class="sxs-lookup"><span data-stu-id="d3777-167">Then, the gatherer passes the URL to the protocol handler.</span></span> <span data-ttu-id="d3777-168">Der Protokollhandler greift auf das Element zu und übergibt die Element Metadaten an den Gatherer zurück.</span><span class="sxs-lookup"><span data-stu-id="d3777-168">The protocol handler accesses the item and passes item metadata back to the gatherer.</span></span> <span data-ttu-id="d3777-169">Der Gatherer verwendet die Metadaten, um den richtigen Filter zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="d3777-169">The gatherer uses the metadata to identify the correct filter.</span></span>

<span data-ttu-id="d3777-170">Das folgende Diagramm zeigt eine allgemeine Übersicht über den URL-Crawlen-Prozess.</span><span class="sxs-lookup"><span data-stu-id="d3777-170">The following diagram shows a high-level view of the URL-crawling process.</span></span> <span data-ttu-id="d3777-171">Diese Phase umfasst eine beträchtliche Koordination und Kommunikation zwischen Komponenten.</span><span class="sxs-lookup"><span data-stu-id="d3777-171">This stage includes considerable coordination and communication between components.</span></span>

![Diagramm zum Durchsuchen von URLs und zum Zugreifen auf Elemente](images/crawlingqueues.jpg)

<span data-ttu-id="d3777-173">Im restlichen Teil dieses Abschnitts wird beschrieben, wie die Windows-Suche auf Elemente für die Indizierung zugreift und die Rollen der beteiligten Komponenten erläutert.</span><span class="sxs-lookup"><span data-stu-id="d3777-173">The rest of this section describes how Windows Search accesses items for indexing and explains the roles of each of the components involved.</span></span>

<span data-ttu-id="d3777-174">**Gatherer**  In Phase 2, der Crawlen-Phase, verarbeitet der Gatherer die URLs in den Warteschlangen, beginnend mit der Warteschlange mit hoher Priorität.</span><span class="sxs-lookup"><span data-stu-id="d3777-174">**Gatherer**  In stage 2, the crawling stage, the gatherer processes the URLs in the queues, beginning with the high priority queue.</span></span> <span data-ttu-id="d3777-175">Jede URL wird untersucht, um Ihr Protokoll zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-175">Each URL is examined to identify its protocol.</span></span> <span data-ttu-id="d3777-176">Der Gatherer sucht dann nach dem Protokollhandler, der für dieses Protokoll registriert ist, und instanziiert ihn im Host Prozess des Suchprotokolls.</span><span class="sxs-lookup"><span data-stu-id="d3777-176">The gatherer then looks up the protocol handler registered for that protocol and instantiates it in the search protocol host process.</span></span>

<span data-ttu-id="d3777-177">**Protokoll Host suchen**  Der Such Protokoll Host ist nur ein geachtelter Host Prozess für Protokollhandler.</span><span class="sxs-lookup"><span data-stu-id="d3777-177">**Search Protocol Host**  The search protocol host is merely a boxed, host process for protocol handlers.</span></span> <span data-ttu-id="d3777-178">In der Regel erstellt Windows Search zwei solche Host Prozesse, eine, die im System Sicherheitskontext ausgeführt wird, und eine, die im Sicherheitskontext des Benutzers ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="d3777-178">Typically, Windows Search creates two such host processes, one that runs in the system security context and one that runs in the user security context.</span></span> <span data-ttu-id="d3777-179">Durch diese Trennung wird sichergestellt, dass Daten, die für einen Benutzer spezifisch sind, niemals im Systemkontext ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-179">This separation ensures that data specific to a user is never run in the system context.</span></span>

<span data-ttu-id="d3777-180">In Windows Search wird auch der Host Prozess verwendet, um eine Instanz eines Protokoll Handlers von anderen Prozessen oder Anwendungen zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-180">Windows Search also uses the host process to isolate an instance of a protocol handler from other processes or applications.</span></span> <span data-ttu-id="d3777-181">Auf diese Weise kann keine externe Anwendung auf diese bestimmte Instanz des Protokoll Handlers zugreifen. wenn der Protokollhandler unerwartet ausfällt, ist nur der Indizierungsprozess betroffen.</span><span class="sxs-lookup"><span data-stu-id="d3777-181">This way, no outside application can access that specific instance of the protocol handler, and if the protocol handler fails unexpectedly, only the indexing process is affected.</span></span> <span data-ttu-id="d3777-182">Da der Host Prozess Code von Drittanbietern (Protokollhandler) ausführt, wird der Prozess von Windows Search in regelmäßigen Abständen wieder verwendet, um die Zeit zu minimieren, mit der bei einem erfolgreichen Angriff Informationen im Prozess ausgenutzt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d3777-182">Because the host process runs third party code (protocol handlers), Windows Search periodically recycles the process to minimize the time a successful attack has to exploit information in the process.</span></span> <span data-ttu-id="d3777-183">Darüber hinaus wirkt sich der Such Protokoll Host nicht auf das Crawlen von URLs oder die Indizierung von Elementen aus.</span><span class="sxs-lookup"><span data-stu-id="d3777-183">Beyond this, the search protocol host does not affect the crawling of URLs or indexing of items.</span></span>

<span data-ttu-id="d3777-184">**Protokollhandler**  Protokollhandler ermöglichen den Zugriff auf Elemente in einem Datenspeicher mit dem Protokoll des Daten Stores.</span><span class="sxs-lookup"><span data-stu-id="d3777-184">**Protocol Handlers**  Protocol handlers provide access to items in a data store using the data store's protocol.</span></span> <span data-ttu-id="d3777-185">Der NTFS-Protokollhandler ermöglicht beispielsweise den Zugriff auf Dateien auf einem lokalen Laufwerk mithilfe des file://-Protokolls.</span><span class="sxs-lookup"><span data-stu-id="d3777-185">For example, the NTFS protocol handler provides access to files on a local drive using the file:// protocol.</span></span> <span data-ttu-id="d3777-186">Der Protokollhandler weiß, wie Sie den Datenspeicher durchlaufen, neue oder aktualisierte Elemente ermitteln und den Gatherer benachrichtigen.</span><span class="sxs-lookup"><span data-stu-id="d3777-186">The protocol handler knows how to traverse the data store, identify new or updated items, and notify the gatherer.</span></span> <span data-ttu-id="d3777-187">Wenn beim Crawlen begonnen wird, stellt der Protokollhandler dem Gatherer ein [**iurlaccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) -Objekt zur Verfügung, das an den zugrunde liegenden Stream des Elements gebunden und Element Metadaten zurückgibt, wie z. b. Sicherheitseinschränkungen und Uhrzeit der letzten Änderung.</span><span class="sxs-lookup"><span data-stu-id="d3777-187">Then, when crawling begins, the protocol handler provides an [**IUrlAccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) object to the gatherer to bind to the item's underlying stream and return item metadata such as security restrictions and last modified time.</span></span>

> [!NOTE]  
> <span data-ttu-id="d3777-188">Protokollhandler sind keine Windows-Such Komponenten. Dabei handelt es sich um Komponenten des spezifischen Protokolls und des Datenspeicher, auf die Sie zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="d3777-188">Protocol handlers are not Windows Search components; they are components of the specific protocol and data store they are designed to access.</span></span> <span data-ttu-id="d3777-189">Wenn Sie einen benutzerdefinierten Datenspeicher haben, den Sie indizieren möchten, müssen Sie einen Protokollhandler implementieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-189">If you have a custom data store you want indexed, you need to implement a protocol handler.</span></span> <span data-ttu-id="d3777-190">Weitere Informationen zu Protokoll Handlern und deren Implementierung finden Sie unter [entwickeln von Protokoll Handlern](-search-3x-wds-phaddins.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-190">For more information on protocol handlers and how to implement one, refer to [Developing Protocol Handlers](-search-3x-wds-phaddins.md).</span></span>

<span data-ttu-id="d3777-191">**Metadaten und Stream**  Mithilfe von Metadaten, die vom [**iurlaccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) -Objekt des Protokoll Handlers zurückgegeben werden, identifiziert der Gatherer den richtigen Filter für die URL.</span><span class="sxs-lookup"><span data-stu-id="d3777-191">**Metadata and Stream**  Using metadata returned by the protocol handler's [**IUrlAccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) object, the gatherer identifies the correct filter for the URL.</span></span> <span data-ttu-id="d3777-192">Der Gatherer analysiert die Dateinamenerweiterung des Elements und sucht den Filter, der für diese Erweiterung registriert ist.</span><span class="sxs-lookup"><span data-stu-id="d3777-192">The gatherer parses the item's file name extension and looks up the filter registered for that extension.</span></span> <span data-ttu-id="d3777-193">Wenn der Gatherer keinen Filter finden kann, verwendet Windows Search die Metadaten, um einen minimalen Satz von System Eigenschafts Informationen (z. b. System. ItemName) abzuleiten und den Index zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-193">If the gatherer is unable to find a filter, Windows Search uses the metadata to derive a minimal set of system property information (like System.ItemName) and updates the index.</span></span> <span data-ttu-id="d3777-194">Wenn der Gatherer den Filter findet, beginnt andernfalls die dritte Phase der Indizierung.</span><span class="sxs-lookup"><span data-stu-id="d3777-194">Otherwise, if the gatherer finds the filter, the third stage of indexing begins.</span></span>

## <a name="stage-3-updating-the-index"></a><span data-ttu-id="d3777-195">Phase 3: Aktualisieren des Indexes</span><span class="sxs-lookup"><span data-stu-id="d3777-195">Stage 3: Updating the Index</span></span>

<span data-ttu-id="d3777-196">In der dritten Phase der Indizierung instanziiert der Gatherer den richtigen Filter für die URL und initialisiert den Filter mit dem Datenstrom aus dem [**iurlaccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) -Objekt.</span><span class="sxs-lookup"><span data-stu-id="d3777-196">In the third stage of indexing, the gatherer instantiates the correct filter for the URL and initializes the filter with the stream from the [**IUrlAccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) object.</span></span> <span data-ttu-id="d3777-197">Der Filter greift dann auf das Element zu und gibt den Inhalt für den Index zurück.</span><span class="sxs-lookup"><span data-stu-id="d3777-197">The filter then accesses the item and returns content for the index.</span></span> <span data-ttu-id="d3777-198">Wenn Sie ein benutzerdefiniertes Dateiformat haben, basiert Windows Search auf dem Filter, um auf URLs zuzugreifen und Inhalt und Eigenschaften für die Indizierung auszugeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-198">If you have a custom file format, Windows Search relies on your filter to access URLs and emit content and properties for indexing.</span></span>

<span data-ttu-id="d3777-199">Das folgende Diagramm zeigt eine allgemeine Übersicht über den Datenzugriffs Vorgang.</span><span class="sxs-lookup"><span data-stu-id="d3777-199">The following diagram shows a high-level view of the data access process.</span></span> <span data-ttu-id="d3777-200">Diese Phase umfasst eine beträchtliche Koordination und Kommunikation zwischen Komponenten.</span><span class="sxs-lookup"><span data-stu-id="d3777-200">This stage includes considerable coordination and communication between components.</span></span>

![Diagramm, das die für den Index ausgegebenen Elementdaten anzeigt](images/filteringdata.jpg)

<span data-ttu-id="d3777-202">Im restlichen Teil dieses Abschnitts wird beschrieben, wie Windows Search auf Elementdaten für die Indizierung zugreift und die Rollen der beteiligten Komponenten erläutert.</span><span class="sxs-lookup"><span data-stu-id="d3777-202">The rest of this section describes how Windows Search accesses item data for indexing and explains the roles of each of the components involved.</span></span>

<span data-ttu-id="d3777-203">**Gatherer**  Am Anfang dieser Phase besteht die Rolle des gatherers darin, den korrekten Filter für das Element zu instanziieren und den Elementdaten Strom zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-203">**Gatherer**  At the beginning of this stage, the gatherer's role is to instantiate the correct filter for the item and pass it the item stream.</span></span> <span data-ttu-id="d3777-204">Am Ende dieser Phase nimmt der Gatherer den Inhalt und die Eigenschaften, die vom Filter-und Eigenschafts Handler ausgegeben werden, und aktualisiert den Index.</span><span class="sxs-lookup"><span data-stu-id="d3777-204">At the end of this stage, the gatherer takes the content and properties emitted by the filter and property handler and updates the index.</span></span>

<span data-ttu-id="d3777-205">**Host Filtern**  Beim Filter Host handelt es sich lediglich um einen Host Prozess für Filter und Eigenschaften Handler, der einem ähnlichen Zweck wie der suchprotokollhost entspricht.</span><span class="sxs-lookup"><span data-stu-id="d3777-205">**Filter Host**  The filter host is merely a host process for filters and property handlers and serves a purpose similar to the search protocol host.</span></span> <span data-ttu-id="d3777-206">Der Host Prozess isoliert Filter und Eigenschaften Handler aus dem Rest des Systems aus den gleichen Sicherheits-und Stabilitätsgründen, die durch Such Protokoll Host Prozesse zum Isolieren von Protokoll Handlern verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-206">The host process isolates filters and property handlers from the rest of the system for the same security and stability reasons that search protocol host processes isolate protocol handlers.</span></span> <span data-ttu-id="d3777-207">Der Host Prozess wird mit minimalen Rechten ausgeführt (er kann nicht einmal auf das Dateisystem zugreifen) und wird gelegentlich wieder verwendet, um vor Sicherheitsangriffen zu schützen.</span><span class="sxs-lookup"><span data-stu-id="d3777-207">The host process runs with minimal rights (it can't even access the file system) and is occasionally recycled to protect against security attacks.</span></span> <span data-ttu-id="d3777-208">Windows Search überwacht auch die Ressourcenverwendung, sodass der Host Prozess wieder verwendet wird, wenn ein Filter zu viele Ressourcen verbraucht.</span><span class="sxs-lookup"><span data-stu-id="d3777-208">Windows Search also monitors resource use so that if a filter consumes too many resources, the host process is recycled.</span></span>

<span data-ttu-id="d3777-209">**Filter**  Filter sind wichtige Komponenten im Indizierungsprozess, die Element Informationen für den Gatherer ausgeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-209">**Filters**  Filters are critical components in the indexing process that emit item information for the gatherer.</span></span> <span data-ttu-id="d3777-210">Filter werden nach der Prinzipal Schnittstelle benannt, die in ihrer Implementierung verwendet wird, der [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) -Schnittstelle und werden folglich auch als IFilters bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="d3777-210">Filters are named after the principal interface used in their implementation, the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface, and consequently are sometimes referred to as IFilters.</span></span> <span data-ttu-id="d3777-211">Es gibt zwei Arten von Filtern: eine, die mit einzelnen Elementen wie Dateien interagiert, und eine, die mit Containern wie Ordnern interagiert.</span><span class="sxs-lookup"><span data-stu-id="d3777-211">There are two kinds of filters: one that interacts with individual items like files and one that interacts with containers like folders.</span></span> <span data-ttu-id="d3777-212">Beide stellen Daten für den Index bereit.</span><span class="sxs-lookup"><span data-stu-id="d3777-212">Both provide data for the index.</span></span>

<span data-ttu-id="d3777-213">Mithilfe von Metadaten, die vom [**iurlaccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) -Objekt des Protokoll Handlers zurückgegeben werden, identifiziert der Gatherer den korrekten Filter für eine bestimmte URL und übergibt ihn an den Stream.</span><span class="sxs-lookup"><span data-stu-id="d3777-213">Using metadata returned by the protocol handler's [**IUrlAccessor**](/windows/desktop/api/Searchapi/nn-searchapi-iurlaccessor) object, the gatherer identifies the correct filter for a particular URL and passes it to the stream.</span></span> <span data-ttu-id="d3777-214">Der Gatherer identifiziert den richtigen Filter entweder über einen Protokollhandler oder über die Dateinamenerweiterung, den MIME-Typ oder den Klassen Bezeichner (CLSID).</span><span class="sxs-lookup"><span data-stu-id="d3777-214">The gatherer identifies the correct filter either through a protocol handler or by the file name extension, MIME type, or class identifier (CLSID).</span></span> <span data-ttu-id="d3777-215">Wenn die URL auf einen Container verweist, gibt der Filtereigenschaften für den Container aus und listet die Elemente im Container (untergeordnete URLs) auf.</span><span class="sxs-lookup"><span data-stu-id="d3777-215">If the URL points to a container, the filter emits properties for the container and enumerates the items in the container (child URLs).</span></span> <span data-ttu-id="d3777-216">Wenn die URL auf ein Element verweist, gibt der Filter den Text Inhalt zurück, wenn das Lesen von Eigenschaften und komplexer ist als Eigenschaften Handler.</span><span class="sxs-lookup"><span data-stu-id="d3777-216">If the URL points to an item, the filter returns the textual content, if any the reading of properties and are more complex than property handlers.</span></span> <span data-ttu-id="d3777-217">Im Allgemeinen wird empfohlen, dass Filterelement Inhalte ausgeben, während Eigenschaften Handler Element Eigenschaften ausgeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-217">Generally, we recommend that filters emit item contents while property handlers emit item properties.</span></span> <span data-ttu-id="d3777-218">Wenn der Filter jedoch mit älteren Anwendungen funktionieren muss, die keine Eigenschafts Handler erkennen, können Sie den Filter implementieren, um auch Eigenschaften auszugeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-218">However, if your filter needs to work with older applications that do not recognize property handlers, you can implement the filter to emit properties as well.</span></span>

> [!NOTE]  
> <span data-ttu-id="d3777-219">Filter sind keine Windows-Such Komponenten; Dabei handelt es sich um Komponenten, die mit dem jeweiligen Dateiformat oder Container verknüpft sind, auf den Sie zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="d3777-219">Filters are not Windows Search components; they are components related to the specific file format or container they are designed to access.</span></span> <span data-ttu-id="d3777-220">Weitere Informationen zu filtern und zum Implementieren eines für ein benutzerdefiniertes Dateiformat oder einen Container finden Sie unter [bewährte Methoden zum Erstellen von Filter Handlern in Windows Search](-search-3x-wds-extidx-filters.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-220">For more information on filters and how to implement one for a custom file format or container, see [Best Practices for Creating Filter Handlers in Windows Search](-search-3x-wds-extidx-filters.md).</span></span>

<span data-ttu-id="d3777-221">In der folgenden Tabelle werden die Ergebnisse aufgelistet, die der Gatherer bei der Indizierung von einem Filter ([**IFilter**](/windows/win32/api/filter/nn-filter-ifilter)) und einem Eigenschafts Handler ([**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore)) empfängt.</span><span class="sxs-lookup"><span data-stu-id="d3777-221">The following table lists the results that the gatherer receives from a filter ([**IFilter**](/windows/win32/api/filter/nn-filter-ifilter)) and property handler ([**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore)) during the indexing process.</span></span>

|                            | [<span data-ttu-id="d3777-222">**IFilter**</span><span class="sxs-lookup"><span data-stu-id="d3777-222">**IFilter**</span></span>](/windows/win32/api/filter/nn-filter-ifilter) | [<span data-ttu-id="d3777-223">**IPropertyStore**</span><span class="sxs-lookup"><span data-stu-id="d3777-223">**IPropertyStore**</span></span>](/windows/win32/api/propsys/nn-propsys-ipropertystore) |
|----------------------------|------------------------------------|-------------------------------------------------|
| <span data-ttu-id="d3777-224">Schreibzugriff zulassen</span><span class="sxs-lookup"><span data-stu-id="d3777-224">Allow write</span></span>                | <span data-ttu-id="d3777-225">Nein</span><span class="sxs-lookup"><span data-stu-id="d3777-225">No</span></span>                                 | <span data-ttu-id="d3777-226">Ja</span><span class="sxs-lookup"><span data-stu-id="d3777-226">Yes</span></span>                                             |
| <span data-ttu-id="d3777-227">Inhalt und Eigenschaften mischen</span><span class="sxs-lookup"><span data-stu-id="d3777-227">Mix content and properties</span></span> | <span data-ttu-id="d3777-228">Ja</span><span class="sxs-lookup"><span data-stu-id="d3777-228">Yes</span></span>                                | <span data-ttu-id="d3777-229">Nein</span><span class="sxs-lookup"><span data-stu-id="d3777-229">No</span></span>                                              |
| <span data-ttu-id="d3777-230">Mehrsprachige</span><span class="sxs-lookup"><span data-stu-id="d3777-230">Multilingual</span></span>               | <span data-ttu-id="d3777-231">Ja</span><span class="sxs-lookup"><span data-stu-id="d3777-231">Yes</span></span>                                | <span data-ttu-id="d3777-232">Nein</span><span class="sxs-lookup"><span data-stu-id="d3777-232">No</span></span>                                              |
| <span data-ttu-id="d3777-233">Links ausgeben</span><span class="sxs-lookup"><span data-stu-id="d3777-233">Emit links</span></span>                 | <span data-ttu-id="d3777-234">Ja</span><span class="sxs-lookup"><span data-stu-id="d3777-234">Yes</span></span>                                | <span data-ttu-id="d3777-235">Nein</span><span class="sxs-lookup"><span data-stu-id="d3777-235">No</span></span>                                              |
| <span data-ttu-id="d3777-236">MIME</span><span class="sxs-lookup"><span data-stu-id="d3777-236">MIME</span></span>                       | <span data-ttu-id="d3777-237">Ja</span><span class="sxs-lookup"><span data-stu-id="d3777-237">Yes</span></span>                                | <span data-ttu-id="d3777-238">Nein</span><span class="sxs-lookup"><span data-stu-id="d3777-238">No</span></span>                                              |
| <span data-ttu-id="d3777-239">Text Begrenzungen</span><span class="sxs-lookup"><span data-stu-id="d3777-239">Text boundaries</span></span>            | <span data-ttu-id="d3777-240">Satz, Absatz, Kapitel</span><span class="sxs-lookup"><span data-stu-id="d3777-240">Sentence, paragraph, chapter</span></span>       | <span data-ttu-id="d3777-241">Keine</span><span class="sxs-lookup"><span data-stu-id="d3777-241">None</span></span>                                            |
| <span data-ttu-id="d3777-242">Client/Server</span><span class="sxs-lookup"><span data-stu-id="d3777-242">Client / server</span></span>            | <span data-ttu-id="d3777-243">Both</span><span class="sxs-lookup"><span data-stu-id="d3777-243">Both</span></span>                               | <span data-ttu-id="d3777-244">Client</span><span class="sxs-lookup"><span data-stu-id="d3777-244">Client</span></span>                                          |
| <span data-ttu-id="d3777-245">Implementierung</span><span class="sxs-lookup"><span data-stu-id="d3777-245">Implementation</span></span>             | <span data-ttu-id="d3777-246">Komplex</span><span class="sxs-lookup"><span data-stu-id="d3777-246">Complex</span></span>                            | <span data-ttu-id="d3777-247">Einfach</span><span class="sxs-lookup"><span data-stu-id="d3777-247">Simple</span></span>                                          |

<span data-ttu-id="d3777-248">**Eigenschaften Handler**  Eigenschafts Handler sind Komponenten, die Eigenschaften für ein bestimmtes Dateiformat lesen und schreiben.</span><span class="sxs-lookup"><span data-stu-id="d3777-248">**Property Handlers**  Property handlers are components that read and write properties for a particular file format.</span></span> <span data-ttu-id="d3777-249">Sie greifen auf Elemente zu und geben Eigenschaften für den Gatherer auf die gleiche Weise aus, wie Filter für Inhalte verwenden.</span><span class="sxs-lookup"><span data-stu-id="d3777-249">They access items and emit properties for the gatherer in the same way that filters do for content.</span></span> <span data-ttu-id="d3777-250">Eigenschaften Handler sind einfacher zu implementieren als Filter.</span><span class="sxs-lookup"><span data-stu-id="d3777-250">Property handlers are easier to implement than filters.</span></span> <span data-ttu-id="d3777-251">Wenn ein textbasiertes Dateiformat sehr einfach ist oder die Dateien sehr klein sind, kann der Eigenschafts Handler sowohl Eigenschaften als auch Inhalt ausgeben.</span><span class="sxs-lookup"><span data-stu-id="d3777-251">If a text-based file format is very simple or the files are expected to be very small, the property handler can emit both properties and content.</span></span>

> [!NOTE]  
> <span data-ttu-id="d3777-252">Eigenschaften Handler sind keine Windows-Such Komponenten. Dabei handelt es sich um Komponenten, die mit dem jeweiligen Dateiformat verknüpft sind, auf das Sie zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="d3777-252">Property handlers are not Windows Search components; they are components related to the specific file format they are designed to access.</span></span> <span data-ttu-id="d3777-253">Weitere Informationen zu Eigenschaften Handlern und zur Implementierung eines für ein benutzerdefiniertes Dateiformat finden Sie unter [entwickeln von Eigenschaften Handlern für Windows Search](-search-3x-wds-extidx-propertyhandlers.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-253">For more information on property handlers and how to implement one for a custom file format, see [Developing Property Handlers for Windows Search](-search-3x-wds-extidx-propertyhandlers.md).</span></span>

<span data-ttu-id="d3777-254">**Eigenschaften** Windows Search bietet ein Eigenschaften [System](https://msdn.microsoft.com/library/bb763010(VS.85).aspx) , das eine umfangreiche Bibliothek von Eigenschaften enthält.</span><span class="sxs-lookup"><span data-stu-id="d3777-254">**Properties** Windows Search provides a [property system](https://msdn.microsoft.com/library/bb763010(VS.85).aspx) that includes a large library of properties.</span></span> <span data-ttu-id="d3777-255">Jede Eigenschaft kann für ein beliebiges Element wie vom Filter oder Eigenschaften Handler definiert angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-255">Any property can appear on any item as defined by the filter or property handler.</span></span> <span data-ttu-id="d3777-256">Wenn Sie ein benutzerdefiniertes Dateiformat haben, können Sie den Eigenschaften des Datei Formats diese Systemeigenschaften zuordnen, und Sie können neue benutzerdefinierte Eigenschaften erstellen.</span><span class="sxs-lookup"><span data-stu-id="d3777-256">If you have a custom file format, you can map your file format's properties to these system properties, and you can create new custom properties.</span></span> <span data-ttu-id="d3777-257">Wenn Ihr Filter oder Eigenschafts Handler diese Eigenschaften ausgibt, aktualisiert der Gatherer den Index, sodass Benutzer mit ihren Eigenschaften suchen können.</span><span class="sxs-lookup"><span data-stu-id="d3777-257">When your filter or property handler emits these properties, the gatherer updates the index so users can search using your properties.</span></span> <span data-ttu-id="d3777-258">Weitere Informationen zum Erstellen und registrieren benutzerdefinierter Eigenschaften für ein Dateiformat finden Sie unter Eigenschaften [System](../properties/building-property-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-258">For more information on creating and registering custom properties for a file format, see [Property System](../properties/building-property-handlers.md).</span></span>

<span data-ttu-id="d3777-259">**SystemIndex**  Der Index namens SystemIndex speichert indizierte Daten und besteht aus einem Eigenschafts Speicher und Indizes über die Eigenschaften und den Inhalt für Element Eigenschaften sowie über einen invertierten Index für Textinhalte und Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="d3777-259">**SystemIndex**  The index, called SystemIndex, stores indexed data and is composed of a property store and indices over the properties and content for item properties, and an inverted index for textual content and properties.</span></span> <span data-ttu-id="d3777-260">Nachdem der Gatherer den Index aktualisiert hat, kann der Index von Windows Search und anderen Anwendungen abgefragt werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-260">After the gatherer updates the index, the index can be queried by Windows Search and other applications.</span></span> <span data-ttu-id="d3777-261">Weitere Informationen zu den Möglichkeiten, den Index abzufragen, finden Sie Unterprogramm gesteuertes [Abfragen des Indexes](-search-3x-wds-qryidx-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-261">For more information on ways to query the index, see [Querying the Index Programmatically](-search-3x-wds-qryidx-overview.md).</span></span>

> [!NOTE]  
> <span data-ttu-id="d3777-262">Beachten Sie, dass beim erneuten Registrieren eines Schemas Änderungen, die an Attributen von zuvor definierten Eigenschaften vorgenommen wurden, vom Indexer möglicherweise nicht beachtet werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-262">Remember that when you re-register a schema, changes made to attributes of previously defined properties may not be respected by the indexer.</span></span> <span data-ttu-id="d3777-263">Die Lösung besteht darin, den Index neu zu erstellen oder neue Eigenschaften einzuführen, die die Änderungen widerspiegeln, anstatt alte zu aktualisieren (nicht empfohlen).</span><span class="sxs-lookup"><span data-stu-id="d3777-263">The solution is either to rebuild the index, or introduce new properties that reflect the changes instead of updating old ones (not recommended).</span></span> <span data-ttu-id="d3777-264">Weitere Informationen finden Sie unter [Hinweis zu Implementierern](#notes-to-implementers) in [Eigenschaften System Übersicht](../properties/property-system-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d3777-264">For more information, see [Note to Implementers](#notes-to-implementers) in [Properties System Overview](../properties/property-system-overview.md).</span></span>

## <a name="how-indexing-is-scheduled"></a><span data-ttu-id="d3777-265">Planung der Indizierung</span><span class="sxs-lookup"><span data-stu-id="d3777-265">How Indexing is Scheduled</span></span>

<span data-ttu-id="d3777-266">Bei der erstmaligen Installation von Windows Search wird eine vollständige Indizierung des Durchforstungs Bereichs durchlaufen, während Zeiträume mit hoher e/a-Leistung und Benutzeraktivität angehalten werden.</span><span class="sxs-lookup"><span data-stu-id="d3777-266">When Windows Search is first installed, it performs a full indexing of the crawl scope, pausing during periods of high I/O and user activity.</span></span> <span data-ttu-id="d3777-267">Der standardmäßige Durchforstungs Bereich besteht aus den Standard Bibliotheks Standorten, z. b. **Dokumenten**, **Musik**, **Bildern** und **Videos**.</span><span class="sxs-lookup"><span data-stu-id="d3777-267">The default crawl scope consists of the default library locations, such as **Documents**, **Music**, **Pictures**, and **Videos**.</span></span> <span data-ttu-id="d3777-268">Benachrichtigungen werden verarbeitet, auch wenn die anfängliche durch Forstung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="d3777-268">Notifications are processed even before the initial crawl is finished.</span></span> <span data-ttu-id="d3777-269">Gelegentlich durchforstet der Gatherer die URLs aus dem vollständigen Crawl Bereich.</span><span class="sxs-lookup"><span data-stu-id="d3777-269">Occasionally, the gatherer crawls the URLs from the full crawl scope.</span></span> <span data-ttu-id="d3777-270">Diese vollständigen Crawls stellen sicher, dass die Daten im Index neu sind.</span><span class="sxs-lookup"><span data-stu-id="d3777-270">These full crawls ensure that the data in the index is fresh.</span></span> <span data-ttu-id="d3777-271">Wenn z. b. ein Benachrichtigungs Anbieter keine Benachrichtigungen sendet oder der Windows Search-Dienst unerwartet beendet wird, hat der Gatherer keine Kenntnisse über neue oder geänderte Elemente und würde diese Elemente nicht indizieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-271">For example, if a notification provider fails to send notifications or if the Windows Search service is terminated unexpectedly, the gatherer would have no knowledge of new or changed items and would not index these items.</span></span> <span data-ttu-id="d3777-272">Es gibt zwei Arten von Quellen: nur Benachrichtigungs-und Benachrichtigungs Aktivierung.</span><span class="sxs-lookup"><span data-stu-id="d3777-272">There are two kinds of sources: notification only and notification enabled.</span></span> <span data-ttu-id="d3777-273">In beiden Quellen crawlt der Gatherer zunächst den Index.</span><span class="sxs-lookup"><span data-stu-id="d3777-273">In both sources, the gatherer initially crawls the index.</span></span> <span data-ttu-id="d3777-274">Nach der ersten durch Forstung werden die reinen Benachrichtigungs Quellen nie eine vollständige durch Forstung ausführen, es sei denn, es tritt ein Fehler auf, z. b. das Rollover des [USN-Änderungs Journals](/windows/desktop/FileIO/change-journals)</span><span class="sxs-lookup"><span data-stu-id="d3777-274">After the initial crawl, the notification-only sources will never do a full crawl again unless there is a failure, such as the [USN Change Journal](/windows/desktop/FileIO/change-journals) rolling over.</span></span> <span data-ttu-id="d3777-275">Benachrichtigungs aktivierte Quellen führen eine inkrementelle durch Forstung aus, wenn der Indexer gestartet wird, während der Ausführung aber Benachrichtigungen überwacht.</span><span class="sxs-lookup"><span data-stu-id="d3777-275">Notification-enabled sources do an incremental crawl when the indexer is started, but then listen to notifications while running.</span></span> <span data-ttu-id="d3777-276">NTFS und Microsoft Outlook sind nur Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="d3777-276">NTFS and Microsoft Outlook are notification only.</span></span> <span data-ttu-id="d3777-277">Internet Explorer und FAT sind Benachrichtigungen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="d3777-277">Internet Explorer and FAT are notification enabled.</span></span>

## <a name="notes-to-implementers"></a><span data-ttu-id="d3777-278">Hinweise für Ausführende</span><span class="sxs-lookup"><span data-stu-id="d3777-278">Notes to Implementers</span></span>

<span data-ttu-id="d3777-279">Die Qualität der Daten im Index und die Effizienz des Indizierungs Prozesses hängen größtenteils von ihrer Filter-und eigenschaftenhandlerimplementierung ab.</span><span class="sxs-lookup"><span data-stu-id="d3777-279">The quality of the data in the index and the efficiency of the indexing process depend largely on your filter and property handler implementation.</span></span> <span data-ttu-id="d3777-280">Da der Filter jedes Mal aufgerufen wird, wenn eine URL das Dateiformat identifiziert, kann sich der Indizierungsprozess erheblich verlangsamen, wenn der Filter ineffizient ist.</span><span class="sxs-lookup"><span data-stu-id="d3777-280">Because the filter is called every time a URL identifies your file format, the indexing process can slow down dramatically if your filter is inefficient.</span></span> <span data-ttu-id="d3777-281">Wenn der Eigenschafts Handler nicht alle Dateieigenschaften ordnungsgemäß den Systemeigenschaften zuordnet oder diese Eigenschaften nicht korrekt ausgibt, sind die Daten im Index falsch, und die Suche nach diesen Eigenschaften gibt falsche Ergebnisse zurück.</span><span class="sxs-lookup"><span data-stu-id="d3777-281">If your property handler doesn't correctly map all file properties to system properties or doesn't correctly emit these properties, the data in the index will be incorrect and later searches for those properties will return incorrect results.</span></span> <span data-ttu-id="d3777-282">Wenn der Filter oder Eigenschafts Handler ausfällt, kann der Indexer keine Daten indizieren.</span><span class="sxs-lookup"><span data-stu-id="d3777-282">If your filter or property handler fails, the indexer won't be able to index data.</span></span>

<span data-ttu-id="d3777-283">Andere Anwendungen und Prozesse als Windows Search basieren auf Protokoll Handlern, Filtern und Eigenschaften Handlern.</span><span class="sxs-lookup"><span data-stu-id="d3777-283">Applications and processes other than Windows Search rely on protocol handlers, filters, and property handlers.</span></span> <span data-ttu-id="d3777-284">Ihre Implementierungen können diese Anwendungen so beeinflussen, wie Sie es möglicherweise nicht erwarten.</span><span class="sxs-lookup"><span data-stu-id="d3777-284">Your implementations can affect those applications in ways you may not expect.</span></span> <span data-ttu-id="d3777-285">Das [Entwicklungs Handbuch für Windows Search](-search-developers-guide-entry-page.md) bietet Ratschläge zu Entwurfsentscheidungen und zum Testen der einzelnen Komponenten.</span><span class="sxs-lookup"><span data-stu-id="d3777-285">The [Windows Search Development Guide](-search-developers-guide-entry-page.md) provides advice on design choices and on testing each of these components.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d3777-286">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d3777-286">Related topics</span></span>

[<span data-ttu-id="d3777-287">Indizierung, Abfragen und Benachrichtigungen in Windows Search</span><span class="sxs-lookup"><span data-stu-id="d3777-287">Indexing, Querying and Notifications in Windows Search</span></span>](-search-3x-wds-included-in-index.md)

[<span data-ttu-id="d3777-288">Was ist im Index enthalten?</span><span class="sxs-lookup"><span data-stu-id="d3777-288">What is Included in the Index</span></span>](-search-indexing-process-overview.md)

[<span data-ttu-id="d3777-289">Abfrageprozess in Windows Search</span><span class="sxs-lookup"><span data-stu-id="d3777-289">Querying Process in Windows Search</span></span>](querying-process--windows-search-.md)

[<span data-ttu-id="d3777-290">Benachrichtigungs Prozess in Windows Search</span><span class="sxs-lookup"><span data-stu-id="d3777-290">Notifications Process in Windows Search</span></span>](-search-3x-wds-support.md)

[<span data-ttu-id="d3777-291">URL-Formatierungs Anforderungen</span><span class="sxs-lookup"><span data-stu-id="d3777-291">URL Formatting Requirements</span></span>](url-formatting-requirements.md)
