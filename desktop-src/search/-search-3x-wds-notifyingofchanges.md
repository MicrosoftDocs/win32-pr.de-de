---
description: Mithilfe der Benachrichtigungs-APIs können die Komponenten den Indexer Benachrichtigen, dass ein Element geändert, verschoben oder gelöscht wurde, und der Warteschlange von URLs des Windows Search-Indexers, die die Indizierung erfordern, Such Bereiche hinzufügen können.
ms.assetid: 817550e2-a256-48d5-9fa6-1ea04f8b8589
title: Benachrichtigen des Index von Änderungen (Windows Search)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f5a89112da20c4010e1fc23fab16778309195d20
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104128601"
---
# <a name="notifying-the-index-of-changes-windows-search"></a><span data-ttu-id="a26f5-103">Benachrichtigen des Index von Änderungen (Windows Search)</span><span class="sxs-lookup"><span data-stu-id="a26f5-103">Notifying the Index of Changes (Windows Search)</span></span>

<span data-ttu-id="a26f5-104">Mithilfe der Benachrichtigungs-APIs können die Komponenten den Indexer Benachrichtigen, dass ein Element geändert, verschoben oder gelöscht wurde, und der Warteschlange von URLs des Windows Search-Indexers, die die Indizierung erfordern, Such Bereiche hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="a26f5-104">By using the notification APIs components can notify the indexer that an item has been changed, moved or deleted, and can add search scopes to the Windows Search indexer's queue of URLs that require indexing.</span></span>

<span data-ttu-id="a26f5-105">Komponenten können den Windows Search-Indexer Benachrichtigen, dass sich die Daten in Ihrem Speicher geändert haben.</span><span class="sxs-lookup"><span data-stu-id="a26f5-105">Components can notify the Windows Search indexer that data in their store has changed.</span></span> <span data-ttu-id="a26f5-106">In der Regel können Sie sich auf die geplanten Crawls des Indexers verlassen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-106">Typically, you can rely on the indexer's scheduled crawls.</span></span> <span data-ttu-id="a26f5-107">Das Bereitstellen von Benachrichtigungen an den Indexer kann jedoch die Leistung verbessern, indem sichergestellt wird, dass der Indexer nicht den gesamten Speicher auf inkrementellen</span><span class="sxs-lookup"><span data-stu-id="a26f5-107">However, providing notifications to the indexer can improve performance by ensuring the indexer doesn't crawl the entire store on incremental indexes.</span></span> <span data-ttu-id="a26f5-108">Dies empfiehlt sich beispielsweise, wenn Sie davon ausgehen, dass der Datenspeicher sehr groß und/oder besonders ausgelastet ist, z. b. ein e-Mail-Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="a26f5-108">For example, this might recommended if you expect your data store to be exceptionally large and/or exceptionally busy, such as an email data store for example.</span></span>

-   [<span data-ttu-id="a26f5-109">Implementieren von mit Indexer verwalteten Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-109">Implementing Indexer-managed Notifications</span></span>](#implementing-indexer-managed-notifications)
    -   [<span data-ttu-id="a26f5-110">Warteschlange für Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-110">Notifications Queue</span></span>](#notifications-queue)
    -   [<span data-ttu-id="a26f5-111">Isearchpersistentitemschangedsink</span><span class="sxs-lookup"><span data-stu-id="a26f5-111">ISearchPersistentItemsChangedSink</span></span>](#isearchpersistentitemschangedsink)
-   [<span data-ttu-id="a26f5-112">Implementieren von vom Anbieter verwalteten Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-112">Implementing Provider-managed Notifications</span></span>](#implementing-provider-managed-notifications)
    -   [<span data-ttu-id="a26f5-113">Warteschlange für Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-113">Notifications Queue</span></span>](#notifications-queue)
    -   [<span data-ttu-id="a26f5-114">Isearchitemschangedsink</span><span class="sxs-lookup"><span data-stu-id="a26f5-114">ISearchItemsChangedSink</span></span>](#isearchitemschangedsink)
    -   [<span data-ttu-id="a26f5-115">Isearchnotifyinlinesite</span><span class="sxs-lookup"><span data-stu-id="a26f5-115">ISearchNotifyInlineSite</span></span>](#isearchnotifyinlinesite)
-   [<span data-ttu-id="a26f5-116">Weitere Ressourcen</span><span class="sxs-lookup"><span data-stu-id="a26f5-116">Additional Resources</span></span>](#additional-resources)
-   [<span data-ttu-id="a26f5-117">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="a26f5-117">Related topics</span></span>](#related-topics)

## <a name="implementing-indexer-managed-notifications"></a><span data-ttu-id="a26f5-118">Implementieren von mit Indexer verwalteten Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-118">Implementing Indexer-managed Notifications</span></span>

<span data-ttu-id="a26f5-119">Durch Indexer verwaltete Benachrichtigungen können Sie den Zugriff auf Ihren Datenspeicher steuern und gleichzeitig die Benachrichtigungs Warteschlange während des gesamten Indizierungs Prozesses beibehalten.</span><span class="sxs-lookup"><span data-stu-id="a26f5-119">Indexer-managed notifications enable you to control access to your data store while freeing you of maintaining the notifications queue throughout the entire indexing process.</span></span> <span data-ttu-id="a26f5-120">Ihr Benachrichtigungs Anbieter muss Änderungen am Datenspeicher überwachen und eine Benachrichtigungs Warteschlange erstellen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-120">Your notifications provider must monitor changes to the data store and create a notifications queue.</span></span> <span data-ttu-id="a26f5-121">Der Anbieter sendet in regelmäßigen Abständen einen Batch mit Änderungs Benachrichtigungen an den Indexer.</span><span class="sxs-lookup"><span data-stu-id="a26f5-121">Periodically, your provider sends a batch of change notifications to the indexer.</span></span> <span data-ttu-id="a26f5-122">Wenn der Indexer Ihre Benachrichtigungen empfängt, wird eine Bestätigung zurückgegeben, und Sie können das Element (e) aus der Warteschlange entfernen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-122">When the indexer receives your notifications, it returns an acknowledgement and you can remove the item(s) from your queue.</span></span> <span data-ttu-id="a26f5-123">Wenn Sie nach einer bestimmten Zeitspanne keine Bestätigung erhalten, können Sie die Benachrichtigungen erneut senden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-123">If after a period of time you do not receive an acknowledgement, you can re-send the notifications.</span></span> <span data-ttu-id="a26f5-124">Im Falle eines Fehlers erstellt der Indexer die interne Warteschlange von Elementen neu, um den Speicher zu durchforsten oder eine inkrementelle durch Forstung durchführen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-124">In case of failure, the indexer rebuilds its internal queue of items to crawl or performs an incremental crawl of the store.</span></span>

<span data-ttu-id="a26f5-125">Um von Indexer verwaltete Benachrichtigungen zu implementieren, müssen Sie Folgendes implementieren:</span><span class="sxs-lookup"><span data-stu-id="a26f5-125">To implement indexer-managed notifications, you need to implement the following:</span></span>

-   <span data-ttu-id="a26f5-126">Ein Mechanismus zum Überwachen von Änderungen im Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="a26f5-126">A mechanism for monitoring changes in your data store.</span></span>
-   <span data-ttu-id="a26f5-127">Eine Datenstruktur, in der Informationen zu diesen Änderungen in die Warteschlange eingereiht werden (mehrere [**Such \_ Elemente mit \_ permanenten \_ Änderungs**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_persistent_change) Strukturen).</span><span class="sxs-lookup"><span data-stu-id="a26f5-127">A data structure to queue up information (multiple [**SEARCH\_ITEM\_PERSISTENT\_CHANGE**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_persistent_change) structures) about those changes.</span></span>
-   <span data-ttu-id="a26f5-128">[**Isearchpersistentitemschangedsink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchpersistentitemschangedsink) -Schnittstelle zum Senden von Benachrichtigungen an den Indexer und zum erhalten von Benachrichtigungs Bestätigungen über den Indexer.</span><span class="sxs-lookup"><span data-stu-id="a26f5-128">[**ISearchPersistentItemsChangedSink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchpersistentitemschangedsink) interface to send your notifications to the indexer and to get notification acknowledgements from the indexer.</span></span>

### <a name="notifications-queue"></a><span data-ttu-id="a26f5-129">Warteschlange für Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-129">Notifications Queue</span></span>

<span data-ttu-id="a26f5-130">Sie müssen jede Änderung in Ihrem Datenspeicher überwachen und in eine Warteschlange stellen, um Sie als Benachrichtigung an den Indexer zu senden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-130">You need to monitor and queue up every change in your data store to send to the indexer as a notification.</span></span> <span data-ttu-id="a26f5-131">Wie viele Benachrichtigungen Sie in die Warteschlange eingereiht haben und wie oft Sie Sie an den Indexer senden, hängt von Ihren Umständen ab.</span><span class="sxs-lookup"><span data-stu-id="a26f5-131">How many notifications you queue up and how frequently you send them to the indexer depends on your circumstance.</span></span> <span data-ttu-id="a26f5-132">Möglicherweise senden Sie einen Benachrichtigungs Stapel für jede *n* -Anzahl von Änderungen oder nach einem Zeitintervall von *t* oder eine Kombination aus beiden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-132">Perhaps you send a batch of notifications for every *n* number of changes or after some *t* time interval, or a combination of the two.</span></span>

<span data-ttu-id="a26f5-133">Der Indexer erwartet, dass die Benachrichtigungen in einem Array aus [**\_ \_ permanenten \_ Änderungs Strukturen für Such Elemente**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_persistent_change) enthalten sind, sodass Sie die Warteschlange möglicherweise ähnlich implementieren.</span><span class="sxs-lookup"><span data-stu-id="a26f5-133">The indexer expects the notifications to come in an array of [**SEARCH\_ITEM\_PERSISTENT\_CHANGE**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_persistent_change) structures, so you may choose to implement your queue similarly.</span></span>

### <a name="isearchpersistentitemschangedsink"></a><span data-ttu-id="a26f5-134">Isearchpersistentitemschangedsink</span><span class="sxs-lookup"><span data-stu-id="a26f5-134">ISearchPersistentItemsChangedSink</span></span>

<span data-ttu-id="a26f5-135">Um auf diese Schnittstelle zuzugreifen, instanziieren Sie zuerst ein [**isearchmanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchmanager) -Objekt, um Zugriff auf ein [**isearchcatalogmanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcatalogmanager) -Objekt zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="a26f5-135">To access this interface, you first instantiate an [**ISearchManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchmanager) object to gain access to an [**ISearchCatalogManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcatalogmanager) object.</span></span> <span data-ttu-id="a26f5-136">Aus diesem **isearchcatalogmanager** -Objekt instanziieren Sie ein [**isearchpersistentitemschangedsink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchpersistentitemschangedsink) -Objekt und benachrichtigen den Indexer der Datenänderungen mit einem Aufruf der **onitemschangi-** Methode.</span><span class="sxs-lookup"><span data-stu-id="a26f5-136">From that **ISearchCatalogManager** object, you instantiate an [**ISearchPersistentItemsChangedSink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchpersistentitemschangedsink) object and notify the indexer of the data changes with a call to the **OnItemsChanged** method.</span></span>

<span data-ttu-id="a26f5-137">Beim aufzurufen dieser Methode fügen Sie die Anzahl der gemeldeten Änderungen und ein Array von [**\_ \_ permanenten \_ Änderungs Strukturen für Such Elemente**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_persistent_change) ein.</span><span class="sxs-lookup"><span data-stu-id="a26f5-137">In the call to this method, you include the number of changes being reported and an array of [**SEARCH\_ITEM\_PERSISTENT\_CHANGE**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_persistent_change) structures.</span></span> <span data-ttu-id="a26f5-138">Sie erhalten ein Array von HR-Abschluss Codes, die angeben, ob jede URL für die Indizierung akzeptiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a26f5-138">You get back an array of HR completion codes indicating whether each URL was accepted for indexing.</span></span> <span data-ttu-id="a26f5-139">Dies ist Ihre Bestätigung durch den Indexer.</span><span class="sxs-lookup"><span data-stu-id="a26f5-139">This is your acknowledgement from the indexer.</span></span>

## <a name="implementing-provider-managed-notifications"></a><span data-ttu-id="a26f5-140">Implementieren von vom Anbieter verwalteten Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-140">Implementing Provider-managed Notifications</span></span>

<span data-ttu-id="a26f5-141">Vom Anbieter verwaltete Benachrichtigungen ermöglichen es Ihnen, den Zugriff auf Ihren Datenspeicher zu steuern und den Fortschritt des Indexers zu überwachen, während er den Windows Search-Katalog aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="a26f5-141">Provider-managed notifications enable you to control access to your data store and to monitor the progress of the indexer as it updates the Windows Search catalog.</span></span> <span data-ttu-id="a26f5-142">Der Anbieter muss Änderungen am Datenspeicher überwachen und eine Benachrichtigungs Warteschlange erstellen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-142">Your provider must monitor changes to the data store and create a notifications queue.</span></span> <span data-ttu-id="a26f5-143">Der Anbieter sendet in regelmäßigen Abständen einen Batch mit Änderungs Benachrichtigungen an den Indexer.</span><span class="sxs-lookup"><span data-stu-id="a26f5-143">Periodically, your provider sends a batch of change notifications to the indexer.</span></span> <span data-ttu-id="a26f5-144">Wenn der Indexer Ihre Benachrichtigungen empfängt, gibt er eine Bestätigung zurück.</span><span class="sxs-lookup"><span data-stu-id="a26f5-144">When the indexer receives your notifications, it returns an acknowledgement.</span></span> <span data-ttu-id="a26f5-145">Wenn Sie nach einer bestimmten Zeitspanne keine Bestätigung erhalten, können Sie die Benachrichtigungen erneut senden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-145">If after a period of time you do not receive an acknowledgement, you can re-send the notifications.</span></span> <span data-ttu-id="a26f5-146">Da der Indexer den Datenspeicher durch crawlt und den Windows Search-Katalog aktualisiert, benachrichtigt er Ihren Anbieter über jedes Katalog Update, und Sie können die Elemente aus der Warteschlange entfernen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-146">As the indexer crawls the data store and updates the Windows Search catalog, it notifies your provider of each catalog update and you can remove the item(s) from your queue.</span></span> <span data-ttu-id="a26f5-147">Der Anbieter behält die Benachrichtigungs Warteschlange in diesem Prozess bei, sodass Sie bei einem Ausfall Benachrichtigungen erneut an den Indexer senden können.</span><span class="sxs-lookup"><span data-stu-id="a26f5-147">Your provider maintains its notification queue throughout this process so that in case of failure, you can resend notifications to the indexer.</span></span>

<span data-ttu-id="a26f5-148">Um vom Anbieter verwaltete Benachrichtigungen zu implementieren, müssen Sie Folgendes implementieren:</span><span class="sxs-lookup"><span data-stu-id="a26f5-148">To implement provider-managed notifications, you need to implement the following:</span></span>

-   <span data-ttu-id="a26f5-149">Ein Mechanismus zum Überwachen von Änderungen im Datenspeicher.</span><span class="sxs-lookup"><span data-stu-id="a26f5-149">A mechanism for monitoring changes in your data store.</span></span>
-   <span data-ttu-id="a26f5-150">Eine Datenstruktur, in der Informationen zu diesen Änderungen in die Warteschlange eingereiht werden (mehrere [**\_ \_ Änderungs Strukturen für Such Elemente**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_change) )</span><span class="sxs-lookup"><span data-stu-id="a26f5-150">A data structure to queue up information (multiple [**SEARCH\_ITEM\_CHANGE**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_change) structures) about those changes.</span></span>
-   <span data-ttu-id="a26f5-151">[**Isearchitemschangedsink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchitemschangedsink) -Schnittstelle zum Senden von Benachrichtigungen an den Indexer und zum erhalten von Benachrichtigungs Bestätigungen über den Indexer.</span><span class="sxs-lookup"><span data-stu-id="a26f5-151">[**ISearchItemsChangedSink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchitemschangedsink) interface to send your notifications to the indexer and to get notification acknowledgements from the indexer.</span></span>
-   <span data-ttu-id="a26f5-152">[**Isearchnotifyinlinesite**](/windows/desktop/api/Searchapi/nn-searchapi-isearchnotifyinlinesite) -Schnittstelle zum Empfangen von Updates über den Status der Indizierung.</span><span class="sxs-lookup"><span data-stu-id="a26f5-152">[**ISearchNotifyInlineSite**](/windows/desktop/api/Searchapi/nn-searchapi-isearchnotifyinlinesite) interface to receive updates about the status of indexing.</span></span>

### <a name="notifications-queue"></a><span data-ttu-id="a26f5-153">Warteschlange für Benachrichtigungen</span><span class="sxs-lookup"><span data-stu-id="a26f5-153">Notifications Queue</span></span>

<span data-ttu-id="a26f5-154">Sie müssen jede Änderung in Ihrem Datenspeicher überwachen und in eine Warteschlange stellen, um Sie als Benachrichtigung an den Indexer zu senden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-154">You need to monitor and queue up every change in your data store to send to the indexer as a notification.</span></span> <span data-ttu-id="a26f5-155">Wie viele Benachrichtigungen Sie in die Warteschlange eingereiht haben und wie oft Sie Sie an den Indexer senden, hängt von Ihren Umständen ab.</span><span class="sxs-lookup"><span data-stu-id="a26f5-155">How many notifications you queue up and how frequently you send them to the indexer depends on your circumstance.</span></span> <span data-ttu-id="a26f5-156">Möglicherweise senden Sie einen Benachrichtigungs Stapel für jede *n* -Anzahl von Änderungen oder nach einem Zeitintervall von *t* oder eine Kombination aus beiden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-156">Perhaps you send a batch of notifications for every *n* number of changes or after some *t* time interval, or a combination of the two.</span></span>

<span data-ttu-id="a26f5-157">Der Indexer erwartet, dass die Benachrichtigungen in ein Array von [**Such \_ Element- \_ Änderungs**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_change) Strukturen kommen, sodass Sie die Änderungs Informationen ähnlich speichern können.</span><span class="sxs-lookup"><span data-stu-id="a26f5-157">The indexer expects the notifications to come in an array of [**SEARCH\_ITEM\_CHANGE**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_change) structures, so you may choose to store change information similarly.</span></span> <span data-ttu-id="a26f5-158">Allerdings müssen Sie auch die Benachrichtigungen, die Sie senden, mit den Bestätigungen und Updates vergleichen können, die vom Indexer zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-158">However, you also need to be able to match the notifications you send with the acknowledgements and updates returned by the indexer.</span></span> <span data-ttu-id="a26f5-159">Möglicherweise möchten Sie auch erkennen können, wie lange es dauert, Bestätigungen zu erhalten, sodass Sie entscheiden können, ob/wann Benachrichtigungen erneut gesendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-159">You may also want to be able to detect how long it takes to get acknowledgements, so you can decide if/when to resend notifications.</span></span>

### <a name="isearchitemschangedsink"></a><span data-ttu-id="a26f5-160">Isearchitemschangedsink</span><span class="sxs-lookup"><span data-stu-id="a26f5-160">ISearchItemsChangedSink</span></span>

<span data-ttu-id="a26f5-161">Um auf diese Schnittstelle zuzugreifen, instanziieren Sie zuerst ein [**isearchmanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchmanager) -Objekt, um Zugriff auf ein [**isearchcatalogmanager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcatalogmanager) -Objekt zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="a26f5-161">To access this interface, you first instantiate an [**ISearchManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchmanager) object to gain access to an [**ISearchCatalogManager**](/windows/desktop/api/Searchapi/nn-searchapi-isearchcatalogmanager) object.</span></span> <span data-ttu-id="a26f5-162">Aus diesem **isearchcatalogmanager** -Objekt instanziieren Sie ein [**isearchitemschangedsink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchitemschangedsink) -Objekt und benachrichtigen den Indexer über die Datenänderungen mit einem Aufruf der **onitemschangi-** Methode.</span><span class="sxs-lookup"><span data-stu-id="a26f5-162">From that **ISearchCatalogManager** object, you instantiate an [**ISearchItemsChangedSink**](/windows/desktop/api/Searchapi/nn-searchapi-isearchitemschangedsink) object and notify the indexer of the data changes with a call to the **OnItemsChanged** method.</span></span>

<span data-ttu-id="a26f5-163">Beim aufzurufen dieser Methode fügen Sie die Anzahl der gemeldeten Änderungen und ein Array von Änderungs Strukturen für [**Such \_ Elemente \_**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_change) ein.</span><span class="sxs-lookup"><span data-stu-id="a26f5-163">In the call to this method, you include the number of changes being reported and an array of [**SEARCH\_ITEM\_CHANGE**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_change) structures.</span></span> <span data-ttu-id="a26f5-164">Sie erhalten ein Array von vom Indexer zugewiesenen DocIds, die jede Änderung darstellen, sowie ein Array von HR-Abschluss Codes, die angeben, ob jede URL für die Indizierung akzeptiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a26f5-164">You get back an array of indexer-assigned DocIds that represent each change as well as an array of HR completion codes indicating whether each URL was accepted for indexing.</span></span> <span data-ttu-id="a26f5-165">Dies ist Ihre Bestätigung vom Indexer, dass Sie Ihre Benachrichtigungen erhalten hat und sich darauf vorbereitet, die Elemente zu indizieren.</span><span class="sxs-lookup"><span data-stu-id="a26f5-165">This is your acknowledgement from the indexer that it has received your notifications and is preparing to index the items.</span></span>

<span data-ttu-id="a26f5-166">Ab diesem Zeitpunkt sendet der Indexer mithilfe der [**isearchnotifyinlinesite**](/windows/desktop/api/Searchapi/nn-searchapi-isearchnotifyinlinesite) -Schnittstelle Updates.</span><span class="sxs-lookup"><span data-stu-id="a26f5-166">From that point forward the indexer sends updates using the [**ISearchNotifyInlineSite**](/windows/desktop/api/Searchapi/nn-searchapi-isearchnotifyinlinesite) interface.</span></span>

### <a name="isearchnotifyinlinesite"></a><span data-ttu-id="a26f5-167">Isearchnotifyinlinesite</span><span class="sxs-lookup"><span data-stu-id="a26f5-167">ISearchNotifyInlineSite</span></span>

<span data-ttu-id="a26f5-168">Um Updates zum Status Ihrer Elemente und des Katalogs zu erhalten, müssen Sie Ihre [**isearchnotifyinlinesite**](/windows/desktop/api/Searchapi/nn-searchapi-isearchnotifyinlinesite) -Schnittstelle beim Indexer registrieren, damit Sie Rückrufe senden kann.</span><span class="sxs-lookup"><span data-stu-id="a26f5-168">In order to get updates about the status of both your items and the catalog, you must register your [**ISearchNotifyInlineSite**](/windows/desktop/api/Searchapi/nn-searchapi-isearchnotifyinlinesite) interface with the indexer so it can send you callbacks.</span></span> <span data-ttu-id="a26f5-169">Jedes Update, das mit [**isearchnotifyinlinesite:: onitemindexedstatuschange**](/windows/desktop/api/Searchapi/nf-searchapi-isearchnotifyinlinesite-onitemindexedstatuschange) gesendet wird, identifiziert die Elemente nach docid, den Status der einzelnen Elemente ([**Such \_ Element- \_ Indizierungs \_ Status**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_indexing_status)) und die Indizierungs Phase ([**Such \_ Indizierungs \_ Phase**](/windows/desktop/api/Searchapi/ne-searchapi-search_indexing_phase)), in der sich die Elemente befinden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-169">Each update sent using [**ISearchNotifyInlineSite::OnItemIndexedStatusChange**](/windows/desktop/api/Searchapi/nf-searchapi-isearchnotifyinlinesite-onitemindexedstatuschange) identifies the items by DocId, the status of each item ([**SEARCH\_ITEM\_INDEXING\_STATUS**](/windows/desktop/api/Searchapi/ns-searchapi-search_item_indexing_status)) and the indexing phase ([**SEARCH\_INDEXING\_PHASE**](/windows/desktop/api/Searchapi/ne-searchapi-search_indexing_phase)) the items are in.</span></span>

<span data-ttu-id="a26f5-170">Sie erhalten nicht nur Updates zum Status der einzelnen Elemente, wie zuvor beschrieben, sondern auch wichtige Informationen zum Status des Katalogs.</span><span class="sxs-lookup"><span data-stu-id="a26f5-170">Not only do you receive updates on the status of each item, as described earlier, you also get important information about the status of the catalog itself.</span></span> <span data-ttu-id="a26f5-171">Der Windows Search-Dienst kann vom Endbenutzer, einer Drittanbieter Anwendung oder einem anderen Fehler unterbrochen oder neu gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-171">The Windows Search service can be interrupted or restarted by the end user, a third party application, or some other failure.</span></span> <span data-ttu-id="a26f5-172">Wenn dies geschieht, benötigen Sie eine Möglichkeit, um zu bestimmen, welche Benachrichtigungen erneut an den Indexer gesendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-172">When this happens, you need a way to determine what notifications to repush to the indexer.</span></span>

<span data-ttu-id="a26f5-173">Die [**isearchnotifyinlinesite:: oncatalogstatuschange**](/windows/desktop/api/Searchapi/nf-searchapi-isearchnotifyinlinesite-oncatalogstatuschange) -Methode, die vom Windows Search-Dienst aufgerufen wird, informiert Clients über den Status des Katalogs mithilfe der in der folgenden Tabelle beschriebenen Parameter.</span><span class="sxs-lookup"><span data-stu-id="a26f5-173">The [**ISearchNotifyInlineSite::OnCatalogStatusChange**](/windows/desktop/api/Searchapi/nf-searchapi-isearchnotifyinlinesite-oncatalogstatuschange) method, called by the Windows Search service, informs clients about the status of the catalog using the parameters described in the following table.</span></span>



| <span data-ttu-id="a26f5-174">Parameter</span><span class="sxs-lookup"><span data-stu-id="a26f5-174">Parameter</span></span>                 | <span data-ttu-id="a26f5-175">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="a26f5-175">Description</span></span>                                                                                                                                           |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a26f5-176">guidcatalogresetsignature</span><span class="sxs-lookup"><span data-stu-id="a26f5-176">guidCatalogResetSignature</span></span> | <span data-ttu-id="a26f5-177">Eine GUID, die das Zurücksetzen des Katalogs darstellt.</span><span class="sxs-lookup"><span data-stu-id="a26f5-177">A GUID representing the catalog reset.</span></span> <span data-ttu-id="a26f5-178">Wenn diese GUID geändert wird, müssen alle Benachrichtigungen erneut gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-178">If this GUID changes, all notifications must be resent.</span></span>                                                        |
| <span data-ttu-id="a26f5-179">guidcheckpointsignature</span><span class="sxs-lookup"><span data-stu-id="a26f5-179">guidCheckPointSignature</span></span>   | <span data-ttu-id="a26f5-180">Eine GUID, die den letzten wiederhergestellten Prüfpunkt darstellt.</span><span class="sxs-lookup"><span data-stu-id="a26f5-180">A GUID representing the last checkpoint restored.</span></span> <span data-ttu-id="a26f5-181">Wenn diese GUID geändert wird, müssen alle seit dem letzten gespeicherten Prüfpunkt gesammelten Benachrichtigungen erneut gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-181">If this GUID changes, all notifications accumulated since the last saved checkpoint must be resent.</span></span> |
| <span data-ttu-id="a26f5-182">dwlastcheckpointnumber</span><span class="sxs-lookup"><span data-stu-id="a26f5-182">dwLastCheckPointNumber</span></span>    | <span data-ttu-id="a26f5-183">Eine Zahl, die den letzten gespeicherten Prüfpunkt angibt.</span><span class="sxs-lookup"><span data-stu-id="a26f5-183">A number indicating the last checkpoint saved.</span></span>                                                                                                        |



 

 

<span data-ttu-id="a26f5-184">Wenn ein Katalog-Prüfpunkt auftritt, aktualisiert der Suchdienst *dwlastcheckpointnumber*, und alle vor diesem Prüfpunkt gesendeten Benachrichtigungen sind sicher und können im Fall eines Dienst Fehlers wieder hergestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a26f5-184">When a catalog checkpoint occurs, the search service updates the *dwLastCheckPointNumber*, and all notifications sent prior to that checkpoint are safe and recoverable in the event of a service failure.</span></span> <span data-ttu-id="a26f5-185">Benachrichtigungs Anbieter müssen nur die Benachrichtigungen, die zwischen Prüfpunkten gesendet werden, nachverfolgen und im Fall einer Katalog Wiederherstellung oder-zurück Setzung erneut pushen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-185">Notifications providers need to track only those notifications sent between checkpoints and repush in case of a catalog restore or reset.</span></span>

<span data-ttu-id="a26f5-186">Wenn eine Katalog Wiederherstellung erfolgt, führt der Suchdienst einen Rollback des Katalogs zum letzten gespeicherten Prüfpunkt aus und aktualisiert die *guidcheckpointsignature*.</span><span class="sxs-lookup"><span data-stu-id="a26f5-186">If a catalog restore occurs, the search service rolls back the catalog to the last saved checkpoint and updates the *guidCheckPointSignature*.</span></span> <span data-ttu-id="a26f5-187">In dieser Situation müssen Benachrichtigungs Anbieter alle seit dem letzten gespeicherten Prüfpunkt akkumulierten Benachrichtigungen, wie von *dwlastcheckpointnumber* identifiziert, erneut pushen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-187">In this situation, notifications providers must repush all notifications accumulated since the most recent saved checkpoint as identified by the *dwLastCheckPointNumber*.</span></span>

<span data-ttu-id="a26f5-188">Wenn ein Katalog zurückgesetzt werden soll, setzt der Suchdienst den gesamten Katalog zurück und aktualisiert die *guidcatalogresetsignature*.</span><span class="sxs-lookup"><span data-stu-id="a26f5-188">If a catalog reset should occur, the search service resets the entire catalog and updates the *guidCatalogResetSignature*.</span></span> <span data-ttu-id="a26f5-189">Der Benachrichtigungs Anbieter muss den gesamten Crawl Bereich erneut pushen.</span><span class="sxs-lookup"><span data-stu-id="a26f5-189">Notifications provider must repush its entire crawl scope again.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="a26f5-190">Weitere Ressourcen</span><span class="sxs-lookup"><span data-stu-id="a26f5-190">Additional Resources</span></span>

-   <span data-ttu-id="a26f5-191">Eine Übersicht über den Indizierungsprozess finden Sie [im Abschnitt zur Indizierung](-search-indexing-process-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a26f5-191">For an overview of the indexing process, see [The Indexing Process](-search-indexing-process-overview.md).</span></span>
-   <span data-ttu-id="a26f5-192">Informationen zu Übersichten des Katalog-Managers und des Katalog-Such-Managers (CSM) finden [Sie unter Verwenden des Katalog-Managers](-search-3x-wds-mngidx-catalog-manager.md) und [Verwenden des Crawl Scope-Managers](-search-3x-wds-extidx-csm.md).</span><span class="sxs-lookup"><span data-stu-id="a26f5-192">For overviews of the Catalog Manager and Catalog Search Manager (CSM), see [Using the Catalog Manager](-search-3x-wds-mngidx-catalog-manager.md) and [Using the Crawl Scope Manager](-search-3x-wds-extidx-csm.md).</span></span>
-   <span data-ttu-id="a26f5-193">Weitere Informationen zum Erstellen eines Shell-Datenspeicher finden Sie unter [Implementieren der grundlegenden Ordner Objekt Schnittstellen](/previous-versions/windows/desktop/legacy/cc144093(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="a26f5-193">For information about creating a Shell data store, see [Implementing the Basic Folder Object Interfaces](/previous-versions/windows/desktop/legacy/cc144093(v=vs.85)).</span></span>

## <a name="related-topics"></a><span data-ttu-id="a26f5-194">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="a26f5-194">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="a26f5-195">**Licher**</span><span class="sxs-lookup"><span data-stu-id="a26f5-195">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="a26f5-196">Entwickeln von Protokoll Handlern</span><span class="sxs-lookup"><span data-stu-id="a26f5-196">Developing Protocol Handlers</span></span>](-search-3x-wds-phaddins.md)
</dt> <dt>

[<span data-ttu-id="a26f5-197">Grundlegendes zu Protokoll Handlern</span><span class="sxs-lookup"><span data-stu-id="a26f5-197">Understanding Protocol Handlers</span></span>](-search-3x-wds-extidx-prot-implementing.md)
</dt> <dt>

[<span data-ttu-id="a26f5-198">Hinzufügen von Symbolen und Kontextmenüs</span><span class="sxs-lookup"><span data-stu-id="a26f5-198">Adding Icons and Context Menus</span></span>](-search-3x-wds-ph-ui-extensions.md)
</dt> <dt>

[<span data-ttu-id="a26f5-199">Code Beispiel: Shellerweiterungen für Protokollhandler</span><span class="sxs-lookup"><span data-stu-id="a26f5-199">Code Sample: Shell Extensions for Protocol Handlers</span></span>](-search-3x-wds-ph-ui-samplecode.md)
</dt> <dt>

[<span data-ttu-id="a26f5-200">Installieren und Registrieren von Protokoll Handlern</span><span class="sxs-lookup"><span data-stu-id="a26f5-200">Installing and Registering Protocol Handlers</span></span>](-search-3x-wds-ph-install-registration.md)
</dt> <dt>

[<span data-ttu-id="a26f5-201">Erstellen eines Suchconnector für einen Protokoll Handler</span><span class="sxs-lookup"><span data-stu-id="a26f5-201">Creating a Search Connector for a Protocol Handler</span></span>](-search-3x-wds-ph-search-connector.md)
</dt> <dt>

[<span data-ttu-id="a26f5-202">Debuggen von Protokoll Handlern</span><span class="sxs-lookup"><span data-stu-id="a26f5-202">Debugging Protocol Handlers</span></span>](-search-ws-protocolhandlertesting.md)
</dt> </dl>

 

 
