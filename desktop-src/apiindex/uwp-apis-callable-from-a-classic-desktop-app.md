---
description: Die allgemeine Regel ist, dass eine Desktop-App eine Windows-Runtime (WinRT)-API aufgerufen werden kann. Einige APIs, einschließlich der XAML-UI-APIs, erfordern jedoch, dass die aufrufenden App über eine Paket Identität verfügt.
ms.assetid: F3808C28-72DE-49B5-A389-EB085EFC02CC
title: WinRT-APIs, die von einer Desktop-App aufgerufen werden können
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9083fbfb16391c626f49b79176fed7a81068c028
ms.sourcegitcommit: 0c786b1682063d0cae0fc43180945183fa2c7981
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/24/2020
ms.locfileid: "104039833"
---
# <a name="calling-winrt-apis-from-a-desktop-app"></a><span data-ttu-id="a0efe-104">Aufrufen von WinRT-APIs aus einer Desktop-App</span><span class="sxs-lookup"><span data-stu-id="a0efe-104">Calling WinRT APIs from a desktop app</span></span>

<span data-ttu-id="a0efe-105">Die allgemeine Regel ist, dass eine Desktop-App eine WinRT-API aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="a0efe-105">The general rule is that a desktop app can call a WinRT API.</span></span> <span data-ttu-id="a0efe-106">Einige APIs, einschließlich der XAML-UI-APIs, erfordern jedoch, dass die aufrufenden App über eine Paket Identität verfügt.</span><span class="sxs-lookup"><span data-stu-id="a0efe-106">However, some APIs, including the XAML UI APIs, require the calling app to have a package identity.</span></span> <span data-ttu-id="a0efe-107">UWP-apps verfügen über ein klar definiertes App-Modell, und Sie verfügen über eine Paket Identität.</span><span class="sxs-lookup"><span data-stu-id="a0efe-107">UWP apps have a well-defined app model, and they have a package identity.</span></span> <span data-ttu-id="a0efe-108">Die anderen Typen von Desktop-apps haben weder ein klar definiertes App-Modell noch eine Paket Identität.</span><span class="sxs-lookup"><span data-stu-id="a0efe-108">The other types of desktop apps have neither a well-defined app model, nor a package identity.</span></span> <span data-ttu-id="a0efe-109">Wenn also eine API eine Paket Identität erfordert, kann Sie von einer WPF-, Windows Forms-oder Win32-app nur aufgerufen werden, wenn die APP [in einem msix-Paket verpackt ist](/windows/msix/desktop/desktop-to-uwp-root).</span><span class="sxs-lookup"><span data-stu-id="a0efe-109">Therefore, if an API requires a package identity, a WPF, Windows Forms, or Win32 app cannot call it unless the app [is packaged in an MSIX package](/windows/msix/desktop/desktop-to-uwp-root).</span></span>

## <a name="the-dualapipartition-attribute"></a><span data-ttu-id="a0efe-110">Das dualapipartition-Attribut</span><span class="sxs-lookup"><span data-stu-id="a0efe-110">The DualApiPartition attribute</span></span>

<span data-ttu-id="a0efe-111">Dies ist der Prozess, der immer dann befolgt werden soll, wenn ein bestimmter WinRT-Vorgang von Ihrer Desktop-App aus aufgerufen werden soll.</span><span class="sxs-lookup"><span data-stu-id="a0efe-111">This is the process to follow whenever there's a particular WinRT that you'd like to call from your desktop app.</span></span> <span data-ttu-id="a0efe-112">Durch diesen Vorgang wird die Frage beantwortet, ob die API von einer Desktop-App aufgerufen werden darf.</span><span class="sxs-lookup"><span data-stu-id="a0efe-112">This process will answer the question of whether the API is allowed to be called from a desktop app.</span></span> <span data-ttu-id="a0efe-113">Besuchen Sie zunächst die [Windows-API-Referenz für Windows-Runtime-apps](/uwp/), suchen Sie das Referenz Thema für die Klasse oder die Member-API, an der Sie interessiert sind, und überprüfen Sie, ob das [**dualapipartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) -Attribut im Abschnitt Attribute aufgeführt ist.</span><span class="sxs-lookup"><span data-stu-id="a0efe-113">First, visit the [Windows API reference for Windows Runtime apps](/uwp/), find the reference topic for the class or member API you're interested in, and check whether the [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) attribute is listed in the Attributes section.</span></span>

## <a name="if-the-dualapipartition-attribute-is-listed"></a><span data-ttu-id="a0efe-114">Wenn das dualapipartition-Attribut aufgelistet ist</span><span class="sxs-lookup"><span data-stu-id="a0efe-114">If the DualApiPartition attribute is listed</span></span>

<span data-ttu-id="a0efe-115">Wenn das Attribut "dualapipartition" aufgeführt wird, benötigt die API nicht, dass die aufrufende App über eine Paket Identität verfügt, und die API kann von jeder Desktop-App aus aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="a0efe-115">If the DualApiPartition attribute is listed, the API does not need the calling app to have a package identity, and the API is allowed to be called from any desktop app.</span></span> <span data-ttu-id="a0efe-116">[**Windows. Devices. geoloation. GeoLocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) ist ein Beispiel. eine APP muss nicht eindeutig identifiziert werden, um Standort Aufgaben ausführen zu können.</span><span class="sxs-lookup"><span data-stu-id="a0efe-116">[**Windows.Devices.Geolocation.Geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) is an example; an app does not need to be uniquely identified in order to perform location tasks.</span></span>

## <a name="if-the-dualapipartition-attribute-is-not-listed"></a><span data-ttu-id="a0efe-117">Wenn das dualapipartition-Attribut nicht aufgeführt ist</span><span class="sxs-lookup"><span data-stu-id="a0efe-117">If the DualApiPartition attribute is not listed</span></span>

<span data-ttu-id="a0efe-118">Wenn das Attribut "dualapipartition" nicht aufgeführt ist, benötigt die API die aufrufenden App für eine Paket Identität.</span><span class="sxs-lookup"><span data-stu-id="a0efe-118">If the DualApiPartition attribute is not listed, the API does need the calling app to have a package identity.</span></span> <span data-ttu-id="a0efe-119">Daher ist eine WPF-, Windows Forms-oder Win32-APP nicht berechtigt, die API aufzurufen, es sei denn, die APP wurde in eine UWP-App konvertiert.</span><span class="sxs-lookup"><span data-stu-id="a0efe-119">Therefore a WPF, Windows Forms, or Win32 app is not allowed to call the API unless the app has been converted to a UWP app.</span></span> <span data-ttu-id="a0efe-120">[**Windows. UI. XAML. Controls. Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) ist ein Beispiel.</span><span class="sxs-lookup"><span data-stu-id="a0efe-120">[**Windows.UI.Xaml.Controls.Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) is an example.</span></span>
