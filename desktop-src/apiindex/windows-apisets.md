---
description: API-Sätze sind funktionale Gruppen von Win32-APIs im Core-Betriebssystem. Sie bieten eine architektonische Trennung von der Host-dll, in der eine gegebene Win32-API definiert ist, und die Funktionsgruppe, zu der die API gehört.
title: Windows-API-Sätze
ms.topic: article
ms.date: 10/14/2020
ms.openlocfilehash: 15c8e6ad8124abf06e6ab3c2a8ca2bcd83772855
ms.sourcegitcommit: db89157e3be911fdce2e543e99faa31fb2403bc8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/18/2020
ms.locfileid: "104474724"
---
# <a name="windows-api-sets"></a><span data-ttu-id="b99f7-104">Windows-API-Sätze</span><span class="sxs-lookup"><span data-stu-id="b99f7-104">Windows API sets</span></span>

<span data-ttu-id="b99f7-105">Alle Versionen von Windows 10 verwenden eine gemeinsame Basis von Betriebssystemkomponenten, die als *zentrales Betriebssystem* bezeichnet werden (in einigen Kontexten wird diese gemeinsame Basis auch als " *onecore*" bezeichnet).</span><span class="sxs-lookup"><span data-stu-id="b99f7-105">All versions of Windows 10 share a common base of OS components that is called the *core OS* (in some contexts this common base is also called *OneCore*).</span></span> <span data-ttu-id="b99f7-106">In den Kern Betriebssystemkomponenten sind Win32-APIs in Funktionsgruppen namens *API-Sätze* organisiert.</span><span class="sxs-lookup"><span data-stu-id="b99f7-106">In core OS components, Win32 APIs are organized into functional groups called *API sets*.</span></span>

<span data-ttu-id="b99f7-107">Der Zweck eines API-Satzes besteht darin, eine architektonische Trennung von der Host-dll bereitzustellen, in der eine gegebene Win32-API implementiert ist, und den funktionalen Vertrag, zu dem die API gehört.</span><span class="sxs-lookup"><span data-stu-id="b99f7-107">The purpose of an API set is to provide an architectural separation from the host DLL in which a given Win32 API is implemented and the functional contract to which the API belongs.</span></span> <span data-ttu-id="b99f7-108">Die Entkopplung, die API-Sätze zwischen Implementierung und Verträge bieten, bietet viele Vorteile für Entwickler.</span><span class="sxs-lookup"><span data-stu-id="b99f7-108">The decoupling that API sets provide between implementation and contracts offers many engineering advantages for developers.</span></span> <span data-ttu-id="b99f7-109">Insbesondere kann die Verwendung von API-Sets in Ihrem Code die Kompatibilität mit allen Windows 10-Geräten verbessern.</span><span class="sxs-lookup"><span data-stu-id="b99f7-109">In particular, using API sets in your code can improve compatibility with all Windows 10 devices.</span></span>

<span data-ttu-id="b99f7-110">API-Sätze berücksichtigen speziell die folgenden Szenarien:</span><span class="sxs-lookup"><span data-stu-id="b99f7-110">API sets specifically address the following scenarios:</span></span>

- <span data-ttu-id="b99f7-111">Obwohl die gesamte Breite der Win32-API auf PCs unterstützt wird, ist nur eine Teilmenge der Win32-API auf anderen Windows 10-Geräten verfügbar, beispielsweise hololens, Xbox und andere Geräte, auf denen Windows 10X ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b99f7-111">Although the full breadth of the Win32 API is supported on PCs, only a subset of the Win32 API is available on other Windows 10 devices such as HoloLens, Xbox, and other devices running Windows 10x.</span></span> <span data-ttu-id="b99f7-112">Der Name des API-Satzes stellt einen Abfrage Mechanismus bereit, um zu erkennen, ob eine API auf einem bestimmten Gerät verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="b99f7-112">The API set name provides a query mechanism to cleanly detect whether an API is available on any given device.</span></span>

- <span data-ttu-id="b99f7-113">Einige Win32-API-Implementierungen sind in DLLs mit unterschiedlichen Namen auf verschiedenen Windows 10-Geräten vorhanden.</span><span class="sxs-lookup"><span data-stu-id="b99f7-113">Some Win32 API implementations exist in DLLs with different names across different Windows 10 devices.</span></span> <span data-ttu-id="b99f7-114">Die Verwendung von API-Satz Namen anstelle von DLL-Namen beim Erkennen von API-Verfügbarkeit und verzögertes Laden von APIs stellt eine korrekte Route zur Implementierung bereit, unabhängig davon, wo die API tatsächlich implementiert ist</span><span class="sxs-lookup"><span data-stu-id="b99f7-114">Using API set names instead of DLL names when detecting API availability and delay loading APIs provide a correct route to the implementation no matter where the API is actually implemented.</span></span>

<span data-ttu-id="b99f7-115">Weitere Informationen finden Sie unter [API-Satz Ladevorgang](api-set-loader-operation.md) und [erkennen der Verfügbarkeit von API-Sets](detect-api-set-availability.md).</span><span class="sxs-lookup"><span data-stu-id="b99f7-115">For more details, see [API set loader operation](api-set-loader-operation.md) and [Detect API set availability](detect-api-set-availability.md).</span></span>

## <a name="linking-to-umbrella-libraries"></a><span data-ttu-id="b99f7-116">Verknüpfen mit Dach Bibliotheken</span><span class="sxs-lookup"><span data-stu-id="b99f7-116">Linking to umbrella libraries</span></span>

<span data-ttu-id="b99f7-117">Um das einschränken Ihres Codes auf Win32-APIs zu vereinfachen, die im Kernbetriebssystem unterstützt werden, stellen wir eine Reihe von *Dach Bibliotheken* bereit.</span><span class="sxs-lookup"><span data-stu-id="b99f7-117">To make it easier to restrict your code to Win32 APIs that are supported in the core OS, we provide a series of *umbrella libraries*.</span></span> <span data-ttu-id="b99f7-118">Beispielsweise stellt eine Bildschirm Bibliothek mit dem Namen "onecore. lib" die Exporte für die Teilmenge der Win32-APIs bereit, die allen Windows 10-Geräten gemeinsam sind.</span><span class="sxs-lookup"><span data-stu-id="b99f7-118">For example, an umbrella library named OneCore.lib provides the exports for the subset of Win32 APIs that are common to all Windows 10 devices.</span></span>

<span data-ttu-id="b99f7-119">Die APIs in einer Oberflächen-Bibliothek können über eine Reihe von Modulen implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="b99f7-119">The APIs in an umbrella library may be implemented across a range of modules.</span></span> <span data-ttu-id="b99f7-120">Diese Details werden von der Umbrella-Bibliothek entfernt, sodass Ihr Code über Windows 10-Versionen und-Geräte hinweg besser portierbar ist.</span><span class="sxs-lookup"><span data-stu-id="b99f7-120">The umbrella library abstracts those details away from you, making your code more portable across Windows 10 versions and devices.</span></span> <span data-ttu-id="b99f7-121">Anstatt mit Bibliotheken wie kernel32. lib und advapi32. lib zu verknüpfen, verknüpfen Sie einfach Ihre Desktop-App oder Ihren Treiber mit der Desktop Bibliothek, die den Satz der wichtigsten Betriebssystem-APIs enthält, an denen Sie interessiert sind.</span><span class="sxs-lookup"><span data-stu-id="b99f7-121">Instead of linking to libraries such as kernel32.lib and advapi32.lib, simply link your desktop app or driver with the umbrella library that contains the set of core OS APIs that you're interested in.</span></span>

<span data-ttu-id="b99f7-122">Weitere Informationen finden Sie unter [Windows](windows-umbrella-libraries.md)-Ober Schirm-Bibliotheken.</span><span class="sxs-lookup"><span data-stu-id="b99f7-122">For more details, see [Windows umbrella libraries](windows-umbrella-libraries.md).</span></span>

## <a name="api-set-contract-names"></a><span data-ttu-id="b99f7-123">API-Satz Vertrags Namen</span><span class="sxs-lookup"><span data-stu-id="b99f7-123">API set contract names</span></span>

<span data-ttu-id="b99f7-124">API-Sätze werden durch einen starken Vertrags Namen identifiziert, der diesen Standard Konventionen folgt, die vom Bibliotheks Lader erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="b99f7-124">API sets are identified by a strong contract name that follows these standard conventions recognized by the library loader.</span></span> 

- <span data-ttu-id="b99f7-125">Der Name muss entweder mit der Zeichen folgen **-API** oder mit **ext-** beginnen.</span><span class="sxs-lookup"><span data-stu-id="b99f7-125">The name must begin either with the string **api-** or **ext-**.</span></span> 
    - <span data-ttu-id="b99f7-126">Namen, die mit **API-** Zeichen beginnen, die auf allen Windows 10-Versionen garantiert vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="b99f7-126">Names that begin with **api-** represent APIs that are guaranteed to exist on all Windows 10 versions.</span></span>
    - <span data-ttu-id="b99f7-127">Namen, die mit **ext** beginnen, repräsentieren APIs, die möglicherweise nicht in allen Windows 10-Versionen vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="b99f7-127">Names that begin with **ext-** represent APIs that may not exist on all Windows 10 versions.</span></span>
- <span data-ttu-id="b99f7-128">Der Name muss auf die Sequenz **l \<n\> - \<n\> - \<n\>** enden, wobei **n** aus Dezimalziffern besteht.</span><span class="sxs-lookup"><span data-stu-id="b99f7-128">The name must end with the sequence **l\<n\>-\<n\>-\<n\>**, where **n** consists of decimal digits.</span></span>
- <span data-ttu-id="b99f7-129">Der Text des Namens kann alphanumerische Zeichen oder Bindestriche ( **-** ) sein.</span><span class="sxs-lookup"><span data-stu-id="b99f7-129">The body of the name can be alphanumeric characters, or dashes (**-**).</span></span>
- <span data-ttu-id="b99f7-130">Für den Namen wird die Groß-/Kleinschreibung nicht beachtet.</span><span class="sxs-lookup"><span data-stu-id="b99f7-130">The name is case insensitive.</span></span>

<span data-ttu-id="b99f7-131">Im folgenden finden Sie einige Beispiele für API-Satz Vertrags Namen:</span><span class="sxs-lookup"><span data-stu-id="b99f7-131">Here are some examples of API set contract names:</span></span>

- <span data-ttu-id="b99f7-132">**API-MS-WIN-Core-ums-L1-1-0**</span><span class="sxs-lookup"><span data-stu-id="b99f7-132">**api-ms-win-core-ums-l1-1-0**</span></span>
- <span data-ttu-id="b99f7-133">**ext-MS-WIN-com-OLE32-L1-1-5**</span><span class="sxs-lookup"><span data-stu-id="b99f7-133">**ext-ms-win-com-ole32-l1-1-5**</span></span>
- <span data-ttu-id="b99f7-134">**ext-MS-WIN-Ntuser-Window-L1-1-0**</span><span class="sxs-lookup"><span data-stu-id="b99f7-134">**ext-ms-win-ntuser-window-l1-1-0**</span></span>
- <span data-ttu-id="b99f7-135">**ext-MS-WIN-Ntuser-Window-L1-1-1**</span><span class="sxs-lookup"><span data-stu-id="b99f7-135">**ext-ms-win-ntuser-window-l1-1-1**</span></span>

<span data-ttu-id="b99f7-136">Sie können einen API-Satz Namen im Kontext eines Lade Programm Vorgangs verwenden, z. b. [LoadLibrary](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) oder [P/aufrufen](/dotnet/standard/native-interop/pinvoke) anstelle eines dll-Modul namens, um eine korrekte Route zur Implementierung sicherzustellen, unabhängig davon, wo die API tatsächlich auf dem aktuellen Gerät implementiert ist.</span><span class="sxs-lookup"><span data-stu-id="b99f7-136">You can use an API set name in the context of a loader operation such as [LoadLibrary](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) or [P/Invoke](/dotnet/standard/native-interop/pinvoke) instead of a DLL module name to ensure a correct route to the implementation no matter where the API is actually implemented on the current device.</span></span> <span data-ttu-id="b99f7-137">Wenn Sie dies tun, müssen Sie jedoch die Zeichenfolge " **. dll** " am Ende des Vertrags namens anfügen.</span><span class="sxs-lookup"><span data-stu-id="b99f7-137">However, when you do this you must append the string **.dll** at the end of the contract name.</span></span> <span data-ttu-id="b99f7-138">Dies ist eine Anforderung des Lade Moduls, ordnungsgemäß zu funktionieren, und wird nicht als Teil des Vertrags namens angesehen.</span><span class="sxs-lookup"><span data-stu-id="b99f7-138">This is a requirement of the loader to function properly, and is not considered actually a part of the contract name.</span></span> <span data-ttu-id="b99f7-139">Obwohl Vertrags Namen in diesem Kontext ähnlich wie DLL-Namen angezeigt werden, unterscheiden Sie sich grundsätzlich von den Namen der dll-Module und verweisen nicht direkt auf eine Datei auf dem Datenträger.</span><span class="sxs-lookup"><span data-stu-id="b99f7-139">Although contract names appear similar to DLL names in this context, they are fundamentally different from DLL module names and do not directly refer to a file on disk.</span></span>

<span data-ttu-id="b99f7-140">Mit der Ausnahme, dass die Zeichenfolge **. dll** in Lade Ladevorgängen angefügt wird, sollten API-Satz Vertrags Namen als unveränderlicher Bezeichner angesehen werden, der einer bestimmten Vertragsversion entspricht.</span><span class="sxs-lookup"><span data-stu-id="b99f7-140">Except for appending the string **.dll** in loader operations, API set contract names should be considered an immutable identifier that corresponds to a specific contract version.</span></span>

## <a name="identifying-api-sets-for-win32-apis"></a><span data-ttu-id="b99f7-141">Identifizieren von API-Sätzen für Win32-APIs</span><span class="sxs-lookup"><span data-stu-id="b99f7-141">Identifying API sets for Win32 APIs</span></span>

<span data-ttu-id="b99f7-142">Um zu ermitteln, ob eine bestimmte Win32-API zu einem API-Satz gehört, überprüfen Sie die Tabelle "Requirements" in der Referenz Dokumentation für die API.</span><span class="sxs-lookup"><span data-stu-id="b99f7-142">To identify whether a particular Win32 API belongs to an API set, review the requirements table in the reference documentation for the API.</span></span> <span data-ttu-id="b99f7-143">Wenn die API zu einem API-Satz gehört, listet die Anforderungs Tabelle im Artikel den Namen des API-Satzes und die Windows-Version auf, in der die API erstmals in den API-Satz eingeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="b99f7-143">If the API belongs to an API set, the requirements table in the article lists the API set name and the Windows version in which the API was first introduced to the API set.</span></span> <span data-ttu-id="b99f7-144">Beispiele für APIs, die zu einem API-Satz gehören, finden Sie in den folgenden Artikeln:</span><span class="sxs-lookup"><span data-stu-id="b99f7-144">For examples of APIs that belong to an API set, see these articles:</span></span>

- [<span data-ttu-id="b99f7-145">Allowsetforegroundwindow</span><span class="sxs-lookup"><span data-stu-id="b99f7-145">AllowSetForegroundWindow</span></span>](/windows/win32/api/winuser/nf-winuser-allowsetforegroundwindow)
- [<span data-ttu-id="b99f7-146">Findwindowsex</span><span class="sxs-lookup"><span data-stu-id="b99f7-146">FindWindowsEx</span></span>](/windows/win32/api/winuser/nf-winuser-findwindowexa)
- [<span data-ttu-id="b99f7-147">Getclassfile</span><span class="sxs-lookup"><span data-stu-id="b99f7-147">GetClassFile</span></span>](/windows/win32/api/objbase/nf-objbase-getclassfile)

## <a name="in-this-section"></a><span data-ttu-id="b99f7-148">In diesem Abschnitt</span><span class="sxs-lookup"><span data-stu-id="b99f7-148">In this section</span></span>

* [<span data-ttu-id="b99f7-149">API-Satz-Ladevorgang</span><span class="sxs-lookup"><span data-stu-id="b99f7-149">API set loader operation</span></span>](api-set-loader-operation.md)
* [<span data-ttu-id="b99f7-150">API-Satz-Verfügbarkeit erkennen</span><span class="sxs-lookup"><span data-stu-id="b99f7-150">Detect API set availability</span></span>](detect-api-set-availability.md)
* [<span data-ttu-id="b99f7-151">Übergeordnete Windows-Bibliothek</span><span class="sxs-lookup"><span data-stu-id="b99f7-151">Windows umbrella libraries</span></span>](windows-umbrella-libraries.md)