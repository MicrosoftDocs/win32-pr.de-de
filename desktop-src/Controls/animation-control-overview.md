---
title: Informationen zu Animations Steuerelementen
description: Ein Animations Steuerelement ist ein Fenster, in dem ein Audio-Video Interleaved (AVI)-Clip angezeigt wird. Ein AVI-Clip ist eine Reihe von bitmapframes, wie z. b. einem Film. Von Animations Steuerelementen können nur AVI-Clips angezeigt werden, die keine Audiodaten enthalten.
ms.assetid: 6be69d1a-5b2c-41d5-b6d7-e86ddac2cb0d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1625828e5f4febce7314da365c9db93ce3a07136
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "106341563"
---
# <a name="about-animation-controls"></a><span data-ttu-id="c6397-105">Informationen zu Animations Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="c6397-105">About Animation Controls</span></span>

<span data-ttu-id="c6397-106">Ein *Animations Steuer* Element ist ein Fenster, in dem ein Audio-Video Interleaved (AVI)-Clip angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c6397-106">An *animation control* is a window that displays an Audio-Video Interleaved (AVI) clip.</span></span> <span data-ttu-id="c6397-107">Ein AVI-Clip ist eine Reihe von bitmapframes, wie z. b. einem Film.</span><span class="sxs-lookup"><span data-stu-id="c6397-107">An AVI clip is a series of bitmap frames like a movie.</span></span> <span data-ttu-id="c6397-108">Von Animations Steuerelementen können nur AVI-Clips angezeigt werden, die keine Audiodaten enthalten.</span><span class="sxs-lookup"><span data-stu-id="c6397-108">Animation controls can only display AVI clips that do not contain audio.</span></span>

<span data-ttu-id="c6397-109">Ein Animations Steuerelement wird häufig verwendet, um die Systemaktivität während eines langen Vorgangs anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="c6397-109">One common use for an animation control is to indicate system activity during a lengthy operation.</span></span> <span data-ttu-id="c6397-110">Dies ist möglich, da der Vorgangs Thread weiterhin ausgeführt wird, während der AVI-Clip angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="c6397-110">This is possible because the operation thread continues executing while the AVI clip is displayed.</span></span> <span data-ttu-id="c6397-111">Im Dialogfeld Suchen von Windows Explorer wird z. b. ein beweglicher Vergrößerungsglas angezeigt, während das System nach einer Datei sucht.</span><span class="sxs-lookup"><span data-stu-id="c6397-111">For example, the Find dialog box of Windows Explorer displays a moving magnifying glass as the system searches for a file.</span></span>

> [!Note]  
> <span data-ttu-id="c6397-112">Wenn Sie ComCtl32.dll Version 6 verwenden, wird der Thread nicht unterstützt. Stellen Sie sicher, dass die Benutzeroberfläche nicht von der Anwendung blockiert wird, da andernfalls keine Animation stattfindet.</span><span class="sxs-lookup"><span data-stu-id="c6397-112">If you are using ComCtl32.dll version 6 the thread is not supported; make sure that your application does not block the UI, or else the animation will not occur.</span></span>

 

<span data-ttu-id="c6397-113">Ein Animations Steuerelement kann einen AVI-Clip anzeigen, der aus einer unkomprimierten AVI-Datei oder aus einer mit der Lauf Zeit Länge (BI RLE8) komprimierten AVI-Datei stammt \_ .</span><span class="sxs-lookup"><span data-stu-id="c6397-113">An animation control can display an AVI clip originating from either an uncompressed AVI file or from an AVI file that was compressed using run-length (BI\_RLE8) encoding.</span></span> <span data-ttu-id="c6397-114">Sie können den AVI-Clip als AVI-Ressource zu Ihrer Anwendung hinzufügen, oder der Clip kann die Anwendung als separate AVI-Datei begleiten.</span><span class="sxs-lookup"><span data-stu-id="c6397-114">You can add the AVI clip to your application as an AVI resource, or the clip can accompany your application as a separate AVI file.</span></span>

> [!Note]  
> <span data-ttu-id="c6397-115">Die AVI-Datei bzw. Ressource darf keinen Audiokanal aufweisen.</span><span class="sxs-lookup"><span data-stu-id="c6397-115">The AVI file, or resource, must not have a sound channel.</span></span> <span data-ttu-id="c6397-116">Die Funktionen des Animations Steuer Elements sind sehr eingeschränkt und können geändert werden.</span><span class="sxs-lookup"><span data-stu-id="c6397-116">The capabilities of the animation control are very limited and are subject to change.</span></span> <span data-ttu-id="c6397-117">Wenn Sie ein Steuerelement benötigen, um Multimedia-Wiedergabe-und Aufzeichnungsfunktionen für Ihre Anwendung bereitzustellen, können Sie das mciwnd-Steuerelement verwenden.</span><span class="sxs-lookup"><span data-stu-id="c6397-117">If you need a control to provide multimedia playback and recording capabilities for your application, you can use the MCIWnd control.</span></span> <span data-ttu-id="c6397-118">Weitere Informationen finden Sie unter [mciwnd Window Class](/windows/desktop/Multimedia/mciwnd-window-class).</span><span class="sxs-lookup"><span data-stu-id="c6397-118">For more information, see [MCIWnd Window Class](/windows/desktop/Multimedia/mciwnd-window-class).</span></span>

 

<span data-ttu-id="c6397-119">In diesem Abschnitt werden die folgenden Themen behandelt.</span><span class="sxs-lookup"><span data-stu-id="c6397-119">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="c6397-120">Erstellen eines Animations Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="c6397-120">Animation Control Creation</span></span>](#animation-control-creation)
-   [<span data-ttu-id="c6397-121">Informationen zu Animations Steuerungs Meldungen</span><span class="sxs-lookup"><span data-stu-id="c6397-121">About Animation Control Messages</span></span>](#about-animation-control-messages)
-   [<span data-ttu-id="c6397-122">Standard Nachrichtenverarbeitung</span><span class="sxs-lookup"><span data-stu-id="c6397-122">Default Message Processing</span></span>](#default-message-processing)

## <a name="animation-control-creation"></a><span data-ttu-id="c6397-123">Erstellen eines Animations Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="c6397-123">Animation Control Creation</span></span>

<span data-ttu-id="c6397-124">Ein Animations Steuerelement gehört zur [**animieren \_ Class**](common-control-window-classes.md) Window-Klasse.</span><span class="sxs-lookup"><span data-stu-id="c6397-124">An animation control belongs to the [**ANIMATE\_CLASS**](common-control-window-classes.md) window class.</span></span> <span data-ttu-id="c6397-125">Sie erstellen ein Animations Steuerelement mit der Funktion "up [**Window**](/windows/desktop/api/winuser/nf-winuser-createwindowa) " oder "up Create [**" oder dem**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) Makro " [**animieren \_ Erstellen**](/windows/desktop/api/Commctrl/nf-commctrl-animate_create) ".</span><span class="sxs-lookup"><span data-stu-id="c6397-125">You create an animation control by using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or the [**Animate\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-animate_create) macro.</span></span> <span data-ttu-id="c6397-126">Das-Makro positioniert das Animations Steuerelement in der oberen linken Ecke des übergeordneten Fensters und legt die Breite und Höhe des Steuer Elements auf der Grundlage der Abmessungen eines Frames im AVI-Clip fest, wenn der [**ACS- \_ Mittelwert**](animation-control-styles.md) nicht angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="c6397-126">The macro positions the animation control in the upper-left corner of the parent window and, if the [**ACS\_CENTER**](animation-control-styles.md) style is not specified, sets the width and height of the control based on the dimensions of a frame in the AVI clip.</span></span> <span data-ttu-id="c6397-127">Wenn **ACS \_ Center** angegeben ist, legt **animieren \_ Create** die Breite und Höhe des Steuer Elements auf 0 (null) fest.</span><span class="sxs-lookup"><span data-stu-id="c6397-127">If **ACS\_CENTER** is specified, **Animate\_Create** sets the width and height of the control to zero.</span></span> <span data-ttu-id="c6397-128">Sie können die [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) -Funktion verwenden, um die Position und Größe des Steuer Elements festzulegen.</span><span class="sxs-lookup"><span data-stu-id="c6397-128">You can use the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function to set the position and size of the control.</span></span>

<span data-ttu-id="c6397-129">Wenn Sie ein Animations Steuerelement in einem Dialogfeld oder einer Dialogfeld Ressource erstellen, wird das Steuerelement automatisch zerstört, wenn der Benutzer das Dialogfeld schließt.</span><span class="sxs-lookup"><span data-stu-id="c6397-129">If you create an animation control within a dialog box or from a dialog box resource, the control is automatically destroyed when the user closes the dialog box.</span></span> <span data-ttu-id="c6397-130">Wenn Sie ein Animations Steuerelement in einem Fenster erstellen, müssen Sie das Steuerelement explizit zerstören.</span><span class="sxs-lookup"><span data-stu-id="c6397-130">If you create an animation control within a window, you must explicitly destroy the control.</span></span>

## <a name="about-animation-control-messages"></a><span data-ttu-id="c6397-131">Informationen zu Animations Steuerungs Meldungen</span><span class="sxs-lookup"><span data-stu-id="c6397-131">About Animation Control Messages</span></span>

<span data-ttu-id="c6397-132">Eine Anwendung sendet Nachrichten an ein Animations Steuerelement, um den entsprechenden AVI-Clip zu öffnen, wiederzugeben, zu beenden und zu schließen.</span><span class="sxs-lookup"><span data-stu-id="c6397-132">An application sends messages to an animation control to open, play, stop, and close the corresponding AVI clip.</span></span> <span data-ttu-id="c6397-133">Jede Nachricht verfügt über ein oder mehrere Makros, die Sie verwenden können, statt die Nachricht explizit zu senden.</span><span class="sxs-lookup"><span data-stu-id="c6397-133">Each message has one or more macros that you can use instead of sending the message explicitly.</span></span>

<span data-ttu-id="c6397-134">Nach dem Erstellen eines Animations Steuer Elements sendet eine Anwendung die [**\_ geöffnete ACM**](acm-open.md) -Nachricht, um einen AVI-Clip zu öffnen und in den Arbeitsspeicher zu laden.</span><span class="sxs-lookup"><span data-stu-id="c6397-134">After creating an animation control, an application sends the [**ACM\_OPEN**](acm-open.md) message to open an AVI clip and load it into memory.</span></span> <span data-ttu-id="c6397-135">Die Meldung gibt entweder den Pfad einer AVI-Datei oder den Namen einer AVI-Ressource an.</span><span class="sxs-lookup"><span data-stu-id="c6397-135">The message specifies either the path of an AVI file or the name of an AVI resource.</span></span> <span data-ttu-id="c6397-136">Das System lädt die AVI-Ressource aus dem Modul, das das Animations Steuerelement erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="c6397-136">The system loads the AVI resource from the module that created the animation control.</span></span>

<span data-ttu-id="c6397-137">Wenn das Animations Steuerelement über die [**ACS- \_ AutoPlay**](animation-control-styles.md) -Art verfügt, beginnt das Steuerelement, den AVI-Clip sofort nach dem Öffnen der AVI-Datei oder der AVI-Ressource abspielen.</span><span class="sxs-lookup"><span data-stu-id="c6397-137">If the animation control has the [**ACS\_AUTOPLAY**](animation-control-styles.md) style, the control begins playing the AVI clip immediately after the AVI file or AVI resource is opened.</span></span> <span data-ttu-id="c6397-138">Andernfalls kann eine Anwendung die [**ACM- \_ Wiedergabe**](acm-play.md) Nachricht verwenden, um den AVI-Clip zu starten.</span><span class="sxs-lookup"><span data-stu-id="c6397-138">Otherwise, an application can use the [**ACM\_PLAY**](acm-play.md) message to start the AVI clip.</span></span> <span data-ttu-id="c6397-139">Eine Anwendung kann den Clip jederzeit beenden, indem Sie die [**ACM- \_ Stoppnachricht**](acm-stop.md) sendet.</span><span class="sxs-lookup"><span data-stu-id="c6397-139">An application can stop the clip at any time by sending the [**ACM\_STOP**](acm-stop.md) message.</span></span> <span data-ttu-id="c6397-140">Der letzte wiedergegebene Frame wird angezeigt, wenn das-Steuerelement die Wiedergabe des AVI-Clips oder das Senden von **ACM \_** beendet hat.</span><span class="sxs-lookup"><span data-stu-id="c6397-140">The last frame played remains displayed when the control finishes playing the AVI clip or when **ACM\_STOP** is sent.</span></span>

<span data-ttu-id="c6397-141">Ein Animations Steuerelement kann zwei Benachrichtigungs Codes an das übergeordnete Fenster senden: [ACN \_ Start](acn-start.md) und [ACN \_ Beenden](acn-stop.md).</span><span class="sxs-lookup"><span data-stu-id="c6397-141">An animation control can send two notification codes to its parent window: [ACN\_START](acn-start.md) and [ACN\_STOP](acn-stop.md).</span></span> <span data-ttu-id="c6397-142">Die meisten Anwendungen verarbeiten keine Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="c6397-142">Most applications do not handle either notification.</span></span>

<span data-ttu-id="c6397-143">Um die AVI-Datei oder die AVI-Ressource zu schließen und aus dem Arbeitsspeicher zu entfernen, kann eine Anwendung das [**animieren \_ Close**](/windows/desktop/api/Commctrl/nf-commctrl-animate_close) -Makro verwenden, das [**ACM \_ geöffnet**](acm-open.md) sendet, wobei der Dateiname oder der Ressourcen Name auf **null** festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="c6397-143">To close the AVI file or AVI resource and remove it from memory, an application can use the [**Animate\_Close**](/windows/desktop/api/Commctrl/nf-commctrl-animate_close) macro, which sends [**ACM\_OPEN**](acm-open.md) with the file name or resource name set to **NULL**.</span></span>

## <a name="default-message-processing"></a><span data-ttu-id="c6397-144">Standard Nachrichtenverarbeitung</span><span class="sxs-lookup"><span data-stu-id="c6397-144">Default Message Processing</span></span>

<span data-ttu-id="c6397-145">In diesem Abschnitt werden die Fenster Meldungen beschrieben, die von der Fenster Prozedur für die Animation [**\_ Class**](common-control-window-classes.md) Window Class behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="c6397-145">This section describes the window messages handled by the window procedure for the [**ANIMATE\_CLASS**](common-control-window-classes.md) window class.</span></span>



| <span data-ttu-id="c6397-146">`Message`</span><span class="sxs-lookup"><span data-stu-id="c6397-146">Message</span></span>                                    | <span data-ttu-id="c6397-147">Verarbeitung wird ausgeführt</span><span class="sxs-lookup"><span data-stu-id="c6397-147">Processing performed</span></span>                                                                                                                                                                                                                                                                        |
|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="c6397-148">**WM \_ Schließen**</span><span class="sxs-lookup"><span data-stu-id="c6397-148">**WM\_CLOSE**</span></span>](/windows/desktop/winmsg/wm-close)           | <span data-ttu-id="c6397-149">Gibt die dem Animations Steuerelement zugeordnete AVI-Datei oder AVI-Ressource frei.</span><span class="sxs-lookup"><span data-stu-id="c6397-149">Frees the AVI file or AVI resource associated with the animation control.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="c6397-150">**WM \_ zerstören**</span><span class="sxs-lookup"><span data-stu-id="c6397-150">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)       | <span data-ttu-id="c6397-151">Gibt die AVI-Datei oder die AVI-Ressource frei, gibt eine interne Datenstruktur frei und ruft dann die [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) -Funktion auf.</span><span class="sxs-lookup"><span data-stu-id="c6397-151">Frees the AVI file or AVI resource, frees an internal data structure, and then calls the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span>                                                                                                                                                |
| [<span data-ttu-id="c6397-152">**WM- \_ erasebkgnd**</span><span class="sxs-lookup"><span data-stu-id="c6397-152">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd) | <span data-ttu-id="c6397-153">Löscht den Fenster Hintergrund mithilfe der aktuellen Hintergrundfarbe für statische Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="c6397-153">Erases the window background using the current background color for static controls.</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="c6397-154">**WM- \_ nccreate**</span><span class="sxs-lookup"><span data-stu-id="c6397-154">**WM\_NCCREATE**</span></span>](/windows/desktop/winmsg/wm-nccreate)     | <span data-ttu-id="c6397-155">Ordnet eine interne Datenstruktur zu und initialisiert sie und ruft dann [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)auf.</span><span class="sxs-lookup"><span data-stu-id="c6397-155">Allocates and initializes an internal data structure and then calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="c6397-156">**WM- \_ nchittest**</span><span class="sxs-lookup"><span data-stu-id="c6397-156">**WM\_NCHITTEST**</span></span>](/windows/desktop/inputdev/wm-nchittest) | <span data-ttu-id="c6397-157">Gibt den Wert für den httransparent-Treffer Test zurück.</span><span class="sxs-lookup"><span data-stu-id="c6397-157">Returns the HTTRANSPARENT hit test value.</span></span>                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="c6397-158">**WM- \_ Paint**</span><span class="sxs-lookup"><span data-stu-id="c6397-158">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)              | <span data-ttu-id="c6397-159">Zeichnet einen AVI-Frame im Animations Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="c6397-159">Draws an AVI frame in the animation control.</span></span>                                                                                                                                                                                                                                                |
| [<span data-ttu-id="c6397-160">**WM- \_ Größe**</span><span class="sxs-lookup"><span data-stu-id="c6397-160">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)             | <span data-ttu-id="c6397-161">Überprüft, ob das Steuerelement über den [**ACS- \_ mittelstil**](animation-control-styles.md) verfügt.</span><span class="sxs-lookup"><span data-stu-id="c6397-161">Checks if the control has the [**ACS\_CENTER**](animation-control-styles.md) style.</span></span> <span data-ttu-id="c6397-162">Wenn das-Steuerelement dies nicht bewirkt, wird [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="c6397-162">If the control does not, it calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="c6397-163">Andernfalls wird die Animation im Steuerelement zentriert, das Steuerelement für ungültig erklärt und dann " **defwindowproc**" aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="c6397-163">Otherwise, it centers the animation in the control, invalidates the control, and then calls **DefWindowProc**.</span></span> |



 

 

 