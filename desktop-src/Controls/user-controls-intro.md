---
title: Benutzerdefinierte Steuerelemente
description: Dieser Abschnitt enthält Informationen zu Anwendungs definierten oder benutzerdefinierten Steuerelementen.
ms.assetid: 220f7058-db04-46d0-acee-ed5e676790b3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e82ed9394ec06257e524153b86ef487f4507f35b
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "104102374"
---
# <a name="custom-controls"></a><span data-ttu-id="0fd8f-103">Benutzerdefinierte Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="0fd8f-103">Custom Controls</span></span>

<span data-ttu-id="0fd8f-104">Dieser Abschnitt enthält Informationen zu Anwendungs definierten oder benutzerdefinierten Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-104">This section contains information about application-defined or custom controls.</span></span>

<span data-ttu-id="0fd8f-105">Die folgenden Themen werden erörtert.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-105">The following topics are discussed.</span></span>

-   [<span data-ttu-id="0fd8f-106">Erstellen von Owner-Drawn Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-106">Creating Owner-Drawn Controls</span></span>](#creating-owner-drawn-controls)
-   [<span data-ttu-id="0fd8f-107">Unterklassen der Fenster Klasse eines vorhandenen Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="0fd8f-107">Subclassing the Window Class of an Existing Control</span></span>](#subclassing-the-window-class-of-an-existing-control)
-   [<span data-ttu-id="0fd8f-108">Implementieren einer Application-Defined Window-Klasse</span><span class="sxs-lookup"><span data-stu-id="0fd8f-108">Implementing an Application-Defined Window Class</span></span>](#implementing-an-application-defined-window-class)
-   [<span data-ttu-id="0fd8f-109">Senden von Benachrichtigungen von einem Steuerelement</span><span class="sxs-lookup"><span data-stu-id="0fd8f-109">Sending Notifications from a Control</span></span>](#sending-notifications-from-a-control)
-   [<span data-ttu-id="0fd8f-110">Bedienungshilfen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-110">Accessibility</span></span>](#accessibility)
-   [<span data-ttu-id="0fd8f-111">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-111">Related topics</span></span>](#related-topics)

## <a name="creating-owner-drawn-controls"></a><span data-ttu-id="0fd8f-112">Erstellen von Owner-Drawn Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-112">Creating Owner-Drawn Controls</span></span>

<span data-ttu-id="0fd8f-113">Schaltflächen, Menüs, statische Text Steuerelemente, Listenfelder und Kombinations Felder können mit einem vom Besitzer gezeichneten stilflag erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-113">Buttons, menus, static text controls, list boxes, and combo boxes can be created with an owner-drawn style flag.</span></span> <span data-ttu-id="0fd8f-114">Wenn ein Steuerelement den vom Besitzer gezeichneten Stil hat, verarbeitet das System die Interaktion des Benutzers mit dem Steuerelement wie gewohnt und führt Aufgaben wie das erkennen aus, wenn ein Benutzer eine Schaltfläche ausgewählt hat und benachrichtigt den Besitzer des Ereignisses der Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-114">When a control has the owner-drawn style, the system handles the user's interaction with the control as usual, performing such tasks as detecting when a user has chosen a button and notifying the button's owner of the event.</span></span> <span data-ttu-id="0fd8f-115">Da das Steuerelement jedoch vom Besitzer gezeichnet wird, ist das übergeordnete Fenster des Steuer Elements für die visuelle Darstellung des Steuer Elements verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-115">However, because the control is owner-drawn, the parent window of the control is responsible for the visual appearance of the control.</span></span> <span data-ttu-id="0fd8f-116">Das übergeordnete Fenster empfängt eine Nachricht, wenn das Steuerelement gezeichnet werden muss.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-116">The parent window receives a message whenever the control must be drawn.</span></span>

<span data-ttu-id="0fd8f-117">Bei Schaltflächen und statischen Text Steuerelementen wirkt sich der vom Besitzer gezeichnete Stil darauf aus, wie das System das gesamte Steuerelement zeichnet.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-117">For buttons and static text controls, the owner-drawn style affects how the system draws the entire control.</span></span> <span data-ttu-id="0fd8f-118">Für Listenfelder und Kombinations Felder zeichnet das übergeordnete Fenster die Elemente innerhalb des Steuer Elements, und das Steuerelement zeichnet seinen eigenen Umriss.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-118">For list boxes and combo boxes, the parent window draws the items within the control, and the control draws its own outline.</span></span> <span data-ttu-id="0fd8f-119">Beispielsweise kann eine Anwendung ein Listenfeld so anpassen, dass neben den einzelnen Elementen in der Liste eine kleine Bitmap angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-119">For example, an application can customize a list box so that it displays a small bitmap next to each item in the list.</span></span>

<span data-ttu-id="0fd8f-120">Der folgende Beispielcode zeigt, wie ein vom Besitzer gezeichnetes statisches Text Steuerelement erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-120">The following example code shows how to create an owner-drawn static text control.</span></span> <span data-ttu-id="0fd8f-121">Angenommen, Unicode ist definiert.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-121">Assume that Unicode is defined.</span></span>


```
// g_myStatic is a global HWND variable.
g_myStatic = CreateWindowEx(0, L"STATIC", L"Some static text", 
            WS_CHILD | WS_VISIBLE | SS_OWNERDRAW, 
            25, 125, 150, 20, hDlg, 0, 0, 0);
```



<span data-ttu-id="0fd8f-122">Im folgenden Beispiel wird die [**WM \_ DrawItem**](wm-drawitem.md) -Nachricht in der Fenster Prozedur für das Dialogfeld, das das im vorherigen Beispiel erstellte Steuerelement enthält, behandelt, indem der Text mit der Standard Schriftart in einer benutzerdefinierten Farbe angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-122">In the following example, from the window procedure for the dialog box that contains the control created in the previous example, the [**WM\_DRAWITEM**](wm-drawitem.md) message is handled by displaying the text in a custom color, using the default font.</span></span> <span data-ttu-id="0fd8f-123">Beachten Sie, dass Sie bei der Behandlung von **WM \_ DrawItem** nicht [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) und [**endpaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) aufrufen müssen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-123">Note that you do not need to call [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) and [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) when handling **WM\_DRAWITEM**.</span></span>


```
case WM_DRAWITEM:
{
    LPDRAWITEMSTRUCT pDIS = (LPDRAWITEMSTRUCT)lParam;
    if (pDIS->hwndItem == g_myStatic)
    {
        SetTextColor(pDIS->hDC, RGB(100, 0, 100));
        WCHAR staticText[99];
        int len = SendMessage(myStatic, WM_GETTEXT, 
            ARRAYSIZE(staticText), (LPARAM)staticText);
        TextOut(pDIS->hDC, pDIS->rcItem.left, pDIS->rcItem.top, staticText, len);
    }
    return TRUE;
}
```



<span data-ttu-id="0fd8f-124">Weitere Informationen zu Steuerelementen, die von einem Besitzer gezeichnet werden, finden Sie unter [Erstellen eines von einem Besitzer gezeichneten Listen](using-list-boxes.md) Felds und von Besitzer gezeichneten Kombinations [Feldern](about-combo-boxes.md)</span><span class="sxs-lookup"><span data-stu-id="0fd8f-124">For more information about owner-drawn controls, see [Creating an Owner-drawn List Box](using-list-boxes.md) and [Owner Drawn Combo Boxes](about-combo-boxes.md).</span></span>

## <a name="subclassing-the-window-class-of-an-existing-control"></a><span data-ttu-id="0fd8f-125">Unterklassen der Fenster Klasse eines vorhandenen Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="0fd8f-125">Subclassing the Window Class of an Existing Control</span></span>

<span data-ttu-id="0fd8f-126">Ein vorhandenes Steuerelement zu erstellen, ist eine andere Möglichkeit, ein benutzerdefiniertes Steuerelement zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-126">Subclassing an existing control is another way to create a custom control.</span></span> <span data-ttu-id="0fd8f-127">Die Unterklassen Prozedur kann das ausgewählte Verhalten des Steuer Elements ändern, indem die Nachrichten verarbeitet werden, die das ausgewählte Verhalten beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-127">The subclass procedure can alter selected behaviors of the control by processing those messages that affect the selected behaviors.</span></span> <span data-ttu-id="0fd8f-128">Alle anderen Nachrichten werden an die ursprüngliche Fenster Prozedur für das-Steuerelement übergeben.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-128">All other messages pass to the original window procedure for the control.</span></span> <span data-ttu-id="0fd8f-129">Beispielsweise kann eine Anwendung eine kleine Bitmap neben dem Text in einem schreibgeschützten, einzeiligen Bearbeitungs Steuerelement anzeigen, indem Sie das Steuerelement Unterklassen und die [**WM- \_**](/windows/desktop/gdi/wm-paint) Zeichnungs Nachricht verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-129">For example, an application can display a small bitmap next to the text in a read-only, single-line edit control by subclassing the control and processing the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message.</span></span> <span data-ttu-id="0fd8f-130">Weitere Informationen finden Sie unter Informationen [zu Fenster Prozeduren](/windows/desktop/winmsg/about-window-procedures) und [Unterklassen](subclassing-overview.md)-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-130">For more information, see [About Window Procedures](/windows/desktop/winmsg/about-window-procedures) and [Subclassing Controls](subclassing-overview.md).</span></span>

## <a name="implementing-an-application-defined-window-class"></a><span data-ttu-id="0fd8f-131">Implementieren einer Application-Defined Window-Klasse</span><span class="sxs-lookup"><span data-stu-id="0fd8f-131">Implementing an Application-Defined Window Class</span></span>

<span data-ttu-id="0fd8f-132">Um ein Steuerelement zu erstellen, das nicht explizit auf einem vorhandenen Steuerelement basiert, muss die Anwendung eine Fenster Klasse erstellen und registrieren.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-132">To create a control that is not explicitly based on an existing control, the application must create and register a window class.</span></span> <span data-ttu-id="0fd8f-133">Der Prozess zum Registrieren einer Anwendungs definierten Fenster Klasse für ein benutzerdefiniertes Steuerelement ist mit dem Registrieren einer Klasse für ein normales Fenster identisch.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-133">The process for registering an application-defined window class for a custom control is the same as registering a class for an ordinary window.</span></span> <span data-ttu-id="0fd8f-134">Um ein benutzerdefiniertes Steuerelement zu erstellen, geben Sie den Namen der Fenster Klasse in [**der Funktion "**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) in der Funktion" "und" "in einer Dialogfeld Vorlage an.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-134">To create a custom control, specify the name of the window class in the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or in a dialog box template.</span></span> <span data-ttu-id="0fd8f-135">Jede Klasse muss einen eindeutigen Namen, eine entsprechende Fenster Prozedur und weitere Informationen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-135">Each class must have a unique name, a corresponding window procedure, and other information.</span></span>

<span data-ttu-id="0fd8f-136">Die Fenster Prozedur zeichnet das Steuerelement mindestens.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-136">At a minimum, the window procedure draws the control.</span></span> <span data-ttu-id="0fd8f-137">Wenn eine Anwendung das-Steuerelement verwendet, um den Benutzertyp Informationen zuzulassen, verarbeitet die Fenster Prozedur auch Eingabe Nachrichten von Tastatur und Maus und sendet Benachrichtigungs Meldungen an das übergeordnete Fenster.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-137">If an application uses the control to let the user type information, the window procedure also processes input messages from the keyboard and mouse and sends notification messages to the parent window.</span></span> <span data-ttu-id="0fd8f-138">Wenn das Steuerelement außerdem Steuerungs Meldungen unterstützt, verarbeitet die Fenster Prozedur Nachrichten, die vom übergeordneten Fenster oder von anderen Fenstern an das Steuerelement gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-138">In addition, if the control supports control messages, the window procedure processes messages sent to it by the parent window or other windows.</span></span> <span data-ttu-id="0fd8f-139">Beispielsweise verarbeiten Steuerelemente häufig die von Dialogfeldern gesendete [**WM \_ getdlgcode**](/windows/desktop/dlgbox/wm-getdlgcode) -Nachricht, um ein Dialogfeld zu leiten, um Tastatureingaben auf eine bestimmte Art und Weise zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-139">For example, controls often process the [**WM\_GETDLGCODE**](/windows/desktop/dlgbox/wm-getdlgcode) message sent by dialog boxes to direct a dialog box to process keyboard input in a given way.</span></span>

<span data-ttu-id="0fd8f-140">Die Fenster Prozedur für ein von der Anwendung definiertes Steuerelement sollte jede vordefinierte Steuerelement Nachricht in der folgenden Tabelle verarbeiten, wenn sich die Nachricht auf den Betrieb des-Steuer Elements auswirkt.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-140">The window procedure for an application-defined control should process any predefined control message in the following table if the message affects the operation of the control.</span></span>



| <span data-ttu-id="0fd8f-141">`Message`</span><span class="sxs-lookup"><span data-stu-id="0fd8f-141">Message</span></span>                                          | <span data-ttu-id="0fd8f-142">Empfehlung</span><span class="sxs-lookup"><span data-stu-id="0fd8f-142">Recommendation</span></span>                                                                                                                                                                                                                                  |
|--------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="0fd8f-143">**WM \_ getdlgcode**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-143">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)       | <span data-ttu-id="0fd8f-144">Verarbeiten, wenn das Steuerelement die Tasten Eingabe, ESC, Tab oder Pfeil verwendet.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-144">Process if the control uses the ENTER, ESC, TAB, or arrow keys.</span></span> <span data-ttu-id="0fd8f-145">Die [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) -Funktion sendet diese Nachricht an Steuerelemente in einem Dialogfeld, um zu bestimmen, ob die Schlüssel verarbeitet oder an das Steuerelement übergeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-145">The [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) function sends this message to controls in a dialog box to determine whether to process the keys or pass them to the control.</span></span> |
| [<span data-ttu-id="0fd8f-146">**WM- \_ getFont**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-146">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)             | <span data-ttu-id="0fd8f-147">Verarbeiten, wenn die [**WM- \_ setFont**](/windows/desktop/winmsg/wm-setfont) -Nachricht ebenfalls verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-147">Process if the [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message is also processed.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="0fd8f-148">**WM \_ gettext**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-148">**WM\_GETTEXT**</span></span>](/windows/desktop/winmsg/wm-gettext)             | <span data-ttu-id="0fd8f-149">Process, wenn der Steuerelement Text nicht mit dem Titel übereinstimmt [**, der durch die Funktion "**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) Funktion" von "Funktion" festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-149">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="0fd8f-150">**WM \_ getTextLength**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-150">**WM\_GETTEXTLENGTH**</span></span>](/windows/desktop/winmsg/wm-gettextlength) | <span data-ttu-id="0fd8f-151">Process, wenn der Steuerelement Text nicht mit dem Titel übereinstimmt [**, der durch die Funktion "**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) Funktion" von "Funktion" festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-151">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="0fd8f-152">**WM- \_ killfokus**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-152">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)       | <span data-ttu-id="0fd8f-153">Verarbeiten, wenn das Steuerelement eine Einfügemarke, ein Fokus Rechteck oder ein anderes Element anzeigt, um anzugeben, dass es den Eingabefokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-153">Process if the control displays a caret, a focus rectangle, or another item to indicate that it has the input focus.</span></span>                                                                                                                            |
| [<span data-ttu-id="0fd8f-154">**WM- \_ SetFocus**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-154">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)         | <span data-ttu-id="0fd8f-155">Verarbeiten, wenn das Steuerelement eine Einfügemarke, ein Fokus Rechteck oder ein anderes Element anzeigt, um anzugeben, dass es den Eingabefokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-155">Process if the control displays a caret, a focus rectangle, or another item to indicate that it has the input focus.</span></span>                                                                                                                            |
| [<span data-ttu-id="0fd8f-156">**WM- \_ SetText**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-156">**WM\_SETTEXT**</span></span>](/windows/desktop/winmsg/wm-settext)             | <span data-ttu-id="0fd8f-157">Process, wenn der Steuerelement Text nicht mit dem Titel übereinstimmt [**, der durch die Funktion "**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) Funktion" von "Funktion" festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-157">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="0fd8f-158">**WM- \_ setFont**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-158">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)             | <span data-ttu-id="0fd8f-159">Verarbeiten, wenn das Steuerelement Text anzeigt.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-159">Process if the control displays text.</span></span> <span data-ttu-id="0fd8f-160">Das System sendet diese Meldung, wenn ein Dialogfeld mit dem DS- \_ setFont-Stil erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-160">The system sends this message when creating a dialog box that has the DS\_SETFONT style.</span></span>                                                                                                                  |



 

<span data-ttu-id="0fd8f-161">Anwendungs definierte Steuerungs Meldungen sind spezifisch für das angegebene Steuerelement und müssen explizit mithilfe einer [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) -oder [**SendDlgItemMess**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) -Funktion an das Steuerelement gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-161">Application-defined control messages are specific to the given control and must be explicitly sent to the control by using a [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span> <span data-ttu-id="0fd8f-162">Der numerische Wert für jede Nachricht muss eindeutig sein und darf nicht mit den Werten anderer Fenster Meldungen in Konflikt stehen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-162">The numeric value for each message must be unique and must not conflict with the values of other window messages.</span></span> <span data-ttu-id="0fd8f-163">Um sicherzustellen, dass Anwendungs definierte Nachrichten Werte nicht in Konflikt stehen, sollte eine Anwendung jeden Wert erstellen, indem Sie dem Wert des [**WM- \_ Benutzers**](/windows/desktop/winmsg/wm-user) eine eindeutige Nummer hinzufügt.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-163">To ensure that application-defined message values do not conflict, an application should create each value by adding a unique number to the [**WM\_USER**](/windows/desktop/winmsg/wm-user) value.</span></span>

## <a name="sending-notifications-from-a-control"></a><span data-ttu-id="0fd8f-164">Senden von Benachrichtigungen von einem Steuerelement</span><span class="sxs-lookup"><span data-stu-id="0fd8f-164">Sending Notifications from a Control</span></span>

<span data-ttu-id="0fd8f-165">Möglicherweise sind benutzerdefinierte Steuerelemente erforderlich, um Benachrichtigungen von Ereignissen an das übergeordnete Fenster zu senden, damit die Host Anwendung auf diese Ereignisse reagieren kann.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-165">Custom controls might be required to send notifications of events to the parent window so that the host application can respond to these events.</span></span> <span data-ttu-id="0fd8f-166">Beispielsweise kann eine benutzerdefinierte Listenansicht eine Benachrichtigung senden, wenn der Benutzer ein Element auswählt, und eine weitere Benachrichtigung, wenn auf ein Element Doppel geklickt wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-166">For example, a custom list view might send a notification when the user selects an item, and another notification when an item is double-clicked.</span></span>

<span data-ttu-id="0fd8f-167">Benachrichtigungen werden als [**WM- \_ Befehl**](/windows/desktop/menurc/wm-command) oder [**WM- \_ Benachrichtigungs**](wm-notify.md) Meldungen gesendet.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-167">Notifications are sent as [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) messages.</span></span> <span data-ttu-id="0fd8f-168">**WM \_ Benachrichtigungs** Meldungen enthalten mehr Informationen als **WM- \_ Befehls** Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-168">**WM\_NOTIFY** messages carry more information than **WM\_COMMAND** messages.</span></span>

<span data-ttu-id="0fd8f-169">Der Steuerelement Bezeichner ist eine eindeutige Zahl, mit der die Anwendung das Steuerelement identifiziert, das die Nachricht sendet.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-169">The control identifier is a unique number the application uses to identify the control sending the message.</span></span> <span data-ttu-id="0fd8f-170">Die Anwendung legt den Bezeichner für ein Steuerelement fest, wenn das Steuerelement erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-170">The application sets the identifier for a control when it creates the control.</span></span> <span data-ttu-id="0fd8f-171">Die Anwendung gibt den Bezeichner entweder im *HMENU* -Parameter der Funktion " [**kreatewindowex**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) " oder im **ID** -Member der [**dlgitemtemplateex**](/windows/desktop/dlgbox/dlgitemtemplateex) -Struktur an.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-171">The application specifies the identifier either in the *hMenu* parameter of the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or in the **id** member of the [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) structure.</span></span>

<span data-ttu-id="0fd8f-172">Da das Steuerelement selbst den Steuerelement Bezeichner nicht festgelegt hat, muss das Steuerelement den Bezeichner abrufen, bevor er Benachrichtigungs Meldungen senden kann.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-172">Because the control itself does not set the control identifier, the control must retrieve the identifier before it can send notification messages.</span></span> <span data-ttu-id="0fd8f-173">Ein Steuerelement muss die [**getdlgctrlid**](/windows/desktop/api/winuser/nf-winuser-getdlgctrlid) -Funktion verwenden, um seinen eigenen Steuerelement Bezeichner abzurufen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-173">A control must use the [**GetDlgCtrlID**](/windows/desktop/api/winuser/nf-winuser-getdlgctrlid) function to retrieve its own control identifier.</span></span> <span data-ttu-id="0fd8f-174">Obwohl der Steuerelement Bezeichner bei der Erstellung des Steuer Elements als Menü handle angegeben ist, kann die [**getMenu**](/windows/desktop/api/winuser/nf-winuser-getmenu) -Funktion nicht zum Abrufen des Bezeichners verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-174">Although the control identifier is specified as the menu handle when the control is created, the [**GetMenu**](/windows/desktop/api/winuser/nf-winuser-getmenu) function cannot be used to retrieve the identifier.</span></span> <span data-ttu-id="0fd8f-175">Alternativ kann ein Steuerelement während der Verarbeitung der [**WM \_ Create**](/windows/desktop/winmsg/wm-create) -Nachricht den Bezeichner aus dem **HMENU** -Member in [**der Struktur "**](/windows/win32/api/winuser/ns-winuser-createstructa) Struktur erstellen" abrufen.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-175">Alternatively, a control can retrieve the identifier from the **hMenu** member in the [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) structure while processing the [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message.</span></span>

<span data-ttu-id="0fd8f-176">In den folgenden Beispielen, in denen *hwndcontrol* das Handle des Steuerelement Fensters ist und CN \_ ValueChanged eine benutzerdefinierte Benachrichtigungs Definition ist, werden die beiden Möglichkeiten zum Senden einer Steuerelement spezifischen Benachrichtigung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-176">The following examples, where *hwndControl* is the handle of the control window and CN\_VALUECHANGED is a custom notification definition, show the two ways of sending a control-specific notification.</span></span>


```
 // Send as WM_COMMAND.
SendMessage(GetParent(hwndControl), 
    WM_COMMAND,
    MAKEWPARAM(GetDlgCtrlID(hwndControl), CN_VALUECHANGED),
    (LPARAM)hwndControl);

// Send as WM_NOTIFY.           
NMHDR nmh;
nmh.code = CN_VALUECHANGED;
nmh.idFrom = GetDlgCtrlID(hwndControl);
nmh.hwndFrom = hwndControl;
SendMessage(GetParent(hwndControl), 
    WM_NOTIFY, 
    (WPARAM)hwndControl, 
    (LPARAM)&nmh);
```



<span data-ttu-id="0fd8f-177">Beachten Sie, dass die [**NMHDR**](/windows/desktop/api/richedit/ns-richedit-nmhdr) -Struktur Teil einer größeren Steuerelement definierten Struktur sein kann, die zusätzliche Informationen enthält.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-177">Note that the [**NMHDR**](/windows/desktop/api/richedit/ns-richedit-nmhdr) structure can be part of a larger control-defined structure that contains additional information.</span></span> <span data-ttu-id="0fd8f-178">In diesem Beispiel können der alte und der neue Wert des-Steuer Elements in dieser Struktur enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-178">In the example, the old and new values of the control might be contained in this structure.</span></span> <span data-ttu-id="0fd8f-179">(Solche erweiterten Strukturen werden mit vielen Standard Benachrichtigungen verwendet, z. b. unter [LVN \_ InsertItem](lvn-insertitem.md), das die [**NMLISTVIEW**](/windows/win32/api/commctrl/ns-commctrl-nmlistview) -Struktur verwendet.)</span><span class="sxs-lookup"><span data-stu-id="0fd8f-179">(Such extended structures are used with many standard notifications; for example, see [LVN\_INSERTITEM](lvn-insertitem.md), which uses the [**NMLISTVIEW**](/windows/win32/api/commctrl/ns-commctrl-nmlistview) structure.)</span></span>

## <a name="accessibility"></a><span data-ttu-id="0fd8f-180">Eingabehilfen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-180">Accessibility</span></span>

<span data-ttu-id="0fd8f-181">Alle allgemeinen Steuerelemente unterstützen Microsoft Active Accessibility (MSAA), wodurch der programmgesteuerte Zugriff durch barrierefreie Anwendungen wie z. b. Bildschirm Ausgaben ermöglicht wird.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-181">All the common controls support Microsoft Active Accessibility (MSAA), which enables programmatic access by accessible-technology applications such as screen-readers.</span></span> <span data-ttu-id="0fd8f-182">MSAA ermöglicht außerdem die Benutzeroberflächen Automatisierung, eine neuere Technologie, um mit Steuerelementen zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-182">MSAA also enables UI Automation, a newer technology, to interact with controls.</span></span>

<span data-ttu-id="0fd8f-183">Benutzerdefinierte Steuerelemente müssen entweder die [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) -Schnittstelle (zur Unterstützung von MSAA) oder die Benutzeroberflächenautomatisierungs-Schnittstellen implementieren.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-183">Custom controls should implement either the [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) interface (to support MSAA) or the UI Automation interfaces, or both.</span></span> <span data-ttu-id="0fd8f-184">Andernfalls können barrierefreie Technologie Produkte nur sehr eingeschränkte Informationen über das Steuerelement Fenster abrufen, haben keinen Zugriff auf die Eigenschaften des Steuer Elements und können keine Ereignisse im Steuerelement auslöst.</span><span class="sxs-lookup"><span data-stu-id="0fd8f-184">Otherwise, accessible-technology products will be able to obtain only very limited information about the control window, will not have access to the control's properties, and will be unable to trigger events in the control.</span></span>

<span data-ttu-id="0fd8f-185">Weitere Informationen zum Zugriff auf das Steuerelement finden Sie unter [Windows Automation-API](/windows/desktop/WinAuto/windows-automation-api-portal).</span><span class="sxs-lookup"><span data-stu-id="0fd8f-185">For more information about making your control accessible, see [Windows Automation API](/windows/desktop/WinAuto/windows-automation-api-portal).</span></span>

## <a name="related-topics"></a><span data-ttu-id="0fd8f-186">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-186">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="0fd8f-187">**Licher**</span><span class="sxs-lookup"><span data-stu-id="0fd8f-187">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="0fd8f-188">Allgemeine Steuerungs Referenz</span><span class="sxs-lookup"><span data-stu-id="0fd8f-188">General Control Reference</span></span>](common-control-reference.md)
</dt> <dt>

[<span data-ttu-id="0fd8f-189">Anpassen des Erscheinungs Bilds eines Steuer Elements mithilfe von benutzerdefiniertem zeichnen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-189">Customizing a Control's Appearance Using Custom Draw</span></span>](custom-draw.md)
</dt> <dt>

[<span data-ttu-id="0fd8f-190">Steuern von Meldungen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-190">Control Messages</span></span>](control-messages.md)
</dt> <dt>

[<span data-ttu-id="0fd8f-191">Verwenden von visuellen Stilen mit Owner-Drawn Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="0fd8f-191">Using Visual Styles with Owner-Drawn Controls</span></span>](using-visual-styles.md)
</dt> </dl>

 

 