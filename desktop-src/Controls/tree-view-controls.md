---
title: Informationen zu Tree-View Steuerelementen
description: Ein Strukturansicht-Steuerelement ist ein Fenster, in dem eine hierarchische Liste von Elementen angezeigt wird, z. b. die Überschriften in einem Dokument, die Einträge in einem Index oder die Dateien und Verzeichnisse auf einem Datenträger.
ms.assetid: 10cc7949-dd77-412d-bad1-db8d8a049582
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df70a2d3c2f841b022930a07ee2f140ee5bfc8e3
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "103949173"
---
# <a name="about-tree-view-controls"></a><span data-ttu-id="325dd-103">Informationen zu Tree-View Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="325dd-103">About Tree-View Controls</span></span>

<span data-ttu-id="325dd-104">Ein Strukturansicht-Steuerelement ist ein Fenster, in dem eine hierarchische Liste von Elementen angezeigt wird, z. b. die Überschriften in einem Dokument, die Einträge in einem Index oder die Dateien und Verzeichnisse auf einem Datenträger.</span><span class="sxs-lookup"><span data-stu-id="325dd-104">A tree-view control is a window that displays a hierarchical list of items, such as the headings in a document, the entries in an index, or the files and directories on a disk.</span></span> <span data-ttu-id="325dd-105">Jedes Element besteht aus einer Bezeichnung und einem optionalen Bitmapbild, und jedem Element kann eine Liste von unter Elementen zugeordnet sein.</span><span class="sxs-lookup"><span data-stu-id="325dd-105">Each item consists of a label and an optional bitmapped image, and each item can have a list of subitems associated with it.</span></span> <span data-ttu-id="325dd-106">Wenn Sie auf ein Element klicken, kann der Benutzer die zugeordnete Liste der unter Elemente erweitern oder reduzieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-106">By clicking an item, the user can expand or collapse the associated list of subitems.</span></span>

<span data-ttu-id="325dd-107">Die folgende Abbildung zeigt ein einfaches Strukturansicht-Steuerelement mit einem Stamm Knoten, einem erweiterten Knoten und einem reduzierten Knoten.</span><span class="sxs-lookup"><span data-stu-id="325dd-107">The following illustration shows a simple tree-view control with a root node, an expanded node, and a collapsed node.</span></span> <span data-ttu-id="325dd-108">Das-Steuerelement verwendet eine Bitmap für das ausgewählte Element und eine andere Bitmap für andere Elemente.</span><span class="sxs-lookup"><span data-stu-id="325dd-108">The control uses one bitmap for the selected item and another bitmap for other items.</span></span>

![Screenshot mit fünf Knoten in einer Hierarchie der Text eines Knotens ist ausgewählt, aber die Knoten sind nicht durch Zeilen miteinander verknüpft.](images/tv-simple.png)

<span data-ttu-id="325dd-110">Nachdem Sie ein Strukturansicht-Steuerelement erstellt haben, können Sie Elemente hinzufügen, entfernen, anordnen oder anderweitig bearbeiten, indem Sie Nachrichten an das Steuerelement senden.</span><span class="sxs-lookup"><span data-stu-id="325dd-110">After creating a tree-view control, you add, remove, arrange, or otherwise manipulate items by sending messages to the control.</span></span> <span data-ttu-id="325dd-111">Jede Nachricht verfügt über ein oder mehrere zugehörige Makros, die Sie verwenden können, statt die Nachricht explizit zu senden.</span><span class="sxs-lookup"><span data-stu-id="325dd-111">Each message has one or more corresponding macros that you can use instead of sending the message explicitly.</span></span>

<span data-ttu-id="325dd-112">Die folgenden Themen werden in diesem Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="325dd-112">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="325dd-113">Struktur Ansichts Stile</span><span class="sxs-lookup"><span data-stu-id="325dd-113">Tree-View Styles</span></span>](#tree-view-styles)
-   [<span data-ttu-id="325dd-114">Über-und untergeordnete Elemente</span><span class="sxs-lookup"><span data-stu-id="325dd-114">Parent and Child Items</span></span>](#parent-and-child-items)
-   [<span data-ttu-id="325dd-115">Element Bezeichnungen</span><span class="sxs-lookup"><span data-stu-id="325dd-115">Item Labels</span></span>](#item-labels)
-   [<span data-ttu-id="325dd-116">Bezeichnungs Bearbeitung für Strukturansicht</span><span class="sxs-lookup"><span data-stu-id="325dd-116">Tree-View Label Editing</span></span>](#tree-view-label-editing)
-   [<span data-ttu-id="325dd-117">Struktur-Ansichts Element Position</span><span class="sxs-lookup"><span data-stu-id="325dd-117">Tree-View Item Position</span></span>](#tree-view-item-position)
-   [<span data-ttu-id="325dd-118">Struktur-Ansichts Element Zustände (Übersicht)</span><span class="sxs-lookup"><span data-stu-id="325dd-118">Tree-View Item States Overview</span></span>](#tree-view-item-states-overview)
-   [<span data-ttu-id="325dd-119">Elementauswahl</span><span class="sxs-lookup"><span data-stu-id="325dd-119">Item Selection</span></span>](#item-selection)
-   [<span data-ttu-id="325dd-120">Element Informationen</span><span class="sxs-lookup"><span data-stu-id="325dd-120">Item Information</span></span>](#item-information)
-   [<span data-ttu-id="325dd-121">Strukturansicht: Bildlisten</span><span class="sxs-lookup"><span data-stu-id="325dd-121">Tree-View Image Lists</span></span>](#tree-view-image-lists)
-   [<span data-ttu-id="325dd-122">Drag & Drop-Vorgänge</span><span class="sxs-lookup"><span data-stu-id="325dd-122">Drag-and-Drop Operations</span></span>](#drag-and-drop-operations)
-   [<span data-ttu-id="325dd-123">Benachrichtigungs Meldungen für das Baumansicht-Steuerelement</span><span class="sxs-lookup"><span data-stu-id="325dd-123">Tree-View Control Notification Messages</span></span>](#tree-view-control-notification-messages)
-   [<span data-ttu-id="325dd-124">Standardmäßige Tree-View Steuerung der Nachrichtenverarbeitung</span><span class="sxs-lookup"><span data-stu-id="325dd-124">Default Tree-View Control Message Processing</span></span>](#default-tree-view-control-message-processing)
-   [<span data-ttu-id="325dd-125">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="325dd-125">Related topics</span></span>](#related-topics)

## <a name="tree-view-styles"></a><span data-ttu-id="325dd-126">Tree-View Stile</span><span class="sxs-lookup"><span data-stu-id="325dd-126">Tree-View Styles</span></span>

<span data-ttu-id="325dd-127">Strukturansicht-Stile steuern Aspekte der Darstellung eines Strukturansicht-Steuer Elements.</span><span class="sxs-lookup"><span data-stu-id="325dd-127">Tree-view styles govern aspects of a tree-view control's appearance.</span></span> <span data-ttu-id="325dd-128">Sie legen die anfänglichen Stile fest, wenn Sie das Strukturansicht-Steuerelement erstellen.</span><span class="sxs-lookup"><span data-stu-id="325dd-128">You set the initial styles when you create the tree-view control.</span></span> <span data-ttu-id="325dd-129">Sie können die Stile abrufen und ändern, nachdem Sie das Strukturansicht-Steuerelement mithilfe der Funktionen " [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) " und " [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) " erstellt haben.</span><span class="sxs-lookup"><span data-stu-id="325dd-129">You can retrieve and change the styles after creating the tree-view control by using the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span>

<span data-ttu-id="325dd-130">Der Stil der [**TV- \_ haslines**](tree-view-control-window-styles.md) erweitert die grafische Darstellung der Hierarchie eines Strukturansicht-Steuer Elements durch das Zeichnen von Linien, die untergeordnete Elemente mit ihrem übergeordneten Element verknüpfen, wie in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="325dd-130">The [**TVS\_HASLINES**](tree-view-control-window-styles.md) style enhances the graphic representation of a tree-view control's hierarchy by drawing lines that link child items to their parent item, as shown in the following illustration.</span></span>

![Screenshot, der die vorherige Anordnung anzeigt, jedoch mit Zeilen, die den Knoten beitreten die erste Zeile wird vom Stamm Knoten abgeleitet.](images/tv-haslines.png)

<span data-ttu-id="325dd-132">In diesem Stil werden keine Linien am Stamm der Hierarchie gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="325dd-132">By itself, this style does not draw lines at the root of the hierarchy.</span></span> <span data-ttu-id="325dd-133">Zu diesem Zweck müssen Sie die Stile " [**TVs \_ haslines**](tree-view-control-window-styles.md) " und " [**TVs \_ linesAtRoot**](tree-view-control-window-styles.md) " kombinieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-133">To do so, you need to combine the [**TVS\_HASLINES**](tree-view-control-window-styles.md) and [**TVS\_LINESATROOT**](tree-view-control-window-styles.md) styles.</span></span> <span data-ttu-id="325dd-134">Das Ergebnis ist in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="325dd-134">The result is shown in the following illustration.</span></span>

![Screenshot mit der vorherigen Anordnung, aber mit einer zusätzlichen horizontalen Linie, die zum Stamm Knoten führt](images/tv-rootlines.png)

<span data-ttu-id="325dd-136">Der Benutzer kann die Liste der untergeordneten Elemente eines übergeordneten Elements durch Doppelklicken auf das übergeordnete Element erweitern oder reduzieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-136">The user can expand or collapse a parent item's list of child items by double-clicking the parent item.</span></span> <span data-ttu-id="325dd-137">Ein Strukturansicht-Steuerelement, das über den Stil der [**TV- \_ hasschaltfläche**](tree-view-control-window-styles.md) verfügt, fügt links neben jedem übergeordneten Element eine Schaltfläche hinzu.</span><span class="sxs-lookup"><span data-stu-id="325dd-137">A tree-view control that has the [**TVS\_HASBUTTONS**](tree-view-control-window-styles.md) style adds a button to the left side of each parent item.</span></span> <span data-ttu-id="325dd-138">Der Benutzer kann einmal auf die Schaltfläche klicken, anstatt auf das übergeordnete Element doppelklicken, um das untergeordnete Element zu erweitern oder zu reduzieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-138">The user can click the button once instead of double-clicking the parent item to expand or collapse the child.</span></span> <span data-ttu-id="325dd-139">**Fernseh \_ Geräte Hasbuttons** fügt den Elementen im Stamm der Hierarchie keine Schaltflächen hinzu.</span><span class="sxs-lookup"><span data-stu-id="325dd-139">**TVS\_HASBUTTONS** does not add buttons to items at the root of the hierarchy.</span></span> <span data-ttu-id="325dd-140">Zu diesem Zweck müssen Sie die [**TV- \_ haslines**](tree-view-control-window-styles.md), die TV- **\_ Schalt** Flächen " [**\_ linesAtRoot**](tree-view-control-window-styles.md)" und "TVs" kombinieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-140">To do so, you must combine [**TVS\_HASLINES**](tree-view-control-window-styles.md), [**TVS\_LINESATROOT**](tree-view-control-window-styles.md), and **TVS\_HASBUTTONS**.</span></span> <span data-ttu-id="325dd-141">Diese Kombination von Stilen ist in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="325dd-141">This combination of styles is shown in the following illustration.</span></span>

![Screenshot mit der vorherigen Anordnung, aber mit Schaltflächen zum erweitern/reduzieren in jedem Scheitelpunkt von zwei Zeilen](images/tv-hasbuttons.png)

<span data-ttu-id="325dd-143">Der Stil der [**TV- \_ Kontrollkästchen**](tree-view-control-window-styles.md) erstellt Kontrollkästchen neben jedem Element.</span><span class="sxs-lookup"><span data-stu-id="325dd-143">The [**TVS\_CHECKBOXES**](tree-view-control-window-styles.md) style creates checkboxes next to each item.</span></span> <span data-ttu-id="325dd-144">Wenn Sie das CheckBox-Format verwenden möchten, müssen Sie nach dem Erstellen des Strukturansicht-Steuer Elements und vor dem Auffüllen der Struktur den Stil für die TV-Kontroll **\_ Kästchen** (mit " [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)") festlegen.</span><span class="sxs-lookup"><span data-stu-id="325dd-144">If you want to use the checkbox style, you must set the **TVS\_CHECKBOXES** style (with [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)) after you create the tree-view control and before you populate the tree.</span></span> <span data-ttu-id="325dd-145">Andernfalls werden die Kontrollkästchen abhängig von den zeitlichen Problemen möglicherweise deaktiviert angezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-145">Otherwise, the checkboxes might appear unchecked, depending on timing issues.</span></span> <span data-ttu-id="325dd-146">In der folgenden Abbildung wird das CheckBox-Format gezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-146">The following illustration shows the checkbox style.</span></span>

![Screenshot, der die vorherige Anordnung anzeigt, aber mit einem Kontrollkästchen neben jedem Knoten zwei der Kontrollkästchen sind ausgewählt.](images/tv-haschecks.png)

<span data-ttu-id="325dd-148">Der [**\_ vollrowselect**](tree-view-control-window-styles.md) -Stil von TVs bewirkt, dass sich die Auswahl Markierung über der vollständigen Breite des Steuer Elements und nicht nur über dem Element selbst erstreckt.</span><span class="sxs-lookup"><span data-stu-id="325dd-148">The [**TVS\_FULLROWSELECT**](tree-view-control-window-styles.md) style causes the selection highlight to extend over the full width of the control, not just over the item itself.</span></span> <span data-ttu-id="325dd-149">In der folgenden Abbildung wird dieser Stil veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="325dd-149">The following illustration shows this style.</span></span>

![Screenshot mit der ursprünglichen Anordnung von fünf Knoten ohne Zeilen, aber mit der Auswahl Markierung wird die vollständige Breite des Steuer Elements erweitert.](images/tv-fullrow.png)

<span data-ttu-id="325dd-151">Der [**\_ EditLabels**](tree-view-control-window-styles.md) -Stil von TVs ermöglicht dem Benutzer das Bearbeiten der Bezeichnungen von Struktur Ansichts Elementen.</span><span class="sxs-lookup"><span data-stu-id="325dd-151">The [**TVS\_EDITLABELS**](tree-view-control-window-styles.md) style makes it possible for the user to edit the labels of tree-view items.</span></span> <span data-ttu-id="325dd-152">Weitere Informationen zum Bearbeiten von Bezeichnungen finden Sie Unterstruktur [Ansicht Bezeichnungs Bearbeitung](#tree-view-label-editing).</span><span class="sxs-lookup"><span data-stu-id="325dd-152">For more information about editing labels, see [Tree-View Label Editing](#tree-view-label-editing).</span></span>

<span data-ttu-id="325dd-153">Weitere Informationen zu diesen und anderen Stilen finden Sie Unterstruktur [Ansicht-Steuerelement Fenster Stile](tree-view-control-window-styles.md).</span><span class="sxs-lookup"><span data-stu-id="325dd-153">For more information on these and other styles, see [Tree-View Control Window Styles](tree-view-control-window-styles.md).</span></span>

## <a name="parent-and-child-items"></a><span data-ttu-id="325dd-154">Über-und untergeordnete Elemente</span><span class="sxs-lookup"><span data-stu-id="325dd-154">Parent and Child Items</span></span>

<span data-ttu-id="325dd-155">Jedes Element in einem Strukturansicht-Steuerelement kann eine Liste von untergeordneten Elementen enthalten – die als untergeordnete *Elemente* bezeichnet werden – die diesem zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="325dd-155">Any item in a tree-view control can have a list of subitems—called *child items*—associated with it.</span></span> <span data-ttu-id="325dd-156">Ein Element, das über ein oder mehrere untergeordnete Elemente verfügt, wird als über *geordnetes Element* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="325dd-156">An item that has one or more child items is called a *parent item*.</span></span> <span data-ttu-id="325dd-157">Unterhalb des übergeordneten Elements wird ein untergeordnetes Element angezeigt, das eingerückt wird, um anzugeben, dass es dem übergeordneten Element untergeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-157">A child item is displayed below its parent item and is indented to indicate that it is subordinate to the parent.</span></span> <span data-ttu-id="325dd-158">Ein Element, das über kein übergeordnetes Element verfügt, wird oben in der Hierarchie angezeigt und wird als Stamm *Element* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="325dd-158">An item that has no parent appears at the top of the hierarchy and is called a *root item*.</span></span>

<span data-ttu-id="325dd-159">Um einem Strukturansicht-Steuerelement ein Element hinzuzufügen, senden Sie die [**TVM \_ InsertItem**](tvm-insertitem.md) -Meldung an das-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="325dd-159">To add an item to a tree-view control, send the [**TVM\_INSERTITEM**](tvm-insertitem.md) message to the control.</span></span> <span data-ttu-id="325dd-160">Die Meldung gibt ein Handle für den HTREEITEM-Typ zurück, der das Element eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="325dd-160">The message returns a handle to the HTREEITEM type, which uniquely identifies the item.</span></span> <span data-ttu-id="325dd-161">Wenn Sie ein Element hinzufügen, müssen Sie das Handle für das übergeordnete Element des neuen Elements angeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-161">When adding an item, you must specify the handle to the new item's parent item.</span></span> <span data-ttu-id="325dd-162">Wenn Sie **null** oder den TVI- \_ Stammwert anstelle eines übergeordneten Element Handles in der [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) -Struktur angeben, wird das Element als Stamm Element hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="325dd-162">If you specify **NULL** or the TVI\_ROOT value instead of a parent item handle in the [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure, the item is added as a root item.</span></span>

<span data-ttu-id="325dd-163">Der Status der Liste der untergeordneten Elemente eines übergeordneten Elements kann zu einem beliebigen Zeitpunkt entweder erweitert oder reduziert werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-163">At any given time, the state of a parent item's list of child items can be either expanded or collapsed.</span></span> <span data-ttu-id="325dd-164">Wenn der Zustand erweitert ist, werden die untergeordneten Elemente unter dem übergeordneten Element angezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-164">When the state is expanded, the child items are displayed below the parent item.</span></span> <span data-ttu-id="325dd-165">Wenn Sie reduziert ist, werden die untergeordneten Elemente nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-165">When it is collapsed, the child items are not displayed.</span></span> <span data-ttu-id="325dd-166">Die Liste wechselt automatisch zwischen den erweiterten und reduzierten Zuständen, wenn der Benutzer auf das übergeordnete Element doppelklickt, oder, wenn das übergeordnete Element den Stil der [**TV- \_ hasbuttons**](tree-view-control-window-styles.md) hat, wenn der Benutzer auf die Schaltfläche klickt, die dem übergeordneten Element zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-166">The list automatically toggles between the expanded and collapsed states when the user double-clicks the parent item or, if the parent has the [**TVS\_HASBUTTONS**](tree-view-control-window-styles.md) style, when the user clicks the button associated with the parent item.</span></span> <span data-ttu-id="325dd-167">Eine Anwendung kann die untergeordneten Elemente mithilfe der [**TVM \_**](tvm-expand.md) -Erweiterungs Nachricht erweitern oder reduzieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-167">An application can expand or collapse the child items by using the [**TVM\_EXPAND**](tvm-expand.md) message.</span></span>

<span data-ttu-id="325dd-168">Ein Strukturansicht-Steuerelement sendet dem übergeordneten Fenster eine [TVN \_ itemexpandeing](tvn-itemexpanding.md) -Benachrichtigungs Meldung, wenn die Liste der untergeordneten Elemente eines übergeordneten Elements erweitert oder reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-168">A tree-view control sends the parent window a [TVN\_ITEMEXPANDING](tvn-itemexpanding.md) notification message when a parent item's list of child items is about to be expanded or collapsed.</span></span> <span data-ttu-id="325dd-169">Die Benachrichtigung gibt der Anwendung die Möglichkeit, die Änderung zu verhindern oder Attribute des übergeordneten Elements festzulegen, die vom Status der Liste der untergeordneten Elemente abhängen.</span><span class="sxs-lookup"><span data-stu-id="325dd-169">The notification gives an application the opportunity to prevent the change or to set any attributes of the parent item that depend on the state of the list of child items.</span></span> <span data-ttu-id="325dd-170">Nachdem der Status der Liste geändert wurde, sendet das Strukturansicht-Steuerelement dem übergeordneten Fenster eine [TVN \_ itemexpanded](tvn-itemexpanded.md) -Benachrichtigungs Meldung.</span><span class="sxs-lookup"><span data-stu-id="325dd-170">After changing the state of the list, the tree-view control sends the parent window a [TVN\_ITEMEXPANDED](tvn-itemexpanded.md) notification message.</span></span>

<span data-ttu-id="325dd-171">Wenn eine Liste von untergeordneten Elementen erweitert wird, wird Sie relativ zum übergeordneten Element eingerückt.</span><span class="sxs-lookup"><span data-stu-id="325dd-171">When a list of child items is expanded, it is indented relative to the parent item.</span></span> <span data-ttu-id="325dd-172">Sie können die Einzugs Menge mithilfe der [**TVM- \_ setIndent**](tvm-setindent.md) -Nachricht festlegen oder den aktuellen Betrag mithilfe der [**TVM \_**](tvm-getindent.md) -Nachricht abrufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-172">You can set the amount of indentation by using the [**TVM\_SETINDENT**](tvm-setindent.md) message or retrieve the current amount by using the [**TVM\_GETINDENT**](tvm-getindent.md) message.</span></span>

<span data-ttu-id="325dd-173">Ein Strukturansicht-Steuerelement verwendet den Arbeitsspeicher, der vom Heap des Prozesses belegt wird, der das Strukturansicht-Steuerelement erstellt.</span><span class="sxs-lookup"><span data-stu-id="325dd-173">A tree-view control uses memory allocated from the heap of the process that creates the tree-view control.</span></span> <span data-ttu-id="325dd-174">Die maximale Anzahl von Elementen in einer Strukturansicht basiert auf der Menge an Arbeitsspeicher, die im Heap verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-174">The maximum number of items in a tree view is based on the amount of memory available in the heap.</span></span>

## <a name="item-labels"></a><span data-ttu-id="325dd-175">Element Bezeichnungen</span><span class="sxs-lookup"><span data-stu-id="325dd-175">Item Labels</span></span>

<span data-ttu-id="325dd-176">Sie geben in der Regel den Text der Bezeichnung eines Elements an, wenn Sie das Element dem Strukturansicht-Steuerelement hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="325dd-176">You typically specify the text of an item's label when adding the item to the tree-view control.</span></span> <span data-ttu-id="325dd-177">Die [**TVM \_ InsertItem**](tvm-insertitem.md) -Nachricht enthält eine [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur, die die Eigenschaften des Elements definiert, einschließlich einer Zeichenfolge, die den Text der Bezeichnung enthält.</span><span class="sxs-lookup"><span data-stu-id="325dd-177">The [**TVM\_INSERTITEM**](tvm-insertitem.md) message includes a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that defines the item's properties, including a string containing the text of the label.</span></span>

<span data-ttu-id="325dd-178">Ein Strukturansicht-Steuerelement ordnet Speicher zum Speichern der einzelnen Elemente zu. der Text der Element Bezeichnungen nimmt einen signifikanten Teil dieses Speichers an.</span><span class="sxs-lookup"><span data-stu-id="325dd-178">A tree-view control allocates memory for storing each item; the text of the item labels takes up a significant portion of this memory.</span></span> <span data-ttu-id="325dd-179">Wenn Ihre Anwendung eine Kopie der Zeichen folgen im Strukturansicht-Steuerelement verwaltet, können Sie die Arbeitsspeicher Anforderungen des Steuer Elements verringern, indem Sie den LPSTR- \_ textcallback-Wert im **pszText** -Member von [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) angeben, anstatt tatsächliche Zeichen folgen an die Strukturansicht zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-179">If your application maintains a copy of the strings in the tree-view control, you can decrease the memory requirements of the control by specifying the LPSTR\_TEXTCALLBACK value in the **pszText** member of [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) instead of passing actual strings to the tree view.</span></span> <span data-ttu-id="325dd-180">Die Verwendung von LPSTR \_ textcallback bewirkt, dass das Strukturansicht-Steuerelement den Text der Bezeichnung eines Elements aus dem übergeordneten Fenster abruft, wenn das Element neu gezeichnet werden muss.</span><span class="sxs-lookup"><span data-stu-id="325dd-180">Using LPSTR\_TEXTCALLBACK causes the tree-view control to retrieve the text of an item's label from the parent window whenever the item needs to be redrawn.</span></span> <span data-ttu-id="325dd-181">Zum Abrufen des Texts sendet das Strukturansicht-Steuerelement eine [TVN \_ getdispinfo](tvn-getdispinfo.md) -Benachrichtigungs Meldung, die die Adresse einer [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) -Struktur enthält.</span><span class="sxs-lookup"><span data-stu-id="325dd-181">To retrieve the text, the tree-view control sends a [TVN\_GETDISPINFO](tvn-getdispinfo.md) notification message, which includes the address of an [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) structure.</span></span> <span data-ttu-id="325dd-182">Das übergeordnete Fenster muss die entsprechenden Member der enthaltenen-Struktur ausfüllen.</span><span class="sxs-lookup"><span data-stu-id="325dd-182">The parent window must fill the appropriate members of the included structure.</span></span>

## <a name="tree-view-label-editing"></a><span data-ttu-id="325dd-183">Bearbeitung der Tree-View Bezeichnung</span><span class="sxs-lookup"><span data-stu-id="325dd-183">Tree-View Label Editing</span></span>

<span data-ttu-id="325dd-184">Der Benutzer kann die Bezeichnungen von Elementen in einem Strukturansicht-Steuerelement, das über den [**\_ EditLabels**](tree-view-control-window-styles.md) -Stil "TVs" verfügt, direkt bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="325dd-184">The user can directly edit the labels of items in a tree-view control that has the [**TVS\_EDITLABELS**](tree-view-control-window-styles.md) style.</span></span> <span data-ttu-id="325dd-185">Der Benutzer beginnt mit der Bearbeitung, indem er auf die Bezeichnung des Elements klickt, das den Fokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="325dd-185">The user begins editing by clicking the label of the item that has the focus.</span></span> <span data-ttu-id="325dd-186">Eine Anwendung beginnt mit der Bearbeitung mithilfe der [**TVM \_ EditLabel**](tvm-editlabel.md) -Nachricht.</span><span class="sxs-lookup"><span data-stu-id="325dd-186">An application begins editing by using the [**TVM\_EDITLABEL**](tvm-editlabel.md) message.</span></span> <span data-ttu-id="325dd-187">Das Strukturansicht-Steuerelement benachrichtigt das übergeordnete Fenster, wenn die Bearbeitung beginnt und abgebrochen oder abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-187">The tree-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="325dd-188">Wenn die Bearbeitung abgeschlossen ist, ist das übergeordnete Fenster für das Aktualisieren der Element Bezeichnung zuständig, falls dies erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-188">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="325dd-189">Wenn die Bezeichnungs Bearbeitung beginnt, sendet ein Strukturansicht-Steuerelement das übergeordnete Fenster an eine [TVN \_ beginlabeledit](tvn-beginlabeledit.md) -Benachrichtigungs Meldung.</span><span class="sxs-lookup"><span data-stu-id="325dd-189">When label editing begins, a tree-view control sends its parent window a [TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md) notification message.</span></span> <span data-ttu-id="325dd-190">Durch die Verarbeitung dieser Benachrichtigung kann eine Anwendung das Bearbeiten einiger Bezeichnungen zulassen und die Bearbeitung anderer Benutzer verhindern.</span><span class="sxs-lookup"><span data-stu-id="325dd-190">By processing this notification, an application can allow editing of some labels and prevent editing of others.</span></span> <span data-ttu-id="325dd-191">Wenn Sie 0 (null) zurückgeben, wird die Bearbeitung ermöglicht, und die Rückgabe von</span><span class="sxs-lookup"><span data-stu-id="325dd-191">Returning zero allows editing, and returning nonzero prevents it.</span></span>

<span data-ttu-id="325dd-192">Wenn die Bezeichnungs Bearbeitung abgebrochen oder abgeschlossen wird, sendet ein Strukturansicht-Steuerelement seinem übergeordneten Fenster eine [TVN \_ endlabeledit](tvn-endlabeledit.md) -Benachrichtigungs Meldung.</span><span class="sxs-lookup"><span data-stu-id="325dd-192">When label editing is canceled or completed, a tree-view control sends its parent window a [TVN\_ENDLABELEDIT](tvn-endlabeledit.md) notification message.</span></span> <span data-ttu-id="325dd-193">Der *LPARAM* -Parameter ist die Adresse einer [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="325dd-193">The *lParam* parameter is the address of an [**NMTVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmtvdispinfoa) structure.</span></span> <span data-ttu-id="325dd-194">Der *Element* Parameter ist eine [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur, die das Element identifiziert und den bearbeiteten Text enthält.</span><span class="sxs-lookup"><span data-stu-id="325dd-194">The *item* parameter is a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that identifies the item and includes the edited text.</span></span> <span data-ttu-id="325dd-195">Das übergeordnete Fenster ist für die Aktualisierung der Element Bezeichnung zuständig, wenn die neue Bezeichnung beibehalten werden soll.</span><span class="sxs-lookup"><span data-stu-id="325dd-195">The parent window is responsible for updating the item's label if it wishes to keep the new label.</span></span> <span data-ttu-id="325dd-196">Der **pszText** -Member von **tvitem** ist 0 (null), wenn die Bearbeitung abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-196">The **pszText** member of **TVITEM** is zero if editing is canceled.</span></span>

<span data-ttu-id="325dd-197">Während der Bezeichnungs Bearbeitung können Sie das Handle [ \_](tvn-beginlabeledit.md) für das Bearbeitungs Steuerelement abrufen, das für die Bezeichnungs Bearbeitung verwendet wird, indem Sie die [**TVM \_ geteditcontrol**](tvm-geteditcontrol.md) -Nachricht verwenden.</span><span class="sxs-lookup"><span data-stu-id="325dd-197">During label editing, typically in response to the [TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md) notification message, you can retrieve the handle to the edit control used for label editing by using the [**TVM\_GETEDITCONTROL**](tvm-geteditcontrol.md) message.</span></span> <span data-ttu-id="325dd-198">Sie können das Bearbeitungs Steuerelement an eine [**EM- \_ SetLimitText**](em-setlimittext.md) -Nachricht senden, um die Menge an Text einzuschränken, die ein Benutzer eingeben kann, oder eine Unterklasse des Bearbeitungs Steuer Elements, um ungültige Zeichen abzufangen und</span><span class="sxs-lookup"><span data-stu-id="325dd-198">You can send the edit control an [**EM\_SETLIMITTEXT**](em-setlimittext.md) message to limit the amount of text a user can enter or subclass the edit control to intercept and discard invalid characters.</span></span> <span data-ttu-id="325dd-199">Beachten Sie jedoch, dass das Bearbeitungs Steuerelement nur angezeigt wird, *nachdem*   TVN \_ beginlabeledit gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-199">Note, however, that the edit control is displayed only *after* TVN\_BEGINLABELEDIT is sent.</span></span>

## <a name="tree-view-item-position"></a><span data-ttu-id="325dd-200">Position des Tree-View Elements</span><span class="sxs-lookup"><span data-stu-id="325dd-200">Tree-View Item Position</span></span>

<span data-ttu-id="325dd-201">Die Anfangsposition eines Elements wird festgelegt, wenn das Element dem Strukturansicht-Steuerelement mithilfe der [**TVM \_ InsertItem**](tvm-insertitem.md) -Nachricht hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-201">An item's initial position is set when the item is added to the tree-view control by using the [**TVM\_INSERTITEM**](tvm-insertitem.md) message.</span></span> <span data-ttu-id="325dd-202">Die Meldung enthält eine [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) -Struktur, die das Handle für das übergeordnete Element und das Handle für das Element angibt, nach dem das neue Element eingefügt werden soll.</span><span class="sxs-lookup"><span data-stu-id="325dd-202">The message includes a [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure that specifies the handle to the parent item and the handle to the item after which the new item is to be inserted.</span></span> <span data-ttu-id="325dd-203">Der zweite Handle muss entweder ein untergeordnetes Element des angegebenen übergeordneten Elements oder einen der folgenden Werte identifizieren: TVI \_ First, TVI \_ Last oder TVI \_ Sort.</span><span class="sxs-lookup"><span data-stu-id="325dd-203">The second handle must identify either a child item of the given parent or one of these values: TVI\_FIRST, TVI\_LAST, or TVI\_SORT.</span></span>

<span data-ttu-id="325dd-204">Wenn TVI \_ First oder TVI \_ Last angegeben ist, platziert das Strukturansicht-Steuerelement das neue Element am Anfang oder Ende der Liste der untergeordneten Elemente des angegebenen übergeordneten Elements.</span><span class="sxs-lookup"><span data-stu-id="325dd-204">When TVI\_FIRST or TVI\_LAST is specified, the tree-view control places the new item at the beginning or end of the given parent item's list of child items.</span></span> <span data-ttu-id="325dd-205">Wenn TVI \_ Sort angegeben ist, fügt das Strukturansicht-Steuerelement das neue Element in der Liste der untergeordneten Elemente in alphabetischer Reihenfolge basierend auf dem Text der Element Bezeichnungen ein.</span><span class="sxs-lookup"><span data-stu-id="325dd-205">When TVI\_SORT is specified, the tree-view control inserts the new item into the list of child items in alphabetical order based on the text of the item labels.</span></span>

<span data-ttu-id="325dd-206">Mithilfe der [**TVM \_ SortChildren**](tvm-sortchildren.md) -Nachricht können Sie die Liste der untergeordneten Elemente eines übergeordneten Elements in alphabetischer Reihenfolge platzieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-206">You can put a parent item's list of child items in alphabetical order by using the [**TVM\_SORTCHILDREN**](tvm-sortchildren.md) message.</span></span> <span data-ttu-id="325dd-207">Die Meldung enthält einen Parameter, der angibt, ob alle Ebenen von untergeordneten Elementen, die vom angegebenen übergeordneten Element absteigend sind, ebenfalls alphabetisch sortiert werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-207">The message includes a parameter that specifies whether all levels of child items descending from the given parent item are also sorted in alphabetical order.</span></span>

<span data-ttu-id="325dd-208">Mithilfe der [**TVM \_ SortChildren encb**](tvm-sortchildrencb.md) -Meldung können Sie untergeordnete Elemente basierend auf den von Ihnen definierten Kriterien sortieren.</span><span class="sxs-lookup"><span data-stu-id="325dd-208">The [**TVM\_SORTCHILDRENCB**](tvm-sortchildrencb.md) message allows you to sort child items based on criteria that you define.</span></span> <span data-ttu-id="325dd-209">Wenn Sie diese Meldung verwenden, geben Sie eine Anwendungs definierte Rückruffunktion an, die vom Strukturansicht-Steuerelement aufgerufen werden kann, wenn die relative Reihenfolge von zwei untergeordneten Elementen bestimmt werden muss.</span><span class="sxs-lookup"><span data-stu-id="325dd-209">When you use this message, you specify an application-defined callback function that the tree-view control can call whenever the relative order of two child items needs to be decided.</span></span> <span data-ttu-id="325dd-210">Die Rückruffunktion empfängt von der Anwendung definierte 2 32-Bit-Werte für die verglichenen Elemente und einen dritten 32-Bit-Wert, den Sie beim Senden der **TVM \_ sortcb encb** angeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-210">The callback function receives two 32-bit application-defined values for the items being compared and a third 32-bit value that you specify when sending **TVM\_SORTCHILDRENCB**.</span></span>

## <a name="tree-view-item-states-overview"></a><span data-ttu-id="325dd-211">Übersicht über Tree-View Element Zustände</span><span class="sxs-lookup"><span data-stu-id="325dd-211">Tree-View Item States Overview</span></span>

<span data-ttu-id="325dd-212">Jedes Element in einem Strukturansicht-Steuerelement verfügt über einen aktuellen Zustand.</span><span class="sxs-lookup"><span data-stu-id="325dd-212">Each item in a tree-view control has a current state.</span></span> <span data-ttu-id="325dd-213">Die Zustandsinformationen für jedes Element enthalten einen Satz von Bitflags und Bildlisten Indizes, die das Zustands Bild des Elements und das Überlagerungs Bild angeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-213">The state information for each item includes a set of bit flags as well as image list indexes that indicate the item's state image and overlay image.</span></span> <span data-ttu-id="325dd-214">Die Bitflags geben an, ob das Element ausgewählt, deaktiviert, erweitert usw. ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-214">The bit flags indicate whether the item is selected, disabled, expanded, and so on.</span></span> <span data-ttu-id="325dd-215">Zum größten Teil legt ein Strukturansicht-Steuerelement den Zustand eines Elements automatisch so fest, dass Benutzeraktionen wie z. b. die Auswahl eines Elements angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-215">For the most part, a tree-view control automatically sets an item's state to reflect user actions, such as selection of an item.</span></span> <span data-ttu-id="325dd-216">Sie können jedoch auch den Zustand eines Elements mithilfe der [**TVM \_ SetItem**](tvm-setitem.md) -Meldung festlegen, und Sie können den aktuellen Zustand eines Elements mithilfe der [**TVM \_ GetItem**](tvm-getitem.md) -Nachricht abrufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-216">However, you can also set an item's state by using the [**TVM\_SETITEM**](tvm-setitem.md) message, and you can retrieve the current state of an item by using the [**TVM\_GETITEM**](tvm-getitem.md) message.</span></span> <span data-ttu-id="325dd-217">Eine umfassende Liste der Element Zustände finden Sie Unterstruktur [Ansicht-Steuerelement Zustände](tree-view-control-item-states.md).</span><span class="sxs-lookup"><span data-stu-id="325dd-217">For a complete list of item states, see [Tree-View Control Item States](tree-view-control-item-states.md).</span></span>

<span data-ttu-id="325dd-218">Der aktuelle Zustand eines Elements wird vom **State** -Member der [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur angegeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-218">An item's current state is specified by the **state** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="325dd-219">In einem Strukturansicht-Steuerelement kann der Zustand eines Elements geändert werden, um eine Benutzeraktion widerzuspiegeln, z. b. das Auswählen des Elements oder das Festlegen des Fokus auf das Element.</span><span class="sxs-lookup"><span data-stu-id="325dd-219">A tree-view control might change an item's state to reflect a user action, such as selecting the item or setting the focus to the item.</span></span> <span data-ttu-id="325dd-220">Außerdem kann eine Anwendung den Zustand eines Elements ändern, um das Element zu deaktivieren oder auszublenden oder ein Überlagerungs Bild oder ein Zustands Bild anzugeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-220">In addition, an application might change an item's state to disable or hide the item or to specify an overlay image or state image.</span></span>

<span data-ttu-id="325dd-221">Wenn Sie den Zustand eines Elements angeben oder ändern, gibt das **statemask** -Element von [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) an, welche Zustands Bits festgelegt werden sollen, und das statusmember **enthält die neuen** Werte für diese Bits.</span><span class="sxs-lookup"><span data-stu-id="325dd-221">When you specify or change an item's state, the **statemask** member of [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) specifies which state bits to set, and the **state** member contains the new values for those bits.</span></span>

<span data-ttu-id="325dd-222">Um das Überlagerungs Bild eines Elements festzulegen, muss **statemask** den [**Tvis- \_ overlaymask**](tree-view-control-item-states.md) -Wert enthalten, und **State** muss den 1-basierten Index des Überlagerungs Bilds enthalten, das nach links 8 Bits mithilfe des [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) -Makros verschoben wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-222">To set an item's overlay image, **statemask** must include the [**TVIS\_OVERLAYMASK**](tree-view-control-item-states.md) value, and **state** must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="325dd-223">Der Index kann NULL sein, um kein Überlagerungs Bild anzugeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-223">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="325dd-224">Neben dem Symbol eines Elements wird ein Status Bild angezeigt, das einen Anwendungs definierten Zustand angibt.</span><span class="sxs-lookup"><span data-stu-id="325dd-224">A state image is displayed next to an item's icon to indicate an application-defined state.</span></span> <span data-ttu-id="325dd-225">Zustands Bilder sind in einer *Zustands Image Liste* enthalten, die durch das Senden einer [**TVM- \_ SetImageList**](tvm-setimagelist.md) -Meldung angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-225">State images are contained in a *state image list* that is specified by sending a [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="325dd-226">Um das Zustands Bild eines Elements festzulegen, schließen Sie den [**Tvis- \_ stateimagemask**](tree-view-control-item-states.md) -Wert in das **statemask** -Element der [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur ein.</span><span class="sxs-lookup"><span data-stu-id="325dd-226">To set an item's state image, include the [**TVIS\_STATEIMAGEMASK**](tree-view-control-item-states.md) value in the **statemask** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="325dd-227">Bits 12 bis 15 des **Zustands** Members der Struktur geben den Index in der statusbildliste des abzurufenden Bilds an.</span><span class="sxs-lookup"><span data-stu-id="325dd-227">Bits 12 through 15 of the structure's **state** member specify the index in the state image list of the image to be drawn.</span></span>

<span data-ttu-id="325dd-228">Verwenden Sie [**indexystateimagemask**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask), um den Status Bild Index festzulegen.</span><span class="sxs-lookup"><span data-stu-id="325dd-228">To set the state image index, use [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask).</span></span> <span data-ttu-id="325dd-229">Dieses Makro nimmt einen Index an und legt die Bits 12 bis 15 entsprechend fest.</span><span class="sxs-lookup"><span data-stu-id="325dd-229">This macro takes an index, and sets bits 12 through 15 appropriately.</span></span> <span data-ttu-id="325dd-230">Um anzugeben, dass das Element kein Zustands Bild hat, legen Sie den Index auf NULL fest.</span><span class="sxs-lookup"><span data-stu-id="325dd-230">To indicate that the item has no state image, set the index to zero.</span></span> <span data-ttu-id="325dd-231">Diese Konvention bedeutet, dass Image NULL in der Status Bild Liste nicht als Zustands Bild verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="325dd-231">This convention means that image zero in the state image list cannot be used as a state image.</span></span> <span data-ttu-id="325dd-232">Um Bits 12 bis 15 des **State** -Members zu isolieren, verwenden Sie die [**Tvis- \_ stateimagemask**](tree-view-control-item-states.md) -Maske.</span><span class="sxs-lookup"><span data-stu-id="325dd-232">To isolate bits 12 through 15 of the **state** member, use the [**TVIS\_STATEIMAGEMASK**](tree-view-control-item-states.md) mask.</span></span> <span data-ttu-id="325dd-233">Weitere Informationen zu Überlagerungs-und Zustands Bildern finden Sie Unterstruktur [Ansicht Bildlisten](#tree-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="325dd-233">For more information about overlay and state images, see [Tree-View Image Lists](#tree-view-image-lists).</span></span>

## <a name="item-selection"></a><span data-ttu-id="325dd-234">Elementauswahl</span><span class="sxs-lookup"><span data-stu-id="325dd-234">Item Selection</span></span>

<span data-ttu-id="325dd-235">Ein Strukturansicht-Steuerelement benachrichtigt das übergeordnete Fenster, wenn sich die Auswahl von einem Element in ein anderes ändert, indem die [TVN \_ selchanging](tvn-selchanging.md) -und [TVN \_ selchanged](tvn-selchanged.md) -Benachrichtigungs Meldungen gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-235">A tree-view control notifies the parent window when the selection changes from one item to another by sending the [TVN\_SELCHANGING](tvn-selchanging.md) and [TVN\_SELCHANGED](tvn-selchanged.md) notification messages.</span></span> <span data-ttu-id="325dd-236">Beide Benachrichtigungen enthalten einen Wert, der angibt, ob es sich bei der Änderung um das Ergebnis eines Mausklicks oder eines Tastatur Schlags handelt.</span><span class="sxs-lookup"><span data-stu-id="325dd-236">Both notifications include a value that specifies whether the change is the result of a mouse click or a keystroke.</span></span> <span data-ttu-id="325dd-237">Die Benachrichtigungen enthalten außerdem Informationen über das Element, das die Auswahl erhält, und das Element, das die Auswahl verliert.</span><span class="sxs-lookup"><span data-stu-id="325dd-237">The notifications also include information about the item that is gaining the selection and the item that is losing the selection.</span></span> <span data-ttu-id="325dd-238">Mit diesen Informationen können Sie Element Attribute festlegen, die vom Auswahl Zustand des Elements abhängen.</span><span class="sxs-lookup"><span data-stu-id="325dd-238">You can use this information to set item attributes that depend on the selection state of the item.</span></span> <span data-ttu-id="325dd-239">Wenn Sie " **true** " als Antwort auf "TVN selchanging" zurückgeben \_ , wird verhindert, dass die Auswahl geändert wird, und " **false** "</span><span class="sxs-lookup"><span data-stu-id="325dd-239">Returning **TRUE** in response to TVN\_SELCHANGING prevents the selection from changing, and returning **FALSE** allows the change.</span></span>

<span data-ttu-id="325dd-240">Eine Anwendung kann die Auswahl durch Senden der [**TVM- \_ SelectItem**](tvm-selectitem.md) -Nachricht ändern.</span><span class="sxs-lookup"><span data-stu-id="325dd-240">An application can change the selection by sending the [**TVM\_SELECTITEM**](tvm-selectitem.md) message.</span></span>

## <a name="item-information"></a><span data-ttu-id="325dd-241">Element Informationen</span><span class="sxs-lookup"><span data-stu-id="325dd-241">Item Information</span></span>

<span data-ttu-id="325dd-242">Strukturansicht-Steuerelemente unterstützen eine Reihe von Nachrichten, die Informationen zu Elementen im Steuerelement abrufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-242">Tree-view controls support a number of messages that retrieve information about items in the control.</span></span>

<span data-ttu-id="325dd-243">Die [**TVM \_ GetItem**](tvm-getitem.md) -Nachricht kann das Handle und die Attribute eines Elements abrufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-243">The [**TVM\_GETITEM**](tvm-getitem.md) message can retrieve an item's handle and attributes.</span></span> <span data-ttu-id="325dd-244">Die Attribute eines Elements enthalten seinen aktuellen Zustand, die Indizes in der Bildliste des Steuer Elements der ausgewählten und nicht ausgewählten Bitmapbilder des Elements, ein Flag, das angibt, ob das Element über untergeordnete Elemente verfügt, die Adresse der Zeichenfolge des Elements und den von der Anwendung definierten 32-Bit-Wert des Elements.</span><span class="sxs-lookup"><span data-stu-id="325dd-244">An item's attributes include its current state, the indexes in the control's image list of the item's selected and nonselected bitmapped images, a flag that indicates whether the item has child items, the address of the item's label string, and the item's application-defined 32-bit value.</span></span>

<span data-ttu-id="325dd-245">Die [**TVM \_ GetNextItem**](tvm-getnextitem.md) -Meldung Ruft das Struktur Ansichts Element ab, das die angegebene Beziehung zum aktuellen Element trägt.</span><span class="sxs-lookup"><span data-stu-id="325dd-245">The [**TVM\_GETNEXTITEM**](tvm-getnextitem.md) message retrieves the tree-view item that bears the specified relationship to the current item.</span></span> <span data-ttu-id="325dd-246">Die Nachricht kann das übergeordnete Element eines Elements, das nächste oder vorherige sichtbare Element, das erste untergeordnete Element usw. abrufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-246">The message can retrieve an item's parent, the next or previous visible item, the first child item, and so on.</span></span>

<span data-ttu-id="325dd-247">Die [**TVM \_ GetItemRect**](tvm-getitemrect.md) -Meldung Ruft das umgebende Rechteck für ein Struktur Ansichts Element ab.</span><span class="sxs-lookup"><span data-stu-id="325dd-247">The [**TVM\_GETITEMRECT**](tvm-getitemrect.md) message retrieves the bounding rectangle for a tree-view item.</span></span> <span data-ttu-id="325dd-248">Die [**TVM \_ GetCount**](tvm-getcount.md) -und [**TVM \_ GetVisibleCount**](tvm-getvisiblecount.md) -Meldungen rufen die Anzahl der Elemente in einem Strukturansicht-Steuerelement und die Anzahl der Elemente ab, die im Fenster des Strukturansicht-Steuer Elements vollständig sichtbar sein können.</span><span class="sxs-lookup"><span data-stu-id="325dd-248">The [**TVM\_GETCOUNT**](tvm-getcount.md) and [**TVM\_GETVISIBLECOUNT**](tvm-getvisiblecount.md) messages retrieve a count of the items in a tree-view control and a count of the items that can be fully visible in the tree-view control's window, respectively.</span></span> <span data-ttu-id="325dd-249">Sie können sicherstellen, dass ein bestimmtes Element sichtbar ist, indem Sie die [**TVM \_ EnsureVisible**](tvm-ensurevisible.md) -Meldung verwenden.</span><span class="sxs-lookup"><span data-stu-id="325dd-249">You can ensure that a particular item is visible by using the [**TVM\_ENSUREVISIBLE**](tvm-ensurevisible.md) message.</span></span>

## <a name="tree-view-image-lists"></a><span data-ttu-id="325dd-250">Tree-View Bildlisten</span><span class="sxs-lookup"><span data-stu-id="325dd-250">Tree-View Image Lists</span></span>

<span data-ttu-id="325dd-251">Jedem Element in einem Strukturansicht-Steuerelement können vier bitzugeordnete Bilder zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-251">Each item in a tree-view control can have four bitmapped images associated with it.</span></span>

-   <span data-ttu-id="325dd-252">Ein Bild, z. b. ein offener Ordner, der angezeigt wird, wenn das Element ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-252">An image, such as an open folder, displayed when the item is selected.</span></span>
-   <span data-ttu-id="325dd-253">Ein Bild, z. b. ein geschlossener Ordner, der angezeigt wird, wenn das Element nicht ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-253">An image, such as a closed folder, displayed when the item is not selected.</span></span>
-   <span data-ttu-id="325dd-254">Ein Überlagerungs Bild, das transparent über das ausgewählte oder nicht ausgewählte Bild gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-254">An overlay image that is drawn transparently over the selected or nonselected image.</span></span>
-   <span data-ttu-id="325dd-255">Ein Zustands Bild, bei dem es sich um ein zusätzliches Bild handelt, das links neben dem ausgewählten oder nicht ausgewählten Bild angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-255">A state image, which is an additional image displayed to the left of the selected or nonselected image.</span></span> <span data-ttu-id="325dd-256">Sie können Zustands Bilder, wie z. b. aktivierte und gelöschte Kontrollkästchen, verwenden, um Anwendungs definierte Element Zustände anzugeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-256">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span>

<span data-ttu-id="325dd-257">Standardmäßig werden von einem Strukturansicht-Steuerelement keine Element Bilder angezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-257">By default, a tree-view control does not display item images.</span></span> <span data-ttu-id="325dd-258">Zum Anzeigen von Element Bildern müssen Sie Bildlisten erstellen und Sie dem Steuerelement zuordnen.</span><span class="sxs-lookup"><span data-stu-id="325dd-258">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="325dd-259">Weitere Informationen zu Bildlisten finden Sie unter [Bildlisten](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="325dd-259">For more information about image lists, see [Image Lists](image-lists.md).</span></span>

<span data-ttu-id="325dd-260">Ein Strukturansicht-Steuerelement kann über zwei Bildlisten verfügen: eine normale Bildliste und eine Status Bild Liste.</span><span class="sxs-lookup"><span data-stu-id="325dd-260">A tree-view control can have two image lists: a normal image list and a state image list.</span></span> <span data-ttu-id="325dd-261">In einer normalen Bildliste werden die ausgewählten, nicht ausgewählten und Überlagerungs Bilder gespeichert.</span><span class="sxs-lookup"><span data-stu-id="325dd-261">A normal image list stores the selected, nonselected, and overlay images.</span></span> <span data-ttu-id="325dd-262">In einer Status Bild Liste werden Zustands Bilder gespeichert.</span><span class="sxs-lookup"><span data-stu-id="325dd-262">A state image list stores state images.</span></span> <span data-ttu-id="325dd-263">Verwenden Sie die Create-Funktion von [**ImageList \_**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) , um eine Bildliste zu erstellen, und verwenden Sie andere Bildauflistungs Funktionen, um der Bildliste Bitmaps hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="325dd-263">Use the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function to create an image list, and use other image list functions to add bitmaps to the image list.</span></span> <span data-ttu-id="325dd-264">Um dann die Bildliste dem Strukturansicht-Steuerelement zuzuordnen, verwenden Sie die [**TVM-Meldung " \_ SetImageList**](tvm-setimagelist.md) ".</span><span class="sxs-lookup"><span data-stu-id="325dd-264">Then, to associate the image list with the tree-view control, use the [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="325dd-265">Die [**TVM \_ GetImageList**](tvm-getimagelist.md) -Meldung Ruft ein Handle für eine der Bildlisten eines Strukturansicht-Steuer Elements ab.</span><span class="sxs-lookup"><span data-stu-id="325dd-265">The [**TVM\_GETIMAGELIST**](tvm-getimagelist.md) message retrieves a handle to one of a tree-view control's image lists.</span></span> <span data-ttu-id="325dd-266">Diese Meldung ist nützlich, wenn Sie der Liste weitere Bilder hinzufügen müssen.</span><span class="sxs-lookup"><span data-stu-id="325dd-266">This message is useful if you need to add more images to the list.</span></span>

<span data-ttu-id="325dd-267">Zusätzlich zu den ausgewählten und nicht ausgewählten Images kann die normale Bildliste eines Strukturansicht-Steuer Elements bis zu vier Überlagerungs Bilder enthalten.</span><span class="sxs-lookup"><span data-stu-id="325dd-267">In addition to the selected and nonselected images, a tree-view control's normal image list can contain up to four overlay images.</span></span> <span data-ttu-id="325dd-268">Überlagerungs Bilder werden von einem 1-basierten Index identifiziert und sind so konzipiert, dass Sie transparent über die ausgewählten und nicht ausgewählten Images gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-268">Overlay images are identified by a one-based index and are designed to be drawn transparently over the selected and nonselected images.</span></span> <span data-ttu-id="325dd-269">Um einen Überlagerungs Masken Index einem Bild in der normalen Bildliste zuzuweisen, müssen Sie die [**ImageList-Funktion " \_ SetImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) " aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-269">To assign an overlay mask index to an image in the normal image list, call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function.</span></span>

<span data-ttu-id="325dd-270">Standardmäßig wird für alle Elemente das erste Bild in der normalen Bildliste für den ausgewählten und den nicht ausgewählten Zustand angezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-270">By default, all items display the first image in the normal image list for both the selected and nonselected states.</span></span> <span data-ttu-id="325dd-271">Außerdem werden in Elementen standardmäßig keine Überlagerungs Bilder oder Zustands Bilder angezeigt.</span><span class="sxs-lookup"><span data-stu-id="325dd-271">Also, by default, items do not display overlay images or state images.</span></span> <span data-ttu-id="325dd-272">Sie können diese Standardverhalten für ein Element ändern, indem Sie die [**TVM \_ InsertItem**](tvm-insertitem.md) -oder [**TVM \_**](tvm-setitem.md) -Nachricht senden.</span><span class="sxs-lookup"><span data-stu-id="325dd-272">You can change these default behaviors for an item by sending the [**TVM\_INSERTITEM**](tvm-insertitem.md) or [**TVM\_SETITEM**](tvm-setitem.md) message.</span></span> <span data-ttu-id="325dd-273">Diese Nachrichten verwenden die [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur, um Bildlisten Indizes für ein Element festzulegen.</span><span class="sxs-lookup"><span data-stu-id="325dd-273">These messages use the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure to specify image list indexes for an item.</span></span>

<span data-ttu-id="325dd-274">Legen Sie die tvif \_ SelectedImage-und tvif- \_ Bildbits im **Mask** -Member der [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur fest, und geben Sie Indizes aus der normalen Bildliste des Steuer Elements in den Membern " **iselectimage** " und " **iImage** " an, um die ausgewählten und nicht ausgewählten Images eines Elements anzugeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-274">To specify an item's selected and nonselected images, set the TVIF\_SELECTEDIMAGE and TVIF\_IMAGE bits in the **mask** member of the [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure and specify indexes from the control's normal image list in the **iSelectImage** and **iImage** members.</span></span> <span data-ttu-id="325dd-275">Alternativ können Sie den Wert "I \_ imagecallback" in " **iselectimage** " und " **iImage** " angeben, anstatt Indizes anzugeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-275">Alternatively, you can specify the I\_IMAGECALLBACK value in **iSelectImage** and **iImage** instead of specifying indexes.</span></span> <span data-ttu-id="325dd-276">Dies bewirkt, dass das Steuerelement jedes Mal, wenn das Element neu gezeichnet wird, sein übergeordnetes Fenster für einen Bildlisten Index abfragt.</span><span class="sxs-lookup"><span data-stu-id="325dd-276">This causes the control to query its parent window for an image list index each time the item is about to be redrawn.</span></span> <span data-ttu-id="325dd-277">Das-Steuerelement sendet die [TVN \_ getdispinfo](tvn-getdispinfo.md) -Benachrichtigungs Meldung, um den Index abzurufen.</span><span class="sxs-lookup"><span data-stu-id="325dd-277">The control sends the [TVN\_GETDISPINFO](tvn-getdispinfo.md) notification message to retrieve the index.</span></span>

<span data-ttu-id="325dd-278">Um ein Überlagerungs Bild einem Element zuzuordnen, verwenden Sie das [**indexyoverlaymask**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) -Makro, um einen Überlagerungs Masken Index im **State** -Member der [**tvitem**](/windows/win32/api/commctrl/ns-commctrl-tvitema) -Struktur des Elements anzugeben.</span><span class="sxs-lookup"><span data-stu-id="325dd-278">To associate an overlay image with an item, use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay mask index in the **state** member of the item's [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure.</span></span> <span data-ttu-id="325dd-279">Sie müssen auch die [**Tvis- \_ overlaymask**](tree-view-control-item-states.md) -Bits im **Status Ask** -Member festlegen.</span><span class="sxs-lookup"><span data-stu-id="325dd-279">You must also set the [**TVIS\_OVERLAYMASK**](tree-view-control-item-states.md) bits in the **stateMask** member.</span></span> <span data-ttu-id="325dd-280">Überlagerungs Masken Indizes sind 1-basiert. ein Index von NULL gibt an, dass kein Überlagerungs Bild angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-280">Overlay mask indexes are one-based; an index of zero indicates that no overlay image was specified.</span></span>

<span data-ttu-id="325dd-281">Zustands Bilder werden in einer separaten Zustands Image Liste gespeichert und durch ihren Index identifiziert.</span><span class="sxs-lookup"><span data-stu-id="325dd-281">State images are stored in a separate state image list and identified by their index.</span></span> <span data-ttu-id="325dd-282">Um die Status Bild Liste anzugeben, senden Sie eine TVM-Meldung " [**\_ SetImageList**](tvm-setimagelist.md) ".</span><span class="sxs-lookup"><span data-stu-id="325dd-282">To specify the state image list, send a [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <span data-ttu-id="325dd-283">Im Gegensatz zum Listenansicht-Steuerelement, das einen 1-basierten Index zum Identifizieren von Zustands Bildern verwendet, werden Strukturansicht-Steuerelement Zustands Bilder durch einen NULL basierten Index identifiziert.</span><span class="sxs-lookup"><span data-stu-id="325dd-283">Unlike the list-view control, which uses a one-based index to identify state images, tree-view control state images are identified by a zero-based index.</span></span> <span data-ttu-id="325dd-284">Ein Index mit der Größe 0 (null) gibt jedoch an, dass das Element nicht über ein Zustands Bild verfügt.</span><span class="sxs-lookup"><span data-stu-id="325dd-284">However, an index of zero indicates that the item does not have a state image.</span></span> <span data-ttu-id="325dd-285">Folglich kann Image NULL nicht als Zustands Bild verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-285">Consequently, image zero cannot be used as a state image.</span></span> <span data-ttu-id="325dd-286">Weitere Informationen zu Element Zuständen und Zustands Bildern finden Sie Unterstruktur [Ansicht Element Zustände (Übersicht](#tree-view-item-states-overview)).</span><span class="sxs-lookup"><span data-stu-id="325dd-286">For further discussion of item states and state images, see [Tree-View Item States Overview](#tree-view-item-states-overview).</span></span>

## <a name="drag-and-drop-operations"></a><span data-ttu-id="325dd-287">Drag & Drop-Vorgänge</span><span class="sxs-lookup"><span data-stu-id="325dd-287">Drag-and-Drop Operations</span></span>

<span data-ttu-id="325dd-288">Ein Strukturansicht-Steuerelement benachrichtigt das übergeordnete Fenster, wenn der Benutzer mit dem Ziehen eines Elements beginnt.</span><span class="sxs-lookup"><span data-stu-id="325dd-288">A tree-view control notifies the parent window when the user starts to drag an item.</span></span> <span data-ttu-id="325dd-289">Das übergeordnete Fenster empfängt eine [TVN \_ BeginDrag](tvn-begindrag.md) -Benachrichtigungs Meldung, wenn der Benutzer mit dem Ziehen eines Elements mit der linken Maustaste beginnt und eine [TVN \_ beginrdrag](tvn-beginrdrag.md) -Benachrichtigungs Meldung angezeigt wird, wenn der Benutzer mit der rechten Maustaste loslässt.</span><span class="sxs-lookup"><span data-stu-id="325dd-289">The parent window receives a [TVN\_BEGINDRAG](tvn-begindrag.md) notification message when the user begins dragging an item with the left mouse button and a [TVN\_BEGINRDRAG](tvn-beginrdrag.md) notification message when the user begins dragging with the right button.</span></span> <span data-ttu-id="325dd-290">Sie können verhindern, dass ein Strukturansicht-Steuerelement diese Benachrichtigungen sendet, indem Sie dem Strukturansicht-Steuerelement den Stil " [**\_ disabledragdrop**](tree-view-control-window-styles.md) " des-Steuer Elements geben</span><span class="sxs-lookup"><span data-stu-id="325dd-290">You can prevent a tree-view control from sending these notifications by giving the tree-view control the [**TVS\_DISABLEDRAGDROP**](tree-view-control-window-styles.md) style.</span></span>

<span data-ttu-id="325dd-291">Sie erhalten ein Bild, das während eines Zieh Vorgangs mithilfe der TVM-Meldung " [**\_ fiatedragimage**](tvm-createdragimage.md) " angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-291">You obtain an image to display during a drag operation by using the [**TVM\_CREATEDRAGIMAGE**](tvm-createdragimage.md) message.</span></span> <span data-ttu-id="325dd-292">Das Strukturansicht-Steuerelement erstellt eine Zieh Bitmap auf der Grundlage der Bezeichnung des gezogenen Elements.</span><span class="sxs-lookup"><span data-stu-id="325dd-292">The tree-view control creates a dragging bitmap based on the label of the item being dragged.</span></span> <span data-ttu-id="325dd-293">Dann erstellt das Strukturansicht-Steuerelement eine Bildliste, fügt Sie der Bitmap hinzu und gibt das Handle für die Bildliste zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-293">Then the tree-view control creates an image list, adds the bitmap to it, and returns the handle to the image list.</span></span>

<span data-ttu-id="325dd-294">Sie müssen den Code bereitstellen, der das Element tatsächlich zieht.</span><span class="sxs-lookup"><span data-stu-id="325dd-294">You must provide the code that actually drags the item.</span></span> <span data-ttu-id="325dd-295">Dies umfasst in der Regel die Verwendung der Zieh Funktionen der Abbild Listen Funktionen und die Verarbeitung der Nachrichten [**WM \_ mousmove**](/windows/desktop/inputdev/wm-mousemove) und [**WM \_ lbuttonup**](/windows/desktop/inputdev/wm-lbuttonup) (oder [**WM \_ rbuttonup**](/windows/desktop/inputdev/wm-rbuttonup)), die an das übergeordnete Fenster gesendet werden, nachdem der Zieh Vorgang begonnen wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-295">This typically involves using the dragging capabilities of the image list functions and processing the [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove) and [**WM\_LBUTTONUP**](/windows/desktop/inputdev/wm-lbuttonup) (or [**WM\_RBUTTONUP**](/windows/desktop/inputdev/wm-rbuttonup)) messages sent to the parent window after the drag operation has begun.</span></span>

<span data-ttu-id="325dd-296">Wenn Elemente in einem Strukturansicht-Steuerelement die Ziele von Drag & Drop-Vorgängen sind, müssen Sie wissen, wenn sich der Mauszeiger auf einem Ziel Element befindet.</span><span class="sxs-lookup"><span data-stu-id="325dd-296">If items in a tree-view control are to be the targets of drag-and-drop operations, you need to know when the mouse pointer is on a target item.</span></span> <span data-ttu-id="325dd-297">Mithilfe der [**TVM- \_ HitTest**](tvm-hittest.md) -Meldung können Sie herausfinden.</span><span class="sxs-lookup"><span data-stu-id="325dd-297">You can find out by using the [**TVM\_HITTEST**](tvm-hittest.md) message.</span></span> <span data-ttu-id="325dd-298">Sie geben die Adresse einer [**TVHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) -Struktur an, die die aktuellen Koordinaten des Mauszeigers enthält.</span><span class="sxs-lookup"><span data-stu-id="325dd-298">You specify the address of a [**TVHITTESTINFO**](/windows/win32/api/commctrl/ns-commctrl-tvhittestinfo) structure that contains the current coordinates of the mouse pointer.</span></span> <span data-ttu-id="325dd-299">Wenn die [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) -Funktion zurückgegeben wird, enthält die-Struktur ein Flag, das die Position des Mauszeigers relativ zum Strukturansicht-Steuerelement angibt.</span><span class="sxs-lookup"><span data-stu-id="325dd-299">When the [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) function returns, the structure contains a flag indicating the location of the mouse pointer relative to the tree-view control.</span></span> <span data-ttu-id="325dd-300">Wenn sich der Zeiger über einem Element im Strukturansicht-Steuerelement befindet, enthält die Struktur auch das Handle für das Element.</span><span class="sxs-lookup"><span data-stu-id="325dd-300">If the pointer is over an item in the tree-view control, the structure contains the handle to the item as well.</span></span>

<span data-ttu-id="325dd-301">Sie können angeben, dass ein Element das Ziel eines Drag & Drop-Vorgangs ist. verwenden Sie dazu die [**TVM \_ SetItem**](tvm-setitem.md) -Meldung, um den Status auf den durch [**Tvis fest \_ gelegten Wert**](tree-view-control-item-states.md) festzulegen.</span><span class="sxs-lookup"><span data-stu-id="325dd-301">You can indicate that an item is the target of a drag-and-drop operation by using the [**TVM\_SETITEM**](tvm-setitem.md) message to set the state to the [**TVIS\_DROPHILITED**](tree-view-control-item-states.md) value.</span></span> <span data-ttu-id="325dd-302">Ein Element mit diesem Zustand wird in dem Format gezeichnet, mit dem ein Drag & Drop-Ziel angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-302">An item that has this state is drawn in the style used to indicate a drag-and-drop target.</span></span>

## <a name="tree-view-control-notification-messages"></a><span data-ttu-id="325dd-303">Benachrichtigungs Meldungen zur Tree-View Steuerung</span><span class="sxs-lookup"><span data-stu-id="325dd-303">Tree-View Control Notification Messages</span></span>

<span data-ttu-id="325dd-304">Ein Strukturansicht-Steuerelement sendet die folgenden Benachrichtigungs Meldungen in Form von WM-Benachrichtigungs Meldungen an das übergeordnete Fenster. [**\_**](wm-notify.md)</span><span class="sxs-lookup"><span data-stu-id="325dd-304">A tree-view control sends the following notification messages to its parent window in the form of [**WM\_NOTIFY**](wm-notify.md) messages.</span></span>



| <span data-ttu-id="325dd-305">Benachrichtigung</span><span class="sxs-lookup"><span data-stu-id="325dd-305">Notification</span></span>                                    | <span data-ttu-id="325dd-306">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="325dd-306">Description</span></span>                                                                            |
|-------------------------------------------------|----------------------------------------------------------------------------------------|
| [<span data-ttu-id="325dd-307">TVN \_ BeginDrag</span><span class="sxs-lookup"><span data-stu-id="325dd-307">TVN\_BEGINDRAG</span></span>](tvn-begindrag.md)             | <span data-ttu-id="325dd-308">Signalisiert den Anfang eines Drag & Drop-Vorgangs.</span><span class="sxs-lookup"><span data-stu-id="325dd-308">Signals the start of a drag-and-drop operation.</span></span>                                        |
| <span data-ttu-id="325dd-309">[TVN \_ beginlabeledit](tvn-beginlabeledit.md)  </span><span class="sxs-lookup"><span data-stu-id="325dd-309">[TVN\_BEGINLABELEDIT](tvn-beginlabeledit.md)  </span></span> | <span data-ttu-id="325dd-310">Signalisiert den Start der direkten Bezeichnungs Bearbeitung.</span><span class="sxs-lookup"><span data-stu-id="325dd-310">Signals the start of in-place label editing.</span></span>                                           |
| [<span data-ttu-id="325dd-311">TVN \_ beginrdrag</span><span class="sxs-lookup"><span data-stu-id="325dd-311">TVN\_BEGINRDRAG</span></span>](tvn-beginrdrag.md)           | <span data-ttu-id="325dd-312">Signalisiert, dass die Rechte Maustaste einen Drag & Drop-Vorgang gestartet hat.</span><span class="sxs-lookup"><span data-stu-id="325dd-312">Signals that the right mouse button has started a drag-and-drop operation.</span></span>             |
| [<span data-ttu-id="325dd-313">TVN \_ DeleteItem</span><span class="sxs-lookup"><span data-stu-id="325dd-313">TVN\_DELETEITEM</span></span>](tvn-deleteitem.md)           | <span data-ttu-id="325dd-314">Signalisiert das Löschen eines bestimmten Elements.</span><span class="sxs-lookup"><span data-stu-id="325dd-314">Signals the deletion of a specific item.</span></span>                                               |
| [<span data-ttu-id="325dd-315">TVN \_ endlabeledit</span><span class="sxs-lookup"><span data-stu-id="325dd-315">TVN\_ENDLABELEDIT</span></span>](tvn-endlabeledit.md)       | <span data-ttu-id="325dd-316">Signalisiert das Ende der Bezeichnungs Bearbeitung.</span><span class="sxs-lookup"><span data-stu-id="325dd-316">Signals the end of label editing.</span></span>                                                      |
| [<span data-ttu-id="325dd-317">TVN \_ getdispinfo</span><span class="sxs-lookup"><span data-stu-id="325dd-317">TVN\_GETDISPINFO</span></span>](tvn-getdispinfo.md)         | <span data-ttu-id="325dd-318">Fordert Informationen an, die vom Strukturansicht-Steuerelement zum Anzeigen eines Elements benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-318">Requests information that the tree-view control requires to display an item.</span></span>           |
| [<span data-ttu-id="325dd-319">TVN \_ itemexpanded</span><span class="sxs-lookup"><span data-stu-id="325dd-319">TVN\_ITEMEXPANDED</span></span>](tvn-itemexpanded.md)       | <span data-ttu-id="325dd-320">Signalisiert, dass die Liste der untergeordneten Elemente eines übergeordneten Elements erweitert oder reduziert wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-320">Signals that a parent item's list of child items was expanded or collapsed.</span></span>            |
| [<span data-ttu-id="325dd-321">TVN \_ itemexpanding</span><span class="sxs-lookup"><span data-stu-id="325dd-321">TVN\_ITEMEXPANDING</span></span>](tvn-itemexpanding.md)     | <span data-ttu-id="325dd-322">Signalisiert, dass die Liste der untergeordneten Elemente eines übergeordneten Elements im Begriff ist, erweitert oder reduziert zu werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-322">Signals that a parent item's list of child items is about to be expanded or collapsed.</span></span> |
| [<span data-ttu-id="325dd-323">TVN- \_ KeyDown</span><span class="sxs-lookup"><span data-stu-id="325dd-323">TVN\_KEYDOWN</span></span>](tvn-keydown.md)                 | <span data-ttu-id="325dd-324">Signalisiert ein Tastaturereignis.</span><span class="sxs-lookup"><span data-stu-id="325dd-324">Signals a keyboard event.</span></span>                                                              |
| [<span data-ttu-id="325dd-325">TVN \_ selchanged</span><span class="sxs-lookup"><span data-stu-id="325dd-325">TVN\_SELCHANGED</span></span>](tvn-selchanged.md)           | <span data-ttu-id="325dd-326">Signalisiert, dass sich die Auswahl von einem Element in ein anderes geändert hat.</span><span class="sxs-lookup"><span data-stu-id="325dd-326">Signals that the selection has changed from one item to another.</span></span>                       |
| [<span data-ttu-id="325dd-327">Auswahl von TVN \_</span><span class="sxs-lookup"><span data-stu-id="325dd-327">TVN\_SELCHANGING</span></span>](tvn-selchanging.md)         | <span data-ttu-id="325dd-328">Signalisiert, dass die Auswahl im Begriff ist, von einem Element in ein anderes zu ändern.</span><span class="sxs-lookup"><span data-stu-id="325dd-328">Signals that the selection is about to be changed from one item to another.</span></span>            |
| [<span data-ttu-id="325dd-329">TVN \_ setdispinfo</span><span class="sxs-lookup"><span data-stu-id="325dd-329">TVN\_SETDISPINFO</span></span>](tvn-setdispinfo.md)         | <span data-ttu-id="325dd-330">Benachrichtigt ein übergeordnetes Fenster, dass es die Informationen aktualisieren muss, die für ein Element verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="325dd-330">Notifies a parent window that it must update the information it maintains for an item.</span></span> |



 

## <a name="default-tree-view-control-message-processing"></a><span data-ttu-id="325dd-331">Standardmäßige Tree-View Steuerung der Nachrichtenverarbeitung</span><span class="sxs-lookup"><span data-stu-id="325dd-331">Default Tree-View Control Message Processing</span></span>

<span data-ttu-id="325dd-332">In diesem Abschnitt wird die Fenster Nachrichtenverarbeitung beschrieben, die von einem Strukturansicht-Steuerelement ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="325dd-332">This section describes the window message processing performed by a tree-view control.</span></span> <span data-ttu-id="325dd-333">Nachrichten, die für Strukturansicht-Steuerelemente spezifisch sind, werden in anderen Abschnitten dieses Dokuments erläutert, sodass Sie hier nicht enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="325dd-333">Messages specific to tree-view controls are discussed in other sections of this document, so they are not included here.</span></span>



| <span data-ttu-id="325dd-334">`Message`</span><span class="sxs-lookup"><span data-stu-id="325dd-334">Message</span></span>                                            | <span data-ttu-id="325dd-335">Verarbeitung wird ausgeführt</span><span class="sxs-lookup"><span data-stu-id="325dd-335">Processing performed</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="325dd-336">**WM- \_ Befehl**</span><span class="sxs-lookup"><span data-stu-id="325dd-336">**WM\_COMMAND**</span></span>](/windows/desktop/menurc/wm-command)               | <span data-ttu-id="325dd-337">Verarbeitet die Benachrichtigungs Meldungen " [en \_ Update](en-update.md) " und " [en \_ killfocus](en-killfocus.md) Edit Control" und leitet alle anderen Bearbeitungs Steuerelement Benachrichtigungen an das übergeordnete Fenster weiter.</span><span class="sxs-lookup"><span data-stu-id="325dd-337">Processes the [EN\_UPDATE](en-update.md) and [EN\_KILLFOCUS](en-killfocus.md) edit control notification messages and forwards all other edit control notifications to the parent window.</span></span> <span data-ttu-id="325dd-338">Es ist kein Rückgabewert vorhanden.</span><span class="sxs-lookup"><span data-stu-id="325dd-338">There is no return value.</span></span>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="325dd-339">**WM \_ Erstellen**</span><span class="sxs-lookup"><span data-stu-id="325dd-339">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="325dd-340">Weist Speicher zu und initialisiert interne Datenstrukturen.</span><span class="sxs-lookup"><span data-stu-id="325dd-340">Allocates memory and initializes internal data structures.</span></span> <span data-ttu-id="325dd-341">Andernfalls wird NULL zurückgegeben, wenn erfolgreich, andernfalls-1.</span><span class="sxs-lookup"><span data-stu-id="325dd-341">It returns zero if successful, or -1 otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="325dd-342">**WM \_ zerstören**</span><span class="sxs-lookup"><span data-stu-id="325dd-342">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="325dd-343">Gibt alle dem Steuerelement zugeordneten Systemressourcen frei.</span><span class="sxs-lookup"><span data-stu-id="325dd-343">Frees all system resources associated with the control.</span></span> <span data-ttu-id="325dd-344">Gibt 0 (null) zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-344">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="325dd-345">**WM \_ aktivieren**</span><span class="sxs-lookup"><span data-stu-id="325dd-345">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)                 | <span data-ttu-id="325dd-346">Aktiviert oder deaktiviert das Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="325dd-346">Enables or disables the control.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="325dd-347">**WM- \_ erasebkgnd**</span><span class="sxs-lookup"><span data-stu-id="325dd-347">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="325dd-348">Löscht den Fenster Hintergrund mithilfe der aktuellen Hintergrundfarbe für das Strukturansicht-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="325dd-348">Erases the window background using the current background color for the tree-view control.</span></span> <span data-ttu-id="325dd-349">Sie gibt **true** zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-349">It returns **TRUE**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="325dd-350">**WM \_ getdlgcode**</span><span class="sxs-lookup"><span data-stu-id="325dd-350">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="325dd-351">Gibt eine Kombination der dlgc \_ -wantpfeile-und dlgc- \_ wantchars-Werte zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-351">Returns a combination of the DLGC\_WANTARROWS and DLGC\_WANTCHARS values.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="325dd-352">**WM- \_ getFont**</span><span class="sxs-lookup"><span data-stu-id="325dd-352">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="325dd-353">Gibt das Handle für die Schriftart der aktuellen Bezeichnung zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-353">Returns the handle to the current label font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| [<span data-ttu-id="325dd-354">**WM- \_ HScroll**</span><span class="sxs-lookup"><span data-stu-id="325dd-354">**WM\_HSCROLL**</span></span>](wm-hscroll.md)                  | <span data-ttu-id="325dd-355">Führt im Strukturansicht-Steuerelement einen Bildlauf durch.</span><span class="sxs-lookup"><span data-stu-id="325dd-355">Scrolls the tree-view control.</span></span> <span data-ttu-id="325dd-356">Gibt **true** zurück, wenn ein Bildlauf durchgeführt wird, andernfalls **false** .</span><span class="sxs-lookup"><span data-stu-id="325dd-356">It returns **TRUE** if scrolling occurs, or **FALSE** otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="325dd-357">**WM- \_ KeyDown**</span><span class="sxs-lookup"><span data-stu-id="325dd-357">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)             | <span data-ttu-id="325dd-358">Sendet die [TVN- \_ KeyDown](tvn-keydown.md) -Benachrichtigungs Meldung an das übergeordnete Fenster aller Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="325dd-358">Sends the [TVN\_KEYDOWN](tvn-keydown.md) notification message to the parent window for all keys.</span></span> <span data-ttu-id="325dd-359">Sendet die nm-Benachrichtigungs Meldung [ \_ (Strukturansicht)](nm-return-tree-view-.md) , wenn der Benutzer die EINGABETASTE drückt.</span><span class="sxs-lookup"><span data-stu-id="325dd-359">Sends the [NM\_RETURN (tree view)](nm-return-tree-view-.md) notification message when the user presses the ENTER key.</span></span> <span data-ttu-id="325dd-360">Die Einfügemarke wird verschoben, wenn der Benutzer die Richtungs Tasten drückt, bzw. die Bild-auf, Bild-ab-, Start-, End-oder RÜCKTASTE.</span><span class="sxs-lookup"><span data-stu-id="325dd-360">It moves the caret when the user presses the direction keys or the PAGE UP, PAGE DOWN, HOME, END, or BACKSPACE key.</span></span> <span data-ttu-id="325dd-361">Sie führt einen Bildlauf im Strukturansicht-Steuerelement durch, wenn der Benutzer die STRG-Taste in Kombination mit diesen Schlüsseln drückt.</span><span class="sxs-lookup"><span data-stu-id="325dd-361">It scrolls the tree-view control when the user presses the CTRL key in combination with those keys.</span></span> <span data-ttu-id="325dd-362">Andernfalls wird **true** zurückgegeben, wenn eine Taste verarbeitet wird, andernfalls **false** .</span><span class="sxs-lookup"><span data-stu-id="325dd-362">It returns **TRUE** if a key is processed, or **FALSE** otherwise.</span></span> |
| [<span data-ttu-id="325dd-363">**WM- \_ killfokus**</span><span class="sxs-lookup"><span data-stu-id="325dd-363">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)         | <span data-ttu-id="325dd-364">Zeichnet das fokussierte Element ggf. neu und sendet eine [nm- \_ killfocus](nm-killfocus-tree-view.md) -Benachrichtigungs Meldung (Strukturansicht) an das übergeordnete Fenster.</span><span class="sxs-lookup"><span data-stu-id="325dd-364">Repaints the focused item, if any, and sends an [NM\_KILLFOCUS (tree view)](nm-killfocus-tree-view.md) notification message to the parent window.</span></span>                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="325dd-365">**WM \_ lbuttondblclk**</span><span class="sxs-lookup"><span data-stu-id="325dd-365">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="325dd-366">Bricht die Bezeichnungs Bearbeitung ab und sendet, wenn auf ein Element Doppel geklickt wurde, die [nm- \_ dblclk](nm-dblclk-tree-view.md) -Benachrichtigungs Meldung (Strukturansicht) an das übergeordnete Fenster.</span><span class="sxs-lookup"><span data-stu-id="325dd-366">Cancels label editing and, if an item was double-clicked, sends the [NM\_DBLCLK (tree view)](nm-dblclk-tree-view.md) notification message to the parent window.</span></span> <span data-ttu-id="325dd-367">Wenn das übergeordnete Fenster 0 zurückgibt, schaltet das Strukturansicht-Steuerelement den erweiterten Zustand des Elements um und sendet das übergeordnete Fenster die [TVN \_ itemexpandate](tvn-itemexpanding.md) -und [TVN \_ itemexpanded](tvn-itemexpanded.md) -Benachrichtigungs Meldungen.</span><span class="sxs-lookup"><span data-stu-id="325dd-367">If the parent window returns 0, the tree-view control toggles the expanded state of the item, sending the parent window the [TVN\_ITEMEXPANDING](tvn-itemexpanding.md) and [TVN\_ITEMEXPANDED](tvn-itemexpanded.md) notification messages.</span></span> <span data-ttu-id="325dd-368">Es ist kein Rückgabewert vorhanden.</span><span class="sxs-lookup"><span data-stu-id="325dd-368">There is no return value.</span></span>                                                                             |
| [<span data-ttu-id="325dd-369">**WM \_ lbuttondown**</span><span class="sxs-lookup"><span data-stu-id="325dd-369">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="325dd-370">Schaltet den erweiterten Zustand um, wenn der Benutzer auf die Schaltfläche geklickt hat, die einem übergeordneten Element zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-370">Toggles the expanded state if the user clicked the button associated with a parent item.</span></span> <span data-ttu-id="325dd-371">Wenn der Benutzer auf eine Element Bezeichnung geklickt hat, wählt das Strukturansicht-Steuerelement den Fokus aus und legt den Fokus auf das Element fest.</span><span class="sxs-lookup"><span data-stu-id="325dd-371">If the user clicked an item label, the tree-view control selects and sets the focus to the item.</span></span> <span data-ttu-id="325dd-372">Wenn der Benutzer die Maus vor dem Loslassen der Maustaste bewegt, startet das Strukturansicht-Steuerelement einen Drag & Drop-Vorgang.</span><span class="sxs-lookup"><span data-stu-id="325dd-372">If the user moves the mouse before releasing the mouse button, the tree-view control begins a drag-and-drop operation.</span></span> <span data-ttu-id="325dd-373">Es ist kein Rückgabewert vorhanden.</span><span class="sxs-lookup"><span data-stu-id="325dd-373">There is no return value.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="325dd-374">**WM- \_ Paint**</span><span class="sxs-lookup"><span data-stu-id="325dd-374">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="325dd-375">Zeichnet den ungültigen Bereich des Strukturansicht-Steuer Elements.</span><span class="sxs-lookup"><span data-stu-id="325dd-375">Paints the invalid region of the tree-view control.</span></span> <span data-ttu-id="325dd-376">Gibt 0 (null) zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-376">It returns zero.</span></span> <span data-ttu-id="325dd-377">Wenn der *wParam* -Parameter ungleich **null** ist, geht das Steuerelement davon aus, dass es sich bei dem Wert um ein Handle für einen Gerätekontext (HDC) und zeichnet, die diesen Gerätekontext verwenden.</span><span class="sxs-lookup"><span data-stu-id="325dd-377">If the *wParam* parameter is non-**NULL**, the control assumes that the value is a handle to a device context (HDC) and paints using that device context.</span></span>                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="325dd-378">**WM- \_ rbuttondown**</span><span class="sxs-lookup"><span data-stu-id="325dd-378">**WM\_RBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-rbuttondown)     | <span data-ttu-id="325dd-379">Prüft, ob auf ein Element geklickt wurde und ein Zieh Vorgang begonnen wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-379">Checks to see if an item was clicked and a drag operation was begun.</span></span> <span data-ttu-id="325dd-380">Wenn der Vorgang begonnen hat, sendet er eine [TVN \_ beginrdrag](tvn-beginrdrag.md) -Benachrichtigungs Meldung an das übergeordnete Fenster und hebt das Ablage Ziel hervor.</span><span class="sxs-lookup"><span data-stu-id="325dd-380">If the operation has begun, it sends a [TVN\_BEGINRDRAG](tvn-beginrdrag.md) notification message to the parent window and highlights the drop target.</span></span> <span data-ttu-id="325dd-381">Andernfalls sendet Sie eine [nm \_ rclick](nm-rclick-tree-view.md) -Benachrichtigungs Meldung (Strukturansicht) an das übergeordnete Fenster.</span><span class="sxs-lookup"><span data-stu-id="325dd-381">Otherwise, it sends an [NM\_RCLICK (tree view)](nm-rclick-tree-view.md) notification message to the parent window.</span></span> <span data-ttu-id="325dd-382">Es ist kein Rückgabewert vorhanden.</span><span class="sxs-lookup"><span data-stu-id="325dd-382">There is no return value.</span></span>                                                                                                                                           |
| [<span data-ttu-id="325dd-383">**WM- \_ SetFocus**</span><span class="sxs-lookup"><span data-stu-id="325dd-383">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)           | <span data-ttu-id="325dd-384">Zeichnet das fokussierte Element ggf. neu und sendet eine [nm- \_ SetFocus](nm-setfocus.md) -Benachrichtigungs Meldung an das übergeordnete Fenster.</span><span class="sxs-lookup"><span data-stu-id="325dd-384">Repaints the focused item, if any, and sends an [NM\_SETFOCUS](nm-setfocus.md) notification message to the parent window.</span></span>                                                                                                                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="325dd-385">**WM- \_ setFont**</span><span class="sxs-lookup"><span data-stu-id="325dd-385">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="325dd-386">Speichert das angegebene Schriftart Handle und zeichnet das Strukturansicht-Steuerelement mithilfe der neuen Schriftart neu.</span><span class="sxs-lookup"><span data-stu-id="325dd-386">Saves the specified font handle and repaints the tree-view control using the new font.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="325dd-387">**WM \_ -Ziel**</span><span class="sxs-lookup"><span data-stu-id="325dd-387">**WM\_SETREDRAW**</span></span>](/windows/desktop/gdi/wm-setredraw)              | <span data-ttu-id="325dd-388">Legt das Flag zum Umzeichnen fest oder löscht dieses.</span><span class="sxs-lookup"><span data-stu-id="325dd-388">Sets or clears the redraw flag.</span></span> <span data-ttu-id="325dd-389">Das Strukturansicht-Steuerelement wird neu gezeichnet, nachdem das neu zeichnen-Flag festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="325dd-389">The tree-view control is redrawn after the redraw flag is set.</span></span> <span data-ttu-id="325dd-390">Gibt 0 (null) zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-390">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="325dd-391">**WM- \_ Größe**</span><span class="sxs-lookup"><span data-stu-id="325dd-391">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)                     | <span data-ttu-id="325dd-392">Berechnet interne Variablen neu, die von der Größe des Client Bereichs des Strukturansicht-Steuer Elements abhängig sind.</span><span class="sxs-lookup"><span data-stu-id="325dd-392">Recomputes internal variables that depend on the size of the tree-view control's client area.</span></span> <span data-ttu-id="325dd-393">Sie gibt **true** zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-393">It returns **TRUE**.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                  |
| [<span data-ttu-id="325dd-394">**WM- \_ StyleChanged**</span><span class="sxs-lookup"><span data-stu-id="325dd-394">**WM\_STYLECHANGED**</span></span>](/windows/desktop/winmsg/wm-stylechanged)     | <span data-ttu-id="325dd-395">Bricht die Bezeichnungs Bearbeitung ab und zeichnet das Strukturansicht-Steuerelement mithilfe der neuen Stile neu.</span><span class="sxs-lookup"><span data-stu-id="325dd-395">Cancels label editing and redraws the tree-view control using the new styles.</span></span> <span data-ttu-id="325dd-396">Gibt 0 (null) zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-396">It returns zero.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="325dd-397">**WM- \_ syscolorchange**</span><span class="sxs-lookup"><span data-stu-id="325dd-397">**WM\_SYSCOLORCHANGE**</span></span>](/windows/desktop/gdi/wm-syscolorchange)    | <span data-ttu-id="325dd-398">Zeichnet das Strukturansicht-Steuerelement mithilfe der neuen Farbe neu, wenn das neu zeichnen-Flag festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="325dd-398">Redraws the tree-view control using the new color if the redraw flag is set.</span></span> <span data-ttu-id="325dd-399">Es ist kein Rückgabewert vorhanden.</span><span class="sxs-lookup"><span data-stu-id="325dd-399">There is no return value.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                              |
| [<span data-ttu-id="325dd-400">**WM- \_ Timer**</span><span class="sxs-lookup"><span data-stu-id="325dd-400">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)                   | <span data-ttu-id="325dd-401">Beginnt, eine Element Bezeichnung zu bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="325dd-401">Begins editing an item label.</span></span> <span data-ttu-id="325dd-402">Wenn der Benutzer auf die Bezeichnung des Fokus Elements klickt, legt das Strukturansicht-Steuerelement einen Timer fest, anstatt sofort in den Bearbeitungsmodus zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="325dd-402">If the user clicks the label of the focused item, the tree-view control sets a timer instead of entering edit mode immediately.</span></span> <span data-ttu-id="325dd-403">Der Timer ermöglicht es, dass die Strukturansicht nicht in den Bearbeitungsmodus wechselt, wenn der Benutzer auf die Bezeichnung doppelklickt.</span><span class="sxs-lookup"><span data-stu-id="325dd-403">The timer makes it possible for the tree view to avoid entering edit mode if the user double-clicks the label.</span></span> <span data-ttu-id="325dd-404">Gibt 0 (null) zurück.</span><span class="sxs-lookup"><span data-stu-id="325dd-404">It returns zero.</span></span>                                                                                                                                                                                                                       |
| [<span data-ttu-id="325dd-405">**WM- \_ VScroll**</span><span class="sxs-lookup"><span data-stu-id="325dd-405">**WM\_VSCROLL**</span></span>](wm-vscroll.md)                  | <span data-ttu-id="325dd-406">Führt im Strukturansicht-Steuerelement einen Bildlauf durch.</span><span class="sxs-lookup"><span data-stu-id="325dd-406">Scrolls the tree-view control.</span></span> <span data-ttu-id="325dd-407">Gibt **true** zurück, wenn ein Bildlauf durchgeführt wird, andernfalls **false** .</span><span class="sxs-lookup"><span data-stu-id="325dd-407">It returns **TRUE** if scrolling occurs, or **FALSE** otherwise.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                     |



 

## <a name="related-topics"></a><span data-ttu-id="325dd-408">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="325dd-408">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="325dd-409">Beispiel: custdtv veranschaulicht benutzerdefiniertes Zeichnen in einer TreeView (Q248496)</span><span class="sxs-lookup"><span data-stu-id="325dd-409">SAMPLE: CustDTv Illustrates Custom Draw in a TreeView (Q248496)</span></span>](https://support.microsoft.com/default.aspx?scid=kb;EN-US;q248496)
</dt> </dl>

 

 