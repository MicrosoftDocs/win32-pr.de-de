---
title: Informationen zu Bildlisten
description: Eine Bildliste ist eine Auflistung von Bildern derselben Größe, auf die jeweils durch ihren Index verwiesen werden kann.
ms.assetid: vs|controls|~\controls\imagelist\imagelist.htm
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f059e89b04d16088fff1d937bd29cb23a427d4c2
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/21/2020
ms.locfileid: "104316532"
---
# <a name="about-image-lists"></a><span data-ttu-id="cdf41-103">Informationen zu Bildlisten</span><span class="sxs-lookup"><span data-stu-id="cdf41-103">About Image Lists</span></span>

<span data-ttu-id="cdf41-104">Eine Bildliste ist eine Auflistung von Bildern derselben Größe, auf die jeweils durch ihren Index verwiesen werden kann.</span><span class="sxs-lookup"><span data-stu-id="cdf41-104">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="cdf41-105">Bildlisten werden verwendet, um große Mengen von Symbolen oder Bitmaps effizient zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-105">Image lists are used to efficiently manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="cdf41-106">Alle Bilder in einer Bildliste sind in einer einzelnen, breiten Bitmap im Bildschirmformat enthalten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-106">All images in an image list are contained in a single, wide bitmap in screen device format.</span></span> <span data-ttu-id="cdf41-107">Eine Bildliste kann auch eine monochrome Bitmap enthalten, die Masken enthält, die zum transparenten Zeichnen von Bildern verwendet werden (Symbol Stil).</span><span class="sxs-lookup"><span data-stu-id="cdf41-107">An image list can also include a monochrome bitmap that contains masks that are used to draw images transparently (icon style).</span></span>

<span data-ttu-id="cdf41-108">Die Microsoft Win32-API stellt Bildlisten Funktionen und-Makros bereit, mit denen Sie Bildlisten erstellen und zerstören, Bilder hinzufügen und entfernen, Bilder ersetzen und zusammenführen, Bilder zeichnen und Bilder ziehen können.</span><span class="sxs-lookup"><span data-stu-id="cdf41-108">The Microsoft Win32 API provides image list functions and macros that enable you to create and destroy image lists, add and remove images, replace and merge images, draw images, and drag images.</span></span> <span data-ttu-id="cdf41-109">Um die Abbild Listen Funktionen zu verwenden, schließen Sie die allgemeine Steuerungs Header Datei in die Quell Code Dateien ein, und verknüpfen Sie Sie mit der Common Control-Export Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="cdf41-109">To use the image list functions, include the common control header file in your source code files and link with the common control export library.</span></span> <span data-ttu-id="cdf41-110">Verwenden Sie außerdem vor dem Aufrufen einer bildlist-Funktion die Funktion [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) oder [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) , um sicherzustellen, dass die DLL des allgemeinen Steuer Elements geladen wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-110">In addition, before calling any image list function, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) or [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function to ensure that the common control DLL is loaded.</span></span>

<span data-ttu-id="cdf41-111">In diesem Abschnitt werden folgende Themen erörtert:</span><span class="sxs-lookup"><span data-stu-id="cdf41-111">The following topics are discussed in this section:</span></span>

-   [<span data-ttu-id="cdf41-112">Typen</span><span class="sxs-lookup"><span data-stu-id="cdf41-112">Types</span></span>](#types)
-   [<span data-ttu-id="cdf41-113">Erstellen und zerstören von Bildlisten</span><span class="sxs-lookup"><span data-stu-id="cdf41-113">Creating and Destroying Image Lists</span></span>](#creating-and-destroying-image-lists)
-   [<span data-ttu-id="cdf41-114">Hinzufügen und Entfernen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-114">Adding and Removing Images</span></span>](#adding-and-removing-images)
-   [<span data-ttu-id="cdf41-115">Ersetzen und Zusammenführen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-115">Replacing and Merging Images</span></span>](#replacing-and-merging-images)
-   [<span data-ttu-id="cdf41-116">Zeichnen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-116">Drawing Images</span></span>](#drawing-images)
-   [<span data-ttu-id="cdf41-117">Ziehen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-117">Dragging Images</span></span>](#dragging-images)
-   [<span data-ttu-id="cdf41-118">Bild Informationen</span><span class="sxs-lookup"><span data-stu-id="cdf41-118">Image Information</span></span>](#image-information)
-   [<span data-ttu-id="cdf41-119">Bildüberlagerungen</span><span class="sxs-lookup"><span data-stu-id="cdf41-119">Image Overlays</span></span>](#image-overlays)
-   [<span data-ttu-id="cdf41-120">32-Bit-Symbole mit Antialiasing</span><span class="sxs-lookup"><span data-stu-id="cdf41-120">32-Bit Antialiased Icons</span></span>](#32-bit-antialiased-icons)

## <a name="types"></a><span data-ttu-id="cdf41-121">Typen</span><span class="sxs-lookup"><span data-stu-id="cdf41-121">Types</span></span>

<span data-ttu-id="cdf41-122">Es gibt zwei Typen von Bildlisten: nicht maskiert und maskiert.</span><span class="sxs-lookup"><span data-stu-id="cdf41-122">There are two types of image lists: nonmasked and masked.</span></span> <span data-ttu-id="cdf41-123">Eine nicht maskierte Bildliste besteht aus einer Farb Bitmap, die ein oder mehrere Bilder enthält.</span><span class="sxs-lookup"><span data-stu-id="cdf41-123">A nonmasked image list consists of a color bitmap that contains one or more images.</span></span> <span data-ttu-id="cdf41-124">Eine maskierte Bildliste besteht aus zwei Bitmaps gleicher Größe.</span><span class="sxs-lookup"><span data-stu-id="cdf41-124">A masked image list consists of two bitmaps of equal size.</span></span> <span data-ttu-id="cdf41-125">Der erste ist eine Farb Bitmap, die die Bilder enthält, und die zweite ist eine monochrome Bitmap, die eine Reihe von Masken enthält – eine für jedes Bild in der ersten Bitmap.</span><span class="sxs-lookup"><span data-stu-id="cdf41-125">The first is a color bitmap that contains the images, and the second is a monochrome bitmap that contains a series of masks—one for each image in the first bitmap.</span></span>

<span data-ttu-id="cdf41-126">Wenn ein nicht maskiertes Bild gezeichnet wird, wird es einfach in den Zielgeräte Kontext kopiert. Das heißt, Sie wird über die vorhandene Hintergrundfarbe des Geräte Kontexts gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="cdf41-126">When a nonmasked image is drawn, it is simply copied into the target device context; that is, it is drawn over the existing background color of the device context.</span></span> <span data-ttu-id="cdf41-127">Wenn ein maskiertes Bild gezeichnet wird, werden die Bits des Bilds mit den Bits der Maske kombiniert, wobei in der Regel transparente Bereiche in der Bitmap erzeugt werden, in denen die Hintergrundfarbe des Zielgeräte Kontexts über angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-127">When a masked image is drawn, the bits of the image are combined with the bits of the mask, typically producing transparent areas in the bitmap where the background color of the target device context shows through.</span></span> <span data-ttu-id="cdf41-128">Es gibt mehrere Zeichnungs Stile, die Sie angeben können, wenn Sie ein maskiertes Bild zeichnen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-128">There are several drawing styles that you can specify when drawing a masked image.</span></span> <span data-ttu-id="cdf41-129">Beispielsweise können Sie angeben, dass das Bild ausgeblendet werden soll, um ein ausgewähltes Objekt anzugeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-129">For example, you can specify that the image be dithered to indicate a selected object.</span></span>

## <a name="creating-and-destroying-image-lists"></a><span data-ttu-id="cdf41-130">Erstellen und zerstören von Bildlisten</span><span class="sxs-lookup"><span data-stu-id="cdf41-130">Creating and Destroying Image Lists</span></span>

<span data-ttu-id="cdf41-131">Sie erstellen eine Bildliste, indem Sie die Create-Funktion von [**ImageList \_**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-131">You create an image list by calling the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function.</span></span> <span data-ttu-id="cdf41-132">Zu den Parametern zählen der Typ der zu erstellenden Bildliste, die Abmessungen der einzelnen Bilder und die Anzahl der Bilder, die Sie der Liste hinzufügen möchten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-132">The parameters include the type of image list to create, the dimensions of each image, and the number of images you intend to add to the list.</span></span> <span data-ttu-id="cdf41-133">Für eine nicht maskierte Bildliste erstellt die-Funktion eine einzelne Bitmap, die groß genug ist, um die angegebene Anzahl von Bildern der angegebenen Dimensionen aufzunehmen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-133">For a nonmasked image list, the function creates a single bitmap large enough to hold the specified number of images of the given dimensions.</span></span> <span data-ttu-id="cdf41-134">Anschließend wird ein Bildschirm kompatibler Gerätekontext erstellt und die Bitmap darin ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-134">Then it creates a screen-compatible device context and selects the bitmap into it.</span></span> <span data-ttu-id="cdf41-135">Für eine maskierte Bildliste erstellt die Funktion zwei Bitmaps und zwei Bildschirm kompatible Geräte Kontexte.</span><span class="sxs-lookup"><span data-stu-id="cdf41-135">For a masked image list, the function creates two bitmaps and two screen-compatible device contexts.</span></span> <span data-ttu-id="cdf41-136">Er wählt die Bild Bitmap in einem Gerätekontext und das Masken Bitmuster in das andere aus.</span><span class="sxs-lookup"><span data-stu-id="cdf41-136">It selects the image bitmap into one device context and the mask bitmap into the other.</span></span> <span data-ttu-id="cdf41-137">Die allgemeine Steuerelement-DLL enthält den ausführbaren Code für die ImageList-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-137">The common control DLL contains the executable code for the image list functions.</span></span>

<span data-ttu-id="cdf41-138">In [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create)geben Sie die anfängliche Anzahl der Bilder an, die in einer Bildliste enthalten sein sollen, sowie die Anzahl der Bilder, um die die Liste vergrößert werden kann.</span><span class="sxs-lookup"><span data-stu-id="cdf41-138">In [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create), you specify the initial number of images that will be in an image list as well as the number of images by which the list can grow.</span></span> <span data-ttu-id="cdf41-139">Wenn Sie also versuchen, mehr Bilder hinzuzufügen, als Sie anfänglich angegeben haben, wächst die Bildliste automatisch, um die neuen Images aufzunehmen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-139">So if you attempt to add more images than you initially specified, the image list automatically grows to accommodate the new images.</span></span>

<span data-ttu-id="cdf41-140">Wenn [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) erfolgreich ist, wird ein Handle für den HIMAGELIST-Typ zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-140">If [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) succeeds, it returns a handle to the HIMAGELIST type.</span></span> <span data-ttu-id="cdf41-141">Sie verwenden dieses Handle in anderen Bildlisten Funktionen, um auf die Bildliste zuzugreifen und die Bilder zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-141">You use this handle in other image list functions to access the image list and manage the images.</span></span> <span data-ttu-id="cdf41-142">Sie können Bilder hinzufügen und entfernen, Bilder aus einer Bildliste in eine andere kopieren und Bilder aus zwei unterschiedlichen Bildlisten zusammenführen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-142">You can add and remove images, copy images from one image list to another, and merge images from two different image lists.</span></span> <span data-ttu-id="cdf41-143">Wenn Sie keine Bildliste mehr benötigen, können Sie Sie durch Angabe Ihres Handles in einem [**aufzurufenden Befehl der ImageList \_ Destroy**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) -Funktion zerstören.</span><span class="sxs-lookup"><span data-stu-id="cdf41-143">When you no longer need an image list, you can destroy it by specifying its handle in a call to the [**ImageList\_Destroy**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_destroy) function.</span></span>

## <a name="adding-and-removing-images"></a><span data-ttu-id="cdf41-144">Hinzufügen und Entfernen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-144">Adding and Removing Images</span></span>

<span data-ttu-id="cdf41-145">Sie können einer Bildliste Bitmap-Bilder, Symbole oder Cursor hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-145">You can add bitmapped images, icons, or cursors to an image list.</span></span> <span data-ttu-id="cdf41-146">Sie fügen Bitmap-Bilder hinzu, indem Sie die Handles für zwei Bitmaps in einem [**aufzurufenden Befehl der ImageList- \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) -Funktion angeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-146">You add bitmapped images by specifying the handles to two bitmaps in a call to the [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add) function.</span></span> <span data-ttu-id="cdf41-147">Die erste Bitmap enthält ein oder mehrere Bilder, die der bildinbitmap hinzugefügt werden sollen, und die zweite Bitmap enthält die Masken, die der Maske-Bitmap hinzugefügt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-147">The first bitmap contains one or more images to add to the image bitmap, and the second bitmap contains the masks to add to the mask bitmap.</span></span> <span data-ttu-id="cdf41-148">Bei nicht maskierten Bildlisten wird das zweite Bitmap-Handle ignoriert. Sie kann auf **null** festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-148">For nonmasked image lists, the second bitmap handle is ignored; it can be set to **NULL**.</span></span>

<span data-ttu-id="cdf41-149">Die [**ImageList-Funktion \_ addmaskierte**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) fügt auch Bitmap-Bilder einer maskierten Bildliste hinzu.</span><span class="sxs-lookup"><span data-stu-id="cdf41-149">The [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked) function also adds bitmapped images to a masked image list.</span></span> <span data-ttu-id="cdf41-150">Diese Funktion ähnelt [**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), mit dem Unterschied, dass Sie keine Masken Bitmap angeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-150">This function is similar to [**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), except that you do not specify a mask bitmap.</span></span> <span data-ttu-id="cdf41-151">Stattdessen geben Sie eine Farbe an, die das System mit der Bild Bitmap kombiniert, um die Masken automatisch zu generieren.</span><span class="sxs-lookup"><span data-stu-id="cdf41-151">Instead, you specify a color that the system combines with the image bitmap to automatically generate the masks.</span></span> <span data-ttu-id="cdf41-152">Jedes Pixel der angegebenen Farbe in der Bild Bitmap wird in Schwarz geändert, und das entsprechende Bit in der Maske wird auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-152">Each pixel of the specified color in the image bitmap is changed to black, and the corresponding bit in the mask is set to 1.</span></span> <span data-ttu-id="cdf41-153">Folglich ist jedes Pixel im Bild, das mit der angegebenen Farbe übereinstimmt, transparent, wenn das Bild gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-153">As a result, any pixel in the image that matches the specified color is transparent when the image is drawn.</span></span>

<span data-ttu-id="cdf41-154">Das [**ImageList \_ addicon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) -Makro fügt einer Bildliste ein Symbol oder einen Cursor hinzu.</span><span class="sxs-lookup"><span data-stu-id="cdf41-154">The [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) macro adds an icon or cursor to an image list.</span></span> <span data-ttu-id="cdf41-155">Wenn die Bildliste maskiert ist, fügt **ImageList \_ addicon** der Maske-Bitmap die Maske hinzu, die mit dem Symbol oder dem Cursor bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-155">If the image list is masked, **ImageList\_AddIcon** adds the mask that is provided with the icon or cursor to the mask bitmap.</span></span> <span data-ttu-id="cdf41-156">Wenn die Bildliste nicht maskiert ist, wird die Maske für das Symbol oder den Cursor beim Zeichnen des Bilds nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="cdf41-156">If the image list is nonmasked, the mask for the icon or cursor is not used when drawing the image.</span></span>

<span data-ttu-id="cdf41-157">Sie können ein Symbol auf der Grundlage eines Bilds und einer Maske in einer Bildliste erstellen, indem Sie die [**ImageList \_ GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-157">You can create an icon based on an image and mask in an image list by using the [**ImageList\_GetIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_geticon) function.</span></span> <span data-ttu-id="cdf41-158">Die-Funktion gibt das Handle für das neue Symbol zurück.</span><span class="sxs-lookup"><span data-stu-id="cdf41-158">The function returns the handle to the new icon.</span></span>

<span data-ttu-id="cdf41-159">[**ImageList \_ Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList \_ addmaskierte**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked)und [**ImageList \_ addicon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) weisen jedem Image einen Index zu, wenn es einer Bildliste hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-159">[**ImageList\_Add**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_add), [**ImageList\_AddMasked**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addmasked), and [**ImageList\_AddIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_addicon) assign an index to each image as it is added to an image list.</span></span> <span data-ttu-id="cdf41-160">Die Indizes sind NULL basiert. Das heißt, das erste Bild in der Liste weist einen Index von NULL auf, der nächste einen Index von 1 usw.</span><span class="sxs-lookup"><span data-stu-id="cdf41-160">The indexes are zero-based; that is, the first image in the list has an index of zero, the next has an index of one, and so on.</span></span> <span data-ttu-id="cdf41-161">Nachdem Sie ein einzelnes Bild hinzugefügt haben, geben die Funktionen den Index des Bilds zurück.</span><span class="sxs-lookup"><span data-stu-id="cdf41-161">After adding a single image, the functions return the index of the image.</span></span> <span data-ttu-id="cdf41-162">Wenn mehr als ein Bild gleichzeitig hinzugefügt wird, geben die Funktionen den Index des ersten Bilds zurück.</span><span class="sxs-lookup"><span data-stu-id="cdf41-162">When more than one image is added at a time, the functions return the index of the first image.</span></span>

<span data-ttu-id="cdf41-163">Mit der Funktion zum [**\_ Entfernen von ImageList**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) wird ein Bild aus einer Bildliste entfernt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-163">The [**ImageList\_Remove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_remove) function removes an image from an image list.</span></span>

## <a name="replacing-and-merging-images"></a><span data-ttu-id="cdf41-164">Ersetzen und Zusammenführen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-164">Replacing and Merging Images</span></span>

<span data-ttu-id="cdf41-165">Die Funktionen " [**ImageList \_ Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) " und " [**ImageList \_ replaceicon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) " Ersetzen ein Bild in einer Bildliste durch ein neues Bild.</span><span class="sxs-lookup"><span data-stu-id="cdf41-165">The [**ImageList\_Replace**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replace) and [**ImageList\_ReplaceIcon**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_replaceicon) functions replace an image in an image list with a new image.</span></span> <span data-ttu-id="cdf41-166">**ImageList \_ Replace** ersetzt ein Bild durch ein Bitmap-Bild und eine Maske, und **ImageList \_ replaceicon** ersetzt ein Bild durch ein Symbol oder einen Cursor.</span><span class="sxs-lookup"><span data-stu-id="cdf41-166">**ImageList\_Replace** replaces an image with a bitmapped image and mask, and **ImageList\_ReplaceIcon** replaces an image with an icon or cursor.</span></span>

<span data-ttu-id="cdf41-167">Die [**ImageList- \_ Merge**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) -Funktion führt zwei Bilder zusammen, wobei das neue Bild in einer neuen Bildliste gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-167">The [**ImageList\_Merge**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_merge) function merges two images, storing the new image in a new image list.</span></span> <span data-ttu-id="cdf41-168">Das neue Bild wird erstellt, indem das zweite Bild transparent über das erste gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-168">The new image is created by drawing the second image transparently over the first.</span></span> <span data-ttu-id="cdf41-169">Die Maske für das neue Image ist das Ergebnis der Ausführung einer logischen **or** -Operation auf den Bits der Masken für die beiden vorhandenen Bilder.</span><span class="sxs-lookup"><span data-stu-id="cdf41-169">The mask for the new image is the result of performing a logical **OR** operation on the bits of the masks for the two existing images.</span></span>

## <a name="drawing-images"></a><span data-ttu-id="cdf41-170">Zeichnen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-170">Drawing Images</span></span>

<span data-ttu-id="cdf41-171">Zum Zeichnen eines Bilds verwenden Sie die Funktion " [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) " oder " [**ImageList \_ drawex**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) ".</span><span class="sxs-lookup"><span data-stu-id="cdf41-171">To draw an image, you use the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="cdf41-172">Sie geben das Handle für eine Bildliste, den Index des zu zeichnenden Bilds, das Handle für den Zielgeräte Kontext, einen Speicherort innerhalb des Geräte Kontexts und einen oder mehrere Zeichnungs Stile an.</span><span class="sxs-lookup"><span data-stu-id="cdf41-172">You specify the handle to an image list, the index of the image to draw, the handle to the destination device context, a location within the device context, and one or more drawing styles.</span></span>

<span data-ttu-id="cdf41-173">Wenn Sie den Stil " **ild \_ transparent** " angeben, wird von [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) oder [**ImageList \_ drawex**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) ein zweistufiger Prozess zum Zeichnen eines maskierten Bilds verwendet.</span><span class="sxs-lookup"><span data-stu-id="cdf41-173">When you specify the **ILD\_TRANSPARENT** style, [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) uses a two-step process to draw a masked image.</span></span> <span data-ttu-id="cdf41-174">Zuerst führt Sie eine logische **and-** Operation für die Bits des Bilds und die Bits der Maske aus.</span><span class="sxs-lookup"><span data-stu-id="cdf41-174">First, it performs a logical **AND** operation on the bits of the image and the bits of the mask.</span></span> <span data-ttu-id="cdf41-175">Anschließend führt er eine logische **Xor** -Operation für die Ergebnisse des ersten Vorgangs und die hintergrundbits des Zielgeräte Kontexts aus.</span><span class="sxs-lookup"><span data-stu-id="cdf41-175">Then it performs a logical **XOR** operation on the results of the first operation and the background bits of the destination device context.</span></span> <span data-ttu-id="cdf41-176">Dieser Prozess erstellt transparente Bereiche im resultierenden Image. Das heißt, jedes weiße Bit in der Maske bewirkt, dass das entsprechende Bit im resultierenden Bild transparent ist.</span><span class="sxs-lookup"><span data-stu-id="cdf41-176">This process creates transparent areas in the resulting image; that is, each white bit in the mask causes the corresponding bit in the resulting image to be transparent.</span></span>

<span data-ttu-id="cdf41-177">Vor dem Zeichnen eines maskierten Bilds auf einem voll Tonfarben-Hintergrund sollten Sie die Funktion " [**ImageList \_ SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) " verwenden, um die Hintergrundfarbe der Bildliste auf die gleiche Farbe wie das Ziel festzulegen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-177">Before drawing a masked image on a solid color background, you should use the [**ImageList\_SetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setbkcolor) function to set the background color of the image list to the same color as the destination.</span></span> <span data-ttu-id="cdf41-178">Wenn Sie die Farbe festlegen, entfällt die Notwendigkeit, transparente Bereiche im Bild zu erstellen, und das Zeichnen oder [**ImageList \_ drawex**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) von [**ImageList \_**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) ermöglicht das einfache Kopieren des Bilds in den Zielgeräte Kontext, was zu einer deutlichen Leistungssteigerung führt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-178">Setting the color eliminates the need to create transparent areas in the image and enables [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) to simply copy the image to the destination device context, resulting in a significant increase in performance.</span></span> <span data-ttu-id="cdf41-179">Um das Bild zu zeichnen, geben Sie den **\_ normalen ild** -Stil in einem Aufrufen von **ImageList \_ Draw** oder **ImageList \_ drawex** an.</span><span class="sxs-lookup"><span data-stu-id="cdf41-179">To draw the image, specify the **ILD\_NORMAL** style in a call to **ImageList\_Draw** or **ImageList\_DrawEx**.</span></span>

<span data-ttu-id="cdf41-180">Sie können die Hintergrundfarbe für eine maskierte Bildliste jederzeit so festlegen, dass Sie auf einem beliebigen Solid-Hintergrund ordnungsgemäß gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-180">You can set the background color for a masked image list at any time so that it draws correctly on any solid background.</span></span> <span data-ttu-id="cdf41-181">Das Festlegen der Hintergrundfarbe auf CLR \_ None bewirkt, dass Bilder standardmäßig transparent gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-181">Setting the background color to CLR\_NONE causes images to be drawn transparently by default.</span></span> <span data-ttu-id="cdf41-182">Verwenden Sie die Funktion " [**ImageList \_ GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) ", um die Hintergrundfarbe einer Bildliste abzurufen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-182">To retrieve the background color of an image list, use the [**ImageList\_GetBkColor**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getbkcolor) function.</span></span>

<span data-ttu-id="cdf41-183">Die Stile **ild \_ BLEND25** und **ild \_ BLEND50** weisen das Bild mit der Hervorhebungs Farbe des Systems an.</span><span class="sxs-lookup"><span data-stu-id="cdf41-183">The **ILD\_BLEND25** and **ILD\_BLEND50** styles dither the image with the system highlight color.</span></span> <span data-ttu-id="cdf41-184">Diese Stile sind nützlich, wenn Sie ein maskiertes Bild verwenden, um ein Objekt darzustellen, das der Benutzer auswählen kann.</span><span class="sxs-lookup"><span data-stu-id="cdf41-184">These styles are useful if you use a masked image to represent an object that the user can select.</span></span> <span data-ttu-id="cdf41-185">Beispielsweise können Sie den **ild \_ BLEND50** -Stil zum Zeichnen des Bilds verwenden, wenn der Benutzer es auswählt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-185">For example, you can use the **ILD\_BLEND50** style to draw the image when the user selects it.</span></span>

<span data-ttu-id="cdf41-186">Ein nicht maskiertes Bild wird mithilfe des srccopy-Raster Vorgangs in den Zielgeräte Kontext kopiert.</span><span class="sxs-lookup"><span data-stu-id="cdf41-186">A nonmasked image is copied to the destination device context by using the SRCCOPY raster operation.</span></span> <span data-ttu-id="cdf41-187">Die Farben im Bild erscheinen unabhängig von der Hintergrundfarbe des Geräte Kontexts identisch.</span><span class="sxs-lookup"><span data-stu-id="cdf41-187">The colors in the image appear the same regardless of the background color of the device context.</span></span> <span data-ttu-id="cdf41-188">Die in [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) oder [**ImageList \_ drawex**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) angegebenen Zeichnungs Stile haben auch keine Auswirkung auf das Aussehen eines nicht maskierten Bilds.</span><span class="sxs-lookup"><span data-stu-id="cdf41-188">The drawing styles specified in [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) also have no effect on the appearance of a nonmasked image.</span></span>

## <a name="dragging-images"></a><span data-ttu-id="cdf41-189">Ziehen von Bildern</span><span class="sxs-lookup"><span data-stu-id="cdf41-189">Dragging Images</span></span>

<span data-ttu-id="cdf41-190">Die Win32-API enthält Funktionen zum Ziehen eines Bilds auf dem Bildschirm.</span><span class="sxs-lookup"><span data-stu-id="cdf41-190">The Win32 API includes functions for dragging an image on the screen.</span></span> <span data-ttu-id="cdf41-191">Die Zieh Funktionen verschieben ein Bild reibungslos, in Farbe und ohne Blinken des Cursors.</span><span class="sxs-lookup"><span data-stu-id="cdf41-191">The dragging functions move an image smoothly, in color, and without any flashing of the cursor.</span></span> <span data-ttu-id="cdf41-192">Sowohl maskierte als auch unmaskierte Bilder können gezogen werden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-192">Both masked and unmasked images can be dragged.</span></span>

<span data-ttu-id="cdf41-193">Die [**ImageList \_ BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) -Funktion beginnt einen Zieh Vorgang.</span><span class="sxs-lookup"><span data-stu-id="cdf41-193">The [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag) function begins a drag operation.</span></span> <span data-ttu-id="cdf41-194">Zu den Parametern gehören das Handle für die Bildliste, der Index des zu ziehenden Bilds und der Speicherort des Hotspots innerhalb des Bilds.</span><span class="sxs-lookup"><span data-stu-id="cdf41-194">The parameters include the handle to the image list, the index of the image to drag, and the location of the hot spot within the image.</span></span> <span data-ttu-id="cdf41-195">Der Hotspot ist ein einzelnes Pixel, das von den Zieh Funktionen als exakte Bildschirmposition des Bilds erkannt wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-195">The hot spot is a single pixel that the dragging functions recognize as the exact screen location of the image.</span></span> <span data-ttu-id="cdf41-196">In der Regel legt eine Anwendung den Hotspot fest, sodass Sie mit dem Hotspot des Mauszeigers übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-196">Typically, an application sets the hot spot so that it coincides with the hot spot of the mouse cursor.</span></span> <span data-ttu-id="cdf41-197">Mit der [**ImageList \_ DragMove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) -Funktion wird das Bild an einen neuen Speicherort verschoben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-197">The [**ImageList\_DragMove**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragmove) function moves the image to a new location.</span></span>

<span data-ttu-id="cdf41-198">Die Funktion " [**ImageList \_ DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) " legt die Anfangsposition des Zieh Bilds innerhalb eines Fensters fest und zeichnet das Bild an der Position.</span><span class="sxs-lookup"><span data-stu-id="cdf41-198">The [**ImageList\_DragEnter**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_dragenter) function sets the initial position of the drag image within a window and draws the image at the position.</span></span> <span data-ttu-id="cdf41-199">Zu den Parametern gehören das Handle für das Fenster, in dem das Bild und die Koordinaten der Anfangsposition im Fenster gezeichnet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-199">The parameters include the handle to the window in which to draw the image and the coordinates of the initial position within the window.</span></span> <span data-ttu-id="cdf41-200">Die Koordinaten sind relativ zur linken oberen Ecke des Fensters, nicht zum Client Bereich.</span><span class="sxs-lookup"><span data-stu-id="cdf41-200">The coordinates are relative to the window's upper-left corner, not the client area.</span></span> <span data-ttu-id="cdf41-201">Das gleiche gilt für alle Bild Zieh Funktionen, die Koordinaten als Parameter annehmen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-201">The same is true for all of the image dragging functions that take coordinates as parameters.</span></span> <span data-ttu-id="cdf41-202">Dies bedeutet, dass Sie die Breite der Fensterelemente, wie z. b. Rahmen, Titelleiste und Menüleiste, bei der Angabe der Koordinaten ausgleichen müssen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-202">This means you must compensate for the widths of window elements such as the border, title bar, and menu bar when specifying the coordinates.</span></span> <span data-ttu-id="cdf41-203">Wenn Sie beim Aufrufen von **ImageList \_ DragEnter** ein **null** -Fenster Handle angeben, zeichnen die Zieh Funktionen das Bild im Gerätekontext, der dem Desktop Fenster zugeordnet ist, und die Koordinaten sind relativ zur oberen linken Ecke des Bildschirms.</span><span class="sxs-lookup"><span data-stu-id="cdf41-203">If you specify a **NULL** window handle when calling **ImageList\_DragEnter**, the dragging functions draw the image in the device context that is associated with the desktop window, and the coordinates are relative to the upper-left corner of the screen.</span></span>

<span data-ttu-id="cdf41-204">Die [**ImageList \_ SetDragCursorImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) -Funktion erstellt ein neues Zieh Bild, indem das angegebene Bild (in der Regel ein Mauszeiger Bild) mit dem aktuellen Zieh Bild kombiniert wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-204">The [**ImageList\_SetDragCursorImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setdragcursorimage) function creates a new drag image by combining the given image (typically a mouse cursor image) with the current drag image.</span></span> <span data-ttu-id="cdf41-205">Da die Zieh Funktionen das neue Bild während eines Zieh Vorgangs verwenden, sollten Sie die [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) -Funktion verwenden, um den eigentlichen Mauszeiger nach dem Aufruf von **ImageList \_ SetDragCursorImage** auszublenden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-205">Because the dragging functions use the new image during a drag operation, you should use the [**ShowCursor**](/windows/desktop/api/winuser/nf-winuser-showcursor) function to hide the actual mouse cursor after calling **ImageList\_SetDragCursorImage**.</span></span> <span data-ttu-id="cdf41-206">Andernfalls weist das System möglicherweise zwei Mauszeiger auf die Dauer des Zieh Vorgangs auf.</span><span class="sxs-lookup"><span data-stu-id="cdf41-206">Otherwise, the system may appear to have two mouse cursors for the duration of the drag operation.</span></span>

<span data-ttu-id="cdf41-207">Wenn eine Anwendung [**ImageList \_ BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag)aufruft, erstellt das System eine temporäre, interne Bildliste und kopiert dann das angegebene Zieh Bild in die interne Liste.</span><span class="sxs-lookup"><span data-stu-id="cdf41-207">When an application calls [**ImageList\_BeginDrag**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_begindrag), the system creates a temporary, internal image list and then copies the specified drag image to the internal list.</span></span> <span data-ttu-id="cdf41-208">Sie können das Handle für die temporäre Drag-Bildliste mit der [**ImageList \_ GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-208">You can retrieve the handle to the temporary drag image list by using the [**ImageList\_GetDragImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getdragimage) function.</span></span> <span data-ttu-id="cdf41-209">Die-Funktion ruft außerdem die aktuelle Zieh Position und den Offset des Zieh Bilds in Relation zur Zieh Position ab.</span><span class="sxs-lookup"><span data-stu-id="cdf41-209">The function also retrieves the current drag position and the offset of the drag image relative to the drag position.</span></span>

## <a name="image-information"></a><span data-ttu-id="cdf41-210">Bild Informationen</span><span class="sxs-lookup"><span data-stu-id="cdf41-210">Image Information</span></span>

<span data-ttu-id="cdf41-211">Es gibt eine Reihe von Funktionen, mit denen Informationen aus einer Bildliste abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-211">There are a number of functions that retrieve information from an image list.</span></span> <span data-ttu-id="cdf41-212">Die [**ImageList \_ getimageinfo**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) -Funktion füllt eine [**imageinfo**](/windows/desktop/api) -Struktur mit Informationen zu einem einzelnen Bild, einschließlich der Handles der Bild-und Masken Bitmaps, der Anzahl von Farbebenen und Bits pro Pixel und des umgebenden Rechtecks des Bilds in der Bild Bitmap.</span><span class="sxs-lookup"><span data-stu-id="cdf41-212">The [**ImageList\_GetImageInfo**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimageinfo) function fills an [**IMAGEINFO**](/windows/desktop/api) structure with information about a single image, including the handles of the image and mask bitmaps, the number of color planes and bits per pixel, and the bounding rectangle of the image within the image bitmap.</span></span> <span data-ttu-id="cdf41-213">Sie können diese Informationen verwenden, um die Bitmaps für das Image direkt zu bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-213">You can use this information to directly manipulate the bitmaps for the image.</span></span> <span data-ttu-id="cdf41-214">Die [**ImageList \_ GetImageCount**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) -Funktion Ruft die Anzahl der Bilder in einer Bildliste ab.</span><span class="sxs-lookup"><span data-stu-id="cdf41-214">The [**ImageList\_GetImageCount**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_getimagecount) function retrieves the number of images in an image list.</span></span>

## <a name="image-overlays"></a><span data-ttu-id="cdf41-215">Bildüberlagerungen</span><span class="sxs-lookup"><span data-stu-id="cdf41-215">Image Overlays</span></span>

<span data-ttu-id="cdf41-216">Jede Bildliste enthält eine Liste von Indizes, die als Überlagerungen verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-216">Every image list includes a list of indexes to use as overlays.</span></span> <span data-ttu-id="cdf41-217">Ein Overlay ist ein Bild, das transparent über ein anderes Bild gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-217">An overlay is an image that is drawn transparently over another image.</span></span> <span data-ttu-id="cdf41-218">Alle Images, die sich derzeit in der Bildliste befinden, können als Überlagerung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="cdf41-218">Any image currently in the image list can be used as an overlay.</span></span> <span data-ttu-id="cdf41-219">Sie können bis zu vier Überlagerungen pro Bildliste angeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-219">You can specify up to four overlays per image list.</span></span> <span data-ttu-id="cdf41-220">Diese Beschränkung wurde in Version 4,71 auf 15 erweitert.</span><span class="sxs-lookup"><span data-stu-id="cdf41-220">This limit has been expanded to 15 in version 4.71.</span></span>

<span data-ttu-id="cdf41-221">Sie fügen den Index eines Bilds der Liste der Überlagerungen hinzu, indem Sie die [**ImageList-Funktion " \_ SetImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) " verwenden und dabei das Handle für die Bildliste, den Index des vorhandenen Bilds und den gewünschten Überlagerungs Index angeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-221">You add the index of an image to the list of overlays by using the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function, specifying the handle to the image list, the index of the existing image, and the desired overlay index.</span></span> <span data-ttu-id="cdf41-222">Dadurch wird der Bildliste in der Tat mitgeteilt, dass das Bild bei Index *x* als Overlay verwendet werden kann, und ich möchte auf das Overlay als Überlagerungs Index *y* verweisen. "</span><span class="sxs-lookup"><span data-stu-id="cdf41-222">This, in effect, tells the image list that "the image at index *x* can be used as an overlay, and I want to refer to the overlay as overlay index *y*."</span></span> <span data-ttu-id="cdf41-223">Die Überlagerungs Indizes sind einbasiert und NULL basiert, da ein Überlagerungs Index von NULL bedeutet, dass kein Overlay verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-223">The overlay indexes are one-based rather than zero-based because an overlay index of zero means that no overlay will be used.</span></span>

<span data-ttu-id="cdf41-224">Beim Zeichnen eines Bilds mit der Funktion " [**ImageList \_ Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) " oder " [**ImageList \_ drawex**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) " geben Sie ein Overlay an.</span><span class="sxs-lookup"><span data-stu-id="cdf41-224">You specify an overlay when drawing an image with the [**ImageList\_Draw**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_draw) or [**ImageList\_DrawEx**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_drawex) function.</span></span> <span data-ttu-id="cdf41-225">Die Überlagerung wird durch Ausführen einer logischen **or** -Operation zwischen den gewünschten zeichenflags und dem Ergebnis des [**indexdeoverlaymask**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) -Makros angegeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-225">The overlay is specified by performing a logical **OR** operation between the desired drawing flags and the result of the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="cdf41-226">Das **INDEXTOOVERLAYMASK** -Makro übernimmt den Überlagerungs Index und formatiert es für die Einbindung in die Flags für diese Funktionen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-226">The **INDEXTOOVERLAYMASK** macro takes the overlay index and formats it for inclusion with the flags for these functions.</span></span> <span data-ttu-id="cdf41-227">Dadurch wird das Bild mit dem angegebenen Overlay gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="cdf41-227">This will draw the image with the specified overlay.</span></span> <span data-ttu-id="cdf41-228">Im folgenden Beispiel wird veranschaulicht, wie ein Overlay beim Zeichnen des Bilds hinzugefügt und angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-228">The following example demonstrates how an overlay is added and specified when drawing the image.</span></span>


```
ImageList_SetOverlayImage(himl, 0, 3);
ImageList_Draw(himl, 1, hdc, 0, 0, ILD_MASK | INDEXTOOVERLAYMASK(3));
```



<span data-ttu-id="cdf41-229">Dies zeichnet Bild 1 und überlagert dieses Bild dann mit Bild 0.</span><span class="sxs-lookup"><span data-stu-id="cdf41-229">This will draw image 1 and then overlay that image with image 0.</span></span> <span data-ttu-id="cdf41-230">Da es sich bei 3 um den Überlagerungs Index handelt, den Sie im [**ImageList-Befehl \_ Seto-layimage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) angegeben haben, wird 3 in das [**indexyoverlaymask**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) -Makro eingefügt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-230">Because 3 is the overlay index that you specified in the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) call, 3 is placed in the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span>

## <a name="32-bit-antialiased-icons"></a><span data-ttu-id="cdf41-231">32-Bit-Symbole mit Antialiasing</span><span class="sxs-lookup"><span data-stu-id="cdf41-231">32-Bit Antialiased Icons</span></span>

<span data-ttu-id="cdf41-232">Antialiasing ist eine Technik zum weich zieren oder verwischen von Spitzen Kanten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-232">Antialiasing is a technique for softening or blurring sharp edges.</span></span> <span data-ttu-id="cdf41-233">Dadurch erhalten Bilder eine natürlichere Darstellung.</span><span class="sxs-lookup"><span data-stu-id="cdf41-233">This gives images a more natural appearance.</span></span> <span data-ttu-id="cdf41-234">Bildlisten in Windows Vista und Windows 7 unterstützen die Verwendung von 32-Bit-Symbolen mit Antialiasing und Bitmaps.</span><span class="sxs-lookup"><span data-stu-id="cdf41-234">Image lists in Windows Vista and Windows 7 support the use of 32-bit antialiased icons and bitmaps.</span></span> <span data-ttu-id="cdf41-235">Farbwerte verwenden 24 Bits, und 8 Bits werden als Alphakanal für die Symbole verwendet.</span><span class="sxs-lookup"><span data-stu-id="cdf41-235">Color values use 24 bits, and 8 bits are used as an alpha channel on the icons.</span></span> <span data-ttu-id="cdf41-236">Um eine Bildliste zu erstellen, die ein 32 Bits-pro-Pixel-Bild (BPP) verarbeiten kann, rufen Sie die [**ImageList \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) -Funktion auf, und übergeben Sie ein ILC \_ COLOR32-Flag.</span><span class="sxs-lookup"><span data-stu-id="cdf41-236">To create an image list that can handle a 32 bits-per-pixel (bpp) image, call the [**ImageList\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_create) function, passing in an ILC\_COLOR32 flag.</span></span>

<span data-ttu-id="cdf41-237">Zum ordnungsgemäßen Erstellen von 32-Bit-Symbolen müssen Sie für jedes Symbol mehrere Bilder erstellen, wie in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="cdf41-237">To author 32-bit icons correctly, you must create multiple images for each icon, as shown in the following illustration.</span></span>

![Abbildung, die drei Größen von Symbolen für jede der drei Farbtiefe anzeigt](images/theme2.png)

-   <span data-ttu-id="cdf41-239">Die ersten drei Bilder sind im 16-Farben-Modus für die Verwendung im abgesicherten Modus.</span><span class="sxs-lookup"><span data-stu-id="cdf41-239">The first three images are in 16-color mode for use in safe mode.</span></span>
-   <span data-ttu-id="cdf41-240">Die nächsten drei Symbole werden im 256-Farben-Modus verwendet.</span><span class="sxs-lookup"><span data-stu-id="cdf41-240">The next three icons are used in 256-color mode.</span></span>
-   <span data-ttu-id="cdf41-241">Die letzten drei Symbole haben den Alpha-Kanal und können nur in Betriebssystemen verwendet werden, auf denen eine 24-Bit-Farbe oder höher ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cdf41-241">The last three icons have the alpha channel and can be used only in operating systems running 24-bit color or higher.</span></span>
-   <span data-ttu-id="cdf41-242">Die Reihenfolge der Bilder im Symbol Format ist wichtig.</span><span class="sxs-lookup"><span data-stu-id="cdf41-242">The order of images in the icon format does matter.</span></span> <span data-ttu-id="cdf41-243">Wenn die Reihenfolge falsch ist, funktionieren ältere Versionen von Windows beim Extrahieren der Symbole schlecht.</span><span class="sxs-lookup"><span data-stu-id="cdf41-243">If the order is wrong, older versions of Windows function poorly when extracting the icons.</span></span> <span data-ttu-id="cdf41-244">Das falsche Extrahieren der Symbole kann zu Speicher Beschädigung und fehlerhaftes Rendering führen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-244">Extracting the icons incorrectly can cause memory corruption and improper rendering.</span></span>
-   <span data-ttu-id="cdf41-245">In früheren Versionen von Windows gab es ein Ressourcen Limit von 10 Symbolen.</span><span class="sxs-lookup"><span data-stu-id="cdf41-245">Previous versions of Windows had a 10-icon resource limit.</span></span>

> [!Note]  
> <span data-ttu-id="cdf41-246">Sie können Tools von Drittanbietern verwenden, um Symbol Dateien und Bitmaps zu generieren, die einen Alphakanal enthalten.</span><span class="sxs-lookup"><span data-stu-id="cdf41-246">You can use third party tools to generate icon files and bitmaps that contain an alpha channel.</span></span> <span data-ttu-id="cdf41-247">Wenn Sie [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) zum Laden einer 32 bpp-Bitmap verwenden, die Alpha enthält, müssen Sie das LR- \_ Flag "kreatedibsection" angeben.</span><span class="sxs-lookup"><span data-stu-id="cdf41-247">If you use [**LoadImage**](/windows/desktop/api/winuser/nf-winuser-loadimagea) to load a 32 bpp bitmap that contains alpha, you need to specify the LR\_CREATEDIBSECTION flag.</span></span>

 

 

 