---
description: Ein WMI-Anbieter besteht aus einer Managed Object Format Datei (MOF) und einer DLL-Datei. Die MOF-Datei definiert die Klassen, für die die Anbieter Implementierung Daten bereitstellt.
ms.assetid: 20ef6b88-2aaa-4e86-bc4a-bebc34069672
ms.tgt_platform: multiple
title: Entwerfen von Managed Object Format-Klassen (MOF)
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 201f8c45f7a247fbca5695baa6dd440fc5dc323f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104216901"
---
# <a name="designing-managed-object-format-mof-classes"></a><span data-ttu-id="f88fa-104">Entwerfen von Managed Object Format-Klassen (MOF)</span><span class="sxs-lookup"><span data-stu-id="f88fa-104">Designing Managed Object Format (MOF) Classes</span></span>

<span data-ttu-id="f88fa-105">Ein [*WMI-Anbieter*](gloss-p.md) besteht aus einer Managed Object Format Datei (MOF) und einer DLL-Datei.</span><span class="sxs-lookup"><span data-stu-id="f88fa-105">A [*WMI provider*](gloss-p.md) consists of a Managed Object Format (MOF) file and DLL file.</span></span> <span data-ttu-id="f88fa-106">Die MOF-Datei definiert die Klassen, für die die Anbieter Implementierung Daten bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="f88fa-106">The MOF file defines the classes for which the provider implementation supplies data.</span></span>

<span data-ttu-id="f88fa-107">Die MOF-Klassendefinitionen werden vom Hilfsprogramm [**Mofcomp**](mofcomp.md) kompiliert und im [*WMI-Repository*](gloss-w.md)gespeichert, das auch als Common Information Model (CIM)-Repository bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="f88fa-107">The MOF class definitions are compiled by the [**mofcomp**](mofcomp.md) utility and stored in the [*WMI repository*](gloss-w.md), also known as the Common Information Model (CIM) repository.</span></span> <span data-ttu-id="f88fa-108">Eine weniger gängige Methode zum Erstellen von Klassen ist die Methode der [com-API für WMI](com-api-for-wmi.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-108">A less common way to create classes is through the methods of the [COM API for WMI](com-api-for-wmi.md).</span></span>

> [!Note]  
> <span data-ttu-id="f88fa-109">Um sicherzustellen, dass alle ihre WMI-Klassendefinitionen für verwaltete Objekte im [*WMI-Repository*](gloss-w.md) wieder hergestellt werden, wenn WMI einen Fehler aufweist und neu gestartet wird, verwenden Sie die " [**\# pragma Auto Wiederherstellen**](pragma-autorecover.md) "-Präprozessoranweisung in der MOF-Datei.</span><span class="sxs-lookup"><span data-stu-id="f88fa-109">To ensure that all your WMI class definitions for managed objects are restored to the [*WMI repository*](gloss-w.md) if WMI has a failure and restarts, use the [**\#pragma autorecover**](pragma-autorecover.md) preprocessor instruction in your MOF file.</span></span>

 

<span data-ttu-id="f88fa-110">In diesem Thema werden die folgenden Abschnitte erläutert:</span><span class="sxs-lookup"><span data-stu-id="f88fa-110">The following sections are discussed in this topic:</span></span>

-   [<span data-ttu-id="f88fa-111">Definieren der zu verwaltenden Objekte</span><span class="sxs-lookup"><span data-stu-id="f88fa-111">Defining the Objects to Manage</span></span>](#defining-the-objects-to-manage)
-   [<span data-ttu-id="f88fa-112">Definieren von Eigenschaften oder Methoden</span><span class="sxs-lookup"><span data-stu-id="f88fa-112">Defining Properties or Methods</span></span>](#defining-properties-or-methods)
-   [<span data-ttu-id="f88fa-113">Beziehung zwischen Objekten</span><span class="sxs-lookup"><span data-stu-id="f88fa-113">Relating Objects to Each Other</span></span>](#relating-objects-to-each-other)
-   [<span data-ttu-id="f88fa-114">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="f88fa-114">Related topics</span></span>](#related-topics)

## <a name="defining-the-objects-to-manage"></a><span data-ttu-id="f88fa-115">Definieren der zu verwaltenden Objekte</span><span class="sxs-lookup"><span data-stu-id="f88fa-115">Defining the Objects to Manage</span></span>

<span data-ttu-id="f88fa-116">Nachdem Sie den Teil Ihres Unternehmens für die Verwaltung identifiziert haben, definieren Sie die zu verwaltenden Objekte.</span><span class="sxs-lookup"><span data-stu-id="f88fa-116">After you identify the part of your enterprise to manage, define the objects to manage.</span></span> <span data-ttu-id="f88fa-117">Die Definition muss die erforderlichen Daten enthalten und die genaue Implementierung der relevanten Geschäftsregeln ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-117">The definition must include the required data, and allow you to implement the relevant business rules accurately.</span></span> <span data-ttu-id="f88fa-118">Sie können Objekte auf granularer Ebene definieren, aber es empfiehlt sich, zwischen der Detailebene zu entscheiden, die in der Definition enthalten ist, und die Notwendigkeit, genügend Details bereitzustellen, um nützlich zu sein.</span><span class="sxs-lookup"><span data-stu-id="f88fa-118">You can define objects at a granular level, but it is best to decide between the level of detail contained in the definition, and the need to provide enough detail to be useful.</span></span> <span data-ttu-id="f88fa-119">Verknüpfungen können frühzeitig im Prozesszeit sparen, können jedoch in Zukunft zu weiteren Aufgaben führen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-119">Shortcuts early in the process may save time, but may be cause more work in the future.</span></span>

<span data-ttu-id="f88fa-120">Das CIM-Tutorial auf der DMTF-Website (verteilte Verwaltungs Task Force) enthält hervorragende Informationen zum Entwurfsprozess.</span><span class="sxs-lookup"><span data-stu-id="f88fa-120">The CIM Tutorial at the Distributed Management Task Force (DMTF) website contains excellent information about the design process.</span></span> <span data-ttu-id="f88fa-121">Weitere Informationen finden Sie unter [www.DMTF.org](https://www.dmtf.org/).</span><span class="sxs-lookup"><span data-stu-id="f88fa-121">For more information, see [www.dmtf.org](https://www.dmtf.org/).</span></span>

<span data-ttu-id="f88fa-122">Berücksichtigen Sie die folgenden Faktoren, wenn Sie einen Schema Entwurf entwickeln und implementieren:</span><span class="sxs-lookup"><span data-stu-id="f88fa-122">Consider the following factors when you develop and implement a schema design:</span></span>

-   <span data-ttu-id="f88fa-123">Qualifizierer</span><span class="sxs-lookup"><span data-stu-id="f88fa-123">Qualifiers</span></span>

    <span data-ttu-id="f88fa-124">Qualifizierer stellen Informationen zum Beschreiben von Klassen, Objekten, Eigenschaften, Methoden und Parametern bereit. und werden auf Klassen-und Eigenschafts Definitionen angewendet.</span><span class="sxs-lookup"><span data-stu-id="f88fa-124">Qualifiers provide information about how to describe classes, objects, properties, methods, and parameters; and they are applied to class and property definitions.</span></span> <span data-ttu-id="f88fa-125">In MOF-Code werden Qualifizierer in eckige Klammern eingeschlossen und können einen Schlüssel oder eine Zuordnung enthalten \[ \] \[ \] .</span><span class="sxs-lookup"><span data-stu-id="f88fa-125">In MOF code, qualifiers are enclosed in brackets and may include \[key\] or \[association\].</span></span> <span data-ttu-id="f88fa-126">Weitere Informationen finden Sie unter [Hinzufügen von Qualifizierern](adding-a-qualifier.md) und [WMI-Qualifizierern](wmi-qualifiers.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-126">For more information, see [Adding a Qualifier](adding-a-qualifier.md) and [WMI Qualifiers](wmi-qualifiers.md).</span></span>

-   <span data-ttu-id="f88fa-127">Namespace</span><span class="sxs-lookup"><span data-stu-id="f88fa-127">Namespace</span></span>

    <span data-ttu-id="f88fa-128">Ein Namespace ist eine logische Einheit zum Gruppieren von Klassen und Objekten sowie zum Steuern des Gültigkeits Bereichs und der Sichtbarkeit.</span><span class="sxs-lookup"><span data-stu-id="f88fa-128">A namespace is a logical unit to group classes and objects, and control scope and visibility.</span></span> <span data-ttu-id="f88fa-129">In der Regel enthält ein Namespace einen Satz von Klassen und Objekten, die verwaltete Objekte in einer bestimmten Umgebung darstellen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-129">Typically, a namespace contains a set of classes and objects that represent managed objects in a specific environment.</span></span> <span data-ttu-id="f88fa-130">Weitere Informationen finden Sie unter [Erstellen von Hierarchien in WMI](creating-hierarchies-within-wmi.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-130">For more information, see [Creating Hierarchies Within WMI](creating-hierarchies-within-wmi.md).</span></span>

-   <span data-ttu-id="f88fa-131">Object</span><span class="sxs-lookup"><span data-stu-id="f88fa-131">Object</span></span>

    <span data-ttu-id="f88fa-132">Ein modelliertes Objekt kann ein physisches oder logisches Element des Schemas sein.</span><span class="sxs-lookup"><span data-stu-id="f88fa-132">A modeled object might be a physical or logical element of the schema.</span></span> <span data-ttu-id="f88fa-133">Beispielsweise können Sie ein physisches Laufwerk (z. b. ein Festplattenlaufwerk) oder einen logischen Datenträger modellieren, der eine Partition auf einem physischen Datenträger sein kann.</span><span class="sxs-lookup"><span data-stu-id="f88fa-133">For example, you can model a physical disk drive such as a hard disk drive, or a logical disk that can be a partition on a physical disk.</span></span> <span data-ttu-id="f88fa-134">Ein Entwurf, der eine Klasse zum Modellieren eines physischen Laufwerks verwendet und dann diese Klasse erweitert, um einen logischen Datenträger zu modellieren, ist erweiterbar als eine Klasse, die versucht, eine separate Klasse für jeden Typ von Datenträger zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-134">A design that uses a class to model a physical disk drive, and then extends that class to model a logical disk is more extensible than one that attempts to create a separate class for each type of disk.</span></span>

-   <span data-ttu-id="f88fa-135">Daten</span><span class="sxs-lookup"><span data-stu-id="f88fa-135">Data</span></span>

    <span data-ttu-id="f88fa-136">Die Daten können dynamisch oder statisch sein.</span><span class="sxs-lookup"><span data-stu-id="f88fa-136">Data may be dynamic or static.</span></span> <span data-ttu-id="f88fa-137">Wenn die Daten dynamisch sind, müssen Sie einen Klassen Anbieter dafür erstellen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-137">If the data is dynamic, you must create a class provider for it.</span></span>

    <span data-ttu-id="f88fa-138">Um dem Benutzer das Ändern von Daten zu ermöglichen, müssen Sie bestimmen, ob eine Eigenschaft nur mit einer vom Benutzer aufgerufenen Methode direkt geschrieben oder geändert werden soll.</span><span class="sxs-lookup"><span data-stu-id="f88fa-138">To enable the user to modify data, you must determine whether or not you want a property to be directly writable or modifiable only by using a method that the user calls.</span></span>

## <a name="defining-properties-or-methods"></a><span data-ttu-id="f88fa-139">Definieren von Eigenschaften oder Methoden</span><span class="sxs-lookup"><span data-stu-id="f88fa-139">Defining Properties or Methods</span></span>

<span data-ttu-id="f88fa-140">Im Allgemeinen ähnelt eine WMI-Klassen Eigenschaft einer Eigenschaft in einer C++-Klasse.</span><span class="sxs-lookup"><span data-stu-id="f88fa-140">Generally, a WMI class property is similar to a property in a C++ class.</span></span> <span data-ttu-id="f88fa-141">Wenn die einzige Aktion, die der Code für das Datenelement implementiert, den Wert erhält oder den Wert festgelegt wird, sollten die Daten als Eigenschaft der WMI-Klasse definiert werden.</span><span class="sxs-lookup"><span data-stu-id="f88fa-141">If the only actions your code implements for the piece of data is to get the value or set the value, then the data should be defined as a property of the WMI class.</span></span>

<span data-ttu-id="f88fa-142">Eine WMI-Methode führt im Allgemeinen eine Aktion aus, die den Status eines verwalteten Objekts ändert.</span><span class="sxs-lookup"><span data-stu-id="f88fa-142">A WMI method generally performs an action that changes the state of a managed object.</span></span> <span data-ttu-id="f88fa-143">Wenn beispielsweise die Aktion zum Aktivieren oder Deaktivieren des Vorgangs eines Hardware Objekts dient, ist es wahrscheinlich besser, eine Eigenschaft mit Lese-/Schreibzugriff zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-143">For example, if the action is to enable or disable the operation of a hardware object, then a method is probably preferable to creating a read/write property.</span></span> <span data-ttu-id="f88fa-144">Sie können auch eine Eigenschaft erstellen, die den Status der Hardware anzeigt.</span><span class="sxs-lookup"><span data-stu-id="f88fa-144">You may decide also to create a property that displays the state of the hardware.</span></span>

<span data-ttu-id="f88fa-145">Wenn Sie eine Klasse oder eine Instanz erstellen, können Sie Kommentare einschließen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-145">When you create a class or an instance, you can include comments.</span></span> <span data-ttu-id="f88fa-146">Verwenden Sie dieses Verfahren, um Ihre Klasse zu dokumentieren oder Ihre Programmiertechniken zu erläutern.</span><span class="sxs-lookup"><span data-stu-id="f88fa-146">Use this technique to document your class or explain your programming techniques.</span></span> <span data-ttu-id="f88fa-147">Weitere Informationen finden Sie unter [Erstellen eines Kommentars](creating-a-comment.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-147">For more information, see [Creating a Comment](creating-a-comment.md).</span></span> <span data-ttu-id="f88fa-148">Außerdem können Sie Daten hinzufügen, um den Zweck eines Datenobjekts zu qualifizieren.</span><span class="sxs-lookup"><span data-stu-id="f88fa-148">In addition, you can add data to qualify the purpose of a data object.</span></span> <span data-ttu-id="f88fa-149">Weitere Informationen finden Sie unter [Hinzufügen eines Qualifizierers](adding-a-qualifier.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-149">For more information, see [Adding a Qualifier](adding-a-qualifier.md).</span></span>

## <a name="relating-objects-to-each-other"></a><span data-ttu-id="f88fa-150">Beziehung zwischen Objekten</span><span class="sxs-lookup"><span data-stu-id="f88fa-150">Relating Objects to Each Other</span></span>

<span data-ttu-id="f88fa-151">Es gibt zwei Möglichkeiten, Objekte miteinander zu verknüpfen: durch Erstellen separater Objekte und eines Zuordnungs Objekts, das Sie miteinander verknüpft, oder durch Einbetten eines Objekts in das andere.</span><span class="sxs-lookup"><span data-stu-id="f88fa-151">There are two ways to relate objects to each other: by creating separate objects and an association object that relates them, or by embedding one object in the other.</span></span> <span data-ttu-id="f88fa-152">CIM bietet keine Unterstützung für eingebettete Objekte. Daher müssen Sie die erste Methode verwenden, um CIM-kompatibel zu sein.</span><span class="sxs-lookup"><span data-stu-id="f88fa-152">CIM does not support embedded objects, so to be CIM-compliant you must use the first method.</span></span> <span data-ttu-id="f88fa-153">WMI unterstützt jedoch eingebettete Objekte. verwenden Sie daher beide Methoden, um eine Beziehung zwischen Objekten darzustellen.</span><span class="sxs-lookup"><span data-stu-id="f88fa-153">However, WMI supports embedded objects so use either method to represent a relationship between objects.</span></span> <span data-ttu-id="f88fa-154">Beispiele für eingebettete Objekte finden Sie in den [Win32-Klassen](/windows/desktop/CIMWin32Prov/win32-provider).</span><span class="sxs-lookup"><span data-stu-id="f88fa-154">You can find examples of embedded objects in the [Win32 Classes](/windows/desktop/CIMWin32Prov/win32-provider).</span></span> <span data-ttu-id="f88fa-155">Beispielsweise verfügt [**Win32 \_ securityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) über den eingebetteten Objekt- [**Win32- \_ ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace), der über ein anderes eingebettetes Objekt, [**Win32- \_ Treuhänder**](/previous-versions/windows/desktop/secrcw32prov/win32-trustee)verfügt.</span><span class="sxs-lookup"><span data-stu-id="f88fa-155">For example, [**Win32\_SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) has the embedded object [**Win32\_ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace), which has another embedded object, [**Win32\_Trustee**](/previous-versions/windows/desktop/secrcw32prov/win32-trustee).</span></span>

<span data-ttu-id="f88fa-156">Berücksichtigen Sie bei der Entscheidung, wie Beziehungen zwischen Objekten dargestellt werden sollen, Folgendes:</span><span class="sxs-lookup"><span data-stu-id="f88fa-156">Consider the following when deciding how to represent relationships between objects:</span></span>

-   <span data-ttu-id="f88fa-157">Wenn eine-Instanz selbst nützlich ist, funktioniert eine Zuordnung am besten.</span><span class="sxs-lookup"><span data-stu-id="f88fa-157">If an instance is useful by itself, then an association works best.</span></span> <span data-ttu-id="f88fa-158">Beispielsweise [**Win32- \_ Prozess**](/windows/desktop/CIMWin32Prov/win32-process) und [**Win32- \_ Benutzerkonto**](/windows/desktop/CIMWin32Prov/win32-useraccount).</span><span class="sxs-lookup"><span data-stu-id="f88fa-158">For example, [**Win32\_Process**](/windows/desktop/CIMWin32Prov/win32-process) and [**Win32\_UserAccount**](/windows/desktop/CIMWin32Prov/win32-useraccount).</span></span> <span data-ttu-id="f88fa-159">Weitere Informationen finden Sie unter [Deklarieren einer Association-Klasse](declaring-an-association-class.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-159">For more information, see [Declaring an Association Class](declaring-an-association-class.md).</span></span>
-   <span data-ttu-id="f88fa-160">Wenn eine Instanz nicht außerhalb des übergeordneten Objekts vorhanden ist, funktioniert ein eingebettetes Objekt am besten.</span><span class="sxs-lookup"><span data-stu-id="f88fa-160">If an instance does not exist outside of the parent object, an embedded object works best.</span></span> <span data-ttu-id="f88fa-161">Beispielsweise [**Win32 \_ securityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) und [**Win32 \_ ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace).</span><span class="sxs-lookup"><span data-stu-id="f88fa-161">For example, [**Win32\_SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) and [**Win32\_ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace).</span></span> <span data-ttu-id="f88fa-162">Weitere Informationen finden Sie unter [Einbetten von Objekten in einer Klasse](embedded-objects.md).</span><span class="sxs-lookup"><span data-stu-id="f88fa-162">For more information, see [Embedding Objects in a Class](embedded-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f88fa-163">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="f88fa-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f88fa-164">Entwickeln eines WMI-Anbieters</span><span class="sxs-lookup"><span data-stu-id="f88fa-164">Developing a WMI Provider</span></span>](developing-a-wmi-provider.md)
</dt> <dt>

[<span data-ttu-id="f88fa-165">Bereitstellen von Daten für WMI</span><span class="sxs-lookup"><span data-stu-id="f88fa-165">Providing Data to WMI</span></span>](providing-data-to-wmi.md)
</dt> <dt>

[<span data-ttu-id="f88fa-166">MOF-Datentypen</span><span class="sxs-lookup"><span data-stu-id="f88fa-166">MOF Data Types</span></span>](mof-data-types.md)
</dt> </dl>

 

 
