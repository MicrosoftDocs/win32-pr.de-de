---
title: Informationen zu Menüs
description: In diesem Thema werden Menüs erläutert.
ms.assetid: fd0b26f1-93cd-421b-9097-8502ab7681e9
keywords:
- Ressourcen, Menüs
- Menüs, Info
- Untermenüs
- Menüleisten
- Menüs der obersten Ebene
- Popupmenüs
- Dropdown Menüs
- Menüs, oberste Ebene
- Menüs, Popup
- Menüs, Dropdown
- Menü Namen
- Menüs, Verknüpfung
- Menüs, Fenster
- Menüs, System
- Menüs, Steuerelemente
- Kontextmenüs
- Menü "Fenster"
- System Menü
- Menü "Steuerung"
- Hilfe Bezeichner
- Menü Handles
- Menüelemente
- Befehls Elemente
- Menü Element Bezeichner
- Position des Menü Elements
- Auswählen von Menü Elementen
- Löschen von Menü Elementen
- vom Besitzer gezeichnete Menüs
- Menüs, gezeichnete Besitzer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ed5d42eb42aaaaa16eef0b5b118adcfe0f91156e
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/19/2020
ms.locfileid: "104390213"
---
# <a name="about-menus"></a><span data-ttu-id="6ae9b-132">Informationen zu Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-132">About Menus</span></span>

<span data-ttu-id="6ae9b-133">Bei einem *Menü* handelt es sich um eine Liste von Elementen, die Optionen oder Gruppen von Optionen (ein Untermenü) für eine Anwendung angeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-133">A *menu* is a list of items that specify options or groups of options (a submenu) for an application.</span></span> <span data-ttu-id="6ae9b-134">Wenn Sie auf ein Menü Element klicken, wird ein Untermenü geöffnet, oder die Anwendung führt einen Befehl aus.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-134">Clicking a menu item opens a submenu or causes the application to carry out a command.</span></span> <span data-ttu-id="6ae9b-135">Dieser Abschnitt enthält Informationen zu den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="6ae9b-135">This section provides information on the following topics:</span></span>

-   [<span data-ttu-id="6ae9b-136">Menüleisten und Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-136">Menu Bars and Menus</span></span>](#menu-bars-and-menus)
    -   [<span data-ttu-id="6ae9b-137">Kontextmenüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-137">Shortcut Menus</span></span>](#shortcut-menus)
    -   [<span data-ttu-id="6ae9b-138">Das Menü "Fenster"</span><span class="sxs-lookup"><span data-stu-id="6ae9b-138">The Window Menu</span></span>](#the-window-menu)
    -   [<span data-ttu-id="6ae9b-139">Hilfe Bezeichner</span><span class="sxs-lookup"><span data-stu-id="6ae9b-139">Help Identifier</span></span>](#help-identifier)
-   [<span data-ttu-id="6ae9b-140">Tastatur Zugriff auf Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-140">Keyboard Access to Menus</span></span>](#keyboard-access-to-menus)
    -   [<span data-ttu-id="6ae9b-141">Standard Tastaturschnittstelle</span><span class="sxs-lookup"><span data-stu-id="6ae9b-141">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
    -   [<span data-ttu-id="6ae9b-142">Menü Zugriffstasten</span><span class="sxs-lookup"><span data-stu-id="6ae9b-142">Menu Access Keys</span></span>](#menu-access-keys)
    -   [<span data-ttu-id="6ae9b-143">Tastenkombinationen für Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-143">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)
-   [<span data-ttu-id="6ae9b-144">Menüerstellung</span><span class="sxs-lookup"><span data-stu-id="6ae9b-144">Menu Creation</span></span>](#menu-creation)
    -   [<span data-ttu-id="6ae9b-145">Menü Vorlagen Ressourcen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-145">Menu Template Resources</span></span>](#menu-template-resources)
    -   [<span data-ttu-id="6ae9b-146">Menüvorlage im Speicher</span><span class="sxs-lookup"><span data-stu-id="6ae9b-146">Menu Template in Memory</span></span>](#menu-template-in-memory)
    -   [<span data-ttu-id="6ae9b-147">Menü Handles</span><span class="sxs-lookup"><span data-stu-id="6ae9b-147">Menu Handles</span></span>](#menu-handles)
    -   [<span data-ttu-id="6ae9b-148">Menü Erstellungs Funktionen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-148">Menu Creation Functions</span></span>](#menu-creation-functions)
    -   [<span data-ttu-id="6ae9b-149">Menüanzeige</span><span class="sxs-lookup"><span data-stu-id="6ae9b-149">Menu Display</span></span>](#menu-display)
    -   [<span data-ttu-id="6ae9b-150">Fenster Klassen Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-150">Window Class Menus</span></span>](#window-class-menus)
-   [<span data-ttu-id="6ae9b-151">Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-151">Menu Items</span></span>](#menu-items)
    -   [<span data-ttu-id="6ae9b-152">Befehls Elemente und Elemente, die Untermenüs öffnen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-152">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
    -   [<span data-ttu-id="6ae9b-153">Menü Element Bezeichner</span><span class="sxs-lookup"><span data-stu-id="6ae9b-153">Menu-Item Identifier</span></span>](#menu-item-identifier)
    -   [<span data-ttu-id="6ae9b-154">Position des Menü Elements</span><span class="sxs-lookup"><span data-stu-id="6ae9b-154">Menu-Item Position</span></span>](#menu-item-position)
    -   [<span data-ttu-id="6ae9b-155">Programm gesteuertes zugreifen auf Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-155">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
    -   [<span data-ttu-id="6ae9b-156">Standardmenü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-156">Default Menu Items</span></span>](#default-menu-items)
    -   [<span data-ttu-id="6ae9b-157">Ausgewählte und Menü Elemente löschen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-157">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
    -   [<span data-ttu-id="6ae9b-158">Aktivierte, ausgegraut und deaktivierte Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-158">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
    -   [<span data-ttu-id="6ae9b-159">Markierte Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-159">Highlighted Menu Items</span></span>](#highlighted-menu-items)
    -   [<span data-ttu-id="6ae9b-160">Vom Besitzer gezeichnete Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-160">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
    -   [<span data-ttu-id="6ae9b-161">Trennzeichen für Menü Elemente und Zeilenumbrüche</span><span class="sxs-lookup"><span data-stu-id="6ae9b-161">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)
-   [<span data-ttu-id="6ae9b-162">Mit Menüs verwendete Nachrichten</span><span class="sxs-lookup"><span data-stu-id="6ae9b-162">Messages Used with Menus</span></span>](#messages-used-with-menus)
-   [<span data-ttu-id="6ae9b-163">Menü Zerstörung</span><span class="sxs-lookup"><span data-stu-id="6ae9b-163">Menu Destruction</span></span>](#menu-destruction)

## <a name="menu-bars-and-menus"></a><span data-ttu-id="6ae9b-164">Menüleisten und Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-164">Menu Bars and Menus</span></span>

<span data-ttu-id="6ae9b-165">Ein Menü wird in einer Hierarchie angeordnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-165">A menu is arranged in a hierarchy.</span></span> <span data-ttu-id="6ae9b-166">Auf der obersten Ebene der Hierarchie befindet sich die *Menüleiste*. , das eine Liste von *Menüs* enthält, die wiederum *Untermenüs* enthalten können.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-166">At the top level of the hierarchy is the *menu bar*; which contains a list of *menus*, which in turn can contain *submenus*.</span></span> <span data-ttu-id="6ae9b-167">Eine Menüleiste wird manchmal als *Menü der obersten Ebene* bezeichnet, und die Menüs und Untermenüs werden auch als *Popup Menüs* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-167">A menu bar is sometimes called a *top-level menu*, and the menus and submenus are also known as *pop-up menus*.</span></span>

<span data-ttu-id="6ae9b-168">Ein Menü Element kann entweder einen Befehl ausführen oder ein Untermenü öffnen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-168">A menu item can either carry out a command or open a submenu.</span></span> <span data-ttu-id="6ae9b-169">Ein Element, das einen Befehl ausführt, wird als *Befehls Element* oder als *Befehl* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-169">An item that carries out a command is called a *command item* or a *command*.</span></span>

<span data-ttu-id="6ae9b-170">Ein Element in der Menüleiste öffnet fast immer ein Menü.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-170">An item on the menu bar almost always opens a menu.</span></span> <span data-ttu-id="6ae9b-171">Menüleisten enthalten selten Befehls Elemente.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-171">Menu bars rarely contain command items.</span></span> <span data-ttu-id="6ae9b-172">Ein Menü, das in der Menüleiste geöffnet ist, wird von der Menüleiste herunter und auch als *Dropdown Menü* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-172">A menu opened from the menu bar drops down from the menu bar and is sometimes called a *drop-down menu*.</span></span> <span data-ttu-id="6ae9b-173">Wenn ein Dropdown Menü angezeigt wird, wird es an die Menüleiste angefügt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-173">When a drop-down menu is displayed, it is attached to the menu bar.</span></span> <span data-ttu-id="6ae9b-174">Ein Menü Element in der Menüleiste, das ein Dropdown Menü öffnet, wird auch als *Menüname* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-174">A menu item on the menu bar that opens a drop-down menu is also called a *menu name*.</span></span>

<span data-ttu-id="6ae9b-175">Die Menü Namen in einer Menüleiste stellen die Hauptkategorien von Befehlen dar, die von einer Anwendung bereitstellt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-175">The menu names on a menu bar represent the main categories of commands that an application provides.</span></span> <span data-ttu-id="6ae9b-176">Wenn Sie einen Menünamen in der Menüleiste auswählen, wird in der Regel ein Menü geöffnet, dessen Menü Elemente den Befehlen in einer Kategorie entsprechen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-176">Selecting a menu name from the menu bar typically opens a menu whose menu items correspond to the commands in a category.</span></span> <span data-ttu-id="6ae9b-177">Eine Menüleiste kann z. b. einen **Datei** Menü Namen enthalten, der, wenn der Benutzer darauf klickt, ein Menü mit Menü Elementen, z. b. " **neu**", " **Öffnen**" und " **Speichern**" aktiviert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-177">For example, a menu bar might contain a **File** menu name that, when clicked by the user, activates a menu with menu items such as **New**, **Open**, and **Save**.</span></span> <span data-ttu-id="6ae9b-178">Zum Abrufen von Informationen zu einer Menüleiste aufrufen Sie [**getmenubarinfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-178">To get information about a menu bar, call [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span></span>

<span data-ttu-id="6ae9b-179">Nur ein überlappendes oder Popup Fenster kann eine Menüleiste enthalten. ein untergeordnetes Fenster darf keines enthalten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-179">Only an overlapped or pop-up window can contain a menu bar; a child window cannot contain one.</span></span> <span data-ttu-id="6ae9b-180">Wenn das Fenster über eine Titelleiste verfügt, positioniert das System die Menüleiste direkt darunter.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-180">If the window has a title bar, the system positions the menu bar just below it.</span></span> <span data-ttu-id="6ae9b-181">Eine Menüleiste ist immer sichtbar.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-181">A menu bar is always visible.</span></span> <span data-ttu-id="6ae9b-182">Ein Untermenü ist jedoch erst sichtbar, wenn der Benutzer ein Menü Element auswählt, das es aktiviert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-182">A submenu is not visible, however, until the user selects a menu item that activates it.</span></span> <span data-ttu-id="6ae9b-183">Weitere Informationen zu überlappenden und Popup Fenstern finden Sie unter [Fenstertypen](/windows/desktop/winmsg/window-features).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-183">For more information about overlapped and pop-up windows, see [Window Types](/windows/desktop/winmsg/window-features).</span></span>

<span data-ttu-id="6ae9b-184">Jedes Menü muss über ein Besitzer Fenster verfügen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-184">Each menu must have an owner window.</span></span> <span data-ttu-id="6ae9b-185">Das System sendet Nachrichten an das Besitzer Fenster eines Menüs, wenn der Benutzer das Menü auswählt oder im Menü ein Element auswählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-185">The system sends messages to a menu's owner window when the user selects the menu or chooses an item from the menu.</span></span>

<span data-ttu-id="6ae9b-186">In diesem Abschnitt werden die folgenden Themen behandelt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-186">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="6ae9b-187">Kontextmenüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-187">Shortcut Menus</span></span>](#shortcut-menus)
-   [<span data-ttu-id="6ae9b-188">Das Menü "Fenster"</span><span class="sxs-lookup"><span data-stu-id="6ae9b-188">The Window Menu</span></span>](#the-window-menu)
-   [<span data-ttu-id="6ae9b-189">Hilfe Bezeichner</span><span class="sxs-lookup"><span data-stu-id="6ae9b-189">Help Identifier</span></span>](#help-identifier)

### <a name="shortcut-menus"></a><span data-ttu-id="6ae9b-190">Kontextmenüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-190">Shortcut Menus</span></span>

<span data-ttu-id="6ae9b-191">Das System stellt auch Kontext *Menüs* bereit.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-191">The system also provides *shortcut menus*.</span></span> <span data-ttu-id="6ae9b-192">Ein Kontextmenü ist nicht an die Menüleiste angefügt. Sie kann überall auf dem Bildschirm angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-192">A shortcut menu is not attached to the menu bar; it can appear anywhere on the screen.</span></span> <span data-ttu-id="6ae9b-193">In einer Anwendung wird in der Regel ein Kontextmenü mit einem Teil eines Fensters verknüpft, z. b. dem Client Bereich oder einem bestimmten Objekt, z. b. einem Symbol.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-193">An application typically associates a shortcut menu with a portion of a window, such as the client area, or with a specific object, such as an icon.</span></span> <span data-ttu-id="6ae9b-194">Aus diesem Grund werden diese Menüs auch als *Kontextmenüs* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-194">For this reason, these menus are also called *context menus*.</span></span>

<span data-ttu-id="6ae9b-195">Ein Kontextmenü bleibt ausgeblendet, bis der Benutzer es aktiviert. in der Regel Klicken Sie mit der rechten Maustaste auf eine Auswahl, eine Symbolleiste oder auf eine Task leisten Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-195">A shortcut menu remains hidden until the user activates it, typically by right-clicking a selection, a toolbar, or a taskbar button.</span></span> <span data-ttu-id="6ae9b-196">Das Menü wird normalerweise an der Position der Einfügemarke oder des Mauszeigers angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-196">The menu is usually displayed at the position of the caret or mouse cursor.</span></span>

### <a name="the-window-menu"></a><span data-ttu-id="6ae9b-197">Das Menü "Fenster"</span><span class="sxs-lookup"><span data-stu-id="6ae9b-197">The Window Menu</span></span>

<span data-ttu-id="6ae9b-198">Das Menü **Fenster** (auch als **Systemmenü** oder **Steuer** Element Menü bezeichnet) ist ein Popupmenü, das fast exklusiv vom Betriebs System definiert und verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-198">The **Window** menu (also known as the **System** menu or **Control** menu) is a pop-up menu defined and managed almost exclusively by the operating system.</span></span> <span data-ttu-id="6ae9b-199">Der Benutzer kann das Menü Fenster öffnen, indem er auf das Anwendungssymbol auf der Titelleiste klickt oder mit der rechten Maustaste auf eine beliebige Stelle in der Titelleiste klickt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-199">The user can open the window menu by clicking the application icon on the title bar or by right-clicking anywhere on the title bar.</span></span>

<span data-ttu-id="6ae9b-200">Das Menü **Fenster** enthält eine Standardgruppe von Menü Elementen, die der Benutzer auswählen kann, um die Größe oder Position eines Fensters zu ändern oder die Anwendung zu schließen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-200">The **Window** menu provides a standard set of menu items that the user can choose to change a window's size or position, or close the application.</span></span> <span data-ttu-id="6ae9b-201">Elemente im Menü Fenster können hinzugefügt, gelöscht und geändert werden, aber die meisten Anwendungen verwenden nur den Standardsatz von Menü Elementen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-201">Items on the window menu can be added, deleted, and modified, but most applications just use the standard set of menu items.</span></span> <span data-ttu-id="6ae9b-202">Ein überlappendes, Popup-oder untergeordnetes Fenster kann über ein Fenstermenü verfügen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-202">An overlapped, pop-up, or child window can have a window menu.</span></span> <span data-ttu-id="6ae9b-203">Es ist nicht üblich, dass ein überlappendes oder ein Popup Fenster ein Fenstermenü enthält.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-203">It is uncommon for an overlapped or pop-up window not to include a window menu.</span></span>

<span data-ttu-id="6ae9b-204">Wenn der Benutzer im Menü **Fenster** einen Befehl auswählt, sendet das System eine [**WM- \_ syscommand**](wm-syscommand.md) -Meldung an das Besitzer Fenster des Menüs.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-204">When the user chooses a command from the **Window** menu, the system sends a [**WM\_SYSCOMMAND**](wm-syscommand.md) message to the menu's owner window.</span></span> <span data-ttu-id="6ae9b-205">In den meisten Anwendungen verarbeitet die Fenster Prozedur keine Meldungen aus dem Menü Fenster.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-205">In most applications, the window procedure does not process messages from the window menu.</span></span> <span data-ttu-id="6ae9b-206">Stattdessen übergibt Sie die Nachrichten einfach an die [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) -Funktion für die System Standard Verarbeitung der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-206">Instead, it simply passes the messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for system-default processing of the message.</span></span> <span data-ttu-id="6ae9b-207">Wenn eine Anwendung dem Menü Fenster einen Befehl hinzufügt, muss die Fenster Prozedur den Befehl verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-207">If an application adds a command to the window menu, the window procedure must process the command.</span></span>

<span data-ttu-id="6ae9b-208">Eine Anwendung kann die [**getsystemmenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) -Funktion verwenden, um eine Kopie des Standardmenü Fensters zu erstellen, das geändert werden soll.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-208">An application can use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function to create a copy of the default window menu to modify.</span></span> <span data-ttu-id="6ae9b-209">Jedes Fenster, in dem die **getsystemmenu** -Funktion nicht verwendet wird, um eine eigene Kopie des Menü Fensters zu erstellen, erhält das Standardfenster Menü.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-209">Any window that does not use the **GetSystemMenu** function to make its own copy of the window menu receives the standard window menu.</span></span>

### <a name="help-identifier"></a><span data-ttu-id="6ae9b-210">Hilfe Bezeichner</span><span class="sxs-lookup"><span data-stu-id="6ae9b-210">Help Identifier</span></span>

<span data-ttu-id="6ae9b-211">Der einzelnen Menüleiste, dem Menü, dem Untermenü und dem Kontextmenü ist ein Hilfe Bezeichner zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-211">Associated with each menu bar, menu, submenu, and shortcut menu is a help identifier.</span></span> <span data-ttu-id="6ae9b-212">Wenn der Benutzer die F1-Taste drückt, während das Menü aktiv ist, wird dieser Wert als Teil einer [**WM- \_ Hilfe**](../shell/wm-help.md) Nachricht an das Besitzer Fenster gesendet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-212">If the user presses the F1 key while the menu is active, this value is sent to the owner window as part of a [**WM\_HELP**](../shell/wm-help.md) message.</span></span>

## <a name="keyboard-access-to-menus"></a><span data-ttu-id="6ae9b-213">Tastatur Zugriff auf Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-213">Keyboard Access to Menus</span></span>

<span data-ttu-id="6ae9b-214">Das System stellt eine Standardtastatur Schnittstelle für Menüs bereit.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-214">The system provides a standard keyboard interface for menus.</span></span> <span data-ttu-id="6ae9b-215">Sie können diese Schnittstelle verbessern, indem Sie für Ihre Menü Elemente mnetmonische Zugriffstasten und Tastenkombinationen (Zugriffstasten) bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-215">You can enhance this interface by providing mnemonic access keys and shortcut (accelerator) keys for your menu items.</span></span>

<span data-ttu-id="6ae9b-216">In den folgenden Themen werden die Standardtastatur Schnittstelle, Zugriffstasten und Tastenkombinationen beschrieben:</span><span class="sxs-lookup"><span data-stu-id="6ae9b-216">The following topics describe the standard keyboard interface, access keys, and shortcut keys:</span></span>

-   [<span data-ttu-id="6ae9b-217">Standard Tastaturschnittstelle</span><span class="sxs-lookup"><span data-stu-id="6ae9b-217">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
-   [<span data-ttu-id="6ae9b-218">Menü Zugriffstasten</span><span class="sxs-lookup"><span data-stu-id="6ae9b-218">Menu Access Keys</span></span>](#menu-access-keys)
-   [<span data-ttu-id="6ae9b-219">Tastenkombinationen für Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-219">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)

### <a name="standard-keyboard-interface"></a><span data-ttu-id="6ae9b-220">Standard Tastaturschnittstelle</span><span class="sxs-lookup"><span data-stu-id="6ae9b-220">Standard Keyboard Interface</span></span>

<span data-ttu-id="6ae9b-221">Das System ist so konzipiert, dass es mit oder ohne Maus oder einem anderen Zeigegerät funktioniert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-221">The system is designed to work with or without a mouse or other pointing device.</span></span> <span data-ttu-id="6ae9b-222">Da das System eine standardmäßige Tastaturschnittstelle bereitstellt, kann der Benutzer die Tastatur verwenden, um Menü Elemente auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-222">Because the system provides a standard keyboard interface, the user can use the keyboard to select menu items.</span></span> <span data-ttu-id="6ae9b-223">Diese Tastaturschnittstelle benötigt keinen speziellen Code.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-223">This keyboard interface does not need special code.</span></span> <span data-ttu-id="6ae9b-224">Eine Anwendung empfängt eine Befehls Meldung, ob der Benutzer ein Menü Element über die Tastatur oder mithilfe einer Maus auswählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-224">An application receives a command message whether the user selects a menu item through the keyboard or by using a mouse.</span></span> <span data-ttu-id="6ae9b-225">Die Standardtastatur Schnittstelle verarbeitet die folgenden Tastatureingaben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-225">The standard keyboard interface processes the following keystrokes.</span></span>



| <span data-ttu-id="6ae9b-226">Tastatureingabe</span><span class="sxs-lookup"><span data-stu-id="6ae9b-226">Keystroke</span></span>              | <span data-ttu-id="6ae9b-227">Aktion</span><span class="sxs-lookup"><span data-stu-id="6ae9b-227">Action</span></span>                                                                                                                                                                                                                                   |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="6ae9b-228">Alphabetisches Zeichen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-228">Alphabetical character</span></span> | <span data-ttu-id="6ae9b-229">Wählt das erste Menü Element mit dem angegebenen Zeichen als Zugriffsschlüssel aus.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-229">Selects the first menu item with the specified character as its access key.</span></span> <span data-ttu-id="6ae9b-230">Wenn das ausgewählte Element ein Menü aufruft, wird das Menü angezeigt, und das erste Element wird hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-230">If the selected item invokes a menu, the menu is displayed and the first item is highlighted.</span></span> <span data-ttu-id="6ae9b-231">Andernfalls wird das Menü Element ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-231">Otherwise, the menu item is chosen.</span></span>                            |
| <span data-ttu-id="6ae9b-232">ALT</span><span class="sxs-lookup"><span data-stu-id="6ae9b-232">ALT</span></span>                    | <span data-ttu-id="6ae9b-233">Schaltet den Menüleisten Modus ein und aus.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-233">Toggles in and out of menu bar mode.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="6ae9b-234">ALT+LEERTASTE</span><span class="sxs-lookup"><span data-stu-id="6ae9b-234">ALT+SPACEBAR</span></span>           | <span data-ttu-id="6ae9b-235">Zeigt das Fenstermenü an.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-235">Displays the window menu.</span></span>                                                                                                                                                                                                                |
| <span data-ttu-id="6ae9b-236">EINGABETASTE</span><span class="sxs-lookup"><span data-stu-id="6ae9b-236">ENTER</span></span>                  | <span data-ttu-id="6ae9b-237">Aktiviert ein Menü und wählt das erste Menü Element aus, wenn ein Element einem Element zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-237">Activates a menu and selects the first menu item if an item has a menu associated with it.</span></span> <span data-ttu-id="6ae9b-238">Andernfalls wählt diese Tastenkombination das Element so aus, als ob der Benutzer die Maustaste losgelassen hat, während das Element ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-238">Otherwise, this keystroke chooses the item as if the user released the mouse button while the item was selected.</span></span>                              |
| <span data-ttu-id="6ae9b-239">ESC</span><span class="sxs-lookup"><span data-stu-id="6ae9b-239">ESC</span></span>                    | <span data-ttu-id="6ae9b-240">Beendet den Menü Modus.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-240">Exits menu mode.</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="6ae9b-241">NACH-LINKS-TASTE</span><span class="sxs-lookup"><span data-stu-id="6ae9b-241">LEFT ARROW</span></span>             | <span data-ttu-id="6ae9b-242">Wechselt zum vorherigen Menü Element der obersten Ebene.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-242">Cycles to the previous top-level menu item.</span></span> <span data-ttu-id="6ae9b-243">Menü Elemente der obersten Ebene enthalten Menü Namen und das Menü Fenster.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-243">Top-level menu items include menu names and the window menu.</span></span> <span data-ttu-id="6ae9b-244">Wenn das ausgewählte Element in einem Menü angezeigt wird, wird die vorherige Spalte im Menü ausgewählt, oder das vorherige Menü Element der obersten Ebene ist ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-244">If the selected item is in a menu, the previous column in the menu is selected or the previous top-level menu item is selected.</span></span> |
| <span data-ttu-id="6ae9b-245">NACH-RECHTS-TASTE</span><span class="sxs-lookup"><span data-stu-id="6ae9b-245">RIGHT ARROW</span></span>            | <span data-ttu-id="6ae9b-246">Funktioniert wie die nach-links-Taste, außer in umgekehrter Richtung.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-246">Works like the LEFT ARROW key, except in the opposite direction.</span></span> <span data-ttu-id="6ae9b-247">In Menüs verschiebt diese Tastenkombination eine Spalte vorwärts. Wenn sich das aktuell ausgewählte Element in der Spalte ganz rechts befindet, wird das nächste Menü ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-247">In menus, this keystroke moves forward one column; when the currently selected item is in the far-right column, the next menu is selected.</span></span>                              |
| <span data-ttu-id="6ae9b-248">Pfeile nach oben oder nach unten</span><span class="sxs-lookup"><span data-stu-id="6ae9b-248">UP or DOWN ARROWS</span></span>      | <span data-ttu-id="6ae9b-249">Aktiviert ein Menü, wenn in einem Menünamen gedrückt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-249">Activates a menu when pressed in a menu name.</span></span> <span data-ttu-id="6ae9b-250">Wenn Sie in einem Menü gedrückt werden, wählt der nach-oben-Taste das vorherige Element aus. mit der nach-unten-Taste wird das nächste Element ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-250">When pressed in a menu, the UP ARROW keystroke selects the previous item; the DOWN ARROW keystroke selects the next item.</span></span>                                                                  |



 

### <a name="menu-access-keys"></a><span data-ttu-id="6ae9b-251">Menü Zugriffstasten</span><span class="sxs-lookup"><span data-stu-id="6ae9b-251">Menu Access Keys</span></span>

<span data-ttu-id="6ae9b-252">Die Standardtastatur Schnittstelle für Menüs kann durch Hinzufügen von Zugriffs Schlüsseln (mnetmonics) zu Menü Elementen erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-252">The standard keyboard interface for menus can be enhanced by adding access keys (mnemonics) to menu items.</span></span> <span data-ttu-id="6ae9b-253">Bei einer Zugriffstaste handelt es sich um einen unterstrichenen Buchstaben im Text eines Menü Elements.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-253">An access key is an underlined letter in the text of a menu item.</span></span> <span data-ttu-id="6ae9b-254">Wenn ein Menü aktiv ist, kann der Benutzer ein Menü Element auswählen, indem er die Taste drückt, die dem unterstrichenen Buchstaben des Elements entspricht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-254">When a menu is active, the user can select a menu item by pressing the key that corresponds to the item's underlined letter.</span></span> <span data-ttu-id="6ae9b-255">Der Benutzer aktiviert die Menüleiste durch Drücken der Alt-Taste, um das erste Element in der Menüleiste hervorzuheben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-255">The user makes the menu bar active by pressing the ALT key to highlight the first item on the menu bar.</span></span> <span data-ttu-id="6ae9b-256">Ein Menü ist aktiv, wenn es angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-256">A menu is active when it is displayed.</span></span>

<span data-ttu-id="6ae9b-257">Um einen Zugriffsschlüssel für ein Menü Element zu erstellen, stellen Sie einem beliebigen Zeichen in der Text Zeichenfolge des Elements ein kaufmännisches und-Zeichen voran.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-257">To create an access key for a menu item, precede any character in the item's text string with an ampersand.</span></span> <span data-ttu-id="6ae9b-258">Beispielsweise bewirkt die Text Zeichenfolge "&Move", dass das System den Buchstaben "M" unterstreicht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-258">For example, the text string "&Move" causes the system to underline the letter "M".</span></span>

### <a name="menu-shortcut-keys"></a><span data-ttu-id="6ae9b-259">Tastenkombinationen für Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-259">Menu Shortcut Keys</span></span>

<span data-ttu-id="6ae9b-260">Zusätzlich zu einer Zugriffstaste kann einem Menü Element eine Tastenkombination zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-260">In addition to having an access key, a menu item can have a shortcut key associated with it.</span></span> <span data-ttu-id="6ae9b-261">Eine Tastenkombination unterscheidet sich von einer Zugriffstaste, da das Menü nicht aktiv sein muss, damit die Tastenkombination funktioniert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-261">A shortcut key is different from an access key, because the menu does not have to be active for the shortcut key to work.</span></span> <span data-ttu-id="6ae9b-262">Außerdem ist eine Zugriffstaste *immer* einem Menü Element zugeordnet, während eine Tastenkombination *in der Regel* (aber nicht muss) einem Menü Element zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-262">Also, an access key is *always* associated with a menu item, while an shortcut key is *usually* (but does not have to be) associated with a menu item.</span></span>

<span data-ttu-id="6ae9b-263">Text, der die Tastenkombination identifiziert, wird der Text Zeichenfolge für das Menü Element hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-263">Text that identifies the shortcut key is added to the menu-item text string.</span></span> <span data-ttu-id="6ae9b-264">Der Kontext Text wird rechts neben dem Menü Elementnamen angezeigt, nach einem umgekehrten Schrägstrich und einem Tabstopp Zeichen ( \\ t).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-264">The shortcut text appears to the right of the menu item name, after a backslash and tab character (\\t).</span></span> <span data-ttu-id="6ae9b-265">Beispielsweise stellt "&close \\ Talt + F4" einen Close-Befehl mit der Tastenkombination ALT + F4 als Tastenkombination und mit dem Buchstaben "C" als Zugriffstaste dar.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-265">For example, "&Close\\tAlt+F4" represents a Close command with the ALT+F4 key combination as its shortcut key and with the letter "C" as its access key.</span></span> <span data-ttu-id="6ae9b-266">Weitere Informationen finden Sie unter [Tastaturbeschleuniger](keyboard-accelerators.md).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-266">For more information, see [Keyboard Accelerators](keyboard-accelerators.md).</span></span>

## <a name="menu-creation"></a><span data-ttu-id="6ae9b-267">Menüerstellung</span><span class="sxs-lookup"><span data-stu-id="6ae9b-267">Menu Creation</span></span>

<span data-ttu-id="6ae9b-268">Sie können ein Menü erstellen, indem Sie entweder eine Menüvorlage oder Menü Erstellungs Funktionen verwenden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-268">You can create a menu using either a menu template or menu creation functions.</span></span> <span data-ttu-id="6ae9b-269">Menü Vorlagen werden in der Regel als Ressourcen definiert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-269">Menu templates are typically defined as resources.</span></span> <span data-ttu-id="6ae9b-270">Menü Vorlagen Ressourcen können explizit geladen oder als Standardmenü für eine Fenster Klasse zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-270">Menu-template resources can be loaded explicitly or assigned as the default menu for a window class.</span></span> <span data-ttu-id="6ae9b-271">Sie können Menü Vorlagen Ressourcen auch dynamisch im Arbeitsspeicher erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-271">You can also create menu-template resources dynamically in memory.</span></span>

<span data-ttu-id="6ae9b-272">In den folgenden Themen wird die Menüerstellung ausführlich beschrieben:</span><span class="sxs-lookup"><span data-stu-id="6ae9b-272">The following topics describe menu creation in detail:</span></span>

-   [<span data-ttu-id="6ae9b-273">Menü Vorlagen Ressourcen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-273">Menu Template Resources</span></span>](#menu-template-resources)
-   [<span data-ttu-id="6ae9b-274">Menüvorlage im Speicher</span><span class="sxs-lookup"><span data-stu-id="6ae9b-274">Menu Template in Memory</span></span>](#menu-template-in-memory)
-   [<span data-ttu-id="6ae9b-275">Menü Handles</span><span class="sxs-lookup"><span data-stu-id="6ae9b-275">Menu Handles</span></span>](#menu-handles)
-   [<span data-ttu-id="6ae9b-276">Menü Erstellungs Funktionen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-276">Menu Creation Functions</span></span>](#menu-creation-functions)
-   [<span data-ttu-id="6ae9b-277">Menüanzeige</span><span class="sxs-lookup"><span data-stu-id="6ae9b-277">Menu Display</span></span>](#menu-display)
-   [<span data-ttu-id="6ae9b-278">Fenster Klassen Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-278">Window Class Menus</span></span>](#window-class-menus)

### <a name="menu-template-resources"></a><span data-ttu-id="6ae9b-279">Menü Vorlagen Ressourcen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-279">Menu Template Resources</span></span>

<span data-ttu-id="6ae9b-280">Die meisten Anwendungen erstellen Menüs mithilfe von Menü Vorlagen Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-280">Most applications create menus using menu-template resources.</span></span> <span data-ttu-id="6ae9b-281">Eine *Menüvorlage* definiert ein Menü, einschließlich der Elemente in der Menüleiste und aller Menüs.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-281">A *menu template* defines a menu, including the items in the menu bar and all menus.</span></span> <span data-ttu-id="6ae9b-282">Weitere Informationen zum Erstellen einer Menü Vorlagen Ressource finden Sie in der Dokumentation, die in ihren Entwicklungs Tools enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-282">For information about creating a menu-template resource, see the documentation included with your development tools.</span></span>

<span data-ttu-id="6ae9b-283">Nachdem Sie eine Menü Vorlagen Ressource erstellt und der ausführbaren Datei (exe-Datei) Ihrer Anwendung hinzugefügt haben, können Sie die [**loadmenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) -Funktion verwenden, um die Ressource in den Arbeitsspeicher zu laden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-283">After you create a menu-template resource and add it to your application's executable (.exe) file, you can use the [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) function to load the resource into memory.</span></span> <span data-ttu-id="6ae9b-284">Diese Funktion gibt ein Handle für das Menü zurück, das Sie dann mithilfe der [**setMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) -Funktion einem Fenster zuweisen können.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-284">This function returns a handle to the menu, which you can then assign to a window by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="6ae9b-285">Sie können einem beliebigen Fenster ein Menü zuweisen, das kein untergeordnetes Fenster ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-285">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="6ae9b-286">Das Implementieren von Menüs als Ressourcen vereinfacht die Lokalisierung einer Anwendung für die Verwendung in mehreren Ländern/Regionen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-286">Implementing menus as resources makes an application easier to localize for use in multiple countries/regions.</span></span> <span data-ttu-id="6ae9b-287">Nur die Ressourcen Definitionsdatei muss für jede Sprache lokalisiert werden, nicht für den Quellcode der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-287">Only the resource-definition file needs to be localized for each language, not the application's source code.</span></span>

### <a name="menu-template-in-memory"></a><span data-ttu-id="6ae9b-288">Menüvorlage im Speicher</span><span class="sxs-lookup"><span data-stu-id="6ae9b-288">Menu Template in Memory</span></span>

<span data-ttu-id="6ae9b-289">Ein Menü kann aus einer Menüvorlage erstellt werden, die zur Laufzeit in den Arbeitsspeicher integriert ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-289">A menu can be created from a menu template that is built in memory at run time.</span></span> <span data-ttu-id="6ae9b-290">Beispielsweise kann eine Anwendung, die einem Benutzer das Anpassen des Menüs ermöglicht, basierend auf den Benutzereinstellungen eine Menüvorlage im Arbeitsspeicher erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-290">For example, an application that allows a user to customize its menu might create a menu template in memory based on the user's preferences.</span></span> <span data-ttu-id="6ae9b-291">Die Anwendung kann die Vorlage dann für die spätere Verwendung in einer Datei oder in der Registrierung speichern.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-291">The application could then save the template in a file or in the registry for future use.</span></span> <span data-ttu-id="6ae9b-292">Verwenden Sie die [**loadmenuindirekte**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) -Funktion, um ein Menü aus einer Vorlage im Arbeitsspeicher zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-292">To create a menu from a template in memory, use the [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) function.</span></span> <span data-ttu-id="6ae9b-293">Beschreibungen von Menü Vorlagen Formaten finden Sie unter [Menü Vorlagen Ressourcen](#menu-template-resources).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-293">For descriptions of menu-template formats, see [Menu Template Resources](#menu-template-resources).</span></span>

<span data-ttu-id="6ae9b-294">Eine Standardmenü Vorlage besteht aus einer [**menuitemtemplateheader**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) -Struktur, gefolgt von einer oder mehreren [**menuitemtemplate**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) -Strukturen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-294">A standard menu template consists of a [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) structure followed by one or more [**MENUITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) structures.</span></span>

<span data-ttu-id="6ae9b-295">Eine erweiterte Menüvorlage besteht aus einer [**menuex- \_ Vorlagen \_ Header**](menuex-template-header.md) Struktur, gefolgt von einer oder mehreren [**menuex- \_ Vorlagen \_ Element**](menuex-template-item.md) Strukturen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-295">An extended menu template consists of a [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) structure followed by one or more [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures.</span></span>

### <a name="menu-handles"></a><span data-ttu-id="6ae9b-296">Menü Handles</span><span class="sxs-lookup"><span data-stu-id="6ae9b-296">Menu Handles</span></span>

<span data-ttu-id="6ae9b-297">Das System generiert für jedes Menü einen eindeutigen handle.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-297">The system generates a unique handle to each menu.</span></span> <span data-ttu-id="6ae9b-298">Ein *Menü handle* ist ein Wert des **HMENU** -Typs.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-298">A *menu handle* is a value of the **HMENU** type.</span></span> <span data-ttu-id="6ae9b-299">Eine Anwendung muss ein Menü Handle in vielen der Menüfunktionen angeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-299">An application must specify a menu handle in many of the menu functions.</span></span> <span data-ttu-id="6ae9b-300">Sie erhalten ein Handle für eine Menüleiste, wenn Sie das Menü Erstellen oder eine Menü Ressource laden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-300">You receive a handle to a menu bar when you create the menu or load a menu resource.</span></span>

<span data-ttu-id="6ae9b-301">Zum Abrufen eines Handles für die Menüleiste eines Menüs, das erstellt oder geladen wurde, verwenden Sie die [**getMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-301">To retrieve a handle to the menu bar for a menu that has been created or loaded, use the [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) function.</span></span> <span data-ttu-id="6ae9b-302">Zum Abrufen eines Handles für das unter Menü, das einem Menü Element zugeordnet ist, verwenden Sie die [**getsubmenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) -oder [**getmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-302">To retrieve a handle to the submenu associated with a menu item, use the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span> <span data-ttu-id="6ae9b-303">Um ein Handle für ein Fenstermenü abzurufen, verwenden Sie die [**getsystemmenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-303">To retrieve a handle to a window menu, use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function.</span></span>

### <a name="menu-creation-functions"></a><span data-ttu-id="6ae9b-304">Menü Erstellungs Funktionen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-304">Menu Creation Functions</span></span>

<span data-ttu-id="6ae9b-305">Mithilfe von Menü Erstellungs Funktionen können Sie Menüs zur Laufzeit erstellen oder Menü Elemente zu vorhandenen Menüs hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-305">Using menu creation functions, you can create menus at run time or add menu items to existing menus.</span></span> <span data-ttu-id="6ae9b-306">Sie können die Funktion " [**anatemenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) " verwenden, um eine leere Menüleiste zu erstellen, und die Funktion " [**kreatepopupmenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) ", um ein leeres Menü zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-306">You can use the [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) function to create an empty menu bar and the [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) function to create an empty menu.</span></span> <span data-ttu-id="6ae9b-307">Sie können bestimmte Einstellungs Informationen für ein Menü mithilfe der [**menuinfo**](/windows/win32/api/winuser/ns-winuser-menuinfo) -Struktur speichern.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-307">You can save certain settings information for a menu by using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="6ae9b-308">Verwenden Sie [**getmenuinfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) oder [**setmenuinfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo), um die Einstellungen eines Menüs abzurufen oder abzurufen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-308">To get or retrieve the settings of a menu, use [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) or [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span></span> <span data-ttu-id="6ae9b-309">Verwenden Sie zum Hinzufügen von Elementen zu einem Menü die [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-309">To add items to a menu, use the [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) function.</span></span> <span data-ttu-id="6ae9b-310">Die älteren [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) -und [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) -Funktionen werden weiterhin unterstützt, aber **InsertMenuItem** sollte für neue Anwendungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-310">The older [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) and [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) functions are still supported, but **InsertMenuItem** should be used for new applications.</span></span>

### <a name="menu-display"></a><span data-ttu-id="6ae9b-311">Menüanzeige</span><span class="sxs-lookup"><span data-stu-id="6ae9b-311">Menu Display</span></span>

<span data-ttu-id="6ae9b-312">Nachdem ein Menü geladen oder erstellt wurde, muss es einem Fenster zugewiesen werden, bevor es vom System angezeigt werden kann.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-312">After a menu has been loaded or created, it must be assigned to a window before the system can display it.</span></span> <span data-ttu-id="6ae9b-313">Sie können ein Menü zuweisen, indem Sie ein Klassen Menü definieren.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-313">You can assign a menu by defining a class menu.</span></span> <span data-ttu-id="6ae9b-314">Weitere Informationen finden Sie unter [Fenster Klassen Menüs](#window-class-menus).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-314">For more information, see [Window Class Menus](#window-class-menus).</span></span> <span data-ttu-id="6ae9b-315">Sie können ein Menü auch einem Fenster zuweisen, indem Sie ein Handle für das Menü als *HMENU* -Parameter der [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) -oder [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) -Funktion angeben oder indem Sie die [**setMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-315">You can also assign a menu to a window by specifying a handle to the menu as the *hMenu* parameter of the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, or by calling the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span>

<span data-ttu-id="6ae9b-316">Verwenden Sie die [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) -Funktion, um ein Kontextmenü anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-316">To display a shortcut menu use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span> <span data-ttu-id="6ae9b-317">Kontextmenüs, auch als unverankerte Popup Menüs oder Kontextmenüs bezeichnet, werden normalerweise angezeigt, wenn die ""-" [**\_ ContextMenu**](wm-contextmenu.md) "-Nachricht verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-317">Shortcut menus, also called floating pop-up menus or context menus, are typically displayed when the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message is processed.</span></span>

<span data-ttu-id="6ae9b-318">Sie können einem beliebigen Fenster ein Menü zuweisen, das kein untergeordnetes Fenster ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-318">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="6ae9b-319">Die ältere [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) -Funktion wird weiterhin unterstützt, aber neue Anwendungen sollten die [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-319">The older [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) function is still supported, but new applications should use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span>

### <a name="window-class-menus"></a><span data-ttu-id="6ae9b-320">Fenster Klassen Menüs</span><span class="sxs-lookup"><span data-stu-id="6ae9b-320">Window Class Menus</span></span>

<span data-ttu-id="6ae9b-321">Sie können ein Standardmenü, das als *Klassen Menü bezeichnet wird,* beim Registrieren einer Fenster Klasse angeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-321">You can specify a default menu, called a *class menu,* when you register a window class.</span></span> <span data-ttu-id="6ae9b-322">Zu diesem Zweck weisen Sie den Namen der Menü Vorlagen Ressource dem **lpszmenuname** -Member der [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) -Struktur zu, die zum Registrieren der Klasse verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-322">To do so, you assign the name of the menu-template resource to the **lpszMenuName** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure used to register the class.</span></span>

<span data-ttu-id="6ae9b-323">Standardmäßig wird jedem Fenster das Klassen Menü für die Fenster Klasse zugewiesen, sodass Sie das Menü nicht explizit laden und jedem Fenster zuweisen müssen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-323">By default, every window is assigned the class menu for its window class so you do not need to explicitly load the menu and assign it to each window.</span></span> <span data-ttu-id="6ae9b-324">Sie können das Klassen Menü überschreiben, indem Sie einen anderen Menü Zieh Punkt in einem aufzurufenden Befehl an die Funktion " [**roatewindowex**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) " angeben</span><span class="sxs-lookup"><span data-stu-id="6ae9b-324">You can override the class menu by specifying a different menu handle in a call to the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="6ae9b-325">Sie können auch das Menü eines Fensters ändern, nachdem es mithilfe der [**setMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) -Funktion erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-325">You can also change a window's menu after it is created by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="6ae9b-326">Weitere Informationen finden Sie unter [Fenster Klassen](/windows/desktop/winmsg/window-classes).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-326">For more information, see [Window Classes](/windows/desktop/winmsg/window-classes).</span></span>

## <a name="menu-items"></a><span data-ttu-id="6ae9b-327">Menüelemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-327">Menu Items</span></span>

<span data-ttu-id="6ae9b-328">In den folgenden Themen wird erläutert, was das System bewirkt, wenn der Benutzer ein Menü Element auswählt, und wie eine Anwendung das Aussehen und die Funktionalität eines Elements steuern kann:</span><span class="sxs-lookup"><span data-stu-id="6ae9b-328">The following topics discuss what the system does when the user chooses a menu item, and the ways an application can control an item's appearance and functionality:</span></span>

-   [<span data-ttu-id="6ae9b-329">Befehls Elemente und Elemente, die Untermenüs öffnen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-329">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
-   [<span data-ttu-id="6ae9b-330">Menü Element Bezeichner</span><span class="sxs-lookup"><span data-stu-id="6ae9b-330">Menu-Item Identifier</span></span>](#menu-item-identifier)
-   [<span data-ttu-id="6ae9b-331">Position des Menü Elements</span><span class="sxs-lookup"><span data-stu-id="6ae9b-331">Menu-Item Position</span></span>](#menu-item-position)
-   [<span data-ttu-id="6ae9b-332">Programm gesteuertes zugreifen auf Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-332">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
-   [<span data-ttu-id="6ae9b-333">Standardmenü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-333">Default Menu Items</span></span>](#default-menu-items)
-   [<span data-ttu-id="6ae9b-334">Ausgewählte und Menü Elemente löschen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-334">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
-   [<span data-ttu-id="6ae9b-335">Aktivierte, ausgegraut und deaktivierte Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-335">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
-   [<span data-ttu-id="6ae9b-336">Markierte Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-336">Highlighted Menu Items</span></span>](#highlighted-menu-items)
-   [<span data-ttu-id="6ae9b-337">Vom Besitzer gezeichnete Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-337">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
-   [<span data-ttu-id="6ae9b-338">Trennzeichen für Menü Elemente und Zeilenumbrüche</span><span class="sxs-lookup"><span data-stu-id="6ae9b-338">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)

### <a name="command-items-and-items-that-open-submenus"></a><span data-ttu-id="6ae9b-339">Befehls Elemente und Elemente, die Untermenüs öffnen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-339">Command Items and Items that Open Submenus</span></span>

<span data-ttu-id="6ae9b-340">Wenn der Benutzer ein Befehls Element auswählt, sendet das System eine Befehls Meldung an das Fenster, das das Menü besitzt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-340">When the user chooses a command item, the system sends a command message to the window that owns the menu.</span></span> <span data-ttu-id="6ae9b-341">Wenn sich das Befehls Element im Menü Fenster befindet, sendet das System die [**WM- \_ syscommand**](wm-syscommand.md) -Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-341">If the command item is on the window menu, the system sends the [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="6ae9b-342">Andernfalls sendet Sie die [**WM- \_ Befehls**](wm-command.md) Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-342">Otherwise, it sends the [**WM\_COMMAND**](wm-command.md) message.</span></span>

<span data-ttu-id="6ae9b-343">Jedem Menü Element, das ein Untermenü öffnet, ist ein Handle für das entsprechende Untermenü zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-343">Associated with each menu item that opens a submenu is a handle to the corresponding submenu.</span></span> <span data-ttu-id="6ae9b-344">Wenn der Benutzer auf ein solches Element zeigt, öffnet das System das Untermenü.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-344">When the user points to such an item, the system opens the submenu.</span></span> <span data-ttu-id="6ae9b-345">Es wird keine Befehls Meldung an das Besitzer Fenster gesendet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-345">No command message is sent to the owner window.</span></span> <span data-ttu-id="6ae9b-346">Das System sendet jedoch eine [**WM- \_ initmenupopup**](wm-initmenupopup.md) -Meldung an das Besitzer Fenster, bevor das Untermenü angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-346">However, the system sends a [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message to the owner window before displaying the submenu.</span></span> <span data-ttu-id="6ae9b-347">Sie können ein Handle für das unter Menü, das einem Element zugeordnet ist, mithilfe der [**getsubmenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) -Funktion oder der [**getmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) -Funktion erhalten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-347">You can get a handle to the submenu associated with an item by using the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="6ae9b-348">Eine Menüleiste enthält in der Regel Menü Namen, aber Sie kann auch Befehls Elemente enthalten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-348">A menu bar typically contains menu names, but it can also contain command items.</span></span> <span data-ttu-id="6ae9b-349">Ein Untermenü enthält in der Regel Befehls Elemente, es kann aber auch Elemente enthalten, die Untermenüs öffnen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-349">A submenu typically contains command items, but it can also contain items that open nested submenus.</span></span> <span data-ttu-id="6ae9b-350">Durch Hinzufügen dieser Elemente zu Untermenüs können Sie Menüs in beliebiger tiefe schachteln.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-350">By adding such items to submenus, you can nest menus to any depth.</span></span> <span data-ttu-id="6ae9b-351">Um einen visuellen Hinweis für den Benutzer bereitzustellen, zeigt das System automatisch einen kleinen Pfeil rechts neben dem Text eines Menü Elements an, das ein Untermenü öffnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-351">To provide a visual cue for the user, the system automatically displays a small arrow to the right of the text of a menu item that opens a submenu.</span></span>

### <a name="menu-item-identifier"></a><span data-ttu-id="6ae9b-352">Menu-Item Bezeichner</span><span class="sxs-lookup"><span data-stu-id="6ae9b-352">Menu-Item Identifier</span></span>

<span data-ttu-id="6ae9b-353">Jedes Menü Element ist eine eindeutige, von der Anwendung definierte ganze Zahl, die als *Menü Element Bezeichner* bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-353">Associated with each menu item is a unique, application-defined integer, called a *menu-item identifier*.</span></span> <span data-ttu-id="6ae9b-354">Wenn der Benutzer ein Befehls Element aus einem Menü auswählt, sendet das System den Bezeichner des Elements als Teil einer [**WM- \_ Befehls**](wm-command.md) Meldung an das Besitzer Fenster.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-354">When the user chooses a command item from a menu, the system sends the item's identifier to the owner window as part of a [**WM\_COMMAND**](wm-command.md) message.</span></span> <span data-ttu-id="6ae9b-355">Die Fenster Prozedur überprüft den Bezeichner, um die Quelle der Nachricht zu bestimmen, und verarbeitet die Nachricht entsprechend.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-355">The window procedure examines the identifier to determine the source of the message, and processes the message accordingly.</span></span> <span data-ttu-id="6ae9b-356">Darüber hinaus können Sie ein Menü Element mithilfe seines Bezeichners angeben, wenn Sie Menüfunktionen aufzurufen. beispielsweise, um ein Menü Element zu aktivieren oder zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-356">In addition, you can specify a menu item using its identifier when you call menu functions; for example, to enable or disable a menu item.</span></span>

<span data-ttu-id="6ae9b-357">Menü Elemente, die Untermenüs öffnen, weisen Bezeichner auf, ebenso wie Befehls Elemente.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-357">Menu items that open submenus have identifiers just as command items do.</span></span> <span data-ttu-id="6ae9b-358">Das System sendet jedoch keine Befehls Meldung, wenn ein solches Element aus einem Menü ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-358">However, the system does not send a command message when such an item is selected from a menu.</span></span> <span data-ttu-id="6ae9b-359">Stattdessen öffnet das System das Untermenü, das dem Menü Element zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-359">Instead, the system opens the submenu associated with the menu item.</span></span>

<span data-ttu-id="6ae9b-360">Um den Bezeichner des Menü Elements an einer bestimmten Position abzurufen, verwenden Sie die [**getmenuitemid**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) -oder [**getmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-360">To retrieve the identifier of the menu item at a specified position, use the [**GetMenuItemID**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

### <a name="menu-item-position"></a><span data-ttu-id="6ae9b-361">Menu-Item Position</span><span class="sxs-lookup"><span data-stu-id="6ae9b-361">Menu-Item Position</span></span>

<span data-ttu-id="6ae9b-362">Zusätzlich zu einem eindeutigen Bezeichner weist jedes Menü Element in einer Menüleiste oder einem Menü einen eindeutigen Positionswert auf.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-362">In addition to having a unique identifier, each menu item in a menu bar or menu has a unique position value.</span></span> <span data-ttu-id="6ae9b-363">Das äußerste Element in einer Menüleiste oder das oberste Element in einem Menü hat die Position 0 (null).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-363">The leftmost item in a menu bar, or the top item in a menu, has position zero.</span></span> <span data-ttu-id="6ae9b-364">Der Positionswert wird für nachfolgende Menü Elemente inkrementiert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-364">The position value is incremented for subsequent menu items.</span></span> <span data-ttu-id="6ae9b-365">Das System weist allen Elementen in einem Menü einen Positionswert zu, einschließlich Trennzeichen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-365">The system assigns a position value to all items in a menu, including separators.</span></span> <span data-ttu-id="6ae9b-366">Die folgende Abbildung zeigt die Positionswerte von Elementen in einer Menüleiste und in einem Menü.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-366">The following illustration shows the position values of items in a menu bar and in a menu.</span></span>

![Menüleiste und Menü](images/csemn-01.png)

<span data-ttu-id="6ae9b-368">Wenn Sie eine Menüfunktion aufrufen, die Informationen zu einem bestimmten Menü Element ändert oder abruft, können Sie das Element entweder mithilfe seines Bezeichners oder seiner Position angeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-368">When calling a menu function that modifies or retrieves information about a specific menu item, you can specify the item using either its identifier or its position.</span></span> <span data-ttu-id="6ae9b-369">Weitere Informationen finden Sie im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-369">For more information, see the next section.</span></span>

### <a name="accessing-menu-items-programmatically"></a><span data-ttu-id="6ae9b-370">Programm gesteuertes zugreifen auf Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-370">Accessing Menu Items Programmatically</span></span>

<span data-ttu-id="6ae9b-371">Mit den meisten Menüfunktionen können Sie ein Menü Element entweder über die Position oder den Befehl angeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-371">Most menu functions allow you to specify a menu item either by position or by command.</span></span> <span data-ttu-id="6ae9b-372">Einige Funktionen verwenden die **MF- \_ byposition** -und **MF- \_ bycommand** -Flags, um den Suchalgorithmus anzugeben; andere verfügen über einen expliziten *fbyposition* -Parameter.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-372">Some functions use the **MF\_BYPOSITION** and **MF\_BYCOMMAND** flags to indicate the search algorithm; others have an explicit *fByPosition* parameter.</span></span> <span data-ttu-id="6ae9b-373">Wenn Sie das Menü Element nach Position angeben, ist die Element Nummer ein NULL basierter Index im Menü.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-373">If you specify the menu item by position, the item number is a zero-based index into the menu.</span></span> <span data-ttu-id="6ae9b-374">Wenn Sie das Menü Element nach Befehl angeben, werden das Menü und seine Untermenüs nach einem Element durchsucht, dessen Menü Bezeichner gleich der angegebenen Element Nummer ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-374">If you specify the menu item by command, the menu and its submenus are searched for an item whose menu identifier equals the item number provided.</span></span> <span data-ttu-id="6ae9b-375">Wenn mehr als ein Element in der Menühierarchie mit der Element Nummer übereinstimmt, wird nicht angegeben, welches Element verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-375">If more than one item in the menu hierarchy matches the item number, it is unspecified which one is used.</span></span> <span data-ttu-id="6ae9b-376">Wenn die Menüs doppelte Menü Bezeichner enthalten, sollten Sie Positions basierte Menü Vorgänge verwenden, um diese Mehrdeutigkeit zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-376">If your menus contain duplicate menu identifiers, you should use position-based menu operations to avoid this ambiguity.</span></span>

### <a name="default-menu-items"></a><span data-ttu-id="6ae9b-377">Standardmenü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-377">Default Menu Items</span></span>

<span data-ttu-id="6ae9b-378">Ein Untermenü kann ein Standardmenü Element enthalten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-378">A submenu can contain one default menu item.</span></span> <span data-ttu-id="6ae9b-379">Wenn der Benutzer ein Untermenü durch Doppelklicken öffnet, sendet das System eine Befehls Meldung an das Besitzer Fenster des Menüs und schließt das Menü so, als ob das Standard Befehls Element ausgewählt wurde.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-379">When the user opens a submenu by double-clicking, the system sends a command message to the menu's owner window and closes the menu as if the default command item had been chosen.</span></span> <span data-ttu-id="6ae9b-380">Wenn kein Standard Befehls Element vorhanden ist, bleibt das Untermenü geöffnet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-380">If there is no default command item, the submenu remains open.</span></span> <span data-ttu-id="6ae9b-381">Um das Standardelement für ein Untermenü abzurufen und festzulegen, verwenden Sie die Funktionen [**getmenudefaultitem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) und [**setmenudefaultitem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) .</span><span class="sxs-lookup"><span data-stu-id="6ae9b-381">To retrieve and set the default item for a submenu, use the [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) and [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) functions.</span></span>

### <a name="selected-and-clear-menu-items"></a><span data-ttu-id="6ae9b-382">Ausgewählte und Menü Elemente löschen</span><span class="sxs-lookup"><span data-stu-id="6ae9b-382">Selected and Clear Menu Items</span></span>

<span data-ttu-id="6ae9b-383">Ein Menü Element kann entweder ausgewählt oder gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-383">A menu item can be either selected or clear.</span></span> <span data-ttu-id="6ae9b-384">Das System zeigt eine Bitmap neben den ausgewählten Menü Elementen an, um den ausgewählten Zustand anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-384">The system displays a bitmap next to selected menu items to indicate their selected state.</span></span> <span data-ttu-id="6ae9b-385">Das System zeigt keine Bitmap nebenelemente löschen an, es sei denn, eine von der Anwendung definierte "Clear"-Bitmap wird angegeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-385">The system does not display a bitmap next to clear items, unless an application-defined "clear" bitmap is specified.</span></span> <span data-ttu-id="6ae9b-386">Nur Menü Elemente in einem Menü können ausgewählt werden. Elemente in einer Menüleiste können nicht ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-386">Only menu items in a menu can be selected; items in a menu bar cannot be selected.</span></span>

<span data-ttu-id="6ae9b-387">Anwendungen aktivieren oder löschen in der Regel ein Menü Element, um anzugeben, ob eine Option aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-387">Applications typically check or clear a menu item to indicate whether an option is in effect.</span></span> <span data-ttu-id="6ae9b-388">Angenommen, eine Anwendung verfügt über eine Symbolleiste, die der Benutzer mit einem **Toolbar** -Befehl in einem Menü anzeigen oder ausblenden kann.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-388">For example, suppose an application has a toolbar that the user can show or hide by using a **Toolbar** command on a menu.</span></span> <span data-ttu-id="6ae9b-389">Wenn die Symbolleiste ausgeblendet ist, ist das Menü Element für die **Symbolleiste** deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-389">When the toolbar is hidden, the **Toolbar** menu item is clear.</span></span> <span data-ttu-id="6ae9b-390">Wenn der Benutzer den Befehl auswählt, überprüft die Anwendung das Menü Element und zeigt die Symbolleiste an.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-390">When the user chooses the command, the application checks the menu item and shows the toolbar.</span></span>

<span data-ttu-id="6ae9b-391">Mit einem Häkchen-Attribut wird gesteuert, ob ein Menü Element ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-391">A check mark attribute controls whether a menu item is selected.</span></span> <span data-ttu-id="6ae9b-392">Mithilfe der [**checkmenuitem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) -Funktion können Sie das Häkchen Attribut eines Menü Elements festlegen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-392">You can set a menu item's check mark attribute by using the [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) function.</span></span> <span data-ttu-id="6ae9b-393">Sie können die [**getmenustate**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) -Funktion verwenden, um zu bestimmen, ob ein Menü Element derzeit ausgewählt oder gelöscht ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-393">You can use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is currently selected or cleared.</span></span>

<span data-ttu-id="6ae9b-394">Anstelle von " [**checkmenuitem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) " und " [**getmenustate**](/windows/desktop/api/Winuser/nf-winuser-getmenustate)" können Sie die Funktionen " [**getmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) " und " [**setmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) " verwenden, um den Überprüfungs Zustand eines Menü Elements abzurufen und festzulegen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-394">Instead of [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) and [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), you can use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) and [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) functions to retrieve and set the check state of a menu item.</span></span>

<span data-ttu-id="6ae9b-395">Manchmal entspricht eine Gruppe von Menü Elementen einem Satz von Optionen, die sich gegenseitig ausschließen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-395">Sometimes, a group of menu items corresponds to a set of mutually exclusive options.</span></span> <span data-ttu-id="6ae9b-396">In diesem Fall können Sie die ausgewählte Option angeben, indem Sie ein ausgewähltes Optionsfeld Element (analog zu einem Optionsfeld-Steuerelement) verwenden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-396">In this case, you can indicate the selected option by using a selected radio menu item (analogous to a radio button control).</span></span> <span data-ttu-id="6ae9b-397">Ausgewählte Options Felder werden mit einer Aufzählungs Bitmap anstelle einer Bitmap für das Häkchen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-397">Selected radio items are displayed with a bullet bitmap instead of a check mark bitmap.</span></span> <span data-ttu-id="6ae9b-398">Verwenden Sie die [**checkmenuradioitem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) -Funktion, um ein Menü Element zu überprüfen und es als Radio Element festzulegen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-398">To check a menu item and make it a radio item, use the [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) function.</span></span>

<span data-ttu-id="6ae9b-399">Standardmäßig zeigt das System ein Häkchen oder eine Aufzählungs Bitmap neben ausgewählte Menü Elemente und keine Bitmap neben gelöschten Menü Elementen an.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-399">By default, the system displays a check mark or bullet bitmap next to selected menu items and no bitmap next to cleared menu items.</span></span> <span data-ttu-id="6ae9b-400">Sie können jedoch die [**setmenuitembitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) -Funktion verwenden, um Anwendungs definierte und gelöschte Bitmaps einem Menü Element zuzuordnen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-400">However, you can use the [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) function to associate application-defined selected and cleared bitmaps with a menu item.</span></span> <span data-ttu-id="6ae9b-401">Das System verwendet dann die angegebenen Bitmaps, um den Status des ausgewählten oder gelöschten Menü Elements anzugeben.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-401">The system then uses the specified bitmaps to indicate the menu item's selected or cleared state.</span></span>

<span data-ttu-id="6ae9b-402">Anwendungs definierte Bitmaps, die einem Menü Element zugeordnet sind, müssen die gleiche Größe wie die Standard Bitmap für das Häkchen aufweisen. die Dimensionen, die je nach Bildschirmauflösung variieren können, müssen identisch sein.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-402">Application-defined bitmaps associated with a menu item must be the same size as the default check mark bitmap, the dimensions of which may vary depending on screen resolution.</span></span> <span data-ttu-id="6ae9b-403">Verwenden Sie die [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) -Funktion, um die richtigen Dimensionen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-403">To retrieve the correct dimensions, use the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="6ae9b-404">Sie können mehrere Bitmapressourcen für verschiedene Bildschirmauflösungen erstellen. Erstellen Sie eine Bitmap-Ressource, und Skalieren Sie Sie bei Bedarf. oder erstellen Sie zur Laufzeit eine Bitmap, und zeichnen Sie ein Bild darin.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-404">You can create multiple bitmap resources for different screen resolutions; create one bitmap resource and scale it, if necessary; or create a bitmap at run time and draw an image in it.</span></span> <span data-ttu-id="6ae9b-405">Die Bitmaps können entweder monochrome oder Color sein.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-405">The bitmaps may be either monochrome or color.</span></span> <span data-ttu-id="6ae9b-406">Da Menü Elemente jedoch beim hervorheben umgekehrt werden, ist die Darstellung bestimmter invertierter Farb Bitmaps möglicherweise nicht erwünscht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-406">However, because menu items are inverted when highlighted, the appearance of certain inverted color bitmaps may be undesirable.</span></span> <span data-ttu-id="6ae9b-407">Weitere Informationen finden Sie unter [Bitmaps](/windows/desktop/gdi/bitmaps).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-407">For more information, see [Bitmaps](/windows/desktop/gdi/bitmaps).</span></span>

### <a name="enabled-grayed-and-disabled-menu-items"></a><span data-ttu-id="6ae9b-408">Aktivierte, ausgegraut und deaktivierte Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-408">Enabled, Grayed, and Disabled Menu Items</span></span>

<span data-ttu-id="6ae9b-409">Ein Menü Element kann aktiviert, abgeblendet oder deaktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-409">A menu item can be enabled, grayed, or disabled.</span></span> <span data-ttu-id="6ae9b-410">Standardmäßig ist ein Menü Element aktiviert.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-410">By default, a menu item is enabled.</span></span> <span data-ttu-id="6ae9b-411">Wenn der Benutzer ein aktiviertes Menü Element auswählt, sendet das System eine Befehls Meldung an das Besitzer Fenster oder zeigt das entsprechende Untermenü an, je nachdem, welche Art von Menü Element es darstellt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-411">When the user chooses an enabled menu item, the system sends a command message to the owner window or displays the corresponding submenu, depending on what kind of menu item it is.</span></span>

<span data-ttu-id="6ae9b-412">Wenn für den Benutzer keine Menü Elemente verfügbar sind, sollten diese abgeblendet oder deaktiviert sein.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-412">When menu items are not available to the user, they should be grayed or disabled.</span></span> <span data-ttu-id="6ae9b-413">Ausgegraute und deaktivierte Menü Elemente können nicht ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-413">Grayed and disabled menu items cannot be chosen.</span></span> <span data-ttu-id="6ae9b-414">Ein deaktiviertes Element sieht genau wie ein aktiviertes Element aus.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-414">A disabled item looks just like an enabled item.</span></span> <span data-ttu-id="6ae9b-415">Wenn der Benutzer auf ein deaktiviertes Element klickt, wird das Element nicht ausgewählt, und es passiert nichts.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-415">When the user clicks on a disabled item, the item is not selected, and nothing happens.</span></span> <span data-ttu-id="6ae9b-416">Deaktivierte Elemente können z. b. in einem Tutorial nützlich sein, das ein Menü anzeigt, das aktiv ist, aber nicht ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-416">Disabled items can be useful in, for example, a tutorial that presents a menu that looks active but isn't.</span></span>

<span data-ttu-id="6ae9b-417">Eine Anwendung ist ein nicht verfügbares Menü Element, um dem Benutzer einen visuellen Hinweis zu geben, dass ein Befehl nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-417">An application grays an unavailable menu item to provide a visual cue to the user that a command is not available.</span></span> <span data-ttu-id="6ae9b-418">Sie können ein ausgegrautes Element verwenden, wenn eine Aktion nicht geeignet ist (Sie können z. b. den Befehl **Drucken** im Menü **Datei** grauen, wenn auf dem System kein Drucker installiert ist).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-418">You can use a grayed item when an action is not appropriate (for example, you can gray the **Print** command in the **File** menu when the system does not have a printer installed).</span></span>

<span data-ttu-id="6ae9b-419">Die [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) -Funktion aktiviert oder deaktiviert ein Menü Element.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-419">The [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) function enables, grays, or disables a menu item.</span></span> <span data-ttu-id="6ae9b-420">Verwenden Sie die [**getmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) -Funktion, um zu bestimmen, ob ein Menü Element aktiviert, abgeblendet oder deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-420">To determine whether a menu item is enabled, grayed, or disabled, use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="6ae9b-421">Anstelle von [**getmenuiteminfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa)können Sie auch die [**getmenustate**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) -Funktion verwenden, um zu bestimmen, ob ein Menü Element aktiviert, ausgegraut oder deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-421">Instead of [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), you can also use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is enabled, grayed, or disabled.</span></span>

### <a name="highlighted-menu-items"></a><span data-ttu-id="6ae9b-422">Markierte Menü Elemente</span><span class="sxs-lookup"><span data-stu-id="6ae9b-422">Highlighted Menu Items</span></span>

<span data-ttu-id="6ae9b-423">Die Menü Elemente in Menüs werden vom System automatisch hervorgehoben, wenn Sie vom Benutzer ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-423">The system automatically highlights menu items on menus as the user selects them.</span></span> <span data-ttu-id="6ae9b-424">Mithilfe der [**hilitemenuitem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) -Funktion kann jedoch eine Hervorhebung explizit hinzugefügt oder aus einem Menünamen in der Menüleiste entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-424">However, highlighting can be explicitly added or removed from a menu name on the menu bar by using the [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) function.</span></span> <span data-ttu-id="6ae9b-425">Diese Funktion hat keine Auswirkungen auf Menü Elemente in Menüs.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-425">This function has no effect on menu items on menus.</span></span> <span data-ttu-id="6ae9b-426">Wenn **hilitemenuitem** zum Markieren eines Menü namens verwendet wird, wird der Name jedoch nur angezeigt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-426">When **HiliteMenuItem** is used to highlight a menu name, though, the name only appears to be selected.</span></span> <span data-ttu-id="6ae9b-427">Wenn der Benutzer die EINGABETASTE drückt, wird das hervorgehobene Element nicht ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-427">If the user presses the ENTER key, the highlighted item is not chosen.</span></span> <span data-ttu-id="6ae9b-428">Diese Funktion kann beispielsweise in einer Schulungs Anwendung nützlich sein, die die Verwendung von Menüs veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-428">This feature might be useful in, for example, a training application that demonstrates the use of menus.</span></span>

### <a name="owner-drawn-menu-items"></a><span data-ttu-id="6ae9b-429">Menü Elemente Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="6ae9b-429">Owner-Drawn Menu Items</span></span>

<span data-ttu-id="6ae9b-430">Eine Anwendung kann die Darstellung eines Menü Elements vollständig steuern, indem ein vom *Besitzer gezeichnetes Element* verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-430">An application can completely control the appearance of a menu item by using an *owner-drawn item*.</span></span> <span data-ttu-id="6ae9b-431">Für Besitzer gezeichnete Elemente ist es erforderlich, dass eine Anwendung für das Zeichnen ausgewählter (hervorgehobener), ausgewählter und gelöschter Zustände verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-431">Owner-drawn items require an application to take total responsibility for drawing selected (highlighted), selected, and cleared states.</span></span> <span data-ttu-id="6ae9b-432">Wenn eine Anwendung z. b. ein Schriftart Menü bereitgestellt hat, könnte Sie jedes Menü Element mit der entsprechenden Schriftart zeichnen. das Element für Roman würde mit Roman gezeichnet werden, das Element für kursiv Schrift wird kursiv dargestellt usw.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-432">For example, if an application provided a font menu, it could draw each menu item by using the corresponding font; the item for Roman would be drawn with roman, the item for Italic would be drawn in italic, and so on.</span></span> <span data-ttu-id="6ae9b-433">Weitere Informationen finden Sie unter [Erstellen von Owner-Drawn Menü Elementen](using-menus.md).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-433">For more information, see [Creating Owner-Drawn Menu Items](using-menus.md).</span></span>

### <a name="menu-item-separators-and-line-breaks"></a><span data-ttu-id="6ae9b-434">Trennzeichen für Menü Elemente und Zeilenumbrüche</span><span class="sxs-lookup"><span data-stu-id="6ae9b-434">Menu Item Separators and Line Breaks</span></span>

<span data-ttu-id="6ae9b-435">Das System stellt eine besondere Art von Menü Element bereit, das als *Trenn* Zeichen bezeichnet wird, das als horizontale Linie angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-435">The system provides a special type of menu item, called a *separator*, that appears as a horizontal line.</span></span> <span data-ttu-id="6ae9b-436">Sie können ein Trennzeichen verwenden, um ein Menü in Gruppen verwandter Elemente aufzuteilen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-436">You can use a separator to divide a menu into groups of related items.</span></span> <span data-ttu-id="6ae9b-437">Ein Trennzeichen kann nicht in einer Menüleiste verwendet werden, und der Benutzer kann kein Trennzeichen auswählen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-437">A separator cannot be used in a menu bar, and the user cannot select a separator.</span></span>

<span data-ttu-id="6ae9b-438">Wenn eine Menüleiste mehr Menü Namen enthält, als in eine Zeile passen, umschließt das System die Menüleiste, indem es automatisch in zwei oder mehr Zeilen unterteilt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-438">When a menu bar contains more menu names than will fit on one line, the system wraps the menu bar by automatically breaking it into two or more lines.</span></span> <span data-ttu-id="6ae9b-439">Sie können bewirken, dass ein Zeilenumbruch an einem bestimmten Element in einer Menüleiste auftritt, indem Sie dem Element das Flag " **MFT \_ menubreak** Type" zuweisen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-439">You can cause a line break to occur at a specific item on a menu bar by assigning the **MFT\_MENUBREAK** type flag to the item.</span></span> <span data-ttu-id="6ae9b-440">Das System platziert dieses Element und alle nachfolgenden Elemente in einer neuen Zeile.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-440">The system places that item and all subsequent items on a new line.</span></span>

<span data-ttu-id="6ae9b-441">Wenn ein Menü mehr Elemente enthält, als in eine Spalte passen, wird das Menü abgeschnitten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-441">When a menu contains more items than will fit in one column, the menu will be truncated.</span></span> <span data-ttu-id="6ae9b-442">Sie können bewirken, dass ein Spalten Umbruch an einem bestimmten Element in einem Menü auftritt, indem Sie dem Element das Flag " **MFT \_ menubreak** Type" zuweisen oder die Option menubreak in der [MenuItem](/windows/desktop/menurc/menuitem-statement) -Anweisung verwenden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-442">You can cause a column break to occur at a specific item in a menu by assigning the **MFT\_MENUBREAK** type flag to the item or using the MENUBREAK option in the [MENUITEM](/windows/desktop/menurc/menuitem-statement) statement.</span></span> <span data-ttu-id="6ae9b-443">Das System platziert dieses Element und alle nachfolgenden Elemente in einer neuen Spalte.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-443">The system places that item and all subsequent items in a new column.</span></span> <span data-ttu-id="6ae9b-444">Das Flag " **MFT \_ menubarbreak** Type" hat denselben Effekt, mit der Ausnahme, dass eine vertikale Linie zwischen der neuen Spalte und der alten angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-444">The **MFT\_MENUBARBREAK** type flag has the same effect, except that a vertical line appears between the new column and the old.</span></span>

<span data-ttu-id="6ae9b-445">Wenn Sie die Funktionen [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua)oder [**modifymenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) zum Zuweisen von Zeilenumbrüchen verwenden, sollten Sie die Typflags **MF \_ menubreak** oder **MF \_ menubarbreak** zuweisen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-445">If you use the [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua), or [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) functions to assign line breaks, you should assign the type flags **MF\_MENUBREAK** or **MF\_MENUBARBREAK**.</span></span>

## <a name="messages-used-with-menus"></a><span data-ttu-id="6ae9b-446">Mit Menüs verwendete Nachrichten</span><span class="sxs-lookup"><span data-stu-id="6ae9b-446">Messages Used with Menus</span></span>

<span data-ttu-id="6ae9b-447">Das System meldet eine Menü bezogene Aktivität, indem Meldungen an die Fenster Prozedur des Fensters gesendet werden, das das Menü besitzt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-447">The system reports menu-related activity by sending messages to the window procedure of the window that owns the menu.</span></span> <span data-ttu-id="6ae9b-448">Das System sendet eine Reihe von Nachrichten, wenn der Benutzer Elemente in der Menüleiste auswählt oder mit der rechten Maustaste ein Kontextmenü anzeigt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-448">The system sends a series of messages when the user selects items on the menu bar or clicks the right mouse button to display a shortcut menu.</span></span>

<span data-ttu-id="6ae9b-449">Wenn der Benutzer ein Element in der Menüleiste aktiviert, empfängt das Besitzer Fenster zuerst eine [**WM- \_ syscommand**](wm-syscommand.md) -Nachricht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-449">When the user activates an item on the menu bar, the owner window first receives a [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="6ae9b-450">Diese Meldung enthält ein Flag, das angibt, ob der Benutzer das Menü mithilfe der Tastatur (SC \_ keymenu) oder der Maus (SC \_ mousemenu) aktiviert hat.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-450">This message includes a flag that indicates whether the user activated the menu by using the keyboard (SC\_KEYMENU) or the mouse (SC\_MOUSEMENU).</span></span> <span data-ttu-id="6ae9b-451">Weitere Informationen finden Sie unter [Tastatur Zugriff auf Menüs](#keyboard-access-to-menus).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-451">For more information, see [Keyboard Access to Menus](#keyboard-access-to-menus).</span></span>

<span data-ttu-id="6ae9b-452">Als nächstes sendet das System vor dem Anzeigen von Menüs die " [**WM \_ InitMenu**](wm-initmenu.md) "-Meldung an die Fenster Prozedur, sodass eine Anwendung die Menüs ändern kann, bevor Sie dem Benutzer angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-452">Next, before displaying any menus, the system sends the [**WM\_INITMENU**](wm-initmenu.md) message to the window procedure so that an application can modify the menus before the user sees them.</span></span> <span data-ttu-id="6ae9b-453">Das System sendet die **WM- \_ InitMenu** -Nachricht nur einmal pro Menü Aktivierung.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-453">The system sends the **WM\_INITMENU** message only once per menu activation.</span></span>

<span data-ttu-id="6ae9b-454">Wenn der Benutzer auf ein Menü Element verweist, das ein Untermenü öffnet, sendet das System das Besitzer Fenster an die " [**WM \_ initmenupopup**](wm-initmenupopup.md) "-Meldung, bevor das Untermenü angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-454">When the user points to a menu item that opens a submenu, the system sends the owner window the [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message before displaying the submenu.</span></span> <span data-ttu-id="6ae9b-455">Diese Meldung gibt der Anwendung die Möglichkeit, das Untermenü zu ändern, bevor es angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-455">This message gives the application an opportunity to modify the submenu before it is displayed.</span></span>

<span data-ttu-id="6ae9b-456">Jedes Mal, wenn der Benutzer die Hervorhebung von einem Element zu einem anderen verschiebt, sendet das System eine [**WM- \_ MenuSelect**](wm-menuselect.md) -Meldung an die Fenster Prozedur des Besitzer Fensters des Menüs.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-456">Each time the user moves the highlighting from one item to another, the system sends a [**WM\_MENUSELECT**](wm-menuselect.md) message to the window procedure of the menu's owner window.</span></span> <span data-ttu-id="6ae9b-457">Diese Meldung identifiziert das aktuell ausgewählte Menü Element.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-457">This message identifies the currently selected menu item.</span></span> <span data-ttu-id="6ae9b-458">Viele Anwendungen stellen einen Informationsbereich am unteren Rand der Hauptfenster bereit und verwenden diese Meldung, um zusätzliche Informationen zum ausgewählten Menü Element anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-458">Many applications provide an information area at the bottom of their main windows and use this message to display additional information about the selected menu item.</span></span>

<span data-ttu-id="6ae9b-459">Wenn der Benutzer ein Befehls Element aus einem Menü auswählt, sendet das System eine [**WM- \_ Befehls**](wm-command.md) Meldung an die Fenster Prozedur.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-459">When the user chooses a command item from a menu, the system sends a [**WM\_COMMAND**](wm-command.md) message to the window procedure.</span></span> <span data-ttu-id="6ae9b-460">Das nieder wertige Wort des *wParam* -Parameters der **WM- \_ Befehls** Nachricht enthält den Bezeichner des ausgewählten Elements.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-460">The low-order word of the **WM\_COMMAND** message's *wParam* parameter contains the identifier of the chosen item.</span></span> <span data-ttu-id="6ae9b-461">Die Fenster Prozedur sollte den Bezeichner überprüfen und die Nachricht entsprechend verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-461">The window procedure should examine the identifier and process the message accordingly.</span></span>

<span data-ttu-id="6ae9b-462">Sie können Informationen für ein Menü mithilfe der [**menuinfo**](/windows/win32/api/winuser/ns-winuser-menuinfo) -Struktur speichern.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-462">You can save information for a menu using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="6ae9b-463">, Wenn das Menü mit **menuinfo** definiert ist. der **dwstyle** -Wert von MNS \_ notifybypos, das System sendet [**WM \_ MenuCommand**](wm-menucommand.md) anstelle des [**WM- \_ Befehls**](wm-command.md) , wenn ein Element ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-463">If the menu is defined with a **MENUINFO**.**dwStyle** value of MNS\_NOTIFYBYPOS, the system sends [**WM\_MENUCOMMAND**](wm-menucommand.md) instead of the [**WM\_COMMAND**](wm-command.md) when an item is selected.</span></span> <span data-ttu-id="6ae9b-464">Auf diese Weise können Sie auf die Informationen in der **menuinfo** -Struktur zugreifen und auch den Index des ausgewählten Elements direkt bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-464">This allows you to access the information in the **MENUINFO** structure and also provides the index of the selected item directly.</span></span>

<span data-ttu-id="6ae9b-465">Nicht alle Menüs sind über die Menüleiste eines Fensters zugänglich.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-465">Not all menus are accessible through a window's menu bar.</span></span> <span data-ttu-id="6ae9b-466">Viele Anwendungen zeigen Kontextmenüs an, wenn der Benutzer an einem bestimmten Speicherort auf die Rechte Maustaste klickt.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-466">Many applications display shortcut menus when the user clicks the right mouse button at a specific location.</span></span> <span data-ttu-id="6ae9b-467">Solche Anwendungen sollten die [**WM- \_ ContextMenu**](wm-contextmenu.md) -Meldung verarbeiten und ggf. ein Kontextmenü anzeigen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-467">Such applications should process the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message and display a shortcut menu, if appropriate.</span></span> <span data-ttu-id="6ae9b-468">Wenn eine Anwendung kein **\_ Kontext** Menü anzeigt, sollte Sie der " [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) "-Funktion zur Standard Verarbeitung die ".</span><span class="sxs-lookup"><span data-stu-id="6ae9b-468">If an application does not display a shortcut menu, it should pass the **WM\_CONTEXTMENU** message to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for default processing.</span></span>

<span data-ttu-id="6ae9b-469">Die WM-Meldung " [**\_ menurbuttonup**](wm-menurbuttonup.md) " wird gesendet, wenn der Benutzer die Rechte Maustaste loslässt, während sich der Cursor auf einem Menü Element befindet.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-469">The [**WM\_MENURBUTTONUP**](wm-menurbuttonup.md) message is sent when the user releases the right mouse button while the cursor is on a menu item.</span></span> <span data-ttu-id="6ae9b-470">Diese Meldung wird bereitgestellt, damit Anwendungen ein Kontext abhängiger Kontextmenü oder ein Kontextmenü für ein Menü Element anzeigen können.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-470">This message is provided so that applications can display a context-sensitive or shortcut menu for a menu item.</span></span>

<span data-ttu-id="6ae9b-471">Es gibt einige Nachrichten, die nur Drag & Drop-Menüs einschließen.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-471">There are a few messages that only involve drag-and-drop menus.</span></span> <span data-ttu-id="6ae9b-472">Das " [**WM \_ menugetobject**](wm-menugetobject.md) " wird an den Besitzer eines Drag & Drop-Menüs gesendet, wenn der Mauszeiger in ein Menü Element oder von der Mitte eines Elements nach oben oder unten verschoben wird.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-472">The [**WM\_MENUGETOBJECT**](wm-menugetobject.md) is sent to the owner of a drag-and-drop menu when the mouse cursor enters a menu item or moves from the center of an item to the top or the bottom of an item.</span></span> <span data-ttu-id="6ae9b-473">Die [**WM- \_ menudrag**](wm-menudrag.md) -Nachricht wird gesendet, wenn der Benutzer tatsächlich ein Menü Element zieht.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-473">The [**WM\_MENUDRAG**](wm-menudrag.md) message is sent when the user actually drags a menu item.</span></span>

<span data-ttu-id="6ae9b-474">Wenn ein Dropdown Menü oder ein Untermenü zerstört wurde, sendet das System eine " [**WM \_ uninitmenupopup**](wm-uninitmenupopup.md) "-Meldung.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-474">When a drop-down menu or a submenu has been destroyed, the system sends a [**WM\_UNINITMENUPOPUP**](wm-uninitmenupopup.md) message.</span></span>

## <a name="menu-destruction"></a><span data-ttu-id="6ae9b-475">Menü Zerstörung</span><span class="sxs-lookup"><span data-stu-id="6ae9b-475">Menu Destruction</span></span>

<span data-ttu-id="6ae9b-476">Wenn ein Menü einem Fenster zugewiesen ist und dieses Fenster zerstört wird, zerstört das System automatisch das Menü und seine Untermenüs, wodurch das Handle des Menüs und der vom Menü belegte Arbeitsspeicher freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-476">If a menu is assigned to a window and that window is destroyed, the system automatically destroys the menu and its submenus, freeing the menu's handle and the memory occupied by the menu.</span></span> <span data-ttu-id="6ae9b-477">Das System zerstört nicht automatisch ein Menü, das einem Fenster nicht zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-477">The system does not automatically destroy a menu that is not assigned to a window.</span></span> <span data-ttu-id="6ae9b-478">Eine Anwendung muss das nicht zugewiesene Menü durch Aufrufen der [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) -Funktion zerstören.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-478">An application must destroy the unassigned menu by calling the [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) function.</span></span> <span data-ttu-id="6ae9b-479">Andernfalls ist das Menü weiterhin im Arbeitsspeicher vorhanden, auch nachdem die Anwendung geschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-479">Otherwise, the menu continues to exist in memory even after the application closes.</span></span> <span data-ttu-id="6ae9b-480">Um das aktive Menü des aufrufenden Threads zu beenden, verwenden Sie [**endmenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span><span class="sxs-lookup"><span data-stu-id="6ae9b-480">To end the calling thread's active menu, use [**EndMenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span></span> <span data-ttu-id="6ae9b-481">Wenn eine Plattform **endmenu** nicht unterstützt, senden Sie den Besitzer des aktiven Menüs an eine [**WM \_ cancelmode**](/windows/desktop/winmsg/wm-cancelmode) -Meldung.</span><span class="sxs-lookup"><span data-stu-id="6ae9b-481">If a platform does not support **EndMenu**, send the owner of the active menu a [**WM\_CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) message.</span></span>

 

 