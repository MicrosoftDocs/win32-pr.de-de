---
description: Mit der InstallValidate-Aktion wird überprüft, ob alle Volumes, denen die Kosten zugewiesen wurden, über ausreichend Speicherplatz für die Installation verfügen. Durch die InstallValidate-Aktion wird die Installation mit einem schwerwiegenden Fehler beendet, wenn auf einem Volume wenig Speicherplatz vorhanden ist.
ms.assetid: 1c55794d-1ecc-43bf-956f-96afc5f36964
title: InstallValidate-Aktion
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e650ce136ac3b1b62e41ce34f79f5d28540d1292
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104217802"
---
# <a name="installvalidate-action"></a><span data-ttu-id="b468d-104">InstallValidate-Aktion</span><span class="sxs-lookup"><span data-stu-id="b468d-104">InstallValidate Action</span></span>

<span data-ttu-id="b468d-105">Mit der InstallValidate-Aktion wird überprüft, ob alle [*Volumes*](v-gly.md) , denen die [*Kosten*](c-gly.md) zugewiesen wurden, über ausreichend Speicherplatz für die Installation verfügen.</span><span class="sxs-lookup"><span data-stu-id="b468d-105">The InstallValidate action verifies that all [*volumes*](v-gly.md) to which [*cost*](c-gly.md) has been attributed have sufficient space for the installation.</span></span> <span data-ttu-id="b468d-106">Durch die InstallValidate-Aktion wird die Installation mit einem schwerwiegenden Fehler beendet, wenn auf einem Volume wenig Speicherplatz vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-106">The InstallValidate action ends the installation with a fatal error if any volume is short of disk space.</span></span>

<span data-ttu-id="b468d-107">Die InstallValidate-Aktion benachrichtigt den Benutzer auch, wenn eine oder mehrere Dateien, die überschrieben oder entfernt werden sollen, zurzeit von einem aktiven Prozess verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b468d-107">The InstallValidate action also notifies the user if one or more files to be overwritten or removed are currently in use by an active process.</span></span> <span data-ttu-id="b468d-108">Weitere Informationen finden Sie unter [System Neustarts](system-reboots.md).</span><span class="sxs-lookup"><span data-stu-id="b468d-108">For more information, see [System Reboots](system-reboots.md).</span></span>

## <a name="sequence-restrictions"></a><span data-ttu-id="b468d-109">Sequenz Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="b468d-109">Sequence Restrictions</span></span>

<span data-ttu-id="b468d-110">Die Aktion " [costfinalize](costfinalize-action.md) " und alle Benutzeroberflächen-Dialogfeld Sequenzen, die es dem Benutzer ermöglichen, die Auswahl Zustände und/oder Verzeichnisse zu ändern, sollten vor der InstallValidate-Aktion sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="b468d-110">The [CostFinalize](costfinalize-action.md) action and any UI dialog box sequences that allow the user to modify selection states and/or directories should be sequenced before the InstallValidate action.</span></span>

<span data-ttu-id="b468d-111">[Benutzerdefinierte Aktionen](custom-actions.md) , mit denen der Installationsstatus von Features oder Komponenten geändert wird, müssen vor der InstallValidate-Aktion sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="b468d-111">[Custom actions](custom-actions.md) that change the installation state of features or components must be sequenced before the InstallValidate action.</span></span>

## <a name="actiondata-messages"></a><span data-ttu-id="b468d-112">Aktions Daten Meldungen</span><span class="sxs-lookup"><span data-stu-id="b468d-112">ActionData Messages</span></span>

<span data-ttu-id="b468d-113">Es sind keine Aktions Daten Meldungen vorhanden.</span><span class="sxs-lookup"><span data-stu-id="b468d-113">There are no ActionData messages.</span></span>

## <a name="remarks"></a><span data-ttu-id="b468d-114">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="b468d-114">Remarks</span></span>

<span data-ttu-id="b468d-115">In der Regel sollte eine frühere UI-Dialogfeld Sequenz dieselbe Überprüfung wie die InstallValidate-Aktion durchführen, wenn der Benutzer versucht, das Kopieren von Dateien zu initiieren.</span><span class="sxs-lookup"><span data-stu-id="b468d-115">Typically, an earlier UI dialog box sequence should perform the same verification as the InstallValidate action when the user attempts to initiate the copying of files.</span></span> <span data-ttu-id="b468d-116">In dieser Benutzeroberflächen-Dialogfeld Sequenz sollte das Dialogfeld nicht genügend **Speicherplatz** vorhanden sein, wenn die ausgewählten Volumes nicht über genügend Speicherplatz für die Installation verfügen.</span><span class="sxs-lookup"><span data-stu-id="b468d-116">This UI dialog box sequence should present an **Out of Disk Space** dialog box if the volumes selected do not have enough space for the installation.</span></span> <span data-ttu-id="b468d-117">Die Dialogfelder für die Benutzeroberfläche sollten so erstellt werden, dass der Benutzer nicht mit der Installation fortfahren kann, wenn nicht genügend Speicherplatz vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-117">The UI dialog boxes should be authored in a way to prevent the user from proceeding with the installation if there is insufficient disk space.</span></span> <span data-ttu-id="b468d-118">Bei einer stillen Installation gibt es keine Benutzeroberfläche, und die InstallValidate-Aktion beendet die Installation, wenn nicht genügend Speicherplatz vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-118">In the case of a quiet installation, there is no user interface and the InstallValidate action terminates the installation if there is insufficient disk space.</span></span> <span data-ttu-id="b468d-119">Die Ursache für die vorzeitige Beendigung wird in der Protokolldatei aufgezeichnet, wenn die Protokollierung aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-119">The cause of the premature termination is recorded in the log file if logging is enabled.</span></span>

<span data-ttu-id="b468d-120">Ein Eintrag wird einer internen FilesInUse-Tabelle hinzugefügt, wenn eine Datei überschrieben oder entfernt wird, während Sie für die Ausführung geöffnet ist oder von einem beliebigen Prozess während der Datei [*Kosten*](c-gly.md)geändert wird.</span><span class="sxs-lookup"><span data-stu-id="b468d-120">An entry is added to an internal FilesInUse table if any file is overwritten or removed while it is open for execution or modification by any process during file [*costing*](c-gly.md).</span></span> <span data-ttu-id="b468d-121">Die FilesInUse-Tabelle enthält Spalten für den Namen und den vollständigen Pfad der Datei.</span><span class="sxs-lookup"><span data-stu-id="b468d-121">The FilesInUse table contains columns for the name and full path of the file.</span></span> <span data-ttu-id="b468d-122">Wenn die InstallValidate-Aktion ausgeführt wird, fragt das Installationsprogramm die FilesInUse-Tabelle nach Einträgen ab und bestimmt den Namen des Prozesses, der die Datei verwendet.</span><span class="sxs-lookup"><span data-stu-id="b468d-122">When the InstallValidate action executes, the installer queries the FilesInUse table for entries and determines the name of the process using the file.</span></span> <span data-ttu-id="b468d-123">Die InstallValidate-Aktion fügt der [ListBox](listbox-table.md) -Benutzerschnittstellen Tabelle für jeden eindeutigen, von dieser Abfrage identifizierten Prozess einen Datensatz hinzu.</span><span class="sxs-lookup"><span data-stu-id="b468d-123">The InstallValidate action adds one record to the [ListBox](listbox-table.md) user interface table for each unique process identified by this query.</span></span> <span data-ttu-id="b468d-124">Der Datensatz enthält die folgenden Werte in den einzelnen Spalten:</span><span class="sxs-lookup"><span data-stu-id="b468d-124">The record contains the following values in each column:</span></span>

<span data-ttu-id="b468d-125">**Eigenschaft**: filinput useprocess</span><span class="sxs-lookup"><span data-stu-id="b468d-125">**Property**: FileInUseProcess</span></span>

 

<span data-ttu-id="b468d-126">**Wert**: *Name des Prozesses*</span><span class="sxs-lookup"><span data-stu-id="b468d-126">**Value**: *Name of process*</span></span>

 

<span data-ttu-id="b468d-127">**Text**: *Text, der in der Beschriftung des Hauptfensters des Prozesses enthalten* ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-127">**Text**: *Text contained in the caption of the main window of the process*</span></span>

<span data-ttu-id="b468d-128">Die Aktion InstallValidate zeigt dann das Dialogfeld **verwendete Dateien an** .</span><span class="sxs-lookup"><span data-stu-id="b468d-128">The InstallValidate action then displays the **Files In Use** dialog box.</span></span> <span data-ttu-id="b468d-129">In diesem Dialogfeld werden die Prozesse angezeigt, die heruntergefahren werden müssen, um zu verhindern, dass das System neu gestartet wird, um verwendete Dateien zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="b468d-129">This dialog box displays the processes that must be shut down to avoid the requirement of restarting the system to replace files in use.</span></span>

<span data-ttu-id="b468d-130">Die InstallValidate-Aktion fragt die [Dialog](dialog-table.md) Feld Tabelle nach einem erstellten Dialogfeld mit dem reservierten Namen [FilesInUse](filesinuse-dialog.md) -Dialogfeld ab und zeigt es an.</span><span class="sxs-lookup"><span data-stu-id="b468d-130">The InstallValidate action queries the [Dialog](dialog-table.md) table for an authored dialog box with the reserved name [FilesInUse](filesinuse-dialog.md) dialog and displays it.</span></span> <span data-ttu-id="b468d-131">Dieses Dialogfeld muss ein [ListBox](listbox-control.md) -Steuerelement enthalten, das an eine Eigenschaft namens filinput useprocess gebunden ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-131">This dialog box must contain a [ListBox](listbox-control.md) control that is tied to a property named FileInUseProcess.</span></span> <span data-ttu-id="b468d-132">Gemäß der Konvention weist dieses Dialogfeld eine Schaltfläche zum **Beenden**, **wiederholen** oder **ignorieren** auf, aber dies ist der Benutzeroberflächen Autor.</span><span class="sxs-lookup"><span data-stu-id="b468d-132">By convention, this dialog box has an **Exit**, **Retry**, or **Ignore** button, but this is up to the UI author.</span></span> <span data-ttu-id="b468d-133">Jede Schaltfläche muss an einen [EndDialog](enddialog-controlevent.md) -ControlEvent in der Tabelle [ControlEvent](controlevent-table.md) gebunden werden.</span><span class="sxs-lookup"><span data-stu-id="b468d-133">Each button should be tied to an [EndDialog](enddialog-controlevent.md) ControlEvent in the [ControlEvent](controlevent-table.md) table.</span></span> <span data-ttu-id="b468d-134">Die InstallValidate-Aktion antwortet wie folgt auf den Wert, der von der [doaction](doaction-controlevent.md) -ControlEvent zurückgegeben wird, wie von einem dieser [EndDialog](enddialog-controlevent.md) -Argumente vorgegeben, das der Schaltfläche zugeordnet ist, die vom Benutzer übermittelt wird:</span><span class="sxs-lookup"><span data-stu-id="b468d-134">The InstallValidate action responds as follows to the value returned by the [DoAction](doaction-controlevent.md) ControlEvent, as dictated by one of these [EndDialog](enddialog-controlevent.md) arguments associated with the button pushed by the user:</span></span>

<span data-ttu-id="b468d-135">**Wiederholung**: alle Werte, die der [ListBox](listbox-table.md) -Tabelle hinzugefügt werden, werden gelöscht, und die gesamte Datei [*Kosten*](c-gly.md) wird wiederholt, und die Dateien, die noch verwendet werden, werden erneut überprüft.</span><span class="sxs-lookup"><span data-stu-id="b468d-135">**Retry**: All values added to the [ListBox](listbox-table.md) table are cleared, and the entire file [*costing*](c-gly.md) procedure is repeated, rechecking for files that are still in use.</span></span> <span data-ttu-id="b468d-136">Wenn ein oder mehrere Prozesse weiterhin als Verwendung von Dateien identifiziert werden, die überschrieben oder gelöscht werden sollen, wird der Prozess wiederholt. Andernfalls gibt InstallValidate die Steuerung mit dem Status msidoaktionstatussuccess an das Installationsprogramm zurück.</span><span class="sxs-lookup"><span data-stu-id="b468d-136">If one or more processes are still identified as using files to be overwritten or deleted, the process repeats; otherwise, InstallValidate returns control to the installer with a status of msiDoActionStatusSuccess.</span></span>

<span data-ttu-id="b468d-137">**Exit**: mit der InstallValidate-Aktion wird die Steuerung sofort an das Installationsprogramm mit dem Status "msidoaction statususerexit" zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="b468d-137">**Exit**: The InstallValidate action immediately returns control to the installer with a status of msiDoActionStatusUserExit.</span></span> <span data-ttu-id="b468d-138">Dadurch wird die Installation beendet.</span><span class="sxs-lookup"><span data-stu-id="b468d-138">This terminates the installation.</span></span>

<span data-ttu-id="b468d-139">**Jeder andere Rückgabewert**: die InstallValidate-Aktion gibt die Steuerung sofort mit dem Status "msidoaction StatusSuccess" an das Installationsprogramm zurück.</span><span class="sxs-lookup"><span data-stu-id="b468d-139">**Any other return value**: The InstallValidate action immediately returns control to the installer with a status of msiDoActionStatusSuccess.</span></span> <span data-ttu-id="b468d-140">Da in diesem Fall eine oder mehrere Dateien weiterhin verwendet werden, müssen die nachfolgenden [InstallFiles](installfiles-action.md) -und/oder [installadminpackage](installadminpackage-action.md) -Aktionen festlegen, dass die verwendeten Dateien beim Neustart des Systems ersetzt oder gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="b468d-140">In this case, since one or more files are still in use, the subsequent [InstallFiles](installfiles-action.md) and/or [InstallAdminPackage](installadminpackage-action.md) actions must schedule the in-use file(s) to be replaced or deleted when the system is restarted.</span></span>

<span data-ttu-id="b468d-141">Wenn in der Datenbank keine [ListBox](listbox-table.md) -Tabelle vorhanden ist, wird InstallValidate ohne Fehler automatisch beendet.</span><span class="sxs-lookup"><span data-stu-id="b468d-141">If there is no [ListBox](listbox-table.md) table in the database, InstallValidate exits silently without an error.</span></span>

<span data-ttu-id="b468d-142">Das Semikolon ist das Listen Trennzeichen für Transformationen, Quellen und Patches und sollte in diesen Dateinamen oder Pfaden nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b468d-142">The semicolon is the list delimiter for transforms, sources, and patches, and should not be used in these file names or paths.</span></span>

<span data-ttu-id="b468d-143">Dateien, die in einem schreibgeschützten Speicherort als schreibgeschützt gekennzeichnet sind, werden vom Installer nie als verwendet.</span><span class="sxs-lookup"><span data-stu-id="b468d-143">Files marked read-only in a read-only location are never considered in use by the installer.</span></span>

<span data-ttu-id="b468d-144">Ein standardmäßiges Dialogfeld " **nicht genügend Speicherplatz** " mit **Abbruch** -und **Wiederholungs** Schaltflächen wird dem Benutzer angezeigt, wenn die Benutzeroberflächen Ebene "Basic" ist.</span><span class="sxs-lookup"><span data-stu-id="b468d-144">A default **Out of Disk Space** dialog box containing **Abort** and **Retry** buttons is presented to the user if the user interface level is basic.</span></span>

 

 



