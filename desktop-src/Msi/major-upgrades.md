---
description: Ein großes Upgrade ist ein umfassendes Update eines Produkts, das eine Änderung der Eigenschaft ProductCode erfordert.
ms.assetid: 0c8f2aad-b301-4404-9051-694d97db1a8d
title: Wichtige Upgrades
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7795695072f6c153373db914781ac4b919cd2572
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104527032"
---
# <a name="major-upgrades"></a><span data-ttu-id="3f625-103">Wichtige Upgrades</span><span class="sxs-lookup"><span data-stu-id="3f625-103">Major Upgrades</span></span>

<span data-ttu-id="3f625-104">Ein großes Upgrade ist ein umfassendes Update eines Produkts, das eine Änderung der Eigenschaft [**ProductCode**](productcode.md) erfordert.</span><span class="sxs-lookup"><span data-stu-id="3f625-104">A major upgrade is a comprehensive update of a product that needs a change of the [**ProductCode**](productcode.md) Property.</span></span>

<span data-ttu-id="3f625-105">Bei einem typischen Haupt Upgrade wird eine frühere Version einer Anwendung entfernt, und es wird eine neue Version installiert.</span><span class="sxs-lookup"><span data-stu-id="3f625-105">A typical major upgrade removes a previous version of an application and installs a new version.</span></span> <span data-ttu-id="3f625-106">Ein großes Upgrade kann die Funktionskomponenten Struktur neu organisieren.</span><span class="sxs-lookup"><span data-stu-id="3f625-106">A major upgrade can reorganize the feature component tree.</span></span> <span data-ttu-id="3f625-107">Weitere Informationen finden Sie unter [**ProductCode**](productcode.md) und [Ändern des Produktcodes](changing-the-product-code.md).</span><span class="sxs-lookup"><span data-stu-id="3f625-107">For more information, see [**ProductCode**](productcode.md) and [Changing the Product Code](changing-the-product-code.md).</span></span>

<span data-ttu-id="3f625-108">Während eines größeren Upgrades mithilfe von Windows Installer durchsucht das Installationsprogramm den Computer des Benutzers nach Anwendungen, die sich auf das ausstehende Upgrade beziehen. wenn es erkannt wird, wird die Version der installierten Anwendung aus der Systemregistrierung abgerufen.</span><span class="sxs-lookup"><span data-stu-id="3f625-108">During a major upgrade using Windows Installer, the installer searches the user's computer for applications that are related to the pending upgrade, and when it detects one, it retrieves the version of the installed application from the system registry.</span></span> <span data-ttu-id="3f625-109">Der Installer verwendet dann Informationen in der upgradedatenbank, um zu bestimmen, ob die installierte Anwendung aktualisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="3f625-109">The installer then uses information in the upgrade database to determine whether to upgrade the installed application.</span></span>

<span data-ttu-id="3f625-110">Zum Aktivieren der upgradefunktionen des Installers sollte jedes Paket über eine [**UpgradeCode**](upgradecode.md) -Eigenschaft und eine [upgradetabelle](upgrade-table.md)verfügen.</span><span class="sxs-lookup"><span data-stu-id="3f625-110">To enable the installer upgrade capabilities, each package should have an [**UpgradeCode**](upgradecode.md) Property and an [Upgrade Table](upgrade-table.md).</span></span> <span data-ttu-id="3f625-111">Jedes eigenständige Produkt oder jede Produktsuite sollte über einen eigenen **UpgradeCode** verfügen.</span><span class="sxs-lookup"><span data-stu-id="3f625-111">Each stand-alone product or product suite should have its own **UpgradeCode**.</span></span> <span data-ttu-id="3f625-112">Weitere Informationen zur Verwendung von **UpgradeCode** finden Sie im Abschnitt [Verwenden von UpgradeCode](using-an-upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="3f625-112">For more information about using the **UpgradeCode** see the section [Using an UpgradeCode](using-an-upgradecode.md).</span></span> <span data-ttu-id="3f625-113">Jeder Datensatz in der upgradetabelle bietet eine Kombination aus dem UpgradeCode, der Produktversion und den Sprachinformationen, die verwendet werden, um eine Gruppe von Produkten zu identifizieren, die vom Upgrade betroffen sind.</span><span class="sxs-lookup"><span data-stu-id="3f625-113">Each record in the Upgrade table gives a combination of the upgrade code, product version, and language information used to identify a set of products affected by the upgrade.</span></span> <span data-ttu-id="3f625-114">Wenn die [Aktion "FindRelatedProducts](findrelatedproducts-action.md) " erkennt, dass ein betroffenes Produkt auf dem System installiert ist, fügt Sie den Produktcode an eine Eigenschaft in der Spalte "action Property" der upgradetabelle an.</span><span class="sxs-lookup"><span data-stu-id="3f625-114">When the [FindRelatedProducts Action](findrelatedproducts-action.md) detects that an affected product is installed on the system, it appends the product code to a property in the ActionProperty column of the Upgrade table.</span></span> <span data-ttu-id="3f625-115">Mit der [Aktion "RemoveExistingProducts](removeexistingproducts-action.md) " und der [MigrateFeatureStates-Aktion](migratefeaturestates-action.md) werden die in der Liste "action Property" aufgeführten Produkte entfernt oder migriert.</span><span class="sxs-lookup"><span data-stu-id="3f625-115">The [RemoveExistingProducts action](removeexistingproducts-action.md) and the [MigrateFeatureStates Action](migratefeaturestates-action.md) remove or migrate the products listed in the ActionProperty list.</span></span> <span data-ttu-id="3f625-116">Paket Ersteller können auch das Verfahren befolgen, das im Thema: [Vorbereiten einer Anwendung für zukünftige größere Upgrades](preparing-an-application-for-future-major-upgrades.md)beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="3f625-116">Package authors can also follow the procedure described in the topic: [Preparing an Application for Future Major Upgrades](preparing-an-application-for-future-major-upgrades.md).</span></span>

<span data-ttu-id="3f625-117">Windows Installer Upgradepakete können so erstellt werden, dass größere Upgrades nicht installiert werden, wenn der Benutzer bereits eine neuere Version der Anwendung installiert hat.</span><span class="sxs-lookup"><span data-stu-id="3f625-117">Windows Installer upgrade packages can be authored such that major upgrades will not install if the user already has a newer version of the application installed.</span></span> <span data-ttu-id="3f625-118">Weitere Informationen zum Erstellen eines Pakets, das nicht über eine neuere Version installiert wird, finden Sie unter [verhindern, dass ein altes Paket über eine neuere Version installiert](preventing-an-old-package-from-installing-over-a-newer-version.md) wird.</span><span class="sxs-lookup"><span data-stu-id="3f625-118">For more information about how to author a package that will not install over a newer version, see [Preventing an Old Package from Installing Over a Newer Version](preventing-an-old-package-from-installing-over-a-newer-version.md)</span></span>

> [!Note]  
> <span data-ttu-id="3f625-119">Windows Installer verwendet nur die ersten drei Felder der Produktversion.</span><span class="sxs-lookup"><span data-stu-id="3f625-119">Windows Installer uses only the first three fields of the product version.</span></span> <span data-ttu-id="3f625-120">Beschreibungen dieser Felder finden Sie unter der [**ProductVersion**](productversion.md) -Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="3f625-120">See [**ProductVersion**](productversion.md) Property for descriptions of these fields.</span></span> <span data-ttu-id="3f625-121">Wenn Sie ein viertes Feld in Ihre Produktversion einschließen, wird das vierte Feld vom Installationsprogramm ignoriert.</span><span class="sxs-lookup"><span data-stu-id="3f625-121">If you include a fourth field in your product version, the installer ignores the fourth field.</span></span>

 

<span data-ttu-id="3f625-122">Die empfohlene Methode für das Anwenden eines größeren Upgrades durch Installieren des vollständigen Pakets für das aktualisierte Produkt.</span><span class="sxs-lookup"><span data-stu-id="3f625-122">The recommended method of applying a major upgrade by installing the full package for the updated product.</span></span> <span data-ttu-id="3f625-123">Informationen zum Anwenden eines größeren Upgrades durch die Installation des Produkts finden Sie unter [Anwenden von größeren Upgrades durch Installieren des Produkts](applying-major-upgrades-by-installing-the-product.md).</span><span class="sxs-lookup"><span data-stu-id="3f625-123">For information about how to apply a major upgrade by installing the product, see [Applying Major Upgrades by Installing the Product](applying-major-upgrades-by-installing-the-product.md).</span></span>

<span data-ttu-id="3f625-124">Ein umfangreiches Upgrade, das als [Patchpaket](patch-packages.md) für das Produkt angewendet wird, kann nicht mit anderen Updates sequenziert werden und ist kein nicht [installier barer Patch](uninstallable-patches.md).</span><span class="sxs-lookup"><span data-stu-id="3f625-124">A major upgrade applied as a [Patch Package](patch-packages.md) for the product cannot be sequenced with other updates and is not an [uninstallable patch](uninstallable-patches.md).</span></span> <span data-ttu-id="3f625-125">Informationen zum Anwenden eines wichtigen Upgradepatch-Pakets auf ein Windows Installer Paket finden Sie unter [Anwenden von größeren Upgrades durch Patchen der lokalen Installation des Produkts](applying-major-upgrades-by-patching-the-local-installation-of-the-product.md).</span><span class="sxs-lookup"><span data-stu-id="3f625-125">For information about how to apply a major upgrade patch package to a Windows Installer package see [Applying Major Upgrades by Patching the Local Installation of the Product](applying-major-upgrades-by-patching-the-local-installation-of-the-product.md).</span></span> <span data-ttu-id="3f625-126">Die Anwendung eines größeren Upgrades mithilfe eines Patch-Pakets wird nicht empfohlen. wenden Sie stattdessen größere Upgrades an, indem Sie das vollständige Produkt installieren.</span><span class="sxs-lookup"><span data-stu-id="3f625-126">The application of a major upgrade using a patch package is not recommended, instead apply major upgrades by installing the full product.</span></span>

> [!Note]  
> <span data-ttu-id="3f625-127">Wenn eine Anwendung im [Installations Kontext](installation-context.md)pro Benutzer installiert wird, müssen alle wichtigen Upgrades der Anwendung auch über den Kontext pro Benutzer ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="3f625-127">If an application is installed in the per-user [installation context](installation-context.md), any major upgrade to the application must also be performed using the per-user context.</span></span> <span data-ttu-id="3f625-128">Wenn eine Anwendung im computerspezifischen Installations Kontext installiert wird, muss jedes wesentliche Upgrade auf die Anwendung auch über den computerspezifischen Kontext durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="3f625-128">If an application is installed in the per-machine installation context, any major upgrade to the application must also be performed using the per-machine context.</span></span> <span data-ttu-id="3f625-129">Bei der Windows Installer werden wichtige Upgrades nicht über den Installations Kontext hinweg installiert.</span><span class="sxs-lookup"><span data-stu-id="3f625-129">The Windows Installer will not install major upgrades across installation context.</span></span>

 

<span data-ttu-id="3f625-130">Sie können benutzerdefinierte Aktionen, die nach [InstallValidate](installvalidate-action.md) sequenziert werden, für die Verarbeitung großer Upgrades mithilfe der [**upgradingproductcode**](upgradingproductcode.md) -Eigenschaft bedinieren:</span><span class="sxs-lookup"><span data-stu-id="3f625-130">You can condition custom actions that are sequenced after [InstallValidate](installvalidate-action.md) to handle major upgrades by using the [**UPGRADINGPRODUCTCODE**](upgradingproductcode.md) property:</span></span>

-   <span data-ttu-id="3f625-131">Wenn eine benutzerdefinierte Aktion während der Deinstallation des Produkts, aber nicht während des Entfernens des Produkts durch ein großes Upgrade ausgeführt werden soll, verwenden Sie diese Bedingung.</span><span class="sxs-lookup"><span data-stu-id="3f625-131">If you want a custom action to run during an uninstallation of the product, but not during the removal of the product by a major upgrade, use this condition.</span></span>

    <span data-ttu-id="3f625-132">Remove = "All" und nicht [ **upgradingproductcode**](upgradingproductcode.md)</span><span class="sxs-lookup"><span data-stu-id="3f625-132">REMOVE="ALL" AND NOT [**UPGRADINGPRODUCTCODE**](upgradingproductcode.md)</span></span>

-   <span data-ttu-id="3f625-133">Wenn Sie möchten, dass eine benutzerdefinierte Aktion nur während eines größeren Upgrades ausgeführt wird, verwenden Sie diese Bedingung.</span><span class="sxs-lookup"><span data-stu-id="3f625-133">If you want a custom action to run only during a major upgrade, use this condition.</span></span>

    [<span data-ttu-id="3f625-134">**Upgradingproductcode**</span><span class="sxs-lookup"><span data-stu-id="3f625-134">**UPGRADINGPRODUCTCODE**</span></span>](upgradingproductcode.md)

 

 



