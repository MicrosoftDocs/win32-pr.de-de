---
description: Benutzerdefinierte COMMIT-Aktionen werden nach erfolgreichem Abschluss des Installations Skripts ausgeführt.
ms.assetid: ad766585-e8ac-44b6-9717-7979f803886c
title: Commit für benutzerdefinierte Aktionen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 174af16a84f71ff90a1fc35c76054ee503449b8a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106347075"
---
# <a name="commit-custom-actions"></a><span data-ttu-id="40a2a-103">Commit für benutzerdefinierte Aktionen</span><span class="sxs-lookup"><span data-stu-id="40a2a-103">Commit Custom Actions</span></span>

<span data-ttu-id="40a2a-104">Benutzerdefinierte COMMIT-Aktionen werden nach erfolgreichem Abschluss des Installations Skripts ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="40a2a-104">Commit Custom actions are executed upon successful completion of the installation script.</span></span> <span data-ttu-id="40a2a-105">Wenn die [InstallFinalize-Aktion](installfinalize-action.md) erfolgreich ist, führt das Installationsprogramm alle benutzerdefinierten COMMIT-Aktionen aus.</span><span class="sxs-lookup"><span data-stu-id="40a2a-105">If the [InstallFinalize action](installfinalize-action.md) is successful, the installer will then run any existing Commit Custom actions.</span></span> <span data-ttu-id="40a2a-106">Der einzige Modusparameter, der vom Installer festgelegt wird, ist der msirunmode- \_ Commit.</span><span class="sxs-lookup"><span data-stu-id="40a2a-106">The only mode parameter the installer sets in this case is MSIRUNMODE\_COMMIT.</span></span> <span data-ttu-id="40a2a-107">Unter [**msigetmode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) finden Sie eine Beschreibung der Parameter für den Testlauf.</span><span class="sxs-lookup"><span data-stu-id="40a2a-107">See [**MsiGetMode**](/windows/desktop/api/Msiquery/nf-msiquery-msigetmode) for a description of the run mode parameters.</span></span>

<span data-ttu-id="40a2a-108">Eine benutzerdefinierte Commit-Aktion kann angegeben werden, indem dem type-Feld der [CustomAction-Tabelle](customaction-table.md)ein Optionsflag hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="40a2a-108">A commit custom action can be specified by adding an option flag to the Type field of the [CustomAction table](customaction-table.md).</span></span> <span data-ttu-id="40a2a-109">Weitere Informationen finden Sie unter [benutzerdefinierte Aktion In-Script Ausführungs Optionen](custom-action-in-script-execution-options.md) für das Optionsflag zum Festlegen einer benutzerdefinierten Commit-Aktion</span><span class="sxs-lookup"><span data-stu-id="40a2a-109">See [Custom Action In-Script Execution Options](custom-action-in-script-execution-options.md) for the option flag designating a commit custom action.</span></span>

<span data-ttu-id="40a2a-110">Eine benutzerdefinierte Commit-Aktion ist die Ergänzung zu einer [benutzerdefinierten Rollback-Aktion](rollback-custom-actions.md) und kann mit einem Rollback von benutzerdefinierten Aktionen verwendet werden, um benutzerdefinierte Aktionen umzukehren, die Änderungen direkt am System vornehmen.</span><span class="sxs-lookup"><span data-stu-id="40a2a-110">A commit custom action is the complement to a [rollback custom action](rollback-custom-actions.md) and can be used with rollback custom actions to reverse custom actions that make changes directly to the system.</span></span>

<span data-ttu-id="40a2a-111">Beachten Sie, dass eine benutzerdefinierte Rollback-Aktion möglicherweise nicht alle Änderungen entfernt, die durch benutzerdefinierte COMMIT-Aktionen vorgenommen werden.</span><span class="sxs-lookup"><span data-stu-id="40a2a-111">Note that a rollback custom action may not be able to remove all of the changes made by commit custom actions.</span></span> <span data-ttu-id="40a2a-112">Obwohl der Installer sowohl Rollback als auch Commit für benutzerdefinierte Aktionen in das Rollback-Skript schreibt, werden benutzerdefinierte Aktionen nur ausgeführt, nachdem das Installationsskript vom Installationsprogramm erfolgreich verarbeitet wurde.</span><span class="sxs-lookup"><span data-stu-id="40a2a-112">Although the installer writes both rollback and commit custom actions into the rollback script, commit custom actions only run after the installer has successfully processed the installation script.</span></span> <span data-ttu-id="40a2a-113">Commit für benutzerdefinierte Aktionen sind die ersten Aktionen, die im Rollback-Skript ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="40a2a-113">Commit custom actions are the first actions to run in the rollback script.</span></span> <span data-ttu-id="40a2a-114">Wenn bei einer benutzerdefinierten Commit-Aktion ein Fehler auftritt, wird ein Rollback vom Installationsprogramm initiiert</span><span class="sxs-lookup"><span data-stu-id="40a2a-114">If a commit custom action fails, the installer initiates rollback but can only rollback those operations already written to the rollback script.</span></span> <span data-ttu-id="40a2a-115">Dies bedeutet, dass ein Rollback abhängig von der benutzerdefinierten Aktion "Commit" möglicherweise die von der Aktion vorgenommenen Änderungen nicht rückgängig machen kann.</span><span class="sxs-lookup"><span data-stu-id="40a2a-115">This means that depending on the commit custom action, a rollback may not be able to undo the changes made by the action.</span></span> <span data-ttu-id="40a2a-116">Sie können Fehler in benutzerdefinierten COMMIT-Aktionen ignorieren, indem Sie die benutzerdefinierte Aktion erstellen, um Rückgabecodes zu ignorieren.</span><span class="sxs-lookup"><span data-stu-id="40a2a-116">You can ignore failures in commit custom actions by authoring the custom action to ignore return codes.</span></span>

<span data-ttu-id="40a2a-117">Die benutzerdefinierten Aktionen Rollback und Commit werden nicht ausgeführt, wenn das Rollback deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="40a2a-117">Rollback and commit custom actions do not run when rollback is disabled.</span></span> <span data-ttu-id="40a2a-118">Wenn ein Paket Autor diese Art von benutzerdefinierten Aktionen für die ordnungsgemäße Installation erfordert, sollten Sie die [**rollbackdeaktiviert**](rollbackdisabled.md) -Eigenschaft in einer Bedingung verwenden, die verhindert, dass die Installation fortgesetzt wird, wenn das Rollback deaktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="40a2a-118">If a package author requires these types of custom actions for proper installation, they should use the [**RollbackDisabled**](rollbackdisabled.md) Property in a condition that prevents the installation from continuing when rollback is disabled.</span></span>

 

 



