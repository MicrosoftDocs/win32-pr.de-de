---
description: Die Möglichkeit der Windows Installer, Zugriffsberechtigungen für Dienste, Dateien, erstellte Ordner und Registrierungseinträge festzulegen, kann dazu beitragen, dass Installationsanwendungen sicherer werden.
ms.assetid: a25fcecf-f15f-4772-8f41-d03864484cc9
title: Sichern von Ressourcen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 415fe7b2df343a54aa0819031f4fd22b05857618
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106362284"
---
# <a name="securing-resources"></a><span data-ttu-id="1da0f-103">Sichern von Ressourcen</span><span class="sxs-lookup"><span data-stu-id="1da0f-103">Securing Resources</span></span>

<span data-ttu-id="1da0f-104">Die Möglichkeit der Windows Installer, Zugriffsberechtigungen für Dienste, Dateien, erstellte Ordner und Registrierungseinträge festzulegen, kann dazu beitragen, dass Installationsanwendungen sicherer werden.</span><span class="sxs-lookup"><span data-stu-id="1da0f-104">The capability of the Windows Installer to set access permissions on services, files, created folders, and registry entries can help make installation applications more secure.</span></span> <span data-ttu-id="1da0f-105">Die Verwendung der [msilockpermissionsex](msilockpermissionsex-table.md) -Tabelle oder der [lockberechtigungs](lockpermissions-table.md) -Tabelle zum Sichern von Ressourcen ist eine der empfohlenen [Richtlinien für die Erstellung sicherer Installationen](guidelines-for-authoring-secure-installations.md).</span><span class="sxs-lookup"><span data-stu-id="1da0f-105">The use of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) or [LockPermissions](lockpermissions-table.md) tables to secure resources is one of the recommended [Guidelines for Authoring Secure Installations](guidelines-for-authoring-secure-installations.md).</span></span> <span data-ttu-id="1da0f-106">Die msilockpermissionsex-Tabelle kann einem Paket Ersteller ermöglichen, eine Ressource zu sichern, ohne eine [benutzerdefinierte Aktion](custom-actions.md)schreiben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="1da0f-106">The MsiLockPermissionsEx table can enable a package author to secure a resource without having to write a [custom action](custom-actions.md).</span></span>

<span data-ttu-id="1da0f-107">Beginnend mit den für Windows Installer 5,0 entwickelten Paketen sollte die [msilockpermissionsex](msilockpermissionsex-table.md) -Tabelle die Verwendung der [lockberechtigungs](lockpermissions-table.md) -Tabelle ersetzen.</span><span class="sxs-lookup"><span data-stu-id="1da0f-107">Beginning with packages developed for Windows Installer 5.0, the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table should replace the use of the [LockPermissions](lockpermissions-table.md) table.</span></span> <span data-ttu-id="1da0f-108">Mithilfe der erweiterten Funktionalität der msilockpermissionsex-Tabelle kann ein Paket Windows- [Dienste](../services/services.md),-Dateien,-Ordner und-Registrierungsschlüssel sichern.</span><span class="sxs-lookup"><span data-stu-id="1da0f-108">The extended functionality provided by the MsiLockPermissionsEx table enables a package to secure Windows [Services](../services/services.md), files, folders, and registry keys.</span></span> <span data-ttu-id="1da0f-109">Ein Paket sollte nicht gleichzeitig die Tabellen msilockpermissionsex und lockberechtigungs Tabelle enthalten.</span><span class="sxs-lookup"><span data-stu-id="1da0f-109">A package should not contain both the MsiLockPermissionsEx and the LockPermissions tables.</span></span>

<span data-ttu-id="1da0f-110">In Windows Installer 4,5 und früher wird die [Tabelle "msilockpermissionsex](msilockpermissionsex-table.md)" ignoriert.</span><span class="sxs-lookup"><span data-stu-id="1da0f-110">Windows Installer 4.5 and earlier ignores the [MsiLockPermissionsEx table](msilockpermissionsex-table.md).</span></span> <span data-ttu-id="1da0f-111">Ab Windows Installer 5,0 schlägt die Installation mit der Fehlermeldung 1941 fehl, wenn das Paket sowohl eine [lockberechtigungs Tabelle](lockpermissions-table.md) als auch eine msilockpermissionsex-Tabelle enthält.</span><span class="sxs-lookup"><span data-stu-id="1da0f-111">Beginning with Windows Installer 5.0, the installation fails with an error message 1941 if the package contains both a [LockPermissions table](lockpermissions-table.md) and MsiLockPermissionsEx table.</span></span> <span data-ttu-id="1da0f-112">Vorhandene Installationspakete, die nur die lockberechtigungs Tabelle enthalten, können weiterhin mit Windows Installer 5,0 installiert werden.</span><span class="sxs-lookup"><span data-stu-id="1da0f-112">Existing installation packages that contain only the LockPermissions table can be still be installed using Windows Installer 5.0.</span></span>

<span data-ttu-id="1da0f-113">Windows Installer 5,0 verarbeitet die Informationen in der Tabelle " [msilockpermissionsex](msilockpermissionsex-table.md) ", wenn Sie die Standard Aktionen " [InstallFiles](installfiles-action.md)", " [installservices](installservices-action.md)", " [schreiteregistryvalues](writeregistryvalues-action.md) " und "Buildordner" ausführt. [](createfolders-action.md)</span><span class="sxs-lookup"><span data-stu-id="1da0f-113">Windows Installer 5.0 processes the information in the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table when it runs the [InstallFiles](installfiles-action.md), [InstallServices](installservices-action.md), [WriteRegistryValues](writeregistryvalues-action.md) and [CreateFolders](createfolders-action.md) standard actions.</span></span> <span data-ttu-id="1da0f-114">Ein Sicherungs fähiges Objekt muss installiert oder neu installiert werden, damit es gesichert werden kann, und es ist nicht möglich, eine [Access Control Liste](../secauthz/access-control-lists.md) (ACL) an ein vorhandenes Objekt anzufügen, ohne das Objekt erneut zu installieren.</span><span class="sxs-lookup"><span data-stu-id="1da0f-114">A securable object must be installed or reinstalled to be secured and it is not possible to append an [Access Control List](../secauthz/access-control-lists.md) (ACL) to an existing object without reinstalling that object.</span></span>

<span data-ttu-id="1da0f-115">Um den zu sichernden Dienst, die Datei, das Verzeichnis oder den Registrierungsschlüssel anzugeben, geben Sie die identifizierenden Informationen in die Felder lockobject und Table der Tabelle [msilockpermissionsex](msilockpermissionsex-table.md) ein.</span><span class="sxs-lookup"><span data-stu-id="1da0f-115">To specify the service, file, directory, or registry key that is to be secured, enter the identifying information in the LockObject and Table fields of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table.</span></span> <span data-ttu-id="1da0f-116">Ein Objekt wird durch seinen Primärschlüssel in der [Tabelle ServiceInstall](serviceinstall-table.md), der [Dateitabelle](file-table.md), der [Registrierungs Tabelle](registry-table.md)oder der [Tabelle "Tabelle](createfolder-table.md)" identifiziert.</span><span class="sxs-lookup"><span data-stu-id="1da0f-116">An object is identified by it's primary key in the [ServiceInstall Table](serviceinstall-table.md), [File Table](file-table.md), [Registry Table](registry-table.md), or [CreateFolder Table](createfolder-table.md).</span></span>

<span data-ttu-id="1da0f-117">Um anzufordern, dass bestimmte Berechtigungen für ein Objekt gelten, geben Sie eine gültige Sicherheits Deskriptor-Zeichenfolge in das Feld *sddltext* der Tabelle [msilockpermissionsex](msilockpermissionsex-table.md) ein, indem Sie die gültige SDDL ( [Security Deskriptor Definition Language](../secauthz/security-descriptor-definition-language.md) ) verwenden.</span><span class="sxs-lookup"><span data-stu-id="1da0f-117">To request that specified permissions apply to an object, enter a valid security descriptor string in the *SDDLText* field of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table using valid [security descriptor definition language](../secauthz/security-descriptor-definition-language.md) (SDDL).</span></span> <span data-ttu-id="1da0f-118">Die **msilockpermissionsex** -Tabelle kann eine Sicherheits Beschreibung angeben, die Berechtigungen ablehnt, die Vererbung von Berechtigungen für eine übergeordnete Ressource angibt oder die Berechtigungen eines neuen Kontos angibt.</span><span class="sxs-lookup"><span data-stu-id="1da0f-118">The **MsiLockPermissionsEx** table can specify a security descriptor that denies permissions, specifies inheritance of permissions from a parent resource, or specifies the permissions of a new account.</span></span> <span data-ttu-id="1da0f-119">Eine Liste aller Berechtigungen, die gewährt, verweigert oder geerbt werden können, finden Sie unter [ACE](../secauthz/ace-strings.md)-Zeichen folgen.</span><span class="sxs-lookup"><span data-stu-id="1da0f-119">For a list of all the permissions that can be granted, denied, or inherited see [ACE Strings](../secauthz/ace-strings.md).</span></span> <span data-ttu-id="1da0f-120">Windows Installer 5,0 erweitert den Satz verfügbarer Sicherheits-IDs (SIDs). Eine Liste der gültigen SIDs finden Sie unter [sid](../secauthz/sid-strings.md)-Zeichen folgen.</span><span class="sxs-lookup"><span data-stu-id="1da0f-120">Windows Installer 5.0 extends the set of available security identifiers (SIDs.) For a list of the valid SIDs, see [SID Strings](../secauthz/sid-strings.md).</span></span>

> [!NOTE]
> <span data-ttu-id="1da0f-121">Wenn Sie die Sicherheits Beschreibung einer übergeordneten Ressource konfigurieren möchten, um anzugeben, dass die Berechtigungen von untergeordneten Objekten geerbt werden sollen, muss das Installationsprogramm Berechtigungen für die übergeordnete Ressource anwenden, bevor die untergeordneten Objekte erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="1da0f-121">If you want to configure the security descriptor of a parent resource to specify that that its permissions be inherited by child objects, your installer must apply permissions to the parent resource before it creates the child objects.</span></span> <span data-ttu-id="1da0f-122">Wenn das Installationsprogramm die untergeordneten Objekte erstellt, bevor die vererbbaren Berechtigungen auf die übergeordnete Ressource angewendet werden, werden die Berechtigungen der übergeordneten Ressource nicht an die untergeordneten Objekte weitergegeben.</span><span class="sxs-lookup"><span data-stu-id="1da0f-122">If your installer creates the child objects before it applies the inheritable permissions to the parent resource, the permissions of the parent resource will not propagate to the child objects.</span></span>

<span data-ttu-id="1da0f-123">Ab Windows Installer 5,0 erweitert der [formattedsddltext](formattedsddltext.md) -Datentyp den [formatierten](formatted.md) Datentyp.</span><span class="sxs-lookup"><span data-stu-id="1da0f-123">Beginning with Windows Installer 5.0, the [FormattedSDDLText](formattedsddltext.md) data type extends the [Formatted](formatted.md) data type.</span></span> <span data-ttu-id="1da0f-124">Der Windows Installer überprüft, ob die in der sddltext-Spalte der [msilockpermissionsex](msilockpermissionsex-table.md) -Tabelle eingegebene formattedsddltext-Zeichenfolge dem [Format der Sicherheits Deskriptor-Zeichenfolge](../secauthz/security-descriptor-string-format.md)entspricht.</span><span class="sxs-lookup"><span data-stu-id="1da0f-124">The Windows Installer validates that the FormattedSDDLText string entered in the SDDLText column of the [MsiLockPermissionsEx](msilockpermissionsex-table.md) table conforms to the [Security Descriptor String Format](../secauthz/security-descriptor-string-format.md).</span></span>

<span data-ttu-id="1da0f-125">**[Windows Installer 4,5 oder früher](not-supported-in-windows-installer-4-5.md):** Nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="1da0f-125">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** Not supported.</span></span> <span data-ttu-id="1da0f-126">Die [msilockpermissionsex](msilockpermissionsex-table.md) -Tabelle und der [formattedsddltext](formattedsddltext.md) -Datentyp sind ab Windows Installer 5,0 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="1da0f-126">The [MsiLockPermissionsEx](msilockpermissionsex-table.md) table and [FormattedSDDLText](formattedsddltext.md) data type are available beginning with Windows Installer 5.0.</span></span>

 

 
