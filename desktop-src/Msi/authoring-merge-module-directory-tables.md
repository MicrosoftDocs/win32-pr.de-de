---
description: Ein Mergemodul kann auf eine MSI-Datei angewendet werden, um der Installation Verzeichnisse hinzuzufügen, aber es kann keine vorhandenen Verzeichnisse ersetzen oder entfernen.
ms.assetid: 5b808aa2-b2b2-4703-bd57-0b5e1e73b306
title: Erstellen von mergemodulverzeichnistabellen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 98332f2c0bda10a5cc076f0ec80df3bf4b2e05aa
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103864456"
---
# <a name="authoring-merge-module-directory-tables"></a><span data-ttu-id="6660c-103">Erstellen von mergemodulverzeichnistabellen</span><span class="sxs-lookup"><span data-stu-id="6660c-103">Authoring Merge Module Directory Tables</span></span>

<span data-ttu-id="6660c-104">Ein Mergemodul kann auf eine MSI-Datei angewendet werden, um der Installation Verzeichnisse hinzuzufügen, aber es kann keine vorhandenen Verzeichnisse ersetzen oder entfernen.</span><span class="sxs-lookup"><span data-stu-id="6660c-104">A merge module can be applied to an .msi file to add directories to the installation but it cannot replace or remove any existing directories.</span></span> <span data-ttu-id="6660c-105">Die [Verzeichnis Tabelle](directory-table.md) gibt das Layout der Verzeichnisse an, die das Mergemodul für die Ziel Installation bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="6660c-105">The [Directory table](directory-table.md) specifies the layout of the directories the merge module provides to the target installation.</span></span> <span data-ttu-id="6660c-106">Eine Verzeichnis Tabelle ist in jedem Mergemodul erforderlich.</span><span class="sxs-lookup"><span data-stu-id="6660c-106">A Directory table is required in every merge module.</span></span>

<span data-ttu-id="6660c-107">Beachten Sie beim Erstellen der Verzeichnis Tabelle in einem Mergemodul die folgenden Richtlinien.</span><span class="sxs-lookup"><span data-stu-id="6660c-107">Use the following guidelines when authoring the Directory Table in a merge module.</span></span> <span data-ttu-id="6660c-108">Weitere Informationen finden Sie unter [Verzeichnis Tabelle](directory-table.md) und [Verwenden der Verzeichnis Tabelle](using-the-directory-table.md).</span><span class="sxs-lookup"><span data-stu-id="6660c-108">For more information, see [Directory Table](directory-table.md) and [Using The Directory Table](using-the-directory-table.md).</span></span>

-   <span data-ttu-id="6660c-109">Die vom Mergemodul hinzugefügte Verzeichnisstruktur muss über ein einzelnes Stammverzeichnis verfügen.</span><span class="sxs-lookup"><span data-stu-id="6660c-109">The directory structure added by the merge module must have a single root directory.</span></span> <span data-ttu-id="6660c-110">Der Stamm muss den Namen "TARGETDIR" haben.</span><span class="sxs-lookup"><span data-stu-id="6660c-110">The root must be named TARGETDIR.</span></span> <span data-ttu-id="6660c-111">Der Benutzer kann den Wert von TARGETDIR während der Zusammenführung ändern, um anzugeben, wo die Verzeichnisstruktur des Moduls an die Verzeichnisstruktur des Ziels angefügt werden soll.</span><span class="sxs-lookup"><span data-stu-id="6660c-111">The user may change the value of TARGETDIR during the merge to specify where to attach the module's directory structure onto the target's directory tree.</span></span>
-   <span data-ttu-id="6660c-112">Die Zusammenführung von Modul Tabellen außer der Verzeichnis Tabelle darf nicht direkt auf die Verzeichnis Speicherorte auf TARGETDIR verweisen.</span><span class="sxs-lookup"><span data-stu-id="6660c-112">Merge module tables other than the Directory table must not directly reference directory locations to TARGETDIR.</span></span> <span data-ttu-id="6660c-113">Der Speicherort eines solchen Verweises ändert sich, wenn der Wert von TARGETDIR vom Benutzer geändert wird.</span><span class="sxs-lookup"><span data-stu-id="6660c-113">The location of such a reference changes if the value of TARGETDIR is changed by the user.</span></span>
-   <span data-ttu-id="6660c-114">Die Tabellen im Mergemodul müssen auf den Speicherort eines untergeordneten Verzeichnisses von TARGETDIR oder auf ein anderes Verzeichnis in der Struktur des Mergemoduls verweisen.</span><span class="sxs-lookup"><span data-stu-id="6660c-114">The tables in the merge module must reference the location of a child directory of TARGETDIR, or another directory in the merge module's tree.</span></span> <span data-ttu-id="6660c-115">Führen Sie die folgenden Schritte aus, um TARGETDIR als übergeordnetes Element eines Verzeichnisses im Mergemodul anzugeben.</span><span class="sxs-lookup"><span data-stu-id="6660c-115">Do the following to specify TARGETDIR as the parent of a directory in the merge module.</span></span> <span data-ttu-id="6660c-116">Geben Sie das Verzeichnis in die Spalte Verzeichnis ein, und geben Sie TARGETDIR in die übergeordnete Spalte des Verzeichnisses ein \_ .</span><span class="sxs-lookup"><span data-stu-id="6660c-116">Enter the directory into the Directory column and enter TARGETDIR into the Directory\_Parent column.</span></span> <span data-ttu-id="6660c-117">Verwenden Sie die Notation "." in der Spalte "DefaultDir", um anzugeben, dass sich dieses Verzeichnis in "TARGETDIR" ohne ein Unterverzeichnis befindet.</span><span class="sxs-lookup"><span data-stu-id="6660c-117">Use the "." notation in the DefaultDir column to indicate that this directory is located in TARGETDIR without a subdirectory.</span></span> <span data-ttu-id="6660c-118">Weitere Informationen finden Sie unter [Verwenden der Verzeichnis Tabelle](using-the-directory-table.md).</span><span class="sxs-lookup"><span data-stu-id="6660c-118">For more information, see [Using the Directory Table](using-the-directory-table.md).</span></span>
-   <span data-ttu-id="6660c-119">Die Namen der vom Mergemodul hinzugefügten Verzeichnisse müssen die Benennungs Konventionen verwenden, die unter [Benennen von primär Schlüsseln in mergemoduldatenbanken](naming-primary-keys-in-merge-module-databases.md)beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="6660c-119">The names of directories added by the merge module must use the naming conventions described in [Naming Primary Keys in Merge Module Databases](naming-primary-keys-in-merge-module-databases.md).</span></span> <span data-ttu-id="6660c-120">Dies schließt Verzeichnisse ein, die durch Eigenschaften wie die [**System Folder**](systemfolder.md) -Eigenschaft und die [**ProgramFilesFolder**](programfilesfolder.md) -Eigenschaft vordefiniert sind.</span><span class="sxs-lookup"><span data-stu-id="6660c-120">This includes directories predefined by properties such as the [**SystemFolder**](systemfolder.md) property and [**ProgramFilesFolder**](programfilesfolder.md) property.</span></span>
-   <span data-ttu-id="6660c-121">Fügen Sie einen [*GUID*](g-gly.md) an jeden Eintrag in der Verzeichnis Tabelle an (außer TargetDir). Dies schließt Verzeichnis Tabelleneinträge ein, die Windows Installer [**SystemFolder**](systemfolder.md) -Eigenschaften angeben, z. b. System Folder. 00000000 \_ 0000 0000 \_ \_ 0000 \_ 000000000000.</span><span class="sxs-lookup"><span data-stu-id="6660c-121">Append a [*GUID*](g-gly.md) to every entry in the Directory table (except TARGETDIR.) This includes Directory table entries that specify Windows Installer [**SystemFolder**](systemfolder.md) properties, for example, SystemFolder.00000000\_0000\_0000\_0000\_000000000000.</span></span> <span data-ttu-id="6660c-122">Die Bibliothek Mergemod.dll fügt benutzerdefinierte Aktionen hinzu, um die **System Folder** -Eigenschaft festzulegen.</span><span class="sxs-lookup"><span data-stu-id="6660c-122">The library Mergemod.dll adds custom actions to set the **SystemFolder** property.</span></span>
-   <span data-ttu-id="6660c-123">Wenn ein vordefiniertes Verzeichnis in einem Mergemodul enthalten ist, fügt das Merge-Tool der Zieldatenbank automatisch einen [benutzerdefinierten Aktionstyp 51](custom-action-type-51.md) hinzu.</span><span class="sxs-lookup"><span data-stu-id="6660c-123">When a predefined directory is included in a merge module, the merge tool automatically adds a [Custom Action Type 51](custom-action-type-51.md) to the target database.</span></span> <span data-ttu-id="6660c-124">Der Autor des Merge-Moduls muss sicherstellen, dass auch eine [CustomAction-Tabelle](customaction-table.md) enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="6660c-124">The merge module author must ensure that a [CustomAction table](customaction-table.md) is also included.</span></span> <span data-ttu-id="6660c-125">Die Tabelle "CustomAction" ist möglicherweise leer, aber diese Tabelle muss in der Zieldatenbank vorhanden sein, und es wird sichergestellt, dass die geänderten vordefinierten Verzeichnisse an die richtigen Speicherorte geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="6660c-125">The CustomAction table may be empty, but this table is required to exist in the target database and ensures that the modified predefined directories are written to the correct locations.</span></span> <span data-ttu-id="6660c-126">Wenn ein System Verzeichnis z. b. in einem Mergemodul enthalten ist, muss der Autor des Merge-Moduls sicherstellen, dass eine benutzerdefinierte Aktionstabelle vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="6660c-126">For example, when a system directory is included in a merge module, the merge module author must ensure that a Custom Action table exists.</span></span>

    <span data-ttu-id="6660c-127">Beachten Sie, dass der übereinstimmende Algorithmus für die Generierung dieser benutzerdefinierten Aktionen vom Typ 51 nur überprüft, ob der Verzeichnisname mit einer der vordefinierten [**SystemFolder**](systemfolder.md) -Eigenschaften beginnt.</span><span class="sxs-lookup"><span data-stu-id="6660c-127">Note that the matching algorithm for the generation of these type 51 custom actions only checks that the directory name begins with one of the predefined [**SystemFolder**](systemfolder.md) properties.</span></span> <span data-ttu-id="6660c-128">Er überprüft nicht, ob der Verzeichnisname genau der Verzeichnis Eigenschaft entspricht.</span><span class="sxs-lookup"><span data-stu-id="6660c-128">It does not verify that the directory name exactly equals the directory property.</span></span> <span data-ttu-id="6660c-129">Jedes Verzeichnis, das mit einem dieser Standardordner Namen beginnt, erhält eine benutzerdefinierte Aktion vom Typ 51, auch wenn der Rest des Namens keine GUID ist.</span><span class="sxs-lookup"><span data-stu-id="6660c-129">Any directory beginning with one of these standard folder names gets a type 51 custom action, even if the rest of the name is not a GUID.</span></span> <span data-ttu-id="6660c-130">Autoren müssen darauf achten, dass dies keine falsch positiven Übereinstimmungen und unbeabsichtigte Generierung von benutzerdefinierten Aktionen auf abgeleiteten primär Schlüsseln erzeugt, die mit einer der **SystemFolder** -Eigenschaften beginnen.</span><span class="sxs-lookup"><span data-stu-id="6660c-130">Authors need to take care that this does not generate false positive matches, and unintended custom action generation, on derivative primary keys that begin with one of the **SystemFolder** properties.</span></span>

<span data-ttu-id="6660c-131">Im folgenden finden Sie ein Beispiel für eine Verzeichnis Tabelle in einem Mergemodul und die erwarteten aufgelösten Verzeichnisse.</span><span class="sxs-lookup"><span data-stu-id="6660c-131">The following is an example of a Directory table in a merge module and the expected resolved directories.</span></span>



| <span data-ttu-id="6660c-132">Verzeichnis</span><span class="sxs-lookup"><span data-stu-id="6660c-132">Directory</span></span>                                              | <span data-ttu-id="6660c-133">Über \_ geordnetes Verzeichnis</span><span class="sxs-lookup"><span data-stu-id="6660c-133">Directory\_Parent</span></span>                                | <span data-ttu-id="6660c-134">DefaultDir</span><span class="sxs-lookup"><span data-stu-id="6660c-134">DefaultDir</span></span>  |
|--------------------------------------------------------|--------------------------------------------------|-------------|
| <span data-ttu-id="6660c-135">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="6660c-135">TARGETDIR</span></span>                                              |                                                  | <span data-ttu-id="6660c-136">SourceDir</span><span class="sxs-lookup"><span data-stu-id="6660c-136">SourceDir</span></span>   |
| <span data-ttu-id="6660c-137">Dir00. BC82E350 \_ C7FC \_ 11d1 \_ A848-006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-137">Dir00.BC82E350\_ C7FC\_11d1\_ A848-006097ABDE17</span></span>        | <span data-ttu-id="6660c-138">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="6660c-138">TARGETDIR</span></span>                                        | <span data-ttu-id="6660c-139">.: MMM \_ Prog</span><span class="sxs-lookup"><span data-stu-id="6660c-139">.:MMM\_Prog</span></span> |
| <span data-ttu-id="6660c-140">System Folder. BC82E350 \_ C7FC \_ 11d1 \_ A848-006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-140">SystemFolder.BC82E350\_ C7FC\_11d1\_ A848-006097ABDE17</span></span> | <span data-ttu-id="6660c-141">TARGETDIR</span><span class="sxs-lookup"><span data-stu-id="6660c-141">TARGETDIR</span></span>                                        | <span data-ttu-id="6660c-142">MMM \_ sys</span><span class="sxs-lookup"><span data-stu-id="6660c-142">MMM\_Sys</span></span>    |
| <span data-ttu-id="6660c-143">Dir02. BC82E350 \_ C7FC \_ 11d1 \_ A848-006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-143">Dir02.BC82E350\_ C7FC\_11d1\_ A848-006097ABDE17</span></span>        | <span data-ttu-id="6660c-144">Dir00. BC82E350 \_ C7FC \_ 11d1 \_ A848 \_ 006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-144">Dir00.BC82E350\_ C7FC\_11d1\_ A848\_006097ABDE17</span></span> | <span data-ttu-id="6660c-145">MFC \_ ocx</span><span class="sxs-lookup"><span data-stu-id="6660c-145">MFC\_OCX</span></span>    |



 

<span data-ttu-id="6660c-146">Ein Mergemodul mit der obigen Verzeichnis Tabelle erwartet die folgende Verzeichnisstruktur.</span><span class="sxs-lookup"><span data-stu-id="6660c-146">A merge module with the above Directory table is expected to result in the following directory structure.</span></span>



| <span data-ttu-id="6660c-147">Verzeichnis</span><span class="sxs-lookup"><span data-stu-id="6660c-147">Directory</span></span>                                              | <span data-ttu-id="6660c-148">Ziel</span><span class="sxs-lookup"><span data-stu-id="6660c-148">Target</span></span>                                     | <span data-ttu-id="6660c-149">`Source`</span><span class="sxs-lookup"><span data-stu-id="6660c-149">Source</span></span>                                               |
|--------------------------------------------------------|--------------------------------------------|------------------------------------------------------|
| <span data-ttu-id="6660c-150">Dir00. BC82E350 \_ C7FC \_ 11d1 \_ A848-006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-150">Dir00.BC82E350\_ C7FC\_11d1\_ A848-006097ABDE17</span></span>        | <span data-ttu-id="6660c-151">\[Installations Punkt des Mergemoduls\]</span><span class="sxs-lookup"><span data-stu-id="6660c-151">\[Merge Module's Install Point\]</span></span>\\         | <span data-ttu-id="6660c-152">\[Quellpunkt des Mergemoduls \] \\ mmm \_ Prog</span><span class="sxs-lookup"><span data-stu-id="6660c-152">\[Merge Module's Source Point\]\\MMM\_Prog</span></span>           |
| <span data-ttu-id="6660c-153">System Folder. BC82E350 \_ C7FC \_ 11d1 \_ A848-006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-153">SystemFolder.BC82E350\_ C7FC\_11d1\_ A848-006097ABDE17</span></span> | <span data-ttu-id="6660c-154">\[Systemordner\]</span><span class="sxs-lookup"><span data-stu-id="6660c-154">\[SystemFolder\]</span></span>\\                         | <span data-ttu-id="6660c-155">\[Quellpunkt des Mergemoduls \] \\ mmm \_ sys</span><span class="sxs-lookup"><span data-stu-id="6660c-155">\[Merge Module's Source Point\]\\MMM\_Sys</span></span>            |
| <span data-ttu-id="6660c-156">Dir02. BC82E350 \_ C7FC \_ 11d1 \_ A848-006097abde17</span><span class="sxs-lookup"><span data-stu-id="6660c-156">Dir02.BC82E350\_ C7FC\_11d1\_ A848-006097ABDE17</span></span>        | <span data-ttu-id="6660c-157">\[Installationspunkt des Mergemoduls \] \\ MFC \_ ocx</span><span class="sxs-lookup"><span data-stu-id="6660c-157">\[Merge Module's Install Point\]\\MFC\_OCX</span></span> | <span data-ttu-id="6660c-158">\[Quellpunkt des Merge-Moduls, \] \\ mmm- \_ \\ MFC \_ ocx</span><span class="sxs-lookup"><span data-stu-id="6660c-158">\[Merge Module's Source Point\]\\MMM\_Prog\\MFC\_OCX</span></span> |



 

 

 



