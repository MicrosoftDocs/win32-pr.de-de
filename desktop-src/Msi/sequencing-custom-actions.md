---
description: Benutzerdefinierte Aktionen werden in Sequenz Tabellen auf die gleiche Weise wie Standard Aktionen geplant.
ms.assetid: 1aea75b1-a498-405e-9208-91672455496b
title: Sequenzieren benutzerdefinierter Aktionen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ad7c24fb91247a36880cb808c9b8e10437312cf7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104218517"
---
# <a name="sequencing-custom-actions"></a><span data-ttu-id="e02cb-103">Sequenzieren benutzerdefinierter Aktionen</span><span class="sxs-lookup"><span data-stu-id="e02cb-103">Sequencing Custom Actions</span></span>

<span data-ttu-id="e02cb-104">Benutzerdefinierte Aktionen werden in Sequenz Tabellen auf die gleiche Weise wie Standard Aktionen geplant.</span><span class="sxs-lookup"><span data-stu-id="e02cb-104">Custom actions are scheduled in sequence tables in the same way as standard actions.</span></span>

<span data-ttu-id="e02cb-105">**So planen Sie eine benutzerdefinierte Aktion in einer Sequenz Tabelle**</span><span class="sxs-lookup"><span data-stu-id="e02cb-105">**To schedule a custom action in a sequence table**</span></span>

1.  <span data-ttu-id="e02cb-106">Geben Sie den Namen der benutzerdefinierten Aktion (bei der es sich um den Primärschlüssel der Tabelle [CustomAction](customaction-table.md)handelt) in die Spalte Aktion der [Sequenz](sequence-table-detailed-example.md) Tabelle ein.</span><span class="sxs-lookup"><span data-stu-id="e02cb-106">Enter the custom action name (which is the primary key of the [CustomAction](customaction-table.md)) table into the Action column of the [Sequence](sequence-table-detailed-example.md) table.</span></span>
2.  <span data-ttu-id="e02cb-107">Geben Sie die Sequenz der benutzerdefinierten Aktion in Relation zu den anderen Aktionen in der Tabelle in die Sequence-Spalte der [Sequenz](sequence-table-detailed-example.md) Tabelle ein.</span><span class="sxs-lookup"><span data-stu-id="e02cb-107">Enter the custom action's sequence relative to the other actions in the table into the Sequence column of the [Sequence](sequence-table-detailed-example.md) table.</span></span> <span data-ttu-id="e02cb-108">Weitere Informationen zu Sequenz Tabellen finden Sie unter [Verwenden einer Sequenz Tabelle](using-a-sequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="e02cb-108">For more information about sequence tables, see [Using a Sequence Table](using-a-sequence-table.md).</span></span>
3.  <span data-ttu-id="e02cb-109">Um die Aktion bedingt zu überspringen, geben Sie einen Bedingungs Ausdruck in die Spalte Bedingung der [Sequenz](sequence-table-detailed-example.md) Tabelle ein.</span><span class="sxs-lookup"><span data-stu-id="e02cb-109">To conditionally skip the action, enter a conditional expression into the Condition column of the [Sequence](sequence-table-detailed-example.md) table.</span></span> <span data-ttu-id="e02cb-110">Das Installationsprogramm überspringt diese Aktion, wenn der Ausdruck zu false ausgewertet wird.</span><span class="sxs-lookup"><span data-stu-id="e02cb-110">The installer skips this action if the expression evaluates to FALSE.</span></span>

<span data-ttu-id="e02cb-111">Wie bei Standard Aktionen werden benutzerdefinierte Aktionen, die in [InstallUISequence](installuisequence-table.md) oder [AdminUISequence](adminuisequence-table.md) geplant sind, nur ausgeführt, wenn die interne Benutzeroberfläche auf die vollständige Ebene festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="e02cb-111">As in the case of standard actions, custom actions that are scheduled in the [InstallUISequence](installuisequence-table.md) or [AdminUISequence](adminuisequence-table.md) run only if the internal user interface is set to the full level.</span></span> <span data-ttu-id="e02cb-112">Die Benutzeroberflächen Ebene wird mithilfe der [**MsiSetInternalUI**](/windows/desktop/api/Msi/nf-msi-msisetinternalui) -Funktion festgelegt.</span><span class="sxs-lookup"><span data-stu-id="e02cb-112">The UI level is set by using the [**MsiSetInternalUI**](/windows/desktop/api/Msi/nf-msi-msisetinternalui) function.</span></span>

<span data-ttu-id="e02cb-113">In den Tabellen [InstallExecuteSequence](installexecutesequence-table.md), [AdminExecuteSequence](adminexecutesequence-table.md)oder [AdvtExecuteSequence](advtexecutesequence-table.md) geplante Standard-und benutzerdefinierte Aktionen nehmen keine Systemänderungen vor.</span><span class="sxs-lookup"><span data-stu-id="e02cb-113">Standard and custom actions scheduled in the [InstallExecuteSequence](installexecutesequence-table.md), [AdminExecuteSequence](adminexecutesequence-table.md), or [AdvtExecuteSequence](advtexecutesequence-table.md) tables do not make system changes.</span></span> <span data-ttu-id="e02cb-114">Stattdessen fügt das Installationsprogramm Ausführungsdaten Sätze in einem Skript für die nachfolgende Ausführung während des Installations Dienstanbieter ein.</span><span class="sxs-lookup"><span data-stu-id="e02cb-114">Instead the installer queues up execution records in a script for subsequent execution during the install service.</span></span> <span data-ttu-id="e02cb-115">Wenn kein Installations Dienst vorhanden ist, werden die in diesen Tabellen geplanten Aktionen im gleichen Kontext wie die UI-Sequenz ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="e02cb-115">If there is no install service, then the actions scheduled in these tables are run in the same context as the UI sequence.</span></span>

<span data-ttu-id="e02cb-116">Wenn der Installationsprogramm Server nicht registriert ist, werden die benutzerdefinierten Aktionen auf der Clientseite ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="e02cb-116">If the installer server is not registered, the custom actions are executed on the client side.</span></span> <span data-ttu-id="e02cb-117">Wenn der Server registriert ist und den vollständigen Benutzeroberflächen Modus verwendet, werden die benutzerdefinierten Aktionen auf der Serverseite ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="e02cb-117">If the server is registered and using the full UI mode, then the custom actions are run on the server side.</span></span>

<span data-ttu-id="e02cb-118">Wenn Sie die vollständige Benutzeroberfläche mit dem Server verwenden, werden die anfänglichen Aktionen vor der [InstallValidate](installvalidate-action.md) -Aktion auf dem Client ausgeführt, um eine vollständige Interaktion zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="e02cb-118">If using full UI with the server, the initial actions prior to the [InstallValidate](installvalidate-action.md) action are run on the client to allow full interaction.</span></span> <span data-ttu-id="e02cb-119">Die Ausführung wird dann auf den Server umgestellt, der diese Aktionen wiederholt und die Skript Ausführungs Aktionen ausführt.</span><span class="sxs-lookup"><span data-stu-id="e02cb-119">Execution is then switched to the server which repeats those actions and runs the script execution actions.</span></span> <span data-ttu-id="e02cb-120">Danach folgt eine Rückgabe an den Client für die abschließenden Aktionen.</span><span class="sxs-lookup"><span data-stu-id="e02cb-120">This is followed by a return to the client for the final actions.</span></span>

<span data-ttu-id="e02cb-121">Beachten Sie Folgendes: Wenn ein Produkt durch Festlegen seines Top-Features auf Missing entfernt wird, ist die [**Remove**](remove.md) -Eigenschaft möglicherweise bis nach der [InstallValidate](installvalidate-action.md) -Aktion nicht gleich.</span><span class="sxs-lookup"><span data-stu-id="e02cb-121">Note that if a product is removed by setting its top feature to absent, the [**REMOVE**](remove.md) property may not equal ALL until after the [InstallValidate](installvalidate-action.md) action.</span></span> <span data-ttu-id="e02cb-122">Dies bedeutet, dass alle benutzerdefinierten Aktionen, die von Remove = All abhängen, nach der InstallValidate-Aktion sequenziert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="e02cb-122">This means that any custom action that depends on REMOVE=ALL must be sequenced after the InstallValidate action.</span></span> <span data-ttu-id="e02cb-123">Eine benutzerdefinierte Aktion kann "entfernen" überprüfen, um zu bestimmen, ob ein Produkt vollständig deinstalliert wurde.</span><span class="sxs-lookup"><span data-stu-id="e02cb-123">A custom action may check REMOVE to determine whether a product has been set to be completely uninstalled.</span></span>

<span data-ttu-id="e02cb-124">Benutzerdefinierte Aktionen, die auf eine installierte Datei als Quelle verweisen, wie z. b. der benutzerdefinierte Aktionstyp 17 (dll), der benutzerdefinierte Aktionstyp 18 (exe), der benutzerdefinierte Aktionstyp 21 (JScript) und der benutzerdefinierte Aktionstyp 22 (VBScript) müssen die folgenden Sequenz Einschränkungen einhalten.</span><span class="sxs-lookup"><span data-stu-id="e02cb-124">Custom actions that reference an installed file as their source, such as Custom Action Type 17 (DLL), Custom Action Type 18 (EXE), Custom Action Type 21 (JScript), and Custom Action Type 22 (VBScript), must adhere to the following sequencing restrictions.</span></span>

-   <span data-ttu-id="e02cb-125">Die benutzerdefinierte Aktion muss nach der Aktion " [costfinalize](costfinalize-action.md) " sequenziert werden, damit der Pfad zu der Datei, auf die verwiesen wird, aufgelöst werden kann.</span><span class="sxs-lookup"><span data-stu-id="e02cb-125">The custom action must be sequenced after the [CostFinalize](costfinalize-action.md) action so that the path to the referenced file can be resolved.</span></span>
-   <span data-ttu-id="e02cb-126">Wenn die Quelldatei nicht bereits auf dem Computer installiert ist, müssen nach den [InstallFiles](installfiles-action.md)verzögerte (in-Script) benutzerdefinierte Aktionen sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="e02cb-126">If the source file is not already installed on the computer, deferred (in-script) custom actions must be sequenced after the [InstallFiles](installfiles-action.md).</span></span>
-   <span data-ttu-id="e02cb-127">Wenn die Quelldatei nicht bereits auf dem Computer installiert ist, müssen nicht verzögerte benutzerdefinierte Aktionen nach der [InstallInitialize](installinitialize-action.md) -Aktion sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="e02cb-127">If the source file is not already installed on the computer, nondeferred custom actions must be sequenced after the [InstallInitialize](installinitialize-action.md) action.</span></span>

<span data-ttu-id="e02cb-128">Die folgenden Sequenz Einschränkungen gelten für benutzerdefinierte Aktionen, durch die ein Windows Installer Paket geändert oder aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="e02cb-128">The following sequencing restrictions apply to custom actions that change or update a Windows Installer package.</span></span>

-   <span data-ttu-id="e02cb-129">Wenn das Paket durch die benutzerdefinierte Aktion geändert wird, z. b. durch das Hinzufügen von Zeilen zu einer Tabelle, muss die Aktion vor der [InstallInitialize](installinitialize-action.md) -Aktion sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="e02cb-129">If the custom action changes the package, such as by adding rows to a table, the action must be sequenced before the [InstallInitialize](installinitialize-action.md) action.</span></span>
-   <span data-ttu-id="e02cb-130">Wenn die benutzerdefinierte Aktion Änderungen vornimmt, die sich auf die Kosten auswirken, sollte Sie vor der [costinitialize](costfinalize-action.md) -Aktion sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="e02cb-130">If the custom action makes changes that would affect costing, then it should be sequenced before the [CostInitialize](costfinalize-action.md) action.</span></span>
-   <span data-ttu-id="e02cb-131">Wenn die benutzerdefinierte Aktion den Installationsstatus von Features oder Komponenten ändert, muss Sie vor der [InstallValidate](installvalidate-action.md) -Aktion sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="e02cb-131">If the custom action changes the installation state of features or components, it must be sequenced before the [InstallValidate](installvalidate-action.md) action.</span></span>

 

 



