---
description: Wenn Sie öffentliche Symbole für die Ziel-und upgradeabbild-Binärdateien verwenden, können binäre patchgrößen um ungefähr eine Hälfte reduziert werden.
ms.assetid: 83351a1b-ba70-4f0b-bacf-71ad7993a5aa
title: Verwenden von Symbolen zum Verringern der Binär Patchgröße
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d5ccf33dbf3ffefbee909d99bd0204ea2f49aba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106357375"
---
# <a name="using-symbols-to-reduce-binary-patch-size"></a><span data-ttu-id="ece9c-103">Verwenden von Symbolen zum Verringern der Binär Patchgröße</span><span class="sxs-lookup"><span data-stu-id="ece9c-103">Using Symbols to Reduce Binary Patch Size</span></span>

<span data-ttu-id="ece9c-104">Wenn Sie öffentliche Symbole für die Ziel-und upgradeabbild-Binärdateien verwenden, können binäre patchgrößen um ungefähr eine Hälfte reduziert werden.</span><span class="sxs-lookup"><span data-stu-id="ece9c-104">Using public symbols for your target and upgrade image binaries can reduce binary patch sizes by approximately one half.</span></span> <span data-ttu-id="ece9c-105">Die tatsächliche Reduzierung hängt von den verwendeten Symbolen ab.</span><span class="sxs-lookup"><span data-stu-id="ece9c-105">The actual reduction depends upon the symbols used.</span></span> <span data-ttu-id="ece9c-106">Beachten Sie, dass das Verwenden von Symbolen zu langsameren patcherstellungs Zeiten führen kann, da die Verarbeitung der Symbol Dateien länger dauert.</span><span class="sxs-lookup"><span data-stu-id="ece9c-106">Note that using symbols can result in slower patch creation times because it takes longer to process the symbol files.</span></span>

<span data-ttu-id="ece9c-107">Um die Größe eines binären Patches mithilfe von Symbolen zu verringern, müssen Sie Symbole sowohl für die Ziel-als auch für die upgradeabbild-Binärdateien angeben.</span><span class="sxs-lookup"><span data-stu-id="ece9c-107">To reduce the size of a binary patch using symbols, you must provide symbols for both the target and upgrade image binaries.</span></span> <span data-ttu-id="ece9c-108">Geben Sie die Symbole in der SymbolPath-Spalte der [TargetImages](targetimages-table-patchwiz-dll-.md) -Tabelle und in der SymbolPath-Spalte der [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) -Tabelle an.</span><span class="sxs-lookup"><span data-stu-id="ece9c-108">Specify the symbols in the SymbolPaths column of the [TargetImages](targetimages-table-patchwiz-dll-.md) table and the SymbolPaths column of the [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) table.</span></span> <span data-ttu-id="ece9c-109">Sie müssen Visual C++ verwenden, um Symbole im Dateiformat der Programmdatenbank (PDB) zu generieren.</span><span class="sxs-lookup"><span data-stu-id="ece9c-109">You must use Visual C++ to generate symbols in the program database (PDB) file format.</span></span> <span data-ttu-id="ece9c-110">Neuere Versionen von Visual C++ enthalten alle erforderlichen Informationen in der PDB-Datei.</span><span class="sxs-lookup"><span data-stu-id="ece9c-110">Newer versions of Visual C++ provide all of the necessary information in the PDB file.</span></span> <span data-ttu-id="ece9c-111">Ältere Versionen von Visual C++ generieren auch das Debug-Dateiformat (dbg).</span><span class="sxs-lookup"><span data-stu-id="ece9c-111">Older versions of Visual C++ also generate the debug (DBG) file format.</span></span> <span data-ttu-id="ece9c-112">In diesem Fall sollte der symbolspaths-Wert den Speicherort der PDB-und dbg-Dateien angeben.</span><span class="sxs-lookup"><span data-stu-id="ece9c-112">In this case, the SymbolsPaths value should specify the location of both the PDB and DBG files.</span></span>

<span data-ttu-id="ece9c-113">Beispielsweise kann das targetimage für einen Patch das Installationspaket sein, das in Windows 2000 enthalten ist, und das die 1.1.1029.0-Version von MSI.DLL installiert.</span><span class="sxs-lookup"><span data-stu-id="ece9c-113">For example, the TargetImage for a patch might be the installation package that shipped with Windows 2000 and that installs the 1.1.1029.0 version of MSI.DLL.</span></span> <span data-ttu-id="ece9c-114">Upgradedimage könnte das aktualisierte Installationspaket sein, das in Windows 2000 mit Service Pack 1 (SP1) enthalten ist und die 1.11.1314.0-Version von MSI.DLL installiert.</span><span class="sxs-lookup"><span data-stu-id="ece9c-114">The UpgradedImage might be the updated installation package that shipped with Windows 2000 with Service Pack 1 (SP1) and that installs the 1.11.1314.0 version of MSI.DLL.</span></span> <span data-ttu-id="ece9c-115">Es müssen zwei patcherstellungs-Eigenschaften (PCP) erstellt werden, von denen eine mit der SymbolPath-Spalte der [TargetImages](targetimages-table-patchwiz-dll-.md) -Tabelle und der [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) -Tabelle NULL (leer) und die andere mit der SymbolPath-Spalte der TargetImages-Tabelle und der UpgradedImages-Tabelle mit dem Speicherort der Symbole für die Binärdateien aufgefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="ece9c-115">Two Patch Creation Properties (PCP) files would then have to be created, one with the SymbolPaths column of both the [TargetImages](targetimages-table-patchwiz-dll-.md) and [UpgradedImages](upgradedimages-table-patchwiz-dll-.md) tables left NULL (blank) and the other with the SymbolPaths column of both the TargetImages and UpgradedImages tables populated with the location of the symbols for the binaries.</span></span> <span data-ttu-id="ece9c-116">In diesem Fall kann die Größe des Patches, die ohne Verwendung von Symbolen generiert wurde, ungefähr dreimal so groß wie die Größe des Patches sein, die mithilfe von Symbolen generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="ece9c-116">In this case, the size of the patch generated without using symbols can be approximately three times the size of the patch generated using symbols.</span></span>

<span data-ttu-id="ece9c-117">Mit dem Mpatch.exe-Hilfsprogramm können Sie die Generierung von binären Patches für eine einzelne Datei testen und überprüfen, ob die Symbole gültig sind.</span><span class="sxs-lookup"><span data-stu-id="ece9c-117">The Mpatch.exe utility can be used to test the generation of binary patches for a single file and to check whether or not the symbols are valid.</span></span> <span data-ttu-id="ece9c-118">Das Mpatch.exe-Hilfsprogramm ist in den [Windows SDK Komponenten für Windows Installer Entwickler](platform-sdk-components-for-windows-installer-developers.md)enthalten.</span><span class="sxs-lookup"><span data-stu-id="ece9c-118">The Mpatch.exe utility is included in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md).</span></span> <span data-ttu-id="ece9c-119">Die Ausgabe Mpatch.exe gibt an, ob die Symbole nicht stimmen.</span><span class="sxs-lookup"><span data-stu-id="ece9c-119">The output of Mpatch.exe will indicate if the symbols do not match.</span></span>

<span data-ttu-id="ece9c-120">Geben Sie z. b. die folgende Befehlszeile ein, um zu überprüfen, ob die Symbole gültig sind.</span><span class="sxs-lookup"><span data-stu-id="ece9c-120">For example, enter the following command line to check whether or not the symbols are valid.</span></span>

<span data-ttu-id="ece9c-121">**mpatch.exe-newsymsympath: d: \\ Update-oldsympath: d: \\ target d: \\ Target \\example.dll d: \\ Update \\example.dll example. Pat**</span><span class="sxs-lookup"><span data-stu-id="ece9c-121">**mpatch.exe -NEWSYMPATH:d:\\update -OLDSYMPATH:d:\\target d:\\target\\example.dll d:\\update\\example.dll example.pat**</span></span>

<span data-ttu-id="ece9c-122">Wenn sich die Symbole nicht am richtigen Speicherort befinden, kann die Ausgabe von Mpatch.exe folgende Warnung enthalten.</span><span class="sxs-lookup"><span data-stu-id="ece9c-122">If the symbols are not in the correct location, the output of Mpatch.exe may include the following warning.</span></span>

``` syntax
WARNING: no debug symbols for d:\update\example.dll
```

 

 



