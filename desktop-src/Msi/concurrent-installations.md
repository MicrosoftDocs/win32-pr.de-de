---
description: Parallele Installationen, auch geschmierte Installationen genannt, sind eine veraltete Funktion der Windows Installer.
ms.assetid: 579ae4ee-47a0-440e-81ca-ea8bf60c5349
title: Parallele Installationen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d89f2ef4af062c8151935fefab471603f79d7633
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103866368"
---
# <a name="concurrent-installations"></a><span data-ttu-id="ba488-103">Parallele Installationen</span><span class="sxs-lookup"><span data-stu-id="ba488-103">Concurrent Installations</span></span>

<span data-ttu-id="ba488-104">Parallele Installationen, auch geschmierte Installationen genannt, sind eine veraltete Funktion der Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="ba488-104">Concurrent Installations, also called Nested Installations, is a deprecated feature of the Windows Installer.</span></span> <span data-ttu-id="ba488-105">Anwendungen, die mit gleichzeitigen Installationen installiert werden, können letztendlich fehlschlagen, da Sie für Kunden schwierig zu bedienen sind.</span><span class="sxs-lookup"><span data-stu-id="ba488-105">Applications installed with concurrent installations can eventually fail because they are difficult for customers to service correctly.</span></span> <span data-ttu-id="ba488-106">Verwenden Sie keine gleichzeitigen Installationen, um Produkte zu installieren, die für die Öffentlichkeit freigegeben werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ba488-106">Do not use concurrent installations to install products that are intended to be released to the public.</span></span> <span data-ttu-id="ba488-107">Gleichzeitige Installationen können bei der Installation von Anwendungen, die nicht für die öffentliche Freigabe vorgesehen sind, eine eingeschränkte Anwendbarkeit in kontrollierten Unternehmensumgebungen haben.</span><span class="sxs-lookup"><span data-stu-id="ba488-107">Concurrent installations can have limited applicability in controlled corporate environments when used to install applications that are not intended for public release.</span></span> <span data-ttu-id="ba488-108">Die Dokumentation zur parallelen Installation wird für Paket Ersteller bereitgestellt, die parallele Installationen mit Anwendungen verwenden möchten, die nicht für die öffentliche Verteilung vorgesehen sind.</span><span class="sxs-lookup"><span data-stu-id="ba488-108">The concurrent installations documentation is provided for package authors that wish to use concurrent installations with applications that are not for public distribution.</span></span>

<span data-ttu-id="ba488-109">Bei einer Aktion zur gleichzeitigen Installation wird während einer aktuell ausgeführten Installation ein weiteres Windows Installer Paket installiert.</span><span class="sxs-lookup"><span data-stu-id="ba488-109">A concurrent installation action installs another Windows Installer package during a currently running installation.</span></span> <span data-ttu-id="ba488-110">Eine parallele Installation wird einem Paket hinzugefügt, indem eine parallele Installations Aktion in der [Tabelle "CustomAction](customaction-table.md) " und die benutzerdefinierte Aktion in den Sequenz Tabellen geplant wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-110">A concurrent installation is added to a package by authoring a concurrent installation action into the [CustomAction table](customaction-table.md) and scheduling this custom action into the sequence tables.</span></span> <span data-ttu-id="ba488-111">Das Zielfeld der CustomAction-Tabelle enthält eine Zeichenfolge der öffentlichen Eigenschafts Einstellungen, die von der gleichzeitigen Installation verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-111">The Target field of the CustomAction table contains a string of public property settings used by the concurrent installation.</span></span> <span data-ttu-id="ba488-112">Das Feld "Source" der Tabelle "CustomAction" identifiziert das gleichzeitige Paket.</span><span class="sxs-lookup"><span data-stu-id="ba488-112">The Source field of the CustomAction table identifies the concurrent package.</span></span> <span data-ttu-id="ba488-113">Bei einer Aktion zur gleichzeitigen Installation kann eine Anwendung, die vom Installationspaket der aktuellen Anwendung installiert wurde, nur erneut installiert oder entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-113">A concurrent installation action can only reinstall or remove an application that has been installed by the current application's installation package.</span></span>

<span data-ttu-id="ba488-114">Der Typ der gleichzeitigen Installation wird im type-Feld der CustomAction-Tabelle angegeben.</span><span class="sxs-lookup"><span data-stu-id="ba488-114">The type of concurrent installation action is specified in the Type field of the CustomAction table.</span></span> <span data-ttu-id="ba488-115">Abhängig vom benutzerdefinierten Aktionstyp kann sich das Paket für die parallele Anwendung in einem unter Speicher des Haupt Pakets befinden, als Datei an einem Speicherort, der durch eine Eigenschaft angegeben wird, oder als angekündigte Anwendung auf dem Computer des Benutzers.</span><span class="sxs-lookup"><span data-stu-id="ba488-115">Depending upon the custom action type, the package for the concurrent application can reside in a substorage of the main package, as a file at a location specified by a property, or as an advertised application on the user's machine.</span></span> <span data-ttu-id="ba488-116">Die folgenden Typen von benutzerdefinierten Aktionen führen eine parallele Installation durch.</span><span class="sxs-lookup"><span data-stu-id="ba488-116">The following types of custom actions perform a concurrent installation.</span></span>



| <span data-ttu-id="ba488-117">Benutzerdefinierter Aktionstyp</span><span class="sxs-lookup"><span data-stu-id="ba488-117">Custom action type</span></span>                                 | <span data-ttu-id="ba488-118">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="ba488-118">Description</span></span>                                                                     |
|----------------------------------------------------|---------------------------------------------------------------------------------|
| [<span data-ttu-id="ba488-119">Benutzerdefinierter Aktionstyp 7</span><span class="sxs-lookup"><span data-stu-id="ba488-119">Custom Action Type 7</span></span>](custom-action-type-7.md)   | <span data-ttu-id="ba488-120">Parallele Installation eines Produkts im Installationspaket.</span><span class="sxs-lookup"><span data-stu-id="ba488-120">Concurrent installation of a product residing in the installation package.</span></span>      |
| [<span data-ttu-id="ba488-121">Benutzerdefinierter Aktionstyp 23</span><span class="sxs-lookup"><span data-stu-id="ba488-121">Custom Action Type 23</span></span>](custom-action-type-23.md) | <span data-ttu-id="ba488-122">Gleichzeitige Installation eines Installer-Pakets innerhalb der aktuellen Quell Struktur.</span><span class="sxs-lookup"><span data-stu-id="ba488-122">Concurrent installation of an installer package within the current source tree.</span></span> |
| [<span data-ttu-id="ba488-123">Benutzerdefinierter Aktionstyp 39</span><span class="sxs-lookup"><span data-stu-id="ba488-123">Custom Action Type 39</span></span>](custom-action-type-39.md) | <span data-ttu-id="ba488-124">Gleichzeitige Installation eines angekündigten Installer-Pakets.</span><span class="sxs-lookup"><span data-stu-id="ba488-124">Concurrent installation of an advertised installer package.</span></span>                     |



 

<span data-ttu-id="ba488-125">Bei einer gleichzeitigen Installation werden die gleichen Einstellungen für die Benutzeroberfläche und die Protokollierung wie bei der Haupt Installation durch</span><span class="sxs-lookup"><span data-stu-id="ba488-125">A concurrent installation shares the same user interface and logging settings as the main installation.</span></span>

<span data-ttu-id="ba488-126">Gleichzeitige Installations Aktionen sollten zwischen der Aktion [installinitialisieren](installinitialize-action.md) und der Aktion [InstallFinalize](installfinalize-action.md) der Aktions Sequenz der Haupt Installation durchgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-126">Concurrent installation actions should be placed between the [InstallInitialize action](installinitialize-action.md) and [InstallFinalize action](installfinalize-action.md) of the main installation's action sequence.</span></span> <span data-ttu-id="ba488-127">Bei einem Rollback der Haupt Installation führt das Installationsprogramm ein Rollback der gleichzeitigen Installation aus.</span><span class="sxs-lookup"><span data-stu-id="ba488-127">Upon rollback of the main installation, the installer will then rollback the concurrent installation as well.</span></span> <span data-ttu-id="ba488-128">Die Verwendung der [verzögerten Ausführung](deferred-execution-custom-actions.md) mit gleichzeitigen Installations Aktionen ist nicht erforderlich, da das Installationsprogramm Rollback-Informationen aus den parallelen und Haupt Installationen kombiniert.</span><span class="sxs-lookup"><span data-stu-id="ba488-128">The use of [deferred execution](deferred-execution-custom-actions.md) with concurrent installation actions is unnecessary because the installer combines rollback information from the concurrent and main installations.</span></span> <span data-ttu-id="ba488-129">Alle Änderungen werden bei einer Rollback-Installation rückgängig gemacht.</span><span class="sxs-lookup"><span data-stu-id="ba488-129">All changes are reversed upon a rollback installation.</span></span>

<span data-ttu-id="ba488-130">Die Rückgabewerte für gleichzeitige Installations Aktionen sind identisch mit denen für andere benutzerdefinierte Aktionen.</span><span class="sxs-lookup"><span data-stu-id="ba488-130">The return values for concurrent installation actions are the same as for other custom actions.</span></span> <span data-ttu-id="ba488-131">Siehe [Rückgabewerte für benutzerdefinierte Aktionen](custom-action-return-values.md).</span><span class="sxs-lookup"><span data-stu-id="ba488-131">See [Custom Action Return Values](custom-action-return-values.md).</span></span>

<span data-ttu-id="ba488-132">Standard mäßige oder benutzerdefinierte Aktionen, die einen automatischen Neustart des Systems angeben oder den Neustart des Benutzers anfordern, können auch einen Neustart oder eine Anforderung von innerhalb einer gleichzeitigen Installation ausführen.</span><span class="sxs-lookup"><span data-stu-id="ba488-132">Standard or custom actions that specify an automatic restart of the system, or request the user to restart, can also perform restart or request from within a concurrent installation.</span></span>

<span data-ttu-id="ba488-133">Sobald der Installer eine parallele Installation startet, sperrt er alle anderen Installationen, bis die parallele Installation fertiggestellt ist und die Haupt Installation fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-133">Once the installer begins a concurrent installation, it locks out all other installations until the concurrent installation is complete and before continuing the main installation.</span></span> <span data-ttu-id="ba488-134">Das Installationsprogramm kann nur parallele Installationen als synchrone benutzerdefinierte Aktionen ausführen.</span><span class="sxs-lookup"><span data-stu-id="ba488-134">The installer can only execute concurrent installations as synchronous custom actions.</span></span> <span data-ttu-id="ba488-135">Siehe [synchrone und asynchrone benutzerdefinierte Aktionen](synchronous-and-asynchronous-custom-actions.md).</span><span class="sxs-lookup"><span data-stu-id="ba488-135">See [Synchronous and Asynchronous Custom Actions](synchronous-and-asynchronous-custom-actions.md).</span></span> <span data-ttu-id="ba488-136">Die in [benutzerdefinierte Aktion Rückgabe Verarbeitungsoptionen](custom-action-return-processing-options.md) beschriebenen Optionsflags müssen auf None (+ 0) oder **msidbcustomaction typecontinue** (+ 64) festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-136">The option flags described in [Custom Action Return Processing Options](custom-action-return-processing-options.md) must be set to none (+0) or **msidbCustomActionTypeContinue** (+64).</span></span>

<span data-ttu-id="ba488-137">Eine parallele Installations Aktion kann eine Anwendung installieren, die lokal ausgeführt, von der Quelle ausgeführt, neu installiert oder auf dieselbe Weise wie bei Verwendung von [**msiinstallproduct**](/windows/desktop/api/Msi/nf-msi-msiinstallproducta) für eine reguläre Installation entfernt werden soll.</span><span class="sxs-lookup"><span data-stu-id="ba488-137">A concurrent installation action can install an application to be run locally, to run from source, to be reinstalled, or to be removed in the same manner as when using [**MsiInstallProduct**](/windows/desktop/api/Msi/nf-msi-msiinstallproducta) for a regular installation.</span></span> <span data-ttu-id="ba488-138">Um den Installationstyp anzugeben, übergeben Sie die [**ADDLOCAL**](addlocal.md)-, [**addsource**](addsource.md)-, [**neuinstall**](reinstall.md)-oder [**Remove**](remove.md) -Eigenschaft an die parallel Installation-Aktion.</span><span class="sxs-lookup"><span data-stu-id="ba488-138">To specify the type of installation, pass either the [**ADDLOCAL**](addlocal.md), [**ADDSOURCE**](addsource.md), [**REINSTALL**](reinstall.md), or [**REMOVE**](remove.md) property to the concurrent installation action.</span></span>

<span data-ttu-id="ba488-139">Gleichzeitige Installations Aktionen können paarweise, eine Aktion, die für die Installation von verwendet wird, und die andere Aktion zum Entfernen der gleichzeitigen Installation erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-139">Concurrent installation actions can be authored in pairs, one action used for installing and the other action used for removing the concurrent installation.</span></span> <span data-ttu-id="ba488-140">Der [benutzerdefinierte Aktionstyp 7](custom-action-type-7.md) oder der [benutzerdefinierte Aktionstyp 23](custom-action-type-23.md) wird normalerweise zur Installation von verwendet.</span><span class="sxs-lookup"><span data-stu-id="ba488-140">A [Custom Action Type 7](custom-action-type-7.md) or [Custom Action Type 23](custom-action-type-23.md) is typically used to install.</span></span> <span data-ttu-id="ba488-141">Der [benutzerdefinierte Aktionstyp 39](custom-action-type-39.md) wird normalerweise verwendet, um die gleichzeitige Installation zu entfernen, wenn das übergeordnete Produkt deinstalliert wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-141">A [Custom Action Type 39](custom-action-type-39.md) is typically used to remove the concurrent installation when the parent product is uninstalled.</span></span> <span data-ttu-id="ba488-142">Der Datensatz für die benutzerdefinierte Aktion "entfernen" in der [Tabelle "CustomAction](customaction-table.md) " kann die Produktcode-GUID im Feld "Source" und "Remove = All" im Feld "target" aufweisen.</span><span class="sxs-lookup"><span data-stu-id="ba488-142">The record for the removal custom action in the [CustomAction table](customaction-table.md) can have the product code GUID in the Source field and "REMOVE=ALL" in the Target field.</span></span> <span data-ttu-id="ba488-143">Die zwei benutzerdefinierten Aktionen müssen in der Aktions Sequenz Tabelle mit sich gegenseitig ausschließenden Bedingungen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-143">The two custom actions need to be authored in the action sequence table with mutually exclusive conditions.</span></span> <span data-ttu-id="ba488-144">Beispielsweise kann die benutzerdefinierte Aktion, mit der das Produkt installiert wird, "nicht installiert" im Feld "Bedingung" aufweisen, und die benutzerdefinierte Aktion entfernt die parallele Installation kann "Remove =" All "im Feld" Bedingung "aufweisen.</span><span class="sxs-lookup"><span data-stu-id="ba488-144">For example, the custom action that installs the product can have "NOT Installed" in its Condition field and the custom action removes the concurrent installation can have REMOVE="ALL" in its Condition field.</span></span>

<span data-ttu-id="ba488-145">Es gibt keine Methode zum Abfragen eines Pakets, um die Kosten zu beheben.</span><span class="sxs-lookup"><span data-stu-id="ba488-145">There is no method for querying a package for its cost.</span></span> <span data-ttu-id="ba488-146">Dies erschwert die Kosten für gleichzeitige Installationen.</span><span class="sxs-lookup"><span data-stu-id="ba488-146">This makes the costing of a concurrent installations difficult.</span></span> <span data-ttu-id="ba488-147">Der [Tabelle ReserveCost](reservecost-table.md) müssen Zeilen hinzugefügt werden, um die Ordner und die schlechtesten Kosten der Komponente anzugeben, die mit der gleichzeitigen Installation verknüpft ist.</span><span class="sxs-lookup"><span data-stu-id="ba488-147">Rows must be added to the [ReserveCost table](reservecost-table.md) to indicate the folders and worst-case costs of the component associated with the concurrent install.</span></span>

<span data-ttu-id="ba488-148">Die einzige [benutzerdefinierte Aktion zur Rückgabe von Verarbeitungsoptionen](custom-action-return-processing-options.md) , die für gleichzeitige Installations Aktionen verfügbar sind, sind None (+ 0) oder **msidbcustomaction typecontinue** (+ 64).</span><span class="sxs-lookup"><span data-stu-id="ba488-148">The only [Custom Action Return Processing Options](custom-action-return-processing-options.md) available with concurrent installation actions are none (+0) or **msidbCustomActionTypeContinue** (+64).</span></span>

<span data-ttu-id="ba488-149">Beachten Sie, dass eine übergeordnete Installation das eigene Paket nicht als parallele Installations Aktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="ba488-149">Note that a parent installation cannot call its own package as a concurrent installation action.</span></span>

<span data-ttu-id="ba488-150">Beachten Sie Folgendes: Wenn bei einer Installation pro Computer versucht wird, eine parallele Installation pro Benutzer auszuführen, registriert das Installationsprogramm die übergeordnete Installation standardmäßig als Benutzer pro Benutzer.</span><span class="sxs-lookup"><span data-stu-id="ba488-150">Note that if a per-machine installation attempts to run a per-user concurrent installation, the installer registers the parent installation as per-user by default.</span></span> <span data-ttu-id="ba488-151">Dies kann bewirken, dass das Installationsprogramm die Anwendung fälschlicherweise entfernt, da das Installationsprogramm versucht, die Anwendung pro Computer zu deinstallieren, wenn Sie tatsächlich als Benutzer pro Benutzer registriert ist.</span><span class="sxs-lookup"><span data-stu-id="ba488-151">This can cause the installer to incorrectly remove the application because the installer attempts to uninstall the application per-machine when it is actually registered as per-user.</span></span> <span data-ttu-id="ba488-152">Um den Zustand einer parallelen Installation zu erzwingen, um den Status der übergeordneten Installation zu überprüfen, geben Sie ALLUSERS = " \[ ALLUSERS \] " in die Ziel Spalte der [CustomAction-Tabelle](customaction-table.md)ein.</span><span class="sxs-lookup"><span data-stu-id="ba488-152">To force the state of a concurrent installation to track the state of its parent installation, enter ALLUSERS="\[ALLUSERS\]" in the Target column of the [CustomAction table](customaction-table.md).</span></span> <span data-ttu-id="ba488-153">In diesem Fall ist die parallele Installation pro Computer, wenn das übergeordnete Objekt pro Computer ist, und die gleichzeitige Installation erfolgt pro Benutzer, wenn das übergeordnete Element pro Benutzer ist.</span><span class="sxs-lookup"><span data-stu-id="ba488-153">In this case, the concurrent installation is per-machine if the parent is per-machine, and the concurrent installation is per-user if the parent is per-user.</span></span>

<span data-ttu-id="ba488-154">Beim Erstellen gleichzeitiger Installationen sollten Entwickler die folgenden Warnungen beachten:</span><span class="sxs-lookup"><span data-stu-id="ba488-154">Developers should note the following warnings when authoring concurrent installations.</span></span>

-   <span data-ttu-id="ba488-155">Parallele Installationen können keine Komponenten gemeinsam verwenden.</span><span class="sxs-lookup"><span data-stu-id="ba488-155">Concurrent installations cannot share components.</span></span>
-   <span data-ttu-id="ba488-156">Eine administrative Installation kann nicht gleichzeitig eine parallele Installation enthalten.</span><span class="sxs-lookup"><span data-stu-id="ba488-156">An administrative installation cannot also contain a concurrent installation.</span></span>
-   <span data-ttu-id="ba488-157">Das Patchen und Aktualisieren funktioniert möglicherweise nicht mit gleichzeitigen Installationen.</span><span class="sxs-lookup"><span data-stu-id="ba488-157">Patching and upgrading may not work with concurrent installations.</span></span>
-   <span data-ttu-id="ba488-158">Das Installationsprogramm kann eine gleichzeitige Installation nicht ordnungsgemäß Kosten.</span><span class="sxs-lookup"><span data-stu-id="ba488-158">The installer may not properly cost a concurrent installation.</span></span>
-   <span data-ttu-id="ba488-159">Integrierte progressbars können nicht mit gleichzeitigen Installationen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-159">Integrated ProgressBars cannot be used with concurrent installations.</span></span>
-   <span data-ttu-id="ba488-160">Ressourcen, die angekündigt werden sollen, können von der gleichzeitigen Installation nicht installiert werden.</span><span class="sxs-lookup"><span data-stu-id="ba488-160">Resources that are to be advertised cannot be installed by the concurrent installation.</span></span>
-   <span data-ttu-id="ba488-161">Ein Paket, das eine parallele Installation einer Anwendung ausführt, sollte auch die gleichzeitige Anwendung deinstallieren, wenn das übergeordnete Produkt deinstalliert wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-161">A package that performs a concurrent installation of an application should also uninstall the concurrent application when the parent product is uninstalled.</span></span>

<span data-ttu-id="ba488-162">Fügen Sie der [LaunchCondition](launchcondition-table.md) -Tabelle eine der folgenden Bedingungs Anweisungen hinzu, um zu verhindern, dass ein Paket jemals als gleichzeitige Installation installiert wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-162">To prevent a package from ever being installed as a concurrent installation, add either of the following conditional statements to the [LaunchCondition](launchcondition-table.md) table.</span></span> <span data-ttu-id="ba488-163">Dadurch wird verhindert, dass das Paket jemals durch eine parallele Installations Aktion installiert wird, die von einer anderen Installation ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-163">This prevents the package from ever being installed by a concurrent installation action run by another installation.</span></span> <span data-ttu-id="ba488-164">Dies verhindert nicht, dass das Paket von der Aktion " [RemoveExistingProducts](removeexistingproducts-action.md) " entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="ba488-164">This does not prevent the package from being removed by the [RemoveExistingProducts](removeexistingproducts-action.md) action.</span></span> <span data-ttu-id="ba488-165">Weitere Informationen finden Sie auch in der Eigenschaft " [**parametenoriginaldatabase**](parentoriginaldatabase.md) " und der Eigenschaft " [**parametcode**](parentproductcode.md) ".</span><span class="sxs-lookup"><span data-stu-id="ba488-165">See also the [**ParentOriginalDatabase**](parentoriginaldatabase.md) property and [**ParentProductCode**](parentproductcode.md) property.</span></span>

``` syntax
"Not ParentProductCode"
```

``` syntax
"Not ParentOriginalDatabase"
```

 

 



