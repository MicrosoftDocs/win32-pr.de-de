---
description: Die MigrateFeatureStates-Aktion wird während des Upgrades und bei der Installation einer neuen Anwendung über eine verwandte Anwendung verwendet.
ms.assetid: 3f53c555-02a9-4249-9f1a-98cd655fc79f
title: MigrateFeatureStates-Aktion
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a8e76edb5fa13506291cc85ebcf8c8824e4ee28e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106373214"
---
# <a name="migratefeaturestates-action"></a><span data-ttu-id="59ea6-103">MigrateFeatureStates-Aktion</span><span class="sxs-lookup"><span data-stu-id="59ea6-103">MigrateFeatureStates Action</span></span>

<span data-ttu-id="59ea6-104">Die MigrateFeatureStates-Aktion wird während des Upgrades und bei der Installation einer neuen Anwendung über eine verwandte Anwendung verwendet.</span><span class="sxs-lookup"><span data-stu-id="59ea6-104">The MigrateFeatureStates action is used during upgrading and when installing a new application over a related application.</span></span> <span data-ttu-id="59ea6-105">MigrateFeatureStates liest die Funktions Zustände in der vorhandenen Anwendung und legt diese Funktions Zustände dann in der ausstehenden Installation fest.</span><span class="sxs-lookup"><span data-stu-id="59ea6-105">MigrateFeatureStates reads the feature states in the existing application and then sets these feature states in the pending installation.</span></span> <span data-ttu-id="59ea6-106">Die-Methode ist nur nützlich, wenn sich die neue Funktionsstruktur nicht wesentlich vom ursprünglichen geändert hat.</span><span class="sxs-lookup"><span data-stu-id="59ea6-106">The method is only useful when the new feature tree has not greatly changed from the original.</span></span>

<span data-ttu-id="59ea6-107">Die MigrateFeatureStates-Aktion wird nur bei der erstmaligen Installation des Produkts ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="59ea6-107">The MigrateFeatureStates action only runs the first time the product is installed.</span></span> <span data-ttu-id="59ea6-108">Die Aktion "MigrateFeatureStates" wird während des Wartungsmodus oder der nicht Installation nicht ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="59ea6-108">The MigrateFeatureStates action does not run during maintenance mode or uninstallation.</span></span>

<span data-ttu-id="59ea6-109">Die MigrateFeatureStates-Aktion durchläuft jeden Datensatz der [upgradetabelle](upgrade-table.md) nacheinander und vergleicht den UpgradeCode, die Produktversion und die Sprache in jeder Zeile mit allen auf dem System installierten Produkten.</span><span class="sxs-lookup"><span data-stu-id="59ea6-109">MigrateFeatureStates action runs through each record of the [Upgrade table](upgrade-table.md) in sequence and compares the upgrade code, product version, and language in each row to all products installed on the system.</span></span> <span data-ttu-id="59ea6-110">Wenn MigrateFeatureStates Action eine Entsprechung erkennt und das msidbUpgradeAttributesMigrateFeatures-Bitflag in der Spalte Attribute der upgradetabelle festgelegt ist, fragt das Installationsprogramm die vorhandenen Funktions Zustände für das Produkt ab und legt diese Zustände für dieselben Features in der neuen Anwendung fest.</span><span class="sxs-lookup"><span data-stu-id="59ea6-110">If MigrateFeatureStates action detects a correspondence, and if the msidbUpgradeAttributesMigrateFeatures bit flag is set in the Attributes column of the Upgrade table, the installer queries the existing feature states for the product and sets these states for the same features in the new application.</span></span> <span data-ttu-id="59ea6-111">Durch die Aktion werden nur die Funktions Zustände migriert, wenn die [**vorab ausgewählte**](preselected.md) Eigenschaft nicht festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="59ea6-111">The action only migrates the feature states if the [**Preselected**](preselected.md) property is not set.</span></span>

## <a name="sequence-restrictions"></a><span data-ttu-id="59ea6-112">Sequenz Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="59ea6-112">Sequence Restrictions</span></span>

<span data-ttu-id="59ea6-113">Die Aktion "MigrateFeatureStates" sollte unmittelbar nach der [Aktion "costfinalize](costfinalize-action.md)" erfolgen.</span><span class="sxs-lookup"><span data-stu-id="59ea6-113">The MigrateFeatureStates action should come immediately after the [CostFinalize action](costfinalize-action.md).</span></span> <span data-ttu-id="59ea6-114">MigrateFeatureStates muss sowohl in der Tabelle [InstallUISequence](installuisequence-table.md) als auch in der [Tabelle InstallExecuteSequence](installexecutesequence-table.md)sequenziert werden.</span><span class="sxs-lookup"><span data-stu-id="59ea6-114">MigrateFeatureStates must be sequenced in both the [InstallUISequence table](installuisequence-table.md) and the [InstallExecuteSequence table](installexecutesequence-table.md).</span></span> <span data-ttu-id="59ea6-115">Der Installer verhindert, dass MigrateFeatureStates in InstallExecuteSequence ausgeführt wird, wenn die Aktion bereits in InstallUISequence ausgeführt wurde.</span><span class="sxs-lookup"><span data-stu-id="59ea6-115">The installer prevents MigrateFeatureStates from running in InstallExecuteSequence if the action has already run in InstallUISequence.</span></span>

## <a name="actiondata-messages"></a><span data-ttu-id="59ea6-116">Aktions Daten Meldungen</span><span class="sxs-lookup"><span data-stu-id="59ea6-116">ActionData Messages</span></span>

<span data-ttu-id="59ea6-117">MigrateFeatureSettings sendet eine Aktions Daten Nachricht für jedes Produkt.</span><span class="sxs-lookup"><span data-stu-id="59ea6-117">MigrateFeatureSettings sends an action data message for each product.</span></span>

## <a name="remarks"></a><span data-ttu-id="59ea6-118">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="59ea6-118">Remarks</span></span>

<span data-ttu-id="59ea6-119">Wenn mehr als ein installiertes Produkt eine Funktion gemeinsam nutzt, kann sich der Installationsstatus für diese Funktion zwischen den Produkten unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="59ea6-119">If more than one installed product shares a feature, the installation state for that feature may differ between products.</span></span> <span data-ttu-id="59ea6-120">MigrateFeatureState Action verwendet die folgende Rangfolge beim Migrieren von featureinstallationszuständen: lokal ausführen, aus Quelle ausführen, angekündigt und deinstalliert.</span><span class="sxs-lookup"><span data-stu-id="59ea6-120">MigrateFeatureState action uses the following order of precedence when migrating feature installation states: run local, run from source, advertised, and uninstalled.</span></span> <span data-ttu-id="59ea6-121">Beispielsweise verfügt das installierte Produkt A möglicherweise über das Feature y als InstallState \_ local, und installiertes Produkt B hat möglicherweise die Funktion y als nicht \_ vorhanden.</span><span class="sxs-lookup"><span data-stu-id="59ea6-121">For example, installed product A may have feature Y as INSTALLSTATE\_LOCAL and installed product B may have feature Y as INSTALLSTATE\_ABSENT.</span></span> <span data-ttu-id="59ea6-122">Wenn ein Upgrade das Produkt c installiert und den Installationsstatus von Feature y migriert, legt MigrateFeatureState den Installationsstatus von Feature y in Product C auf InstallState \_ local fest.</span><span class="sxs-lookup"><span data-stu-id="59ea6-122">If an upgrade installs product C and migrates the installation state of feature Y, MigrateFeatureState sets the installation state of feature Y in product C to INSTALLSTATE\_LOCAL.</span></span>

<span data-ttu-id="59ea6-123">Weitere Informationen zur Verwendung der MigrateFeatureStates-Aktion für Produkt Upgrades finden Sie unter [Vorbereiten einer Anwendung für zukünftige größere Upgrades](preparing-an-application-for-future-major-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="59ea6-123">For more information about how to use the MigrateFeatureStates action for product upgrades, see [Preparing an Application for Future Major Upgrades](preparing-an-application-for-future-major-upgrades.md).</span></span>

 

 



