---
description: Durch das Patchen der Benutzerkontensteuerung (User Account Control, UAC) können Autoren von Windows Installer-Installationen Digital signierte Patches identifizieren, die in Zukunft von Benutzern ohne Administratorrechte angewendet werden können.
ms.assetid: f7d64f61-24c8-4037-a10b-d68d0e9e3c42
title: Patching der Benutzerkontensteuerung (User Account Control, UAC)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d111a39245ab15b24c1734d278a8e0a477e68a6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103868832"
---
# <a name="user-account-control-uac-patching"></a><span data-ttu-id="95cff-103">Patching der Benutzerkontensteuerung (User Account Control, UAC)</span><span class="sxs-lookup"><span data-stu-id="95cff-103">User Account Control (UAC) Patching</span></span>

<span data-ttu-id="95cff-104">Durch das Patchen der [*Benutzerkontensteuerung (User Account Control*](u-gly.md) , UAC) können Autoren von Windows Installer-Installationen Digital signierte Patches identifizieren, die in Zukunft von Benutzern ohne Administratorrechte angewendet werden können.</span><span class="sxs-lookup"><span data-stu-id="95cff-104">[*User Account Control*](u-gly.md) (UAC) patching enables the authors of Windows Installer installations to identify digitally-signed patches that can be applied in the future by non-administrator users.</span></span>

<span data-ttu-id="95cff-105">Wenn die digitale Signatur nicht mit dem Zertifikat identisch ist, zeigt Windows Vista vor der Installation des Patches ein UAC-Dialogfeld an, das die Administrator Autorisierung anfordert.</span><span class="sxs-lookup"><span data-stu-id="95cff-105">If the digital signature does not match the certificate, Windows Vista displays a UAC dialog box requesting administrator authorization before installing the patch.</span></span> <span data-ttu-id="95cff-106">Auf Systemen, die älter als Windows Vista sind, wendet das Installationsprogramm keinen signierten Patch an, der nicht dem Zertifikat entspricht.</span><span class="sxs-lookup"><span data-stu-id="95cff-106">On systems earlier than Windows Vista, the installer will not apply a signed patch that does not match the certificate.</span></span>

<span data-ttu-id="95cff-107">Wenn ein nicht-Administrator versucht, einen Patch auf eine Anwendung anzuwenden, und die folgenden Bedingungen nicht erfüllt sind, wird der Benutzer von Windows Vista benachrichtigt, dass vor der Installation des Patches eine Administrator Autorisierung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="95cff-107">If a non-administrator attempts to apply a patch to an application, and the following conditions have not been met, Windows Vista will notify the user that administrator authorization is required before installing the patch.</span></span> <span data-ttu-id="95cff-108">Ein nicht Administrator kann die Installation des Patches fortsetzen, ohne dass zusätzliche Administrator Berechtigungen erforderlich sind, wenn die folgenden Bedingungen erfüllt sind.</span><span class="sxs-lookup"><span data-stu-id="95cff-108">A non-administrator can continue installing the patch, without needing to obtain additional administrator authorization, provided the following conditions are met.</span></span>

-   <span data-ttu-id="95cff-109">Die Anwendung wurde unter Windows Vista oder Windows XP mit Windows Installer 3,0 oder höher installiert.</span><span class="sxs-lookup"><span data-stu-id="95cff-109">The application was installed on Windows Vista or Windows XP using Windows Installer 3.0 or later.</span></span>

    <span data-ttu-id="95cff-110">**Windows Server 2008:** Nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="95cff-110">**Windows Server 2008:** Not supported.</span></span>

-   <span data-ttu-id="95cff-111">Wenn die Anwendung unter Windows XP installiert wurde, muss die Anwendung auch auf einem Wechsel Datenträger installiert sein, z. b. CD-ROM oder DVD-Datenträger.</span><span class="sxs-lookup"><span data-stu-id="95cff-111">If the application was installed on Windows XP, the application must also have been installed from removable media, such a CD-ROM or DVD disk.</span></span> <span data-ttu-id="95cff-112">Diese Einschränkung gilt nicht, wenn die Anwendung unter Windows Vista installiert wurde.</span><span class="sxs-lookup"><span data-stu-id="95cff-112">This restriction does not apply if the application was installed on Windows Vista.</span></span>
-   <span data-ttu-id="95cff-113">Die Anwendung wurde nicht aus einem Quell Abbild der [administrativen Installation](administrative-installation.md) installiert.</span><span class="sxs-lookup"><span data-stu-id="95cff-113">The application was not installed from an [administrative installation](administrative-installation.md) source image.</span></span>
-   <span data-ttu-id="95cff-114">Die Anwendung wurde ursprünglich pro Computer installiert.</span><span class="sxs-lookup"><span data-stu-id="95cff-114">The application was originally installed per-machine.</span></span> <span data-ttu-id="95cff-115">Informationen dazu, wie Sie nicht-Administratoren das Anwenden von Patches auf pro Benutzer verwaltete Anwendungen ermöglichen, nachdem der Patch von einem Administrator als vertrauenswürdig eingestuft wurde, finden Sie unter [Patchen Per-User verwaltete Anwendungen](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="95cff-115">For information about how to enable non-administrators to apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span>
-   <span data-ttu-id="95cff-116">Die [MsiPatchCertificate-Tabelle](msipatchcertificate-table.md) ist im Windows Installer-Paket (MSI-Datei) vorhanden und enthält die Informationen, die erforderlich sind, um die UAC zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="95cff-116">The [MsiPatchCertificate table](msipatchcertificate-table.md) is present in the Window Installer package (.msi file) and contains the information needed to enable UAC.</span></span> <span data-ttu-id="95cff-117">Die Tabelle und die Informationen sind möglicherweise im ursprünglichen Installationspaket enthalten oder wurden von einer Windows Installer Patchdatei (MSP-Datei) zum Paket hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="95cff-117">The table and information may have been be included in the original installation package or added to the package by a Windows Installer patch file (.msp file).</span></span>
-   <span data-ttu-id="95cff-118">Die Patches sind digital signiert durch ein Zertifikat, das in der [MsiPatchCertificate-Tabelle](msipatchcertificate-table.md)aufgeführt ist.</span><span class="sxs-lookup"><span data-stu-id="95cff-118">The patches are digitally signed by a certificate listed in the [MsiPatchCertificate table](msipatchcertificate-table.md).</span></span> <span data-ttu-id="95cff-119">Weitere Informationen zu Zertifikaten für digitale Signaturen finden Sie unter [digitale Signaturen und Windows Installer](digital-signatures-and-windows-installer.md).</span><span class="sxs-lookup"><span data-stu-id="95cff-119">For more information about digital signature certificates, see [Digital Signatures and Windows Installer](digital-signatures-and-windows-installer.md).</span></span>
-   <span data-ttu-id="95cff-120">Die digitale Signatur des Patchpakets kann anhand des Zertifikats in der [MsiPatchCertificate-Tabelle](msipatchcertificate-table.md)überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="95cff-120">The digital signature on the patch package can be verified against the certificate in the [MsiPatchCertificate table](msipatchcertificate-table.md).</span></span> <span data-ttu-id="95cff-121">Weitere Informationen zur Verwendung digitaler Signaturen, digitaler Zertifikate und [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust)finden Sie im Abschnitt " [Sicherheit](https://msdn.microsoft.com/library/cc527452.aspx) " des Microsoft Windows Software Development Kit (SDK).</span><span class="sxs-lookup"><span data-stu-id="95cff-121">For more information about the use of digital signatures, digital certificates, and [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust), see the [Security](https://msdn.microsoft.com/library/cc527452.aspx) section of the Microsoft Windows Software Development Kit (SDK).</span></span>
-   <span data-ttu-id="95cff-122">Das Signatur Geber Zertifikat, das zum Überprüfen der digitalen Signatur im Patchpaket verwendet wird, ist gültig und wurde nicht widerrufen.</span><span class="sxs-lookup"><span data-stu-id="95cff-122">The signer certificate used to verify the digital signature on the patch package is valid and has not been revoked.</span></span>
    > [!Note]  
    > <span data-ttu-id="95cff-123">Obwohl Sie einen Patch nicht mithilfe eines abgelaufenen Zertifikats signieren können, schlägt die Auswertung einer digitalen Signatur auf einem Patch nicht fehl, wenn das Zertifikat abgelaufen ist.</span><span class="sxs-lookup"><span data-stu-id="95cff-123">Although you cannot sign a patch using an expired certificate, evaluation of a digital signature on a patch does not fail if the certificate has expired.</span></span> <span data-ttu-id="95cff-124">Bei der Auswertung wird die aktuelle [MsiPatchCertificate-Tabelle](msipatchcertificate-table.md)verwendet, die aus der MsiPatchCertificate-Tabelle im ursprünglichen Paket und allen Änderungen an der Tabelle von Patches besteht, die vor dem aktuellen Paket sequenziert wurden.</span><span class="sxs-lookup"><span data-stu-id="95cff-124">Evaluation uses the current [MsiPatchCertificate table](msipatchcertificate-table.md), which consists of the MsiPatchCertificate table in the original package and any changes to the table by patches sequenced prior to the current one.</span></span> <span data-ttu-id="95cff-125">Ein Patch kann der MsiPatchCertificate-Tabelle neue Zertifikate hinzufügen, um die nach dem aktuellen Patch sequenzierten Patches auszuwerten.</span><span class="sxs-lookup"><span data-stu-id="95cff-125">A patch can add new certificates to the MsiPatchCertificate table to evaluate patches sequenced after the current patch.</span></span> <span data-ttu-id="95cff-126">Ein gesperrtes Zertifikat wird immer abgelehnt.</span><span class="sxs-lookup"><span data-stu-id="95cff-126">A revoked certificate is always rejected.</span></span>

     

-   <span data-ttu-id="95cff-127">Das Patchen von Berechtigungen mit geringsten Rechten wurde nicht deaktiviert, indem die [**msidisableluapatching**](msidisableluapatching.md) -Eigenschaft oder die [disableluapatching](disableluapatching.md) -Richtlinie festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="95cff-127">Least-privilege patching has not been disabled by setting the [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) property or the [DisableLUAPatching](disableluapatching.md) policy.</span></span>

<span data-ttu-id="95cff-128">Ein Patch, der mithilfe von UAC-Patchen angewendet wurde, kann auch von einem nicht Administrator entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="95cff-128">A patch that has been applied using UAC patching can also be removed by a non-administrator.</span></span>

<span data-ttu-id="95cff-129">Administratoren können Patches unabhängig von der UAC-Einstellung der Anwendung auf pro Computer installierte Produkte anwenden.</span><span class="sxs-lookup"><span data-stu-id="95cff-129">Administrators can apply patches to per-machine installed products regardless of the application's UAC setting.</span></span>

<span data-ttu-id="95cff-130">Sie können bestimmen, ob das Patchen mit den geringsten Rechten für eine Anwendung aktiviert ist, indem Sie die [**msigetproductinfoex**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) -Funktion verwenden, um die von InstallProperty \_ autorisierte \_ Lua-App-Eigenschaft abzufragen \_ , oder indem Sie die [**productinfo**](installer-productinfo.md) -Methode verwenden, um die authorizedluaapp-Eigenschaft abzufragen.</span><span class="sxs-lookup"><span data-stu-id="95cff-130">You can determine whether least-privilege patching is enabled for an application by using the [**MsiGetProductInfoEx**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoexa) function to query for the INSTALLPROPERTY\_AUTHORIZED\_LUA\_APP property, or by using the [**ProductInfo**](installer-productinfo.md) method to query for the "AuthorizedLUAApp" property.</span></span> <span data-ttu-id="95cff-131">Wenn der Wert einer der beiden Eigenschaften 1 ist, wird die Anwendung für das Patchen von Benutzerkonten mit geringstmöglichen Berechtigungen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="95cff-131">If the value of either property is 1, the application is enabled for least-privilege user account patching.</span></span>

<span data-ttu-id="95cff-132">Ein Administrator kann das Patchen von geringsten Rechten auf dem Computer deaktivieren, indem er die Richtlinie " [disableluapatching](disableluapatching.md) " auf 1 festlegt.</span><span class="sxs-lookup"><span data-stu-id="95cff-132">An administrator can disable least-privilege patching on the computer by setting the [DisableLUAPatching](disableluapatching.md) policy to 1.</span></span> <span data-ttu-id="95cff-133">Sie können die [**msidisableluapatching**](msidisableluapatching.md) -Eigenschaft während der Erstinstallation einer Anwendung auf 1 festlegen, um das Patchen mit geringsten Rechten nur für diese Anwendung zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="95cff-133">You can set the [**MSIDISABLELUAPATCHING**](msidisableluapatching.md) property to 1 during the initial installation of an application to prevent least-privilege patching for that application only.</span></span>

<span data-ttu-id="95cff-134">Diese Funktionalität ist ab Windows Installer Version 3,0 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="95cff-134">This functionality is available beginning with Windows Installer version 3.0.</span></span> <span data-ttu-id="95cff-135">Das Patchen der Benutzerkontensteuerung (User Account Control, UAC) wurde in Windows XP als Benutzerkonto mit geringsten Rechten (LUA) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="95cff-135">User Account Control (UAC) patching was called least-privilege user account (LUA) patching in Windows XP.</span></span> <span data-ttu-id="95cff-136">Das Lua-Patchen ist unter Windows 2000 und Windows Server 2003 nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="95cff-136">LUA patching is not available on Windows 2000 and Windows Server 2003.</span></span>

<span data-ttu-id="95cff-137">Weitere Informationen zur Anwendungs Kompatibilität und zum Entwickeln von Anwendungen, die mit der Benutzerkontensteuerung (User Account Control, UAC) kompatibel sind, finden Sie in den auf [Microsoft TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10))bereitgestellten UAC-Informationen.</span><span class="sxs-lookup"><span data-stu-id="95cff-137">For more information about application compatibility and developing applications that are compatible with User Account Control (UAC), see the UAC information that is provided on [Microsoft Technet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc709691(v=ws.10)).</span></span>

 

 
