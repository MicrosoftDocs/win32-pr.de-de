---
description: Die Dienst Konfiguration ermöglicht dem Windows Installer, die Dienste auf einem Computer anzupassen.
ms.assetid: 164280b2-1c75-49d2-ac04-c3654be84134
title: Verwenden der Dienst Konfiguration
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2f6e3040d51b1056a370490fc5328a6bafe07555
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104484187"
---
# <a name="using-services-configuration"></a><span data-ttu-id="f8f25-103">Verwenden der Dienst Konfiguration</span><span class="sxs-lookup"><span data-stu-id="f8f25-103">Using Services Configuration</span></span>

<span data-ttu-id="f8f25-104">Die Dienst Konfiguration ermöglicht dem Windows Installer, die [Dienste](../services/services.md) auf einem Computer anzupassen.</span><span class="sxs-lookup"><span data-stu-id="f8f25-104">Services configuration enables the Windows Installer to customize the [services](../services/services.md) on a computer.</span></span> <span data-ttu-id="f8f25-105">Entwickler können ein Windows Installer Paket zum Installieren, beenden, starten und Löschen von Diensten während einer Installation erstellen, indem Sie die Tabellen [ServiceControl](servicecontrol-table.md) und [ServiceInstall](serviceinstall-table.md) sowie die Aktionen [installservices](installservices-action.md), [Stop Services](stopservices-action.md) und [Delta Service](deleteservices-action.md) verwenden.</span><span class="sxs-lookup"><span data-stu-id="f8f25-105">Developers can author a Windows Installer package to install, stop, start and delete services during an installation by using the [ServiceControl](servicecontrol-table.md) and [ServiceInstall](serviceinstall-table.md) tables and the [InstallServices](installservices-action.md), [StopServices](stopservices-action.md) and [DeleteServices](deleteservices-action.md) actions.</span></span>

<span data-ttu-id="f8f25-106">Beginnend mit Paketen, die für Windows Installer 5,0 geschrieben wurden, können Entwickler die [msikonfigurireservices](msiconfigureservices-action.md) -Standardaktion und die [msiserviceconfig-Tabelle](msiserviceconfig-table.md) verwenden, um die erweiterten Dienst Anpassungsoptionen zu konfigurieren, die unter Windows 7 und Windows Server 2008 R2 und Windows Vista und Windows Server 2008 verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="f8f25-106">Beginning with packages written for Windows Installer 5.0, developers can also use the [MsiConfigureServices](msiconfigureservices-action.md) standard action and the [MsiServiceConfig table](msiserviceconfig-table.md) to configure the extended service customization options available with Windows 7 and Windows Server 2008 R2 and Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="f8f25-107">Vorhandene Installationspakete, die für Versionen der Windows Installer geschrieben wurden, die die msiserviceconfig-Tabelle nicht enthalten haben, können weiterhin mit Windows Installer 5,0 installiert werden.</span><span class="sxs-lookup"><span data-stu-id="f8f25-107">Existing installation packages written for versions of the Windows Installer that did not include the MsiServiceConfig table can be still be installed using Windows Installer 5.0.</span></span> <span data-ttu-id="f8f25-108">Das Dienst Konfigurations Feature des Windows Installer kann keine Netzwerkdienst Konten konfigurieren, Shared Service Host-Prozesse (SVCHOST) installieren oder Dienste neu starten, die im Rahmen der Installation beendet wurden.</span><span class="sxs-lookup"><span data-stu-id="f8f25-108">The services configuration feature of the Windows Installer cannot configure network service accounts, install shared service host (svchost) processes, or restart services stopped as part of the installation.</span></span>

<span data-ttu-id="f8f25-109">**Windows XP und Windows Server 2003 oder früher:** Nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f8f25-109">**Windows XP and Windows Server 2003 or earlier:** Not supported.</span></span> <span data-ttu-id="f8f25-110">Die Dienst Konfigurationstabellen und-Standard Aktionen sind ab Windows Installer 5,0 unter Windows 7 und Windows Server 2008 R2 und Windows Installer 4,5 unter Windows Vista und Windows Server 2008 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="f8f25-110">The service configuration tables and standard actions are available beginning with Windows Installer 5.0 running on Windows 7 and Windows Server 2008 R2 and Windows Installer 4.5 running on Windows Vista and Windows Server 2008.</span></span>

<span data-ttu-id="f8f25-111">Sie müssen die [msikonfigurireservices](msiconfigureservices-action.md) -Aktion in der [InstallExecuteSequence](installexecutesequence-table.md) -Tabelle einschließen, um die Dienst Konfigurationen anzufordern, die Sie in der [Tabelle "msiserviceconfig](msiserviceconfig-table.md)" angeben.</span><span class="sxs-lookup"><span data-stu-id="f8f25-111">You must include the [MsiConfigureServices](msiconfigureservices-action.md) action in the [InstallExecuteSequence](installexecutesequence-table.md) table to request the service configurations that you specify in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="f8f25-112">Der Windows Installer verwendet die Informationen in der msiserviceconfig-Tabelle nur dann, wenn die msikonfigurireservices-Standardaktion in einer Sequenz Tabelle enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="f8f25-112">The Windows Installer uses the information in the MsiServiceConfig table only when the MsiConfigureServices standard action is included in a sequence table.</span></span> <span data-ttu-id="f8f25-113">Die msikonfigurireservices-Standardaktion verwendet auch Informationen in den Tabellen [ServiceControl](servicecontrol-table.md) und [ServiceInstall](serviceinstall-table.md) .</span><span class="sxs-lookup"><span data-stu-id="f8f25-113">The MsiConfigureServices standard action also uses information in the [ServiceControl](servicecontrol-table.md) and [ServiceInstall](serviceinstall-table.md) tables.</span></span>

<span data-ttu-id="f8f25-114">Um anzufordern, dass dem System nur die erforderlichen Berechtigungen für einen bestimmten Dienst erteilt werden, geben Sie den Dienst und die Konfigurationsoption " **\_ \_ erforderliche \_ Berechtigungen \_ für die Dienst Konfiguration erforderlich** " in der [Tabelle "msiserviceconfig](msiserviceconfig-table.md)" an.</span><span class="sxs-lookup"><span data-stu-id="f8f25-114">To request that the system give only required privileges to a particular service, specify the service and the **SERVICE\_CONFIG\_REQUIRED\_PRIVILEGES\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="f8f25-115">Entfernen Sie die nicht benötigten Berechtigungen aus dem Prozess Token des Diensts.</span><span class="sxs-lookup"><span data-stu-id="f8f25-115">Remove the unneeded privileges from the service's process token.</span></span> <span data-ttu-id="f8f25-116">Diese Option kann verwendet werden, um Dienste zu konfigurieren, die im Sicherheitskontext der [Benutzerkonten](../services/service-user-accounts.md)"LocalSystem", "LocalService" oder "Network Service" ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="f8f25-116">This option can be used to configure services run in the security context of the LocalSystem, LocalService, or NetworkService [service user accounts](../services/service-user-accounts.md).</span></span>

<span data-ttu-id="f8f25-117">Um anzufordern, dass das System den automatischen Start eines Diensts für einen Zeitraum nach dem Start aller anderen automatischen Start Dienste verzögern soll, geben Sie den Dienst und **die \_ \_ verzögerte \_ automatische \_ Startoption "Service config** " in der Tabelle " [msiserviceconfig](msiserviceconfig-table.md)" an.</span><span class="sxs-lookup"><span data-stu-id="f8f25-117">To request that the system delay the automatic start of a service for a time after the start of all other auto-start services, specify the service and the **SERVICE\_CONFIG\_DELAYED\_AUTO\_START** option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="f8f25-118">Der zu verzögerte Dienst muss vom aktuellen Paket mit dem \_ automatischen Dienst \_ Start in der Tabelle [ServiceInstall](serviceinstall-table.md) installiert werden, oder der Dienst muss bereits als Dienst für automatisches Starten installiert sein.</span><span class="sxs-lookup"><span data-stu-id="f8f25-118">The service being delayed must be installed by the current package with SERVICE\_AUTO\_START specified in the [ServiceInstall](serviceinstall-table.md) table or the service must already be installed as an auto-start service.</span></span>

<span data-ttu-id="f8f25-119">Geben Sie den Dienst, den Dienst-SID-Typ und die Konfigurationsoption " **Dienst \_ Konfigurations \_ Dienst-SID- \_ \_ Info** " in der [Tabelle "msiserviceconfig](msiserviceconfig-table.md)" an, um anzufordern, dass das System eine Ressource für die ausschließliche Verwendung eines bestimmten Dienstanbieter reserviert.</span><span class="sxs-lookup"><span data-stu-id="f8f25-119">To request that the system reserve a resource for the exclusive use of a particular service, specify the service, the service SID type, and the **SERVICE\_CONFIG\_SERVICE\_SID\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="f8f25-120">Fügen Sie die Dienst-SID der Access Control Liste (ACL) der Ressource für die Ressource hinzu.</span><span class="sxs-lookup"><span data-stu-id="f8f25-120">Add the service's SID to the resource's Access Control List (ACL) for the resource.</span></span>

<span data-ttu-id="f8f25-121">Gehen Sie folgendermaßen vor, um anzufordern, dass der [Dienststeuerungs-Manager](../services/service-control-manager.md) (SCM) nach dem Senden der Benachrichtigung zum **\_ \_ vorab Herunterfahren der Dienst Kontrolle** an einen Dienst warten muss.</span><span class="sxs-lookup"><span data-stu-id="f8f25-121">To request that the [Service Control Manager](../services/service-control-manager.md) (SCM) wait after sending the **SERVICE\_CONTROL\_PRESHUTDOWN** notification to a service, do the following.</span></span> <span data-ttu-id="f8f25-122">Geben Sie den Dienst, den Zeitraum, den der SCM warten soll, und die Konfigurationsoption " **Dienst Konfiguration vor dem \_ \_ herunter \_** fahren" in der [Tabelle "msiserviceconfig](msiserviceconfig-table.md)" an.</span><span class="sxs-lookup"><span data-stu-id="f8f25-122">Specify the service, the length of time the SCM should wait, and the **SERVICE\_CONFIG\_PRESHUTDOWN\_INFO** configuration option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span>

<span data-ttu-id="f8f25-123">Um zu konfigurieren, wann das System nach dem Fehler eines Dienstanbieter Aktionen ausführen soll, geben Sie den Dienst und die **Flag "Service \_ config \_ Failure \_ \_ Actions** " in der [Tabelle "msiserviceconfig](msiserviceconfig-table.md)" an.</span><span class="sxs-lookup"><span data-stu-id="f8f25-123">To configure when the system should run actions after the failure of a service, specify the service and the **SERVICE\_CONFIG\_FAILURE\_ACTIONS\_FLAG** option in the [MsiServiceConfig table](msiserviceconfig-table.md).</span></span> <span data-ttu-id="f8f25-124">Fügen Sie die auszuführenden Aktionen der [Tabelle msiserviceconfigfailureactions](msiserviceconfigfailureactions-table.md)hinzu.</span><span class="sxs-lookup"><span data-stu-id="f8f25-124">Add the actions to be run to the [MsiServiceConfigFailureActions table](msiserviceconfigfailureactions-table.md).</span></span>

<span data-ttu-id="f8f25-125">Weitere Informationen zu den erweiterten Dienst Anpassungsfunktionen, die mit den Betriebssystemen Windows Vista und Windows Server 2008 eingeführt wurden, finden Sie unter [Dienst Änderungen für Windows Vista](../services/service-changes-for-windows-vista.md).</span><span class="sxs-lookup"><span data-stu-id="f8f25-125">For more about the extended service customization capabilities introduced with the Windows Vista and Windows Server 2008 operating systems, see [Service Changes for Windows Vista](../services/service-changes-for-windows-vista.md).</span></span>

 

 
