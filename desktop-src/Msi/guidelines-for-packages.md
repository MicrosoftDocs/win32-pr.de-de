---
description: Da die Benutzerkontensteuerung (User Account Control, UAC) in Windows Vista Berechtigungen während einer Installation einschränkt, sollten Entwickler von Windows Installer Paketen nicht davon ausgehen, dass Ihre Installation immer Zugriff auf alle Teile des Systems hat.
ms.assetid: 8e3b4ad8-b978-4e27-b060-1d023846718f
title: Richtlinien für Pakete
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: db228c2dff443d421ddc089074f0fcce6ae93e2f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103866323"
---
# <a name="guidelines-for-packages"></a><span data-ttu-id="19362-103">Richtlinien für Pakete</span><span class="sxs-lookup"><span data-stu-id="19362-103">Guidelines for Packages</span></span>

<span data-ttu-id="19362-104">Da die [*Benutzerkontensteuerung (User Account Control*](u-gly.md) , UAC) in Windows Vista Berechtigungen während einer Installation einschränkt, sollten Entwickler von Windows Installer Paketen nicht davon ausgehen, dass Ihre Installation immer Zugriff auf alle Teile des Systems hat.</span><span class="sxs-lookup"><span data-stu-id="19362-104">Because [*User Account Control*](u-gly.md) (UAC) in Windows Vista restricts privileges during an installation, developers of Windows Installer packages should not assume that their installation always has access to all parts of the system.</span></span>

<span data-ttu-id="19362-105">Ein Installer-Paket, das über [Gruppenrichtlinie](/previous-versions/windows/desktop/Policy/group-policy-start-page) erfolgreich für Standardbenutzer bereitgestellt werden kann, sollte in den meisten Fällen auch mit UAC in Windows Vista funktionieren.</span><span class="sxs-lookup"><span data-stu-id="19362-105">An installer package that can be successfully deployed to standard users via [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page) should in most cases also work with UAC in Windows Vista.</span></span> <span data-ttu-id="19362-106">Ausnahmen können auftreten, wenn die [Tabelle "InstallUISequence](installuisequence-table.md) " die [Aktion "LaunchConditions](launchconditions-action.md) " enthält oder die [Tabelle "LaunchCondition](launchcondition-table.md) " eine Bedingung enthält, die auf der [privilegierten Eigenschaft](privileged.md)basiert.</span><span class="sxs-lookup"><span data-stu-id="19362-106">Exceptions to this can occur if the [InstallUISequence table](installuisequence-table.md) contains the [LaunchConditions action](launchconditions-action.md) or the [LaunchCondition table](launchcondition-table.md) contains a condition based on the [Privileged property](privileged.md).</span></span> <span data-ttu-id="19362-107">Entwickler von Windows Installer Paketen sollten daher die folgenden Richtlinien befolgen, um sicherzustellen, dass Ihr Paket mit UAC und Windows Vista funktioniert.</span><span class="sxs-lookup"><span data-stu-id="19362-107">Windows Installer package developers should therefore adhere to the following guidelines to ensure their package works with UAC and Windows Vista.</span></span>

-   <span data-ttu-id="19362-108">Wenn Sie eine [*Installations Kontext*](i-gly.md) Bedingung mit einer Aktion in der [Tabelle InstallUISequence](installuisequence-table.md)einschließen, verwenden Sie eine Bedingungs Anweisung, die auf der [privilegierten Eigenschaft](privileged.md)basiert.</span><span class="sxs-lookup"><span data-stu-id="19362-108">When including an [*installation context*](i-gly.md) condition with an action in the [InstallUISequence table](installuisequence-table.md), use a conditional statement based on the [Privileged property](privileged.md).</span></span> <span data-ttu-id="19362-109">Verwenden Sie keine Bedingung, die auf der [**AdminUser**](adminuser.md) -Eigenschaft basiert.</span><span class="sxs-lookup"><span data-stu-id="19362-109">Do not use a condition based on the [**AdminUser**](adminuser.md) property.</span></span>
-   <span data-ttu-id="19362-110">Wenn Sie den Installations Kontext mit den Installations Startbedingungen einschließen, verwenden Sie den [benutzerdefinierten Aktionstyp 19](custom-action-type-19.md) in der [InstallExecuteSequence-Tabelle](installexecutesequence-table.md) , und legen Sie die benutzerdefinierte Aktion auf die [privilegierte Eigenschaft](privileged.md)fest.</span><span class="sxs-lookup"><span data-stu-id="19362-110">When including the installation context with the installation launch conditions, use a [Custom Action Type 19](custom-action-type-19.md) in the [InstallExecuteSequence table](installexecutesequence-table.md) and make the custom action conditional upon the [Privileged property](privileged.md).</span></span> <span data-ttu-id="19362-111">Verwenden Sie keine Aktion in der [LaunchCondition-Tabelle](launchcondition-table.md) mit einer Bedingung, die auf der [AdminUser-Eigenschaft](adminuser.md) oder der privilegierten Eigenschaft basiert.</span><span class="sxs-lookup"><span data-stu-id="19362-111">Do not use an action in the [LaunchCondition table](launchcondition-table.md) with a condition based on the [AdminUser property](adminuser.md) or Privileged property.</span></span>
-   <span data-ttu-id="19362-112">Um die Systemkonfiguration zu lesen oder zu ändern, verwenden Sie eine [benutzerdefinierte Aktion für die verzögerte Ausführung](deferred-execution-custom-actions.md) in der [InstallExecuteSequence-Tabelle](installexecutesequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="19362-112">To read or modify the system configuration, use a [deferred execution custom action](deferred-execution-custom-actions.md) in the [InstallExecuteSequence table](installexecutesequence-table.md).</span></span> <span data-ttu-id="19362-113">Verwenden Sie keine benutzerdefinierten Aktionen für die sofortige Ausführung in der [Tabelle InstallUISequence](installuisequence-table.md) , um die Systemkonfiguration zu ändern.</span><span class="sxs-lookup"><span data-stu-id="19362-113">Do not use immediate execution custom actions in the [InstallUISequence table](installuisequence-table.md) to modify the system configuration.</span></span>
-   <span data-ttu-id="19362-114">Um Teile des Systems zu ändern, die Nichtbenutzer spezifisch sind, verwenden Sie eine verzögerte benutzerdefinierte Aktion in der [InstallExecuteSequence-Tabelle](installexecutesequence-table.md).</span><span class="sxs-lookup"><span data-stu-id="19362-114">To modify parts of the system that are not user specific, use a deferred custom action in the [InstallExecuteSequence table](installexecutesequence-table.md).</span></span> <span data-ttu-id="19362-115">Sie sollten das msidbcustomaction typoidentitäts Ate-Bit in den benutzerdefinierten Aktionstyp einschließen.</span><span class="sxs-lookup"><span data-stu-id="19362-115">You should include the msidbCustomActionTypeNoImpersonate bit in the custom action type.</span></span>
-   <span data-ttu-id="19362-116">Lassen Sie Bit 3 aus dem Wert der Eigenschaft [**Wort Zähl**](word-count-summary.md) Zusammenfassung aus, um anzugeben, dass das Paket erhöht werden kann.</span><span class="sxs-lookup"><span data-stu-id="19362-116">Omit Bit 3 from the value of the [**Word Count**](word-count-summary.md) Summary Property to indicate that the package can be required to be elevated.</span></span> <span data-ttu-id="19362-117">Fügen Sie dieses Bit nicht ein, es sei denn, für die Installation dieses Pakets sind erhöhte Rechte erforderlich.</span><span class="sxs-lookup"><span data-stu-id="19362-117">Do not include this bit unless elevated privileges are not required to install this package.</span></span>
-   <span data-ttu-id="19362-118">Fügen Sie ein Manifest mit der angeforderten Ausführungs Ebene der Anwendung ein.</span><span class="sxs-lookup"><span data-stu-id="19362-118">Include a manifest with the application's Requested Execution Level.</span></span>
-   <span data-ttu-id="19362-119">Fügen Sie ein Zertifikat in die [MsiPatchCertificate](msipatchcertificate-table.md) -Tabelle des ursprünglichen Pakets ein, und Signieren Sie alle Patches mit demselben Zertifikat.</span><span class="sxs-lookup"><span data-stu-id="19362-119">Include a certificate in the [MsiPatchCertificate](msipatchcertificate-table.md) table of original package and sign all patches with the same certificate.</span></span>
-   <span data-ttu-id="19362-120">Wenn für die Installation eines Windows Installer Pakets erhöhte Rechte erforderlich sind, sollte der Autor des Pakets das [elevationshield](elevationshield-attribute.md) -Attribut für das [PUSHBUTTON-Steuer](pushbutton-control.md) Element enthalten, das zum Starten der Installation verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="19362-120">If elevated privileges are required to install a Windows Installer package, the author of the package should include the [ElevationShield](elevationshield-attribute.md) attribute for the [PushButton control](pushbutton-control.md) used to start the installation.</span></span> <span data-ttu-id="19362-121">Dadurch wird der Benutzer gewarnt, dass durch Klicken auf die Schaltfläche das UAC-Dialogfeld zum Fortsetzen der Installation auf die Schaltfläche angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="19362-121">This will alert the user that clicking on the button will display the UAC dialog box requesting administrator authorization to continue the installation.</span></span>
-   <span data-ttu-id="19362-122">Legen Sie für die Eigenschaft [**msideploymentcompliance**](msideploymentcompliant.md) den Wert 1 fest, um den Windows Installer anzugeben, dass das Paket erstellt und getestet wurde, um die UAC in Windows Vista einzuhalten.</span><span class="sxs-lookup"><span data-stu-id="19362-122">Set the [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) property to 1 to indicate to the Windows Installer that the package has been authored and tested to comply with UAC in Windows Vista.</span></span> <span data-ttu-id="19362-123">Wenn diese Eigenschaft nicht festgelegt ist, bestimmt das Installationsprogramm, ob das Paket UAC einhält.</span><span class="sxs-lookup"><span data-stu-id="19362-123">If this property is not set, the installer determines whether the package complies with UAC.</span></span>

<span data-ttu-id="19362-124">Außerhalb [Gruppenrichtlinie](/previous-versions/windows/desktop/Policy/group-policy-start-page)kann die folgende Überprüfung der UAC-Kompatibilität unter Windows XP verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="19362-124">Outside of [Group Policy](/previous-versions/windows/desktop/Policy/group-policy-start-page), the following check for UAC compliance can be used on Windows XP.</span></span>

<span data-ttu-id="19362-125">**So überprüfen Sie die UAC-Konformität außerhalb der Gruppenrichtlinie**</span><span class="sxs-lookup"><span data-stu-id="19362-125">**To check for UAC compliance outside of Group Policy**</span></span>

1.  <span data-ttu-id="19362-126">Melden Sie sich als Administrator beim Computer an.</span><span class="sxs-lookup"><span data-stu-id="19362-126">Log on to the computer as an administrator.</span></span>
2.  <span data-ttu-id="19362-127">Ankündigen Sie das Paket für eine Installation pro Computer:</span><span class="sxs-lookup"><span data-stu-id="19362-127">Advertise the package for a per-machine installation:</span></span>

    <span data-ttu-id="19362-128">**msiexec/JM** *package.msi*</span><span class="sxs-lookup"><span data-stu-id="19362-128">**msiexec /jm** *package.msi*</span></span>

3.  <span data-ttu-id="19362-129">Melden Sie sich vom Computer ab.</span><span class="sxs-lookup"><span data-stu-id="19362-129">Log off the computer.</span></span>
4.  <span data-ttu-id="19362-130">Melden Sie sich als Standardbenutzer beim Computer an.</span><span class="sxs-lookup"><span data-stu-id="19362-130">Log on to the computer as a standard user.</span></span>
5.  <span data-ttu-id="19362-131">Versuch der Installation des angekündigten Pakets:</span><span class="sxs-lookup"><span data-stu-id="19362-131">Attempt to install the advertised package:</span></span>

    <span data-ttu-id="19362-132">**msiexec/i** *package.msi*</span><span class="sxs-lookup"><span data-stu-id="19362-132">**msiexec /i** *package.msi*</span></span>

6.  <span data-ttu-id="19362-133">In den meisten Fällen ist das Paket mit UAC kompatibel, wenn die Installation erfolgreich ist.</span><span class="sxs-lookup"><span data-stu-id="19362-133">In most cases, if the installation is successful, the package is UAC compliant.</span></span>
7.  <span data-ttu-id="19362-134">Legen Sie die [**msideploymentcompliance**](msideploymentcompliant.md) -Eigenschaft im Paket auf 1 fest.</span><span class="sxs-lookup"><span data-stu-id="19362-134">Set the [**MSIDEPLOYMENTCOMPLIANT**](msideploymentcompliant.md) property in the package to 1.</span></span>
8.  <span data-ttu-id="19362-135">Testen Sie die korrekte Installation des Pakets mithilfe von Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="19362-135">Test for correct installation of the package using Windows Vista.</span></span>

 

 
