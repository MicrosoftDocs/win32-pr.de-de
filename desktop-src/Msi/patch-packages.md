---
description: Eine Windows Installer Patch (MSP-Datei) ist eine Datei, die zum Bereitstellen von Updates für Windows Installer Anwendungen verwendet wird.
ms.assetid: f59736d7-0b5a-466c-ab60-f210ccccb07f
title: Patch-Pakete
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 56b4bb5b7e182c8118f5a40c45be440784b92099
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103755609"
---
# <a name="patch-packages"></a><span data-ttu-id="38702-103">Patch-Pakete</span><span class="sxs-lookup"><span data-stu-id="38702-103">Patch Packages</span></span>

<span data-ttu-id="38702-104">Eine Windows Installer Patch (MSP-Datei) ist eine Datei, die zum Bereitstellen von Updates für Windows Installer Anwendungen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="38702-104">A Windows Installer patch (.msp file) is a file used to deliver updates to Windows Installer applications.</span></span> <span data-ttu-id="38702-105">Der Patch ist ein eigenständiges Paket, das alle zum Aktualisieren der Anwendung erforderlichen Informationen enthält.</span><span class="sxs-lookup"><span data-stu-id="38702-105">The patch is a self-contained package that contains all the information required to update the application.</span></span> <span data-ttu-id="38702-106">Ein Patchpaket (MSP-Datei) kann für die gesamte aktualisierte Anwendung wesentlich kleiner als das Windows Installer Paket (MSI-Datei) sein.</span><span class="sxs-lookup"><span data-stu-id="38702-106">A patch package (.msp file) can be much smaller than the Windows Installer package (.msi file) for the entire updated application.</span></span> <span data-ttu-id="38702-107">Weitere Informationen zur Bereitstellung kleinerer Updates für Anwendungen finden Sie unter [verringern der Patchgröße](reducing-patch-size.md).</span><span class="sxs-lookup"><span data-stu-id="38702-107">For more information about delivering smaller updates to applications, see [Reducing Patch Size](reducing-patch-size.md).</span></span>

<span data-ttu-id="38702-108">Ein Patchpaket enthält die eigentlichen Updates der Anwendung und beschreibt, welche Versionen der Anwendung den Patch empfangen können.</span><span class="sxs-lookup"><span data-stu-id="38702-108">A patch package contains the actual updates to the application and describes which versions of the application can receive the patch.</span></span> <span data-ttu-id="38702-109">Patches enthalten mindestens zwei Daten Bank Transformationen.</span><span class="sxs-lookup"><span data-stu-id="38702-109">Patches contain at minimum two database transforms.</span></span> <span data-ttu-id="38702-110">Durch eine Transformation werden die Informationen in der Installations Datenbank der Anwendung aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="38702-110">One transform updates the information in the installation database of the application.</span></span> <span data-ttu-id="38702-111">Die andere Transformation fügt Informationen hinzu, die vom Installationsprogramm zum Patchen von Dateien verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="38702-111">The other transform adds information that the installer uses for patching files.</span></span> <span data-ttu-id="38702-112">Das Installationsprogramm verwendet die Informationen, die von den Transformationen bereitgestellt werden, um Patchdateien anzuwenden, die im CAB-Datei Datenstrom des Patchpakets gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="38702-112">The installer uses the information provided by the transforms to apply patch files that are stored in the cabinet file stream of the patch package.</span></span> <span data-ttu-id="38702-113">Ein Patchpaket verfügt über keine Datenbank wie ein Installationspaket (MSI-Datei).</span><span class="sxs-lookup"><span data-stu-id="38702-113">A patch package does not have a database like an installation package (.msi file.)</span></span>

<span data-ttu-id="38702-114">Ab Windows Installer Version 3,0 können Patchpakete Informationen enthalten, die die patchsequenz für den Patch relativ zu anderen Updates in der [msipatchsequence](msipatchsequence-table.md) -Tabelle und zusätzliche beschreibende Informationen in der [MsiPatchMetadata](msipatchmetadata-table.md) -Tabelle beschreiben.</span><span class="sxs-lookup"><span data-stu-id="38702-114">Beginning with Windows Installer version 3.0, patch packages can contain information that describe the patching sequence for the patch relative to other updates in the [MsiPatchSequence](msipatchsequence-table.md) table and additional descriptive information in the [MsiPatchMetadata](msipatchmetadata-table.md) table.</span></span>

<span data-ttu-id="38702-115">Benutzer können Anwendungen und Updates über ein Netzwerkadministrator Image installieren.</span><span class="sxs-lookup"><span data-stu-id="38702-115">Users can install applications and updates from a network administrative image.</span></span> <span data-ttu-id="38702-116">Obwohl Patchpakete auf administrative Installationen angewendet werden können, besteht die empfohlene Methode zur Bereitstellung von Updates darin, dass Benutzer die ursprüngliche Anwendung installieren und dann die Patches auf die lokale Instanz der Anwendung auf Ihrem Computer anwenden.</span><span class="sxs-lookup"><span data-stu-id="38702-116">Although patch packages can be applied to administrative installations, the recommended method to deliver updates is to have users install the original application and then apply the patches to the local instance of the application on to their computer.</span></span> <span data-ttu-id="38702-117">Dies sorgt dafür, dass die Benutzer mit dem administrativen Abbild synchronisiert werden.</span><span class="sxs-lookup"><span data-stu-id="38702-117">This keeps users in synchronization with the administrative image.</span></span> <span data-ttu-id="38702-118">Wenn ein Patch auf die administrative Installation angewendet wird, müssen sich alle Clients dieser administrativen Installation wiederholen und die Anwendung neu installieren, um das Update zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="38702-118">If a patch is applied to the administrative installation, all clients of that administrative installation must recache and reinstall the application to receive the update.</span></span> <span data-ttu-id="38702-119">Bis ein Benutzer eine Wiederholung und Neuinstallation durchläuft, kann der Benutzer die Installation nicht mehr über die gepatchte administrative Installation installieren.</span><span class="sxs-lookup"><span data-stu-id="38702-119">Until a user recaches and reinstalls, the user is unable to install-on-demand and repair installations from the patched administrative installation.</span></span>

<span data-ttu-id="38702-120">Ab Windows Installer 3,0 können nicht Administratoren Patches auf pro Benutzer verwaltete Anwendungen anwenden, nachdem der Patch von einem Administrator als vertrauenswürdig eingestuft wurde.</span><span class="sxs-lookup"><span data-stu-id="38702-120">Beginning with Windows Installer 3.0, non-administrators can apply patches to per-user-managed applications after the patch has been approved as trusted by an administrator.</span></span> <span data-ttu-id="38702-121">Weitere Informationen hierzu finden Sie unter [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span><span class="sxs-lookup"><span data-stu-id="38702-121">For more information on how to do this, see [Patching Per-User Managed Applications](patching-per-user-managed-applications.md).</span></span> <span data-ttu-id="38702-122">Eine andere Methode ist das Patchen von Benutzerkonten mit den geringsten Rechten.</span><span class="sxs-lookup"><span data-stu-id="38702-122">Another method is to use least privileged user account patching.</span></span>

> [!Note]  
> <span data-ttu-id="38702-123">Wenn die [allowlockdownpatch](allowlockdownpatch.md) -Richtlinie festgelegt wurde, können Benutzer ohne Administratorrechte einen Patch auf eine vorhandene Anwendung anwenden, während eine Installation mit erhöhten Rechten ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="38702-123">If the [AllowLockdownPatch](allowlockdownpatch.md) policy has been set, non-administrator users can apply a patch to an existing application while running an installation at elevated privileges.</span></span> <span data-ttu-id="38702-124">Diese Methode wird nicht empfohlen, da Sie ermöglicht, dass nicht vertrauenswürdige Patches auf eine Anwendung angewendet werden, die mit erhöhten Rechten ausgeführt werden kann.</span><span class="sxs-lookup"><span data-stu-id="38702-124">This method is not recommended because it enables untrusted patches to be applied to an application that can run with elevated privileges.</span></span>

 

<span data-ttu-id="38702-125">Patchpakete bestehen aus den folgenden Teilen:</span><span class="sxs-lookup"><span data-stu-id="38702-125">Patch packages are comprised of the following parts.</span></span> <span data-ttu-id="38702-126">Weitere Informationen zur Erstellung von Patch-Paketen finden Sie unter [Erstellen eines Patchpakets](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="38702-126">For more information about the construction of patch packages, see [Creating a Patch Package](creating-a-patch-package.md).</span></span>

## <a name="summary-information-stream"></a><span data-ttu-id="38702-127">Zusammenfassungs Informationsdaten Strom</span><span class="sxs-lookup"><span data-stu-id="38702-127">Summary Information Stream</span></span>

<span data-ttu-id="38702-128">Der Datenstrom für Zusammenfassungs Informationen des Patchpakets enthält Informationen zur Identität und zum Zweck des Patches.</span><span class="sxs-lookup"><span data-stu-id="38702-128">The summary information stream of the patch package provides information about the identity and purpose of the patch.</span></span>

<span data-ttu-id="38702-129">Der Datenstrom für Zusammenfassungs Informationen enthält mindestens Folgendes:</span><span class="sxs-lookup"><span data-stu-id="38702-129">The summary information stream holds a minimum of the following:</span></span>

-   <span data-ttu-id="38702-130">Eine GUID, die den Patch eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="38702-130">A GUID that uniquely identifies the patch.</span></span> <span data-ttu-id="38702-131">Die GUID für diesen Patch wird mit einer Liste von GUIDs für frühere Patches angehängt, die durch diesen Patch ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="38702-131">The GUID for this patch is appended with a list of GUIDs for earlier patches that are replaced by this patch.</span></span>
-   <span data-ttu-id="38702-132">Eine durch Semikolons getrennte Liste von Produktcodes für gültige Ziele für diesen Patch.</span><span class="sxs-lookup"><span data-stu-id="38702-132">A semicolon-delimited list of product codes for valid targets for this patch.</span></span>
-   <span data-ttu-id="38702-133">Eine durch Semikolons getrennte Liste der Namen der Transformations unter Speicher in der Reihenfolge, in der Sie verarbeitet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="38702-133">A semicolon-delimited list of transform substorage names in the order they are to be processed.</span></span>
-   <span data-ttu-id="38702-134">Eine durch Semikolons getrennte Liste der Quellen für diesen Patch.</span><span class="sxs-lookup"><span data-stu-id="38702-134">A semicolon-delimited list of sources for this patch.</span></span>

## <a name="transform-substorage"></a><span data-ttu-id="38702-135">Transformieren von unter Speicher</span><span class="sxs-lookup"><span data-stu-id="38702-135">Transform Substorage</span></span>

<span data-ttu-id="38702-136">Ein Patchpaket enthält Transformationen, mit denen Dateien, Registrierungseinträge, Benutzeroberflächen und Anpassungen hinzugefügt oder entfernt werden können.</span><span class="sxs-lookup"><span data-stu-id="38702-136">A patch package contains transforms that can add or remove files, registry entries, user interfaces, and customizations.</span></span> <span data-ttu-id="38702-137">Transformationen sind als substorages im Paket enthalten.</span><span class="sxs-lookup"><span data-stu-id="38702-137">Transforms are included as substorages in the package.</span></span> <span data-ttu-id="38702-138">Ein Patchpaket enthält zwei Transformationen für jede Zieldatenbank.</span><span class="sxs-lookup"><span data-stu-id="38702-138">A patch package contains two transforms for each target database.</span></span> <span data-ttu-id="38702-139">Eine Transformation ist die tatsächliche Aktualisierung der Installations Datenbank und wird anhand der Unterschiede zwischen den ursprünglichen und aktualisierten Images des Installationspakets generiert.</span><span class="sxs-lookup"><span data-stu-id="38702-139">One transform is the actual updates to the installation database and is generated from the differences between the original and updated images of the installation package.</span></span> <span data-ttu-id="38702-140">Die andere Transformation fügt Einträge zu den Tabellen [Patch](patch-table.md), [patchpackage](patchpackage-table.md), [Media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md)und [AdminExecuteSequence](adminexecutesequence-table.md) hinzu.</span><span class="sxs-lookup"><span data-stu-id="38702-140">The other transform adds entries to the [Patch](patch-table.md), [PatchPackage](patchpackage-table.md), [Media](media-table.md), [InstallExecuteSequence](installexecutesequence-table.md), and [AdminExecuteSequence](adminexecutesequence-table.md) tables.</span></span> <span data-ttu-id="38702-141">Informationen in der unter Speicher werden mit einem bestimmten [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md)und [**productlanguage**](productlanguage.md)verknüpft.</span><span class="sxs-lookup"><span data-stu-id="38702-141">Information in the substorage ties it to a specific [**UpgradeCode**](upgradecode.md), [**ProductCode**](productcode.md), [**ProductVersion**](productversion.md), and [**ProductLanguage**](productlanguage.md).</span></span> <span data-ttu-id="38702-142">Ein Patchpaket, das auf mehrere Ziele angewendet werden kann, enthält mehr als ein paar dieser Transformationen.</span><span class="sxs-lookup"><span data-stu-id="38702-142">A patch package that can be applied to multiple targets contains more than one pair of these transforms.</span></span>

## <a name="cabinet-file-stream"></a><span data-ttu-id="38702-143">CAB-Datei Datenstrom</span><span class="sxs-lookup"><span data-stu-id="38702-143">Cabinet File Stream</span></span>

<span data-ttu-id="38702-144">Der CAB-Datei Datenstrom, der in einem Patch enthalten ist, kann diese Dateitypen enthalten:</span><span class="sxs-lookup"><span data-stu-id="38702-144">The cabinet file stream included in a patch can contain these types of files:</span></span>

-   <span data-ttu-id="38702-145">Patchdateien mit den Informationen, die erforderlich sind, um die alte Version der Datei in die neue Version zu ändern.</span><span class="sxs-lookup"><span data-stu-id="38702-145">Patch files containing the information required to change the old version of the file into the new version.</span></span> <span data-ttu-id="38702-146">Eine einzelne Patchdatei kann verwendet werden, um eine oder mehrere alte Versionen einer Datei zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="38702-146">A single patch file can be used to update one or more old versions of a file.</span></span>
-   <span data-ttu-id="38702-147">Zusätzliche Dateien, die der Anwendung hinzugefügt werden, die nicht in der alten Version vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="38702-147">Additional files being added to the application that are not present in the old version.</span></span>
-   <span data-ttu-id="38702-148">Eine gesamte Ersetzungs Datei.</span><span class="sxs-lookup"><span data-stu-id="38702-148">An entire replacement file.</span></span> <span data-ttu-id="38702-149">In den seltenen Fällen, in denen die neue Version einer Datei kleiner ist als der Patch, der zum Aktualisieren der alten Version dieser Datei erforderlich ist, kann die neue Datei vollständig eingefügt werden.</span><span class="sxs-lookup"><span data-stu-id="38702-149">In the rare case where the new version of a file is smaller than the patch required to update the old version of that file, the new file can be included in its entirety.</span></span> <span data-ttu-id="38702-150">Dabei handelt es sich um neue Dateien, die über Ihre alten Versionen installiert werden.</span><span class="sxs-lookup"><span data-stu-id="38702-150">These are new files that are installed over their old versions.</span></span>

## <a name="related-topics"></a><span data-ttu-id="38702-151">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="38702-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="38702-152">Erstellen eines Patchpakets</span><span class="sxs-lookup"><span data-stu-id="38702-152">Creating a Patch Package</span></span>](creating-a-patch-package.md)
</dt> </dl>

 

 



