---
description: Ein Paket mit zwei Zweck ist ein Windows Installer 5,0-Paket, das erstellt wurde, um eine-Anwendung entweder im Benutzer-oder computerspezifischen Installations Kontext installieren zu können.
ms.assetid: b2da9fba-8fdf-48fa-a662-6b3eee1bfe87
title: Erstellung eines einzelnen Pakets
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87c22b9be930be2d2178ea4efb7ba1538320823a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106353601"
---
# <a name="single-package-authoring"></a><span data-ttu-id="e0f7c-103">Erstellung eines einzelnen Pakets</span><span class="sxs-lookup"><span data-stu-id="e0f7c-103">Single Package Authoring</span></span>

<span data-ttu-id="e0f7c-104">Ein Paket mit zwei Zweck ist ein Windows Installer 5,0-Paket, das erstellt wurde, um eine-Anwendung entweder im Benutzer-oder computerspezifischen [Installations Kontext](installation-context.md)installieren zu können.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-104">A dual-purpose package is a Windows Installer 5.0 package that has been authored to be capable of installing an application in either the per-user or per-machine [installation context](installation-context.md).</span></span> <span data-ttu-id="e0f7c-105">Setup Entwickler, die ein Dual-Zweck-Paket für Ihre Anwendung verwenden, können Ihren Benutzern den Installations Kontext zum Installations Zeitpunkt zur Verfügung stellen und können UAC-Anmeldeaufforderungen von benutzerdefinierten Installationen unter Windows 7 oder Windows Server 2008 R2 entfernen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-105">Setup developers that use a dual-purpose package for their application can provide their users with a choice of installation context at installation time and can remove UAC credential prompts from per-user installations on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="e0f7c-106">Die Entwicklung eines Pakets mit zwei Zweck Windows Installer 5,0 für die Installation unter Windows 7 und Windows Server 2008 R2 wird als einzelne Paket Erstellung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-106">The development of a dual-purpose Windows Installer 5.0 package for installation on Windows 7 and Windows Server 2008 R2 is referred to as single package authoring.</span></span>

<span data-ttu-id="e0f7c-107">Sie können beginnen, Dual-Zweck-Pakete für Windows 7 und Windows Server 2008 R2 zu entwickeln, indem Sie Windows Installer 5,0, die [**msiinstallperuser**](msiinstallperuser.md) -Eigenschaft, die [**ALLUSERS**](allusers.md) -Eigenschaft und die pro Benutzer fähigen, bekannten Ordner und Registrierungen der [Windows-Shell](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85))verwenden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-107">You can begin to develop dual-purpose packages for Windows 7 and Windows Server 2008 R2 by using Windows Installer 5.0, the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property, the [**ALLUSERS**](allusers.md) property, and the per-user capable known folders and registrations of the [Windows Shell](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span></span> <span data-ttu-id="e0f7c-108">Wenn Windows Installer 5,0 ein Paket mit zwei Zweck auf Windows 7 oder Windows Server 2008 R2 im Einzelbenutzer Kontext installiert, leitet das Installationsprogramm Datei-und Registrierungseinträge an benutzerspezifische Speicherorte um und zeigt keine UAC-Eingabe Aufforderungen für Anmelde Informationen an.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-108">When Windows Installer 5.0 installs a dual-purpose package in the per-user context on Windows 7 or Windows Server 2008 R2, the installer directs file and registry entries to per-user locations and does not display UAC prompts for credentials.</span></span> <span data-ttu-id="e0f7c-109">Wenn Windows Installer 5,0 ein Paket mit zwei Zweck im computerspezifischen Kontext installiert, leitet das Installationsprogramm Dateien und Registrierungseinträge an Computer spezifische Speicherorte um und fordert UAC-Anmelde Informationen an, um zu bestätigen, dass der Benutzer über ausreichende Berechtigungen zum Installieren von Software für alle Benutzer des Computers verfügt.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-109">When Windows Installer 5.0 installs a dual-purpose package in the per-machine context, the installer directs files and registry entries to per-machine locations and prompts for UAC credentials to confirm that the user has sufficient privileges to install software for all users of the computer.</span></span> <span data-ttu-id="e0f7c-110">Nachdem Windows Installer 5,0 eine Anwendung installiert hat, wird für alle nachfolgenden Updates, Reparaturen oder das Entfernen der Anwendung derselbe Installations Kontext verwendet.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-110">Once Windows Installer 5.0 installs an application, it uses the same installation context for all subsequent updates, repairs, or removal of the application.</span></span>

<span data-ttu-id="e0f7c-111">**[Windows Installer 4,5 oder früher](not-supported-in-windows-installer-4-5.md):** die [**msiinstallperuser**](msiinstallperuser.md) -Eigenschaft und die pro-Benutzer-Version der Ordner, auf die von den Eigenschaften [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md)und [**CommonFiles64Folder**](commonfiles64folder.md) verwiesen wird, werden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-111">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** The [**MSIINSTALLPERUSER**](msiinstallperuser.md) property and per-user versions of folders referenced by the [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md), and [**CommonFiles64Folder**](commonfiles64folder.md) properties are not supported.</span></span> <span data-ttu-id="e0f7c-112">Die Ordner " **folderid \_ userprogram files** " und " **folderid \_ userprogramfilescommon** " sind ab Windows 7 und Windows Server 2008 R2 verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-112">The **FOLDERID\_UserProgramFiles** and **FOLDERID\_UserProgramFilesCommon** folders are available beginning with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="e0f7c-113">Dies bedeutet, dass Installationen, die für Windows Installer 4,5 oder früher entwickelt wurden, direkte Dateien und Registrierungseinträge in folderid \_ Program Files, folderid \_ programfilescommon, folderid \_ ProgramFilesX64 und folderid \_ ProgramFilesCommonX64.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-113">This means installations developed for Windows Installer 4.5 or earlier direct files and registry entries to FOLDERID\_ProgramFiles, FOLDERID\_ProgramFilesCommon, FOLDERID\_ProgramFilesX64, and FOLDERID\_ProgramFilesCommonX64.</span></span> <span data-ttu-id="e0f7c-114">Da es sich hierbei um Standorte handelt, die anderen Benutzern des Computers zur Verfügung stehen, erfordern Windows Vista und spätere Systeme die Anzeige von UAC-Eingabe Aufforderungen für Anmelde Informationen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-114">Because these are locations accessible to other users of the computer, Windows Vista and later systems require the display of UAC prompts for credentials.</span></span>

<span data-ttu-id="e0f7c-115">Wenn ein Benutzer ein Dual-Purpose-Paket installiert, das für Windows Installer 5,0 mit Windows Installer 4,5 oder früher erstellt wurde, ignoriert das Installationsprogramm die [**msiinstallperuser**](msiinstallperuser.md) -Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-115">When a user installs a dual-purpose package authored for Windows Installer 5.0 with Windows Installer 4.5 or earlier, the installer ignores the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property.</span></span> <span data-ttu-id="e0f7c-116">In diesem Fall kann die Installation Dateien und Registrierungseinträge an Speicherorte weiterleiten, auf die andere Benutzer zugreifen können, und das System muss UAC-Eingabe Aufforderungen zur Eingabe von Anmelde Informationen anzeigen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-116">In this case, the installation can direct files and registry entries to locations accessible to other users and require the system to display UAC prompts for credentials.</span></span> <span data-ttu-id="e0f7c-117">Windows Installer 5,0 kann ein Paket installieren, das für Windows Installer 4,5 oder früher entwickelt wurde. bei der Installation werden jedoch Dateien und Registrierungseinträge an Speicherorte weitergeleitet, auf die andere Benutzer zugreifen können, und das System muss UAC-Eingabe Aufforderungen für Anmelde Informationen anzeigen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-117">Windows Installer 5.0 can install a package that was developed for Windows Installer 4.5 or earlier, however, the installation directs files and registry entries to locations accessible to other users and requires the system to display UAC prompts for credentials.</span></span>

## <a name="development-guidelines"></a><span data-ttu-id="e0f7c-118">Entwicklungs Richtlinien</span><span class="sxs-lookup"><span data-stu-id="e0f7c-118">Development Guidelines</span></span>

<span data-ttu-id="e0f7c-119">Befolgen Sie die folgenden Richtlinien für die Erstellung von einzelnen Paketen, um sicherzustellen, dass das Paket entweder im Benutzer-oder computerspezifischen Kontext installiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-119">Adhere to the following single-package authoring guidelines to ensure that the package can be installed in either the per-user or per-machine context.</span></span> <span data-ttu-id="e0f7c-120">Befolgen Sie diese Richtlinien, um dem Benutzer zu ermöglichen, während der Installation eine pro-Benutzer-oder Computer spezifische Installation auszuwählen und UAC-Eingabe Aufforderungen von pro-Benutzer-Installationen zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-120">Follow these guidelines to enable the user to choose at installation time a per-user or per-machine installation and to remove UAC prompts from per-user installations.</span></span>

-   <span data-ttu-id="e0f7c-121">Die Installation pro Benutzer erfordert Windows Installer 5,0 unter Windows 7 oder Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-121">Per-user installation requires Windows Installer 5.0 on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="e0f7c-122">Sie sollten den Benutzer darüber informieren, dass das Paket die Computer spezifische Installation der Anwendung in früheren Versionen des Systems unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-122">You should inform the user that the package supports per-machine installation of the application on earlier versions of the system.</span></span>
-   <span data-ttu-id="e0f7c-123">Initialisieren Sie die Werte für die Eigenschaften " [**ALLUSERS**](allusers.md) " und " [**msiinstallperuser**](msiinstallperuser.md) " in der [Eigenschafts Tabelle](property-table.md) des Pakets mit zwei Zweck.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-123">Initialize the values for the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties in the [Property Table](property-table.md) of your dual-purpose package.</span></span> <span data-ttu-id="e0f7c-124">Verwenden Sie den **ALLUSERS** -Wert 2 und einen **msiinstallperuser** -Wert von 1 als Anfangswerte.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-124">Use **ALLUSERS** value of 2 and a **MSIINSTALLPERUSER** value of 1 as the initial values.</span></span> <span data-ttu-id="e0f7c-125">Hiermit wird die Installation pro Benutzer als Standardwert für das Paket mit zwei Zweck angegeben.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-125">This specifies per-user installation as the default for the dual-purpose package.</span></span>
-   <span data-ttu-id="e0f7c-126">Erstellen Sie ein Dialogfeld für die [Benutzeroberfläche](user-interface.md) des Pakets mit zwei Zweck, das es dem Benutzer ermöglicht, den Kontext zum Installations Zeitpunkt auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-126">Consider authoring a dialog box for the [user interface](user-interface.md) of your dual-purpose package that enables the user to choose the context at installation time.</span></span> <span data-ttu-id="e0f7c-127">Erstellen Sie die Steuerelemente in diesem benutzerdefinierten Dialogfeld, um die Werte der Eigenschaften " [**ALLUSERS**](allusers.md) " und " [**msiinstallperuser**](msiinstallperuser.md) " festzulegen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-127">Author the controls on this custom dialog box to set the values of the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties.</span></span> <span data-ttu-id="e0f7c-128">Legen Sie für den Wert " **ALLUSERS** " auf "2" **msiinstallperuser** den Wert 1 fest, um eine Installation pro Benutzer anzugeben, und legen Sie **msiinstallperuser** auf eine leere Zeichenfolge ("") fest, um eine Installation pro Computer anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-128">For the **ALLUSERS** value of 2, set **MSIINSTALLPERUSER** to a value of 1 to specify a per-user installation and set **MSIINSTALLPERUSER** to an empty string ("") to specify a per-machine installation.</span></span> <span data-ttu-id="e0f7c-129">Benutzer können auch die **ALLUSERS** und **msiinstallperuser** in der Befehlszeile festlegen, wenn Sie das Paket über die Befehlszeile installieren.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-129">Users can also set the **ALLUSERS** and **MSIINSTALLPERUSER** on the command line if they install the package from the command line.</span></span>
-   <span data-ttu-id="e0f7c-130">Überprüfen Sie das Paket mithilfe [interner Konsistenz Auswertung-ICES](internal-consistency-evaluators-ices.md).</span><span class="sxs-lookup"><span data-stu-id="e0f7c-130">Validate the package using [Internal Consistency Evaluators - ICEs](internal-consistency-evaluators-ices.md).</span></span> <span data-ttu-id="e0f7c-131">Das Paket muss in der Lage sein, die Überprüfung durch [ICE105](ice-105.md) an ein gültiges Paket mit zwei Zweck zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-131">The package must be able to pass validation by [ICE105](ice-105.md) to be a valid dual-purpose package.</span></span>
-   <span data-ttu-id="e0f7c-132">Verwenden Sie die- [Registrierungs Tabelle](registry-table.md) und die [removeregistry-Tabelle](removeregistry-table.md) , um Registrierungseinträge während der Installation pro Benutzer an die einzelnen Benutzer Teile der Registrierung umzuleiten.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-132">Use the [Registry Table](registry-table.md) and [RemoveRegistry Table](removeregistry-table.md) to redirect registry entries to the per-user parts of the registry during per-user installations.</span></span> <span data-ttu-id="e0f7c-133">Bei einer pro-Benutzer-Installation werden Registrierungseinträge mit-1 in der Stamm Spalte an den **aktuellen HKEY \_ - \_ Benutzer** umgeleitet, und bei einer Installation pro Computer werden diese an den **lokalen HKEY- \_ \_ Computer** geleitet.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-133">In a per-user installation, registry entries that have -1 in the Root column are redirected to **HKEY\_CURRENT\_USER**, and in a per-machine installation these are directed to **HKEY\_LOCAL\_MACHINE**.</span></span> <span data-ttu-id="e0f7c-134">In einer pro-Benutzer-Installation werden Registrierungseinträge, die msidbregistryrootclassesroot (0) in der Stamm Spalte enthalten, in die **HKCU** \\ -**Software** \\ **Klassen** umgeleitet, und in einer computerspezifischen Installation werden diese an **HKLM**- \\ **Software** \\ **Klassen** weitergeleitet.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-134">In a per-user installation, registry entries that have msidbRegistryRootClassesRoot (0) in the Root column are redirected to **HKCU**\\**Software**\\**Classes**, and in a per-machine installation, these are directed to **HKLM**\\**Software**\\**Classes**.</span></span>
-   <span data-ttu-id="e0f7c-135">Verwenden Sie die [**ProgramFilesFolder**](programfilesfolder.md) -Eigenschaft in der [Verzeichnis Tabelle](directory-table.md) der [32-Bit-Windows Installer Paketen](32-bit-windows-installer-packages.md) , um die Speicherorte von Verzeichnissen anzugeben, die 32-Bit-Komponenten enthalten, die nicht Anwendungs übergreifend verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-135">Use the [**ProgramFilesFolder**](programfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components not shared across applications.</span></span> <span data-ttu-id="e0f7c-136">Wenn ein Benutzer das Dual-Zweck-Paket mit dem computerspezifischen Kontext installiert, werden diese Komponenten im Ordner "Programme" auf 32-Bit-Versionen von Windows und im Ordner "Programme (x86)" auf 64-Bit-Versionen des Systems gespeichert.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-136">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder on 32-bit versions of Windows and in the Program Files (x86) folder on 64-bit versions of the system.</span></span> <span data-ttu-id="e0f7c-137">Auf die Komponenten in diesen Verzeichnissen kann von allen Benutzern zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-137">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="e0f7c-138">Wenn ein Benutzer das Dual-Zweck-Paket unter Windows 7 oder Windows Server 2008 R2 mithilfe des benutzerspezifischen Kontexts installiert, werden diese Komponenten im Ordner "Programme" des aktuellen Benutzers gespeichert (z. b. unter% LocalAppData% \\ programs), und nur dieser Benutzer kann darauf zugreifen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-138">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="e0f7c-139">Verwenden Sie die [**CommonFilesFolder**](commonfilesfolder.md) -Eigenschaft in der [Verzeichnis Tabelle](directory-table.md) der [32-Bit-Windows Installer Paketen](32-bit-windows-installer-packages.md) , um die Speicherorte von Verzeichnissen anzugeben, die 32-Bit-Komponenten enthalten, die Anwendungs übergreifend verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-139">Use the [**CommonFilesFolder**](commonfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components shared across applications.</span></span> <span data-ttu-id="e0f7c-140">Wenn ein Benutzer das Dual-Zweck-Paket mit dem computerspezifischen Kontext installiert, werden diese Komponenten im Ordner "gemeinsame Dateien" gespeichert, und von allen Benutzern kann darauf zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-140">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="e0f7c-141">Wenn ein Benutzer das Dual-Zweck-Paket unter Windows 7 oder Windows Server 2008 R2 über den Benutzer bezogenen Kontext installiert, werden diese Komponenten im Ordner "Allgemein" des aktuellen Benutzers gespeichert (z. b. bei "% LocalAppData%-Programme Common"), auf den \\ \\ nur dieser Benutzer zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-141">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="e0f7c-142">Verwenden Sie die [**ProgramFiles64Folder**](programfiles64folder.md) -Eigenschaft in der [Verzeichnis Tabelle](directory-table.md) der [64-Bit-Windows Installer Paketen](64-bit-windows-installer-packages.md) , um die Speicherorte von Verzeichnissen anzugeben, die 64-Bit-Komponenten enthalten, die nicht Anwendungs übergreifend verwendet werden</span><span class="sxs-lookup"><span data-stu-id="e0f7c-142">Use the [**ProgramFiles64Folder**](programfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components not shared across applications.</span></span> <span data-ttu-id="e0f7c-143">Wenn ein Benutzer das Dual-Zweck-Paket mit dem computerspezifischen Kontext installiert, werden diese Komponenten im Ordner "Programme" gespeichert.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-143">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder.</span></span> <span data-ttu-id="e0f7c-144">Auf die Komponenten in diesen Verzeichnissen kann von allen Benutzern zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-144">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="e0f7c-145">Wenn ein Benutzer das Dual-Zweck-Paket unter Windows 7 oder Windows Server 2008 R2 mithilfe des benutzerspezifischen Kontexts installiert, werden diese Komponenten im Ordner "Programme" des aktuellen Benutzers gespeichert (z. b. unter% LocalAppData% \\ programs), und nur dieser Benutzer kann darauf zugreifen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-145">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span> <span data-ttu-id="e0f7c-146">Weitere Informationen zum Erstellen eines Pakets für die Installation einer Anwendung auf 64-Bit-Betriebssystemen finden Sie unter [Windows Installer auf 64-Bit-Betriebs](windows-installer-on-64-bit-operating-systems.md)Systemen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-146">For more information about authoring a package to install an application on 64-bit operating systems, see [Windows Installer on 64-bit Operating Systems](windows-installer-on-64-bit-operating-systems.md).</span></span>
-   <span data-ttu-id="e0f7c-147">Verwenden Sie die [**CommonFiles64Folder**](commonfiles64folder.md) -Eigenschaft in der [Verzeichnis Tabelle](directory-table.md) der [64-Bit-Windows Installer Paketen](64-bit-windows-installer-packages.md) , um die Speicherorte von Verzeichnissen anzugeben, die 64-Bit-Komponenten enthalten, die Anwendungs übergreifend verwendet werden</span><span class="sxs-lookup"><span data-stu-id="e0f7c-147">Use the [**CommonFiles64Folder**](commonfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components shared across applications.</span></span> <span data-ttu-id="e0f7c-148">Wenn ein Benutzer das Dual-Zweck-Paket mit dem computerspezifischen Kontext installiert, werden diese Komponenten im Ordner "gemeinsame Dateien" gespeichert, und von allen Benutzern kann darauf zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-148">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="e0f7c-149">Wenn ein Benutzer das Dual-Zweck-Paket unter Windows 7 oder Windows Server 2008 R2 über den Benutzer bezogenen Kontext installiert, werden diese Komponenten im Ordner "Allgemein" des aktuellen Benutzers gespeichert (z. b. bei "% LocalAppData%-Programme Common"), auf den \\ \\ nur dieser Benutzer zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-149">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="e0f7c-150">Verwenden Sie die Eigenschaften [**ProgramFilesFolder**](programfilesfolder.md) und [**CommonFilesFolder**](commonfilesfolder.md) in der [Verzeichnis Tabelle](directory-table.md) [64-Bit-Windows Installer Paketen](64-bit-windows-installer-packages.md) , um den Speicherort der Verzeichnisse anzugeben, die 32-Bit-Komponenten enthalten.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-150">Use the [**ProgramFilesFolder**](programfilesfolder.md) and [**CommonFilesFolder**](commonfilesfolder.md) properties in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the location of directories containing 32-bit components.</span></span> <span data-ttu-id="e0f7c-151">Verwenden Sie unterschiedliche Namen für die 32-Bit-und 64-Bit-Versionen von Komponenten, die mit demselben Namen bereitgestellt werden, oder speichern Sie die Versionen alternativ in verschiedenen Ordnern.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-151">Use different names for the 32-bit and 64-bit versions of any components provided with the same name, or alternatively, save the versions in different folders.</span></span> <span data-ttu-id="e0f7c-152">Fügen Sie beispielsweise der Verzeichnis Tabelle Informationen hinzu, um den Speicherort des Verzeichnisses, das die 32-Bit-Version enthält, als \[ ProgramFilesFolder \] \\ *ISV Name* \\ *Anwendungsname* \\ x86 und den Speicherort des Verzeichnisses, das die 64-Bit-Version enthält, als \[ Program64FilesFolder \] \\ *ISV Name* \\ *Application Name* \\ x64 anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-152">For example, add information to the Directory table to specify the location of the directory containing the 32-bit version as \[ProgramFilesFolder\]\\*ISV Name*\\*Application Name*\\x86 and the location of the directory containing the 64-bit version as \[Program64FilesFolder\]\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="e0f7c-153">Eine Computer spezifische Installation speichert dann die 32-Bit-Version in "Programme (x86) \\ *ISV Name* \\ *Anwendungsname* \\ x86" und speichert die 64-Bit-Version in "Programme \\ *ISV Name* \\ *Application Name* \\ x64".</span><span class="sxs-lookup"><span data-stu-id="e0f7c-153">A per-machine installation then saves the 32-bit version in Program Files(x86)\\*ISV Name*\\*Application Name*\\x86 and saves the 64-bit version in Program Files\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="e0f7c-154">Bei einer pro-Benutzer-Installation wird die 32-Bit-Version in "% LocalAppData% \\ programs \\ *ISV Name* \\ *Application Name* x86" gespeichert, \\ und die 64-Bit-Version wird unter "% LocalAppData% \\ programs \\ *ISV Name* \\ *Application Name* \\ x64" installiert.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-154">A per-user installation saves the 32-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x86 and installs the 64-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x64.</span></span>
-   <span data-ttu-id="e0f7c-155">Speichern Sie benutzerspezifische Konfigurationsdaten für die Anwendung unter \\ Benutzer \\ *Benutzername* \\ AppData.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-155">Store per-user configuration data for the application under \\Users\\*username*\\AppData.</span></span>
-   <span data-ttu-id="e0f7c-156">Speichert Vorlagen und Dateien, die von der Anwendung generiert wurden, in Unterordnern unter \\ Benutzer \\ *Benutzername*.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-156">Store templates and files generated by the application in subfolders under \\Users\\*username*.</span></span>
-   <span data-ttu-id="e0f7c-157">Wenn Ihre Anwendung Shellerweiterungen verwendet, sollten Sie die pro Benutzer fähigen [shellerweiterbarkeits](https://msdn.microsoft.com/library/bb762762.aspx) Punkte verwenden, die ab Windows 7 oder Windows Server 2008 R2 verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-157">If your application uses shell extensions, you should use the per-user-capable [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) points that are available beginning in Windows 7 or Windows Server 2008 R2.</span></span>
-   <span data-ttu-id="e0f7c-158">Verwenden Sie keine benutzerdefinierten Aktionen in Ihrem Paket, für die eine Rechte Erweiterung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-158">Do not use custom actions in your package that require elevated privileges to run.</span></span> <span data-ttu-id="e0f7c-159">Die Tabelle " [CustomAction](customaction-table.md) " sollte keine benutzerdefinierten Aktionen enthalten, die mit erhöhten Rechten ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-159">The [CustomAction](customaction-table.md) table should contain no custom actions that have been marked to run with elevated privileges.</span></span> <span data-ttu-id="e0f7c-160">Weitere Informationen zu erweiterten benutzerdefinierten Aktionen finden Sie unter [Sicherheit für benutzerdefinierte](custom-action-security.md)Aktionen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-160">For more information about elevated custom actions, see [Custom Action Security](custom-action-security.md).</span></span>
-   <span data-ttu-id="e0f7c-161">Schreiben Sie keinen globalen Systemordner.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-161">Do not write in any global system folders.</span></span> <span data-ttu-id="e0f7c-162">Die [Verzeichnis](directory-table.md) Tabelle sollte keinen Verweis auf die folgenden Eigenschaften des System Ordners enthalten.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-162">The [Directory](directory-table.md) table should not contain a reference to any of the following system folder properties.</span></span>

    <dl>

[<span data-ttu-id="e0f7c-163">**Ordner "admintools"**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-163">**AdminToolsFolder**</span></span>](admintoolsfolder.md)  
    [<span data-ttu-id="e0f7c-164">**Commonappdatafolder**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-164">**CommonAppDataFolder**</span></span>](commonappdatafolder.md)  
    [<span data-ttu-id="e0f7c-165">**Fonsordner**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-165">**FontsFolder**</span></span>](fontsfolder.md)  
    [<span data-ttu-id="e0f7c-166">**System16Folder**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-166">**System16Folder**</span></span>](system16folder.md)  
    [<span data-ttu-id="e0f7c-167">**System64Folder**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-167">**System64Folder**</span></span>](system64folder.md)  
    [<span data-ttu-id="e0f7c-168">**Systemordner**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-168">**SystemFolder**</span></span>](systemfolder.md)  
    [<span data-ttu-id="e0f7c-169">**TempFolder**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-169">**TempFolder**</span></span>](tempfolder.md)  
    [<span data-ttu-id="e0f7c-170">**Verzeichnis Windows befinden**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-170">**WindowsFolder**</span></span>](windowsfolder.md)  
    [<span data-ttu-id="e0f7c-171">**Windows Volume**</span><span class="sxs-lookup"><span data-stu-id="e0f7c-171">**WindowsVolume**</span></span>](windowsvolume.md)  
    </dl>

-   <span data-ttu-id="e0f7c-172">Installieren Sie keine Common Language Runtime-Assembly im globalen Assemblycache (GAC). Weitere Informationen zum Installieren von Assemblys im globalen Assemblycache finden Sie unter [Hinzufügen](adding-assemblies-to-a-package.md) von Assemblys zu Paketen und installieren [von Common Language Runtime](installation-of-common-language-runtime-assemblies.md)-Assemblys</span><span class="sxs-lookup"><span data-stu-id="e0f7c-172">Do not install a common language runtime assembly into the global assembly cache (GAC.) For more information about installing assemblies to the global assembly cache, see [Adding Assemblies to a Package](adding-assemblies-to-a-package.md) and [Installation of Common Language Runtime Assemblies](installation-of-common-language-runtime-assemblies.md).</span></span>
-   <span data-ttu-id="e0f7c-173">Installieren Sie keine ODBC-Datenquellen.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-173">Do not install any ODBC data sources.</span></span> <span data-ttu-id="e0f7c-174">Verwenden Sie die [ODBCDatasource](odbcdatasource-table.md) -Tabelle nicht, um eine Datenquelle zu installieren.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-174">Do not use the [ODBCDataSource](odbcdatasource-table.md) table to install a data source.</span></span>
-   <span data-ttu-id="e0f7c-175">Installieren Sie keine Dienste.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-175">Do not install any services.</span></span> <span data-ttu-id="e0f7c-176">Verwenden Sie die Tabelle [servicabstall](serviceinstall-table.md) nicht, um einen Dienst zu installieren.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-176">Do not use the [ServiceInstall](serviceinstall-table.md) table to install a service.</span></span>

## <a name="example"></a><span data-ttu-id="e0f7c-177">Beispiel</span><span class="sxs-lookup"><span data-stu-id="e0f7c-177">Example</span></span>

<span data-ttu-id="e0f7c-178">Ein Beispiel für ein Paket mit zwei Zweck wird in den [Windows SDK Komponenten für Windows Installer Entwickler](platform-sdk-components-for-windows-installer-developers.md) als Datei PUASample1.msi bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-178">An example of a dual-purpose package is provided in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md) as the file PUASample1.msi.</span></span> <span data-ttu-id="e0f7c-179">Wenn Sie über das aktuelle SDK verfügen, haben Sie Zugriff auf alle Tools und Daten, die für die Reproduktion des Beispiel Installationspakets erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="e0f7c-179">If you have the current SDK, you have access to all the tools and data necessary to reproduce the sample installation package.</span></span> <span data-ttu-id="e0f7c-180">Weitere Informationen zu diesem Beispiel finden Sie unter [Beispiel für die Erstellung eines einzelnen Pakets](single-package-authoring-example.md).</span><span class="sxs-lookup"><span data-stu-id="e0f7c-180">For more information about this example, see [Single Package Authoring Example](single-package-authoring-example.md).</span></span>

 

 
