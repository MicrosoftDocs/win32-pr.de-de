---
description: Windows Installer enthält Funktionen zum Anzeigen einer Statusanzeige in einem Aktions Anzeige Dialogfeld.
ms.assetid: cfc2d974-4f2d-4f52-9835-eab1dc091c9b
title: Erstellen eines ProgressBar-Steuer Elements
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b872ed2dd36fb8ed04ee48fd69e4680fce002a18
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103864459"
---
# <a name="authoring-a-progressbar-control"></a><span data-ttu-id="a47d5-103">Erstellen eines ProgressBar-Steuer Elements</span><span class="sxs-lookup"><span data-stu-id="a47d5-103">Authoring a ProgressBar Control</span></span>

<span data-ttu-id="a47d5-104">Windows Installer enthält Funktionen zum Anzeigen einer Statusanzeige in einem Aktions Anzeige Dialogfeld.</span><span class="sxs-lookup"><span data-stu-id="a47d5-104">Windows Installer contains functionality to display a progress indicator in an action display dialog.</span></span> <span data-ttu-id="a47d5-105">Das [ProgressBar-Steuer](progressbar-control.md) Element stellt die Installation einzelner Komponenten grafisch dar und meldet entweder die insgesamt verstrichene Zeit relativ zur verbleibenden Zeit oder die ungefähre gesamte Zeit, die bis zum Abschluss der Installation verbleiben.</span><span class="sxs-lookup"><span data-stu-id="a47d5-105">The [ProgressBar control](progressbar-control.md) graphically represents the installation of individual components and reports either the total time elapsed relative to time remaining or the approximate total time remaining until the installation is complete.</span></span>

<span data-ttu-id="a47d5-106">Um die Gesamtzeit zu bestimmen, die für die Installation geplant ist, verfolgt das Installationsprogramm die gesamten Status Ticks, die von den einzelnen Aktionen während der Generierung des Ausführungs Skripts erwartet werden.</span><span class="sxs-lookup"><span data-stu-id="a47d5-106">To determine the total time anticipated for the installation, the installer tracks the total progress ticks anticipated by each action during generation of the execution script.</span></span> <span data-ttu-id="a47d5-107">Wenn die Skript Generierung abgeschlossen ist, wird der Status Tick Total (Gesamtwert) gespeichert, und die Installation beginnt.</span><span class="sxs-lookup"><span data-stu-id="a47d5-107">When script generation is complete, the progress tick total is stored and the installation begins.</span></span>

<span data-ttu-id="a47d5-108">Fortschrittsmeldungen mit der verstrichenen Anzahl von Status Ticks werden an den aktiven Nachrichten Handler gesendet, wenn jede Aktion im Skript ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a47d5-108">Progress messages detailing the elapsed number of progress ticks are sent to the active message handler as each action in the script is executed.</span></span> <span data-ttu-id="a47d5-109">Bei jeder Statusmeldung überträgt das Installationsprogramm einen [setProgress-ControlEvent](setprogress-controlevent.md) an das momentan aktive Dialogfeld.</span><span class="sxs-lookup"><span data-stu-id="a47d5-109">On each progress message, the installer broadcasts a [SetProgress ControlEvent](setprogress-controlevent.md) to the currently active dialog box.</span></span> <span data-ttu-id="a47d5-110">Die UI-Sequenz sollte erstellt werden, um das Dialogfeld Aktions Anzeige während der Skriptausführung zu erstellen, um die setProgress ControlEvent-Meldungen vom Installationsprogramm zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="a47d5-110">The UI sequence should be authored to create the action display dialog box during script execution to receive the SetProgress ControlEvent messages from the installer.</span></span>

<span data-ttu-id="a47d5-111">Wenn das Dialogfeld Aktions Anzeige ein setProgress ControlEvent empfängt, überprüft es die [EventMapping-Tabelle](eventmapping-table.md) auf alle Steuerelemente, die das ControlEvent-Element abonniert haben.</span><span class="sxs-lookup"><span data-stu-id="a47d5-111">When the action display dialog box receives a SetProgress ControlEvent, it checks the [EventMapping table](eventmapping-table.md) for any controls subscribing to the ControlEvent.</span></span> <span data-ttu-id="a47d5-112">Das ProgressBar-Steuerelement im Dialogfeld Aktions Anzeige wird mit dem in der Spalte Attribute angegebenen Attribut für die Fortschritts Steuerung abonniert.</span><span class="sxs-lookup"><span data-stu-id="a47d5-112">The ProgressBar control on the action display dialog box is subscribed to with the Progress control attribute specified in the Attributes column.</span></span> <span data-ttu-id="a47d5-113">Das Progress Control-Attribut gibt an, dass das ProgressBar-Steuerelement zusammen mit dem setProgress ControlEvent die Werte "tickssofar" und "totalticks" übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="a47d5-113">The Progress Control attribute specifies that the ProgressBar control will be passed "ticksSoFar" and "totalTicks" values along with the SetProgress ControlEvent.</span></span> <span data-ttu-id="a47d5-114">Das Statusanzeige-Steuerelement verwendet diese Informationen, um die grafische Leiste von links nach rechts für eine-Installation und von rechts nach Links für einen [Rollback](rollback-installation.md) -Vorgang zu verschieben.</span><span class="sxs-lookup"><span data-stu-id="a47d5-114">The progress bar control uses this information to advance the graphical bar from left to right for an installation and from right to left for a [rollback](rollback-installation.md) operation.</span></span>

<span data-ttu-id="a47d5-115">Außerdem überträgt das Installationsprogramm für jede Statusmeldung ein [timeremainung-ControlEvent](timeremaining-controlevent.md) .</span><span class="sxs-lookup"><span data-stu-id="a47d5-115">In addition, the installer broadcasts a [TimeRemaining ControlEvent](timeremaining-controlevent.md) on each progress message.</span></span> <span data-ttu-id="a47d5-116">Die gesamte verbleibende Zeit für die Installation wird durch die erste Berechnung der Ausführungsrate bestimmt, d. h. die Gesamtanzahl der verstrichenen Ticks, dividiert durch die Gesamtzeit seit Beginn der Installation.</span><span class="sxs-lookup"><span data-stu-id="a47d5-116">The total time remaining for the installation is determined by first calculating the execution rate, which is the total number of ticks elapsed divided by the total time since the installation began.</span></span> <span data-ttu-id="a47d5-117">Die verbleibenden Ticks, die durch die Ausführungsrate geteilt werden, geben die ungefähre verbleibende Zeit an.</span><span class="sxs-lookup"><span data-stu-id="a47d5-117">The total ticks remaining divided by the execution rate gives the approximate time remaining.</span></span>

<span data-ttu-id="a47d5-118">Wenn das Dialogfeld Aktions Anzeige das timeremaindingcontrolevent empfängt, sucht es erneut in der Tabelle EventMapping nach den abonnierenden Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="a47d5-118">When the action display dialog box receives the TimeRemaining ControlEvent, it again looks in the EventMapping table for any controls that are subscribed.</span></span> <span data-ttu-id="a47d5-119">Um die verbleibende Zeit anzuzeigen, muss ein [Text Steuer](text-control.md) Element für das timeremainingcontrolevent-Steuerelement mit dem [timeremainung-Steuer](timeremaining-control-attribute.md) Element, das in der Attribut Spalte angegeben ist, abonniert werden.</span><span class="sxs-lookup"><span data-stu-id="a47d5-119">In order to display the time remaining, a [Text control](text-control.md) must be subscribed to the TimeRemaining ControlEvent with the [TimeRemaining control attribute](timeremaining-control-attribute.md) specified in the Attributes column.</span></span>

<span data-ttu-id="a47d5-120">Das abonnierte Text Steuerelement fragt die [UIText-Tabelle](uitext-table.md) nach einer parametrisierten Vorlagen Zeichenfolge mit dem Namen "timeremainung" ab.</span><span class="sxs-lookup"><span data-stu-id="a47d5-120">The subscribed Text control queries the [UIText table](uitext-table.md) for a parameterized template string named "TimeRemaining".</span></span> <span data-ttu-id="a47d5-121">Diese Zeichenfolge hat zwei Parameter: \[ 1 \] für Minuten und \[ 2 \] für Sekunden.</span><span class="sxs-lookup"><span data-stu-id="a47d5-121">This string has two parameters, \[1\] for minutes, and \[2\] for seconds.</span></span> <span data-ttu-id="a47d5-122">Das Text Steuerelement konvertiert jeden Wert in Minuten und Sekunden, wertet die timeremainung-Vorlagen Zeichenfolge aus und aktualisiert das Text Steuerelement mit den neuen Informationen.</span><span class="sxs-lookup"><span data-stu-id="a47d5-122">The Text control converts each value to minutes and seconds, evaluates the TimeRemaining template string, and updates the text control with the new information.</span></span>

<span data-ttu-id="a47d5-123">Wenn die Anzeige Ebene für die Benutzeroberfläche auf Basic oder niedriger festgelegt ist, zeigt das Installationsprogramm ein Standard Dialogfeld an, das eine Statusanzeige und ein timeremainung-Textfeld enthält.</span><span class="sxs-lookup"><span data-stu-id="a47d5-123">If the UI display level is set to basic or lower, the installer displays a default dialog box containing a progress bar and TimeRemaining text field.</span></span> <span data-ttu-id="a47d5-124">Weitere Informationen finden Sie unter [Benutzeroberflächen Ebenen](user-interface-levels.md).</span><span class="sxs-lookup"><span data-stu-id="a47d5-124">For more information, see [User Interface Levels](user-interface-levels.md).</span></span>

 

 



