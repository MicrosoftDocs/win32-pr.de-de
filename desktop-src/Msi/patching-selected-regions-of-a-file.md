---
description: Beim Patchen von Dateien mit variablen Inhalten ist es möglicherweise erforderlich, die ausgewählten Bereiche der Zieldatei beizubehalten, um den Verlust kritischer Informationen zu verhindern.
ms.assetid: 4a610588-556e-489f-ac14-73e5e6b776fe
title: Patchen ausgewählter Bereiche einer Datei
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 778df4b0cc98eeacd1106929b18c7461c6fa9e70
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106372908"
---
# <a name="patching-selected-regions-of-a-file"></a><span data-ttu-id="4ab2e-103">Patchen ausgewählter Bereiche einer Datei</span><span class="sxs-lookup"><span data-stu-id="4ab2e-103">Patching Selected Regions of a File</span></span>

<span data-ttu-id="4ab2e-104">Beim Patchen von Dateien mit variablen Inhalten ist es möglicherweise erforderlich, die ausgewählten Bereiche der Zieldatei beizubehalten, um den Verlust kritischer Informationen zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-104">When patching files having variable content, it may be necessary to retain selected regions of the target file to prevent the lost of critical information.</span></span> <span data-ttu-id="4ab2e-105">Beispielsweise Stempeln einige Anwendungen Benutzerinformationen in die ausführbare Datei.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-105">For example, some applications stamp user information into the executable file.</span></span> <span data-ttu-id="4ab2e-106">Da der Inhalt der Zieldatei von dem Computer abhängig sein kann, auf dem die Anwendung installiert ist, wird es schwierig zu bestimmen, ob eine bestimmte Datei ein gültiges Ziel für den Patch ist.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-106">Because the contents of the target file might depend upon the computer on which the application is installed, it becomes difficult to determine whether a particular file is a valid target for the patch.</span></span> <span data-ttu-id="4ab2e-107">Benutzerinformationen, die in der Zieldatei geschrieben wurden, können auch von einem Patch überschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-107">User information written in the target file can also be overwritten by a patch.</span></span>

<span data-ttu-id="4ab2e-108">Wenn Sie eine PCP-Datei (Patch Creation Properties) mit [Msimsp.exe](msimsp-exe.md) und [PATCHWIZ.DLL](patchwiz-dll.md)generieren, können Sie angeben, dass die Informationen in bestimmten Regionen der Zieldatei beim Patchen ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-108">When you generate a patch creation properties (PCP) file with [Msimsp.exe](msimsp-exe.md) and [PATCHWIZ.DLL](patchwiz-dll.md), you can specify that the information in certain regions of the target file be ignored during patching.</span></span> <span data-ttu-id="4ab2e-109">Sie können auch angeben, dass Informationen in anderen Regionen der Zieldatei beibehalten und an einen Offset Speicherort in der aktualisierten Datei kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-109">You can also specify that information in other regions of the target file be retained and copied to an offset location in the updated file.</span></span> <span data-ttu-id="4ab2e-110">Sie geben an, welche Bereiche der Zieldatei ignoriert werden sollen und welche Bereiche beibehalten werden sollen, wenn Sie die Tabellen " [targetfiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md)", " [externalfiles](externalfiles-table-patchwiz-dll-.md)" und " [familyfileranmit](familyfileranges-table-patchwiz-dll-.md) " erstellen.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-110">You specify which regions of the target file to ignore and which regions to retain when authoring the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md), [ExternalFiles](externalfiles-table-patchwiz-dll-.md), and [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) tables.</span></span>

<span data-ttu-id="4ab2e-111">Verwenden Sie die Spalte retainoffsets der Tabelle " [targetfiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) " und die Spalten "retainoffsets" und "retainlängen" der Tabelle " [familyfileranges](familyfileranges-table-patchwiz-dll-.md) ", um einen Bereich von Informationen aus der Zieldatei in einen Offset Bereich in der aktualisierten Datei zu kopieren.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-111">Use the RetainOffsets column of the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) table and the RetainOffsets and RetainLengths columns of the [FamilyFileRanges](familyfileranges-table-patchwiz-dll-.md) table to copy a range of information from the target file to an offset range in the updated file.</span></span> <span data-ttu-id="4ab2e-112">Die Informationen in diesem Bereich werden beibehalten.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-112">The information in this range is retained.</span></span> <span data-ttu-id="4ab2e-113">Geben Sie die Länge des Bereichs mithilfe der retainlängen-Spalten der familyfileranges-Tabelle an.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-113">Specify the length of the range using the RetainLengths columns of the FamilyFileRanges table.</span></span> <span data-ttu-id="4ab2e-114">Die Länge des beibehaltenen Bereichs ist in den Ziel-und aktualisierten Dateien identisch.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-114">The length of the retained range is the same in the target and updated files.</span></span> <span data-ttu-id="4ab2e-115">Geben Sie den Offset des Bereichs in der Zieldatei mithilfe der Spalte retainoffsets der Tabelle "targetfiles OptionalData" an.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-115">Specify the offset of the range in the target file using the RetainOffsets column of the TargetFiles OptionalData table.</span></span> <span data-ttu-id="4ab2e-116">Geben Sie den Offset des Bereichs in der aktualisierten Datei mithilfe der retainoffsets-Spalte der familyfileranges-Tabelle an.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-116">Specify the offset of the range in the updated file using the RetainOffsets column of the FamilyFileRanges table.</span></span> <span data-ttu-id="4ab2e-117">Der Bereich der beibehaltenen Zieldatei ist daher der Wert von retainoffsets in der Tabelle "targetfiles OptionalData" Plus "retainlängen".</span><span class="sxs-lookup"><span data-stu-id="4ab2e-117">The range of the target file retained is therefore the value of RetainOffsets in the TargetFiles OptionalData table plus RetainLengths.</span></span> <span data-ttu-id="4ab2e-118">Diese Informationen werden in die Update Datei in dem Bereich kopiert, der durch den Wert von retainoffsets in den Tabellen "familyfileranges" Plus "retainlängen" angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-118">This information gets copied to the update file in the range given by the value of RetainOffsets in the FamilyFileRanges tables plus RetainLengths.</span></span> <span data-ttu-id="4ab2e-119">Sie können mehrere Bereiche angeben, aber die Reihenfolge der Längen muss mit der Reihenfolge der Offsets identisch sein.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-119">You can specify multiple ranges but the order of the lengths must match the order of the offsets.</span></span>

<span data-ttu-id="4ab2e-120">Verwenden Sie die Tabelle " [targetfiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) ", um einen Bereich der Zieldatei zu ignorieren.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-120">Use the [TargetFiles OptionalData](targetfiles-optionaldata-table-patchwiz-dll-.md) table to ignore a range of the target file.</span></span> <span data-ttu-id="4ab2e-121">Informationen in diesem Bereich der Zieldatei können vom Patch weiterhin überschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-121">Information in this range of the target file can still be overwritten by the patch.</span></span> <span data-ttu-id="4ab2e-122">Geben Sie den Offset des Bereichs in der ignoreoffsets-Spalte und deren Länge in der ignorelengths-Spalte an.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-122">Specify the offset of the range in the IgnoreOffsets column and its length in the IgnoreLengths column.</span></span> <span data-ttu-id="4ab2e-123">Sie können mehrere Bereiche angeben, aber die Reihenfolge der Längen muss mit der Reihenfolge der Offsets identisch sein.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-123">You can specify multiple ranges but the order of the lengths must match the order of the offsets.</span></span>

<span data-ttu-id="4ab2e-124">Die Werte in den Längen-und Offsets-Spalten können Dezimal oder hexadezimal sein.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-124">The values in the lengths and offsets columns can be decimal or hexadecimal.</span></span> <span data-ttu-id="4ab2e-125">[PATCHWIZ.DLL](patchwiz-dll.md) behandelt den Wert als hexadezimal, wenn der Wert "0x" vorangestellt ist.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-125">[PATCHWIZ.DLL](patchwiz-dll.md) treats the value as hexadecimal if it is prefixed by "0x".</span></span> <span data-ttu-id="4ab2e-126">Die Spalten sind Zeichen folgen Spalten, sodass PATCHWIZ.DLL die Werte in ulongs konvertiert.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-126">The columns are string columns, so PATCHWIZ.DLL converts the values to ULONGs.</span></span> <span data-ttu-id="4ab2e-127">Die Spalte Länge gibt die Länge in Bytes an.</span><span class="sxs-lookup"><span data-stu-id="4ab2e-127">The length column specifies the length in bytes.</span></span>

 

 



