---
description: In diesem Beispiel wird veranschaulicht, wie benutzerdefinierte Aktionen verwendet werden, um bei der Installation einer-Komponente Benutzerkonten auf einem lokalen Computer zu erstellen.
ms.assetid: fc06dd7b-46d7-45a0-85b3-26f808c64f89
title: Verwenden einer benutzerdefinierten Aktion zum Erstellen von Benutzerkonten auf einem lokalen Computer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cfd3bf002c0fa1d661c6bfebb6d1a18cbc4b0652
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104346578"
---
# <a name="using-a-custom-action-to-create-user-accounts-on-a-local-computer"></a><span data-ttu-id="46021-103">Verwenden einer benutzerdefinierten Aktion zum Erstellen von Benutzerkonten auf einem lokalen Computer</span><span class="sxs-lookup"><span data-stu-id="46021-103">Using a Custom Action to Create User Accounts on a Local Computer</span></span>

<span data-ttu-id="46021-104">In diesem Beispiel wird veranschaulicht, wie benutzerdefinierte Aktionen verwendet werden, um bei der Installation einer-Komponente Benutzerkonten auf einem lokalen Computer zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="46021-104">This sample demonstrates how to use custom actions to create user accounts on a local computer when installing a component.</span></span> <span data-ttu-id="46021-105">Beim Entfernen einer Komponente werden die von der benutzerdefinierten Aktion erstellten lokalen Benutzerkonten entfernt.</span><span class="sxs-lookup"><span data-stu-id="46021-105">Removal of a component removes the local user accounts created by the custom action.</span></span> <span data-ttu-id="46021-106">Es werden mehrere benutzerdefinierte Aktionen veranschaulicht, z.b. [benutzerdefinierte Aktionen für die verzögerte Ausführung](deferred-execution-custom-actions.md) und [Rollback von benutzerdefinierten Aktionen](rollback-custom-actions.md)</span><span class="sxs-lookup"><span data-stu-id="46021-106">Several custom actions are demonstrated including [Deferred Execution Custom Actions](deferred-execution-custom-actions.md) and [Rollback Custom Actions](rollback-custom-actions.md).</span></span>

<span data-ttu-id="46021-107">Das Beispiel entspricht den folgenden Spezifikationen.</span><span class="sxs-lookup"><span data-stu-id="46021-107">The sample meets the following specifications.</span></span>

-   <span data-ttu-id="46021-108">Bei der Installation werden Benutzerkonten nur erstellt, wenn Windows 2000 ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="46021-108">The installation creates user accounts only if running Windows 2000.</span></span>
-   <span data-ttu-id="46021-109">Bei der Installation werden Benutzerkonten nur dann erstellt, wenn die Komponente zur lokalen Installation installiert wird.</span><span class="sxs-lookup"><span data-stu-id="46021-109">The installation creates user accounts only if the component is being installed to run locally.</span></span> <span data-ttu-id="46021-110">Dies verhindert, dass Benutzerkonten während der Reparatur oder Neuinstallation der Komponente erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="46021-110">This precludes creating user accounts during the repair or reinstallation of the component.</span></span>
-   <span data-ttu-id="46021-111">Der Installer entfernt die Konten, wenn die Komponente entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="46021-111">The Installer removes the accounts when the component is removed.</span></span>
-   <span data-ttu-id="46021-112">Benutzerkontoinformationen werden aus einer benutzerdefinierten Tabelle in der Installations Datenbank gelesen und sind nicht in den benutzerdefinierten Aktions Code hart codiert.</span><span class="sxs-lookup"><span data-stu-id="46021-112">User account information is read from a custom table in the installation database and is not hard-coded into the custom action code.</span></span>
-   <span data-ttu-id="46021-113">Da das Erstellen oder Entfernen von Benutzerkonten erhöhte Rechte erfordert, müssen einige benutzerdefinierte Aktionen in der Lage sein, Änderungen am System vorzunehmen, die erhöhte Rechte erfordern.</span><span class="sxs-lookup"><span data-stu-id="46021-113">Because the creation or removal of user accounts requires elevated privileges, some of the custom actions must be capable of making changes to the system that require elevated privileges.</span></span> <span data-ttu-id="46021-114">Diese benutzerdefinierten Aktionen müssen verzögerte benutzerdefinierte Aktionen sein, die im Ausführungs Skript ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="46021-114">These custom actions must be deferred custom actions that run when in the execution script.</span></span>
-   <span data-ttu-id="46021-115">Jedes Konto verfügt über eine benutzerdefinierte Rollback-Aktion, um sicherzustellen, dass das Konto bei einem Rollback der Komponenteninstallation entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="46021-115">Each account has a rollback custom action to ensure the account is removed on rollback of the component installation.</span></span> <span data-ttu-id="46021-116">Dies schließt nicht das Rollback eines Kontos ein, das beim Entfernen einer Komponente gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="46021-116">This does not include the rollback of an account deletion during the removal of a component.</span></span>
-   <span data-ttu-id="46021-117">Benutzerdefinierte Aktionen senden Aktions Daten Meldungen für jedes erstellte oder entfernte Konto.</span><span class="sxs-lookup"><span data-stu-id="46021-117">Custom actions send ActionData messages for each account that is created or removed.</span></span> <span data-ttu-id="46021-118">Dies schließt keine Bereitstellung von Statusmeldungen für die ProgressBar ein.</span><span class="sxs-lookup"><span data-stu-id="46021-118">This does not include providing progress messages for the ProgressBar.</span></span>
-   <span data-ttu-id="46021-119">Benutzerdefinierte Aktionen melden einen Fehler, wenn ein Konto nicht erstellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="46021-119">Custom actions report an error if an account cannot be created.</span></span>
-   <span data-ttu-id="46021-120">Das Kennwort für das Konto wird durch die Benutzerinteraktion mit der Benutzeroberfläche oder bei einer Installation auf der Standardbenutzer Oberfläche oder auf keiner [Benutzeroberflächen Ebene](user-interface-levels.md)abgerufen, als eine Eigenschaft, die in der Befehlszeile angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="46021-120">The password for the account is obtained through the user interaction with the user interface, or in the case of an installation at the Basic UI or None [User Interface Levels](user-interface-levels.md), as a property passed on the command line.</span></span>
-   <span data-ttu-id="46021-121">Sensible Daten werden in der Protokolldatei ausgeblendet.</span><span class="sxs-lookup"><span data-stu-id="46021-121">Sensitive data is hidden from the log file.</span></span>

<span data-ttu-id="46021-122">Das Beispiel enthält eine hypothetische Komponente mit dem Namen "Testaccount".</span><span class="sxs-lookup"><span data-stu-id="46021-122">The sample includes a hypothetical component named TestAccount.</span></span> <span data-ttu-id="46021-123">Bei der Erörterung in den folgenden Abschnitten wird davon ausgegangen, dass Sie bereits die für Testaccount benötigten Ressourcen erstellt und die Tabellen [Feature](feature-table.md), [Component](component-table.md), [File](file-table.md), [Directory](directory-table.md)und [FeatureComponents](featurecomponents-table.md) in der-Beispieldatenbank erstellt haben, die für die Installation dieser Komponente erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="46021-123">The discussion in the following sections assumes that you have already created the resources required by TestAccount and have authored the [Feature](feature-table.md), [Component](component-table.md), [File](file-table.md), [Directory](directory-table.md), and [FeatureComponents](featurecomponents-table.md) tables in the sample database required to install this component.</span></span> <span data-ttu-id="46021-124">Weitere Informationen finden Sie unter [einem Installations Beispiel](an-installation-example.md).</span><span class="sxs-lookup"><span data-stu-id="46021-124">For more information, see [An Installation Example](an-installation-example.md).</span></span>

<span data-ttu-id="46021-125">Die folgenden Themen enthalten Informationen zum Erstellen erforderlicher benutzerdefinierter Aktionen und zum Hinzufügen zu einem-Installationspaket.</span><span class="sxs-lookup"><span data-stu-id="46021-125">The following topics contain information about how to create required custom actions and add them to an installation package.</span></span>

-   [<span data-ttu-id="46021-126">Erstellen der benutzerdefinierten Aktionen</span><span class="sxs-lookup"><span data-stu-id="46021-126">Authoring the Custom Actions</span></span>](authoring-the-custom-actions.md)
-   [<span data-ttu-id="46021-127">Hinzufügen einer benutzerdefinierten customuseraccounts-Tabelle</span><span class="sxs-lookup"><span data-stu-id="46021-127">Adding a Custom CustomUserAccounts Table</span></span>](adding-a-custom-customuseraccounts-table.md)
-   [<span data-ttu-id="46021-128">Erstellen der Tabelle "CustomAction"</span><span class="sxs-lookup"><span data-stu-id="46021-128">Authoring the CustomAction Table</span></span>](authoring-the-customaction-table.md)
-   [<span data-ttu-id="46021-129">Erstellen der Aktions Text-und Fehler Tabellen</span><span class="sxs-lookup"><span data-stu-id="46021-129">Authoring the ActionText and Error Tables</span></span>](authoring-the-actiontext-and-error-tables.md)
-   [<span data-ttu-id="46021-130">Erstellen der InstallExecuteSequence-Tabelle</span><span class="sxs-lookup"><span data-stu-id="46021-130">Authoring the InstallExecuteSequence Table</span></span>](authoring-the-installexecutesequence-table.md)
-   [<span data-ttu-id="46021-131">Erstellen der Benutzeroberfläche für die Kenn Wort Eingabe</span><span class="sxs-lookup"><span data-stu-id="46021-131">Authoring the User Interface for Password Input</span></span>](authoring-the-user-interface-for-password-input.md)
-   [<span data-ttu-id="46021-132">Sichern der Installation</span><span class="sxs-lookup"><span data-stu-id="46021-132">Securing the installation</span></span>](securing-the-installation.md)

 

 



