---
title: Abrufen von Identitätsinformationen
description: Der Hersteller, der das Authentifizierungsprotokoll implementiert, kann auch eine Funktions Schnittstelle bereitstellen, die anfängliche identifizierende Informationen für den Benutzer erhält, der die Authentifizierung anfordert.
ms.assetid: 773c9fdb-c810-4cea-afed-df6484a9c9c9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bb9519da9d66937fd25245fe78f12ef34c3c0ad8
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/19/2020
ms.locfileid: "104038831"
---
# <a name="obtaining-identity-information"></a><span data-ttu-id="0aa3c-103">Abrufen von Identitätsinformationen</span><span class="sxs-lookup"><span data-stu-id="0aa3c-103">Obtaining Identity Information</span></span>

<span data-ttu-id="0aa3c-104">Der Hersteller, der das Authentifizierungsprotokoll implementiert, kann auch eine Funktions Schnittstelle bereitstellen, die anfängliche identifizierende Informationen für den Benutzer erhält, der die Authentifizierung anfordert.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-104">The vendor that implements the authentication protocol may also provide a function interface that obtains initial identifying information for the user requesting authentication.</span></span>

<span data-ttu-id="0aa3c-105">Der Anbieter sollte die folgenden Funktionen implementieren.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-105">The vendor should implement the following functions.</span></span>

-   [<span data-ttu-id="0aa3c-106">**Raseapgetidentity**</span><span class="sxs-lookup"><span data-stu-id="0aa3c-106">**RasEapGetIdentity**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity)
-   [<span data-ttu-id="0aa3c-107">**Raseapfrememory**</span><span class="sxs-lookup"><span data-stu-id="0aa3c-107">**RasEapFreeMemory**</span></span>](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory)

<span data-ttu-id="0aa3c-108">Diese Funktionen können in derselben DLL wie das Authentifizierungsprotokoll oder in einer separaten dll implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-108">These functions may be implemented in the same DLL as the authentication protocol, or in a separate DLL.</span></span> <span data-ttu-id="0aa3c-109">Außerdem unterstützt die dll, die die Identitäts Funktionen implementiert, möglicherweise mehr als ein Authentifizierungsprotokoll.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-109">Also, the DLL that implements the identity functions may support more than one authentication protocol.</span></span> <span data-ttu-id="0aa3c-110">Der Pfad zur DLL für diese Funktionen wird im RAS-Registrierungs Wert " [ \_ EAP \_ valueName \_ Identity](authentication-protocol-registry-values.md) " unter dem Schlüssel für das Authentifizierungsprotokoll gespeichert.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-110">The path to the DLL for these functions is stored in the [RAS\_EAP\_VALUENAME\_IDENTITY](authentication-protocol-registry-values.md) registry value, under the key for the authentication protocol.</span></span> <span data-ttu-id="0aa3c-111">Weitere Informationen zum Erstellen dieses Registrierungs Werts finden Sie unter [EAP-Installation](eap-installation.md).</span><span class="sxs-lookup"><span data-stu-id="0aa3c-111">For more information about creating this registry value, see [EAP Installation](eap-installation.md).</span></span>

<span data-ttu-id="0aa3c-112">Die [**raseapgetidentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) -Funktion zeigt in der Regel eine Benutzeroberfläche (User Interface, UI) an, um Identitätsinformationen für den Benutzer abzurufen.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-112">The [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) function typically displays a user interface (UI) to obtain identity information for the user.</span></span> <span data-ttu-id="0aa3c-113">Wenn der *dwFlags* -Parameter jedoch das RAS- \_ EAP- \_ Flag "nicht interaktiv" enthält \_ \_ , sollte **raseapgetidentity** keine Benutzeroberfläche anzeigen.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-113">However, if the *dwFlags* parameter contains the RAS\_EAP\_FLAG\_NON\_INTERACTIVE flag, **RasEapGetIdentity** should not display a UI.</span></span>

<span data-ttu-id="0aa3c-114">Wenn [**raseapgetidentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) eine Benutzeroberfläche anzeigt, muss die Benutzeroberfläche [**WM- \_ Befehls**](../menurc/wm-command.md) Nachrichten unterstützen, bei denen der Wert von [**LoWord**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) gleich IDCANCEL ist.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-114">If [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) does display a UI, the UI must support [**WM\_COMMAND**](../menurc/wm-command.md) messages where the value of [**LOWORD**](/previous-versions/windows/desktop/legacy/ms632659(v=vs.85))(*wParam*) is equal to IDCANCEL.</span></span>

<span data-ttu-id="0aa3c-115">Der Authentifizierungsdienst ruft [**raseapgetidentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) auf, wenn der [RAS- \_ EAP \_ valueName den \_ \_ namedlg](authentication-protocol-registry-values.md) -Wert aufruft, der sich in der Registrierung für dieses EAP befindet, auf 0 (null) festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-115">The authentication service calls [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) if the [RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG](authentication-protocol-registry-values.md) value that is in the registry for this EAP is set to zero.</span></span> <span data-ttu-id="0aa3c-116">Wenn RAS- \_ EAP- \_ valueName " \_ \_ namedlg aufrufen" nicht vorhanden ist oder vorhanden und auf 1 festgelegt ist, zeigt der Authentifizierungsdienst das Standard Dialogfeld "Systembenutzer Name" an.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-116">If RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG is not present, or is present and is set to one, the authentication service displays the standard system user name dialog box.</span></span>

<span data-ttu-id="0aa3c-117">Zusätzlich zu RAS- \_ EAP \_ valueName \_ Aufrufen von \_ namedlg kann der EAP-Anbieter einen zugehörigen Wert erstellen, der [RAS- \_ EAP \_ valueName \_ \_ pwddlg](authentication-protocol-registry-values.md)in der Registrierung aufruft.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-117">In addition to RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG, the EAP vendor may create a related value, [RAS\_EAP\_VALUENAME\_INVOKE\_PWDDLG](authentication-protocol-registry-values.md), in the registry.</span></span> <span data-ttu-id="0aa3c-118">Wenn dieser Wert vorhanden und auf 0 (null) festgelegt ist, zeigt der Dienst nicht das Standard Dialogfeld "System Kennwort" an.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-118">If this value is present and is set to zero, the service will not display the standard system password dialog.</span></span> <span data-ttu-id="0aa3c-119">Dieser Wert ist hilfreich, wenn eine biometrische Methode implementiert wird, z. b. eine Fingerabdruck Überprüfung, um den Benutzer zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-119">This value is useful when implementing a biometric method such as a fingerprint scan to authenticate the user.</span></span> <span data-ttu-id="0aa3c-120">Wenn der RAS \_ -EAP \_ -valueName " \_ \_ namedlg" aufruft und "RAS \_ EAP valueName" den Wert "0" (null) aufruft \_ \_ \_ , könnte eine Identitäts Benutzeroberfläche verwendet werden, um die Identitäts-und biometrischen Informationen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-120">If both the RAS\_EAP\_VALUENAME\_INVOKE\_NAMEDLG and RAS\_EAP\_VALUENAME\_INVOKE\_PWDDLG values are zero, an identity UI could be used to obtain both the identity and biometric information.</span></span> <span data-ttu-id="0aa3c-121">Wenn jedoch nur der RAS- \_ EAP- \_ valueName " \_ \_ pwddlg" auf 0 (null) aufzurufen, ruft der Authentifizierungsdienst " [**raseapgetidentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity)" nicht auf.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-121">However, if only RAS\_EAP\_VALUENAME\_INVOKE\_PWDDLG is zero, the authentication service will not call [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity).</span></span> <span data-ttu-id="0aa3c-122">In diesem Fall können Sie die [interaktive Benutzeroberfläche](interactive-user-interface.md) zum Abrufen der biometrischen Informationen verwenden.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-122">In this case, you could use the [interactive user interface](interactive-user-interface.md) to obtain the biometric information.</span></span>

<span data-ttu-id="0aa3c-123">Weitere Informationen zu diesen Registrierungs Werten finden Sie unter [Registrierungs Werte für das Authentifizierungsprotokoll](authentication-protocol-registry-values.md).</span><span class="sxs-lookup"><span data-stu-id="0aa3c-123">For more information on these registry values, see [Authentication Protocol Registry Values](authentication-protocol-registry-values.md).</span></span>

<span data-ttu-id="0aa3c-124">Die Informationen, die von [**raseapgetidentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) abgerufen werden, werden während des Aufrufes von [**raseapbegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85))an das Authentifizierungsprotokoll übermittelt.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-124">The information obtained by [**RasEapGetIdentity**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapgetidentity) is passed to the authentication protocol during the call to [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)).</span></span> <span data-ttu-id="0aa3c-125">Auf die Informationen wird von den **pszidentity** -und **puserdata** -Membern der [**PPP- \_ EAP- \_ Eingabe**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) Struktur verwiesen.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-125">The information is pointed to by the **pszIdentity** and **pUserData** members of the [**PPP\_EAP\_INPUT**](/windows/desktop/api/Raseapif/ns-raseapif-ppp_eap_input) structure.</span></span> <span data-ttu-id="0aa3c-126">Um diese Informationen in der Registrierung auf dem Client Computer zu speichern, sollte das Authentifizierungsprotokoll die Informationen im Parameter " *Peer Output* " von " [**raseapmakemess Age**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85))" zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-126">To save this information in the registry on the client computer, the authentication protocol should return the information in the *pEapOutput* parameter of [**RasEapMakeMessage**](/previous-versions/windows/desktop/legacy/aa363532(v=vs.85)).</span></span>

<span data-ttu-id="0aa3c-127">Nach dem Aufruf von [**raseapbegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85))ruft der Authentifizierungsdienst [**raseapfreememory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) auf, um den von diesen Daten belegten Arbeitsspeicher freizugeben.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-127">After the call to [**RasEapBegin**](/previous-versions/windows/desktop/legacy/aa363520(v=vs.85)), the authentication service calls [**RasEapFreeMemory**](/previous-versions/windows/desktop/api/Raseapif/nf-raseapif-raseapfreememory) to free the memory occupied by this data.</span></span> <span data-ttu-id="0aa3c-128">Daher sollte das Authentifizierungsprotokoll die Informationen während des Aufrufens von **raseapbegin** in einen privaten Speicherpuffer kopieren.</span><span class="sxs-lookup"><span data-stu-id="0aa3c-128">Therefore, the authentication protocol should copy the information into a private memory buffer during the call to **RasEapBegin**.</span></span>

 

 