---
title: Aufrufen der Erweiterungs-DLLs
description: Diese Funktion wird für jedes gültige Authentifizierungs-oder Buchhaltungs Paket aufgerufen, das vom Netzwerk Zugriffs Server (NAS) empfangen wird.
ms.assetid: 6d738ad7-cce5-4835-97d6-c57173c79a16
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8bc96fab078a982f23f5f5dd86d51dbed46d5541
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "103948970"
---
# <a name="invoking-the-extension-dlls"></a><span data-ttu-id="b605c-103">Aufrufen der Erweiterungs-DLLs</span><span class="sxs-lookup"><span data-stu-id="b605c-103">Invoking the Extension DLLs</span></span>

> [!Note]  
> <span data-ttu-id="b605c-104">Der Internet Authentifizierungsdienst (IAS) wurde ab Windows Server 2008 in den Netzwerk Richtlinien Server (Network Policy Server, NPS) umbenannt.</span><span class="sxs-lookup"><span data-stu-id="b605c-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="b605c-105">Der Inhalt dieses Themas gilt sowohl für IAS als auch für NPS.</span><span class="sxs-lookup"><span data-stu-id="b605c-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="b605c-106">Im gesamten Text wird NPS verwendet, um auf alle Versionen des Dienstanbieter zu verweisen, einschließlich der Versionen, die ursprünglich als IAS bezeichnet wurden.</span><span class="sxs-lookup"><span data-stu-id="b605c-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="b605c-107">NPS-Erweiterungs-DLLs müssen mindestens eine der folgenden Rückruf Funktionen exportieren: [*radiusextensionprocess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*radiusextensionprocessex*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)oder [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="b605c-107">NPS Extension DLLs must export at least one of the following callback functions: [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process), [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), or [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span> <span data-ttu-id="b605c-108">NPS ruft diese Funktion für jedes gültige Authentifizierungs-oder Buchhaltungs Paket auf, das von dem Netzwerk Zugriffs Server (NAS) empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="b605c-108">NPS calls these function for each valid authentication or accounting packet that it receives from the Network Access Server (NAS).</span></span> <span data-ttu-id="b605c-109">NPS ruft diese Funktionen in jeder der DLLs auf, die unter dem [Registrierungsschlüssel](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)für die NPS-Parameter aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="b605c-109">NPS calls these functions in each of the DLLs listed below the NPS' [Parameters registry key](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls).</span></span> <span data-ttu-id="b605c-110">Die DLLs werden in der Reihenfolge aufgerufen, in der Sie aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="b605c-110">The DLLs are called in the order in which they are listed.</span></span>

<span data-ttu-id="b605c-111">Wenn eine NPS-Erweiterungs-DLL mehr als eine der oben genannten Funktionen exportiert, ruft NPS nur eine dieser Funktionen auf: die neueste Funktion, die vom Betriebssystem unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="b605c-111">If an NPS Extension DLL exports more than one of the above functions, NPS invokes just one of them: the newest function that is supported by the operating system.</span></span>

> [!Note]  
> <span data-ttu-id="b605c-112">IAS hat ursprünglich nur [*radiusextensionprocess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process)unterstützt.</span><span class="sxs-lookup"><span data-stu-id="b605c-112">IAS originally supported only [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="b605c-113">IAS unterstützt auch [*radiusextensionprocessex*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span><span class="sxs-lookup"><span data-stu-id="b605c-113">IAS supports also [*RadiusExtensionProcessEx*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex).</span></span> <span data-ttu-id="b605c-114">IAS (und spätere NPS) unterstützt auch [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span><span class="sxs-lookup"><span data-stu-id="b605c-114">IAS (and later NPS) supports also [*RadiusExtensionProcess2*](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2).</span></span>

 

<span data-ttu-id="b605c-115">NPS-Erweiterungs-DLLs können auch [**radiusextensioninit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) -und [**radiusextensionterm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) -Funktionen exportieren.</span><span class="sxs-lookup"><span data-stu-id="b605c-115">NPS Extension DLLs may also export [**RadiusExtensionInit**](/windows/desktop/api/authif/nc-authif-pradius_extension_init) and [**RadiusExtensionTerm**](/windows/desktop/api/authif/nc-authif-pradius_extension_term) functions.</span></span> <span data-ttu-id="b605c-116">Wenn Sie vorhanden sind, ruft NPS diese Funktionen auf, wenn der Dienst gestartet bzw. beendet wird.</span><span class="sxs-lookup"><span data-stu-id="b605c-116">If they are present, NPS calls these functions when the service starts and stops, respectively.</span></span>

## <a name="radiusextensionprocess-callback-function"></a><span data-ttu-id="b605c-117">Radiusextensionprocess-Rückruffunktion</span><span class="sxs-lookup"><span data-stu-id="b605c-117">RadiusExtensionProcess Callback Function</span></span>

<span data-ttu-id="b605c-118">In einer DLL der Authentifizierungs Erweiterung empfängt [*radiusextensionprocess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) alle Attribute, die von NPS in der Authentifizierungs-oder Buchhaltungs Anforderung empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-118">In an Authentication Extension DLL, [*RadiusExtensionProcess*](/windows/desktop/api/authif/nc-authif-pradius_extension_process) receives all the attributes that are received by NPS in the authentication or accounting request.</span></span> <span data-ttu-id="b605c-119">Mithilfe dieser Attribute kann die Funktion zusätzliche Überprüfungen durchführen, die Autorisierungen des Benutzers überprüfen oder Buchhaltungsdaten Sätze an einen zentralen Zustands Server senden.</span><span class="sxs-lookup"><span data-stu-id="b605c-119">Using these attributes, the function can perform additional validations, verify the user's authorizations, or send accounting records to a central state server.</span></span>

<span data-ttu-id="b605c-120">In einer Autorisierungs Erweiterungs-DLL empfängt **radiusextensionprocess** alle Attribute, die vom NPS-Autorisierungs Dienst generiert werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-120">In an Authorization Extension DLL, **RadiusExtensionProcess** receives all the attributes generated by the NPS authorization service.</span></span> <span data-ttu-id="b605c-121">Dabei handelt es sich um die Attribute, die im Access-Accept Paket zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-121">These are the attributes that are returned in the Access-Accept packet.</span></span>

<span data-ttu-id="b605c-122">Nach dem Aufrufen von **radiusextensionprocess** hängt die von NPS ausgeführte Aktion vom Rückgabewert von **radiusextensionprocess** und dem Wert ab, der im *pfaction* -Parameter zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="b605c-122">After calling **RadiusExtensionProcess**, the action performed by NPS depends on the return value of **RadiusExtensionProcess**, and the value returned in the *pfAction* parameter.</span></span> <span data-ttu-id="b605c-123">Diese Werte sind in der folgenden Tabelle aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="b605c-123">These values are listed in the following table.</span></span>



| <span data-ttu-id="b605c-124">*pfaction*</span><span class="sxs-lookup"><span data-stu-id="b605c-124">*pfAction*</span></span> | <span data-ttu-id="b605c-125">Authentifizierungs-Erweiterungs-DLL</span><span class="sxs-lookup"><span data-stu-id="b605c-125">Authentication Extension DLL</span></span>                                                                                                                                            | <span data-ttu-id="b605c-126">Autorisierungs Erweiterungs-DLL</span><span class="sxs-lookup"><span data-stu-id="b605c-126">Authorization Extension DLL</span></span>                                                                                                                                 |
|------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="b605c-127">Akzeptieren</span><span class="sxs-lookup"><span data-stu-id="b605c-127">Accept</span></span>     | <span data-ttu-id="b605c-128">Umgeht alle weiteren authentifizierungserweiterungs-DLLs und umgeht auch den NPS-Authentifizierungsmechanismus.</span><span class="sxs-lookup"><span data-stu-id="b605c-128">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span>                                                                  | <span data-ttu-id="b605c-129">Accept ist unzulässig.</span><span class="sxs-lookup"><span data-stu-id="b605c-129">Accept not allowed.</span></span>                                                                                                                                         |
| <span data-ttu-id="b605c-130">Reject</span><span class="sxs-lookup"><span data-stu-id="b605c-130">Reject</span></span>     | <span data-ttu-id="b605c-131">Umgeht alle weiteren authentifizierungserweiterungs-DLLs und umgeht auch den NPS-Authentifizierungsmechanismus.</span><span class="sxs-lookup"><span data-stu-id="b605c-131">Bypasses any further Authentication Extension DLLs and also bypasses the NPS authentication mechanism.</span></span> <span data-ttu-id="b605c-132">Access-Reject Paket wird gesendet.</span><span class="sxs-lookup"><span data-stu-id="b605c-132">Access-Reject packet is sent.</span></span>                                    | <span data-ttu-id="b605c-133">Umgeht alle weiteren Autorisierungs Erweiterungs-DLLs.</span><span class="sxs-lookup"><span data-stu-id="b605c-133">Bypasses any further Authorization Extension DLLs.</span></span>                                                                                                          |
| <span data-ttu-id="b605c-134">Weiter</span><span class="sxs-lookup"><span data-stu-id="b605c-134">Continue</span></span>   | <span data-ttu-id="b605c-135">Das Paket wird an die nächste authentifizierungserweiterungs-dll oder an den NPS-Authentifizierungsmechanismus gesendet, wenn in der Registrierung keine weiteren DLLs der Authentifizierungs Erweiterung aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="b605c-135">The packet is sent to the next Authentication Extension DLL or to the NPS authentication mechanism if no more Authentication Extension DLLs are listed in the registry.</span></span> | <span data-ttu-id="b605c-136">Das Paket wird an die nächste Autorisierungs Erweiterungs-DLL oder an das NPS-Buchhaltungs Protokoll gesendet, wenn keine weiteren Autorisierungs Erweiterungs-DLLs in der Registrierung aufgeführt sind.</span><span class="sxs-lookup"><span data-stu-id="b605c-136">The packet is sent to the next Authorization Extension DLL or to the NPS accounting log if no more Authorization Extension DLLs are listed in the registry.</span></span> |



 

<span data-ttu-id="b605c-137">**Wenn für** alle Erweiterungs-DLLs ein Fehler zurückgegeben wird, wird das Paket verworfen.</span><span class="sxs-lookup"><span data-stu-id="b605c-137">For all Extension DLLs, if **RadiusExtensionProcess** returns an error, the packet is discarded.</span></span> <span data-ttu-id="b605c-138">Pakete, die aufgrund eines Fehlers verworfen werden, werden nicht vom NPS-Buchhaltungs Protokoll verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="b605c-138">Packets that are discarded because of an error are not processed by the NPS accounting log.</span></span>

<span data-ttu-id="b605c-139">Wenn ein Fehler auftritt, stellt NPS ein generisches Fehler Ereignis an das Ereignisprotokoll an.</span><span class="sxs-lookup"><span data-stu-id="b605c-139">If an error occurs, NPS posts a generic error event to the Event Log.</span></span> <span data-ttu-id="b605c-140">Es wird empfohlen, dass die Erweiterungs-DLL zusätzliche Fehler Protokollierung bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="b605c-140">It is recommended that the Extension DLL provide additional error logging.</span></span>

<span data-ttu-id="b605c-141">Weitere Informationen und ein Diagramm, das den vorangehenden Prozess darstellt, finden Sie unter [Informationen zu NPS-Erweiterungen](/windows/desktop/Nps/ias-about-internet-authentication-service).</span><span class="sxs-lookup"><span data-stu-id="b605c-141">For more information and a diagram that represents the preceding process, see [About NPS Extensions](/windows/desktop/Nps/ias-about-internet-authentication-service).</span></span>

<span data-ttu-id="b605c-142">**Radiusextensionprocess** sollte einen Fehler zurückgeben, wenn die Annahme oder Ablehnung des Pakets nicht überprüft werden kann.</span><span class="sxs-lookup"><span data-stu-id="b605c-142">**RadiusExtensionProcess** should return an error if it cannot verify the acceptance or rejection of the packet.</span></span> <span data-ttu-id="b605c-143">Diese Situation kann auftreten, wenn durch ein Netzwerkproblem verhindert wird, dass **radiusextensionprocess** mit der Benutzer Authentifizierungs Datenbank kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="b605c-143">This situation might arise if a network problem prevents **RadiusExtensionProcess** from communicating with its user authentication database.</span></span>

<span data-ttu-id="b605c-144">Bei der Verarbeitung eines Buchhaltungs Pakets ist der *pfaction* -Parameter **null**, daher kann *pfaction* nicht festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-144">When processing an accounting packet, the *pfAction* parameter is **NULL**, so *pfAction* cannot be set.</span></span> <span data-ttu-id="b605c-145">Wenn bei der Verarbeitung einer Buchhaltungs Anforderung ein Fehler von der **radiusextensionprocess** -Funktion zurückgegeben wird, wird die Anforderung von NPS verworfen.</span><span class="sxs-lookup"><span data-stu-id="b605c-145">Returning an error from the **RadiusExtensionProcess** function while processing an accounting request causes the request to be discarded by NPS.</span></span>

> [!Note]  
> <span data-ttu-id="b605c-146">Nachdem ein Accept-Vorgang empfangen wurde, ruft NPS in den verbleibenden DLLs in der Sequenz nicht **radiusextensionprocess** auf.</span><span class="sxs-lookup"><span data-stu-id="b605c-146">After receiving an accept, NPS does not call **RadiusExtensionProcess** in the remaining DLLs in the sequence.</span></span> <span data-ttu-id="b605c-147">Da einige Authentifizierungsfunktionen auch Autorisierungen implementieren können, kann das Überspringen solcher Authentifizierungsfunktionen dazu führen, dass Autorisierungen ausgelassen werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-147">Because some authentication functions may also implement authorizations, skipping such authentication functions may cause authorizations to be omitted.</span></span> <span data-ttu-id="b605c-148">Wenn eine Instanz von [**radiusextensionprocess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) Accept zurückgibt, ist es wichtig, keine Annahmen über die abgerufenen Autorisierungen zu treffen.</span><span class="sxs-lookup"><span data-stu-id="b605c-148">If an instance of [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) returns Accept, it is important not to make any assumptions about the authorizations retrieved.</span></span>

 

<span data-ttu-id="b605c-149">Wenn Continue oder Accept zurückgegeben wird, wird das Profil, das dem Bereich entspricht, im Access-Accept Paket zurückgesendet.</span><span class="sxs-lookup"><span data-stu-id="b605c-149">If Continue or Accept is returned, the profile corresponding to the realm is sent back in the Access-Accept packet.</span></span>

<span data-ttu-id="b605c-150">Authentifizierungserweiterungs-DLLs sollten für die Koexistenz mit den integrierten NPS-Authentifizierungs Anbietern und anderen Erweiterungs-DLLs entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-150">Authentication Extension DLLs should be designed to coexist with the built-in NPS authentication providers and with other Extension DLLs.</span></span> <span data-ttu-id="b605c-151">Wenn eine Erweiterung nur auf eine bestimmte Benutzerdatenbank (z. b. Windows Active Directory) anwendbar ist, sollte Sie vor der Verarbeitung der Anforderung das in den *pattrs* -Parametern übergebenen [**ratprovider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) -Attribut überprüfen.</span><span class="sxs-lookup"><span data-stu-id="b605c-151">If an extension is only applicable to a certain user database (for example Windows Active Directory), then it should verify the [**ratProvider**](/windows/desktop/api/authif/ne-authif-radius_authentication_provider) attribute passed in the *pAttrs* parameter, before processing the request.</span></span> <span data-ttu-id="b605c-152">Das ratprovider-Attribut wäre eine einer Liste von Attributen, auf die der *pattrs* -Parameter verweist.</span><span class="sxs-lookup"><span data-stu-id="b605c-152">The ratProvider attribute would be one of a list of attributes pointed to by the *pAttrs* parameter.</span></span>

<span data-ttu-id="b605c-153">Erweiterungs-DLLs sollten keine Anforderungen ablehnen, da erforderliche Attribute fehlen.</span><span class="sxs-lookup"><span data-stu-id="b605c-153">Extension DLLs should not reject requests because required attributes are missing.</span></span> <span data-ttu-id="b605c-154">Wenn eine Authentifizierungs Erweiterung z. b. das User-Password-Attribut, ratuserpassword, erfordert und das-Attribut nicht vorhanden ist, sollte die Erweiterung eine Aktion von racontinue zurückgeben, um anderen Erweiterungen und Anbietern die Möglichkeit zu geben, die Anforderung zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="b605c-154">For example, if an authentication extension requires the User-Password attribute, ratUserPassword, and the attribute is not present, the extension should return an action of raContinue to give other extensions and providers a chance to process the request.</span></span>

<span data-ttu-id="b605c-155">NPS Ruft die [**radiusextensionprocess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) -Funktion auf, nachdem die Entscheidung getroffen wurde, eine bestimmte Authentifizierungs Datenbank zu verwenden, aber bevor der Benutzer authentifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="b605c-155">NPS calls the [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) function after the decision to use a particular authentication database is made, but before the user is authenticated.</span></span> <span data-ttu-id="b605c-156">Daher sind Informationen darüber, welche Authentifizierungs Datenbank verwendet werden soll, für die Funktion verfügbar, damit die Funktion die Autorisierungen des Benutzers in der entsprechenden Authentifizierungs Datenbank überprüfen kann.</span><span class="sxs-lookup"><span data-stu-id="b605c-156">Therefore, information about which authentication database to use is available to the function, so that the function can check for the user's authorizations in the appropriate authentication database.</span></span> <span data-ttu-id="b605c-157">NPS unterstützt verschiedene Authentifizierungs Datenbanken, einschließlich des Windows-Active Directory.</span><span class="sxs-lookup"><span data-stu-id="b605c-157">NPS supports various authentication databases including the Windows Active Directory.</span></span>

## <a name="radiusextensionprocessex-callback-function"></a><span data-ttu-id="b605c-158">Radiusextensionprocessex-Rückruffunktion</span><span class="sxs-lookup"><span data-stu-id="b605c-158">RadiusExtensionProcessEx Callback Function</span></span>

<span data-ttu-id="b605c-159">NPS-Erweiterungs-DLLs können [**radiusextensionprocessex**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) anstelle von oder zusätzlich zu [**radiusextensionprocess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process)exportieren.</span><span class="sxs-lookup"><span data-stu-id="b605c-159">NPS Extension DLLs may export [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process).</span></span> <span data-ttu-id="b605c-160">Diese Funktion ermöglicht der dll, zusätzliche Autorisierungs Attribute an die Authentifizierungs Antwort anzufügen.</span><span class="sxs-lookup"><span data-stu-id="b605c-160">This function enables the DLL to append additional authorization attributes to the authentication response.</span></span>

<span data-ttu-id="b605c-161">Die im Abschnitt " *radiusextensionprocess" der Rückruffunktion* beschriebenen Informationen gelten für die [**radiusextensionprocessex**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="b605c-161">The same information described in the *RadiusExtensionProcess Callback Function* section applies to the [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function.</span></span>

<span data-ttu-id="b605c-162">[**Radiusextensionprocessex**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) kann keines der Attribute ändern oder entfernen, die vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="b605c-162">[**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) cannot modify or remove any of the attributes that are present.</span></span> <span data-ttu-id="b605c-163">Wenn ein Szenario auftritt, in dem die dll Attribute ändern oder entfernen muss, besteht die einzige Möglichkeit darin, die NPS-Benutzeroberfläche zu verwenden, um sicherzustellen, dass die Attribute nicht vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="b605c-163">If a scenario arises in which the DLL must modify or remove attributes, the only option is to use the NPS user interface to ensure that the attributes are not present.</span></span> <span data-ttu-id="b605c-164">Standardmäßig sind keine Autorisierungs Attribute vorhanden.</span><span class="sxs-lookup"><span data-stu-id="b605c-164">By default, no authorization attributes are present.</span></span> <span data-ttu-id="b605c-165">Alle vorhandenen müssen über die Benutzeroberfläche hinzugefügt worden sein.</span><span class="sxs-lookup"><span data-stu-id="b605c-165">Any that are present must have been added through the user interface.</span></span>

<span data-ttu-id="b605c-166">Wenn mehrere Autorisierungs-DLLs konfiguriert sind und einige dieser DLLs [**radiusextensionprocessex**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex)implementieren, empfängt die **radiusextensionprocess/Ex-** Funktion in einer bestimmten dll nicht die Attribute von den zuvor aufgerufenen DLLs der Autorisierung.</span><span class="sxs-lookup"><span data-stu-id="b605c-166">If multiple Authorization DLLs are configured and some of these DLLs implement [**RadiusExtensionProcessEx**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex), the **RadiusExtensionProcess/Ex** function in a given DLL does not receive the attributes from the previously called Authorization DLLs.</span></span> <span data-ttu-id="b605c-167">Er empfängt nur die Attribute, die vom NPS-Autorisierungs Dienst generiert werden.</span><span class="sxs-lookup"><span data-stu-id="b605c-167">It receives only those attributes generated by the NPS authorization service.</span></span>

## <a name="radiusextensionprocess2-callback-function"></a><span data-ttu-id="b605c-168">RadiusExtensionProcess2-Rückruffunktion</span><span class="sxs-lookup"><span data-stu-id="b605c-168">RadiusExtensionProcess2 Callback Function</span></span>

<span data-ttu-id="b605c-169">NPS-Erweiterungs-DLLs können auch [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) anstelle von oder zusätzlich zu [**radiusextensionprocess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) und **radiusextensionprocessex** exportieren.</span><span class="sxs-lookup"><span data-stu-id="b605c-169">NPS Extension DLLs may also export [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) instead of, or in addition to, [**RadiusExtensionProcess**](/windows/desktop/api/authif/nc-authif-pradius_extension_process) and **RadiusExtensionProcessEx**.</span></span> <span data-ttu-id="b605c-170">Diese Funktion ermöglicht der dll, Attribute zur Authentifizierungsanforderung oder-Antwort hinzuzufügen, zu ändern und zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="b605c-170">This function enables the DLL to add, modify, and remove attributes to and from the authentication request or response.</span></span>

<span data-ttu-id="b605c-171">Die gleichen Informationen, die im Abschnitt *radiusextensionprocessex Callback-Funktion* beschrieben werden, gelten für die [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) -Funktion mit den folgenden Ausnahmen:</span><span class="sxs-lookup"><span data-stu-id="b605c-171">The same information described in the *RadiusExtensionProcessEx Callback Function* section applies to the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_ex) function, with the following exceptions:</span></span>

-   <span data-ttu-id="b605c-172">In einer Autorisierungs-dll empfängt **RadiusExtensionProcess2** sowohl die vom NPS-Autorisierungs Dienst generierten Attribute als auch die Attribute, die zuvor als Autorisierungs-DLLs generiert wurden.</span><span class="sxs-lookup"><span data-stu-id="b605c-172">In an Authorization DLL, **RadiusExtensionProcess2** receives both the attributes generated by the NPS authorization service and the attributes generated from previously called Authorization DLLs.</span></span>
-   <span data-ttu-id="b605c-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) verfügt über keinen *pfaction* -Parameter.</span><span class="sxs-lookup"><span data-stu-id="b605c-173">[**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) does not have a *pfAction* parameter.</span></span> <span data-ttu-id="b605c-174">**RadiusExtensionProcess2** legt die endgültige Disposition der Anforderung mithilfe der [**setresponsetype**](/previous-versions/ms688462(v=vs.85)) -Funktion fest, die in der [**RADIUS- \_ Erweiterungs \_ Steuerungs \_ Block**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) -Struktur bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="b605c-174">**RadiusExtensionProcess2** sets the final disposition of the request using the [**SetResponseType**](/previous-versions/ms688462(v=vs.85)) function provided in the [**RADIUS\_EXTENSION\_CONTROL\_BLOCK**](/windows/desktop/api/authif/ns-authif-radius_extension_control_block) structure.</span></span>
-   <span data-ttu-id="b605c-175">NPS ruft immer die [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) -Funktion in allen verbleibenden DLLs auf, unabhängig davon, ob Funktionen in früheren DLLs akzeptiert haben.</span><span class="sxs-lookup"><span data-stu-id="b605c-175">NPS always calls the [**RadiusExtensionProcess2**](/windows/desktop/api/authif/nc-authif-pradius_extension_process_2) function in any remaining DLLs regardless of whether functions in previous DLLs returned Accept.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b605c-176">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="b605c-176">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b605c-177">Einrichten der Erweiterungs-DLLs</span><span class="sxs-lookup"><span data-stu-id="b605c-177">Setting Up the Extension DLLs</span></span>](/windows/desktop/Nps/ias-setting-up-the-extension-and-authorization-dlls)
</dt> <dt>

[<span data-ttu-id="b605c-178">Benutzer Identifizierungs Attribute</span><span class="sxs-lookup"><span data-stu-id="b605c-178">User Identification Attributes</span></span>](/windows/desktop/Nps/ias-user-identification-attributes)
</dt> </dl>

 

 