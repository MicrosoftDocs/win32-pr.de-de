---
description: Der Arbeits Satz eines Prozesses ist der Satz von Seiten im virtuellen Adressraum des Prozesses, der sich derzeit im physischen Speicher befindet.
ms.assetid: ff05276a-1d40-4844-b649-10e32e3f1937
title: Arbeitssatz
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f54ed26e9809ebffd01edb30f48f36d398689e88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106351748"
---
# <a name="working-set"></a><span data-ttu-id="6e707-103">Arbeitssatz</span><span class="sxs-lookup"><span data-stu-id="6e707-103">Working Set</span></span>

<span data-ttu-id="6e707-104">Der Arbeits Satz eines Prozesses ist der Satz von Seiten im virtuellen Adressraum des Prozesses, der sich derzeit im physischen Speicher befindet.</span><span class="sxs-lookup"><span data-stu-id="6e707-104">The working set of a process is the set of pages in the virtual address space of the process that are currently resident in physical memory.</span></span> <span data-ttu-id="6e707-105">Das Workingset enthält nur Speicher belegbare Speicher Belegungen. nicht Auslagerungs Bare Speicher Belegungen, wie z.b. [Address windowingextensions](address-windowing-extensions.md) (AWE) oder [große Seiten](large-page-support.md) Zuordnungen, sind nicht im Workingset enthalten.</span><span class="sxs-lookup"><span data-stu-id="6e707-105">The working set contains only pageable memory allocations; nonpageable memory allocations such as [Address Windowing Extensions](address-windowing-extensions.md) (AWE) or [large page allocations](large-page-support.md) are not included in the working set.</span></span>

<span data-ttu-id="6e707-106">Wenn ein Prozess auf einen speicherbaren Speicher verweist, der sich derzeit nicht in seinem Workingset befindet, tritt ein *Seiten Fehler* auf.</span><span class="sxs-lookup"><span data-stu-id="6e707-106">When a process references pageable memory that is not currently in its working set, a *page fault* occurs.</span></span> <span data-ttu-id="6e707-107">Der Fehlerhandler der System Seite versucht, den Seiten Fehler aufzulösen. wenn er erfolgreich ist, wird die Seite dem Arbeits Satz hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6e707-107">The system page fault handler attempts to resolve the page fault and, if it succeeds, the page is added to the working set.</span></span> <span data-ttu-id="6e707-108">(Der Zugriff auf AWE oder große Seiten Zuordnungen verursacht niemals einen Seiten Fehler, da diese Zuordnungen nicht Auslagerungs fähig sind.)</span><span class="sxs-lookup"><span data-stu-id="6e707-108">(Accessing AWE or large page allocations never causes a page fault, because these allocations are not pageable .)</span></span>

<span data-ttu-id="6e707-109">Ein *Hard-Page-Fehler* muss behoben werden, indem der Seiten Inhalt aus dem *Sicherungs Speicher* der Seite gelesen wird. dabei handelt es sich entweder um die Auslagerungs Datei des Systems oder um eine vom Prozess erstellte Speicher Abbild Datei.</span><span class="sxs-lookup"><span data-stu-id="6e707-109">A *hard page fault* must be resolved by reading page contents from the page's *backing store*, which is either the system paging file or a memory-mapped file created by the process.</span></span> <span data-ttu-id="6e707-110">Ein *weicher Seiten Fehler* kann aufgelöst werden, ohne auf den Sicherungs Speicher zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="6e707-110">A *soft page fault* can be resolved without accessing the backing store.</span></span> <span data-ttu-id="6e707-111">Ein weicher Seiten Fehler tritt auf, wenn Folgendes zutrifft:</span><span class="sxs-lookup"><span data-stu-id="6e707-111">A soft page fault occurs when:</span></span>

-   <span data-ttu-id="6e707-112">Die Seite befindet sich im Workingset eines anderen Prozesses, sodass Sie sich bereits im Arbeitsspeicher befindet.</span><span class="sxs-lookup"><span data-stu-id="6e707-112">The page is in the working set of some other process, so it is already resident in memory.</span></span>
-   <span data-ttu-id="6e707-113">Die Seite befindet sich im Übergangsstadium, weil Sie entweder aus den Arbeits Sätzen aller Prozesse entfernt wurde, die die Seite verwendet haben und noch nicht neu festgelegt wurden, oder Sie ist bereits als Ergebnis eines Vorabruf Vorgangs für den Speicher-Manager vorhanden.</span><span class="sxs-lookup"><span data-stu-id="6e707-113">The page is in transition, because it either has been removed from the working sets of all processes that were using the page and has not yet been repurposed, or it is already resident as a result of a memory manager prefetch operation.</span></span>
-   <span data-ttu-id="6e707-114">Ein Prozess verweist zum ersten Mal auf eine zugeordnete virtuelle Seite (manchmal auch als *Fehler nach "Anforderung-NULL*" bezeichnet).</span><span class="sxs-lookup"><span data-stu-id="6e707-114">A process references an allocated virtual page for the first time (sometimes called a *demand-zero fault*).</span></span>

<span data-ttu-id="6e707-115">Seiten können aufgrund der folgenden Aktionen aus einem Prozess Arbeitssatz entfernt werden:</span><span class="sxs-lookup"><span data-stu-id="6e707-115">Pages can be removed from a process working set as a result of the following actions:</span></span>

-   <span data-ttu-id="6e707-116">Der Prozess reduziert oder leert die Workingsets durch Aufrufen der [**SetProcessWorkingSetSize**](/windows/win32/api/winbase/nf-winbase-setprocessworkingsetsize)-, [**setprocessworkingsetsizeex**](/windows/win32/api/memoryapi/nf-memoryapi-setprocessworkingsetsizeex) -oder [**EmptyWorkingSet**](/windows/win32/api/psapi/nf-psapi-emptyworkingset) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6e707-116">The process reduces or empties the working set by calling the [**SetProcessWorkingSetSize**](/windows/win32/api/winbase/nf-winbase-setprocessworkingsetsize), [**SetProcessWorkingSetSizeEx**](/windows/win32/api/memoryapi/nf-memoryapi-setprocessworkingsetsizeex) or [**EmptyWorkingSet**](/windows/win32/api/psapi/nf-psapi-emptyworkingset) function.</span></span>
-   <span data-ttu-id="6e707-117">Der Prozess ruft die [**virtualunlock**](/windows/win32/api/memoryapi/nf-memoryapi-virtualunlock) -Funktion für einen Speicherbereich auf, der nicht gesperrt ist.</span><span class="sxs-lookup"><span data-stu-id="6e707-117">The process calls the [**VirtualUnlock**](/windows/win32/api/memoryapi/nf-memoryapi-virtualunlock) function on a memory range that is not locked.</span></span>
-   <span data-ttu-id="6e707-118">Der Prozess entordnet eine zugeordnete Ansicht einer Datei mithilfe der [**UnmapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-unmapviewoffile) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6e707-118">The process unmaps a mapped view of a file using the [**UnmapViewOfFile**](/windows/win32/api/memoryapi/nf-memoryapi-unmapviewoffile) function.</span></span>
-   <span data-ttu-id="6e707-119">Der Speicher-Manager schneidet Seiten aus dem Workingset, um mehr verfügbaren Arbeitsspeicher zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6e707-119">The memory manager trims pages from the working set to create more available memory.</span></span>
-   <span data-ttu-id="6e707-120">Der Speicher-Manager muss eine Seite aus dem Workingset entfernen, um Platz für eine neue Seite zu schaffen (z. b. weil der Workingset seine maximale Größe hat).</span><span class="sxs-lookup"><span data-stu-id="6e707-120">The memory manager must remove a page from the working set to make room for a new page (for example, because the working set is at its maximum size).</span></span>

<span data-ttu-id="6e707-121">Wenn mehrere Prozesse eine Seite gemeinsam verwenden, wirkt sich das Entfernen der Seite aus dem Workingset eines Prozesses nicht auf andere Prozesse aus.</span><span class="sxs-lookup"><span data-stu-id="6e707-121">If several processes share a page, removing the page from the working set of one process does not affect other processes.</span></span> <span data-ttu-id="6e707-122">Nachdem eine Seite aus den Arbeits Sätzen aller Prozesse entfernt wurde, die Sie verwendet haben, wird die Seite zu einer *Übergangs Seite*.</span><span class="sxs-lookup"><span data-stu-id="6e707-122">After a page is removed from the working sets of all processes that were using it, the page becomes a *transition page*.</span></span> <span data-ttu-id="6e707-123">Übergangs Seiten bleiben im Arbeitsspeicher zwischengespeichert, bis auf die Seite entweder von einem Prozess oder einem neuen Zweck verwiesen wird (z. b. mit Nullen gefüllt und an einen anderen Prozess übergeben).</span><span class="sxs-lookup"><span data-stu-id="6e707-123">Transition pages remain cached in RAM until the page is either referenced again by some process or repurposed (for example, filled with zeros and given to another process).</span></span> <span data-ttu-id="6e707-124">Wenn eine Übergangs Seite geändert wurde, seit Sie zuletzt auf den Datenträger geschrieben wurde (d. h., wenn die Seite "Dirty" ist), muss die Seite in den Sicherungs Speicher geschrieben werden, bevor Sie neu geschrieben werden kann.</span><span class="sxs-lookup"><span data-stu-id="6e707-124">If a transition page has been modified since it was last written to disk (that is, if the page is "dirty"), then the page must be written to its backing store before it can be repurposed.</span></span> <span data-ttu-id="6e707-125">Das System beginnt möglicherweise damit, geänderte Übergangs Seiten in den Sicherungs Speicher zu schreiben, sobald diese Seiten verfügbar werden.</span><span class="sxs-lookup"><span data-stu-id="6e707-125">The system may start writing dirty transition pages to their backing store as soon as such pages become available.</span></span>

<span data-ttu-id="6e707-126">Jeder Prozess verfügt über eine minimale und maximale Workingsetgröße, die sich auf das Paging-Verhalten des virtuellen Speichers des Prozesses auswirkt.</span><span class="sxs-lookup"><span data-stu-id="6e707-126">Each process has a minimum and maximum working set size that affect the virtual memory paging behavior of the process.</span></span> <span data-ttu-id="6e707-127">Um die aktuelle Größe des Workingsets eines angegebenen Prozesses zu erhalten, verwenden Sie die [**getprocessmemoryinfo**](/windows/win32/api/psapi/nf-psapi-getprocessmemoryinfo) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="6e707-127">To obtain the current size of the working set of a specified process, use the [**GetProcessMemoryInfo**](/windows/win32/api/psapi/nf-psapi-getprocessmemoryinfo) function.</span></span> <span data-ttu-id="6e707-128">Um die minimalen und maximalen workingsetgrößen zu erhalten oder zu ändern, verwenden Sie die Funktionen [**getprocessworkingsetsizeex**](/windows/win32/api/memoryapi/nf-memoryapi-getprocessworkingsetsizeex) und [**setprocessworkingsetsizeex**](/windows/win32/api/memoryapi/nf-memoryapi-setprocessworkingsetsizeex) .</span><span class="sxs-lookup"><span data-stu-id="6e707-128">To obtain or change the minimum and maximum working set sizes, use the [**GetProcessWorkingSetSizeEx**](/windows/win32/api/memoryapi/nf-memoryapi-getprocessworkingsetsizeex) and [**SetProcessWorkingSetSizeEx**](/windows/win32/api/memoryapi/nf-memoryapi-setprocessworkingsetsizeex) functions.</span></span>

<span data-ttu-id="6e707-129">Die Prozessstatus-Anwendungsprogrammierschnittstelle (PSAPI) bietet eine Reihe von Funktionen, die ausführliche Informationen über den Arbeits Satz eines Prozesses zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="6e707-129">The process status application programming interface (PSAPI) provides a number of functions that return detailed information about the working set of a process.</span></span> <span data-ttu-id="6e707-130">Weitere Informationen finden Sie unter [Arbeits Satz Informationen](../psapi/working-set-information.md).</span><span class="sxs-lookup"><span data-stu-id="6e707-130">For details, see [Working Set Information](../psapi/working-set-information.md).</span></span>

 

 
