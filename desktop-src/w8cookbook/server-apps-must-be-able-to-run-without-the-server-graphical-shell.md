---
title: Einschränkungen für die Server-grafische Shell
description: Server-apps müssen ohne die servergrafikshell ausgeführt werden können
ms.assetid: 8F531497-B64D-4E79-AD7A-790EFDC6ADFE
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7666ae07a28d798a36d249bf37ab2d7719b9fba0
ms.sourcegitcommit: 46376be61d3fa308f9b1a06d7e2fa122a39755af
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/10/2020
ms.locfileid: "104391158"
---
# <a name="server-apps-must-be-able-to-run-without-the-server-graphical-shell"></a><span data-ttu-id="2bd92-103">Server-apps müssen ohne die servergrafikshell ausgeführt werden können</span><span class="sxs-lookup"><span data-stu-id="2bd92-103">Server apps must be able to run without the Server Graphical Shell</span></span>

## <a name="platform"></a><span data-ttu-id="2bd92-104">Plattform</span><span class="sxs-lookup"><span data-stu-id="2bd92-104">Platform</span></span>

<span data-ttu-id="2bd92-105">**Server** – Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="2bd92-105">**Servers** – Windows Server 2012</span></span> 

## <a name="description"></a><span data-ttu-id="2bd92-106">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="2bd92-106">Description</span></span>

<span data-ttu-id="2bd92-107">Die grafische Shell des Servers, das Feature, das Windows Explorer und Internet Explorer umfasst, wird standardmäßig auf der Seite "Server mit grafischer Benutzeroberfläche" von Windows Server 2012 installiert.</span><span class="sxs-lookup"><span data-stu-id="2bd92-107">Server Graphical Shell, the feature that includes Windows Explorer and Internet Explorer, is installed by default on “Server with a GUI” installations of Windows Server 2012.</span></span> <span data-ttu-id="2bd92-108">Das Feature "grafische Shell für Server" kann deinstalliert werden, um den potenziellen Wartungs-und Leistungsbedarf zu reduzieren, wodurch die Anzahl der Neustarts beschränkt wird, die der Server verursachen kann, und gleichzeitig das lokale Ausführen von Verwaltungs Tools auf dem Server zulässt.</span><span class="sxs-lookup"><span data-stu-id="2bd92-108">The Server Graphical Shell feature can be uninstalled in order to reduce the potential servicing and performance footprint, thereby limiting the number of reboots that the server may incur, while still allowing management tools to be run locally on the server.</span></span>

<span data-ttu-id="2bd92-109">Nachdem ein Administrator die servergrafikshell deinstalliert hat, befindet sich der Server in der minimalen Server Schnittstellen Konfiguration:</span><span class="sxs-lookup"><span data-stu-id="2bd92-109">After an administrator uninstalls the Server Graphical Shell, the server is in the Minimal Server Interface configuration:</span></span>

![Konfiguration der Server grafischen Shell-Schnittstelle](images/minimalserverinterface.png)

<span data-ttu-id="2bd92-111">Administratoren können dann in der Konfiguration mit minimaler Server Schnittstelle (die eine Reihe von lokalen Verwaltungs Tools umfasst) als Standardeinstellung und nicht auf dem Server mit einer GUI-Konfiguration ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="2bd92-111">Administrators can then opt to run in the Minimal Server Interface configuration (which includes a set of local management tools), as the default, rather than in the Server with a GUI configuration.</span></span> <span data-ttu-id="2bd92-112">Dies ermöglicht die lokale Überwachung und Verwaltung, während gleichzeitig die Ressourcennutzung und die Wartungs Häufigkeit reduziert werden.</span><span class="sxs-lookup"><span data-stu-id="2bd92-112">This allows local monitoring and management, while reducing both resource usage and frequency of servicing.</span></span>

<span data-ttu-id="2bd92-113">Administratoren können die servergrafikshell zu einem späteren Zeitpunkt neu installieren, wenn Sie die darin enthaltenen Funktionen benötigen.</span><span class="sxs-lookup"><span data-stu-id="2bd92-113">Administrators can reinstall Server Graphical Shell later if they need the functionality within it.</span></span> <span data-ttu-id="2bd92-114">(Administratoren können auch von einer Server Core-Installation aus starten und die Konfiguration der minimalen Server Schnittstelle mithilfe der Features nach Bedarf-Funktionalität einrichten.)</span><span class="sxs-lookup"><span data-stu-id="2bd92-114">(Administrators can also start from a Server Core install, and “build up” to the Minimal Server Interface configuration using the Features On Demand functionality.)</span></span>

<span data-ttu-id="2bd92-115">Server-apps müssen in der Konfiguration mit minimaler Server Schnittstelle ausgeführt werden können, um von der geringeren Ressourcennutzung und Wartung profitieren zu können.</span><span class="sxs-lookup"><span data-stu-id="2bd92-115">Server apps must be capable of running in the Minimal Server Interface configuration to take advantage of the reduced resource utilization and servicing footprint.</span></span> <span data-ttu-id="2bd92-116">Diese Funktion kann erreicht werden, indem Sie dem Administrator die Möglichkeit geben, keine Teile der APP zu installieren, die die grafische Shell des Servers benötigen, oder indem Sie das vorhanden sein der grafischen Shell des Servers erkennen und einige Aspekte der App deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="2bd92-116">This capability can be achieved by allowing the administrator to choose not to install parts of the app that needs the Server Graphical Shell, or by detecting the presence of Server Graphical Shell and disabling some aspects of the app.</span></span>

<span data-ttu-id="2bd92-117">Die minimale Server Schnittstelle verfügt über einen reduzierten Ressourcen-und Wartungsbedarf, da viele APIs und Binärdateien, die in der servergrafikshell enthalten sind, in dieser Konfiguration nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="2bd92-117">The Minimal Server Interface has a reduced resource and servicing footprint because many APIs and binaries that are included in the Server Graphical Shell are not available in this configuration.</span></span> <span data-ttu-id="2bd92-118">Gegebenenfalls sollten Server-apps auch eine Remote Verwaltung (vorzugsweise über Windows PowerShell-Remoting) von einer anderen Windows Server-oder Windows-Client Installation zulassen.</span><span class="sxs-lookup"><span data-stu-id="2bd92-118">Where appropriate, server apps should also allow remote administration (preferably via Windows PowerShell Remoting) from another Windows Server or Windows Client installation.</span></span> <span data-ttu-id="2bd92-119">Dies ermöglicht eine bessere zentralisierte Verwaltung von einem oder mehreren Computern in der Konfiguration mit minimaler Server Schnittstelle oder von Computern mit einer noch geringeren Speicherbedarf, wie z. b. Server Core.</span><span class="sxs-lookup"><span data-stu-id="2bd92-119">This enables better centralized administration of one or more machines in the Minimal Server Interface configuration, or of machines in an even lower footprint configuration such as Server Core.</span></span>

## <a name="manifestation"></a><span data-ttu-id="2bd92-120">Ausstrahlung</span><span class="sxs-lookup"><span data-stu-id="2bd92-120">Manifestation</span></span>

<span data-ttu-id="2bd92-121">Wenn eine APP eine der APIs oder Binärdateien erfordert, die in der Konfiguration der minimalen Server Schnittstelle nicht verfügbar sind, wird Sie möglicherweise nicht ordnungsgemäß auf dem Bildschirm angezeigt und/oder ist unbrauchbar.</span><span class="sxs-lookup"><span data-stu-id="2bd92-121">If an app requires any of the APIs or binaries that are not available in the Minimal Server Interface configuration, it may not display properly on the screen and/or be unusable.</span></span>

## <a name="mitigation"></a><span data-ttu-id="2bd92-122">Minderung</span><span class="sxs-lookup"><span data-stu-id="2bd92-122">Mitigation</span></span>

<span data-ttu-id="2bd92-123">Server-App-Entwickler sollten diese Teile Ihrer Apps ermitteln, die eine der entfernten APIs oder Binärdateien erfordern, und Informationen für den Server Administrator einschließen, die die Teile der APP identifizieren, die bei Verwendung der minimalen Server Schnittstelle nicht ordnungsgemäß ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="2bd92-123">Server app developers should identify those parts of their apps that require any of the removed APIs or binaries and include info for the server administrator identifying the parts of the app that won’t run properly when using the Minimal Server Interface.</span></span> <span data-ttu-id="2bd92-124">Wenn diese Teile der APP optional installiert werden können oder für die Produktfunktionalität nicht unbedingt erforderlich sind, kann die APP weiterhin installiert und unter der Konfiguration der minimalen Server Schnittstelle ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="2bd92-124">If those parts of the app can be optionally installed or are not absolutely required for product functionality, the app can still be installed and run under the Minimal Server Interface configuration.</span></span>

<span data-ttu-id="2bd92-125">Wenn die APP nicht ohne die servergrafikshell verwendet werden kann, sollte diese Einschränkung dokumentiert werden, und der Server Administrator sollte angewiesen werden, die servergrafikshell zu installieren.</span><span class="sxs-lookup"><span data-stu-id="2bd92-125">If the app cannot be used at all without the Server Graphical Shell, this limitation should be documented and the server administrator should be instructed to install the Server Graphical Shell.</span></span> <span data-ttu-id="2bd92-126">(Wenn Sie eine Server Core-Installation hinzufügen, erfordert dies möglicherweise das Hinzufügen von Features mithilfe von Features bei Bedarf.) Außerdem sollte die APP beim Start prüfen, ob alle erforderlichen Dateien verfügbar sind, da die servergrafikshell jederzeit vor oder nach der Installation der APP deinstalliert werden kann.</span><span class="sxs-lookup"><span data-stu-id="2bd92-126">(If adding to a Server Core installation, this might require adding features using Features On Demand.) In addition, the app should check on startup that all required files are available, as the Server Graphical Shell can be uninstalled at any time before or after the installation of the app.</span></span>

## <a name="solution"></a><span data-ttu-id="2bd92-127">Lösung</span><span class="sxs-lookup"><span data-stu-id="2bd92-127">Solution</span></span>

<span data-ttu-id="2bd92-128">Verlassen Sie sich auf den kleinsten möglichen Satz von Abhängigkeiten, und modularisieren Sie apps, damit die Kern-App-Funktionalität funktionieren kann, ohne dass eine größere Anzahl von Benutzeroberflächen Komponenten installiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="2bd92-128">Rely on the smallest possible set of dependencies, and modularize apps so that the core app functionality can work without requiring more heavyweight user interface components installed.</span></span> <span data-ttu-id="2bd92-129">Entwickeln Sie apps, für die keine der entfernten APIs oder Binärdateien erforderlich ist, und verlassen Sie sich stattdessen auf die Funktionen, die in der minimalen Server Schnittstelle oder im Server Core enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="2bd92-129">Develop apps that do not require any of the removed APIs or binaries, and rely instead on the functionality contained within the Minimal Server Interface or Server Core.</span></span> <span data-ttu-id="2bd92-130">Dies reduziert die Wartungsanforderungen und verbessert gleichzeitig die Leistung und die Benutzer Zufriedenheit.</span><span class="sxs-lookup"><span data-stu-id="2bd92-130">This will reduce maintenance requirements while improving performance and user satisfaction.</span></span>

<span data-ttu-id="2bd92-131">Wenn es Teile einer APP gibt, die möglicherweise bedeutende Funktionen hinzufügen, wenn die servergrafikshell verfügbar ist, können App-Entwickler folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="2bd92-131">Where there are parts of an app that might add significant functionality when the Server Graphical Shell is available, app developers can:</span></span>

-   <span data-ttu-id="2bd92-132">Diese zusätzlichen Funktionen, die die Verwendung der servergrafikshell verwenden, können optional installiert werden. Daher können Sie bei Installationen bei einer minimalen Server Schnittstellen Konfiguration ausgelassen werden.</span><span class="sxs-lookup"><span data-stu-id="2bd92-132">Allow these additional features making use of Server Graphical Shell to be optionally installed, so they can be omitted from installations on a Minimal Server Interface configuration</span></span>
-   <span data-ttu-id="2bd92-133">Erkennen, ob die grafische Shell des Servers vorhanden ist, und passen das Verhalten der APP an</span><span class="sxs-lookup"><span data-stu-id="2bd92-133">Detect the presence of Server Graphical Shell and adapt the app behavior</span></span>

<span data-ttu-id="2bd92-134">App-Entwickler sollten außerdem sicherstellen, dass Server-apps nach Möglichkeit und entsprechend Remote verwaltet werden können.</span><span class="sxs-lookup"><span data-stu-id="2bd92-134">App developers should also ensure that server apps are remotely manageable where possible and appropriate.</span></span>

## <a name="detecting-minimal-server-interface-and-server-core"></a><span data-ttu-id="2bd92-135">Erkennen der minimalen Server Schnittstelle und des Server Kerns</span><span class="sxs-lookup"><span data-stu-id="2bd92-135">Detecting Minimal Server Interface and Server Core</span></span>

<span data-ttu-id="2bd92-136">Windows Server installiert einen entsprechenden Registrierungs Wert für jede installierte Server Ebene.</span><span class="sxs-lookup"><span data-stu-id="2bd92-136">Windows Server will install a corresponding registry value for each server level installed.</span></span> <span data-ttu-id="2bd92-137">Sie können Abfragen, ob diese Schlüssel vorhanden sind, um zu bestimmen, ob die servergrafikshell oder die minimalen Server Schnittstellen Funktionen installiert und aktiviert sind.</span><span class="sxs-lookup"><span data-stu-id="2bd92-137">You can query for the existence of these keys to determine if the Server Graphical Shell or Minimal Server Interface features are installed and enabled.</span></span>

<span data-ttu-id="2bd92-138">HKEY \_ local \_ Machine \\ Software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Server Server \\ Levels:</span><span class="sxs-lookup"><span data-stu-id="2bd92-138">HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Server\\ServerLevels:</span></span>



|                  | <span data-ttu-id="2bd92-139">Server Core</span><span class="sxs-lookup"><span data-stu-id="2bd92-139">Server Core</span></span> | <span data-ttu-id="2bd92-140">Minimale Serverbenutzeroberfläche</span><span class="sxs-lookup"><span data-stu-id="2bd92-140">Minimal Server Interface</span></span> | <span data-ttu-id="2bd92-141">Grafische Shell für Server</span><span class="sxs-lookup"><span data-stu-id="2bd92-141">Server Graphical Shell</span></span> |
|------------------|-------------|--------------------------|------------------------|
| <span data-ttu-id="2bd92-142">Server Core = 1</span><span class="sxs-lookup"><span data-stu-id="2bd92-142">ServerCore=1</span></span>     | <span data-ttu-id="2bd92-143">X</span><span class="sxs-lookup"><span data-stu-id="2bd92-143">X</span></span>           | <span data-ttu-id="2bd92-144">X</span><span class="sxs-lookup"><span data-stu-id="2bd92-144">X</span></span>                        | <span data-ttu-id="2bd92-145">X</span><span class="sxs-lookup"><span data-stu-id="2bd92-145">X</span></span>                      |
| <span data-ttu-id="2bd92-146">Server-guimgmt = 1</span><span class="sxs-lookup"><span data-stu-id="2bd92-146">Server-GuiMgmt=1</span></span> |             | <span data-ttu-id="2bd92-147">X</span><span class="sxs-lookup"><span data-stu-id="2bd92-147">X</span></span>                        | <span data-ttu-id="2bd92-148">X</span><span class="sxs-lookup"><span data-stu-id="2bd92-148">X</span></span>                      |
| <span data-ttu-id="2bd92-149">Serverguishell = 1</span><span class="sxs-lookup"><span data-stu-id="2bd92-149">ServerGuiShell=1</span></span> |             |                          | <span data-ttu-id="2bd92-150">X</span><span class="sxs-lookup"><span data-stu-id="2bd92-150">X</span></span>                      |



 

<span data-ttu-id="2bd92-151">Ein "X" in der obigen Tabelle bedeutet, dass der Registrierungsschlüssel vorhanden ist, wenn das entsprechende Feature installiert wird.</span><span class="sxs-lookup"><span data-stu-id="2bd92-151">An “X” in the table above means that registry key will be present when the corresponding feature is installed.</span></span>

<span data-ttu-id="2bd92-152">Beachten Sie, dass diese Server Ebenen Additiv sind. Wenn die servergrafikshell installiert ist, ist dies die minimale Server Schnittstelle und Server Core.</span><span class="sxs-lookup"><span data-stu-id="2bd92-152">Note that these server levels are additive; if the Server Graphical Shell is installed, so is the Minimal Server Interface and Server Core.</span></span> <span data-ttu-id="2bd92-153">In diesem Fall sind beide Registrierungsschlüssel vorhanden.</span><span class="sxs-lookup"><span data-stu-id="2bd92-153">In that case, both registry keys will be present.</span></span>

## <a name="tests"></a><span data-ttu-id="2bd92-154">Tests</span><span class="sxs-lookup"><span data-stu-id="2bd92-154">Tests</span></span>

<span data-ttu-id="2bd92-155">Überprüfen Sie Ihren app-Code auf Anforderungen, bei denen eine der entfernten APIs und Binärdateien verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="2bd92-155">Inspect your app code for requirements that use any of the removed APIs and binaries.</span></span> <span data-ttu-id="2bd92-156">Nachdem Sie alle Instanzen dieser Dateien aus den Binärdateien der Kernanwendung entfernt haben, testen Sie Ihre APP in einer Umgebung, in der die grafische Shell des Servers nicht enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="2bd92-156">After you have removed any instances of these from “core application” binaries, test your app in an environment that does not include the Server Graphical Shell.</span></span> <span data-ttu-id="2bd92-157">Hierfür können Tools wie der Prozess Monitor hilfreich sein.</span><span class="sxs-lookup"><span data-stu-id="2bd92-157">Tools such as the Process Monitor might help with this.</span></span>

<span data-ttu-id="2bd92-158">Wenn Sie die Verwendung dieser APIs und Binärdateien nicht vollständig beenden können, sollten Sie sicherstellen, dass Ihre APP ordnungsgemäß fehlschlägt, wenn Sie auf minimaler Server Schnittstelle oder Server Core ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="2bd92-158">If you cannot completely discontinue use of these APIs and binaries, ensure that your app fails gracefully when run on Minimal Server Interface or Server Core.</span></span>

## <a name="resources"></a><span data-ttu-id="2bd92-159">Ressourcen</span><span class="sxs-lookup"><span data-stu-id="2bd92-159">Resources</span></span>

-   <span data-ttu-id="2bd92-160">[Vorhandene Server Core-Dokumentation auf MSDN](/previous-versions/windows/desktop/legacy/ms723891(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="2bd92-160">[Existing Server Core docs on MSDN](/previous-versions/windows/desktop/legacy/ms723891(v=vs.85))</span></span>

 

 