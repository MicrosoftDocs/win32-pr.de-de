---
title: Update der Datenträger Kompatibilität im erweiterten Format (4K)
description: Update der Datenträger Kompatibilität im erweiterten Format (4K)
ms.assetid: 2C9EB0CF-D27B-457A-8FE6-24824BCC084C
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0321570e5ed1cc09ef213e97bf4681b8ea0caec0
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/09/2020
ms.locfileid: "103858530"
---
# <a name="advanced-format-4k-disk-compatibility-update"></a><span data-ttu-id="a8fc5-103">Update der Datenträger Kompatibilität im erweiterten Format (4K)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-103">Advanced format (4K) disk compatibility update</span></span>

## <a name="platforms"></a><span data-ttu-id="a8fc5-104">Plattformen</span><span class="sxs-lookup"><span data-stu-id="a8fc5-104">Platforms</span></span>

<span data-ttu-id="a8fc5-105">**Clients**   Windows XP \| Windows Vista Windows \| 7 \| Windows 7 SP1 \| Windows 8</span><span class="sxs-lookup"><span data-stu-id="a8fc5-105">**Clients**   Windows XP \| Windows Vista \| Windows 7 \| Windows 7 SP1 \| Windows 8</span></span>  
<span data-ttu-id="a8fc5-106">**Server**   Windows Server 2003 \| Windows Server 2008 \| Windows Server 2008 R2 \| Windows Server 2008 R2 SP1 \| Windows Server 2012 \| Windows Server 2012 R2 \| Windows Server 2016</span><span class="sxs-lookup"><span data-stu-id="a8fc5-106">**Servers**   Windows Server 2003 \| Windows Server 2008 \| Windows Server 2008 R2 \| Windows Server 2008 R2 SP1 \| Windows Server 2012 \| Windows Server 2012 R2 \| Windows Server 2016</span></span>  


## <a name="description"></a><span data-ttu-id="a8fc5-107">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="a8fc5-107">Description</span></span>

<span data-ttu-id="a8fc5-108">Dieser Artikel ist eine aktualisierte Version des Artikels mit dem Titel 512-Byte Emulation (512 e) Disk Compatibility Update, das für Windows 7 SP1 und Windows Server 2008 R2 SP1 veröffentlicht wurde.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-108">This article is an updated version of the article titled  512-byte Emulation (512e) Disk Compatibility Update  which was released for Windows 7 SP1 and Windows Server 2008 R2 SP1.</span></span> <span data-ttu-id="a8fc5-109">Dieses Update enthält viele neue Informationen, von denen einige nur für Windows 8 und Windows Server 2012 anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-109">This update contains much new info, some of which is applicable only to Windows 8 and Windows Server 2012.</span></span>

<span data-ttu-id="a8fc5-110">Die Raum dichten werden jährlich gesteigert, und bei der letzten Einführung von 3 TB-Datenträgern werden die Fehlerkorrektur Mechanismen, die für den Umgang mit dem abnehmenden Signal-zu-Rauschen-Verhältnis (SNR) verwendet wurden, zu einem ineffizienten Raum. Dies bedeutet, dass ein erhöhter mehr Aufwand erforderlich ist, um sicherzustellen, dass die Medien verwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-110">Areal densities are increasing yearly, and with the recent advent of 3 TB disks, the error correction mechanisms used to deal with the decreasing signal-to-noise-ratio (SNR) are becoming space inefficient; that is, an increased amount of overhead is required to ensure the media is usable.</span></span> <span data-ttu-id="a8fc5-111">Eine der Speicher-Branchenlösungen zum verbessern dieses Fehlerkorrektur Mechanismus besteht darin, ein anderes physisches Medienformat einzuführen, das eine größere physische Sektorgröße umfasst.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-111">One of the storage industry solutions for improving this error correction mechanism is to introduce a different physical media format that includes a larger physical sector size.</span></span> <span data-ttu-id="a8fc5-112">Dieses neue Format für physische Medien wird als erweitertes Format bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-112">This new physical media format is called Advanced Format.</span></span> <span data-ttu-id="a8fc5-113">Daher ist es nicht mehr sicher, jegliche Annahmen hinsichtlich der Sektorgröße moderner Speichergeräte zu treffen, und Entwickler müssen die Annahmen, die Ihrem Code zugrunde liegen, untersuchen, um zu ermitteln, ob eine Auswirkung vorliegt.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-113">Therefore, it is no longer safe to make any assumptions regarding the sector size of modern storage devices, and developers will need to study the assumptions underlying their code to determine if there is an impact.</span></span>

<span data-ttu-id="a8fc5-114">In diesem Thema wird erläutert, wie sich das erweiterte Formatieren von Speichergeräten in Software unterstützt. Außerdem wird erläutert, welche Aktionen Apps zur Unterstützung dieser Art von Medien ausführen können. Außerdem wird die Infrastruktur erläutert, die Microsoft mit Windows Vista, Windows 7 und Windows 8 eingeführt hat, damit Entwickler diese Gerätetypen unterstützen können.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-114">This topic introduces the effect of Advanced Format storage devices on software, discusses what apps can do to help support this type of media, and discusses the infrastructure that Microsoft introduced with Windows Vista, Windows 7, and Windows 8 to enable developers to support these types of devices.</span></span> <span data-ttu-id="a8fc5-115">Obwohl das in diesem Thema gezeigte Material Richtlinien zur Verbesserung der Kompatibilität mit erweiterten Format Datenträgern enthält, gelten die Informationen im Allgemeinen für alle Systeme mit erweiterten Format Datenträgern, auf denen Windows Vista, Windows 7 und Windows 8 ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-115">While the material presented in this topic provides guidelines for improving compatibility with Advanced Format disks, the info applies generally to all systems with Advanced Format disks running Windows Vista, Windows 7, and Windows 8.</span></span>

<span data-ttu-id="a8fc5-116">**Zusammenfassung der neuen großen sektorbezogenen Features**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-116">**Summary of new large sector related features**</span></span>

<span data-ttu-id="a8fc5-117">In der folgenden Liste werden die neuen Features, die als Teil von Windows 8 und Windows Server 2012 bereitgestellt werden, zusammengefasst, um die Kunden-und Entwickler Freundlichkeit bei Datenträgern mit großen Sektoren</span><span class="sxs-lookup"><span data-stu-id="a8fc5-117">The below list summarizes the new features delivered as part of Windows 8 and Windows Server 2012 to help improve customer and developer experience with large sector disks.</span></span> <span data-ttu-id="a8fc5-118">Eine ausführlichere Beschreibung der einzelnen Elemente folgt.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-118">More detailed description for each item follow.</span></span>

-   <span data-ttu-id="a8fc5-119">Basiert auf der Windows 7 SP1-Unterstützung für 4K-Datenträger mit Emulation (512 e) und bietet vollständige Eingangsbox Unterstützung für Datenträger mit einer Sektorgröße von 4 KB ohne Emulation (4K Native).</span><span class="sxs-lookup"><span data-stu-id="a8fc5-119">Builds upon the Windows 7 SP1 support for 4K disks with emulation (512e), and provides full inbox support for disks with 4K sector size without emulation (4K Native).</span></span> <span data-ttu-id="a8fc5-120">Einige unterstützte apps und Szenarien umfassen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-120">Some supported apps and scenarios include:</span></span>
    -   <span data-ttu-id="a8fc5-121">Möglichkeit der Installation von Windows auf einem 4-KB-sektordatenträger ohne Emulation (4K Native Festplatte)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-121">Ability to install Windows to and boot from a 4K sector disk without emulation (4K Native Disk)</span></span>
    -   <span data-ttu-id="a8fc5-122">VHD und das neue vhdx-Dateiformat</span><span class="sxs-lookup"><span data-stu-id="a8fc5-122">VHD and new VHDX file format</span></span>
    -   <span data-ttu-id="a8fc5-123">Vollständige HyperV-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="a8fc5-123">Full HyperV support</span></span>
    -   <span data-ttu-id="a8fc5-124">Windows-Sicherung</span><span class="sxs-lookup"><span data-stu-id="a8fc5-124">Windows backup</span></span>
    -   <span data-ttu-id="a8fc5-125">Vollständige Unterstützung im NT-Dateisystem (NTFS)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-125">Full support in the NT file system (NTFS)</span></span>
    -   <span data-ttu-id="a8fc5-126">Vollständige Unterstützung mit neuen Speicherplätzen und Pools (SSP)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-126">Full support with new Storage Spaces and Pools (SSP)</span></span>
    -   <span data-ttu-id="a8fc5-127">Vollständige Unterstützung mit Windows Defender</span><span class="sxs-lookup"><span data-stu-id="a8fc5-127">Full support with Windows Defender</span></span>
-   <span data-ttu-id="a8fc5-128">Bietet eine neue API zum Abfragen der Größe des physischen Sektors ("flefssectorsizeinformation"):</span><span class="sxs-lookup"><span data-stu-id="a8fc5-128">Provides a new API to query for physical sector size (FileFsSectorSizeInformation):</span></span>
    -   <span data-ttu-id="a8fc5-129">Verfügbar für Netzwerkvolumes</span><span class="sxs-lookup"><span data-stu-id="a8fc5-129">Available for network volumes</span></span>
    -   <span data-ttu-id="a8fc5-130">Kann für ein beliebiges Datei Handle ausgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-130">Can be issued to any file handle</span></span>
    -   <span data-ttu-id="a8fc5-131">Verfügbar für nicht privilegierte apps</span><span class="sxs-lookup"><span data-stu-id="a8fc5-131">Available for unprivileged apps</span></span>
    -   <span data-ttu-id="a8fc5-132">Friendlier-Verwendungs Modell</span><span class="sxs-lookup"><span data-stu-id="a8fc5-132">Friendlier usage model</span></span>
-   <span data-ttu-id="a8fc5-133">Umfasst das Erweiterte Befehlszeilen-Hilfsprogramm fsutil zum Abfragen der logischen und physischen Sektorgröße von Volumes mit Ausrichtungs Informationen (grundlegende Version des Hilfsprogramms ohne Ausrichtungs Informationen ist für Windows 7 mit Microsoft KB 982018 und Windows Server 2008 R2 mit Microsoft KB 982018 verfügbar)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-133">Includes enhanced  fsutil  command line utility to query for logical and physical sector size of volume with alignment info (basic version of utility without alignment info is available for Windows 7 with Microsoft KB 982018 and Windows Server 2008 R2 with Microsoft KB 982018)</span></span>

<span data-ttu-id="a8fc5-134">**Einführung in erweiterte Format Datenträger (4K)**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-134">**Introduction to advanced format (4K) disks**</span></span>

<span data-ttu-id="a8fc5-135">Eines der Probleme bei der Einführung dieser Änderung im Medienformat ist das Potenzial, Kompatibilitätsprobleme mit vorhandener Software und Hardware einzuführen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-135">One of the problems of introducing this change in the media format is the potential for introducing compatibility issues with existing software and hardware.</span></span> <span data-ttu-id="a8fc5-136">Als temporäre Kompatibilitäts Lösung führt die Speicher Branche anfänglich Datenträger ein, die einen regulären 512-Byte-sektordatenträger emulieren, aber über standardmäßige ATA-und SCSI-Befehle Informationen über die tatsächliche Sektorgröße bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-136">As a temporary compatibility solution, the storage industry is initially introducing disks that emulate a regular 512-byte sector disk, but make available info about the true sector size through standard ATA and SCSI commands.</span></span> <span data-ttu-id="a8fc5-137">Infolge dieser Emulation gibt es im Wesentlichen zwei Sektorgrößen:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-137">As a result of this emulation, there are, in essence, two sector sizes:</span></span>

<span data-ttu-id="a8fc5-138">**Logischer Sektor:** Die Einheit, die für die logische Block Adressierung für das Medium verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-138">**Logical sector:** The unit that is used for logical block addressing for the media.</span></span> <span data-ttu-id="a8fc5-139">Wir können uns dies auch als kleinste Schreibeinheit vorstellen, die der Speicher annehmen kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-139">We can also think of it as the smallest unit of write that the storage can accept.</span></span> <span data-ttu-id="a8fc5-140">Dies ist die Emulation.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-140">This is the  emulation.</span></span>   
<span data-ttu-id="a8fc5-141">**Physischer Sektor:** Die Einheit, für die Lese-und Schreibvorgänge auf dem Gerät in einem einzelnen Vorgang abgeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-141">**Physical sector:** The unit for which read and write operations to the device are completed in a single operation.</span></span> <span data-ttu-id="a8fc5-142">Dies ist die Einheit des atomaren Schreibzugriffs.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-142">This is the unit of atomic write.</span></span>  
 <span data-ttu-id="a8fc5-143">Die meisten aktuellen Windows-APIs, wie z. b. IOCTL \_ Disk \_ get \_ Drive \_ Geometry, geben die logische Sektorgröße zurück, aber die physische Sektorgröße kann über den <a href="/windows-hardware/drivers/ddi/content/ntddstor/ni-ntddstor-ioctl_storage_query_property">IOCTL \_ Storage \_ Query- \_ Eigenschaften</a> Steuerungs Code abgerufen werden, wobei die relevanten Informationen im Feld bytesperphysicalsektorin der <a href="/windows/desktop/api/winioctl/ns-winioctl-storage_access_alignment_descriptor"> \_ \_ \_ deskriptorstruktur der Speicherzugriffs Ausrichtung</a> enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-143">Most current Windows APIs, such as IOCTL\_DISK\_GET\_DRIVE\_GEOMETRY will return the logical sector size, but the physical sector size can be retrieved through the <a href="/windows-hardware/drivers/ddi/content/ntddstor/ni-ntddstor-ioctl_storage_query_property">IOCTL\_STORAGE\_QUERY\_PROPERTY</a> control code, with the relevant info contained in the BytesPerPhysicalSector field in the <a href="/windows/desktop/api/winioctl/ns-winioctl-storage_access_alignment_descriptor">STORAGE\_ACCESS\_ALIGNMENT\_DESCRIPTOR</a> structure.</span></span> <span data-ttu-id="a8fc5-144">Dies wird weiter unten in diesem Artikel ausführlicher erläutert.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-144">This is discussed in more detail later in the article.</span></span>

<span data-ttu-id="a8fc5-145">**Anfängliche Typen von Medien im großen Sektor**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-145">**Initial types of large sector media**</span></span>

<span data-ttu-id="a8fc5-146">Die Speicher Branche beschleunigt rasch den Umstieg auf diesen neuen erweiterten Formattyp von Speicher für Medien mit einer physischen Sektorgröße von 4 KB.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-146">The storage industry is quickly ramping up efforts to transition to this new Advanced Format type of storage for media having a 4 KB physical sector size.</span></span> <span data-ttu-id="a8fc5-147">Zwei Arten von Medien werden auf dem Markt veröffentlicht:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-147">Two types of media will be released to the market:</span></span>

<span data-ttu-id="a8fc5-148">**4 KB** System eigen: Dieses Medium hat keine Emulations Schicht und macht 4 KB direkt als logische und physische Sektorgröße verfügbar.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-148">**4 KB native:** This media has no emulation layer and directly exposes 4 KB as its logical and physical sector size.</span></span> <span data-ttu-id="a8fc5-149">Das Gesamtproblem bei dieser neuen Art von Medien besteht darin, dass die meisten apps und Betriebssysteme keine e/a-Vorgängen für die physische Sektorgröße Abfragen und ausrichten, was zu unerwarteten fehlgeschlagenen e/a-Vorgängen führen kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-149">The overall issue with this new type of media is that the majority of apps and operating systems do not query for and align I/Os to the physical sector size, which can result in unexpected failed I/Os.</span></span>  
<span data-ttu-id="a8fc5-150">**512-Byte-Emulation (512 e):** Dieses Medium verfügt über eine Emulations Schicht, wie im vorherigen Abschnitt erläutert wurde, und macht 512-Bytes als logische Sektorgröße verfügbar (ähnlich wie bei einem regulären Datenträger), stellt jedoch die Größe der physischen Sektoren (4 KB) zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-150">**512-byte emulation (512e):** This media has an emulation layer as discussed in the previous section and exposes 512-bytes as its logical sector size (similar to a regular disk today), but makes its physical sector size info (4 KB) available.</span></span> <span data-ttu-id="a8fc5-151">Das Gesamtproblem bei diesem neuen Medientyp besteht darin, dass die Mehrzahl der APP und der Betriebssysteme nicht das vorhanden sein der physischen Sektorgröße verstehen, was zu einer Reihe von Problemen führen kann, die im folgenden erläutert werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-151">The overall issue with this new type of media is that the majority of app and operating systems do not understand the existence of the physical sector size, which can result in a number of issues as will be discussed below.</span></span>  
<span data-ttu-id="a8fc5-152">**Allgemeine Windows-Unterstützung für Medien im großen Sektor**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-152">**Overall Windows support for large sector media**</span></span>

<span data-ttu-id="a8fc5-153">In dieser Tabelle wird die offizielle Microsoft-Support Richtlinie für verschiedene Medien und die resultierenden gemeldeten Sektorgrößen dokumentiert.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-153">This table documents the official Microsoft support policy for various media and their resulting reported sector sizes.</span></span> <span data-ttu-id="a8fc5-154">Weitere Informationen finden Sie in diesem [KB-Artikel](https://support.microsoft.com/kb/2510009) .</span><span class="sxs-lookup"><span data-stu-id="a8fc5-154">See this [KB article](https://support.microsoft.com/kb/2510009) for details.</span></span>



| <span data-ttu-id="a8fc5-155">Allgemeine Namen</span><span class="sxs-lookup"><span data-stu-id="a8fc5-155">Common Names</span></span>                                  | <span data-ttu-id="a8fc5-156">Gemeldete logische Sektorgröße</span><span class="sxs-lookup"><span data-stu-id="a8fc5-156">Reported Logical Sector Size</span></span> | <span data-ttu-id="a8fc5-157">Gemeldete physische Sektorgröße</span><span class="sxs-lookup"><span data-stu-id="a8fc5-157">Reported Physical Sector Size</span></span> | <span data-ttu-id="a8fc5-158">Windows-Version mit Unterstützung</span><span class="sxs-lookup"><span data-stu-id="a8fc5-158">Windows Version with Support</span></span>                                                                                                                                                                                                                                                                             |
|-----------------------------------------------|------------------------------|-------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a8fc5-159">512-Byte Native, 512 n</span><span class="sxs-lookup"><span data-stu-id="a8fc5-159">512-byte Native, 512n</span></span>                         | <span data-ttu-id="a8fc5-160">512 Bytes</span><span class="sxs-lookup"><span data-stu-id="a8fc5-160">512 bytes</span></span>                    | <span data-ttu-id="a8fc5-161">512 Bytes</span><span class="sxs-lookup"><span data-stu-id="a8fc5-161">512 bytes</span></span>                     | <span data-ttu-id="a8fc5-162">Alle Windows-Versionen</span><span class="sxs-lookup"><span data-stu-id="a8fc5-162">All Windows versions</span></span>                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="a8fc5-163">Erweitertes Format, 512 e, AF, 512-Byte-Emulation</span><span class="sxs-lookup"><span data-stu-id="a8fc5-163">Advanced Format, 512e, AF, 512-byte Emulation</span></span> | <span data-ttu-id="a8fc5-164">512 Bytes</span><span class="sxs-lookup"><span data-stu-id="a8fc5-164">512 bytes</span></span>                    | <span data-ttu-id="a8fc5-165">4 KB</span><span class="sxs-lookup"><span data-stu-id="a8fc5-165">4 KB</span></span>                          | <span data-ttu-id="a8fc5-166">Windows Vista w/MS KB 2553708</span><span class="sxs-lookup"><span data-stu-id="a8fc5-166">Windows Vista w/ MS KB 2553708</span></span> <br/> <span data-ttu-id="a8fc5-167">Windows Server 2008 \* w/MS KB 2553708</span><span class="sxs-lookup"><span data-stu-id="a8fc5-167">Windows Server 2008\* w/ MS KB 2553708</span></span> <br/> <span data-ttu-id="a8fc5-168">Windows 7 w/MS KB 982018</span><span class="sxs-lookup"><span data-stu-id="a8fc5-168">Windows 7 w/ MS KB 982018</span></span> <br/> <span data-ttu-id="a8fc5-169">Windows Server 2008 R2 \* w/MS KB 982018</span><span class="sxs-lookup"><span data-stu-id="a8fc5-169">Windows Server 2008 R2\* w/ MS KB 982018</span></span> <br/> <span data-ttu-id="a8fc5-170">Alle Windows-Versionen von Windows 7 SP1 und darüber hinaus.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-170">All Windows versions from Windows 7 SP1 and beyond.</span></span> <br/> <span data-ttu-id="a8fc5-171">Alle Serverversionen von Server 2008 R2 SP1 und darüber hinaus.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-171">All Server versions from Server 2008 R2 SP1 and beyond.</span></span> <br/> <br/> <span data-ttu-id="a8fc5-172">\*Mit Ausnahme von Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-172">\*Except for Hyper-V.</span></span> <span data-ttu-id="a8fc5-173">Weitere Informationen finden Sie im Abschnitt ["Anforderungen für die Anwendungsunterstützung für große sektorlaufwerke"](https://support.microsoft.com/help/2510009/microsoft-support-policy-for-4k-sector-hard-drives-in-windows) .</span><span class="sxs-lookup"><span data-stu-id="a8fc5-173">See the ["Application support requirements for large-sector drives"](https://support.microsoft.com/help/2510009/microsoft-support-policy-for-4k-sector-hard-drives-in-windows) section.</span></span> |
| <span data-ttu-id="a8fc5-174">Vorab Format, AF, 4K Native, 4kN</span><span class="sxs-lookup"><span data-stu-id="a8fc5-174">Advance Format, AF, 4K Native, 4Kn</span></span>            | <span data-ttu-id="a8fc5-175">4 KB</span><span class="sxs-lookup"><span data-stu-id="a8fc5-175">4 KB</span></span>                         | <span data-ttu-id="a8fc5-176">4 KB</span><span class="sxs-lookup"><span data-stu-id="a8fc5-176">4 KB</span></span>                          | <span data-ttu-id="a8fc5-177">Alle Windows-Versionen von Windows 8 und darüber hinaus</span><span class="sxs-lookup"><span data-stu-id="a8fc5-177">All Windows versions from Windows 8 and beyond</span></span> <br/> <span data-ttu-id="a8fc5-178">Alle Server Versionen von Windows Server 2012 und darüber hinaus</span><span class="sxs-lookup"><span data-stu-id="a8fc5-178">All Server versions from Windows Server 2012 and beyond</span></span> <br/>                                                                                                                                                                                                                                                      |
| <span data-ttu-id="a8fc5-179">Sonstiges</span><span class="sxs-lookup"><span data-stu-id="a8fc5-179">Other</span></span>                                         | <span data-ttu-id="a8fc5-180">Nicht 4 KB oder 512 Bytes</span><span class="sxs-lookup"><span data-stu-id="a8fc5-180">Not 4 KB or 512 bytes</span></span>        | <span data-ttu-id="a8fc5-181">Nicht 4 KB oder 512 Bytes</span><span class="sxs-lookup"><span data-stu-id="a8fc5-181">Not 4 KB or 512 bytes</span></span>         | <span data-ttu-id="a8fc5-182">Nicht unterstützt</span><span class="sxs-lookup"><span data-stu-id="a8fc5-182">Not supported</span></span>                                                                                                                                                                                                                                                                                            |



 

> [!Note]  
> <span data-ttu-id="a8fc5-183">Obwohl es in der obigen Tabelle nicht hervorgehoben ist, unterstützen Windows XP, Windows Server 2003 und Windows Server 2003 R2 nicht die Medien 512 e oder 4kN.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-183">While not stressed in the preceding table, Windows XP, Windows Server 2003, and Windows Server 2003 R2 do not support 512e or 4Kn media.</span></span> <span data-ttu-id="a8fc5-184">Obwohl das System gestartet werden kann und in der Lage sein kann, minimal zu arbeiten, gibt es möglicherweise unbekannte Szenarios mit Funktions Problemen, Datenverlusten oder suboptimaler Leistung.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-184">While the system may boot up and be able to operate minimally, there may be unknown scenarios of functionality issues, data loss, or sub-optimal performance.</span></span> <span data-ttu-id="a8fc5-185">Daher unterliegt Microsoft stark der Verwendung von 512 e-Medien mit Windows XP oder anderen Produkten, die auf der Windows XP-Codebasis basieren (z. b. Windows Home Server 1,0, Windows Server 2003, Windows Server 2003 R2, Windows XP 64-Bit Edition, Windows XP Embedded, Windows Small Business Server 2003 und Windows Small Business Server 2003 R2).</span><span class="sxs-lookup"><span data-stu-id="a8fc5-185">Thus, Microsoft strongly cautions against using 512e media with Windows XP or other products based on the Windows XP codebase (such as Windows Home Server 1.0, Windows Server 2003, Windows Server 2003 R2, Windows XP 64-bit Edition, Windows XP Embedded, Windows Small Business Server 2003, and Windows Small Business Server 2003 R2).</span></span>

 

## <a name="how-emulation-works-read-modify-write-rmw"></a><span data-ttu-id="a8fc5-186">Funktionsweise der Emulation: Read-Modify-Write (RMW)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-186">How emulation works: read-modify-write (RMW)</span></span>

<span data-ttu-id="a8fc5-187">Ein Speichermedium verfügt über eine bestimmte Einheit, in der das physische Medium geändert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-187">A storage medium has a certain unit within which the physical medium can be modified.</span></span> <span data-ttu-id="a8fc5-188">Das heißt, die Medien können nur in Einheiten der physischen Sektorgröße geschrieben oder umgeschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-188">That is, the media can only be written, or rewritten, in units of the physical sector size.</span></span> <span data-ttu-id="a8fc5-189">Folglich erfordern Schreibvorgänge, die nicht auf dieser Einheits Ebene ausgeführt werden, zusätzliche Schritte, die wir im folgenden Beispiel durchgehen werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-189">Thus, writes that are not performed at this unit level would require additional steps, which we will walk through the example below.</span></span>

<span data-ttu-id="a8fc5-190">In diesem Szenario muss eine APP den Inhalt eines dataStor-Datensatzes innerhalb eines logischen 512-Byte-Sektors aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-190">In this scenario, an app needs to update the contents of a Datastor record located within a 512-byte logical sector.</span></span> <span data-ttu-id="a8fc5-191">Dieses Diagramm veranschaulicht die Schritte, die erforderlich sind, damit das Speichergerät den Schreibvorgang beendet:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-191">This diagram illustrates the steps necessary for the storage device to complete the write:</span></span>

![Schritte für ein Speichergerät zum Abschluss eines Schreibvorgangs](images/512ermwsteps.png)

<span data-ttu-id="a8fc5-193">Wie oben gezeigt, umfasst dieser Prozess etwas Arbeit vom Speichergerät, das zu einem Leistungsverlust führen kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-193">As illustrated above, this process involves some work by the storage device that can result in a performance loss.</span></span> <span data-ttu-id="a8fc5-194">Um diese zusätzliche Arbeit zu vermeiden, müssen apps wie folgt aktualisiert werden:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-194">To avoid this additional work, apps must be updated to:</span></span>

-   <span data-ttu-id="a8fc5-195">Abfragen der physischen Sektorgröße</span><span class="sxs-lookup"><span data-stu-id="a8fc5-195">Query for the physical sector size</span></span>
-   <span data-ttu-id="a8fc5-196">Sicherstellen, dass Schreibvorgänge an der Größe des gemeldeten physischen Sektors ausgerichtet sind</span><span class="sxs-lookup"><span data-stu-id="a8fc5-196">Ensure writes are aligned to that reported physical sector size</span></span>

<span data-ttu-id="a8fc5-197">Obwohl dies anfänglich scheinbar nur ein Leistungsproblem sein kann, kann es zu einem schwerwiegenderen Problem kommen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-197">While this may initially appear to be only a performance issue, there can be more serious issue.</span></span> <span data-ttu-id="a8fc5-198">Dies wird im nächsten Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-198">Let s discuss this in the next section.</span></span>

<span data-ttu-id="a8fc5-199">**Resilienz: die ausgeblendeten Kosten für Lese-und Schreibvorgänge**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-199">**Resiliency: the hidden cost of read-modify-write**</span></span>

<span data-ttu-id="a8fc5-200">Resilienz spricht von der Fähigkeit einer APP, den Status zwischen den Sitzungen wiederherzustellen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-200">Resiliency speaks of the ability of an app to recover state between sessions.</span></span> <span data-ttu-id="a8fc5-201">Wir haben gesehen, was erforderlich ist, damit ein 512E-Speichergerät einen 512-Byte-Sektor durchführen kann, um den Lese-und Schreibvorgang zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-201">We have seen what is necessary for a 512e storage device to perform a 512-byte sector write   the Read-Modify-Write cycle.</span></span> <span data-ttu-id="a8fc5-202">Sehen Sie sich an, was passiert, wenn der Prozess der Überschreibung des vorherigen physischen Sektors auf dem Medium unterbrochen wurde.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-202">Let s look at what would happen if the process of overwriting the previous physical sector on the media was interrupted.</span></span> <span data-ttu-id="a8fc5-203">Wie lauten die Konsequenzen?</span><span class="sxs-lookup"><span data-stu-id="a8fc5-203">What would be the consequences?</span></span>

-   <span data-ttu-id="a8fc5-204">Da die meisten Festplattenlaufwerke direkt aktualisiert werden, ist der physische Sektor, d. h. der Teil des Mediums, auf dem sich der physische Sektor befand, möglicherweise aufgrund einer partiellen Überschreibung mit unvollständigen Informationen beschädigt worden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-204">Because most hard disk drives update in place, the physical sector   that is, the portion of the media where the physical sector was located   could have been corrupted with incomplete info due to a partial overwrite.</span></span> <span data-ttu-id="a8fc5-205">Anders ausgedrückt, Sie können sich davon vorstellen, dass alle acht logischen Sektoren verloren gegangen sind (was der physische Sektor logisch enthält).</span><span class="sxs-lookup"><span data-stu-id="a8fc5-205">Put another way, you can think of it as potentially having lost all 8 logical sectors (which the physical sector logically contains).</span></span>
-   <span data-ttu-id="a8fc5-206">Obwohl die meisten apps mit einem Datenspeicher mit der Funktion zur Wiederherstellung nach Medien Fehlern, dem Verlust von acht Sektoren oder einem anderen Weg, dem Verlust von acht Commit-Datensätzen, entworfen wurden, kann es möglicherweise unmöglich machen, dass der Datenspeicher ordnungsgemäß wieder hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-206">While most apps with a data store are designed with the capability to recover from media errors, the loss of eight sectors, or put another way, the loss of eight commit records, can potentially make it impossible for the data store to recover gracefully.</span></span> <span data-ttu-id="a8fc5-207">Ein Administrator muss die Datenbank möglicherweise manuell aus einer Sicherung wiederherstellen oder sogar eine langwierige Neuerstellung durchführen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-207">An administrator may need to manually restore the database from a backup or may even need to perform a lengthy rebuild.</span></span>
-   <span data-ttu-id="a8fc5-208">Eine weitere wichtige Auswirkung besteht darin, dass der Act einer anderen APP, der einen Lese-/Änderungs-Vorgang verursacht, möglicherweise dazu führen kann, dass Ihre Daten verloren gehen, auch wenn Ihre APP nicht ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-208">One more important impact is that the act of another app causing a Read-Modify-Write cycle can potentially cause your data to be lost   even if your app is not running!</span></span> <span data-ttu-id="a8fc5-209">Dies liegt einfach daran, dass sich die Daten und die anderen APP-Daten innerhalb desselben physischen Sektors befinden könnten.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-209">This is simply because your data and the other app s data could be located within the same physical sector.</span></span>

<span data-ttu-id="a8fc5-210">Vor diesem Hintergrund ist es wichtig, dass die APP-Software alle Annahmen, die im Code vorgenommen wurden, neu bewertet und die Unterscheidung der logischen Sektorgröße sowie einige interessante Kunden Szenarios beachten, die später in diesem Artikel erläutert werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-210">With this in mind, it is important that app software reevaluate any assumptions taken in the code, and be aware of the logical-physical sector size distinction, along with some interesting customer scenarios discussed later in this article.</span></span>

<span data-ttu-id="a8fc5-211">**Alles tun (vermeiden von Lese-und Schreibzugriff)**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-211">**Doing the right thing (avoiding read-modify-write)**</span></span>

<span data-ttu-id="a8fc5-212">Während einige Speicher Anbieter einige Stufen der Entschärfung innerhalb bestimmter 512 e-Speichergeräte einführen, um die Leistungs-und resilienzprobleme des Lese-/Änderungs-Schreibzyklen zu vereinfachen, gibt es nur so viele Entschärfungs Maßnahmen in Bezug auf die Arbeitsauslastung.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-212">While some storage vendors may be introducing some levels of mitigation within certain 512e storage devices to try to ease the performance and resiliency issues of the Read-Modify-Write cycle, there is only so much any mitigation can handle in terms of workload.</span></span> <span data-ttu-id="a8fc5-213">Daher sollten sich apps nicht auf diese Entschärfung als langfristige Lösung verlassen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-213">As such, apps should not rely on this mitigation as a long-term solution.</span></span> <span data-ttu-id="a8fc5-214">Außerdem gibt es keine Garantie dafür, dass für alle Klassen von Datenträgern diese Entschärfung vorhanden ist, und es gibt auch keine Garantie dafür, dass die Entschärfung gut entworfen wurde.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-214">Moreover, there is no guarantee that all classes of disks will have this mitigation in place, nor is there a guarantee that the mitigation is well-designed.</span></span>

<span data-ttu-id="a8fc5-215">Dabei handelt es sich nicht um eine nicht-Laufwerke-Lösung, sondern um die Entwicklung von Apps für den richtigen Satz von Medien, um diese Art von Medien zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-215">The solution to this is not in-drive mitigation, but to design apps to do the right set of things to help support this type of media.</span></span> <span data-ttu-id="a8fc5-216">In diesem Abschnitt werden häufige Szenarien erläutert, in denen apps Probleme mit großen sektordatenträgern haben können, und es wird eine Untersuchungs Möglichkeit vorgeschlagen, um die einzelnen Probleme zu beheben.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-216">This section discusses common scenarios where apps may have issues with large sector disks, and suggests an avenue of investigation to try and resolve each issue.</span></span>

<span data-ttu-id="a8fc5-217">**Problem 1: die Partition ist nicht an einer physischen Sektorgrenze ausgerichtet.**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-217">**Issue 1: the partition is not aligned to a physical sector boundary**</span></span>

<span data-ttu-id="a8fc5-218">Wenn der Administrator/Benutzer den Datenträger partitioniert, wurde die erste Partition möglicherweise nicht an einer ausgerichteten Grenze erstellt.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-218">When the administrator/user partitions the disk, the first partition may not have been created on an aligned boundary.</span></span> <span data-ttu-id="a8fc5-219">Dies kann dazu führen, dass alle nachfolgenden Schreibvorgänge an den physischen Sektorgrenzen nicht ausgerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-219">This may cause all subsequent writes to become unaligned to physical sector boundaries.</span></span> <span data-ttu-id="a8fc5-220">Ab Windows Vista SP1 und Windows Server 2008 wird die erste Partition auf den ersten 1024 KB des Datenträgers platziert (für Datenträger mit einer Größe von 4 GB oder größer, andernfalls ist die Ausrichtung auf 64 KB), die an einer physischen Sektorgrenze von 4 KB ausgerichtet ist.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-220">As of Windows Vista SP1 and Windows Server 2008, the first partition is placed at the first 1024 KB of the disk (for disks 4GB or larger, otherwise the alignment is 64 KB) that is aligned to a 4 KB physical sector boundary.</span></span> <span data-ttu-id="a8fc5-221">Wenn jedoch die Standard Partitionierung in Windows XP, ein Drittanbieter-Partitionierungsprogramm oder eine falsche Verwendung von Windows-APIs vorhanden ist, sind erstellte Partitionen möglicherweise nicht an einer physischen Sektorgrenze ausgerichtet.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-221">However, given the default partitioning in Windows XP, a 3rd party partitioning utility or incorrect usage of Windows APIs, created partitions may not be aligned to a physical sector boundary.</span></span> <span data-ttu-id="a8fc5-222">Entwickler müssen sicherstellen, dass die richtigen APIs verwendet werden, um die Ausrichtung sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-222">Developers will need to ensure that the correct APIs are used to help ensure alignment.</span></span> <span data-ttu-id="a8fc5-223">Die empfohlenen APIs, um sicherzustellen, dass die Partitions Ausrichtung nachfolgend beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-223">The recommended APIs to help ensure partition alignment are outlined below.</span></span>

<span data-ttu-id="a8fc5-224">Die ivdspack:: anatevolume-und IVdsPack2:: CreateVolume2-APIs verwenden den angegebenen Ausrichtungs Parameter nicht, wenn ein neues Volume erstellt wird, sondern verwenden stattdessen den Standardwert für die Ausrichtung des Betriebssystems (Pre-Windows Vista SP1 verwendet 63 Bytes, und nach Windows Vista SP1 werden die oben genannten Standardeinstellungen verwendet).</span><span class="sxs-lookup"><span data-stu-id="a8fc5-224">The IVdsPack::CreateVolume and IVdsPack2::CreateVolume2 APIs do not use the specified alignment parameter when a new volume is created, but rather use the alignment value default for the operating system (Pre-Windows Vista SP1 will use 63 bytes, and post Windows Vista SP1 will use the defaults stated above).</span></span> <span data-ttu-id="a8fc5-225">Verwenden Sie stattdessen die ivdscreatepartitionex:: | atepartitionex-oder ivdsadvanceddisk:: up-Partition-APIs, die den angegebenen Ausrichtungs Parameter für die apps verwenden, die Partitionen erstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-225">Instead, use the IVdsCreatePartitionEx::CreatePartitionEx or IVdsAdvancedDisk::CreatePartition APIs that use the specified alignment parameter for those apps that need to create partitions.</span></span>

<span data-ttu-id="a8fc5-226">Die beste Möglichkeit, um sicherzustellen, dass die Ausrichtung korrekt ist, ist das Recht, wenn Sie die Partition erstmalig erstellen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-226">The best way to help ensure that alignment is correct is to do it right when initially creating the partition.</span></span> <span data-ttu-id="a8fc5-227">Andernfalls muss Ihre APP beim Ausführen von Schreibvorgängen oder bei der Initialisierung, bei der es sich um einen sehr komplexen Prozess handeln kann, eine Ausrichtung berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-227">Otherwise your app will need to take alignment into account when performing writes or at initialization   which can be a very complex process.</span></span>

<span data-ttu-id="a8fc5-228">**Problem 2: nicht gepufferte Schreibvorgänge, die nicht an der physischen Sektorgröße ausgerichtet sind**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-228">**Issue 2: unbuffered writes not aligned to physical sector size**</span></span>

<span data-ttu-id="a8fc5-229">Das einfachste Problem ist, dass nicht gepufferte Schreibvorgänge nicht an der gemeldeten physischen Sektorgröße des Speichermediums ausgerichtet werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-229">The simplest issue is that unbuffered writes are not aligned to the reported physical sector size of the storage media.</span></span> <span data-ttu-id="a8fc5-230">Gepufferte Schreibvorgänge werden hingegen auf die Seitengröße 4 KB ausgerichtet, was zufälligerweise die physische Sektorgröße der ersten Generation von Medien mit großen Sektoren ist.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-230">Buffered writes, on the other hand, are aligned to the page size   4 KB   which coincidently is the physical sector size of the first generation of large sector media.</span></span> <span data-ttu-id="a8fc5-231">Bei den meisten apps mit einem Datenspeicher werden jedoch nicht gepufferte Schreibvorgänge ausgeführt. Daher muss sichergestellt werden, dass diese Schreibvorgänge in Einheiten der physischen Sektorgröße durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-231">However, most apps with a data store perform unbuffered writes, and thus will need to ensure these writes are performed in units of the physical sector size.</span></span>

<span data-ttu-id="a8fc5-232">Einige Beispiele für Szenarien, in denen die resultierende App-e/a nicht ausgerichtet ist:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-232">Some examples of scenarios where the resulting app I/O is unaligned:</span></span>

<span data-ttu-id="a8fc5-233">**Commit-Datensätze werden in 512-Byte-Sektoren aufgefüllt:** Apps mit einem Datenspeicher verfügen in der Regel über eine Art Commit-Datensatz, der entweder Informationen über Metadatenänderungen verwaltet oder die Struktur des Datenspeicher beibehält.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-233">**Commit records are padded to 512-byte sectors:** Apps with a data store typically have some form of commit record that either maintains info about metadata changes or maintains the structure of the data store.</span></span> <span data-ttu-id="a8fc5-234">Um sicherzustellen, dass sich der Verlust eines Sektors nicht auf mehrere Datensätze auswirkt, wird dieser Commit-Datensatz in der Regel in einer Sektorgröße aufgefüllt.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-234">In order to ensure that the loss of a sector does not affect multiple records, this commit record is typically padded out to a sector size.</span></span> <span data-ttu-id="a8fc5-235">Bei einem Datenträger mit einer größeren physischen Sektorgröße muss die APP die physische Sektorgröße Abfragen, wie im vorherigen Abschnitt gezeigt, und sicherstellen, dass jeder Commit-Datensatz in dieser Größe aufgefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-235">With a disk with a larger physical sector size, the app will need to query for the physical sector size as shown in the prior section, and ensure each commit record is padded to that size.</span></span> <span data-ttu-id="a8fc5-236">Bei einem 4K-Datenträger wird dadurch sichergestellt, dass e/a-Vorgänge nicht ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-236">With a 4K disk, this ensures I/Os do not fail.</span></span> <span data-ttu-id="a8fc5-237">Mit einem 512 e-Datenträger wird nicht nur der Lese-und Schreibvorgang vermieden, sondern es wird sichergestellt, dass nur ein Commit-Datensatz verloren geht, wenn ein physischer Sektor verloren gegangen ist.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-237">With a 512e disk, not only does this avoid the Read-Modify-Write cycle, it helps ensure that if a physical sector was lost, only one Commit Record would be lost.</span></span>  
<span data-ttu-id="a8fc5-238">**Protokolldateien werden in nicht ausgerichtete Blöcke in geschrieben:** Nicht gepufferte e/a-Vorgänge werden in der Regel beim Aktualisieren oder Anhängen an eine Protokolldatei verwendet.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-238">**Log files are written to in unaligned chunks:** Unbuffered I/O is typically used when updating or appending to a log file.</span></span> <span data-ttu-id="a8fc5-239">Apps können entweder zu gepufferter e/a-Vorgänge wechseln oder die Protokoll Aktualisierungen intern auf Einheiten der physischen Sektorgröße Puffern, um fehlerhafte e/As zu vermeiden oder einen Lese-/Änderungs-Schreibvorgang auszulösen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-239">Apps can either switch to buffered I/O, or internally buffer the log updates to units of the physical sector size to avoid failed I/Os or triggering a Read-Modify-Write.</span></span>  
 <span data-ttu-id="a8fc5-240">Wenn Sie ermitteln möchten, ob Ihre APP nicht gepufferte e/a-Vorgänge ausgibt, stellen Sie sicher, dass Sie das Flag für die \_ Dateiflag " \_ keine \_ Pufferung" in den Parameter " *dwflagsandattributs* " einschließen, wenn Sie die Funktion "</span><span class="sxs-lookup"><span data-stu-id="a8fc5-240">To help determine if your app issues unbuffered I/O, make sure to include the FILE\_FLAG\_NO\_BUFFERING flag in the *dwFlagsAndAttributes* parameter when you are call the CreateFile function.</span></span>

<span data-ttu-id="a8fc5-241">Wenn Sie derzeit die Schreibvorgänge an der Sektorgröße ausrichten, ist diese Sektorgröße wahrscheinlich nur die logische Sektorgröße, da die meisten vorhandenen APIs, die die Sektorgröße der Medien Abfragen, nur die Einheit der Adressierung Abfragen, d. h. die Größe des logischen Sektors.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-241">Moreover, if you are currently aligning the writes to the sector size, this sector size is most likely just the logical sector size, as most existing APIs that query for the sector size of the media just query the unit of addressing   that is, the logical sector size.</span></span> <span data-ttu-id="a8fc5-242">Die Sektorgröße, die hier von Interesse ist, ist die physische Sektorgröße, bei der es sich um die reale Einheit der Atomizität handelt.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-242">The sector size of interest here is the physical sector size, which is the real unit of atomicity.</span></span> <span data-ttu-id="a8fc5-243">Einige Beispiele für APIs, die die logische Sektorgröße abrufen, sind:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-243">Some examples of APIs that retrieve the logical sector size are:</span></span>

-   <span data-ttu-id="a8fc5-244">GetDiskFreeSpace, GetDiskFreeSpaceEx</span><span class="sxs-lookup"><span data-stu-id="a8fc5-244">GetDiskFreeSpace, GetDiskFreeSpaceEx</span></span>
-   <span data-ttu-id="a8fc5-245">"Flefsvolumeinformation"</span><span class="sxs-lookup"><span data-stu-id="a8fc5-245">FileFsVolumeInformation</span></span>
-   <span data-ttu-id="a8fc5-246">ioctl-Datenträger \_ \_ get- \_ Laufwerk \_ Geometrie, IOCTL \_ Disk \_ get \_ Drive \_ Geometry \_ Ex</span><span class="sxs-lookup"><span data-stu-id="a8fc5-246">IOCTL\_DISK\_GET\_DRIVE\_GEOMETRY, IOCTL\_DISK\_GET\_DRIVE\_GEOMETRY\_EX</span></span>
-   <span data-ttu-id="a8fc5-247">Ivdsdisk:: GetProperties, IVdsDisk3:: GetProperties2</span><span class="sxs-lookup"><span data-stu-id="a8fc5-247">IVdsDisk::GetProperties, IVdsDisk3::GetProperties2</span></span>

<span data-ttu-id="a8fc5-248">Hier erfahren Sie, wie Sie die physische Sektorgröße Abfragen können:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-248">Here s how you can query for the physical sector size:</span></span>

<span data-ttu-id="a8fc5-249">**Bevorzugte Methode für Windows 8**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-249">**Preferred method for Windows 8**</span></span>

<span data-ttu-id="a8fc5-250">Mit Windows 8 hat Microsoft eine neue API eingeführt, die es Entwicklern ermöglicht, 4K-Unterstützung problemlos in Ihre apps zu integrieren.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-250">With Windows 8, Microsoft has introduced a new API that enables developers to easily integrate 4K support within their apps.</span></span> <span data-ttu-id="a8fc5-251">Diese neue API unterstützt eine noch größere Anzahl von Szenarien als die ältere Methode für Windows Vista und Windows 7, die im folgenden erläutert wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-251">This new API supports even greater numbers of scenarios than the legacy method for Windows Vista and Windows 7 discussed below.</span></span> <span data-ttu-id="a8fc5-252">Diese API ermöglicht folgende Aufruf Szenarien:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-252">This API enables these calling scenarios:</span></span>

-   <span data-ttu-id="a8fc5-253">Aufrufen von einer nicht privilegierten App</span><span class="sxs-lookup"><span data-stu-id="a8fc5-253">Calling from an unprivileged app</span></span>
-   <span data-ttu-id="a8fc5-254">Aufrufen eines beliebigen gültigen Datei Handles</span><span class="sxs-lookup"><span data-stu-id="a8fc5-254">Calling to any valid file handle</span></span>
-   <span data-ttu-id="a8fc5-255">Aufrufen eines Datei Handles auf einem Remote Volume über SMB2</span><span class="sxs-lookup"><span data-stu-id="a8fc5-255">Calling to a file handle on a remote volume over SMB2</span></span>
-   <span data-ttu-id="a8fc5-256">Vereinfachtes Programmiermodell</span><span class="sxs-lookup"><span data-stu-id="a8fc5-256">Simplified programming model</span></span>

<span data-ttu-id="a8fc5-257">Die API verfügt über die neue Info-Klasse "flefssectorsizeinformation" mit zugeordneten Informationen zu den \_ Sektorgrößen für Struktur Datei FS \_ , die \_ \_ wie folgt definiert werden:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-257">The API is in the form of a new info class, FileFsSectorSizeInformation, with associated structure FILE\_FS\_SECTOR\_SIZE\_INFORMATION, defined as follows:</span></span>


```
typedef struct _FILE_FS_SECTOR_SIZE_INFORMATION {  
    ULONG LogicalBytesPerSector;  
    ULONG PhysicalBytesPerSectorForAtomicity;  
    ULONG PhysicalBytesPerSectorForPerformance;  
    ULONG FileSystemEffectivePhysicalBytesPerSectorForAtomicity;  
    ULONG Flags;  
    ULONG ByteOffsetForSectorAlignment;  
    ULONG ByteOffsetForPartitionAlignment;  
} FILE_FS_SECTOR_SIZE_INFORMATION, *PFILE_FS_SECTOR_SIZE_INFORMATION;
```



<span data-ttu-id="a8fc5-258">**Legacy Methode für Windows 7 und Windows Vista**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-258">**Legacy method for Windows 7 and Windows Vista**</span></span>

<span data-ttu-id="a8fc5-259">Mit Windows Vista und Windows Server 2008 wurden APIs eingeführt, um die physische Sektorgröße des angefügten Speichergeräts für AHCI-basierte Speichercontroller abzufragen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-259">Windows Vista and Windows Server 2008 introduced APIs to query for the physical sector size of the attached storage device for AHCI-based storage controllers.</span></span> <span data-ttu-id="a8fc5-260">Mit Windows 7 und Windows Server 2008 R2, ab SP1 (oder Microsoft Knowledge Base 982018), wird diese Unterstützung auf Storport-basierte Speichercontroller erweitert.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-260">With Windows 7 and Windows Server 2008 R2, as of SP1 (or Microsoft Knowledge Base 982018), this support is extended to Storport-based storage controllers.</span></span> <span data-ttu-id="a8fc5-261">Microsoft hat in MSDN ein [Codebeispiel](/windows/desktop/api/winioctl/ns-winioctl-storage_access_alignment_descriptor) bereitgestellt, in dem erläutert wird, wie eine APP die physische Sektorgröße des Volumes Abfragen kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-261">Microsoft has provided a [code sample](/windows/desktop/api/winioctl/ns-winioctl-storage_access_alignment_descriptor) on MSDN detailing how an app can query for the physical sector size of the volume.</span></span>

<span data-ttu-id="a8fc5-262">Im obigen Codebeispiel können Sie die physische Sektorgröße des Volumes abrufen. Sie sollten jedoch einige grundlegende integritätprüfungen der gemeldeten physischen Sektorgröße durchführen, bevor Sie Sie verwenden, da festgestellt wurde, dass einige Treiber möglicherweise nicht ordnungsgemäß formatierte Daten zurückgeben:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-262">While the code sample above allows you to get the physical sector size of the volume, you should do some basic sanity checking of the reported physical sector size before using it, as it has been observed that some drivers may not return correctly formatted data:</span></span>

-   <span data-ttu-id="a8fc5-263">Stellen Sie sicher, dass die gemeldete physische Sektorgröße >= der gemeldeten logischen Sektorgröße ist. Wenn dies nicht der Fall ist, sollte Ihre APP eine physische Sektorgröße verwenden, die der gemeldeten logischen Sektorgröße entspricht.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-263">Make sure that the reported physical sector size is >= the reported logical sector size; if it is not, your app should use a physical sector size equal to the reported logical sector size</span></span>
-   <span data-ttu-id="a8fc5-264">Stellen Sie sicher, dass die gemeldete physische Sektorgröße eine Potenz von zwei ist. Wenn dies nicht der Fall ist, sollte Ihre APP eine physische Sektorgröße verwenden, die der gemeldeten logischen Sektorgröße entspricht.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-264">Make sure that the reported physical sector size is a power of two; if it is not, your app should use a physical sector size equal to the reported logical sector size</span></span>
-   <span data-ttu-id="a8fc5-265">Wenn die physische Sektorgröße einen zweidimensionalen Wert zwischen 512-Byte und 4 KB beträgt, sollten Sie die Verwendung einer physischen Sektorgröße in Erwägung nehmen, die auf die gemeldete logische Sektorgröße gerundet ist.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-265">If the physical sector size is a power-of-two value between 512-bytes and 4 KB, you should consider using a physical sector size rounded down to the reported logical sector size</span></span>
-   <span data-ttu-id="a8fc5-266">Wenn es sich bei der physischen Sektorgröße um einen zweidimensionalen Wert als 4 KB handelt, sollten Sie die Fähigkeit Ihrer APP auswerten, dieses Szenario zu verarbeiten, bevor Sie diesen Wert verwenden. Andernfalls sollten Sie die Verwendung einer physischen Sektorgröße in Erwägung gezogen, die auf 4 KB gerundet ist.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-266">If the physical sector size is a power-of-two value greater than 4 KB, you should evaluate your app s ability to handle this scenario before using that value; otherwise, you should consider using a physical sector size rounded down to 4 KB</span></span>

<span data-ttu-id="a8fc5-267">Die Verwendung dieser ioctl zum erzielen der physischen Sektorgröße hat mehrere Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-267">Using this IOCTL to get the physical sector size does have several limitations.</span></span> <span data-ttu-id="a8fc5-268">Sie hat folgende Aufgaben:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-268">It:</span></span>

-   <span data-ttu-id="a8fc5-269">Erfordert erweiterte Berechtigungen. Wenn Ihre APP nicht mit Berechtigungen ausgeführt wird, müssen Sie möglicherweise wie oben beschrieben eine Windows-Dienst Anwendung schreiben.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-269">Requires elevated privilege; if your app is not running with privilege, you may need to write a Windows Service Application as noted above</span></span>
-   <span data-ttu-id="a8fc5-270">SMB-Volumes werden von nicht unterstützt. Sie müssen möglicherweise auch eine Windows-Dienst Anwendung schreiben, um die Abfragen physischer Sektorgröße auf diesen Volumes zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-270">Does not support SMB volumes; you may also need to write a Windows Service Application to support physical sector size querying on these volumes</span></span>
-   <span data-ttu-id="a8fc5-271">Kann nicht an ein Datei Handle ausgegeben werden (die IOCTL muss für ein volumehandle ausgestellt werden)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-271">Cannot be issued to any file handle (the IOCTL must be issued to a Volume Handle)</span></span>

<span data-ttu-id="a8fc5-272">**Problem 3: Dateiformate, die sich auf 512-Byte-Sektoren verlassen**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-272">**Issue 3: file formats relying on 512-byte sectors**</span></span>

<span data-ttu-id="a8fc5-273">Für einige apps mit Standarddatei Formaten (z. b. VHD 1,0) können diese Dateien hart codiert werden, um die Sektorgröße von 512 Bytes anzunehmen.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-273">Some apps with standard file formats (such as VHD 1.0) may have these files hard-coded to assume a 512-byte sector size.</span></span> <span data-ttu-id="a8fc5-274">Daher führen Updates und Schreibvorgänge für diese Datei zu einem Lese-/Schreib-Schreibvorgang auf dem Gerät, was potenziell zu Leistungs-und resilienzproblemen für Ihre Kunden führen kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-274">Thus, updates and writes to this file would result in a Read-Modify-Write cycle on the device  which will potentially result in performance and resiliency issues for your customers.</span></span> <span data-ttu-id="a8fc5-275">Es gibt jedoch Möglichkeiten, wie eine APP Unterstützung für diese Art von Medien bietet, z. b.:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-275">However, there are ways for an app to provide support for operating on this type of media, for example:</span></span>

-   <span data-ttu-id="a8fc5-276">Verwenden Sie Pufferung, um sicherzustellen, dass Schreibvorgänge in Einheiten der physischen Sektorgröße durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-276">Use buffering to ensure that writes are performed in units of the physical sector size</span></span>
-   <span data-ttu-id="a8fc5-277">Implementieren Sie einen internen Lese-und Schreibzugriff, mit dem sichergestellt werden kann, dass Updates in Einheiten der gemeldeten physischen Sektorgröße durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-277">Implement an internal Read-Modify-Write that can help ensure that updates are performed in units of the reported physical sector size</span></span>
-   <span data-ttu-id="a8fc5-278">Füllen Sie nach Möglichkeit Datensätze in einem physischen Sektor auf, so dass die Auffüllung als leerer Raum interpretiert werden würde.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-278">If possible, pad records out to a physical sector, in such a way that the padding would be interpreted as empty space</span></span>
-   <span data-ttu-id="a8fc5-279">Sie sollten eine Version der APP-Datenstruktur mit Unterstützung für größere Sektoren umgestalten.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-279">Consider redesigning a version of the app data structure with support for larger sectors</span></span>

<span data-ttu-id="a8fc5-280">**Problem 4: die gemeldete physische Sektorgröße kann sich zwischen den Sitzungen ändern.**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-280">**Issue 4: the reported physical sector size can change between sessions**</span></span>

<span data-ttu-id="a8fc5-281">Es gibt viele Szenarien, in denen die gemeldete physische Sektorgröße des zugrunde liegenden Speichers, der den dataStor hostet, geändert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-281">There are many scenarios where the reported physical sector size of the underlying storage that hosts the Datastor may change.</span></span> <span data-ttu-id="a8fc5-282">Der häufigste Fall ist, wenn Sie den dataStor zu einem anderen Volume oder sogar über das Netzwerk migrieren.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-282">The most common of these is when you migrate the Datastor to another volume, or even across the network.</span></span> <span data-ttu-id="a8fc5-283">Eine Änderung in der gemeldeten physischen Sektorgröße kann ein unerwartetes Ereignis für viele apps sein und möglicherweise dazu führen, dass einige apps nicht erneut initialisiert werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-283">A change in the reported physical sector size may be an unexpected event for many apps and potentially can result in some apps failing to re-initialize.</span></span>

<span data-ttu-id="a8fc5-284">Dies ist nicht das einfachste Szenario für die Unterstützung von und wird hier als Empfehlung erwähnt.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-284">This is not the easiest scenario to support, and is mentioned here as an advisory.</span></span> <span data-ttu-id="a8fc5-285">Berücksichtigen Sie die Mobilitätsanforderungen ihrer Kunden, und passen Sie Ihren Support entsprechend an, um sicherzustellen, dass die Kunden nicht durch die Verwendung von 4K Native oder 512 e-Medien beeinträchtigt werden.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-285">You should consider the mobility requirements of your customers and adjust your support accordingly to help ensure customers are not negatively impacted by using 4K native or 512e media.</span></span>

<span data-ttu-id="a8fc5-286">**Wie ein Benutzer die logische und physische Sektorgröße für ein Volume abrufen kann**</span><span class="sxs-lookup"><span data-stu-id="a8fc5-286">**How a user can retrieve the logical and physical sector size for a volume**</span></span>

<span data-ttu-id="a8fc5-287">In-Box mit Windows ist ein Hilfsprogramm zum Anzeigen der Sektorgrößen Informationen für ein Volume.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-287">In-box with Windows is a utility to display the sector size info for a volume.</span></span> <span data-ttu-id="a8fc5-288">Windows-Versionen mit unterstützter Unterstützung:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-288">Versions of Windows with supported  fsutil  are:</span></span>

-   <span data-ttu-id="a8fc5-289">Windows 8</span><span class="sxs-lookup"><span data-stu-id="a8fc5-289">Windows 8</span></span>
-   <span data-ttu-id="a8fc5-290">Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="a8fc5-290">Windows Server 2012</span></span>
-   <span data-ttu-id="a8fc5-291">Windows 7 SP1 mit Microsoft KB 982018</span><span class="sxs-lookup"><span data-stu-id="a8fc5-291">Windows 7 SP1 with Microsoft KB 982018</span></span>
-   <span data-ttu-id="a8fc5-292">Windows 7 mit Microsoft KB 982018</span><span class="sxs-lookup"><span data-stu-id="a8fc5-292">Windows 7 with Microsoft KB 982018</span></span>
-   <span data-ttu-id="a8fc5-293">Windows Server 2008 R2 SP1 mit Microsoft KB 982018 (v3)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-293">Windows Server 2008 R2 SP1 with Microsoft KB 982018 (v3)</span></span>
-   <span data-ttu-id="a8fc5-294">Windows Server 2008 R2 mit Microsoft KB 982018 (v3)</span><span class="sxs-lookup"><span data-stu-id="a8fc5-294">Windows Server 2008 R2 with Microsoft KB 982018 (v3)</span></span>
-   <span data-ttu-id="a8fc5-295">Windows Vista mit Microsoft KB 2553708</span><span class="sxs-lookup"><span data-stu-id="a8fc5-295">Windows Vista with Microsoft KB 2553708</span></span>
-   <span data-ttu-id="a8fc5-296">Windows Server 2008 mit Microsoft KB 2553708</span><span class="sxs-lookup"><span data-stu-id="a8fc5-296">Windows Server 2008 with Microsoft KB 2553708</span></span>

<span data-ttu-id="a8fc5-297">Um die Sektorgrößen Informationen abzurufen, nennen Sie das-Hilfsprogramm an einer Eingabeaufforderung mit erhöhten Rechten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-297">To get the sector size info, call the utility as follows from an elevated command prompt:</span></span>


```
fsutil fsinfo ntfsinfo <drive letter>
```



<span data-ttu-id="a8fc5-298">Ein 4K-sektordatenträger mit 512-Byte-Emulation hat das Feld Bytes pro Sektor auf 512 festgelegt, und das Feld Bytes pro physischem Sektor ist wie folgt auf 4096 festgelegt:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-298">A 4K Sector Disk with 512-byte Emulation has the  Bytes Per Sector  field set to 512 and the  Bytes Per Physical Sector  field set to 4096 as follows:</span></span>

![Bytes pro Sektor und pro physischem Sektor eines 4K-sektordatenträgers mit 512-Byte-Emulation](images/4ksectordiskwith512emulation.png)

<span data-ttu-id="a8fc5-300">Ein 4K-Datenträger mit einer Größe von 4 KB weist die Felder Bytes pro Sektor und Bytes pro physischem Sektor auf 4096, wie im folgenden dargestellt:</span><span class="sxs-lookup"><span data-stu-id="a8fc5-300">A 4K Native Disk has the  Bytes Per Sector  and  Bytes Per Physical Sector  fields both set to 4096 as follows:</span></span>

![Bytes pro Sektor und pro physischem Sektor eines 4K-Datenträgers](images/4knativedisk.png)

> [!Note]  
> <span data-ttu-id="a8fc5-302">Wenn das Feld Byte pro physischem Sektor nicht unterstützt angezeigt wird, unterstützt der Speicher Treiber die IOCTL- \_ Speicher \_ Abfrage \_ Eigenschaft nicht, oder es ist ein Fehler beim Abrufen der Informationen aufgetreten.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-302">If the  Byte Per Physical Sector  field displays  Not Supported  then either the storage driver does not support IOCTL\_STORAGE\_QUERY\_PROPERTY, or there was an error in retrieving the info.</span></span>

 

## <a name="resources"></a><span data-ttu-id="a8fc5-303">Ressourcen</span><span class="sxs-lookup"><span data-stu-id="a8fc5-303">Resources</span></span>

-   [<span data-ttu-id="a8fc5-304">Allgemeine Windows-Support-Anweisung</span><span class="sxs-lookup"><span data-stu-id="a8fc5-304">Windows General Support Statement</span></span>](https://support.microsoft.com/kb/2510009)
-   [<span data-ttu-id="a8fc5-305">Microsoft KB 982018</span><span class="sxs-lookup"><span data-stu-id="a8fc5-305">Microsoft KB 982018</span></span>](https://support.microsoft.com/kb/982018)
-   [<span data-ttu-id="a8fc5-306">Microsoft KB 2553708</span><span class="sxs-lookup"><span data-stu-id="a8fc5-306">Microsoft KB 2553708</span></span>](https://support.microsoft.com/kb/2553708)
-   [<span data-ttu-id="a8fc5-307">Hotfix für Windows 7 und Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="a8fc5-307">Hotfix for Windows 7 and Windows Server 2008 R2</span></span>](https://support.microsoft.com/kb/982018)
-   [<span data-ttu-id="a8fc5-308">Hotfix für Windows Vista und Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="a8fc5-308">Hotfix for Windows Vista and Windows Server 2008</span></span>](https://support.microsoft.com/kb/2553708)
-   [<span data-ttu-id="a8fc5-309">HyperV-Unterstützungs Anweisung</span><span class="sxs-lookup"><span data-stu-id="a8fc5-309">HyperV Support Statement</span></span>](https://support.microsoft.com/kb/2515143)
-   [<span data-ttu-id="a8fc5-310">Allgemeine Informationen über den Steuerungs Code der IOCTL- \_ Speicher \_ Abfrage \_ Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="a8fc5-310">General information about the IOCTL\_STORAGE\_QUERY\_PROPERTY control code</span></span>](/windows-hardware/drivers/ddi/ntddstor/ni-ntddstor-ioctl_storage_query_property)
-   [<span data-ttu-id="a8fc5-311">Steuerungs Code der IOCTL- \_ Speicher \_ Abfrage \_ Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="a8fc5-311">IOCTL\_STORAGE\_QUERY\_PROPERTY Control Code</span></span>](/windows/win32/api/winioctl/ni-winioctl-ioctl_storage_query_property)
-   [<span data-ttu-id="a8fc5-312">Allgemeine Informationen zur \_ \_ deskriptorstruktur der Speicherzugriffs Ausrichtung \_</span><span class="sxs-lookup"><span data-stu-id="a8fc5-312">General information about the STORAGE\_ACCESS\_ALIGNMENT\_DESCRIPTOR structure</span></span>](/windows-hardware/drivers/ddi/ntddstor/ns-ntddstor-_storage_access_alignment_descriptor)
-   [<span data-ttu-id="a8fc5-313">Beschreibung der Standard Terminologie, die zum Beschreiben von Microsoft-Software Updates verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a8fc5-313">Description of the standard terminology used to describe Microsoft software updates</span></span>](https://support.microsoft.com/kb/824684/)
-   [<span data-ttu-id="a8fc5-314">WDK-Beispielcode mit Details zum Extrahieren der gemeldeten Informationen zur Speicherzugriffs Ausrichtung aus der Speicher \_ Zugriffs- \_ Ausrichtungs \_ deskriptorstruktur beim Aufrufen des \_ \_ Steuercodes der IOCTL Storage Query- \_ Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="a8fc5-314">WDK sample code with details for how to extract the reported storage access alignment info from the STORAGE\_ACCESS\_ALIGNMENT\_DESCRIPTOR structure when making a call to the IOCTL\_STORAGE\_QUERY\_PROPERTY control code</span></span>](/windows/win32/api/winioctl/ns-winioctl-storage_access_alignment_descriptor)
-   <span data-ttu-id="a8fc5-315">[Allgemeine Informationen zu ImageX-Command-Line Optionen](/previous-versions/windows/it-pro/windows-7/dd799302(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="a8fc5-315">[General information about ImageX Command-Line Options](/previous-versions/windows/it-pro/windows-7/dd799302(v=ws.10))</span></span>
-   [<span data-ttu-id="a8fc5-316">Anforderungen an den Intel Chip Set-Treiber zur Unterstützung von 4-KB</span><span class="sxs-lookup"><span data-stu-id="a8fc5-316">Intel Chipset driver requirements to support 4 KB Sector Drives</span></span>](https://www.intel.com/support/chipsets/imsm/sb/CS-031502.htm)

 

