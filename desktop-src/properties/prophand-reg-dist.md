---
description: In diesem Artikel wird erläutert, wie Eigenschaftenhandler registriert und verteilt werden, um mit dem Windows zu arbeiten.
ms.assetid: E6E81E04-9CC1-4df5-9A87-DE0CBD177356
title: Registrieren und Verteilen von Eigenschaftenhandlern
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce53f0805c4db5efe38e77ba4e7d1ab5b331c83f
ms.sourcegitcommit: ecd0ba4732f5264aab9baa2839c11f7fea36318f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/07/2021
ms.locfileid: "113481925"
---
# <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="54ffb-103">Registrieren und Verteilen von Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-103">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="54ffb-104">In diesem Thema wird erläutert, wie Eigenschaftenhandler erstellt und registriert werden, um mit dem Windows zu arbeiten.</span><span class="sxs-lookup"><span data-stu-id="54ffb-104">This topic explains how to create and register property handlers to work with the Windows property system.</span></span>

<span data-ttu-id="54ffb-105">Dieses Thema ist wie folgt organisiert:</span><span class="sxs-lookup"><span data-stu-id="54ffb-105">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="54ffb-106">Registrieren und Verteilen von Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-106">Registering and Distributing Property Handlers</span></span>](#registering-and-distributing-property-handlers)
-   [<span data-ttu-id="54ffb-107">Überlegungen zur Leistung und Zuverlässigkeit von Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-107">Performance and Reliability Considerations for Property Handlers</span></span>](#performance-and-reliability-considerations-for-property-handlers)
    -   [<span data-ttu-id="54ffb-108">Richtlinien für Leistung und Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="54ffb-108">Guidelines for Performance and Reliability</span></span>](#guidelines-for-performance-and-reliability)
-   [<span data-ttu-id="54ffb-109">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="54ffb-109">Related topics</span></span>](#related-topics)

## <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="54ffb-110">Registrieren und Verteilen von Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-110">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="54ffb-111">Nachdem der Eigenschaftenhandler implementiert wurde, muss er registriert werden, und die Dateierweiterung muss dem Handler zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-111">After the property handler is implemented, it must be registered and its file name extension must be associated with the handler.</span></span> <span data-ttu-id="54ffb-112">Im folgenden Beispiel mit der .recipe-Erweiterung werden die erforderlichen Registrierungseinträge dafür veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="54ffb-112">The following example using the .recipe extension illustrates the required registry entries to do so.</span></span>

```
HKEY_CLASSES_ROOT
   CLSID
      {50d9450f-2a80-4f08-93b9-2eb526477d1a}
         (Default) = Recipe Property Handler
         ManualSafeSave [REG_DWORD] = 00000001
         InProcServer32
            (Default) = C:\\SDK\\PropertyHandlerSample\\bin\\RecipeHandlers.dll
            ThreadingModel = Apartment
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               PropertySystem
                  PropertyHandlers
                     .recipe
                        (Default) = {50d9450f-2a80-4f08-93b9-2eb526477d1a}
```

<span data-ttu-id="54ffb-113">Eigenschaftenhandler für einen bestimmten Dateityp werden häufig mit den Anwendungen verteilt, die Dateien dieses Typs erstellen oder bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="54ffb-113">Property handlers for a particular file type are commonly distributed with the application(s) that create or manipulate files of that type.</span></span> <span data-ttu-id="54ffb-114">Sie sollten jedoch auch erwägen, Ihre Eigenschaftenhandler unabhängig von diesen Anwendungen zur Verfügung zu stellen, um die Indizierung Ihres Dateityps in Serverszenarien zu unterstützen, in denen Eigenschaftenhandler vom Indexer verwendet werden, die zugehörigen Anwendungen jedoch nicht erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="54ffb-114">However, you should also consider making your property handlers available independently of these applications to support indexing of your file type in server scenarios where property handlers are used by the indexer, but their accompanying applications are not required.</span></span> <span data-ttu-id="54ffb-115">Wenn Sie ein eigenständiges Installationspaket für den Eigenschaftenhandler erstellen, stellen Sie sicher, dass es Folgendes enthält:</span><span class="sxs-lookup"><span data-stu-id="54ffb-115">If you create a stand-alone installation package for your property handler, be sure that it includes the following:</span></span>

-   <span data-ttu-id="54ffb-116">Die Registrierungsdetails des Eigenschaftenhandlers, die im Thema [Registrieren und Verteilen von Eigenschaftenhandlern angegeben sind.]()</span><span class="sxs-lookup"><span data-stu-id="54ffb-116">The property handler registration details specified in the topic [Registering and Distributing Property Handlers]().</span></span>
-   <span data-ttu-id="54ffb-117">Registrierung für Ihren Dateityp und alle Schemadateien, die installiert werden müssen, damit Clients auf alle Funktionen Ihres Eigenschaftenhandlers zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="54ffb-117">Registration for your file type and any schema files that must be installed, to enable clients to access all the features of your property handler.</span></span>

## <a name="performance-and-reliability-considerations-for-property-handlers"></a><span data-ttu-id="54ffb-118">Überlegungen zur Leistung und Zuverlässigkeit von Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-118">Performance and Reliability Considerations for Property Handlers</span></span>

<span data-ttu-id="54ffb-119">Eigenschaftenhandler werden für jede Datei auf einem bestimmten Computer aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-119">Property handlers are invoked for each file on a particular computer.</span></span> <span data-ttu-id="54ffb-120">Sie werden in der Regel unter den folgenden Umständen aufgerufen:</span><span class="sxs-lookup"><span data-stu-id="54ffb-120">They are usually called under the following circumstances:</span></span>

-   <span data-ttu-id="54ffb-121">Während der Indizierung der Datei.</span><span class="sxs-lookup"><span data-stu-id="54ffb-121">During indexing of the file.</span></span> <span data-ttu-id="54ffb-122">Dies erfolgt in einem isolierten Prozess mit eingeschränkten Rechten prozess out-of-process.</span><span class="sxs-lookup"><span data-stu-id="54ffb-122">This is done out-of-process, in an isolated process with restricted rights.</span></span>
-   <span data-ttu-id="54ffb-123">Beim Zugriff auf Dateien im Windows Explorer zum Lesen und Schreiben von Eigenschaftswerten.</span><span class="sxs-lookup"><span data-stu-id="54ffb-123">When files are accessed in Windows Explorer for the purpose of reading and writing property values.</span></span> <span data-ttu-id="54ffb-124">Dies erfolgt im Prozess.</span><span class="sxs-lookup"><span data-stu-id="54ffb-124">This is done in-process.</span></span>

### <a name="guidelines-for-performance-and-reliability"></a><span data-ttu-id="54ffb-125">Richtlinien für Leistung und Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="54ffb-125">Guidelines for Performance and Reliability</span></span>

<span data-ttu-id="54ffb-126">Ein Benutzer kann jederzeit zehntausende Dateien eines bestimmten Typs (einschließlich Ihrer Dateien) auf seinen Computern haben und jederzeit auf diese Dateien zugreifen oder diese ändern.</span><span class="sxs-lookup"><span data-stu-id="54ffb-126">At any time, a user might have tens of thousands of files of any specific type (including yours) on his or her computers, and could access or modify any or all of these files at any time.</span></span> <span data-ttu-id="54ffb-127">Da Eigenschaftenhandler häufig aufgerufen werden, um diese Zugriffs- und Änderungsvorgänge zu unterstützen, sind die Leistungs- und Zuverlässigkeitsmerkmale Ihres Eigenschaftenhandlers in ausgelasteten, stark parallelen Umgebungen von entscheidender Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="54ffb-127">Because property handlers are frequently invoked to support these access and modify operations, the performance and reliability characteristics of your property handler in busy, highly concurrent environments is of critical importance.</span></span>

<span data-ttu-id="54ffb-128">Beachten Sie beim Entwickeln und Testen Ihres Eigenschaftenhandlers die folgenden Richtlinien.</span><span class="sxs-lookup"><span data-stu-id="54ffb-128">Keep in mind the following guidelines as you are developing and testing your property handler.</span></span>

-   <span data-ttu-id="54ffb-129">**Eigenschaftenenumeration**</span><span class="sxs-lookup"><span data-stu-id="54ffb-129">**Property enumeration**</span></span>

    <span data-ttu-id="54ffb-130">Eigenschaftenhandler sollten beim Aufzählen ihrer Eigenschaften eine sehr schnelle Antwortzeit haben.</span><span class="sxs-lookup"><span data-stu-id="54ffb-130">Property handlers should have a very fast response time in enumerating their properties.</span></span> <span data-ttu-id="54ffb-131">Speicherintensive Berechnungen von Eigenschaftswerten, Netzwerksuchen oder der Suche nach anderen Ressourcen als der Datei selbst sollten vermieden werden, um schnelle Antwortzeiten sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-131">Memory-intensive calculations of property values, network lookups, or the search for resources other than the file itself should be avoided to ensure fast response times.</span></span>

-   <span data-ttu-id="54ffb-132">**Schreiben von in-place-Eigenschaften**</span><span class="sxs-lookup"><span data-stu-id="54ffb-132">**In-place property writing**</span></span>

    <span data-ttu-id="54ffb-133">Wenn möglich, sollte beim Umgang mit mittelgroßen oder großen Dateien (mehrere hundert KB oder größer) das Dateiformat so angeordnet werden, dass das Lesen oder Schreiben von Eigenschaftswerten nicht das Lesen der gesamten Datei vom Datenträger erfordert.</span><span class="sxs-lookup"><span data-stu-id="54ffb-133">If possible, when dealing with medium-sized or large files (several hundred KB or larger), the file format should be arranged so that reading or writing property values does not require reading the whole file from disk.</span></span> <span data-ttu-id="54ffb-134">Selbst wenn die Datei gesucht werden muss, sollte sie nicht vollständig in den Arbeitsspeicher gelesen werden, da dies den Arbeitssatz von Windows Explorer oder dem Windows Search-Indexer überlädt, wenn sie versuchen, auf diese Dateien zu zugreifen oder sie zu indizieren.</span><span class="sxs-lookup"><span data-stu-id="54ffb-134">Even if the file needs to be sought, it should not be read into memory in its entirety because that bloats the working set of Windows Explorer or the Windows Search indexer as they try to access or index these files.</span></span> <span data-ttu-id="54ffb-135">Weitere Informationen finden Sie unter [Initialisieren von Eigenschaftenhandlern.](./building-property-handlers-property-handlers.md)</span><span class="sxs-lookup"><span data-stu-id="54ffb-135">For more information, see [Initializing Property Handlers](./building-property-handlers-property-handlers.md).</span></span>

    <span data-ttu-id="54ffb-136">Eine nützliche Methode, um dies zu erreichen, ist das Aufhängen des Headers der Datei mit zusätzlichem Speicherplatz, sodass der Wert beim nächsten Schreiben eines Eigenschaftswerts direkt geschrieben werden kann, ohne dass die gesamte Datei neu geschrieben werden muss.</span><span class="sxs-lookup"><span data-stu-id="54ffb-136">One useful technique to accomplish this is to pad the header of the file with extra space so that the next time a property value needs to be written, the value can be written in place without needing to rewrite the entire file.</span></span> <span data-ttu-id="54ffb-137">Dies erfordert die ManualSafeSave-Funktionalität.</span><span class="sxs-lookup"><span data-stu-id="54ffb-137">This requires the ManualSafeSave functionality.</span></span> <span data-ttu-id="54ffb-138">Dieser Ansatz birgt ein gewisses zusätzliches Risiko, dass der Datei-Schreibvorgang unterbrochen wird, während der Schreibvorgang durchgeführt wird (aufgrund eines Systemabsturzes oder Eines Stromausfalls). Da die Eigenschaftengrößen jedoch im Allgemeinen klein sind, ist die Wahrscheinlichkeit einer solchen Unterbrechung ähnlich gering, und die Leistungssteigerungen, die durch das Schreiben von in-place-Eigenschaften erzielt werden können, werden als signifikant genug angesehen, um dieses zusätzliche Risiko zu rechtfertigen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-138">This approach involves some extra risk that the file write operation might be interrupted while the write is in progress (due to a system crash or power loss), but because property sizes are generally small, the probability of such an interruption is similarly small, and the performance gains that can be realized through in-place property writing are considered significant enough to justify this additional risk.</span></span> <span data-ttu-id="54ffb-139">Dennoch sollten Sie ihre Implementierung umfassend testen, um sicherzustellen, dass Ihre Dateien nicht beschädigt sind, falls im Zuge eines Schreibvorgang ein Fehler entsteht.</span><span class="sxs-lookup"><span data-stu-id="54ffb-139">Even so, you should take care to test your implementation extensively to ensure that your files are not corrupted in the event that a failure does arise in the course of a write operation.</span></span>

    <span data-ttu-id="54ffb-140">Schließlich kann der Vorgang bei der Implementierung von in-place property writing mit ManualSafeSave manchmal nicht vor Ort ausgeführt werden, und der gesamte Stream muss trotzdem umgeschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-140">Finally, when implementing in-place property writing with ManualSafeSave, sometimes the operation cannot be performed in-place, and the whole stream must be rewritten anyway.</span></span> <span data-ttu-id="54ffb-141">Um das erneute Schreiben zu vereinfachen, unterstützt der während der Handlerin initialisierung bereitgestellte Stream die [**IDestinationStreamFactory-Schnittstelle.**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory)</span><span class="sxs-lookup"><span data-stu-id="54ffb-141">To facilitate the rewrite, the stream provided during handler initialization supports the [**IDestinationStreamFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory) interface.</span></span> <span data-ttu-id="54ffb-142">Die **IDestinationStreamFactory-Schnittstelle** ermöglicht Handlerimplementierungen, einen temporären Stream zum Schreiben zu erhalten. Wenn alle Schreibvorgänge abgeschlossen sind und die [**IDestinationStreamFactory::GetDestinationStream-Methode**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) aufgerufen wird, wird dieser Stream verwendet, um den ursprünglichen Dateistream vollständig zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-142">The **IDestinationStreamFactory** interface enables handler implementations to obtain a temporary stream for writing; when all writes are completed and the [**IDestinationStreamFactory::GetDestinationStream**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) method is called, this stream is used to fully replace the original file stream.</span></span> <span data-ttu-id="54ffb-143">Wenn der Zielstream verwendet wird, sollte der ursprüngliche Dateistream als schreibgeschützt behandelt werden, da er durch den Zielstream ersetzt wird, nachdem die **IDestinationStreamFactory::GetDestinationStream-Methode** aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="54ffb-143">When the destination stream is used, the original file stream should be treated as read-only, because it will be replaced by the destination stream after the **IDestinationStreamFactory::GetDestinationStream** method has been called.</span></span>

-   <span data-ttu-id="54ffb-144">**Auswählen ihres COM-Threadingmodells**</span><span class="sxs-lookup"><span data-stu-id="54ffb-144">**Choosing your COM threading model**</span></span>

    <span data-ttu-id="54ffb-145">Um die Effizienz Ihres Eigenschaftenhandlers zu maximieren, sollten Sie angeben, dass er das COM-Threadingmodell `Both` verwendet.</span><span class="sxs-lookup"><span data-stu-id="54ffb-145">To maximize the efficiency of your property handler, you should specify that it uses the COM threading model `Both`.</span></span> <span data-ttu-id="54ffb-146">Dies ermöglicht den direkten Zugriff von STA-Apartment (z. B. Windows Explorer) und Nachrichtenübertragungs-Agent (MTA) (z. B. searchProtocolHost-Prozess in Windows Search), wodurch der Aufwand für das Marshalling in diesen Umgebungen vermieden wird.</span><span class="sxs-lookup"><span data-stu-id="54ffb-146">This enables direct access from STA apartments (Windows Explorer, for example) and message transfer agent (MTA) apartments (the SearchProtocolHost process in Windows Search, for example), avoiding the overhead of marshaling in those environments.</span></span> <span data-ttu-id="54ffb-147">Um den vollen Nutzen des Threadingmodells zu erzielen, sollten alle Dienste, von denen Ihr Handler abhängt, auch als festgelegt werden, um Marshalling in Aufrufen dieser Komponenten `Both` `Both` zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-147">To achieve the full benefit of the `Both` threading model, any services on which your handler depends should also be designated as `Both` to avoid any marshaling in calls to those components.</span></span> <span data-ttu-id="54ffb-148">Überprüfen Sie in der Dokumentation dieser speziellen Dienste, ob sie dieses Threadingmodell verwenden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-148">Check the documentation of these particular services to verify whether they use this threading model.</span></span>

-   <span data-ttu-id="54ffb-149">**Parallelität des Eigenschaftenhandlers**</span><span class="sxs-lookup"><span data-stu-id="54ffb-149">**Property handler concurrency**</span></span>

    <span data-ttu-id="54ffb-150">Eigenschaftenhandler und die [**IPropertyStore-Schnittstelle**](/windows/win32/api/propsys/nn-propsys-ipropertystore) sind für seriellen und nicht für gleichzeitigen Zugriff konzipiert.</span><span class="sxs-lookup"><span data-stu-id="54ffb-150">Property handlers and the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface are designed for serial rather than concurrent access.</span></span> <span data-ttu-id="54ffb-151">Windows Explorer, der Windows Search-Indexer und alle anderen Aufrufe von Eigenschaftenhandlern aus Windows Codebasis garantieren diese Verwendung.</span><span class="sxs-lookup"><span data-stu-id="54ffb-151">Windows Explorer, the Windows Search indexer, and all other property handler invocations from the Windows codebase guarantee this usage.</span></span> <span data-ttu-id="54ffb-152">Es sollte keinen Grund für Dritte geben, einen Eigenschaftenhandler gleichzeitig zu verwenden, aber dieses Verhalten kann nicht garantiert werden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-152">There should be no reason for third parties to use a property handler concurrently, but this behavior cannot be guaranteed.</span></span> <span data-ttu-id="54ffb-153">Auch wenn erwartet wird, dass das Aufrufmuster seriell ist, können die Aufrufe auch in verschiedenen Threads erfolgen (z. B. wenn das Objekt remote über COM RPC aufgerufen wird, wie es im Indexer auftritt).</span><span class="sxs-lookup"><span data-stu-id="54ffb-153">Also, even though the calling pattern is expected to be serial, the calls may come on different threads (for instance, when the object is being called remotely via COM RPC, as occurs in the indexer).</span></span> <span data-ttu-id="54ffb-154">Daher müssen Eigenschaftenhandlerimplementierungen das Aufrufen in verschiedenen Threads unterstützen und sollten im Idealfall keine negativen Auswirkungen haben, wenn sie gleichzeitig aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-154">Therefore, property handler implementations must support being called on different threads, and ideally should not suffer any ill effects when called concurrently.</span></span> <span data-ttu-id="54ffb-155">Da das beabsichtigte Aufrufmuster seriell ist, sollte eine triviale Implementierung mit einem kritischen Abschnitt ausreichen, um diese Anforderungen in den meisten Fällen zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-155">Because the intended calling pattern is serial, a trivial implementation using a critical section should be sufficient to meet these requirements in most cases.</span></span> <span data-ttu-id="54ffb-156">Es ist akzeptabel, das Blockieren gleichzeitiger Aufrufe zu vermeiden, indem Sie die [**TryEnterCriticalSection-Funktion**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) verwenden, um gleichzeitige Aufrufe zu erkennen und zu fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-156">It is acceptable to avoid blocking on concurrent calls by using the [**TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) function to detect and fail concurrent calls.</span></span>

-   <span data-ttu-id="54ffb-157">**Datei parallelität**</span><span class="sxs-lookup"><span data-stu-id="54ffb-157">**File concurrency**</span></span>

    <span data-ttu-id="54ffb-158">Eigenschaftenhandler werden häufig in Szenarien verwendet, in denen mehrere Anwendungen gleichzeitig auf eine Datei zugreifen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-158">Property handlers are often used in scenarios where multiple applications access a file concurrently.</span></span> <span data-ttu-id="54ffb-159">Daher müssen der Handler und die Anwendungen die Parallelität verwalten, indem sie beim Öffnen der Datei geeignete Freigabemodi angeben.</span><span class="sxs-lookup"><span data-stu-id="54ffb-159">Hence, the handler and the applications need to manage the concurrency by specifying appropriate sharing modes when opening the file.</span></span> <span data-ttu-id="54ffb-160">Sie müssen auch den Zugriff kennen, den die anderen Anwendungen angeben, und um Fälle zu verwalten, in denen der Zugriff nicht zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="54ffb-160">They also need to be aware of the access that the other applications specify and to manage cases where access is not allowed.</span></span> <span data-ttu-id="54ffb-161">Es ist am besten, wenn alle Verbraucher Gemeinsame Nutzungsmodi angeben, um anderen Benutzern den gleichzeitigen Zugriff auf die Datei zu ermöglichen. Dabei müssen jedoch Konsistenzprobleme verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="54ffb-161">It is best if all consumers specify liberal sharing modes to enable others to access the file concurrently, but when doing this, consistency issues need to be managed.</span></span> <span data-ttu-id="54ffb-162">Entscheidungen zu den am besten geeigneten Freigabemodi müssen im Kontext der Community von Anwendungen getroffen werden, die auf die Datei zugreifen.</span><span class="sxs-lookup"><span data-stu-id="54ffb-162">Decisions on the most appropriate sharing modes to be used need to be made in the context of the community of applications that access the file.</span></span>

    <span data-ttu-id="54ffb-163">Dateisysteme ermöglichen Es Anwendungen, Dateien so zu öffnen, dass sie steuern können, ob und wie andere Anwendungen die Datei öffnen können.</span><span class="sxs-lookup"><span data-stu-id="54ffb-163">File systems enable applications to open files in a way that gives them control over whether and how other applications can open the file.</span></span> <span data-ttu-id="54ffb-164">Freigabemodi ermöglichen Lese-, Schreib- und Löschzugriff.</span><span class="sxs-lookup"><span data-stu-id="54ffb-164">Sharing modes enable read, write, and delete access.</span></span> <span data-ttu-id="54ffb-165">Das Eigenschaftensystem unterstützt eine Teilmenge dieser Freigabemodi, wie in der folgenden Tabelle beschrieben.</span><span class="sxs-lookup"><span data-stu-id="54ffb-165">The property system supports a subset of these sharing modes, outlined in the following table.</span></span>

    

    | <span data-ttu-id="54ffb-166">Zugriffsmodus</span><span class="sxs-lookup"><span data-stu-id="54ffb-166">Access mode</span></span>                     | <span data-ttu-id="54ffb-167">Freigabemodus</span><span class="sxs-lookup"><span data-stu-id="54ffb-167">Sharing mode</span></span>                             |
    |---------------------------------|------------------------------------------|
    | <span data-ttu-id="54ffb-168">Schreiben</span><span class="sxs-lookup"><span data-stu-id="54ffb-168">Write</span></span>                           | <span data-ttu-id="54ffb-169">Verweigern anderer Leser und Autoren</span><span class="sxs-lookup"><span data-stu-id="54ffb-169">Deny other readers and writers</span></span>           |
    | <span data-ttu-id="54ffb-170">Write (EnableShareDenyWrite)</span><span class="sxs-lookup"><span data-stu-id="54ffb-170">Write (EnableShareDenyWrite)</span></span>    | <span data-ttu-id="54ffb-171">Aktivieren anderer Leser, Verweigern anderer Writer</span><span class="sxs-lookup"><span data-stu-id="54ffb-171">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="54ffb-172">Schreibgeschützt (Standard)</span><span class="sxs-lookup"><span data-stu-id="54ffb-172">Read-only (default)</span></span>             | <span data-ttu-id="54ffb-173">Aktivieren anderer Leser, Verweigern anderer Writer</span><span class="sxs-lookup"><span data-stu-id="54ffb-173">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="54ffb-174">Schreibgeschützt (EnableShareDenyNone)</span><span class="sxs-lookup"><span data-stu-id="54ffb-174">Read-only (EnableShareDenyNone)</span></span> | <span data-ttu-id="54ffb-175">Aktivieren anderer Leser und Writer</span><span class="sxs-lookup"><span data-stu-id="54ffb-175">Enable other readers and writers</span></span>         |

    

     

    <span data-ttu-id="54ffb-176">Für Schreibzugriff **geöffnete** Eigenschaftenhandler (GPS \_ READWRITE) verweigern anderen Readern und Writern.</span><span class="sxs-lookup"><span data-stu-id="54ffb-176">Property handlers open for **write** (GPS\_READWRITE) will deny other readers and writers.</span></span> <span data-ttu-id="54ffb-177">Handler können ein Verhalten aktivieren, das Lesern ermöglicht, indem sie das Flag in der Registrierung angeben (d. h. `EnableShareDenyWrite` Lesen aktivieren).</span><span class="sxs-lookup"><span data-stu-id="54ffb-177">Handlers can opt into behavior that enables readers by specifying the `EnableShareDenyWrite` flag (implying enable Read) in its registration.</span></span>

    <span data-ttu-id="54ffb-178">Eigenschaftenhandler, die zum Lesen **geöffnet sind** (GPS DEFAULT), aktivieren standardmäßig andere \_ Reader, verweigern jedoch andere Writer.</span><span class="sxs-lookup"><span data-stu-id="54ffb-178">Property handlers open for **read** (GPS\_DEFAULT), by default enable other readers but deny other writers.</span></span> <span data-ttu-id="54ffb-179">Handler können andere Writer aktivieren, indem sie das Flag `EnableShareDenyNone` in der Registrierung angeben.</span><span class="sxs-lookup"><span data-stu-id="54ffb-179">Handlers can opt into enabling other writers by specifying the `EnableShareDenyNone` flag in its registration.</span></span> <span data-ttu-id="54ffb-180">Dies bedeutet, dass ein Handler erfolgreich eine Situation behandeln kann, in der sich der Inhalt einer Datei ändert, während der Handler die Datei liest.</span><span class="sxs-lookup"><span data-stu-id="54ffb-180">This means that a handler can successfully handle a situation in which the content of a file changes while the handler is reading the file.</span></span>

    <span data-ttu-id="54ffb-181">Flagdefinitionen finden Sie unter [**GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span><span class="sxs-lookup"><span data-stu-id="54ffb-181">For flag definitions, see [**GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span></span>

## <a name="related-topics"></a><span data-ttu-id="54ffb-182">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="54ffb-182">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="54ffb-183">Grundlegendes zu Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-183">Understanding Property Handlers</span></span>](./building-property-handlers-properties.md)
</dt> <dt>

[<span data-ttu-id="54ffb-184">Verwenden von Kind-Namen</span><span class="sxs-lookup"><span data-stu-id="54ffb-184">Using Kind Names</span></span>](./building-property-handlers-user-friendly-kind-names.md)
</dt> <dt>

[<span data-ttu-id="54ffb-185">Verwenden von Eigenschaftenlisten</span><span class="sxs-lookup"><span data-stu-id="54ffb-185">Using Property Lists</span></span>](./building-property-handlers-property-lists.md)
</dt> <dt>

[<span data-ttu-id="54ffb-186">Initialisieren von Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-186">Initializing Property Handlers</span></span>](./building-property-handlers-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="54ffb-187">Bewährte Methoden und häufig gestellte Fragen zu Eigenschaftenhandlern</span><span class="sxs-lookup"><span data-stu-id="54ffb-187">Property Handler Best Practices and FAQ</span></span>](./prophand-bestprac-faq.yml)
</dt> </dl>

 

 
