---
description: Die findfirstprinterchangenotifi-Funktion erstellt ein Änderungs Benachrichtigungs Objekt und gibt ein Handle für das-Objekt zurück. Anschließend können Sie dieses Handle in einem Rückruf einer der Wait-Funktionen verwenden, um Änderungen am Drucker oder Druckserver zu überwachen.
ms.assetid: 4155ef5c-cd96-4960-919b-d9a495bb73a5
title: Findfirstprinterchangenotifi-Funktion (winspool. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- FindFirstPrinterChangeNotification
api_type:
- DllExport
api_location:
- Spoolss.dll
ms.openlocfilehash: 2da6a2ae73aa5b987ea3b8f8789f81ed0b4cdf06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104215977"
---
# <a name="findfirstprinterchangenotification-function"></a><span data-ttu-id="273d2-104">Findfirstprinterchangenotifi-Funktion</span><span class="sxs-lookup"><span data-stu-id="273d2-104">FindFirstPrinterChangeNotification function</span></span>

<span data-ttu-id="273d2-105">Die **findfirstprinterchangenotifi-** Funktion erstellt ein Änderungs Benachrichtigungs Objekt und gibt ein Handle für das-Objekt zurück.</span><span class="sxs-lookup"><span data-stu-id="273d2-105">The **FindFirstPrinterChangeNotification** function creates a change notification object and returns a handle to the object.</span></span> <span data-ttu-id="273d2-106">Anschließend können Sie dieses Handle in einem Rückruf einer der Wait-Funktionen verwenden, um Änderungen am Drucker oder Druckserver zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="273d2-106">You can then use this handle in a call to one of the wait functions to monitor changes to the printer or print server.</span></span>

<span data-ttu-id="273d2-107">Der **findfirstprinterchangenotifizierungsbefehl** gibt den Typ der zu überwachenden Änderungen an.</span><span class="sxs-lookup"><span data-stu-id="273d2-107">The **FindFirstPrinterChangeNotification** call specifies the type of changes to be monitored.</span></span> <span data-ttu-id="273d2-108">Sie können eine Reihe von Bedingungen angeben, die auf Änderungen überwacht werden sollen, einen Satz von zu überwachenden Drucker Informationsfeldern oder beides.</span><span class="sxs-lookup"><span data-stu-id="273d2-108">You can specify a set of conditions to monitor for changes, a set of printer information fields to monitor, or both.</span></span>

<span data-ttu-id="273d2-109">Ein warte Vorgang für das Änderungs Benachrichtigungs Handle ist erfolgreich, wenn eine der angegebenen Änderungen auf dem angegebenen Drucker oder Druckserver auftritt.</span><span class="sxs-lookup"><span data-stu-id="273d2-109">A wait operation on the change notification handle succeeds when one of the specified changes occurs in the specified printer or print server.</span></span> <span data-ttu-id="273d2-110">Anschließend rufen Sie die Funktion " [**findnextprinterchangenotifitifitifitifitifitifitifitifitifitifitifitifitifitifitifitifitifitifi"**](findnextprinterchangenotification.md) auf, um Informationen über die Änderung abzurufen und das Änderungs Benachrichtigungs Objekt</span><span class="sxs-lookup"><span data-stu-id="273d2-110">You then call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to retrieve information about the change, and to reset the change notification object for use in the next wait operation.</span></span>

## <a name="syntax"></a><span data-ttu-id="273d2-111">Syntax</span><span class="sxs-lookup"><span data-stu-id="273d2-111">Syntax</span></span>


```C++
HANDLE FindFirstPrinterChangeNotification(
  _In_     HANDLE hPrinter,
           DWORD  fdwFilter,
           DWORD  fdwOptions,
  _In_opt_ LPVOID pPrinterNotifyOptions
);
```



## <a name="parameters"></a><span data-ttu-id="273d2-112">Parameter</span><span class="sxs-lookup"><span data-stu-id="273d2-112">Parameters</span></span>

<dl> <dt>

<span data-ttu-id="273d2-113">*hprinter* \[ in\]</span><span class="sxs-lookup"><span data-stu-id="273d2-113">*hPrinter* \[in\]</span></span>
</dt> <dd>

<span data-ttu-id="273d2-114">Ein Handle für den Drucker oder Druckserver, den Sie überwachen möchten.</span><span class="sxs-lookup"><span data-stu-id="273d2-114">A handle to the printer or print server that you want to monitor.</span></span> <span data-ttu-id="273d2-115">Verwenden Sie die Funktion [**OpenPrinter**](openprinter.md) oder [**addprinter**](addprinter.md) zum Abrufen eines Drucker Handles.</span><span class="sxs-lookup"><span data-stu-id="273d2-115">Use the [**OpenPrinter**](openprinter.md) or [**AddPrinter**](addprinter.md) function to retrieve a printer handle.</span></span>

</dd> <dt>

<span data-ttu-id="273d2-116">*"f" Filtern*</span><span class="sxs-lookup"><span data-stu-id="273d2-116">*fdwFilter*</span></span> 
</dt> <dd>

<span data-ttu-id="273d2-117">Die Bedingungen, die bewirken, dass das Änderungs Benachrichtigungs Objekt in den signalisierten Zustand versetzt wird.</span><span class="sxs-lookup"><span data-stu-id="273d2-117">The conditions that will cause the change notification object to enter a signaled state.</span></span> <span data-ttu-id="273d2-118">Eine Änderungs Benachrichtigung tritt auf, wenn eine oder mehrere der angegebenen Bedingungen erfüllt sind.</span><span class="sxs-lookup"><span data-stu-id="273d2-118">A change notification occurs when one or more of the specified conditions are met.</span></span> <span data-ttu-id="273d2-119">Der *Parameter* "Parameter" kann NULL sein, wenn " *pprinternotifyoptions* " nicht **null** ist.</span><span class="sxs-lookup"><span data-stu-id="273d2-119">The *fdwFilter* parameter can be zero if *pPrinterNotifyOptions* is non-**NULL**.</span></span>

<span data-ttu-id="273d2-120">Dieser Parameter kann einen oder mehrere der folgenden Werte aufweisen.</span><span class="sxs-lookup"><span data-stu-id="273d2-120">This parameter can be one or more of the following values.</span></span>



| <span data-ttu-id="273d2-121">Wert</span><span class="sxs-lookup"><span data-stu-id="273d2-121">Value</span></span>                                                                                                                                                                                                              | <span data-ttu-id="273d2-122">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="273d2-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_CHANGE_FORM"></span><span id="printer_change_form"></span><dl> <span data-ttu-id="273d2-123"><dt>**Formular für Drucker \_ Änderung \_**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-123"><dt>**PRINTER\_CHANGE\_FORM**</dt></span></span> </dl>                                   | <span data-ttu-id="273d2-124">Benachrichtigen von Änderungen an einem Formular.</span><span class="sxs-lookup"><span data-stu-id="273d2-124">Notify of any changes to a form.</span></span> <span data-ttu-id="273d2-125">Sie können dieses allgemeine Flag oder eines oder mehrere der folgenden spezifischen Flags festlegen:</span><span class="sxs-lookup"><span data-stu-id="273d2-125">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="273d2-126">Formular "Drucker \_ Änderung \_ Hinzufügen" \_</span><span class="sxs-lookup"><span data-stu-id="273d2-126">PRINTER\_CHANGE\_ADD\_FORM</span></span></dd> <dd><span data-ttu-id="273d2-127">Formular für den Drucker \_ Änderungs \_ Satz \_</span><span class="sxs-lookup"><span data-stu-id="273d2-127">PRINTER\_CHANGE\_SET\_FORM</span></span></dd> <dd><span data-ttu-id="273d2-128">Formular für das Löschen von Drucker \_ Änderungen \_ \_</span><span class="sxs-lookup"><span data-stu-id="273d2-128">PRINTER\_CHANGE\_DELETE\_FORM</span></span></dd> </dl>                                                                              |
| <span id="PRINTER_CHANGE_JOB"></span><span id="printer_change_job"></span><dl> <span data-ttu-id="273d2-129"><dt>**Auftrag zur Drucker \_ Änderung \_**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-129"><dt>**PRINTER\_CHANGE\_JOB**</dt></span></span> </dl>                                      | <span data-ttu-id="273d2-130">Benachrichtigen von Änderungen an einem Auftrag.</span><span class="sxs-lookup"><span data-stu-id="273d2-130">Notify of any changes to a job.</span></span> <span data-ttu-id="273d2-131">Sie können dieses allgemeine Flag oder eines oder mehrere der folgenden spezifischen Flags festlegen:</span><span class="sxs-lookup"><span data-stu-id="273d2-131">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="273d2-132">Drucker \_ Änderung \_ Auftrag hinzufügen \_</span><span class="sxs-lookup"><span data-stu-id="273d2-132">PRINTER\_CHANGE\_ADD\_JOB</span></span></dd> <dd><span data-ttu-id="273d2-133">Auftrag für Drucker \_ Änderungs \_ Satz \_</span><span class="sxs-lookup"><span data-stu-id="273d2-133">PRINTER\_CHANGE\_SET\_JOB</span></span></dd> <dd><span data-ttu-id="273d2-134">Auftrag zum Löschen der Drucker \_ Änderung \_ \_</span><span class="sxs-lookup"><span data-stu-id="273d2-134">PRINTER\_CHANGE\_DELETE\_JOB</span></span></dd> <dd><span data-ttu-id="273d2-135">\_ \_ Schreib \_ Auftrag für Drucker Änderung</span><span class="sxs-lookup"><span data-stu-id="273d2-135">PRINTER\_CHANGE\_WRITE\_JOB</span></span></dd> </dl>                                  |
| <span id="PRINTER_CHANGE_PORT"></span><span id="printer_change_port"></span><dl> <span data-ttu-id="273d2-136"><dt>**Drucker \_ \_ änderungsport**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-136"><dt>**PRINTER\_CHANGE\_PORT**</dt></span></span> </dl>                                   | <span data-ttu-id="273d2-137">Benachrichtigen von Änderungen an einem Port.</span><span class="sxs-lookup"><span data-stu-id="273d2-137">Notify of any changes to a port.</span></span> <span data-ttu-id="273d2-138">Sie können dieses allgemeine Flag oder eines oder mehrere der folgenden spezifischen Flags festlegen:</span><span class="sxs-lookup"><span data-stu-id="273d2-138">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="273d2-139">Drucker \_ Änderung \_ " \_ Port hinzufügen"</span><span class="sxs-lookup"><span data-stu-id="273d2-139">PRINTER\_CHANGE\_ADD\_PORT</span></span></dd> <dd><span data-ttu-id="273d2-140">Port für die Drucker \_ Änderung \_ konfigurieren \_</span><span class="sxs-lookup"><span data-stu-id="273d2-140">PRINTER\_CHANGE\_CONFIGURE\_PORT</span></span> </dd> <dd><span data-ttu-id="273d2-141">\_druckeränderungsport \_ Löschen \_</span><span class="sxs-lookup"><span data-stu-id="273d2-141">PRINTER\_CHANGE\_DELETE\_PORT</span></span></dd> </dl>                                                                       |
| <span id="PRINTER_CHANGE_PRINT_PROCESSOR"></span><span id="printer_change_print_processor"></span><dl> <span data-ttu-id="273d2-142"><dt>**Drucker \_ Änderungs \_ Druck \_ Prozessor**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-142"><dt>**PRINTER\_CHANGE\_PRINT\_PROCESSOR**</dt></span></span> </dl> | <span data-ttu-id="273d2-143">Benachrichtigen von Änderungen an einem Druck Prozessor.</span><span class="sxs-lookup"><span data-stu-id="273d2-143">Notify of any changes to a print processor.</span></span> <span data-ttu-id="273d2-144">Sie können dieses allgemeine Flag oder eines oder mehrere der folgenden spezifischen Flags festlegen:</span><span class="sxs-lookup"><span data-stu-id="273d2-144">You can set this general flag or one or more of the following specific flags:</span></span> <br/> <dl> <dd><span data-ttu-id="273d2-145">Drucker \_ Änderung \_ Hinzufügen eines \_ Druck \_ Prozessors</span><span class="sxs-lookup"><span data-stu-id="273d2-145">PRINTER\_CHANGE\_ADD\_PRINT\_PROCESSOR</span></span> </dd> <dd><span data-ttu-id="273d2-146">Drucker \_ Änderung \_ Delete- \_ Druck \_ Prozessor</span><span class="sxs-lookup"><span data-stu-id="273d2-146">PRINTER\_CHANGE\_DELETE\_PRINT\_PROCESSOR</span></span></dd> </dl>                                                                                        |
| <span id="PRINTER_CHANGE_PRINTER"></span><span id="printer_change_printer"></span><dl> <span data-ttu-id="273d2-147"><dt>**Drucker \_ Änderungs \_ Drucker**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-147"><dt>**PRINTER\_CHANGE\_PRINTER**</dt></span></span> </dl>                          | <span data-ttu-id="273d2-148">Benachrichtigen von Änderungen an einem Drucker.</span><span class="sxs-lookup"><span data-stu-id="273d2-148">Notify of any changes to a printer.</span></span> <span data-ttu-id="273d2-149">Sie können dieses allgemeine Flag oder eines oder mehrere der folgenden spezifischen Flags festlegen:</span><span class="sxs-lookup"><span data-stu-id="273d2-149">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="273d2-150">Drucker \_ Änderung \_ Drucker hinzufügen \_</span><span class="sxs-lookup"><span data-stu-id="273d2-150">PRINTER\_CHANGE\_ADD\_PRINTER</span></span></dd> <dd><span data-ttu-id="273d2-151">Drucker \_ Änderungs \_ Satz- \_ Drucker</span><span class="sxs-lookup"><span data-stu-id="273d2-151">PRINTER\_CHANGE\_SET\_PRINTER</span></span></dd> <dd><span data-ttu-id="273d2-152">Drucker \_ Änderung Drucker \_ Löschen \_</span><span class="sxs-lookup"><span data-stu-id="273d2-152">PRINTER\_CHANGE\_DELETE\_PRINTER</span></span></dd> <dd><span data-ttu-id="273d2-153">Fehler beim Drucker \_ Änderungs \_ \_ Verbindungs \_ Drucker.</span><span class="sxs-lookup"><span data-stu-id="273d2-153">PRINTER\_CHANGE\_FAILED\_CONNECTION\_PRINTER</span></span></dd> </dl> |
| <span id="PRINTER_CHANGE_PRINTER_DRIVER"></span><span id="printer_change_printer_driver"></span><dl> <span data-ttu-id="273d2-154"><dt>**Drucker \_ Treiber für Drucker Änderung \_ \_**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-154"><dt>**PRINTER\_CHANGE\_PRINTER\_DRIVER**</dt></span></span> </dl>    | <span data-ttu-id="273d2-155">Benachrichtigen von Änderungen an einem Druckertreiber</span><span class="sxs-lookup"><span data-stu-id="273d2-155">Notify of any changes to a printer driver.</span></span> <span data-ttu-id="273d2-156">Sie können dieses allgemeine Flag oder eines oder mehrere der folgenden spezifischen Flags festlegen:</span><span class="sxs-lookup"><span data-stu-id="273d2-156">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="273d2-157">Drucker \_ Änderung \_ Drucker \_ Treiber hinzufügen \_</span><span class="sxs-lookup"><span data-stu-id="273d2-157">PRINTER\_CHANGE\_ADD\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="273d2-158">Drucker \_ \_ Treiber- \_ Drucker \_ Treiber</span><span class="sxs-lookup"><span data-stu-id="273d2-158">PRINTER\_CHANGE\_SET\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="273d2-159">Drucker \_ Änderung zum \_ Löschen des \_ Drucker \_ Treibers</span><span class="sxs-lookup"><span data-stu-id="273d2-159">PRINTER\_CHANGE\_DELETE\_PRINTER\_DRIVER</span></span></dd> </dl>                                   |
| <span id="PRINTER_CHANGE_ALL"></span><span id="printer_change_all"></span><dl> <span data-ttu-id="273d2-160"><dt>**\_alle Drucker Änderungen \_**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-160"><dt>**PRINTER\_CHANGE\_ALL**</dt></span></span> </dl>                                      | <span data-ttu-id="273d2-161">Benachrichtigen, wenn eine der obigen Änderungen auftritt.</span><span class="sxs-lookup"><span data-stu-id="273d2-161">Notify if any of the preceding changes occur.</span></span><br/>                                                                                                                                                                                                                                                                                                                     |
| <span id="PRINTER_CHANGE_SERVER"></span><span id="printer_change_server"></span><dl> <span data-ttu-id="273d2-162"><dt>**Drucker \_ Änderungs \_ Server**</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-162"><dt>**PRINTER\_CHANGE\_SERVER**</dt></span></span> </dl>                             | <span data-ttu-id="273d2-163">Windows 7: Benachrichtigen von Änderungen am Server.</span><span class="sxs-lookup"><span data-stu-id="273d2-163">Windows 7: Notify of any changes to the server.</span></span><br/> <span data-ttu-id="273d2-164">Dieses Flag ist nicht in den überwachten Änderungen enthalten, indem der Wert für den **\_ \_ gesamten Drucker Änderungs** Wert festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="273d2-164">This flag is not included in the changes monitored by setting the **PRINTER\_CHANGE\_ALL** value.</span></span><br/>                                                                                                                                                                                                      |



 

<span data-ttu-id="273d2-165">Beschreibungen der spezifischeren Flags in der vorangehenden Tabelle finden Sie unter der [**findnextprinterchangenotifi-**](findnextprinterchangenotification.md) Funktion.</span><span class="sxs-lookup"><span data-stu-id="273d2-165">For descriptions of the more specific flags in the preceding table, see the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function.</span></span>

</dd> <dt>

<span data-ttu-id="273d2-166">*"f"-Optionen*</span><span class="sxs-lookup"><span data-stu-id="273d2-166">*fdwOptions*</span></span> 
</dt> <dd>

<span data-ttu-id="273d2-167">Das Flag, das die Kategorie der Drucker bestimmt, für die Benachrichtigungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="273d2-167">The flag that determines the category of printers for which notifications will work.</span></span>



| <span data-ttu-id="273d2-168">Wert</span><span class="sxs-lookup"><span data-stu-id="273d2-168">Value</span></span>                                                                                                                                                                                                                                                               | <span data-ttu-id="273d2-169">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="273d2-169">Meaning</span></span>                                                                                                                                      |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_NOTIFY_CATEGORY_ALL"></span><span id="printer_notify_category_all"></span><dl> <span data-ttu-id="273d2-170"><dt>**Drucker \_ \_Kategorie \_ alle**</dt> <dt>0x001000</dt> Benachrichtigen</span><span class="sxs-lookup"><span data-stu-id="273d2-170"><dt>**PRINTER\_NOTIFY\_CATEGORY\_ALL**</dt> <dt>0x001000</dt></span></span> </dl> | <span data-ttu-id="273d2-171">[**Findnextprinterchangenotifigibt**](findnextprinterchangenotification.md) Benachrichtigungen für 2D-und 3D-Drucker zurück.</span><span class="sxs-lookup"><span data-stu-id="273d2-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications for both 2D and 3D printers.</span></span><br/> |
| <span id="PRINTER_NOTIFY_CATEGORY_3D"></span><span id="printer_notify_category_3d"></span><dl> <span data-ttu-id="273d2-172"><dt>**Drucker \_ \_Kategorie \_ 3D**</dt> <dt>0x002000</dt> Benachrichtigen</span><span class="sxs-lookup"><span data-stu-id="273d2-172"><dt>**PRINTER\_NOTIFY\_CATEGORY\_3D**</dt> <dt>0x002000</dt></span></span> </dl>    | <span data-ttu-id="273d2-173">[**Findnextprinterchangenotifigibt**](findnextprinterchangenotification.md) nur bei 3D-Druckern Benachrichtigungen zurück.</span><span class="sxs-lookup"><span data-stu-id="273d2-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications only for 3D printers.</span></span><br/>        |



 

<span data-ttu-id="273d2-174">Wenn dieses Flag auf NULL (0) festgelegt ist, funktioniert **findfirstprinterchangenotifiken** nur für 2D-Drucker.</span><span class="sxs-lookup"><span data-stu-id="273d2-174">When this flag is set to zero (0), **FindFirstPrinterChangeNotification** will only work for 2D printers.</span></span> <span data-ttu-id="273d2-175">Dies ist der Standardwert.</span><span class="sxs-lookup"><span data-stu-id="273d2-175">This is the default value.</span></span>

</dd> <dt>

<span data-ttu-id="273d2-176">*pprinternotifyoptions* \[ in, optional\]</span><span class="sxs-lookup"><span data-stu-id="273d2-176">*pPrinterNotifyOptions* \[in, optional\]</span></span>
</dt> <dd>

<span data-ttu-id="273d2-177">Ein Zeiger auf die Struktur der [**Drucker \_ Benachrichtigungs \_ Optionen**](printer-notify-options.md) .</span><span class="sxs-lookup"><span data-stu-id="273d2-177">A pointer to a [**PRINTER\_NOTIFY\_OPTIONS**](printer-notify-options.md) structure.</span></span> <span data-ttu-id="273d2-178">Der **ptypes** -Member dieser Struktur ist ein Array aus mindestens einer [**Art von Drucker \_ Benachrichtigungs \_ Optionen \_**](printer-notify-options-type.md) , von dem jedes ein zu überwachende Drucker Informationsfeld angibt.</span><span class="sxs-lookup"><span data-stu-id="273d2-178">The **pTypes** member of this structure is an array of one or more [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md) structures, each of which specifies a printer information field to monitor.</span></span> <span data-ttu-id="273d2-179">Eine Änderungs Benachrichtigung tritt auf, wenn ein oder mehrere der angegebenen Felder geändert werden.</span><span class="sxs-lookup"><span data-stu-id="273d2-179">A change notification occurs when one or more of the specified fields changes.</span></span> <span data-ttu-id="273d2-180">Wenn eine Änderung auftritt, kann die Funktion [**findnextprinterchangenotifidie**](findnextprinterchangenotification.md) neuen Drucker Informationen abrufen.</span><span class="sxs-lookup"><span data-stu-id="273d2-180">When a change occurs, the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function can retrieve the new printer information.</span></span> <span data-ttu-id="273d2-181">Dieser Parameter kann **null** sein, wenn " *f-Filter* " ungleich 0 (null) ist.</span><span class="sxs-lookup"><span data-stu-id="273d2-181">This parameter can be **NULL** if *fdwFilter* is nonzero.</span></span>

<span data-ttu-id="273d2-182">Eine Liste der Felder, die überwacht werden können, finden Sie unter [**Art der Drucker \_ Benachrichtigungs \_ Optionen \_**](printer-notify-options-type.md).</span><span class="sxs-lookup"><span data-stu-id="273d2-182">For a list of fields that can be monitored, see [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md).</span></span>

</dd> </dl>

## <a name="return-value"></a><span data-ttu-id="273d2-183">Rückgabewert</span><span class="sxs-lookup"><span data-stu-id="273d2-183">Return value</span></span>

<span data-ttu-id="273d2-184">Wenn die Funktion erfolgreich ausgeführt wird, ist der Rückgabewert ein Handle für ein Änderungs Benachrichtigungs Objekt, das dem angegebenen Drucker oder Druckserver zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="273d2-184">If the function succeeds, the return value is a handle to a change notification object associated with the specified printer or print server.</span></span>

<span data-ttu-id="273d2-185">Wenn die Funktion fehlschlägt, ist der Rückgabewert ein ungültiger \_ handle- \_ Wert.</span><span class="sxs-lookup"><span data-stu-id="273d2-185">If the function fails, the return value is INVALID\_HANDLE\_VALUE.</span></span>

## <a name="remarks"></a><span data-ttu-id="273d2-186">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="273d2-186">Remarks</span></span>

> [!Note]  
> <span data-ttu-id="273d2-187">Dies ist eine blockierende oder synchrone Funktion, die möglicherweise nicht sofort zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="273d2-187">This is a blocking or synchronous function and might not return immediately.</span></span> <span data-ttu-id="273d2-188">Wie schnell diese Funktion zurückgibt, hängt von Lauf Zeitfaktoren ab, wie z. b. Netzwerkstatus, Druckserver Konfiguration und Implementierungs Faktoren für Druckertreiber, die beim Schreiben einer Anwendung schwierig vorhergesagt werden können.</span><span class="sxs-lookup"><span data-stu-id="273d2-188">How quickly this function returns depends on run-time factors such as network status, print server configuration, and printer driver implementation factors that are difficult to predict when writing an application.</span></span> <span data-ttu-id="273d2-189">Wenn diese Funktion von einem Thread aufgerufen wird, der die Interaktion mit der Benutzeroberfläche verwaltet, könnte die Anwendung scheinbar nicht mehr reagiert.</span><span class="sxs-lookup"><span data-stu-id="273d2-189">Calling this function from a thread that manages interaction with the user interface could make the application appear to be unresponsive.</span></span>

 

<span data-ttu-id="273d2-190">Um einen Drucker oder Druckserver zu überwachen, rufen Sie die **findfirstprinterchangenotifizierungsfunktion** auf, und verwenden Sie dann das zurückgegebene Änderungs Benachrichtigungs Objekt Handle in einem Rückruf einer der [Wait-Funktionen](/windows/desktop/Sync/wait-functions).</span><span class="sxs-lookup"><span data-stu-id="273d2-190">To monitor a printer or print server, call the **FindFirstPrinterChangeNotification** function, then use the returned change notification object handle in a call to one of the [wait functions](/windows/desktop/Sync/wait-functions).</span></span> <span data-ttu-id="273d2-191">Ein warte Vorgang für ein Änderungs Benachrichtigungs Objekt wird erfüllt, wenn das Änderungs Benachrichtigungs Objekt in den signalisierten Zustand wechselt.</span><span class="sxs-lookup"><span data-stu-id="273d2-191">A wait operation on a change notification object is satisfied when the change notification object enters the signaled state.</span></span> <span data-ttu-id="273d2-192">Das System signalisiert dem Objekt, wenn eine oder mehrere der durch " *bdwfilter* " oder " *pprinternotifyoptions* " angegebenen Änderungen auf dem überwachten Drucker oder Druckserver auftreten.</span><span class="sxs-lookup"><span data-stu-id="273d2-192">The system signals the object when one or more of the changes specified by *fdwFilter* or *pPrinterNotifyOptions* occurs in the monitored printer or print server.</span></span>

<span data-ttu-id="273d2-193">Beim Abrufen von **findfirstprinterchangenotifiziken** muss entweder *fdwfilter* ungleich NULL sein, oder *pprinternotifyoptions* darf nicht **null** sein.</span><span class="sxs-lookup"><span data-stu-id="273d2-193">When you call **FindFirstPrinterChangeNotification**, either *fdwFilter* must be nonzero or *pPrinterNotifyOptions* must be non-**NULL**.</span></span> <span data-ttu-id="273d2-194">Wenn beide angegeben werden, werden Benachrichtigungen für beide angezeigt.</span><span class="sxs-lookup"><span data-stu-id="273d2-194">If both are specified, notifications will occur for both.</span></span>

<span data-ttu-id="273d2-195">Wenn ein warte Vorgang für ein Drucker Änderungs Benachrichtigungs Objekt erfüllt ist, rufen Sie die [**findnextprinterchangenotifitifi-**](findnextprinterchangenotification.md) Funktion auf, um die Ursache der Benachrichtigung zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="273d2-195">When a wait operation on a printer change notification object is satisfied, call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to determine the cause of the notification.</span></span> <span data-ttu-id="273d2-196">Für eine von " *sdwfilter*" angegebene Bedingung meldet **findnextprinterchangenotifidie** Bedingungen, die sich geändert haben.</span><span class="sxs-lookup"><span data-stu-id="273d2-196">For a condition specified by *fdwFilter*, **FindNextPrinterChangeNotification** reports the condition or conditions that changed.</span></span> <span data-ttu-id="273d2-197">Bei einem von *pprinternotifyoptions* angegebenen Drucker Informationsfeld meldet **findnextprinterchangenotifidas** geänderte Feld bzw. die geänderten Felder sowie die neuen Informationen für diese Felder.</span><span class="sxs-lookup"><span data-stu-id="273d2-197">For a printer information field specified by *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** reports the field or fields that changed as well as the new information for these fields.</span></span> <span data-ttu-id="273d2-198">**Findnextprinterchangenotifisetzt** das Änderungs Benachrichtigungs Objekt auch auf den nicht signalisierten Zustand zurück, damit Sie es in einem anderen warte Vorgang verwenden können, um die Überwachung des Druckers oder des Druck Servers fortzusetzen.</span><span class="sxs-lookup"><span data-stu-id="273d2-198">**FindNextPrinterChangeNotification** also resets the change notification object to the nonsignaled state so you can use it in another wait operation to continue monitoring the printer or print server.</span></span>

<span data-ttu-id="273d2-199">Rufen Sie die [**findnextprinterchangenotifi-**](findnextprinterchangenotification.md) Funktion mit einer Ausnahme nicht auf, wenn sich das Änderungs Benachrichtigungs Objekt nicht im signalisierten Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="273d2-199">With one exception, do not call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function if the change notification object is not in the signaled state.</span></span> <span data-ttu-id="273d2-200">Wenn die wait-Funktion den Timeout Wert der Wartezeit zurückgibt \_ , befindet sich das Änderungs Objekt nicht im signalisierten Zustand.</span><span class="sxs-lookup"><span data-stu-id="273d2-200">If the wait function returns the value WAIT\_TIMEOUT, the change object is not in the signaled state.</span></span> <span data-ttu-id="273d2-201">Rufen Sie die Funktion " **findnextprinterchangenotifitifitifitifitifitifitifitifitifitifitifitifitifitifi"** nur auf Eine Ausnahme bildet die Verwendung von **findnextprinterchangenotifizierung** mit dem \_ \_ \_ im Parameter *pprinternotifyoptions* festgelegten Refresh-Bit für die Drucker Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="273d2-201">Call the **FindNextPrinterChangeNotification** function only if the wait function succeeds without timing out. The exception is when **FindNextPrinterChangeNotification** is called with the PRINTER\_NOTIFY\_OPTIONS\_REFRESH bit set in the *pPrinterNotifyOptions* parameter.</span></span>

<span data-ttu-id="273d2-202">Wenn das Änderungs Benachrichtigungs Objekt nicht mehr benötigt wird, schließen Sie es, indem Sie die [**findcloseprinterchangenotifi-**](findcloseprinterchangenotification.md) Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="273d2-202">When you no longer need the change notification object, close it by calling the [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) function.</span></span>

<span data-ttu-id="273d2-203">Aufrufer von **findfirstprinterchangenotifiken** müssen sicherstellen, dass das an **findfirstprinterchangenotifiübergebenen** Drucker Handle gültig bleibt, bis [**findcloseprinterchangenotifiaufgerufen**](findcloseprinterchangenotification.md) wird.</span><span class="sxs-lookup"><span data-stu-id="273d2-203">Callers of **FindFirstPrinterChangeNotification** must ensure that the printer handle passed into **FindFirstPrinterChangeNotification** remains valid until [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) is called.</span></span> <span data-ttu-id="273d2-204">Wenn das Drucker handle vor dem Benachrichtigungs Handle für Drucker Änderungen geschlossen wird, können weitere Benachrichtigungen nicht übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="273d2-204">If the printer handle is closed before the printer change notification handle, further notifications will fail to be delivered.</span></span>

<span data-ttu-id="273d2-205">Von **findfirstprinterchangenotifizierung** werden keine Änderungs Benachrichtigungen für 3D-Drucker an Server Handles gesendet.</span><span class="sxs-lookup"><span data-stu-id="273d2-205">**FindFirstPrinterChangeNotification** will not send change notifications for 3D printers to server handles.</span></span>

> [!Note]  
> <span data-ttu-id="273d2-206">In Windows XP mit Service Pack 2 (SP2) und höher blockiert die Internetverbindungs Firewall (ICF) standardmäßig Drucker Anschlüsse, eine Ausnahme für die Datei-und Druckfreigabe kann jedoch aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="273d2-206">In Windows XP with Service Pack 2 (SP2) and later, the Internet Connection Firewall (ICF) blocks printer ports by default, but an exception for File and Print Sharing can be enabled.</span></span> <span data-ttu-id="273d2-207">Wenn ein Benutzer eine Druckerverbindung mit einem anderen Computer herstellt und die Ausnahme nicht aktiviert ist, empfängt der Benutzer keine Drucker Änderungs Benachrichtigungen vom Server.</span><span class="sxs-lookup"><span data-stu-id="273d2-207">If a user makes a printer connection to another machine, and the exception is not enabled, then the user will not receive printer change notifications from the server.</span></span> <span data-ttu-id="273d2-208">Ein Computer Administrator muss die Ausnahme aktivieren.</span><span class="sxs-lookup"><span data-stu-id="273d2-208">A machine admin will have to enable exception.</span></span>

 

## <a name="requirements"></a><span data-ttu-id="273d2-209">Anforderungen</span><span class="sxs-lookup"><span data-stu-id="273d2-209">Requirements</span></span>



| <span data-ttu-id="273d2-210">Anforderung</span><span class="sxs-lookup"><span data-stu-id="273d2-210">Requirement</span></span> | <span data-ttu-id="273d2-211">Wert</span><span class="sxs-lookup"><span data-stu-id="273d2-211">Value</span></span> |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="273d2-212">Unterstützte Mindestversion (Client)</span><span class="sxs-lookup"><span data-stu-id="273d2-212">Minimum supported client</span></span><br/> | <span data-ttu-id="273d2-213">Windows 2000 Professional \[nur Desktop-Apps\]</span><span class="sxs-lookup"><span data-stu-id="273d2-213">Windows 2000 Professional \[desktop apps only\]</span></span><br/>                                                |
| <span data-ttu-id="273d2-214">Unterstützte Mindestversion (Server)</span><span class="sxs-lookup"><span data-stu-id="273d2-214">Minimum supported server</span></span><br/> | <span data-ttu-id="273d2-215">Windows 2000 Server \[nur Desktop-Apps\]</span><span class="sxs-lookup"><span data-stu-id="273d2-215">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                                      |
| <span data-ttu-id="273d2-216">Header</span><span class="sxs-lookup"><span data-stu-id="273d2-216">Header</span></span><br/>                   | <dl> <span data-ttu-id="273d2-217"><dt>Winspool. h (Include Windows. h)</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-217"><dt>Winspool.h (include Windows.h)</dt></span></span> </dl> |
| <span data-ttu-id="273d2-218">Bibliothek</span><span class="sxs-lookup"><span data-stu-id="273d2-218">Library</span></span><br/>                  | <dl> <span data-ttu-id="273d2-219"><dt>Winspool. lib</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-219"><dt>Winspool.lib</dt></span></span> </dl>                   |
| <span data-ttu-id="273d2-220">DLL</span><span class="sxs-lookup"><span data-stu-id="273d2-220">DLL</span></span><br/>                      | <dl> <span data-ttu-id="273d2-221"><dt>Spoolss.dll</dt></span><span class="sxs-lookup"><span data-stu-id="273d2-221"><dt>Spoolss.dll</dt></span></span> </dl>                    |



## <a name="see-also"></a><span data-ttu-id="273d2-222">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="273d2-222">See also</span></span>

<dl> <dt>

[<span data-ttu-id="273d2-223">Drucken</span><span class="sxs-lookup"><span data-stu-id="273d2-223">Printing</span></span>](printdocs-printing.md)
</dt> <dt>

[<span data-ttu-id="273d2-224">Druckspooler-API-Funktionen</span><span class="sxs-lookup"><span data-stu-id="273d2-224">Print Spooler API Functions</span></span>](printing-and-print-spooler-functions.md)
</dt> <dt>

[<span data-ttu-id="273d2-225">**Findcloseprinterchangenotifizierung**</span><span class="sxs-lookup"><span data-stu-id="273d2-225">**FindClosePrinterChangeNotification**</span></span>](findcloseprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="273d2-226">**Findnextprinterchangenotifizierung**</span><span class="sxs-lookup"><span data-stu-id="273d2-226">**FindNextPrinterChangeNotification**</span></span>](findnextprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="273d2-227">**OpenPrinter**</span><span class="sxs-lookup"><span data-stu-id="273d2-227">**OpenPrinter**</span></span>](openprinter.md)
</dt> <dt>

[<span data-ttu-id="273d2-228">**Drucker \_ Benachrichtigungs \_ Optionen**</span><span class="sxs-lookup"><span data-stu-id="273d2-228">**PRINTER\_NOTIFY\_OPTIONS**</span></span>](printer-notify-options.md)
</dt> <dt>

[<span data-ttu-id="273d2-229">**Typ der Drucker \_ Benachrichtigungs \_ Optionen \_**</span><span class="sxs-lookup"><span data-stu-id="273d2-229">**PRINTER\_NOTIFY\_OPTIONS\_TYPE**</span></span>](printer-notify-options-type.md)
</dt> </dl>

 

