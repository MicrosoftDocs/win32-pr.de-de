---
description: Erfahren Sie, wie Sie ein generisches PrintTicket erstellen, falls das PrintCapabilities-Dokument für das Gerät nicht verfügbar ist.
ms.assetid: 1f991b6b-8443-4234-ad46-dc4220e34c5c
title: Erstellen eines generischen PrintTickets
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 69e611205663138b9cc3c0d3cd315c2c19d2d7e6
ms.sourcegitcommit: 5d4e99f4c8f42f5f543e52cb9beb9fb13ec56c5f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/19/2021
ms.locfileid: "112409523"
---
# <a name="creating-a-generic-printticket"></a><span data-ttu-id="ce7f3-103">Erstellen eines generischen PrintTickets</span><span class="sxs-lookup"><span data-stu-id="ce7f3-103">Creating a Generic PrintTicket</span></span>

<span data-ttu-id="ce7f3-104">Dieses Thema ist nicht aktuell.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-104">This topic is not current.</span></span> <span data-ttu-id="ce7f3-105">Die aktuellen Informationen finden Sie unter [Print Schema Specification (Spezifikation des Druckschemas).](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)</span><span class="sxs-lookup"><span data-stu-id="ce7f3-105">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="ce7f3-106">Wenn das PrintCapabilities-Dokument für das Gerät nicht verfügbar ist oder das Zielgerät unbekannt ist, sollten Sie ein generisches PrintTicket erstellen.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-106">If the PrintCapabilities document for the device is unavailable, or if the target device is unknown, you should construct a generic PrintTicket.</span></span> <span data-ttu-id="ce7f3-107">Da es kein PrintCapabilities-Dokument gibt, das einen Satz von Feature- und Optionselementen oder Parametern enthält, müssen die unterstützten Instanzen dieser Elementtypen direkt aus den Druckschemaschlüsselwörtern erhalten werden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-107">Because there is no PrintCapabilities document that provides a set of Feature and Option elements, or parameters, the supported instances of these element types must be obtained directly from the Print Schema Keywords.</span></span>

<span data-ttu-id="ce7f3-108">Die in der folgenden Liste gezeigten Schritte sollten verwendet werden, wenn Sie ein generisches PrintTicket erstellen.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-108">The steps shown in the following list should be used when you create a generic PrintTicket.</span></span>

1.  <span data-ttu-id="ce7f3-109">Erstellen Sie ein leeres XML-Dokument, das den PrintTicket-Stamm enthält.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-109">Create an empty XML document that contains the PrintTicket root.</span></span> <span data-ttu-id="ce7f3-110">Weisen Sie dem Druckschemanamespace ein Namespacepräfix zu.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-110">Assign a namespace prefix to the Print Schema namespace.</span></span> <span data-ttu-id="ce7f3-111">Geben Sie die Schemaversion an.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-111">Specify the Schema version.</span></span>

2.  <span data-ttu-id="ce7f3-112">Untersuchen Sie die Featureinstanzen in den Druckschemaschlüsselwörtern, und bestimmen Sie, welche dieser Instanzen in Ihrem PrintTicket definiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-112">Examine the Feature instances in the Print Schema Keywords and determine which of these you want defined in your PrintTicket.</span></span> <span data-ttu-id="ce7f3-113">Fügen Sie diese Featureinstanzen Ihrem PrintTicket hinzu.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-113">Add these Feature instances to your PrintTicket.</span></span> <span data-ttu-id="ce7f3-114">Wenn Sie ein Unterfeature übertragen, müssen Sie das übergeordnete Feature übertragen und die Über-/Unterfunktionsbeziehung zwischen dem Feature und dem Unterfeature im PrintTicket beibehalten.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-114">When you transfer a subfeature, you must transfer the parent Feature, and preserve the parent-child relationship between the Feature and subfeature in the PrintTicket.</span></span>

    <span data-ttu-id="ce7f3-115">Bestimmen Sie für jede Featureinstanz, die Sie übertragen, welche Optionsinstanzen auf Ihr PrintTicket anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-115">For each Feature instance that you transfer, determine which Option instances are applicable to your PrintTicket.</span></span> <span data-ttu-id="ce7f3-116">Übertragen Sie aus diesem Satz von Optionsinstanzen jede gesamte Option-Instanz so, wie sie im Druckschema angezeigt wird, und entfernen Sie dann alle property -Instanzen, die vorhanden sind, mit ausnahme derer, die für Ihr PrintTicket von Bedeutung sind.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-116">From this set of Option instances, transfer each entire Option instance as it appears in the Print Schema, and then remove any Property instances that are present, with the possible exception of those that have significance to your PrintTicket.</span></span> <span data-ttu-id="ce7f3-117">Behalten Sie alle ScoredProperty-Instanzen bei, und stellen Sie sicher, dass sie ihren Speicherort beibehalten. sie sind ein intrinsischer Bestandteil der Option-Definition.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-117">Keep all of the ScoredProperty instances, making sure that you preserve their location; they are an intrinsic part of the Option definition.</span></span>

3.  <span data-ttu-id="ce7f3-118">Sie können jeder ScoredProperty auch Eigenschaftsinstanzen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-118">You may also add Property instances to any ScoredProperty.</span></span> <span data-ttu-id="ce7f3-119">Eigenschaftselemente sind nur anwendbar, wenn der PrintTicket-Anbieter deren Verwendung explizit unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-119">Property elements are applicable only if the PrintTicket provider explicitly supports their use.</span></span> <span data-ttu-id="ce7f3-120">Jeder Anbieter sollte den Zweck und die Verwendung aller unterstützten Eigenschafteninstanzen dokumentieren.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-120">Each provider should document the purpose and use of all supported Property instances.</span></span> <span data-ttu-id="ce7f3-121">Da Sie nicht wissen, welcher Anbieter printTicket verarbeiten wird, sollten Sie nur die Property-Instanzen anfügen, die explizit vom PrintTicket-Systemanbieter unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-121">Because you have no idea which provider will process the PrintTicket, you might wish to append only the Property instances that are explicitly supported by the system PrintTicket provider.</span></span>

4.  <span data-ttu-id="ce7f3-122">Wenn die SelectionType-Eigenschaft für ein bestimmtes Feature von den Druckschemaschlüsselwörtern auf PickMany festgelegt wird, können Sie mehrere Optionen für dieses Feature auswählen, vorausgesetzt, dass es sich bei der option, die als IdentityOption festgelegt ist, nicht um eine der ausgewählten Optionen handelt.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-122">If the Print Schema Keywords set the SelectionType Property to PickMany for a particular Feature, you may select more than one Option for that Feature, provided that the Option designated as IdentityOption is not one of those selected.</span></span> <span data-ttu-id="ce7f3-123">IdentityOption im Druckschema hat die gleiche Wirkung wie die Option Keine in Postscript-PPD-Dateien und Unidrv-GPD-Dateien. sie dient als No-Op.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-123">IdentityOption in the Print Schema has the same effect as the None option in Postscript PPD files and Unidrv GPD files; it serves as a no-op.</span></span>

5.  <span data-ttu-id="ce7f3-124">Untersuchen Sie die Print Schema Keywords für ParameterDef-Instanzen, die in Ihrem PrintTicket initialisiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-124">Examine the Print Schema Keywords for ParameterDef instances that should be initialized in your PrintTicket.</span></span> <span data-ttu-id="ce7f3-125">Wählen Sie für jede dieser ParameterDef-Instanzen den Wert aus, der in der ParameterInit-Instanz in PrintTicket verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-125">For each such ParameterDef instance, select the Value to be used in the ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="ce7f3-126">Dieser Wert muss vom richtigen Datentyp sein, muss innerhalb des bereichs liegen, der in der ParameterDef-Instanz definiert ist, und muss alle anderen Anforderungen erfüllen, die in der ParameterDef-Instanz angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-126">This Value must be of the correct data type, must fall within the range defined in the ParameterDef instance, and must meet all of the other requirements specified in the ParameterDef instance.</span></span> <span data-ttu-id="ce7f3-127">Verwenden Sie eine ParameterInit-Instanz, um den Parameter mit dem von Ihnen ausgewählten Wert zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-127">Use a ParameterInit instance to initialize the parameter to the Value you have selected.</span></span>

    <span data-ttu-id="ce7f3-128">Wenn Sie eine Benutzeroberflächenkomponente entwickeln, entwerfen Sie die PrintTicket-Generierungsmethoden, damit Benutzer den Wert für das ParameterInit-Element eingeben können.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-128">If you are developing a user interface (UI) component, design your PrintTicket generation methods so that users can enter the Value for the ParameterInit element.</span></span> <span data-ttu-id="ce7f3-129">Darüber hinaus sollte die Eingabemethode der Benutzeroberfläche alle Eingabeeinschränkungen beachten und einhalten, die vom zugeordneten ParameterDef-Element angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-129">In addition, the UI entry method should observe and comply with any input restrictions specified by the associated ParameterDef element.</span></span>

6.  <span data-ttu-id="ce7f3-130">Überprüfen Sie den Inhalt jeder Option-Instanz, die im PrintTicket angezeigt wird, auf Vorkommen von ParameterRef.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-130">Examine the contents of each Option instance that appears in the PrintTicket for occurrences of ParameterRef.</span></span> <span data-ttu-id="ce7f3-131">Wenn im PrintTicket noch keine entsprechende ParameterInit-Instanz angezeigt wird, führen Sie den vorherigen Schritt aus, um eine ParameterInit-Instanz im PrintTicket zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-131">If a corresponding ParameterInit instance does not already appear in the PrintTicket, follow the previous step to create a ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="ce7f3-132">Der Zweck dieser ParameterInit-Instanz besteht im Initialisieren des Parameters, auf den von der ParameterRef-Instanz verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-132">The purpose of this ParameterInit instance is to initialize the parameter referenced by the ParameterRef instance.</span></span>

7.  <span data-ttu-id="ce7f3-133">Beachten Sie, dass das Gerät, das den Auftrag verarbeitet, möglicherweise nicht jedes im PrintTicket angegebene Feature unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-133">Keep in mind that the device that processes the job might not support every Feature specified in the PrintTicket.</span></span> <span data-ttu-id="ce7f3-134">Beachten Sie auch, dass ein benanntes Feature unterstützt werden kann, aber eine angegebene Option dieses Features möglicherweise nicht ist.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-134">Keep in mind also, that a named Feature might be supported, but a specified Option of that Feature might not be.</span></span> <span data-ttu-id="ce7f3-135">Die gleichen Einschränkungen gelten für Parameter.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-135">The same caveats apply to parameters.</span></span> <span data-ttu-id="ce7f3-136">Auch wenn ein Gerät einen benannten Parameter unterstützt, liegt der in der ParameterInit-Instanz angegebene Wert möglicherweise nicht innerhalb des gültigen Bereichs für das Gerät.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-136">Even if a device supports a named parameter, the Value specified in the ParameterInit instance might not be within the valid range for the device.</span></span>

8.  <span data-ttu-id="ce7f3-137">Überprüfen Sie die Druckschemaschlüsselwörter für Eigenschafteninstanzen, die in Ihrem PrintTicket vorhanden sein müssen.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-137">Examine the Print Schema Keywords for Property instances that must be present in your PrintTicket.</span></span> <span data-ttu-id="ce7f3-138">Fügen Sie Ihrem PrintTicket jeweils eine Property-Instanz hinzu, und geben Sie mithilfe des Value-Elementtyps einen geeigneten Wert dafür an.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-138">Add a Property instance for each of these to your PrintTicket, and provide a suitable value for it using the Value element type.</span></span> <span data-ttu-id="ce7f3-139">Stellen Sie sicher, dass sich Eigenschafteninstanzen ordnungsgemäß innerhalb von PrintTicket befinden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-139">Make sure that Property instances are located properly within the PrintTicket.</span></span> <span data-ttu-id="ce7f3-140">Stellen Sie sicher, dass Sie das PrintTicket-Schema anstelle des PrintCapabilities-Schemas verwenden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-140">Make sure that you consult the PrintTicket Schema rather than the PrintCapabilities Schema.</span></span>

9.  <span data-ttu-id="ce7f3-141">Untersuchen Sie die optionalen Eigenschafteninstanzen, die im PrintTicket-Schema definiert sind.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-141">Examine the optional Property instances defined in the PrintTicket Schema.</span></span> <span data-ttu-id="ce7f3-142">Wenn es solche Property-Instanzen gibt, die sich in Ihrem PrintTicket befinden sollten, erstellen Sie sie in Ihrem PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-142">If there are any such Property instances that should be in your PrintTicket, create them in your PrintTicket.</span></span>

10. <span data-ttu-id="ce7f3-143">Unterelemente desselben Elementtyps dürfen nicht bis zu einer Tiefe von mehr als 10 Elementen geschachtelt werden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-143">Children of the same element type may not nest to a depth of more than 10 elements.</span></span> <span data-ttu-id="ce7f3-144">Diese Regel gilt unabhängig für jeden Elementtyp, der definiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-144">This rule applies independently to each type of element that can be defined.</span></span>

> [!Note]  
> <span data-ttu-id="ce7f3-145">PrintTicket XML-Inhalt MUSS entweder mit UTF-8 oder UTF-16 codiert werden.</span><span class="sxs-lookup"><span data-stu-id="ce7f3-145">PrintTicket XML content MUST be encoded using either UTF-8 or UTF-16.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="ce7f3-146">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ce7f3-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ce7f3-147">Spezifikation des Druckschemas</span><span class="sxs-lookup"><span data-stu-id="ce7f3-147">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



