---
description: Dieses Thema ist nicht aktuell. Die aktuellsten Informationen finden Sie in der PrintSchema-Spezifikation.
ms.assetid: 1f991b6b-8443-4234-ad46-dc4220e34c5c
title: Erstellen eines generischen PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c34281eda82a48ea0ac4077248547522ddc305ea
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/05/2021
ms.locfileid: "106366376"
---
# <a name="creating-a-generic-printticket"></a><span data-ttu-id="fbce5-104">Erstellen eines generischen PrintTicket</span><span class="sxs-lookup"><span data-stu-id="fbce5-104">Creating a Generic PrintTicket</span></span>

<span data-ttu-id="fbce5-105">Dieses Thema ist nicht aktuell.</span><span class="sxs-lookup"><span data-stu-id="fbce5-105">This topic is not current.</span></span> <span data-ttu-id="fbce5-106">Die aktuellsten Informationen finden Sie in der [PrintSchema-Spezifikation](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="fbce5-106">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="fbce5-107">Wenn das Printworks-Dokument für das Gerät nicht verfügbar ist oder wenn das Zielgerät unbekannt ist, sollten Sie ein allgemeines PrintTicket erstellen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-107">If the PrintCapabilities document for the device is unavailable, or if the target device is unknown, you should construct a generic PrintTicket.</span></span> <span data-ttu-id="fbce5-108">Da es kein printfunktionsdokument gibt, das einen Satz von Funktions-und Options Elementen oder Parametern bereitstellt, müssen die unterstützten Instanzen dieser Elementtypen direkt aus den Schlüsselwörtern des Print-Schemas abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-108">Because there is no PrintCapabilities document that provides a set of Feature and Option elements, or parameters, the supported instances of these element types must be obtained directly from the Print Schema Keywords.</span></span>

<span data-ttu-id="fbce5-109">Die in der folgenden Liste aufgeführten Schritte sollten verwendet werden, wenn Sie ein allgemeines PrintTicket erstellen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-109">The steps shown in the following list should be used when you create a generic PrintTicket.</span></span>

1.  <span data-ttu-id="fbce5-110">Erstellen Sie ein leeres XML-Dokument, das den PrintTicket-Stamm enthält.</span><span class="sxs-lookup"><span data-stu-id="fbce5-110">Create an empty XML document that contains the PrintTicket root.</span></span> <span data-ttu-id="fbce5-111">Weisen Sie dem Druckschema-Namespace ein Namespace Präfix zu.</span><span class="sxs-lookup"><span data-stu-id="fbce5-111">Assign a namespace prefix to the Print Schema namespace.</span></span> <span data-ttu-id="fbce5-112">Geben Sie die Schema Version an.</span><span class="sxs-lookup"><span data-stu-id="fbce5-112">Specify the Schema version.</span></span>

2.  <span data-ttu-id="fbce5-113">Überprüfen Sie die Funktions Instanzen in den Print Schema-Schlüsselwörtern, und legen Sie fest, welche der in Ihrem PrintTicket definierten werden soll.</span><span class="sxs-lookup"><span data-stu-id="fbce5-113">Examine the Feature instances in the Print Schema Keywords and determine which of these you want defined in your PrintTicket.</span></span> <span data-ttu-id="fbce5-114">Fügen Sie diese Funktions Instanzen zu PrintTicket hinzu.</span><span class="sxs-lookup"><span data-stu-id="fbce5-114">Add these Feature instances to your PrintTicket.</span></span> <span data-ttu-id="fbce5-115">Wenn Sie eine untergeordnete Funktion übertragen, müssen Sie die übergeordnete Funktion übertragen und die über-/Unterordnungsbeziehung zwischen der Funktion und der Unterfunktion in PrintTicket beibehalten.</span><span class="sxs-lookup"><span data-stu-id="fbce5-115">When you transfer a subfeature, you must transfer the parent Feature, and preserve the parent-child relationship between the Feature and subfeature in the PrintTicket.</span></span>

    <span data-ttu-id="fbce5-116">Legen Sie für jede zu übertragenden Funktions Instanz fest, welche Options Instanzen auf Ihr Print Ticket anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="fbce5-116">For each Feature instance that you transfer, determine which Option instances are applicable to your PrintTicket.</span></span> <span data-ttu-id="fbce5-117">Übertragen Sie aus diesem Satz von Options Instanzen jede vollständige Options Instanz, wie Sie im Druck Schema angezeigt wird, und entfernen Sie dann alle vorhandenen Eigenschafts Instanzen, mit Ausnahme der möglichen Ausnahmen, die für Print Ticket wichtig sind.</span><span class="sxs-lookup"><span data-stu-id="fbce5-117">From this set of Option instances, transfer each entire Option instance as it appears in the Print Schema, and then remove any Property instances that are present, with the possible exception of those that have significance to your PrintTicket.</span></span> <span data-ttu-id="fbce5-118">Behalten Sie alle ScoredProperty-Instanzen bei, und stellen Sie sicher, dass Sie Ihre Position beibehalten. Sie stellen einen intrinsischen Teil der Options Definition dar.</span><span class="sxs-lookup"><span data-stu-id="fbce5-118">Keep all of the ScoredProperty instances, making sure that you preserve their location; they are an intrinsic part of the Option definition.</span></span>

3.  <span data-ttu-id="fbce5-119">Sie können auch Eigenschaften Instanzen zu beliebigen ScoredProperty-Objekten hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-119">You may also add Property instances to any ScoredProperty.</span></span> <span data-ttu-id="fbce5-120">Eigenschafts Elemente sind nur anwendbar, wenn der PrintTicket-Anbieter ihre Verwendung explizit unterstützt.</span><span class="sxs-lookup"><span data-stu-id="fbce5-120">Property elements are applicable only if the PrintTicket provider explicitly supports their use.</span></span> <span data-ttu-id="fbce5-121">Jeder Anbieter sollte den Zweck und die Verwendung aller unterstützten Eigenschaften Instanzen dokumentieren.</span><span class="sxs-lookup"><span data-stu-id="fbce5-121">Each provider should document the purpose and use of all supported Property instances.</span></span> <span data-ttu-id="fbce5-122">Da Sie nicht wissen, welcher Anbieter das PrintTicket verarbeitet, möchten Sie möglicherweise nur die Eigenschaften Instanzen anfügen, die explizit vom System PrintTicket-Anbieter unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-122">Because you have no idea which provider will process the PrintTicket, you might wish to append only the Property instances that are explicitly supported by the system PrintTicket provider.</span></span>

4.  <span data-ttu-id="fbce5-123">Wenn die Schlüsselwörter des Druck Schemas die SelectionType-Eigenschaft für eine bestimmte Funktion auf pickmany festlegen, können Sie mehrere Optionen für dieses Feature auswählen, vorausgesetzt, dass es sich bei der als identityoption bezeichneten Option nicht um eine der ausgewählten Optionen handelt.</span><span class="sxs-lookup"><span data-stu-id="fbce5-123">If the Print Schema Keywords set the SelectionType Property to PickMany for a particular Feature, you may select more than one Option for that Feature, provided that the Option designated as IdentityOption is not one of those selected.</span></span> <span data-ttu-id="fbce5-124">Die identityoption im Druck Schema hat dieselbe Auswirkung wie die Option None in den Dateien der PostScript PPD und Unidrv-GPD. Er dient als No-op.</span><span class="sxs-lookup"><span data-stu-id="fbce5-124">IdentityOption in the Print Schema has the same effect as the None option in Postscript PPD files and Unidrv GPD files; it serves as a no-op.</span></span>

5.  <span data-ttu-id="fbce5-125">Überprüfen Sie die Druck Schema Schlüsselwörter für ParameterDef-Instanzen, die in Ihrem PrintTicket initialisiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-125">Examine the Print Schema Keywords for ParameterDef instances that should be initialized in your PrintTicket.</span></span> <span data-ttu-id="fbce5-126">Wählen Sie für jede solche ParameterDef-Instanz den Wert aus, der in der parameterinit-Instanz in PrintTicket verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="fbce5-126">For each such ParameterDef instance, select the Value to be used in the ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="fbce5-127">Dieser Wert muss den korrekten Datentyp aufweisen, muss innerhalb des Bereichs liegen, der in der ParameterDef-Instanz definiert ist, und muss alle anderen Anforderungen erfüllen, die in der ParameterDef-Instanz angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="fbce5-127">This Value must be of the correct data type, must fall within the range defined in the ParameterDef instance, and must meet all of the other requirements specified in the ParameterDef instance.</span></span> <span data-ttu-id="fbce5-128">Verwenden Sie eine parameterinit-Instanz, um den-Parameter für den von Ihnen ausgewählten Wert zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="fbce5-128">Use a ParameterInit instance to initialize the parameter to the Value you have selected.</span></span>

    <span data-ttu-id="fbce5-129">Wenn Sie eine Benutzeroberflächen Komponente entwickeln, entwerfen Sie Ihre PrintTicket-Generierungs Methoden, damit Benutzer den Wert für das parameterinit-Element eingeben können.</span><span class="sxs-lookup"><span data-stu-id="fbce5-129">If you are developing a user interface (UI) component, design your PrintTicket generation methods so that users can enter the Value for the ParameterInit element.</span></span> <span data-ttu-id="fbce5-130">Außerdem sollte die Methode für die Benutzeroberflächen Eingabe alle vom zugeordneten ParameterDef-Element angegebenen Eingabe Einschränkungen beobachten und einhalten.</span><span class="sxs-lookup"><span data-stu-id="fbce5-130">In addition, the UI entry method should observe and comply with any input restrictions specified by the associated ParameterDef element.</span></span>

6.  <span data-ttu-id="fbce5-131">Überprüfen Sie den Inhalt der einzelnen Options Instanzen, die im PrintTicket für Vorkommen von ParameterRef angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-131">Examine the contents of each Option instance that appears in the PrintTicket for occurrences of ParameterRef.</span></span> <span data-ttu-id="fbce5-132">Wenn eine entsprechende parameterinit-Instanz nicht bereits in PrintTicket angezeigt wird, befolgen Sie den vorherigen Schritt, um eine parameterinit-Instanz in PrintTicket zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-132">If a corresponding ParameterInit instance does not already appear in the PrintTicket, follow the previous step to create a ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="fbce5-133">Der Zweck dieser parameterinit-Instanz ist die Initialisierung des Parameters, auf den von der ParameterRef-Instanz verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="fbce5-133">The purpose of this ParameterInit instance is to initialize the parameter referenced by the ParameterRef instance.</span></span>

7.  <span data-ttu-id="fbce5-134">Beachten Sie, dass das Gerät, das den Auftrag verarbeitet, möglicherweise nicht alle Funktionen unterstützt, die in PrintTicket angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="fbce5-134">Keep in mind that the device that processes the job might not support every Feature specified in the PrintTicket.</span></span> <span data-ttu-id="fbce5-135">Beachten Sie auch, dass eine benannte Funktion möglicherweise unterstützt wird, aber eine angegebene Option dieses Features ist möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="fbce5-135">Keep in mind also, that a named Feature might be supported, but a specified Option of that Feature might not be.</span></span> <span data-ttu-id="fbce5-136">Die gleichen Einschränkungen gelten für Parameter.</span><span class="sxs-lookup"><span data-stu-id="fbce5-136">The same caveats apply to parameters.</span></span> <span data-ttu-id="fbce5-137">Selbst wenn ein Gerät einen benannten Parameter unterstützt, liegt der in der parameterinit-Instanz angegebene Wert möglicherweise nicht innerhalb des gültigen Bereichs für das Gerät.</span><span class="sxs-lookup"><span data-stu-id="fbce5-137">Even if a device supports a named parameter, the Value specified in the ParameterInit instance might not be within the valid range for the device.</span></span>

8.  <span data-ttu-id="fbce5-138">Überprüfen Sie die Schlüsselwörter des Druck Schemas für Eigenschaften Instanzen, die in Ihrem PrintTicket vorhanden sein müssen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-138">Examine the Print Schema Keywords for Property instances that must be present in your PrintTicket.</span></span> <span data-ttu-id="fbce5-139">Fügen Sie Ihrer PrintTicket-Instanz eine Eigenschaften Instanz für diese hinzu, und geben Sie einen geeigneten Wert für diese an, indem Sie den Wert Elementtyp verwenden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-139">Add a Property instance for each of these to your PrintTicket, and provide a suitable value for it using the Value element type.</span></span> <span data-ttu-id="fbce5-140">Stellen Sie sicher, dass die Eigenschaften Instanzen innerhalb von PrintTicket ordnungsgemäß gefunden werden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-140">Make sure that Property instances are located properly within the PrintTicket.</span></span> <span data-ttu-id="fbce5-141">Stellen Sie sicher, dass Sie das PrintTicket-Schema und nicht das printfunktionalitäten-Schema überprüfen.</span><span class="sxs-lookup"><span data-stu-id="fbce5-141">Make sure that you consult the PrintTicket Schema rather than the PrintCapabilities Schema.</span></span>

9.  <span data-ttu-id="fbce5-142">Überprüfen Sie die optionalen Eigenschaften Instanzen, die im PrintTicket-Schema definiert sind.</span><span class="sxs-lookup"><span data-stu-id="fbce5-142">Examine the optional Property instances defined in the PrintTicket Schema.</span></span> <span data-ttu-id="fbce5-143">Wenn solche Eigenschaften Instanzen in Ihrem PrintTicket vorhanden sein sollten, erstellen Sie diese in Ihrem PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="fbce5-143">If there are any such Property instances that should be in your PrintTicket, create them in your PrintTicket.</span></span>

10. <span data-ttu-id="fbce5-144">Untergeordnete Elemente desselben Elementtyps dürfen nicht in einer Tiefe von mehr als 10 Elementen geschachtelt werden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-144">Children of the same element type may not nest to a depth of more than 10 elements.</span></span> <span data-ttu-id="fbce5-145">Diese Regel gilt unabhängig für jeden Typ von Element, der definiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="fbce5-145">This rule applies independently to each type of element that can be defined.</span></span>

> [!Note]  
> <span data-ttu-id="fbce5-146">Der XML-Inhalt von PrintTicket muss entweder mit UTF-8 oder UTF-16 codiert werden.</span><span class="sxs-lookup"><span data-stu-id="fbce5-146">PrintTicket XML content MUST be encoded using either UTF-8 or UTF-16.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="fbce5-147">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="fbce5-147">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fbce5-148">Druck Schema Spezifikation</span><span class="sxs-lookup"><span data-stu-id="fbce5-148">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



