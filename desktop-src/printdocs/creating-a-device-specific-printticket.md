---
description: Erfahren Sie mehr über das Erstellen eines gerätespezifischen PrintTickets, das auf ein bestimmtes Gerät ausgerichtet ist und auf mehrere Geräte portierbar ist.
ms.assetid: 487f294f-dfe0-48f8-9077-06c55c3af8f1
title: Erstellen eines Device-Specific PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 497b825bd875ada534c8c467cd18d90f2db9a2a7
ms.sourcegitcommit: 5d4e99f4c8f42f5f543e52cb9beb9fb13ec56c5f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/19/2021
ms.locfileid: "112409545"
---
# <a name="creating-a-device-specific-printticket"></a><span data-ttu-id="ed83f-103">Erstellen eines Device-Specific PrintTicket</span><span class="sxs-lookup"><span data-stu-id="ed83f-103">Creating a Device-Specific PrintTicket</span></span>

<span data-ttu-id="ed83f-104">Dieses Thema ist nicht aktuell.</span><span class="sxs-lookup"><span data-stu-id="ed83f-104">This topic is not current.</span></span> <span data-ttu-id="ed83f-105">Die aktuellsten Informationen finden Sie unter Print Schema Specification (Spezifikation des [Druckschemas).](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)</span><span class="sxs-lookup"><span data-stu-id="ed83f-105">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="ed83f-106">Ein gerätespezifisches PrintTicket ist auf ein bestimmtes Gerät ausgerichtet und daher in der Regel nicht auf mehrere Geräte übertragbar.</span><span class="sxs-lookup"><span data-stu-id="ed83f-106">A device-specific PrintTicket targets a particular device and is therefore not generally portable across multiple devices.</span></span>

<span data-ttu-id="ed83f-107">Die in der folgenden Liste aufgeführten Schritte sollten verwendet werden, wenn Sie ein gerätespezifisches PrintTicket erstellen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-107">The steps shown in the following list should be used when you create a device-specific PrintTicket.</span></span>

1.  <span data-ttu-id="ed83f-108">Rufen Sie ein PrintCapabilities-Dokument ab, das nur die relevanten Funktionsinstanzen für das Gerät enthält.</span><span class="sxs-lookup"><span data-stu-id="ed83f-108">Obtain a PrintCapabilities document containing only the relevant Feature instances for the device.</span></span> <span data-ttu-id="ed83f-109">Fordern Sie ein PrintCapabilities-Standarddokument an.</span><span class="sxs-lookup"><span data-stu-id="ed83f-109">Request a default PrintCapabilities document.</span></span> <span data-ttu-id="ed83f-110">Hierfür müssen Sie kein PrintTicket-Eingabeelement angeben, da die Geräteattribute (Funktions- und Optionsinstanzen und Parameter), die zum Erstellen des PrintTicket verwendet werden, unabhängig von der Konfiguration sind.</span><span class="sxs-lookup"><span data-stu-id="ed83f-110">This does not require you to specify an input PrintTicket because the device attributes (Feature and Option instances and parameters) that are used to construct the PrintTicket are independent of the configuration.</span></span>

2.  <span data-ttu-id="ed83f-111">Erstellen Sie ein leeres XML-Dokument, das den PrintTicket-Stamm enthält.</span><span class="sxs-lookup"><span data-stu-id="ed83f-111">Create an empty XML document containing the PrintTicket root.</span></span> <span data-ttu-id="ed83f-112">Weisen Sie dem Print Schema-Namespace ein Namespacepräfix zu, und weisen Sie Präfixe für alle anderen Namespaces zu, die vom PrintTicket verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ed83f-112">Assign a namespace prefix to the Print Schema namespace, and assign prefixes for all other namespaces that will be used by the PrintTicket.</span></span> <span data-ttu-id="ed83f-113">Geben Sie die PrintTicket-Schemaversion an.</span><span class="sxs-lookup"><span data-stu-id="ed83f-113">Specify the PrintTicket Schema version.</span></span>

3.  <span data-ttu-id="ed83f-114">Sie können Einstellungen im PrintTicket für jede Feature- und ParameterDef-Instanz definieren, die im PrintCapabilities-Dokument gemeldet wird, oder nur für diejenigen, die für Sie von Interesse sind.</span><span class="sxs-lookup"><span data-stu-id="ed83f-114">You may define settings in the PrintTicket for every Feature and ParameterDef instance reported in the PrintCapabilities document, or only those of interest to you.</span></span> <span data-ttu-id="ed83f-115">Wenn der PrintTicket-Schnittstelle ein partielles PrintTicket angezeigt wird, werden während der PrintTicket-Überprüfung automatisch Standardwerte für ausgelassene Feature- und ParameterDef-Instanzen bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="ed83f-115">If a partial PrintTicket is presented to the PrintTicket interface, defaults are automatically provided for omitted Feature and ParameterDef instances during PrintTicket validation.</span></span>

4.  <span data-ttu-id="ed83f-116">Überprüfen Sie das Dokument PrintCapabilities auf Funktionsinstanzen, und bestimmen Sie, welche dieser Instanzen in Ihrem PrintTicket definiert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-116">Examine the PrintCapabilities document for Feature instances and determine which of these you want defined in your PrintTicket.</span></span> <span data-ttu-id="ed83f-117">Fügen Sie diese Featureinstanzen dem PrintTicket hinzu, übertragen Sie jedoch nicht den Inhalt der Featureinstanzen an Ihr PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ed83f-117">Add these Feature instances to the PrintTicket, but do not transfer the contents of the Feature instances to your PrintTicket.</span></span> <span data-ttu-id="ed83f-118">Wenn Sie ein Untergeordnetes Feature übertragen, muss auch das übergeordnete Feature übertragen werden, und die Beziehung zwischen über- und untergeordnetem Element muss im PrintTicket beibehalten werden.</span><span class="sxs-lookup"><span data-stu-id="ed83f-118">If you transfer a subfeature, the parent Feature must also be transferred, and the parent-child relationship must be preserved in the PrintTicket.</span></span>

    <span data-ttu-id="ed83f-119">Legen Sie für jedes übertragene Feature fest, welche Optionsinstanzen auf Ihr PrintTicket anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="ed83f-119">For each Feature that you transfer, determine which Option instances are applicable to your PrintTicket.</span></span> <span data-ttu-id="ed83f-120">Übertragen Sie die gesamte Option wie im PrintCapabilities-Dokument definiert, und entfernen Sie dann alle vorhandenen Eigenschafteninstanzen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-120">Transfer the entire Option as defined in the PrintCapabilities document, and then remove any Property instances that are present.</span></span> <span data-ttu-id="ed83f-121">Die Eigenschafteninstanzen werden in PrintCapabilities-Dokumenten verwendet, erfüllen aber keinen Zweck im PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ed83f-121">The Property instances are used within PrintCapabilities documents, but serve no purpose in the PrintTicket.</span></span> <span data-ttu-id="ed83f-122">Behalten Sie alle ScoredProperty-Instanzen bei, und stellen Sie sicher, dass Sie deren Speicherort beibehalten. sie sind ein systeminterner Teil der Option-Definition.</span><span class="sxs-lookup"><span data-stu-id="ed83f-122">Keep all of the ScoredProperty instances, making sure that you preserve their location; they are an intrinsic part of the Option definition.</span></span>

5.  <span data-ttu-id="ed83f-123">Sie können eigenschafteninstanzen auch jeder ScoredProperty-Instanz hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-123">You may also add Property instances to any ScoredProperty instance.</span></span> <span data-ttu-id="ed83f-124">Eigenschafteninstanzen werden nur verwendet, wenn der PrintTicket-Anbieter ihre Verwendung explizit unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ed83f-124">Property instances are used only if the PrintTicket provider explicitly supports their use.</span></span> <span data-ttu-id="ed83f-125">Jeder Anbieter sollte den Zweck und die Verwendung aller unterstützten Eigenschafteninstanzen dokumentieren.</span><span class="sxs-lookup"><span data-stu-id="ed83f-125">Each provider should document the purpose and use of all supported Property instances.</span></span> <span data-ttu-id="ed83f-126">Beachten Sie, dass während der Überprüfung alle In einer Option-Instanz enthaltenen Eigenschafteninstanzen entfernt werden, es sei denn, der Namespace der Eigenschaft wird vom PrintCapabilities- oder PrintTicket-Zielanbieter erkannt, und im PrintCapabilities-Dokument befindet sich eine mögliche Option, deren ScoredProperty-Instanzen den in der Referenzoption definierten Instanzen perfekt entsprechen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-126">Note that during validation, any Property instances contained within an Option instance are stripped off, unless the namespace of the Property is recognized by the target PrintCapabilities or PrintTicket provider, and a candidate Option is found in the PrintCapabilities document whose ScoredProperty instances perfectly match those defined in the reference Option.</span></span>

6.  <span data-ttu-id="ed83f-127">Wenn die Schlüsselwörter des Druckschemas die SelectionType-Eigenschaft für ein bestimmtes Feature auf PickMany festlegen, können Sie mehrere Optionen für dieses Feature auswählen, vorausgesetzt, dass die als IdentityOption festgelegte Option nicht eine der ausgewählten Optionen ist.</span><span class="sxs-lookup"><span data-stu-id="ed83f-127">If the Print Schema Keywords set the SelectionType Property to PickMany for a particular Feature, you may select more than one Option for that Feature, provided that the Option designated as IdentityOption is not one of those selected.</span></span> <span data-ttu-id="ed83f-128">IdentityOption im Druckschema hat die gleiche Auswirkung wie die Option None in Postscript PPD-Dateien und Unidrv-GPD-Dateien. sie dient als No-Op.</span><span class="sxs-lookup"><span data-stu-id="ed83f-128">IdentityOption in the Print Schema has the same effect as the None option in Postscript PPD files and Unidrv GPD files; it serves as a no-op.</span></span>

7.  <span data-ttu-id="ed83f-129">Überprüfen Sie das PrintCapabilities-Dokument auf ParameterDef-Instanzen, die in Ihrem PrintTicket festgelegt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-129">Examine the PrintCapabilities document for ParameterDef instances that should be set in your PrintTicket.</span></span> <span data-ttu-id="ed83f-130">Wählen Sie für jede solche ParameterDef-Instanz einen Wert aus, der in der ParameterInit-Instanz im PrintTicket verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="ed83f-130">For each such ParameterDef instance, select a Value to be used in the ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="ed83f-131">Dieser Wert muss den richtigen Datentyp aufweisen und innerhalb des in der ParameterDef-Instanz definierten Bereichs liegen und alle anderen Anforderungen erfüllen, die in der ParameterDef-Instanz angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="ed83f-131">This Value must be of the correct data type and must fall within the range defined in the ParameterDef instance, and must meet all of the other requirements specified in the ParameterDef instance.</span></span> <span data-ttu-id="ed83f-132">Verwenden Sie eine ParameterInit-Instanz, um den Parameter mit dem ausgewählten Wert zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="ed83f-132">Use a ParameterInit instance to initialize the parameter to the Value you have selected.</span></span>

8.  <span data-ttu-id="ed83f-133">Überprüfen Sie den Inhalt jeder Option-Instanz, die im PrintTicket angezeigt wird, auf Vorkommen von ParameterRef-Instanzen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-133">Examine the contents of each Option instance that appears in the PrintTicket for occurrences of ParameterRef instances.</span></span> <span data-ttu-id="ed83f-134">Wenn eine entsprechende ParameterInit-Instanz nicht bereits im PrintTicket angezeigt wird, führen Sie den vorherigen Schritt aus, um eine ParameterInit-Instanz im PrintTicket zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-134">If a corresponding ParameterInit instance does not already appear in the PrintTicket, follow the previous step to create a ParameterInit instance in the PrintTicket.</span></span> <span data-ttu-id="ed83f-135">Der Zweck dieser ParameterInit-Instanz besteht darin, den Parameter zu initialisieren, auf den von der ParameterRef-Instanz verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="ed83f-135">The purpose of this ParameterInit instance is to initialize the parameter referenced by the ParameterRef instance.</span></span>

9.  <span data-ttu-id="ed83f-136">Beachten Sie, dass Einschränkungskonflikte das Gerät möglicherweise daran hindern, die konfiguration anzuwenden, die Sie im PrintTicket angegeben haben.</span><span class="sxs-lookup"><span data-stu-id="ed83f-136">Keep in mind that constraint conflicts might prevent the device from applying the configuration you have specified in the PrintTicket.</span></span> <span data-ttu-id="ed83f-137">Bei Bedarf ändert der Überprüfungsprozess die im PrintTicket definierte Konfiguration in eine Konfiguration, die keine Konflikte enthält.</span><span class="sxs-lookup"><span data-stu-id="ed83f-137">If necessary, the validation process modifies the configuration defined in the PrintTicket to one that is free of conflicts.</span></span>

10. <span data-ttu-id="ed83f-138">Untersuchen Sie die Druckschemaschlüsselwörter für Eigenschafteninstanzen, die in Ihrem PrintTicket vorhanden sein müssen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-138">Examine the Print Schema Keywords for Property instances that must be present in your PrintTicket.</span></span> <span data-ttu-id="ed83f-139">Fügen Sie ihrem PrintTicket für jede erforderliche Instanz eine Property-Instanz hinzu, und geben Sie mithilfe des Value-Elementtyps einen geeigneten Wert dafür an.</span><span class="sxs-lookup"><span data-stu-id="ed83f-139">Add a Property instance to your PrintTicket for each that is required, and provide a suitable value for it using the Value element type.</span></span> <span data-ttu-id="ed83f-140">Stellen Sie sicher, dass sich Eigenschafteninstanzen ordnungsgemäß im PrintTicket befinden.</span><span class="sxs-lookup"><span data-stu-id="ed83f-140">Make sure that Property instances are located properly within the PrintTicket.</span></span>

11. <span data-ttu-id="ed83f-141">Untersuchen Sie die optionalen Eigenschafteninstanzen im PrintTicket-Schema.</span><span class="sxs-lookup"><span data-stu-id="ed83f-141">Examine the optional Property instances in the PrintTicket Schema.</span></span> <span data-ttu-id="ed83f-142">Wenn solche Eigenschafteninstanzen in Ihrem PrintTicket vorhanden sein sollten, erstellen Sie sie in Ihrem PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="ed83f-142">If there are any such Property instances that should be in your PrintTicket, create them in your PrintTicket.</span></span>

12. <span data-ttu-id="ed83f-143">Sie können auch privat definierte Eigenschafteninstanzen auf Stammebene oder einer beliebigen Funktions-, Options- oder Eigenschafteninstanz hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ed83f-143">You may also add privately-defined Property instances at the root level, or to any Feature, Option, or Property instance.</span></span> <span data-ttu-id="ed83f-144">Beachten Sie jedoch, dass diese privat definierten Eigenschafteninstanzen während der Überprüfung entfernt werden, es sei denn, der Namespace, zu dem sie gehören, wird vom PrintCapabilities- oder PrintTicket-Zielanbieter erkannt.</span><span class="sxs-lookup"><span data-stu-id="ed83f-144">Note however, that these privately-defined Property instances are stripped off during validation, unless the namespace they belong to is recognized by the target PrintCapabilities or PrintTicket provider.</span></span> <span data-ttu-id="ed83f-145">Darüber hinaus werden Eigenschaftsinstanzen, die an einer beliebigen Stelle innerhalb einer Option-Instanz angezeigt werden, während der Überprüfung entfernt, es sei denn, das PrintCapabilities-Dokument enthält eine Option, die eine perfekte Übereinstimmung ist.</span><span class="sxs-lookup"><span data-stu-id="ed83f-145">In addition, Property instances that appear anywhere within an Option instance are stripped off during validation, unless the PrintCapabilities document contains an Option that is a perfect match.</span></span> <span data-ttu-id="ed83f-146">Zwei Optionsinstanzen sind eine perfekte Übereinstimmung, wenn jede ScoredProperty in einer Option-Instanz über eine entsprechende ScoredProperty in der anderen verfügt und die Werte der ScoredProperty-Instanzen identisch sind.</span><span class="sxs-lookup"><span data-stu-id="ed83f-146">Two Option instances are a perfect match if every ScoredProperty in one Option instance has a corresponding ScoredProperty in the other, and the Values of the ScoredProperty instances are the same.</span></span> <span data-ttu-id="ed83f-147">Eine Liste der erkannten privaten Eigenschafteninstanzen und deren Verwendung finden Sie im privaten Schema des PrintTicket-Anbieters.</span><span class="sxs-lookup"><span data-stu-id="ed83f-147">Consult the PrintTicket provider's Private Schema for a list of recognized private Property instances and their uses.</span></span>

13. <span data-ttu-id="ed83f-148">Untergeordnete Elemente desselben Elementtyps dürfen nicht in eine Tiefe von mehr als 10 Elementen geschachtelt werden.</span><span class="sxs-lookup"><span data-stu-id="ed83f-148">Children of the same element type may not nest to a depth of more than 10 elements.</span></span> <span data-ttu-id="ed83f-149">Diese Regel gilt unabhängig für jeden Elementtyp, der definiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ed83f-149">This rule applies independently to each type of element that can be defined.</span></span>

> [!Note]  
> <span data-ttu-id="ed83f-150">PrintTicket-XML-Inhalt MUSS entweder mit UTF-8 oder UTF-16 codiert werden.</span><span class="sxs-lookup"><span data-stu-id="ed83f-150">PrintTicket XML content MUST be encoded using either UTF-8 or UTF-16.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="ed83f-151">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ed83f-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ed83f-152">Spezifikation des Druckschemas</span><span class="sxs-lookup"><span data-stu-id="ed83f-152">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



