---
title: Filterung Filtern
description: Die Filter-Schiedsgerichtsbarkeit ist die in die Windows-Filter Plattform (WFP) integrierte Logik, mit der bestimmt wird, wie Filter miteinander interagieren, wenn Entscheidungen zum Filtern von Netzwerk Datenverkehr getroffen werden.
ms.assetid: d097f307-113e-4dc3-ad59-ddfb85061583
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9fd7df778d1c24b7480de3321e7a1ec126d8e642
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/19/2020
ms.locfileid: "103727008"
---
# <a name="filter-arbitration"></a><span data-ttu-id="9324a-103">Filterung Filtern</span><span class="sxs-lookup"><span data-stu-id="9324a-103">Filter Arbitration</span></span>

<span data-ttu-id="9324a-104">Die Filter-Schiedsgerichtsbarkeit ist die in die Windows-Filter Plattform (WFP) integrierte Logik, mit der bestimmt wird, wie Filter miteinander interagieren, wenn Entscheidungen zum Filtern von Netzwerk Datenverkehr getroffen werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-104">Filter arbitration is the logic built into the Windows Filtering Platform (WFP) that is used to determine how filters interact with each other when making network traffic filtering decisions.</span></span>

## <a name="filter-arbitration-behaviors"></a><span data-ttu-id="9324a-105">Filtern von Schiedsgerichts Verhalten</span><span class="sxs-lookup"><span data-stu-id="9324a-105">Filter Arbitration Behaviors</span></span>

<span data-ttu-id="9324a-106">Die folgenden Verhaltensweisen bezeichnen das Filter-schiedsrichtersystem:</span><span class="sxs-lookup"><span data-stu-id="9324a-106">The following behaviors characterize the filter arbitration system:</span></span>

-   <span data-ttu-id="9324a-107">Der gesamte Datenverkehr kann überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-107">All traffic can be inspected.</span></span> <span data-ttu-id="9324a-108">Der Datenverkehr kann Filter auf einer bestimmten Ebene nicht umgehen.</span><span class="sxs-lookup"><span data-stu-id="9324a-108">No traffic can bypass filters at a given layer.</span></span>
-   <span data-ttu-id="9324a-109">Der Datenverkehr kann durch einen Legenden Filter über ein **Veto** blockiert werden, auch wenn er von einem Filter mit höherer Priorität zugelassen wurde.</span><span class="sxs-lookup"><span data-stu-id="9324a-109">Traffic can be blocked by a callout filter via a **Veto** even if a higher priority filter has permitted it.</span></span>
-   <span data-ttu-id="9324a-110">Mehrere Anbieter können den Datenverkehr auf derselben Ebene überprüfen.</span><span class="sxs-lookup"><span data-stu-id="9324a-110">Multiple providers can inspect traffic at the same layer.</span></span> <span data-ttu-id="9324a-111">Beispielsweise kann der Datenverkehr auf derselben Ebene von der Firewall, gefolgt von den Filtern von Angriffs Erkennungssystemen (ID) oder IPSec gefolgt von Quality of Service (QoS), überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-111">For example, firewall followed by intrusion-detection system (IDS) filters, or IPsec followed by Quality of Service (QoS) filters may all examine the traffic at the same layer.</span></span>

## <a name="filtering-model"></a><span data-ttu-id="9324a-112">Filter Modell</span><span class="sxs-lookup"><span data-stu-id="9324a-112">Filtering Model</span></span>

<span data-ttu-id="9324a-113">Jede Filter Ebene ist in untergeordnete Ebenen unterteilt nach Priorität (auch als Gewichtung bezeichnet).</span><span class="sxs-lookup"><span data-stu-id="9324a-113">Each filter layer is divided into sub-layers ordered by priority (also called weight).</span></span> <span data-ttu-id="9324a-114">Der Netzwerk Datenverkehr durchläuft untergeordnete Schichten von der höchsten Priorität bis zur niedrigsten Priorität.</span><span class="sxs-lookup"><span data-stu-id="9324a-114">Network traffic traverses sub-layers from the highest priority to the lowest priority.</span></span> <span data-ttu-id="9324a-115">Untergeordnete Ebenen werden von Entwicklern erstellt und verwaltet, die die WFP-API verwenden.</span><span class="sxs-lookup"><span data-stu-id="9324a-115">Sub-layers are created and managed by the developers using the WFP API.</span></span>

<span data-ttu-id="9324a-116">In jeder Unterebene werden Filter nach Gewichtung geordnet.</span><span class="sxs-lookup"><span data-stu-id="9324a-116">Within each sub-layer, filters are ordered by weight.</span></span> <span data-ttu-id="9324a-117">Der Netzwerk Datenverkehr wird für den Abgleich von Filtern von der höchsten Gewichtung zum niedrigsten Gewicht angegeben.</span><span class="sxs-lookup"><span data-stu-id="9324a-117">Network traffic is indicated to matching filters from highest weight to lowest weight.</span></span>

<span data-ttu-id="9324a-118">Der Algorithmus für die Filter Schiedsgerichtsbarkeit wird auf alle Unterebenen innerhalb einer Ebene angewendet, und die endgültige Filter Entscheidung wird vorgenommen, nachdem alle Unterebenen ausgewertet wurden.</span><span class="sxs-lookup"><span data-stu-id="9324a-118">The filter arbitration algorithm is applied to all sub-layers within a layer and the final filtering decision is made after all sub-layers have been evaluated.</span></span> <span data-ttu-id="9324a-119">Dies bietet mehrere abgleichsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="9324a-119">This provides for multiple matching capability.</span></span>

<span data-ttu-id="9324a-120">In einer untergeordneten Ebene wird die Filterung von Filtern wie folgt durchgeführt:</span><span class="sxs-lookup"><span data-stu-id="9324a-120">Within a sub-layer, filter arbitration is performed as follows:</span></span>

-   <span data-ttu-id="9324a-121">Berechnen Sie die Liste der übereinstimmenden Filter nach Gewichtung von der höchsten zur niedrigsten.</span><span class="sxs-lookup"><span data-stu-id="9324a-121">Compute the list of matching filters ordered by weight from highest to lowest.</span></span>
-   <span data-ttu-id="9324a-122">Vergleichen Sie die übereinstimmenden Filter so lange, bis ein "zulassen" oder ein "Block" zurückgegeben wird (Filter können auch "Continue" zurückgeben) oder bis die Liste erschöpft ist.</span><span class="sxs-lookup"><span data-stu-id="9324a-122">Evaluate matching filters in order until a "Permit" or a "Block" is returned (filters can also return "Continue") or until the list is exhausted.</span></span>
-   <span data-ttu-id="9324a-123">Überspringen Sie die restlichen Filter, und geben Sie die Aktion vom zuletzt ausgewerteten Filter zurück.</span><span class="sxs-lookup"><span data-stu-id="9324a-123">Skip the remaining filters and return the action from the last evaluated filter.</span></span>

<span data-ttu-id="9324a-124">Innerhalb einer Ebene wird die Filterung von Filtern wie folgt durchgeführt:</span><span class="sxs-lookup"><span data-stu-id="9324a-124">Within a layer, filter arbitration is performed as follows:</span></span>

-   <span data-ttu-id="9324a-125">Führen Sie eine Filter-Schiedsgerichtsbarkeit auf jeder Unterebene aus, von der höchsten Priorität bis zur niedrigsten Priorität.</span><span class="sxs-lookup"><span data-stu-id="9324a-125">Perform filter arbitration at every sub-layer in order from highest priority to lowest priority.</span></span>
-   <span data-ttu-id="9324a-126">Wertet alle Unterebenen aus, auch wenn sich die Unterebene mit höherer Priorität für die Blockierung des Datenverkehrs entschieden hat.</span><span class="sxs-lookup"><span data-stu-id="9324a-126">Evaluate all sub-layers even if a higher priority sub-layer has decided to block the traffic.</span></span>
-   <span data-ttu-id="9324a-127">Gibt die resultierende Aktion auf der Grundlage der im folgenden Abschnitt beschriebenen Richtlinien Regeln zurück.</span><span class="sxs-lookup"><span data-stu-id="9324a-127">Return the resulting action based on the policy rules described in the following section.</span></span>

<span data-ttu-id="9324a-128">Das folgende Diagramm zeigt eine Beispielkonfiguration der untergeordneten Ebene.</span><span class="sxs-lookup"><span data-stu-id="9324a-128">The diagram below illustrates a sample sub-layer configuration.</span></span> <span data-ttu-id="9324a-129">Die äußeren Felder stellen Ebenen dar.</span><span class="sxs-lookup"><span data-stu-id="9324a-129">The outer boxes represent layers.</span></span> <span data-ttu-id="9324a-130">Die inneren Felder stellen Unterebenen dar, die Filter enthalten.</span><span class="sxs-lookup"><span data-stu-id="9324a-130">The inner boxes represent sub-layers that contain filters.</span></span> <span data-ttu-id="9324a-131">Der Platzhalter ( \* ) in einem Filter bedeutet, dass der gesamte Datenverkehr dem Filter entspricht.</span><span class="sxs-lookup"><span data-stu-id="9324a-131">The wildcard (\*) in a filter means all traffic matches the filter.</span></span>

![Beispielkonfiguration der untergeordneten Ebene](images/fwp-sub-config2.png)

<span data-ttu-id="9324a-133">Ein Filter kann nur umgangen werden, wenn ein Filter mit höherer Gewichtung den Datenverkehr innerhalb derselben Unterschicht zugelassen oder blockiert hat.</span><span class="sxs-lookup"><span data-stu-id="9324a-133">The only way for a filter to be bypassed is if a higher weight filter has permitted or blocked the traffic within the same sub-layer.</span></span> <span data-ttu-id="9324a-134">Eine Möglichkeit, um sicherzustellen, dass ein Filter immer den gesamten Datenverkehr innerhalb einer Ebene sieht, besteht darin, eine Unterebene hinzuzufügen, die einen einzelnen Filter enthält, der mit dem gesamten Datenverkehr übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="9324a-134">Conversely, one way of ensuring that a filter always sees all traffic within a layer is to add a sub-layer that contains a single filter that matches all traffic.</span></span>

## <a name="configurable-override-policy"></a><span data-ttu-id="9324a-135">Konfigurierbare Überschreibungs Richtlinie</span><span class="sxs-lookup"><span data-stu-id="9324a-135">Configurable Override Policy</span></span>

<span data-ttu-id="9324a-136">Die nachstehend beschriebenen Regeln steuern die Entscheidungen hinsichtlich der Schiedsgerichtsbarkeit innerhalb einer Ebene.</span><span class="sxs-lookup"><span data-stu-id="9324a-136">The rules described below govern the arbitration decisions within a layer.</span></span> <span data-ttu-id="9324a-137">Diese Regeln werden von der Filter-Engine verwendet, um zu entscheiden, welche der untergeordneten Ebenen Aktionen auf den Netzwerk Datenverkehr angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-137">These rules are used by the filter engine to decide which one of the sub-layer actions is applied to the network traffic.</span></span>

<span data-ttu-id="9324a-138">Die grundlegende Richtlinie lautet wie folgt.</span><span class="sxs-lookup"><span data-stu-id="9324a-138">The basic policy is as follows.</span></span>

-   <span data-ttu-id="9324a-139">Aktionen werden in der Prioritäts Reihenfolge der untergeordneten Ebenen ausgewertet, von der höchsten Priorität bis zur niedrigsten Priorität.</span><span class="sxs-lookup"><span data-stu-id="9324a-139">Actions are evaluated in priority order of sub-layers from highest priority to lowest priority.</span></span>
-   <span data-ttu-id="9324a-140">"Block" überschreibt "zulassen".</span><span class="sxs-lookup"><span data-stu-id="9324a-140">"Block" overrides "Permit".</span></span>
-   <span data-ttu-id="9324a-141">"Block" ist endgültig (kann nicht überschrieben werden) und beendet die Auswertung.</span><span class="sxs-lookup"><span data-stu-id="9324a-141">"Block" is final (cannot be overridden) and stops the evaluation.</span></span> <span data-ttu-id="9324a-142">Das Paket wird verworfen.</span><span class="sxs-lookup"><span data-stu-id="9324a-142">The packet is discarded.</span></span>

<span data-ttu-id="9324a-143">Die grundlegende Richtlinie unterstützt nicht das Szenario einer Ausnahme, die von einer Firewall nicht überschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="9324a-143">The basic policy does not support the scenario of an exception not overridden by a firewall.</span></span> <span data-ttu-id="9324a-144">Typische Beispiele für diese Art von Szenario:</span><span class="sxs-lookup"><span data-stu-id="9324a-144">Typical examples of this type of scenario are:</span></span>

-   <span data-ttu-id="9324a-145">Der Remote Verwaltungs Port muss geöffnet werden, auch wenn eine Drittanbieter Firewall vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="9324a-145">Remote administration port required to be opened even in the presence of a third-party firewall.</span></span>
-   <span data-ttu-id="9324a-146">Komponenten, für die das Öffnen von Ports erforderlich ist, um zu funktionieren (z. b. Universal Plug & Play UPnP).</span><span class="sxs-lookup"><span data-stu-id="9324a-146">Components that require ports to be opened in order to function (for example, Universal Plug and Play UPnP).</span></span> <span data-ttu-id="9324a-147">Wenn der Administrator die Komponente explizit aktiviert hat, sollte der Datenverkehr von der Firewall nicht automatisch blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-147">If the administrator has explicitly enabled the component, the firewall should not silently block the traffic.</span></span>

<span data-ttu-id="9324a-148">Um die obigen Szenarios zu unterstützen, muss eine Filter Entscheidung schwieriger zu überschreiben sein als eine andere Filter Entscheidung durch Verwalten der Aktion Überschreibungs Berechtigung.</span><span class="sxs-lookup"><span data-stu-id="9324a-148">In order to support the above scenarios, a filtering decision must be made more difficult to override than another filtering decision by managing the action override permission.</span></span> <span data-ttu-id="9324a-149">Diese Berechtigung wird als das Schreib Flag für die Rechte Berechtigung der **\_ \_ \_ vollschreibweise** implementiert und auf Filter Basis festgelegt.</span><span class="sxs-lookup"><span data-stu-id="9324a-149">This permission is implemented as the **FWPS\_RIGHT\_ACTION\_WRITE** flag and it is set on a per-filter basis.</span></span>

<span data-ttu-id="9324a-150">Der Auswertungs Algorithmus verwaltet die aktuelle Aktion ("zulassen" oder "blockieren") zusammen mit dem Schreib Flag für die **richtige f- \_ \_ Aktion \_** .</span><span class="sxs-lookup"><span data-stu-id="9324a-150">The evaluation algorithm maintains the current action ("Permit" or "Block") along with the **FWPS\_RIGHT\_ACTION\_WRITE** flag.</span></span> <span data-ttu-id="9324a-151">Das Flag steuert, ob eine untergeordnete Ebene mit niedrigerer Priorität die Aktion überschreiben darf.</span><span class="sxs-lookup"><span data-stu-id="9324a-151">The flag controls whether a lower priority sub-layer is allowed to override the action.</span></span> <span data-ttu-id="9324a-152">Durch Festlegen oder Zurücksetzen des Schreib Flags für die **\_ Rechte \_ Aktion \_ "f** " in der OUT0-Struktur von " [ \_ \_](/windows/win32/api/fwpstypes/ns-fwpstypes-fwps_classify_out0) " wird von einem Anbieter bestimmt, wie Aktionen überschrieben werden können.</span><span class="sxs-lookup"><span data-stu-id="9324a-152">By setting or resetting the **FWPS\_RIGHT\_ACTION\_WRITE** flag in the [FWPS\_CLASSIFY\_OUT0](/windows/win32/api/fwpstypes/ns-fwpstypes-fwps_classify_out0) structure, a provider governs how actions can or cannot be overridden.</span></span> <span data-ttu-id="9324a-153">Wenn das-Flag festgelegt ist, gibt es an, dass die Aktion überschrieben werden kann.</span><span class="sxs-lookup"><span data-stu-id="9324a-153">If the flag is set, it indicates that the action can be overridden.</span></span> <span data-ttu-id="9324a-154">Wenn das-Flag nicht vorhanden ist, kann die Aktion nicht überschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-154">If the flag is absent, the action cannot be overridden.</span></span>



| <span data-ttu-id="9324a-155">Aktion</span><span class="sxs-lookup"><span data-stu-id="9324a-155">Action</span></span> | <span data-ttu-id="9324a-156">Außer Kraft Setzung zulassen ( \_ richtig geschriebene f- \_ Aktion \_ Schreiben)</span><span class="sxs-lookup"><span data-stu-id="9324a-156">Allow override (FWPS\_RIGHT\_ACTION\_WRITE is set)</span></span> | <span data-ttu-id="9324a-157">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="9324a-157">Description</span></span>                                                                                                          |
|--------|----------------------------------------------------|----------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9324a-158">Zulassen</span><span class="sxs-lookup"><span data-stu-id="9324a-158">Permit</span></span> | <span data-ttu-id="9324a-159">Ja</span><span class="sxs-lookup"><span data-stu-id="9324a-159">Yes</span></span>                                                | <span data-ttu-id="9324a-160">Der Datenverkehr kann in einer anderen Unterschicht blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-160">The traffic can be blocked at another sub-layer.</span></span> <span data-ttu-id="9324a-161">Dies wird als weiche Zulassung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9324a-161">This is called a soft permit.</span></span><br/>                            |
| <span data-ttu-id="9324a-162">Zulassen</span><span class="sxs-lookup"><span data-stu-id="9324a-162">Permit</span></span> | <span data-ttu-id="9324a-163">Nein</span><span class="sxs-lookup"><span data-stu-id="9324a-163">No</span></span>                                                 | <span data-ttu-id="9324a-164">Der Datenverkehr kann in einer anderen Unterschicht nur durch ein Legenden **Veto** blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-164">The traffic can be blocked at another sub-layer only by a callout **Veto**.</span></span> <span data-ttu-id="9324a-165">Dies wird als harte Zulassung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9324a-165">This is called a hard permit.</span></span><br/> |
| <span data-ttu-id="9324a-166">Blockieren</span><span class="sxs-lookup"><span data-stu-id="9324a-166">Block</span></span>  | <span data-ttu-id="9324a-167">Ja</span><span class="sxs-lookup"><span data-stu-id="9324a-167">Yes</span></span>                                                | <span data-ttu-id="9324a-168">Der Datenverkehr kann in einer anderen Unterebene zugelassen werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-168">The traffic can be permitted at another sub-layer.</span></span> <span data-ttu-id="9324a-169">Dies wird als weicher Block bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9324a-169">This is called a soft block.</span></span><br/>                           |
| <span data-ttu-id="9324a-170">Blockieren</span><span class="sxs-lookup"><span data-stu-id="9324a-170">Block</span></span>  | <span data-ttu-id="9324a-171">Nein</span><span class="sxs-lookup"><span data-stu-id="9324a-171">No</span></span>                                                 | <span data-ttu-id="9324a-172">Der Datenverkehr kann in einer anderen Unterschicht nicht zugelassen werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-172">The traffic cannot be permitted at another sub-layer.</span></span> <span data-ttu-id="9324a-173">Dies wird als hardblock bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9324a-173">This is called a hard block.</span></span><br/>                        |



 

<span data-ttu-id="9324a-174">Die Filter Aktion kann festgelegt werden, indem der **Typmember** in der Struktur [**fwpm \_ ACTION0**](/windows/desktop/api/Fwpmtypes/ns-fwpmtypes-fwpm_action0) auf den **FWP- \_ Aktions \_ Block** oder die **FWP- \_ Aktion \_ zulassen** festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="9324a-174">The filter action can be set by setting the **type** member in the structure [**FWPM\_ACTION0**](/windows/desktop/api/Fwpmtypes/ns-fwpmtypes-fwpm_action0) to either **FWP\_ACTION\_BLOCK** or **FWP\_ACTION\_PERMIT**.</span></span> <span data-ttu-id="9324a-175">Zusammen mit dem Aktionstyp macht ein Filter auch das Flag Flag zum **Löschen von \_ rechten \_ nach \_ \_ \_ Rechts**.</span><span class="sxs-lookup"><span data-stu-id="9324a-175">Along with the action type, a filter also exposes the flag **FWPM\_FILTER\_FLAG\_CLEAR\_ACTION\_RIGHT**.</span></span> <span data-ttu-id="9324a-176">Wenn dieses Flag deaktiviert ist, ist der Aktionstyp schwierig und kann außer Kraft gesetzt werden, es sei denn, eine harte Zulassungs Maßnahme wird von einem **Veto** überschrieben, wie weiter unten erläutert wird. andernfalls ist es weich und kann durch eine Aktion mit hoher Priorität überschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-176">If this flag is cleared, then the action type is hard and cannot be overridden except when a hard permit is overridden by a **Veto** as explained later on, else it is soft which can be overridden by high priority action.</span></span>

<span data-ttu-id="9324a-177">In der folgenden Tabelle wird das Standardverhalten für Filter-und Legenden Aktionen aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="9324a-177">The following table lists the default behavior for filter and callout actions.</span></span>

| <span data-ttu-id="9324a-178">Aktion</span><span class="sxs-lookup"><span data-stu-id="9324a-178">Action</span></span>         | <span data-ttu-id="9324a-179">Standardverhalten</span><span class="sxs-lookup"><span data-stu-id="9324a-179">Default Behavior</span></span> |
|----------------|------------------|
| <span data-ttu-id="9324a-180">Filter Zulassungsberechtigung</span><span class="sxs-lookup"><span data-stu-id="9324a-180">Filter permit</span></span>  | <span data-ttu-id="9324a-181">Weiche Zulassung</span><span class="sxs-lookup"><span data-stu-id="9324a-181">Soft permit</span></span>      |
| <span data-ttu-id="9324a-182">Callout zulassen</span><span class="sxs-lookup"><span data-stu-id="9324a-182">Callout permit</span></span> | <span data-ttu-id="9324a-183">Weiche Zulassung</span><span class="sxs-lookup"><span data-stu-id="9324a-183">Soft permit</span></span>      |
| <span data-ttu-id="9324a-184">Filter Block</span><span class="sxs-lookup"><span data-stu-id="9324a-184">Filter block</span></span>   | <span data-ttu-id="9324a-185">Hardblock</span><span class="sxs-lookup"><span data-stu-id="9324a-185">Hard block</span></span>       |
| <span data-ttu-id="9324a-186">Legenden Block</span><span class="sxs-lookup"><span data-stu-id="9324a-186">Callout block</span></span>  | <span data-ttu-id="9324a-187">Weicher Block</span><span class="sxs-lookup"><span data-stu-id="9324a-187">Soft block</span></span>       |



 

<span data-ttu-id="9324a-188">Ein **Veto** ist eine "Block"-Aktion, die vom Filter zurückgegeben wird, wenn das Schreib Flag für die **fwps- \_ Rechte \_ Aktion \_** vor dem Aufrufen des Filters zurückgesetzt wurde.</span><span class="sxs-lookup"><span data-stu-id="9324a-188">A **Veto** is a "Block" action returned by the filter when the **FWPS\_RIGHT\_ACTION\_WRITE** flag was reset prior to calling the filter.</span></span> <span data-ttu-id="9324a-189">Ein **Veto** blockiert den Datenverkehr, der mit einer fest Zulassungsberechtigung zugelassen wurde.</span><span class="sxs-lookup"><span data-stu-id="9324a-189">A **Veto** will block traffic that was permitted with a hard permit.</span></span>

<span data-ttu-id="9324a-190">Wenn ein **Veto** ausgegeben wird, ist dies ein Hinweis auf einen Konflikt in der Konfiguration.</span><span class="sxs-lookup"><span data-stu-id="9324a-190">When a **Veto** is issued, it is an indication of conflict in the configuration.</span></span> <span data-ttu-id="9324a-191">Die folgenden Aktionen werden durchgeführt, um den Konflikt zu verringern.</span><span class="sxs-lookup"><span data-stu-id="9324a-191">The following actions are taken to mitigate the conflict.</span></span>

-   <span data-ttu-id="9324a-192">Der Datenverkehr wird blockiert.</span><span class="sxs-lookup"><span data-stu-id="9324a-192">The traffic is blocked.</span></span>
-   <span data-ttu-id="9324a-193">Ein Audit-Ereignis wird generiert.</span><span class="sxs-lookup"><span data-stu-id="9324a-193">An audit event is generated.</span></span>
-   <span data-ttu-id="9324a-194">Eine Benachrichtigung wird generiert.</span><span class="sxs-lookup"><span data-stu-id="9324a-194">A notification is generated.</span></span>
    > [!Note]  
    > <span data-ttu-id="9324a-195">Die Benachrichtigung wird von allen Entitäten empfangen, die Sie abonniert haben.</span><span class="sxs-lookup"><span data-stu-id="9324a-195">The notification is received by all entities that have subscribed to it.</span></span> <span data-ttu-id="9324a-196">Dies umfasst in der Regel die Firewall (zum Erkennen von Fehlkonfigurationen) oder Anwendungen (um zu ermitteln, ob der jeweilige Filter überschrieben wird).</span><span class="sxs-lookup"><span data-stu-id="9324a-196">This will typically include the firewall (in order to detect mis-configurations), or applications (in order to detect if their particular filter is overridden).</span></span>

     

    > [!Note]  
    > <span data-ttu-id="9324a-197">Es wird keine erforderliche Benutzeroberfläche (User Interface, UI) instanziiert, wenn der Filter "Hard Zulassungs" überschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="9324a-197">There is no mandatory user interface (UI) instantiated when a "Hard Permit" filter is overridden.</span></span> <span data-ttu-id="9324a-198">Die Benachrichtigungen der außer Kraft Setzung werden an jeden Anbieter gesendet, der für den Empfang registriert ist, sodass Firewalls oder die Anwendungen, die die Zulassungs Filter erstellt haben, die Benutzeroberfläche anzeigen können, die Benutzeraktionen anfordert.</span><span class="sxs-lookup"><span data-stu-id="9324a-198">The notifications of the override are sent to any provider that registered to receive them, which allows firewalls, or the applications that created the "Permit" filters, to show UI asking for user action.</span></span> <span data-ttu-id="9324a-199">Es gibt keinen Wert, wenn eine Plattformbenutzer Oberfläche für diese Überschreibungs Ereignisse vorhanden ist, da firewallisvs, die nicht im Hintergrund blockieren möchten, dies tun können, indem Sie sich an einer anderen Stelle in WFP registrieren oder (weniger bevorzugt) Ihre gesamte Logik in einem aufrufenden Treiber verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="9324a-199">There is no value in having a platform UI notification for these override events since firewall ISVs that do not want to silently block can do so by registering at a different place in WFP, or (less preferred) handle all their logic in a call-out driver.</span></span> <span data-ttu-id="9324a-200">ISVs, die Benutzer zur Eingabe auffordern, sind eine gute Idee, die Benutzeroberfläche zu erstellen und ihre eigene Benutzeroberfläche zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="9324a-200">ISVs that do think prompting users is a good idea will want to own the user experience and create their own UI.</span></span>

     

<span data-ttu-id="9324a-201">Das oben beschriebene Entschärfungs Verhalten stellt sicher, dass ein "Hard-Allowed"-Filter nicht automatisch durch einen "Block"-Filter überschrieben wird, und behandelt das Szenario, in dem ein Remote Verwaltungs Port nicht durch die Firewall blockiert werden darf.</span><span class="sxs-lookup"><span data-stu-id="9324a-201">The mitigation behavior described above ensures that a "Hard Permit" filter is not silently overridden by a "Block" filter, and covers the scenario where a remote administration port is not allowed to be blocked by the firewall.</span></span> <span data-ttu-id="9324a-202">Um die "Hard-Zulassungs"-Filter automatisch zu überschreiben, muss eine Firewall ihre Filter in einer Unterebene mit höherer Priorität hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="9324a-202">In order to silently override "Hard Permit" filters a firewall has to add its filters within a higher priority sub-layer.</span></span>

> [!Note]  
> <span data-ttu-id="9324a-203">Da es keine Schicht übergreifende Schiedsgerichtsbarkeit gibt, kann der mit "Hard Zulassungs" zulässige Datenverkehr auf einer anderen Ebene blockiert werden.</span><span class="sxs-lookup"><span data-stu-id="9324a-203">Since there is no cross-layer arbitration, traffic permitted with "Hard Permit" may still be blocked at another layer.</span></span> <span data-ttu-id="9324a-204">Der Richtlinien Autor muss sicherstellen, dass der Datenverkehr bei Bedarf auf jeder Ebene zulässig ist.</span><span class="sxs-lookup"><span data-stu-id="9324a-204">It is the responsibility of the policy author to ensure that traffic is permitted at each layer if necessary.</span></span>

 

<span data-ttu-id="9324a-205">Benutzer Anwendungen, die zu öffnende Ports anfordern, fügen über schreibbare Filter zu einer Unterebene mit niedriger Priorität hinzu.</span><span class="sxs-lookup"><span data-stu-id="9324a-205">User applications requesting ports to be opened add overridable filters to a low priority sub-layer.</span></span> <span data-ttu-id="9324a-206">Die Firewall kann den Filter zum Hinzufügen von Benachrichtigungs Ereignissen abonnieren und nach der Benutzer Validierung (oder Richtlinie) einen übereinstimmenden Filter hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="9324a-206">The firewall can subscribe to the filter add notification events and add a matching filter after user (or policy) validation.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9324a-207">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="9324a-207">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9324a-208">Filtergewichtungszuweisung</span><span class="sxs-lookup"><span data-stu-id="9324a-208">Filter Weight Assignment</span></span>](filter-weight-assignment.md)
</dt> </dl>

 

