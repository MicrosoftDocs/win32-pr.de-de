---
description: In der folgenden Tabelle werden die Unterschiede zwischen dem Herunterfahren unter Windows Vista und Windows XP zusammengefasst.
ms.assetid: da7985d2-85c8-47e1-a172-c9e92f450e24
title: Änderungen am Herunterfahren für Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6e04bb20099349ce378384cf01c39e53ca03a896
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104042313"
---
# <a name="shutdown-changes-for-windows-vista"></a><span data-ttu-id="0c83c-103">Änderungen am Herunterfahren für Windows Vista</span><span class="sxs-lookup"><span data-stu-id="0c83c-103">Shutdown Changes for Windows Vista</span></span>

<span data-ttu-id="0c83c-104">In der folgenden Tabelle werden die Unterschiede zwischen dem Herunterfahren unter Windows Vista und Windows XP zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="0c83c-104">The following table summarizes the differences between shutdown on Windows Vista and Windows XP.</span></span>



| <span data-ttu-id="0c83c-105">Funktion</span><span class="sxs-lookup"><span data-stu-id="0c83c-105">Feature</span></span>                 | <span data-ttu-id="0c83c-106">Windows XP</span><span class="sxs-lookup"><span data-stu-id="0c83c-106">Windows XP</span></span>                                                                                                                                                                                                                                                                                                                                                                                | <span data-ttu-id="0c83c-107">Windows Vista</span><span class="sxs-lookup"><span data-stu-id="0c83c-107">Windows Vista</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|-------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0c83c-108">Blockieren des herunter Fahrens</span><span class="sxs-lookup"><span data-stu-id="0c83c-108">Blocking shutdown</span></span>       | <span data-ttu-id="0c83c-109">Anwendungen können für 5 Sekunden auf [**WM \_ queryendsession**](wm-queryendsession.md) reagieren, und das System ermöglicht dem Benutzer das Beenden der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="0c83c-109">Applications can delay responding to [**WM\_QUERYENDSESSION**](wm-queryendsession.md) for 5 seconds, then the system allows the user to terminate the application.</span></span> <span data-ttu-id="0c83c-110">Anwendungen, die als Reaktion auf **WM \_ queryendsession** den Wert **true** zurückgeben, können auf die [**WM- \_ Endsitzung**](wm-endsession.md) für 5 Sekunden verzögern. das System ermöglicht dem Benutzer dann das Beenden der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="0c83c-110">Applications that return **TRUE** in response to **WM\_QUERYENDSESSION** can delay responding to [**WM\_ENDSESSION**](wm-endsession.md) for 5 seconds, then the system allows the user to terminate the application.</span></span> | <span data-ttu-id="0c83c-111">Anwendungen können auf die [**WM- \_ queryendsession**](wm-queryendsession.md) für 5 Sekunden reagieren. das System ermöglicht dem Benutzer das fortfahren oder das Abbrechen des herunter Fahrens.</span><span class="sxs-lookup"><span data-stu-id="0c83c-111">Applications can delay responding to [**WM\_QUERYENDSESSION**](wm-queryendsession.md) for 5 seconds, then the system allows the user to continue or cancel shutdown.</span></span> <span data-ttu-id="0c83c-112">Anwendungen, die als Reaktion auf **WM \_ queryendsession** den Wert **true** zurückgeben, können auf die [**WM- \_ Endsitzung**](wm-endsession.md) für 5 Sekunden verzögern. anschließend ermöglicht das System dem Benutzer das fortfahren oder das Abbrechen des herunter Fahrens.</span><span class="sxs-lookup"><span data-stu-id="0c83c-112">Applications that return **TRUE** in response to **WM\_QUERYENDSESSION** can delay responding to [**WM\_ENDSESSION**](wm-endsession.md) for 5 seconds, then the system allows the user to continue or cancel shutdown.</span></span>                                                                                                      |
| <span data-ttu-id="0c83c-113">Abbrechen wird abgebrochen</span><span class="sxs-lookup"><span data-stu-id="0c83c-113">Canceling shutdown</span></span>      | <span data-ttu-id="0c83c-114">Wenn eine Anwendung als Antwort auf [**WM \_ queryendsession**](wm-queryendsession.md) **false** zurückgibt, wird das Herunterfahren in den meisten Fällen abgebrochen.</span><span class="sxs-lookup"><span data-stu-id="0c83c-114">If an application returns **FALSE** in response to [**WM\_QUERYENDSESSION**](wm-queryendsession.md), shutdown is canceled in most cases.</span></span> <span data-ttu-id="0c83c-115">Es wird jedoch keine Benutzeroberfläche angezeigt, sodass der Benutzer möglicherweise nicht weiß, dass das Herunterfahren abgebrochen wurde.</span><span class="sxs-lookup"><span data-stu-id="0c83c-115">However, no UI is displayed, so the user may not be aware that shutdown has been canceled.</span></span>                                                                                                                                                      | <span data-ttu-id="0c83c-116">Wenn eine Anwendung als Antwort auf [**WM \_ queryendsession**](wm-queryendsession.md) **false** zurückgibt, wird Sie weiterhin in der Benutzeroberfläche für das Herunterfahren angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0c83c-116">If an application returns **FALSE** in response to [**WM\_QUERYENDSESSION**](wm-queryendsession.md), it still appears in the shutdown UI.</span></span> <span data-ttu-id="0c83c-117">Beachten Sie, dass das System keine Konsolen Anwendungen oder-Anwendungen ohne sichtbare Fenster zulässt, um das Herunterfahren abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="0c83c-117">Note that the system does not allow console applications or applications without a visible window to cancel shutdown.</span></span> <span data-ttu-id="0c83c-118">Diese Anwendungen werden automatisch beendet, wenn Sie nicht innerhalb von 5 Sekunden auf **WM \_ queryendsession** oder [**WM \_ EndSession**](wm-endsession.md) reagieren, oder wenn Sie als Antwort auf **WM \_ queryendsession** **false** zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="0c83c-118">These applications are automatically terminated if they do not respond to **WM\_QUERYENDSESSION** or [**WM\_ENDSESSION**](wm-endsession.md) within 5 seconds or if they return **FALSE** in response to **WM\_QUERYENDSESSION**.</span></span> |
| <span data-ttu-id="0c83c-119">Benutzeroberfläche Herunterfahren</span><span class="sxs-lookup"><span data-stu-id="0c83c-119">Shutdown user interface</span></span> | <span data-ttu-id="0c83c-120">Das System zeigt ein Dialogfeld für jede Anwendung an, die das Herunterfahren blockiert.</span><span class="sxs-lookup"><span data-stu-id="0c83c-120">The system displays a dialog box for each application blocking shutdown.</span></span> <span data-ttu-id="0c83c-121">Wenn der Benutzer auf die Schaltfläche " **jetzt beenden** " klickt, wird die Anwendung beendet.</span><span class="sxs-lookup"><span data-stu-id="0c83c-121">If the user click the **End Now** button, the application is terminated.</span></span> <span data-ttu-id="0c83c-122">Wenn der Benutzer auf die Schaltfläche **Abbrechen** klickt, wird Shutdown abgebrochen, und die Anwendung wird weiterhin ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0c83c-122">If the user clicks the **Cancel** button, shutdown is canceled and the application continues to run.</span></span>                                                                                                                                    | <span data-ttu-id="0c83c-123">Das System zeigt eine voll Bild Benutzeroberfläche an, die alle Anwendungen, die das Herunterfahren blockieren, sowie deren Gründe identifiziert (wenn Sie einen Grund mit [**shutdownblockreasoncreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate)registriert haben).</span><span class="sxs-lookup"><span data-stu-id="0c83c-123">The system displays a full-screen UI that identifies all applications blocking shutdown and their reasons for doing so (if they have registered a reason using [**ShutdownBlockReasonCreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate)).</span></span>                                                                                                                                                                                                                                                                    |



 

## <a name="best-practices"></a><span data-ttu-id="0c83c-124">Bewährte Methoden</span><span class="sxs-lookup"><span data-stu-id="0c83c-124">Best Practices</span></span>

-   <span data-ttu-id="0c83c-125">Anwendungen sollten das Herunterfahren nicht blockieren.</span><span class="sxs-lookup"><span data-stu-id="0c83c-125">Applications should not block shutdown.</span></span> <span data-ttu-id="0c83c-126">Antworten Sie so schnell wie möglich auf [**WM \_ queryendsession**](wm-queryendsession.md) , und verschieben Sie Bereinigungs Aktivitäten, bis die [**WM- \_ endsitzungs**](wm-endsession.md) Nachricht verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="0c83c-126">Respond to [**WM\_QUERYENDSESSION**](wm-queryendsession.md) as quickly as possible and postpone cleanup activities until processing the [**WM\_ENDSESSION**](wm-endsession.md) message.</span></span>
-   <span data-ttu-id="0c83c-127">Anwendungen, die das Herunterfahren blockieren müssen, sollten die neue Funktion [**shutdownblockreasoncreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate) verwenden, um eine Zeichenfolge zu registrieren, die den Grund für den Benutzer erläutert.</span><span class="sxs-lookup"><span data-stu-id="0c83c-127">Applications that must block shutdown should use the new [**ShutdownBlockReasonCreate**](/windows/desktop/api/Winuser/nf-winuser-shutdownblockreasoncreate) function to register a string that explains the reason to the user.</span></span> <span data-ttu-id="0c83c-128">Der Benutzer kann entscheiden, ob er fortfahren oder das Herunterfahren abbrechen soll.</span><span class="sxs-lookup"><span data-stu-id="0c83c-128">The user can decide whether to continue or cancel shutdown.</span></span>
-   <span data-ttu-id="0c83c-129">Anwendungen können das Herunterfahren nicht blockieren.</span><span class="sxs-lookup"><span data-stu-id="0c83c-129">Applications cannot rely on being able to block shutdown.</span></span>

 

 



