---
title: Benutzerdefinierte Schriftartenkombinationen
description: In diesem Thema werden verschiedene Möglichkeiten beschrieben, wie Sie benutzerdefinierte Schriftarten in Ihrer APP verwenden können.
ms.assetid: 50842838-d150-df9a-f1b7-67ce5ea2bc80
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a79f1ccfcb1dadd355c5f582417aacb5041ecf8b
ms.sourcegitcommit: 89f99926f946dc6c5ea600fb7c41f6b19ceac516
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/21/2020
ms.locfileid: "104391204"
---
# <a name="custom-font-sets"></a><span data-ttu-id="5567f-103">Benutzerdefinierte Schriftartenkombinationen</span><span class="sxs-lookup"><span data-stu-id="5567f-103">Custom Font Sets</span></span>

<span data-ttu-id="5567f-104">In diesem Thema werden verschiedene Möglichkeiten beschrieben, wie Sie benutzerdefinierte Schriftarten in Ihrer APP verwenden können.</span><span class="sxs-lookup"><span data-stu-id="5567f-104">This topic describes various ways in which you can use custom fonts in your app.</span></span>

-   [<span data-ttu-id="5567f-105">Einführung </span><span class="sxs-lookup"><span data-stu-id="5567f-105">Introduction </span></span>](#introduction)
-   [<span data-ttu-id="5567f-106">Übersicht über die APIs</span><span class="sxs-lookup"><span data-stu-id="5567f-106">Summary of APIs</span></span>](#summary-of-apis)
-   [<span data-ttu-id="5567f-107">Wichtige Begriffe</span><span class="sxs-lookup"><span data-stu-id="5567f-107">Key concepts</span></span>](#key-concepts)
-   [<span data-ttu-id="5567f-108">Schriftarten und Schriftarten Dateiformate</span><span class="sxs-lookup"><span data-stu-id="5567f-108">Fonts and font file formats</span></span>](#fonts-and-font-file-formats)
-   [<span data-ttu-id="5567f-109">Schriftart Sätze und Schriftart Sammlungen</span><span class="sxs-lookup"><span data-stu-id="5567f-109">Font sets and font collections</span></span>](#font-sets-and-font-collections)
-   [<span data-ttu-id="5567f-110">Gängige Szenarios</span><span class="sxs-lookup"><span data-stu-id="5567f-110">Common scenarios</span></span>](#common-scenarios)
    -   [<span data-ttu-id="5567f-111">Erstellen eines Schriftart Satzes mit beliebigen Schriftarten im lokalen Dateisystem</span><span class="sxs-lookup"><span data-stu-id="5567f-111">Creating a font set using arbitrary fonts in the local file system</span></span>](#creating-a-font-set-using-arbitrary-fonts-in-the-local-file-system)
    -   [<span data-ttu-id="5567f-112">Erstellen eines Schriftart Satzes mit bekannten Schriftarten im lokalen Dateisystem</span><span class="sxs-lookup"><span data-stu-id="5567f-112">Creating a font set using known fonts in the local file system</span></span>](#creating-a-font-set-using-known-fonts-in-the-local-file-system)
    -   [<span data-ttu-id="5567f-113">Erstellen eines benutzerdefinierten Schriftart Satzes mit bekannten Remote Schriftarten im Web</span><span class="sxs-lookup"><span data-stu-id="5567f-113">Creating a custom font set using known, remote fonts on the Web</span></span>](#creating-a-custom-font-set-using-known-remote-fonts-on-the-web)
    -   [<span data-ttu-id="5567f-114">Erstellen eines benutzerdefinierten Schrift Satzes mit in den Arbeitsspeicher geladenen Schriftart Daten</span><span class="sxs-lookup"><span data-stu-id="5567f-114">Creating a custom font set using font data loaded into memory</span></span>](#creating-a-custom-font-set-using-font-data-loaded-into-memory)
-   [<span data-ttu-id="5567f-115">Erweiterte Szenarios</span><span class="sxs-lookup"><span data-stu-id="5567f-115">Advanced scenarios</span></span>](#advanced-scenarios)
    -   [<span data-ttu-id="5567f-116">Kombinieren von Schriftart Sätzen</span><span class="sxs-lookup"><span data-stu-id="5567f-116">Combining font sets</span></span>](#combining-font-sets)
    -   [<span data-ttu-id="5567f-117">Verwenden von lokalen WOFF-oder WOFF2-Schriftart Daten </span><span class="sxs-lookup"><span data-stu-id="5567f-117">Using local WOFF or WOFF2 font data </span></span>](#using-local-woff-or-woff2-font-data)
    -   [<span data-ttu-id="5567f-118">Verwenden von DirectWrite-Remote Schriftart Mechanismen mit benutzerdefinierter Netzwerk Implementierung auf niedriger Ebene </span><span class="sxs-lookup"><span data-stu-id="5567f-118">Using DirectWrite remote font mechanisms with custom low-level network implementation </span></span>](#using-directwrite-remote-font-mechanisms-with-custom-low-level-network-implementation)
    -   [<span data-ttu-id="5567f-119">Unterstützende Szenarien in früheren Windows-Versionen </span><span class="sxs-lookup"><span data-stu-id="5567f-119">Supporting scenarios on earlier Windows versions </span></span>](#supporting-scenarios-on-earlier-windows-versions)

## <a name="introduction"></a><span data-ttu-id="5567f-120">Einführung</span><span class="sxs-lookup"><span data-stu-id="5567f-120">Introduction</span></span>

<span data-ttu-id="5567f-121">In den meisten Fällen verwenden Apps die Schriftarten, die lokal auf dem System installiert sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-121">Most of the time, apps use the fonts that are installed locally on the system.</span></span> <span data-ttu-id="5567f-122">DirectWrite ermöglicht den Zugriff auf diese Schriftarten mithilfe der Methoden [**IDWriteFactory3:: getsystemfontset**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontset) oder [**idschreitefactory:: getsystemfontcollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection) .</span><span class="sxs-lookup"><span data-stu-id="5567f-122">DirectWrite provides access to these fonts using the [**IDWriteFactory3::GetSystemFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontset) or [**IDWriteFactory::GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection) methods.</span></span> <span data-ttu-id="5567f-123">In einigen Fällen möchten Apps möglicherweise auch Schriftarten verwenden, die als Teil von Windows 10 enthalten, aber zurzeit nicht auf dem aktuellen System installiert sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-123">In some cases, apps may also want to use fonts that are included as part of Windows 10 but that are not currently installed on the current system.</span></span> <span data-ttu-id="5567f-124">Auf solche Schriftarten kann vom Windows-Schriftart Dienst mithilfe der **getsystemfontset** -Methode zugegriffen werden, oder durch Aufrufen von [**IDWriteFactory3:: getsystemfontcollection**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontcollection) , wobei includedownloadablefonts auf true festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="5567f-124">Such fonts can be accessed from the Windows font service by using the **GetSystemFontSet** method, or by calling [**IDWriteFactory3::GetSystemFontCollection**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontcollection) with includeDownloadableFonts set to TRUE.</span></span> 

<span data-ttu-id="5567f-125">In manchen Anwendungsszenarien müssen apps jedoch Schriftarten verwenden, die nicht im System installiert sind und nicht vom Windows-Schriftart Dienst bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-125">In some application scenarios, however, apps need to use fonts that are not installed in the system and are not provided by the Windows Font Service.</span></span> <span data-ttu-id="5567f-126">Im folgenden finden Sie Beispiele für derartige Szenarien:</span><span class="sxs-lookup"><span data-stu-id="5567f-126">The following are examples of such scenarios:</span></span>

-   <span data-ttu-id="5567f-127">Schriftarten werden als Ressourcen innerhalb einer APP-Binärdatei eingebettet.</span><span class="sxs-lookup"><span data-stu-id="5567f-127">Fonts are embedded as resources within an app binary.</span></span>
-   <span data-ttu-id="5567f-128">Schriftart Dateien werden innerhalb eines App-Pakets gebündelt und auf dem Datenträger im Installationsordner der APP gespeichert.</span><span class="sxs-lookup"><span data-stu-id="5567f-128">Font files are bundled within an app package and stored on disk under the app’s installation folder.</span></span>
-   <span data-ttu-id="5567f-129">Bei der App handelt es sich um ein Tool zur Schriftart Entwicklung, das benutzerdefinierte Schriftart Dateien laden muss.</span><span class="sxs-lookup"><span data-stu-id="5567f-129">The app is a font-development tool that needs to load user-specified font files.</span></span> 
-   <span data-ttu-id="5567f-130">Schriftarten werden in Dokument Dateien eingebettet, die in der App angezeigt oder bearbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="5567f-130">Fonts are embedded in document files that can be viewed or edited in the app.</span></span> 
-   <span data-ttu-id="5567f-131">Die APP verwendet Schriftarten, die von einem öffentlichen Webschriftart Dienst abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-131">The app uses fonts obtained from a public Web font service.</span></span> 
-   <span data-ttu-id="5567f-132">Die APP verwendet Schriftart Daten, die über ein privates Netzwerkprotokoll gestreamt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-132">The app uses font data streamed via a private network protocol.</span></span> 

<span data-ttu-id="5567f-133">DirectWrite stellt APIs zum Arbeiten mit benutzerdefinierten Schriftarten in diesen und anderen ähnlichen Szenarien bereit.</span><span class="sxs-lookup"><span data-stu-id="5567f-133">DirectWrite provides APIs for working with custom fonts in these and other similar scenarios.</span></span> <span data-ttu-id="5567f-134">Die benutzerdefinierten Schriftart Daten können aus Dateien im lokalen Dateisystem stammen. aus Remote cloudbasierten Quellen, auf die über HTTP zugegriffen wird oder aus beliebigen Quellen, nachdem Sie in einen Arbeitsspeicher Puffer geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="5567f-134">The custom font data might come from files in the local file system; from remote, cloud-based sources accessed using HTTP; or from arbitrary sources after having been loaded into a memory buffer.</span></span> 

> [!Note]  
> <span data-ttu-id="5567f-135">Obwohl DirectWrite APIs zum Arbeiten mit benutzerdefinierten Schriftarten seit Windows 7 bereitgestellt hat, wurden neuere APIs in Windows 10 und erneut in Windows 10 Creators Update (Preview Build 15021 oder höher) hinzugefügt, die die Implementierung mehrerer der erwähnten Szenarien vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="5567f-135">While DirectWrite has provided APIs for working with custom fonts since Windows 7, newer APIs were added in Windows 10 and again in the Windows 10 Creators Update (preview build 15021 or later) that make it easier to implement several of the scenarios mentioned.</span></span> <span data-ttu-id="5567f-136">Dieses Thema konzentriert sich auf APIs, die in Windows 10 verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-136">This topic focuses on APIs available in Window 10.</span></span> <span data-ttu-id="5567f-137">Anwendungen, die in früheren Windows-Versionen funktionieren müssen, finden Sie unter [benutzerdefinierte Schriftart Auflistungen (Windows 7/8)](custom-font-collections.md).</span><span class="sxs-lookup"><span data-stu-id="5567f-137">For applications that need to work on earlier Windows versions, see [Custom Font Collections (Windows 7/8)](custom-font-collections.md).</span></span> 

 

## <a name="summary-of-apis"></a><span data-ttu-id="5567f-138">Übersicht über die APIs</span><span class="sxs-lookup"><span data-stu-id="5567f-138">Summary of APIs</span></span>

<span data-ttu-id="5567f-139">In diesem Thema werden die Funktionen der folgenden APIs behandelt:</span><span class="sxs-lookup"><span data-stu-id="5567f-139">This topic focuses on functionality provided by the following APIs:</span></span> 

-   <span data-ttu-id="5567f-140">[**Idschreitefontset**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontset) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-140">[**IDWriteFontSet**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontset) interface</span></span>
-   <span data-ttu-id="5567f-141">[**Idschreitefontsetbuilder**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-141">[**IDWriteFontSetBuilder**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder) interface</span></span>
-   <span data-ttu-id="5567f-142">[**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-142">[**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) interface</span></span> 
-   <span data-ttu-id="5567f-143">[**Idwrite Test fontfakereferenzierungsschnittstelle**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference)</span><span class="sxs-lookup"><span data-stu-id="5567f-143">[**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) interface</span></span>
-   <span data-ttu-id="5567f-144">[**Idschreitefontfile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-144">[**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) interface</span></span>
-   <span data-ttu-id="5567f-145">[**Idschreitefactory:: kreatefontfilereferenzierungsmethode**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createfontfilereference)</span><span class="sxs-lookup"><span data-stu-id="5567f-145">[**IDWriteFactory::CreateFontFileReference**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createfontfilereference) method</span></span> 
-   <span data-ttu-id="5567f-146">[**Idwrite Team Factory:: erkreatecustomfontfilereferenzierungsmethode**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createcustomfontfilereference)</span><span class="sxs-lookup"><span data-stu-id="5567f-146">[**IDWriteFactory::CreateCustomFontFileReference**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createcustomfontfilereference) method</span></span> 
-   <span data-ttu-id="5567f-147">[**IDWriteFactory3:: kreatefontfacereferenzierungsmethoden**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontresource-createfontfacereference)</span><span class="sxs-lookup"><span data-stu-id="5567f-147">[**IDWriteFactory3::CreateFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontresource-createfontfacereference) methods</span></span> 
-   <span data-ttu-id="5567f-148">[**Dwrite \_ Schriftart \_ Eigenschafts**](/windows/win32/api/dwrite_3/ns-dwrite_3-dwrite_font_property) Struktur</span><span class="sxs-lookup"><span data-stu-id="5567f-148">[**DWRITE\_FONT\_PROPERTY**](/windows/win32/api/dwrite_3/ns-dwrite_3-dwrite_font_property) structure</span></span> 
-   <span data-ttu-id="5567f-149">[**Dwrite \_ Schriftart- \_ Eigenschaften- \_ ID**](/windows/win32/api/dwrite_3/ne-dwrite_3-dwrite_font_property_id) -Enumeration</span><span class="sxs-lookup"><span data-stu-id="5567f-149">[**DWRITE\_FONT\_PROPERTY\_ID**](/windows/win32/api/dwrite_3/ne-dwrite_3-dwrite_font_property_id) enumeration</span></span> 
-   <span data-ttu-id="5567f-150">[**Idschreitefontfileloader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-150">[**IDWriteFontFileLoader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader) interface</span></span> 
-   <span data-ttu-id="5567f-151">[**Idschreitefactory:: registerfontfileloader**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-registerfontfileloader) -Methode</span><span class="sxs-lookup"><span data-stu-id="5567f-151">[**IDWriteFactory::RegisterFontFileLoader**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-registerfontfileloader) method</span></span> 
-   <span data-ttu-id="5567f-152">[**Idschreitefactory:: unregisterfontfileloader**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-unregisterfontfileloader) -Methode</span><span class="sxs-lookup"><span data-stu-id="5567f-152">[**IDWriteFactory::UnregisterFontFileLoader**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-unregisterfontfileloader) method</span></span> 
-   <span data-ttu-id="5567f-153">[**IDWriteFactory5:: kreateinmemoryfontfileloader**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-createinmemoryfontfileloader) -Methode</span><span class="sxs-lookup"><span data-stu-id="5567f-153">[**IDWriteFactory5::CreateInMemoryFontFileLoader**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-createinmemoryfontfileloader) method</span></span> 
-   <span data-ttu-id="5567f-154">[**Idwrite teinmemoryfontfileloader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteinmemoryfontfileloader) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-154">[**IDWriteInMemoryFontFileLoader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteinmemoryfontfileloader) interface</span></span> 
-   <span data-ttu-id="5567f-155">[**IDWriteFactory5:: kreatehttpfontfileloader**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-createhttpfontfileloader) -Methode</span><span class="sxs-lookup"><span data-stu-id="5567f-155">[**IDWriteFactory5::CreateHttpFontFileLoader**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-createhttpfontfileloader) method</span></span> 
-   <span data-ttu-id="5567f-156">[**Idschreiteremotefontfileloader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-156">[**IDWriteRemoteFontFileLoader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader) interface</span></span> 
-   <span data-ttu-id="5567f-157">[**Idschreitefontdownloadqueue**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadqueue) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-157">[**IDWriteFontDownloadQueue**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadqueue) interface</span></span> 
-   <span data-ttu-id="5567f-158">[**Idschreitefontdownloadlistener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-158">[**IDWriteFontDownloadListener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) interface</span></span> 
-   <span data-ttu-id="5567f-159">[**Idschreitefontfilestream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-159">[**IDWriteFontFileStream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream) interface</span></span> 
-   <span data-ttu-id="5567f-160">[**Idschreiteremotefontfilestream**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfilestream) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-160">[**IDWriteRemoteFontFileStream**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfilestream) interface</span></span> 
-   <span data-ttu-id="5567f-161">[**Idschreiteasynkresult**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteasyncresult) -Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="5567f-161">[**IDWriteAsyncResult**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteasyncresult) interface</span></span> 
-   <span data-ttu-id="5567f-162">[**IDWriteFactory5:: analyzecontainertype**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-analyzecontainertype) -Methode</span><span class="sxs-lookup"><span data-stu-id="5567f-162">[**IDWriteFactory5::AnalyzeContainerType**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-analyzecontainertype) method</span></span> 
-   <span data-ttu-id="5567f-163">[**IDWriteFactory5:: unpackfontfile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-unpackfontfile) -Methode</span><span class="sxs-lookup"><span data-stu-id="5567f-163">[**IDWriteFactory5::UnpackFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-unpackfontfile) method</span></span> 

 

## <a name="key-concepts"></a><span data-ttu-id="5567f-164">Wichtige Begriffe</span><span class="sxs-lookup"><span data-stu-id="5567f-164">Key concepts</span></span>

<span data-ttu-id="5567f-165">Um die DirectWrite-APIs für die Arbeit mit benutzerdefinierten Schriftarten zu verstehen, kann es hilfreich sein, das konzeptionelle Modell zu verstehen, das diesen APIs zugrunde liegt.</span><span class="sxs-lookup"><span data-stu-id="5567f-165">To understand the DirectWrite APIs for working with custom fonts, it can be helpful to understand the conceptual model that underlies these APIs.</span></span> <span data-ttu-id="5567f-166">Wichtige Konzepte werden hier beschrieben.</span><span class="sxs-lookup"><span data-stu-id="5567f-166">Key concepts will be described here.</span></span> 

<span data-ttu-id="5567f-167">Wenn DirectWrite das tatsächliche Text Layout oder Rendering durchführt, muss es auf tatsächliche Schriftart Daten zugreifen.</span><span class="sxs-lookup"><span data-stu-id="5567f-167">When DirectWrite does actual text layout or rendering, it needs to access actual font data.</span></span> <span data-ttu-id="5567f-168">Ein Schriftart Objekt enthält tatsächliche Schriftart Daten, die im lokalen System vorhanden sein müssen.</span><span class="sxs-lookup"><span data-stu-id="5567f-168">A font face object holds actual font data, which must exist in the local system.</span></span> <span data-ttu-id="5567f-169">Für andere Vorgänge, wie z. b. das Überprüfen der Verfügbarkeit einer bestimmten Schriftart oder das darstellen von Schriftart Optionen für einen Benutzer, benötigen Sie lediglich einen Verweis auf eine bestimmte Schriftart, nicht die eigentlichen Schriftart Daten.</span><span class="sxs-lookup"><span data-stu-id="5567f-169">But for other operations, such as checking availability of a particular font, or presenting font choices to a user, all that is needed is a reference to a particular font, not the actual font data itself.</span></span> <span data-ttu-id="5567f-170">In DirectWrite enthält ein Schriftart Referenzobjekt nur die Informationen, die erforderlich sind, um eine Schriftart zu suchen und zu instanziieren.</span><span class="sxs-lookup"><span data-stu-id="5567f-170">In DirectWrite, a font face reference object holds just the information needed to locate and instantiate a font.</span></span> <span data-ttu-id="5567f-171">Da der Verweis auf die Schriftart nicht die eigentlichen Daten enthält, kann DirectWrite mit Verweisen auf die Schriftart für die Schriftart umgehen, bei denen sich die tatsächlichen Daten an einem Remote Netzwerk Speicherort befinden und die eigentlichen Daten lokal sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-171">Because the font face reference doesn’t hold actual data, DirectWrite can deal with font face references for which actual data is in a remote network location as well as when the actual data is local.</span></span>

<span data-ttu-id="5567f-172">Bei einem Schriftart Satz handelt es sich um einen Satz von Schriftart verweisen sowie bestimmte grundlegende Informations Eigenschaften, die verwendet werden können, um auf die Schriftart zu verweisen oder um Sie mit anderen Schriftarten zu vergleichen, wie z. b. dem Familiennamen oder einem Wert für die Schrift Breite.</span><span class="sxs-lookup"><span data-stu-id="5567f-172">A font set is a set of font face references, along with certain basic, informational properties that can be used in referring to the font or in comparing it to other fonts, such as the family name, or a font-weight value.</span></span> <span data-ttu-id="5567f-173">Die tatsächlichen Daten für die verschiedenen Schriftarten können lokal sein, oder es kann sich um eine Remote-oder eine Mischung handeln.</span><span class="sxs-lookup"><span data-stu-id="5567f-173">The actual data for the various fonts may be local, or it may all be remote, or some mixture.</span></span>

<span data-ttu-id="5567f-174">Ein Schriftart Satz kann verwendet werden, um ein entsprechendes Schriftart Sammlungsobjekt abzurufen.</span><span class="sxs-lookup"><span data-stu-id="5567f-174">A font set can be used to obtain a corresponding font collection object.</span></span> <span data-ttu-id="5567f-175">Weitere Informationen finden Sie unten unter Schriftart Sätze und Schriftart Auflistungen.</span><span class="sxs-lookup"><span data-stu-id="5567f-175">See Font sets and font collections below for more details.</span></span> 

<span data-ttu-id="5567f-176">Die idwrite-FONTSET-Schnittstelle stellt Methoden bereit, die das Abfragen von Eigenschafts Werten ermöglichen, z. b. Familienname oder Schrift Breite, oder für Verweise auf Schriftart, die bestimmten Eigenschafts Werten entsprechen.</span><span class="sxs-lookup"><span data-stu-id="5567f-176">The IDWriteFontSet interface provides methods that allow querying for property values such as family name or font-weight, or for font face references that match particular property values.</span></span> <span data-ttu-id="5567f-177">Nach dem Filtern auf eine bestimmte Auswahl kann eine Instanz der [**idwrite-fontfacereferenzierungsschnittstelle**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) mit Methoden zum Herunterladen abgerufen werden (wenn die eigentlichen Schriftart Daten derzeit Remote sind), um das entsprechende [**IDWriteFontFace3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontface3) -Objekt zu erhalten, das für Layout und Rendering verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-177">After filtering down to a particular selection, an instance of the [**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) interface can be obtained, with methods for downloading (if the actual font data is currently remote), for obtaining the corresponding [**IDWriteFontFace3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontface3) object that can be used for layout and rendering.</span></span> 

<span data-ttu-id="5567f-178">Die idwrite-fontfile-Schnittstelle unterliegt den einzelnen Schriftart-oder Schriftart verweisen.</span><span class="sxs-lookup"><span data-stu-id="5567f-178">The IDWriteFontFile interface underlies each font face or font face reference.</span></span> <span data-ttu-id="5567f-179">Dies stellt den Speicherort einer Schriftart Datei dar und verfügt über zwei Komponenten: einen Schriftart Datei Lader und einen Schriftart Datei Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="5567f-179">This represents the location of a font file, and has two components: a font file loader, and a font file key.</span></span> <span data-ttu-id="5567f-180">Das Schriftart Datei Lade Tool ([**idschreitefontfileloader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader)) wird verwendet, um bei Bedarf eine Datei zu öffnen, und gibt einen Stream mit den Daten ([**idschreitefontfilestream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream)) zurück.</span><span class="sxs-lookup"><span data-stu-id="5567f-180">The font file loader ([**IDWriteFontFileLoader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader)) is used to open a file if needed, and returns a stream with the data ([**IDWriteFontFileStream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream)).</span></span> <span data-ttu-id="5567f-181">Abhängig vom Lade Modul befinden sich die Daten möglicherweise in einem lokalen Dateipfad, einer Remote-URL oder in einem Arbeitsspeicher Puffer.</span><span class="sxs-lookup"><span data-stu-id="5567f-181">Depending on the loader, the data may be located at a local file path, a remote URL, or in a memory buffer.</span></span> <span data-ttu-id="5567f-182">Der Schlüssel ist ein vom Lade Modul definierter Wert, der die Datei im Lade Lade Kontext eindeutig identifiziert und dem Lade Modul ermöglicht, die Daten zu finden und einen Stream dafür zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-182">The key is a loader-defined value that uniquely identifies the file within the loader context, allowing the loader to locate the data and create a stream for it.</span></span> 

<span data-ttu-id="5567f-183">Benutzerdefinierte Schriftarten können einfach zu einem benutzerdefinierten Schriftart Satz hinzugefügt werden, der wiederum zum Filtern oder organisieren von Schriftart Informationen verwendet werden kann, z. b. zum Erstellen einer Benutzeroberfläche mit Schriftart Auswahl.</span><span class="sxs-lookup"><span data-stu-id="5567f-183">Custom fonts can easily be added to a custom font set, which in turn can be used for filtering or organizing font information for purposes such as creating a font-picker user interface.</span></span> <span data-ttu-id="5567f-184">Der Schriftart Satz kann auch verwendet werden, um eine Schriftart Auflistung für die Verwendung in APIs auf höherer Ebene zu erstellen, wie z. b. [**idschreitetextformat**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat) und [**idschreitetextlayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout).</span><span class="sxs-lookup"><span data-stu-id="5567f-184">The font set can also be used to create a font collection for use in higher-level APIs like [**IDWriteTextFormat**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat) and [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout).</span></span> <span data-ttu-id="5567f-185">Die [**idwrite-fontsetbuilder**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder) -Schnittstelle kann verwendet werden, um einen benutzerdefinierten Schriftart Satz zu erstellen, der mehrere benutzerdefinierte Schriftarten umfasst.</span><span class="sxs-lookup"><span data-stu-id="5567f-185">The [**IDWriteFontSetBuilder**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder) interface can be used to create a custom font set that includes several custom fonts.</span></span> <span data-ttu-id="5567f-186">Sie kann auch verwendet werden, um einen benutzerdefinierten Schriftart Satz zu erstellen, der benutzerdefinierte Schriftarten und vom System bereitgestellte Schriftarten kombiniert. oder, das Schriftarten mit verschiedenen Quellen für die eigentlichen Daten kombiniert – lokaler Speicher, Remote-URLs und Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="5567f-186">It can also be used to create a custom font set that mixes custom fonts and system-provided fonts; or that mixes fonts with different sources for the actual data — local storage, remote URLs, and memory.</span></span> 

<span data-ttu-id="5567f-187">Wie bereits erwähnt, kann ein Verweis auf die Schriftart auf Schriftart Daten an einer Remote Quelle verweisen, aber die Daten müssen lokal sein, um ein Schriftart Objekt zu erhalten, das für Layout und Rendering verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-187">As mentioned, a font face reference may refer to font data at a remote source, but the data must be local in order to obtain a font face object that can be used for layout and rendering.</span></span> <span data-ttu-id="5567f-188">Das Herunterladen von Remote Daten erfolgt durch eine Schriftart Download Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="5567f-188">Downloading of remote data is handled by a font download queue.</span></span> <span data-ttu-id="5567f-189">Apps können die [**idwrite-fontdownloadqueue**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadqueue) -Schnittstelle verwenden, um Anforderungen zum Herunterladen von Remote Schriftarten in die Warteschlange zu stellen, um den Downloadvorgang zu initiieren und ein [**idwrite-fontdownloadlistener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) -Objekt zu registrieren, um beim Abschluss des Downloadvorgangs Maßnahmen zu ergreifen.</span><span class="sxs-lookup"><span data-stu-id="5567f-189">Apps can use the [**IDWriteFontDownloadQueue**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadqueue) interface to enqueue requests to download remote fonts to initiate the download process, and to register an [**IDWriteFontDownloadListener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) object to take action when the download process has completed.</span></span> 

<span data-ttu-id="5567f-190">Für die meisten Schnittstellen, die hier beschrieben werden, bietet DirectWrite System Implementierungen.</span><span class="sxs-lookup"><span data-stu-id="5567f-190">For most of the interfaces described here, DirectWrite provides system implementations.</span></span> <span data-ttu-id="5567f-191">Die einzige Ausnahme ist die [**idwrite-fontdownloadlistener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) -Schnittstelle, die eine APP implementiert, um App-spezifische Aktionen auszuführen, wenn Remote Schriftarten lokal heruntergeladen wurden.</span><span class="sxs-lookup"><span data-stu-id="5567f-191">The one exception is the [**IDWriteFontDownloadListener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) interface, which an app implements to take app-specific actions when remote fonts have been downloaded locally.</span></span> <span data-ttu-id="5567f-192">Apps können einen Grund haben, eigene benutzerdefinierte Implementierungen für bestimmte andere Schnittstellen bereitzustellen, die jedoch nur in bestimmten, komplexeren Szenarien benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-192">Apps may have reason to provide their own custom implementations for certain other interfaces, though that would only be needed in specific, more advanced scenarios.</span></span> <span data-ttu-id="5567f-193">Beispielsweise müsste eine APP eine benutzerdefinierte Implementierung der [**idschreitefontfileloader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader) -Schnittstelle bereitstellen, um Schriftart Dateien im lokalen Speicher zu verarbeiten, die das WOFF2-Containerformat verwenden.</span><span class="sxs-lookup"><span data-stu-id="5567f-193">For example, an app would need to provide a custom implementation of the [**IDWriteFontFileLoader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader) interface to handle font files in local storage that use the WOFF2 container format.</span></span> <span data-ttu-id="5567f-194">Unten finden Sie weitere Details.</span><span class="sxs-lookup"><span data-stu-id="5567f-194">Additional details will be provided below.</span></span> 

## <a name="fonts-and-font-file-formats"></a><span data-ttu-id="5567f-195">Schriftarten und Schriftarten Dateiformate</span><span class="sxs-lookup"><span data-stu-id="5567f-195">Fonts and font file formats</span></span>

<span data-ttu-id="5567f-196">Ein weiteres wichtiges Konzept, das zum Verständnis hilfreich ist, ist die Beziehung zwischen einzelnen Schriftart-und Schriftart Dateien, die Sie enthalten.</span><span class="sxs-lookup"><span data-stu-id="5567f-196">Another key concept that is helpful to understand is the relationship between individual font faces and font files that contain them.</span></span> <span data-ttu-id="5567f-197">Die Idee einer OpenType-Schriftart Datei (. ttf oder. OTF), die eine einzelne Schriftart enthält, ist vertraut.</span><span class="sxs-lookup"><span data-stu-id="5567f-197">The idea of an OpenType font file (.ttf or .otf) containing a single font is familiar.</span></span> <span data-ttu-id="5567f-198">Das OpenType-Schriftformat ermöglicht jedoch auch eine OpenType-Schriftart Auflistung (. TTC oder. OTC), bei der es sich um eine einzelne Datei handelt, die mehrere Schriftarten enthält.</span><span class="sxs-lookup"><span data-stu-id="5567f-198">But the OpenType font format also allows for an OpenType Font Collection (.ttc or .otc), which is a single file that contains multiple fonts.</span></span> <span data-ttu-id="5567f-199">OpenType-Auflistungs Dateien werden häufig für große Schriftarten verwendet, die eng miteinander verknüpft sind und identische Werte für bestimmte Schriftart Daten aufweisen: indem die Schriftarten in einer einzelnen Datei kombiniert werden, können die allgemeinen Daten dupliziert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-199">OpenType Collection files are often used for large fonts that are closely related and have identical values for certain font data: by combining the fonts in a single file, the common data can be de-duplicated.</span></span> <span data-ttu-id="5567f-200">Aus diesem Grund muss ein Schriftart-oder Schriftart Referenz Verweis nicht nur auf eine Schriftart Datei (oder eine entsprechende Datenquelle) verweisen, sondern auch einen Schriftart Index in dieser Datei angeben, für den allgemeinen Fall, in dem die Datei eine Sammlungs Datei sein kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-200">For this reason, a font face or font face reference needs to refer not only to a font file (or equivalent data source), but it must also specify a font index within that file, for the general case in which the file may be a Collection file.</span></span> 

<span data-ttu-id="5567f-201">Bei im Web verwendeten Schriftarten werden Schriftart Daten häufig in bestimmte Containerformate, WOFF oder WOFF2 verpackt, die eine Komprimierung der Schriftart Daten und ein gewisses Maß an Schutz vor Piraterie und Verletzung von Schriftart Lizenzen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-201">For fonts used on the Web, font data is often packed into certain container formats, WOFF or WOFF2, which provide some compression of the font data and some level of protection against piracy and violation of font licenses.</span></span> <span data-ttu-id="5567f-202">Funktional, eine WOFF-oder WOFF2-Datei entspricht einer OpenType-Schriftart oder einer Schriftart Sammlungs Datei, aber die Daten werden in einem anderen Format codiert, das entpackt werden muss, bevor es verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-202">Functionally, a WOFF or WOFF2 file is equivalent to an OpenType font or Font Collection file, but the data is encoded in a different format that requires unpacking before it can be used.</span></span> 

<span data-ttu-id="5567f-203">Bestimmte DirectWrite-APIs verarbeiten möglicherweise einzelne Schriftart Flächen, während andere APIs Dateien verarbeiten können, die möglicherweise OpenType-Auflistungs Dateien enthalten, die mehrere Gesichter enthalten.</span><span class="sxs-lookup"><span data-stu-id="5567f-203">Certain DirectWrite APIs may deal with individual font faces, while other APIs can handle files that might include OpenType Collection files that contain multiple faces.</span></span> <span data-ttu-id="5567f-204">Ebenso befassen sich bestimmte APIs nur mit unformatierten Daten im OpenType-Format, während andere APIs die gepackten, WOFF-und WOFF2-Containerformate verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="5567f-204">Similarly, certain APIs deal only with raw, OpenType-format data, while other APIs can handle the packed, WOFF and WOFF2 container formats.</span></span> <span data-ttu-id="5567f-205">Diese Details werden in der nachfolgenden Diskussion bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="5567f-205">These details are provided in the discussion below.</span></span> 

## <a name="font-sets-and-font-collections"></a><span data-ttu-id="5567f-206">Schriftart Sätze und Schriftart Sammlungen</span><span class="sxs-lookup"><span data-stu-id="5567f-206">Font sets and font collections</span></span>

<span data-ttu-id="5567f-207">Einige Anwendungen können für die Arbeit mit Schriftarten mithilfe der [**idschreitefontcollection**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) -Schnittstelle implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-207">Some applications may be implemented to work with fonts using the [**IDWriteFontCollection**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) interface.</span></span> <span data-ttu-id="5567f-208">Es gibt eine direkte Entsprechung zwischen einer Schriftart Auflistung und einem Schriftart Satz.</span><span class="sxs-lookup"><span data-stu-id="5567f-208">There is a direct correspondence between a font collection and a font set.</span></span> <span data-ttu-id="5567f-209">Jede kann die gleichen Schriftarten enthalten, Sie stellen Sie jedoch einer anderen Organisation zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="5567f-209">Each can hold the same fonts, but they present them with a different organization.</span></span> <span data-ttu-id="5567f-210">Aus einer beliebigen Schriftart Auflistung kann ein entsprechender Schriftart Satz abgerufen werden und umgekehrt.</span><span class="sxs-lookup"><span data-stu-id="5567f-210">From any font collection, a corresponding font set can be obtained, and vice versa.</span></span>

<span data-ttu-id="5567f-211">Wenn Sie mit einer Reihe von benutzerdefinierten Schriftarten arbeiten, ist es am einfachsten, eine Schriftart Satz-Generator-Schnittstelle zum Erstellen eines benutzerdefinierten Schriftart Satzes zu verwenden und dann eine Schriftart Auflistung abzurufen, nachdem der Schriftsatz erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="5567f-211">When working with a number of custom fonts, it is easiest to use a font set builder interface to create a custom font set, and then obtain a font collection after the font set is created.</span></span> <span data-ttu-id="5567f-212">Der Vorgang zum Erstellen eines benutzerdefinierten Schriftart Satzes wird im folgenden ausführlich beschrieben.</span><span class="sxs-lookup"><span data-stu-id="5567f-212">The process for creating a custom font set will be described in detail below.</span></span> <span data-ttu-id="5567f-213">Zum Abrufen einer [**IDWriteFontCollection1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontcollection1) -Schnittstelle aus einem Schriftart Satz wird die [**IDWriteFactory3:: kreatefontcollectionfromfontset**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-createfontcollectionfromfontset) -Methode verwendet.</span><span class="sxs-lookup"><span data-stu-id="5567f-213">To obtain an [**IDWriteFontCollection1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontcollection1) interface from a font set, the [**IDWriteFactory3::CreateFontCollectionFromFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-createfontcollectionfromfontset) method is used.</span></span>

<span data-ttu-id="5567f-214">Wenn die APP über ein Auflistungs Objekt verfügt und einen entsprechenden Schriftart Satz abrufen muss, kann dies mithilfe der [**IDWriteFontCollection1:: getfontset**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontcollection1-getfontset) -Methode erfolgen.</span><span class="sxs-lookup"><span data-stu-id="5567f-214">If the app has a collection object and needs to obtain a corresponding font set, this can be done using the [**IDWriteFontCollection1::GetFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontcollection1-getfontset) method.</span></span> 

## <a name="common-scenarios"></a><span data-ttu-id="5567f-215">Häufige Szenarien</span><span class="sxs-lookup"><span data-stu-id="5567f-215">Common scenarios</span></span>

<span data-ttu-id="5567f-216">In diesem Abschnitt werden einige der gängigsten Szenarien im Zusammenhang mit benutzerdefinierten Schriftart Sätzen beschrieben:</span><span class="sxs-lookup"><span data-stu-id="5567f-216">This section describes some of the most common scenarios involving custom font sets:</span></span>

-   <span data-ttu-id="5567f-217">Erstellen eines benutzerdefinierten Schriftart Satzes mit beliebigen Schriftarten in Pfaden im lokalen Dateisystem.</span><span class="sxs-lookup"><span data-stu-id="5567f-217">Creating a custom font set using arbitrary fonts at paths in the local file system.</span></span>
-   <span data-ttu-id="5567f-218">Erstellen eines benutzerdefinierten Schrift Satzes mit bekannten Schriftarten (möglicherweise mit der APP gebündelt), die im lokalen Dateisystem gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-218">Creating a custom font set using known fonts (perhaps bundled with the app) that are stored in the local file system.</span></span>
-   <span data-ttu-id="5567f-219">Erstellen eines benutzerdefinierten Schriftart Satzes mit bekannten Remote Schriftarten im Web.</span><span class="sxs-lookup"><span data-stu-id="5567f-219">Creating a custom font set using known, remote fonts on the Web.</span></span>
-   <span data-ttu-id="5567f-220">Erstellen eines benutzerdefinierten Schrift Satzes mit Schriftart Daten, die in den Arbeitsspeicher geladen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-220">Creating a custom font set using font data loaded into memory.</span></span>

<span data-ttu-id="5567f-221">Umfassende Implementierungen für diese Szenarien finden Sie im [Beispiel für benutzerdefinierte DirectWrite-Schriftart Sätze](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/).</span><span class="sxs-lookup"><span data-stu-id="5567f-221">Complete implementations for these scenarios are provided in the [DirectWrite Custom Font Sets sample](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/).</span></span> <span data-ttu-id="5567f-222">Dieses Beispiel veranschaulicht auch ein erweitertes Szenario für die Behandlung von Schriftart Daten, die in WOFF-oder WOFF2-Containerformaten gepackt sind, die im folgenden erläutert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-222">That sample also illustrates one more advanced scenario for handling font data packed in WOFF or WOFF2 container formats, which will be discussed below.</span></span> 

### <a name="creating-a-font-set-using-arbitrary-fonts-in-the-local-file-system"></a><span data-ttu-id="5567f-223">Erstellen eines Schriftart Satzes mit beliebigen Schriftarten im lokalen Dateisystem</span><span class="sxs-lookup"><span data-stu-id="5567f-223">Creating a font set using arbitrary fonts in the local file system</span></span>

<span data-ttu-id="5567f-224">Beim Umgang mit einem beliebigen Satz von Schriftart Dateien im lokalen Speicher ist die [**IDWriteFontSetBuilder1:: AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) -Methode praktisch, da Sie in einem einzelnen-Befehl alle Schriftart Gesichter innerhalb einer OpenType-Schriftart Sammlungs Datei sowie alle Instanzen für eine OpenType-Variablen Schriftart verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-224">When dealing with an arbitrary set of font files in local storage, the [**IDWriteFontSetBuilder1::AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method is convenient since, in a single call, it can handle all of the font faces within an OpenType Font Collection file, as well as all instances for an OpenType variable font.</span></span> <span data-ttu-id="5567f-225">Diese ist in Windows 10 Creators Update (Preview Build 15021 oder höher) verfügbar und wird empfohlen, wenn verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5567f-225">This is available in the Windows 10 Creators Update (preview build 15021 or later), and is recommended whenever available.</span></span> 

<span data-ttu-id="5567f-226">Verwenden Sie den folgenden Prozess, um diese Methode zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="5567f-226">To use this method, use the following process.</span></span>

<dl> <span data-ttu-id="5567f-227">1. Beginnen Sie mit dem Erstellen der <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory5">IDWriteFactory5</a> -Schnittstelle:</span><span class="sxs-lookup"><span data-stu-id="5567f-227">1. Start by creating the <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory5">IDWriteFactory5</a> interface:</span></span> 


```C++
IDWriteFactory5* pDWriteFactory; 
HRESULT hr = DWriteCreateFactory( 
  DWRITE_FACTORY_TYPE_SHARED, 
  __uuidof(IDWriteFactory5), 
  reinterpret_cast<IUnknown**>(&pDWriteFactory) 
); 
```



   
2. <span data-ttu-id="5567f-228">Verwenden Sie die Factory zum Abrufen der <a href=""></a> [**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) -Schnittstelle:</span><span class="sxs-lookup"><span data-stu-id="5567f-228">Use the factory to obtain the <a href=""></a>[**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) interface:</span></span> 


```C++
IDWriteFontSetBuilder1* pFontSetBuilder; 
if (SUCCEEDED(hr)) 
{ 
  hr = pDWriteFactory->CreateFontSetBuilder(&pFontSetBuilder); 
}  
                
```



  
3. <span data-ttu-id="5567f-229">Erstellen Sie für jede Schriftart Datei im lokalen Dateisystem eine [**idwrite-fontfile-Datei**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) , die darauf verweist:</span><span class="sxs-lookup"><span data-stu-id="5567f-229">For each font file in the local file system, create an [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) that refers to it:</span></span> 


```C++
IDWriteFontFile* pFontFile; 
if (SUCCEEDED(hr)) 
{ 
  hr = pDWriteFactory->CreateFontFileReference(pFilePath, /* lastWriteTime*/ nullptr, &pFontFile); 
} 
```



   
4. <span data-ttu-id="5567f-230">Fügen Sie das [**idwrite-fontfile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) -Objekt dem Schriftart Satz-Generator mithilfe der [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) -Methode hinzu:</span><span class="sxs-lookup"><span data-stu-id="5567f-230">Add the [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) object to the font set builder using the [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method:</span></span> 


```C++
hr = pFontSetBuilder->AddFontFile(pFontFile); 
```

<span data-ttu-id="5567f-231">Wenn der Dateipfad, der beim Aufrufen von " [**anatefontfilereferenzierung**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createfontfilereference) " angegeben wurde, etwas anderes als eine unterstützte OpenType-Datei referenziert ist, wird beim Aufrufen von " [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) " der Fehler "dwrite \_ E File Format" zurückgegeben \_ .</span><span class="sxs-lookup"><span data-stu-id="5567f-231">If the file path specified in the call to [**CreateFontFileReference**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createfontfilereference) referred to something other than a supported OpenType file, then the call to [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) will return an error, DWRITE\_E\_FILEFORMAT.</span></span>

5. <span data-ttu-id="5567f-232">Nachdem alle Dateien dem Schriftart Satz-Generator hinzugefügt wurden, kann der benutzerdefinierte Schriftart Satz erstellt werden:</span><span class="sxs-lookup"><span data-stu-id="5567f-232">After all of the files have been added to the font set builder, the custom font set can be created:</span></span> 


```C++
IDWriteFontSet* pFontSet; 
hr = pFontSetBuilder->CreateFontSet(&pFontSet); 
```



   
</dl>

<span data-ttu-id="5567f-233">Wenn die APP auf Windows 10-Versionen vor Windows 10 Creators Update ausgeführt werden muss, ist die AddFontFile-Methode nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5567f-233">If the app needs to run on Windows 10 versions earlier than the Windows 10 Creators Update, then the AddFontFile method will not be available.</span></span> <span data-ttu-id="5567f-234">Die Verfügbarkeit kann durch Erstellen einer [**IDWriteFactory3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory3) -Schnittstelle und anschließendes Verwenden von QueryInterface zum Abrufen einer [**IDWriteFactory5**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory5) -Schnittstelle erkannt werden: Wenn dies erfolgreich ist, sind auch die [**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) -Schnittstelle und die [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) -Methode verfügbar.</span><span class="sxs-lookup"><span data-stu-id="5567f-234">Availability can be detected by creating an [**IDWriteFactory3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory3) interface and then using QueryInterface to try to obtain an [**IDWriteFactory5**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory5) interface: if this succeeds, then the [**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) interface and [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method will also be available.</span></span>

<span data-ttu-id="5567f-235">Wenn die AddFontFile-Methode nicht verfügbar ist, muss die [**idwrite-fontsetbuilder:: addfontfacereferenzierungsmethode**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) zum Hinzufügen einzelner Schriftart Flächen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-235">If the AddFontFile method is not available, then the [**IDWriteFontSetBuilder::AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) method must be used to add individual font faces.</span></span> <span data-ttu-id="5567f-236">Um Dateien mit OpenType-Schriftarten Auflistungen zuzulassen, die mehrere Gesichter enthalten, kann die [**idschreitefontfile:: Analysis**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfile-analyze) -Methode verwendet werden, um die Anzahl der in der Datei enthaltenen Gesichter zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="5567f-236">To allow for OpenType Font Collection files that contain multiple faces, the [**IDWriteFontFile::Analyze**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfile-analyze) method can be used to determine the number of faces contained within the file.</span></span> <span data-ttu-id="5567f-237">Der Prozess ist wie folgt.</span><span class="sxs-lookup"><span data-stu-id="5567f-237">The process is as follows.</span></span>

<dl> <span data-ttu-id="5567f-238">1. Beginnen Sie mit dem Erstellen der <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory3">IDWriteFactory3</a> -Schnittstelle:</span><span class="sxs-lookup"><span data-stu-id="5567f-238">1. Start by creating the <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory3">IDWriteFactory3</a> interface:</span></span> 


```C++
IDWriteFactory3* pDWriteFactory; 
HRESULT hr = DWriteCreateFactory( 
DWRITE_FACTORY_TYPE_SHARED, 
  __uuidof(IDWriteFactory5), 
  reinterpret_cast<IUnknown**>(&pDWriteFactory) 
); 
```



  
2. <span data-ttu-id="5567f-239">Verwenden Sie die Factory zum Abrufen der [**idschreitefontsetbuilder**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder) -Schnittstelle:</span><span class="sxs-lookup"><span data-stu-id="5567f-239">Use the factory to obtain the [**IDWriteFontSetBuilder**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder) interface:</span></span> 


```C++
IDWriteFontSetBuilder* pFontSetBuilder; 
if (SUCCEEDED(hr)) 
{ 
  hr = pDWriteFactory->CreateFontSetBuilder(&pFontSetBuilder); 
} 
```



  
3. <span data-ttu-id="5567f-240">Erstellen Sie für jede Schriftart Datei wie oben beschrieben eine [**idschreitefontfile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile):</span><span class="sxs-lookup"><span data-stu-id="5567f-240">For each font file, create an [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile), as above:</span></span> 


```C++
IDWriteFontFile* pFontFile; 
if (SUCCEEDED(hr)) 
{ 
  hr = pDWriteFactory->CreateFontFileReference(pFilePath, /* lastWriteTime*/ nullptr, &pFontFile); 
} 
```



<span data-ttu-id="5567f-241">Anstatt die Datei direkt dem Schriftart Satz-Generator hinzuzufügen, müssen wir die Anzahl der Gesichter ermitteln und einzelne [**idwrite-fontfakereferenzierungsobjekte**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) erstellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-241">Instead of adding the file directly to the font set builder, we need to determine the number of faces and create individual [**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) objects.</span></span>   
4. <span data-ttu-id="5567f-242">Verwenden Sie die Methode [**analysieren**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfile-analyze) , um die Anzahl der Gesichter in der Datei zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="5567f-242">Use the [**Analyze**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfile-analyze) method to get the number of faces in the file.</span></span> 


```C++
BOOL isSupported; 
DWRITE_FONT_FILE_TYPE fileType; 
UINT32 numberOfFonts; 
hr = pFontFile->Analyze(&isSupported, &fileType, /* face type */ nullptr, &numberOfFonts); 
```



<span data-ttu-id="5567f-243">Die [**Analyse**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfile-analyze) Methode legt auch Werte für die Parameter "IsSupported" und "filetype" fest.</span><span class="sxs-lookup"><span data-stu-id="5567f-243">The [**Analyze**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfile-analyze) method will also set values for the isSupported and fileType parameters.</span></span> <span data-ttu-id="5567f-244">Wenn es sich bei der Datei nicht um ein unterstütztes Format handelt, ist IsSupported false, und die entsprechende Aktion (z. b. das Ignorieren der Datei) kann durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-244">If the file is not a supported format, then isSupported will be FALSE, and appropriate action, such as ignoring the file, can be taken.</span></span>   
5. <span data-ttu-id="5567f-245">Schleife über die Anzahl von Schriftarten, die im Parameter "numoffonts" festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-245">Loop over the number of fonts set in the numberOfFonts parameter.</span></span> <span data-ttu-id="5567f-246">Erstellen Sie innerhalb der-Schleife eine [**idwrite-fontfakereferenzierung**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) für jedes Datei-/Index-Paar, und fügen Sie diese dem Schriftart Satz-Generator hinzu.</span><span class="sxs-lookup"><span data-stu-id="5567f-246">Within the loop, create an [**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) for each file/index pair, and add that to the font set builder.</span></span> 


```C++
for (uint32_t fontIndex = 0; fontIndex < numberOfFonts; fontIndex++) 
{ 
  IDWriteFontFaceReference* pFontFaceReference;
  hr = pDWriteFactory->CreateFontFaceReference(pFontFile, fontIndex, DWRITE_FONT_SIMULATIONS_NONE, &pFontFaceReference);

  if (SUCCEEDED(hr))
  {
    hr = pFontSetBuilder->AddFontFaceReference(pFontFaceReference);
  }
} 
```



  
6. <span data-ttu-id="5567f-247">Nachdem alle Gesichter zum Schriftart Satz-Generator hinzugefügt wurden, erstellen Sie den benutzerdefinierten Schriftart Satz, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-247">After all the faces have been added to the font set builder, create the custom font set, as shown above.</span></span>  
</dl>

<span data-ttu-id="5567f-248">Eine APP kann so entworfen werden, dass Sie die bevorzugte [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) -Methode verwendet, wenn Sie auf dem Windows 10 Creators Update ausgeführt wird, aber bei Ausführung unter früheren Windows 10-Versionen die [**addfontfacereferenzierungsmethode**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) verwenden.</span><span class="sxs-lookup"><span data-stu-id="5567f-248">An app can be designed so that it will use the preferred [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method when running on the Windows 10 Creators Update, but fall back to use the [**AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) method when running on earlier Windows 10 versions.</span></span> <span data-ttu-id="5567f-249">Testen Sie die Verfügbarkeit der [**IDWriteFactory5**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory5) -Schnittstelle, wie oben beschrieben, und Verzweigen Sie dann entsprechend.</span><span class="sxs-lookup"><span data-stu-id="5567f-249">Test for availability of the [**IDWriteFactory5**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory5) interface, as described above, and then branch accordingly.</span></span> <span data-ttu-id="5567f-250">Diese Vorgehensweise wird im [Beispiel für benutzerdefinierte DirectWrite-Schriftart Sätze](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/)veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="5567f-250">This approach is illustrated in the [DirectWrite Custom Font Sets sample](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/).</span></span> 

### <a name="creating-a-font-set-using-known-fonts-in-the-local-file-system"></a><span data-ttu-id="5567f-251">Erstellen eines Schriftart Satzes mit bekannten Schriftarten im lokalen Dateisystem</span><span class="sxs-lookup"><span data-stu-id="5567f-251">Creating a font set using known fonts in the local file system</span></span>

<span data-ttu-id="5567f-252">Wie bereits erwähnt, ist jeder Schriftart Verweis in einem Schriftart Satz bestimmten Informations Eigenschaften zugeordnet, z. b. dem Familiennamen und der Schrift Breite.</span><span class="sxs-lookup"><span data-stu-id="5567f-252">As mentioned above, each font face reference in a font set is associated with certain informational properties, such as family name and font weight.</span></span> <span data-ttu-id="5567f-253">Wenn einem Schriftart Satz-Generator mithilfe der oben aufgeführten API-Aufrufe benutzerdefinierte Schriftarten hinzugefügt werden, werden diese Informations Eigenschaften direkt aus den eigentlichen Schriftart Daten abgerufen, die beim Hinzufügen der Schriftart gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-253">When custom fonts are added to a font set builder using the API calls listed above, these informational properties are obtained directly from the actual font data, which is read as the font is added.</span></span> <span data-ttu-id="5567f-254">In einigen Situationen kann es jedoch vorkommen, dass eine APP eine andere Quelle von Informationen über eine Schriftart enthält, wenn Sie jedoch auch eigene benutzerdefinierte Werte für diese Eigenschaften bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="5567f-254">In some situations, however, if an app has another source of information about a font, it might wish to provide its own custom values for these properties.</span></span> 

<span data-ttu-id="5567f-255">Ein Beispiel dafür, wie dies nützlich sein kann, besteht darin, dass eine APP einige Schriftarten bündeln, die für die Darstellung bestimmter Benutzeroberflächen Elemente innerhalb der APP verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-255">As an example of how this might be useful, suppose an app bundles some fonts that are used for presenting particular user-interface elements within the app.</span></span> <span data-ttu-id="5567f-256">Zu Zeiten, z. b. mit einer neuen App-Version, müssen sich die für diese Elemente verwendeten Schriftarten möglicherweise ändern.</span><span class="sxs-lookup"><span data-stu-id="5567f-256">At times, such as with a new app version, the specific fonts that the app uses for these elements may need to change.</span></span> <span data-ttu-id="5567f-257">Wenn die APP Verweise auf bestimmte Schriftarten codiert hat, muss bei der Ersetzung einer Schriftart mit einer anderen eine Schriftart geändert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-257">If the app has encoded references to the specific fonts, then replacement of one font with another will require changing every one of those references.</span></span> <span data-ttu-id="5567f-258">Wenn die APP stattdessen benutzerdefinierte Eigenschaften verwendet, um funktionale Aliase basierend auf dem Typ des gerenderten Elements oder Texts zuzuweisen, ordnet jeden Alias an einem Ort einer bestimmten Schriftart zu und verwendet dann die Aliase in allen Kontexten, in denen Schriftarten erstellt und manipuliert werden. Anschließend wird eine Schriftart durch andere ersetzt</span><span class="sxs-lookup"><span data-stu-id="5567f-258">Instead, if the app uses custom properties to assign functional aliases based on the type of element or text being rendered, maps each alias to a specific font in one place and then uses the aliases in all the contexts where fonts are created and manipulated, then replacing one font with another requires only changing the one place where the alias is mapped to a specific font.</span></span> 

<span data-ttu-id="5567f-259">Benutzerdefinierte Werte für Informations Eigenschaften können zugewiesen werden, wenn die [**idwrite-fontsetbuilder:: addfontfacereferenzierungsmethode**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-259">Custom values for informational properties can be assigned when the [**IDWriteFontSetBuilder::AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) method is called.</span></span> <span data-ttu-id="5567f-260">Die Methode hierfür lautet wie folgt: Dies kann für jede Windows 10-Version verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-260">The method for doing this is as follows; this can be used on any Windows 10 version.</span></span> 

<span data-ttu-id="5567f-261">Beginnen Sie wie oben gezeigt mit dem Abrufen der Schnittstellen [**IDWriteFactory3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory3) und [**idschreitefontset**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontset) .</span><span class="sxs-lookup"><span data-stu-id="5567f-261">As shown above, start by obtaining the [**IDWriteFactory3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefactory3) and [**IDWriteFontSet**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontset) interfaces.</span></span> <span data-ttu-id="5567f-262">Erstellen Sie für jede benutzerdefinierte Schriftart, die hinzugefügt werden soll, eine [**idschreitefontfakereferenzierung**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference), wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-262">For each custom font face to be added, create an [**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference), as shown above.</span></span> <span data-ttu-id="5567f-263">Bevor diese zum Schriftart Satz-Generator hinzugefügt wird (in der-Schleife in Schritt 5, siehe oben), definiert die APP jedoch die zu verwendenden benutzerdefinierten Eigenschaftswerte.</span><span class="sxs-lookup"><span data-stu-id="5567f-263">Before this is added to the font set builder (within the loop in step 5, shown above), however, the app defines the custom property values to be used.</span></span> 

<span data-ttu-id="5567f-264">Ein Satz benutzerdefinierter Eigenschaftswerte wird mithilfe eines Arrays von [**dwrite- \_ Schriftart \_ Eigenschafts**](/windows/win32/api/dwrite_3/ns-dwrite_3-dwrite_font_property) Strukturen definiert.</span><span class="sxs-lookup"><span data-stu-id="5567f-264">A set of custom property values is defined using an array of [**DWRITE\_FONT\_PROPERTY**](/windows/win32/api/dwrite_3/ns-dwrite_3-dwrite_font_property) structures.</span></span> <span data-ttu-id="5567f-265">Jede dieser Eigenschaften gibt eine bestimmte Eigenschaft aus der [**dwrite- \_ Schriftart- \_ Eigenschaften- \_ ID**](/windows/win32/api/dwrite_3/ne-dwrite_3-dwrite_font_property_id) -Enumeration und den entsprechenden Eigenschafts Wert an, der verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="5567f-265">Each of these identifies a particular property from the [**DWRITE\_FONT\_PROPERTY\_ID**](/windows/win32/api/dwrite_3/ne-dwrite_3-dwrite_font_property_id) enum, and the corresponding property value that is to be used.</span></span>  

<span data-ttu-id="5567f-266">Beachten Sie, dass alle Eigenschaftswerte als Zeichen folgen zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-266">Note that all property values are assigned as strings.</span></span> <span data-ttu-id="5567f-267">Wenn diese später Benutzern angezeigt werden, werden möglicherweise alternative Werte für eine bestimmte Eigenschaft für verschiedene Sprachen festgelegt, dies ist jedoch nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5567f-267">If these may later be displayed to users, then alternate values for a given property for different languages may be set, but this is not required.</span></span> <span data-ttu-id="5567f-268">Beachten Sie auch Folgendes: Wenn benutzerdefinierte Eigenschaftswerte von der APP festgelegt werden, werden nur die angegebenen Werte innerhalb des Schrift Satzes verwendet. DirectWrite leitet keine Werte direkt aus der Schriftart für Informations Eigenschaften ab, die in einem Schriftart Satz verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-268">Also note that if any custom property values are set by the app, then only those values that are specified will be used within the Font set; DirectWrite will not derive any values directly from the font for informational properties used in a font set.</span></span> 

<span data-ttu-id="5567f-269">Im folgenden Beispiel werden benutzerdefinierte Werte für drei Informations Eigenschaften definiert: Family Name, Full Name und Font Weight.</span><span class="sxs-lookup"><span data-stu-id="5567f-269">The following example defines custom values for three informational properties: family name, full name, and font weight.</span></span> 


```C++
DWRITE_FONT_PROPERTY props[] = 
{ 
  { DWRITE_FONT_PROPERTY_ID_FAMILY_NAME, L"My Icon Font", L"en-US" }, 
  { DWRITE_FONT_PROPERTY_ID_FULL_NAME, L"My Icon Font", L"en-US" }, 
  { DWRITE_FONT_PROPERTY_ID_WEIGHT, L"400", nullptr } 
}; 
               
            
```



<span data-ttu-id="5567f-270">Nachdem Sie das gewünschte Array von Eigenschafts Werten für eine Schriftart definiert haben, führen Sie einen Anrufe an addfontfakerefence aus, und übergeben Sie dabei das Eigenschafts Array sowie den Schriftart Verweis.</span><span class="sxs-lookup"><span data-stu-id="5567f-270">After defining the desired array of property values for a font, make a call to AddFontFaceRefence, passing the property array as well as the font face reference.</span></span> 


```C++
hr = pFontSetBuilder->AddFontFaceReference(pFontFaceReference, props, ARRAYSIZE(props)); 
```



 

<span data-ttu-id="5567f-271">Nachdem alle benutzerdefinierten Schriftart Flächen zum Schriftart Satz-Generator hinzugefügt wurden, erstellen Sie zusammen mit den benutzerdefinierten Eigenschaften den benutzerdefinierten Schriftart Satz, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-271">Once all custom font faces have been added to the font set builder, along with their custom properties, create the custom font set, as shown above.</span></span> 

### <a name="creating-a-custom-font-set-using-known-remote-fonts-on-the-web"></a><span data-ttu-id="5567f-272">Erstellen eines benutzerdefinierten Schriftart Satzes mit bekannten Remote Schriftarten im Web</span><span class="sxs-lookup"><span data-stu-id="5567f-272">Creating a custom font set using known, remote fonts on the Web</span></span>

<span data-ttu-id="5567f-273">Benutzerdefinierte Eigenschaften sind wichtig für die Arbeit mit Remote Schriftarten.</span><span class="sxs-lookup"><span data-stu-id="5567f-273">Custom properties are important for working with remote fonts.</span></span> <span data-ttu-id="5567f-274">Jeder Schriftart Verweis muss einige Informations Eigenschaften aufweisen, um die Schriftart zu charakterisieren und von anderen Schriftarten zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="5567f-274">Each font face reference must have some informational properties to characterize the font and distinguish it from other fonts.</span></span> <span data-ttu-id="5567f-275">Da die Schriftart Daten für Remote Schriftarten nicht lokal sind, kann DirectWrite Eigenschaften nicht direkt aus den Schriftart Daten ableiten.</span><span class="sxs-lookup"><span data-stu-id="5567f-275">Since the font data for remote fonts is not local, DirectWrite cannot derive properties directly from the font data.</span></span> <span data-ttu-id="5567f-276">Daher müssen Eigenschaften beim Hinzufügen einer Remote Schriftart zum Schriftart Satz-Generator explizit bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-276">Hence, properties must be provided explicitly when adding a remote font to the font set builder.</span></span>

<span data-ttu-id="5567f-277">Die Sequenz von API-aufrufen zum Hinzufügen von Remote Schriftarten zu einem Schriftart Satz ähnelt der für das vorherige Szenario beschriebenen Sequenz.</span><span class="sxs-lookup"><span data-stu-id="5567f-277">The sequence of API calls for adding remote fonts to a font set is similar to the sequence described for the previous scenario.</span></span> <span data-ttu-id="5567f-278">Da es sich bei den Schriftart Daten um Remote Daten handelt, unterscheiden sich die zum Lesen der eigentlichen Schriftart Daten beteiligten Vorgänge von der Arbeit mit Dateien im lokalen Speicher.</span><span class="sxs-lookup"><span data-stu-id="5567f-278">Since the font data is remote, however, the operations involved for reading the actual font data will be different than when working with files in local storage.</span></span> <span data-ttu-id="5567f-279">In dieser Situation wurde dem Windows 10 Creators Update eine neue Unterebene ( [**idbeschreib teremotefontfileloader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader)) hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="5567f-279">For this situation, a new lower-level interface, [**IDWriteRemoteFontFileLoader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader), has been added in the Windows 10 Creators Update.</span></span> 

<span data-ttu-id="5567f-280">Um das Remote Schriftart Datei-Lade Tool zu verwenden, muss es zuerst bei einer DirectWrite-Factory registriert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-280">To use the remote font file loader, it must first be registered with a DirectWrite factory.</span></span> <span data-ttu-id="5567f-281">Das Lade Modul muss von der APP aufbewahrt werden, solange die damit verbundenen Schriftarten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-281">The loader will need to be held by the app for as long as the fonts associated with it are being used.</span></span> <span data-ttu-id="5567f-282">Wenn die Schriftarten nicht mehr verwendet werden, und bevor die Factory zerstört wird, muss die Registrierung des Lade Moduls aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-282">Once the fonts are no longer in use, and at some point before the factory is destroyed, the loader must be unregistered.</span></span> <span data-ttu-id="5567f-283">Dies kann im Dekonstruktor für die Klasse erfolgen, die das Loader-Objekt besitzt.</span><span class="sxs-lookup"><span data-stu-id="5567f-283">This can be done in the destructor for the class that owns the loader object.</span></span> <span data-ttu-id="5567f-284">Diese Schritte werden unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="5567f-284">These steps will be shown below.</span></span> 

<span data-ttu-id="5567f-285">Die Methode zum Erstellen eines benutzerdefinierten Schriftart Satzes mit Remote Schriftarten lautet wie folgt: hierfür ist das Windows 10 Creators Update erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5567f-285">The method for creating a custom font set using remote fonts is as follows; this requires the Windows 10 Creators Update.</span></span>  

<dl> <span data-ttu-id="5567f-286">1. Erstellen Sie eine IDWriteFactory5-Schnittstelle, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-286">1. Create an IDWriteFactory5 interface, as shown above.</span></span>   
<span data-ttu-id="5567f-287">2. Erstellen Sie eine <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder">idschreitefontsetbuilder</a> -Schnittstelle, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-287">2. Create an <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder">IDWriteFontSetBuilder</a> interface, as shown above.</span></span>   
<span data-ttu-id="5567f-288">3. Verwenden Sie die Factory zum Abrufen eines <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader">idschreiteremotefontfileloader</a>.</span><span class="sxs-lookup"><span data-stu-id="5567f-288">3. Use the factory to obtain an <a href="/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader">IDWriteRemoteFontFileLoader</a>.</span></span> 


```C++
IDWriteRemoteFontFileLoader* pRemoteFontFileLoader; 
if (SUCCEEDED(hr)) 
{ 
    hr = pDWriteFactory->CreateHttpFontFileLoader( 
        /* referrerURL */ nullptr, 
        /* extraHeaders */ nullptr, 
        &pRemoteFontFileLoader 
    ); 
} 
```



<span data-ttu-id="5567f-289">Dies gibt eine vom System bereitgestellte Implementierung der Remote Schriftart Datei-Lade Tool Schnittstelle zurück, die HTTP-Interaktionen für das Herunterladen von Schriftart Daten im Auftrag der APP verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-289">This returns a system-provided implementation of the remote font file loader interface that is able to handle HTTP interactions for downloading font data on behalf of the app.</span></span> <span data-ttu-id="5567f-290">Eine referenrer-URL oder zusätzliche Header können angegeben werden, wenn Sie für den Schriftart Dienst oder die Dienste, die die Quelle für die Schriftarten sind, erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-290">A referrer URL or extra headers can be specified if required by the font service or services that are the source for the fonts.</span></span>    

> [!IMPORTANT]
> <span data-ttu-id="5567f-291">Sicherheitshinweis: beim Versuch, eine Remote Schriftart abzurufen, besteht die Möglichkeit, dass ein Angreifer den vorgesehenen Server SPO, der aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-291">Security note: When an attempt is made to fetch a remote font, the potential exists for an attacker to spoof the intended server that will be called.</span></span> <span data-ttu-id="5567f-292">In diesem Fall werden die Ziel-und Verweiser-URLs und Header Details dem Angreifer offengelegt.</span><span class="sxs-lookup"><span data-stu-id="5567f-292">In that case, the target and referrer URLs and header details would be disclosed to the attacker.</span></span> <span data-ttu-id="5567f-293">App-Entwickler sind dafür verantwortlich, dieses Risiko zu mindern.</span><span class="sxs-lookup"><span data-stu-id="5567f-293">App developers are responsible for mitigating this risk.</span></span> <span data-ttu-id="5567f-294">Es wird empfohlen, anstelle von http das HTTPS-Protokoll zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="5567f-294">Use of the HTTPS protocol, rather than HTTP, is recommended.</span></span> 

 

<span data-ttu-id="5567f-295">Ein einzelnes Remote-Schriftart Datei-Lade Tool kann für mehrere Schriftarten verwendet werden, obwohl verschiedene Lade Programme verwendet werden können, wenn Schriftarten von mehreren Diensten abgerufen werden, die unterschiedliche Anforderungen an die Verweis-URL oder zusätzliche Header haben.</span><span class="sxs-lookup"><span data-stu-id="5567f-295">A single remote font file loader can be used for multiple fonts, though different loaders can be used if fonts are obtained from multiple services that have different requirements for referrer URL or extra headers.</span></span>   
4. <span data-ttu-id="5567f-296">Registrieren Sie das Remote Schriftart Datei-Lade Tool bei der Factory.</span><span class="sxs-lookup"><span data-stu-id="5567f-296">Register the remote font file loader with the factory.</span></span> 


```C++
 if (SUCCEEDED(hr)) 
 { 
     hr = pDWriteFactory->RegisterFontFileLoader(pRemoteFontFileLoader); 
 } 
```



<span data-ttu-id="5567f-297">Ab diesem Zeitpunkt sind die Schritte zum Erstellen des benutzerdefinierten Schriftart Satzes mit den für bekannte, lokale Schriftart Dateien beschriebenen Schritten vergleichbar, die zwei wichtige Ausnahmen haben.</span><span class="sxs-lookup"><span data-stu-id="5567f-297">From this point, the steps for creating the custom font set are similar to those described for known, local font files, with two important exceptions.</span></span> <span data-ttu-id="5567f-298">Zuerst wird das [**idwrite-fontfile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) -Objekt über die Remote-Schriftart Datei-Lade Tool Schnittstelle erstellt, anstatt die Factory zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="5567f-298">First, the [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) object is created using the remote font file loader interface rather than using the factory.</span></span> <span data-ttu-id="5567f-299">Zweitens kann die Analysemethode nicht verwendet werden, da die Schriftart Daten nicht lokal sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-299">Second, the Analyze method cannot be used since the font data is not local.</span></span> <span data-ttu-id="5567f-300">Stattdessen muss die APP wissen, ob es sich bei der Remote Schriftart Datei um eine OpenType-Schriftart Sammlungs Datei handelt. wenn dies der Fall ist, muss Sie wissen, welche der Schriftarten in der Auflistung verwendet werden soll, sowie den Index für jede.</span><span class="sxs-lookup"><span data-stu-id="5567f-300">Instead, the app must know whether the remote font file is an OpenType Font Collection file, and if so, then it must know which of the fonts within the collection it will use, and the index for each.</span></span> <span data-ttu-id="5567f-301">Folglich sind die restlichen Schritte wie folgt.</span><span class="sxs-lookup"><span data-stu-id="5567f-301">Hence, the remaining steps are as follows.</span></span>   
5. <span data-ttu-id="5567f-302">Verwenden Sie für jede Remote Schriftart Datei die Remote Schriftart-Datei Lade Tool-Schnittstelle, um eine [**idwrite-fontfile-Datei**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile)zu erstellen, die die URL angibt, die für den Zugriff auf die Schriftart Datei</span><span class="sxs-lookup"><span data-stu-id="5567f-302">For each remote font file, use the remote font file loader interface to create an [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile), specifying the URL required to access the font file.</span></span> 


```C++
 IDWriteFontFile* pFontFile; 
 hr = pRemoteFontFileLoader->CreateFontFileReferenceFromUrl( 
     pDWriteFactory, 
     /* baseUrl */ L"https://github.com/", 
     /* fontFileUrl */ L"winjs/winjs/blob/master/src/fonts/Symbols.ttf?raw=true", 
     &pFontFile 
 ); 
```



<span data-ttu-id="5567f-303">Beachten Sie, dass die gesamte URL im fontfileurl-Parameter angegeben werden kann, oder Sie kann in Basis-und relative Teile aufgeteilt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-303">Note that the complete URL can be specified in the fontFileUrl parameter, or it can be split into base and relative portions.</span></span> <span data-ttu-id="5567f-304">Wenn eine Basis-URL angegeben wird, muss die Verkettung der Werte baseurl und fontfileurl die vollständige URL bereitstellen – DirectWrite stellt kein zusätzliches Trennzeichen bereit.</span><span class="sxs-lookup"><span data-stu-id="5567f-304">If a base URL is specified, then the concatenation of the baseUrl and fontFileUrl values must provide the complete URL — DirectWrite will not supply any additional delimiter.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="5567f-305">Sicherheits-/Leistungshinweis: beim Versuch, eine Remote Schriftart abzurufen, gibt es keine Garantie dafür, dass Windows eine Antwort vom Server empfängt.</span><span class="sxs-lookup"><span data-stu-id="5567f-305">Security / performance note: When an attempt is made to fetch a remote font, there is no guarantee that Windows will receive a response from the server.</span></span> <span data-ttu-id="5567f-306">In einigen Fällen antwortet ein Server möglicherweise mit einem Fehler aufgrund einer Datei nicht gefunden für einen ungültigen relative URL, reagiert jedoch nicht mehr, wenn er mehrere ungültige Anforderungen empfängt.</span><span class="sxs-lookup"><span data-stu-id="5567f-306">In some cases, a server may respond with a file-not-found error for an invalid relative URL, but stop responding if it receives multiple invalid requests.</span></span> <span data-ttu-id="5567f-307">Wenn der Server nicht antwortet, wird von Windows schließlich ein Timeout ausgelöst. Dies kann jedoch einige Minuten in Anspruch nehmen, wenn mehrere Abruf Vorgänge initiiert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-307">If the server does not respond, Windows will eventually time out, though this may take several minutes if multiple fetches are initiated.</span></span> <span data-ttu-id="5567f-308">Sie sollten das tun, was Sie tun können, um sicherzustellen, dass URLs gültig sind, wenn Aufrufe durchgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-308">You should do what you can to ensure that URLs will be valid when calls are made.</span></span> 

 

<span data-ttu-id="5567f-309">Beachten Sie auch, dass die URL auf eine unformatierte OpenType-Schriftart Datei (. ttf,. OTF,. TTC,. OTC) verweisen kann, aber auch auf Schriftarten in einer WOFF-oder WOFF2-Containerdatei verweisen kann.</span><span class="sxs-lookup"><span data-stu-id="5567f-309">Also note that the URL can point to a raw OpenType font file (.ttf, .otf, .ttc, .otc), but it can also point to fonts in a WOFF or WOFF2 container file.</span></span> <span data-ttu-id="5567f-310">Wenn auf eine WOFF-oder WOFF2-Datei verwiesen wird, entpackt die DirectWrite-Implementierung des Remote Schriftart Datei-Lade Moduls automatisch die Schriftart Daten aus der Containerdatei.</span><span class="sxs-lookup"><span data-stu-id="5567f-310">If a WOFF or WOFF2 file is referenced, then the DirectWrite implementation of the remote font file loader will automatically unpack the font data from the container file.</span></span>   
6. <span data-ttu-id="5567f-311">Erstellen Sie für jeden Schriftart Index der Schriftart in der zu verwendenden Remote Schriftart Datei eine [**idwrite-fontfakereferenzierung**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference).</span><span class="sxs-lookup"><span data-stu-id="5567f-311">For each font face index within the remote font file that is to be used, create an [**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference).</span></span> 


```C++
 IDWriteFontFaceReference* pFontFaceReference; 
 hr = pDWriteFactory->CreateFontFaceReference(pFontFile, /* faceIndex */ 0, DWRITE_FONT_SIMULATIONS_NONE, &pFontFaceReference);
```



  
7. <span data-ttu-id="5567f-312">Definieren Sie benutzerdefinierte Eigenschaften für das Schriftart Gesicht, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-312">Define custom properties for the font face, as shown above.</span></span>   
8. <span data-ttu-id="5567f-313">Fügen Sie dem Schriftart Satz-Generator, wie oben gezeigt, den Schriftart Verweis auf Schriftart zusammen mit benutzerdefinierten Eigenschaften hinzu.</span><span class="sxs-lookup"><span data-stu-id="5567f-313">Add the font face reference along with custom properties to the font set builder, as shown above.</span></span>   
9. <span data-ttu-id="5567f-314">Nachdem dem Schriftart Satz-Generator alle Schriftarten hinzugefügt wurden, erstellen Sie wie oben gezeigt den Schriftart Satz.</span><span class="sxs-lookup"><span data-stu-id="5567f-314">After all fonts have been added to the font set builder, create the font set, as shown above.</span></span>   
10. <span data-ttu-id="5567f-315">Wenn die Remote Schriftarten nicht mehr verwendet werden, heben Sie die Registrierung des Remote Schriftart Datei-Lade Moduls auf.</span><span class="sxs-lookup"><span data-stu-id="5567f-315">At some point when the remote fonts will no longer be used, unregister the remote font file loader.</span></span> 


```C++
hr = pDWriteFactory->UnregisterFontFileLoader(pRemoteFontFileLoader); 
```



  
</dl>

<span data-ttu-id="5567f-316">Sobald ein benutzerdefinierter Schriftart Satz mit benutzerdefinierten Remote Schriftarten erstellt wurde, enthält der Schriftart Satz Verweise und Informations Eigenschaften für die Remote Schriftarten, aber die tatsächlichen Daten sind immer noch Remote.</span><span class="sxs-lookup"><span data-stu-id="5567f-316">Once a custom font set with custom remote fonts is created, the font set contains references and informational properties for the remote fonts, but the actual data is still remote.</span></span> <span data-ttu-id="5567f-317">Die DirectWrite-Unterstützung für Remote Schriftarten ermöglicht das Beibehalten eines Schriftart Verweises im Schrift Schnitt und das Auswählen einer Schriftart für die Verwendung im Layout und Rendering, aber die tatsächlichen Daten werden erst heruntergeladen, wenn Sie tatsächlich benötigt werden, z. b. wenn das Text Layout ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-317">DirectWrite support for remote fonts allows a font face reference to be maintained in the font set, and for a font to be selected for use in layout and rendering, but that the actual data is not downloaded until there is an actual need to use it, such as when text layout will be performed.</span></span>  

<span data-ttu-id="5567f-318">Eine APP kann einen vorab Ansatz ergreifen, indem Sie anfordert, dass DirectWrite die Schriftart Daten herunterlädt und dann auf die Bestätigung eines erfolgreichen Downloads wartet, bevor eine Verarbeitung mit der Schriftart begonnen wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-318">An app can take an up-front approach by requesting that DirectWrite download the font data and then waiting for confirmation of a successful download before any processing with the font is begun.</span></span> <span data-ttu-id="5567f-319">Ein Netzwerk Download impliziert jedoch eine Latenz der unvorhersehbaren Dauer, und der Erfolg ist auch unsicher.</span><span class="sxs-lookup"><span data-stu-id="5567f-319">But a network download implies some latency of unpredictable duration, and success is also uncertain.</span></span> <span data-ttu-id="5567f-320">Aus diesem Grund ist es normalerweise besser, einen anderen Ansatz zu verwenden, sodass Layout und Rendering anfänglich mit alternativen oder Fall Back Schriftarten durchgeführt werden können, die bereits lokal sind. gleichzeitig wird der Download der gewünschten Remote Schriftart parallel angefordert, und die Ergebnisse werden aktualisiert, sobald die gewünschte Schriftart heruntergeladen wurde.</span><span class="sxs-lookup"><span data-stu-id="5567f-320">For this reason, it will usually be better to take a different approach, allowing layout and rendering to be done initially using alternate or fallback fonts that are already local, while requesting download of the desired, remote font in parallel, and then updating the results once the desired font has been downloaded.</span></span> 

<span data-ttu-id="5567f-321">Um anzufordern, dass die gesamte Schriftart vor der Verwendung heruntergeladen wird, kann die [**idwrite-fontfacereferenzierungsmethode**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontfacereference-enqueuefontdownloadrequest) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-321">To request that the entire font be downloaded before it gets used, the [**IDWriteFontFaceReference::EnqueueFontDownloadRequest**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontfacereference-enqueuefontdownloadrequest) method can be used.</span></span> <span data-ttu-id="5567f-322">Wenn die Schriftart sehr groß ist, ist möglicherweise nur ein Teil der Daten für die Verarbeitung bestimmter Zeichen folgen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5567f-322">If the font is very large, only a portion of the data may be needed for processing particular strings.</span></span> <span data-ttu-id="5567f-323">DirectWrite stellt zusätzliche Methoden bereit, mit denen Teile der Schriftart Daten angefordert werden können, die für bestimmte Inhalte, [**enqueuecharakteridownloadrequest**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontfacereference-enqueuecharacterdownloadrequest) und [**enqueueglyphdownloadrequest**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontfacereference-enqueueglyphdownloadrequest)benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-323">DirectWrite provides additional methods that can be used to request portions of the font data needed for particular content, [**EnqueueCharacterDownloadRequest**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontfacereference-enqueuecharacterdownloadrequest) and [**EnqueueGlyphDownloadRequest**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontfacereference-enqueueglyphdownloadrequest).</span></span>  

<span data-ttu-id="5567f-324">Angenommen, der Ansatz, der in der APP verwendet werden soll, besteht darin, die Verarbeitung zunächst mit lokalen, Alternativen oder Fall Back Schriftarten durchgeführt zu haben.</span><span class="sxs-lookup"><span data-stu-id="5567f-324">Suppose the approach to be taken in the app is to allow processing to be done initially using local, alternate or fallback fonts.</span></span> <span data-ttu-id="5567f-325">Die idwrite-fontfallback::[**mapcharacters**](idwritefontfallback-mapcharacters.md) -Methode kann verwendet werden, um lokale Fall Back-Schriftarten zu identifizieren, und eine Anforderung zum Herunterladen der bevorzugten Schriftart wird automatisch in die Warteschlange eingereiht.</span><span class="sxs-lookup"><span data-stu-id="5567f-325">The IDWriteFontFallback::[**MapCharacters**](idwritefontfallback-mapcharacters.md) method can be used to identify local fallback fonts, and it will also automatically enqueue a request to download the preferred font.</span></span> <span data-ttu-id="5567f-326">Wenn [**idwrite-Textlayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) verwendet wird und ein Teil oder der gesamte Text im Layout mithilfe eines Remote-Schriftart Verweises formatiert wird, verwendet DirectWrite automatisch die **mapcharacters** -Methode, um lokale Fall Back-Schriftarten zu erhalten und eine Anforderung zum Herunterladen der Remote Schriftart Daten in die Warteschlange zu stellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-326">Also, if [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) is used and some or all of the text in the layout is formatted using a remote font reference, then DirectWrite will automatically use the **MapCharacters** method to get local fallback fonts and to enqueue a request to download the remote font data.</span></span> 

<span data-ttu-id="5567f-327">DirectWrite verwaltet eine Schriftart Download Warteschlange für jede Factory, und die mit den oben erwähnten Methoden erfolgten Anforderungen werden dieser Warteschlange hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="5567f-327">DirectWrite maintains a font download queue for each factory, and the requests made using the methods mentioned above get added to that queue.</span></span> <span data-ttu-id="5567f-328">Die Schriftart Download Warteschlange kann mithilfe der [**IDWriteFactory3:: getfontdownloadqueue**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getfontdownloadqueue) -Methode abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-328">The font download queue can be obtained using the [**IDWriteFactory3::GetFontDownloadQueue**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getfontdownloadqueue) method.</span></span> 

<span data-ttu-id="5567f-329">Wenn eine Download Anforderung erfolgt ist, aber die Schriftart Daten bereits lokal sind, führt dies zu einem No-op-Vorgang: nichts wird der Download Warteschlange hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="5567f-329">If a download request is made but the font data is already local, this will result in a no-op: Nothing will be added to the download queue.</span></span> <span data-ttu-id="5567f-330">Eine APP kann überprüfen, ob die Warteschlange leer ist oder ob ausstehende Download Anforderungen vorhanden sind, indem die [**idwrite-fontdownloadqueue:: IsEmpty**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadqueue-isempty) -Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-330">An app can check whether the queue is empty or there are pending download requests by calling the [**IDWriteFontDownloadQueue::IsEmpty**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadqueue-isempty) method.</span></span> 

<span data-ttu-id="5567f-331">Nachdem der Warteschlange Remote-Schriftart Anforderungen hinzugefügt wurden, muss der Downloadvorgang initiiert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-331">After remote font requests have been added to the queue, the download process must be initiated.</span></span> <span data-ttu-id="5567f-332">Wenn Remote Schriftarten in [**idwrite-Text Layout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout)verwendet werden, wird der Download automatisch initiiert, wenn die APP **idschreitetextlayout** -Methoden aufruft, die Layout-oder Renderingvorgänge erzwingen, wie z. b. getLineMetrics oder Draw-Methoden.</span><span class="sxs-lookup"><span data-stu-id="5567f-332">When remote fonts are used in [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout), the download will be initiated automatically when the app calls **IDWriteTextLayout** methods that force layout or rendering operations, such as the GetLineMetrics or Draw methods.</span></span> <span data-ttu-id="5567f-333">In anderen Szenarien muss die APP den Download direkt initiieren, indem Sie " [**idschreitefontdownloadqueue:: BeginDownload**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadqueue-begindownload)" aufrufen.</span><span class="sxs-lookup"><span data-stu-id="5567f-333">In other scenarios, the app must initiate the download directly by calling [**IDWriteFontDownloadQueue::BeginDownload**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadqueue-begindownload).</span></span>  

<span data-ttu-id="5567f-334">Wenn ein Download abgeschlossen ist, muss die APP die entsprechenden Aktionen ausführen – mit ausstehenden Vorgängen oder wiederholten Vorgängen, die anfänglich mit Fall Back Schriftarten durchgeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="5567f-334">When a download is completed, it will be up to the app to take appropriate actions — proceeding with pending operations, or repeating operations that were done initially with fallback fonts.</span></span> <span data-ttu-id="5567f-335">(Wenn das Text Layout von DirectWrite verwendet wird, kann [**IDWriteTextLayout3:: invalidatelayout**](idwritetextlayout3-invalidatelayout.md) verwendet werden, um die temporären Ergebnisse zu löschen, die mithilfe von Fall Back-Schriftarten berechnet werden.) Damit die APP benachrichtigt wird, wenn der Downloadvorgang abgeschlossen ist, und um entsprechende Aktionen durchführen zu können, muss die APP eine Implementierung der [**idschreitefontdownloadlistener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) -Schnittstelle bereitstellen und diese an den BeginDownload-Befehl übergeben.</span><span class="sxs-lookup"><span data-stu-id="5567f-335">(If DirectWrite’s text layout is being used, then [**IDWriteTextLayout3::InvalidateLayout**](idwritetextlayout3-invalidatelayout.md) can be used to clear the temporary results computed using fallback fonts.) In order for the app to be notified when the download process has completed and to take appropriate actions, the app must provide an implementation of the [**IDWriteFontDownloadListener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) interface, and pass this into the BeginDownload call.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="5567f-336">Sicherheits-/Leistungshinweis: beim Versuch, eine Remote Schriftart abzurufen, gibt es keine Garantie dafür, dass Windows eine Antwort vom Server empfängt.</span><span class="sxs-lookup"><span data-stu-id="5567f-336">Security / performance note: When an attempt is made to fetch a remote font, there is no guarantee that Windows will receive a response from the server.</span></span> <span data-ttu-id="5567f-337">Wenn der Server nicht antwortet, tritt bei Windows schließlich ein Timeout auf, dies kann jedoch einige Minuten in Anspruch nehmen, wenn mehrere Remote Schriftarten abgerufen werden, aber nicht.</span><span class="sxs-lookup"><span data-stu-id="5567f-337">If the server does not respond, Windows will eventually time out, though this may take several minutes if multiple remote fonts are being fetched but failing.</span></span> <span data-ttu-id="5567f-338">Der BeginDownload-Befehl wird sofort zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="5567f-338">The BeginDownload call will return immediately.</span></span> <span data-ttu-id="5567f-339">Apps sollten die Benutzeroberfläche nicht blockieren, während darauf gewartet wird, dass [**idwrite-fontdownloadlistener::D ownloadabgeschlossene**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadlistener-downloadcompleted) aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-339">Apps should not block UI while waiting for [**IDWriteFontDownloadListener::DownloadCompleted**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadlistener-downloadcompleted) to be called.</span></span> 

 

<span data-ttu-id="5567f-340">Beispiel Implementierungen dieser Interaktionen mit der Schriftart Download Warteschlange von DirectWrite und der [**idschreitefontdownloadlistener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) -Schnittstelle finden Sie im [Beispiel zu benutzerdefinierten DirectWrite-Schriftart Sätzen](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/)und auch im Beispiel für das [herunterladbare Verzeichnis von DirectWrite](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/DWriteTextLayoutCloudFont).</span><span class="sxs-lookup"><span data-stu-id="5567f-340">Sample implementations of these interactions with DirectWrite’s font download queue and of the [**IDWriteFontDownloadListener**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontdownloadlistener) interface can be seen in the [DirectWrite Custom Font Sets sample](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/), and also in the [DirectWrite Downloadable Fonts sample](https://github.com/Microsoft/Windows-universal-samples/tree/master/Samples/DWriteTextLayoutCloudFont).</span></span> 

### <a name="creating-a-custom-font-set-using-font-data-loaded-into-memory"></a><span data-ttu-id="5567f-341">Erstellen eines benutzerdefinierten Schrift Satzes mit in den Arbeitsspeicher geladenen Schriftart Daten</span><span class="sxs-lookup"><span data-stu-id="5567f-341">Creating a custom font set using font data loaded into memory</span></span>

<span data-ttu-id="5567f-342">Ebenso wie die Low-Level-Vorgänge zum Lesen von Daten aus einer Schriftart Datei für Dateien auf einem lokalen Datenträger und Remote Dateien im Web unterscheiden, gilt dasselbe auch für Schriftart Daten, die in einen Arbeitsspeicher Puffer geladen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-342">Just as the low-level operations for reading data from a font file are different for files on a local disk versus remote files on the Web, the same is also true for font data loaded into a memory buffer.</span></span> <span data-ttu-id="5567f-343">In Windows 10 Creators Update, [**idschreiteinmemoryfontfileloader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteinmemoryfontfileloader), wurde eine neue Low-Level-Schnittstelle zum Verarbeiten von Schriftart Daten im Arbeitsspeicher hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="5567f-343">A new low-level interface for handling in-memory font data has been added in the Windows 10 Creators Update, [**IDWriteInMemoryFontFileLoader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteinmemoryfontfileloader).</span></span> 

<span data-ttu-id="5567f-344">Wie bei einem Remote-Schriftart Datei Lade Tool muss ein Schriftart Datei-Lade Tool in-Memory zuerst bei einer DirectWrite-Factory registriert werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-344">As with a remote font file loader, an in-memory font file loader must first be registered with a DirectWrite factory.</span></span> <span data-ttu-id="5567f-345">Das Lade Modul muss von der APP aufbewahrt werden, solange die damit verbundenen Schriftarten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-345">The loader will need to be held by the app for as long as the fonts associated with it are being used.</span></span> <span data-ttu-id="5567f-346">Wenn die Schriftarten nicht mehr verwendet werden, und bevor die Factory zerstört wird, muss die Registrierung des Lade Moduls aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-346">Once the fonts are no longer in use, and at some point before the factory is destroyed, the loader must be unregistered.</span></span> <span data-ttu-id="5567f-347">Dies kann im Dekonstruktor für die Klasse erfolgen, die das Loader-Objekt besitzt.</span><span class="sxs-lookup"><span data-stu-id="5567f-347">This can be done in the destructor for the class that owns the loader object.</span></span> <span data-ttu-id="5567f-348">Diese Schritte werden unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="5567f-348">These steps will be shown below.</span></span> 

<span data-ttu-id="5567f-349">Wenn die APP getrennte Informationen über die von den Daten dargestellten Schriftart Gesichter enthält, kann Sie einzelne Schriftart Verweise auf einen Schriftart Satz Generator mit den angegebenen benutzerdefinierten Eigenschaften hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="5567f-349">If the app has separate information about the font faces represented by the data, it can add individual font face references to a font set builder with custom properties specified.</span></span> <span data-ttu-id="5567f-350">Da sich die Schriftart Daten im lokalen Arbeitsspeicher befinden, ist dies jedoch nicht erforderlich. DirectWrite kann die Daten direkt lesen, um die Eigenschaftswerte abzuleiten.</span><span class="sxs-lookup"><span data-stu-id="5567f-350">Since the font data is in local memory, however, this is not required; DirectWrite will be able to read the data directly to derive the property values.</span></span> 

<span data-ttu-id="5567f-351">DirectWrite geht davon aus, dass die Schriftart Daten im unformatierten OpenType-Format vorliegen, das einer OpenType-Datei (. ttf,. OTF,. TTC,. OTC), aber im Arbeitsspeicher und nicht auf dem Datenträger entspricht.</span><span class="sxs-lookup"><span data-stu-id="5567f-351">DirectWrite assumes the font data is in raw, OpenType format, equivalent to an OpenType file (.ttf, .otf, .ttc, .otc), but in memory rather than on disk.</span></span> <span data-ttu-id="5567f-352">Die Daten dürfen nicht in einem WOFF-oder WOFF2-Containerformat vorliegen.</span><span class="sxs-lookup"><span data-stu-id="5567f-352">The data cannot be in a WOFF or WOFF2 container format.</span></span> <span data-ttu-id="5567f-353">Die Daten können eine OpenType-Schriftart Auflistung darstellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-353">The data can represent an OpenType Font Collection.</span></span> <span data-ttu-id="5567f-354">Wenn keine benutzerdefinierten Eigenschaften verwendet werden, kann die [**IDWriteFontSetBuilder1:: AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) -Methode zum Hinzufügen aller Schriftart Gesichter in den Daten in einem einzelnen-Befehl verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-354">If custom properties are not being used, then the [**IDWriteFontSetBuilder1::AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method can be used to add all font faces in the data in a single call.</span></span> 

<span data-ttu-id="5567f-355">Ein wichtiger Aspekt des in-Memory-Szenarios ist die Lebensdauer der Daten.</span><span class="sxs-lookup"><span data-stu-id="5567f-355">An important consideration for the in-memory scenario is the lifetime of the data.</span></span> <span data-ttu-id="5567f-356">Wenn ein Zeiger auf den Puffer für DirectWrite bereitgestellt wird, ohne dass ein Besitzer vorhanden ist, erstellt DirectWrite eine Kopie der Daten in einem neuen Arbeitsspeicher Puffer, den er besitzt.</span><span class="sxs-lookup"><span data-stu-id="5567f-356">If a pointer to the buffer is provided to DirectWrite without a clear indication that there is an owner, then DirectWrite will make a copy of the data into a new memory buffer that it will own.</span></span> <span data-ttu-id="5567f-357">Um das Kopieren von Daten und die zusätzliche Speicher Belegung zu vermeiden, kann die APP ein Daten Besitzer Objekt übergeben, das IUnknown implementiert, und das den Speicherpuffer mit den Schriftart Daten besitzt.</span><span class="sxs-lookup"><span data-stu-id="5567f-357">To avoid copying of data and additional memory allocation, the app can pass a data-owner object that implements IUnknown, and that owns the memory buffer containing the font data.</span></span> <span data-ttu-id="5567f-358">Durch Implementieren dieser Schnittstelle kann DirectWrite den Verweis Zähler des Objekts hinzufügen, um die Lebensdauer der eigenen Daten sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-358">By implementing this interface, DirectWrite can add to the ref count of the object, thereby ensuring the lifetime of the owned data.</span></span> 

<span data-ttu-id="5567f-359">Die Methode zum Erstellen eines benutzerdefinierten Schriftart Satzes mithilfe von Schriftart Daten im Arbeitsspeicher lautet wie folgt: hierfür ist das Windows 10 Creators Update erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5567f-359">The method for creating a custom font set using in-memory font data is as follows; this requires the Windows 10 Creators Update.</span></span> <span data-ttu-id="5567f-360">Dabei wird ein von der APP implementiertes Daten Besitzer Objekt angenommen, das IUnknown implementiert und auch über Methoden verfügt, die einen Zeiger auf den Speicherpuffer und die Größe des Puffers zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="5567f-360">This will assume an app-implemented data-owner object, that implements IUnknown and also has methods that return a pointer to the memory buffer and the size of the buffer.</span></span> 

<dl> <span data-ttu-id="5567f-361">1. Erstellen Sie eine IDWriteFactory5-Schnittstelle, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-361">1. Create an IDWriteFactory5 interface, as shown above.</span></span>  
<span data-ttu-id="5567f-362">2. Erstellen Sie eine [**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) -Schnittstelle, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-362">2. Create an [**IDWriteFontSetBuilder1**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontsetbuilder1) interface, as shown above.</span></span>  
<span data-ttu-id="5567f-363">3. Verwenden Sie die Factory zum Abrufen eines idschreiteinmemoryfontfileloader.</span><span class="sxs-lookup"><span data-stu-id="5567f-363">3. Use the factory to obtain an IDWriteInMemoryFontFileLoader.</span></span> 


```C++
 IDWriteInMemoryFontFileLoader* pInMemoryFontFileLoader; 
if (SUCCEEDED(hr)) 
{ 
    hr = pDWriteFactory->CreateInMemoryFontFileLoader(&pInMemoryFontFileLoader); 
}
```



<span data-ttu-id="5567f-364">Dadurch wird eine vom System bereitgestellte Implementierung der in-Memory-Schriftart Datei Lade Tool-Schnittstelle zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="5567f-364">This returns a system-provided implementation of the in-memory font file loader interface.</span></span>   
4. <span data-ttu-id="5567f-365">Registrieren Sie das in-Memory-Schriftart Datei Lade Tool bei der Factory.</span><span class="sxs-lookup"><span data-stu-id="5567f-365">Register the in-memory font file loader with the factory.</span></span> 


```C++
if (SUCCEEDED(hr)) 
{ 
    hr = pDWriteFactory->RegisterFontFileLoader(pInMemoryFontFileLoader); 
}
```



   
5. <span data-ttu-id="5567f-366">Verwenden Sie für jede Schriftart im Arbeitsspeicher das Schriftart Datei-Lade Tool in-Memory, um eine [**idwrite-fontfile-Datei**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile)zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-366">For each in-memory font file, use the in-memory font file loader to create an [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile).</span></span> 


```C++
IDWriteFontFile* pFontFile; 
hr = pInMemoryFontFileLoader->CreateInMemoryFontFileReference( 
    pDWriteFactory, 
    pFontDataOwner->fontData /* returns void* */, 
    pFontDataOwner->fontDataSize /* returns UINT32 */, 
    pFontDataOwner /* ownerObject, owns the memory with font data and implements IUknown */, 
    &pFontFile 
); 
```



   
6. <span data-ttu-id="5567f-367">Fügen Sie dem Schriftart Satz-Generator das [**idwrite-fontfile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) -Objekt mithilfe der [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) -Methode hinzu, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-367">Add the [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) object to the font set builder using the [**AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method, as shown above.</span></span>  <span data-ttu-id="5567f-368">Wenn ein Bedarf vorliegt, kann die APP stattdessen einzelne [**idwrite Items fontfacereferenzierungsobjekte**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) basierend auf der **idwrite-fontfile** erstellen, optional benutzerdefinierte Eigenschaften für jeden Schriftart Verweis definieren und dann den Schriftart Verweis mit benutzerdefinierten Eigenschaften mithilfe der [**addfontfacereferenzierungsmethode**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) hinzufügen, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-368">If there is a need, the app can instead create individual [**IDWriteFontFaceReference**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontfacereference) objects based on the **IDWriteFontFile**, optionally define custom properties for each font face reference, and then add the font face reference with custom properties to the font set using the [**AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) method, as shown above.</span></span>   
7. <span data-ttu-id="5567f-369">Nachdem dem Schriftart Satz-Generator alle Schriftarten hinzugefügt wurden, erstellen Sie den benutzerdefinierten Schriftart Satz, wie oben gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5567f-369">After all fonts have been added to the font set builder, create the custom font set, as shown above.</span></span>   
8. <span data-ttu-id="5567f-370">Wenn die in-Memory-Schriftarten nicht mehr verwendet werden, heben Sie die Registrierung des in-Memory-Schriftart Datei Laders auf.</span><span class="sxs-lookup"><span data-stu-id="5567f-370">At some point when the in-memory fonts will no longer be used, unregister the in-memory font file loader.</span></span> 


```C++
hr = pDWriteFactory->UnregisterFontFileLoader(pInMemoryFontFileLoader);
```



  
</dl>

 

## <a name="advanced-scenarios"></a><span data-ttu-id="5567f-371">Erweiterte Szenarios</span><span class="sxs-lookup"><span data-stu-id="5567f-371">Advanced scenarios</span></span>

<span data-ttu-id="5567f-372">Einige apps verfügen möglicherweise über besondere Anforderungen, die eine erweiterte Verarbeitung erfordern, als oben beschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-372">Some apps may have special requirements that require more advanced processing than is described above.</span></span> 

### <a name="combining-font-sets"></a><span data-ttu-id="5567f-373">Kombinieren von Schriftart Sätzen</span><span class="sxs-lookup"><span data-stu-id="5567f-373">Combining font sets</span></span>

<span data-ttu-id="5567f-374">Einige apps müssen möglicherweise einen Schriftart Satz erstellen, der eine Kombination von Elementen aus anderen Schriftart Sätzen umfasst.</span><span class="sxs-lookup"><span data-stu-id="5567f-374">Some apps may need to create a font set that comprises some combination of items from other font sets.</span></span> <span data-ttu-id="5567f-375">Beispielsweise kann eine APP einen Schriftart Satz erstellen, der alle auf dem System installierten Schriftarten mit einer Auswahl benutzerdefinierter Schriftarten kombiniert oder installierte Schriftarten kombiniert, die bestimmten Kriterien mit anderen Schriftarten entsprechen.</span><span class="sxs-lookup"><span data-stu-id="5567f-375">For example, an app may want to create a font set that combines all the fonts installed on the system with a selection of custom fonts, or that combines installed fonts matching certain criteria with other fonts.</span></span> <span data-ttu-id="5567f-376">DirectWrite verfügt über APIs zur Unterstützung der Bearbeitung und Kombination von Schriftart Sätzen.</span><span class="sxs-lookup"><span data-stu-id="5567f-376">DirectWrite has APIs to support manipulation and combining of font sets.</span></span> 

<span data-ttu-id="5567f-377">Um zwei oder mehr Schriftart Sätze zu kombinieren, fügt die [**idwrite-fontsetbuilder:: addfontset**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontset) -Methode alle Schriftarten in einem angegebenen Schriftart Satz hinzu, die einem Schriftart Satz-Generator in einem einzelnen-Befehl hinzugefügt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="5567f-377">To combine two or more font sets, the [**IDWriteFontSetBuilder::AddFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontset) method adds all of the fonts in given font set to be added to a font set builder in a single call.</span></span> <span data-ttu-id="5567f-378">Wenn im neuen Schriftart Satz nur bestimmte Schriftarten aus einem vorhandenen Schriftart Satz gewünscht werden, kann die [**idwrite-FONTSET:: getmatchingfonts**](idwritefontset-getmatchingfonts-overload.md) -Methode verwendet werden, um ein neues Schriftart Satz Objekt abzuleiten, das so gefiltert wurde, dass nur Schriftarten eingeschlossen werden, die mit den angegebenen Eigenschaften übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="5567f-378">If only certain fonts from an existing font set are wanted in the new font set, the [**IDWriteFontSet::GetMatchingFonts**](idwritefontset-getmatchingfonts-overload.md) method can be used to derive a new font set object that has been filtered to include only fonts matching specified properties.</span></span> <span data-ttu-id="5567f-379">Diese Methoden bieten eine einfache Möglichkeit zum Erstellen eines benutzerdefinierten Schriftart Satzes, der Schriftarten aus mindestens zwei vorhandenen Schriftart Sätzen kombiniert.</span><span class="sxs-lookup"><span data-stu-id="5567f-379">These methods provide an easy way to create a custom font set combining fonts from two or more existing font sets</span></span> 

### <a name="using-local-woff-or-woff2-font-data"></a><span data-ttu-id="5567f-380">Verwenden von lokalen WOFF-oder WOFF2-Schriftart Daten</span><span class="sxs-lookup"><span data-stu-id="5567f-380">Using local WOFF or WOFF2 font data</span></span>

<span data-ttu-id="5567f-381">Wenn eine APP Schriftart Dateien im lokalen Dateisystem oder in einem Arbeitsspeicher Puffer aufweist, Sie jedoch die WOFF-oder WOFF2-Containerformate verwenden, bietet DirectWrite (Windows 10 Creator Update oder höher) eine Methode zum Entpacken des Container Formats [**IDWriteFactory5:: unpackfontfile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-unpackfontfile), das einen [**idwrite-fontfilestream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream)zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="5567f-381">If an app has font files in the local file system or in a memory buffer, but they use the WOFF or WOFF2 container formats, DirectWrite (Windows 10 Creator Update or later) provides a method for unpacking the container format, [**IDWriteFactory5::UnpackFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory5-unpackfontfile), which returns an [**IDWriteFontFileStream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream).</span></span> 

<span data-ttu-id="5567f-382">Die APP benötigt jedoch eine Möglichkeit, den [**idwrite-fontfilestream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream) in ein Schriftart Datei-Lade Lade Objekt zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="5567f-382">However, the app will need a way to get the [**IDWriteFontFileStream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream) into a font file loader object.</span></span> <span data-ttu-id="5567f-383">Eine Möglichkeit besteht darin, eine benutzerdefinierte [**idschreitefontfileloader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader) -Implementierung zu erstellen, die den Datenstrom umschließt.</span><span class="sxs-lookup"><span data-stu-id="5567f-383">One way to do this is to create a custom [**IDWriteFontFileLoader**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfileloader) implementation that wraps the stream.</span></span> <span data-ttu-id="5567f-384">Wie bei anderen Schriftart Datei Lade Programmen muss dies vor der Verwendung registriert und die Registrierung aufgehoben werden, bevor die Factory den Gültigkeitsbereich verlässt.</span><span class="sxs-lookup"><span data-stu-id="5567f-384">As with other font file loaders, this must be registered before use, and unregistered before the factory goes out of scope.</span></span>  

<span data-ttu-id="5567f-385">Wenn das benutzerdefinierte Lade Tool auch mit unformatierten (nicht verpackten) Schriftart Dateien verwendet wird, muss die APP auch eine benutzerdefinierte Implementierung der [**idschreitefontfilestream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream) -Schnittstelle zum Verarbeiten dieser Dateien bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="5567f-385">If the custom loader will also be used with raw (not packed) font files, then the app would also need to provide a custom implementation of the [**IDWriteFontFileStream**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfilestream) interface for handling those files.</span></span> <span data-ttu-id="5567f-386">Es gibt jedoch einfachere Möglichkeiten, wie Sie die oben erläuterten APIs für die Behandlung von rohschriftart Dateien verwenden können.</span><span class="sxs-lookup"><span data-stu-id="5567f-386">There are easier ways that use APIs discussed above for handling raw font files, however.</span></span> <span data-ttu-id="5567f-387">Die Notwendigkeit einer benutzerdefinierten Stream-Implementierung kann vermieden werden, indem separate Codepfade für gepackte Schriftart Dateien im Vergleich zu unformatierten Schriftart Dateien verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-387">The need for a custom stream implementation could be avoided by using separate code paths for packed font files versus raw font files.</span></span> 

<span data-ttu-id="5567f-388">Nachdem ein benutzerdefiniertes Schriftart Datei-Lade Objekt erstellt wurde, werden die Daten der geladenen Schriftart Datei dem Lade Tool auf App-spezifische Weise hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="5567f-388">After a custom font file loader object is created, the packed font file data is added to the loader by app-specific means.</span></span> <span data-ttu-id="5567f-389">Das Lade Tool kann mehrere Schriftart Dateien verarbeiten, die jeweils mit einem App-definierten Schlüssel identifiziert werden, der für DirectWrite nicht transparent ist.</span><span class="sxs-lookup"><span data-stu-id="5567f-389">The loader can handle multiple font files, each of which is identified using an app-defined key that is opaque to DirectWrite.</span></span> <span data-ttu-id="5567f-390">Nachdem dem Lade Tool eine gepackte Schriftart Datei hinzugefügt wurde, wird die [**idwrite-Factory:: deecustomfontfilereferenzierungsmethode**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createcustomfontfilereference) verwendet, um eine [**idwrite-fontfile-Datei**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) abzurufen, die auf diesem Lade Tool für die durch einen bestimmten Schlüssel identifizierten Schriftart Daten basiert.</span><span class="sxs-lookup"><span data-stu-id="5567f-390">After a packed font file has been added to the loader, the [**IDWriteFactory::CreateCustomFontFileReference**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-createcustomfontfilereference) method is used to obtain an [**IDWriteFontFile**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfile) based on that loader for the font data identified by a given key.</span></span>  

<span data-ttu-id="5567f-391">Das eigentliche Entpacken der Schriftart Daten kann erfolgen, wenn dem Lade Tool Schriftarten hinzugefügt werden. Sie können jedoch auch in der [**idschreitefontfileloader:: deestreamfromkey**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfileloader-createstreamfromkey) -Methode behandelt werden, die von DirectWrite beim ersten Lesen der Schriftart Daten aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-391">The actual unpacking of the font data can be done as fonts are added to the loader, but can also be handled in the [**IDWriteFontFileLoader::CreateStreamFromKey**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfileloader-createstreamfromkey) method, which DirectWrite will call when it first needs to read the font data.</span></span> 

<span data-ttu-id="5567f-392">Nachdem ein idwrite-fontfile-Objekt erstellt wurde, werden die restlichen Schritte zum Hinzufügen der Schriftarten zu einem benutzerdefinierten Schriftart Satz wie oben beschrieben beschrieben.</span><span class="sxs-lookup"><span data-stu-id="5567f-392">After an IDWriteFontFile object has been created, remaining steps for adding the fonts to a custom font set will be as described above.</span></span> 

<span data-ttu-id="5567f-393">Eine Implementierung, bei der dieser Ansatz verwendet wird, wird im [Beispiel für benutzerdefinierte DirectWrite-Schriftart Sätze](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/)veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="5567f-393">An implementation using this approach is illustrated in the [DirectWrite Custom Font Sets sample](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/DirectWriteCustomFontSets/).</span></span> 

### <a name="using-directwrite-remote-font-mechanisms-with-custom-low-level-network-implementation"></a><span data-ttu-id="5567f-394">Verwenden von DirectWrite-Remote Schriftart Mechanismen mit benutzerdefinierter Netzwerk Implementierung auf niedriger Ebene</span><span class="sxs-lookup"><span data-stu-id="5567f-394">Using DirectWrite remote font mechanisms with custom low-level network implementation</span></span>

<span data-ttu-id="5567f-395">Die DirectWrite-Mechanismen für die Handhabung von Remote Schriftarten können in Mechanismen höherer Ebene aufgeteilt werden – mit Schriftart Sätzen, die Schriftart Verweise für Remote Schriftarten enthalten, das Überprüfen der Lokalität der Schriftart Daten und die Verwaltung der Warteschlange für Schriftart Download Anforderungen – und die Mechanismen auf niedrigerer Ebene, die den tatsächlichen Download verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="5567f-395">The DirectWrite mechanisms for handling remote fonts can be divided into higher-level mechanisms — having font sets that include font face references for remote fonts, checking locality of the font data, and managing the queue for font download requests — and the lower-level mechanisms that handle actual download.</span></span> <span data-ttu-id="5567f-396">Einige apps möchten möglicherweise die Remote Schriftart Mechanismen höherer Ebene verwenden, erfordern jedoch auch benutzerdefinierte Netzwerk Interaktionen, wie z. b. die Kommunikation mit Servern über andere Protokolle als http.</span><span class="sxs-lookup"><span data-stu-id="5567f-396">Some apps may want to utilize the higher-level remote font mechanisms, but also require custom network interactions, such as communicating with servers using protocols other than HTTP.</span></span> 

<span data-ttu-id="5567f-397">In dieser Situation muss eine APP eine benutzerdefinierte Implementierung der [**idbeschreib teremotefontfileloader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader) -Schnittstelle erstellen, die mit anderen Schnittstellen auf niedrigerer Ebene in den erforderlichen Punkten interagiert.</span><span class="sxs-lookup"><span data-stu-id="5567f-397">For this situation, an app will need to create a custom implementation of the [**IDWriteRemoteFontFileLoader**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfileloader) interface that interacts with other lower-level interfaces in the required ways.</span></span> <span data-ttu-id="5567f-398">Die APP muss außerdem benutzerdefinierte Implementierungen dieser untergeordneten Schnittstellen bereitstellen: [**idbeschreib teremotefontfilestream**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfilestream)und [**idschreiteasynkresult**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteasyncresult).</span><span class="sxs-lookup"><span data-stu-id="5567f-398">The app will also need to provide custom implementations of these lower-level interfaces: [**IDWriteRemoteFontFileStream**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteremotefontfilestream), and [**IDWriteAsyncResult**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteasyncresult).</span></span> <span data-ttu-id="5567f-399">Diese drei Schnittstellen verfügen über Rückruf Methoden, die von DirectWrite während Download Vorgängen aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="5567f-399">These three interfaces have callback methods that DirectWrite will call during download operations.</span></span> 

<span data-ttu-id="5567f-400">Wenn " [**idschreitefontdownloadqueue:: BeginDownload**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadqueue-begindownload) " aufgerufen wird, führt DirectWrite Abfragen an den Remote-Schriftart Datei Lader zum Ort der Daten aus und fordert den Remotestream an.</span><span class="sxs-lookup"><span data-stu-id="5567f-400">When [**IDWriteFontDownloadQueue::BeginDownload**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontdownloadqueue-begindownload) is called, DirectWrite will make queries to the remote font file loader about locality of the data, and will request the remote stream.</span></span> <span data-ttu-id="5567f-401">Wenn die Daten nicht lokal sind, wird die BeginDownload-Methode des Streams aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="5567f-401">If data is not local, then it will call the stream’s BeginDownload method.</span></span> <span data-ttu-id="5567f-402">Die streamimplementierung sollte bei diesem-Befehl nicht blockieren, sondern sofort zurückgeben und ein [**idwrite-asynkresult**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteasyncresult) -Objekt zurückgeben, das den Wait-Handle bereitstellt, den DirectWrite zum warten auf den asynchronen Downloadvorgang verwendet.</span><span class="sxs-lookup"><span data-stu-id="5567f-402">The stream implementation should not block on that call, but should immediately return, passing back an [**IDWriteAsyncResult**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwriteasyncresult) object that provides the wait handle DirectWrite will use to wait on the asynchronous download operation.</span></span> <span data-ttu-id="5567f-403">Die Implementierung des benutzerdefinierten Streams ist für die Verarbeitung der Remote Kommunikation zuständig.</span><span class="sxs-lookup"><span data-stu-id="5567f-403">The custom stream implementation is responsible for handling the remote communication.</span></span> <span data-ttu-id="5567f-404">Wenn das Abschluss Ereignis aufgetreten ist, ruft DirectWrite [**idschreiteasynkresult:: GetResult**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwriteasyncresult-getresult) auf, um das Ergebnis des Vorgangs zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="5567f-404">When the completion event has occurred, then DirectWrite will call [**IDWriteAsyncResult::GetResult**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwriteasyncresult-getresult) to determine the result of the operation.</span></span> <span data-ttu-id="5567f-405">Wenn das Ergebnis erfolgreich ist, wird erwartet, dass nachfolgende Read-Fragment-Aufrufe an den Datenstrom für die heruntergeladenen Bereiche erfolgreich sind.</span><span class="sxs-lookup"><span data-stu-id="5567f-405">If the result is successful, then it’s expected that subsequent ReadFragment calls to the stream for the downloaded ranges will succeed.</span></span> 

> [!IMPORTANT]
> <span data-ttu-id="5567f-406">Sicherheits-/leistungstokenhinweis: beim Versuch, eine Remote Schriftart abzurufen, besteht das Potenzial im Allgemeinen darin, dass ein Angreifer den vorgesehenen Server spoweder, noch reagiert der Server möglicherweise nicht.</span><span class="sxs-lookup"><span data-stu-id="5567f-406">Security / performance note: When an attempt is made to fetch a remote font, the potential exists in general for an attacker to spoof the intended server being called, or that the server may not respond.</span></span> <span data-ttu-id="5567f-407">Wenn Sie benutzerdefinierte Netzwerk Interaktionen implementieren, haben Sie möglicherweise eine bessere Kontrolle über die entschärfungen als beim Umgang mit Drittanbieter Servern.</span><span class="sxs-lookup"><span data-stu-id="5567f-407">If you are implementing custom network interactions, you may have greater control over mitigations than when dealing with third-party servers.</span></span> <span data-ttu-id="5567f-408">Es ist jedoch ratsam, dass Sie geeignete entschärfungen in Erwägung gezogen, um Offenlegung von Informationen oder Denial-of-Service zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="5567f-408">However, it is up to you to consider appropriate mitigations to avoid information disclosure or denial of service.</span></span> <span data-ttu-id="5567f-409">Es werden sichere Protokolle wie z. b. HTTPS empfohlen.</span><span class="sxs-lookup"><span data-stu-id="5567f-409">Secure protocols such as HTTPS are recommended.</span></span> <span data-ttu-id="5567f-410">Außerdem sollten Sie in einem Timeout erstellen, damit das an DirectWrite zurückgegebene Ereignis handle letztendlich festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="5567f-410">Also, you should build in some timeout so that the event handle returned to DirectWrite does eventually get set.</span></span> 

 

### <a name="supporting-scenarios-on-earlier-windows-versions"></a><span data-ttu-id="5567f-411">Unterstützende Szenarien in früheren Windows-Versionen</span><span class="sxs-lookup"><span data-stu-id="5567f-411">Supporting scenarios on earlier Windows versions</span></span>

<span data-ttu-id="5567f-412">Die beschriebenen Szenarios können in DirectWrite unter früheren Versionen von Windows unterstützt werden, erfordern jedoch viel mehr benutzerdefinierte Implementierung für den Teil der APP, wobei die restriktivsten APIs verwendet werden, die vor Windows 10 verfügbar waren.</span><span class="sxs-lookup"><span data-stu-id="5567f-412">The scenarios that have been described can be supported in DirectWrite on earlier versions of Windows, but would require much more custom implementation on the part of the app using the more limited APIs that were available prior to Windows 10.</span></span> <span data-ttu-id="5567f-413">Weitere Informationen finden Sie unter [benutzerdefinierte Schriftart Auflistungen (Windows 7/8)](custom-font-collections.md).</span><span class="sxs-lookup"><span data-stu-id="5567f-413">For more information, see [Custom Font Collections (Windows 7/8)](custom-font-collections.md).</span></span>

 

 