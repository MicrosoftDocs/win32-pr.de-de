---
title: Verarbeiten von Registrierungen
description: Die HTTP-Server-APIs verwenden die Routing Datenbank, um während der Registrierungen Zugriffs Überprüfungen anzuwenden.
ms.assetid: d72aa213-b8e8-4fe9-b98c-41114d2cea56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7c1e02d2511d9967454d5cbddd93b2c0380d1172
ms.sourcegitcommit: 73417d55867c804274a55abe5ca71bcba7006119
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/20/2020
ms.locfileid: "104474608"
---
# <a name="processing-registrations"></a><span data-ttu-id="173dd-103">Verarbeiten von Registrierungen</span><span class="sxs-lookup"><span data-stu-id="173dd-103">Processing Registrations</span></span>

<span data-ttu-id="173dd-104">Die HTTP-Server-APIs verwenden die Routing Datenbank, um während der Registrierungen Zugriffs Überprüfungen anzuwenden.</span><span class="sxs-lookup"><span data-stu-id="173dd-104">The HTTP Server APIs use the routing database to apply access checks during registrations.</span></span> <span data-ttu-id="173dd-105">Eine Registrierung für ein [URLPrefix](urlprefix-strings.md) muss eine Reihe von Zugriffs Überprüfungen bestehen, um sicherzustellen, dass der Benutzer, der sich für den Namespace registriert, über Zugriffsrechte verfügt.</span><span class="sxs-lookup"><span data-stu-id="173dd-105">A registration for a [UrlPrefix](urlprefix-strings.md) must pass a series of access checks to ensure that the user registering for the namespace has access rights.</span></span> <span data-ttu-id="173dd-106">Verwenden Sie die [**httpaddurl**](/windows/desktop/api/Http/nf-http-httpaddurl) -Funktion, um eine neue Registrierung hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="173dd-106">Use the [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function to add a new registration.</span></span>

<span data-ttu-id="173dd-107">**So fügen Sie eine neue Registrierung mit httpaddurl hinzu**</span><span class="sxs-lookup"><span data-stu-id="173dd-107">**To add a new registration with HttpAddUrl**</span></span>

1.  <span data-ttu-id="173dd-108">Wenn die Portnummer im URLPrefix über Reservierungen oder Registrierungen für ein Schema verfügt, das sich von dem Schema im URLPrefix unterscheidet, schlägt die Registrierung fehl.</span><span class="sxs-lookup"><span data-stu-id="173dd-108">If the port number in the UrlPrefix has reservations or registrations for a scheme different from the scheme in the UrlPrefix, the registration fails.</span></span> <span data-ttu-id="173dd-109">HTTP und HTTPS können nicht auf demselben Port unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="173dd-109">HTTP and HTTPS cannot be supported on the same port.</span></span>
2.  <span data-ttu-id="173dd-110">Die Registrierung wird in den entsprechenden Bucket für die Registrierung eingecheckt.</span><span class="sxs-lookup"><span data-stu-id="173dd-110">The registration is slotted into the appropriate bucket for the registration.</span></span> <span data-ttu-id="173dd-111">Die Bucket basieren auf dem Hosttyp der URL, wie im Abschnitt [Routing eingehender Anforderungen](routing-incoming-requests.md) beschrieben.</span><span class="sxs-lookup"><span data-stu-id="173dd-111">The buckets are based on the host type of the URL as outlined in the [Routing Incoming Requests](routing-incoming-requests.md) section.</span></span> <span data-ttu-id="173dd-112">Die folgenden Schritte sind relativ zu diesem speziellen Bucket.</span><span class="sxs-lookup"><span data-stu-id="173dd-112">The following steps are relative to this particular bucket.</span></span>
3.  <span data-ttu-id="173dd-113">Wenn ein doppelter Registrierungs Eintrag vorhanden ist, wird ein Fehlercode zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="173dd-113">If a duplicate registration entry exists, return an error code.</span></span>
4.  <span data-ttu-id="173dd-114">Wählen Sie Reservierungs Einträge mit Schema, Host und Port Komponenten aus, die denen des URLPrefix entsprechen.</span><span class="sxs-lookup"><span data-stu-id="173dd-114">Select reservation entries with scheme, host and port components that are equal to those of the UrlPrefix.</span></span> <span data-ttu-id="173dd-115">Suchen Sie in diesem Abschnitt den Eintrag mit der längsten **relativeUri** -Entsprechung.</span><span class="sxs-lookup"><span data-stu-id="173dd-115">From these, locate the entry with the longest **relativeUri** match.</span></span> <span data-ttu-id="173dd-116">Wenn der Eintrag vorhanden ist, überprüfen Sie die Berechtigungen anhand der ACL, die diesem Eintrag zugeordnet ist, und geben Sie Erfolg zurück.</span><span class="sxs-lookup"><span data-stu-id="173dd-116">If the entry exists, check permissions based on the ACL associated with that entry and return success.</span></span> <span data-ttu-id="173dd-117">Wenn der Eintrag nicht vorhanden ist, geben Sie einen Fehlercode ein, der \_ bereits \_ vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="173dd-117">If the entry does not exist, return an ERROR\_ALREADY\_EXISTS code.</span></span>

<span data-ttu-id="173dd-118">In den folgenden Beispielen wird der Prozess zum Installieren einer Registrierung in der Routing Datenbank veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="173dd-118">The following examples illustrate the process to install a registration in the routing database.</span></span> <span data-ttu-id="173dd-119">Die Reservierungen 1 und 2 sind in der Routing Datenbank vorhanden.</span><span class="sxs-lookup"><span data-stu-id="173dd-119">Reservations 1 and 2 exist in the routing database.</span></span>

-   <span data-ttu-id="173dd-120">Reservierung 1: `https://+:80/vroot/subdir/` für Benutzer A und Benutzer C. Diese Reservierung wird in den Bucket "+" eingefügt.</span><span class="sxs-lookup"><span data-stu-id="173dd-120">Reservation 1: `https://+:80/vroot/subdir/` for User A and User C. This reservation is placed in the "+" bucket.</span></span>
-   <span data-ttu-id="173dd-121">Reservierung 2: `https://adatum.com:80/vroot/` für Benutzer B. Diese Reservierung wird in den Bucket "Expliziter Host" eingefügt.</span><span class="sxs-lookup"><span data-stu-id="173dd-121">Reservation 2: `https://adatum.com:80/vroot/` for User B. This reservation is placed in the "Explicit Host" bucket.</span></span>
-   <span data-ttu-id="173dd-122">Registrierung: `https://+:80/vroot/subdir/` nach Benutzer B tritt aufgrund von Reservierung 1 ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="173dd-122">Registration: `https://+:80/vroot/subdir/` by User B fails due to reservation 1.</span></span>
-   <span data-ttu-id="173dd-123">Registrierung: `https://adatum.com:80/vroot/subdir/` nach Benutzer B ist aufgrund von Reservierung 2 erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="173dd-123">Registration: `https://adatum.com:80/vroot/subdir/` by User B succeeds due to reservation 2.</span></span>
-   <span data-ttu-id="173dd-124">Registrierung: `https://adatum.com:80/vroot/subdir/` Benutzer C schlägt aufgrund der expliziten Reservierung 2 fehl.</span><span class="sxs-lookup"><span data-stu-id="173dd-124">Registration: `https://adatum.com:80/vroot/subdir/` by User C fails due to the more explicit reservation 2.</span></span> <span data-ttu-id="173dd-125">Die Reservierung für starke Platzhalter hat im Kontext der expliziten Reservierung oder Registrierung keine Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="173dd-125">The strong wildcard reservation does not have meaning within the context of the explicit reservation or registration.</span></span>
-   <span data-ttu-id="173dd-126">Registrierung: `https://+:80/vroot/subdir/` Benutzer A ist aufgrund von Reservierung 1 erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="173dd-126">Registration: `https://+:80/vroot/subdir/` by User A succeeds due to reservation 1.</span></span>
-   <span data-ttu-id="173dd-127">Registrierung: `https://adatum.com:80/vroot/anotherdir/` nach Benutzer B ist aufgrund von Reservierung 2 erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="173dd-127">Registration: `https://adatum.com:80/vroot/anotherdir/` by User B succeeds due to reservation 2.</span></span>

<span data-ttu-id="173dd-128">Bei der Zugriffs Überprüfung für die Registrierung sind keine Prüfungen auf Delegierungs Berechtigungen enthalten.</span><span class="sxs-lookup"><span data-stu-id="173dd-128">The access check for registration does not include checks for delegation privileges.</span></span> <span data-ttu-id="173dd-129">Es gibt keine Zugriffs Überprüfungen, die auf Reservierungen basieren (siehe [**httpremoveurl**](/windows/desktop/api/Http/nf-http-httpremoveurl)).</span><span class="sxs-lookup"><span data-stu-id="173dd-129">There are no access checks based on reservations (see [**HttpRemoveUrl**](/windows/desktop/api/Http/nf-http-httpremoveurl)).</span></span> <span data-ttu-id="173dd-130">Die einzige Anforderung zum Löschen einer Registrierung ist, dass der aufrufende Prozess die Registrierung erstellt haben muss.</span><span class="sxs-lookup"><span data-stu-id="173dd-130">The only requirement for deleting a registration us that the calling process must have created the registration.</span></span>

 

 




