---
title: Benannte Anforderungs Warteschlange
description: Benannte Anforderungs Warteschlange
ms.assetid: d0686a9b-fc3d-4b69-b083-d04b35ce5b50
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4aca045f84fe9f9e4b57365ba8831456f2dc1ad
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104311094"
---
# <a name="named-request-queue"></a><span data-ttu-id="1917f-103">Benannte Anforderungs Warteschlange</span><span class="sxs-lookup"><span data-stu-id="1917f-103">Named Request Queue</span></span>

<span data-ttu-id="1917f-104">Die HTTP Server Version 2,0-API mit der Bezeichnung Anforderungs Warteschlange ermöglicht es, dass mehrere Anwendungen auf die Anforderungs Warteschlange zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="1917f-104">The HTTP Server version 2.0 API named request queue feature allows multiple applications, operating under separate processes and user accounts, access to the request queue.</span></span> <span data-ttu-id="1917f-105">Die Anforderungs Warteschlange wird anhand des Namens geöffnet und mithilfe von Access Control Listen (ACLs) gesichert, um sicherzustellen, dass Anwendungen nicht auf die Daten anderer Daten zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="1917f-105">The request queue is opened by name, and secured using Access Control Lists (ACLs) to ensure that applications are not able to access each others data.</span></span> <span data-ttu-id="1917f-106">Ein einzelner Prozess erstellt die Anforderungs Warteschlange und erteilt anderen Prozessen die Berechtigung, die Anforderungs Warteschlange zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="1917f-106">A single process creates the request queue, and grants permission to other processes to use the request queue.</span></span> <span data-ttu-id="1917f-107">Folglich greifen andere Prozesse auf dem Computer auf die Anforderungs Warteschlange mit den geringsten Berechtigungen zu, die für die Dienst Anforderungen erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="1917f-107">Thus, other processes on the computer access the request queue with the least privilege necessary to service requests.</span></span> <span data-ttu-id="1917f-108">Möglicherweise wird der HTTP-Dienst aufgrund von Sicherheitsrisiken in Code von Drittanbietern minimiert, wenn Anwendungen mit geringsten Rechten ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="1917f-108">Possible damage to the HTTP service, due to vulnerabilities in third party code, is minimized when applications are running under least privileges.</span></span>

<span data-ttu-id="1917f-109">Die benannte Anforderungs Warteschlange wird mit der Funktion " [**httpkreaterequestqueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) " erstellt.</span><span class="sxs-lookup"><span data-stu-id="1917f-109">The named request queue is created with the [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) function.</span></span> <span data-ttu-id="1917f-110">Wenn die Anforderungs Warteschlange erstellt wird, gibt die Anwendung die ACL im *psecurityattribute* -Parameter an.</span><span class="sxs-lookup"><span data-stu-id="1917f-110">When the request queue is created, the application specifies the ACL in the *pSecurityAttribute* parameter.</span></span> <span data-ttu-id="1917f-111">Die ACL, die nur beim Erstellen der Anforderungs Warteschlange festgelegt werden kann, ermöglicht Workerprozessen das Öffnen der Anforderungs Warteschlange, empfangen von Anforderungen und Senden von Antworten.</span><span class="sxs-lookup"><span data-stu-id="1917f-111">The ACL, which can only be set when the request queue is created, allows worker processes to open the request queue, receive requests, and send responses.</span></span> <span data-ttu-id="1917f-112">Standardmäßig ist es nicht zulässig, dass Prozesse eine Anforderungs Warteschlange öffnen, es sei denn, Ihnen wurde eine Berechtigung in der ACL erteilt.</span><span class="sxs-lookup"><span data-stu-id="1917f-112">By default, processes are not allowed to open a request queue unless they have been granted permission in the ACL.</span></span> <span data-ttu-id="1917f-113">Anwendungen benötigen keine Administratorrechte zum Erstellen der Anforderungs Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="1917f-113">Applications do not require administrative privileges to create the request queue.</span></span>

<span data-ttu-id="1917f-114">Die Anforderungs Warteschlange muss mit einem Namen erstellt werden, der im *PName* -Parameter von [**httpkreaterequestqueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) für andere Prozesse angegeben ist, um die Anforderungs Warteschlange zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="1917f-114">The request queue must be created with a name specified in the *pName* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) for other processes to open the request queue.</span></span> <span data-ttu-id="1917f-115">Wenn *PName* **null** ist, wird eine unbenannte Anforderungs Warteschlange erstellt, die von anderen Prozessen nicht geöffnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="1917f-115">If *pName* is **NULL**, an unnamed request queue is created and no other processes can open it.</span></span>

## <a name="creator-and-controller-processes"></a><span data-ttu-id="1917f-116">Ersteller-und Controller Prozesse</span><span class="sxs-lookup"><span data-stu-id="1917f-116">Creator and Controller Processes</span></span>

<span data-ttu-id="1917f-117">Wenn die Anforderungs Warteschlange erstellt wird, kann Sie von der Anwendung als Controller Prozess oder Ersteller Prozess geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="1917f-117">When the request queue is created, the application can open it as a controller process or a creator process.</span></span> <span data-ttu-id="1917f-118">Der Controller und der Ersteller verarbeiten beide als Administratoren für die Anforderungs Warteschlange, aber der Controller führt keine e/a-Vorgänge für ihn aus.</span><span class="sxs-lookup"><span data-stu-id="1917f-118">The controller and creator processes both act as administrators for the request queue, but the controller does not perform I/O operations on it.</span></span> <span data-ttu-id="1917f-119">Die Anwendung gibt an, dass es sich um einen Controller Prozess handelt, wenn die Anforderungs Warteschlange durch Angabe des **http \_ Create \_ Request \_ Queue \_ \_** -Flags-Controllers im *Flags* -Parameter von [**httpkreaterequestqueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue)erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="1917f-119">The application indicates that it is a controller process when the request queue is created by specifying **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** in the *Flags* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span></span> <span data-ttu-id="1917f-120">Wenn das Flag " **http \_ Create \_ Request \_ Queue \_ Flag \_ Controller** Flag" nicht festgelegt ist, ist die Anwendung ein Erstellungs Prozess.</span><span class="sxs-lookup"><span data-stu-id="1917f-120">If the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** flag is not set, the application is a creator process.</span></span>

<span data-ttu-id="1917f-121">Die folgende Liste enthält Tasks, die vom Controller Prozess und dem Ersteller-Prozess ausgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="1917f-121">The following list contains tasks performed by the controller process and the creator process:</span></span>

-   <span data-ttu-id="1917f-122">Erstellen Sie die Anforderungs Warteschlange und geben Sie den Namen an.</span><span class="sxs-lookup"><span data-stu-id="1917f-122">Create the request queue and specify the name.</span></span>
-   <span data-ttu-id="1917f-123">Konfigurieren Sie die Anforderungs Warteschlange mithilfe der [**httpabtrequestqueueproperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="1917f-123">Configure the request queue using the [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="1917f-124">Fragen Sie die Konfigurationsparameter der Anforderungs Warteschlange mithilfe der [**httpqueryrequestqueueproperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) -Funktion ab.</span><span class="sxs-lookup"><span data-stu-id="1917f-124">Query the request queue configuration parameters using the [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="1917f-125">Erstellen Sie URL-Gruppen und ordnet Sie einer Anforderungs Warteschlange zu.</span><span class="sxs-lookup"><span data-stu-id="1917f-125">Create URL Groups and associates them with a request queue.</span></span>
-   <span data-ttu-id="1917f-126">Legen Sie die ACL fest, die die Arbeitsprozesse angibt, für die e/a-Vorgänge in der Anforderungs Warteschlange zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="1917f-126">Set the ACL specifying the worker processes that are allowed to receive I/O on the request queue.</span></span>
-   <span data-ttu-id="1917f-127">[**Httpwaitfordemandstart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) wird aufgerufen, um die Instanziierung von Arbeitsprozessen zu verzögern, bis die erste Anforderung in der Anforderungs Warteschlange eintrifft.</span><span class="sxs-lookup"><span data-stu-id="1917f-127">Call [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) to delay the instantiation of worker processes until the first request arrives on the request queue.</span></span>

<span data-ttu-id="1917f-128">Zusätzlich zu diesen Aufgaben kann der Ersteller-Prozess auch e/a-Vorgänge für die Anforderungs Warteschlange durchführen.</span><span class="sxs-lookup"><span data-stu-id="1917f-128">In addition to these tasks, the creator process can also perform I/O operations on the request queue.</span></span>

## <a name="worker-processes"></a><span data-ttu-id="1917f-129">Arbeitsprozesse</span><span class="sxs-lookup"><span data-stu-id="1917f-129">Worker Processes</span></span>

<span data-ttu-id="1917f-130">Ein Arbeitsprozess kann eine vorhandene Anforderungs Warteschlange nur dann öffnen, wenn Ihnen der Zugriff auf die Warteschlange in der ACL gewährt wurde.</span><span class="sxs-lookup"><span data-stu-id="1917f-130">A worker process can open an existing request queue only if they have been granted access to it in the ACL.</span></span> <span data-ttu-id="1917f-131">Arbeitsprozesse, die unter den geringsten Rechten ausgeführt werden, können eine Anforderungs Warteschlange öffnen und e/a-Vorgänge dafür ausführen.</span><span class="sxs-lookup"><span data-stu-id="1917f-131">Worker processes operating under least privileges can open a request queue and perform I/O on it.</span></span> <span data-ttu-id="1917f-132">Anwendungen öffnen eine vorhandene Anforderungs Warteschlange, indem Sie [**httpcreaterequestqueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) mit dem **http \_ Create \_ Request \_ Queue- \_ Flag \_ \_** , das im *Flags* -Parameter vorhanden ist, und den Namen der Anforderungs Warteschlange im *PName* -Parameter aufrufen.</span><span class="sxs-lookup"><span data-stu-id="1917f-132">Applications open an existing request queue by calling [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) with the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_OPEN\_EXISTING** in the *Flags* parameter, and the name of the request queue in the *pName* parameter.</span></span>

<span data-ttu-id="1917f-133">Der Arbeitsprozess führt die folgenden Funktionen aus:</span><span class="sxs-lookup"><span data-stu-id="1917f-133">The worker process performs the following functions:</span></span>

-   <span data-ttu-id="1917f-134">Empfangen von Anforderungen und Senden von Antworten in der Anforderungs Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="1917f-134">Receive requests and send responses on the request queue.</span></span>
-   <span data-ttu-id="1917f-135">Öffnen Sie eine vorhandene Anforderungs Warteschlange anhand des Namens.</span><span class="sxs-lookup"><span data-stu-id="1917f-135">Open an existing request queue by name.</span></span> <span data-ttu-id="1917f-136">Das Handle der Anforderungs Warteschlange, die an den Arbeitsprozess zurückgegeben wird, kann nicht zum Konfigurieren der Anforderungs Warteschlange verwendet werden</span><span class="sxs-lookup"><span data-stu-id="1917f-136">The handle to the request queue returned to the worker process cannot be used to configure the request queue.</span></span>
-   <span data-ttu-id="1917f-137">Fragen Sie die Konfigurationsparameter der Anforderungs Warteschlange ab.</span><span class="sxs-lookup"><span data-stu-id="1917f-137">Query the request queue configuration parameters.</span></span>

<span data-ttu-id="1917f-138">Das folgende Diagramm zeigt das Arbeitsprozess Modell für Anforderungs Warteschlangen.</span><span class="sxs-lookup"><span data-stu-id="1917f-138">The following diagram shows the worker process model for request queues.</span></span> <span data-ttu-id="1917f-139">Die Anforderungs Warteschlange kann mehrere Arbeitsprozesse aufweisen, die e/a-Vorgänge verarbeiten, und einen Erstellerprozess, der die Anforderungs Warteschlange konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="1917f-139">The request queue can have several worker processes that process I/O, and one creator processes that configures the request queue.</span></span>

![Arbeitsprozess Modell für Anforderungs Warteschlangen](images/namedrequestqueue.png)

 

 




