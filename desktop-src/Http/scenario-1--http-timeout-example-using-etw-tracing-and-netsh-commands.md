---
title: 'Szenario 1: Beispiel für http-Timeout mit etw-Ablauf Verfolgung und Netsh-Befehlen'
description: Mithilfe der etw-Ablauf Verfolgung kann der Datenfluss über die HTTP-Server-API-Komponente überprüft werden, um Probleme zu diagnostizieren.
ms.assetid: b6b24161-c3da-4972-b49f-c545da2fc81e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa50f438aca664651b24db822f2b9e3a30da4682
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/04/2021
ms.locfileid: "104554609"
---
# <a name="scenario-1-http-timeout-example-using-etw-tracing-and-netsh-commands"></a><span data-ttu-id="21b99-103">Szenario 1: Beispiel für http-Timeout mit etw-Ablauf Verfolgung und Netsh-Befehlen</span><span class="sxs-lookup"><span data-stu-id="21b99-103">Scenario 1: HTTP Timeout Example Using ETW Tracing and Netsh Commands</span></span>

<span data-ttu-id="21b99-104">Mithilfe der etw-Ablauf Verfolgung kann der Datenfluss über die HTTP-Server-API-Komponente überprüft werden, um Probleme zu diagnostizieren.</span><span class="sxs-lookup"><span data-stu-id="21b99-104">Through ETW tracing, the flow of data through the HTTP Server API component can be inspected to diagnose problems.</span></span> <span data-ttu-id="21b99-105">Beispielsweise können Benutzer einer Webanwendung Fehlermeldungen in Ihrem Browser sehen, die von einer Webseite nicht angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="21b99-105">For example, users of a web application may see error messages in their browser that a web page cannot display.</span></span> <span data-ttu-id="21b99-106">Auf dem Server, auf dem die Webanwendung gehostet wird, sieht der IT-Experte auch einen Verbindungs Timeout Eintrag innerhalb des HTTP-Fehler Protokolls, wie in Abbildung 1 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="21b99-106">On the server hosting the web application, the IT professional also sees a connection timeout entry within the HTTP Error Log, as shown in Figure 1 below.</span></span> <span data-ttu-id="21b99-107">Das http-Fehlerprotokoll befindet sich im folgenden Verzeichnis:% windir% \\ system32 \\ Logfiles \\ Httperr \\ .</span><span class="sxs-lookup"><span data-stu-id="21b99-107">The HTTP Error Log can be found in the following directory: %windir%\\System32\\LogFiles\\HTTPERR\\.</span></span>

![Screenshot, der das Befehlsfenster "Netsh H t t p" anzeigt, das ein h t t p-Fehlerprotokoll für das Timeout anzeigt.](images/httperrorlog.png)

<span data-ttu-id="21b99-109">Abbildung 1: http-Fehlerprotokoll für Timeout</span><span class="sxs-lookup"><span data-stu-id="21b99-109">Figure 1: HTTP Error Log for Timeout</span></span>

## <a name="generating-an-etw-trace-report"></a><span data-ttu-id="21b99-110">Erstellen eines etw-Ablauf Verfolgungs Berichts</span><span class="sxs-lookup"><span data-stu-id="21b99-110">Generating an ETW Trace Report</span></span>

<span data-ttu-id="21b99-111">Um einen etw-Ablauf Verfolgungs Bericht für die HTTP-Server-API-Komponente zu generieren, führen Sie die folgenden Schritte an der Eingabeaufforderung aus.</span><span class="sxs-lookup"><span data-stu-id="21b99-111">To generate an ETW trace report for the HTTP Server API component, run the steps below from the command prompt.</span></span> <span data-ttu-id="21b99-112">In diesem Beispiel wird die Ablauf Verfolgung auf dem Server ausgeführt, da die Webanwendung gehostet wird.</span><span class="sxs-lookup"><span data-stu-id="21b99-112">In this example, the trace is run on the server since it is hosting the web application.</span></span>

<span data-ttu-id="21b99-113">In den folgenden Schritten wird eine Ablauf Verfolgung mit dem Namen "Httptrace. ETL" generiert und dann die Ablauf Verfolgung in eine CSV-Datei mit dem Namen httptrace.csv</span><span class="sxs-lookup"><span data-stu-id="21b99-113">The steps below generate a trace called httptrace.etl and then convert the trace into a CSV file called httptrace.csv.</span></span> <span data-ttu-id="21b99-114">Wie unten gezeigt, wird der ETW-Anbieter für die HTTP-Server-API als Microsoft-Windows-HttpService bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="21b99-114">As shown below, the ETW provider for the HTTP Server API is called Microsoft-Windows-HttpService.</span></span> <span data-ttu-id="21b99-115">Die Befehlszeilenoption 0xfff gibt an, dass alle ETW-Ereignisse für diesen Anbieter erfasst werden sollen.</span><span class="sxs-lookup"><span data-stu-id="21b99-115">The 0xFFF command-line option indicates that all ETW events for this provider should be captured.</span></span>

<span data-ttu-id="21b99-116">**Generieren eines etw-Ablauf Verfolgungs Berichts**</span><span class="sxs-lookup"><span data-stu-id="21b99-116">**Generate an ETW Trace Report**</span></span>

1.  <span data-ttu-id="21b99-117">Etw-Ablauf Verfolgung für http-Server-API-Komponente starten: l **ogman.exe starten von Httptrace-p Microsoft-Windows-HttpService 0xFFFF-o Httptrace. ETL – ETS**</span><span class="sxs-lookup"><span data-stu-id="21b99-117">Start ETW trace for HTTP Server API component: l **ogman.exe start httptrace -p Microsoft-Windows-HttpService 0xFFFF -o httptrace.etl –ets**</span></span>
2.  <span data-ttu-id="21b99-118">Reproduzieren Sie das Problem, damit es in der Ablauf Verfolgung aufgezeichnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="21b99-118">Reproduce the issue so that it can be captured in the trace.</span></span> <span data-ttu-id="21b99-119">In diesem Beispiel greifen Sie von einem Client Computer aus auf die Webanwendung zu, was dazu führt, dass die Meldung "die **Seite kann nicht angezeigt werden**" auf dem Client angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="21b99-119">In this example, access the web application from a client machine, resulting in the "**page cannot be displayed**" message being shown on the client.</span></span>
3.  <span data-ttu-id="21b99-120">Nachdem das Problem reproduziert wurde, wird die Ablauf Verfolgung beendet: **logman.exe stopphttptrace – ETS**</span><span class="sxs-lookup"><span data-stu-id="21b99-120">Now that the issue has been reproduced, stop the trace: **logman.exe stop httptrace –ets**</span></span>
4.  <span data-ttu-id="21b99-121">Konvertieren Sie den Bericht in das CSV **-Format:tracerpt.exe Httptrace. ETL-of CSV-o httptrace.csv**</span><span class="sxs-lookup"><span data-stu-id="21b99-121">Convert the report into CSV format: **tracerpt.exe httptrace.etl -of CSV -o httptrace.csv**</span></span>
5.  <span data-ttu-id="21b99-122">Anzeigen des Ablauf Verfolgungs Berichts.</span><span class="sxs-lookup"><span data-stu-id="21b99-122">View the trace report.</span></span> <span data-ttu-id="21b99-123">Unten in Tabelle 1 ist ein Auszug aus einer CSV-Ablauf Verfolgung aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="21b99-123">An excerpt from a CSV trace is shown below in Table 1.</span></span>

## <a name="viewing-the-trace-and-diagnosing"></a><span data-ttu-id="21b99-124">Anzeigen der Ablauf Verfolgung und Diagnose</span><span class="sxs-lookup"><span data-stu-id="21b99-124">Viewing the Trace and Diagnosing</span></span>

<span data-ttu-id="21b99-125">Die resultierende CSV-Datei für Ablauf Verfolgungen kann in Excel oder einem beliebigen Tool angezeigt werden, das das CSV-Format unterstützt.</span><span class="sxs-lookup"><span data-stu-id="21b99-125">The resulting CSV file for traces can be viewed in Excel or any tool that supports the CSV format.</span></span> <span data-ttu-id="21b99-126">Tabelle 1 unten zeigt Auszüge aus einer Beispieldatei für die Ablauf Verfolgung (httptrace.csv).</span><span class="sxs-lookup"><span data-stu-id="21b99-126">Table 1 below shows excerpts from a sample trace file (httptrace.csv).</span></span> <span data-ttu-id="21b99-127">Im Ablauf Verfolgungs Bericht wird in der Spalte "Ebene" ein Eintrag mit dem Wert "3" angezeigt, der einer Warnung in etw entspricht.</span><span class="sxs-lookup"><span data-stu-id="21b99-127">In the trace report, the "Level" column shows an entry with a value of "3", which corresponds to a warning in ETW.</span></span> <span data-ttu-id="21b99-128">Die HTTP-Server-API-Komponente befolgt die ETW-Ebenen, die im folgenden Artikel definiert sind: ( https://msdn2.microsoft.com/library/aa382793.aspx) .</span><span class="sxs-lookup"><span data-stu-id="21b99-128">The HTTP Server API component follows the ETW Levels defined in the following article: (https://msdn2.microsoft.com/library/aa382793.aspx).</span></span> <span data-ttu-id="21b99-129">Die ETW-Ebenen umfassen Folgendes:</span><span class="sxs-lookup"><span data-stu-id="21b99-129">The ETW levels include:</span></span>



| <span data-ttu-id="21b99-130">Ebene</span><span class="sxs-lookup"><span data-stu-id="21b99-130">Level</span></span> | <span data-ttu-id="21b99-131">Bedeutung</span><span class="sxs-lookup"><span data-stu-id="21b99-131">Meaning</span></span>      |
|-------|--------------|
| <span data-ttu-id="21b99-132">1</span><span class="sxs-lookup"><span data-stu-id="21b99-132">1</span></span>     | <span data-ttu-id="21b99-133">Kritisch</span><span class="sxs-lookup"><span data-stu-id="21b99-133">Critical</span></span>     |
| <span data-ttu-id="21b99-134">2</span><span class="sxs-lookup"><span data-stu-id="21b99-134">2</span></span>     | <span data-ttu-id="21b99-135">Fehler</span><span class="sxs-lookup"><span data-stu-id="21b99-135">Error</span></span>        |
| <span data-ttu-id="21b99-136">3</span><span class="sxs-lookup"><span data-stu-id="21b99-136">3</span></span>     | <span data-ttu-id="21b99-137">Warnung</span><span class="sxs-lookup"><span data-stu-id="21b99-137">Warning</span></span>      |
| <span data-ttu-id="21b99-138">4</span><span class="sxs-lookup"><span data-stu-id="21b99-138">4</span></span>     | <span data-ttu-id="21b99-139">Infomational</span><span class="sxs-lookup"><span data-stu-id="21b99-139">Infomational</span></span> |
| <span data-ttu-id="21b99-140">5</span><span class="sxs-lookup"><span data-stu-id="21b99-140">5</span></span>     | <span data-ttu-id="21b99-141">Ausführlich</span><span class="sxs-lookup"><span data-stu-id="21b99-141">Verbose</span></span>      |



 

<span data-ttu-id="21b99-142">Mit dieser Warnung meldet der Ereignistyp (Typspalte) "" ".</span><span class="sxs-lookup"><span data-stu-id="21b99-142">With this warning, the event type (Type column) reports "ConnTimedOut".</span></span> <span data-ttu-id="21b99-143">In den nachfolgenden Spalten für das Ereignis "Ereignis-Timeout" wird der Zeitgeber, der abgelaufen ist, als "Timer \_ connectionidle" gemeldet.</span><span class="sxs-lookup"><span data-stu-id="21b99-143">In the subsequent columns for the ConnTimeOut event, the specific timer that expired is reported as "Timer\_ConnectionIdle".</span></span> <span data-ttu-id="21b99-144">Beachten Sie, dass die Spalte mit dem Eintrag "Timer \_ connectionidle" nicht in der Tabelle enthalten ist, um die Übersichtlichkeit zu vermeiden und um das Durchsuchen nicht zusammenhängender Spalten zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="21b99-144">Note the column with the "Timer\_ConnectionIdle" entry is not included in the table for the sake brevity and to avoid excerpting noncontiguous columns.</span></span>



| <span data-ttu-id="21b99-145">Ereignisname</span><span class="sxs-lookup"><span data-stu-id="21b99-145">Event name</span></span>                    | <span data-ttu-id="21b99-146">type</span><span class="sxs-lookup"><span data-stu-id="21b99-146">Type</span></span>            | <span data-ttu-id="21b99-147">Ereignis-ID</span><span class="sxs-lookup"><span data-stu-id="21b99-147">Event ID</span></span> | <span data-ttu-id="21b99-148">Version</span><span class="sxs-lookup"><span data-stu-id="21b99-148">Version</span></span> | <span data-ttu-id="21b99-149">Channel</span><span class="sxs-lookup"><span data-stu-id="21b99-149">Channel</span></span> | <span data-ttu-id="21b99-150">Ebene</span><span class="sxs-lookup"><span data-stu-id="21b99-150">Level</span></span> |
|-------------------------------|-----------------|----------|---------|---------|-------|
| <span data-ttu-id="21b99-151">EventTrace</span><span class="sxs-lookup"><span data-stu-id="21b99-151">EventTrace</span></span>                    | <span data-ttu-id="21b99-152">Header</span><span class="sxs-lookup"><span data-stu-id="21b99-152">Header</span></span>          | <span data-ttu-id="21b99-153">0</span><span class="sxs-lookup"><span data-stu-id="21b99-153">0</span></span>        | <span data-ttu-id="21b99-154">2</span><span class="sxs-lookup"><span data-stu-id="21b99-154">2</span></span>       | <span data-ttu-id="21b99-155">0</span><span class="sxs-lookup"><span data-stu-id="21b99-155">0</span></span>       | <span data-ttu-id="21b99-156">0</span><span class="sxs-lookup"><span data-stu-id="21b99-156">0</span></span>     |
| <span data-ttu-id="21b99-157">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-157">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-158">Chgurlgrpprop</span><span class="sxs-lookup"><span data-stu-id="21b99-158">ChgUrlGrpProp</span></span>   | <span data-ttu-id="21b99-159">28</span><span class="sxs-lookup"><span data-stu-id="21b99-159">28</span></span>       | <span data-ttu-id="21b99-160">0</span><span class="sxs-lookup"><span data-stu-id="21b99-160">0</span></span>       | <span data-ttu-id="21b99-161">16</span><span class="sxs-lookup"><span data-stu-id="21b99-161">16</span></span>      | <span data-ttu-id="21b99-162">4</span><span class="sxs-lookup"><span data-stu-id="21b99-162">4</span></span>     |
| <span data-ttu-id="21b99-163">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-163">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-164">Addurl</span><span class="sxs-lookup"><span data-stu-id="21b99-164">AddUrl</span></span>          | <span data-ttu-id="21b99-165">31</span><span class="sxs-lookup"><span data-stu-id="21b99-165">31</span></span>       | <span data-ttu-id="21b99-166">0</span><span class="sxs-lookup"><span data-stu-id="21b99-166">0</span></span>       | <span data-ttu-id="21b99-167">16</span><span class="sxs-lookup"><span data-stu-id="21b99-167">16</span></span>      | <span data-ttu-id="21b99-168">4</span><span class="sxs-lookup"><span data-stu-id="21b99-168">4</span></span>     |
| <span data-ttu-id="21b99-169">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-169">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-170">Chgreqqueueprop</span><span class="sxs-lookup"><span data-stu-id="21b99-170">ChgReqQueueProp</span></span> | <span data-ttu-id="21b99-171">30</span><span class="sxs-lookup"><span data-stu-id="21b99-171">30</span></span>       | <span data-ttu-id="21b99-172">0</span><span class="sxs-lookup"><span data-stu-id="21b99-172">0</span></span>       | <span data-ttu-id="21b99-173">16</span><span class="sxs-lookup"><span data-stu-id="21b99-173">16</span></span>      | <span data-ttu-id="21b99-174">4</span><span class="sxs-lookup"><span data-stu-id="21b99-174">4</span></span>     |
| <span data-ttu-id="21b99-175">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-175">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-176">Chgurlgrpprop</span><span class="sxs-lookup"><span data-stu-id="21b99-176">ChgUrlGrpProp</span></span>   | <span data-ttu-id="21b99-177">28</span><span class="sxs-lookup"><span data-stu-id="21b99-177">28</span></span>       | <span data-ttu-id="21b99-178">0</span><span class="sxs-lookup"><span data-stu-id="21b99-178">0</span></span>       | <span data-ttu-id="21b99-179">16</span><span class="sxs-lookup"><span data-stu-id="21b99-179">16</span></span>      | <span data-ttu-id="21b99-180">4</span><span class="sxs-lookup"><span data-stu-id="21b99-180">4</span></span>     |
| <span data-ttu-id="21b99-181">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-181">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-182">Chgsrvsesprop</span><span class="sxs-lookup"><span data-stu-id="21b99-182">ChgSrvSesProp</span></span>   | <span data-ttu-id="21b99-183">29</span><span class="sxs-lookup"><span data-stu-id="21b99-183">29</span></span>       | <span data-ttu-id="21b99-184">0</span><span class="sxs-lookup"><span data-stu-id="21b99-184">0</span></span>       | <span data-ttu-id="21b99-185">16</span><span class="sxs-lookup"><span data-stu-id="21b99-185">16</span></span>      | <span data-ttu-id="21b99-186">4</span><span class="sxs-lookup"><span data-stu-id="21b99-186">4</span></span>     |
| <span data-ttu-id="21b99-187">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-187">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-188">Chgsrvsesprop</span><span class="sxs-lookup"><span data-stu-id="21b99-188">ChgSrvSesProp</span></span>   | <span data-ttu-id="21b99-189">29</span><span class="sxs-lookup"><span data-stu-id="21b99-189">29</span></span>       | <span data-ttu-id="21b99-190">0</span><span class="sxs-lookup"><span data-stu-id="21b99-190">0</span></span>       | <span data-ttu-id="21b99-191">16</span><span class="sxs-lookup"><span data-stu-id="21b99-191">16</span></span>      | <span data-ttu-id="21b99-192">4</span><span class="sxs-lookup"><span data-stu-id="21b99-192">4</span></span>     |
| <span data-ttu-id="21b99-193">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-193">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-194">Verbindung herstellen</span><span class="sxs-lookup"><span data-stu-id="21b99-194">ConnConnect</span></span>     | <span data-ttu-id="21b99-195">21</span><span class="sxs-lookup"><span data-stu-id="21b99-195">21</span></span>       | <span data-ttu-id="21b99-196">0</span><span class="sxs-lookup"><span data-stu-id="21b99-196">0</span></span>       | <span data-ttu-id="21b99-197">16</span><span class="sxs-lookup"><span data-stu-id="21b99-197">16</span></span>      | <span data-ttu-id="21b99-198">4</span><span class="sxs-lookup"><span data-stu-id="21b99-198">4</span></span>     |
| <span data-ttu-id="21b99-199">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-199">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-200">"Config"</span><span class="sxs-lookup"><span data-stu-id="21b99-200">ConnIdAssgn</span></span>     | <span data-ttu-id="21b99-201">22</span><span class="sxs-lookup"><span data-stu-id="21b99-201">22</span></span>       | <span data-ttu-id="21b99-202">0</span><span class="sxs-lookup"><span data-stu-id="21b99-202">0</span></span>       | <span data-ttu-id="21b99-203">16</span><span class="sxs-lookup"><span data-stu-id="21b99-203">16</span></span>      | <span data-ttu-id="21b99-204">4</span><span class="sxs-lookup"><span data-stu-id="21b99-204">4</span></span>     |
| <span data-ttu-id="21b99-205">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-205">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-206">Recvreq</span><span class="sxs-lookup"><span data-stu-id="21b99-206">RecvReq</span></span>         | <span data-ttu-id="21b99-207">1</span><span class="sxs-lookup"><span data-stu-id="21b99-207">1</span></span>        | <span data-ttu-id="21b99-208">0</span><span class="sxs-lookup"><span data-stu-id="21b99-208">0</span></span>       | <span data-ttu-id="21b99-209">16</span><span class="sxs-lookup"><span data-stu-id="21b99-209">16</span></span>      | <span data-ttu-id="21b99-210">4</span><span class="sxs-lookup"><span data-stu-id="21b99-210">4</span></span>     |
| <span data-ttu-id="21b99-211">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-211">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-212">Analysieren</span><span class="sxs-lookup"><span data-stu-id="21b99-212">Parse</span></span>           | <span data-ttu-id="21b99-213">2</span><span class="sxs-lookup"><span data-stu-id="21b99-213">2</span></span>        | <span data-ttu-id="21b99-214">0</span><span class="sxs-lookup"><span data-stu-id="21b99-214">0</span></span>       | <span data-ttu-id="21b99-215">16</span><span class="sxs-lookup"><span data-stu-id="21b99-215">16</span></span>      | <span data-ttu-id="21b99-216">4</span><span class="sxs-lookup"><span data-stu-id="21b99-216">4</span></span>     |
| <span data-ttu-id="21b99-217">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-217">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-218">Logfilewrite</span><span class="sxs-lookup"><span data-stu-id="21b99-218">LogFileWrite</span></span>    | <span data-ttu-id="21b99-219">51</span><span class="sxs-lookup"><span data-stu-id="21b99-219">51</span></span>       | <span data-ttu-id="21b99-220">0</span><span class="sxs-lookup"><span data-stu-id="21b99-220">0</span></span>       | <span data-ttu-id="21b99-221">16</span><span class="sxs-lookup"><span data-stu-id="21b99-221">16</span></span>      | <span data-ttu-id="21b99-222">4</span><span class="sxs-lookup"><span data-stu-id="21b99-222">4</span></span>     |
| <span data-ttu-id="21b99-223">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-223">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-224">-Cleanup</span><span class="sxs-lookup"><span data-stu-id="21b99-224">ConnCleanup</span></span>     | <span data-ttu-id="21b99-225">24</span><span class="sxs-lookup"><span data-stu-id="21b99-225">24</span></span>       | <span data-ttu-id="21b99-226">0</span><span class="sxs-lookup"><span data-stu-id="21b99-226">0</span></span>       | <span data-ttu-id="21b99-227">16</span><span class="sxs-lookup"><span data-stu-id="21b99-227">16</span></span>      | <span data-ttu-id="21b99-228">4</span><span class="sxs-lookup"><span data-stu-id="21b99-228">4</span></span>     |
| <span data-ttu-id="21b99-229">Microsoft-Windows-HttpService</span><span class="sxs-lookup"><span data-stu-id="21b99-229">Microsoft-Windows-HttpService</span></span> | <span data-ttu-id="21b99-230">"Verbindung"</span><span class="sxs-lookup"><span data-stu-id="21b99-230">ConnTimedOut</span></span>    | <span data-ttu-id="21b99-231">53</span><span class="sxs-lookup"><span data-stu-id="21b99-231">53</span></span>       | <span data-ttu-id="21b99-232">0</span><span class="sxs-lookup"><span data-stu-id="21b99-232">0</span></span>       | <span data-ttu-id="21b99-233">16</span><span class="sxs-lookup"><span data-stu-id="21b99-233">16</span></span>      | <span data-ttu-id="21b99-234">3</span><span class="sxs-lookup"><span data-stu-id="21b99-234">3</span></span>     |



 

<span data-ttu-id="21b99-235">Tabelle 1: Auszüge aus einem Beispiel Ablauf Verfolgungs Bericht für ein Zeit Geber Problem</span><span class="sxs-lookup"><span data-stu-id="21b99-235">Table 1: Excerpts from a Sample Trace Report for a Timer Issue</span></span>

<span data-ttu-id="21b99-236">In diesem Beispiel ist der Ablauf Zeitpunkt (Ereignis "Ereignis Ereignisse") des Header Zeit Gebers (Timer \_ connectionidle) der Grund, warum Endbenutzern angezeigt wird, dass die Meldung "die Seite kann nicht angezeigt werden" in ihren Webclients angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="21b99-236">In this example, the expiration (ConnTimeOut event) of the header timer (Timer\_ConnectionIdle) is the reason end-users see the "page cannot be displayed" message in their web clients.</span></span> <span data-ttu-id="21b99-237">Ein möglicher Grund für das Timeout kann sein, dass Webclients aufgrund langsamer Verbindungen langsam senden.</span><span class="sxs-lookup"><span data-stu-id="21b99-237">A potential reason for the timeout may be that Web clients are sending slowly due to slow connections.</span></span> <span data-ttu-id="21b99-238">Um dieses Problem zu beheben, kann der Timeout Wert über Netsh-Befehle angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="21b99-238">To address this issue, the timeout value can be adjusted through Netsh commands.</span></span>

## <a name="adjusting-timeout-through-netsh-and-verifying-the-solution"></a><span data-ttu-id="21b99-239">Anpassen des Timeouts über Netsh und Überprüfen der Lösung</span><span class="sxs-lookup"><span data-stu-id="21b99-239">Adjusting Timeout through Netsh and Verifying the Solution</span></span>

<span data-ttu-id="21b99-240">Mit den Netsh-Befehlen für das unten aufgeführte http können IT-Experten Einstellungs Werte für die HTTP-Server-API-Komponente anzeigen und konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="21b99-240">The Netsh commands for HTTP listed below allow an IT professional to view and configure setting values on the HTTP Server API component.</span></span> <span data-ttu-id="21b99-241">Änderungen über Netsh HTTP-Befehle betreffen alle Server Anwendungen, die von der HTTP-Server-API-Komponente für diesen Computer gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="21b99-241">Changes through Netsh HTTP commands affect all server applications hosted by the HTTP Server API component for that machine.</span></span> <span data-ttu-id="21b99-242">Diese Änderungen bleiben über Neustarts der Komponente und Neustarts des Computers erhalten.</span><span class="sxs-lookup"><span data-stu-id="21b99-242">These changes persist across restarts of the component and reboots of the machine.</span></span> <span data-ttu-id="21b99-243">Die Netsh HTTP-Befehle sind in Windows Vista und Windows Server 2008 verfügbar und ersetzen das HttpCfg.exe Tool des Windows Server 2003 Resource Kits bei Ausführung unter Windows Vista und Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="21b99-243">The Netsh HTTP commands are available in Windows Vista and Windows Server 2008 and replace the Windows Server 2003 Resource Kit's HttpCfg.exe tool when running on Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="21b99-244">In diesem Szenario wird ein Timeout Wert angepasst und die Lösung überprüft.</span><span class="sxs-lookup"><span data-stu-id="21b99-244">In this scenario, we will adjust a timeout value and then verify the solution.</span></span> <span data-ttu-id="21b99-245">Timer sind in der HTTP-Server-API-Komponente vorhanden, um die Verfügbarkeit zu gewährleisten und durch einen falsch konfigurierten oder böswilligen Benutzer vor übermäßigen</span><span class="sxs-lookup"><span data-stu-id="21b99-245">Timers exist in the HTTP Server API component to ensure availability and protect against overconsumption by a misconfigured or malicious user.</span></span> <span data-ttu-id="21b99-246">Das Anpassen von Timern aus Standardwerten sollte sorgfältig anhand eines potenziellen DoS-Angriffs ausgewertet werden.</span><span class="sxs-lookup"><span data-stu-id="21b99-246">Adjusting timers from default values should be carefully evaluated against a potential DoS attack.</span></span>

<span data-ttu-id="21b99-247">In diesem Beispiel befinden sich die Webclients hinter einer langsamen Netzwerkverbindung, sodass das ETW-Ereignis des Timers " \_ connectionidle" verursacht wird.</span><span class="sxs-lookup"><span data-stu-id="21b99-247">In this example, the web clients are behind a slow network connection, resulting in the Timer\_ConnectionIdle ETW event.</span></span> <span data-ttu-id="21b99-248">Nach Berücksichtigung der Ursache der Timeouts und des Ausgleichs mit den Auswirkungen auf die Auslastung des Servers wird die Entscheidung getroffen, die Timeout Werte auf einen Wert von 240 Sekunden zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="21b99-248">After consideration of the cause of the timeouts and balancing with the impact on the server's load, the decision is made to increase the timeout values to a value of 240 seconds.</span></span> <span data-ttu-id="21b99-249">Sie können den Timer mit dem folgenden Verfahren anzeigen und konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="21b99-249">You can view and then configure the timer with the following procedure.</span></span>

<span data-ttu-id="21b99-250">**Konfigurieren des Timers für Leerlaufverbindungen (Timer \_ connectionidle) mit Netsh**</span><span class="sxs-lookup"><span data-stu-id="21b99-250">**Configure the idle connection timer (Timer\_ConnectionIdle) with Netsh**</span></span>

1.  <span data-ttu-id="21b99-251">Öffnen Sie auf dem-Server ein Befehlsfenster mit erhöhten Rechten, und führen Sie die folgenden Schritte aus, um den Timeout Wert anzuzeigen und zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="21b99-251">On the server, open an elevated command window and run the steps below to view and configure the timeout value.</span></span> <span data-ttu-id="21b99-252">Ein Screenshot des Befehls netsh http ist in Abbildung 2 unten dargestellt.</span><span class="sxs-lookup"><span data-stu-id="21b99-252">A screenshot of the Netsh HTTP command is shown in Figure 2 below.</span></span>
2.  <span data-ttu-id="21b99-253">Aktuelle Timeout Werte anzeigen: **netsh http Show Timeout**</span><span class="sxs-lookup"><span data-stu-id="21b99-253">Show the current timeout values: **Netsh http show timeout**</span></span>
3.  <span data-ttu-id="21b99-254">Konfigurieren Sie den \_ Timeout Wert für Timer connectionidle.</span><span class="sxs-lookup"><span data-stu-id="21b99-254">Configure the Timer\_ConnectionIdle timeout value.</span></span> <span data-ttu-id="21b99-255">In diesem Beispiel wird der Wert in 240 Sekunden geändert: **netsh http Add Timeout timeouttype = idleconnectiontimeout Wert = 240**</span><span class="sxs-lookup"><span data-stu-id="21b99-255">In this example, the value is changed to 240 seconds: **Netsh http add timeout timeouttype=idleconnectiontimeout value=240**</span></span>

![netsh http-Befehlsfenster](images/netshhttpcommand.png)

<span data-ttu-id="21b99-257">Abbildung 2: netsh http-Befehlsfenster</span><span class="sxs-lookup"><span data-stu-id="21b99-257">Figure 2: Netsh HTTP command window</span></span>

<span data-ttu-id="21b99-258">Nachdem Sie den Timeout Wert konfiguriert haben, führen Sie die ETW-Diagnose Schritte erneut aus.</span><span class="sxs-lookup"><span data-stu-id="21b99-258">After configuring the timeout value, rerun the ETW diagnosis steps.</span></span> <span data-ttu-id="21b99-259">Wenn die Fehlerbedingung korrigiert wurde, sollte für die ETW-Ablauf Verfolgung kein Timeout mit einer etw-Ebene von "3" für den Timer für die Verbindung im Leerlauf mehr angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="21b99-259">If the error condition is corrected, the ETW trace should no longer show a timeout with an ETW level of "3" for the connection idle timer.</span></span>

 

 




