---
title: Zwischenspeichern von Anmeldeinformationen
description: Zwischenspeichern von Anmeldeinformationen
ms.assetid: 6e411333-56fa-455b-a90a-f2b54f3c9545
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 34a139d0cd90495de87f42de08687fd3157acaf6
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "103947905"
---
# <a name="credential-caching"></a><span data-ttu-id="8ea77-103">Zwischenspeichern von Anmeldeinformationen</span><span class="sxs-lookup"><span data-stu-id="8ea77-103">Credential Caching</span></span>

## <a name="credential-caching-on-ntlm-ka-connections"></a><span data-ttu-id="8ea77-104">Zwischenspeichern von Anmelde Informationen für NTLM Ka-Verbindungen</span><span class="sxs-lookup"><span data-stu-id="8ea77-104">Credential Caching on NTLM KA Connections</span></span>

<span data-ttu-id="8ea77-105">Die HTTP-Server-API speichert Anmelde Informationen nur bei Keep-Alive Verbindungen (KA) für die NTLM-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="8ea77-105">The HTTP Server API caches credentials only on Keep-Alive (KA) connections for NTLM authentication.</span></span> <span data-ttu-id="8ea77-106">Standardmäßig speichert die HTTP-Server-API die Anmelde Informationen, die bei der ersten Anforderung abgerufen wurden, die über eine Ka-Verbindung gesendet wurde</span><span class="sxs-lookup"><span data-stu-id="8ea77-106">By default, the HTTP Server API caches the credentials obtained on the first request sent on a KA connection.</span></span> <span data-ttu-id="8ea77-107">Der Client kann nachfolgende Anforderungen für Ka-Verbindungen ohne Autorisierungs Header senden und die Authentifizierung auf der Grundlage des zuvor eingerichteten Kontexts abrufen.</span><span class="sxs-lookup"><span data-stu-id="8ea77-107">The client can send subsequent requests on KA connections without an authorization header and obtain authentication based on the previously established context.</span></span> <span data-ttu-id="8ea77-108">In diesem Fall sendet die HTTP-Server-API das Token basierend auf den zwischengespeicherten Anmelde Informationen an die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="8ea77-108">In this case, the HTTP Server API sends the token based on the cached credential to the application.</span></span> <span data-ttu-id="8ea77-109">Anmelde Informationen für eine Anforderung, die von einem Proxy gesendet wird, werden nicht zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="8ea77-109">Credentials for a request sent by a proxy are not cached.</span></span> <span data-ttu-id="8ea77-110">Die Anwendung deaktiviert das Zwischenspeichern von NTLM-Anmelde Informationen, indem das Flag **disablentlmkredentialcaching** in der [**http- \_ Server \_ Authentifizierungs \_ Info**](/windows/desktop/api/Http/ns-http-http_server_authentication_info) -Struktur festgelegt wird, die in Aufrufen von httpsetserversessionproperty oder httpseturlgroupproperty angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="8ea77-110">The application disables NTLM credential caching by setting the **DisableNTLMCredentialCaching** flag in the [**HTTP\_SERVER\_AUTHENTICATION\_INFO**](/windows/desktop/api/Http/ns-http-http_server_authentication_info) structure that is supplied in calls to HttpSetServerSessionProperty or HttpSetUrlGroupProperty.</span></span> <span data-ttu-id="8ea77-111">Wenn das Zwischenspeichern von Anmelde Informationen deaktiviert ist, werden die zwischengespeicherten Anmelde Informationen von der HTTP-Server-API verworfen</span><span class="sxs-lookup"><span data-stu-id="8ea77-111">When credential caching is disabled, the HTTP Server API discards the cached credentials and performs authentication for each request</span></span>

## <a name="ntlm-credential-caching-for-specific-urls"></a><span data-ttu-id="8ea77-112">Zwischenspeichern von NTLM-Anmelde Informationen für bestimmte URLs</span><span class="sxs-lookup"><span data-stu-id="8ea77-112">NTLM Credential Caching for Specific URLs</span></span>

<span data-ttu-id="8ea77-113">Die Anwendung bestimmt, ob die von der HTTP-Server-API zurückgegebenen Anforderungs Anmelde Informationen zwischengespeichert werden, indem der Flags-Parameter der HTTP-Anforderungs Authentifizierungs- \_ \_ \_ Informationsstruktur überprüft wird.</span><span class="sxs-lookup"><span data-stu-id="8ea77-113">The application determines if the request credentials returned by the HTTP Server API are cached by inspecting the Flags parameter of the HTTP\_REQUEST\_AUTH\_INFO structure.</span></span> <span data-ttu-id="8ea77-114">Dieser Parameter gibt das \_ Token für die HTTP-Anforderungs Authentifizierung \_ \_ \_ \_ für \_ die zwischengespeicherte Erstellung an, \_ Wenn das zurückgegebene NTLM-Token aus dem Cache abgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="8ea77-114">This parameter indicates HTTP\_REQUEST\_AUTH\_FLAG\_TOKEN\_FOR\_CACHED\_CRED when the returned NTLM token was retrieved from the cache.</span></span> <span data-ttu-id="8ea77-115">Das Zwischenspeichern von Anmelde Informationen wird für eine URL-Gruppe für alle URLs in der Gruppe angegeben.</span><span class="sxs-lookup"><span data-stu-id="8ea77-115">Credential caching is specified on a URL group for all the URLs in the group.</span></span> <span data-ttu-id="8ea77-116">Das Zwischenspeichern von Anmelde Informationen auf URL-Basis wird nicht unterstützt. Anwendungen können jedoch ermitteln, ob zwischengespeicherte Anmelde Informationen pro URL akzeptiert oder abgelehnt werden sollen, indem Sie \_ \_ in der HTTP-Anforderungs Authentifizierungs-Informationsstruktur das Flag für die HTTP-Anforderungs Authentifizierung \_ \_ für das \_ \_ zwischengespeicherte Flag für die \_ http- \_ Anforderungs \_ \_ Authentifizierung überprüfen.</span><span class="sxs-lookup"><span data-stu-id="8ea77-116">Credential caching on a per URL basis is not supported, however, applications can determine whether to accept or reject cached credentials on a per URL basis by checking the HTTP\_REQUEST\_AUTH\_FLAG\_TOKEN\_FOR\_CACHED\_CRED flag in the HTTP\_REQUEST\_AUTH\_INFO structure.</span></span> <span data-ttu-id="8ea77-117">Die Anwendung lehnt die zwischengespeicherten Anmelde Informationen ab, indem eine 401-Authentifizierungs Aufforderung an den Client gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="8ea77-117">The application rejects the cached credentials by sending a 401 authentication challenge to the client.</span></span> <span data-ttu-id="8ea77-118">Der Client sendet die Anforderung dann erneut mit den Autorisierungs Headern, wodurch ein neuer Authentifizierungs Hand Shake mit der HTTP-Server-API ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="8ea77-118">The client then resends the request with the authorization headers, triggering a new authentication handshake with the HTTP Server API.</span></span>

## <a name="basic-authentication"></a><span data-ttu-id="8ea77-119">Standardauthentifizierung</span><span class="sxs-lookup"><span data-stu-id="8ea77-119">Basic Authentication</span></span>

<span data-ttu-id="8ea77-120">Wenn ein Standard Authentifizierungs Header in der Anforderung enthalten ist, analysiert die HTTP-Server-API den Header, um den Benutzernamen und das Kennwort zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="8ea77-120">When a Basic authentication header is included in the request, the HTTP Server API parses the header to obtain the user name and password.</span></span> <span data-ttu-id="8ea77-121">Der Benutzername wird dann in die Benutzer-und Domänen Teile analysiert.</span><span class="sxs-lookup"><span data-stu-id="8ea77-121">The user name is then parsed into the user and domain portions.</span></span> <span data-ttu-id="8ea77-122">Die HTTP-Server-API speichert das Zugriffs Token, das für die Standard Authentifizierung abgerufen wurde, basierend auf dem Benutzernamen und dem Domänen Schlüssel zwischen.</span><span class="sxs-lookup"><span data-stu-id="8ea77-122">The HTTP Server API caches the access token, obtained for Basic authentication, based on the user name and domain key.</span></span> <span data-ttu-id="8ea77-123">Wenn eine neue Anforderung empfangen wird, ruft die HTTP-Server-API das Zugriffs Token basierend auf dem Benutzernamen und der Domäne ab.</span><span class="sxs-lookup"><span data-stu-id="8ea77-123">When a new request is received, the HTTP Server API retrieves the access token based on the user name and domain.</span></span> <span data-ttu-id="8ea77-124">Das Kennwort in der Anforderung wird dann mit dem zwischengespeicherten Kennwort überprüft.</span><span class="sxs-lookup"><span data-stu-id="8ea77-124">The password in the request is then checked against the cached password.</span></span> <span data-ttu-id="8ea77-125">Das zwischengespeicherte Zugriffs Token wird gelöscht, wenn das Gültigkeits Limit für die Gültigkeitsdauer (TTL) erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="8ea77-125">The cached access token is deleted when the time-to-live (TTL) limit is reached.</span></span>

 

 




