---
title: Dialogfeld 'Schriftart'
description: Im Dialogfeld Schriftart können Benutzerattribute für eine logische Schriftart auswählen, z. b. Schriftfamilie und zugehörige Schriftart, Größe, Punktgröße, Effekte (unterstrichen, durchgestrichen und Textfarbe) und ein Skript (oder Zeichensatz).
ms.assetid: e8a996aa-4e34-45d0-a325-9c20b1a6ce07
keywords:
- Windows-Benutzeroberfläche, Benutzereingabe
- Windows-Benutzeroberfläche, allgemeine Dialog Feld Bibliothek
- Benutzereingabe, allgemeine Dialog Feld Bibliothek
- Erfassen von Benutzereingaben, allgemeine Dialog Feld Bibliothek
- Allgemeine Dialog Feld Bibliothek
- Allgemeine Dialogfelder
- Schriftart (Dialogfeld)
- Dialogfeld "Schriftart anpassen"
- Flags, Dialogfeld "Schriftart"
- Initialisierungsflags
- vordefinierte Dialogfelder
- Dialogfelder, Schriftart
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f9a752ce53ecf496c58efb0c346a8c3d67c4f1b1
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104039543"
---
# <a name="font-dialog-box"></a><span data-ttu-id="0c0ab-115">Dialogfeld 'Schriftart'</span><span class="sxs-lookup"><span data-stu-id="0c0ab-115">Font Dialog Box</span></span>

<span data-ttu-id="0c0ab-116">Im Dialogfeld **Schriftart** können Benutzerattribute für eine logische Schriftart auswählen, z. b. Schriftfamilie und zugehörige Schriftart, Größe, Punktgröße, Effekte (unterstrichen, durchgestrichen und Textfarbe) und ein Skript (oder Zeichensatz).</span><span class="sxs-lookup"><span data-stu-id="0c0ab-116">The **Font** dialog box lets the user choose attributes for a logical font, such as font family and associated font style, point size, effects (underline, strikeout, and text color), and a script (or character set).</span></span>

<span data-ttu-id="0c0ab-117">Sie erstellen und zeigen ein **Schriftart** Dialogfeld an, indem Sie eine [**Auswahl Schriftart**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) initialisieren und die Struktur an die Funktion " [**choosetfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) " übergeben.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-117">You create and display a **Font** dialog box by initializing a [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and passing the structure to the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function.</span></span>

<span data-ttu-id="0c0ab-118">Der folgende Screenshot zeigt ein typisches Dialogfeld für die **Schriftart** .</span><span class="sxs-lookup"><span data-stu-id="0c0ab-118">The following screen shot shows a typical **Font** dialog box.</span></span>

![Screenshot mit dem Dialogfeld "Schriftart"](images/fontdialogboxxp.png)

<span data-ttu-id="0c0ab-120">Wenn der Benutzer auf die Schaltfläche **OK** klickt, gibt die [**choosefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Funktion **true** zurück und legt die Informationen zur Auswahl des Benutzers in der [**selecsefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-120">If the user clicks the **OK** button, the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function returns **TRUE** and sets the information about the user's selection in the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure.</span></span>

<span data-ttu-id="0c0ab-121">Wenn der Benutzer das Dialogfeld " **Schriftart** " abbricht oder ein Fehler auftritt, gibt " [**Choice Font**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) " den Wert " **false** " zurück, und der Inhalt der [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur ist nicht definiert.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-121">If the user cancels the **Font** dialog box or an error occurs, [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) returns **FALSE** and the contents of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure are not defined.</span></span> <span data-ttu-id="0c0ab-122">Sie können die Ursache eines Fehlers ermitteln, indem Sie die [**kommdlgextendecoderror**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) -Funktion verwenden, um den erweiterten Fehlerwert abzurufen.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-122">You can determine the cause of an error by using the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="0c0ab-123">Die folgenden Themen werden in diesem Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-123">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="0c0ab-124">Dialog Feld-Initialisierungsflags für Schriftart</span><span class="sxs-lookup"><span data-stu-id="0c0ab-124">Font Dialog Box Initialization Flags</span></span>](#font-dialog-box-initialization-flags)
-   [<span data-ttu-id="0c0ab-125">Anpassen des Dialog Felds "Schriftart" unter früheren Versionen von Windows</span><span class="sxs-lookup"><span data-stu-id="0c0ab-125">Customizing the Font Dialog Box on earlier versions of Windows</span></span>](#customizing-the-font-dialog-box-on-earlier-versions-of-windows)
-   [<span data-ttu-id="0c0ab-126">Anpassen des Dialog Felds "Schriftart" unter Windows 7</span><span class="sxs-lookup"><span data-stu-id="0c0ab-126">Customizing the Font Dialog Box on Windows 7</span></span>](#customizing-the-font-dialog-box-on-windows-7)

## <a name="font-dialog-box-initialization-flags"></a><span data-ttu-id="0c0ab-127">Dialog Feld-Initialisierungsflags für Schriftart</span><span class="sxs-lookup"><span data-stu-id="0c0ab-127">Font Dialog Box Initialization Flags</span></span>

<span data-ttu-id="0c0ab-128">Vor dem Aufruf der [**Auswahl Schriftart**](/windows/win32/api/commdlg/ns-commdlg-choosefonta)muss **der Flags** -Member [**der chooonfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur **CF \_ screenfonts**, **CF \_ Printerfonts** oder **CF \_ both** angeben, um anzugeben, ob das Dialogfeld Bildschirm Schriftarten, Drucker Schriftarten oder beides auflisten soll.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-128">Before calling [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta), the **Flags** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure must specify **CF\_SCREENFONTS**, **CF\_PRINTERFONTS**, or **CF\_BOTH**, to indicate whether the dialog box should list screen fonts, printer fonts, or both.</span></span> <span data-ttu-id="0c0ab-129">Wenn Sie **CF \_ Printerfonts** oder **CF \_ both** angeben, muss der **hdc** -Member der **chootarfont** -Struktur ein Handle für einen Gerätekontext für den Drucker angeben.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-129">If you specify **CF\_PRINTERFONTS** or **CF\_BOTH**, the **hDC** member of the **CHOOSEFONT** structure must specify a handle to a device context for the printer.</span></span>

<span data-ttu-id="0c0ab-130">Wenn das Flag **CF \_ Printerfonts** oder **CF \_ both** festgelegt ist, wird die Bezeichnung Schriftart Type Description am unteren Rand des Dialog Felds **Schriftart** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-130">If the **CF\_PRINTERFONTS** or **CF\_BOTH** flag is set, the font type description label appears at the bottom of the **Font** dialog box.</span></span>

<span data-ttu-id="0c0ab-131">Ab Windows 7 werden die Flags **"CF \_ Printerfonts**", "CF **\_ screenfonts**", " **CF \_ both**" und " **CF \_ WYSIWYG** " nicht mehr von der " [**choosetfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) "-Funktion für die Schriftart Enumeration verwendet.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-131">Starting with Windows 7, the **CF\_PRINTERFONTS**, **CF\_SCREENFONTS**, **CF\_BOTH**, and **CF\_WYSIWYG** flags are no longer used by the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function for font enumeration.</span></span> <span data-ttu-id="0c0ab-132">Sie sind in Windows 7 veraltet.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-132">They are obsolete in Windows 7.</span></span> <span data-ttu-id="0c0ab-133">Allerdings behält das **CF \_ Printerfonts** -Flag eine Funktion bei: zum Anzeigen der Bezeichnung Schriftart Typbeschreibung unten im Dialogfeld **Schriftart** .</span><span class="sxs-lookup"><span data-stu-id="0c0ab-133">However, the **CF\_PRINTERFONTS** flag retains one function: to display the font type description label at the bottom of the **Font** dialog box.</span></span>

<span data-ttu-id="0c0ab-134">Sie können das **Flags** -Element verwenden, um einige der **Schriftart** Dialogfeld-Steuerelemente zu aktivieren oder zu deaktivieren, und Sie können den **Flags** -Member zusammen mit anderen Member der [**Auswahl Schriftart**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) verwenden, um die Anfangswerte einiger Steuerelemente zu steuern.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-134">You can use the **Flags** member to enable or disable some of the **Font** dialog box controls, and you can use the **Flags** member in conjunction with other [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) members to control the initial values of some controls.</span></span>

<span data-ttu-id="0c0ab-135">**So zeigen Sie die Steuerelemente an, die es dem Benutzer ermöglichen, Optionen für das stricken, unterstreichen und die Farbe auszuwählen:**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-135">**To display the controls that allow the user to select strikeout, underline, and color options:**</span></span>

-   <span data-ttu-id="0c0ab-136">Legen Sie das **CF \_ Effects** -Flag fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-136">Set the **CF\_EFFECTS** flag.</span></span> <span data-ttu-id="0c0ab-137">Sie können den **rgbcolors** -Member der [**chooonfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur verwenden, um eine anfängliche Schriftfarbe anzugeben.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-137">You can use the **rgbColors** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure to specify an initial font color.</span></span>

<span data-ttu-id="0c0ab-138">**So geben Sie die Anfangswerte für die Dialogfeld-Steuerelemente Schriftart, Schriftart Stil, Größe, Strich und Unterstreichung an:**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-138">**To specify the initial values for the Font, Font Style, Size, Strikeout, and Underline dialog box controls:**</span></span>

1.  <span data-ttu-id="0c0ab-139">So geben Sie die Anfangswerte für die Dialogfeld-Steuerelemente Schriftart, Schriftart Stil, Größe, Strich und Unterstreichung an:</span><span class="sxs-lookup"><span data-stu-id="0c0ab-139">To specify the initial values for the Font, Font Style, Size, Strikeout, and Underline dialog box controls:</span></span>
2.  <span data-ttu-id="0c0ab-140">Legen Sie **das \_ CF inittologfontstruct** -Flag im **Flags** -Member zusammen mit Membern der [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur fest, auf die von **lplogfont** verwiesen wird, um die Anfangswerte für die Schriftart Attribute anzugeben.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-140">Set the **CF\_INITTOLOGFONTSTRUCT** flag in the **Flags** member, along with members of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that is pointed to by the **lpLogFont**, to specify the initial values for the font attributes.</span></span>
3.  <span data-ttu-id="0c0ab-141">Sie können auch die **CF noanesel \_**, **CF \_ nostylesel** und **CF \_ nosizesel** Flags verwenden, um zu verhindern, dass das Dialogfeld **Schriftart** anfängliche Werte für die entsprechenden Steuerelemente anzeigt.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-141">You can also use the **CF\_NOFACESEL**, **CF\_NOSTYLESEL**, and **CF\_NOSIZESEL** flags to prevent the **Font** dialog box from displaying initial values for the corresponding controls.</span></span> <span data-ttu-id="0c0ab-142">Dies ist hilfreich, wenn Sie mit einer Auswahl von Text arbeiten, der mehr als eine Schriftart, einen Stil oder eine Punktgröße aufweist.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-142">This is useful when you are working with a selection of text that has more than one typeface, style, or point size.</span></span> <span data-ttu-id="0c0ab-143">Diese Werte werden auch in **Flags** festgelegt, wenn [**choosefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) zurückgibt, wenn der Benutzer keinen entsprechenden Wert ausgewählt hat.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-143">These values will also be set in **Flags** when [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) returns, if the user did not select a corresponding value.</span></span>

<span data-ttu-id="0c0ab-144">**So initialisieren Sie das Steuerelement Schriftart Stil mit einem angegebenen Stilnamen**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-144">**To initialize the Font Style control to a specified style name**</span></span>

-   <span data-ttu-id="0c0ab-145">Legen Sie das **CF \_ usestyle** -Flag fest, und verwenden Sie den **lpszstyle** -Member, um den Formatvorlagen Namen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-145">Set the **CF\_USESTYLE** flag and use the **lpszStyle** member to specify the style name.</span></span>

> [!Note]  
> <span data-ttu-id="0c0ab-146">Zum Globalisieren der Anwendung geben Sie den Stil mithilfe der **lfWeight** -und **lfitalic** -Elemente der [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur an, auf die von **lplogfont** verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-146">To globalize your application, specify the style by using the **lfWeight** and **lfItalic** members of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that is pointed to by **lpLogFont**.</span></span> <span data-ttu-id="0c0ab-147">Der Stilname kann sich abhängig von der Sprache der Systembenutzer Oberfläche ändern.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-147">The style name may change depending on the system user interface language.</span></span>

 

<span data-ttu-id="0c0ab-148">**Anzeigen der Schaltfläche "anwenden"**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-148">**To display the Apply button**</span></span>

-   <span data-ttu-id="0c0ab-149">Legen Sie das Flag zum **\_ Anwenden von CF** fest, und stellen Sie eine Hook-Prozedur zum Verarbeiten von [**WM- \_ Befehls**](/windows/desktop/menurc/wm-command) Nachrichten **für die Schalt** Fläche</span><span class="sxs-lookup"><span data-stu-id="0c0ab-149">Set the **CF\_APPLY** flag and provide a hook procedure to process [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages for the **Apply** button.</span></span> <span data-ttu-id="0c0ab-150">Die Hook-Prozedur kann die [**WM- \_ Auswahl Schriftart \_ getlogfont**](wm-choosefont-getlogfont.md) an das Dialogfeld senden, um die Adresse der [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur abzurufen, die die aktuelle Auswahl für die Schriftart enthält.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-150">The hook procedure can send the [**WM\_CHOOSEFONT\_GETLOGFONT**](wm-choosefont-getlogfont.md) message to the dialog box to retrieve the address of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that contains the current selections for the font.</span></span>

<span data-ttu-id="0c0ab-151">**Anzeigen der Schaltfläche "Hilfe"**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-151">**To display the Help button**</span></span>

-   <span data-ttu-id="0c0ab-152">Legen Sie das **CF \_ ShowHelp** -Flag fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-152">Set the **CF\_SHOWHELP** flag.</span></span> <span data-ttu-id="0c0ab-153">Das **hwndOwner** -Mitglied muss das Fenster identifizieren, um die registrierte [**helpmsgstring**](helpmsgstring.md) -Meldung zu erhalten, wenn der Benutzer auf die Schaltfläche **Hilfe** klickt.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-153">The **hwndOwner** member must identify the window to receive the [**HELPMSGSTRING**](helpmsgstring.md) registered message when the user clicks the **Help** button.</span></span>

<span data-ttu-id="0c0ab-154">**So schränken Sie die im Dialogfeld angezeigten Schriftarten ein**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-154">**To restrict the fonts displayed in the dialog box**</span></span>

-   <span data-ttu-id="0c0ab-155">Legen Sie eine beliebige Kombination der Flags **CF \_ ttonly**, **CF \_ FixedPitchOnly**, **CF \_ novector Fonts**, **CF \_ novertfonts**, **CF \_ scalableonly** und **CF \_ WYSIWYG** fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-155">Set any combination of the **CF\_TTONLY**, **CF\_FIXEDPITCHONLY**, **CF\_NOVECTORFONTS**, **CF\_NOVERTFONTS**, **CF\_SCALABLEONLY**, and **CF\_WYSIWYG** flags.</span></span> <span data-ttu-id="0c0ab-156">Sie können auch die verfügbaren Stile einschränken, die im Dialogfeld für einige Schriftarten angezeigt werden, indem Sie den Wert **CF \_ nosimulationen** verwenden.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-156">You can also restrict the available styles that the dialog box displays for some fonts by using the **CF\_NOSIMULATIONS** value.</span></span>

<span data-ttu-id="0c0ab-157">Ab Windows 7 wird die im Dialogfeld angezeigte Liste der Schriftarten auf der Grundlage der angezeigten Schriftarten des Benutzers eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-157">Starting with Windows 7, the list of fonts displayed in the dialog box is restricted based on the user's shown fonts.</span></span> <span data-ttu-id="0c0ab-158">Um die Einschränkung zu entfernen, legen Sie das **CF \_ inactivefonts** -Flag fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-158">To remove the restriction, set the **CF\_INACTIVEFONTS** flag.</span></span>

<span data-ttu-id="0c0ab-159">**So schränken Sie die Namen, Stile und Punktgrößen der Schriftart ein, die der Benutzer angeben kann**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-159">**To restrict the typeface names, styles, and point sizes that the user can specify**</span></span>

1.  <span data-ttu-id="0c0ab-160">Legen Sie das **CF \_ forcefontexist** -Flag fest, um den Benutzer so einzuschränken, dass nur gültige Schriftart Namen, Stile und Punktgrößen angegeben werden, die im Dialogfeld aufgelistet sind.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-160">Set the **CF\_FORCEFONTEXIST** flag to restrict the user to specifying only valid typeface names, styles, and point sizes listed in the dialog box.</span></span>
2.  <span data-ttu-id="0c0ab-161">Legen Sie das Flag "Flag **\_ limitsize** " fest, um den Benutzer auf die Angabe von Punktgrößen in dem Bereich zu beschränken, der durch die Member **nsizemin** und **nsizemax** angegeben wird</span><span class="sxs-lookup"><span data-stu-id="0c0ab-161">Set the **CF\_LIMITSIZE** flag to restrict the user to specifying point sizes in the range specified by the **nSizeMin** and **nSizeMax** members.</span></span>

<span data-ttu-id="0c0ab-162">**So beschränken oder deaktivieren Sie das Kombinations Feld "Skripts"**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-162">**To restrict or disable the Scripts combo box**</span></span>

-   <span data-ttu-id="0c0ab-163">Legen Sie das Flag **CF \_ noscriptsel** fest, um das Kombinations Feld **Skripts** zu deaktivieren, oder legen Sie das Flag **CF \_ selectScript** fest, um die Auswahl im Kombinations Feld **Skripts** auf einen angegebenen Zeichensatz zu beschränken.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-163">Set the **CF\_NOSCRIPTSEL** flag to disable the **Scripts** combo box, or set the **CF\_SELECTSCRIPT** flag to restrict selections in the **Scripts** combo box to a specified character set.</span></span>

## <a name="customizing-the-font-dialog-box-on-earlier-versions-of-windows"></a><span data-ttu-id="0c0ab-164">Anpassen des Dialog Felds "Schriftart" unter früheren Versionen von Windows</span><span class="sxs-lookup"><span data-stu-id="0c0ab-164">Customizing the Font Dialog Box on earlier versions of Windows</span></span>

<span data-ttu-id="0c0ab-165">Sie können eine benutzerdefinierte Vorlage für das Dialogfeld **Schriftart** angeben, z. b. Wenn Sie zusätzliche Steuerelemente einschließen möchten, die für Ihre Anwendung eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-165">You can provide a custom template for the **Font** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="0c0ab-166">Die [**Auswahl Schriftart**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) verwendet die benutzerdefinierte Vorlage anstelle der Standardvorlage.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-166">The [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function uses your custom template in place of the default template.</span></span>

<span data-ttu-id="0c0ab-167">**So stellen Sie eine benutzerdefinierte Vorlage für das Dialogfeld "Schriftart" bereit**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-167">**To provide a custom template for the Font dialog box**</span></span>

1.  <span data-ttu-id="0c0ab-168">Erstellen Sie die benutzerdefinierte Vorlage, indem Sie die in der Datei Schriftart. DLG angegebene Standardvorlage ändern.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-168">Create the custom template by modifying the default template specified in the Font.dlg file.</span></span> <span data-ttu-id="0c0ab-169">Die in der Standard Schriftart-Dialogfeld Vorlage verwendeten Steuerelement-IDs werden in der Datei "Dlgs. h" definiert.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-169">The control identifiers used in the default Font dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="0c0ab-170">Verwenden Sie die [**chooonfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur, um die Vorlage wie folgt zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="0c0ab-170">Use the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="0c0ab-171">Wenn Ihre benutzerdefinierte Vorlage eine Ressource in einer Anwendung oder einer Dynamic Link Library ist, legen Sie das **CF \_ ENABLETEMPLATE** -Flag im **Flags** -Member fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-171">If your custom template is a resource in an application or dynamic link library, set the **CF\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="0c0ab-172">Verwenden Sie die **HINSTANCE** -und **lptemplatename** -Member der-Struktur, um das Modul und den Ressourcennamen zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-172">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>
    -   <span data-ttu-id="0c0ab-173">Wenn sich Ihre benutzerdefinierte Vorlage bereits im Arbeitsspeicher befindet, legen Sie das Flag " **CF \_ enabletemplatehandle** " fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-173">If your custom template is already in memory, set the **CF\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="0c0ab-174">Verwenden Sie das **HINSTANCE** -Element, um das Speicher Objekt zu identifizieren, das die Vorlage enthält.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-174">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="0c0ab-175">Sie können eine [**cfhuokproc**](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc) -Hook-Prozedur für das Dialogfeld " **Schriftart** " bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-175">You can provide a [**CFHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc) hook procedure for the **Font** dialog box.</span></span> <span data-ttu-id="0c0ab-176">Die Hook-Prozedur kann Nachrichten verarbeiten, die an das Dialogfeld gesendet werden, und Meldungen an das Dialogfeld senden.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-176">The hook procedure can process messages sent to the dialog box and send messages to the dialog box.</span></span> <span data-ttu-id="0c0ab-177">Wenn Sie eine benutzerdefinierte Vorlage verwenden, um zusätzliche Steuerelemente zu definieren, müssen Sie eine Hook-Prozedur bereitstellen, um Eingaben für die Steuerelemente zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-177">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="0c0ab-178">**So aktivieren Sie eine Hook-Prozedur für das Dialogfeld "Schriftart"**</span><span class="sxs-lookup"><span data-stu-id="0c0ab-178">**To enable a hook procedure for the Font dialog box**</span></span>

1.  <span data-ttu-id="0c0ab-179">Legen Sie das **CF \_ ENABLEHOOK** -Flag im **Flags** -Member der [**choosefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-179">Set the **CF\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure.</span></span>
2.  <span data-ttu-id="0c0ab-180">Geben Sie die Adresse der Hook-Prozedur im **lpfnhook** -Member an.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-180">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="0c0ab-181">Nach der Verarbeitung der " [**WM \_ InitDialog**](wm-initdialog.md) "-Meldung sendet die Dialogfeld Prozedur eine " **WM \_ InitDialog** "-Meldung an die Hook-Prozedur.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-181">After processing the [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="0c0ab-182">Der *LPARAM* -Parameter dieser Nachricht ist ein Zeiger auf die [**ausgewählter Font**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur, die verwendet wird, um das Dialogfeld zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-182">The *lParam* parameter of this message is a pointer to the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure that is used to initialize the dialog box.</span></span>

<span data-ttu-id="0c0ab-183">Die Hook-Prozedur kann die Nachrichten [**WM \_ choosefont \_ getlogfont**](wm-choosefont-getlogfont.md), [**WM \_ choosefont \_ setlogfont**](wm-choosefont-setlogfont.md)und [**WM \_ choosefont \_ setFlags**](wm-choosefont-setflags.md) an das Dialogfeld senden, um die aktuellen Werte und Flags des Dialog Felds zu erhalten und festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-183">The hook procedure can send the [**WM\_CHOOSEFONT\_GETLOGFONT**](wm-choosefont-getlogfont.md), [**WM\_CHOOSEFONT\_SETLOGFONT**](wm-choosefont-setlogfont.md), and [**WM\_CHOOSEFONT\_SETFLAGS**](wm-choosefont-setflags.md) messages to the dialog box to get and set the current values and flags of the dialog box.</span></span>

## <a name="customizing-the-font-dialog-box-on-windows-7"></a><span data-ttu-id="0c0ab-184">Anpassen des Dialog Felds "Schriftart" unter Windows 7</span><span class="sxs-lookup"><span data-stu-id="0c0ab-184">Customizing the Font Dialog Box on Windows 7</span></span>

<span data-ttu-id="0c0ab-185">Der folgende Screenshot zeigt ein typisches Dialogfeld **Schriftart** in Windows 7.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-185">The following screen shot shows a typical **Font** dialog box in Windows 7.</span></span>

![Screenshot mit dem Schriftart-dialob-Feld](images/fontdialogboxwin7.png)

<span data-ttu-id="0c0ab-187">In früheren Windows-Versionen enthält die Template-Datei der Schriftart. DLG eine Standardvorlage für die Auswahl Schriftart.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-187">In earlier Windows versions, the font.dlg template file contains one default ChooseFont template.</span></span> <span data-ttu-id="0c0ab-188">Die Vorlagen Datei "Font. Dlg" unter Windows 7 enthält zwei Standardvorlagen: die Standardvorlage aus früheren Windows-Versionen und die neue Windows 7-Auswahl Schriftart Vorlage.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-188">The font.dlg template file on Windows 7 contains two default templates: the default template from earlier Windows versions and the new Windows 7 ChooseFont template.</span></span> <span data-ttu-id="0c0ab-189">Wenn Sie das Dialogfeld **Schriftart** unter Windows 7 anpassen, müssen Sie daher die folgenden Punkte beachten.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-189">Therefore, when you customize the **Font** dialog box on Windows 7, you must consider the following issues.</span></span>

1.  <span data-ttu-id="0c0ab-190">Verwenden Sie die neue Vorlage, wenn Sie benutzerdefinierte Vorlagen für Anwendungen erstellen, die unter Windows 7 ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-190">Use the new template when you create custom templates for applications that run on Windows 7.</span></span> <span data-ttu-id="0c0ab-191">Diese neue Vorlage enthält ein Link Steuerelement, auf das der Benutzer klicken kann, um das Fenster " **Schriftarten-Systemsteuerung** " zu starten, wie im folgenden Screenshot gezeigt.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-191">This new template contains a link control that the user can click to launch the **Fonts Control Panel** window, as shown in the following screen shot.</span></span>

    ![Screenshot der Schriftart-Systemsteuerung in Windows 7](images/fontcontrolpanelforwin7.png)

2.  <span data-ttu-id="0c0ab-193">Um dieses Link Steuerelement zu verwenden, muss die aufrufende Anwendung die COMCTL32.DLL Version 6 oder höher verwenden.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-193">To use this link control, your calling application must use the COMCTL32.DLL version 6 or later.</span></span> <span data-ttu-id="0c0ab-194">Andernfalls gibt die [**choosetfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Funktion einen Fehler zurück, wenn versucht wird, das Link-Steuerelement in der benutzerdefinierten Vorlage zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-194">Otherwise, the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function returns an error when it tries to create the link control in your custom template.</span></span> <span data-ttu-id="0c0ab-195">Um zu ermitteln, ob dieses Steuerelement aktiviert ist, kompilieren Sie die aufrufenden Anwendung mit COMCTL32.DLL Version 6,0.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-195">To determine if this control is enabled, compile your calling application against COMCTL32.DLL version 6.0.</span></span> <span data-ttu-id="0c0ab-196">Weitere Informationen finden Sie unter [Aktivieren von visuellen Stilen mit allgemeinen Steuerelementen](/previous-versions//ms649781(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="0c0ab-196">For more information, see [Enabling Visual Styles with Common Controls](/previous-versions//ms649781(v=vs.85)).</span></span>
3.  <span data-ttu-id="0c0ab-197">Wenn Ihre Anwendung COMCTL32.DLL Version 5,0 oder früher verwendet, müssen Sie Folgendes tun, wenn Sie eine benutzerdefinierte Vorlage erstellen:</span><span class="sxs-lookup"><span data-stu-id="0c0ab-197">If your application uses COMCTL32.DLL version 5.0 or earlier, you must do the following when you create a custom template:</span></span>

    -   <span data-ttu-id="0c0ab-198">Legen Sie das Steuerelement als **PUSHBUTTON** fest.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-198">Specify the control as a **PUSHBUTTON**.</span></span> <span data-ttu-id="0c0ab-199">Das Steuerelement, das zum Starten der **Schriftarten-Systemsteuerung** verwendet wird, wird als Schaltfläche und nicht als Link angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-199">The control used to launch the **Fonts Control Panel** will appear as a button rather than as a link.</span></span>
    -   <span data-ttu-id="0c0ab-200">Ersetzen Sie den folgenden Text in der Schriftart. DLG:</span><span class="sxs-lookup"><span data-stu-id="0c0ab-200">Replace the following text in the font.dlg:</span></span>

        `CONTROL         "<A>Show more fonts</A>", IDC_MANAGE_LINK, "SysLink", WS_TABSTOP, 7, 199, 227, 9`

        <span data-ttu-id="0c0ab-201">mit folgendem Text:</span><span class="sxs-lookup"><span data-stu-id="0c0ab-201">with the following text:</span></span>

        `PUSHBUTTON      "S&how more fonts", IDC_MANAGE_LINK, 7, 199, 74, 14 , WS_TABSTOP`

    -   <span data-ttu-id="0c0ab-202">Um sicherzustellen, dass Ihre Anwendung eine benutzerdefinierte Vorlage verwendet, müssen Sie eine benutzerdefinierte Vorlage mit dem **CF \_ ENABLETEMPLATE** -Flag angeben, eine benutzerdefinierte Vorlage erstellen, die auf der Windows 7-Auswahl Schriftart basiert, und dann optional eine Hook-Prozedur aktivieren.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-202">To ensure that your application uses a custom template, you must specify a custom template with the **CF\_ENABLETEMPLATE** flag, create a custom template based on the Windows 7 ChooseFont template, and then optionally enable a hook procedure.</span></span>

        <span data-ttu-id="0c0ab-203">Wenn Sie eine Hook-Prozedur aktivieren, ohne eine benutzerdefinierte Vorlage zu erstellen, wird die Standardvorlage für die Auswahl Schriftart für frühere Windows-Versionen geladen.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-203">If you enable a hook procedure without creating a custom template, the default ChooseFont template for earlier Windows versions will be loaded.</span></span>

> [!Note]  
> <span data-ttu-id="0c0ab-204">Abhängig von der Version von COMMCTL.DLL, für die die Anwendung kompiliert wird, müssen Sie **den Steuerelement-oder** **PUSHBUTTON** -Steuerelement-Typ in der neuen Vorlage angeben.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-204">You must specify the **CONTROL** or **PUSHBUTTON** control type in your new template, depending on the version of COMMCTL.DLL that your application compiles against.</span></span> <span data-ttu-id="0c0ab-205">Beachten Sie außerdem, dass bestimmte Features von Windows 7, wie z. b. die WYSIWYG-Anzeige von Schriftart Listen und erweiterten Familien, nicht verfügbar sind, wenn Ihre Anwendungen unter früheren Versionen des Windows-Betriebssystems ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="0c0ab-205">Also note that Windows 7 specific features, such as WYSIWYG display of font lists and extended families, are not available when your applications run on earlier versions of the Windows operating system.</span></span>

 

 

 