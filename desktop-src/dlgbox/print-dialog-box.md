---
title: Drucken (Dialogfeld)
description: Im Dialogfeld Drucken können Benutzeroptionen für einen bestimmten Druckauftrag auswählen.
ms.assetid: 34f69b25-8a89-4322-af4c-a80b85a4a973
keywords:
- Windows-Benutzeroberfläche, Benutzereingabe
- Windows-Benutzeroberfläche, allgemeine Dialog Feld Bibliothek
- Benutzereingabe, allgemeine Dialog Feld Bibliothek
- Erfassen von Benutzereingaben, allgemeine Dialog Feld Bibliothek
- Allgemeine Dialog Feld Bibliothek
- Allgemeine Dialogfelder
- Dialogfeld Drucken
- Dialogfeld "Druck Setup"
- Dialogfeld "Drucken" anpassen
- vordefinierte Dialogfelder
- Dialogfelder, Drucken
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4fae1dd244391ea16478a0cb4f10803cf622dc64
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104102298"
---
# <a name="print-dialog-box"></a><span data-ttu-id="4a3c3-114">Drucken (Dialogfeld)</span><span class="sxs-lookup"><span data-stu-id="4a3c3-114">Print Dialog Box</span></span>

<span data-ttu-id="4a3c3-115">Im Dialogfeld **Drucken** können Benutzeroptionen für einen bestimmten Druckauftrag auswählen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-115">The **Print** dialog box lets the user select options for a particular print job.</span></span> <span data-ttu-id="4a3c3-116">Der Benutzer kann z. b. den zu verwendenden Drucker, den zu druckenden Seitenbereich und die Anzahl der Kopien angeben.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-116">For example, the user can specify the printer to use, the range of pages to print, and the number of copies.</span></span>

<span data-ttu-id="4a3c3-117">Mit der [**printdlgex**](/previous-versions/windows/desktop/legacy/ms646942(v=vs.85)) -Funktion können Sie ein [Druckeigenschaften Blatt](print-property-sheet.md)anzeigen, das eine **Allgemeine** Seite enthält, die Steuerelemente enthält, die dem Dialogfeld **Drucken** ähneln.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-117">You can use the [**PrintDlgEx**](/previous-versions/windows/desktop/legacy/ms646942(v=vs.85)) function to display a [Print Property Sheet](print-property-sheet.md), which has a **General** page containing controls similar to the **Print** dialog box.</span></span> <span data-ttu-id="4a3c3-118">Auf dem Eigenschaften Blatt können auch zusätzliche anwendungsspezifische und Treiber spezifische Eigenschaften Seiten nach der Seite **Allgemein** vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-118">The property sheet can also have additional application-specific and driver-specific property pages following the **General** page.</span></span>

<span data-ttu-id="4a3c3-119">Sie erstellen und zeigen ein **Druck** Dialogfeld an, indem Sie eine [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur initialisieren und die Struktur an die [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) -Funktion übergeben.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-119">You create and display a **Print** dialog box by initializing a [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure and passing the structure to the [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function.</span></span>

<span data-ttu-id="4a3c3-120">Die folgende Abbildung zeigt ein typisches Dialogfeld **Drucken** .</span><span class="sxs-lookup"><span data-stu-id="4a3c3-120">The following illustration shows a typical **Print** dialog box.</span></span>

![Drucken (Dialogfeld)](images/printdialogboxxp.png)

<span data-ttu-id="4a3c3-122">Wenn der Benutzer auf die Schaltfläche **OK** klickt, gibt [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) **true** zurück und verwendet die [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur, um Informationen zur Auswahl des Benutzers zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-122">If the user clicks the **OK** button, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns **TRUE** and uses the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure to return information about the user's selections.</span></span> <span data-ttu-id="4a3c3-123">Beispielsweise geben die Member **hDevMode** und **hDevNames** in der Regel globale Speicher Handles für-und [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) -Strukturen zurück.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-123">For example, the **hDevMode** and **hDevNames** members typically return global memory handles for and [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) structures.</span></span> <span data-ttu-id="4a3c3-124">Mithilfe der Informationen in diesen Strukturen können Sie einen Gerätekontext oder einen Informations Kontext für den ausgewählten Drucker erstellen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-124">You can use the information in these structures to create a device context or an information context for the selected printer.</span></span>

<span data-ttu-id="4a3c3-125">Wenn der Benutzer das Dialogfeld **Drucken** abbricht oder ein Fehler auftritt, gibt [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) **false** zurück.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-125">If the user cancels the **Print** dialog box or an error occurs, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns **FALSE**.</span></span> <span data-ttu-id="4a3c3-126">Sie können die Ursache eines Fehlers ermitteln, indem Sie die [**kommdlgextendecoderror**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) -Funktion verwenden, um den erweiterten Fehlerwert abzurufen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-126">You can determine the cause of an error by using the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="4a3c3-127">Das Dialogfeld **Drucken** enthält eine **Druck Bereichs** Gruppe von Options Feldern, die angeben, ob der Benutzer alle Seiten, einen Seitenbereich oder nur den markierten Text drucken möchte.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-127">The **Print** dialog box includes a **Print Range** group of radio buttons that indicate whether the user wants to print all pages, a range of pages, or only the selected text.</span></span> <span data-ttu-id="4a3c3-128">Vor dem Aufrufen von [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85))können Sie eine der Flags für die Angabe " **PD \_ AllPages**", "PD" oder " **PD \_ pagenums** " festlegen, um anzugeben, welche Schaltfläche anfänglich ausgewählt ist. **\_**</span><span class="sxs-lookup"><span data-stu-id="4a3c3-128">Before calling [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)), you can set one of the **PD\_ALLPAGES**, **PD\_SELECTION**, or **PD\_PAGENUMS** flags to indicate which button is initially selected.</span></span> <span data-ttu-id="4a3c3-129">Wenn **PRINTDLG** **true** zurückgibt, legt die Funktion eines dieser Flags fest, um die Auswahl des Benutzers anzugeben.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-129">When **PrintDlg** returns **TRUE**, the function sets one of these flags to indicate the user's selections.</span></span> <span data-ttu-id="4a3c3-130">Wenn **PD \_ pagenums** festgelegt ist, enthalten die Member **nfrompage** und **ntopage** der [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur die vom Benutzer angegebenen Start-und Endseiten.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-130">If **PD\_PAGENUMS** is set, the **nFromPage** and **nToPage** members of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure contain the starting and ending pages specified by the user.</span></span> <span data-ttu-id="4a3c3-131">Zum Deaktivieren des Options Felds **Seiten** und der zugehörigen Elemente und **zum** bearbeiten **von** Steuerelementen legen Sie das Flag " **PD \_ nopagenums** " fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-131">To disable the **Pages** radio button and its associated **From** and **To** edit controls, set the **PD\_NOPAGENUMS** flag.</span></span> <span data-ttu-id="4a3c3-132">Um das Optionsfeld **Auswahl** zu deaktivieren, legen Sie das Flag **PD \_ NoSelection** fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-132">To disable the **Selection** radio button, set the **PD\_NOSELECTION** flag.</span></span>

<span data-ttu-id="4a3c3-133">Das Dialogfeld enthält ein Bearbeitungs Steuerelement, in dem der Benutzer die Anzahl der zu druckenden Kopien eingeben kann.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-133">The dialog box includes an edit control in which the user can type the number of copies to print.</span></span> <span data-ttu-id="4a3c3-134">Wenn der **hDevMode** -Member der [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur nicht **null** ist, gibt der **dmkopien** -Member der-Struktur den Anfangswert für dieses Bearbeitungs Steuerelement an.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-134">If the **hDevMode** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure is non-**NULL**, the **dmCopies** member of the structure specifies the initial value for this edit control.</span></span> <span data-ttu-id="4a3c3-135">Wenn **hDevMode** **null** ist, gibt der **nkopien** -Member der **PRINTDLG** -Struktur den Anfangswert an.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-135">If **hDevMode** is **NULL**, the **nCopies** member of the **PRINTDLG** structure specifies the initial value.</span></span> <span data-ttu-id="4a3c3-136">Wenn [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) zurückgibt, gibt **nkopien** in der Regel die Anzahl der Kopien an, die vom Benutzer angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-136">When [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns, **nCopies** typically indicates the number of copies specified by the user.</span></span> <span data-ttu-id="4a3c3-137">Wenn Sie jedoch das Flag " **PD \_ usedevmudecopiesandcollate** " beim Erstellen des Dialog Felds festlegen, wird **nkopien** bei Rückgabe immer auf 1 festgelegt, und der **dmkopien** -Member von [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) gibt die Anzahl der zu druckenden Kopien an.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-137">However, if you set the **PD\_USEDEVMODECOPIESANDCOLLATE** flag when you create the dialog box, **nCopies** is always set to 1 on return and the **dmCopies** member of [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) indicates the number of copies to print.</span></span>

<span data-ttu-id="4a3c3-138">Das Kontrollkästchen **COLLATE** gibt an, ob der Benutzer die Seiten anordnen möchte, wenn mehrere Kopien gedruckt werden.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-138">The **Collate** check box indicates whether the user wants to collate the pages if multiple copies are being printed.</span></span> <span data-ttu-id="4a3c3-139">Das Flag " **PD \_ COLLATE** " wird festgelegt, wenn **das Kontrollkästchen** "sortieren" ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-139">The **PD\_COLLATE** flag is set if the **Collate** check box is selected.</span></span> <span data-ttu-id="4a3c3-140">Wenn Ihre Anwendung mehrere Kopien oder eine simulierte Sortierung nicht unterstützt, legen Sie das Flag " **PD \_ usedevmudecopiesandcollate** " im **Flags** -Member der [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-140">If your application does not support multiple copies or simulated collation, set the **PD\_USEDEVMODECOPIESANDCOLLATE** flag in the **Flags** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure.</span></span> <span data-ttu-id="4a3c3-141">Dadurch **wird das Kontroll** Kästchen sortieren und das Bearbeitungs Steuerelement **für Kopien** deaktiviert, es sei denn, der Druckertreiber unterstützt mehrere Kopien und Sortierungen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-141">This disables the **Collate** check box and the **Number of Copies** edit control unless the printer driver supports multiple copies and collation.</span></span>

<span data-ttu-id="4a3c3-142">Das Kontrollkästchen **in Datei drucken** gibt an, ob der Benutzer die Ausgabe an eine Datei anstatt an einen Drucker senden möchte.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-142">The **Print To File** check box indicates whether the user wants to send output to a file rather than to a printer.</span></span> <span data-ttu-id="4a3c3-143">Sie können das Flag **" \_ printdefile** " festlegen, sodass das Kontrollkästchen anfänglich aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-143">You can set the **PD\_PRINTTOFILE** flag so the check box is initially selected.</span></span> <span data-ttu-id="4a3c3-144">Um das Kontrollkästchen auszublenden, legen Sie das Flag für die Flag " **\_ hideprintdefile** " fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-144">To hide the check box, set the **PD\_HIDEPRINTTOFILE** flag.</span></span> <span data-ttu-id="4a3c3-145">Legen Sie das Flag " **\_ disableprintdefile** " fest, um es zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-145">To disable it, set the **PD\_DISABLEPRINTTOFILE** flag.</span></span> <span data-ttu-id="4a3c3-146">Wenn der Benutzer die Option **in Datei drucken** auswählt, legt [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) das Flag " **\_ PrintToFile** " fest und gibt "file:" an dem Offset zurück, der durch den **woutputoffset** -Member der [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) -Struktur angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-146">If the user selects the **Print To File** option, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) sets the **PD\_PRINTTOFILE** flag and returns "FILE:" at the offset indicated by the **wOutputOffset** member of the [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) structure.</span></span> <span data-ttu-id="4a3c3-147">Wenn Sie die Funktion zum Starten des Druckvorgangs aufzurufen, geben Sie diese "file:"-Zeichenfolge im **lpszoutput** -Member der-Struktur an.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-147">When you call the function to start the printing operation, specify this "FILE:" string in the **lpszOutput** member of the structure.</span></span> <span data-ttu-id="4a3c3-148">Das Angeben dieser Zeichenfolge bewirkt, dass das Druck Subsystem den Benutzer nach dem Namen der Ausgabedatei abfragt.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-148">Specifying this string causes the print subsystem to query the user for the name of the output file.</span></span>

<span data-ttu-id="4a3c3-149">Standardmäßig zeigt das Dialogfeld **Drucken** zunächst Informationen zum aktuellen Standarddrucker an.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-149">By default, the **Print** dialog box initially displays information about the current default printer.</span></span> <span data-ttu-id="4a3c3-150">Um Informationen für einen anderen installierten Drucker anzuzeigen, initialisieren Sie eine-Struktur und eine [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) -Struktur, und weisen Sie der-Struktur die globalen Speicher Handles für die Member **hDevMode** und **hDevNames** zu.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-150">To display information for another installed printer, initialize a and a [**DEVNAMES**](/windows/win32/api/commdlg/ns-commdlg-devnames) structure and assign the global memory handle to the structure to the **hDevMode** and **hDevNames** members.</span></span> <span data-ttu-id="4a3c3-151">Der Gerätename, den Sie im **dmdevicename** -Element der [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) -Struktur und im **wdriveroffset** -Member der **DEVNAMES** -Struktur angeben, muss ein Druckergerät identifizieren, das auch im \[ Abschnitt "Geräte" \] der Win.ini Datei aufgeführt ist.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-151">The device name you specify in the **dmDeviceName** member of the [**DEVMODE**](/windows/win32/api/wingdi/ns-wingdi-devmodea) structure and in the **wDriverOffset** member of the **DEVNAMES** structure must identify a printer device that is also listed in the \[Devices\] section of the Win.ini file.</span></span> <span data-ttu-id="4a3c3-152">Wenn das Gerät nicht aufgeführt ist, gibt [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) einen Fehler zurück.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-152">If the device is not listed, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns an error.</span></span>

<span data-ttu-id="4a3c3-153">Sie können [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) anweisen, einen Gerätekontext oder Informations Kontext für den Drucker zu erstellen, indem Sie das Flag **PD \_ returndc** oder **PD \_ returnic** im **Flags** -Member der [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur festlegen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-153">You can direct [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) to create a device context or information context for the printer by setting the **PD\_RETURNDC** or **PD\_RETURNIC** flag in the **Flags** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure.</span></span> <span data-ttu-id="4a3c3-154">Die-Funktion gibt ein Handle für den Gerätekontext oder Informations Kontext im **hdc** -Member zurück.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-154">The function returns a handle to the device context or information context in the **hDC** member.</span></span> <span data-ttu-id="4a3c3-155">Wenn Sie das Flag " **PD \_ returndc** " verwenden, können Sie den Gerätekontext verwenden, um die Ausgabe für den Drucker zu generieren.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-155">If you use the **PD\_RETURNDC** flag, you can use the device context to generate output for the printer.</span></span>

<span data-ttu-id="4a3c3-156">Wenn Sie Informationen zum Standarddrucker abrufen möchten, ohne das Dialogfeld " **Drucken** " anzuzeigen, legen Sie das Flag " **PD \_ returndefault** " fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-156">To retrieve information about the default printer without displaying the **Print** dialog box, set the **PD\_RETURNDEFAULT** flag.</span></span> <span data-ttu-id="4a3c3-157">In diesem Fall gibt [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) sofort nach dem Festlegen der Member **hDevMode** und **hDevNames** auf Handles für Strukturen zurück, die die Informationen enthalten.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-157">In this case, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) returns immediately after setting the **hDevMode** and **hDevNames** members to handles for structures containing the information.</span></span>

<span data-ttu-id="4a3c3-158">Standardmäßig zeigt [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) Meldungs Felder an, wenn Fehler auftreten.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-158">By default, [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) displays message boxes when errors occur.</span></span> <span data-ttu-id="4a3c3-159">Die-Funktion zeigt z. b. eine Fehlermeldung an, wenn keine Drucker installiert sind.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-159">For example, the function displays an error message if no printers are installed.</span></span> <span data-ttu-id="4a3c3-160">Um zu verhindern, dass die Funktion diese Warnmeldungen anzeigt, legen Sie das Flag **PD \_ NoWarning** fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-160">To prevent the function from displaying these warning messages, set the **PD\_NOWARNING** flag.</span></span>

<span data-ttu-id="4a3c3-161">Die folgenden Themen werden in diesem Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-161">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="4a3c3-162">Anpassen des Dialog Felds "Drucken"</span><span class="sxs-lookup"><span data-stu-id="4a3c3-162">Customizing the Print Dialog Box</span></span>](#customizing-the-print-dialog-box)
-   [<span data-ttu-id="4a3c3-163">Dialog Feld "Druck Setup"</span><span class="sxs-lookup"><span data-stu-id="4a3c3-163">Print Setup Dialog Box</span></span>](#print-setup-dialog-box)

## <a name="customizing-the-print-dialog-box"></a><span data-ttu-id="4a3c3-164">Anpassen des Dialog Felds "Drucken"</span><span class="sxs-lookup"><span data-stu-id="4a3c3-164">Customizing the Print Dialog Box</span></span>

<span data-ttu-id="4a3c3-165">Sie können eine benutzerdefinierte Vorlage für das Dialogfeld " **Drucken** " bereitstellen, z. b. Wenn Sie zusätzliche Steuerelemente einschließen möchten, die für Ihre Anwendung eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-165">You can provide a custom template for the **Print** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="4a3c3-166">Die [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) -Funktion verwendet anstelle der Standardvorlage Ihre benutzerdefinierte Vorlage.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-166">The [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function uses your custom template in place of the default template.</span></span>

<span data-ttu-id="4a3c3-167">So stellen Sie eine benutzerdefinierte Vorlage für das Dialogfeld " **Drucken** " bereit:</span><span class="sxs-lookup"><span data-stu-id="4a3c3-167">To provide a custom template for the **Print** dialog box:</span></span>

1.  <span data-ttu-id="4a3c3-168">Erstellen Sie die benutzerdefinierte Vorlage, indem Sie die in der Datei prnsetup. DLG angegebene Standardvorlage ändern.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-168">Create the custom template by modifying the default template specified in the Prnsetup.dlg file.</span></span> <span data-ttu-id="4a3c3-169">Die in der standardmäßigen **Druck** Dialogfeld Vorlage verwendeten Steuerelement-IDs werden in der Datei "Dlgs. h" definiert.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-169">The control identifiers used in the default **Print** dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="4a3c3-170">Verwenden Sie die [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur, um die Vorlage wie folgt zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="4a3c3-170">Use the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="4a3c3-171">Wenn Ihre benutzerdefinierte Vorlage eine Ressource in einer Anwendung oder einer Dynamic Link Library ist, legen Sie das Flag " **\_ enableprinttemplate** " im **Flags** -Member fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-171">If your custom template is a resource in an application or dynamic-link library, set the **PD\_ENABLEPRINTTEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="4a3c3-172">Verwenden Sie die **HINSTANCE** -und **lpprinttemplatename** -Member der-Struktur, um das Modul und den Ressourcennamen zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-172">Use the **hInstance** and **lpPrintTemplateName** members of the structure to identify the module and resource name.</span></span>

        <span data-ttu-id="4a3c3-173">-Oder-</span><span class="sxs-lookup"><span data-stu-id="4a3c3-173">-Or-</span></span>

    -   <span data-ttu-id="4a3c3-174">Wenn sich Ihre benutzerdefinierte Vorlage bereits im Arbeitsspeicher befindet, legen Sie das Flag " **\_ enableprinttemplatehandle** " für PD fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-174">If your custom template is already in memory, set the **PD\_ENABLEPRINTTEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="4a3c3-175">Verwenden Sie den **hprinttemplate** -Member, um das Speicher Objekt zu identifizieren, das die Vorlage enthält.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-175">Use the **hPrintTemplate** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="4a3c3-176">Sie können eine [**printhookproc**](/windows/win32/api/commdlg/nc-commdlg-lpprinthookproc) -Hook-Prozedur für das Dialogfeld " **Drucken** " bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-176">You can provide a [**PrintHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpprinthookproc) hook procedure for the **Print** dialog box.</span></span> <span data-ttu-id="4a3c3-177">Die Hook-Prozedur kann an das Dialogfeld gesendete Nachrichten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-177">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="4a3c3-178">Es kann auch Nachrichten an das Dialogfeld senden.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-178">It can also send messages to the dialog box.</span></span> <span data-ttu-id="4a3c3-179">Wenn Sie eine benutzerdefinierte Vorlage verwenden, um zusätzliche Steuerelemente zu definieren, müssen Sie eine Hook-Prozedur bereitstellen, um Eingaben für die Steuerelemente zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-179">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="4a3c3-180">So aktivieren Sie eine Hook-Prozedur für das Dialogfeld " **Drucken** ":</span><span class="sxs-lookup"><span data-stu-id="4a3c3-180">To enable a hook procedure for the **Print** dialog box:</span></span>

1.  <span data-ttu-id="4a3c3-181">Legen Sie das Flag " **PD \_ enableprinthook** " im **Flags** -Member der [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur fest.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-181">Set the **PD\_ENABLEPRINTHOOK** flag in the **Flags** member of the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure.</span></span>
2.  <span data-ttu-id="4a3c3-182">Geben Sie die Adresse der Hook-Prozedur im **lpfnprinthook** -Member an.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-182">Specify the address of the hook procedure in the **lpfnPrintHook** member.</span></span>

<span data-ttu-id="4a3c3-183">Nach der Verarbeitung der " [**WM \_ InitDialog**](wm-initdialog.md) "-Meldung sendet die Dialogfeld Prozedur eine " **WM \_ InitDialog** "-Meldung an die Hook-Prozedur.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-183">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="4a3c3-184">Der *LPARAM* -Parameter dieser Nachricht ist ein Zeiger auf die [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) -Struktur, die verwendet wird, um das Dialogfeld zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-184">The *lParam* parameter of this message is a pointer to the [**PRINTDLG**](/windows/win32/api/commdlg/ns-commdlg-printdlga) structure used to initialize the dialog box.</span></span>

## <a name="print-setup-dialog-box"></a><span data-ttu-id="4a3c3-185">Dialog Feld "Druck Setup"</span><span class="sxs-lookup"><span data-stu-id="4a3c3-185">Print Setup Dialog Box</span></span>

<span data-ttu-id="4a3c3-186">Sie können ein **Druck Installations** Dialogfeld erstellen und anzeigen, indem Sie in einem Aufrufen der [**PRINTDLG**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) -Funktion das Flag " **PD \_ printsetup** " festlegen.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-186">You can create and display a **Print Setup** dialog box by setting the **PD\_PRINTSETUP** flag in a call to the [**PrintDlg**](/previous-versions/windows/desktop/legacy/ms646940(v=vs.85)) function.</span></span> <span data-ttu-id="4a3c3-187">Das Dialogfeld **Druck Setup** wurde jedoch durch das Dialogfeld **Seite einrichten** abgelöst und sollte in neuen Anwendungen nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4a3c3-187">However, the **Print Setup** dialog box has been superseded by the **Page Setup** dialog box and should not be used in new applications.</span></span>

<span data-ttu-id="4a3c3-188">Die folgenden Flags gelten nur für das **Druck Installations** Dialogfeld:</span><span class="sxs-lookup"><span data-stu-id="4a3c3-188">The following flags apply only to the **Print Setup** dialog box:</span></span>

-   <span data-ttu-id="4a3c3-189">**PD \_ enablesetuphook**</span><span class="sxs-lookup"><span data-stu-id="4a3c3-189">**PD\_ENABLESETUPHOOK**</span></span>
-   <span data-ttu-id="4a3c3-190">**PD \_ enablesetuptemplate**</span><span class="sxs-lookup"><span data-stu-id="4a3c3-190">**PD\_ENABLESETUPTEMPLATE**</span></span>
-   <span data-ttu-id="4a3c3-191">**PD \_ enablesetuptemplatehandle**</span><span class="sxs-lookup"><span data-stu-id="4a3c3-191">**PD\_ENABLESETUPTEMPLATEHANDLE**</span></span>

 

 