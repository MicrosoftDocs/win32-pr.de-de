---
title: Farben (Dialogfeld)
description: Zeigt ein modales Dialogfeld an, das es dem Benutzer ermöglicht, einen bestimmten Farbwert auszuwählen.
ms.assetid: 248586b5-5068-4021-8407-56eb79243789
keywords:
- Benutzereingabe, allgemeine Dialog Feld Bibliothek
- Erfassen von Benutzereingaben, allgemeine Dialog Feld Bibliothek
- Allgemeine Dialog Feld Bibliothek
- Allgemeine Dialogfelder
- Dialogfeld "Farbe"
- partielle Farbe (Dialogfeld)
- vollständige Farbe (Dialogfeld)
- Anpassen der Farbe (Dialogfeld)
- RGB-Farbmodell
- HSL-Farbmodell
- Farbton-Helligkeit (HSL)
- HSL (Hue-Sättigungs Helligkeit)
- RGB (rotes grünes blau)
- rotes grünes blau (RGB)
- Hooks, Dialogfeld "Farbe"
- vordefinierte Dialogfelder
- Dialogfelder, Farbe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bb90150f49ea7bed4edac53af40ba89e0459946
ms.sourcegitcommit: 56f8e4d5119e5018363fa2dc3472cdff203c6913
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/19/2020
ms.locfileid: "104568115"
---
# <a name="color-dialog-box"></a><span data-ttu-id="d3d05-120">Farben (Dialogfeld)</span><span class="sxs-lookup"><span data-stu-id="d3d05-120">Color Dialog Box</span></span>

<span data-ttu-id="d3d05-121">Zeigt ein modales Dialogfeld an, das es dem Benutzer ermöglicht, einen bestimmten Farbwert auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-121">Displays a modal dialog box that allows the user to choose a specific color value.</span></span> <span data-ttu-id="d3d05-122">Der Benutzer kann eine Farbe aus einer Reihe von einfachen oder benutzerdefinierten Farbpaletten auswählen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-122">The user can choose a color from either a set of basic or custom color palettes.</span></span> <span data-ttu-id="d3d05-123">Alternativ kann der Benutzer einen Farbwert generieren, indem er die Farbwerte RGB oder Hue, Sättigung, Brillanz (HSL) der Dialogfeld-Benutzeroberfläche ändert.</span><span class="sxs-lookup"><span data-stu-id="d3d05-123">Alternatively, the user can generate a color value by modifying the RGB or hue, saturation, luminosity (HSL) color values of the dialog box user interface.</span></span> <span data-ttu-id="d3d05-124">Das Dialogfeld **Farbe** gibt den RGB-Wert der vom Benutzer ausgewählten Farbe zurück.</span><span class="sxs-lookup"><span data-stu-id="d3d05-124">The **Color** dialog box returns the RGB value of the color selected by the user.</span></span>

<span data-ttu-id="d3d05-125">Sie erstellen und zeigen ein **Farb** Dialogfeld an, indem Sie eine [**Auswahl Color**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur initialisieren und die-Struktur an die [**chooabcolor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) -Funktion übergeben.</span><span class="sxs-lookup"><span data-stu-id="d3d05-125">You create and display a **Color** dialog box by initializing a [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure and passing the structure to the [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function.</span></span> <span data-ttu-id="d3d05-126">Durch Festlegen verschiedener Parameterwerte für die **Auswahl Farbe** können Sie beeinflussen, wie das Dialogfeld Farbe angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="d3d05-126">By setting different parameter values for the **CHOOSECOLOR** structure, you can affect how the Color dialog box appears.</span></span> <span data-ttu-id="d3d05-127">Beispielsweise können Sie entweder eine vollständige oder eine partielle Benutzeroberflächen Version des Dialog Felds anzeigen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-127">For example, you can display either a full or partial user interface version of the dialog box.</span></span> <span data-ttu-id="d3d05-128">Die folgende Abbildung zeigt die Vollversion der Benutzeroberfläche des Dialog Felds **Farbe** .</span><span class="sxs-lookup"><span data-stu-id="d3d05-128">The following illustration shows the full user interface version of the **Color** dialog box.</span></span>

![Farbe (Dialogfeld)](images/colordialogboxxp.png)

<span data-ttu-id="d3d05-130">Wenn der Benutzer auf die Schaltfläche **OK** klickt, gibt [**Choice Color**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) **true** zurück.</span><span class="sxs-lookup"><span data-stu-id="d3d05-130">If the user clicks the **OK** button, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **TRUE**.</span></span> <span data-ttu-id="d3d05-131">Der **rgbresult** -Member der [**chooseecolor**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur enthält den RGB-Farbwert der vom Benutzer ausgewählten Farbe.</span><span class="sxs-lookup"><span data-stu-id="d3d05-131">The **rgbResult** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure contains the RGB color value of the color selected by the user.</span></span> <span data-ttu-id="d3d05-132">Der RGB-Farbwert gibt die Intensitäten der einzelnen roten, grünen und blauen Farben an, die die ausgewählte Farbe ausmachen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-132">The RGB color value specifies the intensities of the individual red, green, and blue colors that make up the selected color.</span></span> <span data-ttu-id="d3d05-133">Die einzelnen Werte reichen von 0 bis 255.</span><span class="sxs-lookup"><span data-stu-id="d3d05-133">The individual values range from 0 through 255.</span></span> <span data-ttu-id="d3d05-134">Verwenden Sie die Makros [**getrvalue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**getgvalue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue)und [**getbvalue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) , um einzelne Farben aus einem RGB-Farbwert zu extrahieren.</span><span class="sxs-lookup"><span data-stu-id="d3d05-134">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue), and [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) macros to extract individual colors from an RGB color value.</span></span>

<span data-ttu-id="d3d05-135">Wenn der Benutzer das Dialogfeld " **Farbe** " abbricht oder wenn ein Fehler auftritt, gibt " [**Choice Color**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) " den Wert " **false** " zurück, und der **rgbresult** -Member ist nicht definiert</span><span class="sxs-lookup"><span data-stu-id="d3d05-135">If the user cancels the **Color** dialog box or an error occurs, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **FALSE** and the **rgbResult** member is not defined.</span></span> <span data-ttu-id="d3d05-136">Um die Ursache des Fehlers zu ermitteln, rufen Sie die [**kommdlgextendecoderror**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) -Funktion auf, um den erweiterten Fehlerwert abzurufen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-136">To determine the cause of the error, call the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="d3d05-137">In diesem Abschnitt werden die folgenden Themen behandelt:</span><span class="sxs-lookup"><span data-stu-id="d3d05-137">The following subjects are covered in this section</span></span>

-   [<span data-ttu-id="d3d05-138">Vollständige und partielle Farb Dialogfelder</span><span class="sxs-lookup"><span data-stu-id="d3d05-138">Full and Partial Color Dialog Boxes</span></span>](#full-and-partial-color-dialog-boxes)
-   [<span data-ttu-id="d3d05-139">Anpassen des Dialog Felds "Farbe"</span><span class="sxs-lookup"><span data-stu-id="d3d05-139">Customizing the Color Dialog Box</span></span>](#customizing-the-color-dialog-box)
    -   [<span data-ttu-id="d3d05-140">So stellen Sie eine benutzerdefinierte Vorlage für das Dialogfeld "Farbe" bereit</span><span class="sxs-lookup"><span data-stu-id="d3d05-140">To provide a custom template for the Color dialog box</span></span>](#to-provide-a-custom-template-for-the-color-dialog-box)
    -   [<span data-ttu-id="d3d05-141">So aktivieren Sie eine Hook-Prozedur für das Dialogfeld "Farbe"</span><span class="sxs-lookup"><span data-stu-id="d3d05-141">To enable a hook procedure for the Color dialog box</span></span>](#to-enable-a-hook-procedure-for-the-color-dialog-box)
-   [<span data-ttu-id="d3d05-142">Farbmodelle, die im Dialog Feld "Farbe" verwendet werden</span><span class="sxs-lookup"><span data-stu-id="d3d05-142">Color Models Used by the Color Dialog Box</span></span>](#color-models-used-by-the-color-dialog-box)
    -   [<span data-ttu-id="d3d05-143">RGB-Farbmodell</span><span class="sxs-lookup"><span data-stu-id="d3d05-143">RGB Color Model</span></span>](#rgb-color-model)
    -   [<span data-ttu-id="d3d05-144">HSL-Farbmodell</span><span class="sxs-lookup"><span data-stu-id="d3d05-144">HSL Color Model</span></span>](#hsl-color-model)
    -   [<span data-ttu-id="d3d05-145">HSL-Werte werden in RGB-Werte umgerechnet</span><span class="sxs-lookup"><span data-stu-id="d3d05-145">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

## <a name="full-and-partial-color-dialog-boxes"></a><span data-ttu-id="d3d05-146">Vollständige und partielle Farb Dialogfelder</span><span class="sxs-lookup"><span data-stu-id="d3d05-146">Full and Partial Color Dialog Boxes</span></span>

<span data-ttu-id="d3d05-147">Das Dialogfeld Farbe verfügt über eine Vollversion und eine partielle Version der Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="d3d05-147">The Color dialog box has a full version and a partial version of the user interface.</span></span> <span data-ttu-id="d3d05-148">Die Vollversion enthält die grundlegenden Steuerelemente und verfügt über zusätzliche Steuerelemente, mit denen Benutzer benutzerdefinierte Farben erstellen können.</span><span class="sxs-lookup"><span data-stu-id="d3d05-148">The full version includes the basic controls and has additional controls that allow the user to create custom colors.</span></span> <span data-ttu-id="d3d05-149">Die partielle Version verfügt über Steuerelemente, die die grundlegenden und benutzerdefinierten Farbpaletten anzeigen, von denen der Benutzer einen Farbwert auswählen kann.</span><span class="sxs-lookup"><span data-stu-id="d3d05-149">The partial version has controls that display the basic and custom color palettes from which the user can select a color value.</span></span>

<span data-ttu-id="d3d05-150">Die partielle Version des Dialog Felds Farbe enthält die Schaltfläche **benutzerdefinierte Farben definieren** .</span><span class="sxs-lookup"><span data-stu-id="d3d05-150">The partial version of the Color dialog box includes a **Define Custom Colors** button.</span></span> <span data-ttu-id="d3d05-151">Der Benutzer kann auf diese Schaltfläche klicken, um die Vollversion anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-151">The user can click this button to display the full version.</span></span> <span data-ttu-id="d3d05-152">Sie können das Dialogfeld Farbe so ausrichten, dass immer die Vollversion angezeigt wird, indem Sie das **CC \_ FullOpen** -Flag im **Flags** -Member der [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur festlegen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-152">You can direct the Color dialog box to always display the full version by setting the **CC\_FULLOPEN** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="d3d05-153">Um zu verhindern, dass Benutzer benutzerdefinierte Farben erstellt werden, können Sie das Flag **CC \_ preventfullopen** festlegen, um die Schaltfläche **benutzerdefinierte Farben definieren** zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="d3d05-153">To prevent the user from creating custom colors, you can set the **CC\_PREVENTFULLOPEN** flag to disable the **Define Custom Colors** button.</span></span>

<span data-ttu-id="d3d05-154">Die Grundfarben stellen eine Auswahl der Farben dar, die auf dem angegebenen Gerät verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="d3d05-154">The basic colors represent a selection of the colors available on the specified device.</span></span> <span data-ttu-id="d3d05-155">Die tatsächliche Anzahl angezeigter Farben wird vom Anzeigetreiber bestimmt.</span><span class="sxs-lookup"><span data-stu-id="d3d05-155">The actual number of colors displayed is determined by the display driver.</span></span> <span data-ttu-id="d3d05-156">Ein VGA-Treiber zeigt z. b. 48 Farben an, während ein monochrome Anzeigetreiber nur 16 anzeigt.</span><span class="sxs-lookup"><span data-stu-id="d3d05-156">For example, a VGA driver displays 48 colors, and a monochrome display driver displays only 16.</span></span>

<span data-ttu-id="d3d05-157">Die benutzerdefinierten Farben sind diejenigen, die Sie angeben oder die der Benutzer erstellt.</span><span class="sxs-lookup"><span data-stu-id="d3d05-157">The custom colors are those that you specify or that the user creates.</span></span> <span data-ttu-id="d3d05-158">Wenn Sie ein Dialogfeld für die Farbe erstellen, müssen Sie den **lpcustcolors** -Member der [**choost Color**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur verwenden, um die Anfangswerte für die 16 benutzerdefinierten Farben anzugeben.</span><span class="sxs-lookup"><span data-stu-id="d3d05-158">When you create a Color dialog box, you must use the **lpCustColors** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to specify the initial values for the 16 custom colors.</span></span> <span data-ttu-id="d3d05-159">Wenn die Vollversion des Dialog Felds Farbe geöffnet ist, kann der Benutzer eine benutzerdefinierte Farbe mit einer der folgenden Methoden erstellen:</span><span class="sxs-lookup"><span data-stu-id="d3d05-159">If the full version of the Color dialog box is open, the user can create a custom color by one the following methods:</span></span>

-   <span data-ttu-id="d3d05-160">Verschieben des Cursors in das Farbspektrum-Steuerelement und das Leuchtkraft-Schiebe Steuerelement</span><span class="sxs-lookup"><span data-stu-id="d3d05-160">Moving the cursor in the color spectrum control and the luminosity slide control</span></span>
-   <span data-ttu-id="d3d05-161">Eingeben von RGB-Werten in den **roten**, **grünen** und **blauen** Bearbeitungs Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="d3d05-161">Typing RGB values in the **Red**, **Green**, and **Blue** edit controls</span></span>
-   <span data-ttu-id="d3d05-162">Eingeben von HSL-Werten in den Steuerelementen **Hue**, **Sat** und **Lum** Edit</span><span class="sxs-lookup"><span data-stu-id="d3d05-162">Typing HSL values in the **Hue**, **Sat**, and **Lum** edit controls</span></span>

<span data-ttu-id="d3d05-163">Um der Anzeige benutzerdefinierter Farben eine neue benutzerdefinierte Farbe hinzuzufügen, kann der Benutzer auf die Schaltfläche **zu benutzerdefinierten Farben hinzufügen** klicken.</span><span class="sxs-lookup"><span data-stu-id="d3d05-163">To add a new custom color to the custom colors display, the user can click the **Add to Custom Colors** button.</span></span> <span data-ttu-id="d3d05-164">Dies bewirkt auch, dass das Dialogfeld den RGB-Wert der neuen Farbe in das entsprechende Element im Array kopiert, auf das der **lpcustcolors** -Member verweist.</span><span class="sxs-lookup"><span data-stu-id="d3d05-164">This also causes the dialog box to copy the RGB value of the new color to the corresponding element in the array pointed to by the **lpCustColors** member.</span></span> <span data-ttu-id="d3d05-165">Wenn Sie neue benutzerdefinierte Farben zwischen den Aufrufen von [**chootarcolor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85))beibehalten möchten, sollten Sie statischen Arbeitsspeicher für das Array zuweisen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-165">To preserve new custom colors between calls to [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), you should allocate static memory for the array.</span></span> <span data-ttu-id="d3d05-166">Weitere Informationen zu den RGB-und HSL-Farb Modellen finden Sie unter [Farbmodelle, die im Dialog Feld Farbe verwendet werden](#color-models-used-by-the-color-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="d3d05-166">For more information about the RGB and HSL color models, see [Color Models Used by the Color Dialog Box](#color-models-used-by-the-color-dialog-box).</span></span>

## <a name="customizing-the-color-dialog-box"></a><span data-ttu-id="d3d05-167">Anpassen des Dialog Felds "Farbe"</span><span class="sxs-lookup"><span data-stu-id="d3d05-167">Customizing the Color Dialog Box</span></span>

<span data-ttu-id="d3d05-168">Um das Dialogfeld Farbe anzupassen, können Sie eine der folgenden Methoden verwenden:</span><span class="sxs-lookup"><span data-stu-id="d3d05-168">To customize a Color dialog box, you can use any of the following methods:</span></span>

-   <span data-ttu-id="d3d05-169">Geben Sie beim Erstellen des Dialog Felds Werte in der [**Auswahl Farbe**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) an.</span><span class="sxs-lookup"><span data-stu-id="d3d05-169">Specify values in the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure when you create the dialog box</span></span>
-   <span data-ttu-id="d3d05-170">Bereitstellen einer benutzerdefinierten Vorlage</span><span class="sxs-lookup"><span data-stu-id="d3d05-170">Provide a custom template</span></span>
-   <span data-ttu-id="d3d05-171">Bereitstellen einer Hook-Prozedur</span><span class="sxs-lookup"><span data-stu-id="d3d05-171">Provide a hook procedure</span></span>

<span data-ttu-id="d3d05-172">Sie können die Darstellung und das Verhalten des Dialog Felds Farbe ändern, indem Sie die Flags im **Flags** -Member der [**chooon Color**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur festlegen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-172">You can modify the appearance and behavior of the Color dialog box by setting flags in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="d3d05-173">Beispielsweise können Sie das **CC \_ solidcolor** -Flag so festlegen, dass das Dialogfeld angewiesen wird, nur voll Tonfarben anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-173">For example, you can set the **CC\_SOLIDCOLOR** flag to direct the dialog box to display only solid colors.</span></span> <span data-ttu-id="d3d05-174">Um zu bewirken, dass im Dialogfeld anfänglich eine andere Farbe als schwarz ausgewählt wird, legen Sie das **CC \_ rgbinit** -Flag fest, und geben Sie eine Farbe im **rgbresult** -Member an.</span><span class="sxs-lookup"><span data-stu-id="d3d05-174">To cause the dialog box to initially select a color other than black, set the **CC\_RGBINIT** flag and specify a color in the **rgbResult** member.</span></span>

<span data-ttu-id="d3d05-175">Sie können für das Dialogfeld Farbe eine benutzerdefinierte Vorlage bereitstellen, z. b. Wenn Sie zusätzliche Steuerelemente einschließen möchten, die für Ihre Anwendung eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="d3d05-175">You can provide a custom template for the Color dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="d3d05-176">Die Funktion " [**chooscolor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) " verwendet anstelle der Standardvorlage Ihre benutzerdefinierte Vorlage.</span><span class="sxs-lookup"><span data-stu-id="d3d05-176">The [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function uses your custom template in place of the default template.</span></span>

### <a name="to-provide-a-custom-template-for-the-color-dialog-box"></a><span data-ttu-id="d3d05-177">So stellen Sie eine benutzerdefinierte Vorlage für das Dialogfeld "Farbe" bereit</span><span class="sxs-lookup"><span data-stu-id="d3d05-177">To provide a custom template for the Color dialog box</span></span>

1.  <span data-ttu-id="d3d05-178">Erstellen Sie die benutzerdefinierte Vorlage, indem Sie die in der Datei Color. DLG angegebene Standardvorlage ändern.</span><span class="sxs-lookup"><span data-stu-id="d3d05-178">Create the custom template by modifying the default template specified in the Color.dlg file.</span></span> <span data-ttu-id="d3d05-179">Die in der standardmäßigen Farb Dialogfeld Vorlage verwendeten Steuerelement-IDs werden in der Color. DLG-Datei definiert.</span><span class="sxs-lookup"><span data-stu-id="d3d05-179">The control identifiers used in the default Color dialog template are defined in the Color.dlg file.</span></span>
2.  <span data-ttu-id="d3d05-180">Verwenden Sie die-Struktur " [**chooancolor**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) ", um die Vorlage wie folgt zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="d3d05-180">Use the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="d3d05-181">Wenn Ihre benutzerdefinierte Vorlage eine Ressource in einer Anwendung oder einer Dynamic Link Library ist, legen Sie das **CC \_ ENABLETEMPLATE** -Flag im **Flags** -Member fest.</span><span class="sxs-lookup"><span data-stu-id="d3d05-181">If your custom template is a resource in an application or dynamic link library, set the **CC\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="d3d05-182">Verwenden Sie die **HINSTANCE** -und **lptemplatename** -Member der-Struktur, um das Modul und den Ressourcennamen zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="d3d05-182">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>

        <span data-ttu-id="d3d05-183">-Oder-</span><span class="sxs-lookup"><span data-stu-id="d3d05-183">-Or-</span></span>

    -   <span data-ttu-id="d3d05-184">Wenn Ihre benutzerdefinierte Vorlage bereits im Arbeitsspeicher vorhanden ist, legen Sie das Flag **CC \_ enabletemplatehandle** fest.</span><span class="sxs-lookup"><span data-stu-id="d3d05-184">If your custom template is already in memory, set the **CC\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="d3d05-185">Verwenden Sie das **HINSTANCE** -Element, um das Speicher Objekt zu identifizieren, das die Vorlage enthält.</span><span class="sxs-lookup"><span data-stu-id="d3d05-185">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="d3d05-186">Sie können für das Dialogfeld Farbe eine [**cchookproc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) -Hook-Prozedur bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-186">You can provide a [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) hook procedure for the Color dialog box.</span></span> <span data-ttu-id="d3d05-187">Die Hook-Prozedur kann an das Dialogfeld gesendete Nachrichten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="d3d05-187">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="d3d05-188">Außerdem können registrierte Nachrichten verwendet werden, um das Verhalten des Dialog Felds zu steuern.</span><span class="sxs-lookup"><span data-stu-id="d3d05-188">It can also use registered messages to control the behavior of the dialog box.</span></span> <span data-ttu-id="d3d05-189">Wenn Sie eine benutzerdefinierte Vorlage verwenden, um zusätzliche Steuerelemente zu definieren, müssen Sie eine Hook-Prozedur bereitstellen, um Eingaben für die Steuerelemente zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="d3d05-189">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

### <a name="to-enable-a-hook-procedure-for-the-color-dialog-box"></a><span data-ttu-id="d3d05-190">So aktivieren Sie eine Hook-Prozedur für das Dialogfeld "Farbe"</span><span class="sxs-lookup"><span data-stu-id="d3d05-190">To enable a hook procedure for the Color dialog box</span></span>

1.  <span data-ttu-id="d3d05-191">Legen Sie das **CC \_ ENABLEHOOK** -Flag im **Flags** -Member der [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur fest.</span><span class="sxs-lookup"><span data-stu-id="d3d05-191">Set the **CC\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span>
2.  <span data-ttu-id="d3d05-192">Geben Sie die Adresse der Hook-Prozedur im **lpfnhook** -Member an.</span><span class="sxs-lookup"><span data-stu-id="d3d05-192">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="d3d05-193">Nach der Verarbeitung der " [**WM \_ InitDialog**](wm-initdialog.md) "-Meldung sendet die Dialogfeld Prozedur eine " **WM \_ InitDialog** "-Meldung an die Hook-Prozedur.</span><span class="sxs-lookup"><span data-stu-id="d3d05-193">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="d3d05-194">Der *LPARAM* -Parameter dieser Nachricht ist ein Zeiger auf die " [**choolcolor**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) "-Struktur, die verwendet wird, um das Dialogfeld zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="d3d05-194">The *lParam* parameter of this message is a pointer to the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure used to initialize the dialog box.</span></span>

<span data-ttu-id="d3d05-195">Wenn der Benutzer auf die Schaltfläche **OK** klickt, sendet das Dialogfeld die registrierte [**colorokstring**](colorokstring.md) -Nachricht an die Hook-Prozedur.</span><span class="sxs-lookup"><span data-stu-id="d3d05-195">The dialog box sends the [**COLOROKSTRING**](colorokstring.md) registered message to the hook procedure when the user clicks the **OK** button.</span></span> <span data-ttu-id="d3d05-196">Die Hook-Prozedur kann die ausgewählte Farbe ablehnen und erzwingen, dass das Dialogfeld geöffnet bleibt, indem beim Empfang dieser Nachricht 0 (null) zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d3d05-196">The hook procedure can reject the selected color and force the dialog box to remain open by returning zero when it receives this message.</span></span> <span data-ttu-id="d3d05-197">Die Hook-Prozedur kann erzwingen, dass das Dialogfeld eine bestimmte Farbe auswählt, indem Sie die registrierte Nachricht "" von "\*" [**an das Dialog**](setrgbstring.md) Feld sendet.</span><span class="sxs-lookup"><span data-stu-id="d3d05-197">The hook procedure can force the dialog box to select a particular color by sending the [**SETRGBSTRING**](setrgbstring.md) registered message to the dialog box.</span></span> <span data-ttu-id="d3d05-198">Um diese registrierten Nachrichten zu verwenden, müssen Sie die Konstanten " **colorokstring** " und " **strgbstring** " an die [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) -Funktion übergeben, um eine Nachrichten-ID zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d3d05-198">To use these registered messages, you must pass the **COLOROKSTRING** and **SETRGBSTRING** constants to the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function to get a message identifier.</span></span> <span data-ttu-id="d3d05-199">Anschließend können Sie den Bezeichner verwenden, um über das Dialogfeld gesendete Nachrichten zu erkennen und zu verarbeiten oder um Nachrichten an das Dialogfeld zu senden.</span><span class="sxs-lookup"><span data-stu-id="d3d05-199">You can then use the identifier to detect and process messages sent from the dialog box, or to send messages to the dialog box.</span></span>

## <a name="color-models-used-by-the-color-dialog-box"></a><span data-ttu-id="d3d05-200">Farbmodelle, die im Dialog Feld "Farbe" verwendet werden</span><span class="sxs-lookup"><span data-stu-id="d3d05-200">Color Models Used by the Color Dialog Box</span></span>

<span data-ttu-id="d3d05-201">Mit der Erweiterung benutzerdefinierte Farben des Dialog Felds Farbe kann der Benutzer eine Farbe mithilfe von RGB-oder HSL-Werten angeben.</span><span class="sxs-lookup"><span data-stu-id="d3d05-201">The custom colors extension of the Color dialog box allows the user to specify a color using RGB or HSL values.</span></span> <span data-ttu-id="d3d05-202">Allerdings verwendet die [**chooset Color**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) -Struktur nur RGB-Werte, um die vom Benutzer erstellten oder ausgewählten Farben zu melden.</span><span class="sxs-lookup"><span data-stu-id="d3d05-202">However, the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure uses only RGB values to report the colors created or selected by the user.</span></span>

-   [<span data-ttu-id="d3d05-203">RGB-Farbmodell</span><span class="sxs-lookup"><span data-stu-id="d3d05-203">RGB Color Model</span></span>](#rgb-color-model)
-   [<span data-ttu-id="d3d05-204">HSL-Farbmodell</span><span class="sxs-lookup"><span data-stu-id="d3d05-204">HSL Color Model</span></span>](#hsl-color-model)
-   [<span data-ttu-id="d3d05-205">HSL-Werte werden in RGB-Werte umgerechnet</span><span class="sxs-lookup"><span data-stu-id="d3d05-205">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

### <a name="rgb-color-model"></a><span data-ttu-id="d3d05-206">RGB-Farbmodell</span><span class="sxs-lookup"><span data-stu-id="d3d05-206">RGB Color Model</span></span>

<span data-ttu-id="d3d05-207">Das RGB-Modell wird verwendet, um Farben für anzeigen und andere Geräte anzugeben, die ein Licht ausgeben.</span><span class="sxs-lookup"><span data-stu-id="d3d05-207">The RGB model is used to designate colors for displays and other devices that emit light.</span></span> <span data-ttu-id="d3d05-208">Gültige rote, grüne und blaue Werte reichen von 0 bis 255, wobei 0 die minimale Intensität und 255 angibt, die die maximale Intensität angibt.</span><span class="sxs-lookup"><span data-stu-id="d3d05-208">Valid red, green, and blue values range from 0 through 255, with 0 indicating minimum intensity and 255 indicating maximum intensity.</span></span> <span data-ttu-id="d3d05-209">Die folgende Abbildung zeigt, wie die Primärfarben Rot, grün und blau kombiniert werden können, um vier zusätzliche Farben zu schaffen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-209">The following illustration shows how the primary colors red, green, and blue can be combined to produce four additional colors.</span></span> <span data-ttu-id="d3d05-210">(Bei Anzeigegeräten ist die Farbe schwarz, wenn die Werte rot, grün und blau auf 0 festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="d3d05-210">(For display devices, the color black results when the red, green, and blue values are set to 0.</span></span> <span data-ttu-id="d3d05-211">In der Anzeige Technologie ist schwarz das Fehlen aller Farben.)</span><span class="sxs-lookup"><span data-stu-id="d3d05-211">In display technology, black is the absence of all colors.)</span></span>

![überlappende rote, grüne und blaue Kreise](images/rgbcolormodel.png)

<span data-ttu-id="d3d05-213">In der folgenden Tabelle werden acht Farben des RGB-Modells und die zugehörigen RGB-Werte aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="d3d05-213">The following table lists eight colors of the RGB model and their associated RGB values.</span></span>



| <span data-ttu-id="d3d05-214">Color</span><span class="sxs-lookup"><span data-stu-id="d3d05-214">Color</span></span>   | <span data-ttu-id="d3d05-215">RGB-Werte</span><span class="sxs-lookup"><span data-stu-id="d3d05-215">RGB values</span></span>    |
|---------|---------------|
| <span data-ttu-id="d3d05-216">Red</span><span class="sxs-lookup"><span data-stu-id="d3d05-216">Red</span></span>     | <span data-ttu-id="d3d05-217">255, 0, 0</span><span class="sxs-lookup"><span data-stu-id="d3d05-217">255, 0, 0</span></span>     |
| <span data-ttu-id="d3d05-218">Grün</span><span class="sxs-lookup"><span data-stu-id="d3d05-218">Green</span></span>   | <span data-ttu-id="d3d05-219">0, 255, 0</span><span class="sxs-lookup"><span data-stu-id="d3d05-219">0, 255, 0</span></span>     |
| <span data-ttu-id="d3d05-220">Blau</span><span class="sxs-lookup"><span data-stu-id="d3d05-220">Blue</span></span>    | <span data-ttu-id="d3d05-221">0, 0, 255</span><span class="sxs-lookup"><span data-stu-id="d3d05-221">0, 0, 255</span></span>     |
| <span data-ttu-id="d3d05-222">Cyan</span><span class="sxs-lookup"><span data-stu-id="d3d05-222">Cyan</span></span>    | <span data-ttu-id="d3d05-223">0, 255, 255</span><span class="sxs-lookup"><span data-stu-id="d3d05-223">0, 255, 255</span></span>   |
| <span data-ttu-id="d3d05-224">Magenta</span><span class="sxs-lookup"><span data-stu-id="d3d05-224">Magenta</span></span> | <span data-ttu-id="d3d05-225">255, 0, 255</span><span class="sxs-lookup"><span data-stu-id="d3d05-225">255, 0, 255</span></span>   |
| <span data-ttu-id="d3d05-226">Gelb</span><span class="sxs-lookup"><span data-stu-id="d3d05-226">Yellow</span></span>  | <span data-ttu-id="d3d05-227">255, 255, 0</span><span class="sxs-lookup"><span data-stu-id="d3d05-227">255, 255, 0</span></span>   |
| <span data-ttu-id="d3d05-228">Weiß</span><span class="sxs-lookup"><span data-stu-id="d3d05-228">White</span></span>   | <span data-ttu-id="d3d05-229">255, 255, 255</span><span class="sxs-lookup"><span data-stu-id="d3d05-229">255, 255, 255</span></span> |
| <span data-ttu-id="d3d05-230">Schwarz</span><span class="sxs-lookup"><span data-stu-id="d3d05-230">Black</span></span>   | <span data-ttu-id="d3d05-231">0, 0, 0</span><span class="sxs-lookup"><span data-stu-id="d3d05-231">0, 0, 0</span></span>       |



 

<span data-ttu-id="d3d05-232">Das System speichert interne Farben als 32-Bit-RGB-Werte, die die folgende hexadezimale Form aufweisen: 0x00bbggrr.</span><span class="sxs-lookup"><span data-stu-id="d3d05-232">The system stores internal colors as 32-bit RGB values that have the following hexadecimal form: 0x00bbggrr.</span></span>

<span data-ttu-id="d3d05-233">Das nieder wertige Byte enthält einen Wert für die relative Intensität von rot. Das zweite Byte enthält einen Wert für grün; Das dritte Byte enthält einen Wert für blau.</span><span class="sxs-lookup"><span data-stu-id="d3d05-233">The low-order byte contains a value for the relative intensity of red; the second byte contains a value for green; and the third byte contains a value for blue.</span></span> <span data-ttu-id="d3d05-234">Das höchst wertige Byte muss NULL sein.</span><span class="sxs-lookup"><span data-stu-id="d3d05-234">The high-order byte must be zero.</span></span>

<span data-ttu-id="d3d05-235">Sie können das [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) -Makro verwenden, um einen RGB-Wert basierend auf den angegebenen Intensitäten für die roten, grünen und blauen Komponenten zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="d3d05-235">You can use the [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) macro to get an RGB value based on specified intensities for the red, green, and blue components.</span></span> <span data-ttu-id="d3d05-236">Verwenden Sie die Makros [**getrvalue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**getbvalue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue)und [**getgvalue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) , um einzelne Farben aus einem RGB-Farbwert zu extrahieren.</span><span class="sxs-lookup"><span data-stu-id="d3d05-236">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue), and [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) macros to extract individual colors from an RGB color value.</span></span>

### <a name="hsl-color-model"></a><span data-ttu-id="d3d05-237">HSL-Farbmodell</span><span class="sxs-lookup"><span data-stu-id="d3d05-237">HSL Color Model</span></span>

<span data-ttu-id="d3d05-238">Das Dialogfeld Farbe stellt Steuerelemente zum Angeben von HSL-Werten bereit.</span><span class="sxs-lookup"><span data-stu-id="d3d05-238">The Color dialog box provides controls for specifying HSL values.</span></span> <span data-ttu-id="d3d05-239">Die folgende Abbildung zeigt das Farbspektrum-Steuerelement und das Steuerelement für die Helligkeit, das im Dialogfeld Farbe angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="d3d05-239">The following illustration shows the color spectrum control and the luminosity slide control that appear in the Color dialog box.</span></span> <span data-ttu-id="d3d05-240">Die Abbildung zeigt auch die Wertebereiche, die der Benutzer mit diesen Steuerelementen angeben kann.</span><span class="sxs-lookup"><span data-stu-id="d3d05-240">The illustration also shows the ranges of values the user can specify with these controls.</span></span>

![Farbspektrum und Leuchtkraft Skala](images/colordialogranges.png)

<span data-ttu-id="d3d05-242">Im Dialogfeld Farbe müssen die Werte für Sättigung und Helligkeit im Bereich von 0 bis 240 liegen, und der Hue-Wert muss zwischen 0 und 239 liegen.</span><span class="sxs-lookup"><span data-stu-id="d3d05-242">In the Color dialog box, the saturation and luminosity values must be in the range 0 through 240, and the hue value must be in the range 0 through 239.</span></span>

### <a name="converting-hsl-values-to-rgb-values"></a><span data-ttu-id="d3d05-243">HSL-Werte werden in RGB-Werte umgerechnet</span><span class="sxs-lookup"><span data-stu-id="d3d05-243">Converting HSL Values to RGB Values</span></span>

<span data-ttu-id="d3d05-244">Die in Comdlg32.dll für das Dialogfeld Farbe bereitgestellte Dialogfeld Prozedur enthält Code, mit dem HSL-Werte in die entsprechenden RGB-Werte konvertiert werden.</span><span class="sxs-lookup"><span data-stu-id="d3d05-244">The dialog box procedure provided in Comdlg32.dll for the Color dialog box contains code that converts HSL values to the corresponding RGB values.</span></span> <span data-ttu-id="d3d05-245">In der folgenden Tabelle werden acht Farben des RGB-Modells und die zugehörigen HSL-und RGB-Werte aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="d3d05-245">The following table lists eight colors of the RGB model and their associated HSL and RGB values.</span></span>



| <span data-ttu-id="d3d05-246">Color</span><span class="sxs-lookup"><span data-stu-id="d3d05-246">Color</span></span>   | <span data-ttu-id="d3d05-247">HSL-Werte</span><span class="sxs-lookup"><span data-stu-id="d3d05-247">HSL values</span></span>      | <span data-ttu-id="d3d05-248">RGB-Werte</span><span class="sxs-lookup"><span data-stu-id="d3d05-248">RGB values</span></span>      |
|---------|-----------------|-----------------|
| <span data-ttu-id="d3d05-249">Red</span><span class="sxs-lookup"><span data-stu-id="d3d05-249">Red</span></span>     | <span data-ttu-id="d3d05-250">(0, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="d3d05-250">(0, 240, 120)</span></span>   | <span data-ttu-id="d3d05-251">(255, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-251">(255, 0, 0)</span></span>     |
| <span data-ttu-id="d3d05-252">Gelb</span><span class="sxs-lookup"><span data-stu-id="d3d05-252">Yellow</span></span>  | <span data-ttu-id="d3d05-253">(40, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="d3d05-253">(40, 240, 120)</span></span>  | <span data-ttu-id="d3d05-254">(255, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-254">(255, 255, 0)</span></span>   |
| <span data-ttu-id="d3d05-255">Grün</span><span class="sxs-lookup"><span data-stu-id="d3d05-255">Green</span></span>   | <span data-ttu-id="d3d05-256">(80, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="d3d05-256">(80, 240, 120)</span></span>  | <span data-ttu-id="d3d05-257">(0, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-257">(0, 255, 0)</span></span>     |
| <span data-ttu-id="d3d05-258">Cyan</span><span class="sxs-lookup"><span data-stu-id="d3d05-258">Cyan</span></span>    | <span data-ttu-id="d3d05-259">(120, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="d3d05-259">(120, 240, 120)</span></span> | <span data-ttu-id="d3d05-260">(0, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="d3d05-260">(0, 255, 255)</span></span>   |
| <span data-ttu-id="d3d05-261">Blau</span><span class="sxs-lookup"><span data-stu-id="d3d05-261">Blue</span></span>    | <span data-ttu-id="d3d05-262">(160, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="d3d05-262">(160, 240, 120)</span></span> | <span data-ttu-id="d3d05-263">(255 0,0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-263">(0, 0, 255)</span></span>     |
| <span data-ttu-id="d3d05-264">Magenta</span><span class="sxs-lookup"><span data-stu-id="d3d05-264">Magenta</span></span> | <span data-ttu-id="d3d05-265">(200, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="d3d05-265">(200, 240, 120)</span></span> | <span data-ttu-id="d3d05-266">(255, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="d3d05-266">(255, 0, 255)</span></span>   |
| <span data-ttu-id="d3d05-267">Weiß</span><span class="sxs-lookup"><span data-stu-id="d3d05-267">White</span></span>   | <span data-ttu-id="d3d05-268">(240 0,0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-268">(0, 0, 240)</span></span>     | <span data-ttu-id="d3d05-269">(255, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="d3d05-269">(255, 255, 255)</span></span> |
| <span data-ttu-id="d3d05-270">Schwarz</span><span class="sxs-lookup"><span data-stu-id="d3d05-270">Black</span></span>   | <span data-ttu-id="d3d05-271">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-271">(0, 0, 0)</span></span>       | <span data-ttu-id="d3d05-272">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="d3d05-272">(0, 0, 0)</span></span>       |



 

 

 
