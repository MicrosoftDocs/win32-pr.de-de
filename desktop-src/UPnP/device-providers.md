---
title: Geräte Anbieter
description: Geräte Anbieter sind registrierte Objekte, die bei jedem Systemstart gestartet werden.
ms.assetid: 80c08993-0a8b-4ee9-93cd-bcc3c00e843b
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 67fac270342830045fc3bac9f0573f283d87dc6a
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104101751"
---
# <a name="device-providers"></a><span data-ttu-id="4011e-103">Geräte Anbieter</span><span class="sxs-lookup"><span data-stu-id="4011e-103">Device Providers</span></span>

<span data-ttu-id="4011e-104">Geräte Anbieter sind registrierte Objekte, die bei jedem Systemstart gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="4011e-104">Device providers are registered objects that the computer starts on every system startup.</span></span> <span data-ttu-id="4011e-105">Geräte Anbieter registrieren und heben die Registrierung ausgelaufener Geräte beim Geräte Host als Reaktion auf ein Ereignis auf.</span><span class="sxs-lookup"><span data-stu-id="4011e-105">Device providers register and unregister running devices with the device host in response to some event.</span></span> <span data-ttu-id="4011e-106">Diese Geräte sind Geräte, die beim Systemstart automatisch gestartet wurden.</span><span class="sxs-lookup"><span data-stu-id="4011e-106">These devices are devices that have been automatically started at system startup time.</span></span> <span data-ttu-id="4011e-107">Aus Sicherheitsgründen sollte ein Geräte Anbieter normalerweise als " [LocalService](/windows/desktop/Services/localservice-account)" und nicht als " [LocalSystem](/windows/desktop/Services/localsystem-account)" ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="4011e-107">For security reasons, a device provider should generally run as [LocalService](/windows/desktop/Services/localservice-account), rather than [LocalSystem](/windows/desktop/Services/localsystem-account).</span></span>

<span data-ttu-id="4011e-108">Geräte Anbieter können für vorübergehende Geräte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4011e-108">Device providers can be used for transient devices.</span></span> <span data-ttu-id="4011e-109">Geräte Anbieter können auch verwendet werden, um Geräte mit abzurufenden Medien zu überbrücken.</span><span class="sxs-lookup"><span data-stu-id="4011e-109">Device providers can also be used to bridge devices to polled media.</span></span> <span data-ttu-id="4011e-110">Beispielsweise ist ein Peripheriegerät, z. b. ein Digital Music Player, über einen seriellen Anschluss mit einem Computer verbunden.</span><span class="sxs-lookup"><span data-stu-id="4011e-110">For example, a peripheral device such as a digital music player is connected to a computer via a serial port.</span></span> <span data-ttu-id="4011e-111">Um den Music Player als UPnP-basiertes Gerät verfügbar zu machen, sind ein Geräte Steuerungsobjekt und ein Satz von Dienst Objekten erforderlich.</span><span class="sxs-lookup"><span data-stu-id="4011e-111">To expose the music player as a UPnP-based device, a device control object and a set of service objects are required.</span></span> <span data-ttu-id="4011e-112">Diese Objekte implementieren die UPnP-basierten Musikplayer Aktionen als serielle Befehle.</span><span class="sxs-lookup"><span data-stu-id="4011e-112">These objects implement the UPnP-based music player actions as serial commands.</span></span> <span data-ttu-id="4011e-113">Der Musikplayer muss jedoch an den seriellen Anschluss angeschlossen und zur Steuerung verfügbar sein, bevor diese Objekte registriert werden.</span><span class="sxs-lookup"><span data-stu-id="4011e-113">However, the music player must be plugged into the serial port and available for control before these objects are registered.</span></span>

<span data-ttu-id="4011e-114">Da der serielle Port keinen expliziten Benachrichtigungs Mechanismus bietet, wenn Geräte verbunden sind, ist Abruf Code erforderlich.</span><span class="sxs-lookup"><span data-stu-id="4011e-114">Because the serial port does not offer an explicit notification mechanism when devices are connected, polling code is required.</span></span> <span data-ttu-id="4011e-115">Dieser Code kann in einem Geräte Anbieter Objekt, einem Dienst oder in einer eigenständigen Anwendung implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="4011e-115">This code can be implemented in a device provider object, a service, or in a standalone application.</span></span> <span data-ttu-id="4011e-116">Wenn der Computer gestartet wird, instanziiert der Geräte Host das Geräte Anbieter Objekt und ruft dann seine [**Start**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-start) -Methode auf.</span><span class="sxs-lookup"><span data-stu-id="4011e-116">When the computer is started, the device host instantiates the device provider object, and then invokes its [**Start**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-start) method.</span></span> <span data-ttu-id="4011e-117">Wenn der Geräte Anbieter das vorhanden sein eines Music Player-Geräts erkennt, instanziiert er das entsprechende Geräte Steuerungsobjekt und registriert es durch Aufrufen von [**iupnpregistranar:: registerrunningdevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerrunningdevice).</span><span class="sxs-lookup"><span data-stu-id="4011e-117">When the device provider detects the presence of a music player device, it instantiates the appropriate device control object and registers it by calling [**IUPnPRegistrar::RegisterRunningDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerrunningdevice).</span></span> <span data-ttu-id="4011e-118">Diese Methode veröffentlicht das Gerät und kündigt es dem UPnP-basierten Netzwerk an.</span><span class="sxs-lookup"><span data-stu-id="4011e-118">This method publishes the device and announces it to the UPnP-based network.</span></span>

<span data-ttu-id="4011e-119">Die gleiche Funktionalität kann auch durch Implementieren eines Dienstanbieter erreicht werden, der den seriellen Anschluss abruft.</span><span class="sxs-lookup"><span data-stu-id="4011e-119">The same functionality can also be achieved by implementing a service that polls the serial port.</span></span> <span data-ttu-id="4011e-120">Geräte Anbieter vereinfachen jedoch Dinge, indem Sie nur die Kernfunktionen – die Abruf –, die implementiert werden müssen, weil Geräte Anbieter den Geräte Host zum Starten und zum Starten benötigen.</span><span class="sxs-lookup"><span data-stu-id="4011e-120">However, device providers simplify things by requiring only the core functionality—the polling—to be implemented because device providers rely on the device host to start and stop them.</span></span> <span data-ttu-id="4011e-121">Die Verwendung von Geräte Anbietern ist einfacher als die Implementierung eines Dienstes.</span><span class="sxs-lookup"><span data-stu-id="4011e-121">Using device providers is simpler than implementing a service.</span></span>

<span data-ttu-id="4011e-122">Beim Registrierungs Zeitpunkt und bei jedem nachfolgenden Systemstart instanziiert der Computer das Geräte Anbieter Objekt und ruft dann die [**iupnpdeviceprovider:: Start**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-start) -Methode auf und übergibt dabei die während der Registrierung angegebene Initialisierungs Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="4011e-122">At registration time, and on every subsequent system startup, the computer instantiates the device provider object, and then invokes its [**IUPnPDeviceProvider::Start**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-start) method, passing it the initialization string specified during registration.</span></span>

<span data-ttu-id="4011e-123">Nachdem die [**Start**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-start) -Methode aufgerufen wurde, führt der Geräte Anbieter alle erforderlichen Verarbeitungsschritte aus. wenn dies erforderlich ist, registriert der Geräte Anbieter Geräte durch Aufrufen von [**iupnpregistranar:: registerrunningdevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerrunningdevice), wie im Abschnitt [Registrieren eines gehosteten Geräts beim Geräte Host](registering-a-hosted-device-with-the-device-host.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="4011e-123">Once the [**Start**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-start) method is called, the device provider performs any necessary processing, and when necessary, the device provider registers devices by calling [**IUPnPRegistrar::RegisterRunningDevice**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpregistrar-registerrunningdevice), as described in the section [Registering a Hosted Device with the Device Host](registering-a-hosted-device-with-the-device-host.md).</span></span>

<span data-ttu-id="4011e-124">Wenn der Computer heruntergefahren wird, ruft der Geräte Host die [**iupnpdeviceprovider::**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-stop) End-Methode auf, um anzugeben, dass der Geräte Anbieter seine Vorgänge beendet.</span><span class="sxs-lookup"><span data-stu-id="4011e-124">When the computer is shut down, the device host invokes the [**IUPnPDeviceProvider::Stop**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpdeviceprovider-stop) method to indicate that the device provider terminate its operations.</span></span>

 

 