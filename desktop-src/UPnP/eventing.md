---
title: Ereignisse
description: Ein gehosteter Dienst muss die iupnpeer-Source-Schnittstelle implementieren, wenn er Zustandsvariablen aussteht.
ms.assetid: 7558496d-c909-4602-bfaa-d21108392fed
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 68a6382ee88d2ca5168c94eac20727bbfee4a598
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "103856271"
---
# <a name="eventing"></a><span data-ttu-id="ba6e8-103">Ereignisse</span><span class="sxs-lookup"><span data-stu-id="ba6e8-103">Eventing</span></span>

<span data-ttu-id="ba6e8-104">Ein gehosteter Dienst muss die [**iupnpeer-Source**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpeventsource) -Schnittstelle implementieren, wenn er Zustandsvariablen aussteht.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-104">A hosted service must implement the [**IUPnPEventSource**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpeventsource) interface if it has evented state variables.</span></span> <span data-ttu-id="ba6e8-105">Diese Schnittstelle verfügt über zwei Methoden: [**Rat**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise) und [**nicht Empfehlung**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise).</span><span class="sxs-lookup"><span data-stu-id="ba6e8-105">This interface has two methods: [**Advise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise) and [**Unadvise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise).</span></span> <span data-ttu-id="ba6e8-106">Diese Schnittstelle bietet einen Mechanismus für den Geräte Host zum Abonnieren von Ereignis Benachrichtigungen, die vom gehosteten Dienst generiert werden.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-106">This interface provides a mechanism for the device host to subscribe to event notifications generated by the hosted service.</span></span> <span data-ttu-id="ba6e8-107">Es werden nicht mehr als eine Ereignis Senke gleichzeitig registriert.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-107">There will be no more than one event sink registered at a time.</span></span>

<span data-ttu-id="ba6e8-108">Ein gehosteter Dienst muss die Methode " [**Empfehlung**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise) " implementieren, indem er einen Verweis auf die [**iupnetventsink**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpeventsink) -Schnittstelle enthält, die als Parameter übergeben wurde.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-108">A hosted service must implement the [**Advise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise) method by holding a reference to the [**IUPnPEventSink**](/windows/desktop/api/Upnphost/nn-upnphost-iupnpeventsink) interface, which was passed as a parameter.</span></span> <span data-ttu-id="ba6e8-109">Wenn die-Schnittstelle gefunden wird, enthält die-Methode " **Empfehlung** " einen Verweis auf diese Schnittstelle, bis " [**Unrat**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise) " aufgerufen wird, oder bis das gehostete Dienst Objekt entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-109">If the interface is found, the **Advise** method holds a reference to that interface until [**Unadvise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise) is invoked, or until the hosted service object is removed.</span></span> <span data-ttu-id="ba6e8-110">Die **Empfehlung** wird nur einmal aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-110">**Advise** is called only once.</span></span>

<span data-ttu-id="ba6e8-111">Um das Abonnement zu entfernen, ruft der Geräte Host [**nicht Empfehlung**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise) auf und übergibt den Objekt Zeiger, der beim Aufrufen von " [**Empfehlung**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise)" verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-111">To remove the subscription, the device host invokes [**Unadvise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise) and passes in the object pointer used when it called [**Advise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise).</span></span> <span data-ttu-id="ba6e8-112">Der gehostete Dienst entfernt das Abonnement, wenn der Zeiger mit dem übereinstimmt, der an die **Empfehlung** übermittelt wurde.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-112">The hosted service removes the subscription if the pointer is the same as the one passed to **Advise**.</span></span>

<span data-ttu-id="ba6e8-113">Wenn sich der Wert einer Zustandsvariablen ändert, muss der gehostete Dienst signalisieren, dass ein Ereignis aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-113">When a state variable's value changes, the hosted service must signal that an event has occurred.</span></span> <span data-ttu-id="ba6e8-114">Dies erfolgt durch Aufrufen der [**iupnpeer ventsink:: OnStateChanged**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsink-onstatechanged) -Methode.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-114">The services does this by invoking the [**IUPnPEventSink::OnStateChanged**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsink-onstatechanged) method.</span></span>

<span data-ttu-id="ba6e8-115">Wenn der Geräte Host keine Benachrichtigungen mehr vom gehosteten Dienst empfangen muss, ruft er [**iupnpeer-Source:: Unrat**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise)auf und übergibt denselben Objekt Zeiger, den er von der [**Empfehlung**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise)erhalten hat.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-115">When the device host no longer needs to receive notifications from the hosted service, it invokes [**IUPnPEventSource::Unadvise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-unadvise), passing in the same object pointer that it received from [**Advise**](/windows/desktop/api/Upnphost/nf-upnphost-iupnpeventsource-advise).</span></span> <span data-ttu-id="ba6e8-116">Der Geräte Host ruft diese Methode auf, wenn sich das Gerät nicht mehr im Netzwerk befindet.</span><span class="sxs-lookup"><span data-stu-id="ba6e8-116">The device host invokes this method when the device is no longer going to be on the network.</span></span>

 

 




