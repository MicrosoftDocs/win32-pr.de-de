---
description: Ein Ressourcen-Manager trägt eine Transaktion in eine Transaktion ein, wenn er mit der Teilnahme an dieser bestimmten Transaktion beginnt.
ms.assetid: 9c201699-c00b-4efe-9f30-8d4e182de785
title: Eintragungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 52820af2a7b280bc4740d0309fb627725e648685
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104218208"
---
# <a name="enlistments"></a><span data-ttu-id="72578-103">Eintragungen</span><span class="sxs-lookup"><span data-stu-id="72578-103">Enlistments</span></span>

<span data-ttu-id="72578-104">Ein Ressourcen-Manager trägt eine Transaktion in eine Transaktion ein, wenn er mit der Teilnahme an dieser bestimmten Transaktion beginnt.</span><span class="sxs-lookup"><span data-stu-id="72578-104">A resource manager enlists in a transaction when it begins participation in that particular transaction.</span></span> <span data-ttu-id="72578-105">Die Eintragung definiert, welche Benachrichtigungen der Ressourcen-Manager akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="72578-105">The enlistment defines which notifications the resource manager accepts.</span></span> <span data-ttu-id="72578-106">Ein Ressourcen-Manager erstellt ein Eintragung-Objekt, wenn es in eine Transaktion eingetragen wird.</span><span class="sxs-lookup"><span data-stu-id="72578-106">A resource manager creates an enlistment object when it enlists in a transaction.</span></span> <span data-ttu-id="72578-107">Dieses Objekt signalisiert KTM, dass der Ressourcen-Manager (RM) Benachrichtigungen über die angegebene Transaktion anfordert.</span><span class="sxs-lookup"><span data-stu-id="72578-107">This object signals to KTM that the resource manager (RM) is requesting notifications about the specified transaction.</span></span>

<span data-ttu-id="72578-108">Der RM stellt eine [**Benachrichtigungs \_ Masken**](notification-mask.md) Struktur bereit, die detailliert erläutert, welche Benachrichtigungen angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="72578-108">The RM provides a [**NOTIFICATION\_MASK**](notification-mask.md) structure that details which notifications it is requesting.</span></span>

## <a name="enlistment-functions"></a><span data-ttu-id="72578-109">Eintragung-Funktionen</span><span class="sxs-lookup"><span data-stu-id="72578-109">Enlistment Functions</span></span>

<span data-ttu-id="72578-110">Die folgenden Funktionen werden bei Eintragung verwendet.</span><span class="sxs-lookup"><span data-stu-id="72578-110">The following functions are used with enlistments.</span></span>



| <span data-ttu-id="72578-111">Funktion</span><span class="sxs-lookup"><span data-stu-id="72578-111">Function</span></span>                                                                          | <span data-ttu-id="72578-112">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="72578-112">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                             |
|-----------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="72578-113">**Commitcomplete**</span><span class="sxs-lookup"><span data-stu-id="72578-113">**CommitComplete**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-commitcomplete)                                          | <span data-ttu-id="72578-114">Gibt an, dass ein Ressourcen-Manager (RM) einen Commit für eine Transaktion abgeschlossen hat, die vom Transaktions-Manager angefordert wurde.</span><span class="sxs-lookup"><span data-stu-id="72578-114">Indicates that a resource manager (RM) has finished committing a transaction that was requested by the transaction manager (TM).</span></span>                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="72578-115">**"Kreateeintragung"**</span><span class="sxs-lookup"><span data-stu-id="72578-115">**CreateEnlistment**</span></span>](/windows/desktop/api/KtmW32/nf-ktmw32-createenlistment)                                      | <span data-ttu-id="72578-116">Erstellt eine Eintragung, legt ihren Anfangszustand fest und öffnet ein Handle für die Eintragung mit dem angegebenen Zugriff.</span><span class="sxs-lookup"><span data-stu-id="72578-116">Creates an enlistment, sets its initial state, and opens a handle to the enlistment with the specified access.</span></span>                                                                                                                                                                                                                                                                                          |
| [<span data-ttu-id="72578-117">**Getenlistmentherstellungsinformationen**</span><span class="sxs-lookup"><span data-stu-id="72578-117">**GetEnlistmentRecoveryInformation**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-getenlistmentrecoveryinformation) | <span data-ttu-id="72578-118">Ruft eine nicht transparente Struktur der Wiederherstellungsdaten von KTM ab.</span><span class="sxs-lookup"><span data-stu-id="72578-118">Retrieves an opaque structure of recovery data from KTM.</span></span> <span data-ttu-id="72578-119">Wiederherstellungs Informationen werden in einem Protokoll im Namen eines Ressourcen-Managers (RM) gespeichert, indem die Funktion " [**settenlistmentherstellungsinformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-setenlistmentrecoveryinformation) " aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="72578-119">Recovery information is stored in a log on behalf of a resource manager (RM) by calling the [**SetEnlistmentRecoveryInformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-setenlistmentrecoveryinformation) function.</span></span> <span data-ttu-id="72578-120">Nach einem Fehler kann der RM die [**getenlistmentherstellyinformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-getenlistmentrecoveryinformation) -Funktion verwenden, um die Informationen abzurufen.</span><span class="sxs-lookup"><span data-stu-id="72578-120">After a failure, the RM can use the [**GetEnlistmentRecoveryInformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-getenlistmentrecoveryinformation) function to retrieve the information.</span></span> |
| [<span data-ttu-id="72578-121">**Openeintragung**</span><span class="sxs-lookup"><span data-stu-id="72578-121">**OpenEnlistment**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-openenlistment)                                          | <span data-ttu-id="72578-122">Öffnet ein vorhandenes Eintragung-Objekt und gibt ein Handle für die Eintragung zurück.</span><span class="sxs-lookup"><span data-stu-id="72578-122">Opens an existing enlistment object, and returns a handle to the enlistment.</span></span>                                                                                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="72578-123">**Read onlyeintragung**</span><span class="sxs-lookup"><span data-stu-id="72578-123">**ReadOnlyEnlistment**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-readonlyenlistment)                                  | <span data-ttu-id="72578-124">Fordert an, dass die angegebene Eintragung in eine schreibgeschützte Eintragung konvertiert wird.</span><span class="sxs-lookup"><span data-stu-id="72578-124">Requests that the specified enlistment be converted to a read-only enlistment.</span></span> <span data-ttu-id="72578-125">Eine schreibgeschützte Eintragung kann nicht an das Ergebnis der Transaktion teilnehmen und wird nicht dauerhaft für die Wiederherstellung aufgezeichnet.</span><span class="sxs-lookup"><span data-stu-id="72578-125">A read-only enlistment cannot participate in the outcome of the transaction and is not durably recorded for recovery.</span></span>                                                                                                                                                                                                    |
| [<span data-ttu-id="72578-126">**Rollbackeintragung**</span><span class="sxs-lookup"><span data-stu-id="72578-126">**RollbackEnlistment**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-rollbackenlistment)                                  | <span data-ttu-id="72578-127">Führt einen Rollback für die angegebene Transaktion aus, die einer Eintragung zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="72578-127">Rolls back the specified transaction that is associated with an enlistment.</span></span> <span data-ttu-id="72578-128">Diese Funktion kann nicht für schreibgeschützte Eintragung aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="72578-128">This function cannot be called for read-only enlistments.</span></span>                                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="72578-129">**"Tenlistmentwiederherstellungsinformationen"**</span><span class="sxs-lookup"><span data-stu-id="72578-129">**SetEnlistmentRecoveryInformation**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-setenlistmentrecoveryinformation)      | <span data-ttu-id="72578-130">Legt eine nicht transparente, benutzerdefinierte Struktur von Wiederherstellungsdaten von KTM fest.</span><span class="sxs-lookup"><span data-stu-id="72578-130">Sets an opaque, user-defined structure of recovery data from KTM.</span></span> <span data-ttu-id="72578-131">Die Wiederherstellungs Informationen werden in einem Protokoll im Namen eines Ressourcen-Managers (RM) gespeichert, indem " [**sstenlistmentherstellungsinformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-setenlistmentrecoveryinformation)" aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="72578-131">Recovery information is stored in a log on behalf of a resource manager (RM) by calling [**SetEnlistmentRecoveryInformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-setenlistmentrecoveryinformation).</span></span> <span data-ttu-id="72578-132">Nach einem Fehler kann das RM die Informationen mithilfe von [**getenlistmentherstellungsinformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-getenlistmentrecoveryinformation) abrufen.</span><span class="sxs-lookup"><span data-stu-id="72578-132">After a failure, the RM can use [**GetEnlistmentRecoveryInformation**](/windows/desktop/api/Ktmw32/nf-ktmw32-getenlistmentrecoveryinformation) to retrieve the information.</span></span>                  |
| [<span data-ttu-id="72578-133">**Singlephasereject**</span><span class="sxs-lookup"><span data-stu-id="72578-133">**SinglePhaseReject**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-singlephasereject)                                    | <span data-ttu-id="72578-134">Gibt an, dass der Ressourcen-Manager (RM) eine einphasenanforderung ablehnt.</span><span class="sxs-lookup"><span data-stu-id="72578-134">Indicates that the resource manager (RM) is refusing a single-phase request.</span></span> <span data-ttu-id="72578-135">Wenn ein Transaktions-Manager (TM) diesen Befehl empfängt, initiiert er einen Zweiphasencommit und sendet eine Prepare-Anforderung an alle eingetragenen RMS.</span><span class="sxs-lookup"><span data-stu-id="72578-135">When a transaction manager (TM) receives this call, it initiates a two-phase commit and sends a prepare request to all enlisted RMs.</span></span>                                                                                                                                                                                       |



 

 

 



