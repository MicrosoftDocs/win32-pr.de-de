---
description: Ressourcen-Manager
ms.assetid: c717b731-cf0b-45cb-bbff-695410fcf6ce
title: Ressourcen-Manager
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1b2ea9b1cd834daf3bfbca49bf37d3f2c0956344
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106348946"
---
# <a name="resource-managers"></a><span data-ttu-id="ca498-103">Ressourcen-Manager</span><span class="sxs-lookup"><span data-stu-id="ca498-103">Resource Managers</span></span>

<span data-ttu-id="ca498-104">Ein Ressourcen-Manager verwendet das Transaktions-Manager-Protokoll, um den Transaktionsstatus zu verfolgen.</span><span class="sxs-lookup"><span data-stu-id="ca498-104">A resource manager uses the transaction manager log to track the transaction state.</span></span> <span data-ttu-id="ca498-105">Die Aktion des Ressourcen-Managers bei der Verarbeitung einer Transaktion lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="ca498-105">The resource manager's action when processing a transaction is as follows:</span></span>

-   <span data-ttu-id="ca498-106">Der Client übergibt eine Transaktion explizit an den RM.</span><span class="sxs-lookup"><span data-stu-id="ca498-106">The client passes a transaction to the RM explicitly.</span></span>
-   <span data-ttu-id="ca498-107">Der RM trägt in der [**Transaktion mithilfe von**](/windows/desktop/api/KtmW32/nf-ktmw32-createenlistment)"" "".</span><span class="sxs-lookup"><span data-stu-id="ca498-107">The RM enlists in the transaction using [**CreateEnlistment**](/windows/desktop/api/KtmW32/nf-ktmw32-createenlistment).</span></span>
-   <span data-ttu-id="ca498-108">Der Benutzer kann dann mit dem Ausführen eines beliebigen Vorgangs fortfahren.</span><span class="sxs-lookup"><span data-stu-id="ca498-108">The user can then proceed to perform any operation.</span></span>
-   <span data-ttu-id="ca498-109">Wenn der Benutzer CommitTransaction aufruft, sendet KTM eine Prepare \_ Transaction-Benachrichtigung an den RM.</span><span class="sxs-lookup"><span data-stu-id="ca498-109">When the user calls CommitTransaction, KTM sends a PREPARE\_TRANSACTION notification to the RM.</span></span> <span data-ttu-id="ca498-110">An diesem Punkt werden alle Änderungen, die zum Ausführen eines Commits für die Transaktion erforderlich wären, von der RM auf den Datenträger geleert.</span><span class="sxs-lookup"><span data-stu-id="ca498-110">At this point, the RM flushes to disk any changes that would be necessary to commit the transaction, but could fail.</span></span> <span data-ttu-id="ca498-111">Wenn diese Vorgänge erfolgreich ausgeführt werden, signalisiert der RM, dass er den Vorbereitungs Vorgang durch Aufrufen von [**preparecomplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-preparecomplete)abgeschlossen hat.</span><span class="sxs-lookup"><span data-stu-id="ca498-111">If these operations succeed, the RM signals that it is finished with the prepare operation by calling [**PrepareComplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-preparecomplete).</span></span> <span data-ttu-id="ca498-112">Wenn diese Vorgänge fehlschlagen, antwortet der RM durch Aufrufen von [**rollbackeintragung**](/windows/desktop/api/Ktmw32/nf-ktmw32-rollbackenlistment).</span><span class="sxs-lookup"><span data-stu-id="ca498-112">If these operations fail, the RM responds by calling [**RollBackEnlistment**](/windows/desktop/api/Ktmw32/nf-ktmw32-rollbackenlistment).</span></span>
-   <span data-ttu-id="ca498-113">Der Ressourcen-Manager empfängt eine Vorbereitungs Benachrichtigung.</span><span class="sxs-lookup"><span data-stu-id="ca498-113">The resource manager receives a prepare notification.</span></span>
-   <span data-ttu-id="ca498-114">Der Ressourcen-Manager Leert alle Daten, die der Transaktion zugeordnet sind, in die allgemeine Protokolldienst-Protokolldatei.</span><span class="sxs-lookup"><span data-stu-id="ca498-114">The resource manager flushes any data associated with the transaction to its Common Log Services log file.</span></span>
-   <span data-ttu-id="ca498-115">Der Ressourcen-Manager ruft die [**preparecomplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-preparecomplete) -Funktion auf und wartet darauf, das Ergebnis der Transaktion von KTM zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="ca498-115">The resource manager calls the [**PrepareComplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-preparecomplete) function and awaits to receive the transaction's outcome from the KTM.</span></span>
-   <span data-ttu-id="ca498-116">Abhängig vom Ergebnis der Transaktion empfängt der Ressourcen-Manager ein Commit-oder Rollback-Benachrichtigungs Ereignis.</span><span class="sxs-lookup"><span data-stu-id="ca498-116">Depending on the outcome of the transaction, the resource manager receives a commit or rollback notification event.</span></span> <span data-ttu-id="ca498-117">Wenn der Ressourcen-Manager eine Commit-Benachrichtigung empfängt, werden die Änderungen permanent gemacht, und der KTM wird durch Aufrufen der [**commitcomplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-commitcomplete) -Funktion informiert.</span><span class="sxs-lookup"><span data-stu-id="ca498-117">If the resource manager receives a commit notification, it makes the changes permanent and informs the KTM by calling the [**CommitComplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-commitcomplete) function.</span></span> <span data-ttu-id="ca498-118">Wenn der Ressourcen-Manager eine Rollback-Benachrichtigung empfängt, werden alle Änderungen verworfen und der Status vor den Transaktions Änderungen zurückgesetzt, und der KTM wird durch Aufrufen von [**rollbackcomplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-rollbackcomplete)informiert.</span><span class="sxs-lookup"><span data-stu-id="ca498-118">If the resource manager receives a rollback notification, it discards all changes and reverts to the state that existed before any of the transacted changes and informs the KTM by calling [**RollbackComplete**](/windows/desktop/api/Ktmw32/nf-ktmw32-rollbackcomplete).</span></span>

## <a name="resource-manager-functions"></a><span data-ttu-id="ca498-119">Ressourcen-Manager Funktionen</span><span class="sxs-lookup"><span data-stu-id="ca498-119">Resource Manager Functions</span></span>

<span data-ttu-id="ca498-120">Die folgenden Funktionen werden für Ressourcen-Manager verwendet.</span><span class="sxs-lookup"><span data-stu-id="ca498-120">The following functions are used with resource managers.</span></span>



| <span data-ttu-id="ca498-121">Funktion</span><span class="sxs-lookup"><span data-stu-id="ca498-121">Function</span></span>                                                                           | <span data-ttu-id="ca498-122">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="ca498-122">Description</span></span>                                                                                                                                                                      |
|------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="ca498-123">**CreateResourceManager**</span><span class="sxs-lookup"><span data-stu-id="ca498-123">**CreateResourceManager**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-createresourcemanager)                             | <span data-ttu-id="ca498-124">Erstellt ein neues Resource Manager-Objekt (RM) und ordnet das RM einem Transaktions-Manager (TM) zu.</span><span class="sxs-lookup"><span data-stu-id="ca498-124">Creates a new resource manager (RM) object, and associates the RM with a transaction manager (TM).</span></span>                                                                               |
| [<span data-ttu-id="ca498-125">**Getnotificationresourcemanager**</span><span class="sxs-lookup"><span data-stu-id="ca498-125">**GetNotificationResourceManager**</span></span>](/windows/desktop/api/KtmW32/nf-ktmw32-getnotificationresourcemanager)           | <span data-ttu-id="ca498-126">Fordert und empfängt eine Benachrichtigung für einen Ressourcen-Manager (RM).</span><span class="sxs-lookup"><span data-stu-id="ca498-126">Requests and receives a notification for a resource manager (RM).</span></span> <span data-ttu-id="ca498-127">Diese Funktion wird vom RM-Register verwendet, um Benachrichtigungen zu empfangen, wenn sich der Zustand einer Transaktion ändert.</span><span class="sxs-lookup"><span data-stu-id="ca498-127">This function is used by the RM register to receive notifications when a transaction changes state.</span></span>            |
| [<span data-ttu-id="ca498-128">**Getnotificationresourcemanagerasync**</span><span class="sxs-lookup"><span data-stu-id="ca498-128">**GetNotificationResourceManagerAsync**</span></span>](/windows/desktop/api/KtmW32/nf-ktmw32-getnotificationresourcemanagerasync) | <span data-ttu-id="ca498-129">Fordert und empfängt asynchrone Benachrichtigungen für einen Ressourcen-Manager (RM).</span><span class="sxs-lookup"><span data-stu-id="ca498-129">Requests and receives asynchronous notification for a resource manager (RM).</span></span> <span data-ttu-id="ca498-130">Diese Funktion wird vom RM-Register verwendet, um Benachrichtigungen zu empfangen, wenn sich der Zustand einer Transaktion ändert.</span><span class="sxs-lookup"><span data-stu-id="ca498-130">This function is used by the RM register to receive notifications when a transaction changes state.</span></span> |
| [<span data-ttu-id="ca498-131">**Openresourcemanager**</span><span class="sxs-lookup"><span data-stu-id="ca498-131">**OpenResourceManager**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-openresourcemanager)                                 | <span data-ttu-id="ca498-132">Öffnet einen vorhandenen Ressourcen-Manager (RM).</span><span class="sxs-lookup"><span data-stu-id="ca498-132">Opens an existing resource manager (RM).</span></span>                                                                                                                                         |
| [<span data-ttu-id="ca498-133">**Preparecomplete**</span><span class="sxs-lookup"><span data-stu-id="ca498-133">**PrepareComplete**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-preparecomplete)                                         | <span data-ttu-id="ca498-134">Gibt an, dass der Ressourcen-Manager (RM) alle erforderlichen Verarbeitungsschritte abgeschlossen hat, um sicherzustellen, dass ein Commit-oder Abbruch Vorgang für die angegebene Transaktion erfolgreich ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="ca498-134">Indicates that the resource manager (RM) has completed all processing necessary to guarantee that a commit or abort operation will succeed for the specified transaction.</span></span>        |
| [<span data-ttu-id="ca498-135">**Prepreparecomplete**</span><span class="sxs-lookup"><span data-stu-id="ca498-135">**PrePrepareComplete**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-prepreparecomplete)                                   | <span data-ttu-id="ca498-136">Signalisiert, dass dieser Ressourcen-Manager seine Vorbereitung abgeschlossen hat, sodass andere Ressourcen-Manager jetzt mit der Vorbereitung beginnen können.</span><span class="sxs-lookup"><span data-stu-id="ca498-136">Signals that this resource manager has completed its preprepare work, so that other resource managers can now begin their prepare operations.</span></span>                                    |
| [<span data-ttu-id="ca498-137">**Setresourcemanagercompletionport**</span><span class="sxs-lookup"><span data-stu-id="ca498-137">**SetResourceManagerCompletionPort**</span></span>](/windows/desktop/api/Ktmw32/nf-ktmw32-setresourcemanagercompletionport)       | <span data-ttu-id="ca498-138">Verknüpft den angegebenen e/a-Abschlussport mit dem angegebenen Ressourcen-Manager (RM).</span><span class="sxs-lookup"><span data-stu-id="ca498-138">Associates the specified I/O completion port with the specified resource manager (RM).</span></span> <span data-ttu-id="ca498-139">Dieser Port empfängt alle Benachrichtigungen für den RM.</span><span class="sxs-lookup"><span data-stu-id="ca498-139">This port receives all notifications for the RM.</span></span>                                          |



 

 

 



