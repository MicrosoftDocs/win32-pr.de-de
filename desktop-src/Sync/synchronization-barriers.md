---
description: Eine Synchronisierungs Barriere ermöglicht es mehreren Threads zu warten, bis alle Threads einen bestimmten Ausführungs Zeitpunkt erreicht haben, bevor ein Thread fortgesetzt wird.
ms.assetid: 3A76E6F7-C38B-4843-9496-36F3C78B700C
title: Synchronisierungs Barrieren
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4276f0bbc5a10eef391c12cc51ebd475e563bd44
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104217984"
---
# <a name="synchronization-barriers"></a><span data-ttu-id="48153-103">Synchronisierungs Barrieren</span><span class="sxs-lookup"><span data-stu-id="48153-103">Synchronization Barriers</span></span>

<span data-ttu-id="48153-104">Eine Synchronisierungs Barriere ermöglicht es mehreren Threads zu warten, bis alle Threads einen bestimmten Ausführungs Zeitpunkt erreicht haben, bevor ein Thread fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="48153-104">A synchronization barrier enables multiple threads to wait until all threads have all reached a particular point of execution before any thread continues.</span></span> <span data-ttu-id="48153-105">Synchronisierungs Barrieren können nicht Prozess übergreifend gemeinsam genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="48153-105">Synchronization barriers cannot be shared across processes.</span></span>

<span data-ttu-id="48153-106">Synchronisierungs Barrieren sind für Berechnungen in Phasen nützlich, bei denen Threads, die denselben Code parallel ausführen, eine Phase ausführen müssen, bevor Sie mit der nächsten fortfahren.</span><span class="sxs-lookup"><span data-stu-id="48153-106">Synchronization barriers are useful for phased computations, in which threads executing the same code in parallel must all complete one phase before moving on to the next.</span></span>

<span data-ttu-id="48153-107">Rufen Sie zum Erstellen einer Synchronisierungs Barriere die [**initializesynchronizationbarrier**](/windows/desktop/api/SynchAPI/nf-synchapi-initializesynchronizationbarrier) -Funktion auf, und geben Sie eine maximale Anzahl von Threads und die Häufigkeit an, mit der ein Thread vor dem blockieren gedreht werden soll.</span><span class="sxs-lookup"><span data-stu-id="48153-107">To create a synchronization barrier, call the [**InitializeSynchronizationBarrier**](/windows/desktop/api/SynchAPI/nf-synchapi-initializesynchronizationbarrier) function and specify a maximum number of threads and how many times a thread should spin before it blocks.</span></span> <span data-ttu-id="48153-108">Starten Sie dann die Threads, die die Barriere verwenden werden.</span><span class="sxs-lookup"><span data-stu-id="48153-108">Then launch the threads that will use the barrier.</span></span> <span data-ttu-id="48153-109">Nachdem jeder Thread seine Arbeit beendet hat, ruft er [**entersynchronizationbarrier**](/windows/desktop/api/synchapi/nf-synchapi-entersynchronizationbarrier) auf, um auf die Barriere zu warten.</span><span class="sxs-lookup"><span data-stu-id="48153-109">After each thread finishes its work, it calls [**EnterSynchronizationBarrier**](/windows/desktop/api/synchapi/nf-synchapi-entersynchronizationbarrier) to wait at the barrier.</span></span> <span data-ttu-id="48153-110">Die **entersynchronizationbarrier** -Funktion blockiert jeden Thread so lange, bis die Anzahl der Threads, die in der Barriere blockiert werden, die maximale Thread Anzahl für die Barriere erreicht. zu diesem Zeitpunkt werden von **entersynchronizationbarrier** alle Threads blockiert.</span><span class="sxs-lookup"><span data-stu-id="48153-110">The **EnterSynchronizationBarrier** function blocks each thread until the number of threads blocked in the barrier reaches the maximum thread count for the barrier, at which point **EnterSynchronizationBarrier** unblocks all the threads.</span></span> <span data-ttu-id="48153-111">Die Funktion " **entersynchronizationbarrier** " gibt für genau einen der Threads, die in die Barriere eingetreten sind, **true** zurück und gibt für alle anderen Threads **false** zurück.</span><span class="sxs-lookup"><span data-stu-id="48153-111">The **EnterSynchronizationBarrier** function returns **TRUE** for exactly one of the threads that entered the barrier, and returns **FALSE** for all other threads.</span></span>

<span data-ttu-id="48153-112">Um eine Synchronisierungs Barriere freizugeben, wenn Sie nicht mehr benötigt wird, wenden Sie sich an das [**Delta-cetesynchronizationbarrier**](/windows/desktop/api/SynchAPI/nf-synchapi-deletesynchronizationbarrier)</span><span class="sxs-lookup"><span data-stu-id="48153-112">To release a synchronization barrier when it is no longer needed, call [**DeleteSynchronizationBarrier**](/windows/desktop/api/SynchAPI/nf-synchapi-deletesynchronizationbarrier).</span></span> <span data-ttu-id="48153-113">Es ist sicher, dass diese Funktion sofort nach dem Aufrufen von " [**entersynchronizationbarrier**](/windows/desktop/api/synchapi/nf-synchapi-entersynchronizationbarrier) " aufgerufen wird, da diese Funktion sicherstellt, dass alle Threads die Barriere vor der Freigabe nicht mehr verwenden.</span><span class="sxs-lookup"><span data-stu-id="48153-113">It is safe to call this function immediately after calling [**EnterSynchronizationBarrier**](/windows/desktop/api/synchapi/nf-synchapi-entersynchronizationbarrier) because that function ensures that all threads have finished using the barrier before it is released.</span></span>

<span data-ttu-id="48153-114">Wenn eine Synchronisierungs Barriere nie gelöscht wird, können Threads das Flag für **Synchronisierungs \_ Barriere \_ \_ ohne \_ Löschung** angeben, wenn Sie die Grenze erreichen.</span><span class="sxs-lookup"><span data-stu-id="48153-114">If a synchronization barrier will never be deleted, threads can specify the **SYNCHRONIZATION\_BARRIER\_FLAGS\_NO\_DELETE** flag when they enter the barrier.</span></span> <span data-ttu-id="48153-115">Alle Threads, die die Barriere verwenden, müssen dieses Flag angeben. Wenn kein Thread vorhanden ist, wird das Flag ignoriert.</span><span class="sxs-lookup"><span data-stu-id="48153-115">All threads using the barrier must specify this flag; if any thread does not, the flag is ignored.</span></span> <span data-ttu-id="48153-116">Dieses Flag bewirkt, dass die Funktion die zusätzliche Arbeit überspringt, die für die Lösch Sicherheit erforderlich ist, wodurch die Leistung verbessert werden kann.</span><span class="sxs-lookup"><span data-stu-id="48153-116">This flag causes the function to skip the extra work required for deletion safety, which can improve performance.</span></span> <span data-ttu-id="48153-117">Beachten Sie, dass das Löschen einer Barriere, während dieses Flag wirksam ist, zu einem ungültigen Handle-Zugriff und einem oder mehreren dauerhaft blockierten Threads führen kann.</span><span class="sxs-lookup"><span data-stu-id="48153-117">Note that deleting a barrier while this flag is in effect may result in an invalid handle access and one or more permanently blocked threads.</span></span>

 

 



