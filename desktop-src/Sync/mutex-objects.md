---
description: Ein Mutex-Objekt ist ein Synchronisierungs Objekt, dessen Zustand auf "signalisiert" festgelegt ist, wenn es nicht im Besitz eines Threads ist, und nicht signalisiert, wenn es im Besitz ist.
ms.assetid: eca0795a-1fd0-4034-9d61-9416670919cf
title: Mutex-Objekte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e84c17ba3e99e888f7d1e9137a7f24a4d78ce2d4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103866616"
---
# <a name="mutex-objects"></a><span data-ttu-id="b9bca-103">Mutex-Objekte</span><span class="sxs-lookup"><span data-stu-id="b9bca-103">Mutex Objects</span></span>

<span data-ttu-id="b9bca-104">Ein *Mutex-Objekt* ist ein Synchronisierungs Objekt, dessen Zustand auf "signalisiert" festgelegt ist, wenn es nicht im Besitz eines Threads ist, und nicht signalisiert, wenn es im Besitz ist.</span><span class="sxs-lookup"><span data-stu-id="b9bca-104">A *mutex object* is a synchronization object whose state is set to signaled when it is not owned by any thread, and nonsignaled when it is owned.</span></span> <span data-ttu-id="b9bca-105">Nur jeweils ein Thread kann ein Mutex-Objekt besitzen, dessen Name von der Tatsache stammt, dass es hilfreich ist, sich gegenseitig ausschließenden Zugriff auf eine freigegebene Ressource zu koordinieren.</span><span class="sxs-lookup"><span data-stu-id="b9bca-105">Only one thread at a time can own a mutex object, whose name comes from the fact that it is useful in coordinating mutually exclusive access to a shared resource.</span></span> <span data-ttu-id="b9bca-106">Um beispielsweise zu verhindern, dass zwei Threads gleichzeitig in den gemeinsam genutzten Speicher schreiben, wartet jeder Thread auf den Besitz eines Mutex-Objekts, bevor der Code ausgeführt wird, der auf den Speicher zugreift.</span><span class="sxs-lookup"><span data-stu-id="b9bca-106">For example, to prevent two threads from writing to shared memory at the same time, each thread waits for ownership of a mutex object before executing the code that accesses the memory.</span></span> <span data-ttu-id="b9bca-107">Nach dem Schreiben in den freigegebenen Speicher gibt der Thread das Mutex-Objekt frei.</span><span class="sxs-lookup"><span data-stu-id="b9bca-107">After writing to the shared memory, the thread releases the mutex object.</span></span>

<span data-ttu-id="b9bca-108">Ein Thread verwendet die Funktion " [**foratemutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa) " oder " [**foratemutexex**](/windows/win32/api/synchapi/nf-synchapi-createmutexexa) ", um ein Mutex-Objekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="b9bca-108">A thread uses the [**CreateMutex**](/windows/win32/api/synchapi/nf-synchapi-createmutexa) or [**CreateMutexEx**](/windows/win32/api/synchapi/nf-synchapi-createmutexexa) function to create a mutex object.</span></span> <span data-ttu-id="b9bca-109">Der erstellende Thread kann den unmittelbaren Besitz des Mutex-Objekts anfordern und kann auch einen Namen für das Mutex-Objekt angeben.</span><span class="sxs-lookup"><span data-stu-id="b9bca-109">The creating thread can request immediate ownership of the mutex object and can also specify a name for the mutex object.</span></span> <span data-ttu-id="b9bca-110">Es kann auch ein unbenanntes Mutex erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="b9bca-110">It can also create an unnamed mutex.</span></span> <span data-ttu-id="b9bca-111">Weitere Informationen zu den Namen von Mutex-, Ereignis-, Semaphore-und Timer-Objekten finden Sie unter [prozessübergreifende Synchronisierung](interprocess-synchronization.md).</span><span class="sxs-lookup"><span data-stu-id="b9bca-111">For additional information about names for mutex, event, semaphore, and timer objects, see [Interprocess Synchronization](interprocess-synchronization.md).</span></span>

<span data-ttu-id="b9bca-112">Threads in anderen Prozessen können ein Handle für ein vorhandenes benanntes Mutex-Objekt öffnen, indem Sie den Namen in einem Aufrufs der [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw) -Funktion angeben.</span><span class="sxs-lookup"><span data-stu-id="b9bca-112">Threads in other processes can open a handle to an existing named mutex object by specifying its name in a call to the [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw) function.</span></span> <span data-ttu-id="b9bca-113">Um ein Handle an einen unbenannten Mutex an einen anderen Prozess zu übergeben, verwenden Sie die [**duplialisierandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) -Funktion oder die über-und untergeordnete handle-Vererbung.</span><span class="sxs-lookup"><span data-stu-id="b9bca-113">To pass a handle to an unnamed mutex to another process, use the [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) function or parent-child handle inheritance.</span></span>

<span data-ttu-id="b9bca-114">Jeder Thread mit einem Handle für ein Mutex-Objekt kann eine der [Wait-Funktionen](wait-functions.md) verwenden, um den Besitz des Mutex-Objekts anzufordern.</span><span class="sxs-lookup"><span data-stu-id="b9bca-114">Any thread with a handle to a mutex object can use one of the [wait functions](wait-functions.md) to request ownership of the mutex object.</span></span> <span data-ttu-id="b9bca-115">Wenn sich das Mutex-Objekt im Besitz eines anderen Threads befindet, blockiert die wait-Funktion den anfordernden Thread, bis der besitzende Thread das Mutex-Objekt mithilfe der [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) -Funktion freigibt.</span><span class="sxs-lookup"><span data-stu-id="b9bca-115">If the mutex object is owned by another thread, the wait function blocks the requesting thread until the owning thread releases the mutex object using the [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) function.</span></span> <span data-ttu-id="b9bca-116">Der Rückgabewert der wait-Funktion gibt an, ob die Funktion aus einem anderen Grund als dem Zustand des Mutex zurückgegeben wurde, der auf signalisiert festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="b9bca-116">The return value of the wait function indicates whether the function returned for some reason other than the state of the mutex being set to signaled.</span></span>

<span data-ttu-id="b9bca-117">Wenn mehr als ein Thread auf einen Mutex wartet, wird ein wartender Thread ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="b9bca-117">If more than one thread is waiting on a mutex, a waiting thread is selected.</span></span> <span data-ttu-id="b9bca-118">Nehmen Sie keine Voraussetzung für eine FIFO-Reihenfolge (First in, First Out).</span><span class="sxs-lookup"><span data-stu-id="b9bca-118">Do not assume a first-in, first-out (FIFO) order.</span></span> <span data-ttu-id="b9bca-119">Externe Ereignisse wie z. b. kernelmodusapcs können die Warte Reihenfolge ändern.</span><span class="sxs-lookup"><span data-stu-id="b9bca-119">External events such as kernel-mode APCs can change the wait order.</span></span>

<span data-ttu-id="b9bca-120">Nachdem ein Thread den Besitz eines Mutex erlangt hat, kann er denselben Mutex in wiederholten Aufrufen der [Wait-Funktionen](wait-functions.md) angeben, ohne dessen Ausführung zu blockieren.</span><span class="sxs-lookup"><span data-stu-id="b9bca-120">After a thread obtains ownership of a mutex, it can specify the same mutex in repeated calls to the [wait-functions](wait-functions.md) without blocking its execution.</span></span> <span data-ttu-id="b9bca-121">Dadurch wird verhindert, dass ein Thread sich selbst blockiert, während er auf einen Mutex wartet, den er bereits besitzt.</span><span class="sxs-lookup"><span data-stu-id="b9bca-121">This prevents a thread from deadlocking itself while waiting for a mutex that it already owns.</span></span> <span data-ttu-id="b9bca-122">Um seinen Besitz unter solchen Umständen freizugeben, muss der Thread [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) einmal für jedes Mal aufgerufen werden, wenn der Mutex die Bedingungen einer wait-Funktion erfüllt hat.</span><span class="sxs-lookup"><span data-stu-id="b9bca-122">To release its ownership under such circumstances, the thread must call [**ReleaseMutex**](/windows/win32/api/synchapi/nf-synchapi-releasemutex) once for each time that the mutex satisfied the conditions of a wait function.</span></span>

<span data-ttu-id="b9bca-123">Wenn ein Thread beendet wird, ohne den Besitz eines Mutex-Objekts freizugeben, wird das Mutex-Objekt als abgebrochen betrachtet.</span><span class="sxs-lookup"><span data-stu-id="b9bca-123">If a thread terminates without releasing its ownership of a mutex object, the mutex object is considered to be abandoned.</span></span> <span data-ttu-id="b9bca-124">Ein wartender Thread kann den Besitz eines abgebrochenen Mutex-Objekts abrufen, aber die wait-Funktion gibt den Vorgang **\_ abgebrochen** zurück, um anzugeben, dass das Mutex-Objekt abgebrochen wird.</span><span class="sxs-lookup"><span data-stu-id="b9bca-124">A waiting thread can acquire ownership of an abandoned mutex object, but the wait function will return **WAIT\_ABANDONED** to indicate that the mutex object is abandoned.</span></span> <span data-ttu-id="b9bca-125">Ein abgebrochenes Mutex-Objekt gibt an, dass ein Fehler aufgetreten ist und dass sich alle vom Mutex-Objekt geschützten freigegebenen Ressourcen in einem nicht definierten Zustand befinden.</span><span class="sxs-lookup"><span data-stu-id="b9bca-125">An abandoned mutex object indicates that an error has occurred and that any shared resource being protected by the mutex object is in an undefined state.</span></span> <span data-ttu-id="b9bca-126">Wenn der Thread fortgesetzt wird, als ob das Mutex-Objekt nicht abgebrochen wurde, wird er nicht mehr als abgebrochen betrachtet, nachdem der Thread seinen Besitz freigegeben hat.</span><span class="sxs-lookup"><span data-stu-id="b9bca-126">If the thread proceeds as though the mutex object had not been abandoned, it is no longer considered abandoned after the thread releases its ownership.</span></span> <span data-ttu-id="b9bca-127">Dadurch wird das normale Verhalten wieder hergestellt, wenn ein Handle für das Mutex-Objekt später in einer wait-Funktion angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="b9bca-127">This restores normal behavior if a handle to the mutex object is subsequently specified in a wait function.</span></span>

<span data-ttu-id="b9bca-128">Beachten Sie, dass [wichtige Abschnitts Objekte](critical-section-objects.md) eine Synchronisierung ähnlich der von Mutex-Objekten bereitstellen, mit dem Unterschied, dass wichtige Abschnitts Objekte nur von den Threads eines einzelnen Prozesses verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="b9bca-128">Note that [critical section objects](critical-section-objects.md) provide synchronization similar to that provided by mutex objects, except that critical section objects can be used only by the threads of a single process.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b9bca-129">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="b9bca-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b9bca-130">Verwenden von Mutex-Objekten</span><span class="sxs-lookup"><span data-stu-id="b9bca-130">Using Mutex Objects</span></span>](using-mutex-objects.md)
</dt> </dl>

 

 
