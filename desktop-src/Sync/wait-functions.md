---
description: Wait-Funktionen ermöglichen es einem Thread, seine eigene Ausführung zu blockieren.
ms.assetid: 9c66c71d-fdfd-42ae-895c-2fc842b5bc7a
title: Wait-Funktionen
ms.topic: article
ms.date: 06/25/2020
ms.openlocfilehash: f5a21b0d95a316b926fcaad037004edc8c418246
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106350809"
---
# <a name="wait-functions"></a><span data-ttu-id="a29fa-103">Wait-Funktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-103">Wait Functions</span></span>

<span data-ttu-id="a29fa-104">*Wait-Funktionen* ermöglichen es einem Thread, seine eigene Ausführung zu blockieren.</span><span class="sxs-lookup"><span data-stu-id="a29fa-104">*Wait functions* allow a thread to block its own execution.</span></span> <span data-ttu-id="a29fa-105">Die Wait-Funktionen werden erst zurückgegeben, wenn die angegebenen Kriterien erfüllt wurden.</span><span class="sxs-lookup"><span data-stu-id="a29fa-105">The wait functions do not return until the specified criteria have been met.</span></span> <span data-ttu-id="a29fa-106">Der Typ der wait-Funktion bestimmt den verwendeten Satz von Kriterien.</span><span class="sxs-lookup"><span data-stu-id="a29fa-106">The type of wait function determines the set of criteria used.</span></span> <span data-ttu-id="a29fa-107">Wenn eine wait-Funktion aufgerufen wird, überprüft Sie, ob die Warte Kriterien erfüllt wurden.</span><span class="sxs-lookup"><span data-stu-id="a29fa-107">When a wait function is called, it checks whether the wait criteria have been met.</span></span> <span data-ttu-id="a29fa-108">Wenn die Kriterien nicht erfüllt sind, wechselt der aufrufende Thread in den Wartezustand, bis die Bedingungen der Warte Kriterien erfüllt sind oder das angegebene Timeout Intervall abläuft.</span><span class="sxs-lookup"><span data-stu-id="a29fa-108">If the criteria have not been met, the calling thread enters the wait state until the conditions of the wait criteria have been met or the specified time-out interval elapses.</span></span>

-   [<span data-ttu-id="a29fa-109">Einzelobjektwait-Funktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-109">Single-object Wait Functions</span></span>](#single-object-wait-functions)
-   [<span data-ttu-id="a29fa-110">Wait-Funktionen mit mehreren Objekten</span><span class="sxs-lookup"><span data-stu-id="a29fa-110">Multiple-object Wait Functions</span></span>](#multiple-object-wait-functions)
-   [<span data-ttu-id="a29fa-111">Wartende Wartefunktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-111">Alertable Wait Functions</span></span>](#alertable-wait-functions)
-   [<span data-ttu-id="a29fa-112">Registrierte Wait-Funktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-112">Registered Wait Functions</span></span>](#registered-wait-functions)
-   [<span data-ttu-id="a29fa-113">Warten auf eine Adresse</span><span class="sxs-lookup"><span data-stu-id="a29fa-113">Waiting on an Address</span></span>](#waiting-on-an-address)
-   [<span data-ttu-id="a29fa-114">Warte Funktionen und Timeout Intervalle</span><span class="sxs-lookup"><span data-stu-id="a29fa-114">Wait Functions and Time-out Intervals</span></span>](#wait-functions-and-time-out-intervals)
-   [<span data-ttu-id="a29fa-115">Wait-Funktionen und Synchronisierungs Objekte</span><span class="sxs-lookup"><span data-stu-id="a29fa-115">Wait Functions and Synchronization Objects</span></span>](#wait-functions-and-synchronization-objects)
-   [<span data-ttu-id="a29fa-116">Wait-Funktionen und Erstellen von Fenstern</span><span class="sxs-lookup"><span data-stu-id="a29fa-116">Wait Functions and Creating Windows</span></span>](#wait-functions-and-creating-windows)

## <a name="single-object-wait-functions"></a><span data-ttu-id="a29fa-117">Einzelobjektwait-Funktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-117">Single-object Wait Functions</span></span>

<span data-ttu-id="a29fa-118">Die Funktionen " [**signalobjectandwait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait)", " [**WaitForSingleObject**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobject)" und " [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) " erfordern ein Handle für ein Synchronisierungs Objekt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-118">The [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait), [**WaitForSingleObject**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobject), and [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) functions require a handle to one synchronization object.</span></span> <span data-ttu-id="a29fa-119">Diese Funktionen geben zurück, wenn eine der folgenden Aktionen auftritt:</span><span class="sxs-lookup"><span data-stu-id="a29fa-119">These functions return when one of the following occurs:</span></span>

-   <span data-ttu-id="a29fa-120">Das angegebene-Objekt befindet sich im signalisierten Zustand.</span><span class="sxs-lookup"><span data-stu-id="a29fa-120">The specified object is in the signaled state.</span></span>
-   <span data-ttu-id="a29fa-121">Das Timeout Intervall ist abgelaufen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-121">The time-out interval elapses.</span></span> <span data-ttu-id="a29fa-122">Das Timeout Intervall kann auf **unendlich** festgelegt werden, um anzugeben, dass für den warte Vorgang kein Timeout auftritt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-122">The time-out interval can be set to **INFINITE** to specify that the wait will not time out.</span></span>

<span data-ttu-id="a29fa-123">Die [**signalobjectandwait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait) -Funktion ermöglicht es dem aufrufenden Thread, den Zustand eines Objekts atomisch auf "signalisiert" festzulegen und zu warten, bis der Zustand eines anderen Objekts auf "signalisiert" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a29fa-123">The [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait) function enables the calling thread to atomically set the state of an object to signaled and wait for the state of another object to be set to signaled.</span></span>

## <a name="multiple-object-wait-functions"></a><span data-ttu-id="a29fa-124">Wait-Funktionen mit mehreren Objekten</span><span class="sxs-lookup"><span data-stu-id="a29fa-124">Multiple-object Wait Functions</span></span>

<span data-ttu-id="a29fa-125">Die Funktionen [**WaitForMultipleObjects**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjects), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex), [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects)und [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) ermöglichen es dem aufrufenden Thread, ein Array anzugeben, das mindestens ein Synchronisierungs Objekt Handle enthält.</span><span class="sxs-lookup"><span data-stu-id="a29fa-125">The [**WaitForMultipleObjects**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjects), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex), [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects), and [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) functions enable the calling thread to specify an array containing one or more synchronization object handles.</span></span> <span data-ttu-id="a29fa-126">Diese Funktionen geben zurück, wenn eine der folgenden Aktionen auftritt:</span><span class="sxs-lookup"><span data-stu-id="a29fa-126">These functions return when one of the following occurs:</span></span>

-   <span data-ttu-id="a29fa-127">Der Status eines der angegebenen-Objekte ist auf "signalisiert" festgelegt, oder die Zustände aller Objekte wurden auf "signalisiert" festgelegt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-127">The state of any one of the specified objects is set to signaled or the states of all objects have been set to signaled.</span></span> <span data-ttu-id="a29fa-128">Sie steuern, ob ein oder alle Zustände im Funktions aufrufsbefehl verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a29fa-128">You control whether one or all of the states will be used in the function call.</span></span>
-   <span data-ttu-id="a29fa-129">Das Timeout Intervall ist abgelaufen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-129">The time-out interval elapses.</span></span> <span data-ttu-id="a29fa-130">Das Timeout Intervall kann auf **unendlich** festgelegt werden, um anzugeben, dass für den warte Vorgang kein Timeout auftritt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-130">The time-out interval can be set to **INFINITE** to specify that the wait will not time out.</span></span>

<span data-ttu-id="a29fa-131">Mit der [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) -und der [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) -Funktion können Sie Eingabe Ereignis Objekte im Objekt Handle-Array angeben.</span><span class="sxs-lookup"><span data-stu-id="a29fa-131">The [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) and [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex) function allow you to specify input event objects in the object handle array.</span></span> <span data-ttu-id="a29fa-132">Dies geschieht, wenn Sie den Typ der Eingabe angeben, auf die in der Eingabe Warteschlange des Threads gewartet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a29fa-132">This is done when you specify the type of input to wait for in the thread's input queue.</span></span> <span data-ttu-id="a29fa-133">Ein Thread kann z. b. **MsgWaitForMultipleObjects** verwenden, um die Ausführung zu blockieren, bis der Zustand eines angegebenen Objekts auf "signalisiert" festgelegt wurde und die Maus Eingaben in der Eingabe Warteschlange des Threads verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="a29fa-133">For example, a thread could use **MsgWaitForMultipleObjects** to block its execution until the state of a specified object has been set to signaled and there is mouse input available in the thread's input queue.</span></span> <span data-ttu-id="a29fa-134">Der Thread kann die [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) -Funktion oder die [**peekmessagea**](/windows/win32/api/winuser/nf-winuser-peekmessagea) -oder [**peekmessagew**](/windows/win32/api/winuser/nf-winuser-peekmessagew) -Funktion verwenden, um die Eingabe abzurufen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-134">The thread can use the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessageA**](/windows/win32/api/winuser/nf-winuser-peekmessagea) or [**PeekMessageW**](/windows/win32/api/winuser/nf-winuser-peekmessagew) function to retrieve the input.</span></span>

<span data-ttu-id="a29fa-135">Wenn Sie darauf warten, dass der Status aller Objekte auf "signalisiert" festgelegt wird, ändern diese Funktionen mit mehreren Objekten die Zustände der angegebenen Objekte erst, wenn die Zustände aller Objekte als signalisiert festgelegt wurden.</span><span class="sxs-lookup"><span data-stu-id="a29fa-135">When waiting for the states of all objects to be set to signaled, these multiple-object functions do not modify the states of the specified objects until the states of all objects have been set signaled.</span></span> <span data-ttu-id="a29fa-136">Beispielsweise kann der Status eines Mutex-Objekts signalisiert werden, aber der aufrufende Thread erhält erst dann den Besitz, wenn die Zustände der anderen im Array angegebenen Objekte ebenfalls auf "signalisiert" festgelegt wurden.</span><span class="sxs-lookup"><span data-stu-id="a29fa-136">For example, the state of a mutex object can be signaled, but the calling thread does not get ownership until the states of the other objects specified in the array have also been set to signaled.</span></span> <span data-ttu-id="a29fa-137">In der Zwischenzeit kann ein anderer Thread in den Besitz des Mutex-Objekts gelangen und somit seinen Zustand auf "nicht signalisiert" festlegen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-137">In the meantime, some other thread may get ownership of the mutex object, thereby setting its state to nonsignaled.</span></span>

<span data-ttu-id="a29fa-138">Wenn Sie darauf warten, dass der Status eines einzelnen Objekts auf "signalisiert" festgelegt wird, überprüfen diese Funktionen mit mehreren Objekten die Handles im Array, damit Sie mit Index 0 beginnen, bis eines der Objekte signalisiert wird.</span><span class="sxs-lookup"><span data-stu-id="a29fa-138">When waiting for the state of a single object to be set to signaled, these multiple-object functions check the handles in the array in order starting with index 0, until one of the objects is signaled.</span></span> <span data-ttu-id="a29fa-139">Wenn mehrere Objekte signalisiert werden, gibt die Funktion den Index des ersten Handles im Array zurück, dessen Objekt signalisiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a29fa-139">If multiple objects become signaled, the function returns the index of the first handle in the array whose object was signaled.</span></span>

## <a name="alertable-wait-functions"></a><span data-ttu-id="a29fa-140">Wartende Wartefunktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-140">Alertable Wait Functions</span></span>

<span data-ttu-id="a29fa-141">Die Funktionen " [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex)", " [**signalobjectandwait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait)", " [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex)" und " [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) " unterscheiden sich von den anderen warte Funktionen darin, dass Sie optional einen Warn *baren warte Vorgang* ausführen können.</span><span class="sxs-lookup"><span data-stu-id="a29fa-141">The [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex), [**SignalObjectAndWait**](/windows/win32/api/synchapi/nf-synchapi-signalobjectandwait), [**WaitForMultipleObjectsEx**](/windows/win32/api/synchapi/nf-synchapi-waitformultipleobjectsex), and [**WaitForSingleObjectEx**](/windows/win32/api/synchapi/nf-synchapi-waitforsingleobjectex) functions differ from the other wait functions in that they can optionally perform an *alertable wait operation*.</span></span> <span data-ttu-id="a29fa-142">Bei einem Warteschlangen-Wait-Vorgang kann die Funktion zurückgeben, wenn die angegebenen Bedingungen erfüllt sind, aber Sie kann auch zurückgeben, wenn das System eine e/a-Abschluss Routine oder eine APC zur Ausführung durch den wartenden Thread in die Warteschlange eingereiht.</span><span class="sxs-lookup"><span data-stu-id="a29fa-142">In an alertable wait operation, the function can return when the specified conditions are met, but it can also return if the system queues an I/O completion routine or an APC for execution by the waiting thread.</span></span> <span data-ttu-id="a29fa-143">Weitere Informationen zu Warn baren warte Vorgängen und e/a-Abschluss Routinen finden Sie unter [Synchronisierung und überlappende Eingabe und Ausgabe](synchronization-and-overlapped-input-and-output.md).</span><span class="sxs-lookup"><span data-stu-id="a29fa-143">For more information about alertable wait operations and I/O completion routines, see [Synchronization and Overlapped Input and Output](synchronization-and-overlapped-input-and-output.md).</span></span> <span data-ttu-id="a29fa-144">Weitere Informationen zu APCs finden Sie unter [asynchrone Prozedur Aufrufe](asynchronous-procedure-calls.md).</span><span class="sxs-lookup"><span data-stu-id="a29fa-144">For more information about APCs, see [Asynchronous Procedure Calls](asynchronous-procedure-calls.md).</span></span>

## <a name="registered-wait-functions"></a><span data-ttu-id="a29fa-145">Registrierte Wait-Funktionen</span><span class="sxs-lookup"><span data-stu-id="a29fa-145">Registered Wait Functions</span></span>

<span data-ttu-id="a29fa-146">Die [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) -Funktion unterscheidet sich von den anderen Wait-Funktionen darin, dass der Warte Vorgang von einem Thread aus dem [Thread Pool](../procthread/thread-pooling.md)ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="a29fa-146">The [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) function differs from the other wait functions in that the wait operation is performed by a thread from the [thread pool](../procthread/thread-pooling.md).</span></span> <span data-ttu-id="a29fa-147">Wenn die angegebenen Bedingungen erfüllt sind, wird die Rückruffunktion von einem Arbeits Thread aus dem Thread Pool ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-147">When the specified conditions are met, the callback function is executed by a worker thread from the thread pool.</span></span>

<span data-ttu-id="a29fa-148">Standardmäßig ist ein registrierter warte Vorgang ein Vorgang mit mehreren warte Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-148">By default, a registered wait operation is a multiple-wait operation.</span></span> <span data-ttu-id="a29fa-149">Das System setzt den Timer jedes Mal zurück, wenn das Ereignis signalisiert wird (oder das Timeout Intervall abläuft), bis Sie die [**unregisterwaitex**](unregisterwaitex.md) -Funktion aufrufen, um den Vorgang abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-149">The system resets the timer every time the event is signaled (or the time-out interval elapses) until you call the [**UnregisterWaitEx**](unregisterwaitex.md) function to cancel the operation.</span></span> <span data-ttu-id="a29fa-150">Um anzugeben, dass ein warte Vorgang nur einmal ausgeführt werden soll, legen Sie den *dwFlags* -Parameter von [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) auf **WT \_ executeOnlyOnce** fest.</span><span class="sxs-lookup"><span data-stu-id="a29fa-150">To specify that a wait operation should be executed only once, set the *dwFlags* parameter of [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) to **WT\_EXECUTEONLYONCE**.</span></span>

<span data-ttu-id="a29fa-151">Wenn der Thread Funktionen aufruft, die APCs verwenden, legen Sie den *dwFlags* -Parameter von [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) auf **WT \_ executeinpersistentthread** fest.</span><span class="sxs-lookup"><span data-stu-id="a29fa-151">If the thread calls functions that use APCs, set the *dwFlags* parameter of [**RegisterWaitForSingleObject**](/windows/desktop/api/WinBase/nf-winbase-registerwaitforsingleobject) to **WT\_EXECUTEINPERSISTENTTHREAD**.</span></span>

## <a name="waiting-on-an-address"></a><span data-ttu-id="a29fa-152">Warten auf eine Adresse</span><span class="sxs-lookup"><span data-stu-id="a29fa-152">Waiting on an Address</span></span>

<span data-ttu-id="a29fa-153">Ein Thread kann die [**waitonaddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) -Funktion verwenden, um zu warten, bis der Wert einer Zieladresse von einem unerwünschten Wert in einen anderen Wert geändert wird.</span><span class="sxs-lookup"><span data-stu-id="a29fa-153">A thread can use the [**WaitOnAddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) function to wait for the value of a target address to change from some undesired value to any other value.</span></span> <span data-ttu-id="a29fa-154">Dadurch können Threads darauf warten, dass ein Wert geändert wird, ohne dass Sie die Synchronisierungs Probleme, die auftreten können, wenn der Thread einen unerwünschten Wert erfasst, beenden oder behandeln müssen. der Wert ändert sich jedoch, bevor der Thread warten kann.</span><span class="sxs-lookup"><span data-stu-id="a29fa-154">This enables threads to wait for a value to change without having to spin or handle the synchronization problems that can arise when the thread captures an undesired value but the value changes before the thread can wait.</span></span>

<span data-ttu-id="a29fa-155">[**Waitonaddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) gibt zurück, wenn Code, durch den der Zielwert geändert wird, durch Aufrufen von [**wakebyaddresssingle**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddresssingle) zum Aktivieren eines einzelnen wartenden Threads oder von [**wakebyaddressall**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddressall) zum Aktivieren aller wartenden Threads signalisiert wird.</span><span class="sxs-lookup"><span data-stu-id="a29fa-155">[**WaitOnAddress**](/windows/desktop/api/SynchAPI/nf-synchapi-waitonaddress) returns when code that modifies the target value signals the change by calling [**WakeByAddressSingle**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddresssingle) to wake a single waiting thread or [**WakeByAddressAll**](/windows/desktop/api/SynchAPI/nf-synchapi-wakebyaddressall) to wake all waiting threads.</span></span> <span data-ttu-id="a29fa-156">Wenn ein Timeout Intervall mit **waitonaddress** angegeben wird und kein Thread eine Wake-Funktion aufruft, gibt die Funktion zurück, wenn das Timeout Intervall abläuft.</span><span class="sxs-lookup"><span data-stu-id="a29fa-156">If a time-out interval is specified with **WaitOnAddress** and no thread calls a wake function, the function returns when the time-out interval elapses.</span></span> <span data-ttu-id="a29fa-157">Wenn kein Timeout Intervall angegeben ist, wartet der Thread unbegrenzt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-157">If no time-out interval is specified, the thread waits indefinitely.</span></span>

## <a name="wait-functions-and-time-out-intervals"></a><span data-ttu-id="a29fa-158">Warte Funktionen und Timeout Intervalle</span><span class="sxs-lookup"><span data-stu-id="a29fa-158">Wait Functions and Time-out Intervals</span></span>

<span data-ttu-id="a29fa-159">Die Genauigkeit des angegebenen Timeout Intervalls hängt von der Auflösung der Systemuhr ab.</span><span class="sxs-lookup"><span data-stu-id="a29fa-159">The accuracy of the specified time-out interval depends on the resolution of the system clock.</span></span> <span data-ttu-id="a29fa-160">Die Systemuhr wird mit konstanter Geschwindigkeit "Ticks".</span><span class="sxs-lookup"><span data-stu-id="a29fa-160">The system clock "ticks" at a constant rate.</span></span> <span data-ttu-id="a29fa-161">Wenn das Timeout Intervall kleiner als die Auflösung der Systemuhr ist, kann der Warte Vorgang in weniger als dem angegebenen Zeitraum einen Timeout haben.</span><span class="sxs-lookup"><span data-stu-id="a29fa-161">If the time-out interval is less than the resolution of the system clock, the wait may time out in less than the specified length of time.</span></span> <span data-ttu-id="a29fa-162">Wenn das Timeout Intervall größer als ein Tick, aber kleiner als 2 ist, kann der Warte Vorgang zwischen einem und zwei Ticks usw. liegen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-162">If the time-out interval is greater than one tick but less than two, the wait can be anywhere between one and two ticks, and so on.</span></span>

<span data-ttu-id="a29fa-163">Um die Genauigkeit des Timeout Intervalls für die Wait-Funktionen zu erhöhen, müssen Sie die **timegetdevcaps** -Funktion aufrufen, um die unterstützte minimale Zeit Geber Auflösung und die **TimeBeginPeriod** -Funktion zu bestimmen, um die Zeit Geber Auflösung auf Ihren Minimalwert festzulegen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-163">To increase the accuracy of the time-out interval for the wait functions, call the **timeGetDevCaps** function to determine the supported minimum timer resolution and the **timeBeginPeriod** function to set the timer resolution to its minimum.</span></span> <span data-ttu-id="a29fa-164">Gehen Sie beim Aufrufen von **TimeBeginPeriod** vorsichtig vor, da häufige Aufrufe die Systemuhr, den System Energieverbrauch und den Scheduler erheblich beeinflussen können.</span><span class="sxs-lookup"><span data-stu-id="a29fa-164">Use caution when calling **timeBeginPeriod**, as frequent calls can significantly affect the system clock, system power usage, and the scheduler.</span></span> <span data-ttu-id="a29fa-165">Wenn Sie **TimeBeginPeriod** aufrufen, nennen Sie es einmal in der Anwendung, und stellen Sie sicher, dass Sie die **timeendperiod** -Funktion am Ende der Anwendung aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-165">If you call **timeBeginPeriod**, call it one time early in the application and be sure to call the **timeEndPeriod** function at the very end of the application.</span></span>

## <a name="wait-functions-and-synchronization-objects"></a><span data-ttu-id="a29fa-166">Wait-Funktionen und Synchronisierungs Objekte</span><span class="sxs-lookup"><span data-stu-id="a29fa-166">Wait Functions and Synchronization Objects</span></span>

<span data-ttu-id="a29fa-167">Die Wait-Funktionen können die Zustände einiger Typen von [Synchronisierungs Objekten](synchronization-objects.md)ändern.</span><span class="sxs-lookup"><span data-stu-id="a29fa-167">The wait functions can modify the states of some types of [synchronization objects](synchronization-objects.md).</span></span> <span data-ttu-id="a29fa-168">Die Änderung erfolgt nur für Objekte oder Objekte, deren signalisierter Zustand bewirkt hat, dass die Funktion zurückgegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="a29fa-168">Modification occurs only for the object or objects whose signaled state caused the function to return.</span></span> <span data-ttu-id="a29fa-169">Wait-Funktionen können die Zustände von Synchronisierungs Objekten wie folgt ändern:</span><span class="sxs-lookup"><span data-stu-id="a29fa-169">Wait functions can modify the states of synchronization objects as follows:</span></span>

-   <span data-ttu-id="a29fa-170">Die Anzahl eines Semaphor-Objekts wird um eins verringert, und der Zustand des Semaphors wird auf "nicht signalisiert" festgelegt, wenn die Anzahl 0 (null) ist.</span><span class="sxs-lookup"><span data-stu-id="a29fa-170">The count of a semaphore object decreases by one, and the state of the semaphore is set to nonsignaled if its count is zero.</span></span>
-   <span data-ttu-id="a29fa-171">Die Zustände von Mutex, Auto-Reset-Ereignis und Änderungs Benachrichtigungsobjekten werden auf nicht signalisiert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-171">The states of mutex, auto-reset event, and change-notification objects are set to nonsignaled.</span></span>
-   <span data-ttu-id="a29fa-172">Der Status eines Synchronisierungs Zeit Gebers ist auf "nicht signalisiert" festgelegt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-172">The state of a synchronization timer is set to nonsignaled.</span></span>
-   <span data-ttu-id="a29fa-173">Die Zustände von manuellen Zurücksetzungs Ereignissen, Zeit Geber-, Prozess-, Thread-und Konsolen Eingabe Objekten sind von einer wait-Funktion nicht betroffen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-173">The states of manual-reset event, manual-reset timer, process, thread, and console input objects are not affected by a wait function.</span></span>

## <a name="wait-functions-and-creating-windows"></a><span data-ttu-id="a29fa-174">Wait-Funktionen und Erstellen von Fenstern</span><span class="sxs-lookup"><span data-stu-id="a29fa-174">Wait Functions and Creating Windows</span></span>

<span data-ttu-id="a29fa-175">Sie müssen vorsichtig sein, wenn Sie die Wait-Funktionen und den Code verwenden, der direkt oder indirekt Windows erstellt.</span><span class="sxs-lookup"><span data-stu-id="a29fa-175">You have to be careful when using the wait functions and code that directly or indirectly creates windows.</span></span> <span data-ttu-id="a29fa-176">Wenn ein Thread Windows erstellt, muss er Nachrichten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a29fa-176">If a thread creates any windows, it must process messages.</span></span> <span data-ttu-id="a29fa-177">Nachrichten Übertragungen werden an alle Fenster im System gesendet.</span><span class="sxs-lookup"><span data-stu-id="a29fa-177">Message broadcasts are sent to all windows in the system.</span></span> <span data-ttu-id="a29fa-178">Wenn Sie einen Thread haben, der eine wait-Funktion ohne Timeout Intervall verwendet, wird das System in einen Deadlock geraten.</span><span class="sxs-lookup"><span data-stu-id="a29fa-178">If you have a thread that uses a wait function with no time-out interval, the system will deadlock.</span></span> <span data-ttu-id="a29fa-179">Zwei Beispiele für Code, der indirekt Windows erstellt, sind DDE und die **CoInitialize** -Funktion.</span><span class="sxs-lookup"><span data-stu-id="a29fa-179">Two examples of code that indirectly creates windows are DDE and the **CoInitialize** function.</span></span> <span data-ttu-id="a29fa-180">Wenn Sie also über einen Thread verfügen, der Windows erstellt, verwenden Sie [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) oder [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex)anstelle der anderen Wait-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="a29fa-180">Therefore, if you have a thread that creates windows, use [**MsgWaitForMultipleObjects**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjects) or [**MsgWaitForMultipleObjectsEx**](/windows/desktop/api/Winuser/nf-winuser-msgwaitformultipleobjectsex), rather than the other wait functions.</span></span>

 

 
