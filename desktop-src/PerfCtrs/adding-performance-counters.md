---
description: Leistungsindikatoren, die für Ihre Anwendung spezifisch sind, können Sie beim entwickeln und Debuggen der Anwendung unterstützen.
ms.assetid: 016386f6-4675-409e-8446-599e4ff96109
title: Hinzufügen von Leistungsindikatoren
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8660af9406de4dedec3ecbd76169a23b342aa7d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106358900"
---
# <a name="adding-performance-counters"></a><span data-ttu-id="da08f-103">Hinzufügen von Leistungsindikatoren</span><span class="sxs-lookup"><span data-stu-id="da08f-103">Adding Performance Counters</span></span>

> [!IMPORTANT]
> <span data-ttu-id="da08f-104">Aufgrund erheblicher Leistungs-und Zuverlässigkeits Beschränkungen ist die Methode zum Bereitstellen von Leistungsdaten, die in diesem Thema beschrieben werden, möglicherweise in Zukunft geändert oder nicht verfügbar.</span><span class="sxs-lookup"><span data-stu-id="da08f-104">Due to significant performance and reliability limitations, the method for providing performance counter data that this topic describes may be altered or unavailable in the future.</span></span> <span data-ttu-id="da08f-105">Stattdessen empfiehlt Microsoft die Verwendung der Methode, die unter [Bereitstellen von Indikator Daten mithilfe von Version 2,0](providing-counter-data-using-version-2-0.md) zum Erstellen neuer Leistungsindikatoren beschrieben wird. Außerdem empfiehlt es sich, vorhandene Leistungsindikatoren zu migrieren, um auch diese Methode zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="da08f-105">Instead, Microsoft recommends that you use the method described in [Providing Counter Data Using Version 2.0](providing-counter-data-using-version-2-0.md) for creating new performance counters, and that you migrate existing performance counters to use that method as well.</span></span>

<span data-ttu-id="da08f-106">Leistungsindikatoren, die für Ihre Anwendung spezifisch sind, können Sie beim entwickeln und Debuggen der Anwendung unterstützen.</span><span class="sxs-lookup"><span data-stu-id="da08f-106">Performance counters specific to your application can help you tune performance while you develop and debug the application.</span></span> <span data-ttu-id="da08f-107">Nachdem die Anwendung fertiggestellt und auf Zielsystemen installiert wurde, können die Leistungsindikatoren Systemadministratoren helfen, konfigurierbare Einstellungen für Ihre Anwendung anzupassen.</span><span class="sxs-lookup"><span data-stu-id="da08f-107">After your application is complete and installed on target systems, the counters can help system administrators adjust configurable settings for your application.</span></span>

## <a name="adding-a-performance-object-and-its-counters"></a><span data-ttu-id="da08f-108">Hinzufügen eines Leistungsobjekts und seiner Leistungsindikatoren</span><span class="sxs-lookup"><span data-stu-id="da08f-108">Adding a performance object and its counters</span></span>

1. <span data-ttu-id="da08f-109">Entwerfen Sie die Objekttypen und Leistungsindikatoren für die Anwendung.</span><span class="sxs-lookup"><span data-stu-id="da08f-109">Design the object types and counters for the application.</span></span> <span data-ttu-id="da08f-110">Weitere Informationen finden Sie unter [Object and Counter Design](object-and-counter-design.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-110">For details, see [Object and Counter Design](object-and-counter-design.md).</span></span>
2. <span data-ttu-id="da08f-111">Erstellen Sie eine Initialisierungsdatei (. ini), die die Namen und Beschreibungen der Leistungs Objekte und Leistungsindikatoren enthält, die Sie bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="da08f-111">Create an initialization (.ini) file containing the names and descriptions of the performance objects and counters that you provide.</span></span> <span data-ttu-id="da08f-112">Weitere Informationen finden [Sie unter Hinzufügen von Namen und Beschreibungen zur Registrierung in der Registrierung](adding-counter-names-and-descriptions-to-the-registry.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-112">For details, see [Adding Counter Names and Descriptions to the Registry](adding-counter-names-and-descriptions-to-the-registry.md).</span></span>
3. <span data-ttu-id="da08f-113">Erstellen Sie eine Header Datei (. h), die die relativen Offsets enthält, bei denen die Zähler Objekte und-Indikatoren in der Registrierung installiert werden.</span><span class="sxs-lookup"><span data-stu-id="da08f-113">Create a header (.h) file containing the relative offsets at which the counter objects and counters will be installed in the registry.</span></span> <span data-ttu-id="da08f-114">Weitere Informationen finden [Sie unter Hinzufügen von Namen und Beschreibungen zur Registrierung in der Registrierung](adding-counter-names-and-descriptions-to-the-registry.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-114">For details, see [Adding Counter Names and Descriptions to the Registry](adding-counter-names-and-descriptions-to-the-registry.md).</span></span>
4. <span data-ttu-id="da08f-115">Richten Sie die erforderlichen Einträge für die Leistungsüberwachung in der Registrierung ein.</span><span class="sxs-lookup"><span data-stu-id="da08f-115">Set up the necessary performance monitoring entries in the registry.</span></span> <span data-ttu-id="da08f-116">Dies umfasst die folgenden Schritte:</span><span class="sxs-lookup"><span data-stu-id="da08f-116">This includes the following steps.</span></span>
    1. <span data-ttu-id="da08f-117">Erstellen Sie im **Dienst** Schlüssel für die Anwendung einen Registrierungsschlüssel.</span><span class="sxs-lookup"><span data-stu-id="da08f-117">Create a registry key in the **Services** key for the application.</span></span> <span data-ttu-id="da08f-118">Wenn Sie nicht über einen solchen Knoten verfügen, erstellen Sie ihn unter dem folgenden Registrierungsschlüssel: `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services` .</span><span class="sxs-lookup"><span data-stu-id="da08f-118">If you do not have such a node, create it under the following registry key: `HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services`.</span></span> <span data-ttu-id="da08f-119">Weitere Informationen finden Sie unter [Erstellen des Leistungs Schlüssels der Anwendung](creating-the-applications-performance-key.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-119">For details, see [Creating the Application's Performance Key](creating-the-applications-performance-key.md).</span></span>
    2. <span data-ttu-id="da08f-120">Verwenden Sie das Hilfsprogramm **Lodctr** mit den Dateien. ini und. h, um die Informationen in der Registrierung zu installieren.</span><span class="sxs-lookup"><span data-stu-id="da08f-120">Use the **lodctr** utility with the .ini and .h files to install the information in the registry.</span></span> <span data-ttu-id="da08f-121">Dieses Hilfsprogramm ist nur erfolgreich, wenn ein Leistungs Schlüssel im **Dienst** Schlüssel für die Anwendung vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="da08f-121">This utility succeeds only if a performance key exists in the **Services** key for the application.</span></span> <span data-ttu-id="da08f-122">Weitere Informationen finden [Sie unter Hinzufügen von Namen und Beschreibungen zur Registrierung in der Registrierung](adding-counter-names-and-descriptions-to-the-registry.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-122">For details, see [Adding Counter Names and Descriptions to the Registry](adding-counter-names-and-descriptions-to-the-registry.md).</span></span>
5. <span data-ttu-id="da08f-123">Erstellen Sie eine Leistungs-DLL, die einen Satz exportierter Funktionen enthält, die die abgefragten Leistungsdaten für den Consumer bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="da08f-123">Create a performance DLL containing a set of exported functions that provide the queried counter data to the consumer.</span></span> <span data-ttu-id="da08f-124">Weitere Informationen finden Sie unter [Erstellen einer Leistungs Erweiterungs-DLL](creating-a-performance-extension-dll.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-124">For details, see [Creating a Performance Extension DLL](creating-a-performance-extension-dll.md).</span></span>
6. <span data-ttu-id="da08f-125">Ändern Sie die Setup Datei der Anwendung, um das Hinzufügen von Informationen zur Registrierung zu automatisieren (wie in Schritt 4 beschrieben), und kopieren Sie die Leistungs-DLL beim Setup in das Verzeichnis Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="da08f-125">Modify the application's setup file to automate adding information to the registry (as described in step 4) and copy your performance DLL to your application's directory at setup.</span></span>

<span data-ttu-id="da08f-126">Weitere Informationen zu weiteren Registrierungs Einträgen finden Sie unter [Erstellen anderer Registrierungseinträge](creating-other-registry-entries.md).</span><span class="sxs-lookup"><span data-stu-id="da08f-126">For information about additional registry entries, see [Creating Other Registry Entries](creating-other-registry-entries.md).</span></span>
