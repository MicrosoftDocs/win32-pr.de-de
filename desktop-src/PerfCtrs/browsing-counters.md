---
description: Um ein Dialogfeld anzuzeigen, in dem die auf dem Computer definierten Leistungs Objekte und-Indikatoren aufgelistet sind, können Sie die pdhbrowsecounters-Funktion aufrufen.
ms.assetid: f2fac1d3-f643-43c9-a445-112015baecdd
title: Leistungsindikatoren durchsuchen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd4bae5ce5ae7a21ae247cf66515f7386b8d0265
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106357759"
---
# <a name="browsing-counters"></a><span data-ttu-id="6bbf8-103">Leistungsindikatoren durchsuchen</span><span class="sxs-lookup"><span data-stu-id="6bbf8-103">Browsing Counters</span></span>

<span data-ttu-id="6bbf8-104">Um ein Dialogfeld anzuzeigen, in dem die auf dem Computer definierten Leistungs Objekte und-Indikatoren aufgelistet sind, können Sie die [**pdhbrowsecounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-104">To display a dialog box that lists the performance objects and counters defined on the computer, call the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function.</span></span> <span data-ttu-id="6bbf8-105">Das Dialogfeld ermöglicht dem Benutzer das Durchsuchen und Auswählen von Leistungsindikatoren.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-105">The dialog box lets the user browse and select performance counters.</span></span> <span data-ttu-id="6bbf8-106">Sie verwenden die Struktur [**PDH- \_ Durchsuchen \_ DLG \_ config**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) , um die Konfiguration des Dialog Felds anzugeben.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-106">You use the [**PDH\_BROWSE\_DLG\_CONFIG**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) structure to specify the configuration of the dialog box.</span></span> <span data-ttu-id="6bbf8-107">Beispielsweise können Sie das Dialogfeld so konfigurieren, dass eine Auswahl oder eine Mehrfachauswahl zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-107">For example, you can configure the dialog to return one selection or multiple selections.</span></span>

<span data-ttu-id="6bbf8-108">Bei der Eingabe enthält das Element **szreturnpathbuffer** das Standard Leistungs Objekt und den Leistungswert, der im Dialogfeld ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-108">On input, the **szReturnPathBuffer** member contains the default performance object and counter that is selected in the dialog box.</span></span> <span data-ttu-id="6bbf8-109">Bei der Ausgabe enthält der Puffer das Leistungs Objekt und den Leistungs Bewert, den der Benutzer ausgewählt hat.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-109">On output, the buffer contains the performance object and counter that the user selected.</span></span> <span data-ttu-id="6bbf8-110">Sie können auch das **pCallback** -Member verwenden, um eine Rückruffunktion anzugeben, mit der die vom Dialogfeld zurückgegebenen Namen von Zählern verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-110">You can also use the **pCallBack** member to specify a callback function to process the counter names returned by the dialog box.</span></span>

<span data-ttu-id="6bbf8-111">Beachten Sie, dass dieses Dialogfeld das PDH-Dialogfeld zurückgeben kann \_ \_ , das abgebrochen wird, wenn **bsinglecounterperdialog** **false** ist und der Benutzer auf die Schaltfläche Schließen klickt, damit die Fehlerbehandlung dies berücksichtigen muss.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-111">Note that this dialog box can return PDH\_DIALOG\_CANCELLED if **bSingleCounterPerDialog** is **FALSE** and the user clicks the Close button, so your error handling would have to account for this.</span></span>

<span data-ttu-id="6bbf8-112">Ein Beispiel, in dem die [**pdhbrowscounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) -Funktion verwendet wird, finden Sie unter durch [Suchen von Leistungsindikatoren](browsing-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="6bbf8-112">For an example that uses the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function, see [Browsing Performance Counters](browsing-performance-counters.md).</span></span>

<span data-ttu-id="6bbf8-113">Zum Abrufen einer Liste von Leistungs Objekten auf dem Computer können Sie auch die [**pdhenumubjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-113">To retrieve a list of performance objects on the computer, you can also call the [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) function.</span></span> <span data-ttu-id="6bbf8-114">Rufen Sie zum Abrufen einer Liste von Leistungsindikatoren und Instanzen für ein Leistungs Objekt die [**pdhenumubjectitems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) -Funktion auf.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-114">To retrieve a list of counters and instances for a performance object, call the [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) function.</span></span> <span data-ttu-id="6bbf8-115">Sie können diese Funktionen auch verwenden, um die Leistungs Objekte und-Indikatoren zu identifizieren, die in einer Protokolldatei enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-115">You can also use these functions to identify the performance objects and counters contained in a log file.</span></span> <span data-ttu-id="6bbf8-116">Bei wiederholten Aufrufen von **pdhenumubjectitems** wird die gleiche Liste von Leistungsindikatoren und Instanzen zurückgegeben, bis Sie **pdhenumubjects** aufrufen, um die Liste der Leistungs Objekte zuerst zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-116">Repeated calls to **PdhEnumObjectItems** will return the same list of counters and instances until you call **PdhEnumObjects** to refresh the list of performance objects first.</span></span> <span data-ttu-id="6bbf8-117">Ein Beispiel für das Auflisten von Objekten und Leistungsindikatoren finden Sie unter Auflisten von [Prozess Objekten](enumerating-process-objects.md).</span><span class="sxs-lookup"><span data-stu-id="6bbf8-117">For an example that enumerates objects and counters, see [Enumerating Process Objects](enumerating-process-objects.md).</span></span>

## <a name="selecting-the-data-source"></a><span data-ttu-id="6bbf8-118">Auswählen der Datenquelle</span><span class="sxs-lookup"><span data-stu-id="6bbf8-118">Selecting the data source</span></span>

<span data-ttu-id="6bbf8-119">Mit [**pdhselectdatasource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) können Sie zusammen mit [**pdhbrowscounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) den Benutzer auffordern, auszuwählen, ob sich die Datenquelle in Echtzeit oder aus einer Protokolldatei befindet, und ob es sich um eine Protokolldatei handelt.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-119">You can use [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) in conjunction with [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) to prompt the user to select whether the data source is in real-time or from a log file, and, if it is a log file, its name.</span></span> <span data-ttu-id="6bbf8-120">Wenn Sie nicht möchten, dass das Dialogfeld Datenquelle angezeigt wird, können Sie **pdhselectdatasource** aufrufen, um nur den Katalog des Datei Browsers anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-120">If you do not want the data source dialog to be displayed, you can call **PdhSelectDataSource** to display only the file browser catalog.</span></span> <span data-ttu-id="6bbf8-121">Geben Sie hierzu \_ den Datei Browser PDH-Flags \_ \_ \_ nur als zweiten Parameter des Aufrufens von **pdhselectdatasource** an.</span><span class="sxs-lookup"><span data-stu-id="6bbf8-121">To do this, specify PDH\_FLAGS\_FILE\_BROWSER\_ONLY as the second parameter of the call to **PdhSelectDataSource**.</span></span>

 

 



