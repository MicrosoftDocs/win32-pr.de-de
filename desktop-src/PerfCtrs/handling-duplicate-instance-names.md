---
description: Obwohl es für Anbieter empfehlenswert ist, eindeutige Instanznamen zu verwenden, werden nicht alle Anbieter unterstützt.
ms.assetid: 3c8fcb8d-2ea4-4b24-b649-7bd375c1133d
title: Verarbeiten doppelter Instanznamen
ms.topic: article
ms.date: 08/17/2020
ms.openlocfilehash: 220e5d7d0181a79c1d1415486cc946d484e11952
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106351681"
---
# <a name="handling-duplicate-instance-names"></a><span data-ttu-id="25f48-103">Verarbeiten doppelter Instanznamen</span><span class="sxs-lookup"><span data-stu-id="25f48-103">Handling Duplicate Instance Names</span></span>

<span data-ttu-id="25f48-104">Obwohl es für Anbieter dringend empfehlenswert ist, eindeutige Instanznamen zu verwenden, werden nicht alle Anbieter unterstützt.</span><span class="sxs-lookup"><span data-stu-id="25f48-104">Although providers are strongly encouraged to use unique instance names, not all providers do.</span></span> <span data-ttu-id="25f48-105">Die Konvention zum Anzeigen doppelter Instanznamen besteht darin, ein `#` Zeichen und eine Seriennummer an den Instanznamen anzufügen, mit Ausnahme des ersten Vorkommens des Namens.</span><span class="sxs-lookup"><span data-stu-id="25f48-105">The convention for displaying duplicate instance names is to append a `#` character and a serial number to the instance name, except for the first occurrence of the name.</span></span> <span data-ttu-id="25f48-106">Wenn z. b. drei Instanzen von `svchost` in einem Beispiel vorhanden sind, werden die drei Namen als `svchost` , `svchost#1` und angezeigt `svchost#2` .</span><span class="sxs-lookup"><span data-stu-id="25f48-106">For example, if there are three instances of `svchost` in a sample, the three names are displayed as `svchost`, `svchost#1`, and `svchost#2`.</span></span>

<span data-ttu-id="25f48-107">Leider löst diese Konvention das Problem nicht vollständig aus.</span><span class="sxs-lookup"><span data-stu-id="25f48-107">Unfortunately, this convention does not completely resolve the issue.</span></span> <span data-ttu-id="25f48-108">Seriennummern werden basierend auf der Reihenfolge zugewiesen, in der ein bestimmter Instanzname in einem Beispiel angezeigt wird, und diese Reihenfolge kann nicht von Sample zu Sample abweichen.</span><span class="sxs-lookup"><span data-stu-id="25f48-108">Serial numbers are assigned based on the order in which a particular instance name appears in a sample, and this order may be inconsistent from sample to sample.</span></span> <span data-ttu-id="25f48-109">Beispielsweise könnte Sample A `svchost` (PID 100), `svchost#1` (PID 200) und `svchost#2` (PID 300) angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="25f48-109">For example, sample A might see `svchost` (PID 100), `svchost#1` (PID 200), and `svchost#2` (PID 300).</span></span> <span data-ttu-id="25f48-110">Wenn der svchost mit PID 100 heruntergefahren wird, wird im nächsten Beispiel `svchost` (PID 200) und `svchost#1` (PID 300) angezeigt.</span><span class="sxs-lookup"><span data-stu-id="25f48-110">Then if the svchost with PID 100 shuts down, the next sample would see `svchost` (PID 200) and `svchost#1` (PID 300).</span></span> <span data-ttu-id="25f48-111">Die grundlegende übereinstimmende Logik würde versuchen, die Beispiel `svchost#1` Statistik Statistik (von PID 200) mit der `svchost#1` Statistik von Beispiel b (von PID 300) abzugleichen, was zu ungültigen Ergebnissen für Beispiel b führt. Fehler treten auf, wenn eine neue, nicht eindeutige Instanz in einem Beispiel angezeigt wird oder wenn eine nicht eindeutige Instanz in einem Beispiel nicht mehr angezeigt wird</span><span class="sxs-lookup"><span data-stu-id="25f48-111">Basic matching logic would try to match sample A's `svchost#1` statistics (from PID 200) against sample B's `svchost#1` statistics (from PID 300), resulting in invalid results for sample B. Errors occur when a new non-unique instance shows up in a sample or when a non-unique instance stops showing up in a sample (unless the added/removed instance was the last one).</span></span>

## <a name="process-counterset"></a><span data-ttu-id="25f48-112">Prozess CounterSet</span><span class="sxs-lookup"><span data-stu-id="25f48-112">Process counterset</span></span>

<span data-ttu-id="25f48-113">Dieses Problem ist besonders problematisch für das `Process` CounterSet, weil es nur den exe-Namen des Prozesses als Instanznamen verwendet, auch wenn der Name der exe-Datei nicht eindeutig ist.</span><span class="sxs-lookup"><span data-stu-id="25f48-113">This issue is especially problematic for the `Process` counterset because it uses only the process's EXE name as the instance name even though the EXE name is not unique.</span></span> <span data-ttu-id="25f48-114">Das Standardverhalten des `Process` countersets unter Windows kann aufgrund von Kompatibilitätsproblemen nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="25f48-114">The default behavior of the `Process` counterset on Windows cannot be changed due to compatibility issues.</span></span>

<span data-ttu-id="25f48-115">Sie können das Verhalten der `Process` -und- `Thread` Gegensätze ändern, um eindeutige Instanznamen zu verwenden, indem Sie die- `ProcessNameFormat` oder- `ThreadNameFormat` Registrierungs Werte unter dem `HKLM\System\CurrentControlSet\Services\Perfproc\Performance` Registrierungsschlüssel festlegen.</span><span class="sxs-lookup"><span data-stu-id="25f48-115">You can alter the behavior of the `Process` and `Thread` countersets to use unique instance names by setting the `ProcessNameFormat` or `ThreadNameFormat` registry values under the `HKLM\System\CurrentControlSet\Services\Perfproc\Performance` registry key.</span></span>

> [!CAUTION]
> <span data-ttu-id="25f48-116">Das Aktivieren eindeutiger Instanznamen für den `Process` CounterSet kann dazu führen, dass einige Programme nicht ordnungsgemäß Verhalten, da viele Programme das nicht eindeutige Benennungs Muster erwarten.</span><span class="sxs-lookup"><span data-stu-id="25f48-116">Enabling unique instance names for the `Process` counterset may cause some programs to behave incorrectly, since many programs expect the non-unique naming pattern.</span></span> <span data-ttu-id="25f48-117">Beispielsweise ist ein Programm, das nach einer Instanz mit einem bestimmten bekannten exe-Namen sucht, nicht mehr in der Lage, diese Instanz nach dem Aktivieren eindeutiger Instanznamen zu finden.</span><span class="sxs-lookup"><span data-stu-id="25f48-117">For example, a program that is looking for an instance with a specific well-known EXE name will no longer be able to find that instance after enabling unique instance names.</span></span>

<span data-ttu-id="25f48-118">Der Registrierungstyp für diese Werte ist `REG_DWORD` .</span><span class="sxs-lookup"><span data-stu-id="25f48-118">The registry type for these values is `REG_DWORD`.</span></span> <span data-ttu-id="25f48-119">Wenn Sie den Wert auf festlegen, wird `2` die Prozess-ID (PID) an den prozessinstanznamen und den Thread Bezeichner (TID) an den Thread Instanznamen angehängt.</span><span class="sxs-lookup"><span data-stu-id="25f48-119">Setting the value to `2` appends the process identifier (PID) to the process instance name and the thread identifier (TID) to the thread instance name.</span></span> <span data-ttu-id="25f48-120">Um diese Funktion zu deaktivieren, legen Sie den Wert auf 1 fest, oder löschen Sie den Wert.</span><span class="sxs-lookup"><span data-stu-id="25f48-120">To disable this feature, set the value to 1 or delete the value.</span></span>
