---
description: Die meisten Leistungsindikatoren erfordern zwei Beispiel Werte, um einen anzeigbaren Wert zu berechnen.
ms.assetid: 75e45baf-51c5-400c-a31f-92bdab4ee492
title: Anzeigen von Leistungsdaten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 22d913474b794585dd557fae2b1fc232336b637d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106358898"
---
# <a name="displaying-performance-data"></a><span data-ttu-id="62692-103">Anzeigen von Leistungsdaten</span><span class="sxs-lookup"><span data-stu-id="62692-103">Displaying Performance Data</span></span>

<span data-ttu-id="62692-104">Die meisten Leistungsindikatoren erfordern zwei Beispiel Werte, um einen anzeigbaren Wert zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="62692-104">Most counters require two sample values in order to compute a displayable value.</span></span> <span data-ttu-id="62692-105">Die Formel für jeden gegen Wert bestimmt, ob der-Wert zwei Beispiele erfordert.</span><span class="sxs-lookup"><span data-stu-id="62692-105">The formula for each counter determines if the counter requires two samples.</span></span> <span data-ttu-id="62692-106">Eine Liste der Indikatoren und deren Formeln finden Sie im Abschnitt "Indikator Typen" im [Windows Server 2003 Deployment Kit](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="62692-106">For a list of counters and their formulas, see the Counter Types section of the [Windows Server 2003 Deployment Kit](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span></span>

<span data-ttu-id="62692-107">[Sammeln von Leistungsdaten](collecting-performance-data.md) zeigt, wie Beispiel Daten abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="62692-107">[Collecting Performance Data](collecting-performance-data.md) shows how to retrieve sample data.</span></span> <span data-ttu-id="62692-108">Sobald Sie über die Beispiele verfügen, rufen Sie in der Regel [**pdhgetformattedcountervalue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue) auf, um einen anzeigbaren Wert zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="62692-108">Once you have the samples, you typically call [**PdhGetFormattedCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue) to calculate a displayable value.</span></span>

<span data-ttu-id="62692-109">Wenn Sie den Wert des Indikators nach oben oder unten skalieren müssen, um den Wert anzuzeigen, rufen Sie die [**pdhsetcounterscalefactor**](/windows/desktop/api/Pdh/nf-pdh-pdhsetcounterscalefactor) -Funktion vor dem Aufruf von " [**pdhgetformattedcountervalue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue)" auf.</span><span class="sxs-lookup"><span data-stu-id="62692-109">If you need to scale the counter value up or down in order to display the value, call the [**PdhSetCounterScaleFactor**](/windows/desktop/api/Pdh/nf-pdh-pdhsetcounterscalefactor) function before calling [**PdhGetFormattedCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcountervalue).</span></span> <span data-ttu-id="62692-110">Leistungswerte können mit einer Leistungsstärke von 10 von einem Faktor von-7 bis 7 skaliert werden.</span><span class="sxs-lookup"><span data-stu-id="62692-110">Counter values can be scaled by a power of ten from a factor of -7 to 7.</span></span>

<span data-ttu-id="62692-111">Wenn der Indikator Pfad ein Platzhalter Zeichen für den Instanznamen enthält, rufen Sie [**pdhgetformattedcounterarray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcounterarraya) auf, um ein Array von formatierten Indikator Werten für jede erfasste Instanz abzurufen.</span><span class="sxs-lookup"><span data-stu-id="62692-111">If the counter path contains a wildcard character for the instance name, call [**PdhGetFormattedCounterArray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetformattedcounterarraya) to retrieve an array of formatted counter values for each instance collected.</span></span>

<span data-ttu-id="62692-112">Sie können auch die Funktionen [**pdhcalculatecounterfromrawvalue**](/windows/desktop/api/Pdh/nf-pdh-pdhcalculatecounterfromrawvalue) und [**pdhformatfromrawvalue**](/windows/desktop/api/Pdh/nf-pdh-pdhformatfromrawvalue) verwenden, um einen anzeigbaren Wert zu berechnen.</span><span class="sxs-lookup"><span data-stu-id="62692-112">You can also use the [**PdhCalculateCounterFromRawValue**](/windows/desktop/api/Pdh/nf-pdh-pdhcalculatecounterfromrawvalue) and [**PdhFormatFromRawValue**](/windows/desktop/api/Pdh/nf-pdh-pdhformatfromrawvalue) functions to compute a displayable value.</span></span> <span data-ttu-id="62692-113">Um diese Funktionen zu verwenden, müssen Sie das gesammelte Beispiel nach jedem [**pdhcollectquerydata**](/windows/desktop/api/Pdh/nf-pdh-pdhcollectquerydata) -Befehl Abrufen und das Beispiel selbst speichern.</span><span class="sxs-lookup"><span data-stu-id="62692-113">To use these functions, you must retrieve the collected sample after each [**PdhCollectQueryData**](/windows/desktop/api/Pdh/nf-pdh-pdhcollectquerydata) call and store the sample yourself.</span></span> <span data-ttu-id="62692-114">Um das Beispiel abzurufen, rufen Sie die [**pdhgetrawcountervalue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcountervalue) -oder [**pdhgetrawcounterarray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcounterarraya) -Funktion auf.</span><span class="sxs-lookup"><span data-stu-id="62692-114">To retrieve the sample, call the [**PdhGetRawCounterValue**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcountervalue) or [**PdhGetRawCounterArray**](/windows/desktop/api/Pdh/nf-pdh-pdhgetrawcounterarraya) function.</span></span> <span data-ttu-id="62692-115">Rufen Sie für zeitbasierte Indikatorwerte [**pdhgetcountertimebase**](/windows/desktop/api/Pdh/nf-pdh-pdhgetcountertimebase) vor **pdhformatfromrawvalue** auf, um die Zeitbasis des Indikators abzurufen.</span><span class="sxs-lookup"><span data-stu-id="62692-115">For time-based counter values, call [**PdhGetCounterTimeBase**](/windows/desktop/api/Pdh/nf-pdh-pdhgetcountertimebase) before **PdhFormatFromRawValue** to retrieve the counter's time base.</span></span>

<span data-ttu-id="62692-116">Wenn Sie Berechnungen mithilfe der Rohdaten durchführen, überprüfen Sie vor der Verwendung des Beispiels immer das **cstatus** -Element der [**PDH- \_ rohleistungs- \_ Counter**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="62692-116">If you perform calculations using the raw data, always check the **CStatus** member of the [**PDH\_RAW\_COUNTER**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) structure before using the sample.</span></span> <span data-ttu-id="62692-117">Das Beispiel ist ungültig, wenn der Wert von **cstatus** nicht PDH \_ cstatus \_ neue \_ Daten oder PDH \_ cstatus \_ gültige Daten ist \_ .</span><span class="sxs-lookup"><span data-stu-id="62692-117">The sample is not valid if the value of **CStatus** is not PDH\_CSTATUS\_NEW\_DATA or PDH\_CSTATUS\_VALID\_DATA.</span></span>

## <a name="displaying-statistics-for-a-counter"></a><span data-ttu-id="62692-118">Anzeigen von Statistiken für einen Counter</span><span class="sxs-lookup"><span data-stu-id="62692-118">Displaying statistics for a counter</span></span>

<span data-ttu-id="62692-119">Wenn Sie die Mindest-, höchst-und Mittelwerte eines Indikators berechnen möchten, können Sie die [**pdhcomputecounterstatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) -Funktion abrufen.</span><span class="sxs-lookup"><span data-stu-id="62692-119">If you want to compute the minimum, maximum, and mean values of a counter, call the [**PdhComputeCounterStatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) function.</span></span> <span data-ttu-id="62692-120">Wenn Sie Beispiele sammeln, speichern Sie die [**PDH- \_ rohindikator \_**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) Strukturen in einem Array, das Sie an **pdhcomputecounterstatistics** übergeben.</span><span class="sxs-lookup"><span data-stu-id="62692-120">When you collect samples, store the [**PDH\_RAW\_COUNTER**](/windows/desktop/api/Pdh/ns-pdh-pdh_raw_counter) structures in an array that you pass to **PdhComputeCounterStatistics**.</span></span> <span data-ttu-id="62692-121">Die-Funktion gibt die statistischen Werte in einer [**PDH- \_ Statistik**](/windows/desktop/api/Pdh/ns-pdh-pdh_statistics) Struktur zurück.</span><span class="sxs-lookup"><span data-stu-id="62692-121">The function returns the statistical values in a [**PDH\_STATISTICS**](/windows/desktop/api/Pdh/ns-pdh-pdh_statistics) structure.</span></span>

<span data-ttu-id="62692-122">Sie können diese Funktion auch verwenden, um eine Protokolldatei zu komprimieren.</span><span class="sxs-lookup"><span data-stu-id="62692-122">You can also use this function to compress a log file.</span></span> <span data-ttu-id="62692-123">Lesen Sie z. b. zehn Datensätze aus einer Protokolldatei, und nennen Sie [**pdhcomputecounterstatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) , um den Mittelwert zu berechnen und dann den Mittelwert in eine Ausgabeprotokoll Datei zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="62692-123">For example, read ten records from a log file, call [**PdhComputeCounterStatistics**](/windows/desktop/api/Pdh/nf-pdh-pdhcomputecounterstatistics) to compute the mean value and then write the mean value to an output log file.</span></span>

 

 
