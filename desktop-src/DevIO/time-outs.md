---
description: Ein Handle für eine Kommunikations Ressource verfügt über einen zugeordneten Satz von Timeout Parametern, die sich auf das Verhalten von Lese-und Schreibvorgängen auswirken.
ms.assetid: 271d4c68-1f6d-4483-a9a1-703220de761f
title: Timeouts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6db31fafc0f4d98832f1fb7fa5d22b32cba33d73
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103748336"
---
# <a name="time-outs"></a><span data-ttu-id="d5637-103">Timeouts</span><span class="sxs-lookup"><span data-stu-id="d5637-103">Time-Outs</span></span>

<span data-ttu-id="d5637-104">Ein Handle für eine Kommunikations Ressource verfügt über einen zugeordneten Satz von Timeout Parametern, die sich auf das Verhalten von Lese-und Schreibvorgängen auswirken.</span><span class="sxs-lookup"><span data-stu-id="d5637-104">A handle to a communications resource has an associated set of time-out parameters that affect the behavior of read and write operations.</span></span> <span data-ttu-id="d5637-105">Timeouts können dazu führen, dass [**ein Vorgang zum**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) lesen, schreiben [**, schreiben**](/windows/desktop/api/fileapi/nf-fileapi-readfileex)oder schreiben [**von Dateien abgeschlossen**](/windows/desktop/api/fileapi/nf-fileapi-readfile) [**wird, wenn**](/windows/desktop/api/fileapi/nf-fileapi-writefile)ein Timeout Intervall abläuft, auch wenn die angegebene Anzahl von Zeichen nicht gelesen oder geschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="d5637-105">Time-outs can cause a [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile), [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex), [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile), or [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) operation to conclude when a time-out interval elapses, even though the specified number of characters have not been read or written.</span></span> <span data-ttu-id="d5637-106">Er wird nicht als Fehler behandelt, wenn während eines Lese-oder Schreibvorgangs ein Timeout auftritt (d. h. der Rückgabewert der Lese-oder Schreibfunktion gibt einen Erfolg an).</span><span class="sxs-lookup"><span data-stu-id="d5637-106">It is not treated as an error when a time-out occurs during a read or write operation (that is, the read or write function's return value indicates success).</span></span> <span data-ttu-id="d5637-107">Die Anzahl der tatsächlich gelesenen oder geschriebenen Bytes wird von "read **File** " oder " **Write File** " (bzw. durch die Funktion " [**gedeverlappedresult**](/windows/desktop/api/ioapiset/nf-ioapiset-getoverlappedresult) " oder " [**fleiocompletionroutine**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) ") gemeldet, wenn die e/a-Vorgänge als überlappende Operation ausgeführt wurden.</span><span class="sxs-lookup"><span data-stu-id="d5637-107">The count of bytes actually read or written is reported by **ReadFile** or **WriteFile** (or by the [**GetOverlappedResult**](/windows/desktop/api/ioapiset/nf-ioapiset-getoverlappedresult) or [**FileIOCompletionRoutine**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) function, if the I/O was performed as an overlapped operation).</span></span>

<span data-ttu-id="d5637-108">Wenn eine Anwendung eine Kommunikations Ressource öffnet, legt das System die Timeout Werte der Ressource auf die Werte fest, die bei der letzten Verwendung der Ressource wirksam wurden.</span><span class="sxs-lookup"><span data-stu-id="d5637-108">When an application opens a communications resource, the system sets the resource's time-out values to the values in effect when the resource was last used.</span></span> <span data-ttu-id="d5637-109">Wenn die Kommunikations Ressource nie geöffnet wurde, legt das System die Timeout Werte auf einen Standardwert fest.</span><span class="sxs-lookup"><span data-stu-id="d5637-109">If the communications resource has never been opened, the system sets the time-out values to some default value.</span></span> <span data-ttu-id="d5637-110">In beiden Fällen sollte eine Anwendung die aktuellen Timeout Werte nach dem Öffnen der Ressource immer ermitteln und diese dann explizit so festlegen, dass Sie Ihren Anforderungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="d5637-110">In either case, an application should always determine the current time-out values after opening the resource, and then explicitly set them to meet its requirements.</span></span> <span data-ttu-id="d5637-111">Verwenden Sie die [**getcommtimeouts**](/windows/desktop/api/Winbase/nf-winbase-getcommtimeouts) -Funktion, um die aktuellen Timeout Werte einer Kommunikations Ressource zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="d5637-111">To determine the current time-out values of a communications resource, use the [**GetCommTimeouts**](/windows/desktop/api/Winbase/nf-winbase-getcommtimeouts) function.</span></span> <span data-ttu-id="d5637-112">Wenn Sie die Timeout Werte ändern möchten, verwenden Sie die Funktion [**SetCommTimeouts**](/windows/desktop/api/Winbase/nf-winbase-setcommtimeouts) .</span><span class="sxs-lookup"><span data-stu-id="d5637-112">To change the time-out values, use the [**SetCommTimeouts**](/windows/desktop/api/Winbase/nf-winbase-setcommtimeouts) function.</span></span>

<span data-ttu-id="d5637-113">Zwei Arten von Timeouts werden durch die Timeout Parameter aktiviert.</span><span class="sxs-lookup"><span data-stu-id="d5637-113">Two types of time-outs are enabled by the time-out parameters.</span></span> <span data-ttu-id="d5637-114">Ein Intervall Timeout tritt auf, wenn die Zeit zwischen dem Empfang von zwei Zeichen eine angegebene Anzahl von Millisekunden überschreitet.</span><span class="sxs-lookup"><span data-stu-id="d5637-114">An interval time-out occurs when the time between the receipt of any two characters exceeds a specified number of milliseconds.</span></span> <span data-ttu-id="d5637-115">Die zeitliche Steuerung beginnt, wenn das erste Zeichen empfangen wird, und wird neu gestartet, wenn jedes neue Zeichen empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="d5637-115">Timing starts when the first character is received and is restarted when each new character is received.</span></span> <span data-ttu-id="d5637-116">Ein Gesamt Timeout tritt auf, wenn die von einem Lesevorgang verbrauchte Gesamtzeit eine berechnete Anzahl von Millisekunden überschreitet.</span><span class="sxs-lookup"><span data-stu-id="d5637-116">A total time-out occurs when the total amount of time consumed by a read operation exceeds a calculated number of milliseconds.</span></span> <span data-ttu-id="d5637-117">Die zeitliche Steuerung beginnt sofort, wenn der e/a-Vorgang beginnt.</span><span class="sxs-lookup"><span data-stu-id="d5637-117">Timing starts immediately when the I/O operation begins.</span></span> <span data-ttu-id="d5637-118">Schreibvorgänge unterstützen nur Timeout Zeiten.</span><span class="sxs-lookup"><span data-stu-id="d5637-118">Write operations support only total time-outs.</span></span> <span data-ttu-id="d5637-119">Lesevorgänge unterstützen sowohl das Intervall als auch das gesamte Timeout, das separat oder kombiniert verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="d5637-119">Read operations support both interval and total time-outs, which can be used separately or combined.</span></span>

<span data-ttu-id="d5637-120">Die Zeit (in Millisekunden) des gesamten Timeout Zeitraums für einen Lese-oder Schreibvorgang wird mithilfe des Multiplikators und konstanter Werte aus der [**COMMTIMEOUTS**](/windows/desktop/api/Winbase/ns-winbase-commtimeouts) -Struktur berechnet, die in der [**getcommtimeouts**](/windows/desktop/api/Winbase/nf-winbase-getcommtimeouts) -oder [**SetCommTimeouts**](/windows/desktop/api/Winbase/nf-winbase-setcommtimeouts) -Funktion angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="d5637-120">The time, in milliseconds, of the total time-out period for a read or write operation is calculated by using the multiplier and constant values from the [**COMMTIMEOUTS**](/windows/desktop/api/Winbase/ns-winbase-commtimeouts) structure specified in the [**GetCommTimeouts**](/windows/desktop/api/Winbase/nf-winbase-getcommtimeouts) or [**SetCommTimeouts**](/windows/desktop/api/Winbase/nf-winbase-setcommtimeouts) function.</span></span> <span data-ttu-id="d5637-121">Die folgende Formel wird verwendet:</span><span class="sxs-lookup"><span data-stu-id="d5637-121">The following formula is used:</span></span>


```C++
Timeout = (MULTIPLIER * number_of_bytes) + CONSTANT
```



<span data-ttu-id="d5637-122">Wenn Sie einen Multiplikator und eine Konstante verwenden, kann der gesamte Timeout Zeitraum variieren, abhängig von der angeforderten Datenmenge.</span><span class="sxs-lookup"><span data-stu-id="d5637-122">Using both a multiplier and a constant enables the total time-out period to vary, depending on the amount of data being requested.</span></span> <span data-ttu-id="d5637-123">Eine Anwendung kann nur die Konstante verwenden, indem der Multiplikator auf NULL festgelegt wird, oder es wird nur der Multiplikator verwendet, indem die Konstante auf NULL festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="d5637-123">An application can use only the constant by setting the multiplier to zero, or use only the multiplier by setting the constant to zero.</span></span> <span data-ttu-id="d5637-124">Wenn Konstante und Multiplikator NULL sind, wird das gesamte Timeout nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="d5637-124">If both the constant and multiplier are zero, total time-out is not used.</span></span>

<span data-ttu-id="d5637-125">Wenn alle Timeouts für den Lesevorgang NULL sind, werden Lese Timeouts nicht verwendet, und ein Lesevorgang wird erst abgeschlossen, wenn die angeforderte Anzahl von Bytes gelesen wurde oder ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="d5637-125">If all read time-out parameters are zero, read time-outs are not used, and a read operation is not complete until the requested number of bytes have been read or an error occurs.</span></span> <span data-ttu-id="d5637-126">Wenn alle Timeout Parameter für die Schreibweise NULL sind, wird ein Schreibvorgang nicht abgeschlossen, bis die angeforderte Anzahl von Bytes geschrieben oder ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="d5637-126">Similarly, if all write time-out parameters are zero, a write operation is not completed until the requested number of bytes have been written or an error occurs.</span></span>

<span data-ttu-id="d5637-127">Wenn der Wert für das Timeout für Lese Intervalle der Wert **MAXDWORD** ist und beide Timeout Parameter für alle lesen den Wert 0 (null) aufweisen, wird unmittelbar nach dem Lesen der Zeichen, die im Eingabepuffer verfügbar sind, ein Lesevorgang abgeschlossen, auch wenn er leer ist.</span><span class="sxs-lookup"><span data-stu-id="d5637-127">If the read interval time-out parameter is the **MAXDWORD** value and both read total time-out parameters are zero, a read operation is completed immediately after reading whatever characters are available in the input buffer, even if it is empty.</span></span>

<span data-ttu-id="d5637-128">Die Intervall zeitliche Steuerung erzwingt, dass ein Lesevorgang zurückgegeben wird, wenn eine Pause Auftritt im Empfang vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="d5637-128">Interval timing forces a read operation to return when there is a lull in reception.</span></span> <span data-ttu-id="d5637-129">Ein Prozess, der Intervall Timeouts verwendet, kann einen relativ kurzen Intervall Parameter festlegen, sodass er schnell auf kleine, isolierte Spitzen mit einem oder mehreren Zeichen reagieren kann, aber er kann dennoch große Puffer von Zeichen mit einem einzigen Aufruf erfassen, wenn Daten in einem stabilen Stream empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="d5637-129">A process using interval time-outs can set a fairly short interval parameter, so it can respond quickly to small, isolated bursts of one or a few characters, yet it can still collect large buffers of characters with a single call when data is received in a steady stream.</span></span>

<span data-ttu-id="d5637-130">Timeouts für einen Schreibvorgang können nützlich sein, wenn die Übertragung durch eine Art Fluss Steuerung blockiert wird oder wenn die Funktion " [**setcommbreak**](/windows/desktop/api/Winbase/nf-winbase-setcommbreak) " aufgerufen wurde, um die Zeichen Übertragung anzuhalten.</span><span class="sxs-lookup"><span data-stu-id="d5637-130">Time-outs for a write operation can be useful when transmission is blocked by some kind of flow control or when the [**SetCommBreak**](/windows/desktop/api/Winbase/nf-winbase-setcommbreak) function has been called to suspend character transmission.</span></span>

<span data-ttu-id="d5637-131">In der folgenden Tabelle wird das Verhalten von Lesevorgängen auf der Grundlage der für das Gesamt-und Intervall Timeout angegebenen Werte zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="d5637-131">The following table summarizes the behavior of read operations based on the values specified for total and interval time-outs.</span></span>



| <span data-ttu-id="d5637-132">Gesamt</span><span class="sxs-lookup"><span data-stu-id="d5637-132">Total</span></span> | <span data-ttu-id="d5637-133">Intervall</span><span class="sxs-lookup"><span data-stu-id="d5637-133">Interval</span></span> | <span data-ttu-id="d5637-134">Verhalten</span><span class="sxs-lookup"><span data-stu-id="d5637-134">Behavior</span></span>                                                                                                                                                                                 |
|-------|----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d5637-135">0</span><span class="sxs-lookup"><span data-stu-id="d5637-135">0</span></span>     | <span data-ttu-id="d5637-136">0</span><span class="sxs-lookup"><span data-stu-id="d5637-136">0</span></span>        | <span data-ttu-id="d5637-137">Gibt zurück, wenn der Puffer vollständig ausgefüllt ist.</span><span class="sxs-lookup"><span data-stu-id="d5637-137">Returns when the buffer is completely filled.</span></span> <span data-ttu-id="d5637-138">Timeouts werden nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="d5637-138">Time-outs are not used.</span></span>                                                                                                                    |
| <span data-ttu-id="d5637-139">T</span><span class="sxs-lookup"><span data-stu-id="d5637-139">T</span></span>     | <span data-ttu-id="d5637-140">0</span><span class="sxs-lookup"><span data-stu-id="d5637-140">0</span></span>        | <span data-ttu-id="d5637-141">Gibt zurück, wenn der Puffer vollständig aufgefüllt ist, oder wenn T Millisekunden seit dem Beginn des Vorgangs verstrichen sind.</span><span class="sxs-lookup"><span data-stu-id="d5637-141">Returns when the buffer is completely filled or when T milliseconds have elapsed since the beginning of the operation.</span></span>                                                                   |
| <span data-ttu-id="d5637-142">0</span><span class="sxs-lookup"><span data-stu-id="d5637-142">0</span></span>     | <span data-ttu-id="d5637-143">J</span><span class="sxs-lookup"><span data-stu-id="d5637-143">Y</span></span>        | <span data-ttu-id="d5637-144">Gibt zurück, wenn der Puffer vollständig aufgefüllt ist, oder wenn Y Millisekunden zwischen dem Empfang von zwei Zeichen verstrichen sind.</span><span class="sxs-lookup"><span data-stu-id="d5637-144">Returns when the buffer is completely filled or when Y milliseconds have elapsed between the receipt of any two characters.</span></span> <span data-ttu-id="d5637-145">Die zeitliche Steuerung beginnt erst, wenn das erste Zeichen empfangen wird.</span><span class="sxs-lookup"><span data-stu-id="d5637-145">Timing does not begin until the first character is received.</span></span> |
| <span data-ttu-id="d5637-146">T</span><span class="sxs-lookup"><span data-stu-id="d5637-146">T</span></span>     | <span data-ttu-id="d5637-147">J</span><span class="sxs-lookup"><span data-stu-id="d5637-147">Y</span></span>        | <span data-ttu-id="d5637-148">Gibt zurück, wenn der Puffer vollständig aufgefüllt ist, oder wenn eine der beiden Timeout Zeiten auftritt.</span><span class="sxs-lookup"><span data-stu-id="d5637-148">Returns when the buffer is completely filled or when either type of time-out occurs.</span></span>                                                                                                     |



 

> [!Note]  
> <span data-ttu-id="d5637-149">Diese zeitliche Steuerung ist jedoch relativ zum System, das das physische Gerät steuert.</span><span class="sxs-lookup"><span data-stu-id="d5637-149">However, that timing is relative to the system controlling the physical device.</span></span> <span data-ttu-id="d5637-150">Bei einem Remote Gerät (z. b. einem Modem) ist die zeitliche Steuerung relativ zum Server System, an das das Modem angefügt wird.</span><span class="sxs-lookup"><span data-stu-id="d5637-150">For a remote device such as a modem, the timing is relative to the server system to which the modem is attached.</span></span> <span data-ttu-id="d5637-151">Alle Netzwerk Weiterleitungs Verzögerungen werden in nicht berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="d5637-151">Any network propagation delay is not factored in.</span></span> <span data-ttu-id="d5637-152">Beispielsweise kann eine Client Anwendung ein Gesamt Timeout angeben, das 500 Millisekunden berechnet.</span><span class="sxs-lookup"><span data-stu-id="d5637-152">For example, a client application might specify a total time-out that computes to be 500 milliseconds.</span></span> <span data-ttu-id="d5637-153">Wenn 500 Millisekunden auf dem Server verstrichen sind, wird ein Timeout Fehler an den Client zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="d5637-153">When 500 milliseconds have elapsed at the server, a time-out error is returned to the client.</span></span> <span data-ttu-id="d5637-154">Wenn eine Netzwerk propagierungs Verzögerung von 50 Millisekunden vorliegt, wird der Client erst nach ungefähr 50 Millisekunden benachrichtigt, nachdem das Timeout tatsächlich aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="d5637-154">If there is a 50 milliseconds network propagation delay, the client will not be notified of the time-out until approximately 50 milliseconds after the time-out actually occurred.</span></span>

 

> [!Note]  
> <span data-ttu-id="d5637-155">Die Timeout Parameter wirken sich auf das Verhalten von überlappenden Lese-und Schreibvorgängen auf einem Kommunikationsgerät aus.</span><span class="sxs-lookup"><span data-stu-id="d5637-155">The time-out parameters affect the behavior of overlapped read and write operations on a communications device.</span></span> <span data-ttu-id="d5637-156">Mit überlappenden e/a-Vorgängen kann die Funktion "read [**File**](/windows/desktop/api/fileapi/nf-fileapi-readfile)", " [**Write File**](/windows/desktop/api/fileapi/nf-fileapi-writefile)", "read [**fileex**](/windows/desktop/api/fileapi/nf-fileapi-readfileex)" oder " [**Write fileex**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) " zurückgeben, bevor der Vorgang abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="d5637-156">With overlapped I/O, the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile), [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile), [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex), or [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) function can return before the operation has been completed.</span></span> <span data-ttu-id="d5637-157">Durch die Timeout Parameter kann ermittelt werden, wann der Vorgang abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="d5637-157">The time-out parameters can determine when the operation has been completed.</span></span>

 

 

 
