---
title: Union-Attribut
description: Das Union-Schlüsselwort wird in Funktionen angezeigt, die sich auf diskriminierte Unions beziehen.
ms.assetid: 135a6581-e03e-4b90-9fd8-15690820dbd0
keywords:
- Union-Attribut-Mittel l
topic_type:
- apiref
api_name:
- union
api_type:
- NA
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: bc683472d67775c4a2900695246d5f9ca920ca32
ms.sourcegitcommit: 57758ecb246c84d65e6e0e4bd5570d9176fa39cd
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/25/2019
ms.locfileid: "104516299"
---
# <a name="union-attribute"></a><span data-ttu-id="f84ae-104">Union-Attribut</span><span class="sxs-lookup"><span data-stu-id="f84ae-104">union attribute</span></span>

<span data-ttu-id="f84ae-105">Das **Union** -Schlüsselwort wird in Funktionen angezeigt, die sich auf diskriminierte Unions beziehen.</span><span class="sxs-lookup"><span data-stu-id="f84ae-105">The **union** keyword appears in functions that relate to discriminated unions.</span></span>

``` syntax
/* Encapsulated union*/
typedef [[ [type-attribute-list] ]] union [[ struct-name ]] switch (switch-type switch-name) [[ union-name ]] 
{
  C-style-case-list 
  [[ [ field-attribute-list <> ] ]] type-specifier <> declarator-list <>;

        ...
}

/* Non-encapsulated union*/
typedef [switch_type(switch-type) [[ , type-attr-list ]] ] union [[ tag ]] 
{ 
    [ case ( limited-expr-list) ]
  [[ [ field-attribute-list ] ]] type-specifier declarator-list;
  [[ [ default ]
  [[ [ field-attribute-list ] ]] type-specifier declarator-list;
  ]]
}
```

## <a name="parameters"></a><span data-ttu-id="f84ae-106">Parameter</span><span class="sxs-lookup"><span data-stu-id="f84ae-106">Parameters</span></span>

<dl> <dt>

<span data-ttu-id="f84ae-107">*Type-Attribute-List*</span><span class="sxs-lookup"><span data-stu-id="f84ae-107">*type-attribute-list*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-108">Gibt 0 (null) oder mehr Attribute an, die für den Union-Typ gelten.</span><span class="sxs-lookup"><span data-stu-id="f84ae-108">Specifies zero or more attributes that apply to the union type.</span></span> <span data-ttu-id="f84ae-109">Gültige Typattribute sind **\[** [**handle**](handle.md) **\]** , über **\[** [**tragen \_ als**](transmit-as.md) **\]** ; das Zeiger Attribut **\[** [**eindeutig**](unique.md) **\]** oder **\[** [**ptr**](ptr.md) **\]** ; und das **\[** [**Kontext \_ handle**](context-handle.md) der Verwendungs Attribute **\]** und **\[** [**Ignore**](ignore.md) **\]** .</span><span class="sxs-lookup"><span data-stu-id="f84ae-109">Valid type attributes include **\[**[**handle**](handle.md)**\]**, **\[**[**transmit\_as**](transmit-as.md)**\]**; the pointer attribute **\[**[**unique**](unique.md)**\]**, or **\[**[**ptr**](ptr.md)**\]**; and the usage attributes **\[**[**context\_handle**](context-handle.md)**\]** and **\[**[**ignore**](ignore.md)**\]**.</span></span> <span data-ttu-id="f84ae-110">Gekapselte Unions können auch das Attribut " **\[** [**ref**](ref.md) **\]** Pointer Type" aufweisen.</span><span class="sxs-lookup"><span data-stu-id="f84ae-110">Encapsulated unions can also have the **\[**[**ref**](ref.md)**\]** pointer type attribute.</span></span> <span data-ttu-id="f84ae-111">Trennen Sie mehrere Attribute durch Kommas.</span><span class="sxs-lookup"><span data-stu-id="f84ae-111">Separate multiple attributes with commas.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-112">*Struktur Name*</span><span class="sxs-lookup"><span data-stu-id="f84ae-112">*struct-name*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-113">Gibt ein optionales Tag an, das die vom Mittelwert Compiler generierte Struktur benennt.</span><span class="sxs-lookup"><span data-stu-id="f84ae-113">Specifies an optional tag that names the structure generated by the MIDL compiler.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-114">*Switch-Type*</span><span class="sxs-lookup"><span data-stu-id="f84ae-114">*switch-type*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-115">Gibt einen [**int**](int.md)-, [**char**](char-idl.md)-, [**Enumeration**](enum.md) -Typ oder einen Bezeichner an, der zu einem dieser Typen aufgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="f84ae-115">Specifies an [**int**](int.md), [**char**](char-idl.md), [**enum**](enum.md) type, or an identifier that resolves to one of these types.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-116">*SwitchName*</span><span class="sxs-lookup"><span data-stu-id="f84ae-116">*switch-name*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-117">Gibt den Namen der Variablen vom Typ *Switch-Type* an, der als Union-diskriminant fungiert.</span><span class="sxs-lookup"><span data-stu-id="f84ae-117">Specifies the name of the variable of type *switch-type* that acts as the union discriminant.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-118">*Union-Name*</span><span class="sxs-lookup"><span data-stu-id="f84ae-118">*union-name*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-119">Gibt einen optionalen Bezeichner an, der die Union in der Struktur benennt, die vom-Mittell-Compiler generiert wird und die die Union und die Diskriminante enthält.</span><span class="sxs-lookup"><span data-stu-id="f84ae-119">Specifies an optional identifier that names the union in the structure, generated by the MIDL compiler, that contains the union and the discriminant.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-120">*C-Style-Case-List*</span><span class="sxs-lookup"><span data-stu-id="f84ae-120">*C-style-case-list*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-121">Liste von "**Case** *-Konstanten-expr* :"</span><span class="sxs-lookup"><span data-stu-id="f84ae-121">List of "**case** *const-expr* :"</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-122">*begrenzte Ausdrucks Liste*</span><span class="sxs-lookup"><span data-stu-id="f84ae-122">*limited-expression-list*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-123">Gibt einen oder mehrere C-sprach Ausdrücke an.</span><span class="sxs-lookup"><span data-stu-id="f84ae-123">Specifies one or more C-language expressions.</span></span> <span data-ttu-id="f84ae-124">Der mittlerer l-Compiler unterstützt bedingte Ausdrücke, logische Ausdrücke, relationale Ausdrücke und arithmetische Ausdrücke.</span><span class="sxs-lookup"><span data-stu-id="f84ae-124">The MIDL compiler supports conditional expressions, logical expressions, relational expressions, and arithmetic expressions.</span></span> <span data-ttu-id="f84ae-125">"Mittel l" lässt keine Funktionsaufrufe in Ausdrücken zu und lässt keine Inkrement-und Dekrementoperatoren zu.</span><span class="sxs-lookup"><span data-stu-id="f84ae-125">MIDL does not allow function invocations in expressions and does not allow increment and decrement operators.</span></span> <span data-ttu-id="f84ae-126">Einzelne Ausdrücke in der Liste sollten durch ein Komma getrennt werden.</span><span class="sxs-lookup"><span data-stu-id="f84ae-126">Individual expressions in the list should be separated by a comma.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-127">*Field-Attribute-List*</span><span class="sxs-lookup"><span data-stu-id="f84ae-127">*field-attribute-list*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-128">Gibt 0 (null) oder mehr Feld Attribute an, die für das Union-Element gelten.</span><span class="sxs-lookup"><span data-stu-id="f84ae-128">Specifies zero or more field attributes that apply to the union member.</span></span> <span data-ttu-id="f84ae-129">Gültige Feld Attribute sind **\[** [**First \_ is**](first-is.md), **\]** **\[** [**Last \_ is**](last-is.md) **\]** , **\[** [**length \_ is**](length-is.md) **\]** , **\[** [**Max \_ is**](max-is.md) **\]** , **\[** [**size \_ is**](size-is.md), **\]** die Usage **\[** -Attribut [**Zeichenfolge**](string.md) **\]** , **\[** [**Ignore**](ignore.md) **\]** und **\[** [**context \_ handle**](context-handle.md), **\]** das Zeiger Attribut **\[** [**Unique**](unique.md) **\]** oder **\[** [**ptr**](ptr.md) **\]** ; und für Member, die nicht gekapselte Unions sind, der **\[** [**\_ Switchtyp**](switch-type.md)des Union-Attributs **\]** .</span><span class="sxs-lookup"><span data-stu-id="f84ae-129">Valid field attributes include **\[**[**first\_is**](first-is.md)**\]**, **\[**[**last\_is**](last-is.md)**\]**, **\[**[**length\_is**](length-is.md)**\]**, **\[**[**max\_is**](max-is.md)**\]**, **\[**[**size\_is**](size-is.md)**\]**; the usage attributes **\[**[**string**](string.md)**\]**, **\[**[**ignore**](ignore.md)**\]**, and **\[**[**context\_handle**](context-handle.md)**\]**; the pointer attribute **\[**[**unique**](unique.md)**\]** or **\[**[**ptr**](ptr.md)**\]**; and, for members that are nonencapsulated unions, the union attribute **\[**[**switch\_type**](switch-type.md)**\]**.</span></span> <span data-ttu-id="f84ae-130">Nicht gekapselte Unions können auch das **\[** [**ref**](ref.md) - **\]** Zeiger Feld Attribut verwenden.</span><span class="sxs-lookup"><span data-stu-id="f84ae-130">Nonencapsulated unions can also use the **\[**[**ref**](ref.md)**\]** pointer field attribute.</span></span> <span data-ttu-id="f84ae-131">Trennen Sie mehrere Feld Attribute durch Kommas.</span><span class="sxs-lookup"><span data-stu-id="f84ae-131">Separate multiple field attributes with commas.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-132">*Typspezifizierer*</span><span class="sxs-lookup"><span data-stu-id="f84ae-132">*type-specifier*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-133">Gibt einen [Basistyp](midl-base-types.md), eine [**Struktur**](struct.md), eine **Union**, einen [**Enumeration**](enum.md) -Typ oder einen Typbezeichner an.</span><span class="sxs-lookup"><span data-stu-id="f84ae-133">Specifies a [base type](midl-base-types.md), [**struct**](struct.md), **union**, [**enum**](enum.md) type, or type identifier.</span></span> <span data-ttu-id="f84ae-134">Eine optionale Speicher Spezifikation kann dem *Typspezifizierer* vorangestellt werden.</span><span class="sxs-lookup"><span data-stu-id="f84ae-134">An optional storage specification can precede *type-specifier*.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-135">*Deklarator-List*</span><span class="sxs-lookup"><span data-stu-id="f84ae-135">*declarator-list*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-136">Ein oder mehrere Standard-C-Deklaratoren, wie z. b. Bezeichner, Zeiger Deklaratoren und Array Deklaratoren.</span><span class="sxs-lookup"><span data-stu-id="f84ae-136">One or more standard C declarators, such as identifiers, pointer declarators, and array declarators.</span></span> <span data-ttu-id="f84ae-137">(Funktions Deklaratoren und Bitfeld Deklarationen sind in Unions nicht zulässig, die in Remote Prozedur aufrufen übertragen werden.</span><span class="sxs-lookup"><span data-stu-id="f84ae-137">(Function declarators and bit-field declarations are not allowed in unions that are transmitted in remote procedure calls.</span></span> <span data-ttu-id="f84ae-138">Mit der Ausnahme, dass Sie den [**/OSF**](-osf.md)-Compilerschalter verwenden, sind diese Deklaratoren in Unions zulässig, die nicht übertragen werden.) Trennen Sie mehrere Deklaratoren durch Kommas.</span><span class="sxs-lookup"><span data-stu-id="f84ae-138">Except when you use the MIDL compiler switch [**/osf**](-osf.md), these declarators are allowed in unions that are not transmitted.) Separate multiple declarators with commas.</span></span>

</dd> <dt>

<span data-ttu-id="f84ae-139">*Tag*</span><span class="sxs-lookup"><span data-stu-id="f84ae-139">*tag*</span></span> 
</dt> <dd>

<span data-ttu-id="f84ae-140">Gibt ein optionales-Tag an.</span><span class="sxs-lookup"><span data-stu-id="f84ae-140">Specifies an optional tag.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="f84ae-141">Bemerkungen</span><span class="sxs-lookup"><span data-stu-id="f84ae-141">Remarks</span></span>

<span data-ttu-id="f84ae-142">Die Mittel l unterstützt zwei Typen von Unterscheidungs-Unions: [gekapselte Unions](encapsulated-unions.md) und [nicht gekapselt](nonencapsulated-unions.md)</span><span class="sxs-lookup"><span data-stu-id="f84ae-142">MIDL supports two types of discriminated unions: [encapsulated unions](encapsulated-unions.md) and [nonencapsulated unions](nonencapsulated-unions.md).</span></span> <span data-ttu-id="f84ae-143">Die gekapselte Union ist mit früheren Implementierungen von RPC (NCA, Version 1) kompatibel.</span><span class="sxs-lookup"><span data-stu-id="f84ae-143">The encapsulated union is compatible with previous implementations of RPC (NCA version 1).</span></span> <span data-ttu-id="f84ae-144">Die nicht gekapselte Union entfernt einige der Einschränkungen der gekapselten Union und bietet eine besser sichtbare Diskriminante als die gekapselte Union.</span><span class="sxs-lookup"><span data-stu-id="f84ae-144">The nonencapsulated union eliminates some of the restrictions of the encapsulated union and provides a more visible discriminant than the encapsulated union.</span></span>

<span data-ttu-id="f84ae-145">Die gekapselte Union wird durch das [**Switch**](switch.md) -Schlüsselwort und das Fehlen von anderen Union-bezogenen Schlüsselwörtern identifiziert.</span><span class="sxs-lookup"><span data-stu-id="f84ae-145">The encapsulated union is identified by the [**switch**](switch.md) keyword and the absence of other union-related keywords.</span></span>

<span data-ttu-id="f84ae-146">Die nicht gekapselte Union, auch bekannt als Union, wird durch das vorhanden sein der **\[** [**Schalter \_ ist**](switch-is.md) **\]** und der **\[** [**\_ switchtypschlüsselwörter**](switch-type.md) identifiziert **\]** , die den Diskriminanten und dessen Typ identifizieren.</span><span class="sxs-lookup"><span data-stu-id="f84ae-146">The nonencapsulated union, also known as a union, is identified by the presence of the **\[**[**switch\_is**](switch-is.md)**\]** and **\[**[**switch\_type**](switch-type.md)**\]** keywords, which identify the discriminant and its type.</span></span>

<span data-ttu-id="f84ae-147">Wenn Sie **\[** [**in**](in.md), [**out**](out-idl.md) Unions verwenden, beachten Sie, **\]** dass das Ändern des Werts des Union-Schalters während des Aufrufes dazu führen kann, dass sich der Remote-Befehl von einem lokalen-Befehl unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="f84ae-147">When you use **\[**[**in**](in.md), [**out**](out-idl.md)**\]** unions, be aware that changing the value of the union switch during the call can make the remote call behave differently from a local call.</span></span> <span data-ttu-id="f84ae-148">Bei der Rückgabe kopieren die Studs den **\[ in**- **, \] out** -Parameter in den Arbeitsspeicher, der bereits auf dem Client vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="f84ae-148">On return, the stubs copy the **\[in**, **out\]** parameter into memory that is already present on the client.</span></span> <span data-ttu-id="f84ae-149">Wenn die Remote Prozedur den Wert des Union-Schalters ändert und folglich die Größe des Datenobjekts ändert, können die stubwerte den gültigen Speicher mit dem Wert **\[ out \]** überschreiben.</span><span class="sxs-lookup"><span data-stu-id="f84ae-149">When the remote procedure modifies the value of the union switch and consequently changes the data object's size, the stubs can overwrite valid memory with the **\[out\]** value.</span></span> <span data-ttu-id="f84ae-150">Wenn der Union-Switch das Datenobjekt von einem Basistyp in einen Zeigertyp ändert, können die Stub den gültigen Arbeitsspeicher überschreiben, wenn Sie den Zeiger Referenten in den Speicher Speicherort kopieren, der durch den Wert **\[ in \]** einem Basistyp angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="f84ae-150">When the union switch changes the data object from a base type to a pointer type, the stubs can overwrite valid memory when they copy the pointer referent into the memory location indicated by the **\[in\]** value of a base type.</span></span>

<span data-ttu-id="f84ae-151">Die Form der Unions muss plattformübergreifend identisch sein, um die Konnektivität zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="f84ae-151">The shape of unions must be identical across platforms to ensure interconnectivity.</span></span>

## <a name="see-also"></a><span data-ttu-id="f84ae-152">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="f84ae-152">See also</span></span>

<dl> <dt>

[<span data-ttu-id="f84ae-153">Gekapselt Unions</span><span class="sxs-lookup"><span data-stu-id="f84ae-153">Encapsulated Unions</span></span>](encapsulated-unions.md)
</dt> <dt>

[<span data-ttu-id="f84ae-154">Schnittstellen Definitionsdatei (IDL)</span><span class="sxs-lookup"><span data-stu-id="f84ae-154">Interface Definition (IDL) File</span></span>](interface-definition-idl-file.md)
</dt> <dt>

[<span data-ttu-id="f84ae-155">**in**</span><span class="sxs-lookup"><span data-stu-id="f84ae-155">**in**</span></span>](in.md)
</dt> <dt>

[<span data-ttu-id="f84ae-156">Nicht gekapselt Unions</span><span class="sxs-lookup"><span data-stu-id="f84ae-156">Nonencapsulated Unions</span></span>](nonencapsulated-unions.md)
</dt> <dt>

[<span data-ttu-id="f84ae-157">**vorgenommen**</span><span class="sxs-lookup"><span data-stu-id="f84ae-157">**out**</span></span>](out-idl.md)
</dt> <dt>

[<span data-ttu-id="f84ae-158">**Switch \_ ist**</span><span class="sxs-lookup"><span data-stu-id="f84ae-158">**switch\_is**</span></span>](switch-is.md)
</dt> <dt>

[<span data-ttu-id="f84ae-159">**\_Switchtyp**</span><span class="sxs-lookup"><span data-stu-id="f84ae-159">**switch\_type**</span></span>](switch-type.md)
</dt> </dl>

 

 




