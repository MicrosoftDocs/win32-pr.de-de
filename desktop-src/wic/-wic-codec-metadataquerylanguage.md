---
description: In diesem Thema wird die metadatenabfragensprache für Windows Imaging Component (WIC) vorgestellt.
ms.assetid: 5ffa0a69-b53d-4be3-b802-deaaa743e6bd
title: Übersicht über die Metadaten-Abfragesprache
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ee4b55bdc7079565f98411e28977d3d8c41e191f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104551868"
---
# <a name="metadata-query-language-overview"></a><span data-ttu-id="55336-103">Übersicht über die Metadaten-Abfragesprache</span><span class="sxs-lookup"><span data-stu-id="55336-103">Metadata Query Language Overview</span></span>

<span data-ttu-id="55336-104">In diesem Thema wird die metadatenabfragensprache für Windows Imaging Component (WIC) vorgestellt.</span><span class="sxs-lookup"><span data-stu-id="55336-104">This topic introduces the metadata query language for Windows Imaging Component (WIC).</span></span> <span data-ttu-id="55336-105">Mit der Metadatenabfrage-Sprache können Sie Ausdrücke erstellen, mit denen bestimmte Daten (Metadatenelemente) und Speicherorte (Metadatenblöcke) in den Metadaten eines Bilds gesucht werden.</span><span class="sxs-lookup"><span data-stu-id="55336-105">You use the metadata query language to create expressions that find specific data (metadata items) and locations (metadata blocks) within the metadata of an image.</span></span>

<span data-ttu-id="55336-106">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="55336-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="55336-107">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="55336-107">Prerequisites</span></span>](#prerequisites)
-   [<span data-ttu-id="55336-108">Introduction (Einführung)</span><span class="sxs-lookup"><span data-stu-id="55336-108">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="55336-109">Anatomie eines Pfad Ausdrucks</span><span class="sxs-lookup"><span data-stu-id="55336-109">Anatomy of a Path Expression</span></span>](#anatomy-of-a-path-expression)
    -   [<span data-ttu-id="55336-110">Block Selection (Blockauswahl)</span><span class="sxs-lookup"><span data-stu-id="55336-110">Block Selection</span></span>](#block-selection)
    -   [<span data-ttu-id="55336-111">Elementauswahl</span><span class="sxs-lookup"><span data-stu-id="55336-111">Item Selection</span></span>](#item-selection)
    -   [<span data-ttu-id="55336-112">Escapezeichen</span><span class="sxs-lookup"><span data-stu-id="55336-112">Escape Character</span></span>](#escape-character)
    -   [<span data-ttu-id="55336-113">Beispielausdrücke</span><span class="sxs-lookup"><span data-stu-id="55336-113">Sample Expressions</span></span>](#sample-expressions)
-   [<span data-ttu-id="55336-114">Richtlinien Ausdrücke für Photo-Metadaten</span><span class="sxs-lookup"><span data-stu-id="55336-114">Photo Metadata Policy Expressions</span></span>](#photo-metadata-policy-expressions)
-   [<span data-ttu-id="55336-115">Zusammenfassung der Metadaten-Abfragesprache</span><span class="sxs-lookup"><span data-stu-id="55336-115">Metadata Query Language Summary</span></span>](#metadata-query-language-summary)
-   [<span data-ttu-id="55336-116">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="55336-116">Related topics</span></span>](#related-topics)

## <a name="prerequisites"></a><span data-ttu-id="55336-117">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="55336-117">Prerequisites</span></span>

<span data-ttu-id="55336-118">Um dieses Thema zu verstehen, sollten Sie mit dem WIC-Metadatensystem vertraut sein, wie in der [WIC-Metadatenübersicht](-wic-about-metadata.md) beschrieben und auf Metadaten zuzugreifen, wie in der Übersicht über das [Lesen und Schreiben von Bild Metadaten](-wic-codec-readingwritingmetadata.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="55336-118">To understand this topic, you should be familiar with the WIC metadata system as described in the [WIC Metadata Overview](-wic-about-metadata.md) and accessing metadata, as described in the [Overview of Reading and Writing Image Metadata](-wic-codec-readingwritingmetadata.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="55336-119">Einführung</span><span class="sxs-lookup"><span data-stu-id="55336-119">Introduction</span></span>

<span data-ttu-id="55336-120">Sie interagieren in erster Linie mit der metadatenplattform über zwei Component Object Model Komponenten (com): einen Abfrage Reader, der durch die [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) -Schnittstelle dargestellt wird, und einen Abfrage-Writer, der von der [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) -Schnittstelle dargestellt wird</span><span class="sxs-lookup"><span data-stu-id="55336-120">You interact with the metadata platform primarily through two Component Object Model (COM) components: a query reader, represented by the [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) interface, and a query writer, represented by the [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) interface.</span></span> <span data-ttu-id="55336-121">Diese Komponenten ermöglichen es Ihnen, Metadaten mithilfe der Metadaten-Abfragesprache zu lesen oder zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="55336-121">These components enable you to read or write metadata using the metadata query language.</span></span> <span data-ttu-id="55336-122">Die Abfragesprache beschreibt die Syntax eines Pfad Ausdrucks, und die Abfrage Komponenten verwenden diesen Pfad Ausdruck, um auf die gewünschten Metadaten zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="55336-122">The query language describes the syntax of a path expression and the query components use this path expression to access the desired metadata.</span></span> <span data-ttu-id="55336-123">Dieser Pfad Ausdruck beschreibt den Speicherort eines Metadatenblocks oder-Elements.</span><span class="sxs-lookup"><span data-stu-id="55336-123">This path expression describes the location of a metadata block or item.</span></span>

<span data-ttu-id="55336-124">Ein Metadatenblock ist eine benannte Gruppe von Metadaten in einem bestimmten Format.</span><span class="sxs-lookup"><span data-stu-id="55336-124">A metadata block is a named group of metadata in a specific format.</span></span> <span data-ttu-id="55336-125">Ein Metadatenblock kann einzelne Metadatenelemente enthalten, wie z. b. einen Autor oder eine Erstellungszeit und zusätzliche Metadatenblöcke</span><span class="sxs-lookup"><span data-stu-id="55336-125">A metadata block can contain individual metadata items such as an author or creation time and additional metadata blocks.</span></span> <span data-ttu-id="55336-126">Der Name eines Metadatenblocks wird durch sein Format bestimmt.</span><span class="sxs-lookup"><span data-stu-id="55336-126">A metadata block's name is determined by its format.</span></span> <span data-ttu-id="55336-127">Beispielsweise würde ein Metadatenblock, der App1-Metadaten enthält, den Namen "App1" haben.</span><span class="sxs-lookup"><span data-stu-id="55336-127">For example, a metadata block containing App1 metadata would be named "app1".</span></span> <span data-ttu-id="55336-128">Zu den gängigen Metadatenformaten gehören App1, EXIF, IFD und XMP.</span><span class="sxs-lookup"><span data-stu-id="55336-128">Common metadata formats include App1, Exif, IFD, and XMP.</span></span>

<span data-ttu-id="55336-129">Ein Metadatenelement ist ein Name-Wert-Paar, das Merkmale wie Autor, Titel und Bewertung beschreibt.</span><span class="sxs-lookup"><span data-stu-id="55336-129">A metadata item is a name/value pair that describes characteristics like author, title, and rating.</span></span>

<span data-ttu-id="55336-130">Ein Pfad Ausdruck enthält einen oder mehrere metadatenblocknamen.</span><span class="sxs-lookup"><span data-stu-id="55336-130">A path expression contains one or more metadata block names.</span></span> <span data-ttu-id="55336-131">Außerdem kann ein Metadatenelement in einem Metadatenblock angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="55336-131">It can also specify a metadata item within a metadata block.</span></span> <span data-ttu-id="55336-132">Der folgende Pfad Ausdruck stellt einen App1-Block dar, der einen IFD-Block enthält, der das Metadatenelement enthält:</span><span class="sxs-lookup"><span data-stu-id="55336-132">The following path expression represents an App1 block which contains an IFD block which contains the metadata item:</span></span>

-   <span data-ttu-id="55336-133">/App1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="55336-133">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="55336-134">Das folgende Diagramm veranschaulicht die Zusammensetzung eines JPEG-Beispiel Bilds mit vier Stamm-metadatenblöcken: App0, App1, XMP und ein unbekannter Block.</span><span class="sxs-lookup"><span data-stu-id="55336-134">The following diagram illustrates the makeup of an example JPEG image with four root metadata blocks: App0, App1, XMP, and an unknown block.</span></span> <span data-ttu-id="55336-135">Jedes markierte Element notiert den Typ der Metadaten (Block oder Element) und den Abfrage Ausdruck, der zum Abrufen der Daten verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="55336-135">Each highlighted item notes the type of metadata (block or item) and the query expression used to retrieve the data.</span></span>

![JPEG-Bild mit metadatenaufrufen](graphics/jpegwithcallouts.png)

> [!Note]  
> <span data-ttu-id="55336-137">Der Inhalt dieses Diagramms wird in diesem Dokument referenziert und in vielen der Beispiele verwendet.</span><span class="sxs-lookup"><span data-stu-id="55336-137">The contents of this diagram are referenced throughout this document and are used in many of the examples.</span></span>

 

## <a name="anatomy-of-a-path-expression"></a><span data-ttu-id="55336-138">Anatomie eines Pfad Ausdrucks</span><span class="sxs-lookup"><span data-stu-id="55336-138">Anatomy of a Path Expression</span></span>

<span data-ttu-id="55336-139">Für den Zugriff auf Metadaten mithilfe der WIC-APIs muss in den meisten Fällen ein voll qualifizierter Abfrage Ausdruck verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="55336-139">To access metadata using the WIC APIs, a fully qualified query expression must be used in most cases.</span></span> <span data-ttu-id="55336-140">In diesem Thema werden voll qualifizierte Ausdrücke für den Zugriff auf Metadaten erläutert.</span><span class="sxs-lookup"><span data-stu-id="55336-140">This topic discusses fully qualified expressions for accessing metadata.</span></span> <span data-ttu-id="55336-141">Wenn Sie Informationen zu den Fällen benötigen, in denen nicht voll qualifizierte Ausdrücke verwendet werden, lesen Sie den Abschnitt Photo Metadata Policy Expression weiter unten in diesem Dokument.</span><span class="sxs-lookup"><span data-stu-id="55336-141">If you need information about the cases in which non-fully qualified expressions are used, refer to the Photo Metadata Policy Expression section later in this document.</span></span>

<span data-ttu-id="55336-142">Was ist ein voll qualifizierter Abfrage Ausdruck?</span><span class="sxs-lookup"><span data-stu-id="55336-142">What is a fully qualified query expression?</span></span> <span data-ttu-id="55336-143">In WIC ist ein voll qualifizierter Ausdruck eine Zeichenfolge, die mit dem Pfad Zeichen Schrägstrich (/) beginnt, gefolgt von einem Navigationspfad zu einem Metadatenblock oder einem bestimmten Metadatenelement.</span><span class="sxs-lookup"><span data-stu-id="55336-143">In WIC, a fully qualified expression is a string that begins with the path character slash (/), followed by a navigation path to a metadata block or a specific metadata item.</span></span> <span data-ttu-id="55336-144">Jeder Schritt innerhalb des Navigations Pfads wird durch einen Schrägstrich getrennt, der einen Ausdruck für den Zugriff auf einen Metadatenblock oder ein Metadatenelement bildet.</span><span class="sxs-lookup"><span data-stu-id="55336-144">Each step within the navigation path is separated by a slash, forming an expression for accessing a metadata block or a metadata item.</span></span> <span data-ttu-id="55336-145">Im folgenden finden Sie beispielsweise einen voll qualifizierten Abfrage Ausdruck, der auf die Microsoft-Foto Bewertung in einem IFD-Block zugreift, der in einem App1-Block eingebettet ist:</span><span class="sxs-lookup"><span data-stu-id="55336-145">For example, the following is a fully qualified query expression that accesses the Microsoft Photo Rating in an IFD block that is nested in an App1 block:</span></span>

-   <span data-ttu-id="55336-146">/App1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="55336-146">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="55336-147">Wenn WIC diesen Ausdruck analysiert, sucht er zuerst in den Metadaten des Images nach dem App1-Metadatenblock.</span><span class="sxs-lookup"><span data-stu-id="55336-147">When WIC parses this expression, it first searches for the App1 metadata block within the image's metadata.</span></span> <span data-ttu-id="55336-148">Wenn der App1-Block gefunden wird, sucht er bei der Suche nach dem Block der gruppierten IFD-Metadaten.</span><span class="sxs-lookup"><span data-stu-id="55336-148">If the App1 block is found, it continues its search looking for the nested IFD metadata block.</span></span> <span data-ttu-id="55336-149">Wenn der IFD-Block gefunden wird, sucht er nach dem jeweiligen Metadatenelement, in diesem Fall die microsoftphoto-Bewertung unter dem Tag 18249 innerhalb des IFD-Metadatenblocks.</span><span class="sxs-lookup"><span data-stu-id="55336-149">If the IFD block is found, it then looks for the specific metadata item, in this case the MicrosoftPhoto rating under the tag 18249, within the IFD metadata block.</span></span> <span data-ttu-id="55336-150">Wenn WIC einen Metadatenblock oder ein Metadatenblock nicht findet, wird die Abfrage abgebrochen.</span><span class="sxs-lookup"><span data-stu-id="55336-150">If at any time WIC does not find a metadata block or item, it aborts the query.</span></span>

### <a name="block-selection"></a><span data-ttu-id="55336-151">Blockauswahl</span><span class="sxs-lookup"><span data-stu-id="55336-151">Block Selection</span></span>

<span data-ttu-id="55336-152">Der einfachste WIC-metadatenabfragenausdruck ist ein Ausdruck zum Abrufen eines Abfrage Readers/Writer für einen bestimmten Metadatenblock.</span><span class="sxs-lookup"><span data-stu-id="55336-152">The simplest WIC metadata query expression is an expression to obtain a query reader/writer for a specific metadata block.</span></span> <span data-ttu-id="55336-153">Durch das Abrufen eines Abfrage Readers/Writer können Sie nachfolgende Abfragen direkt an einen gruppierten Metadatenblock weiterleiten, ohne dass der zugehörige übergeordnete Block behandelt wird.</span><span class="sxs-lookup"><span data-stu-id="55336-153">Obtaining a query reader/writer enables you to direct subsequent queries directly to a nested metadata block without dealing with its parent block.</span></span> <span data-ttu-id="55336-154">Bei einem Abfrage Ausdruck für die Blockauswahl handelt es sich um einen Navigationspfad zum gewünschten Metadatenblock.</span><span class="sxs-lookup"><span data-stu-id="55336-154">A block selection query expression is a navigation path to the desired metadata block.</span></span> <span data-ttu-id="55336-155">In der vorherigen Abbildung gibt es z. b. fünf Metadatenblöcke, von denen zwei in anderen metadatenblöcken enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="55336-155">For example, in the previous illustration there are five metadata blocks, two of which are nested in other metadata blocks.</span></span> <span data-ttu-id="55336-156">Im folgenden finden Sie die Pfad Ausdrücke für jeden Metadatenblock im JPEG-Beispiel:</span><span class="sxs-lookup"><span data-stu-id="55336-156">The following are the path expressions to each metadata block in the JPEG example:</span></span>

-   <span data-ttu-id="55336-157">/app0</span><span class="sxs-lookup"><span data-stu-id="55336-157">/app0</span></span>
-   <span data-ttu-id="55336-158">/App1</span><span class="sxs-lookup"><span data-stu-id="55336-158">/app1</span></span>
-   <span data-ttu-id="55336-159">/app1/ifd</span><span class="sxs-lookup"><span data-stu-id="55336-159">/app1/ifd</span></span>
-   <span data-ttu-id="55336-160">/app1/ifd/exif</span><span class="sxs-lookup"><span data-stu-id="55336-160">/app1/ifd/exif</span></span>
-   <span data-ttu-id="55336-161">/xmp</span><span class="sxs-lookup"><span data-stu-id="55336-161">/xmp</span></span>

<span data-ttu-id="55336-162">Wenn Sie einen Abfrage Reader/-Writer zum Ausführen einer Abfrage verwenden, wird ein neuer Abfrage-/Schreib-Writer zurückgegeben, der die Dienste innerhalb des Gültigkeits Bereichs des angegebenen Metadatenblocks abfragt.</span><span class="sxs-lookup"><span data-stu-id="55336-162">When you use a query reader/writer to execute a query, it returns a new query reader/writer that services queries within the scope of the specified metadata block.</span></span> <span data-ttu-id="55336-163">Wenn Sie beispielsweise die Abfrage "/App1" ausführen, wird ein neuer Abfrage Reader abgerufen, und die Abfragen des neuen Readers sind relativ zum App1-Block.</span><span class="sxs-lookup"><span data-stu-id="55336-163">For instance, if you execute the query "/app1" , a new query reader is obtained and queries to the new reader are relative to the App1 block.</span></span> <span data-ttu-id="55336-164">Dies bedeutet, dass die Abfrage "/IFD" für den neuen Reader gültig ist, da der App1-Block einen IFD-Block enthält.</span><span class="sxs-lookup"><span data-stu-id="55336-164">This means that the query "/ifd" is valid for the new reader because the App1 block contains an IFD block.</span></span> <span data-ttu-id="55336-165">"/XMP" funktioniert jedoch nicht, weil dieser App1-Block keinen XMP-Metadatenblock enthält.</span><span class="sxs-lookup"><span data-stu-id="55336-165">However, "/xmp" would not work because this App1 block does not contain an XMP metadata block.</span></span>

<span data-ttu-id="55336-166">Die Abfragesprache unterstützt auch eine Index Notation.</span><span class="sxs-lookup"><span data-stu-id="55336-166">The query language also supports an index notation.</span></span> <span data-ttu-id="55336-167">Die Index Notation ermöglicht den Zugriff auf einen bestimmten Metadatenblock, wenn mehrere Blöcke desselben Typs vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="55336-167">Index notation provides access to a specific metadata block when multiple blocks of the same type exist.</span></span> <span data-ttu-id="55336-168">Für das JPEG-Beispiel kann der folgende indizierte Pfad Ausdruck verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="55336-168">For the JPEG example, the following indexed path expression can be used:</span></span>

-   <span data-ttu-id="55336-169">/\[0 \] App1/ \[ 0 ( \] IFD)</span><span class="sxs-lookup"><span data-stu-id="55336-169">/\[0\]app1/\[0\]ifd</span></span>

<span data-ttu-id="55336-170">In der Abfragesprache beginnen alle Indizes bei Null.</span><span class="sxs-lookup"><span data-stu-id="55336-170">In the query language, all indexes start at zero.</span></span> <span data-ttu-id="55336-171">Im vorherigen Ausdruck werden bei den ersten NULL Abfragen für den ersten App1-Block und das zweite NULL-Element der erste getusterte IFD-Block abgefragt.</span><span class="sxs-lookup"><span data-stu-id="55336-171">In the previous expression, the first zero queries for the first App1 block and the second zero queries the first nested IFD block.</span></span> <span data-ttu-id="55336-172">Die Index Notation kann auch dann verwendet werden, wenn nicht mehrere Blöcke desselben Typs vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="55336-172">Index notation can still be used even when multiple blocks of the same type do not exist.</span></span> <span data-ttu-id="55336-173">Wenn das Beispiel JPEG einen zweiten App1-Block mit einem eingebetteten IFD-Block enthielt, wird der Ausdruck "/ \[ 1 \] App1/IFD" für den Zugriff auf den zweiten App1-Block verwendet.</span><span class="sxs-lookup"><span data-stu-id="55336-173">If the example JPEG included a second App1 block with an embedded IFD block, the expression "/\[1\]app1/ifd" would be used to access the second App1 block.</span></span>

<span data-ttu-id="55336-174">Die Index Notation wird häufiger beim Umgang mit PNG-Text Segmenten verwendet, da es wahrscheinlich ist, dass das PNG-Bild mehr als einen Text Block enthält.</span><span class="sxs-lookup"><span data-stu-id="55336-174">Index notation becomes more common when dealing with PNG tEXt chunks because it is likely that the PNG image will have more than one tEXt chunk.</span></span>

> [!Note]  
> <span data-ttu-id="55336-175">Mehrdimensionale Array Indizes werden nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="55336-175">Multidimensional array indexes are not supported.</span></span>

 

### <a name="item-selection"></a><span data-ttu-id="55336-176">Elementauswahl</span><span class="sxs-lookup"><span data-stu-id="55336-176">Item Selection</span></span>

<span data-ttu-id="55336-177">Sie können auf die Metadatenelemente in einem Metadatenblock zugreifen, indem Sie auf den Blockauswahl Ausdrücken aufbauen.</span><span class="sxs-lookup"><span data-stu-id="55336-177">You can access the metadata items in a metadata block by building on the block selection expressions.</span></span> <span data-ttu-id="55336-178">Beachten Sie die Eigenschaften für die XMP-und Microsoft-Foto Bewertung im JPEG-Beispiel.</span><span class="sxs-lookup"><span data-stu-id="55336-178">Consider the XMP and Microsoft Photo rating properties in the JPEG example.</span></span> <span data-ttu-id="55336-179">Diese Metadaten sind in zwei metadatenblöcken vorhanden: die App1/IFD-und XMP-Blöcke.</span><span class="sxs-lookup"><span data-stu-id="55336-179">This metadata exists in two metadata blocks: the App1/IFD and XMP blocks.</span></span> <span data-ttu-id="55336-180">Daher können mehr als ein Ausdruck verwendet werden, um auf dieselben Daten zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="55336-180">Therefore, more than one expression can be used to access the same data.</span></span> <span data-ttu-id="55336-181">Der folgende Ausdruck greift auf die microsoftphoto-Bewertung im XMP-Block zu:</span><span class="sxs-lookup"><span data-stu-id="55336-181">The following expression accesses the MicrosoftPhoto rating in the XMP block:</span></span>

-   <span data-ttu-id="55336-182">/XMP/XMP: Bewertung</span><span class="sxs-lookup"><span data-stu-id="55336-182">/xmp/xmp:Rating</span></span>

<span data-ttu-id="55336-183">Der "XMP:"-Teil des Ausdrucks ist ein Schema Anzeige Bezeichner.</span><span class="sxs-lookup"><span data-stu-id="55336-183">The "xmp:" part of the expression is a schema friendly identifier.</span></span> <span data-ttu-id="55336-184">XMP ist ein erweiterbarer Standard, mit dem Drittanbieter-Entitäten ihre eigenen Schemas veröffentlichen können, die definieren, wie bestimmte Metadatenelemente gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="55336-184">XMP is an extensible standard and allows third party entities to publish their own schemas which define how to store certain metadata items.</span></span> <span data-ttu-id="55336-185">Ein XMP-Schema ist vollständig durch eine URL gekennzeichnet, aber WIC stellt eine Reihe von benutzerfreundlichen bezeichlen für bekannte Schemas bereit.</span><span class="sxs-lookup"><span data-stu-id="55336-185">An XMP schema is fully identified by a URL, but WIC provides a set of friendly identifiers for well-known schemas.</span></span> <span data-ttu-id="55336-186">Weitere Informationen finden Sie im Thema [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="55336-186">For more information, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

<span data-ttu-id="55336-187">Bei JPEG-Bildern können Bewertungsinformationen auch innerhalb des geschachtelten IFD-Blocks App1 gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="55336-187">For JPEG images, rating information can also be stored within the App1 nested IFD block.</span></span> <span data-ttu-id="55336-188">Im Gegensatz zum XMP-Bewertungs Beispiel verwendet der IFD-Block jedoch keinen Schema Namen, um auf die Bewertungsinformationen zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="55336-188">However, unlike the XMP rating example, the IFD block does not use a schema name to access the rating information.</span></span> <span data-ttu-id="55336-189">Stattdessen verwenden Sie einen Daten Ausdruck.</span><span class="sxs-lookup"><span data-stu-id="55336-189">You use a data expression instead.</span></span> <span data-ttu-id="55336-190">Der folgende Ausdruck wird für den Zugriff auf die microsoftphoto-Bewertung im App1-Block mit dem IFD-Block verwendet:</span><span class="sxs-lookup"><span data-stu-id="55336-190">The following expression is used to access the MicrosoftPhoto rating in the App1 nested IFD block:</span></span>

-   <span data-ttu-id="55336-191">/App1/IFD/{ushort = 18249}</span><span class="sxs-lookup"><span data-stu-id="55336-191">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="55336-192">In diesem Ausdruck ist der "/App1/IFD"-Teil des Ausdrucks der Navigationspfad zum IFD-Block (wie bereits im Abschnitt zur Blockauswahl erläutert).</span><span class="sxs-lookup"><span data-stu-id="55336-192">In this expression, the "/app1/ifd" part of the expression is the navigation path to the IFD block (as discussed previously in the Block Selection section).</span></span> <span data-ttu-id="55336-193">Der zweite Teil des Ausdrucks "/{ushort = 18249}" greift auf die Daten zu.</span><span class="sxs-lookup"><span data-stu-id="55336-193">The second part of the expression "/{ushort=18249}" accesses the data.</span></span> <span data-ttu-id="55336-194">Dieser Teil des Ausdrucks weist den Abfrage Parser an, die Daten zu finden, die in das unsignierte Kurztag mit dem Tagbezeichner 18249 eingebettet sind.</span><span class="sxs-lookup"><span data-stu-id="55336-194">This part of the expression instructs the query parser to find the data embedded in the unsigned short tag that has the tag identifier 18249.</span></span>

> [!Note]  
> <span data-ttu-id="55336-195">Eine Liste der allgemeinen Metadatenformate, die von den einzelnen Bildformaten unter unterstützt werden, finden Sie im Thema [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="55336-195">For a list of common metadata formats supported by each image format at, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

 

<span data-ttu-id="55336-196">"{Ushort = 18249}" ist ein Daten Ausdruck und kann verschiedene Formen annehmen.</span><span class="sxs-lookup"><span data-stu-id="55336-196">The {ushort=18249} is a data expression and can take several forms.</span></span> <span data-ttu-id="55336-197">Ein Daten Ausdruck ist ein zwei teilige Ausdruck, der das angeforderte Metadatentag oder den angeforderten Schlüssel, in diesem Fall "18249", und den Datentyp des Schlüssels, in diesem Fall "ushort", enthält.</span><span class="sxs-lookup"><span data-stu-id="55336-197">A data expression is a two part expression containing the requested metadata tag or key, in this case "18249", and the data type of the key, in this case "ushort".</span></span> <span data-ttu-id="55336-198">Die beiden Teile sind durch ein Gleichheitszeichen (=) getrennt.</span><span class="sxs-lookup"><span data-stu-id="55336-198">The two parts are separated by an equal sign (=).</span></span> <span data-ttu-id="55336-199">Wicunter stützt die Mehrzahl der allgemeinen C/C++-Datentypen.</span><span class="sxs-lookup"><span data-stu-id="55336-199">WICsupports a majority of the common C/C++ data types.</span></span> <span data-ttu-id="55336-200">Die folgenden Datentypen werden von der Abfragesprache akzeptiert:</span><span class="sxs-lookup"><span data-stu-id="55336-200">The following data types are accepted by the query language:</span></span>

-   <span data-ttu-id="55336-201">char</span><span class="sxs-lookup"><span data-stu-id="55336-201">char</span></span>
-   <span data-ttu-id="55336-202">UCHAR</span><span class="sxs-lookup"><span data-stu-id="55336-202">uchar</span></span>
-   <span data-ttu-id="55336-203">short</span><span class="sxs-lookup"><span data-stu-id="55336-203">short</span></span>
-   <span data-ttu-id="55336-204">ushort</span><span class="sxs-lookup"><span data-stu-id="55336-204">ushort</span></span>
-   <span data-ttu-id="55336-205">long</span><span class="sxs-lookup"><span data-stu-id="55336-205">long</span></span>
-   <span data-ttu-id="55336-206">ulong</span><span class="sxs-lookup"><span data-stu-id="55336-206">ulong</span></span>
-   <span data-ttu-id="55336-207">INT</span><span class="sxs-lookup"><span data-stu-id="55336-207">int</span></span>
-   <span data-ttu-id="55336-208">uint</span><span class="sxs-lookup"><span data-stu-id="55336-208">uint</span></span>
-   <span data-ttu-id="55336-209">longlong</span><span class="sxs-lookup"><span data-stu-id="55336-209">longlong</span></span>
-   <span data-ttu-id="55336-210">float</span><span class="sxs-lookup"><span data-stu-id="55336-210">float</span></span>
-   <span data-ttu-id="55336-211">double</span><span class="sxs-lookup"><span data-stu-id="55336-211">double</span></span>
-   <span data-ttu-id="55336-212">str</span><span class="sxs-lookup"><span data-stu-id="55336-212">str</span></span>
-   <span data-ttu-id="55336-213">WSTR</span><span class="sxs-lookup"><span data-stu-id="55336-213">wstr</span></span>
-   <span data-ttu-id="55336-214">guid</span><span class="sxs-lookup"><span data-stu-id="55336-214">guid</span></span>
-   <span data-ttu-id="55336-215">bool</span><span class="sxs-lookup"><span data-stu-id="55336-215">bool</span></span>

> [!Note]  
> <span data-ttu-id="55336-216">Diese Liste gibt nur die Datentypen an, die von der Metadaten-Abfragesprache unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="55336-216">This list only specifies the data types supported by the metadata query language.</span></span> <span data-ttu-id="55336-217">Verwenden Sie diese Datentypen, wenn Sie einen Daten Ausdruck für die Metadatenabfrage erstellen, z.b. {ushort = 18249}.</span><span class="sxs-lookup"><span data-stu-id="55336-217">Use these data types when creating a metadata query data expression such as {ushort=18249}.</span></span> <span data-ttu-id="55336-218">Der WIC gibt den Wert des Metadatenelements in Form von PROPVARIANT zurück, das sein eigenes Typsystem definiert.</span><span class="sxs-lookup"><span data-stu-id="55336-218">The WIC returns the metadata item's value in the form of PROPVARIANT, which defines its own type system.</span></span>

 

<span data-ttu-id="55336-219">Der Wert "18249" im Beispiel ist das datentag.</span><span class="sxs-lookup"><span data-stu-id="55336-219">The "18249" in the example is the data tag.</span></span> <span data-ttu-id="55336-220">Diese bestimmte Zahl wird von Microsoft definiert und enthält die microsoftphoto-Bewertung.</span><span class="sxs-lookup"><span data-stu-id="55336-220">This particular number is defined by Microsoft to contain the MicrosoftPhoto rating.</span></span> <span data-ttu-id="55336-221">Das datentag kann eine beliebige Anzahl, Zeichenfolge oder GUID sein, abhängig vom gesuchten Datenelement.</span><span class="sxs-lookup"><span data-stu-id="55336-221">The data tag can be any number, string, or GUID depending on the data item you are looking for</span></span>

<span data-ttu-id="55336-222">Im Gegensatz zum Beispiel für die XMP-Bewertung gibt es keine Namenskollision für den Bewertungs Wert im App1/IFD-Block.</span><span class="sxs-lookup"><span data-stu-id="55336-222">Unlike the XMP Rating example, there is no name collision for the rating value in the App1/IFD block.</span></span> <span data-ttu-id="55336-223">Dies liegt daran, dass der XMP-Bewertungs Wert tatsächlich unter einem anderen ushort-Tag (18246) gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="55336-223">This is because the XMP rating value is actually stored under a different ushort tag, 18246.</span></span> <span data-ttu-id="55336-224">Folglich lautet der Ausdruck für den Zugriff auf die XMP-Bewertung im App1/IFD-Block wie folgt:</span><span class="sxs-lookup"><span data-stu-id="55336-224">Thus, the expression to access the XMP rating in the App1/IFD block is:</span></span>

-   <span data-ttu-id="55336-225">/App1/IFD/{ushort = 18246}</span><span class="sxs-lookup"><span data-stu-id="55336-225">/app1/ifd/{ushort=18246}</span></span>

> [!Note]  
> <span data-ttu-id="55336-226">Eine formale Beschreibung der Metadaten-Abfragesprache finden Sie weiter unten in diesem Dokument im Abschnitt Zusammenfassung der Metadaten-Abfragesprache.</span><span class="sxs-lookup"><span data-stu-id="55336-226">For a formal description of the metadata query language, see the Metadata Query Language Summary section later in this document.</span></span>

 

### <a name="escape-character"></a><span data-ttu-id="55336-227">Escape-Zeichen</span><span class="sxs-lookup"><span data-stu-id="55336-227">Escape Character</span></span>

<span data-ttu-id="55336-228">Bei der Abfragesprache wird die Groß-/Kleinschreibung nicht beachtet, und alle Zeichen werden als Kleinbuchstaben behandelt</span><span class="sxs-lookup"><span data-stu-id="55336-228">The query language is not case sensitive and treats all characters as lowercase.</span></span> <span data-ttu-id="55336-229">Bei einigen Metadatenformaten (z. b. XMP) wird die Groß-/Kleinschreibung beachtet.</span><span class="sxs-lookup"><span data-stu-id="55336-229">However, some metadata formats (such as XMP) are case sensitive.</span></span> <span data-ttu-id="55336-230">Verwenden Sie beim Arbeiten mit einem Metadatenformat, bei dem die Groß-/Kleinschreibung beachtet wird, den umgekehrten Schrägstrich ( \\ ), wenn Sie einen Großbuchstaben angeben möchten.</span><span class="sxs-lookup"><span data-stu-id="55336-230">When working with a case-sensitive metadata format, use the backslash (\\) character when you want to specify an uppercase character.</span></span>

<span data-ttu-id="55336-231">Das Escapezeichen wird vom sprach Parser verwendet, und das folgende Zeichen, das darauf folgt, wird direkt interpretiert.</span><span class="sxs-lookup"><span data-stu-id="55336-231">The escape character is consumed by the language parser and the following character that follows it is interpreted directly.</span></span> <span data-ttu-id="55336-232">Beispielsweise wird der Ausdruck {Char = \\ \\ } als "" aufgelöst, \\ und {Char = \\ C} wird als Großbuchstabe C aufgelöst. Ohne das Escapezeichen wäre {Char = \\ } ein Ungültiger Ausdruck, und {char = c} würde als Kleinbuchstabe c interpretiert werden.</span><span class="sxs-lookup"><span data-stu-id="55336-232">For example, the expression {char=\\\\} is resolved as '\\'and {char=\\C} is resolved as an uppercase C. Without the escape character, {char=\\} would be an invalid expression and {char=C} would be interpreted as a lowercase c.</span></span> <span data-ttu-id="55336-233">Achten Sie darauf, den umgekehrten Schrägstrich vor allen Großbuchstaben in Metadatenformaten zu verwenden, bei denen die Groß-/Kleinschreibung beachtet wird.</span><span class="sxs-lookup"><span data-stu-id="55336-233">Be sure to use the backslash escape character before all uppercase letters in metadata formats that are case sensitive.</span></span>

### <a name="sample-expressions"></a><span data-ttu-id="55336-234">Beispielausdrücke</span><span class="sxs-lookup"><span data-stu-id="55336-234">Sample Expressions</span></span>

<span data-ttu-id="55336-235">Die folgende Tabelle enthält einige Beispiel Ausdrücke und Beschreibungen ihrer Interpretationen durch den Abfrage sprach Parser.</span><span class="sxs-lookup"><span data-stu-id="55336-235">The following table provides some example expressions and descriptions of their interpretations by the query language parser.</span></span> 

| <span data-ttu-id="55336-236">Ausdruck</span><span class="sxs-lookup"><span data-stu-id="55336-236">Expression</span></span>                     | <span data-ttu-id="55336-237">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="55336-237">Description</span></span>                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="55336-238">IFD/XMP/EXIF: Autor</span><span class="sxs-lookup"><span data-stu-id="55336-238">ifd/xmp/exif:Author</span></span>            | <span data-ttu-id="55336-239">Entspricht folgendem Navigationspfad: IFD Block-> XMP Block-> "Author"-Eigenschaft im "EXIF"-Schema.</span><span class="sxs-lookup"><span data-stu-id="55336-239">Corresponds to the following navigation path: IFD block -> XMP block -> "Author" property in the "Exif" schema.</span></span>                                                                                                                                                                                                                                            |
| <span data-ttu-id="55336-240">/\[1 \] IFD/ \[ 0 \] XMP/EXIF: Autor</span><span class="sxs-lookup"><span data-stu-id="55336-240">/\[1\]ifd/\[0\]xmp/exif:Author</span></span> | <span data-ttu-id="55336-241">Identisch mit dem ersten Element in dieser Tabelle, mit dem Unterschied, dass das \[ \# \] Präfix beschreibt, welches Element im Falle eines Namens Konflikts navigiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="55336-241">Same as the first item in this table except that the \[\#\] prefix describes which item to navigate in event of a name collision.</span></span>                                                                                                                                                                                                                                |
| <span data-ttu-id="55336-242">/IFD/{ushort = 700}/Author</span><span class="sxs-lookup"><span data-stu-id="55336-242">/ifd/{ushort=700}/Author</span></span>       | <span data-ttu-id="55336-243">Identisch mit dem ersten Element in dieser Tabelle, mit dem Unterschied, dass es einen Daten Ausdruck verwendet, um auf den XMP-Block anstelle des Block namens "XMP" zu verweisen (der XMP-Block ist unter den unsignierten kurztagbezeichner 700 eingebettet).</span><span class="sxs-lookup"><span data-stu-id="55336-243">Same as the first item in this table except that it uses a data expression to reference the XMP block instead of the block name "xmp" (XMP block is embedded under the unsigned short tag identifier 700).</span></span> <span data-ttu-id="55336-244">Außerdem wird von der Eigenschaft "Author" kein Schema angegeben.</span><span class="sxs-lookup"><span data-stu-id="55336-244">Also, the "Author" property does not specify a schema.</span></span> <span data-ttu-id="55336-245">Der Abfrage Parser versucht, die Eigenschaft über alle Schemas abzugleichen, und gibt die erste Übereinstimmung zurück.</span><span class="sxs-lookup"><span data-stu-id="55336-245">The query parser will try to match the property across all schemas and return the first match.</span></span> |
| <span data-ttu-id="55336-246">/ifd/xmp</span><span class="sxs-lookup"><span data-stu-id="55336-246">/ifd/xmp</span></span>                       | <span data-ttu-id="55336-247">Stellt einen Navigationspfad zu einem Metadatenblock bereit.</span><span class="sxs-lookup"><span data-stu-id="55336-247">Provides a navigation path to a metadata block.</span></span> <span data-ttu-id="55336-248">Wenn der-Block gefunden wird, wird ein neuer metadatenleser/Writer zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="55336-248">If the block is found, a new metadata reader/writer is returned.</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="55336-249">/\[\*\]Text/Schlüsselwort</span><span class="sxs-lookup"><span data-stu-id="55336-249">/\[\*\]tEXt/Keyword</span></span>            | <span data-ttu-id="55336-250">Ruft die Schlüsselwort Eigenschaft für einen PNG-Block ab oder legt Sie fest.</span><span class="sxs-lookup"><span data-stu-id="55336-250">Gets or sets the Keyword property for a PNG chunk.</span></span> <span data-ttu-id="55336-251">Da die PNG-Metadatenspezifikation mehrere Blöcke eines bestimmten Typs zulässt, ruft die \[ \* \] Notation den Daten PNG-Block mit der entsprechenden-Eigenschaft ab oder legt ihn fest.</span><span class="sxs-lookup"><span data-stu-id="55336-251">Because the PNG metadata specification allows for multiple chunks of a particular type, the \[\*\] notation gets/sets the data PNG chunk with the appropriate property.</span></span> <span data-ttu-id="55336-252">Gemäß der PNG-Spezifikation können keine zwei Blöcke über die gleichen Eigenschaften verfügen.</span><span class="sxs-lookup"><span data-stu-id="55336-252">Per the PNG specification, no two chunks can have the same properties.</span></span>                                                                |



 

<span data-ttu-id="55336-253">Jeder Metadatenblock wird auch durch die metadatenguid eindeutig identifiziert, die anstelle des anzeigen Amen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="55336-253">Each metadata block is also uniquely identified by the metadata GUID which can be used in place of the friendly block name.</span></span> <span data-ttu-id="55336-254">Die folgende Syntax kann anstelle der Angabe von Blocknamen verwendet werden: "/{GUID = GUID}/ \[ n \] {Guid = Guid}/Schema: tagidentifier"</span><span class="sxs-lookup"><span data-stu-id="55336-254">The following syntax can be used in place of providing block names: "/{guid=GUID}/\[n\]{guid=GUID}/schema:tagidentifier"</span></span>

<span data-ttu-id="55336-255">In der folgenden Tabelle werden einige ungültige Beispiele und die Gründe für die Ablehnung von Beispielen aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="55336-255">The following table provides some invalid examples and the reasons they would be rejected.</span></span> 

| <span data-ttu-id="55336-256">Ungültiger Ausdruck</span><span class="sxs-lookup"><span data-stu-id="55336-256">Invalid Expression</span></span>         | <span data-ttu-id="55336-257">Ablehnungs Beschreibung</span><span class="sxs-lookup"><span data-stu-id="55336-257">Rejection description</span></span>                                                                                                                                                  |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="55336-258">/IFD/ \[ 0 \] \[ 2 \] EXIF/</span><span class="sxs-lookup"><span data-stu-id="55336-258">/ifd/\[0\]\[2\]exif/</span></span>       | <span data-ttu-id="55336-259">Wurde abgelehnt, da mehrdimensionale Array Indizes nicht unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="55336-259">Rejected because multi dimensional array indexes are not supported.</span></span>                                                                                                    |
| <span data-ttu-id="55336-260">/IFD/{ushort = 1}/{ushort = 2}</span><span class="sxs-lookup"><span data-stu-id="55336-260">/ifd/{ushort=1}/{ushort=2}</span></span> | <span data-ttu-id="55336-261">Wird zurückgewiesen, es sei denn, das IFD hat eine TagID = 1, bei der es sich um einen Metadatenhandler handelt, der ein Metadatenelement mit einer TagID</span><span class="sxs-lookup"><span data-stu-id="55336-261">Rejected unless the IFD has a tagID=1 which is a metadata handler that contains a metadata item with a tagID=2.</span></span>                                                        |
| <span data-ttu-id="55336-262">/{ushort = 1}</span><span class="sxs-lookup"><span data-stu-id="55336-262">/{ushort=1}</span></span>                | <span data-ttu-id="55336-263">Wird zurückgewiesen, wenn die Abfrage Verarbeitung relativ zu einer obersten Ebene der Metadatenhierarchie ist.</span><span class="sxs-lookup"><span data-stu-id="55336-263">Rejected if the query processing is relative to a top level of the metadata hierarchy.</span></span> <span data-ttu-id="55336-264">Dies liegt daran, dass die oberste Ebene nur Metadatenblöcke und keine Datenelemente enthält.</span><span class="sxs-lookup"><span data-stu-id="55336-264">This is because the top level contains only metadata blocks and not data items.</span></span> |



 

## <a name="photo-metadata-policy-expressions"></a><span data-ttu-id="55336-265">Richtlinien Ausdrücke für Photo-Metadaten</span><span class="sxs-lookup"><span data-stu-id="55336-265">Photo Metadata Policy Expressions</span></span>

<span data-ttu-id="55336-266">Wie bereits erwähnt, beginnt ein voll qualifizierter Abfrage Ausdruck mit einem Schrägstrich (/).</span><span class="sxs-lookup"><span data-stu-id="55336-266">As noted previously, a fully qualified query expression starts with a slash (/).</span></span> <span data-ttu-id="55336-267">Ausdrücke, die nicht mit dem Schrägstrich beginnen, werden als Richtlinien Ausdrücke ausgewertet.</span><span class="sxs-lookup"><span data-stu-id="55336-267">Expressions that do not begin with the slash are evaluated as policy expressions.</span></span> <span data-ttu-id="55336-268">Ein Richtlinien Ausdruck ermöglicht es Ihnen, die Foto Metadaten nach Bild bezogenen Windows [Shell-Eigenschaften](https://msdn.microsoft.com/library/ms788673(VS.85).aspx)abzufragen.</span><span class="sxs-lookup"><span data-stu-id="55336-268">A policy expression enables you to query the photo metadata for image-related Windows [Shell Properties](https://msdn.microsoft.com/library/ms788673(VS.85).aspx).</span></span> <span data-ttu-id="55336-269">Im Abschnitt zur Datenauswahl weiter oben in diesem Dokument wurde der Ausdruck "/XMP/XMP: Rating" verwendet, um auf die XMP-Bewertungs Eigenschaft zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="55336-269">In the Data Selection section earlier in this document, the expression "/xmp/xmp:Rating" was used to access the XMP rating property.</span></span> <span data-ttu-id="55336-270">Diese Eigenschaft kann auch mit dem folgenden Richtlinien Ausdruck abgefragt werden:</span><span class="sxs-lookup"><span data-stu-id="55336-270">This property can also be queried using the following policy expression:</span></span>

-   <span data-ttu-id="55336-271">System. simplerating</span><span class="sxs-lookup"><span data-stu-id="55336-271">System.SimpleRating</span></span>

<span data-ttu-id="55336-272">Der folgende Abfrage Ausdruck kann verwendet werden, um über das microsoftphoto-Schema auf die Bewertungs Eigenschaft zuzugreifen:</span><span class="sxs-lookup"><span data-stu-id="55336-272">To access the rating property from the MicrosoftPhoto schema, the following query expression can be used:</span></span>

-   <span data-ttu-id="55336-273">System. Rating</span><span class="sxs-lookup"><span data-stu-id="55336-273">System.Rating</span></span>

<span data-ttu-id="55336-274">Die Ausdrücke der Foto-metadatenrichtlinie Verhalten sich in einigen Punkten von voll qualifizierten Metadatenabfragen unterschiedlich.</span><span class="sxs-lookup"><span data-stu-id="55336-274">Photo metadata policy expressions behave differently from fully qualified metadata queries in a few notable ways.</span></span>

<span data-ttu-id="55336-275">Zuerst führt WIC beim Zugriff auf Metadaten mithilfe eines Richtlinien Ausdrucks eine Schiedsgerichtsbarkeit und Konflikt Auflösung aus, wenn dieselbe Eigenschaft in mehreren metadatenblöcken verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="55336-275">First, when accessing metadata using a policy expression, WIC performs arbitration and conflict resolution in the case that the same property is available in multiple metadata blocks.</span></span> <span data-ttu-id="55336-276">Beispielsweise werden sowohl der microsoftphoto-als auch der XMP-Bewertungs Wert sowohl im App1/IFD-Block als auch im XMP-Block gespeichert.</span><span class="sxs-lookup"><span data-stu-id="55336-276">For instance, both the MicrosoftPhoto and the XMP rating values are stored in both the App1/IFD block and the XMP block.</span></span> <span data-ttu-id="55336-277">Die fotometadatenrichtlinie bestimmt die Rangfolge, für die beim Lesen von Metadaten der Block Wert zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="55336-277">The photo metadata policy determines the precedence for which block value is returned when reading metadata.</span></span> <span data-ttu-id="55336-278">Wenn Sie Metadaten schreiben, stellt die fotometadatenrichtlinie sicher, dass die gleichen Eigenschaften in verschiedenen Blöcken konsistent sind.</span><span class="sxs-lookup"><span data-stu-id="55336-278">When you are writing metadata, the photo metadata policy ensures that the same properties in different blocks are consistent.</span></span> <span data-ttu-id="55336-279">Wenn Sie eine Metadatenabfrage wie z. b. "/XMP/XMP: Rating" verwenden, sind Sie dafür verantwortlich, zwischen den verschiedenen metadatenstandorten zu suchen.</span><span class="sxs-lookup"><span data-stu-id="55336-279">If you use a metadata query such as "/xmp/xmp:Rating", you are responsible for arbitrating between the various metadata locations.</span></span>

> [!Note]  
> <span data-ttu-id="55336-280">Eine Liste der unterstützten Richtlinien Ausdrücke und deren Mapping-Richtlinien finden Sie im Thema [Photo Metadata Policies](photo-metadata-policies.md) .</span><span class="sxs-lookup"><span data-stu-id="55336-280">For a list of the supported policy expressions and their mapping policies, see the [Photo Metadata Policies](photo-metadata-policies.md) topic.</span></span>

 

<span data-ttu-id="55336-281">Zweitens sind Foto-metadatenrichtlinien Ausdrücke unabhängig vom Bildformat, während voll qualifizierte Metadatenabfragen nicht durchlaufen werden.</span><span class="sxs-lookup"><span data-stu-id="55336-281">Second, photo metadata policy expressions are independent of the image format, while fully qualified metadata queries are not.</span></span> <span data-ttu-id="55336-282">Beispielsweise ist die Abfrage "/XMP/XMP: Rating" spezifisch für das JPEG-Format.</span><span class="sxs-lookup"><span data-stu-id="55336-282">For example, the "/xmp/xmp:Rating" query is specific to the JPEG format.</span></span> <span data-ttu-id="55336-283">TIFF-Images unterstützen auch XMP-Metadaten, aber Sie werden im Vergleich zu JPEG anders gespeichert, sodass die TIFF-Abfrage "/IFD/XMP/XMP: Rating" lauten würde.</span><span class="sxs-lookup"><span data-stu-id="55336-283">TIFF images also support XMP metadata, but it is stored differently compared to JPEG, so the TIFF query would be “/ifd/xmp/xmp:Rating”.</span></span> <span data-ttu-id="55336-284">In beiden Fällen würde der Richtlinien Ausdruck jedoch "System. simplerating" lauten.</span><span class="sxs-lookup"><span data-stu-id="55336-284">However, in both cases the policy expression would be “System.SimpleRating”.</span></span>

<span data-ttu-id="55336-285">Foto-metadatenrichtlinienausdrücke bieten im Vergleich zu voll qualifizierten Metadatenabfragen ein höheres Maß an Abstraktion und Einfachheit und sollten daher bevorzugt werden, wenn kein Zugriff auf die Metadaten auf niedriger Ebene erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="55336-285">Photo metadata policy expressions provide a higher level of abstraction and simplicity when compared to fully qualified metadata queries, and so should be preferred in cases where low-level metadata access is not needed.</span></span> <span data-ttu-id="55336-286">Richtlinien Ausdrücke ermöglichen jedoch nur den Zugriff auf einen begrenzten Satz von Bild Metadaten, während die Metadatenabfrage-Sprache Zugriff auf fast alle in einer Bilddatei gespeicherten Metadaten bietet.</span><span class="sxs-lookup"><span data-stu-id="55336-286">However, policy expressions only provide access to a limited set of image metadata, whereas the metadata query language provides access to nearly all of the metadata stored within an image file.</span></span>

## <a name="metadata-query-language-summary"></a><span data-ttu-id="55336-287">Zusammenfassung der Metadaten-Abfragesprache</span><span class="sxs-lookup"><span data-stu-id="55336-287">Metadata Query Language Summary</span></span>

<span data-ttu-id="55336-288">In der folgenden Tabelle ist eine formale Definition der WIC-Metadatenabfragesprache definiert.</span><span class="sxs-lookup"><span data-stu-id="55336-288">The following table is a formal definition of the WIC metadata query language.</span></span> <span data-ttu-id="55336-289">Jedes Grammatik Symbol stellt einen Ausdruck dar, der aus anderen Symbolen besteht.</span><span class="sxs-lookup"><span data-stu-id="55336-289">Each grammar symbol represents an expression made up of other symbols.</span></span> <span data-ttu-id="55336-290">Der Ausdruck kann ein anderes Symbol oder eine Sequenz von anderen Symbolen sein, die durch den senkrechten Strich ( \| ) getrennt sind, und gibt eine "oder"-Auswahl an.</span><span class="sxs-lookup"><span data-stu-id="55336-290">The expression can be another symbol or a sequence of other symbols separated by the vertical bar (\|), indicating an "or" choice.</span></span> <span data-ttu-id="55336-291">Der gesamte Ausdruck auf der rechten Seite ist eine mögliche Ersetzung für das angegebene Symbol auf der linken Seite.</span><span class="sxs-lookup"><span data-stu-id="55336-291">The whole expression on the right is a possible substitution for the specified symbol on the left.</span></span> 

| <span data-ttu-id="55336-292">Symbol</span><span class="sxs-lookup"><span data-stu-id="55336-292">Symbol</span></span>                   | <span data-ttu-id="55336-293">Ausdruck</span><span class="sxs-lookup"><span data-stu-id="55336-293">Expression</span></span>                                                                                                                                                                  |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \<path>             | <span data-ttu-id="55336-294">\<name> \| '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="55336-294">\<name> \| '/' \<property path></span></span>                                                                                                                                   |
| \<property path>    | <span data-ttu-id="55336-295">\<metadata item> \| \<property path> '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="55336-295">\<metadata item> \| \<property path> '/' \<property path></span></span>                                                                                                    |
| \<metadata item>    | <span data-ttu-id="55336-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span><span class="sxs-lookup"><span data-stu-id="55336-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span></span>                                                                                        |
| \<schema name>      | \<item name>                                                                                                                                                           |
| \<item name>        | <span data-ttu-id="55336-297">\<metadata item> \| <indexed item><index></span><span class="sxs-lookup"><span data-stu-id="55336-297">\<metadata item> \| <indexed item><index></span></span>                                                                                                                  |
| \<indexed item>     | <span data-ttu-id="55336-298">\<item> \| \<implied metadata>\<item></span><span class="sxs-lookup"><span data-stu-id="55336-298">\<item> \| \<implied metadata>\<item></span></span>                                                                                                                        |
| \<implied metadata> | <span data-ttu-id="55336-299">' < ' ' \<name> > '</span><span class="sxs-lookup"><span data-stu-id="55336-299">'<'\<name>'>'</span></span>                                                                                                                                                    |
| \<item>             | <span data-ttu-id="55336-300">\<name> \| \<index> \<data> \| \<data></span><span class="sxs-lookup"><span data-stu-id="55336-300">\<name> \| \<index> \<data> \| \<data></span></span>                                                                                                                  |
| \<data>             | <span data-ttu-id="55336-301">'{' \<data type> '=' \<value> '}'</span><span class="sxs-lookup"><span data-stu-id="55336-301">'{' \<data type> '=' \<value> '}'</span></span>                                                                                                                                 |
| \<index>            | <span data-ttu-id="55336-302">'\[' \<number> \| \<star> '\]'</span><span class="sxs-lookup"><span data-stu-id="55336-302">'\[' \<number> \| \<star> '\]'</span></span>                                                                                                                                    |
| \<data type>        | <span data-ttu-id="55336-303">' char ' \| ' UCHAR ' \| ' Short ' \| ' ushort ' \| ' Long ' \| ' ULONG ' \| ' int ' \| ' uint ' \| ' Longlong ' \| ' ULONGLONG ' \| ' float ' \| ' Double ' \| ' Str ' \| ' WSTR ' ' \| GUID ' \| ' bool '</span><span class="sxs-lookup"><span data-stu-id="55336-303">'char' \| 'uchar' \| 'short' \| 'ushort' \| 'long' \| 'ulong' \| 'int' \| 'uint' \| 'longlong' \| 'ulonglong' \| 'float' \| 'double' \| 'str' \| 'wstr' \| 'guid' \| 'bool'</span></span> |
| \<data value>       | <span data-ttu-id="55336-304">\<number> \| \<name> \| \<guid></span><span class="sxs-lookup"><span data-stu-id="55336-304">\<number> \| \<name> \| \<guid></span></span>                                                                                                                              |
| \<star>             | <span data-ttu-id="55336-305">'\*'</span><span class="sxs-lookup"><span data-stu-id="55336-305">'\*'</span></span>                                                                                                                                                                        |
| \<number>           | <span data-ttu-id="55336-306">number</span><span class="sxs-lookup"><span data-stu-id="55336-306">number</span></span>                                                                                                                                                                      |
| \<name>             | <span data-ttu-id="55336-307">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="55336-307">string</span></span>                                                                                                                                                                      |
| \<guid>             | <span data-ttu-id="55336-308">guid</span><span class="sxs-lookup"><span data-stu-id="55336-308">guid</span></span>                                                                                                                                                                        |



 

## <a name="related-topics"></a><span data-ttu-id="55336-309">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="55336-309">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="55336-310">**Licher**</span><span class="sxs-lookup"><span data-stu-id="55336-310">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="55336-311">Übersicht über die Windows Imaging-Komponente</span><span class="sxs-lookup"><span data-stu-id="55336-311">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[<span data-ttu-id="55336-312">Übersicht über WIC-Metadaten</span><span class="sxs-lookup"><span data-stu-id="55336-312">WIC Metadata Overview</span></span>](-wic-about-metadata.md)
</dt> <dt>

[<span data-ttu-id="55336-313">Übersicht über das Lesen und Schreiben von Bild Metadaten</span><span class="sxs-lookup"><span data-stu-id="55336-313">Overview of Reading and Writing Image Metadata</span></span>](-wic-codec-readingwritingmetadata.md)
</dt> <dt>

[<span data-ttu-id="55336-314">Übersicht über die metadatenerweiterbarkeit</span><span class="sxs-lookup"><span data-stu-id="55336-314">Metadata Extensibility Overview</span></span>](-wic-codec-metadatahandlers.md)
</dt> <dt>

[<span data-ttu-id="55336-315">Gewusst wie: Erneutes Codieren eines JPEG-Bilds mit Metadaten</span><span class="sxs-lookup"><span data-stu-id="55336-315">How-to: Re-encode a JPEG Image with Metadata</span></span>](-wic-codec-jpegmetadataencoding.md)
</dt> </dl>

 

 



