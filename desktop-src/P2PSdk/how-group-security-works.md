---
description: Für Peer Gruppen ist es erforderlich, dass jedes Mitglied über ein bestimmtes Zertifikat verfügt, das als Gruppenmitglieds Zertifikat (GMC) bezeichnet wird.
ms.assetid: 3966d4eb-4504-4b1e-9c9f-6eab7751d7ed
title: Funktionsweise der Gruppen Sicherheit
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d272e9a0567c6edc300a52cfa206305253ec5a2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865155"
---
# <a name="how-group-security-works"></a><span data-ttu-id="0adb3-103">Funktionsweise der Gruppen Sicherheit</span><span class="sxs-lookup"><span data-stu-id="0adb3-103">How Group Security Works</span></span>

<span data-ttu-id="0adb3-104">Für Peer Gruppen ist es erforderlich, dass jedes Mitglied über ein bestimmtes Zertifikat verfügt, das als Gruppenmitglieds Zertifikat (GMC) bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="0adb3-104">Peer groups require that each member have a specific certificate, which is called a Group Member Certificate (GMC).</span></span> <span data-ttu-id="0adb3-105">Mit dem GMC-Zertifikat wird sichergestellt, dass alle zwischen Peers ausgetauschten Datensätze digital signiert sind.</span><span class="sxs-lookup"><span data-stu-id="0adb3-105">The GMC certificate ensures that all records exchanged between peers are digitally signed.</span></span> <span data-ttu-id="0adb3-106">Der öffentliche Schlüssel eines Peers ist in den Strukturen enthalten, die als Teil der Kommunikation zwischen Peers – einschließlich Peer-Anmelde [**\_ \_ Informationen**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info), übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="0adb3-106">The public key of a peer is contained in the structures that are passed as part of the communication between peers—including [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span></span>

<span data-ttu-id="0adb3-107">Eine GMC kann in einer Kette ausgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="0adb3-107">A GMC can be issued in a chain.</span></span> <span data-ttu-id="0adb3-108">Ein Ersteller kann z. B. eine GMC an Administrator a ausstellen, der eine GMC für Administrator B ausstellen kann, der eine GMC für das Mitglied M ausgeben kann. Die resultierende GMC-Kette ist: Creator->A->B->M, das eine Länge von 4 hat.</span><span class="sxs-lookup"><span data-stu-id="0adb3-108">For example, a creator can issue a GMC to administrator A, who can issue a GMC to administrator B, who can issue a GMC to member M. The resulting GMC chain is: creator->A->B->M, which has a length of 4.</span></span> <span data-ttu-id="0adb3-109">Die Kettenlänge ist wichtig, da Sie nicht länger als 24 sein darf.</span><span class="sxs-lookup"><span data-stu-id="0adb3-109">The chain length is important, because it cannot be longer than 24.</span></span> <span data-ttu-id="0adb3-110">Wenn der 24. Administrator in einer Kette versucht, eine GMC an einen Member auszugeben, gibt [**peergroupissuecredenseins**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) oder [**peergroupkreateinvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) eine Peer- \_ E- \_ Kette \_ zu lang zurück \_ .</span><span class="sxs-lookup"><span data-stu-id="0adb3-110">If the 24th administrator in a chain attempts to issue a GMC to a member, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) or [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) returns PEER\_E\_CHAIN\_TOO\_LONG.</span></span>

<span data-ttu-id="0adb3-111">Eine GMC kann auch durch Aufrufen von " [**Peer groupissuecredenseins**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials)" ausgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="0adb3-111">A GMC can also be issued by calling [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span></span> <span data-ttu-id="0adb3-112">Eine GMC impliziert eine Benutzer Mitgliedschaft in der Gruppe, für die die GMC ausgestellt wird, und kann eine begrenzte oder unbegrenzte Lebensdauer aufweisen.</span><span class="sxs-lookup"><span data-stu-id="0adb3-112">A GMC implies user membership in the group that the GMC is issued for, and can have a finite or infinite lifetime.</span></span> <span data-ttu-id="0adb3-113">Die Aktivität "Gruppenmitglied" darf nicht länger als die in der GMC angegebene Gültigkeitsdauer sein.</span><span class="sxs-lookup"><span data-stu-id="0adb3-113">Group member activity cannot be longer than the lifetime specified in the GMC.</span></span>

> [!Note]  
> <span data-ttu-id="0adb3-114">Die unbegrenzte Lebensdauer der GMC ist zurzeit auf 1000 Jahre festgelegt.</span><span class="sxs-lookup"><span data-stu-id="0adb3-114">Infinite GMC lifetime is currently set at 1000 years.</span></span>

 

<span data-ttu-id="0adb3-115">Die Gruppenmitglieder Aktivität wird durch die GMC-Lebensdauer beschränkt und umfasst Folgendes:</span><span class="sxs-lookup"><span data-stu-id="0adb3-115">Group member activity is limited by the GMC lifetime and includes the following:</span></span>

-   <span data-ttu-id="0adb3-116">Daten **Satz Vorgänge** : ein Peer kann keine Informationen in einer Gruppe veröffentlichen, nachdem die Gruppenmitgliedschaft abgelaufen ist, oder Datensätze veröffentlichen, deren Lebensdauer länger als die Lebensdauer der Peer Mitgliedschaft ist.</span><span class="sxs-lookup"><span data-stu-id="0adb3-116">**Record operations** - A peer cannot publish information in a group after the group membership expires, or publish records that have a lifetime longer than the peer's group membership lifetime.</span></span>
-   <span data-ttu-id="0adb3-117">**Mitgliedschafts Vorgänge** : ein Gruppenadministrator kann keine Mitgliedschaft ausstellen, die über das in der Gruppenadministrator Mitgliedschaft angegebene Datum hinausgeht.</span><span class="sxs-lookup"><span data-stu-id="0adb3-117">**Membership operations** - A group administrator cannot issue a membership that has a lifetime beyond the date specified in the group administrator membership.</span></span> <span data-ttu-id="0adb3-118">Wenn ein Administrator beispielsweise 500 Stunden für die GMC-Lebensdauer verbleiben, müssen alle ausgegebenen Mitgliedschaften weniger als 500 Stunden betragen.</span><span class="sxs-lookup"><span data-stu-id="0adb3-118">For example, if an administrator has 500 hours remaining on its GMC lifetime, all memberships issued must be less than 500 hours.</span></span>

<span data-ttu-id="0adb3-119">Da für ein Gruppenmitglied nicht länger als für den Administrator, der das Mitglied der Gruppe ist, eine Gültigkeitsdauer festgelegt werden kann, empfiehlt es sich, die GMC-Lebensdauer eines Administrators als unendlich oder für eine sehr lange Lebensdauer festzulegen.</span><span class="sxs-lookup"><span data-stu-id="0adb3-119">Because a group member cannot have a lifetime longer than the administrator who invites that group member, it is recommended that you set the GMC lifetime of an administrator as infinite, or for a very long lifetime.</span></span> <span data-ttu-id="0adb3-120">Der Ersteller der Gruppe weist standardmäßig eine unbegrenzte Lebensdauer auf.</span><span class="sxs-lookup"><span data-stu-id="0adb3-120">The group creator has an infinite lifetime by default.</span></span>

## <a name="renewing-group-membership"></a><span data-ttu-id="0adb3-121">Erneuern der Gruppenmitgliedschaft</span><span class="sxs-lookup"><span data-stu-id="0adb3-121">Renewing Group Membership</span></span>

<span data-ttu-id="0adb3-122">Zum Erneuern der Anmelde Informationen eines Administrators oder Mitglieds, dessen GMC-Lebensdauer bereit ist, stehen Ihnen die folgenden beiden Optionen zur folgenden zur Folge:</span><span class="sxs-lookup"><span data-stu-id="0adb3-122">To renew the credentials of an administrator or member whose GMC lifetime is ready to expire, you have the following two options:</span></span>

-   <span data-ttu-id="0adb3-123">Aufrufen von " [**Peer groupissuecredenseins**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) " und übergeben der Identität des Members, dessen Lebensdauer bereit ist, ablaufen zu lassen.</span><span class="sxs-lookup"><span data-stu-id="0adb3-123">Call [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) and pass the identity of the member whose lifetime is ready to expire.</span></span> <span data-ttu-id="0adb3-124">Wenn die Anmelde Informationen als **null** angegeben werden und die Mitgliedschafts Informationen des Peers der Gruppe zur Verfügung stehen, wird die Erneuerungszeit auf dieselbe Dauer festgelegt, die in den zuvor veröffentlichten Anmelde Informationen für das Mitglied angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="0adb3-124">If the credentials are specified as **NULL** and the peer's membership information is available to the group, the renewal time is set to the same duration that is specified in the previously published member credentials.</span></span> <span data-ttu-id="0adb3-125">Wenn ein anderer Zeitraum angegeben werden muss, muss eine neue [**Peer \_ Credential \_ Info**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) -Struktur bereitgestellt werden, die die neue Lebensdauer enthält. Anschließend wird eine neue GMC für das Element veröffentlicht.</span><span class="sxs-lookup"><span data-stu-id="0adb3-125">If a different duration period must be specified, a new [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) structure must be provided that contains the new lifetime duration, and then a new GMC is published for the member.</span></span>

    <span data-ttu-id="0adb3-126">Die [**peergroupissuecredenseins**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) -Funktion übernimmt optional das Kennzeichen für die Peer \_ Gruppen- \_ Anmelde Informationen \_ , mit dem die neuen Anmelde Informationen des Mitglieds in der Gruppen Datenbank automatisch veröffentlicht werden.</span><span class="sxs-lookup"><span data-stu-id="0adb3-126">The [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) function optionally takes the PEER\_GROUP\_STORE\_CREDENTIALS flag, which automatically publishes the new credentials of the member in the group database.</span></span> <span data-ttu-id="0adb3-127">Wenn der Member zum nächsten Mal eine Verbindung mit der Gruppe herstellt, erhält das Mitglied zum ersten Mal oder nach dem Offline schalten die aktualisierte GMC aus der Datenbank.</span><span class="sxs-lookup"><span data-stu-id="0adb3-127">When the member connects to the group the next time, for either the first time or after going offline, the member obtains the updated GMC from the database.</span></span>

-   <span data-ttu-id="0adb3-128">Aufrufen von " [**Peer groupkreateinvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) " zum übergeben der Identität des Members, dessen GMC-Lebensdauer bereit zum ablaufen ist.</span><span class="sxs-lookup"><span data-stu-id="0adb3-128">Call [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) to pass the identity of the member whose GMC lifetime is ready to expire.</span></span> <span data-ttu-id="0adb3-129">Wenn die in der Einladung angegebene Ablaufzeit **null** ist, entspricht die Gültigkeitsdauer der GMC dem Administrator-GMC, der die Mitgliedschaft ausgibt.</span><span class="sxs-lookup"><span data-stu-id="0adb3-129">If the expiration specified in the invitation is **NULL**, the lifetime duration of the GMC is the same as the administrator GMC who issues membership.</span></span> <span data-ttu-id="0adb3-130">Wenn der Ersteller den Ablauf als **null** angibt, wird eine GMC mit einer unendlichen Lebensdauer ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="0adb3-130">If the creator specifies the expiration as **NULL**, a GMC with an infinite lifetime is issued.</span></span>

    <span data-ttu-id="0adb3-131">Wenn für einen Peer eine GMC ausgegeben wird, die vor dem Anwesenheits Lebensdauer-Wert abläuft, sind die Adressen des Peers nicht in den [**\_ peermember**](/windows/desktop/api/P2P/ns-p2p-peer_member) -Strukturen verfügbar, die in der durch einen [**peergroupummembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers)-Aufrufe initiierten Enumeration zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="0adb3-131">If a peer is issued a GMC that expires before the presence lifetime value, the addresses of the peer are not available in the [**PEER\_MEMBER**](/windows/desktop/api/P2P/ns-p2p-peer_member) structures returned in the enumeration initiated by a call to [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span></span> <span data-ttu-id="0adb3-132">Dies liegt daran, dass Anwesenheits Informationen in diesem Fall nicht veröffentlicht werden, auch wenn das Flag zum Deaktivieren des Peers \_ \_ nicht festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="0adb3-132">This happens because presence information is not published in this case, even if the PEER\_DISABLE\_PRESENCE flag is not set.</span></span>

 

 



