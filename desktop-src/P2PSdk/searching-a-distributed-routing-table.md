---
description: Bevor eine Anwendung die verteilte Routing Tabelle (DRT) durchsuchen kann, muss eine Suchabfrage erstellt werden.
ms.assetid: b3403a64-128c-461e-9384-8e62c03322e1
title: Durchsuchen einer verteilten Routing Tabelle
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1c9977ca395393cef09198182fb8790738d2b00c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106347517"
---
# <a name="searching-a-distributed-routing-table"></a><span data-ttu-id="69df0-103">Durchsuchen einer verteilten Routing Tabelle</span><span class="sxs-lookup"><span data-stu-id="69df0-103">Searching a Distributed Routing Table</span></span>

<span data-ttu-id="69df0-104">Bevor eine Anwendung die verteilte Routing Tabelle (DRT) durchsuchen kann, muss eine Suchabfrage erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="69df0-104">Before an application can search the Distributed Routing Table (DRT), a search query must be created.</span></span> <span data-ttu-id="69df0-105">Der gewünschte Schlüsselwert wird von der Anwendung angegeben, wenn die [**drtstartsearch**](/windows/desktop/api/drt/nf-drt-drtstartsearch) -Funktion aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-105">The desired key value is specified by the application when the [**DrtStartSearch**](/windows/desktop/api/drt/nf-drt-drtstartsearch) function is called.</span></span> <span data-ttu-id="69df0-106">Das Verhalten der Suche wird anhand der Informationen bestimmt, die von der Anwendung in der [**DRT- \_ Such \_**](/windows/desktop/api/drt/ns-drt-drt_search_info) Informationsstruktur angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="69df0-106">The behavior of the search is determined by information specified by the application in the [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info) structure.</span></span>

<span data-ttu-id="69df0-107">In der Regel wird ein Anwendungs Ereignis signalisiert, wenn die Suche Ergebnisse erkennt und eine andere am Ende der Suche.</span><span class="sxs-lookup"><span data-stu-id="69df0-107">Typically, an application event is signaled when the search discovers results and another at the conclusion of the search.</span></span> <span data-ttu-id="69df0-108">Wenn jedoch in der [**DRT- \_ Such \_ Info**](/windows/desktop/api/drt/ns-drt-drt_search_info)der Wert für " **fterative** " festgelegt ist, kann ein Anwendungs Ereignis signalisiert werden, wenn der Kontakt mit jedem Knoten auf die gleiche Weise hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-108">However, if **fIterative** is set in [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info), an application event can be signaled when contact is made with each node along the way.</span></span>

<span data-ttu-id="69df0-109">Nachdem ein Ereignis signalisiert wurde, ruft die Anwendung die [**drtgetsearchresult**](/windows/desktop/api/drt/nf-drt-drtgetsearchresult) -Funktion für die Ergebnisse auf.</span><span class="sxs-lookup"><span data-stu-id="69df0-109">After an event is signaled, the application then calls the [**DrtGetSearchResult**](/windows/desktop/api/drt/nf-drt-drtgetsearchresult) function for the results.</span></span> <span data-ttu-id="69df0-110">Wenn der zurückgegebene Code **S \_ OK** ist, wird auf die Ergebnisse in der [**DRT- \_ Such \_ Ergebnis**](/windows/desktop/api/drt/ns-drt-drt_search_result) Struktur verwiesen, die von der API zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-110">If the returned code is **S\_OK**, the results are pointed to in the [**DRT\_SEARCH\_RESULT**](/windows/desktop/api/drt/ns-drt-drt_search_result) structure returned by the API.</span></span> <span data-ttu-id="69df0-111">Die zurückgegebenen Ergebnisse fallen in den Wertebereich, der in [**DRT- \_ Such \_ Informationen**](/windows/desktop/api/drt/ns-drt-drt_search_info)angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="69df0-111">The returned results fall into the range of values specified in [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info).</span></span> <span data-ttu-id="69df0-112">Wenn bei der Suche keine Übereinstimmungen gefunden werden, wird nur der DRT E-Wert zurückgegeben, der beim Abschluss der Ergebnis Rückgabe **\_ \_ nicht \_ mehr** verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-112">In the event that the search finds no matches, only the **DRT\_E\_NO\_MORE** value will be returned at the conclusion of result returns.</span></span>

<span data-ttu-id="69df0-113">Die folgenden Informationen geben Aufschluss darüber, wie die in [**DRT- \_ Such \_ Informationen**](/windows/desktop/api/drt/ns-drt-drt_search_info) enthaltenen Elemente es einer Anwendung ermöglichen, das Suchverhalten der DRT-Infrastruktur genau zu bestimmen:</span><span class="sxs-lookup"><span data-stu-id="69df0-113">The following information details how the members contained in [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info) allow an application to specifically dictate the search behavior of the DRT infrastructure:</span></span>

## <a name="fallowcurrentinstancematch"></a><span data-ttu-id="69df0-114">"f" currentinstancematch</span><span class="sxs-lookup"><span data-stu-id="69df0-114">fAllowCurrentInstanceMatch</span></span>

<span data-ttu-id="69df0-115">Standardmäßig enthalten die DRT-Suchergebnisse nur Übereinstimmungen, die außerhalb des lokalen Knotens gefunden wurden.</span><span class="sxs-lookup"><span data-stu-id="69df0-115">By default, DRT search results include only matches found outside of the local node.</span></span> <span data-ttu-id="69df0-116">Durch Festlegen von " **sallowcurrentinstancematch** " wird angegeben, dass die Suchergebnisse auch Übereinstimmungen in der lokalen DRT-Instanz enthalten.</span><span class="sxs-lookup"><span data-stu-id="69df0-116">Setting **fAllowCurrentInstanceMatch** specifies that the search results also include matches found in the local DRT instance.</span></span>

## <a name="cmaxendpoints"></a><span data-ttu-id="69df0-117">cmaxendpoints</span><span class="sxs-lookup"><span data-stu-id="69df0-117">cMaxEndpoints</span></span>

<span data-ttu-id="69df0-118">Die Menge und der Bereich der Ergebnisse, die von der Suche zurückgegeben werden, werden von der Anwendung mit den Werten **cmaxendpoints** (Menge) und **pminimumkey** und **pmaximumkey** (Range) angegeben, und es wird von der [**DRT- \_ Such \_ Information**](/windows/desktop/api/drt/ns-drt-drt_search_info)darauf verwiesen.</span><span class="sxs-lookup"><span data-stu-id="69df0-118">The quantity and range of the results returned by the search are specified by the application with the **cMaxEndpoints** (quantity) and the **pMinimumKey** and **pMaximumKey** (range) values, and referenced by [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info).</span></span>

<span data-ttu-id="69df0-119">Wenn **cmaxendpoints = 1**, sucht die DRT-Infrastruktur nach einem Schlüssel und gibt eine Entsprechung innerhalb des Bereichs zurück, der durch die Werte **pminimumkey** und **pmaximumkey** in [**DRT- \_ Such \_ Informationen**](/windows/desktop/api/drt/ns-drt-drt_search_info)angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-119">When **cMaxEndpoints = 1**, the DRT infrastructure searches for a key, returning one match within the range specified by the **pMinimumKey** and **pMaximumKey** values in [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info).</span></span> <span data-ttu-id="69df0-120">Diese Entsprechung kann entweder eine genaue Entsprechung oder die nächstgelegene Entsprechung im Bereich sein.</span><span class="sxs-lookup"><span data-stu-id="69df0-120">This match can be either an exact match or the nearest match within range.</span></span> <span data-ttu-id="69df0-121">Wenn keine Entsprechung gefunden wird, wird **DRT \_ E \_ nicht \_ mehr** zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="69df0-121">If a match is not found, **DRT\_E\_NO\_MORE** is returned.</span></span>

<span data-ttu-id="69df0-122">Wenn **cmaxendpoints > 1**, gibt die DRT-Infrastruktur Übereinstimmungen innerhalb des Bereichs bis zum Wert von **cmaxendpoints** zurück.</span><span class="sxs-lookup"><span data-stu-id="69df0-122">If **cMaxEndpoints > 1**, the DRT infrastructure will return matches within the range up to the value of **cMaxEndpoints**.</span></span> <span data-ttu-id="69df0-123">Die zurückgegebenen Übereinstimmungen können eine genaue Übereinstimmung oder die nächsten übereinstimmenden Ergebnisse innerhalb des Bereichs enthalten.</span><span class="sxs-lookup"><span data-stu-id="69df0-123">The returned matches can contain an exact match or the nearest match results within range.</span></span> <span data-ttu-id="69df0-124">Wenn **pminimumkey** und **pmaximumkey** auf denselben Wert festgelegt sind, wird außerdem eine Suche nur für diesen Wert durchgeführt, wobei **DRT \_ E \_ nicht \_ mehr** zurückgegeben wird, wenn er nicht gefunden wurde.</span><span class="sxs-lookup"><span data-stu-id="69df0-124">Additionally, if **pMinimumKey** and **pMaximumKey** are set to the same value, a search is carried out only for that value, returning **DRT\_E\_NO\_MORE** if it is not found.</span></span>

## <a name="fanymatchinrange"></a><span data-ttu-id="69df0-125">fanymatchinrange</span><span class="sxs-lookup"><span data-stu-id="69df0-125">fAnyMatchInRange</span></span>

<span data-ttu-id="69df0-126">Das **fanymatchinrange** -Element gibt an, ob die Suche angehalten wird, nachdem sich die erste Entsprechung innerhalb des angegebenen Bereichs befindet, oder ob die Suche für die nächstgelegene Entsprechung mit dem in der [**drtstartsearch**](/windows/desktop/api/drt/nf-drt-drtstartsearch) -API angegebenen Schlüssel fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-126">The **fAnyMatchInRange** member indicates whether the search will stop after the first match is located within the specified range, or if the search will continue for the closest match to the key specified in the [**DrtStartSearch**](/windows/desktop/api/drt/nf-drt-drtstartsearch) API.</span></span> <span data-ttu-id="69df0-127">Wenn **fanymatchinrange** festgelegt ist, wird die Suche mit **cmaxendpoints = 1** ausgeführt, unabhängig vom angegebenen Wert von **cmaxendpoints** in [**DRT- \_ Such \_ Informationen**](/windows/desktop/api/drt/ns-drt-drt_search_info).</span><span class="sxs-lookup"><span data-stu-id="69df0-127">When **fAnyMatchInRange** is set, the search is carried out with **cMaxEndpoints = 1** regardless of the specified value of **cMaxEndpoints** in [**DRT\_SEARCH\_INFO**](/windows/desktop/api/drt/ns-drt-drt_search_info).</span></span>

## <a name="fiterative"></a><span data-ttu-id="69df0-128">"fterativ"</span><span class="sxs-lookup"><span data-stu-id="69df0-128">fIterative</span></span>

<span data-ttu-id="69df0-129">Der **Member "** Member" gibt an, ob jeder Knoten, der von der DRT-Infrastruktur während der Suche kontaktiert wird, über die Schlüssel-/Endpunktdaten verfügt, die der Anwendung über das [**DRT- \_ Such \_ Ergebnis**](/windows/desktop/api/drt/ns-drt-drt_search_result)zur Verfügung gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="69df0-129">The **fIterative** member specifies if each node contacted by the DRT infrastructure during the search will have the key/endpoint data associated with it made available to the application via [**DRT\_SEARCH\_RESULT**](/windows/desktop/api/drt/ns-drt-drt_search_result).</span></span> <span data-ttu-id="69df0-130">Wenn Sie "" auf " **true**" **festlegen, wird** der Wert von " **cmaxendpoints = 1** " erzwungen.</span><span class="sxs-lookup"><span data-stu-id="69df0-130">By setting **fIterative** to **TRUE**, the value of **cMaxEndpoints = 1** will be forced.</span></span> <span data-ttu-id="69df0-131">Wenn " **fterative** " in einer Suchabfrage für das DRT auf " **true** " festgelegt ist, wird die Anwendung nach Kontakt mit jedem Knoten oder "Hop" zurückgerufen.</span><span class="sxs-lookup"><span data-stu-id="69df0-131">When **fIterative** is set to **TRUE** within a search query for the DRT, the application is called back after contact with each node or "hop."</span></span> <span data-ttu-id="69df0-132">Jedes Hop-Ergebnis enthält einen Schlüssel, der angibt, welcher Knoten von der DRT als nächstes durchsucht wird.</span><span class="sxs-lookup"><span data-stu-id="69df0-132">Each hop result contains a key indicating which node the DRT will search next.</span></span> <span data-ttu-id="69df0-133">Ein Hop-Ergebnis wird über [**drtgetsearchresult**](/windows/desktop/api/drt/nf-drt-drtgetsearchresult) als ein DRT-Übereinstimmungs **\_ \_ zwischen** Ergebnis zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="69df0-133">A hop result is returned via [**DrtGetSearchResult**](/windows/desktop/api/drt/nf-drt-drtgetsearchresult) as a **DRT\_MATCH\_INTERMEDIATE** result.</span></span>

## <a name="pminimumkey-and-pmaximumkey"></a><span data-ttu-id="69df0-134">pminimumkey und pmaximumkey</span><span class="sxs-lookup"><span data-stu-id="69df0-134">pMinimumKey and pMaximumKey</span></span>

<span data-ttu-id="69df0-135">Die Member **pminimumkey** und **pmaximumkey** können verwendet werden, um nach Schlüsseln zu suchen, die in einem Bereich liegen.</span><span class="sxs-lookup"><span data-stu-id="69df0-135">The **pMinimumKey** and **pMaximumKey** members can be used to search for keys falling within a range.</span></span> <span data-ttu-id="69df0-136">Wenn das **fanymatchinrange** -Element auf **false** festgelegt ist, gibt der DRT die nächstgelegenen Schlüssel an das Such Ziel zurück (angegeben mithilfe des pkey-Arguments, das in der [**drtstartsearch**](/windows/desktop/api/drt/nf-drt-drtstartsearch) -Funktion übergeben wird), das innerhalb des Bereichs liegt.</span><span class="sxs-lookup"><span data-stu-id="69df0-136">If the **fAnyMatchInRange** member is set to **FALSE**, the DRT will return the closest key(s) to the search target (specified using the pKey argument passed in the [**DrtStartSearch**](/windows/desktop/api/drt/nf-drt-drtstartsearch) function) falling within the range.</span></span> <span data-ttu-id="69df0-137">Beachten Sie, dass das an **drtstartsearch** weiter gegebene *pkey* -Argument in den von **pminimumkey** und **pmaximumkey** definierten Bereich liegen muss.</span><span class="sxs-lookup"><span data-stu-id="69df0-137">Note that the *pKey* argument passed to **DrtStartSearch** must fall within the range defined by **pMinimumKey** and **pMaximumKey**.</span></span> <span data-ttu-id="69df0-138">Um nach einem präzisen Schlüssel zu suchen, legen Sie **pminimumkey**, **pmaximumkey** und *pkey* auf denselben Wert fest.</span><span class="sxs-lookup"><span data-stu-id="69df0-138">To search for a precise key, set **pMinimumKey**, **pMaximumKey** and *pKey* to the same value.</span></span>

## <a name="related-topics"></a><span data-ttu-id="69df0-139">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="69df0-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="69df0-140">Registrieren und Aufheben der Registrierung von Schlüsseln</span><span class="sxs-lookup"><span data-stu-id="69df0-140">Registering and Deregistering Keys</span></span>](registering-and-deregistering-keys.md)
</dt> <dt>

[<span data-ttu-id="69df0-141">Informationen zu verteilten Routing Tabellen</span><span class="sxs-lookup"><span data-stu-id="69df0-141">About Distributed Routing Tables</span></span>](about-distributed-routing-tables.md)
</dt> <dt>

[<span data-ttu-id="69df0-142">Tabellen-API Referenz zu verteiltem Routing</span><span class="sxs-lookup"><span data-stu-id="69df0-142">Distributed Routing Table API Reference</span></span>](distributed-routing-table-api-reference.md)
</dt> </dl>

 

 



