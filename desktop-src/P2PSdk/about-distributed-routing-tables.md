---
description: Eine verteilte Routing Tabelle (DRT) ist als Netz von zusammen hängenten Knoten vorhanden, wobei jeder Knoten eine Instanz einer Anwendung ist, die die DRT-API verwendet.
ms.assetid: 257ad7ea-636b-45f2-b514-4a213939d107
title: Informationen zu verteilten Routing Tabellen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2dfca9f81cc609d97584ef5a11f999722c696858
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103865183"
---
# <a name="about-distributed-routing-tables"></a><span data-ttu-id="0fd3a-103">Informationen zu verteilten Routing Tabellen</span><span class="sxs-lookup"><span data-stu-id="0fd3a-103">About Distributed Routing Tables</span></span>

<span data-ttu-id="0fd3a-104">Eine verteilte Routing Tabelle (DRT) ist als Netz von zusammen hängenten Knoten vorhanden, wobei jeder Knoten eine Instanz einer Anwendung ist, die die DRT-API verwendet.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-104">A Distributed Routing Table (DRT) exists as a mesh of cooperating nodes, where each node is an instance of an application using the DRT API.</span></span> <span data-ttu-id="0fd3a-105">Knoten, die Schlüssel veröffentlichen, sind dafür verantwortlich, anderen Knoten das Veröffentlichen und Auflösen von Schlüsseln zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-105">Nodes that publish keys are responsible for assisting other nodes publish and resolve keys.</span></span> <span data-ttu-id="0fd3a-106">Knoten können auch in eine "nur auflösen"-Weise einbezogen werden, die keine Unterstützung für Peers erfordert.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-106">Nodes can also participate in a "resolve only" fashion, which does not require them to assist peers.</span></span> <span data-ttu-id="0fd3a-107">Das DRT-Protokoll wird über einen UDP/IPv6-Transport ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-107">The DRT protocol executes over a UDP/IPv6 transport.</span></span>

<span data-ttu-id="0fd3a-108">Ein Knoten, der einen Schlüssel veröffentlicht, erstellt und verwaltet eine lokale Routing Tabelle mit anderen Knoten im Mesh.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-108">A node that publishes a key builds and maintains a local routing table of other nodes in the mesh.</span></span> <span data-ttu-id="0fd3a-109">Diese Routing Tabelle ist so optimiert, dass der Knoten schnell einen bestimmten Schlüssel im Mesh finden kann, indem er den Schlüssel direkt in der lokalen Routing Tabelle findet oder wenn andere Knoten die Schlüssel numerisch in der Nähe des Ziels veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-109">This routing table is optimized so that the node can quickly locate a specific key in the mesh by finding the key directly in the local routing table, or by asking other nodes publishing keys numerically close to the target.</span></span> <span data-ttu-id="0fd3a-110">Diese Aktion wird wiederholt, bis der erforderliche Schlüssel gefunden wird, oder der Knoten bestimmt, dass kein solcher Schlüssel vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-110">This action is repeated until the required key is found or the node determines that no such key exists.</span></span>

<span data-ttu-id="0fd3a-111">Bei DRT-Schlüsseln handelt es sich um 256-Bit-Ganzzahlen ohne Vorzeichen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-111">DRT keys are 256-bit unsigned integers.</span></span> <span data-ttu-id="0fd3a-112">Die Nähe zwischen Schlüsseln wird durch den numerischen Unterschied zwischen den Schlüsseln definiert.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-112">Closeness between keys is defined by the numerical difference between them.</span></span> <span data-ttu-id="0fd3a-113">Der DRT-Keyspace gilt als zirkulär.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-113">The DRT keyspace is considered circular.</span></span> <span data-ttu-id="0fd3a-114">Beispielsweise werden der erste mögliche Schlüsselwert und der letzte mögliche Schlüsselwert als Nachbarn betrachtet.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-114">For example, the first possible key value, and the last possible key value are considered neighbors.</span></span>

<span data-ttu-id="0fd3a-115">In einem sicheren DRT sind Knoten erforderlich, um die von Ihnen veröffentlichten Schlüssel zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-115">In a secure DRT, nodes are required to authenticate the keys they publish.</span></span> <span data-ttu-id="0fd3a-116">Der Mechanismus, mit dem Knoten authentifiziert werden, muss mithilfe der DRT-API festgelegt werden, wenn das DRT initialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-116">The mechanism by which nodes authenticate keys must be set using the DRT API when the DRT is initialized.</span></span> <span data-ttu-id="0fd3a-117">Dies erfolgt durch Auswählen eines Sicherheits Anbieters für das DRT.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-117">This is done by choosing a security provider for the DRT.</span></span> <span data-ttu-id="0fd3a-118">Ein Sicherheitsanbieter ist ein Modul, das Token zum Authentifizieren von Schlüsseln erzeugen und Token überprüfen kann, die von anderen Knoten erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-118">A security provider is a module that can produce tokens used to authenticate keys, and verify tokens produced by other nodes.</span></span> <span data-ttu-id="0fd3a-119">Es muss die in dieser Dokumentation definierte Sicherheitsanbieter Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-119">It must implement the security provider interface that is defined in this documentation.</span></span> <span data-ttu-id="0fd3a-120">Windows 7 DRT ist mit zwei vollständig implementierten Sicherheitsanbietern ausgeliefert, die zum Erstellen von Windows-Anwendungen verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-120">The Windows 7 DRT ships with two fully implemented security providers that can be used to build Windows applications.</span></span>

<span data-ttu-id="0fd3a-121">Während der Initialisierung muss eine Anwendung auch das DRT mit einem Bootstrap-Anbieter bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-121">During initialization, an application must also supply the DRT with a bootstrap provider.</span></span> <span data-ttu-id="0fd3a-122">Der Bootstrap-Anbieter ist ein Modul, das die Netzwerk Endpunkte von Knoten abrufen kann, die bereits im DRT-Mesh vorhanden sind, und von der DRT aufgerufen wird, wenn ein neuer Knoten eingerichtet wird.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-122">The bootstrap provider is a module that can retrieve the network endpoints of nodes already present in the DRT mesh, and is called upon by the DRT when a new node is established.</span></span> <span data-ttu-id="0fd3a-123">Wie das Sicherheitsanbieter Modul muss der Bootstrap-Anbieter eine klar definierte Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-123">Like the security provider module, the bootstrap provider must implement a well defined interface.</span></span> <span data-ttu-id="0fd3a-124">Windows 7 DRT wird mit zwei vollständig implementierten Bootstrap-Anbietern ausgeliefert.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-124">The Windows 7 DRT ships with two fully implemented bootstrap providers.</span></span>

<span data-ttu-id="0fd3a-125">Der DRT berücksichtigt die unmittelbaren Nachbarn eines Schlüssel besonderen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-125">The DRT considers the immediate neighbors of a key special.</span></span> <span data-ttu-id="0fd3a-126">Die fünf nächstgelegenen Schlüssel sind numerisch kleiner, und die fünf nächsten Schlüssel, die numerisch größer als ein veröffentlichter Schlüssel sind, bilden eine Blatt Menge.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-126">The five closest keys numerically smaller and the five closest keys numerically larger than a published key form what is called a leaf set.</span></span> <span data-ttu-id="0fd3a-127">Der DRT meldet mithilfe der DRT-API Änderungen an der Blatt Gruppe eines Schlüssels.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-127">The DRT reports changes to the leaf set of a key through the DRT API.</span></span>

## <a name="drt-life-cycle-and-state-transitions"></a><span data-ttu-id="0fd3a-128">DRT-Lebenszyklus und Zustandsübergänge</span><span class="sxs-lookup"><span data-stu-id="0fd3a-128">DRT Life Cycle and State Transitions</span></span>

<span data-ttu-id="0fd3a-129">Eine Anwendung kann eine lokale DRT-Instanz mithilfe der [**drtopen**](/windows/desktop/api/drt/nf-drt-drtopen) -Funktion initialisieren.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-129">An application can initialize a local DRT instance using the [**DrtOpen**](/windows/desktop/api/drt/nf-drt-drtopen) function.</span></span> <span data-ttu-id="0fd3a-130">Diese Funktion löst den Bootstrapping-Prozess aus, bei dem die DRT-API auf dem Bootstrap-Anbieter aufruft, um die Schlüssel und Netzwerk Endpunkte anderer Knoten zu erlernen, die bereits an der DRT teilnehmen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-130">This function triggers the bootstrapping process, where the DRT API calls upon the bootstrap provider to learn the keys and network endpoints of other nodes already participating in the DRT.</span></span> <span data-ttu-id="0fd3a-131">Wenn der Bootstrap-Anbieter erfolgreich mindestens einen anderen Knoten eingibt, wechselt der DRT in den aktiven DRT- \_ Zustand.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-131">If the bootstrap provider successfully locates at least one other node, the DRT enters the DRT\_ACTIVE state.</span></span> <span data-ttu-id="0fd3a-132">In diesem Zustand kann die Anwendung nach Schlüsseln suchen, die von anderen Knoten veröffentlicht werden, und es können Schlüssel veröffentlicht werden, die aufgelöst werden können.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-132">In this state, the application can search for keys published by other nodes, and can publish keys that can be resolved.</span></span> <span data-ttu-id="0fd3a-133">Wenn der Bootstrap-Anbieter andere Knoten nicht finden kann, wechselt der DRT in den \_ Zustand DRT allein.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-133">If the bootstrap provider cannot successfully locate other nodes, the DRT enters the DRT\_ALONE state.</span></span> <span data-ttu-id="0fd3a-134">Der DRT bleibt im Zustand "DRT \_ allein", und es wird versucht, in regelmäßigen Abständen Bootstrap durchführen, um Peers zu finden und in den aktiven DRT-Zustand zu wechseln \_ .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-134">The DRT will stay in the DRT\_ALONE state and will attempt to bootstrap periodically in order to locate peers and move to the DRT\_ACTIVE state.</span></span>

<span data-ttu-id="0fd3a-135">Ein Knoten kann von DRT aktiv in diese Zustände übergehen \_ .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-135">A node can transition to these states from DRT\_ACTIVE.</span></span>

| <span data-ttu-id="0fd3a-136">Lebenszyklus Status</span><span class="sxs-lookup"><span data-stu-id="0fd3a-136">Life Cycle State</span></span> | <span data-ttu-id="0fd3a-137">Bedingungen</span><span class="sxs-lookup"><span data-stu-id="0fd3a-137">Conditions</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                 |
|------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0fd3a-138">nur DRT \_</span><span class="sxs-lookup"><span data-stu-id="0fd3a-138">DRT\_ALONE</span></span>       | <span data-ttu-id="0fd3a-139">Der lokale Knoten hat keine anderen Knoten in der DRT erkannt.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-139">The local node has not discovered other nodes in the DRT.</span></span> <span data-ttu-id="0fd3a-140">In diesem Status lauscht der Knoten weiterhin auf andere Knoten innerhalb des DRT.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-140">While in this state, the node continues to listen for other nodes within the DRT.</span></span><br/> <span data-ttu-id="0fd3a-141">Wenn der DRT ein anderer Knoten Beitritt, wechselt der lokale Knoten in den aktiven DRT- \_ Zustand.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-141">If another node joins the DRT, the local node will transition to the DRT\_ACTIVE state.</span></span> <span data-ttu-id="0fd3a-142">Wenn das Netzwerk nicht herunter ist, geht es in "DRT \_ No Network" über \_ .</span><span class="sxs-lookup"><span data-stu-id="0fd3a-142">If the network is down, it will transition to DRT\_NO\_NETWORK.</span></span> <span data-ttu-id="0fd3a-143">Im Falle eines schwerwiegenden Fehlers mit der DRT wechselt der Knoten in den Zustand DRT \_ Faulted.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-143">In the event of a serious error with the DRT the node will transition to the DRT\_FAULTED state.</span></span><br/> |
| <span data-ttu-id="0fd3a-144">DRT \_ kein \_ Netzwerk</span><span class="sxs-lookup"><span data-stu-id="0fd3a-144">DRT\_NO\_NETWORK</span></span> | <span data-ttu-id="0fd3a-145">Wenn ein Knoten die Netzwerk Konnektivität verliert, wechselt er in den Zustand "DRT \_ ohne \_ Netzwerk".</span><span class="sxs-lookup"><span data-stu-id="0fd3a-145">When a node loses network connectivity, it transitions to the DRT\_NO\_NETWORK state.</span></span> <span data-ttu-id="0fd3a-146">An diesem Punkt kann die Anwendung auf die Wiederherstellung der Netzwerkverbindung warten und das DRT schließen.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-146">At this point the application can wait for network connectivity to be restored, and can close the DRT.</span></span><br/>                                                                                                                                                                                                                    |
| <span data-ttu-id="0fd3a-147">DRT \_ Faulted</span><span class="sxs-lookup"><span data-stu-id="0fd3a-147">DRT\_FAULTED</span></span>     | <span data-ttu-id="0fd3a-148">Schwerwiegender Fehler im lokalen Knoten.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-148">A serious error has occurred within the local node.</span></span> <span data-ttu-id="0fd3a-149">Beispielsweise, wenn der physische Arbeitsspeicher auf dem lokalen Computer nicht mehr vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-149">For example, if the local machine runs out of physical memory.</span></span><br/> <span data-ttu-id="0fd3a-150">Während ein Knoten in diesen Zustand versetzt wird, muss die Anwendung die [**drtclose**](/windows/desktop/api/drt/nf-drt-drtclose) -API anrufen, das Problem beheben und das DRT mit [**drtopen**](/windows/desktop/api/drt/nf-drt-drtopen)erneut initialisieren.</span><span class="sxs-lookup"><span data-stu-id="0fd3a-150">While a node enters this state, the application must call the [**DrtClose**](/windows/desktop/api/drt/nf-drt-drtclose) API, correct the problem, and re-initialize the DRT with [**DrtOpen**](/windows/desktop/api/drt/nf-drt-drtopen).</span></span><br/>                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="0fd3a-151">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="0fd3a-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0fd3a-152">Verwenden des Tabellen-API für verteilten Routing</span><span class="sxs-lookup"><span data-stu-id="0fd3a-152">Using the Distributed Routing Table API</span></span>](using-the-distributed-routing-table-api.md)
</dt> <dt>

[<span data-ttu-id="0fd3a-153">Tabellen-API Referenz zu verteiltem Routing</span><span class="sxs-lookup"><span data-stu-id="0fd3a-153">Distributed Routing Table API Reference</span></span>](distributed-routing-table-api-reference.md)
</dt> </dl>

 

 




