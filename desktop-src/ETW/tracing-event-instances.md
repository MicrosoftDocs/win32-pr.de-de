---
description: Klassische Anbieter verwenden die traceeventinstance-Funktion, um Ereignisse zu verfolgen, die Teil einer einzelnen Transaktion sind. Sie können diese Funktion auch verwenden, um übergeordnete/untergeordnete Ereignisse zu verfolgen.
ms.assetid: 246e9443-3120-49bf-a6e3-64dddba348fa
title: Schreiben verwandter Ereignisse in einem klassischen Anbieter
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 771b08a66625d5cd6e723fbc2e12eed87bd1d434
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104350328"
---
# <a name="writing-related-events-in-a-classic-provider"></a><span data-ttu-id="4c5ff-104">Schreiben verwandter Ereignisse in einem klassischen Anbieter</span><span class="sxs-lookup"><span data-stu-id="4c5ff-104">Writing Related Events in a Classic Provider</span></span>

<span data-ttu-id="4c5ff-105">[Klassische](about-event-tracing.md) Anbieter verwenden die [**traceeventinstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) -Funktion, um Ereignisse zu verfolgen, die Teil einer einzelnen Transaktion sind.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-105">[Classic](about-event-tracing.md) providers use the [**TraceEventInstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) function to trace events that are part of a single transaction.</span></span> <span data-ttu-id="4c5ff-106">Sie können diese Funktion auch verwenden, um übergeordnete/untergeordnete Ereignisse zu verfolgen.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-106">You can also use this function to trace parent/child events.</span></span>

<span data-ttu-id="4c5ff-107">Bevor Sie die [**traceeventinstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) -Funktion aufrufen, müssen Sie zuerst die [**createtraceinstanceid-**](/windows/win32/api/evntrace/nf-evntrace-createtraceinstanceid) Funktion aufrufen, um einen Transaktions Bezeichner zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-107">Before calling the [**TraceEventInstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) function, you must first call the [**CreateTraceInstanceId**](/windows/win32/api/evntrace/nf-evntrace-createtraceinstanceid) function to obtain a transaction identifier.</span></span> <span data-ttu-id="4c5ff-108">Diese Funktion generiert einen eindeutigen Transaktions Bezeichner und ordnet ihn einem registrierten Klassen-GUID-Handle zu.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-108">This function generates a unique transaction identifier, and maps it to a registered class GUID handle.</span></span> <span data-ttu-id="4c5ff-109">Die Handles für registrierte Klassen-GUIDs sind in den **reghandle** -Membern von [**Ablaufverfolgungs- \_ GUID- \_ Registrierungs**](/windows/win32/api/evntrace/ns-evntrace-trace_guid_registration) Strukturen nach dem Aufrufen der [**registertraceguids**](/windows/win32/api/evntrace/nf-evntrace-registertraceguidsa) -Funktion verfügbar.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-109">The handles for registered class GUIDs are available in the **RegHandle** members of [**TRACE\_GUID\_REGISTRATION**](/windows/win32/api/evntrace/ns-evntrace-trace_guid_registration) structures, after calling the [**RegisterTraceGuids**](/windows/win32/api/evntrace/nf-evntrace-registertraceguidsa) function.</span></span> <span data-ttu-id="4c5ff-110">Der Transaktions Bezeichner wird in den **InstanceId-** Member einer [**\_ ereignisinstanzinfo \_**](/windows/win32/api/evntrace/ns-evntrace-event_instance_info) -Struktur eingefügt, die Sie an die Funktion " **kreatetraceinstanceid** " übergeben.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-110">The transaction identifier is placed in the **InstanceId** member of an [**EVENT\_INSTANCE\_INFO**](/windows/win32/api/evntrace/ns-evntrace-event_instance_info) structure that you pass to the **CreateTraceInstanceId** function.</span></span>

<span data-ttu-id="4c5ff-111">Die [**Ereignis \_ Instanz- \_ Header**](/windows/win32/api/evntrace/ns-evntrace-event_instance_header) Struktur, die an die [**traceeventinstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) -Funktion weitergegeben wird, ähnelt der Ereignis-Ablauf Verfolgungs [**\_ \_ Header**](/windows/win32/api/evntrace/ns-evntrace-event_trace_header) -Struktur (siehe Ablauf [Verfolgungs Ereignisse](tracing-events.md)), mit der Ausnahme, dass Sie zusätzliche Informationen zu-Instanzen enthält und keinen **GUID** -Member enthält.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-111">The [**EVENT\_INSTANCE\_HEADER**](/windows/win32/api/evntrace/ns-evntrace-event_instance_header) structure that is passed to the [**TraceEventInstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) function is similar to the [**EVENT\_TRACE\_HEADER**](/windows/win32/api/evntrace/ns-evntrace-event_trace_header) structure (see [Tracing Events](tracing-events.md)), except that it contains additional information relating to instances, and does not contain a **Guid** member.</span></span>

<span data-ttu-id="4c5ff-112">Ereignis Instanzen können verwendet werden, um eine hierarchische Beziehung zwischen Ereignissen herzustellen.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-112">Event instances can be used to establish a hierarchical relationship between events.</span></span> <span data-ttu-id="4c5ff-113">Die [**traceeventinstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) -Funktion akzeptiert instanzspezifische Informationen aus zwei Ereignis Instanzen.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-113">The [**TraceEventInstance**](/windows/win32/api/evntrace/nf-evntrace-traceeventinstance) function accepts instance-specific information from two event instances.</span></span> <span data-ttu-id="4c5ff-114">Der *pinstinfo* -Parameter verweist auf die [**Ereignis \_ Instanz- \_ Informations**](/windows/win32/api/evntrace/ns-evntrace-event_instance_info) Struktur der Ereignis Instanz, und der *pparameentinstinfo* -Parameter verweist auf die **ereignisinstanzinfo \_ \_** -Struktur einer übergeordneten Ereignis Instanz.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-114">The *pInstInfo* parameter points to the [**EVENT\_INSTANCE\_INFO**](/windows/win32/api/evntrace/ns-evntrace-event_instance_info) structure of the event instance, and the *pParentInstInfo* parameter points to the **EVENT\_INSTANCE\_INFO** structure of a parent event instance.</span></span> <span data-ttu-id="4c5ff-115">Die Definition einer "übergeordneten" Ereignis Instanz ist von der Anwendung definiert. das übergeordnete Element kann eine beliebige Instanz sein, die bereits generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="4c5ff-115">The definition of a "parent" event instance is application-defined; the parent can be any instance that has already been generated.</span></span>

 

 
