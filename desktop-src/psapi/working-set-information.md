---
title: Workingsetinformationen
description: Das Workingset eines Prozesses ist die Menge an Arbeitsspeicher, die physisch dem Prozess Kontext zugeordnet ist. PSAPI ermöglicht das Erstellen von Momentaufnahmen des Workingsets oder das Überwachen des Workingsets.
ms.assetid: 33c42f79-cc77-4d44-84c3-8bf0a4a60019
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ea3942796ec1150dee411d6074b13f9ee2be4a22
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104102159"
---
# <a name="working-set-information"></a><span data-ttu-id="008d8-104">Workingsetinformationen</span><span class="sxs-lookup"><span data-stu-id="008d8-104">Working Set Information</span></span>

<span data-ttu-id="008d8-105">Das Workingset eines Prozesses ist die Menge an Arbeitsspeicher, die physisch dem Prozess Kontext zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="008d8-105">The working set of a process is the amount of memory physically mapped to its process context.</span></span> <span data-ttu-id="008d8-106">PSAPI ermöglicht das Erstellen von Momentaufnahmen des Workingsets oder das Überwachen des Workingsets.</span><span class="sxs-lookup"><span data-stu-id="008d8-106">PSAPI enables you to take snapshots of the working set or to monitor the working set.</span></span>

<span data-ttu-id="008d8-107">Die [**queryworkingset**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) -oder [**queryworkingsetex**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) -Funktion füllt einen Puffer mit einer Momentaufnahme der Informationen für jede Seite im aktuellen Workingset des angegebenen Prozesses aus.</span><span class="sxs-lookup"><span data-stu-id="008d8-107">The [**QueryWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) or [**QueryWorkingSetEx**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) function fills a buffer with a snapshot of the information for every page in the current working set of the specified process.</span></span> <span data-ttu-id="008d8-108">Die-Funktion meldet nur die Seiten, die physisch vorhanden sind, wenn Sie aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="008d8-108">The function reports only those pages that are physically present at the exact moment it is called.</span></span>

<span data-ttu-id="008d8-109">Mithilfe der workingsetüberwachung können Sie feststellen, wie viel zusätzlicher RAM ein bestimmter Vorgang benötigt (z. b. das Speichern einer Datei).</span><span class="sxs-lookup"><span data-stu-id="008d8-109">You can use working set monitoring to find out how much additional RAM a particular operation takes (for example, saving a file).</span></span> <span data-ttu-id="008d8-110">Um mit der Überwachung des Workingsets zu beginnen, müssen Sie die [**initializeprocessforwswatch**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="008d8-110">To begin monitoring the working set, call the [**InitializeProcessForWsWatch**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch) function.</span></span> <span data-ttu-id="008d8-111">Nicht alle Prozesse ermöglichen es Ihnen, ihre Workingsetinformationen zu lesen. Achten Sie daher darauf, dass die Funktion einen Wert ungleich 0 zurückgibt, bevor Sie fortfahren</span><span class="sxs-lookup"><span data-stu-id="008d8-111">Not all processes let you read their working set information, so be sure that the function returns a nonzero value before you continue.</span></span> <span data-ttu-id="008d8-112">Als nächstes wird die [**getwschanges**](/windows/desktop/api/Psapi/nf-psapi-getwschanges) -Funktion aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="008d8-112">Next, call the [**GetWsChanges**](/windows/desktop/api/Psapi/nf-psapi-getwschanges) function.</span></span> <span data-ttu-id="008d8-113">Diese Funktion meldet nur die Seiten, die seit der Überwachung des Workingsets in den Arbeitsspeicher geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="008d8-113">This function reports only the pages that have been loaded in memory since you began monitoring the working set.</span></span> <span data-ttu-id="008d8-114">Die-Funktion gibt Daten in einem Array von [**PSAPI \_ WS- \_ Überwachungs \_ Informations**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) Strukturen zurück, eine Struktur für jede neue Seite, die dem Workingset des Prozesses hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="008d8-114">The function returns data in an array of [**PSAPI\_WS\_WATCH\_INFORMATION**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) structures, one structure for each new page added to the working set of the process.</span></span> <span data-ttu-id="008d8-115">Die-Struktur gibt Aufschluss darüber, welche Seiten im Arbeitsspeicher vorhanden sind und was bewirkt hat, dass das System Sie ausstellt.</span><span class="sxs-lookup"><span data-stu-id="008d8-115">The structure tells you which pages are in memory, and what caused the system to page them in.</span></span>

<span data-ttu-id="008d8-116">Die [**EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) -Funktion nimmt ein Prozess handle an.</span><span class="sxs-lookup"><span data-stu-id="008d8-116">The [**EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) function takes a process handle.</span></span> <span data-ttu-id="008d8-117">Es entfernt so viele Seiten wie möglich aus dem Arbeits Satz des Prozesses.</span><span class="sxs-lookup"><span data-stu-id="008d8-117">It removes as many pages as possible from the process working set.</span></span> <span data-ttu-id="008d8-118">Dieser Vorgang ist hauptsächlich zum Testen und optimieren nützlich.</span><span class="sxs-lookup"><span data-stu-id="008d8-118">This operation is useful primarily for testing and tuning.</span></span> <span data-ttu-id="008d8-119">Beachten Sie, dass die Funktion " [**SetProcessWorkingSetSize**](/windows/desktop/api/winbase/nf-winbase-setprocessworkingsetsize) " das gleiche bewirkt, wenn Sie "-1" für die Mindest-und Höchstgröße übergeben.</span><span class="sxs-lookup"><span data-stu-id="008d8-119">Note that the [**SetProcessWorkingSetSize**](/windows/desktop/api/winbase/nf-winbase-setprocessworkingsetsize) function does the same thing if you pass it -1 for the minimum and maximum sizes.</span></span>

## <a name="related-topics"></a><span data-ttu-id="008d8-120">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="008d8-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="008d8-121">Arbeitssatz</span><span class="sxs-lookup"><span data-stu-id="008d8-121">Working Set</span></span>](/windows/desktop/Memory/working-set)
</dt> </dl>

 

 