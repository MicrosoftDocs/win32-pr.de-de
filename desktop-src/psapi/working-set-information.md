---
title: Informationen zum Arbeitssatz
description: Der Arbeitssatz eines Prozesses ist die Menge an Arbeitsspeicher, die dem Prozesskontext physisch zugeordnet ist. Mit PSAPI können Sie Momentaufnahmen des Arbeitssets erstellen oder den Arbeitssatz überwachen.
ms.assetid: 33c42f79-cc77-4d44-84c3-8bf0a4a60019
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56e1e4dc0a68a9d4507a94ad1f5356432f8488a
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549862"
---
# <a name="working-set-information"></a><span data-ttu-id="1b98c-104">Informationen zum Arbeitssatz</span><span class="sxs-lookup"><span data-stu-id="1b98c-104">Working Set Information</span></span>

<span data-ttu-id="1b98c-105">Der Arbeitssatz eines Prozesses ist die Menge an Arbeitsspeicher, die dem Prozesskontext physisch zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="1b98c-105">The working set of a process is the amount of memory physically mapped to its process context.</span></span> <span data-ttu-id="1b98c-106">Mit PSAPI können Sie Momentaufnahmen des Arbeitssets erstellen oder den Arbeitssatz überwachen.</span><span class="sxs-lookup"><span data-stu-id="1b98c-106">PSAPI enables you to take snapshots of the working set or to monitor the working set.</span></span>

<span data-ttu-id="1b98c-107">Die [**QueryWorkingSet-**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) oder [**QueryWorkingSetEx-Funktion**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) füllt einen Puffer mit einer Momentaufnahme der Informationen für jede Seite im aktuellen Arbeitssatz des angegebenen Prozesses.</span><span class="sxs-lookup"><span data-stu-id="1b98c-107">The [**QueryWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-queryworkingset) or [**QueryWorkingSetEx**](/windows/desktop/api/Psapi/nf-psapi-queryworkingsetex) function fills a buffer with a snapshot of the information for every page in the current working set of the specified process.</span></span> <span data-ttu-id="1b98c-108">Die Funktion meldet nur die Seiten, die zu dem Zeitpunkt physisch vorhanden sind, zu dem sie aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="1b98c-108">The function reports only those pages that are physically present at the exact moment it is called.</span></span>

<span data-ttu-id="1b98c-109">Sie können die Arbeitssatzüberwachung verwenden, um herauszufinden, wie viel zusätzlicher RAM ein bestimmter Vorgang benötigt (z. B. das Speichern einer Datei).</span><span class="sxs-lookup"><span data-stu-id="1b98c-109">You can use working set monitoring to find out how much additional RAM a particular operation takes (for example, saving a file).</span></span> <span data-ttu-id="1b98c-110">Um mit der Überwachung des Arbeitssets zu beginnen, rufen Sie die [**InitializeProcessForWsWatch-Funktion**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch) auf.</span><span class="sxs-lookup"><span data-stu-id="1b98c-110">To begin monitoring the working set, call the [**InitializeProcessForWsWatch**](/windows/desktop/api/Psapi/nf-psapi-initializeprocessforwswatch) function.</span></span> <span data-ttu-id="1b98c-111">Nicht bei allen Prozessen können Sie ihre Arbeitssatzinformationen lesen. Stellen Sie daher sicher, dass die Funktion einen Wert ungleich 0 (null) zurückgibt, bevor Sie fortfahren.</span><span class="sxs-lookup"><span data-stu-id="1b98c-111">Not all processes let you read their working set information, so be sure that the function returns a nonzero value before you continue.</span></span> <span data-ttu-id="1b98c-112">Rufen Sie als Nächstes die [**GetWsChanges-Funktion**](/windows/desktop/api/Psapi/nf-psapi-getwschanges) auf.</span><span class="sxs-lookup"><span data-stu-id="1b98c-112">Next, call the [**GetWsChanges**](/windows/desktop/api/Psapi/nf-psapi-getwschanges) function.</span></span> <span data-ttu-id="1b98c-113">Diese Funktion meldet nur die Seiten, die seit beginn der Überwachung des Arbeitssets in den Arbeitsspeicher geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="1b98c-113">This function reports only the pages that have been loaded in memory since you began monitoring the working set.</span></span> <span data-ttu-id="1b98c-114">Die Funktion gibt Daten in einem Array von [**\_ PSAPI WS \_ WATCH \_ INFORMATION-Strukturen**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) zurück, eine Struktur für jede neue Seite, die dem Arbeitssatz des Prozesses hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="1b98c-114">The function returns data in an array of [**PSAPI\_WS\_WATCH\_INFORMATION**](/windows/desktop/api/Psapi/ns-psapi-psapi_ws_watch_information) structures, one structure for each new page added to the working set of the process.</span></span> <span data-ttu-id="1b98c-115">Die -Struktur teilt Ihnen mit, welche Seiten sich im Arbeitsspeicher befinden und was das System dazu führte, dass sie ausblättern.</span><span class="sxs-lookup"><span data-stu-id="1b98c-115">The structure tells you which pages are in memory, and what caused the system to page them in.</span></span>

<span data-ttu-id="1b98c-116">Die [**EmptyWorkingSet-Funktion**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) verwendet ein Prozesshandle.</span><span class="sxs-lookup"><span data-stu-id="1b98c-116">The [**EmptyWorkingSet**](/windows/desktop/api/Psapi/nf-psapi-emptyworkingset) function takes a process handle.</span></span> <span data-ttu-id="1b98c-117">Es werden so viele Seiten wie möglich aus dem Prozessarbeitssatz entfernt.</span><span class="sxs-lookup"><span data-stu-id="1b98c-117">It removes as many pages as possible from the process working set.</span></span> <span data-ttu-id="1b98c-118">Dieser Vorgang ist in erster Linie für Tests und Optimierungen nützlich.</span><span class="sxs-lookup"><span data-stu-id="1b98c-118">This operation is useful primarily for testing and tuning.</span></span> <span data-ttu-id="1b98c-119">Beachten Sie, [**dass die SetProcessWorkingSetSize-Funktion**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize) dasselbe macht, wenn Sie -1 für die minimale und maximale Größe übergeben.</span><span class="sxs-lookup"><span data-stu-id="1b98c-119">Note that the [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize) function does the same thing if you pass it -1 for the minimum and maximum sizes.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1b98c-120">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="1b98c-120">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1b98c-121">Arbeitssatz</span><span class="sxs-lookup"><span data-stu-id="1b98c-121">Working Set</span></span>](/windows/desktop/Memory/working-set)
</dt> </dl>

 

 