---
title: Übersicht über Storyboards
description: Diese Übersicht konzentriert sich darauf, wie Übergänge und Storyboards in der Windows-Animation verwendet werden.
ms.assetid: d37718ac-0256-4a24-a26c-d29173593be0
keywords:
- Windows-Animation Windows-Animation, Übersicht über Storyboards
- Storyboards Windows-Animation , beschrieben
- Übergängen der Windows-Animation , beschrieben
- übergehende Windows-Animation , benutzerdefiniert
- Interpolatoren Windows-Animation , beschrieben
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 58210ae98f6d3a96c554276466ad72b3364d72a1
ms.sourcegitcommit: 8ebcf6cd36f67f8bcf78e76ae8923d65b8995c8a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/05/2021
ms.locfileid: "111524284"
---
# <a name="storyboard-overview"></a><span data-ttu-id="cc89b-108">Übersicht über Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-108">Storyboard Overview</span></span>

<span data-ttu-id="cc89b-109">Diese Übersicht konzentriert sich darauf, wie Übergänge und Storyboards in der Windows-Animation verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-109">This overview focuses on how transitions and storyboards are used in Windows Animation.</span></span> <span data-ttu-id="cc89b-110">Eine Übersicht über die Komponenten der Windows-Animation finden Sie unter [Übersicht über Windows-Animationen.](scenic-animation-api-overview.md)</span><span class="sxs-lookup"><span data-stu-id="cc89b-110">For an overview of the components of Windows Animation, see [Windows Animation Overview](scenic-animation-api-overview.md).</span></span>

<span data-ttu-id="cc89b-111">Dieses Thema enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="cc89b-111">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="cc89b-112">Transitions</span><span class="sxs-lookup"><span data-stu-id="cc89b-112">Transitions</span></span>](#custom-transitions)
    -   [<span data-ttu-id="cc89b-113">Übergangsbibliothek</span><span class="sxs-lookup"><span data-stu-id="cc89b-113">Transition Library</span></span>](#transition-library)
    -   [<span data-ttu-id="cc89b-114">Benutzerdefinierte Übergänge</span><span class="sxs-lookup"><span data-stu-id="cc89b-114">Custom Transitions</span></span>](#custom-transitions)
-   [<span data-ttu-id="cc89b-115">Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-115">Storyboards</span></span>](#storyboards)
    -   [<span data-ttu-id="cc89b-116">Erstellen eines einfachen Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-116">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
    -   [<span data-ttu-id="cc89b-117">Verwenden einer Context-Sensitive Dauer</span><span class="sxs-lookup"><span data-stu-id="cc89b-117">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
    -   [<span data-ttu-id="cc89b-118">Erstellen eines komplexeren Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-118">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
    -   [<span data-ttu-id="cc89b-119">Verwenden von Keyframes</span><span class="sxs-lookup"><span data-stu-id="cc89b-119">Using Keyframes</span></span>](#using-keyframes)
    -   [<span data-ttu-id="cc89b-120">Halten von Variablen</span><span class="sxs-lookup"><span data-stu-id="cc89b-120">Holding Variables</span></span>](#holding-variables)
    -   [<span data-ttu-id="cc89b-121">Planen eines Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-121">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)
-   [<span data-ttu-id="cc89b-122">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="cc89b-122">Related topics</span></span>](#related-topics)

## <a name="transitions"></a><span data-ttu-id="cc89b-123">Transitions</span><span class="sxs-lookup"><span data-stu-id="cc89b-123">Transitions</span></span>

<span data-ttu-id="cc89b-124">Ein Übergang definiert, wie sich eine einzelne Animationsvariable in einem bestimmten Zeitintervall ändert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-124">A transition defines how a single animation variable changes over a particular time interval.</span></span> <span data-ttu-id="cc89b-125">Die Windows-Animation enthält eine Bibliothek allgemeiner Übergänge, die Entwickler auf eine oder mehrere Animationsvariablen anwenden können.</span><span class="sxs-lookup"><span data-stu-id="cc89b-125">Windows Animation includes a library of common transitions that developers can apply to one or more animation variables.</span></span> <span data-ttu-id="cc89b-126">Verschiedene Arten von Übergängen verfügen über unterschiedliche Sätze von Parametern, z. B. den Wert der Variablen nach Abschluss des Übergangs, die Dauer des Übergangs oder die Mengen, die für die zugrunde liegende mathematische Funktion eindeutig sind, z. B. Beschleunigung oder Oszillationsbereich.</span><span class="sxs-lookup"><span data-stu-id="cc89b-126">Different kinds of transitions have different sets of parameters, which may include the value of the variable when the transition completes, the duration of the transition, or quantities unique to the underlying mathematical function, such as acceleration or range of oscillation.</span></span>

<span data-ttu-id="cc89b-127">Alle Übergänge verwenden zwei implizite Parameter: den Anfangswert und die Anfängliche Geschwindigkeit (Steigung) der mathematischen Funktion.</span><span class="sxs-lookup"><span data-stu-id="cc89b-127">All transitions share two implicit parameters: the initial value and initial velocity (slope) of the mathematical function.</span></span> <span data-ttu-id="cc89b-128">Diese können explizit von der Anwendung angegeben werden, werden jedoch in der Regel vom Animations-Manager auf den Wert und die Geschwindigkeit der Animationsvariablen festgelegt, wenn der Übergang beginnt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-128">These may be specified explicitly by the application, but are typically set by the animation manager to the value and velocity of the animation variable when the transition begins.</span></span>

-   [<span data-ttu-id="cc89b-129">Übergangsbibliothek</span><span class="sxs-lookup"><span data-stu-id="cc89b-129">Transition Library</span></span>](#transition-library)
-   [<span data-ttu-id="cc89b-130">Benutzerdefinierte Übergänge</span><span class="sxs-lookup"><span data-stu-id="cc89b-130">Custom Transitions</span></span>](#custom-transitions)

### <a name="transition-library"></a><span data-ttu-id="cc89b-131">Übergangsbibliothek</span><span class="sxs-lookup"><span data-stu-id="cc89b-131">Transition Library</span></span>

<span data-ttu-id="cc89b-132">Die folgenden Übergänge werden derzeit von der Übergangsbibliothek bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-132">The following transitions are currently provided by the transition library.</span></span> <span data-ttu-id="cc89b-133">Wenn eine Anwendung einen Effekt erfordert, der nicht mithilfe der Übergangsbibliothek angegeben werden kann, können Entwickler andere Arten von Übergängen erstellen, indem sie einen benutzerdefinierten Interpolator für die Anwendung implementieren oder eine Übergangsbibliothek von einem Drittanbieter verwenden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-133">If an application requires an effect that cannot be specified by using the transition library, developers can create other kinds of transitions by implementing a custom interpolator for the application, or using a transition library from a third party.</span></span>



| <span data-ttu-id="cc89b-134">Übergangsname</span><span class="sxs-lookup"><span data-stu-id="cc89b-134">Transition Name</span></span>                        | <span data-ttu-id="cc89b-135">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="cc89b-135">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cc89b-136">beschleunigungsentschleunigen</span><span class="sxs-lookup"><span data-stu-id="cc89b-136">accelerate-decelerate</span></span><br/>       | <span data-ttu-id="cc89b-137">Die Animationsvariable beschleunigt und verlangsamt sich dann über einen bestimmten Zeitraum.</span><span class="sxs-lookup"><span data-stu-id="cc89b-137">The animation variable speeds up and then slows down over a given duration.</span></span><br/>                                                                                                               |
| <span data-ttu-id="cc89b-138">Konstante</span><span class="sxs-lookup"><span data-stu-id="cc89b-138">constant</span></span><br/>                    | <span data-ttu-id="cc89b-139">Die Animationsvariable verbleibt während des Übergangs am Anfangswert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-139">The animation variable remains at its initial value throughout the transition.</span></span><br/>                                                                                                            |
| <span data-ttu-id="cc89b-140">Kubisch</span><span class="sxs-lookup"><span data-stu-id="cc89b-140">cubic</span></span><br/>                       | <span data-ttu-id="cc89b-141">Die Animationsvariable ändert sich über einen bestimmten Zeitraum von ihrem Anfangswert in einen angegebenen Endwert mit einer angegebenen Endgeschwindigkeit.</span><span class="sxs-lookup"><span data-stu-id="cc89b-141">The animation variable changes from its initial value to a specified final value, with a specified final velocity, over a given duration.</span></span><br/>                                                 |
| <span data-ttu-id="cc89b-142">Diskrete</span><span class="sxs-lookup"><span data-stu-id="cc89b-142">discrete</span></span><br/>                    | <span data-ttu-id="cc89b-143">Die Animationsvariable verbleibt während einer angegebenen Verzögerungszeit am Anfangswert, wechselt dann sofort zu einem angegebenen endgültigen Wert und bleibt für eine bestimmte Wartezeit bei diesem Wert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-143">The animation variable remains at its initial value for a specified delay time, then switches instantaneously to a specified final value and remains at that value for a given hold time.</span></span><br/> |
| <span data-ttu-id="cc89b-144">Momentanen</span><span class="sxs-lookup"><span data-stu-id="cc89b-144">instantaneous</span></span><br/>               | <span data-ttu-id="cc89b-145">Die Animationsvariable ändert sich sofort von ihrem aktuellen Wert in einen angegebenen endgültigen Wert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-145">The animation variable changes instantly from its current value to a specified final value.</span></span><br/>                                                                                               |
| <span data-ttu-id="cc89b-146">linear</span><span class="sxs-lookup"><span data-stu-id="cc89b-146">linear</span></span><br/>                      | <span data-ttu-id="cc89b-147">Die Animationsvariable wechselt über einen bestimmten Zeitraum linear von ihrem Anfangswert zu einem angegebenen Endwert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-147">The animation variable transitions linearly from its initial value to a specified final value over a given duration.</span></span><br/>                                                                      |
| <span data-ttu-id="cc89b-148">linear von der Geschwindigkeit</span><span class="sxs-lookup"><span data-stu-id="cc89b-148">linear from speed</span></span><br/>           | <span data-ttu-id="cc89b-149">Die Animationsvariable wechselt linear von ihrem Anfangswert zu einem angegebenen Endgültigen Wert mit einer angegebenen Geschwindigkeit.</span><span class="sxs-lookup"><span data-stu-id="cc89b-149">The animation variable transitions linearly from its initial value to a specified final value with a specified speed.</span></span><br/>                                                                     |
| <span data-ttu-id="cc89b-150">Parabolisch von der Beschleunigung</span><span class="sxs-lookup"><span data-stu-id="cc89b-150">parabolic from acceleration</span></span><br/> | <span data-ttu-id="cc89b-151">Die Animationsvariable wechselt von ihrem Anfangswert zu einem angegebenen endgültigen Wert mit einer angegebenen Endgeschwindigkeit und ändert ihre Geschwindigkeit mit einer angegebenen Beschleunigung.</span><span class="sxs-lookup"><span data-stu-id="cc89b-151">The animation variable transitions from its initial value to a specified final value, with a specified final velocity, changing its velocity with a specified acceleration.</span></span><br/>               |
| <span data-ttu-id="cc89b-152">Umkehrung</span><span class="sxs-lookup"><span data-stu-id="cc89b-152">reversal</span></span><br/>                    | <span data-ttu-id="cc89b-153">Die Variable ändert die Richtung über einen bestimmten Zeitraum.</span><span class="sxs-lookup"><span data-stu-id="cc89b-153">The variable changes direction over a given duration.</span></span> <span data-ttu-id="cc89b-154">Der endgültige Wert entspricht dem Anfangswert, und die endgültige Geschwindigkeit ist die negative der anfänglichen Geschwindigkeit.</span><span class="sxs-lookup"><span data-stu-id="cc89b-154">The final value will be the same as the initial value and the final velocity will be the negative of the initial velocity.</span></span><br/>          |
| <span data-ttu-id="cc89b-155">sinusoidal aus Bereich</span><span class="sxs-lookup"><span data-stu-id="cc89b-155">sinusoidal from range</span></span><br/>       | <span data-ttu-id="cc89b-156">Die Variable oszilliert innerhalb eines bestimmten Wertebereichs mit einem angegebenen Oszillationszeitraum für einen bestimmten Zeitraum.</span><span class="sxs-lookup"><span data-stu-id="cc89b-156">The variable oscillates within a given range of values, with a specified period of oscillation, for a given duration.</span></span><br/>                                                                     |
| <span data-ttu-id="cc89b-157">Sinusoidal von Geschwindigkeit</span><span class="sxs-lookup"><span data-stu-id="cc89b-157">sinusoidal from velocity</span></span><br/>    | <span data-ttu-id="cc89b-158">Die Variable oszilliert für einen bestimmten Zeitraum mit einem angegebenen Oszillationszeitraum.</span><span class="sxs-lookup"><span data-stu-id="cc89b-158">The variable oscillates with a specified period of oscillation, for a given duration.</span></span> <span data-ttu-id="cc89b-159">Die Amplitude der Oszillation wird durch die Anfängliche Geschwindigkeit der Variablen bestimmt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-159">The amplitude of oscillation is determined by the variable's initial velocity.</span></span><br/>                      |
| <span data-ttu-id="cc89b-160">Smooth Stop</span><span class="sxs-lookup"><span data-stu-id="cc89b-160">smooth stop</span></span><br/>                 | <span data-ttu-id="cc89b-161">Die Animationsvariable erreicht einen reibungslosen Stopp an einem angegebenen Endwert innerhalb einer maximalen Zeitspanne.</span><span class="sxs-lookup"><span data-stu-id="cc89b-161">The animation variable comes to a smooth stop at a specified final value, within a maximum duration of time.</span></span><br/>                                                                              |



 

<span data-ttu-id="cc89b-162">Die folgende Tabelle enthält Abbildungen für jeden dieser Übergänge.</span><span class="sxs-lookup"><span data-stu-id="cc89b-162">The following table contains illustrations for each of these transitions.</span></span>



|    <span data-ttu-id="cc89b-163">Abbildungen</span><span class="sxs-lookup"><span data-stu-id="cc89b-163">Illustrations</span></span>                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![Abbildung eines sofortigen Übergangs](images/instantaneoustransition.png)  ![Abbildung eines konstanten Übergangs](images/constanttransition.png)  ![Abbildung eines linearen Übergangs](images/lineartransition.png)  ![Abbildung eines Lineatübergangs von der Geschwindigkeit](images/lineartransitionfromspeed.png)  ![Abbildung eines diskreten Übergangs](images/discretetransition.png) |
| ![Abbildung eines parabolischen Übergangs von der Beschleunigung](images/parabolictransitionfromacceleration.png)  ![Abbildung eines kubischen Übergangs](images/cubictransition.png)  ![Abbildung eines reibungslosen Stoppübergangs](images/smoothstoptransition.png)                                                                                                                                       |
| ![Abbildung eines Umkehrübergangs](images/reversaltransition.png)  ![Abbildung eines sinusförmigen Übergangs von der Geschwindigkeit](images/sinusolidaltransitionfromvelocity.png)  ![Abbildung eines sinusförmigen Übergangs vom Bereich](images/sinusolidaltransitionfromrange.png)                                                                                                                  |
| ![Abbildung von Beschleunigungs- und Verlangsamungsübergängen](images/acceleratedeceleratetransition.png)                                                                                                                                                                                                                                                                                               |



 

### <a name="custom-transitions"></a><span data-ttu-id="cc89b-176">Benutzerdefinierte Übergänge</span><span class="sxs-lookup"><span data-stu-id="cc89b-176">Custom Transitions</span></span>

<span data-ttu-id="cc89b-177">Ein *Interpolator* definiert die mathematische Funktion, die bestimmt, wie sich eine Animationsvariable im Laufe der Zeit ändert, während sie von ihrem Anfangswert zu einem endgültigen Wert wechselt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-177">An *interpolator* defines the mathematical function that determines how an animation variable changes over time as it progresses from its initial value to a final value.</span></span> <span data-ttu-id="cc89b-178">Jeder Übergang in der Übergangsbibliothek verfügt über ein zugeordnetes Interpolatorobjekt, das vom System bereitgestellt wird und die Interpolatorfunktion implementiert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-178">Each transition in the transition library has an associated interpolator object that is provided by the system and implements the interpolator function.</span></span> <span data-ttu-id="cc89b-179">Wenn eine Anwendung einen Effekt erfordert, der nicht mithilfe der Übergangsbibliothek angegeben werden kann, kann sie einen oder mehrere benutzerdefinierte Übergänge implementieren, indem ein Interpolatorobjekt für jeden neuen Übergang implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-179">If an application requires an effect that cannot be specified using the transition library, it can implement one or more custom transitions by implementing an interpolator object for each new transition.</span></span> <span data-ttu-id="cc89b-180">Interpolatorobjekte können nicht direkt von Anwendungen verwendet werden und müssen stattdessen von einem zugeordneten Übergang umschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-180">Interpolator objects cannot be used directly by applications and must instead be wrapped in an associated transition.</span></span> <span data-ttu-id="cc89b-181">Eine *Übergangsfactory* wird verwendet, um Übergänge von einem Interpolatorobjekt zu generieren.</span><span class="sxs-lookup"><span data-stu-id="cc89b-181">A *transition factory* is used to generate transitions from an interpolator object.</span></span> <span data-ttu-id="cc89b-182">Weitere Informationen finden Sie unter [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) und [**IUIAnimationTransitionFactory.**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory)</span><span class="sxs-lookup"><span data-stu-id="cc89b-182">See [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) and [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) for more details.</span></span>

<span data-ttu-id="cc89b-183">Beachten Sie, dass die meisten Anwendungen alle benötigten Übergänge mithilfe der Übergangsbibliothek aufweisen und daher keinen Interpolator implementieren müssen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-183">Note that most applications will have all of the transitions they need by using the transition library, and therefore would not need to implement an interpolator.</span></span>

## <a name="storyboards"></a><span data-ttu-id="cc89b-184">Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-184">Storyboards</span></span>

<span data-ttu-id="cc89b-185">Ein Storyboard ist eine Sammlung von Übergängen, die im Laufe der Zeit auf eine oder mehrere Animationsvariablen angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-185">A storyboard is a collection of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="cc89b-186">Die Übergänge in einem Storyboard bleiben garantiert relativ zueinander synchronisiert, und das Storyboard wird als Einheit geplant oder abgebrochen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-186">The transitions in a storyboard are guaranteed to remain synchronized relative to one another, and the storyboard is scheduled or canceled as a unit.</span></span> <span data-ttu-id="cc89b-187">Nachdem die gewünschten Übergänge erstellt wurden, erstellt eine Anwendung ein Storyboard mithilfe des Animations-Managers, fügt die Übergänge zum Storyboard hinzu, konfiguriert das Storyboard entsprechend und plant es so bald wie möglich ab.</span><span class="sxs-lookup"><span data-stu-id="cc89b-187">After creating the desired transitions, an application creates a storyboard using the animation manager, adds the transitions to the storyboard, configures the storyboard appropriately, and schedules it to play as soon as possible.</span></span> <span data-ttu-id="cc89b-188">Der Animations-Manager bestimmt die tatsächliche Startzeit des Storyboards, da es möglicherweise Konflikte mit anderen Storyboards gibt, die derzeit die gleichen Variablen animieren.</span><span class="sxs-lookup"><span data-stu-id="cc89b-188">The animation manager determines the storyboard's actual start time, because there may be contention with other storyboards currently animating the same variables.</span></span>

<span data-ttu-id="cc89b-189">Die Gesamtdauer eines Storyboards hängt von der Dauer der Übergänge innerhalb des Storyboards ab.</span><span class="sxs-lookup"><span data-stu-id="cc89b-189">The overall duration of a storyboard depends on the durations of the transitions within the storyboard.</span></span> <span data-ttu-id="cc89b-190">Die Dauer eines Übergangs muss nicht festgelegt werden. Sie kann durch den Wert und die Geschwindigkeit der animierten Variablen bestimmt werden, wenn der Übergang beginnt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-190">The duration of a transition need not be fixed; it can be determined by the value and velocity of the animated variables when the transition begins.</span></span> <span data-ttu-id="cc89b-191">Daher kann die Dauer eines Storyboards auch vom Zustand der Variablen abhängen, die es animiert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-191">So, the duration of a storyboard can also depend on the state of the variables it animates.</span></span>

<span data-ttu-id="cc89b-192">In den folgenden Beispielen wird davon ausgegangen, dass ein Animations-Manager, eine Übergangsbibliothek und ein Timer erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-192">The following examples assume that an animation manager, transition library, and timer have been created.</span></span> <span data-ttu-id="cc89b-193">Weitere Informationen finden Sie unter [Erstellen der Hauptanimationsobjekte.](adding-animation-to-an-application.md)</span><span class="sxs-lookup"><span data-stu-id="cc89b-193">For more information, see [Create the Main Animation Objects](adding-animation-to-an-application.md).</span></span> <span data-ttu-id="cc89b-194">In den Beispielen wird auch davon ausgegangen, dass die Anwendung drei Animationsvariablen (X, Y und Z) mithilfe der [**IUIAnimationManager::CreateAnimationVariable-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) und fünf Übergänge (T1, T2, T3, T4 und T5) erstellt hat, indem eine der Methoden der [**IUIAnimationTransitionLibrary-Schnittstelle**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-194">The examples also assume that the application has created three animation variables (X, Y and Z) by using the [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) method, and five transitions (T1, T2, T3, T4, and T5) by using the one of the methods of the [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) interface.</span></span>

-   [<span data-ttu-id="cc89b-195">Erstellen eines einfachen Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-195">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
-   [<span data-ttu-id="cc89b-196">Verwenden einer Context-Sensitive Dauer</span><span class="sxs-lookup"><span data-stu-id="cc89b-196">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
-   [<span data-ttu-id="cc89b-197">Erstellen eines komplexeren Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-197">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
-   [<span data-ttu-id="cc89b-198">Verwenden von Keyframes</span><span class="sxs-lookup"><span data-stu-id="cc89b-198">Using Keyframes</span></span>](#using-keyframes)
-   [<span data-ttu-id="cc89b-199">Halten von Variablen</span><span class="sxs-lookup"><span data-stu-id="cc89b-199">Holding Variables</span></span>](#holding-variables)
-   [<span data-ttu-id="cc89b-200">Planen eines Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-200">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)

### <a name="building-a-simple-storyboard"></a><span data-ttu-id="cc89b-201">Erstellen eines einfachen Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-201">Building a Simple Storyboard</span></span>

<span data-ttu-id="cc89b-202">Verwenden Sie zum Erstellen eines einfachen Storyboards die [**IUIAnimationManager::CreateStoryboard-Methode,**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) um ein neues Storyboard, die [**IUIAnimationTransitionLibrary::CreateLinearTransition-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) zum Erstellen eines linearen Übergangs T1 und die [**IUIAnimationStoryboard::AddTransition-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) zu erstellen, um den T1-Übergang auf die Variable X anzuwenden und den resultierenden Übergang zum Storyboard hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-202">To build a simple storyboard, use the [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) method to create a new storyboard, the [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) method to create a linear transition, T1, and the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method to apply the T1 transition to the variable X and add the resulting transition to the storyboard.</span></span>

<span data-ttu-id="cc89b-203">Dieser Prozess ergibt ein einfaches Storyboard, wie in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-203">This process yields a simple storyboard, as shown in the following figure.</span></span> <span data-ttu-id="cc89b-204">Das Storyboard enthält einen Übergang, T1, damit sich der Wert der Variablen X über einen festen Zeitraum linear ändert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-204">The storyboard contains one transition, T1, such that the value of variable X changes linearly over a fixed duration of time.</span></span>

![Abbildung eines einfachen Storyboards mit fester Dauer](images/simplestoryboardfixedduration.png)

<span data-ttu-id="cc89b-206">Beachten Sie, dass für ein so einfaches Szenario eine alternative Option die Verwendung der [**IUIAnimationManager::ScheduleTransition-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-206">Note that for such a simple scenario, an alternative option is to use the [**IUIAnimationManager::ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) method.</span></span>

### <a name="using-a-context-sensitive-duration"></a><span data-ttu-id="cc89b-207">Verwenden einer Context-Sensitive Dauer</span><span class="sxs-lookup"><span data-stu-id="cc89b-207">Using a Context-Sensitive Duration</span></span>

<span data-ttu-id="cc89b-208">Während einige Übergänge eine feste Dauer haben, hängt die Dauer von anderen vom Anfangswert oder der Geschwindigkeit der animierten Variablen ab, wenn der Übergang beginnt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-208">While some transitions have a fixed duration, the duration of others depends on the initial value or velocity of the animated variable when the transition begins.</span></span> <span data-ttu-id="cc89b-209">Beispielsweise erstellt die [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) einen Übergang mit einer Dauer, die proportional zum Unterschied zwischen dem Anfangswert der Animationsvariablen und dem angegebenen enden Wert ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-209">For example, the [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) method creates a transition with a duration that is proportional to the difference between the initial value of the animation variable and the specified final value.</span></span> <span data-ttu-id="cc89b-210">In dieser Abbildung und den verbleibenden Abbildungen werden solche Übergänge mit willkürlichen Daueren mit einem Fragezeichen (?) dargestellt, und ihre tatsächliche Dauer wird bestimmt, wenn das Storyboard abspielt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-210">In this illustration, and the remaining illustrations, such transitions with arbitrary durations are shown with a question mark (?), and their actual durations are determined when the storyboard plays.</span></span>

![Abbildung eines einfachen Storyboards mit unbekannter Dauer](images/simplestoryboardunknownduration.png)

### <a name="building-a-more-complex-storyboard"></a><span data-ttu-id="cc89b-212">Erstellen eines komplexeren Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-212">Building a More Complex Storyboard</span></span>

<span data-ttu-id="cc89b-213">Nachdem Sie ein Storyboard erstellt und einen einzelnen Übergang T1 hinzugefügt haben, können Sie einen zweiten Übergang für die X-Variable anfügen, indem Sie die [**IUIAnimationStoryboard::AddTransition-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) erneut aufrufen, jedoch mit T2 anstelle von T1.</span><span class="sxs-lookup"><span data-stu-id="cc89b-213">After creating a storyboard and adding a single transition, T1, you can append a second transition for the X variable by calling the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method again, but with T2 instead of T1.</span></span>

<span data-ttu-id="cc89b-214">Angenommen, der T2-Übergang hat eine dauer, die kontextsensible ist, enthält das Storyboard nun zwei Back-to-Back-Übergänge mit beliebiger Dauer, die sich auf die Variable X beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-214">Assuming that the T2 transition has a duration that is context-sensitive, the storyboard now contains two back-to-back transitions of arbitrary duration affecting the variable X.</span></span>

![Abbildung eines Storyboards, das zwei Übergänge für dieselbe Variable enthält](images/appendingwithaddtransition.png)

<span data-ttu-id="cc89b-216">Durch [**das erneute Aufrufen von AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) mit der Variablen Y und dem Übergang T3 wird am Anfang des Storyboards ein dritter Übergang hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-216">Calling [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) again with variable Y and transition T3 adds a third transition at the start of the storyboard.</span></span> <span data-ttu-id="cc89b-217">Abhängig von den Werten von X und Y, wenn das Storyboard abspielt, kann T3 nach T1 oder sogar nach T2 enden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-217">Depending on the values of X and Y when the storyboard plays, T3 may end after T1 or even after T2.</span></span>

![Abbildung eines Storyboards, das Übergänge über mehrere Variablen hinweg enthält](images/multivariablestoryboard.png)

### <a name="using-keyframes"></a><span data-ttu-id="cc89b-219">Verwenden von Keyframes</span><span class="sxs-lookup"><span data-stu-id="cc89b-219">Using Keyframes</span></span>

<span data-ttu-id="cc89b-220">Um einen Übergang an einem Offset vom Anfang des Storyboards hinzuzufügen, müssen Sie zuerst einen Keyframe hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-220">To add a transition at an offset from the start of the storyboard, you must first add a keyframe.</span></span> <span data-ttu-id="cc89b-221">Keyframes stellen Zeitpunkte dar und haben selbst keine Auswirkungen auf das Verhalten des Storyboards.</span><span class="sxs-lookup"><span data-stu-id="cc89b-221">Keyframes represent instants in time and by themselves have no effect on the behavior of the storyboard.</span></span> <span data-ttu-id="cc89b-222">Jedes Storyboard verfügt über einen impliziten Keyframe, der den Anfang des Storyboards darstellt, [**UI \_ ANIMATION \_ KEYFRAME \_ STORYBOARD \_ START.**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85))Sie können neue Keyframes bei Offsets von Anfang hinzufügen, indem Sie die [**IUIAnimationStoryboard::AddKeyframeAtOffset-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) mit **UI ANIMATION \_ \_ KEYFRAME \_ STORYBOARD START \_ aufrufen.**</span><span class="sxs-lookup"><span data-stu-id="cc89b-222">Every storyboard has an implicit keyframe representing the start of the storyboard, [**UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); you can add new keyframes at offsets from the start by calling the [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) method with **UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**.</span></span>

<span data-ttu-id="cc89b-223">Der Offset, an dem Sie einen Keyframe hinzufügen, ist immer relativ zu einem anderen Keyframe.</span><span class="sxs-lookup"><span data-stu-id="cc89b-223">The offset at which you add a keyframe is always relative to another keyframe.</span></span> <span data-ttu-id="cc89b-224">Das folgende Diagramm zeigt das Ergebnis des Hinzufügens von keyframe1 und transition T4, das auf die Variable Z angewendet, an keyframe1 ausgerichtet und mit einer festen Dauer erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-224">The following diagram shows the result of adding keyframe1 and transition T4, which is applied to variable Z, aligned with keyframe1, and created with a fixed duration.</span></span> <span data-ttu-id="cc89b-225">Da die Dauer der anderen Übergänge noch nicht bekannt ist, ist T4 möglicherweise nicht der letzte abgeschlossene Übergang.</span><span class="sxs-lookup"><span data-stu-id="cc89b-225">Of course, because the durations of the other transitions are not yet known, T4 might not be the last transition to finish.</span></span>

![Abbildung, die das Hinzufügen eines an einem Keyframe ausgerichteten Übergangs zeigt](images/addtransitionatkeyframe.png)

<span data-ttu-id="cc89b-227">Keyframes können auch mithilfe der [**IUIAnimationStoryboard::AddKeyframeAfterTransition-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) an den Enden von Übergängen platziert werden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-227">Keyframes can also be placed at the ends of transitions, using the [**IUIAnimationStoryboard::AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) method.</span></span> <span data-ttu-id="cc89b-228">Das folgende Diagramm zeigt das Ergebnis des Hinzufügens von keyframe2 nach T1 und keyframe3 nach T2.</span><span class="sxs-lookup"><span data-stu-id="cc89b-228">The following diagram shows the result of adding keyframe2 after T1 and keyframe3 after T2.</span></span>

![Abbildung, die das Hinzufügen von Keyframes nach verschiedenen Übergängen zeigt](images/addkeyframeaftertransition.png)

<span data-ttu-id="cc89b-230">Da die Dauer von T1 und T2 erst bekannt ist, wenn das Storyboard abspielt, werden die Offsets von keyframe2 und keyframe3 bis dahin ebenfalls nicht bestimmt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-230">Because the durations of T1 and T2 are not known until the storyboard plays, the offsets of keyframe2 and keyframe3 also are not determined until then.</span></span> <span data-ttu-id="cc89b-231">Folglich können keyframe2 und sogar keyframe3 vor keyframe1 auftreten.</span><span class="sxs-lookup"><span data-stu-id="cc89b-231">Consequently, keyframe2 and even keyframe3 can occur earlier than keyframe1.</span></span>

<span data-ttu-id="cc89b-232">Sowohl der Anfang als auch das Ende eines Übergangs können mithilfe der [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes-Methode an Keyframes ausgerichtet**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) werden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-232">Both the start and end of a transition can be aligned with keyframes by using the [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) method.</span></span> <span data-ttu-id="cc89b-233">Das folgende Diagramm zeigt das Ergebnis des Hinzufügens eines fünften Übergangs(T5) für die Variable Y zwischen keyframe2 und keyframe3.</span><span class="sxs-lookup"><span data-stu-id="cc89b-233">The following diagram shows the result of adding a fifth transition, T5, on variable Y, between keyframe2 and keyframe3.</span></span> <span data-ttu-id="cc89b-234">Dadurch ändert sich die Dauer von T5, wodurch sie je nach relativen Offsets von keyframe2 und keyframe3 länger oder kürzer wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-234">This alters the duration of T5, making it longer or shorter depending on the relative offsets of keyframe2 and keyframe3.</span></span>

![Abbildung, die den Zusatz eines Übergangs zwischen Keyframes zeigt](images/addtransitionbetweenkeyframes.png)

### <a name="holding-variables"></a><span data-ttu-id="cc89b-236">Halten von Variablen</span><span class="sxs-lookup"><span data-stu-id="cc89b-236">Holding Variables</span></span>

<span data-ttu-id="cc89b-237">Wenn T4 nach T2 und T5 endet, beendet das Storyboard die Animation der Variablen X und Y und macht sie für andere Storyboards zum Animieren verfügbar.</span><span class="sxs-lookup"><span data-stu-id="cc89b-237">If T4 does end after T2 and T5, the storyboard stops animating variables X and Y, making them available for other storyboards to animate.</span></span> <span data-ttu-id="cc89b-238">Die Anwendung kann jedoch die [**IUIAnimationStoryboard::HoldVariable-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) aufrufen, um an fordern, dass das Storyboard einige oder alle Variablen enthält, die es an seinen endgültigen Werten animiert, bis das Storyboard abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-238">However, the application can call the [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) method to request that the storyboard hold some or all of the variables it animates at their final values until the storyboard has completed.</span></span> <span data-ttu-id="cc89b-239">Das folgende Diagramm zeigt das Ergebnis des Haltens von X und Z, wenn T4 zuletzt abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-239">The following diagram shows the result of holding X and Z when T4 finishes last.</span></span> <span data-ttu-id="cc89b-240">Beachten Sie, dass das Storyboard X am endgültigen Wert enthält, bis das Storyboard abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-240">Notice that the storyboard holds X at its final value until the storyboard has completed.</span></span> <span data-ttu-id="cc89b-241">Der Hold hat keine Auswirkungen auf Z, da das Storyboard endet, wenn T4 abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-241">The hold has no effect on Z because the storyboard ends when T4 finishes.</span></span>

![Abbildung, die das Halten von Variablen an den endgültigen Werten zeigt, bis das Storyboard abgeschlossen ist](images/holdvariable.png)

<span data-ttu-id="cc89b-243">Auch wenn Y nicht von diesem Storyboard gehalten wird, ändert sich der Wert nach Abschluss von T5 nicht, es sei denn, es wird von einem anderen Storyboard animiert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-243">Even though Y is not held by this storyboard, its value does not change after T5 completes unless another storyboard animates it.</span></span> <span data-ttu-id="cc89b-244">Da Y nicht gehalten wird, kann jedes andere Storyboard unabhängig von der Priorität Y animieren, nachdem T5 abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="cc89b-244">Because Y is not held, any other storyboard, regardless of priority, can animate Y after T5 has finished.</span></span> <span data-ttu-id="cc89b-245">Da X dagegen gehalten wird, kann ein Storyboard mit niedrigerer Priorität X erst animieren, wenn dieses Storyboard fertig ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-245">In contrast, because X is held, a lower-priority storyboard cannot animate X until this storyboard is finished.</span></span>

<span data-ttu-id="cc89b-246">Alle diese Abbildungen haben angenommen, dass ein beliebiger Satz aktueller Werte für die Variablen verwendet wird, wenn das Storyboard abspielt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-246">All of these illustrations have assumed an arbitrary set of current values for the variables when the storyboard starts playing.</span></span> <span data-ttu-id="cc89b-247">Wenn andere Werte gefunden werden, ist die Dauer der kontextsensitiven Übergänge wahrscheinlich unterschiedlich, wie in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-247">If other values are encountered, the durations of the context-sensitive transitions are likely to be different, as shown in the following illustration.</span></span>

![Abbildung, die das Ergebnis der Änderung der Anfangsbedingungen zeigt, die für die vorherige Abbildung verwendet wurden](images/holdvariablez.png)

<span data-ttu-id="cc89b-249">In diesem Szenario beginnt T5, bevor T3 abgeschlossen ist, und T3 wird daher gekürzt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-249">In this scenario, T5 begins before T3 has finished, and T3 is therefore trimmed.</span></span> <span data-ttu-id="cc89b-250">Da T4 vor T2 und T5 abgeschlossen ist, wird der Wert von Z bis zum Ende des Storyboards gehalten.</span><span class="sxs-lookup"><span data-stu-id="cc89b-250">Because T4 finishes earlier than T2 and T5, the value of Z is held until the end of the storyboard.</span></span> <span data-ttu-id="cc89b-251">Im Allgemeinen können sich die Werte und Geschwindigkeiten von Variablen beim Starten der Wiedergabe eines Storyboards auf die Keyframe-Reihenfolge und die Gesamtlänge und -form des Storyboards auswirken.</span><span class="sxs-lookup"><span data-stu-id="cc89b-251">In general, the values and velocities of variables when a storyboard starts playing can affect keyframe ordering and the overall length and shape of the storyboard.</span></span>

### <a name="scheduling-a-storyboard"></a><span data-ttu-id="cc89b-252">Planen eines Storyboards</span><span class="sxs-lookup"><span data-stu-id="cc89b-252">Scheduling a Storyboard</span></span>

<span data-ttu-id="cc89b-253">Beim Planen eines Storyboards wird die Startzeit durch seine Kontur und die Konturen der Storyboards bestimmt, die sich derzeit im Zeitplan befinden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-253">When scheduling a storyboard, its start time is determined by its outline and the outlines of the storyboards that are currently in the schedule.</span></span> <span data-ttu-id="cc89b-254">Insbesondere der erste und letzte Moment, in dem das Storyboard jede einzelne Variable animiert, bestimmt, ob und wann zwei Storyboards kollidieren, aber die internen Details der Übergänge in sind nicht wichtig.</span><span class="sxs-lookup"><span data-stu-id="cc89b-254">Specifically, the first and last moments when the storyboard animates each individual variable determine whether and when two storyboards collide, but the internal details of the transitions within are not important.</span></span>

<span data-ttu-id="cc89b-255">Die folgende Abbildung zeigt die Gliederung eines Storyboards mit fünf Übergängen, die drei Variablen animieren.</span><span class="sxs-lookup"><span data-stu-id="cc89b-255">The following illustration shows the outline of a storyboard with five transitions animating three variables.</span></span>

![Abbildung eines Storyboards mit fünf Übergängen, die drei Variablen animieren](images/storyboardwithoutline.png)

<span data-ttu-id="cc89b-257">Ein Wichtiger Bestandteil der Windows-Animationsplattform ist die Unterstützung dafür, dass eine Animation bei Bedarf abgeschlossen werden kann, bevor eine andere beginnt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-257">A cornerstone of the Windows Animation platform is its support for letting one animation complete before another begins, when necessary.</span></span> <span data-ttu-id="cc89b-258">Dies beseitigt zwar viele logische Probleme, führt aber auch zu einer beliebigen Latenz in der Benutzeroberfläche.</span><span class="sxs-lookup"><span data-stu-id="cc89b-258">While this eliminates many logical problems, it also introduces arbitrary latency in the UI.</span></span> <span data-ttu-id="cc89b-259">Um dies zu adressieren, können Anwendungen die längste akzeptable Verzögerung für den Start eines Storyboards angeben, indem sie die [**IUIAnimationStoryboard::SetLongestAcceptableDelay-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) verwenden, und der Animations-Manager verwendet diese Informationen, um das Storyboard vor Ablauf des angegebenen Latenzzeitraums zu planen. </span><span class="sxs-lookup"><span data-stu-id="cc89b-259">To address this, applications can specify the *longest acceptable delay* for a storyboard to start, using the [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) method, and the animation manager uses this information to schedule the storyboard before the specified latency period elapses.</span></span> <span data-ttu-id="cc89b-260">Wenn ein Storyboard geplant ist, bestimmt der Animations-Manager, ob andere Storyboards zuerst abgebrochen, gekürzt, abgeschlossen und/oder komprimiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-260">When a storyboard is scheduled, the animation manager determines if other storyboards must first be canceled, trimmed, concluded, and/or compressed.</span></span>

<span data-ttu-id="cc89b-261">Eine Anwendung kann einen Handler registrieren, der aufgerufen wird, wenn sich der Status eines Storyboards ändert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-261">An application can register a handler that will be called when a storyboard's status changes.</span></span> <span data-ttu-id="cc89b-262">Dadurch kann die Anwendung reagieren, wenn die Wiedergabe des Storyboards beginnt, bis zum Abschluss ausgeführt wird, vollständig aus dem Zeitplan entfernt wird oder aufgrund einer Unterbrechung durch ein Storyboard mit höherer Priorität am Abschluss gehindert wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-262">This enables the application to respond when the storyboard starts playing, runs to completion, is removed entirely from the schedule, or is prevented from completing due to interruption by a higher-priority storyboard.</span></span> <span data-ttu-id="cc89b-263">Um die Storyboards zu identifizieren, die an Storyboard-Ereignishandler (oder Prioritätsvergleiche) übergeben werden, kann eine Anwendung die [**IUIAnimationStoryboard::SetTag-Methode**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) verwenden, um Tags auf Storyboards anzuwenden, ähnlich denen, die zum Identifizieren von Variablen verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="cc89b-263">To identify the storyboards passed to storyboard event handlers (or priority comparisons), an application can use the [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) method to apply tags to storyboards, similar to those that can be used to identify variables.</span></span> <span data-ttu-id="cc89b-264">Wie bei der Wiedervernutzung von Storyboards müssen Entwickler bei der Verwendung von Tags zum Identifizieren von Storyboards Vorsicht walten lassen und sicherstellen, dass es nicht zu Mehrdeutigkeiten kommt, wenn Benutzeraktionen dazu führen, dass viele Storyboards in die Warteschlange gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="cc89b-264">As with storyboard re-use, developers must exercise caution when using tags to identify storyboards, and be sure that ambiguities do not arise when user actions result in many storyboards being queued.</span></span>

<span data-ttu-id="cc89b-265">Die folgenden Beispiele zeigen zwei Variationen eines Versuchs, das in den früheren Abschnitten dieses Themas integrierte Storyboard zu planen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-265">The following examples show two variations of an attempt to schedule the storyboard built in the earlier sections of this topic.</span></span>

<span data-ttu-id="cc89b-266">In diesem Szenario wurden bereits sechs Storyboards ( A bis F) geplant, um die Variablen W, X, Y und Z zu animieren, aber nur A und B haben mit der Wiedergabe begonnen.</span><span class="sxs-lookup"><span data-stu-id="cc89b-266">In this scenario, six storyboards, A through F, have already been scheduled to animate variables W, X, Y and Z, but only A and B have started playing.</span></span> <span data-ttu-id="cc89b-267">Für das neue Storyboard mit der Bezeichnung G ist die längste zulässige Verzögerung auf die in der folgenden Abbildung dargestellte Dauer festgelegt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-267">The new storyboard, labeled G, has its longest acceptable delay set to the duration shown in the following illustration.</span></span>

![Abbildung, die das Addition eines neuen Storyboards zum vorhandenen Zeitplan zeigt](images/existingschedule1withlines.png)

<span data-ttu-id="cc89b-269">Die Anwendung verfügt über registrierte Prioritätsvergleiche, die die folgende Logik enthalten:</span><span class="sxs-lookup"><span data-stu-id="cc89b-269">The application has registered priority comparisons that include the following logic:</span></span>

-   <span data-ttu-id="cc89b-270">G kann nur C und E abbrechen und nur, um Fehler zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="cc89b-270">G can cancel only C and E, and only to prevent failure.</span></span>
-   <span data-ttu-id="cc89b-271">G kann nur A, C, E und F kürzen, und nur, um Fehler zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="cc89b-271">G can trim only A, C, E and F, and only to prevent failure.</span></span>
-   <span data-ttu-id="cc89b-272">Jedes Storyboard kann jedes andere Storyboard komprimieren (die Komprimierung erfolgt immer nur, um Fehler zu verhindern).</span><span class="sxs-lookup"><span data-stu-id="cc89b-272">Any storyboard can compress any other storyboard (compression is always done only to prevent failure).</span></span>

> [!Note]  
> <span data-ttu-id="cc89b-273">Der Qualifizierer "nur zum Verhindern eines Fehlers" bedeutet, dass die registrierten Prioritätsvergleiche nur dann S OK zurückgeben, wenn der \_ *priorityEffect-Parameter* **UI ANIMATION PRIORITY EFFECT FAILURE \_ \_ \_ \_ ist.**</span><span class="sxs-lookup"><span data-stu-id="cc89b-273">The qualifier "only to prevent failure" means that the registered priority comparisons return S\_OK only when the *priorityEffect* parameter is **UI\_ANIMATION\_PRIORITY\_EFFECT\_FAILURE**.</span></span> <span data-ttu-id="cc89b-274">Weitere Informationen finden Sie unter [**IUIAnimationPriorityComparison::HasPriority-Methode.**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority)</span><span class="sxs-lookup"><span data-stu-id="cc89b-274">See the [**IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) method for details.</span></span>

 

<span data-ttu-id="cc89b-275">Um G zu starten, bevor die längste akzeptable Verzögerung verstrichen ist, muss der Animations-Manager Folgendes tun:</span><span class="sxs-lookup"><span data-stu-id="cc89b-275">To start G before the longest acceptable delay has elapsed, the animation manager must do the following:</span></span>

-   <span data-ttu-id="cc89b-276">Kürzen von F</span><span class="sxs-lookup"><span data-stu-id="cc89b-276">Trim F</span></span>
-   <span data-ttu-id="cc89b-277">Abbrechen E</span><span class="sxs-lookup"><span data-stu-id="cc89b-277">Cancel E</span></span>

<span data-ttu-id="cc89b-278">Wenn E abgebrochen wird, werden D und F entdeckt und auf ihre ursprünglichen Konturen zurückverwendet:</span><span class="sxs-lookup"><span data-stu-id="cc89b-278">When E is canceled, D and F are uncovered and revert to their original outlines:</span></span>

![Abbildung mit ursprünglichen Konturen](images/existingschedule1bwithlines.png)

<span data-ttu-id="cc89b-280">Der Animations-Manager muss C nicht abbrechen oder kürzen, bevor die längste akzeptable Verzögerung verstrichen ist. Daher bestimmt die Besprechung von C und G, wann G gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-280">The animation manager does not need to cancel or trim C to schedule before its longest acceptable delay has elapsed, so the meeting of C and G determines when G starts.</span></span>

![Abbildung, die zeigt, dass f abgeschnitten wird, damit c und g erfüllt werden können](images/schedule1withgwithlines.png)

<span data-ttu-id="cc89b-282">Nachdem G erfolgreich geplant wurde, kann die Dauer der Übergänge bestimmt werden, und der Rest der Kontur ist daher bekannt.</span><span class="sxs-lookup"><span data-stu-id="cc89b-282">After G has been successfully scheduled, the durations of its transitions can be determined, and the remainder of its outline is therefore known.</span></span> <span data-ttu-id="cc89b-283">Die Gliederung kann sich jedoch ändern, wenn anschließend ein anderes Storyboard aus dem Zeitplan entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="cc89b-283">However, the outline can change if another storyboard is subsequently removed from the schedule.</span></span>

<span data-ttu-id="cc89b-284">Betrachten Sie als zweites Beispiel ein Szenario wie das oben beschriebene, aber mit einer kürzeren, längsten akzeptablen Verzögerung, die für G angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="cc89b-284">As a second example, consider a scenario like that above, but with a shorter longest acceptable delay specified for G.</span></span>

![Abbildung des vorherigen Szenarios, jedoch mit einer kürzeren längsten akzeptablen Verzögerung für g](images/existingschedule2withlines.png)

<span data-ttu-id="cc89b-286">In diesem Fall werden die folgenden Aktionen durchgeführt:</span><span class="sxs-lookup"><span data-stu-id="cc89b-286">In this case, the following actions are taken:</span></span>

-   <span data-ttu-id="cc89b-287">Kürzen von F</span><span class="sxs-lookup"><span data-stu-id="cc89b-287">Trim F</span></span>
-   <span data-ttu-id="cc89b-288">Abbrechen E</span><span class="sxs-lookup"><span data-stu-id="cc89b-288">Cancel E</span></span>
-   <span data-ttu-id="cc89b-289">Abbrechen C</span><span class="sxs-lookup"><span data-stu-id="cc89b-289">Cancel C</span></span>

<span data-ttu-id="cc89b-290">Außerdem muss der Animations-Manager D um den angezeigten Betrag komprimieren, damit G nach der längsten akzeptablen Verzögerung und nicht später gestartet werden kann.</span><span class="sxs-lookup"><span data-stu-id="cc89b-290">Also, the animation manager must compress D by the amount shown to enable G to start after its longest acceptable delay, and no later.</span></span>

![Abbildung, die zeigt, wo d komprimiert werden muss, damit g bei der längsten zulässigen Verzögerung beginnen kann](images/trimmedandcancelledwithlines.png)

<span data-ttu-id="cc89b-292">Zur A-, B- und F-Komprimierung werden auch die relativen Zeitsteuerungen beibehalten.</span><span class="sxs-lookup"><span data-stu-id="cc89b-292">To preserve their relative timing, A, B, and F are compressed as well.</span></span>

![Abbildung, die eine komprimierte a-, b-, d- und f-Komprimierung zeigt](images/schedule2withgwithlines.png)

<span data-ttu-id="cc89b-294">Storyboards in nicht verknüpften Variablen (nicht dargestellt) würden jedoch nicht komprimiert.</span><span class="sxs-lookup"><span data-stu-id="cc89b-294">However, storyboards on unrelated variables (not shown) would not be compressed.</span></span>

<span data-ttu-id="cc89b-295">Auch hier ist die Kontur von G jetzt bekannt und ist anders als das Ergebnis im ersten Szenario, da die Variablen zu Beginn von G unterschiedliche Werte haben.</span><span class="sxs-lookup"><span data-stu-id="cc89b-295">Once again, the outline of G is now known and is different from the result in the first scenario because the variables have different values when G begins.</span></span>

## <a name="related-topics"></a><span data-ttu-id="cc89b-296">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="cc89b-296">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cc89b-297">**IUIAnimationManager**</span><span class="sxs-lookup"><span data-stu-id="cc89b-297">**IUIAnimationManager**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationmanager)
</dt> <dt>

[<span data-ttu-id="cc89b-298">**IUIAnimationPriorityComparison**</span><span class="sxs-lookup"><span data-stu-id="cc89b-298">**IUIAnimationPriorityComparison**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationprioritycomparison)
</dt> <dt>

[<span data-ttu-id="cc89b-299">**IUIAnimationStoryboard**</span><span class="sxs-lookup"><span data-stu-id="cc89b-299">**IUIAnimationStoryboard**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationstoryboard)
</dt> <dt>

[<span data-ttu-id="cc89b-300">**IUIAnimationTransitionLibrary**</span><span class="sxs-lookup"><span data-stu-id="cc89b-300">**IUIAnimationTransitionLibrary**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)
</dt> </dl>

 

