---
description: Bevor die Standard Warteschlangen-Rückruf Routine verwendet werden kann, indem Sie entweder beim Ausführen eines Commits für eine Datei Warteschlange als Rückruf Routine angegeben wird, oder indem Sie Sie von einer benutzerdefinierten Rückruf Routine aus aufrufen, muss Sie initialisiert werden.
ms.assetid: e25a9787-a4a3-4d06-bf55-f6f7cfb23481
title: Initialisieren und Beenden des Rückruf Kontexts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 03cb4c144cb9069d395ccd688e2a172680df8a12
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106351811"
---
# <a name="initializing-and-terminating-the-callback-context"></a><span data-ttu-id="eff9d-103">Initialisieren und Beenden des Rückruf Kontexts</span><span class="sxs-lookup"><span data-stu-id="eff9d-103">Initializing and Terminating the Callback Context</span></span>

<span data-ttu-id="eff9d-104">Bevor die Standard Warteschlangen-Rückruf Routine verwendet werden kann, indem Sie entweder beim Ausführen eines Commits für eine Datei Warteschlange als Rückruf Routine angegeben wird, oder indem Sie Sie von einer benutzerdefinierten Rückruf Routine aus aufrufen, muss Sie initialisiert werden.</span><span class="sxs-lookup"><span data-stu-id="eff9d-104">Before the default queue callback routine can be used, either by specifying it as the callback routine when committing a file queue, or by calling it from a custom callback routine, it must be initialized.</span></span>

<span data-ttu-id="eff9d-105">Die [**SetupInitDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallback) -Funktion erstellt die Kontext Struktur, die von der Standard Warteschlangen-Rückruf Routine verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="eff9d-105">The [**SetupInitDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallback) function builds the context structure that is used by the default queue callback routine.</span></span> <span data-ttu-id="eff9d-106">Sie gibt einen void-Zeiger auf diese-Struktur zurück.</span><span class="sxs-lookup"><span data-stu-id="eff9d-106">It returns a void pointer to that structure.</span></span> <span data-ttu-id="eff9d-107">Diese Struktur ist für den Vorgang der Standard Rückruf Routine unverzichtbar und muss an die Rückruf Routine übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="eff9d-107">This structure is essential for the default callback routine's operation and must be passed to the callback routine.</span></span> <span data-ttu-id="eff9d-108">Hierzu können Sie entweder den void-Zeiger als Kontext in einem Aufruf von [**setupcommitfilequeue**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea)angeben oder den void-Zeiger als Kontext Parameter angeben, wenn Sie [**setupdefaultqueuecallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupdefaultqueuecallbacka) aus einer benutzerdefinierten Rückruf Routine aufrufen.</span><span class="sxs-lookup"><span data-stu-id="eff9d-108">You do can this either by specifying the void pointer as the context in a call to [**SetupCommitFileQueue**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea), or by specifying the void pointer as the context parameter when calling [**SetupDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupdefaultqueuecallbacka) from a custom callback routine.</span></span> <span data-ttu-id="eff9d-109">Diese Kontext Struktur darf nicht geändert werden oder von der Setup Anwendung referenziert werden.</span><span class="sxs-lookup"><span data-stu-id="eff9d-109">This context structure must not be altered or referenced by the setup application.</span></span>

<span data-ttu-id="eff9d-110">Die [**setupinitdefaultqueuecallbackex**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallbackex) -Funktion initialisiert außerdem einen Kontext für die Standard Warteschlangen-Rückruf Routine. Sie gibt jedoch ein zweites Fenster an, mit dem eine vom Aufrufer angegebene Statusmeldung empfangen wird, wenn die Warteschlange eine Benachrichtigung sendet.</span><span class="sxs-lookup"><span data-stu-id="eff9d-110">The [**SetupInitDefaultQueueCallbackEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallbackex) function also initializes a context for the default queue callback routine, but it specifies a second window to receive a caller-specified progress message each time the queue sends a notification.</span></span> <span data-ttu-id="eff9d-111">Dies ermöglicht es Ihnen, die Standard Dialogfelder für Datenträger und Fehler zu verwenden und eine Statusanzeige z. b. in einem zweiten Fenster einzubetten, z. b. auf einer Seite des Installations-Assistenten.</span><span class="sxs-lookup"><span data-stu-id="eff9d-111">This enables you to use the default disk prompting and error dialog boxes, and to also embed a progress bar in a second window, for example, in a page of an installation wizard.</span></span>

<span data-ttu-id="eff9d-112">Unabhängig davon, ob Sie den von der Standard Warteschlangen Rückruf-Routine verwendeten Kontext mit [**SetupInitDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallback) oder [**setupinitdefaultqueuecallbackex**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallbackex)initialisiert haben, rufen Sie [**setuptermdefaultqueuecallback**](/windows/desktop/api/Setupapi/nf-setupapi-setuptermdefaultqueuecallback) auf, um die beim Initialisieren der Kontext Struktur zugeordneten Ressourcen freizugeben.</span><span class="sxs-lookup"><span data-stu-id="eff9d-112">Regardless of whether you initialized the context used by the default queue callback routine with [**SetupInitDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallback) or [**SetupInitDefaultQueueCallbackEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinitdefaultqueuecallbackex), after the queued operations have finished processing, call [**SetupTermDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setuptermdefaultqueuecallback) to release the resources allocated in initializing the context structure.</span></span>

 

 



