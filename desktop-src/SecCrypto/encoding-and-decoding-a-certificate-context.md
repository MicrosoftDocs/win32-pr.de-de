---
description: Codieren und Decodieren eines Zertifikat Kontexts mithilfe von CryptoAPI.
ms.assetid: 149d1097-5f50-40ba-84f1-b815f54ba33d
title: Codieren und Decodieren eines Zertifikat Kontexts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b4168d15ad8db5d4711a18f2042106e7d6d46010
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214946"
---
# <a name="encoding-and-decoding-a-certificate-context"></a><span data-ttu-id="fe678-103">Codieren und Decodieren eines Zertifikat Kontexts</span><span class="sxs-lookup"><span data-stu-id="fe678-103">Encoding and Decoding a Certificate Context</span></span>

<span data-ttu-id="fe678-104">[*CryptoAPI*](../secgloss/c-gly.md) unterstützt das Codieren und Decodieren von [*Zertifikaten*](../secgloss/c-gly.md).</span><span class="sxs-lookup"><span data-stu-id="fe678-104">[*CryptoAPI*](../secgloss/c-gly.md) supports the encoding and decoding of [*certificates*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="fe678-105">CryptoAPI bietet ein umfangreiches, flexibles System von Funktionen und C-Strukturen, die die Codierung und Decodierung auf verschiedene Weise ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="fe678-105">CryptoAPI includes an extensive, flexible system of functions and C structures that allow encoding and decoding in various ways.</span></span> <span data-ttu-id="fe678-106">CryptoAPI unterstützt die standardmäßige [*X. 509*](../secgloss/x-gly.md) -Zertifikat Struktur und die standardmäßige [*abstrakte Syntax Notation One*](../secgloss/a-gly.md) (ASN. 1) Encoding, um die Interoperabilität mit anderen Systemen zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="fe678-106">CryptoAPI supports standard [*X.509*](../secgloss/x-gly.md) certificate structure and standard [*Abstract Syntax Notation One*](../secgloss/a-gly.md) (ASN.1) encoding to provide interoperability with other systems.</span></span>

<span data-ttu-id="fe678-107">Eine Übersicht über codierte Daten finden Sie unter [codierte und decodierte Daten](encoded-and-decoded-data.md).</span><span class="sxs-lookup"><span data-stu-id="fe678-107">For an overview of encoded data, see [Encoded and Decoded Data](encoded-and-decoded-data.md).</span></span>

## <a name="certificate-contexts"></a><span data-ttu-id="fe678-108">Zertifikat Kontexte</span><span class="sxs-lookup"><span data-stu-id="fe678-108">Certificate Contexts</span></span>

<span data-ttu-id="fe678-109">Ein [*Zertifikat Kontext*](../secgloss/c-gly.md), [**CERT \_ context**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context), ist eine C-Struktur, die ein codiertes Element, ein Handle für einen [*Zertifikat Speicher*](../secgloss/c-gly.md), einen Zeiger auf das ursprünglich codierte [*zertifikatblob*](../secgloss/c-gly.md)und einen Zeiger auf eine [**CERT \_ Info**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) C-Struktur enthält.</span><span class="sxs-lookup"><span data-stu-id="fe678-109">A [*certificate context*](../secgloss/c-gly.md), [**CERT\_CONTEXT**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_context), is a C structure that contains an encoded member, a handle to a [*certificate store*](../secgloss/c-gly.md), a pointer to the original encoded [*certificate BLOB*](../secgloss/c-gly.md), and a pointer to a [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) C structure.</span></span>

<span data-ttu-id="fe678-110">Die [**CERT \_ Info**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) -Struktur ist das Herzstück des Zertifikats.</span><span class="sxs-lookup"><span data-stu-id="fe678-110">The [**CERT\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_info) structure is the heart of the certificate.</span></span> <span data-ttu-id="fe678-111">Sie enthält in direkter Form und in verschlüsselter Form alle grundlegenden Informationen im Zertifikat.</span><span class="sxs-lookup"><span data-stu-id="fe678-111">It contains, in direct form and in encoded form, all the basic information in the certificate.</span></span> <span data-ttu-id="fe678-112">Die folgende Abbildung zeigt die **CERT \_ Info** -Struktur, deren codierte Member als schattiert angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="fe678-112">The following illustration shows the **CERT\_INFO** structure with all of its encoded members shown as shaded.</span></span>

![CERT \- Info-Struktur](images/certinf2.png)

<span data-ttu-id="fe678-114">Die Elemente **IssuerUniqueID** und **subjetuniqueid** sind Teil der [*X. 509*](../secgloss/x-gly.md) Version 2-Zertifikat Implementierung, werden jedoch selten verwendet.</span><span class="sxs-lookup"><span data-stu-id="fe678-114">The **IssuerUniqueID** and **SubjectUniqueID** members are part of the [*X.509*](../secgloss/x-gly.md) version 2 certificate implementation but are seldom used.</span></span> <span data-ttu-id="fe678-115">Zertifikat Erweiterungen in Version 3 ersetzen die Funktionalität dieser Member.</span><span class="sxs-lookup"><span data-stu-id="fe678-115">Certificate extensions in version 3 replace the functionality of these members.</span></span>

<span data-ttu-id="fe678-116">Wenn die Informationen, die im codierten (schattierten) Element **Aussteller** und Antragsteller enthalten sind, **erforderlich sind,** müssen diese Member decodiert werden.</span><span class="sxs-lookup"><span data-stu-id="fe678-116">If the information contained in the encoded (shaded) members **Issuer** and **Subject** is needed, those members must be decoded.</span></span> <span data-ttu-id="fe678-117">Verwenden Sie [**cryptdecodeobject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) , um diese Member zu decodieren.</span><span class="sxs-lookup"><span data-stu-id="fe678-117">Use [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) to decode these members.</span></span> <span data-ttu-id="fe678-118">Die folgende Abbildung zeigt den Prozess der Decodierung eines dieser Member.</span><span class="sxs-lookup"><span data-stu-id="fe678-118">The following illustration shows the process of decoding one of these members.</span></span>

![Decodieren mit cryptdecodeobject](images/infoflow.png)

<span data-ttu-id="fe678-120">Im veranschaulichten Fall erstellt die [**cryptdecodeobject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) -Funktion eine [**CERT \_ Name \_ Info**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_name_info) -Struktur, ein Array von [**CERT \_ RDN**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn) -Strukturen, ein entsprechendes Array von [**\_ RDN-CERT \_**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn_attr) -Strukturen und eine Zeichenfolge, die den Namen enthält.</span><span class="sxs-lookup"><span data-stu-id="fe678-120">In the illustrated case, the [**CryptDecodeObject**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptdecodeobject) function creates a [**CERT\_NAME\_INFO**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_name_info) structure, an array of [**CERT\_RDN**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn) structures, a corresponding array of [**CERT\_RDN\_ATTR**](/windows/desktop/api/Wincrypt/ns-wincrypt-cert_rdn_attr) structures, and a string that contains the name.</span></span> <span data-ttu-id="fe678-121">Die Inhalte der Zeichenfolge werden von Mitgliedern der " **CERT \_ RDN \_ attr** "-Struktur bestimmt.</span><span class="sxs-lookup"><span data-stu-id="fe678-121">Members of the **CERT\_RDN\_ATTR** structure determine the contents of the string.</span></span> <span data-ttu-id="fe678-122">Wenn der **pszobjid** -Member z. b. 2.5.4.3 ist, enthält die Zeichenfolge einen allgemeinen Namen.</span><span class="sxs-lookup"><span data-stu-id="fe678-122">For example, if the **pszObjId** member is 2.5.4.3, the string contains a common name.</span></span> <span data-ttu-id="fe678-123">Wenn es 2.5.4.10 ist, würde die Zeichenfolge einen Organisationsnamen enthalten.</span><span class="sxs-lookup"><span data-stu-id="fe678-123">If it is 2.5.4.10, the string would contain an organization name.</span></span> <span data-ttu-id="fe678-124">Eine Liste der [*Objekt*](../secgloss/o-gly.md) -IDs (OIDs) finden Sie unter **CERT \_ RDN \_ attr**.</span><span class="sxs-lookup"><span data-stu-id="fe678-124">For a list of these [*object identifiers*](../secgloss/o-gly.md) (OIDs), see **CERT\_RDN\_ATTR**.</span></span>

<span data-ttu-id="fe678-125">Der **dwvaluetype** -Member enthält Informationen zum Typ der Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="fe678-125">The **dwValueType** member contains information about the type of string.</span></span> <span data-ttu-id="fe678-126">Wenn es sich um \_ eine druckbare "CERT RDN"-Zeichen \_ \_ Folge handelt, enthält das Wertmember eine Zeichenfolge mit Byte Breite und null terminierten Zeichen</span><span class="sxs-lookup"><span data-stu-id="fe678-126">If it is CERT\_RDN\_PRINTABLE\_STRING, the value member contains a byte-width, zero-terminated character string.</span></span> <span data-ttu-id="fe678-127">Wenn es sich um \_ eine Unicode-RDN-Unicode-Zeichenfolge handelt \_ \_ , ist die Zeichenfolge eine Zeichenfolge mit doppelter Breite (Wort Breite).</span><span class="sxs-lookup"><span data-stu-id="fe678-127">If it is CERT\_RDN\_UNICODE\_STRING, the string is a double-width (word-sized) character string.</span></span>

<span data-ttu-id="fe678-128">Einen ausführlichen Prozess zum Codieren und Decodieren von Zertifikaten finden Sie unter [Codieren einer Zertifikat \_ Informationsstruktur und decodieren](encoding-a-cert-info-structure.md) [einer Zertifikat \_ Informationsstruktur](decoding-a-cert-info-structure.md).</span><span class="sxs-lookup"><span data-stu-id="fe678-128">For a detailed process for encoding and decoding certificates, see [Encoding a CERT\_INFO Structure](encoding-a-cert-info-structure.md) and [Decoding a CERT\_INFO Structure](decoding-a-cert-info-structure.md).</span></span>

 

 
