---
description: Die erste kryptoapi-Funktion, die von einer Anwendung aufgerufen wird, die kryptografische APIs verwendet, ist die CryptAcquireContext-Funktion.
ms.assetid: ad1ff45c-7d02-431b-a287-e9db765476ce
title: Kryptografiedienstanbieter-Kontexte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df20df528b0ba0c385c7ab690436351d918f1521
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104128800"
---
# <a name="cryptographic-service-provider-contexts"></a><span data-ttu-id="233b7-103">Kryptografiedienstanbieter-Kontexte</span><span class="sxs-lookup"><span data-stu-id="233b7-103">Cryptographic Service Provider Contexts</span></span>

<span data-ttu-id="233b7-104">Die erste [*kryptoapi*](../secgloss/c-gly.md) -Funktion, die von einer Anwendung aufgerufen wird, die kryptografische APIs verwendet, ist die [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="233b7-104">The first [*CryptoAPI*](../secgloss/c-gly.md) function called by an application that uses any cryptographic APIs is the [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) function.</span></span> <span data-ttu-id="233b7-105">Diese Funktion gibt ein Handle für einen bestimmten CSP zurück, der die Spezifikation eines bestimmten [*Schlüssel Containers*](../secgloss/k-gly.md) innerhalb des CSP einschließt.</span><span class="sxs-lookup"><span data-stu-id="233b7-105">This function returns a handle to a particular CSP which includes the specification of a particular [*key container*](../secgloss/k-gly.md) within the CSP.</span></span> <span data-ttu-id="233b7-106">Dieser Schlüssel Container ist entweder ein speziell angeforderter Schlüssel Container oder der Standardschlüssel Container für den aktuell angemeldeten Benutzer.</span><span class="sxs-lookup"><span data-stu-id="233b7-106">This key container is either a specifically requested key container or it is the default key container for the currently logged-on user.</span></span>

<span data-ttu-id="233b7-107">[**Mit CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) kann auch ein neuer Schlüssel Container erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="233b7-107">[**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) can also create a new key container.</span></span> <span data-ttu-id="233b7-108">Weitere Informationen finden Sie unter [Beispiel c-Programm: Erstellen eines Schlüssel Containers und Erstellen von Schlüsseln](example-c-program-creating-a-key-container-and-generating-keys.md) und [Beispiel-c-Programm: Verwenden von CryptAcquireContext](example-c-program-using-cryptacquirecontext.md).</span><span class="sxs-lookup"><span data-stu-id="233b7-108">For more information, see [Example C Program: Creating a Key Container and Generating Keys](example-c-program-creating-a-key-container-and-generating-keys.md) and [Example C Program: Using CryptAcquireContext](example-c-program-using-cryptacquirecontext.md).</span></span>

<span data-ttu-id="233b7-109">Ein [*Kryptografiedienstanbieter (kryptografischen Service Provider*](../secgloss/c-gly.md) , CSP) verfügt über einen Namen und einen Typ.</span><span class="sxs-lookup"><span data-stu-id="233b7-109">A [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) has both a name and a type.</span></span> <span data-ttu-id="233b7-110">Beispielsweise ist der Name eines der derzeit mit dem Betriebssystem gelieferten CSPs der Microsoft- [Basis Kryptografieanbieter](microsoft-base-cryptographic-provider.md).</span><span class="sxs-lookup"><span data-stu-id="233b7-110">For example, the name of one of the CSPs currently shipped with the operating system is [Microsoft Base Cryptographic Provider](microsoft-base-cryptographic-provider.md).</span></span> <span data-ttu-id="233b7-111">Dabei handelt es sich um einen [Prov \_ RSA \_ Full](prov-rsa-full.md) -Typanbieter.</span><span class="sxs-lookup"><span data-stu-id="233b7-111">It is a [PROV\_RSA\_FULL](prov-rsa-full.md) type provider.</span></span> <span data-ttu-id="233b7-112">Der Name jedes Anbieters ist eindeutig. der Anbietertyp ist nicht.</span><span class="sxs-lookup"><span data-stu-id="233b7-112">The name of each provider is unique; the provider type is not.</span></span>

<span data-ttu-id="233b7-113">Wenn eine Anwendung [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) zum Abrufen eines CSP-Handles aufruft, gibt Sie einen Anbietertyp und optional einen Anbieter Namen an.</span><span class="sxs-lookup"><span data-stu-id="233b7-113">When an application calls [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) to obtain a CSP handle, it specifies a provider type and, optionally, a provider name.</span></span> <span data-ttu-id="233b7-114">Wenn sowohl ein Typ als auch ein Name angegeben ist, lädt die Funktion den CSP mit dem entsprechenden Anbietertyp und Anbieter Namen.</span><span class="sxs-lookup"><span data-stu-id="233b7-114">If both a type and a name are specified, the function loads the CSP with the matching provider type and provider name.</span></span> <span data-ttu-id="233b7-115">Die Funktion gibt das Handle des CSP zurück, das den Zugriff sowohl auf den CSP als auch auf einen [*Schlüssel Container*](../secgloss/k-gly.md) innerhalb des CSP ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="233b7-115">The function returns the CSP's handle which provides access to both the CSP and to a [*key container*](../secgloss/k-gly.md) within the CSP.</span></span>

<span data-ttu-id="233b7-116">Wenn eine Anwendung [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) aufruft und einen Anbietertyp, aber keinen Anbieter Namen angibt, sucht die Funktion nach einem benannten Anbieter und überprüft zunächst eine Liste mit den standardmäßigen benannten Anbietern, die dem angemeldeten Benutzer zugeordnet sind, und, falls dies nicht der Fall ist, aus einer Liste mit den standardmäßigen benannten Anbietern, die dem Computer zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="233b7-116">When an application calls [**CryptAcquireContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptacquirecontexta) and specifies a provider type but no provider name, the function looks for a named provider, first checking a list of default named providers associated with the logged-on user and, if that fails, from a list of default named providers associated with the computer.</span></span> <span data-ttu-id="233b7-117">Nachdem der Anbieter Name ermittelt wurde, sucht die **CryptAcquireContext** -Funktion nach dem CSP-Anbieter, lädt ihn und gibt sein Handle zurück.</span><span class="sxs-lookup"><span data-stu-id="233b7-117">After the provider name has been determined, the **CryptAcquireContext** function searches for the CSP for that provider, loads it, and returns its handle.</span></span>

<span data-ttu-id="233b7-118">Wenn Sie die Verwendung eines CSP-Handles abgeschlossen haben, geben Sie es durch Aufrufen der [**cryptreleasecontext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptreleasecontext) -Funktion frei.</span><span class="sxs-lookup"><span data-stu-id="233b7-118">When you have finished using a CSP handle, release it by calling the [**CryptReleaseContext**](/windows/desktop/api/Wincrypt/nf-wincrypt-cryptreleasecontext) function.</span></span>

 

 
