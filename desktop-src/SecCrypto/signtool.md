---
title: SignTool
description: SignTool ist ein Befehlszeilen Tool, das Dateien digital signiert, Signaturen in Dateien und Zeitstempel-Dateien überprüft.
ms.assetid: aa59cb35-5fba-4ce8-97ea-fc767c83f88e
ms.topic: article
ms.date: 10/12/2020
ms.openlocfilehash: 884d4c132a2877a51cef7610dd32e8ef6b9c4bc3
ms.sourcegitcommit: 25e1fa2b3641ae13b79e0afdf9cb7a168d99e009
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/16/2020
ms.locfileid: "104391178"
---
# <a name="signtool"></a><span data-ttu-id="6abfb-103">SignTool</span><span class="sxs-lookup"><span data-stu-id="6abfb-103">SignTool</span></span>

<span data-ttu-id="6abfb-104">SignTool ist ein Befehlszeilen Tool, das Dateien digital signiert, Signaturen in Dateien und Zeitstempel-Dateien überprüft.</span><span class="sxs-lookup"><span data-stu-id="6abfb-104">SignTool is a command-line tool that digitally signs files, verifies the signatures in files, and timestamps files.</span></span> <span data-ttu-id="6abfb-105">Informationen dazu, warum das Signieren von Dateien wichtig ist, finden [Sie unter Einführung in die Code Signatur](cryptography-tools.md).</span><span class="sxs-lookup"><span data-stu-id="6abfb-105">For information about why signing files is important, see [Introduction to Code Signing](cryptography-tools.md).</span></span> <span data-ttu-id="6abfb-106">Das Tool wird im \\ Ordner bin des Installations Pfads des Microsoft Windows Software Development Kit (SDK) installiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-106">The tool is installed in the \\Bin folder of the Microsoft Windows Software Development Kit (SDK) installation path.</span></span>

<span data-ttu-id="6abfb-107">SignTool ist als Teil des Windows SDK verfügbar, das Sie von herunterladen können <https://developer.microsoft.com/windows/downloads/windows-10-sdk/> .</span><span class="sxs-lookup"><span data-stu-id="6abfb-107">SignTool is available as part of the Windows SDK, which you can download from <https://developer.microsoft.com/windows/downloads/windows-10-sdk/>.</span></span>

> [!Note]  
> <span data-ttu-id="6abfb-108">Das Windows 10 SDK, Windows 10 HLK, Windows 10 WDK und Windows 10 ADK **Build 20236 und höher** erfordern nun die Angabe des Digest-Algorithmus.</span><span class="sxs-lookup"><span data-stu-id="6abfb-108">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and above** will now require specifying the digest algorithm.</span></span> <span data-ttu-id="6abfb-109">Der SignTool Sign-Befehl erfordert `file digest algorithm` , dass die/FD-Option und die/TD- `timestamp digest algorithm` Option beim Signieren bzw. Zeitstempel angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-109">The SignTool sign command requires the /fd `file digest algorithm` and the /td `timestamp digest algorithm` option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="6abfb-110">Eine Warnung (anfänglich Fehlercode 0) wird ausgelöst, wenn/FD nicht während der Signierung angegeben wird und/TD nicht während des Zeitstempels angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-110">A warning (error code 0, initially) will be thrown if /fd is not specified during signing and if /td is not specified during timestamping.</span></span> <span data-ttu-id="6abfb-111">In späteren Versionen von SignTool wird aus dieser Warnung ein Fehler.</span><span class="sxs-lookup"><span data-stu-id="6abfb-111">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="6abfb-112">SHA256 wird empfohlen und gilt in der Branche als sicherer als SHA1.</span><span class="sxs-lookup"><span data-stu-id="6abfb-112">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  


## <a name="syntax"></a><span data-ttu-id="6abfb-113">Syntax</span><span class="sxs-lookup"><span data-stu-id="6abfb-113">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  

## <a name="parameters"></a><span data-ttu-id="6abfb-114">Parameter</span><span class="sxs-lookup"><span data-stu-id="6abfb-114">Parameters</span></span>  
  
|<span data-ttu-id="6abfb-115">Argument</span><span class="sxs-lookup"><span data-stu-id="6abfb-115">Argument</span></span>|<span data-ttu-id="6abfb-116">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="6abfb-116">Description</span></span>|  
|----|----|  
|`command`|<span data-ttu-id="6abfb-117">Einer von vier Befehlen (`catdb`, `sign`, `Timestamp` oder `Verify`), der einen für eine Datei auszuführenden Vorgang angibt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-117">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="6abfb-118">In der folgenden Tabelle finden Sie eine Beschreibung der einzelnen Befehle.</span><span class="sxs-lookup"><span data-stu-id="6abfb-118">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="6abfb-119">Eine Option, die einen Befehl ändert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-119">An option that modifies a command.</span></span> <span data-ttu-id="6abfb-120">Neben der globalen `/q`-Option und `/v`-Option wird von jedem Befehl ein eindeutiger Satz von Optionen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-120">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="6abfb-121">Der Pfad zu einer zu signierenden Datei.</span><span class="sxs-lookup"><span data-stu-id="6abfb-121">The path to a file to sign.</span></span>| 


<span data-ttu-id="6abfb-122">Die folgenden Befehle werden von SignTool unterstützt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-122">The following commands are supported by SignTool.</span></span>

|<span data-ttu-id="6abfb-123">Get-Help</span><span class="sxs-lookup"><span data-stu-id="6abfb-123">Command</span></span>|<span data-ttu-id="6abfb-124">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6abfb-124">Description</span></span>|  
|----|----|  
|`Catdb`|<span data-ttu-id="6abfb-125">Fügt einer Katalogdatenbank eine Katalogdatei hinzu oder entfernt sie daraus.</span><span class="sxs-lookup"><span data-stu-id="6abfb-125">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="6abfb-126">Katalogdatenbanken werden für die automatische Suche von Katalogdateien verwendet und mit einer GUID gekennzeichnet.</span><span class="sxs-lookup"><span data-stu-id="6abfb-126">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="6abfb-127">Eine Liste der vom `catdb`-Befehl unterstützten Optionen finden Sie unter [catdb-Befehlsoptionen](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span><span class="sxs-lookup"><span data-stu-id="6abfb-127">For a list of the options supported by the `catdb` command, see [catdb Command Options](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span></span>|  
|`Sign`|<span data-ttu-id="6abfb-128">Signiert Dateien digital.</span><span class="sxs-lookup"><span data-stu-id="6abfb-128">Digitally signs files.</span></span> <span data-ttu-id="6abfb-129">Digitale Signaturen schützen Dateien vor Manipulationen und ermöglichen es Benutzern, den Signaturgeber anhand eines Signaturzertifikats zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-129">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="6abfb-130">Eine Liste der vom `sign`-Befehl unterstützten Optionen finden Sie unter [sign-Befehlsoptionen](/dotnet/framework/tools/signtool-exe#sign-command-options).</span><span class="sxs-lookup"><span data-stu-id="6abfb-130">For a list of the options supported by the `sign` command, see [sign Command Options](/dotnet/framework/tools/signtool-exe#sign-command-options).</span></span>|  
|`Timestamp`|<span data-ttu-id="6abfb-131">Fügt Dateien Timestamps hinzu.</span><span class="sxs-lookup"><span data-stu-id="6abfb-131">Time-stamps files.</span></span> <span data-ttu-id="6abfb-132">Eine Liste der vom `TimeStamp`-Befehl unterstützten Optionen finden Sie unter [TimeStamp-Befehlsoptionen](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span><span class="sxs-lookup"><span data-stu-id="6abfb-132">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span></span>|  
|`Verify`|<span data-ttu-id="6abfb-133">Überprüft die digitale Signatur von Dateien, indem ermittelt wird, ob das Signaturzertifikat von einer vertrauenswürdigen Zertifizierungsstelle ausgestellt wurde, ob das Signaturzertifikat widerrufen wurde, und (optional) ob das Signaturzertifikat für eine bestimmte Richtlinie gültig ist.</span><span class="sxs-lookup"><span data-stu-id="6abfb-133">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="6abfb-134">Eine Liste der vom `Verify`-Befehl unterstützten Optionen finden Sie unter [Verify-Befehlsoptionen](/dotnet/framework/tools/signtool-exe#verify-command-options).</span><span class="sxs-lookup"><span data-stu-id="6abfb-134">For a list of the options supported by the `Verify` command, see [Verify Command Options](/dotnet/framework/tools/signtool-exe#verify-command-options).</span></span>|

 <span data-ttu-id="6abfb-135">Die folgenden Optionen gelten für alle Signierungstoolbefehle.</span><span class="sxs-lookup"><span data-stu-id="6abfb-135">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="6abfb-136">Globale Option</span><span class="sxs-lookup"><span data-stu-id="6abfb-136">Global option</span></span>|<span data-ttu-id="6abfb-137">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6abfb-137">Description</span></span>|  
|----|----|  
|<span data-ttu-id="6abfb-138">**/q**</span><span class="sxs-lookup"><span data-stu-id="6abfb-138">**/q**</span></span>|<span data-ttu-id="6abfb-139">Bei erfolgreicher Ausführung des Befehls erfolgt keine Ausgabe, bei einen Fehler werden minimale Daten ausgegeben</span><span class="sxs-lookup"><span data-stu-id="6abfb-139">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="6abfb-140">**/v**</span><span class="sxs-lookup"><span data-stu-id="6abfb-140">**/v**</span></span>|<span data-ttu-id="6abfb-141">Zeigt unabhängig von der erfolgreichen Ausführung des Befehls eine ausführliche Ausgabe und Warnmeldungen an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-141">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="6abfb-142">**/debug**</span><span class="sxs-lookup"><span data-stu-id="6abfb-142">**/debug**</span></span>|<span data-ttu-id="6abfb-143">Zeigt Debuginformationen an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-143">Displays debugging information.</span></span>|  

 
## <a name="catdb-command-options"></a><span data-ttu-id="6abfb-144">Optionen für den Befehl "Befehl"</span><span class="sxs-lookup"><span data-stu-id="6abfb-144">Catdb command options</span></span>  

 <span data-ttu-id="6abfb-145">In der folgenden Tabelle werden die Optionen aufgeführt, die mit dem `Catdb`-Befehl verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="6abfb-145">The following table lists the options that can be used with the `Catdb` command.</span></span>

| <span data-ttu-id="6abfb-146">Catdb-Option</span><span class="sxs-lookup"><span data-stu-id="6abfb-146">Catdb option</span></span> | <span data-ttu-id="6abfb-147">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6abfb-147">Description</span></span> |
|----|----| 
| <span data-ttu-id="6abfb-148">**/d**</span><span class="sxs-lookup"><span data-stu-id="6abfb-148">**/d**</span></span> | <span data-ttu-id="6abfb-149">Gibt an, dass die Standardkatalog Datenbank aktualisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="6abfb-149">Specifies that the default catalog database be updated.</span></span> <span data-ttu-id="6abfb-150">Wenn weder die Option **/d** noch **/g** verwendet wird, aktualisiert SignTool die Systemkomponente und die Treiberdatenbank.</span><span class="sxs-lookup"><span data-stu-id="6abfb-150">If neither the **/d** nor **/g** option is used, SignTool updates the system component and driver database.</span></span> |
| <span data-ttu-id="6abfb-151">**/g** - *GUID*</span><span class="sxs-lookup"><span data-stu-id="6abfb-151">**/g** *GUID*</span></span> | <span data-ttu-id="6abfb-152">Gibt an, dass die durch die GUID identifizierte Katalog Datenbank aktualisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="6abfb-152">Specifies that the catalog database identified by the GUID be updated.</span></span>|
| <span data-ttu-id="6abfb-153">**/r**</span><span class="sxs-lookup"><span data-stu-id="6abfb-153">**/r**</span></span> | <span data-ttu-id="6abfb-154">Entfernt den angegebenen Katalog aus der Katalog Datenbank.</span><span class="sxs-lookup"><span data-stu-id="6abfb-154">Removes the specified catalog from the catalog database.</span></span> <span data-ttu-id="6abfb-155">Wenn diese Option nicht angegeben ist, wird der angegebene Katalog von SignTool der Katalog Datenbank hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-155">If this option is not specified, SignTool will add the specified catalog to the catalog database.</span></span>|
| <span data-ttu-id="6abfb-156">**/u**</span><span class="sxs-lookup"><span data-stu-id="6abfb-156">**/u**</span></span> | <span data-ttu-id="6abfb-157">Gibt an, dass automatisch ein eindeutiger Name für die hinzugefügten Katalogdateien generiert wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-157">Specifies that a unique name be automatically generated for the added catalog files.</span></span> <span data-ttu-id="6abfb-158">Ggf. werden die Katalogdateien umbenannt, um Namenskonflikte mit vorhandenen Katalogdateien zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="6abfb-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="6abfb-159">Wenn diese Option nicht angegeben wird, überschreibt SignTool alle vorhandenen Kataloge, die denselben Namen wie der hinzugefügte Katalog haben.</span><span class="sxs-lookup"><span data-stu-id="6abfb-159">If this option is not specified, SignTool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|

> [!Note]  
> <span data-ttu-id="6abfb-160">Katalog Datenbanken werden für die automatische Suche von Katalogdateien verwendet.</span><span class="sxs-lookup"><span data-stu-id="6abfb-160">Catalog databases are used for automatic lookup of catalog files.</span></span>


## <a name="sign-command-options"></a><span data-ttu-id="6abfb-161">Sign-Befehlsoptionen</span><span class="sxs-lookup"><span data-stu-id="6abfb-161">Sign command options</span></span>  

 <span data-ttu-id="6abfb-162">In der folgenden Tabelle werden die Optionen aufgeführt, die mit dem `sign`-Befehl verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="6abfb-162">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="6abfb-163">Sign-Befehlsoption</span><span class="sxs-lookup"><span data-stu-id="6abfb-163">Sign command option</span></span>|<span data-ttu-id="6abfb-164">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6abfb-164">Description</span></span>|  
|----|----| 
|`/a`|<span data-ttu-id="6abfb-165">Wählt automatisch das beste Signaturzertifikat aus.</span><span class="sxs-lookup"><span data-stu-id="6abfb-165">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="6abfb-166">Das Signierungstool findet alle gültigen Zertifikate, die sämtliche angegebenen Bedingungen erfüllen, und wählt das Zertifikat mit der längsten Gültigkeitsdauer aus.</span><span class="sxs-lookup"><span data-stu-id="6abfb-166">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="6abfb-167">Wenn diese Option nicht vorhanden ist, wird vom Signierungstool nur ein bestehendes gültiges Signaturzertifikat erwartet.</span><span class="sxs-lookup"><span data-stu-id="6abfb-167">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="6abfb-168">`/ac`  *file*</span><span class="sxs-lookup"><span data-stu-id="6abfb-168">`/ac`  *file*</span></span>|<span data-ttu-id="6abfb-169">Fügt dem Signaturblock ein zusätzliches Zertifikat aus *file* hinzu.</span><span class="sxs-lookup"><span data-stu-id="6abfb-169">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="6abfb-170">Fügt diese Signatur an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-170">Appends this signature.</span></span> <span data-ttu-id="6abfb-171">Wenn keine Primärsignatur vorhanden ist, wird diese Signatur stattdessen zur Primärsignatur.</span><span class="sxs-lookup"><span data-stu-id="6abfb-171">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="6abfb-172">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-172">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="6abfb-173">Gibt den Zertifikatsvorlagennamen (eine Microsoft-Erweiterung) für das Signaturzertifikat an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-173">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="6abfb-174">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-174">`/csp`  *CSPName*</span></span>|<span data-ttu-id="6abfb-175">Gibt den Kryptografiedienstanbieter (CSP) an, der den privaten Schlüsselcontainer enthält.</span><span class="sxs-lookup"><span data-stu-id="6abfb-175">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="6abfb-176">`/d`  *Desc*</span><span class="sxs-lookup"><span data-stu-id="6abfb-176">`/d`  *Desc*</span></span>|<span data-ttu-id="6abfb-177">Gibt eine Beschreibung des signierten Inhalts an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-177">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="6abfb-178">`/dg`  *ADS*</span><span class="sxs-lookup"><span data-stu-id="6abfb-178">`/dg`  *Path*</span></span>|<span data-ttu-id="6abfb-179">Generiert den zu Signier enden Digest und die unsignierten PKCS7-Dateien.</span><span class="sxs-lookup"><span data-stu-id="6abfb-179">Generates the digest to be signed and the unsigned PKCS7 files.</span></span> <span data-ttu-id="6abfb-180">Der Ausgabe Digest und die PKCS7-Dateien lauten: *path\dateiname.Dig* und *path\dateiname.p7u*.</span><span class="sxs-lookup"><span data-stu-id="6abfb-180">The output digest and PKCS7 files will be: *Path\FileName.dig* and *Path\FileName.p7u*.</span></span> <span data-ttu-id="6abfb-181">Informationen zum Ausgeben einer zusätzlichen XML-Datei finden Sie unter <strong>/DXML</strong>.</span><span class="sxs-lookup"><span data-stu-id="6abfb-181">To output an additional XML file, see <strong>/dxml</strong>.</span></span>|  
|<span data-ttu-id="6abfb-182">`/di`  *ADS*</span><span class="sxs-lookup"><span data-stu-id="6abfb-182">`/di`  *Path*</span></span>|<span data-ttu-id="6abfb-183">Erstellt die Signatur, indem der signierte Digest in die nicht signierte PKCS7-Datei erfasst wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-183">Creates the signature by ingesting the signed digest to the unsigned PKCS7 file.</span></span> <span data-ttu-id="6abfb-184">Die Eingabe signierte Digest-und Ganzzahl ohne Vorzeichen PKCS7-Dateien sollten lauten: *Path\FileName.Dig.Signed* und *path\dateiname.p7u*.</span><span class="sxs-lookup"><span data-stu-id="6abfb-184">The input signed digest and unsigned PKCS7 files should be: *Path\FileName.dig.signed* and *Path\FileName.p7u*.</span></span>|  
|<span data-ttu-id="6abfb-185">`/dlib`  *DLL*</span><span class="sxs-lookup"><span data-stu-id="6abfb-185">`/dlib`  *DLL*</span></span>|<span data-ttu-id="6abfb-186">Gibt die DLL <code>AuthenticodeDigestSign</code> an, die die Funktion zum Signieren des Digest implementiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-186">Specifies the DLL implementing the <code>AuthenticodeDigestSign</code> function to sign the digest with.</span></span> <span data-ttu-id="6abfb-187">Diese Option entspricht der automatischen Verwendung von <strong>SignTool</strong> mit den Switches <strong>/DG</strong>, <strong>/DS</strong>und <strong>/di</strong> , mit dem Unterschied, dass diese Option Alle drei als einen atomaren Vorgang aufruft.</span><span class="sxs-lookup"><span data-stu-id="6abfb-187">This option is equivalent to using <strong>SignTool</strong> separately with the <strong>/dg</strong>, <strong>/ds</strong>, and <strong>/di</strong> switches, except this option invokes all three as one atomic operation.</span></span>|  
|<span data-ttu-id="6abfb-188">`/dmdf`  *Einfügen*</span><span class="sxs-lookup"><span data-stu-id="6abfb-188">`/dmdf`  *Filename*</span></span>|<span data-ttu-id="6abfb-189">Wenn Sie mit der <strong>/DG</strong> -Option verwendet wird, übergibt den Inhalt der Datei <code>AuthenticodeDigestSign</code> ohne Änderung an die Funktion.</span><span class="sxs-lookup"><span data-stu-id="6abfb-189">When used with the <strong>/dg</strong> option, passes the file’s contents to the <code>AuthenticodeDigestSign</code> function without modification.</span></span>|  
|`/ds`  |<span data-ttu-id="6abfb-190">Signiert nur den Digest.</span><span class="sxs-lookup"><span data-stu-id="6abfb-190">Signs the digest only.</span></span> <span data-ttu-id="6abfb-191">Die Eingabedatei sollte der Digest sein, der von der <strong>/DG</strong> -Option generiert wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-191">The input file should be the digest generated by the <strong>/dg</strong> option.</span></span> <span data-ttu-id="6abfb-192">Die Ausgabedatei lautet: *file. Signed*.</span><span class="sxs-lookup"><span data-stu-id="6abfb-192">The output file will be: *File.signed*.</span></span>|  
|<span data-ttu-id="6abfb-193">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="6abfb-193">`/du`  *URL*</span></span>|<span data-ttu-id="6abfb-194">Gibt eine URL (Uniform Resource Locator) für die erweiterte Beschreibung des signierten Inhalts an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-194">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|`/dxml`  |<span data-ttu-id="6abfb-195">Bei Verwendung mit der <strong>/DG</strong> -Option wird eine XML-Datei erstellt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-195">When used with the <strong>/dg</strong> option, produces an XML file.</span></span> <span data-ttu-id="6abfb-196">Die Ausgabedatei lautet: *Path\FileName.dig.xml*.</span><span class="sxs-lookup"><span data-stu-id="6abfb-196">The output file will be: *Path\FileName.dig.xml*.</span></span>|  
|<span data-ttu-id="6abfb-197">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="6abfb-197">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="6abfb-198">Gibt das Signaturzertifikat in einer Datei an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-198">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="6abfb-199">Wenn die Datei im PFX-Format (Personal Information Exchange) vorliegt und mit einem Kennwort gesichert ist, verwenden Sie zur Angabe des Kennworts die `/p`-Option.</span><span class="sxs-lookup"><span data-stu-id="6abfb-199">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="6abfb-200">Wenn die Datei keine privaten Schlüssel aufweist, verwenden Sie die `/csp`-Option und `/kc`-Option, um den CSP-Namen und den Namen des privaten Schlüsselcontainers anzugeben.</span><span class="sxs-lookup"><span data-stu-id="6abfb-200">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|<span data-ttu-id="6abfb-201">`/fd`*ALG*</span><span class="sxs-lookup"><span data-stu-id="6abfb-201">`/fd` *alg*</span></span>|<span data-ttu-id="6abfb-202">Gibt den Dateihashwertalgorithmus zum Erstellen von Dateisignaturen an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-202">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="6abfb-203">**Hinweis:** Eine Warnung wird generiert, wenn der <strong>/FD</strong> -Schalter beim Signieren nicht angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-203">**Note:** A warning is generated if <strong>/fd</strong> switch is not provided while signing.</span></span> <span data-ttu-id="6abfb-204">Der Standardwert für ALG ist SHA1, aber SHA256 wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-204">The default alg is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="6abfb-205">`/fd` *certHash*</span><span class="sxs-lookup"><span data-stu-id="6abfb-205">`/fd`  *certHash*</span></span>|<span data-ttu-id="6abfb-206">Durch Angabe der Zeichenfolge certHash wird standardmäßig der auf dem Signaturzertifikat verwendete Algorithmus verwendet.</span><span class="sxs-lookup"><span data-stu-id="6abfb-206">Specifying the string certHash will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="6abfb-207">**Hinweis:** Nur verfügbar in Windows 10 Kit-Builds 20236 und höher.</span><span class="sxs-lookup"><span data-stu-id="6abfb-207">**Note:** Only available in Windows 10 kit builds 20236 and greater.</span></span>|  
|<span data-ttu-id="6abfb-208">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-208">`/i`  *IssuerName*</span></span>|<span data-ttu-id="6abfb-209">Gibt den Namen des Ausstellers des Signaturzertifikats an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-209">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="6abfb-210">Dieser Wert kann eine Teilzeichenfolge des gesamten Ausstellernamens sein.</span><span class="sxs-lookup"><span data-stu-id="6abfb-210">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="6abfb-211">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-211">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="6abfb-212">Gibt den Namen des privaten Schlüsselcontainers an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-212">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="6abfb-213">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-213">`/n`  *SubjectName*</span></span>|<span data-ttu-id="6abfb-214">Gibt den Namen des Antragstellers des Signaturzertifikats an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-214">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="6abfb-215">Dieser Wert kann eine Teilzeichenfolge des gesamten Antragstellernamens sein.</span><span class="sxs-lookup"><span data-stu-id="6abfb-215">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="6abfb-216">Wenn unterstützt, werden Seitenhashes für ausführbare Dateien unterdrückt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-216">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="6abfb-217">Die Standardeinstellung wird von der SIGNTOOL_PAGE_HASHES-Umgebungsvariablen und der wintrust.dll-Version bestimmt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-217">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="6abfb-218">Für nicht portable ausführbare Dateien wird diese Option ignoriert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-218">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="6abfb-219">`/p`  *Password*</span><span class="sxs-lookup"><span data-stu-id="6abfb-219">`/p`  *Password*</span></span>|<span data-ttu-id="6abfb-220">Gibt das Kennwort zum Öffnen einer PFX-Datei an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-220">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="6abfb-221">(Verwenden Sie die `/f`-Option, um eine PFX-Datei anzugeben.)</span><span class="sxs-lookup"><span data-stu-id="6abfb-221">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="6abfb-222">`/p7` *Pfad*</span><span class="sxs-lookup"><span data-stu-id="6abfb-222">`/p7` *Path*</span></span>|<span data-ttu-id="6abfb-223">Gibt an, dass für jede ausgewählte Inhaltsdatei eine PKCS #7-Datei (Public Key Cryptography Standards) erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-223">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="6abfb-224">PKCS #7-Dateien erhalten die Bezeichnung „*Pfad*\\*Dateiname*.p7“.</span><span class="sxs-lookup"><span data-stu-id="6abfb-224">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="6abfb-225">`/p7ce` *Value*</span><span class="sxs-lookup"><span data-stu-id="6abfb-225">`/p7ce` *Value*</span></span>|<span data-ttu-id="6abfb-226">Gibt Optionen für den signierten PKCS #7-Inhalt an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-226">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="6abfb-227">Legen Sie *Wert* auf „Embedded“ fest, um den signierten Inhalt in die PKCS #7-Datei einzubetten, oder auf „DetachedSignedData“, um den signierten Datenabschnitt einer getrennten PKCS #7-Datei zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-227">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="6abfb-228">Ohne Verwendung der `/p7ce`-Option wird der signierte Inhalt standardmäßig eingebettet.</span><span class="sxs-lookup"><span data-stu-id="6abfb-228">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="6abfb-229">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="6abfb-229">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="6abfb-230">Gibt den Objektbezeichner (OID) zur Identifizierung des signierten PKCS #7-Inhalts an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-230">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="6abfb-231">Wenn unterstützt, werden Seitenhashes für ausführbare Dateien generiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-231">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="6abfb-232">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-232">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="6abfb-233">Gibt den Antragstellernamen des Stammzertifikats an, mit dem das Signaturzertifikat verkettet werden muss.</span><span class="sxs-lookup"><span data-stu-id="6abfb-233">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="6abfb-234">Dieser Wert kann eine Teilzeichenfolge des gesamten Antragstellernamens des Stammzertifikats sein.</span><span class="sxs-lookup"><span data-stu-id="6abfb-234">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="6abfb-235">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="6abfb-235">`/s`  *StoreName*</span></span>|<span data-ttu-id="6abfb-236">Gibt den beim Suchen des Zertifikats zu öffnenden Speicher an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-236">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="6abfb-237">Ohne Angabe dieser Option wird der `My`-Speicher geöffnet.</span><span class="sxs-lookup"><span data-stu-id="6abfb-237">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="6abfb-238">`/sha1`  *Hash*</span><span class="sxs-lookup"><span data-stu-id="6abfb-238">`/sha1`  *Hash*</span></span>|<span data-ttu-id="6abfb-239">Gibt den SHA1-Hash des Signaturzertifikats an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-239">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="6abfb-240">In der Regel wird der SHA1-Hash angegeben, wenn die von den verbleibenden Schaltern festgelegten Kriterien von mehreren Zertifikaten erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-240">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="6abfb-241">Gibt an, dass anstatt eines Benutzerspeichers ein Computerspeicher verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-241">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="6abfb-242">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="6abfb-242">`/t`  *URL*</span></span>|<span data-ttu-id="6abfb-243">Gibt die URL des Zeitstempelservers an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-243">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="6abfb-244">Wenn diese Option (oder `/tr`) nicht vorhanden ist, wird der signierten Datei kein Zeitstempel hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-244">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="6abfb-245">Im Fall eines Fehlers beim Hinzufügen des Zeitstempels wird eine Warnung generiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-245">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="6abfb-246">Diese Option kann nicht mit der `/tr`-Option verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-246">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="6abfb-247">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="6abfb-247">`/td`  *alg*</span></span>|<span data-ttu-id="6abfb-248">Wird mit der `/tr`-Option zum Anfordern eines vom RFC 3161-Zeitstempelserver verwendeten Digestalgorithmus genutzt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-248">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="6abfb-249">**Hinweis:** Eine Warnung wird generiert, wenn der <strong>/TD</strong> -Schalter beim Timestampwert nicht angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-249">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="6abfb-250">Der Standardwert für ALG ist SHA1, aber SHA256 wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-250">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="6abfb-251">Der Schalter <strong>/TD</strong> muss nach dem <strong>/TR</strong> -Switch und nicht vor vor deklariert werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-251">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="6abfb-252">Wenn der <strong>/TD</strong> -Schalter vor dem <strong>/TR</strong> -Schalter deklariert wird, wird der Zeitstempel, der zurückgegeben wird, von einem SHA1-Algorithmus anstelle des vorgesehenen SHA256-Algorithmus.</span><span class="sxs-lookup"><span data-stu-id="6abfb-252">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="6abfb-253">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="6abfb-253">`/tr`  *URL*</span></span>|<span data-ttu-id="6abfb-254">Gibt die URL des RFC 3161-Zeitstempelservers an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-254">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="6abfb-255">Wenn diese Option (oder `/t`) nicht vorhanden ist, wird der signierten Datei kein Zeitstempel hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-255">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="6abfb-256">Im Fall eines Fehlers beim Hinzufügen des Zeitstempels wird eine Warnung generiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-256">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="6abfb-257">Diese Option kann nicht mit der `/t`-Option verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-257">This option cannot be used with the `/t` option.</span></span>|  
|<span data-ttu-id="6abfb-258">`/u`  *Usage*</span><span class="sxs-lookup"><span data-stu-id="6abfb-258">`/u`  *Usage*</span></span>|<span data-ttu-id="6abfb-259">Gibt die verbesserte Schlüsselverwendung (EKU) an, die im Signaturzertifikat vorhanden sein muss.</span><span class="sxs-lookup"><span data-stu-id="6abfb-259">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="6abfb-260">Der Verwendungswert kann durch einen OID oder eine Zeichenfolge angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-260">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="6abfb-261">Die Standardverwendung lautet "Codesignatur" (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="6abfb-261">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="6abfb-262">Gibt die Verwendung von "Verifizierung von Windows-Systemkomponenten" (1.3.6.1.4.1.311.10.3.6) an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-262">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="6abfb-263">Verwendungsbeispiele finden Sie unter [Using SignTool to Sign a File (Signieren einer Datei mit SignTool)](using-signtool-to-sign-a-file.md).</span><span class="sxs-lookup"><span data-stu-id="6abfb-263">For usage examples, see [Using SignTool to Sign a File](using-signtool-to-sign-a-file.md).</span></span>  
  

## <a name="timestamp-command-options"></a><span data-ttu-id="6abfb-264">Timestamp-Befehlsoptionen</span><span class="sxs-lookup"><span data-stu-id="6abfb-264">TimeStamp command options</span></span>  

 <span data-ttu-id="6abfb-265">In der folgenden Tabelle werden die Optionen aufgeführt, die mit dem `TimeStamp`-Befehl verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="6abfb-265">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="6abfb-266">TimeStamp-Option</span><span class="sxs-lookup"><span data-stu-id="6abfb-266">TimeStamp option</span></span>|<span data-ttu-id="6abfb-267">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6abfb-267">Description</span></span>|  
|----|----|  
|`/p7`|<span data-ttu-id="6abfb-268">Fügt PKCS #7-Dateien Zeitstempel hinzu.</span><span class="sxs-lookup"><span data-stu-id="6abfb-268">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="6abfb-269">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="6abfb-269">`/t`  *URL*</span></span>|<span data-ttu-id="6abfb-270">Gibt die URL des Zeitstempelservers an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-270">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="6abfb-271">Vor dem Hinzufügen eines Zeitstempels muss die jeweilige Datei signiert werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-271">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="6abfb-272">Entweder die `/t`-Option oder die `/tr`-Option ist erforderlich.</span><span class="sxs-lookup"><span data-stu-id="6abfb-272">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="6abfb-273">`/td`  *alg*</span><span class="sxs-lookup"><span data-stu-id="6abfb-273">`/td`  *alg*</span></span>|<span data-ttu-id="6abfb-274">Wird mit der `/tr`-Option zum Anfordern eines vom RFC 3161-Zeitstempelserver verwendeten Digestalgorithmus genutzt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-274">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="6abfb-275">**Hinweis:** Eine Warnung wird generiert, wenn der <strong>/TD</strong> -Schalter beim Timestampwert nicht angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-275">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="6abfb-276">Der Standardwert für ALG ist SHA1, aber SHA256 wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-276">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="6abfb-277">Der Schalter <strong>/TD</strong> muss nach dem <strong>/TR</strong> -Switch und nicht vor vor deklariert werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-277">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="6abfb-278">Wenn der <strong>/TD</strong> -Schalter vor dem <strong>/TR</strong> -Schalter deklariert wird, wird der Zeitstempel, der zurückgegeben wird, von einem SHA1-Algorithmus anstelle des vorgesehenen SHA256-Algorithmus.</span><span class="sxs-lookup"><span data-stu-id="6abfb-278">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="6abfb-279">`/tp` *index*</span><span class="sxs-lookup"><span data-stu-id="6abfb-279">`/tp` *index*</span></span>|<span data-ttu-id="6abfb-280">Fügt der Signatur bei *Index* einen Zeitstempel hinzu</span><span class="sxs-lookup"><span data-stu-id="6abfb-280">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="6abfb-281">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="6abfb-281">`/tr`  *URL*</span></span>|<span data-ttu-id="6abfb-282">Gibt die URL des RFC 3161-Zeitstempelservers an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-282">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="6abfb-283">Vor dem Hinzufügen eines Zeitstempels muss die jeweilige Datei signiert werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-283">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="6abfb-284">Entweder die `/tr`-Option oder die `/t`-Option ist erforderlich.</span><span class="sxs-lookup"><span data-stu-id="6abfb-284">Either the `/tr` or the `/t` option is required.</span></span>|  


## <a name="verify-command-options"></a><span data-ttu-id="6abfb-285">Überprüfen der Befehlsoptionen</span><span class="sxs-lookup"><span data-stu-id="6abfb-285">Verify command options</span></span>  

|<span data-ttu-id="6abfb-286">"Verify"-Option</span><span class="sxs-lookup"><span data-stu-id="6abfb-286">Verify option</span></span>|<span data-ttu-id="6abfb-287">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="6abfb-287">Description</span></span>|
|----|----|
| <span data-ttu-id="6abfb-288">**/a**</span><span class="sxs-lookup"><span data-stu-id="6abfb-288">**/a**</span></span> | <span data-ttu-id="6abfb-289">Gibt an, dass alle Methoden zum Überprüfen der Datei verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="6abfb-289">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="6abfb-290">Zuerst werden die Katalogdatenbanken durchsucht, um zu ermitteln, ob die Datei in einem Katalog signiert ist.</span><span class="sxs-lookup"><span data-stu-id="6abfb-290">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="6abfb-291">Wenn die Datei nicht in einem Katalog signiert ist, versucht SignTool, die eingebettete Signatur der Datei zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-291">If the file is not signed in any catalog, SignTool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="6abfb-292">Diese Option wird zum Überprüfen von Dateien empfohlen, die möglicherweise, jedoch nicht unbedingt in einem Katalog signiert sind.</span><span class="sxs-lookup"><span data-stu-id="6abfb-292">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="6abfb-293">Beispiele für Dateien, die signiert oder nicht signiert werden können, sind Windows-Dateien oder Treiber.</span><span class="sxs-lookup"><span data-stu-id="6abfb-293">Examples of files that may or may not be signed include Windows files or drivers.</span></span> |
| <span data-ttu-id="6abfb-294">**/ad**</span><span class="sxs-lookup"><span data-stu-id="6abfb-294">**/ad**</span></span> | <span data-ttu-id="6abfb-295">Sucht den Katalog in der Standardkatalogdatenbank.</span><span class="sxs-lookup"><span data-stu-id="6abfb-295">Finds the catalog by using the default catalog database.</span></span> |
| <span data-ttu-id="6abfb-296">**/all**</span><span class="sxs-lookup"><span data-stu-id="6abfb-296">**/all**</span></span> | <span data-ttu-id="6abfb-297">Überprüft alle Signaturen in einer Datei mit mehreren Signaturen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-297">Verifies all signatures in a file with multiple signatures.</span></span> |
| <span data-ttu-id="6abfb-298">**/as**</span><span class="sxs-lookup"><span data-stu-id="6abfb-298">**/as**</span></span> | <span data-ttu-id="6abfb-299">Sucht den Katalog in der Katalogdatenbank der Systemkomponenten (Treiber).</span><span class="sxs-lookup"><span data-stu-id="6abfb-299">Finds the catalog by using the system component (driver) catalog database.</span></span> |
| <span data-ttu-id="6abfb-300">**/AG** - *ID-GUID*</span><span class="sxs-lookup"><span data-stu-id="6abfb-300">**/ag** *CatDBGUID*</span></span> | <span data-ttu-id="6abfb-301">Sucht den Katalog in der Katalog Datenbank, der durch die **GUID** identifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-301">Finds the catalog in the catalog database identified by the **GUID**.</span></span> |
| <span data-ttu-id="6abfb-302">**/c** - *Datei*</span><span class="sxs-lookup"><span data-stu-id="6abfb-302">**/c** *CatFile*</span></span> | <span data-ttu-id="6abfb-303">Gibt die Katalogdatei anhand des Namens an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-303">Specifies the catalog file by name.</span></span> |
| <span data-ttu-id="6abfb-304">**/d**</span><span class="sxs-lookup"><span data-stu-id="6abfb-304">**/d**</span></span> | <span data-ttu-id="6abfb-305">Druckt die Beschreibung und Beschreibungs-URL.</span><span class="sxs-lookup"><span data-stu-id="6abfb-305">Print the description and description URL.</span></span><br/> <span data-ttu-id="6abfb-306">**Windows Vista und früher:** Dieses Flag wird nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-306">**Windows Vista and earlier:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="6abfb-307">**/DS** - *Index*</span><span class="sxs-lookup"><span data-stu-id="6abfb-307">**/ds** *Index*</span></span> | <span data-ttu-id="6abfb-308">Überprüft die Signatur an einer bestimmten Position.</span><span class="sxs-lookup"><span data-stu-id="6abfb-308">Verifies the signature at a certain position.</span></span> |
| <span data-ttu-id="6abfb-309">**/Hash**{**SHA1** \| **SHA256**}</span><span class="sxs-lookup"><span data-stu-id="6abfb-309">**/hash**{**SHA1**\|**SHA256**}</span></span> | <span data-ttu-id="6abfb-310">Gibt einen optionalen Hashalgorithmus zum Suchen einer Datei in einem Katalog an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-310">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span> |
| <span data-ttu-id="6abfb-311">**/kp**</span><span class="sxs-lookup"><span data-stu-id="6abfb-311">**/kp**</span></span> | <span data-ttu-id="6abfb-312">Führt die Überprüfung mithilfe der x64-Kernel Modus-Treiber Signatur Richtlinie durch.</span><span class="sxs-lookup"><span data-stu-id="6abfb-312">Performs the verification by using the x64 kernel-mode driver signing policy.</span></span> |
| <span data-ttu-id="6abfb-313">**/MS**</span><span class="sxs-lookup"><span data-stu-id="6abfb-313">**/ms**</span></span> | <span data-ttu-id="6abfb-314">Verwendet mehrere Überprüfungssemantiken.</span><span class="sxs-lookup"><span data-stu-id="6abfb-314">Uses multiple verification semantics.</span></span> <span data-ttu-id="6abfb-315">Dies ist das Standardverhalten eines [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) -Aufrufes.</span><span class="sxs-lookup"><span data-stu-id="6abfb-315">This is the default behavior of a [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) call.</span></span> |
| <span data-ttu-id="6abfb-316">**/o** - *Version*</span><span class="sxs-lookup"><span data-stu-id="6abfb-316">**/o** *Version*</span></span> | <span data-ttu-id="6abfb-317">Überprüft die Datei anhand der Betriebssystemversion.</span><span class="sxs-lookup"><span data-stu-id="6abfb-317">Verifies the file by operating system version.</span></span> <span data-ttu-id="6abfb-318">Der Versions Parameter hat folgendes Format:</span><span class="sxs-lookup"><span data-stu-id="6abfb-318">The version parameter is of the form:</span></span><br/> <span data-ttu-id="6abfb-319">*PlatformID ***:*** VerMajor ***.*** VerMinor ***.*** BuildNumber*</span><span class="sxs-lookup"><span data-stu-id="6abfb-319">*PlatformID ***:*** VerMajor ***.*** VerMinor ***.*** BuildNumber*</span></span><br/> <span data-ttu-id="6abfb-320">Die Verwendung des */o* -Schalters wird empfohlen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-320">The use of the */o* switch is recommended.</span></span> <span data-ttu-id="6abfb-321">Wenn */o* nicht angegeben ist, gibt SignTool möglicherweise unerwartete Ergebnisse zurück.</span><span class="sxs-lookup"><span data-stu-id="6abfb-321">If */o* is not specified SignTool may return unexpected results.</span></span> <span data-ttu-id="6abfb-322">Wenn Sie z. b. den */o* -Schalter nicht einschließen, werden System Kataloge, die auf einem älteren Betriebssystem ordnungsgemäß überprüft werden, unter einem neueren Betriebssystem möglicherweise nicht ordnungsgemäß überprüft.</span><span class="sxs-lookup"><span data-stu-id="6abfb-322">For example, if you do not include the */o* switch, then system catalogs that validate correctly on an older OS may not validate correctly on a newer OS.</span></span> |
| <span data-ttu-id="6abfb-323">**/p7**</span><span class="sxs-lookup"><span data-stu-id="6abfb-323">**/p7**</span></span> | <span data-ttu-id="6abfb-324">Überprüfen Sie die PKCS \# 7-Dateien.</span><span class="sxs-lookup"><span data-stu-id="6abfb-324">Verify PKCS \#7 files.</span></span> <span data-ttu-id="6abfb-325">Für die PKCS 7-Überprüfung werden keine vorhandenen Richtlinien verwendet \# .</span><span class="sxs-lookup"><span data-stu-id="6abfb-325">No existing policies are used for PKCS \#7 validation.</span></span> <span data-ttu-id="6abfb-326">Die Signatur wird überprüft, und für das Signaturzertifikat wird eine Kette erstellt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-326">The signature is checked and a chain is built for the signing certificate.</span></span> |
| <span data-ttu-id="6abfb-327">**/pa**</span><span class="sxs-lookup"><span data-stu-id="6abfb-327">**/pa**</span></span> | <span data-ttu-id="6abfb-328">Gibt an, dass die Standard Richtlinie für die Authentifizierungs Überprüfung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="6abfb-328">Specifies that the Default Authentication Verification Policy is used.</span></span> <span data-ttu-id="6abfb-329">Wenn die **/PA** -Option nicht angegeben ist, verwendet SignTool die Richtlinie für die Windows-Treiber Überprüfung.</span><span class="sxs-lookup"><span data-stu-id="6abfb-329">If the **/pa** option is not specified, SignTool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="6abfb-330">Diese Option kann nicht **mit den Optionen** von "-Optionen" verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-330">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="6abfb-331">**/PG** *policyguid*</span><span class="sxs-lookup"><span data-stu-id="6abfb-331">**/pg** *PolicyGUID*</span></span> | <span data-ttu-id="6abfb-332">Gibt eine Überprüfungs Richtlinie nach **GUID** an.</span><span class="sxs-lookup"><span data-stu-id="6abfb-332">Specifies a verification policy by **GUID**.</span></span> <span data-ttu-id="6abfb-333">Die **GUID** entspricht der Aktions-ID der Überprüfungs Richtlinie.</span><span class="sxs-lookup"><span data-stu-id="6abfb-333">The **GUID** corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="6abfb-334">Diese Option kann nicht **mit den Optionen** von "-Optionen" verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-334">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="6abfb-335">**/pH**</span><span class="sxs-lookup"><span data-stu-id="6abfb-335">**/ph**</span></span> | <span data-ttu-id="6abfb-336">Seiten Hash Werte drucken und überprüfen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-336">Print and verify page hash values.</span></span><br/> <span data-ttu-id="6abfb-337">**Windows Vista und früher:** Dieses Flag wird nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-337">**Windows Vista and earlier:** This flag is not supported.</span></span><br/>  |
| <span data-ttu-id="6abfb-338">**/r** *rootsubjetname*</span><span class="sxs-lookup"><span data-stu-id="6abfb-338">**/r** *RootSubjectName*</span></span> | <span data-ttu-id="6abfb-339">Gibt den Antragstellernamen des Stammzertifikats an, mit dem das Signaturzertifikat verkettet werden muss.</span><span class="sxs-lookup"><span data-stu-id="6abfb-339">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="6abfb-340">Dieser Wert kann eine Teilzeichenfolge des gesamten Antragstellernamens des Stammzertifikats sein.</span><span class="sxs-lookup"><span data-stu-id="6abfb-340">This value can be a substring of the entire subject name of the root certificate.</span></span> |
| <span data-ttu-id="6abfb-341">**/tw**</span><span class="sxs-lookup"><span data-stu-id="6abfb-341">**/tw**</span></span> | <span data-ttu-id="6abfb-342">Gibt an, dass eine Warnung generiert wird, wenn die Signatur nicht mit einem Zeitstempel versehen ist.</span><span class="sxs-lookup"><span data-stu-id="6abfb-342">Specifies that a warning is generated if the signature is not time stamped.</span></span>|


<span data-ttu-id="6abfb-343">Der SignTool **Verify** -Befehl bestimmt, ob das Signaturzertifikat von einer vertrauenswürdigen Zertifizierungsstelle ausgestellt wurde, ob das Signaturzertifikat widerrufen wurde, und optional, ob das Signaturzertifikat für eine bestimmte Richtlinie gültig ist.</span><span class="sxs-lookup"><span data-stu-id="6abfb-343">The SignTool **verify** command determines whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span>  

<span data-ttu-id="6abfb-344">Der Befehl SignTool **Verify** gibt den **eingebetteten** Signatur Status aus, es sei denn, für die Suche eines Katalogs wird eine Option angegeben (/a,/AD,/as,/AG,/c).</span><span class="sxs-lookup"><span data-stu-id="6abfb-344">The SignTool **verify** command will output the **embedded** signature status unless an option is specified to search a catalog (/a, /ad, /as, /ag, /c).</span></span>


## <a name="return-value"></a><span data-ttu-id="6abfb-345">Rückgabewert</span><span class="sxs-lookup"><span data-stu-id="6abfb-345">Return value</span></span>  

 <span data-ttu-id="6abfb-346">Beim Beenden wird vom Signierungstool einer der folgenden Exitcodes zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="6abfb-346">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="6abfb-347">Exitcode</span><span class="sxs-lookup"><span data-stu-id="6abfb-347">Exit code</span></span>|<span data-ttu-id="6abfb-348">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="6abfb-348">Description</span></span>|  
|----|----| 
|<span data-ttu-id="6abfb-349">0</span><span class="sxs-lookup"><span data-stu-id="6abfb-349">0</span></span>|<span data-ttu-id="6abfb-350">Ausführung war erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="6abfb-350">Execution was successful.</span></span>|  
|<span data-ttu-id="6abfb-351">1</span><span class="sxs-lookup"><span data-stu-id="6abfb-351">1</span></span>|<span data-ttu-id="6abfb-352">Ausführung ist fehlgeschlagen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-352">Execution has failed.</span></span>|  
|<span data-ttu-id="6abfb-353">2</span><span class="sxs-lookup"><span data-stu-id="6abfb-353">2</span></span>|<span data-ttu-id="6abfb-354">Ausführung wurde mit Warnungen abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-354">Execution has completed with warnings.</span></span>|


## <a name="examples"></a><span data-ttu-id="6abfb-355">Beispiele</span><span class="sxs-lookup"><span data-stu-id="6abfb-355">Examples</span></span>  

 <span data-ttu-id="6abfb-356">Durch den folgenden Befehl wird der Systemkomponenten- und Treiberdatenbank die Katalogdatei "MyCatalogFileName.cat" hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-356">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="6abfb-357">Mit der `/u`-Option wird ggf. ein eindeutiger Name generiert, um das Ersetzen einer möglicherweise vorhandenen Katalogdatei mit dem Namen `MyCatalogFileName.cat` zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="6abfb-357">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="6abfb-358">Durch den folgenden Befehl wird eine Datei automatisch mit dem besten Zertifikat signiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-358">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console  
signtool sign /a /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="6abfb-359">Durch den folgenden Befehl wird eine Datei mit einem in einer kennwortgeschützten PFX-Datei gespeicherten Zertifikat digital signiert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-359">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="6abfb-360">Durch den folgenden Befehl wird eine Datei digital signiert und mit einem Zeitstempel versehen.</span><span class="sxs-lookup"><span data-stu-id="6abfb-360">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="6abfb-361">Das zum Signieren der Datei verwendete Zertifikat ist in einer PFX-Datei gespeichert.</span><span class="sxs-lookup"><span data-stu-id="6abfb-361">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="6abfb-362">Durch den folgenden Befehl wird eine Datei mit einem Zertifikat aus dem `My`-Speicher signiert, das den Antragstellernamen `My Company Certificate` aufweist.</span><span class="sxs-lookup"><span data-stu-id="6abfb-362">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="6abfb-363">Der folgende Befehl signiert ein ActiveX-Steuerelement und stellt Informationen bereit, die dem Benutzer in Internet Explorer bei der Aufforderung zum Installieren des Steuerelements angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="6abfb-363">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe 
```  
  
 <span data-ttu-id="6abfb-364">Durch den folgenden Befehl wird einer bereits digital signierten Datei ein Zeitstempel hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="6abfb-364">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="6abfb-365">Der folgende Befehl versieht eine Datei unter Verwendung eines RFC 3161-Zeitstempelservers mit einem Zeitstempel.</span><span class="sxs-lookup"><span data-stu-id="6abfb-365">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="6abfb-366">Durch den folgenden Befehl wird überprüft, ob eine Datei signiert wurde.</span><span class="sxs-lookup"><span data-stu-id="6abfb-366">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="6abfb-367">Durch den folgenden Befehl wird eine möglicherweise in einem Katalog signierte Systemdatei überprüft.</span><span class="sxs-lookup"><span data-stu-id="6abfb-367">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="6abfb-368">Durch den folgenden Befehl wird eine Systemdatei überprüft, die in einem Katalog mit dem Namen `MyCatalog.cat` signiert ist.</span><span class="sxs-lookup"><span data-stu-id="6abfb-368">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
