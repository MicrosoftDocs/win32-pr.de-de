---
description: Die Zertifikat Registrierungs Steuerung kann von einer Anwendung verwendet werden, die anfordern muss, dass ein Zertifikat für einen benannten Betreff ausgestellt wird.
ms.assetid: ce6661b0-7ed2-452f-a54c-6705d14f3298
title: Zertifikat Registrierungs Steuerung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e417a9db7984cbb58b7c2e3b51d828b6d61a97b6
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "106340185"
---
# <a name="certificate-enrollment-control"></a><span data-ttu-id="adcfd-103">Zertifikat Registrierungs Steuerung</span><span class="sxs-lookup"><span data-stu-id="adcfd-103">Certificate Enrollment Control</span></span>

<span data-ttu-id="adcfd-104">Die Zertifikat Registrierungs Steuerung kann von einer Anwendung verwendet werden, die anfordern muss, dass ein Zertifikat für einen benannten Betreff ausgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="adcfd-104">Certificate Enrollment Control can be used by an application that must request that a certificate be issued to a named subject.</span></span> <span data-ttu-id="adcfd-105">Es ist so konzipiert, dass Daten in Form einer binären Zeichenfolge (BSTR) akzeptiert werden.</span><span class="sxs-lookup"><span data-stu-id="adcfd-105">It is designed to accept data in the form of a binary string (BSTR).</span></span> <span data-ttu-id="adcfd-106">Die Daten können von einer Webseite oder von der Benutzeroberfläche des Visual Basic oder Visual C++ Entwicklungssystems stammen.</span><span class="sxs-lookup"><span data-stu-id="adcfd-106">The data can come from a webpage or from the user interface of the Visual Basic or Visual C++ development system.</span></span> <span data-ttu-id="adcfd-107">Bei der Ausgabe der Zertifikat Registrierungs Steuerung handelt es sich um eine PKCS \# 10-Zertifikat Anforderung, die an eine [*Zertifizierungsstelle (Certification Authority*](../secgloss/c-gly.md) , ca) gesendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="adcfd-107">The output from the Certificate Enrollment Control is a PKCS \#10 certificate request that can be sent on to a [*certification authority*](../secgloss/c-gly.md) (CA).</span></span>

![Zertifikat Registrierungs Steuerung](images/xen-arch.png)

<span data-ttu-id="adcfd-109">Erforderliche Informationen zum Benutzer, der Zertifikat Antragsteller, werden von der Benutzeroberfläche gesammelt.</span><span class="sxs-lookup"><span data-stu-id="adcfd-109">Necessary information about the user, the certificate subject, is collected by the User Interface.</span></span> <span data-ttu-id="adcfd-110">Diese Informationen werden als BSTR-Eingabe für die Zertifikat Registrierungs Steuerung bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="adcfd-110">This information is provided as a BSTR input to the Certificate Enrollment Control.</span></span> <span data-ttu-id="adcfd-111">Die Zertifikat Registrierungs Steuerung generiert den entsprechenden Signatur Schlüssel, Schlüsselaustausch Schlüssel oder beide Schlüsselpaare.</span><span class="sxs-lookup"><span data-stu-id="adcfd-111">The Certificate Enrollment Control generates the appropriate signature key, key exchange key, or both key pairs.</span></span> <span data-ttu-id="adcfd-112">Das-Steuerelement generiert und signiert dann eine PKCS \# 10- [*Zertifikat Anforderung*](../secgloss/c-gly.md) mit dem generierten [*privaten Schlüssel*](../secgloss/p-gly.md).</span><span class="sxs-lookup"><span data-stu-id="adcfd-112">The control then generates and signs a PKCS \#10 [*certificate request*](../secgloss/c-gly.md) by using the generated [*private key*](../secgloss/p-gly.md).</span></span> <span data-ttu-id="adcfd-113">Die Zertifikat Registrierungs Steuerung verknüpft dann das Schlüsselpaar mit einem temporären Dummy-Zertifikat, das im Anforderungs Speicher gespeichert wird, bis das ausgestellte Zertifikat von einer Zertifizierungsstelle zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="adcfd-113">The Certificate Enrollment Control then links the key pair to a temporary dummy certificate which is stored in the request store until the issued certificate is returned from a certification authority.</span></span> <span data-ttu-id="adcfd-114">Schließlich sendet die Anwendung die PKCS \# 10-Zertifikat Anforderung an eine Zertifizierungsstelle.</span><span class="sxs-lookup"><span data-stu-id="adcfd-114">Finally, the application sends the PKCS \#10 certificate request to a CA.</span></span>

<span data-ttu-id="adcfd-115">Wenn die Zertifizierungsstelle die Zertifikat Anforderung genehmigt, erstellt die Zertifizierungsstelle ein Zertifikat, das den öffentlichen Schlüssel enthält.</span><span class="sxs-lookup"><span data-stu-id="adcfd-115">If the CA approves the certificate request, the CA creates a certificate containing the public key.</span></span> <span data-ttu-id="adcfd-116">Die Zertifizierungsstelle signiert außerdem das Zertifikat und gibt es zurück.</span><span class="sxs-lookup"><span data-stu-id="adcfd-116">The CA also signs and returns the certificate.</span></span>

<span data-ttu-id="adcfd-117">Wenn das angeforderte Zertifikat von der Zertifizierungsstelle zurückgegeben wird, übergibt die Anwendung die PKCS \# 7-Nachricht an das Zertifikat Registrierungs Steuerelement, in dem das Zertifikat oder die Zertifikatskette aus der PKCS 7-Nachricht extrahiert wird \# .</span><span class="sxs-lookup"><span data-stu-id="adcfd-117">When the requested certificate is returned from the CA, the application passes the PKCS \#7 message back to the Certificate Enrollment Control where the certificate or chain of certificates is extracted from the PKCS \#7 message.</span></span> <span data-ttu-id="adcfd-118">Das Zertifikat und alle anderen Zertifikate in der Vertrauenskette werden in einem [*Zertifikat Speicher*](../secgloss/c-gly.md)gespeichert.</span><span class="sxs-lookup"><span data-stu-id="adcfd-118">The certificate and any other certificates in the chain of trust are stored in a [*certificate store*](../secgloss/c-gly.md).</span></span> <span data-ttu-id="adcfd-119">Das zurückgegebene Zertifikat wird in keiner Weise geändert.</span><span class="sxs-lookup"><span data-stu-id="adcfd-119">The returned certificate is not modified in any way.</span></span> <span data-ttu-id="adcfd-120">Alle Zertifikat fähigen Anwendungen können nun aus dem Speicher auf dieses Zertifikat zugreifen.</span><span class="sxs-lookup"><span data-stu-id="adcfd-120">Any certificate-aware application can now access this certificate from the store.</span></span>

<span data-ttu-id="adcfd-121">Die Smartcard-Registrierungs Steuerung wird von einem Administrator verwendet, um sich im Auftrag von smartcardbenutzern anzumelden.</span><span class="sxs-lookup"><span data-stu-id="adcfd-121">Smart Card Enrollment Control is used by an administrator to enroll on behalf of smart card users.</span></span> <span data-ttu-id="adcfd-122">Der Registrierungsvorgang führt dazu, dass ein Zertifikat ausgestellt wird, das auf der Smartcard eines Benutzers gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="adcfd-122">The enrollment process results in a certificate being issued that is stored on a user's smart card.</span></span>

<span data-ttu-id="adcfd-123">Die Smartcard-Registrierungs Steuerung ist in Scrdenrl.dll enthalten und besteht aus einem Objekt ( **scrdenr**).</span><span class="sxs-lookup"><span data-stu-id="adcfd-123">The Smart Card Enrollment Control is contained in Scrdenrl.dll and consists of one object, **SCrdEnr**.</span></span> <span data-ttu-id="adcfd-124">In Scrdenrl.dll sind keine anderen Objekte enthalten.</span><span class="sxs-lookup"><span data-stu-id="adcfd-124">No other objects are included in Scrdenrl.dll.</span></span> <span data-ttu-id="adcfd-125">Dieses Smartcard-Registrierungs Objekt kann mit einer Skriptsprache verwendet werden, z. b. Visual Basic Scripting Edition (VBScript).</span><span class="sxs-lookup"><span data-stu-id="adcfd-125">This Smart Card Enrollment object can be used with a script language, such as Visual Basic Scripting Edition (VBScript).</span></span>

<span data-ttu-id="adcfd-126">Auf dem Computer, auf dem die Smartcard-Registrierungs Steuerung ausgeführt wird, muss ein [*Smartcardleser*](../secgloss/r-gly.md) installiert sein.</span><span class="sxs-lookup"><span data-stu-id="adcfd-126">A [*smart card reader*](../secgloss/r-gly.md) must be installed on the computer running the Smart Card Enrollment Control.</span></span>

<span data-ttu-id="adcfd-127">Außerdem muss der Smartcard-Aussteller ein Signaturzertifikat erhalten, das auf der Zertifikat Vorlage "anmelmentagent" basiert.</span><span class="sxs-lookup"><span data-stu-id="adcfd-127">Additionally, the smart card issuer must have obtained a signing certificate based on the "EnrollmentAgent" certificate template.</span></span> <span data-ttu-id="adcfd-128">Dieses Signaturzertifikat wird verwendet, um die Zertifikat Anforderung zu signieren, die im Auftrag des smartcardempfängers generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="adcfd-128">This signing certificate will be used to sign the certificate request generated on behalf of the smart card recipient.</span></span> <span data-ttu-id="adcfd-129">Standardmäßig werden Domänen Administratoren die Berechtigung zum Anfordern eines Zertifikats auf der Grundlage der Vorlage "Registrierungs-Agent" erteilt.</span><span class="sxs-lookup"><span data-stu-id="adcfd-129">By default, domain administrators are granted permission to request a certificate based on the "Enrollment Agent" template.</span></span> <span data-ttu-id="adcfd-130">Einem anderen Benutzer kann die Berechtigung erteilt werden, sich für ein anmeldungsagentzertifikat zu registrieren (über das MMC-Snap-in "Active Directory Standorte und Dienste"); Dies ermöglicht es diesem Benutzer jedoch, eine Smartcard mit Domänen Administrator Berechtigungen selbst auszugeben.</span><span class="sxs-lookup"><span data-stu-id="adcfd-130">Another user can be granted permission to enroll for an "EnrollmentAgent" certificate (by means of the Active Directory Sites and Services MMC snap-in); doing so, however, allows this user to self-issue a smart card with domain administrator privileges.</span></span>

 

 
