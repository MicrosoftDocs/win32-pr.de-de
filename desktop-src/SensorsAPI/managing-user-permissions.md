---
description: Die Sensor-API bietet eine Methode, die Sie verwenden können, um den Benutzer zur Eingabe von Berechtigungen für die Verwendung eines Sensors oder einer Sammlung von Sensoren aufzufordern.
ms.assetid: c755edcf-18c1-43d5-9dfe-c073e1f96b5f
title: Verwalten von Benutzerberechtigungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ecb65fa5a9962be4850aa4711cafa03fb7658212
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103958823"
---
# <a name="managing-user-permissions"></a><span data-ttu-id="9a847-103">Verwalten von Benutzerberechtigungen</span><span class="sxs-lookup"><span data-stu-id="9a847-103">Managing User Permissions</span></span>

<span data-ttu-id="9a847-104">Die Sensor-API bietet eine Methode, die Sie verwenden können, um den Benutzer zur Eingabe von Berechtigungen für die Verwendung eines Sensors oder einer Sammlung von Sensoren aufzufordern.</span><span class="sxs-lookup"><span data-stu-id="9a847-104">The Sensor API provides a method you can use to prompt the user for permissions to use a sensor or collection of sensors.</span></span>

<span data-ttu-id="9a847-105">Da Sensoren vertrauliche Informationen offenlegen können, erfordert Windows, dass Benutzer Sensoren aktivieren, bevor das Programm auf Daten zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="9a847-105">Because sensors can reveal sensitive information, Windows requires that users enable sensors before your program can access any data.</span></span>

<span data-ttu-id="9a847-106">Möglicherweise möchten Sie die-Berechtigung anfordern, wenn Sie Sensoren verwenden möchten, für die der aktuelle [**sensorstate**](/windows/win32/api/sensorsapi/ne-sensorsapi-sensorstate) -Sensor Zustands \_ \_ Zugriff \_ verweigert wurde.</span><span class="sxs-lookup"><span data-stu-id="9a847-106">You may want to request permission when you want to use sensors for which the current [**SensorState**](/windows/win32/api/sensorsapi/ne-sensorsapi-sensorstate) is SENSOR\_STATE\_ACCESS\_DENIED.</span></span>

<span data-ttu-id="9a847-107">Um Berechtigungen anzufordern, können Sie die Methode " [**isensormanager:: requestberechtigungs**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) Methode" aufrufen.</span><span class="sxs-lookup"><span data-stu-id="9a847-107">To request permissions, call the [**ISensorManager::RequestPermissions**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) method.</span></span> <span data-ttu-id="9a847-108">Wenn Sie diese Methode aufgerufen haben, öffnet Windows das Dialogfeld **Sensoren aktivieren** , in dem der Benutzer aufgefordert wird, die von Ihnen angeforderten Sensoren zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="9a847-108">When you call this method, Windows opens the **Enable sensors** dialog box to prompt the user to enable the sensors you requested.</span></span> <span data-ttu-id="9a847-109">In diesem Dialogfeld werden dem Benutzer die Namen der von Ihnen angeforderten Sensoren bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="9a847-109">This dialog box provides the user with the names of the sensors you requested.</span></span> <span data-ttu-id="9a847-110">Der Benutzer kann eine der folgenden Optionen auswählen:</span><span class="sxs-lookup"><span data-stu-id="9a847-110">The user can choose one of the following options:</span></span>

-   <span data-ttu-id="9a847-111">**Aktivieren Sie diese Sensoren**.</span><span class="sxs-lookup"><span data-stu-id="9a847-111">**Enable these sensors**.</span></span>
-   <span data-ttu-id="9a847-112">**Aktivieren Sie diese Sensoren nicht**.</span><span class="sxs-lookup"><span data-stu-id="9a847-112">**Don't enable these sensors**.</span></span>
-   <span data-ttu-id="9a847-113">**Öffnen Sie die Systemsteuerung, um weitere Optionen zu öffnen**.</span><span class="sxs-lookup"><span data-stu-id="9a847-113">**Open Control Panel for more options**.</span></span>

<span data-ttu-id="9a847-114">Wenn ein Benutzer **diese Sensoren nicht aktivieren aktiviert**, zeigt Windows das Dialogfeld **Sensoren aktivieren** nicht erneut an, selbst wenn das Programm [**requestberechtigungs Berechtigungen**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions)aufruft.</span><span class="sxs-lookup"><span data-stu-id="9a847-114">If a user chooses **Don't enable these sensors**, Windows will not show the **Enable sensors** dialog box again for those particular sensors, even if your program calls [**RequestPermissions**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions).</span></span> <span data-ttu-id="9a847-115">Wenn der Benutzer eine andere Option auswählt, lässt Windows zu, dass das Dialogfeld angezeigt wird, wenn es angefordert wird.</span><span class="sxs-lookup"><span data-stu-id="9a847-115">If the user chooses any other option, Windows will allow the dialog box to be displayed when requested.</span></span> <span data-ttu-id="9a847-116">Wenn Ihr **requestberechtigungs** -Auflistungs paar Sensoren enthält, die der Benutzer zuvor für die Deaktivierung ausgewählt hat, entfernt die Sensor-API diese Sensoren aus der Liste der Sensoren, die dem Benutzer angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="9a847-116">If your call to **RequestPermissions** contains some sensors that the user has previously chosen to keep disabled, the Sensor API will remove these sensors from the list of sensors the user sees.</span></span>

### <a name="modal-or-modeless-behavior"></a><span data-ttu-id="9a847-117">Modales oder nicht modales Verhalten</span><span class="sxs-lookup"><span data-stu-id="9a847-117">Modal or Modeless Behavior</span></span>

<span data-ttu-id="9a847-118">Die [**requestberechtigungs**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) -Methode nimmt ein **Boolesches** Argument an, das bestimmt, ob das Dialogfeld **Sensoren aktivieren** als modales oder nicht modales Fenster angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="9a847-118">The [**RequestPermissions**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) method takes a **Boolean** argument that determines whether the **Enable sensors** dialog box is displayed as a modal or modeless window.</span></span> <span data-ttu-id="9a847-119">Diese Einstellung wirkt sich auch darauf aus, ob das Verhalten des Dialogfeld Rückgabecodes synchron oder asynchron ist.</span><span class="sxs-lookup"><span data-stu-id="9a847-119">This setting also affects whether the behavior of the dialog box return code is synchronous or asynchronous.</span></span>

<span data-ttu-id="9a847-120">Beim modalen wird der Fokus des Dialog Felds auf die Anwendungsfenster beschränkt, bis der Benutzer eine Option auswählt, und der **HRESULT** -Rückgabecode aus dem Aufrufen von [**requestberechtigungs**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) Informationen gibt die Benutzer Auswahl an.</span><span class="sxs-lookup"><span data-stu-id="9a847-120">When modal, the dialog box has exclusive focus among application windows until the user chooses an option, and the **HRESULT** return code from your call to [**RequestPermissions**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) indicates the user choice.</span></span> <span data-ttu-id="9a847-121">Bei einem nicht modalem Fokus hat das Dialogfeld keinen exklusiven Fokus, und der **requestactivation** -Befehl wird sofort zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="9a847-121">When modeless, the dialog box does not have exclusive focus and your call to **RequestPermissions** returns immediately.</span></span> <span data-ttu-id="9a847-122">In diesem Fall gibt der Rückgabecode an, ob die Methode erfolgreich war, kann aber nicht verwendet werden, um die Auswahl des Benutzers zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="9a847-122">In this case, the return code indicates whether the method succeeded, but cannot be used to ascertain the user's choice.</span></span> <span data-ttu-id="9a847-123">Sie können dann ermitteln, welche Sensoren aktiviert wurden, indem Sie das [**OnStateChanged**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensorevents-onstatechanged) -Ereignis behandeln und die einzelnen Sensoren auf den Sensor \_ Status \_ vorbereiten.</span><span class="sxs-lookup"><span data-stu-id="9a847-123">You can then determine which sensors have been enabled by handling the [**OnStateChanged**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensorevents-onstatechanged) event and checking each sensor for SENSOR\_STATE\_READY.</span></span>

<span data-ttu-id="9a847-124">Weitere Informationen zu Rückgabecodes finden Sie auf der Referenzseite zu [**requestberechtigungs Berechtigungen**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) .</span><span class="sxs-lookup"><span data-stu-id="9a847-124">For more information about return codes, see the [**RequestPermissions**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) reference page.</span></span>

### <a name="best-practice-avoid-multiple-modeless-calls-to-requestpermissions"></a><span data-ttu-id="9a847-125">Bewährte Vorgehensweise: Vermeiden von mehreren nicht modalem Aufrufen von requestberechtigungs Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="9a847-125">Best Practice: Avoid Multiple Modeless Calls to RequestPermissions</span></span>

<span data-ttu-id="9a847-126">Bei wiederholten nicht modalem Aufrufen von [**requestberechtigungs Berechtigungen**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) werden mehrere Instanzen des Dialog Felds **diese Sensoren aktivieren** angezeigt, und der Bildschirm kann möglicherweise mit Dialogfeldern überflutet werden, was zu einem schlechten Benutzer Verhalten führt.</span><span class="sxs-lookup"><span data-stu-id="9a847-126">Repeated modeless calls to [**RequestPermissions**](/windows/win32/api/sensorsapi/nf-sensorsapi-isensormanager-requestpermissions) will display multiple instances of the **Enable these sensors** dialog box, and can potentially flood the screen with dialog boxes, resulting in a poor user experience.</span></span> <span data-ttu-id="9a847-127">Wenn Sie der Ansicht sind, dass nach dem ersten Aufrufen von **Request-Berechtigungen** andere Positionssensoren installiert werden können, die einen weiteren **requestberechtigungs** aufzurufen erfordern, sollten Sie entweder " **requestberechtigungen** " modale aufrufen oder warten, bis alle Speicherort Sensoren installiert sind, um einen nicht modalem Rückruf durchführen zu können.</span><span class="sxs-lookup"><span data-stu-id="9a847-127">If you think that after your first call to **RequestPermissions**, other location sensors might be installed, requiring another call to **RequestPermissions**, you should either call **RequestPermissions** modally, or wait until all location sensors are installed to make a modeless call.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9a847-128">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="9a847-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9a847-129">Datenschutz und Sicherheit auf der Plattform für Sensoren und Orte</span><span class="sxs-lookup"><span data-stu-id="9a847-129">Privacy and Security in the Sensor and Location Platform</span></span>](privacy-and-security-in-the-sensor-and-location-platform.md)
</dt> <dt>

[<span data-ttu-id="9a847-130">Anfordern von Benutzerberechtigungen</span><span class="sxs-lookup"><span data-stu-id="9a847-130">Requesting User Permissions</span></span>](requesting-user-permissions.md)
</dt> </dl>

 

 
