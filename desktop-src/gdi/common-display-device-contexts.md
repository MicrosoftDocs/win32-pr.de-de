---
description: Ein gemeinsamer Gerätekontext wird zum Zeichnen im Client Bereich des Fensters verwendet.
ms.assetid: 63c4f775-b1a3-4f7c-808b-81c596f26353
title: Gängige Anzeige von Geräte Kontexten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 890b0235784ec1ed11c8ce3a553244629a008d75
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103959311"
---
# <a name="common-display-device-contexts"></a><span data-ttu-id="dea7d-103">Gängige Anzeige von Geräte Kontexten</span><span class="sxs-lookup"><span data-stu-id="dea7d-103">Common Display Device Contexts</span></span>

<span data-ttu-id="dea7d-104">Ein *gemeinsamer Gerätekontext* wird zum Zeichnen im Client Bereich des Fensters verwendet.</span><span class="sxs-lookup"><span data-stu-id="dea7d-104">A *common device context* is used for drawing in the client area of the window.</span></span> <span data-ttu-id="dea7d-105">Das System stellt standardmäßig einen gemeinsamen Gerätekontext für jedes Fenster bereit, dessen Fenster Klasse nicht explizit einen Kontext Stil des Anzeige Geräts angibt.</span><span class="sxs-lookup"><span data-stu-id="dea7d-105">The system provides a common device context by default for any window whose window class does not explicitly specify a display device context style.</span></span> <span data-ttu-id="dea7d-106">Häufig verwendete Geräte Kontexte werden in der Regel mit Fenstern verwendet, die ohne umfassende Änderungen an den Gerätekontext Attributen gezeichnet werden können.</span><span class="sxs-lookup"><span data-stu-id="dea7d-106">Common device contexts are typically used with windows that can be drawn without extensive changes to the device context attributes.</span></span> <span data-ttu-id="dea7d-107">Häufige Geräte Kontexte sind praktisch, da Sie keine zusätzlichen Arbeitsspeicher-oder Systemressourcen benötigen. Sie können jedoch unpraktisch sein, wenn die Anwendung viele Attribute einrichten muss, bevor Sie Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="dea7d-107">Common device contexts are convenient because they do not require additional memory or system resources, but they can be inconvenient if the application must set up many attributes before using them.</span></span>

<span data-ttu-id="dea7d-108">Das System ruft alle gängigen Geräte Kontexte aus dem Kontext Cache des Anzeige Geräts ab.</span><span class="sxs-lookup"><span data-stu-id="dea7d-108">The system retrieves all common device contexts from the display device context cache.</span></span> <span data-ttu-id="dea7d-109">Eine Anwendung kann einen gemeinsamen Gerätekontext sofort nach der Erstellung des Fensters abrufen.</span><span class="sxs-lookup"><span data-stu-id="dea7d-109">An application can retrieve a common device context immediately after the window is created.</span></span> <span data-ttu-id="dea7d-110">Da der gemeinsame Gerätekontext vom Cache ist, muss die Anwendung den Gerätekontext nach dem Zeichnen immer so bald wie möglich freigeben.</span><span class="sxs-lookup"><span data-stu-id="dea7d-110">Because the common device context is from the cache, the application must always release the device context as soon as possible after drawing.</span></span> <span data-ttu-id="dea7d-111">Nachdem der gemeinsame Gerätekontext freigegeben wurde, ist er nicht mehr gültig, und die Anwendung darf nicht versuchen, ihn zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="dea7d-111">After the common device context is released, it is no longer valid and the application must not attempt to draw with it.</span></span> <span data-ttu-id="dea7d-112">Zum erneuten zeichnen muss die Anwendung einen neuen gemeinsamen Gerätekontext abrufen und weiterhin einen gemeinsamen Gerätekontext abrufen und freigeben, wenn er sich im Fenster zeichnet.</span><span class="sxs-lookup"><span data-stu-id="dea7d-112">To draw again, the application must retrieve a new common device context, and continue to retrieve and release a common device context each time it draws in the window.</span></span> <span data-ttu-id="dea7d-113">Wenn die Anwendung das Gerätekontext Handle mithilfe der [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) -Funktion abruft, muss Sie die [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) -Funktion verwenden, um das Handle freizugeben.</span><span class="sxs-lookup"><span data-stu-id="dea7d-113">If the application retrieves the device context handle by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function, it must use the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function to release the handle.</span></span> <span data-ttu-id="dea7d-114">Ebenso muss die Anwendung für jede [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) -Funktion eine entsprechende [**endpaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="dea7d-114">Similarly, for each [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function, the application must use a corresponding [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) function.</span></span>

<span data-ttu-id="dea7d-115">Wenn die Anwendung den Gerätekontext abruft, passt das System den Ursprung so an, dass er sich an der oberen linken Ecke des Client Bereichs anpasst.</span><span class="sxs-lookup"><span data-stu-id="dea7d-115">When the application retrieves the device context, the system adjusts the origin so that it aligns with the upper left corner of the client area.</span></span> <span data-ttu-id="dea7d-116">Außerdem wird der Clippingbereich festgelegt, sodass die Ausgabe in den Gerätekontext auf den Client Bereich zugeschnitten wird.</span><span class="sxs-lookup"><span data-stu-id="dea7d-116">It also sets the clipping region so that output to the device context is clipped to the client area.</span></span> <span data-ttu-id="dea7d-117">Alle Ausgaben, die andernfalls außerhalb des Client Bereichs angezeigt werden, werden abgeschnitten.</span><span class="sxs-lookup"><span data-stu-id="dea7d-117">Any output that would otherwise appear outside the client area is clipped.</span></span> <span data-ttu-id="dea7d-118">Wenn die Anwendung den gemeinsamen Gerätekontext mithilfe von [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint)abruft, schließt das System auch den Aktualisierungs Bereich in den Clippingbereich ein, um die Ausgabe weiter einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="dea7d-118">If the application retrieves the common device context by using [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), the system also includes the update region in the clipping region to further restrict the output.</span></span>

<span data-ttu-id="dea7d-119">Wenn eine Anwendung einen gemeinsamen Gerätekontext freigibt, stellt das System die Standardwerte für die Attribute des Geräte Kontexts wieder her.</span><span class="sxs-lookup"><span data-stu-id="dea7d-119">When an application releases a common device context, the system restores the default values for the attributes of the device context.</span></span> <span data-ttu-id="dea7d-120">Eine Anwendung, die Attributwerte ändert, muss dies jedes Mal durchführen, wenn ein gemeinsamer Gerätekontext abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="dea7d-120">An application that modifies attribute values must do so each time it retrieves a common device context.</span></span> <span data-ttu-id="dea7d-121">Durch das Freigeben des Geräte Kontexts werden alle Zeichnungsobjekte freigegeben, die von der Anwendung möglicherweise ausgewählt wurden, sodass die Anwendung diese Objekte vor dem Freigeben des Geräte Kontexts nicht freigeben muss.</span><span class="sxs-lookup"><span data-stu-id="dea7d-121">Releasing the device context releases any drawing objects the application may have selected into it, so the application need not release these objects before releasing the device context.</span></span> <span data-ttu-id="dea7d-122">In allen Fällen muss eine Anwendung niemals davon ausgehen, dass der gemeinsame Gerätekontext nach der Freigabe nicht die Standardauswahl beibehält.</span><span class="sxs-lookup"><span data-stu-id="dea7d-122">In all cases, an application must never assume that the common device context retains nondefault selections after being released.</span></span>

 

 



