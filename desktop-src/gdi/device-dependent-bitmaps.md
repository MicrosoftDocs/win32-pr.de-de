---
description: Geräte abhängige Bitmaps (DDSB) werden mithilfe einer einzelnen Struktur, der Bitmap-Struktur, beschrieben.
ms.assetid: 63ff9cd6-cd07-4085-b166-268e4d9b7aad
title: Bitmaps Device-Dependent
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 92a3de2c59509c71b38f9981df330b3b28effa26
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104130797"
---
# <a name="device-dependent-bitmaps"></a><span data-ttu-id="03fc2-103">Bitmaps Device-Dependent</span><span class="sxs-lookup"><span data-stu-id="03fc2-103">Device-Dependent Bitmaps</span></span>

<span data-ttu-id="03fc2-104">Geräte abhängige Bitmaps (DDSB) werden mithilfe einer einzelnen Struktur, der [**Bitmap**](/windows/win32/api/wingdi/ns-wingdi-bitmap) -Struktur, beschrieben.</span><span class="sxs-lookup"><span data-stu-id="03fc2-104">Device-dependent bitmaps (DDBs) are described by using a single structure, the [**BITMAP**](/windows/win32/api/wingdi/ns-wingdi-bitmap) structure.</span></span> <span data-ttu-id="03fc2-105">Die Elemente dieser Struktur geben die Breite und Höhe eines rechteckigen Bereichs in Pixel an. die Breite des Arrays, das Einträge aus der Gerätepalette in Pixel zuordnet. und das Farb Format des Geräts in Bezug auf Farbflächen und Bits pro Pixel.</span><span class="sxs-lookup"><span data-stu-id="03fc2-105">The members of this structure specify the width and height of a rectangular region, in pixels; the width of the array that maps entries from the device palette to pixels; and the device's color format, in terms of color planes and bits per pixel.</span></span> <span data-ttu-id="03fc2-106">Eine Anwendung kann das Farb Format eines Geräts abrufen, indem die [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion aufgerufen und die entsprechenden Konstanten angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="03fc2-106">An application can retrieve the color format of a device by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function and specifying the appropriate constants.</span></span> <span data-ttu-id="03fc2-107">Beachten Sie, dass eine DDB keine Farbwerte enthält. Stattdessen befinden sich die Farben in einem geräteabhängigen Format.</span><span class="sxs-lookup"><span data-stu-id="03fc2-107">Note that a DDB does not contain color values; instead, the colors are in a device-dependent format.</span></span> <span data-ttu-id="03fc2-108">Weitere Informationen finden Sie unter [Farbe in Bitmaps](color-in-bitmaps.md).</span><span class="sxs-lookup"><span data-stu-id="03fc2-108">For more information, see [Color in Bitmaps](color-in-bitmaps.md).</span></span> <span data-ttu-id="03fc2-109">Da jedes Gerät über einen eigenen Satz von Farben verfügen kann, wird eine für ein Gerät erstellte DDB möglicherweise nicht gut auf einem anderen Gerät angezeigt.</span><span class="sxs-lookup"><span data-stu-id="03fc2-109">Because each device can have its own set of colors, a DDB created for one device may not display well on a different device.</span></span>

<span data-ttu-id="03fc2-110">Damit eine DDB in einem Gerätekontext verwendet werden kann, muss Sie über die Farb Organisation dieses Geräte Kontexts verfügen.</span><span class="sxs-lookup"><span data-stu-id="03fc2-110">To use a DDB in a device context, it must have the color organization of that device context.</span></span> <span data-ttu-id="03fc2-111">Daher wird eine DDB oft als *kompatible Bitmap* bezeichnet und weist in der Regel eine bessere GDI-Leistung als eine DIB auf.</span><span class="sxs-lookup"><span data-stu-id="03fc2-111">Thus, a DDB is often called a *compatible bitmap* and it usually has better GDI performance than a DIB.</span></span> <span data-ttu-id="03fc2-112">Um z. b. eine Bitmap für den Videospeicher zu erstellen, empfiehlt es sich, eine kompatible Bitmap mit dem gleichen Farb Format wie die primäre Anzeige zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="03fc2-112">For example, to create a bitmap for video memory, it is best to use a compatible bitmap with the same color format as the primary display.</span></span> <span data-ttu-id="03fc2-113">Im Videospeicher sind das Rendering in die Bitmap und die Anzeige auf dem Bildschirm deutlich schneller als von einer Systemspeicher Oberfläche oder direkt von einem DIB.</span><span class="sxs-lookup"><span data-stu-id="03fc2-113">Once in video memory, rendering to the bitmap and displaying it to the screen are significantly faster than from a system memory surface or directly from a DIB.</span></span>

<span data-ttu-id="03fc2-114">Zusätzlich zur Verbesserung der GDI-Leistung werden kompatible Bitmaps zum Erfassen von Bildern (siehe aufzeichnen [eines Images](capturing-an-image.md) ) und zum Erstellen von Bitmaps zur Laufzeit für Menüs verwendet. Weitere Informationen finden Sie unter "Erstellen der Bitmap" in (Weitere Informationen finden [Sie unter Verwenden von Menüs](../menurc/using-menus.md) ).</span><span class="sxs-lookup"><span data-stu-id="03fc2-114">In addition to enabling better GDI performance, compatible bitmaps are used to capture images (see [Capturing an Image](capturing-an-image.md) ) and to create bitmaps at run time for menus see "Creating the Bitmap" in (see [Using Menus](../menurc/using-menus.md) ).</span></span>

<span data-ttu-id="03fc2-115">Um eine Bitmap zwischen Geräten mit einer anderen Farb Organisation zu übertragen, verwenden Sie [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) zum Konvertieren der kompatiblen Bitmap in ein DIB und zum Aufrufen von [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) oder [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) , um das DIB dem zweiten Gerät anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="03fc2-115">To transfer a bitmap between devices with different color organization, use [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) to convert the compatible bitmap to a DIB and call [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) or [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) to display the DIB to the second device.</span></span>

<span data-ttu-id="03fc2-116">Es gibt zwei Arten von DDB-Typen: verwertbar und nicht verwerfbar.</span><span class="sxs-lookup"><span data-stu-id="03fc2-116">There are two types of DDBs: discardable and nondiscardable.</span></span> <span data-ttu-id="03fc2-117">Eine verworfbare DDB ist eine Bitmap, die vom System verworfen wird, wenn die Bitmap nicht in einem Domänen Controller ausgewählt ist, und wenn der Systemspeicher gering ist.</span><span class="sxs-lookup"><span data-stu-id="03fc2-117">A discardable DDB is a bitmap that the system discards if the bitmap is not selected into a DC and if system memory is low.</span></span> <span data-ttu-id="03fc2-118">Die Funktion " [**kreateverwerdablebitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) " erstellt ververwerfbare Bitmaps.</span><span class="sxs-lookup"><span data-stu-id="03fc2-118">The [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) function creates discardable bitmaps.</span></span> <span data-ttu-id="03fc2-119">Die Funktionen "| [**atebitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap)", " [**kreatecompatiblebitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap)" und " [**kreatebitmapindirekte**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) " Erstellen nicht verwerfbare Bitmaps.</span><span class="sxs-lookup"><span data-stu-id="03fc2-119">The [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap), and [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) functions create nondiscardable bitmaps.</span></span>

<span data-ttu-id="03fc2-120">Eine Anwendung kann eine DDB aus einem DIB erstellen, indem Sie die erforderlichen Strukturen initialisiert und die [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) -Funktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="03fc2-120">An application can create a DDB from a DIB by initializing the required structures and calling the [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) function.</span></span> <span data-ttu-id="03fc2-121">Das angeben \_ von "CBM init" im Aufruf von **CreateDIBitmap** entspricht dem Aufrufen der [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) -Funktion zum Erstellen einer DDB im Format des Geräts und dem anschließenden Aufrufen der [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) -Funktion, um die DIB-Bits in die DDB zu übersetzen.</span><span class="sxs-lookup"><span data-stu-id="03fc2-121">Specifying CBM\_INIT in the call to **CreateDIBitmap** is equivalent to calling the [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) function to create a DDB in the format of the device and then calling the [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) function to translate the DIB bits to the DDB.</span></span> <span data-ttu-id="03fc2-122">Um zu ermitteln, ob ein Gerät die **SetDIBits** -Funktion unterstützt, können Sie die [**getdebug**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion aufrufen und die RC \_ di- \_ Bitmap als RasterCaps-Flag angeben.</span><span class="sxs-lookup"><span data-stu-id="03fc2-122">To determine whether a device supports the **SetDIBits** function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DI\_BITMAP as the RASTERCAPS flag.</span></span>

 

 
