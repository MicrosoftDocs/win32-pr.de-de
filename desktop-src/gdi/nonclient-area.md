---
description: Das System sendet eine WM \_ ncpaint-Meldung an das Fenster, wenn ein Teil des nicht-Client Bereichs des Fensters (z. b. die Titelleiste, die Menüleiste oder der Fensterrahmen) aktualisiert werden muss.
ms.assetid: e4dc61f3-6a9f-4ed4-8685-62eb4ceb85f1
title: Nicht-Client Bereich
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c51da31709f5bd9326cc0d05a9e37e2df78bfbb4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104215186"
---
# <a name="nonclient-area"></a><span data-ttu-id="31a7d-103">Nicht-Client Bereich</span><span class="sxs-lookup"><span data-stu-id="31a7d-103">Nonclient Area</span></span>

<span data-ttu-id="31a7d-104">Das System sendet eine [**WM \_ ncpaint**](wm-ncpaint.md) -Meldung an das Fenster, wenn ein Teil des nicht-Client Bereichs des Fensters (z. b. die Titelleiste, die Menüleiste oder der Fensterrahmen) aktualisiert werden muss.</span><span class="sxs-lookup"><span data-stu-id="31a7d-104">The system sends a [**WM\_NCPAINT**](wm-ncpaint.md) message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated.</span></span> <span data-ttu-id="31a7d-105">Das System kann auch andere Nachrichten senden, um ein Fenster zu leiten, um einen Teil des Client Bereichs zu aktualisieren. Wenn ein Fenster z. b. aktiv oder inaktiv wird, sendet es die [**WM- \_ ncaktivierungs**](../winmsg/wm-ncactivate.md) Nachricht, um die zugehörige Titelleiste zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="31a7d-105">The system may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message to update its title bar.</span></span> <span data-ttu-id="31a7d-106">Im Allgemeinen wird die Verarbeitung dieser Nachrichten für Standardfenster nicht empfohlen, da die Anwendung alle erforderlichen Teile des nicht-Client Bereichs für das Fenster zeichnen muss.</span><span class="sxs-lookup"><span data-stu-id="31a7d-106">In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window.</span></span> <span data-ttu-id="31a7d-107">Aus diesem Grund werden diese Nachrichten von den meisten Anwendungen zur Standard Verarbeitung an [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) übergeben.</span><span class="sxs-lookup"><span data-stu-id="31a7d-107">For this reason, most applications pass these messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

<span data-ttu-id="31a7d-108">Eine Anwendung, die benutzerdefinierte nicht-Client Bereiche für Windows erstellt, muss diese Nachrichten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="31a7d-108">An application that creates custom nonclient areas for its windows must process these messages.</span></span> <span data-ttu-id="31a7d-109">Wenn dies der Fall ist, muss die Anwendung einen Fenster Gerätekontext verwenden, um das Zeichnen im Fenster auszuführen.</span><span class="sxs-lookup"><span data-stu-id="31a7d-109">When doing so, the application must use a window device context to carry out drawing in the window.</span></span> <span data-ttu-id="31a7d-110">Der *Fenster Gerätekontext* ermöglicht der Anwendung das Zeichnen in allen Teilen des Fensters, einschließlich des nicht-Client Bereichs.</span><span class="sxs-lookup"><span data-stu-id="31a7d-110">The *window device context* enables the application to draw in all portions of the window, including the nonclient area.</span></span> <span data-ttu-id="31a7d-111">Eine Anwendung ruft einen Fenster Gerätekontext mithilfe der [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) -Funktion oder der [**getdcex**](/windows/desktop/api/Winuser/nf-winuser-getdcex) -Funktion ab und muss, wenn die Zeichnung beendet ist, den Fenster Gerätekontext mithilfe der [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) -Funktion freigeben.</span><span class="sxs-lookup"><span data-stu-id="31a7d-111">An application retrieves a window device context by using the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and, when drawing is complete, must release the window device context by using the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="31a7d-112">Das System verwaltet einen Update Bereich für den nicht-Client Bereich.</span><span class="sxs-lookup"><span data-stu-id="31a7d-112">The system maintains an update region for the nonclient area.</span></span> <span data-ttu-id="31a7d-113">Wenn eine Anwendung eine [**WM- \_ ncpaint**](wm-ncpaint.md) -Nachricht empfängt, enthält der *wParam* -Parameter ein Handle für einen Bereich, der die Dimensionen des Aktualisierungs Bereichs definiert.</span><span class="sxs-lookup"><span data-stu-id="31a7d-113">When an application receives a [**WM\_NCPAINT**](wm-ncpaint.md) message, the *wParam* parameter contains a handle to a region defining the dimensions of the update region.</span></span> <span data-ttu-id="31a7d-114">Die Anwendung kann das Handle verwenden, um den Aktualisierungs Bereich mit dem Clippingbereich für den Fenster Gerätekontext zu kombinieren.</span><span class="sxs-lookup"><span data-stu-id="31a7d-114">The application can use the handle to combine the update region with the clipping region for the window device context.</span></span> <span data-ttu-id="31a7d-115">Das System kombiniert die Update Region nicht automatisch, wenn der Fenster Gerätekontext abgerufen wird, es sei denn, die Anwendung verwendet [**getdcex**](/windows/desktop/api/Winuser/nf-winuser-getdcex) und gibt sowohl das Regions Handle als auch das DCX- \_ intersectrgn-Flag an.</span><span class="sxs-lookup"><span data-stu-id="31a7d-115">The system does not automatically combine the update region when retrieving the window device context unless the application uses [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) and specifies both the region handle and the DCX\_INTERSECTRGN flag.</span></span> <span data-ttu-id="31a7d-116">Wenn die Anwendung den Update Bereich nicht kombiniert, werden nur Zeichnungsvorgänge abgeschnitten, die andernfalls außerhalb des Fensters erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="31a7d-116">If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped.</span></span> <span data-ttu-id="31a7d-117">Die Anwendung ist nicht dafür verantwortlich, den Update Bereich zu löschen, unabhängig davon, ob Sie die Region verwendet.</span><span class="sxs-lookup"><span data-stu-id="31a7d-117">The application is not responsible for clearing the update region, regardless of whether it uses the region.</span></span>

<span data-ttu-id="31a7d-118">Wenn eine Anwendung die [**WM- \_ ncaktivierungs**](../winmsg/wm-ncactivate.md) Nachricht verarbeitet, muss Sie nach der Verarbeitung " **true** " zurückgeben, um das System zum Abschluss der Änderung des aktiven Fensters zu leiten.</span><span class="sxs-lookup"><span data-stu-id="31a7d-118">If an application processes the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message, after processing it must return **TRUE** to direct the system to complete the change of active window.</span></span> <span data-ttu-id="31a7d-119">Wenn das Fenster minimiert wird, wenn die Anwendung die **WM- \_ ncaktivierungs** Nachricht empfängt, sollte die Nachricht an [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="31a7d-119">If the window is minimized when the application receives the **WM\_NCACTIVATE** message, it should pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="31a7d-120">In solchen Fällen wird die Bezeichnung für das Symbol von der Standardfunktion neu gezeichnet.</span><span class="sxs-lookup"><span data-stu-id="31a7d-120">In such cases, the default function redraws the label for the icon.</span></span>

 

 
