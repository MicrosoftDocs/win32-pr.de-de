---
description: Das Dialogfeld Schriftart (allgemein) vereinfacht das Erstellen und Auswählen von Schriftarten.
ms.assetid: 7183be25-a8e4-47a0-a34a-63eadf6ca10d
title: Schriftart Erstellung und-Auswahl
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37b4a70a1a49fc318ca69998d97e15fca838668d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104994047"
---
# <a name="font-creation-and-selection"></a><span data-ttu-id="fa4d2-103">Schriftart Erstellung und-Auswahl</span><span class="sxs-lookup"><span data-stu-id="fa4d2-103">Font Creation and Selection</span></span>

<span data-ttu-id="fa4d2-104">Das Dialogfeld **Schriftart** (allgemein) vereinfacht das Erstellen und Auswählen von Schriftarten.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-104">The **Font** common dialog box simplifies the process of creating and selecting fonts.</span></span> <span data-ttu-id="fa4d2-105">Durch Initialisieren der [**selecsefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Struktur und Aufrufen der [**choosefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) -Funktion kann eine Anwendung dieselbe Schriftart Auswahl Schnittstelle unterstützen, die zuvor viele Zeilen von benutzerdefiniertem Code erforderte.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-105">By initializing the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and calling the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function, an application can support the same font-selection interface that previously required many lines of custom code.</span></span> <span data-ttu-id="fa4d2-106">(Weitere Informationen zum Dialogfeld **Schriftart** allgemein finden Sie unter [allgemeine Dialogfeld Bibliothek](../dlgbox/common-dialog-box-library.md).)</span><span class="sxs-lookup"><span data-stu-id="fa4d2-106">(For more information about the **Font** common dialog box, see [Common Dialog Box Library](../dlgbox/common-dialog-box-library.md).)</span></span>

## <a name="selection-by-the-user"></a><span data-ttu-id="fa4d2-107">Auswahl durch den Benutzer</span><span class="sxs-lookup"><span data-stu-id="fa4d2-107">Selection by the User</span></span>

<span data-ttu-id="fa4d2-108">Die meisten Schriftart Erstellungs-und Auswahl Vorgänge betreffen den Benutzer.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-108">Most font creation and selection operations involve the user.</span></span> <span data-ttu-id="fa4d2-109">Beispielsweise können Benutzer mit Textverarbeitungsanwendungen eindeutige Schriftarten für Überschriften, Fußnoten und Textkörper Text auswählen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-109">For example, word processing applications let the user select unique fonts for headings, footnotes, and body text.</span></span> <span data-ttu-id="fa4d2-110">Nachdem der Benutzer mithilfe des Dialog Felds " **Schriftart** " eine Schriftart ausgewählt und die Schaltfläche " **OK** " gedrückt hat, initialisiert die Funktion " [**choosetfont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) " die Member einer [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur mit den Attributen der angeforderten Schriftart.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-110">After the user selects a font by using the **Font** dialog box and presses the **OK** button, the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function initializes the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure with the attributes of the requested font.</span></span> <span data-ttu-id="fa4d2-111">Um diese Schriftart für Textausgabe Vorgänge zu verwenden, muss eine Anwendung zunächst eine logische Schriftart erstellen und diese dann in Ihrem Gerätekontext auswählen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-111">To use this font for text-output operations, an application must first create a logical font and then select that font into its device context.</span></span> <span data-ttu-id="fa4d2-112">Eine *logische Schriftart* ist eine von der Anwendung bereitgestellte Beschreibung einer idealen Schriftart.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-112">A *logical font* is an application-supplied description of an ideal font.</span></span> <span data-ttu-id="fa4d2-113">Ein Entwickler kann eine logische Schriftart durch Aufrufen der [**createFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) -oder [**createfontindirekte**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) -Funktionen erstellen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-113">A developer can create a logical font by calling the [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) or the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) functions.</span></span> <span data-ttu-id="fa4d2-114">In diesem Fall ruft die Anwendung " [**kreatefontindirekte**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) " auf und gibt einen Zeiger auf die [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur an, die durch " [**choosefont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta)" initialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-114">In this case, the application would call [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) and supply a pointer to the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure initialized by [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span></span> <span data-ttu-id="fa4d2-115">Im Allgemeinen ist es effizienter, " **kreatefontindirekte** " aufzurufen, da " [**kreatefont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) " mehrere Parameter erfordert, während " **kreatefontindirekte** " nur einen Zeiger auf " **LOGFONT**" erfordert.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-115">In general, it is more efficient to call **CreateFontIndirect** because [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) requires several parameters while **CreateFontIndirect** requires only one pointer to **LOGFONT**.</span></span>

<span data-ttu-id="fa4d2-116">Bevor eine Anwendung tatsächlich mit dem Zeichnen von Text mit einer logischen Schriftart beginnen kann, muss Sie die nächstgelegene Entsprechung aus den intern auf dem Gerät gespeicherten Schriftarten und die Schriftarten ermitteln, deren Ressourcen in das Betriebssystem geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-116">Before an application can actually begin drawing text with a logical font, it must find the closest match from the fonts stored internally on the device and the fonts whose resources have been loaded into the operating system.</span></span> <span data-ttu-id="fa4d2-117">Die auf dem Gerät oder im Betriebssystem gespeicherten Schriftarten werden als *physische Schriftarten* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-117">The fonts stored on the device or in the operating system are called *physical fonts*.</span></span> <span data-ttu-id="fa4d2-118">Der Prozess der Suche nach der physischen Schriftart, die mit einer angegebenen logischen Schriftart am ehesten übereinstimmt, wird als Schriftart Zuordnung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-118">The process of finding the physical font that most closely matches a specified logical font is called font mapping.</span></span> <span data-ttu-id="fa4d2-119">Dieser Prozess tritt auf, wenn eine Anwendung die [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) -Funktion aufruft und ein Handle bereitstellt, das eine logische Schriftart identifiziert.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-119">This process occurs when an application calls the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function and supplies a handle identifying a logical font.</span></span> <span data-ttu-id="fa4d2-120">Die Schriftart Zuordnung erfolgt mithilfe eines internen Algorithmus, der die Attribute der angeforderten logischen Schriftart mit den Attributen verfügbarer physischer Schriftarten vergleicht.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-120">Font mapping is performed by using an internal algorithm that compares the attributes of the requested logical font against the attributes of available physical fonts.</span></span> <span data-ttu-id="fa4d2-121">Wenn der Schriftart Mapper-Algorithmus die Suche abschließt und die nächstmögliche Entsprechung festlegt, gibt die [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) -Funktion zurück, und die Anwendung kann mit dem Zeichnen von Text mit der neuen Schriftart beginnen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-121">When the font mapper algorithm completes its search and determines the closest possible match, the [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) function returns and the application can begin drawing text with the new font.</span></span>

<span data-ttu-id="fa4d2-122">Die [**setmapperflags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) -Funktion gibt an, ob der Schriftart Mapper-Algorithmus nur nach physischen Schriftarten sucht, deren Seitenverhältnisse dem physischen Gerät entsprechen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-122">The [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) function specifies whether the font mapper algorithm searches only for physical fonts with aspect ratios that match the physical device.</span></span> <span data-ttu-id="fa4d2-123">Das Seitenverhältnis für ein Gerät ist das Verhältnis, das durch die Breite und die Höhe eines Pixels auf diesem Gerät gebildet wird.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-123">The aspect ratio for a device is the ratio formed by the width and the height of a pixel on that device.</span></span>

<span data-ttu-id="fa4d2-124">Die Schriftart des Systems (auch als Shell oder Standard Schriftart bezeichnet) ist die Schriftart, die für Text in den Titelleisten, Menüs und Dialogfeldern verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-124">The system font (also known as the shell or default font) is the font used for text in the title bars, menus, and dialog boxes.</span></span>

## <a name="special-font-selection-considerations"></a><span data-ttu-id="fa4d2-125">Besondere Überlegungen zur Schriftart Auswahl</span><span class="sxs-lookup"><span data-stu-id="fa4d2-125">Special Font Selection Considerations</span></span>

<span data-ttu-id="fa4d2-126">Obwohl der Benutzer die meisten Schriftart Auswahl Vorgänge einschließt, gibt es einige Instanzen, in denen dies nicht zutrifft.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-126">Although most font selection operations involve the user, there are some instances where this is not true.</span></span> <span data-ttu-id="fa4d2-127">Beispielsweise kann ein Entwickler eine eindeutige Schriftart in einer Anwendung verwenden, um Text in einem Steuerelement Fenster zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-127">For example, a developer may want to use a unique font in an application to draw text in a control window.</span></span> <span data-ttu-id="fa4d2-128">Um eine geeignete Schriftart auszuwählen, muss die Anwendung in der Lage sein, zu bestimmen, welche Schriftarten verfügbar sind, erstellt eine logische Schriftart, die eine dieser verfügbaren Schriftarten beschreibt, und wählt diese Schriftart dann in den entsprechenden Gerätekontext aus.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-128">To select an appropriate font, the application must be able to determine what fonts are available, create a logical font that describes one of these available fonts, and then select that font into the appropriate device context.</span></span>

<span data-ttu-id="fa4d2-129">Eine Anwendung kann die verfügbaren Schriftarten mithilfe der Funktionen [**enumfonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) oder [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) auflisten.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-129">An application can enumerate the available fonts by using the [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) or [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) functions.</span></span> <span data-ttu-id="fa4d2-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) wird empfohlen, da Sie alle Stile auflistet, die einem Familiennamen zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) is recommended because it enumerates all the styles associated with a family name.</span></span> <span data-ttu-id="fa4d2-131">Dies kann für Schriftarten mit vielen oder ungewöhnlichen Formaten und für Schriftarten nützlich sein, die internationale Grenzen überschreiten.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-131">This can be useful for fonts with many or unusual styles and for fonts that cross international borders.</span></span>

<span data-ttu-id="fa4d2-132">Nachdem eine Anwendung die verfügbaren Schriftarten aufgezählt und eine passende Entsprechung gefunden hat, sollte Sie die von der Schriftart Enumerationsfunktion zurückgegebenen Werte verwenden, um die Member einer [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur zu initialisieren.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-132">Once an application has enumerated the available fonts and located an appropriate match, it should use the values returned by the font enumeration function to initialize the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="fa4d2-133">Anschließend [**kann die Funktion**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) die Funktion "Funktion" von "Funktion" aufrufen und ihr einen Zeiger auf die initialisierte [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) -Struktur übergeben.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-133">Then it can call the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) function, passing to it a pointer to the initialized [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="fa4d2-134">Wenn die [**createfontindirekte**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) -Funktion erfolgreich ist, kann die Anwendung die logische Schriftart durch Aufrufen der [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) -Funktion auswählen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-134">If the [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) function is successful, the application can then select the logical font by calling the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function.</span></span> <span data-ttu-id="fa4d2-135">Wenn Sie die Member der **LOGFONT** -Struktur initialisieren, achten Sie darauf, einen bestimmten Zeichensatz im **lfCharSet** -Member anzugeben.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-135">When initializing the members of the **LOGFONT** structure, be sure to specify a specific character set in the **lfCharSet** member.</span></span> <span data-ttu-id="fa4d2-136">Dieser Member ist im Schriftart Zuordnungs Prozess wichtig, und die Ergebnisse sind inkonsistent, wenn dieser Member nicht ordnungsgemäß initialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-136">This member is important in the font mapping process and the results will be inconsistent if this member is not initialized correctly.</span></span> <span data-ttu-id="fa4d2-137">Wenn Sie im **lffacename** -Member der **LOGFONT** -Struktur einen Schriftart Namen angeben, stellen Sie sicher, dass der **lfCharSet** -Wert mit dem Zeichensatz der in **lffacename** angegebenen Schriftart übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-137">If you specify a typeface name in the **lfFaceName** member of the **LOGFONT** structure, make sure that the **lfCharSet** value matches the character set of the typeface specified in **lfFaceName**.</span></span> <span data-ttu-id="fa4d2-138">Wenn Sie z. b. eine Schriftart (z. b. MS Mincho) auswählen möchten, muss **lfCharSet** auf den vordefinierten Wert ShiftJIS Charset festgelegt werden \_ .</span><span class="sxs-lookup"><span data-stu-id="fa4d2-138">For example, if you want to select a font such as MS Mincho, **lfCharSet** must be set to the predefined value SHIFTJIS\_CHARSET.</span></span>

<span data-ttu-id="fa4d2-139">Die Schriftarten für viele ostasiatische Sprachen haben zwei Schriftart Namen: einen englischen Namen und einen lokalisierten Namen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-139">The fonts for many East Asian languages have two typeface names: an English name and a localized name.</span></span> <span data-ttu-id="fa4d2-140">" [**Kreatefont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta)", " [**kreatefontindirekte**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)" und " [**kreatefontderetex**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) " verwenden den lokalisierten Namen für ein System Gebiets Schema, das der Sprache entspricht</span><span class="sxs-lookup"><span data-stu-id="fa4d2-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) take the localized typeface name for a system locale that matches the language, but they take the English typeface name for all other system locales.</span></span> <span data-ttu-id="fa4d2-141">Die beste Methode besteht darin, einen Namen auszuprobieren und bei einem Fehler die andere zu testen.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-141">The best method is to try one name and, on failure, try the other.</span></span> <span data-ttu-id="fa4d2-142">Beachten Sie, dass [**enumfonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa)und [**enumfontfamiliesex**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) den englischen Schriftart Namen zurückgeben, wenn das Gebiets Schema des Systems nicht mit der Sprache der Schriftart identisch ist.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-142">Note that [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa), and [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) return the English typeface name if the system locale does not match the language of the font.</span></span> <span data-ttu-id="fa4d2-143">Ab Windows 2000 ist dies kein Problem mehr, da der Schriftart-Mapper für " [**kreatefont**](/windows/win32/api/wingdi/nf-wingdi-createfonta)", " [**kreatefontindirekte**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta)" und " [**kreatefontderetex**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) " einen der beiden Schriftart Namen erkennt, unabhängig vom Gebiets Schema.</span><span class="sxs-lookup"><span data-stu-id="fa4d2-143">Starting with Windows 2000, this is no longer a problem because the font mapper for [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) recognizes either typeface name, regardless of locale.</span></span>

 

 
