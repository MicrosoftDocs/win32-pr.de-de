---
description: Der Hintergrund des Fensters ist die Farbe oder das Muster, mit dem der Client Bereich ausgefüllt wird, bevor ein Fenster mit dem Zeichnen beginnt.
ms.assetid: d0613f9b-e65b-4de2-887d-2b642d36b22d
title: Fenster Hintergrund
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32d567b0bdc38866cd9332ff8ed399bfb23f53c8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103864320"
---
# <a name="window-background"></a><span data-ttu-id="60080-103">Fenster Hintergrund</span><span class="sxs-lookup"><span data-stu-id="60080-103">Window Background</span></span>

<span data-ttu-id="60080-104">Der Hintergrund des Fensters ist die Farbe oder das Muster, mit dem der Client Bereich ausgefüllt wird, bevor ein Fenster mit dem Zeichnen beginnt.</span><span class="sxs-lookup"><span data-stu-id="60080-104">The window background is the color or pattern used to fill the client area before a window begins drawing.</span></span> <span data-ttu-id="60080-105">Der Hintergrund des Fensters ist das, was auf dem Bildschirm vor dem Verschieben des Fensters war, das Löschen vorhandener Bilder und das verhindern, dass die neue Ausgabe der Anwendung mit nicht verknüpften Informationen gemischt wird.</span><span class="sxs-lookup"><span data-stu-id="60080-105">The window background covers whatever was on the screen before the window was moved there, erasing existing images and preventing the application's new output from being mixed with unrelated information.</span></span>

<span data-ttu-id="60080-106">Das System zeichnet den Hintergrund für ein Fenster oder gibt dem Fenster die Gelegenheit, dies zu tun, indem er eine [**WM- \_ erasebkgnd**](../winmsg/wm-erasebkgnd.md) -Meldung sendet, wenn die Anwendung [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint)aufruft.</span><span class="sxs-lookup"><span data-stu-id="60080-106">The system paints the background for a window or gives the window the opportunity to do so by sending it a [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message when the application calls [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint).</span></span> <span data-ttu-id="60080-107">Wenn eine Anwendung die Nachricht nicht verarbeitet, sondern an [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)übergibt, löscht das System den Hintergrund, indem er mit dem Muster in dem Hintergrund Pinsel aufgefüllt wird, der von der-Klasse des Fensters angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="60080-107">If an application does not process the message but passes it to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca), the system erases the background by filling it with the pattern in the background brush specified by the window's class.</span></span> <span data-ttu-id="60080-108">Wenn der Pinsel nicht gültig ist oder die Klasse keinen Hintergrund Pinsel hat, legt das System den **ferase** -Member in der [**paintstruct**](/windows/win32/api/winuser/ns-winuser-paintstruct) -Struktur fest, die **BeginPaint** zurückgibt, aber es wird keine andere Aktion ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="60080-108">If the brush is not valid or the class has no background brush, the system sets the **fErase** member in the [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) structure that **BeginPaint** returns, but carries out no other action.</span></span> <span data-ttu-id="60080-109">Die Anwendung kann dann ggf. den Fenster Hintergrund zeichnen.</span><span class="sxs-lookup"><span data-stu-id="60080-109">The application then has a second chance to draw the window background, if necessary.</span></span>

<span data-ttu-id="60080-110">Wenn Sie [**WM \_ erasebkgnd**](../winmsg/wm-erasebkgnd.md)verarbeitet, sollte die Anwendung den *wParam* -Parameter der Meldung verwenden, um den Hintergrund zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="60080-110">If it processes [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md), the application should use the message's *wParam* parameter to draw the background.</span></span> <span data-ttu-id="60080-111">Dieser Parameter enthält ein Handle für den Anzeigegeräte Kontext für das Fenster.</span><span class="sxs-lookup"><span data-stu-id="60080-111">This parameter contains a handle to the display device context for the window.</span></span> <span data-ttu-id="60080-112">Nachdem der Hintergrund gezeichnet wurde, sollte die Anwendung einen Wert ungleich 0 (null) zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="60080-112">After drawing the background, the application should return a nonzero value.</span></span> <span data-ttu-id="60080-113">Dadurch wird sichergestellt, dass [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) den **ferase** -Member der [**paintstruct**](/windows/win32/api/winuser/ns-winuser-paintstruct) -Struktur nicht fälschlicherweise auf einen Wert ungleich 0 (null) festlegt (gibt an, dass der Hintergrund gelöscht werden soll), wenn die Anwendung die nachfolgende WM-Zeichnungs Nachricht verarbeitet. [**\_**](wm-paint.md)</span><span class="sxs-lookup"><span data-stu-id="60080-113">This ensures that [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) does not erroneously set the **fErase** member of the [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) structure to a nonzero value (indicating the background should be erased) when the application processes the subsequent [**WM\_PAINT**](wm-paint.md) message.</span></span>

<span data-ttu-id="60080-114">Eine Anwendung kann einen klassenhintergrund Pinsel definieren, indem dem **hbrbackground** -Member der [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) -Struktur ein Pinsel handle oder ein System Farbwert zugewiesen wird, wenn die Klasse mit der [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) -Funktion registriert wird.</span><span class="sxs-lookup"><span data-stu-id="60080-114">An application can define a class background brush by assigning a brush handle or a system color value to the **hbrBackground** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure when registering the class with the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="60080-115">Zum Erstellen eines Pinsel Zieh Punkts kann die [**GetStockObject**](/windows/desktop/api/Wingdi/nf-wingdi-getstockobject) [**-oder die**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush) -Funktion verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="60080-115">The [**GetStockObject**](/windows/desktop/api/Wingdi/nf-wingdi-getstockobject) or [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush) function can be used to create a brush handle.</span></span> <span data-ttu-id="60080-116">Ein System Farbwert kann einer der Werte sein, die für die Funktion " [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) " definiert sind.</span><span class="sxs-lookup"><span data-stu-id="60080-116">A system color value can be one of those defined for the [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) function.</span></span> <span data-ttu-id="60080-117">(Der Wert muss um eins angehoben werden, bevor er dem Element zugewiesen wird.)</span><span class="sxs-lookup"><span data-stu-id="60080-117">(The value must be increased by one before it is assigned to the member.)</span></span>

<span data-ttu-id="60080-118">Eine Anwendung kann die [**WM- \_ erasebkgnd**](../winmsg/wm-erasebkgnd.md) -Nachricht verarbeiten, obwohl ein klassenhintergrund Pinsel definiert ist.</span><span class="sxs-lookup"><span data-stu-id="60080-118">An application can process the [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message even though a class background brush is defined.</span></span> <span data-ttu-id="60080-119">Dies ist typisch für Anwendungen, die es dem Benutzer ermöglichen, die Hintergrundfarbe oder das Muster des Fensters für ein angegebenes Fenster zu ändern, ohne dass sich dies auf andere Fenster der Klasse auswirkt</span><span class="sxs-lookup"><span data-stu-id="60080-119">This is typical in applications that enable the user to change the window background color or pattern for a specified window without affecting other windows in the class.</span></span> <span data-ttu-id="60080-120">In solchen Fällen darf die Anwendung die Nachricht nicht an [**defwindowproc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca)übergeben.</span><span class="sxs-lookup"><span data-stu-id="60080-120">In such cases, the application must not pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>

<span data-ttu-id="60080-121">Es ist nicht erforderlich, dass eine Anwendung Pinsel ausrichten kann, da das System den Pinsel mit dem Fenster Ursprung als Bezugspunkt zeichnet.</span><span class="sxs-lookup"><span data-stu-id="60080-121">It is not necessary for an application to align brushes, because the system draws the brush using the window origin as the point of reference.</span></span> <span data-ttu-id="60080-122">Dadurch kann der Benutzer das Fenster verschieben, ohne dass sich dies auf die Ausrichtung von Muster Pinseln auswirkt.</span><span class="sxs-lookup"><span data-stu-id="60080-122">Given this, the user can move the window without affecting the alignment of pattern brushes.</span></span>

 

 
