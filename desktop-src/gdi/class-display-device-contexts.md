---
description: Durch die Verwendung eines Klassen Geräte Kontexts kann eine Anwendung einen einzelnen Anzeigegeräte Kontext für jedes Fenster verwenden, das zu einer bestimmten Klasse gehört.
ms.assetid: fc76abbf-68da-47f2-8145-4fad806297b4
title: Klassen Anzeige von Geräte Kontexten
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e5a4cc0268d948e1a6f95050409698217e3f13e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104978784"
---
# <a name="class-display-device-contexts"></a><span data-ttu-id="93667-103">Klassen Anzeige von Geräte Kontexten</span><span class="sxs-lookup"><span data-stu-id="93667-103">Class Display Device Contexts</span></span>

<span data-ttu-id="93667-104">Durch die Verwendung eines *Klassen Geräte Kontexts* kann eine Anwendung einen einzelnen Anzeigegeräte Kontext für jedes Fenster verwenden, das zu einer bestimmten Klasse gehört.</span><span class="sxs-lookup"><span data-stu-id="93667-104">By using a *class device context*, an application can use a single display device context for every window belonging to a specified class.</span></span> <span data-ttu-id="93667-105">Klassen Geräte Kontexte werden häufig mit Steuerungs Fenstern verwendet, die mit denselben Attributwerten gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="93667-105">Class device contexts are often used with control windows that are drawn using the same attribute values.</span></span> <span data-ttu-id="93667-106">Wie bei privaten Geräte Kontexten minimieren Klassen Geräte Kontexte den Zeitaufwand für die Vorbereitung eines Geräte Kontexts für das Zeichnen.</span><span class="sxs-lookup"><span data-stu-id="93667-106">Like private device contexts, class device contexts minimize the time required to prepare a device context for drawing.</span></span>

<span data-ttu-id="93667-107">Das System stellt einen Klassen Gerätekontext für ein Fenster bereit, wenn er zu einer Fenster Klasse gehört, die über den CS- \_ classdc-Stil verfügt.</span><span class="sxs-lookup"><span data-stu-id="93667-107">The system supplies a class device context for a window if it belongs to a window class having the CS\_CLASSDC style.</span></span> <span data-ttu-id="93667-108">Das System erstellt den Gerätekontext bei der Erstellung des ersten Fensters, das zur-Klasse gehört, und verwendet dann den gleichen Gerätekontext für alle später erstellten Fenster in der-Klasse.</span><span class="sxs-lookup"><span data-stu-id="93667-108">The system creates the device context when creating the first window belonging to the class and then uses the same device context for all subsequently created windows in the class.</span></span> <span data-ttu-id="93667-109">Anfänglich hat der Klassen Gerätekontext dieselben Standardwerte für Attribute wie ein gemeinsamer Gerätekontext, aber die Anwendung kann diese jederzeit ändern.</span><span class="sxs-lookup"><span data-stu-id="93667-109">Initially, the class device context has the same default values for attributes as a common device context, but the application can modify these at any time.</span></span> <span data-ttu-id="93667-110">Das System behält alle Änderungen mit Ausnahme des Ausschneide Bereichs und Geräte Ursprungs bei, bis das letzte Fenster in der Klasse zerstört wurde.</span><span class="sxs-lookup"><span data-stu-id="93667-110">The system preserves all changes, except for the clipping region and device origin, until the last window in the class has been destroyed.</span></span> <span data-ttu-id="93667-111">Eine Änderung, die für ein Fenster vorgenommen wurde, gilt für alle Fenster in dieser Klasse.</span><span class="sxs-lookup"><span data-stu-id="93667-111">A change made for one window applies to all windows in that class.</span></span>

<span data-ttu-id="93667-112">Eine Anwendung kann das Handle für den Klassen Gerätekontext abrufen, indem die [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) -Funktion nach der Erstellung des ersten Fensters verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="93667-112">An application can retrieve the handle to the class device context by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function any time after the first window has been created.</span></span> <span data-ttu-id="93667-113">Die Anwendung kann das Handle beibehalten und verwenden, ohne es freizugeben, da der Klassen Gerätekontext nicht Teil des Kontext Caches des Anzeige Geräts ist.</span><span class="sxs-lookup"><span data-stu-id="93667-113">The application can keep and use the handle without releasing it because the class device context is not part of the display device context cache.</span></span> <span data-ttu-id="93667-114">Wenn die Anwendung ein anderes Fenster in derselben Fenster Klasse erstellt, muss die Anwendung den Klassen Gerätekontext erneut abrufen.</span><span class="sxs-lookup"><span data-stu-id="93667-114">If the application creates another window in the same window class, the application must retrieve the class device context again.</span></span> <span data-ttu-id="93667-115">Durch Abrufen des Geräte Kontexts wird der richtige Geräte Ursprung und der gewünschte Clippingbereich für das neue Fenster festgelegt.</span><span class="sxs-lookup"><span data-stu-id="93667-115">Retrieving the device context sets the correct device origin and clipping region for the new window.</span></span> <span data-ttu-id="93667-116">Nachdem die Anwendung den Klassen Gerätekontext für ein neues Fenster in der-Klasse abgerufen hat, kann der Gerätekontext nicht mehr verwendet werden, um im ursprünglichen Fenster zu zeichnen, ohne ihn erneut für dieses Fenster abzurufen.</span><span class="sxs-lookup"><span data-stu-id="93667-116">After the application retrieves the class device context for a new window in the class, the device context can no longer be used to draw in the original window without again retrieving it for that window.</span></span> <span data-ttu-id="93667-117">Im Allgemeinen muss eine Anwendung jedes Mal, wenn Sie in einem Fenster gezeichnet werden muss, explizit den Klassen Gerätekontext für das Fenster abrufen.</span><span class="sxs-lookup"><span data-stu-id="93667-117">In general, each time it must draw in a window, an application must explicitly retrieve the class device context for the window.</span></span>

<span data-ttu-id="93667-118">Anwendungen, die Klassen Geräte Kontexte verwenden, sollten [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) immer aufrufen, wenn eine WM-Zeichnungs Nachricht verarbeitet wird. [**\_**](wm-paint.md)</span><span class="sxs-lookup"><span data-stu-id="93667-118">Applications that use class device contexts should always call [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) when processing a [**WM\_PAINT**](wm-paint.md) message.</span></span> <span data-ttu-id="93667-119">Die-Funktion legt den korrekten Geräte Ursprung und Clippingbereich für das Fenster fest und enthält den Aktualisierungs Bereich.</span><span class="sxs-lookup"><span data-stu-id="93667-119">The function sets the correct device origin and clipping region for the window, and incorporates the update region.</span></span> <span data-ttu-id="93667-120">Die Anwendung sollte auch [**endpaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) aufrufen, um die Einfügemarke wiederherzustellen, wenn **BeginPaint** Sie verborgen hat.</span><span class="sxs-lookup"><span data-stu-id="93667-120">The application should also call [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) to restore the caret if **BeginPaint** hid it.</span></span> <span data-ttu-id="93667-121">**Endpaint** wirkt sich nicht auf einen Klassen Gerätekontext aus.</span><span class="sxs-lookup"><span data-stu-id="93667-121">**EndPaint** has no other effect on a class device context.</span></span>

<span data-ttu-id="93667-122">Das System übergibt den Klassen Gerätekontext beim Senden der [**WM- \_ erasebkgnd**](../winmsg/wm-erasebkgnd.md) -Meldung an die Anwendung, sodass die aktuellen Attributwerte alle Zeichnungen beeinflussen können, die von der Anwendung oder dem System bei der Verarbeitung dieser Nachricht ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="93667-122">The system passes the class device context when sending the [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message to the application, permitting the current attribute values to affect any drawing carried out by the application or the system when processing this message.</span></span> <span data-ttu-id="93667-123">Wie bei einem Fenster mit privatem Gerätekontext kann eine Anwendung [**getdcex**](/windows/desktop/api/Winuser/nf-winuser-getdcex) verwenden, um zu erzwingen, dass das System einen gemeinsamen Gerätekontext für das Fenster mit einem Klassen Gerätekontext zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="93667-123">As it could with a window having a private device context, an application can use [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) to force the system to return a common device context for the window that has a class device context.</span></span>

<span data-ttu-id="93667-124">Die Verwendung von Klassen Geräte Kontexten wird nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="93667-124">Using class device contexts is not recommended.</span></span>

 

 
