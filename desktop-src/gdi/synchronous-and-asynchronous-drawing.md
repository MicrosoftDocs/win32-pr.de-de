---
description: Die meisten Zeichnungen, die während der Verarbeitung der WM-Zeichnungs Nachricht durchgeführt werden, \_ sind asynchron. das heißt, es gibt eine Verzögerung zwischen dem Zeitpunkt, zu dem ein Teil des Fensters ungültig wird, und der Zeit, zu der WM gezeichnet wird \_ .
ms.assetid: c4eac615-6526-4ca6-854b-b4a598da13a4
title: Synchrone und asynchrone Zeichnung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a80dd5d5d63cbe10d19ec98e9f5dc9ae9163c18a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103960592"
---
# <a name="synchronous-and-asynchronous-drawing"></a><span data-ttu-id="1277f-103">Synchrone und asynchrone Zeichnung</span><span class="sxs-lookup"><span data-stu-id="1277f-103">Synchronous and Asynchronous Drawing</span></span>

<span data-ttu-id="1277f-104">Die meisten Zeichnungen, die während der Verarbeitung [**der \_ WM**](wm-paint.md) -Zeichnungs Nachricht durchgeführt werden, sind asynchron. das heißt, es gibt eine Verzögerung zwischen dem Zeitpunkt, zu dem ein Teil des Fensters ungültig wird, und der Zeit, zu der WM gezeichnet wird \_ .</span><span class="sxs-lookup"><span data-stu-id="1277f-104">Most drawing carried out during processing of the [**WM\_PAINT**](wm-paint.md) message is asynchronous; that is, there is a delay between the time a portion of the window is invalidated and the time WM\_PAINT is sent.</span></span> <span data-ttu-id="1277f-105">Während der Verzögerung Ruft die Anwendung normalerweise Nachrichten aus der Warteschlange ab und führt andere Aufgaben aus.</span><span class="sxs-lookup"><span data-stu-id="1277f-105">During the delay, the application typically retrieves messages from the queue and carries out other tasks.</span></span> <span data-ttu-id="1277f-106">Der Grund für die Verzögerung ist, dass das System in der Regel das Zeichnen in einem Fenster als Vorgang mit niedriger Priorität behandelt und so funktioniert, als ob Benutzereingaben und Meldungen, die sich auf die Position oder Größe eines Fensters auswirken können, vor WM Paint verarbeitet werden \_ .</span><span class="sxs-lookup"><span data-stu-id="1277f-106">The reason for the delay is that the system generally treats drawing in a window as a low-priority operation and works as though user-input messages and messages that may affect the position or size of a window will be processed before WM\_PAINT .</span></span>

<span data-ttu-id="1277f-107">In einigen Fällen ist es erforderlich, dass eine Anwendung synchron gezeichnet wird, indem Sie im Fenster sofort nach dem Aufheben eines Teils des Fensters zeichnen.</span><span class="sxs-lookup"><span data-stu-id="1277f-107">In some cases, it is necessary for an application to draw synchronously that is, draw in the window immediately after invalidating a portion of the window.</span></span> <span data-ttu-id="1277f-108">Eine typische Anwendung zeichnet das Hauptfenster sofort nach dem Erstellen des Fensters, um dem Benutzer zu signalisieren, dass die Anwendung erfolgreich gestartet wurde.</span><span class="sxs-lookup"><span data-stu-id="1277f-108">A typical application draws its main window immediately after creating the window to signal the user that the application has started successfully.</span></span> <span data-ttu-id="1277f-109">Das System zeichnet einige Steuerelement Fenster synchron, z. b. Schaltflächen, da solche Fenster als Fokus für Benutzereingaben dienen.</span><span class="sxs-lookup"><span data-stu-id="1277f-109">The system draws some control windows synchronously, such as buttons, because such windows serve as the focus for user input.</span></span> <span data-ttu-id="1277f-110">Obwohl jedes Fenster mit einer einfachen Zeichnungs Routine synchron gezeichnet werden kann, sollten alle diese Zeichen schnell ausgeführt werden und sollten nicht die Fähigkeit der Anwendung beeinträchtigen, auf Benutzereingaben zu reagieren.</span><span class="sxs-lookup"><span data-stu-id="1277f-110">Although any window with a simple drawing routine can be drawn synchronously, all such drawing should be done quickly and should not interfere with the application's ability to respond to user input.</span></span>

<span data-ttu-id="1277f-111">Die Funktionen [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) und [**redrawwindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) ermöglichen das synchrone zeichnen.</span><span class="sxs-lookup"><span data-stu-id="1277f-111">The [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) and [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) functions allow for synchronous drawing.</span></span> <span data-ttu-id="1277f-112">**UpdateWindow** sendet eine [**WM \_**](wm-paint.md) -Zeichnungs Nachricht direkt an das Fenster, wenn der Aktualisierungs Bereich nicht leer ist.</span><span class="sxs-lookup"><span data-stu-id="1277f-112">**UpdateWindow** sends a [**WM\_PAINT**](wm-paint.md) message directly to the window if the update region is not empty.</span></span> <span data-ttu-id="1277f-113">**Redrawwindow** sendet außerdem eine **WM \_** -Zeichnungs Nachricht, bietet der Anwendung jedoch eine bessere Kontrolle darüber, wie das Fenster gezeichnet werden soll, z. b. ob der nicht-Client Bereich und der Fenster Hintergrund gezeichnet werden sollen oder ob die Nachricht unabhängig davon, ob der Aktualisierungs Bereich leer ist, gesendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="1277f-113">**RedrawWindow** also sends a **WM\_PAINT** message, but gives the application greater control over how to draw the window, such as whether to draw the nonclient area and window background or whether to send the message regardless of whether the update region is empty.</span></span> <span data-ttu-id="1277f-114">Diese Funktionen senden die **WM \_** -Zeichnungs Nachricht unabhängig von der Anzahl anderer Nachrichten in der Nachrichten Warteschlange der Anwendung direkt an das-Fenster.</span><span class="sxs-lookup"><span data-stu-id="1277f-114">These functions send the **WM\_PAINT** message directly to the window, regardless of the number of other messages in the application message queue.</span></span>

<span data-ttu-id="1277f-115">Jedes Fenster, das zeitaufwändige Zeichnungsvorgänge erfordert, muss asynchron gezeichnet werden, um zu verhindern, dass ausstehende Nachrichten blockiert werden, wenn das Fenster gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="1277f-115">Any window requiring time-consuming drawing operations should be drawn asynchronously to prevent pending messages from being blocked as the window is drawn.</span></span> <span data-ttu-id="1277f-116">Außerdem sollten alle Anwendungen, die kleine Teile eines Fensters häufig für ungültig erklären, zulassen, dass diese ungültigen Teile in einer einzigen asynchronen WM-Zeichnungs Nachricht und nicht in einer Reihe synchroner **WM \_** -Zeichnungs Nachrichten konsolidiert werden. [**\_**](wm-paint.md)</span><span class="sxs-lookup"><span data-stu-id="1277f-116">Also, any application that frequently invalidates small portions of a window should allow these invalid portions to consolidate into a single asynchronous [**WM\_PAINT**](wm-paint.md) message, rather than a series of synchronous **WM\_PAINT** messages.</span></span>

 

 



