---
description: Eine Anwendung kann Text nur verwenden, um Text zu zeichnen, wenn diese Schriftart entweder auf einem angegebenen Gerät oder in der Schriftart Tabelle des Systems installiert ist.
ms.assetid: b422b981-8760-4484-9965-f212287c421e
title: Installation und Löschung von Schriftart
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0184054973c769462ed8c1620e5534ff909576ca
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104994022"
---
# <a name="font-installation-and-deletion"></a><span data-ttu-id="f908b-103">Installation und Löschung von Schriftart</span><span class="sxs-lookup"><span data-stu-id="f908b-103">Font Installation and Deletion</span></span>

<span data-ttu-id="f908b-104">Eine Anwendung kann Text nur verwenden, um Text zu zeichnen, wenn diese Schriftart entweder auf einem angegebenen Gerät oder in der Schriftart Tabelle des Systems installiert ist.</span><span class="sxs-lookup"><span data-stu-id="f908b-104">An application can use a font to draw text only if that font is either resident on a specified device or installed in the system font table.</span></span> <span data-ttu-id="f908b-105">Die Schriftart Tabelle ist ein internes Array, das alle nicht-Geräte Schriftarten identifiziert, die für eine Anwendung verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="f908b-105">The font table is an internal array that identifies all nondevice fonts that are available to an application.</span></span> <span data-ttu-id="f908b-106">Eine Anwendung kann die Namen von Schriftarten abrufen, die zurzeit auf einem Gerät installiert sind oder in der internen Schriftart Tabelle gespeichert werden, indem die [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) -oder [**choosefont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) -Funktionen aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="f908b-106">An application can retrieve the names of fonts currently installed on a device or stored in the internal font table by calling the [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) or [**ChooseFont**](/previous-versions/windows/desktop/legacy/ms646914(v=vs.85)) functions.</span></span>

<span data-ttu-id="f908b-107">Um eine Schriftart temporär zu installieren, müssen Sie [**AddFontResource**](/windows/desktop/api/Wingdi/nf-wingdi-addfontresourcea) oder [**addfontresourceex**](/windows/desktop/api/Wingdi/nf-wingdi-addfontresourceexa)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f908b-107">To temporarily install a font, call [**AddFontResource**](/windows/desktop/api/Wingdi/nf-wingdi-addfontresourcea) or [**AddFontResourceEx**](/windows/desktop/api/Wingdi/nf-wingdi-addfontresourceexa).</span></span> <span data-ttu-id="f908b-108">Diese Funktionen laden eine Schriftart, die in einer Schriftart Ressourcen Datei gespeichert ist.</span><span class="sxs-lookup"><span data-stu-id="f908b-108">These functions load a font that is stored in a font-resource file.</span></span> <span data-ttu-id="f908b-109">Dies ist jedoch eine temporäre Installation, da die Schriftart nach einem Neustart nicht mehr vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="f908b-109">However, this is a temporary installation because after a reboot the font will not be present.</span></span>

<span data-ttu-id="f908b-110">Verwenden Sie eine der folgenden Methoden, um eine Schriftart zu installieren, die nach dem Neustart des Systems beibehalten wird:</span><span class="sxs-lookup"><span data-stu-id="f908b-110">To install a font that will remain after the system is rebooted, use one of the following methods:</span></span>

-   <span data-ttu-id="f908b-111">Wechseln Sie zur Systemsteuerung, klicken Sie auf das **Schriftarten** Symbol, und wählen Sie im Menü **Datei** die Option **neue Schriftarten installieren** aus.</span><span class="sxs-lookup"><span data-stu-id="f908b-111">Go to the Control Panel, click the **Fonts** icon, and select **Install New Fonts** from the **File** menu.</span></span> <span data-ttu-id="f908b-112">Die Schriftart steht auch vor dem Neustart für eine Anwendung zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="f908b-112">The font is available to an application even before the reboot.</span></span> <span data-ttu-id="f908b-113">In einer Terminal Server Situation ist die Schriftart jedoch für die aktuelle Sitzung verfügbar, Sie ist jedoch erst nach einem Neustart für andere Sitzungen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="f908b-113">However, in a terminal server situation the font is available for the current session but is not available for other sessions until after a reboot.</span></span>
-   <span data-ttu-id="f908b-114">Kopieren Sie die Schriftart in den Ordner% windir% \\ Fonts.</span><span class="sxs-lookup"><span data-stu-id="f908b-114">Copy the font into the %windir%\\fonts folder.</span></span> <span data-ttu-id="f908b-115">Wechseln Sie dann zur Systemsteuerung, und klicken Sie auf das **Schriftarten** Symbol, oder rufen Sie [**AddFontResource**](/windows/win32/api/wingdi/nf-wingdi-addfontresourcea) oder [**addfontresourceex**](/windows/win32/api/wingdi/nf-wingdi-addfontresourceexa)auf.</span><span class="sxs-lookup"><span data-stu-id="f908b-115">Then, either go to the Control Panel and click the **Fonts** icon, or call [**AddFontResource**](/windows/win32/api/wingdi/nf-wingdi-addfontresourcea) or [**AddFontResourceEx**](/windows/win32/api/wingdi/nf-wingdi-addfontresourceexa).</span></span> <span data-ttu-id="f908b-116">Die Schriftart steht auch vor dem Neustart für eine Anwendung zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="f908b-116">The font is available to an application even before the reboot.</span></span> <span data-ttu-id="f908b-117">In einer Terminal Server Situation ist die Schriftart jedoch für die aktuelle Sitzung verfügbar, Sie ist jedoch erst nach einem Neustart für andere Sitzungen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="f908b-117">However, in a terminal server situation the font is available for the current session but is not available for other sessions until after a reboot.</span></span> <span data-ttu-id="f908b-118">Wenn Sie die Schriftart nur in den Ordner% windir% \\ Fonts kopieren, ist die Schriftart erst verfügbar, nachdem das System neu gestartet wurde.</span><span class="sxs-lookup"><span data-stu-id="f908b-118">If you only copy the font into the %windir%\\fonts folder, the font will be available only after the system is rebooted.</span></span>

<span data-ttu-id="f908b-119">Wenn eine Anwendung mit einer installierten Schriftart abgeschlossen ist, muss Sie diese Schriftart entfernen, indem Sie die [**removefontresource**](/windows/desktop/api/Wingdi/nf-wingdi-removefontresourcea) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="f908b-119">When an application finishes using an installed font, it must remove that font by calling the [**RemoveFontResource**](/windows/desktop/api/Wingdi/nf-wingdi-removefontresourcea) function.</span></span>

<span data-ttu-id="f908b-120">Eine Schriftart, die von einem anderen Speicherort als dem% windir% \\ Fonts-Ordner installiert wird, kann nicht geändert werden, wenn Sie in einer aktiven Sitzung geladen wird, einschließlich Sitzung 0.</span><span class="sxs-lookup"><span data-stu-id="f908b-120">A font installed from a location other than the %windir%\\fonts folder cannot be modified when loaded in any active session, including session 0.</span></span> <span data-ttu-id="f908b-121">Der Versuch, zu ändern, zu ersetzen oder zu löschen, wird daher blockiert.</span><span class="sxs-lookup"><span data-stu-id="f908b-121">Any attempt to change, replace, or delete will, therefore, be blocked.</span></span> <span data-ttu-id="f908b-122">Wenn eine Änderung an einer Schriftart erforderlich ist:</span><span class="sxs-lookup"><span data-stu-id="f908b-122">If modification to a font is necessary:</span></span>

-   <span data-ttu-id="f908b-123">*Temporäre Schriftarten* werden nur in der aktuellen Sitzung geladen.</span><span class="sxs-lookup"><span data-stu-id="f908b-123">*Temporary fonts* get loaded only in the current session.</span></span> <span data-ttu-id="f908b-124">Bevor Sie Änderungen an der Schriftart ausführen, müssen Sie [**removefontresource**](/windows/desktop/api/Wingdi/nf-wingdi-removefontresourcea) anrufen, um das Entladen der Schriftart durch die aktuelle Sitzung zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="f908b-124">Before attempting any font modifications, call [**RemoveFontResource**](/windows/desktop/api/Wingdi/nf-wingdi-removefontresourcea) to force the current session to unload the font.</span></span>
-   <span data-ttu-id="f908b-125">*Permanente Schriftarten* bleiben nach dem Neustart installiert und werden von allen erstellten Sitzungen geladen.</span><span class="sxs-lookup"><span data-stu-id="f908b-125">*Permanent fonts* remain installed after reboot and are loaded by all created sessions.</span></span> <span data-ttu-id="f908b-126">Ruft [**removefontresource**](/windows/desktop/api/Wingdi/nf-wingdi-removefontresourcea) auf, um das Entladen der Schriftart durch die aktuelle Sitzung zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="f908b-126">Call [**RemoveFontResource**](/windows/desktop/api/Wingdi/nf-wingdi-removefontresourcea) to force the current session to unload the font.</span></span> <span data-ttu-id="f908b-127">Suchen Sie anschließend im Registrierungsschlüssel Schriftart (**HKEY \_ local \_ Machine \\ Software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Fonts**) den Registrierungs Wert, der der Schriftart zugeordnet ist, und entfernen Sie ihn.</span><span class="sxs-lookup"><span data-stu-id="f908b-127">Then, in the font registry key (**HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Microsoft\\Windows NT\\CurrentVersion\\Fonts**) find and remove the registry value associated with the font.</span></span> <span data-ttu-id="f908b-128">Starten Sie schließlich den Computer neu, um sicherzustellen, dass die Schriftart in keiner Sitzung geladen wird.</span><span class="sxs-lookup"><span data-stu-id="f908b-128">Finally, reboot the machine to ensure the font isn't loaded in any session.</span></span> <span data-ttu-id="f908b-129">Fahren Sie nach dem Neustart mit ihrer Schriftart Änderung/-Löschung fort.</span><span class="sxs-lookup"><span data-stu-id="f908b-129">After reboot, proceed with your font modification/deletion.</span></span>

<span data-ttu-id="f908b-130">Wenn eine Anwendung die Funktionen aufruft, die Schriftart Ressourcen hinzufügen und löschen, sollte Sie auch die [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) -Funktion aufrufen und eine [**WM- \_ fontchange**](wm-fontchange.md) -Nachricht an alle Fenster der obersten Ebene im System senden.</span><span class="sxs-lookup"><span data-stu-id="f908b-130">Whenever an application calls the functions that add and delete font resources, it should also call the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function and send a [**WM\_FONTCHANGE**](wm-fontchange.md) message to all top-level windows in the system.</span></span> <span data-ttu-id="f908b-131">Mit dieser Meldung werden andere Anwendungen benachrichtigt, dass die interne Schriftart Tabelle von einer Anwendung geändert wurde, die eine Schriftart hinzugefügt oder entfernt hat.</span><span class="sxs-lookup"><span data-stu-id="f908b-131">This message notifies other applications that the internal font table has been altered by an application that added or removed a font.</span></span>

 

 
