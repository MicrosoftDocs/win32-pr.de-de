---
description: Obwohl Anwendungen die meisten Zeichnungsvorgänge ausführen, während die WM-Zeichnungs \_ Nachricht verarbeitet wird, ist es manchmal effizienter, wenn eine Anwendung direkt in einem Fenster gezeichnet wird, ohne auf die WM-Zeichnungs Nachricht zu vertrauen \_ .
ms.assetid: 2d015879-58d2-4cbe-b1cc-445f2e8fd316
title: Zeichnen ohne die WM_PAINT Meldung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 66695e85b700de6f62366dedb6fe082f410d4385
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103863647"
---
# <a name="drawing-without-the-wm_paint-message"></a><span data-ttu-id="00e1d-103">Zeichnen ohne die WM-Zeichnungs \_ Nachricht</span><span class="sxs-lookup"><span data-stu-id="00e1d-103">Drawing Without the WM\_PAINT Message</span></span>

<span data-ttu-id="00e1d-104">Obwohl Anwendungen die meisten Zeichnungsvorgänge ausführen, während [**die \_ WM**](wm-paint.md) -Zeichnungs Nachricht verarbeitet wird, ist es manchmal effizienter, wenn eine Anwendung direkt in einem Fenster gezeichnet wird, ohne auf die WM-Zeichnungs Nachricht zu vertrauen. **\_**</span><span class="sxs-lookup"><span data-stu-id="00e1d-104">Although applications carry out most drawing operations while the [**WM\_PAINT**](wm-paint.md) message is processing, it is sometimes more efficient for an application to draw directly in a window without relying on the **WM\_PAINT** message.</span></span> <span data-ttu-id="00e1d-105">Dies kann hilfreich sein, wenn der Benutzer sofortiges Feedback benötigt, z. b. beim Auswählen von Text und ziehen oder Anpassen eines Objekts.</span><span class="sxs-lookup"><span data-stu-id="00e1d-105">This can be useful when the user needs immediate feedback, such as when selecting text and dragging or sizing an object.</span></span> <span data-ttu-id="00e1d-106">In solchen Fällen zeichnet die Anwendung normalerweise bei der Verarbeitung von Tastatur-oder Maus Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="00e1d-106">In such cases, the application usually draws while processing keyboard or mouse messages.</span></span>

<span data-ttu-id="00e1d-107">Um in einem Fenster zu zeichnen, ohne eine [**WM \_ Paint**](wm-paint.md) -Meldung zu verwenden, verwendet die Anwendung die [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) -Funktion oder die [**getdcex**](/windows/desktop/api/Winuser/nf-winuser-getdcex) -Funktion, um einen Anzeigegeräte Kontext für das Fenster abzurufen.</span><span class="sxs-lookup"><span data-stu-id="00e1d-107">To draw in a window without using a [**WM\_PAINT**](wm-paint.md) message, the application uses the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function to retrieve a display device context for the window.</span></span> <span data-ttu-id="00e1d-108">Beim Anzeigen des Geräte Kontexts kann die Anwendung im Fenster zeichnen und das Eindringen in andere Fenster vermeiden.</span><span class="sxs-lookup"><span data-stu-id="00e1d-108">With the display device context, the application can draw in the window and avoid intruding into other windows.</span></span> <span data-ttu-id="00e1d-109">Nachdem die Anwendung das Zeichnen abgeschlossen hat, ruft Sie die [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) -Funktion auf, um den Anzeigegeräte Kontext zur Verwendung durch andere Anwendungen freizugeben.</span><span class="sxs-lookup"><span data-stu-id="00e1d-109">When the application has finished drawing, it calls the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function to release the display device context for use by other applications.</span></span>

<span data-ttu-id="00e1d-110">Wenn Sie ohne eine [**WM \_ Paint**](wm-paint.md) -Meldung zeichnen, wird das Fenster in der Regel nicht für ungültig erklärt.</span><span class="sxs-lookup"><span data-stu-id="00e1d-110">When drawing without using a [**WM\_PAINT**](wm-paint.md) message, the application usually does not invalidate the window.</span></span> <span data-ttu-id="00e1d-111">Stattdessen wird es so gezeichnet, dass das Fenster problemlos wieder hergestellt und die Zeichnung entfernt werden kann.</span><span class="sxs-lookup"><span data-stu-id="00e1d-111">Instead, it draws in such a fashion that it can easily restore the window and remove the drawing.</span></span> <span data-ttu-id="00e1d-112">Wenn der Benutzer z. b. Text oder ein Objekt auswählt, zeichnet die Anwendung normalerweise die Auswahl, indem Sie alle bereits im Fenster vorhandenen Objekte umkehren.</span><span class="sxs-lookup"><span data-stu-id="00e1d-112">For example, when the user selects text or an object, the application typically draws the selection by inverting whatever is already in the window.</span></span> <span data-ttu-id="00e1d-113">Die Anwendung kann die Auswahl entfernen und den ursprünglichen Inhalt des Fensters wiederherstellen, indem Sie einfach wieder umkehren.</span><span class="sxs-lookup"><span data-stu-id="00e1d-113">The application can remove the selection and restore the original contents of the window by simply inverting again.</span></span>

<span data-ttu-id="00e1d-114">Die Anwendung ist für die sorgfältige Verwaltung von Änderungen zuständig, die Sie an diesem Fenster vornimmt.</span><span class="sxs-lookup"><span data-stu-id="00e1d-114">The application is responsible for carefully managing any changes it makes to the window.</span></span> <span data-ttu-id="00e1d-115">Insbesondere, wenn eine Anwendung eine Auswahl zeichnet und eine dazwischenliegende WM-Zeichnungs Meldung auftritt, muss die Anwendung sicherstellen, dass jede während der Nachricht durchgeführte Zeichnung die Auswahl nicht beschädigt. [**\_**](wm-paint.md)</span><span class="sxs-lookup"><span data-stu-id="00e1d-115">In particular, if an application draws a selection and an intervening [**WM\_PAINT**](wm-paint.md) message occurs, the application must ensure that any drawing done during the message does not corrupt the selection.</span></span> <span data-ttu-id="00e1d-116">Um dies zu vermeiden, entfernen viele Anwendungen die Auswahl, führen normale Zeichnungsvorgänge durch und stellen dann die Auswahl wieder her, wenn die Zeichnung vollständig ist.</span><span class="sxs-lookup"><span data-stu-id="00e1d-116">To avoid this, many applications remove the selection, carry out usual drawing operations, and then restore the selection when drawing is complete.</span></span>

 

 



