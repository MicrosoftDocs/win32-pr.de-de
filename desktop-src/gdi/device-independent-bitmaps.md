---
description: Eine geräteunabhängige Bitmap (DIB) enthält eine Farbtabelle.
ms.assetid: 56b39a3d-48a4-4620-9652-ec41ea4d6423
title: Bitmaps Device-Independent
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1aa35201a9a27c2d16a5a18b0125d25a3938890c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104130800"
---
# <a name="device-independent-bitmaps"></a><span data-ttu-id="f5aed-103">Bitmaps Device-Independent</span><span class="sxs-lookup"><span data-stu-id="f5aed-103">Device-Independent Bitmaps</span></span>

<span data-ttu-id="f5aed-104">Eine geräteunabhängige Bitmap (DIB) enthält eine *Farbtabelle*.</span><span class="sxs-lookup"><span data-stu-id="f5aed-104">A device-independent bitmap (DIB) contains a *color table*.</span></span> <span data-ttu-id="f5aed-105">In einer Farbtabelle wird beschrieben, wie Pixelwerte *RGB* -Farbwerten entsprechen, die Farben beschreiben, die durch Ausgeben von Licht erzeugt werden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-105">A color table describes how pixel values correspond to *RGB* color values, which describe colors that are produced by emitting light.</span></span> <span data-ttu-id="f5aed-106">Daher kann ein DIB das richtige Farbschema auf jedem Gerät erreichen.</span><span class="sxs-lookup"><span data-stu-id="f5aed-106">Thus, a DIB can achieve the proper color scheme on any device.</span></span> <span data-ttu-id="f5aed-107">Ein DIB enthält die folgenden Farb-und Dimensions Informationen:</span><span class="sxs-lookup"><span data-stu-id="f5aed-107">A DIB contains the following color and dimension information:</span></span>

-   <span data-ttu-id="f5aed-108">Das Farb Format des Geräts, auf dem das rechteckige Bild erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="f5aed-108">The color format of the device on which the rectangular image was created.</span></span>
-   <span data-ttu-id="f5aed-109">Die Auflösung des Geräts, auf dem das rechteckige Image erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="f5aed-109">The resolution of the device on which the rectangular image was created.</span></span>
-   <span data-ttu-id="f5aed-110">Die Palette für das Gerät, auf dem das Image erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="f5aed-110">The palette for the device on which the image was created.</span></span>
-   <span data-ttu-id="f5aed-111">Ein Array von Bits, das rote, grüne, blaue ( [**RGB**](/windows/desktop/api/Wingdi/nf-wingdi-rgb) )-drei-und Pixel im rechteckigen Bild zuordnet.</span><span class="sxs-lookup"><span data-stu-id="f5aed-111">An array of bits that maps red, green, blue ( [**RGB**](/windows/desktop/api/Wingdi/nf-wingdi-rgb) ) triplets to pixels in the rectangular image.</span></span>
-   <span data-ttu-id="f5aed-112">Ein Bezeichner für die Datenkomprimierung, der das Daten Komprimierungs Schema (sofern vorhanden) angibt, mit dem die Größe des Bits-Arrays reduziert wird.</span><span class="sxs-lookup"><span data-stu-id="f5aed-112">A data-compression identifier that indicates the data compression scheme (if any) used to reduce the size of the array of bits.</span></span>

<span data-ttu-id="f5aed-113">Die Farb-und Dimensions Informationen werden in einer [**BitmapInfo**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) -Struktur gespeichert, die aus einer [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) -Struktur gefolgt von zwei oder mehr [**rgbquad**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) -Strukturen besteht.</span><span class="sxs-lookup"><span data-stu-id="f5aed-113">The color and dimension information is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure, which consists of a [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)) structure followed by two or more [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) structures.</span></span> <span data-ttu-id="f5aed-114">Die **BITMAPINFOHEADER** -Struktur gibt die Abmessungen des Pixel Rechtecks an, beschreibt die Farb Technologie des Geräts und identifiziert die Komprimierungs Schemas, die verwendet werden, um die Größe der Bitmap zu verringern.</span><span class="sxs-lookup"><span data-stu-id="f5aed-114">The **BITMAPINFOHEADER** structure specifies the dimensions of the pixel rectangle, describes the device's color technology, and identifies the compression schemes used to reduce the size of the bitmap.</span></span> <span data-ttu-id="f5aed-115">Die **rgbquad** -Strukturen identifizieren die Farben, die im Pixel Rechteck angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-115">The **RGBQUAD** structures identify the colors that appear in the pixel rectangle.</span></span>

<span data-ttu-id="f5aed-116">Es gibt zwei Arten von Disb:</span><span class="sxs-lookup"><span data-stu-id="f5aed-116">There are two varieties of DIBs:</span></span>

-   <span data-ttu-id="f5aed-117">Ein Bottom-up-DIB, bei dem der Ursprung in der unteren linken Ecke liegt.</span><span class="sxs-lookup"><span data-stu-id="f5aed-117">A bottom-up DIB, in which the origin lies at the lower-left corner.</span></span>
-   <span data-ttu-id="f5aed-118">Eine Top-Down-DIB, bei der sich der Ursprung in der linken oberen Ecke befindet.</span><span class="sxs-lookup"><span data-stu-id="f5aed-118">A top-down DIB, in which the origin lies at the upper-left corner.</span></span>

<span data-ttu-id="f5aed-119">Wenn die Höhe eines DIB, wie durch das **height** -Element der Bitmap-Informations Header Struktur angegeben, ein positiver Wert ist, ist es ein unterer DIB. Wenn die Höhe ein negativer Wert ist, ist Sie eine Top-Down-DIB.</span><span class="sxs-lookup"><span data-stu-id="f5aed-119">If the height of a DIB, as indicated by the **Height** member of the bitmap information header structure, is a positive value, it is a bottom-up DIB; if the height is a negative value, it is a top-down DIB.</span></span> <span data-ttu-id="f5aed-120">Top-Down-Disb können nicht komprimiert werden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-120">Top-down DIBs cannot be compressed.</span></span>

<span data-ttu-id="f5aed-121">Das Farb Format wird in Bezug auf die Anzahl von Farbebenen und Farbbits angegeben.</span><span class="sxs-lookup"><span data-stu-id="f5aed-121">The color format is specified in terms of a count of color planes and color bits.</span></span> <span data-ttu-id="f5aed-122">Die Anzahl von Farbebenen ist immer 1. die Anzahl der Farbbits ist 1 für monochrome Bitmaps, 4 für VGA-Bitmaps und 8, 16, 24 oder 32 für Bitmaps auf anderen Farb Geräten.</span><span class="sxs-lookup"><span data-stu-id="f5aed-122">The count of color planes is always 1; the count of color bits is 1 for monochrome bitmaps, 4 for VGA bitmaps, and 8, 16, 24, or 32 for bitmaps on other color devices.</span></span> <span data-ttu-id="f5aed-123">Eine Anwendung ruft die Anzahl der Farbbits ab, die eine bestimmte Anzeige (oder ein Drucker) verwendet, indem Sie die [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion aufrufen und bitspixel als zweites Argument angibt.</span><span class="sxs-lookup"><span data-stu-id="f5aed-123">An application retrieves the number of color bits that a particular display (or printer) uses by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying BITSPIXEL as the second argument.</span></span>

<span data-ttu-id="f5aed-124">Die Auflösung eines Anzeige Geräts wird in Pixel pro Meter angegeben.</span><span class="sxs-lookup"><span data-stu-id="f5aed-124">The resolution of a display device is specified in pixels-per-meter.</span></span> <span data-ttu-id="f5aed-125">Eine Anwendung kann die horizontale Auflösung für eine Videoanzeige oder einen Drucker abrufen, indem Sie diesen dreistufigen Prozess folgt.</span><span class="sxs-lookup"><span data-stu-id="f5aed-125">An application can retrieve the horizontal resolution for a video display, or printer, by following this three-step process.</span></span>

1.  <span data-ttu-id="f5aed-126">Aufrufen der [**getde vicecaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion, wobei horzres als zweites Argument angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-126">Call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying HORZRES as the second argument.</span></span>
2.  <span data-ttu-id="f5aed-127">Ruft [**getde vicecaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) ein zweites Mal auf, wobei horzsize als zweites Argument angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="f5aed-127">Call [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) a second time, specifying HORZSIZE as the second argument.</span></span>
3.  <span data-ttu-id="f5aed-128">Dividiert den ersten Rückgabewert durch den zweiten Rückgabewert.</span><span class="sxs-lookup"><span data-stu-id="f5aed-128">Divide the first return value by the second return value.</span></span>

<span data-ttu-id="f5aed-129">Die Anwendung kann die vertikale Auflösung abrufen, indem Sie den gleichen dreistufigen Prozess mit unterschiedlichen Parametern verwendet: "vertres" anstelle von "horzres" und "vertsize" anstelle von "horzsize".</span><span class="sxs-lookup"><span data-stu-id="f5aed-129">The application can retrieve the vertical resolution by using the same three-step process with different parameters: VERTRES in place of HORZRES, and VERTSIZE in place of HORZSIZE.</span></span>

<span data-ttu-id="f5aed-130">Die Palette wird durch ein Array von [**rgbquad**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) -Strukturen dargestellt, die die roten, grünen und blauen Intensität-Komponenten für die einzelnen Farben in der Farbpalette eines Anzeige Geräts angeben.</span><span class="sxs-lookup"><span data-stu-id="f5aed-130">The palette is represented by an array of [**RGBQUAD**](/windows/win32/api/wingdi/ns-wingdi-rgbquad) structures that specify the red, green, and blue intensity components for each color in a display device's color palette.</span></span> <span data-ttu-id="f5aed-131">Jeder Farbindex im Palette-Array ist einem bestimmten Pixel im rechteckigen Bereich zugeordnet, der der Bitmap zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="f5aed-131">Each color index in the palette array maps to a specific pixel in the rectangular region associated with the bitmap.</span></span> <span data-ttu-id="f5aed-132">Die Größe dieses Arrays in Bits entspricht der Breite des Rechtecks in Pixel, multipliziert mit der Höhe des Rechtecks in Pixel, multipliziert mit der Anzahl der Farbbits für das Gerät.</span><span class="sxs-lookup"><span data-stu-id="f5aed-132">The size of this array, in bits, is equivalent to the width of the rectangle, in pixels, multiplied by the height of the rectangle, in pixels, multiplied by the count of color bits for the device.</span></span> <span data-ttu-id="f5aed-133">Eine Anwendung kann die Größe der Gerätepalette abrufen, indem Sie die [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion aufrufen und dabei numcolors als zweites Argument angibt.</span><span class="sxs-lookup"><span data-stu-id="f5aed-133">An application can retrieve the size of the device's palette by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying NUMCOLORS as the second argument.</span></span>

<span data-ttu-id="f5aed-134">Windows unterstützt die Komprimierung des Palette-Arrays für 8-bpp-und 4-bpp-nach-oben-DIB.</span><span class="sxs-lookup"><span data-stu-id="f5aed-134">Windows supports the compression of the palette array for 8-bpp and 4-bpp bottom-up DIBs.</span></span> <span data-ttu-id="f5aed-135">Diese Arrays können mithilfe des RLE-Schemas (Run-Length Encoding) komprimiert werden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-135">These arrays can be compressed by using the run-length encoding (RLE) scheme.</span></span> <span data-ttu-id="f5aed-136">Das RLE-Schema verwendet 2-Byte-Werte, das erste Byte, das die Anzahl der aufeinander folgenden Pixel angibt, die einen Farbindex verwenden, und das zweite Byte, das den Index angibt.</span><span class="sxs-lookup"><span data-stu-id="f5aed-136">The RLE scheme uses 2-byte values, the first byte specifying the number of consecutive pixels that use a color index and the second byte specifying the index.</span></span> <span data-ttu-id="f5aed-137">Weitere Informationen zur Bitmapkomprimierung finden Sie in der Beschreibung der Strukturen [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header)und [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) .</span><span class="sxs-lookup"><span data-stu-id="f5aed-137">For more information about bitmap compression, see the description of the [**BITMAPINFOHEADER**](/previous-versions//dd183376(v=vs.85)), [**BITMAPFILEHEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapfileheader), [**BITMAPV4HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv4header), and [**BITMAPV5HEADER**](/windows/desktop/api/Wingdi/ns-wingdi-bitmapv5header) structures.</span></span>

<span data-ttu-id="f5aed-138">Eine Anwendung kann ein DIB aus einer DDB erstellen, indem Sie die erforderlichen Strukturen initialisiert und die [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) -Funktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="f5aed-138">An application can create a DIB from a DDB by initializing the required structures and calling the [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) function.</span></span> <span data-ttu-id="f5aed-139">Um zu ermitteln, ob ein Gerät diese Funktion unterstützt, können Sie die [**getdebug**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion aufrufen und die RC \_ di- \_ Bitmap als RasterCaps-Flag angeben.</span><span class="sxs-lookup"><span data-stu-id="f5aed-139">To determine whether a device supports this function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DI\_BITMAP as the RASTERCAPS flag.</span></span>

<span data-ttu-id="f5aed-140">Eine Anwendung, die eine Bitmap kopieren muss, kann mithilfe von [**TransparentBlt**](/windows/desktop/api/WinGdi/nf-wingdi-transparentblt) alle Pixel in einer Quell Bitmap in eine Ziel Bitmap kopieren, ausgenommen die Pixel, die der transparenten Farbe entsprechen.</span><span class="sxs-lookup"><span data-stu-id="f5aed-140">An application that needs to copy a bitmap can use [**TransparentBlt**](/windows/desktop/api/WinGdi/nf-wingdi-transparentblt) to copy all pixels in a source bitmap to a destination bitmap except those pixels that match the transparent color.</span></span>

<span data-ttu-id="f5aed-141">Eine Anwendung kann einen DIB verwenden, um Pixel auf dem Anzeigegerät durch Aufrufen der [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) -oder der [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) -Funktion festzulegen.</span><span class="sxs-lookup"><span data-stu-id="f5aed-141">An application can use a DIB to set pixels on the display device by calling the [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) or the [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) function.</span></span> <span data-ttu-id="f5aed-142">Um zu ermitteln, ob ein Gerät die **SetDIBitsToDevice** -Funktion unterstützt, können Sie die [**gettovicecaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) -Funktion aufrufen und RC \_ dibtodev als RasterCaps-Flag angeben.</span><span class="sxs-lookup"><span data-stu-id="f5aed-142">To determine whether a device supports the **SetDIBitsToDevice** function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DIBTODEV as the RASTERCAPS flag.</span></span> <span data-ttu-id="f5aed-143">Geben \_ Sie RC stretchdib als RasterCaps-Flag an, um zu bestimmen, ob das Gerät **StretchDIBits** unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f5aed-143">Specify RC\_STRETCHDIB as the RASTERCAPS flag to determine if the device supports **StretchDIBits**.</span></span>

<span data-ttu-id="f5aed-144">Eine Anwendung, die lediglich ein bereits vorhandenes DIB anzeigen muss, kann die [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-144">An application that simply needs to display a pre-existing DIB can use the [**SetDIBitsToDevice**](/windows/desktop/api/Wingdi/nf-wingdi-setdibitstodevice) function.</span></span> <span data-ttu-id="f5aed-145">Beispielsweise kann eine Tabellenkalkulationsanwendung vorhandene Diagramme öffnen und mithilfe der **SetDIBitsToDevice** -Funktion in einem Fenster anzeigen.</span><span class="sxs-lookup"><span data-stu-id="f5aed-145">For example, a spreadsheet application can open existing charts and display them in a window by using the **SetDIBitsToDevice** function.</span></span> <span data-ttu-id="f5aed-146">Zum wiederholten Neuzeichnen einer Bitmap in einem Fenster sollte die Anwendung jedoch die [**BitBLT**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt) -Funktion verwenden.</span><span class="sxs-lookup"><span data-stu-id="f5aed-146">To repeatedly redraw a bitmap in a window, however, the application should use the [**BitBlt**](/windows/desktop/api/Wingdi/nf-wingdi-bitblt) function.</span></span> <span data-ttu-id="f5aed-147">Beispielsweise könnte eine Multimedia-Anwendung, die animierte Grafiken mit Sound kombiniert, von dem Aufruf der **BitBLT** -Funktion profitieren, da Sie schneller als **SetDIBitsToDevice** ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="f5aed-147">For example, a multimedia application that combines animated graphics with sound would benefit from calling the **BitBlt** function because it executes faster than **SetDIBitsToDevice**.</span></span>

 

 
