---
description: Eine Anwendung erhält einen anzeigen Domänen Controller, indem Sie die Funktion BeginPaint, GetDC oder getdcex aufruft und das Fenster identifiziert, in dem die entsprechende Ausgabe angezeigt wird.
ms.assetid: 8f952d68-ee52-4e63-9f09-80a14c755d31
title: Geräte Kontexte anzeigen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 41d0eeb3055209ad99a6a50fd129f9f9c064bf52
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103754448"
---
# <a name="display-device-contexts"></a><span data-ttu-id="a7491-103">Geräte Kontexte anzeigen</span><span class="sxs-lookup"><span data-stu-id="a7491-103">Display Device Contexts</span></span>

<span data-ttu-id="a7491-104">Eine Anwendung erhält einen anzeigen Domänen Controller, indem Sie die Funktion [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc)oder [**getdcex**](/windows/desktop/api/Winuser/nf-winuser-getdcex) aufruft und das Fenster identifiziert, in dem die entsprechende Ausgabe angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="a7491-104">An application obtains a display DC by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and identifying the window in which the corresponding output will appear.</span></span> <span data-ttu-id="a7491-105">In der Regel erhält eine Anwendung einen anzeigen-DC nur dann, wenn Sie im Client Bereich gezeichnet werden muss.</span><span class="sxs-lookup"><span data-stu-id="a7491-105">Typically, an application obtains a display DC only when it must draw in the client area.</span></span> <span data-ttu-id="a7491-106">Allerdings kann ein [Fenster Gerätekontext](#window-device-contexts) durch Aufrufen der [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) -Funktion abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="a7491-106">However, one may obtain a [window device context](#window-device-contexts) by calling the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) function.</span></span> <span data-ttu-id="a7491-107">Nachdem die Anwendung das Zeichnen abgeschlossen hat, muss Sie den Domänen Controller freigeben, indem Sie die [**endpaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) -oder [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) -Funktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a7491-107">When the application is finished drawing, it must release the DC by calling the [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) or [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="a7491-108">Es gibt fünf Arten von DCS für Video-anzeigen:</span><span class="sxs-lookup"><span data-stu-id="a7491-108">There are five types of DCs for video displays:</span></span>

-   <span data-ttu-id="a7491-109">Klasse</span><span class="sxs-lookup"><span data-stu-id="a7491-109">Class</span></span>
-   <span data-ttu-id="a7491-110">Allgemein</span><span class="sxs-lookup"><span data-stu-id="a7491-110">Common</span></span>
-   <span data-ttu-id="a7491-111">Privat</span><span class="sxs-lookup"><span data-stu-id="a7491-111">Private</span></span>
-   <span data-ttu-id="a7491-112">Fenster</span><span class="sxs-lookup"><span data-stu-id="a7491-112">Window</span></span>
-   <span data-ttu-id="a7491-113">Parent</span><span class="sxs-lookup"><span data-stu-id="a7491-113">Parent</span></span>

## <a name="class-device-contexts"></a><span data-ttu-id="a7491-114">Klassen Geräte Kontexte</span><span class="sxs-lookup"><span data-stu-id="a7491-114">Class Device Contexts</span></span>

<span data-ttu-id="a7491-115">*Klassen Geräte Kontexte* werden ausschließlich für die Kompatibilität mit 16-Bit-Versionen von Windows unterstützt.</span><span class="sxs-lookup"><span data-stu-id="a7491-115">*Class device contexts* are supported strictly for compatibility with 16-bit versions of Windows.</span></span> <span data-ttu-id="a7491-116">Wenn Sie Ihre Anwendung schreiben, sollten Sie die Verwendung des-Klassen Geräte Kontexts vermeiden. Verwenden Sie stattdessen einen privaten Gerätekontext.</span><span class="sxs-lookup"><span data-stu-id="a7491-116">When writing your application, avoid using the class device context; use a private device context instead.</span></span>

## <a name="common-device-contexts"></a><span data-ttu-id="a7491-117">Allgemeine Geräte Kontexte</span><span class="sxs-lookup"><span data-stu-id="a7491-117">Common Device Contexts</span></span>

<span data-ttu-id="a7491-118">*Häufig ausgestellte Geräte Kontexte* werden in einem speziellen Cache vom System verwaltet.</span><span class="sxs-lookup"><span data-stu-id="a7491-118">*Common device contexts* are display DCs maintained in a special cache by the system.</span></span> <span data-ttu-id="a7491-119">Allgemeine Geräte Kontexte werden in Anwendungen verwendet, die seltene Zeichnungsvorgänge ausführen.</span><span class="sxs-lookup"><span data-stu-id="a7491-119">Common device contexts are used in applications that perform infrequent drawing operations.</span></span> <span data-ttu-id="a7491-120">Bevor das System das DC-handle zurückgibt, initialisiert es den gemeinsamen Gerätekontext mit Standardobjekten,-Attributen und-Modi.</span><span class="sxs-lookup"><span data-stu-id="a7491-120">Before the system returns the DC handle, it initializes the common device context with default objects, attributes, and modes.</span></span> <span data-ttu-id="a7491-121">Alle von der Anwendung ausgeführten Zeichnungsvorgänge verwenden diese Standardwerte, es sei denn, eine der GDI-Funktionen wird aufgerufen, um ein neues Objekt auszuwählen, die Attribute eines vorhandenen Objekts zu ändern oder einen neuen Modus auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="a7491-121">Any drawing operations performed by the application use these defaults unless one of the GDI functions is called to select a new object, change the attributes of an existing object, or select a new mode.</span></span>

<span data-ttu-id="a7491-122">Da nur eine begrenzte Anzahl von gängigen Geräte Kontexten vorhanden ist, sollte eine Anwendung Sie nach Abschluss der Zeichnung freigeben.</span><span class="sxs-lookup"><span data-stu-id="a7491-122">Because only a limited number of common device contexts exist, an application should release them after it has finished drawing.</span></span> <span data-ttu-id="a7491-123">Wenn die Anwendung einen gemeinsamen Gerätekontext freigibt, gehen alle Änderungen an den Standarddaten verloren.</span><span class="sxs-lookup"><span data-stu-id="a7491-123">When the application releases a common device context, any changes to the default data are lost.</span></span>

## <a name="private-device-contexts"></a><span data-ttu-id="a7491-124">Private Geräte Kontexte</span><span class="sxs-lookup"><span data-stu-id="a7491-124">Private Device Contexts</span></span>

<span data-ttu-id="a7491-125">*Private Geräte Kontexte* sind DCS, die im Gegensatz zu gemeinsamen Geräte Kontexten Änderungen an den Standarddaten beibehalten, auch nachdem Sie von einer Anwendung freigegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="a7491-125">*Private device contexts* are display DCs that, unlike common device contexts, retain any changes to the default data even after an application releases them.</span></span> <span data-ttu-id="a7491-126">Private Geräte Kontexte werden in Anwendungen verwendet, die zahlreiche Zeichnungsvorgänge ausführen, wie z. b. Anwendungen mit computergestütztem Design (CAD), Desktop Publishing Anwendungen, zeichnen und Zeichnen von Anwendungen usw.</span><span class="sxs-lookup"><span data-stu-id="a7491-126">Private device contexts are used in applications that perform numerous drawing operations such as computer-aided design (CAD) applications, desktop-publishing applications, drawing and painting applications, and so on.</span></span> <span data-ttu-id="a7491-127">Private Geräte Kontexte sind nicht Teil des System Caches und müssen daher nicht nach der Verwendung freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="a7491-127">Private device contexts are not part of the system cache and therefore need not be released after use.</span></span> <span data-ttu-id="a7491-128">Das System entfernt automatisch einen privaten Gerätekontext, nachdem das letzte Fenster dieser Klasse zerstört wurde.</span><span class="sxs-lookup"><span data-stu-id="a7491-128">The system automatically removes a private device context after the last window of that class has been destroyed.</span></span>

<span data-ttu-id="a7491-129">Eine Anwendung erstellt einen privaten Gerätekontext, indem Sie zuerst den Stil der CS \_ -owndc-Fenster Klasse angibt,  Wenn Sie den Formatvorlagen Member der [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) -Struktur initialisiert und die [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) -Funktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="a7491-129">An application creates a private device context by first specifying the CS\_OWNDC window-class style when it initializes the **style** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure and calls the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="a7491-130">(Weitere Informationen zu Fenster Klassen finden Sie unter [Fenster Klassen](../winmsg/window-classes.md).)</span><span class="sxs-lookup"><span data-stu-id="a7491-130">(For more information about window classes, see [Window Classes](../winmsg/window-classes.md).)</span></span>

<span data-ttu-id="a7491-131">Nachdem ein Fenster mit dem CS- \_ owndc-Stil erstellt wurde, kann eine Anwendung die [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc)-, [**getdcex**](/windows/desktop/api/Winuser/nf-winuser-getdcex)-oder [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) -Funktion einmal aufrufen, um ein Handle zu erhalten, das einen privaten Gerätekontext identifiziert.</span><span class="sxs-lookup"><span data-stu-id="a7491-131">After creating a window with the CS\_OWNDC style, an application can call the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex), or [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function once to obtain a handle identifying a private device context.</span></span> <span data-ttu-id="a7491-132">Die Anwendung kann dieses Handle (und den zugeordneten DC) weiter verwenden, bis das mit dieser Klasse erstellte Fenster gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="a7491-132">The application can continue using this handle (and the associated DC) until it deletes the window created with this class.</span></span> <span data-ttu-id="a7491-133">Alle Änderungen an Grafikobjekten und deren Attributen oder Grafikmodi werden vom System beibehalten, bis das Fenster gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="a7491-133">Any changes to graphic objects and their attributes, or graphic modes are retained by the system until the window is deleted.</span></span>

## <a name="window-device-contexts"></a><span data-ttu-id="a7491-134">Fenster Geräte Kontexte</span><span class="sxs-lookup"><span data-stu-id="a7491-134">Window Device Contexts</span></span>

<span data-ttu-id="a7491-135">Mithilfe eines *Fenster Geräte Kontexts* kann eine Anwendung an beliebiger Stelle in einem Fenster gezeichnet werden, einschließlich des nicht-Client Bereichs.</span><span class="sxs-lookup"><span data-stu-id="a7491-135">A *window device context* enables an application to draw anywhere in a window, including the nonclient area.</span></span> <span data-ttu-id="a7491-136">Fenster Geräte Kontexte werden in der Regel von Anwendungen verwendet, die die Nachrichten von [**WM \_ ncpaint**](wm-ncpaint.md) und [**WM \_ ncaktivierungs**](../winmsg/wm-ncactivate.md) für Windows mit benutzerdefinierten nicht-Client-Bereichen verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="a7491-136">Window device contexts are typically used by applications that process the [**WM\_NCPAINT**](wm-ncpaint.md) and [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) messages for windows with custom nonclient areas.</span></span> <span data-ttu-id="a7491-137">Die Verwendung eines Fenster Geräte Kontexts wird für keinen anderen Zweck empfohlen.</span><span class="sxs-lookup"><span data-stu-id="a7491-137">Using a window device context is not recommended for any other purpose.</span></span> <span data-ttu-id="a7491-138">Weitere Informationen finden Sie unter. Weitere Informationen finden Sie unter [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span><span class="sxs-lookup"><span data-stu-id="a7491-138">For more information; see [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span></span>

## <a name="parent-device-contexts"></a><span data-ttu-id="a7491-139">Übergeordnete Geräte Kontexte</span><span class="sxs-lookup"><span data-stu-id="a7491-139">Parent Device Contexts</span></span>

<span data-ttu-id="a7491-140">Mit einem über *geordneten Gerätekontext* kann eine Anwendung die Zeit minimieren, die zum Einrichten des Clippingbereichs für ein Fenster erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="a7491-140">A *parent device context* enables an application to minimize the time necessary to set up the clipping region for a window.</span></span> <span data-ttu-id="a7491-141">Eine Anwendung verwendet in der Regel übergeordnete Geräte Kontexte, um das Zeichnen von Steuerungs Fenstern zu beschleunigen, ohne einen privaten oder Klassen Gerätekontext zu erfordern.</span><span class="sxs-lookup"><span data-stu-id="a7491-141">An application typically uses parent device contexts to speed up drawing for control windows without requiring a private or class device context.</span></span> <span data-ttu-id="a7491-142">Beispielsweise verwendet das System die übergeordneten Geräte Kontexte für die Schaltfläche Push-Schaltfläche und Bearbeitungs Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="a7491-142">For example, the system uses parent device contexts for push button and edit controls.</span></span> <span data-ttu-id="a7491-143">Übergeordnete Geräte Kontexte sind nur für die Verwendung mit untergeordneten Fenstern gedacht, niemals mit den Fenstern der obersten Ebene oder des Popup Fensters.</span><span class="sxs-lookup"><span data-stu-id="a7491-143">Parent device contexts are intended for use with child windows only, never with top-level or pop-up windows.</span></span> <span data-ttu-id="a7491-144">Weitere Informationen finden Sie unter. Siehe über [geordnete Anzeigegeräte Kontexte](parent-display-device-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="a7491-144">For more information; see [Parent Display Device Contexts](parent-display-device-contexts.md).</span></span>

 

 
