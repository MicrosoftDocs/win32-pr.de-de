---
title: Binden mit Verschlüsselung
description: Sensible Daten, die über ein Netzwerk ausgetauscht werden, sollten verschlüsselt werden.
ms.assetid: 51fe2131-5f7d-41b1-ad88-d965cbb4d630
ms.tgt_platform: multiple
keywords:
- ADSI ADSI, using, Bindung mit Verschlüsselung
- Binden mit Verschlüsselung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8cf19747a8356459f4ab50c0aa409f69b58eb224
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "103947356"
---
# <a name="binding-with-encryption"></a><span data-ttu-id="61312-105">Binden mit Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="61312-105">Binding With Encryption</span></span>

<span data-ttu-id="61312-106">Sensible Daten, die über ein Netzwerk ausgetauscht werden, sollten verschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="61312-106">Sensitive data exchanged over a network should be encrypted.</span></span> <span data-ttu-id="61312-107">Um dies zuzulassen, unterstützt ADSI zwei Arten von Verschlüsselung: Kerberos und Secure Sockets Layer (SSL).</span><span class="sxs-lookup"><span data-stu-id="61312-107">To allow this, ADSI supports two types of encryption, Kerberos and Secure Sockets Layer (SSL).</span></span> <span data-ttu-id="61312-108">Beide Verschlüsselungstypen erfordern die Verwendung von [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) oder [**iadsopendsobject:: opendsobject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject) für die Bindung.</span><span class="sxs-lookup"><span data-stu-id="61312-108">Both types of encryption require the use of [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject) for binding.</span></span>

<span data-ttu-id="61312-109">" **GetObject** " und " [**ADsGetObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsgetobject) " können in diesem Fall nicht für die Bindung verwendet werden, da diese Funktionen bewirken, dass die von ADSI verwendeten LDAP-Anforderungen und die vom Verzeichnisserver zurückgegebenen Daten als Klartext über das Netzwerk übertragen werden.</span><span class="sxs-lookup"><span data-stu-id="61312-109">**GetObject** and [**ADsGetObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsgetobject) cannot be used for binding in this case because these functions cause the LDAP requests used by ADSI and the data returned from the directory server to transmit across the network as plaintext.</span></span> <span data-ttu-id="61312-110">Zu Debuggingzwecken ist es hilfreich, die Verschlüsselung zu deaktivieren, sodass die Netzwerkmonitor zum Anzeigen der LDAP-Anforderungen und-Daten zwischen dem Client und dem Verzeichnisserver verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="61312-110">For debugging purposes, it is helpful to turn encryption off so the Network Monitor can be used to view the LDAP requests and data between the client and the directory server.</span></span>

## <a name="kerberos-based-encryption"></a><span data-ttu-id="61312-111">Kerberos-basierte Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="61312-111">Kerberos-based Encryption</span></span>

<span data-ttu-id="61312-112">Wenn Sie die Kerberos-basierte Verschlüsselung verwenden möchten, geben Sie beim Aufrufen von [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) oder [**iadsopendsobject:: opendsobject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject)das Flag zum **\_ \_ versiegeln von anzeigen** an.</span><span class="sxs-lookup"><span data-stu-id="61312-112">To use Kerberos-based encryption, specify the **ADS\_USE\_SEALING** flag when calling [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject).</span></span> <span data-ttu-id="61312-113">Das Flag " **ADS \_ use \_ versiegelt** " kann auch verwendet werden, um die Datenintegrität zu überprüfen, d. h. um sicherzustellen, dass die empfangenen Daten mit den gesendeten Daten identisch sind.</span><span class="sxs-lookup"><span data-stu-id="61312-113">The **ADS\_USE\_SEALING** flag can also be used to verify data integrity, that is, to ensure the data received is the same as the data sent.</span></span> <span data-ttu-id="61312-114">Wenn das Flag für die **Werbeeinblendungen \_ verwendet \_** wird, wird automatisch auch das Flag zum **\_ \_ Signieren von anzeigen** angegeben.</span><span class="sxs-lookup"><span data-stu-id="61312-114">If the **ADS\_USE\_SEALING** flag is specified, the **ADS\_USE\_SIGNING** flag is automatically specified as well.</span></span> <span data-ttu-id="61312-115">Für beide Flags ist die Kerberos-Authentifizierung erforderlich, die nur unter den folgenden Bedingungen funktioniert:</span><span class="sxs-lookup"><span data-stu-id="61312-115">Both flags require Kerberos authentication, which works only under the following conditions:</span></span>

-   <span data-ttu-id="61312-116">Der Client Computer muss bei der Windows-Domäne oder in einer Domäne angemeldet sein, die von einer Windows-Domäne als vertrauenswürdig eingestuft wird.</span><span class="sxs-lookup"><span data-stu-id="61312-116">The client computer must be logged on to the Windows domain, or to a domain trusted by a Windows domain.</span></span>
-   <span data-ttu-id="61312-117">[**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) oder [**iadsopendsobject:: opendsobject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject) muss mit NULL-Anmelde Informationen aufgerufen werden. Das heißt, es können keine alternativen Anmelde Informationen angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="61312-117">[**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject) must be called with null credentials; that is, alternate credentials cannot be specified.</span></span>

## <a name="ssl-based-encryption"></a><span data-ttu-id="61312-118">SSL-basierte Verschlüsselung</span><span class="sxs-lookup"><span data-stu-id="61312-118">SSL-based Encryption</span></span>

<span data-ttu-id="61312-119">Wenn Sie die SSL-basierte Verschlüsselung verwenden möchten, geben Sie beim Aufrufen von [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) oder [**iadsopendsobject:: opendsobject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject)das Flag zum **\_ Verwenden des \_ SSL** -Kennzeichens an.</span><span class="sxs-lookup"><span data-stu-id="61312-119">To use SSL-based encryption, specify the **ADS\_USE\_SSL** flag when calling [**ADsOpenObject**](/windows/desktop/api/Adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/Iads/nf-iads-iadsopendsobject-opendsobject).</span></span> <span data-ttu-id="61312-120">Wenn nur die **ADS \_ \_ SSL** -Flag verwenden angegeben ist, öffnet ADSI den SSL-Port 636 und führt dann eine einfache Bindung über diesen SSL-Kanal aus.</span><span class="sxs-lookup"><span data-stu-id="61312-120">If only the **ADS\_USE\_SSL** flag is specified, ADSI opens SSL port 636 and then performs a simple bind over that SSL channel.</span></span> <span data-ttu-id="61312-121">Wenn die **\_ sichere \_ Authentifizierung** und die Werbung **\_ \_ SSL** -Flags verwenden, ist das Bindungsverhalten vom Client abhängig, von dem der-Befehl stammt.</span><span class="sxs-lookup"><span data-stu-id="61312-121">If both the **ADS\_SECURE\_AUTHENTICATION** and **ADS\_USE\_SSL** flags are specified, the binding behavior depends on the client that the call is made from.</span></span> <span data-ttu-id="61312-122">Bei nicht unterstützten Versionen von Windows öffnet ADSI zuerst einen SSL-Kanal und führt eine einfache Bindung mit dem angegebenen Benutzernamen und Kennwort oder dem aktuellen Benutzer Kontext durch, wenn sowohl der Benutzername als auch das Kennwort NULL sind.</span><span class="sxs-lookup"><span data-stu-id="61312-122">On unsupported versions of Windows, ADSI first opened an SSL channel and performs a simple bind using the specified user name and password or the current user context if both user name and password are null.</span></span> <span data-ttu-id="61312-123">Unter den unterstützten Versionen von Windows führt ADSI eine sichere Authentifizierung anstelle einer einfachen Bindung aus.</span><span class="sxs-lookup"><span data-stu-id="61312-123">On supported versions of Windows, ADSI performs a secure authentication rather than a simple bind.</span></span>

<span data-ttu-id="61312-124">Zur Verwendung der SSL-basierten Verschlüsselung bei der Kommunikation mit Active Directory muss Active Directory die Public Key-Infrastruktur (PKI) aktivieren.</span><span class="sxs-lookup"><span data-stu-id="61312-124">To use SSL-based encryption while communicating with Active Directory, Active Directory must have enabled Public Key Infrastructure (PKI).</span></span> <span data-ttu-id="61312-125">PKI kann aktiviert werden, indem Sie eine Unternehmens Zertifizierungsstelle auf einem der Server in Active Directory einrichten, einschließlich eines der Active Directory Server selbst.</span><span class="sxs-lookup"><span data-stu-id="61312-125">PKI can be enabled by setting up an enterprise certification authority on one of the servers in Active Directory, including one of the Active Directory servers itself.</span></span> <span data-ttu-id="61312-126">Das Einrichten einer Unternehmens Zertifizierungsstelle bewirkt, dass ein Active Directory Server ein Serverzertifikat erhält, das dann für die SSL-basierte Verschlüsselung verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="61312-126">Setting up an enterprise certification authority causes an Active Directory server to get a server certificate that can then be used to do SSL-based encryption.</span></span>

 

 




