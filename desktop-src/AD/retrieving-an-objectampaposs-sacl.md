---
title: Abrufen der SACL eines Objekts
description: Die Sicherheits Beschreibung eines Objekts in Active Directory Domain Services kann eine SACL (System Access-Control List) enthalten.
ms.assetid: b1da91a2-d9b0-48a3-9de5-1e588209032d
ms.tgt_platform: multiple
keywords:
- SACL-AD
- SACL AD, Abrufen der SACL eines Objekts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 537846f2080aecdab8e22f5fce5bdfa36298fb74
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/17/2020
ms.locfileid: "104314612"
---
# <a name="retrieving-an-objects-sacl"></a><span data-ttu-id="2d7e5-105">Abrufen der SACL eines Objekts</span><span class="sxs-lookup"><span data-stu-id="2d7e5-105">Retrieving an Object's SACL</span></span>

<span data-ttu-id="2d7e5-106">Die Sicherheits Beschreibung eines Objekts in Active Directory Domain Services kann eine SACL (System Access-Control List) enthalten.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-106">The security descriptor of an object in Active Directory Domain Services may contain a system access-control list (SACL).</span></span> <span data-ttu-id="2d7e5-107">Eine SACL enthält Zugriffs Steuerungs Einträge (Access Control Entries, ACEs), die die Typen der Zugriffsversuche angeben, mit denen Überwachungsdaten Sätze im Sicherheits Ereignisprotokoll eines Domänen Controllers generiert werden.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-107">A SACL contains access-control entries (ACEs) that specify the types of access attempts that generate audit records in the security event log of a domain controller.</span></span> <span data-ttu-id="2d7e5-108">Beachten Sie, dass eine SACL Protokolleinträge nur auf dem Domänen Controller generiert, auf dem der Zugriffs Versuch aufgetreten ist, nicht auf allen Domänen Controllern, die ein Replikat des Objekts enthalten.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-108">Be aware that a SACL generates log entries only on the domain controller where the access attempt occurred, not on every DC that contains a replica of the object.</span></span>

<span data-ttu-id="2d7e5-109">Um die SACL aus einer Objekt Sicherheits Beschreibung festzulegen oder zu erhalten, muss die Berechtigung " **SE \_ Security \_ Name** " im Zugriffs Token des anfordernden Threads aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-109">To set or get the SACL from an object security descriptor, the **SE\_SECURITY\_NAME** privilege must be enabled in the access token of the requesting thread.</span></span> <span data-ttu-id="2d7e5-110">Die Administratoren Gruppe verfügt standardmäßig über diese Berechtigung und kann anderen Benutzern oder Gruppen zugewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-110">The administrators group has this privilege by default, and it can be assigned to other users or groups.</span></span> <span data-ttu-id="2d7e5-111">Weitere Informationen finden Sie unter [SACL-Zugriffsrecht](/windows/desktop/SecAuthZ/sacl-access-right).</span><span class="sxs-lookup"><span data-stu-id="2d7e5-111">For more information, see [SACL Access Right](/windows/desktop/SecAuthZ/sacl-access-right).</span></span>

<span data-ttu-id="2d7e5-112">Um die SACL eines Verzeichnis Objekts zu erhalten und festzulegen, verwenden Sie die [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-112">To get and set the SACL of a directory object, use the [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) interface.</span></span> <span data-ttu-id="2d7e5-113">Mithilfe von C++ gibt die [**IADsSecurityDescriptor:: get \_ SystemAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) -Methode einen [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) -Zeiger zurück.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-113">Using C++, the [**IADsSecurityDescriptor::get\_SystemAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) method returns an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer.</span></span> <span data-ttu-id="2d7e5-114">Aufrufen von **QueryInterface** für diesen **IDispatch** -Zeiger, um eine [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) -Schnittstelle abzurufen, und verwenden die Methoden für diese Schnittstelle, um auf die einzelnen ACEs in der SACL zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-114">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) interface, and use the methods on that interface to access the individual ACEs in the SACL.</span></span> <span data-ttu-id="2d7e5-115">Weitere Informationen zur Vorgehensweise beim Ändern einer SACL, die dem zum Ändern einer DACL ähnelt, finden Sie unter [Festlegen von Zugriffsrechten für ein Objekt](setting-access-rights-on-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="2d7e5-115">For more information about the procedure for modifying a SACL, which is similar to that for modifying a DACL, see [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>

<span data-ttu-id="2d7e5-116">Um die ACEs in einer SACL aufzulisten, verwenden Sie die [**IADsAccessControlList:: get \_ \_ NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) -Methode, die einen [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) -Zeiger zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-116">To enumerate the ACEs in a SACL, use the [**IADsAccessControlList::get\_\_NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) method, which returns an [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) pointer.</span></span> <span data-ttu-id="2d7e5-117">Ruft **QueryInterface** für diesen **IUnknown** -Zeiger auf, um eine [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) -Schnittstelle zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-117">Call **QueryInterface** on that **IUnknown** pointer to get an [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) interface.</span></span> <span data-ttu-id="2d7e5-118">Verwenden Sie die [**IEnumVARIANT:: Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) -Methode, um die ACEs in der ACL aufzuzählen.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-118">Use the [**IEnumVARIANT::Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) method to enumerate the ACEs in the ACL.</span></span> <span data-ttu-id="2d7e5-119">Jeder ACE wird als **Variant** zurückgegeben, der einen [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) -Zeiger enthält. Beachten Sie, dass das **VT** -Element **VT \_ Dispatch** ist.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-119">Each ACE is returned as a **VARIANT** that contains an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer; be aware that the **vt** member is **VT\_DISPATCH**.</span></span> <span data-ttu-id="2d7e5-120">Ruft **QueryInterface** für diesen **IDispatch** -Zeiger auf, um eine [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) -Schnittstelle für den ACE zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-120">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) interface for the ACE.</span></span> <span data-ttu-id="2d7e5-121">Verwenden Sie die **IADsAccessControlEntry** -Schnittstellen Methoden, um die Komponenten eines ACE festzulegen oder zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="2d7e5-121">Use the **IADsAccessControlEntry** interface methods to set or get the components of an ACE.</span></span>

<span data-ttu-id="2d7e5-122">Weitere Informationen zu SACLs finden Sie unter:</span><span class="sxs-lookup"><span data-stu-id="2d7e5-122">For more information about SACLs, see:</span></span>

-   [<span data-ttu-id="2d7e5-123">Zugriffs Steuerungs Listen (ACLs)</span><span class="sxs-lookup"><span data-stu-id="2d7e5-123">Access-Control Lists (ACLs)</span></span>](/windows/desktop/SecAuthZ/access-control-lists)
-   [<span data-ttu-id="2d7e5-124">Generierung von Überwachungsdatensätzen</span><span class="sxs-lookup"><span data-stu-id="2d7e5-124">Audit Generation</span></span>](/windows/desktop/SecAuthZ/audit-generation)

 

 