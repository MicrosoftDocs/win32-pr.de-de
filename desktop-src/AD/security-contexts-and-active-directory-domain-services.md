---
title: Sicherheits Kontexte und Active Directory Domain Services
description: Wenn eine Anwendung an einen Active Directory-Domäne Controller (DC) gebunden wird, wird dies im Sicherheitskontext eines Sicherheits Prinzipals durchführt, bei dem es sich um einen Benutzer oder eine Entität (z. b. einen Computer oder einen Systemdienst) handeln kann.
ms.assetid: 7ad0acbe-f81b-46d6-be87-3526b0bfbd1b
ms.tgt_platform: multiple
keywords:
- Active Directory Active Directory, Sicherheits Kontexte
- Sicherheits Kontexte Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c337cb05f8158dbb90f231652c42fb10a486aef4
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/17/2020
ms.locfileid: "104038732"
---
# <a name="security-contexts-and-active-directory-domain-services"></a><span data-ttu-id="1d662-105">Sicherheits Kontexte und Active Directory Domain Services</span><span class="sxs-lookup"><span data-stu-id="1d662-105">Security Contexts and Active Directory Domain Services</span></span>

<span data-ttu-id="1d662-106">Wenn eine Anwendung an einen Active Directory-Domäne Controller (DC) gebunden wird, wird dies im Sicherheitskontext eines Sicherheits Prinzipals durchführt, bei dem es sich um einen Benutzer oder eine Entität (z. b. einen Computer oder einen Systemdienst) handeln kann.</span><span class="sxs-lookup"><span data-stu-id="1d662-106">When an application binds to an Active Directory Domain Controller (DC), it does so in the security context of a security principal, which can be a user or an entity such as a computer or a system service.</span></span> <span data-ttu-id="1d662-107">Der Sicherheitskontext ist das Benutzerkonto, das vom System zum Erzwingen der Sicherheit verwendet wird, wenn ein Thread versucht, auf ein Sicherungs fähiges Objekt zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="1d662-107">The security context is the user account that the system uses to enforce security when a thread attempts to access a securable object.</span></span> <span data-ttu-id="1d662-108">Diese Daten umfassen die Benutzer Sicherheits-ID (SID), Gruppenmitgliedschaften und Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="1d662-108">This data includes the user security identifier (SID), group memberships, and privileges.</span></span>

<span data-ttu-id="1d662-109">Ein Benutzer legt einen Sicherheitskontext fest, indem Anmelde Informationen für die Authentifizierung vorgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="1d662-109">A user establishes a security context by presenting credentials for authentication.</span></span> <span data-ttu-id="1d662-110">Wenn die Anmelde Informationen authentifiziert werden, erstellt das System ein Zugriffs Token, das die Gruppenmitgliedschaften und Berechtigungen identifiziert, die dem Benutzerkonto zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="1d662-110">If the credentials are authenticated, the system produces an access token that identifies the group memberships and privileges associated with the user account.</span></span> <span data-ttu-id="1d662-111">Das System überprüft das Zugriffs Token, wenn Sie versuchen, auf ein Verzeichnis Objekt zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="1d662-111">The system verifies your access token when you attempt to access a directory object.</span></span> <span data-ttu-id="1d662-112">Sie vergleicht die Daten in Ihrem Zugriffs Token mit den Konten und Gruppen, denen der Zugriff durch die Objekt Sicherheits Beschreibung erteilt oder verweigert wird.</span><span class="sxs-lookup"><span data-stu-id="1d662-112">It compares the data in your access token to the accounts and groups granted or denied access by the object security descriptor.</span></span>

<span data-ttu-id="1d662-113">Verwenden Sie die folgenden Methoden, um den Sicherheitskontext zu steuern, mit dem Sie eine Bindung an einen Active Directory DC herstellen:</span><span class="sxs-lookup"><span data-stu-id="1d662-113">Use the following methods to control the security context with which you bind to an Active Directory DC:</span></span>

-   <span data-ttu-id="1d662-114">Binden Sie mithilfe der **AD \_ Secure \_ Authentication** -Option mit der [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) -Funktion oder der [**iadsopendsobject:: opendsobject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) -Methode, und geben Sie explizit einen Benutzernamen und ein Kennwort an.</span><span class="sxs-lookup"><span data-stu-id="1d662-114">Bind using the **ADS\_SECURE\_AUTHENTICATION** option with the [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) function or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) method and explicitly specify a user name and password.</span></span> <span data-ttu-id="1d662-115">Diese Anmelde Informationen werden vom System authentifiziert, und es wird ein Zugriffs Token generiert, das für die Dauer der Bindung für die Zugriffs Überprüfung verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1d662-115">The system authenticates these credentials and generates an access token that it uses for access verification for the duration of that binding.</span></span> <span data-ttu-id="1d662-116">Weitere Informationen finden Sie unter [Authentifizierung](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="1d662-116">For more information, see [Authentication](authentication.md).</span></span>
-   <span data-ttu-id="1d662-117">Binden Sie mithilfe **der \_ sicheren \_ Authentifizierungs Option ADS** , aber ohne Angabe von Anmelde Informationen.</span><span class="sxs-lookup"><span data-stu-id="1d662-117">Bind using the **ADS\_SECURE\_AUTHENTICATION** option, but without specifying credentials.</span></span> <span data-ttu-id="1d662-118">Wenn Sie keine Identität eines Benutzers annehmen, verwendet das System den primären Sicherheitskontext Ihrer Anwendung, d. h. den Sicherheitskontext des Benutzers, der die Anwendung gestartet hat.</span><span class="sxs-lookup"><span data-stu-id="1d662-118">If you are not impersonating a user, the system uses the primary security context of your application, that is, the security context of the user who started your application.</span></span> <span data-ttu-id="1d662-119">Bei einem Systemdienst handelt es sich hierbei um den Sicherheitskontext des Dienst Kontos oder des Kontos LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="1d662-119">In the case of a system service, this is the security context of the service account or the LocalSystem account.</span></span>
-   <span data-ttu-id="1d662-120">Nimmt die Identität eines Benutzers an und bindet dann die **\_ sichere \_ Authentifizierung mit ADS** ein, ohne Anmelde Informationen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="1d662-120">Impersonate a user and then bind with **ADS\_SECURE\_AUTHENTICATION**, but without specifying credentials.</span></span> <span data-ttu-id="1d662-121">In diesem Fall verwendet das System den Sicherheitskontext des Clients, dessen Identität angenommen wird.</span><span class="sxs-lookup"><span data-stu-id="1d662-121">In this case, the system uses the security context of the client that is impersonated.</span></span> <span data-ttu-id="1d662-122">Weitere Informationen finden Sie unter [Client](/windows/desktop/SecAuthZ/client-impersonation)Identitätswechsel.</span><span class="sxs-lookup"><span data-stu-id="1d662-122">For more information, see [Client Impersonation](/windows/desktop/SecAuthZ/client-impersonation).</span></span>
-   <span data-ttu-id="1d662-123">Binden Sie mithilfe von [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) oder [**iadsopendsobject:: opendsobject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) mit der Option **ADS \_ No \_ Authentication** .</span><span class="sxs-lookup"><span data-stu-id="1d662-123">Bind using [**ADsOpenObject**](/windows/desktop/api/adshlp/nf-adshlp-adsopenobject) or [**IADsOpenDSObject::OpenDSObject**](/windows/desktop/api/iads/nf-iads-iadsopendsobject-opendsobject) with the **ADS\_NO\_AUTHENTICATION** option.</span></span> <span data-ttu-id="1d662-124">Diese Methode bindet ohne Authentifizierung und führt zu "jeder" als Sicherheitskontext.</span><span class="sxs-lookup"><span data-stu-id="1d662-124">This method binds without authentication and results in "Everyone" as the security context.</span></span> <span data-ttu-id="1d662-125">Diese Option wird nur vom LDAP-Anbieter unterstützt.</span><span class="sxs-lookup"><span data-stu-id="1d662-125">Only the LDAP provider supports this option.</span></span>

<span data-ttu-id="1d662-126">Binden Sie, wenn möglich, ohne Angabe von Anmelde Informationen.</span><span class="sxs-lookup"><span data-stu-id="1d662-126">If possible, bind without specifying credentials.</span></span> <span data-ttu-id="1d662-127">Das heißt, verwenden Sie den Sicherheitskontext des angemeldeten Benutzers oder des Clients, dessen Identität angenommen wurde.</span><span class="sxs-lookup"><span data-stu-id="1d662-127">That is, use the security context of the logged-on user or the impersonated client.</span></span> <span data-ttu-id="1d662-128">Dadurch können Sie das Zwischenspeichern von Anmelde Informationen vermeiden.</span><span class="sxs-lookup"><span data-stu-id="1d662-128">This enables you to avoid caching credentials.</span></span> <span data-ttu-id="1d662-129">Wenn Sie alternative Benutzer Anmelde Informationen verwenden müssen, fordern Sie die Anmelde Informationen an, binden Sie Sie ein, aber nicht zwischenspeichern.</span><span class="sxs-lookup"><span data-stu-id="1d662-129">If you must use alternate user credentials, prompt for the credentials, bind with them, but do not cache them.</span></span> <span data-ttu-id="1d662-130">Wenn Sie in mehreren Bindungs Vorgängen denselben Sicherheitskontext verwenden möchten, können Sie den Benutzernamen und das Kennwort für den ersten Bindungs Vorgang angeben und dann nur den Benutzernamen angeben, um nachfolgende Bindungen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="1d662-130">To use the same security context in multiple bind operations, you can specify the user name and password for the first bind operation and then specify only the user name to make subsequent binds.</span></span> <span data-ttu-id="1d662-131">Weitere Informationen zur Verwendung dieser Technik finden Sie unter [Authentifizierung](authentication.md).</span><span class="sxs-lookup"><span data-stu-id="1d662-131">For more information about using this technique, see [Authentication](authentication.md).</span></span>

<span data-ttu-id="1d662-132">Einige Sicherheits Kontexte sind leistungsfähiger als andere.</span><span class="sxs-lookup"><span data-stu-id="1d662-132">Some security contexts are more powerful than others.</span></span> <span data-ttu-id="1d662-133">Beispielsweise hat das LocalSystem-Konto auf einem Domänen Controller vollen Zugriff auf Active Directory Domain Services, wohingegen ein typischer Benutzer nur begrenzten Zugriff auf einige der Objekte im Verzeichnis hat.</span><span class="sxs-lookup"><span data-stu-id="1d662-133">For example, the LocalSystem account on a domain controller has complete access to Active Directory Domain Services, whereas a typical user has only limited access to a some of the objects in the directory.</span></span> <span data-ttu-id="1d662-134">Im Allgemeinen sollte die Anwendung nicht in einem leistungsfähigen Sicherheitskontext wie "LocalSystem" ausgeführt werden, wenn ein weniger leistungsfähiger Sicherheitskontext für die Ausführung der Vorgänge ausreicht.</span><span class="sxs-lookup"><span data-stu-id="1d662-134">In general, your application should not run in a powerful security context, such as LocalSystem, when a less powerful security context is sufficient to perform the operations.</span></span> <span data-ttu-id="1d662-135">Dies bedeutet, dass Sie die Anwendung in separate Komponenten aufteilen möchten, die jeweils in einem Sicherheitskontext ausgeführt werden, der für die auszuführenden Vorgänge geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="1d662-135">This means that you may want to divide your application into separate components, each of which runs in a security context appropriate to the operations to perform.</span></span> <span data-ttu-id="1d662-136">Beispielsweise kann das Setup der Anwendung wie folgt aufgeteilt werden:</span><span class="sxs-lookup"><span data-stu-id="1d662-136">For example, your application setup can be divided as follows:</span></span>

-   <span data-ttu-id="1d662-137">Ausführen von Schema Änderungen und Erweiterungen im Kontext eines Benutzers, der Mitglied der Gruppe "Schema Administratoren" ist.</span><span class="sxs-lookup"><span data-stu-id="1d662-137">Perform schema changes and extensions in the context of a user who is a member of the Schema Administrators group.</span></span>
-   <span data-ttu-id="1d662-138">Führen Sie Konfigurations Container Änderungen im Kontext eines Benutzers durch, der Mitglied der Gruppe "Unternehmens Administratoren" ist.</span><span class="sxs-lookup"><span data-stu-id="1d662-138">Perform configuration container changes in the context of a user who is a member of the Enterprise Administrators group.</span></span>
-   <span data-ttu-id="1d662-139">Ausführen von Domänen Container Änderungen im Kontext eines Benutzers, der Mitglied der Gruppe "Domänen Administratoren" ist.</span><span class="sxs-lookup"><span data-stu-id="1d662-139">Perform domain container changes in the context of a user who is a member of the Domain Administrators group.</span></span>

 

 