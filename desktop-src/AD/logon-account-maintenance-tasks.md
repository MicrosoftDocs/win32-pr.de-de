---
title: Wartungs Tasks für Anmeldekonten
description: In diesem Thema werden Probleme beschrieben, die sich auf Anmelde Konto-Wartungsaufgaben beziehen.
ms.assetid: 528be433-58ef-400b-ba9a-d114f3f94ec6
ms.tgt_platform: multiple
keywords:
- Anmelde Konto-Wartungs Tasks anzeigen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa0f11f69d9a974fd666871833029eda0e059329
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/17/2020
ms.locfileid: "104390122"
---
# <a name="logon-account-maintenance-tasks"></a><span data-ttu-id="918a2-104">Wartungs Tasks für Anmeldekonten</span><span class="sxs-lookup"><span data-stu-id="918a2-104">Logon Account Maintenance Tasks</span></span>

<span data-ttu-id="918a2-105">In diesem Thema werden Probleme beschrieben, die sich auf Anmelde Konto-Wartungsaufgaben beziehen.</span><span class="sxs-lookup"><span data-stu-id="918a2-105">This topic describes issues that pertain to logon account maintenance tasks.</span></span>

<span data-ttu-id="918a2-106">Es gibt zwei primäre Probleme, die sich auf Anmelde Konto-Wartungsaufgaben beziehen:</span><span class="sxs-lookup"><span data-stu-id="918a2-106">There are two primary issues that concern logon account maintenance tasks:</span></span>

-   <span data-ttu-id="918a2-107">Aktualisieren des Konto Kennworts für eine Dienst Instanz, die unter einem Benutzerkonto ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="918a2-107">Updating the account password for a service instance that runs under a user account.</span></span> <span data-ttu-id="918a2-108">Weitere Informationen finden Sie unter [Ändern des Kennworts für das Benutzerkonto eines Dienstanbieter](changing-the-password-on-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="918a2-108">For more information, see [Changing the Password on a Service's User Account](changing-the-password-on-a-serviceampaposs-user-account.md).</span></span>
-   <span data-ttu-id="918a2-109">Behandeln von Änderungen am Anmelde Konto einer Dienst Instanz.</span><span class="sxs-lookup"><span data-stu-id="918a2-109">Handling changes to the logon account of a service instance.</span></span>

<span data-ttu-id="918a2-110">Letzteres ist ein seltener Fall, kann aber eintreten.</span><span class="sxs-lookup"><span data-stu-id="918a2-110">The latter is a rare case, but can happen.</span></span> <span data-ttu-id="918a2-111">Das System stellt das Verwaltungs Tool "Computer Verwaltung" bereit, das eine Änderung an einem Dienst Anmelde Konto ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="918a2-111">The system provides the Computer Management administrative tool that enables change to a service logon account.</span></span> <span data-ttu-id="918a2-112">Außerdem können andere Anwendungen die [**ChangeServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfiga) -Funktion verwenden, um ein neues Anmelde Konto für einen installierten Dienst anzugeben.</span><span class="sxs-lookup"><span data-stu-id="918a2-112">In addition, other applications can use the [**ChangeServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfiga) function to specify a new logon account for an installed service.</span></span> <span data-ttu-id="918a2-113">Standardmäßig sind lokale Administratorrechte erforderlich, um ein Dienst Konto zu ändern.</span><span class="sxs-lookup"><span data-stu-id="918a2-113">By default, local administrator privileges are required to change a service account.</span></span> <span data-ttu-id="918a2-114">Wenn dies der Fall ist, kann sich dies auf zwei Arten auf den Dienst auswirken:</span><span class="sxs-lookup"><span data-stu-id="918a2-114">If this did happen, it could affect your service in two ways:</span></span>

-   <span data-ttu-id="918a2-115">Wenn Sie Dienst Prinzipal Namen (Service Principal Names, SPNs) registriert haben, werden Sie auf dem falschen Konto registriert.</span><span class="sxs-lookup"><span data-stu-id="918a2-115">If you have registered service principal names (SPNs), they will be registered on the wrong account.</span></span>
-   <span data-ttu-id="918a2-116">Wenn Sie ACEs festlegen, um Zugriff auf den Dienst zu gewähren, gewähren Sie dem Konto nun Zugriff auf das falsche Konto.</span><span class="sxs-lookup"><span data-stu-id="918a2-116">If you set ACEs to grant access to the service, they would now grant access to the wrong account.</span></span>

<span data-ttu-id="918a2-117">Ein Ansatz besteht darin, dass der Dienst Installationsprogramm die registrierten SPNs für jede Dienst Instanz in der Registrierung auf dem Host Computer speichert.</span><span class="sxs-lookup"><span data-stu-id="918a2-117">One approach is to have the service installer store the registered SPNs for each service instance in the registry on the host computer.</span></span> <span data-ttu-id="918a2-118">Sie können den gleichen Registrierungsschlüssel unter HKEY \_ local \_ Machine verwenden, den Sie zum Speichern der Bindungs Zeichenfolge für den Dienst-SCP verwendet haben.</span><span class="sxs-lookup"><span data-stu-id="918a2-118">You could use the same registry key under HKEY\_LOCAL\_MACHINE that you used to store the binding string for the service SCP.</span></span> <span data-ttu-id="918a2-119">Beim Starten des Diensts wird die Funktion [**QueryServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-queryserviceconfiga) aufgerufen, um das Anmelde Konto zu ermitteln. Anschließend wird der Active Directory Server abgefragt, um zu bestimmen, ob die SPNs für das Verzeichnis Objekt für dieses Konto registriert sind.</span><span class="sxs-lookup"><span data-stu-id="918a2-119">When the service starts, it calls the [**QueryServiceConfig**](/windows/desktop/api/winsvc/nf-winsvc-queryserviceconfiga) function to determine its logon account and then queries the Active Directory server to determine whether the SPNs are registered on the directory object for that account.</span></span> <span data-ttu-id="918a2-120">Wenn die SPNs nicht registriert sind oder beim falschen Konto registriert sind, lehnt der Dienst ab und zeigt eine Meldung an, die besagt, dass ein Domänen Administrator das Konfigurationsprogramm des Diensts ausführen muss, um die Anmelde Kontoeinstellungen zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="918a2-120">If the SPNs are not registered, or are registered on the wrong account, the service refuses to start and displays a message saying that a domain administrator must run the service's configuration program to update the logon account settings.</span></span> <span data-ttu-id="918a2-121">Beachten Sie, dass diese Neukonfiguration von einem Administrator abgeschlossen werden muss, da das Dienst Konto keinen Zugriff zum Aktualisieren seines eigenen SPN haben sollte.</span><span class="sxs-lookup"><span data-stu-id="918a2-121">Be aware that this reconfiguration must be completed by an administrator because the service account should not have access to update its own SPN.</span></span> <span data-ttu-id="918a2-122">Beachten Sie auch, dass SPNs aus dem alten Konto entfernt werden müssen. andernfalls sind die SPNs für die Authentifizierung nutzlos, da Sie in der Gesamtstruktur nicht eindeutig sind.</span><span class="sxs-lookup"><span data-stu-id="918a2-122">Also be aware that SPNs must be removed from the old account, otherwise the SPNs will be useless for authentication because they are not unique in the forest.</span></span>

 

 