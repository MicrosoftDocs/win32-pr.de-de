---
title: Abrufen der DACL eines Objekts
description: Die Sicherheits Beschreibung eines Objekts kann eine freigegebene Zugriffs Steuerungs Liste (DACL) enthalten.
ms.assetid: 93b16094-9923-4886-804f-4e989fbf6977
ms.tgt_platform: multiple
keywords:
- DACL-AD
- DACL-AD, Abrufen der DACL eines Objekts
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3db74cb235b5cb322f0edf3dc4cfb32f50b4c00c
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/17/2020
ms.locfileid: "104314607"
---
# <a name="retrieving-an-objects-dacl"></a><span data-ttu-id="86660-105">Abrufen der DACL eines Objekts</span><span class="sxs-lookup"><span data-stu-id="86660-105">Retrieving an Object's DACL</span></span>

<span data-ttu-id="86660-106">Die Sicherheits Beschreibung eines Objekts kann eine freigegebene Zugriffs Steuerungs Liste (DACL) enthalten.</span><span class="sxs-lookup"><span data-stu-id="86660-106">An object's security descriptor may contain a discretionary access-control list (DACL).</span></span> <span data-ttu-id="86660-107">Eine DACL enthält NULL oder mehr Zugriffs Steuerungs Einträge (ACEs), mit denen die Benutzer und Gruppen identifiziert werden, die auf das Objekt zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="86660-107">A DACL contains zero or more access-control entries (ACEs) that identify the users and groups who can access the object.</span></span> <span data-ttu-id="86660-108">Wenn eine DACL leer ist (d. h., Sie enthält NULL-ACEs), wird kein Zugriff explizit erteilt, sodass der Zugriff implizit verweigert wird.</span><span class="sxs-lookup"><span data-stu-id="86660-108">If a DACL is empty (that is, it contains zero ACEs), no access is explicitly granted, so access is implicitly denied.</span></span> <span data-ttu-id="86660-109">Wenn die Sicherheits Beschreibung eines Objekts jedoch nicht über eine DACL verfügt, ist das Objekt nicht geschützt, und jeder Benutzer verfügt über vollständigen Zugriff.</span><span class="sxs-lookup"><span data-stu-id="86660-109">However, if an object's security descriptor does not have a DACL, the object is unprotected and everyone has complete access.</span></span>

<span data-ttu-id="86660-110">Zum Abrufen der DACL eines Objekts müssen Sie der Besitzer des Objekts sein oder über **Lesezugriff \_** auf das Objekt verfügen.</span><span class="sxs-lookup"><span data-stu-id="86660-110">To retrieve an object's DACL, you must be the object's owner or have **READ\_CONTROL** access to the object.</span></span>

<span data-ttu-id="86660-111">Verwenden Sie die [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) -Schnittstelle, um die DACL eines Verzeichnis Objekts zu erhalten und festzulegen.</span><span class="sxs-lookup"><span data-stu-id="86660-111">To get and set the DACL of a directory object, use the [**IADsSecurityDescriptor**](/windows/desktop/api/iads/nn-iads-iadssecuritydescriptor) interface.</span></span> <span data-ttu-id="86660-112">Mithilfe von C++ gibt die [**IADsSecurityDescriptor:: get \_ diskretionaryacl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) -Methode einen [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) -Zeiger zurück.</span><span class="sxs-lookup"><span data-stu-id="86660-112">Using C++, the [**IADsSecurityDescriptor::get\_DiscretionaryAcl**](/windows/desktop/ADSI/iadssecuritydescriptor-property-methods) method returns an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer.</span></span> <span data-ttu-id="86660-113">Aufrufen von **QueryInterface** für diesen **IDispatch** -Zeiger zum Abrufen einer [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) -Schnittstelle und Verwenden der Methoden für diese Schnittstelle für den Zugriff auf die einzelnen ACEs in der DACL.</span><span class="sxs-lookup"><span data-stu-id="86660-113">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlList**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrollist) interface, and use the methods on that interface to access the individual ACEs in the DACL.</span></span> <span data-ttu-id="86660-114">Die Vorgehensweise zum Ändern einer DACL ist unter [Festlegen von Zugriffsrechten für ein Objekt](setting-access-rights-on-an-object.md)beschrieben.</span><span class="sxs-lookup"><span data-stu-id="86660-114">The procedure for modifying a DACL is described in [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>

<span data-ttu-id="86660-115">Um die ACEs aufzulisten, verwenden Sie die [**IADsAccessControlList:: get \_ \_ NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) -Methode.</span><span class="sxs-lookup"><span data-stu-id="86660-115">To enumerate the ACEs, use the [**IADsAccessControlList::get\_\_NewEnum**](/windows/desktop/api/iads/nf-iads-iadsaccesscontrollist-get__newenum) method.</span></span> <span data-ttu-id="86660-116">Die Methode gibt einen [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) -Zeiger zurück.</span><span class="sxs-lookup"><span data-stu-id="86660-116">The method returns an [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) pointer.</span></span> <span data-ttu-id="86660-117">Ruft **QueryInterface** für diesen **IUnknown** -Zeiger auf, um eine [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) -Schnittstelle zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="86660-117">Call **QueryInterface** on that **IUnknown** pointer to get an [**IEnumVARIANT**](/windows/win32/api/oaidl/nn-oaidl-ienumvariant) interface.</span></span> <span data-ttu-id="86660-118">Verwenden Sie die [**IEnumVARIANT:: Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) -Methode, um die ACEs in der ACL aufzuzählen.</span><span class="sxs-lookup"><span data-stu-id="86660-118">Use the [**IEnumVARIANT::Next**](/windows/win32/api/oaidl/nf-oaidl-ienumvariant-next) method to enumerate the ACEs in the ACL.</span></span> <span data-ttu-id="86660-119">Jeder ACE wird als **Variant** zurückgegeben, der einen [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) -Zeiger enthält (das **VT** -Element ist **VT \_ Dispatch**).</span><span class="sxs-lookup"><span data-stu-id="86660-119">Each ACE is returned as a **VARIANT** containing an [**IDispatch**](/windows/win32/api/oaidl/nn-oaidl-idispatch) pointer (the **vt** member is **VT\_DISPATCH**).</span></span> <span data-ttu-id="86660-120">Ruft **QueryInterface** für diesen **IDispatch** -Zeiger auf, um eine [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) -Schnittstelle für den ACE zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="86660-120">Call **QueryInterface** on that **IDispatch** pointer to get an [**IADsAccessControlEntry**](/windows/desktop/api/iads/nn-iads-iadsaccesscontrolentry) interface for the ACE.</span></span> <span data-ttu-id="86660-121">Sie können die Methoden der **IADsAccessControlEntry** -Schnittstelle verwenden, um die Komponenten eines ACE festzulegen oder abzurufen.</span><span class="sxs-lookup"><span data-stu-id="86660-121">You can use the methods of the **IADsAccessControlEntry** interface to set or retrieve the components of an ACE.</span></span>

<span data-ttu-id="86660-122">Weitere Informationen zu DACLs und ACEs finden Sie in den folgenden Themen im Platform Software Development Kit (SDK).</span><span class="sxs-lookup"><span data-stu-id="86660-122">For more information about DACLs and ACEs, see the following topics in the Platform Software Development Kit (SDK).</span></span>

-   [<span data-ttu-id="86660-123">Zugriffs Steuerungs Listen (ACLs)</span><span class="sxs-lookup"><span data-stu-id="86660-123">Access-Control Lists (ACLs)</span></span>](/windows/desktop/SecAuthZ/access-control-lists)
-   [<span data-ttu-id="86660-124">Zugriffs Steuerungs Einträge (ACEs)</span><span class="sxs-lookup"><span data-stu-id="86660-124">Access-Control Entries (ACEs)</span></span>](/windows/desktop/SecAuthZ/access-control-entries)

 

 