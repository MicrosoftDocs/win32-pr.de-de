---
title: Informationen zu Dienst Anmeldekonten
description: Wenn ein Win32-basierter Dienst gestartet wird, meldet er sich am lokalen Computer an.
ms.assetid: 637ad0c0-118f-43e8-9d21-a93f6886f546
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 328b33d5dab36ccc5a803eb7c43ca3112e96ecf8
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/17/2020
ms.locfileid: "104101403"
---
# <a name="about-service-logon-accounts"></a><span data-ttu-id="81c6a-103">Informationen zu Dienst Anmeldekonten</span><span class="sxs-lookup"><span data-stu-id="81c6a-103">About Service Logon Accounts</span></span>

<span data-ttu-id="81c6a-104">Wenn ein Win32-basierter Dienst gestartet wird, meldet er sich am lokalen Computer an.</span><span class="sxs-lookup"><span data-stu-id="81c6a-104">When a Win32-based service starts, it logs on to the local computer.</span></span> <span data-ttu-id="81c6a-105">Sie kann sich als anmelden:</span><span class="sxs-lookup"><span data-stu-id="81c6a-105">It can log on as:</span></span>

-   <span data-ttu-id="81c6a-106">Ein lokales oder Domänen Benutzerkonto.</span><span class="sxs-lookup"><span data-stu-id="81c6a-106">A local or domain user account.</span></span>
-   <span data-ttu-id="81c6a-107">Das LocalSystem-Konto.</span><span class="sxs-lookup"><span data-stu-id="81c6a-107">The LocalSystem account.</span></span>

<span data-ttu-id="81c6a-108">Mit dem Anmelde Konto wird die Sicherheitsidentität des Diensts zur Laufzeit bestimmt, d. h. der primäre Sicherheitskontext des Diensts.</span><span class="sxs-lookup"><span data-stu-id="81c6a-108">The logon account determines the security identity of the service at run time, that is, the service's primary security context.</span></span> <span data-ttu-id="81c6a-109">Der Sicherheitskontext bestimmt, ob der Dienst auf lokale Ressourcen und Netzwerkressourcen zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="81c6a-109">The security context determines the service's ability to access local and network resources.</span></span> <span data-ttu-id="81c6a-110">Beispielsweise kann ein Dienst, der im Sicherheitskontext eines lokalen Benutzerkontos ausgeführt wird, nicht auf Netzwerkressourcen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="81c6a-110">For example, a service running in the security context of a local user account cannot access network resources.</span></span> <span data-ttu-id="81c6a-111">Umgekehrt hat ein Dienst, der im Sicherheitskontext des Kontos LocalSystem auf einem Windows 2000-Domänen Controller (DC) ausgeführt wird, uneingeschränkten Zugriff auf den DC.</span><span class="sxs-lookup"><span data-stu-id="81c6a-111">Conversely, a service running in the security context of the LocalSystem account on a Windows 2000 domain controller (DC), would have unrestricted access to the DC.</span></span> <span data-ttu-id="81c6a-112">Weitere Informationen und eine Erläuterung der Vorteile und Einschränkungen zwischen Benutzerkonten und LocalSystem finden Sie unter [Sicherheits Kontexte und Active Directory Domain Services](security-contexts-and-active-directory-domain-services.md).</span><span class="sxs-lookup"><span data-stu-id="81c6a-112">For more information, and a discussion of the benefits and limitations between user accounts and LocalSystem, see [Security Contexts and Active Directory Domain Services](security-contexts-and-active-directory-domain-services.md).</span></span>

<span data-ttu-id="81c6a-113">Letztendlich haben Administratoren auf dem System, auf dem der Dienst installiert ist, die Kontrolle über das Anmelde Konto des Diensts.</span><span class="sxs-lookup"><span data-stu-id="81c6a-113">Ultimately, administrators on the system where the service is installed have control over the service's logon account.</span></span> <span data-ttu-id="81c6a-114">Aus Sicherheitsgründen können einige Administratoren den Dienst unter dem Konto "LocalSystem" nicht installieren.</span><span class="sxs-lookup"><span data-stu-id="81c6a-114">For security reasons, some administrators may not allow you to install your service under the LocalSystem account.</span></span> <span data-ttu-id="81c6a-115">Ihr Dienst muss unter einem Domänen Benutzerkonto ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="81c6a-115">Your service must be able to run under a domain user account.</span></span> <span data-ttu-id="81c6a-116">Als Programmierer können Sie die Kontrolle über das Anmelde Konto Ihres Diensts ausüben.</span><span class="sxs-lookup"><span data-stu-id="81c6a-116">As a programmer, you can exercise some control over your service's logon account.</span></span> <span data-ttu-id="81c6a-117">Das Dienst Installationsprogramm gibt das Anmelde Konto des Diensts an, wenn es die Funktion "| [**ateservice**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) " aufruft, um den Dienst auf einem Host Computer zu installieren.</span><span class="sxs-lookup"><span data-stu-id="81c6a-117">Your service installer specifies the service's logon account when it calls the [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) function to install the service on a host computer.</span></span> <span data-ttu-id="81c6a-118">Das Installationsprogramm kann ein Standard Anmelde Konto vorschlagen, aber es sollte einem Administrator erlauben, das tatsächliche Konto anzugeben.</span><span class="sxs-lookup"><span data-stu-id="81c6a-118">Your installer can suggest a default logon account, but it should allow an administrator to specify the actual account.</span></span>

<span data-ttu-id="81c6a-119">Mit dem Installationsprogramm können Sie auch die folgenden Aufgaben im Zusammenhang mit dem Anmelde Konto Ihres Diensts ausführen:</span><span class="sxs-lookup"><span data-stu-id="81c6a-119">Your installer can also perform the following tasks relating to your service's logon account:</span></span>

-   <span data-ttu-id="81c6a-120">Die Installation.</span><span class="sxs-lookup"><span data-stu-id="81c6a-120">Installation.</span></span> <span data-ttu-id="81c6a-121">Wenn die Installation des Diensts für die unter Verwendung eines Benutzerkontos ausgeführt wird, muss das Konto vorhanden sein, bevor Sie "up [**Service Service" aufrufen können**](/windows/desktop/api/winsvc/nf-winsvc-createservicea).</span><span class="sxs-lookup"><span data-stu-id="81c6a-121">If installing your service to run under a user account, the account must exist before you call [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea).</span></span> <span data-ttu-id="81c6a-122">Sie können ein vorhandenes Konto verwenden oder eines als Teil von Host-Computer installrt erstellen.</span><span class="sxs-lookup"><span data-stu-id="81c6a-122">You can use an existing account or create one as part of the host-computer installrt.</span></span> <span data-ttu-id="81c6a-123">Weitere Informationen finden Sie unter [Einrichten eines Dienst-Benutzerkontos](setting-up-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="81c6a-123">For more information, see [Setting up a Service's User Account](setting-up-a-serviceampaposs-user-account.md).</span></span>
-   <span data-ttu-id="81c6a-124">Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="81c6a-124">Authentication.</span></span> <span data-ttu-id="81c6a-125">Wenn Sie möchten, dass Clients die gegenseitige Kerberos-Authentifizierung verwenden, registrieren Sie die SPNs für das Anmelde Konto des Diensts.</span><span class="sxs-lookup"><span data-stu-id="81c6a-125">If you want clients to use Kerberos mutual authentication, register the SPNs on the service's logon account.</span></span> <span data-ttu-id="81c6a-126">Wenn der Dienst unter dem Konto "LocalSystem" ausgeführt wird, ist das Anmelde Konto des Diensts das Computer Konto des Host Computers.</span><span class="sxs-lookup"><span data-stu-id="81c6a-126">If the service runs under the LocalSystem account, the service's logon account is the computer account of the host computer.</span></span> <span data-ttu-id="81c6a-127">Weitere Informationen finden Sie unter [Dienstprinzipalnamen](service-principal-names.md).</span><span class="sxs-lookup"><span data-stu-id="81c6a-127">For more information, see [Service Principal Names](service-principal-names.md).</span></span>
-   <span data-ttu-id="81c6a-128">Gewähren von Zugriff.</span><span class="sxs-lookup"><span data-stu-id="81c6a-128">Grant Access.</span></span> <span data-ttu-id="81c6a-129">Stellen Sie sicher, dass der Dienst zur Laufzeit über die Zugriffsrechte und-Berechtigungen verfügt, die er zum Ausführen seiner Aufgaben benötigt.</span><span class="sxs-lookup"><span data-stu-id="81c6a-129">Ensure that the service at run time has the access rights and privileges that it requires to perform its tasks.</span></span> <span data-ttu-id="81c6a-130">Dies kann das Festlegen von Zugriffs Steuerungs Einträgen (ACEs) in den Sicherheits Beschreibungen verschiedener Ressourcen, d. h. Verzeichnisobjekte, Dateifreigaben usw., erfordern, um die erforderlichen Zugriffsrechte für das Benutzer-oder Computer Konto zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="81c6a-130">This can require setting access-control entries (ACEs) in the security descriptors of various resources, that is directory objects, file shares, and so on, to allow the necessary access rights to the user or computer account.</span></span> <span data-ttu-id="81c6a-131">Weitere Informationen finden Sie unter [Erteilen von Zugriffsrechten für das Anmelde Konto des Diensts](granting-access-rights-to-the-service-logon-account.md).</span><span class="sxs-lookup"><span data-stu-id="81c6a-131">For more information, see [Granting Access Rights to the Service Logon Account](granting-access-rights-to-the-service-logon-account.md).</span></span>
-   <span data-ttu-id="81c6a-132">Legen Sie Berechtigungen fest.</span><span class="sxs-lookup"><span data-stu-id="81c6a-132">Set Privileges.</span></span> <span data-ttu-id="81c6a-133">Weisen Sie dem angegebenen Anmelde Konto Berechtigungen zu, z. b. das Recht, sich als Dienst beim Host Computer anzumelden.</span><span class="sxs-lookup"><span data-stu-id="81c6a-133">Assign privileges to the specified logon account, such as the right to logon as a service to the host computer.</span></span> <span data-ttu-id="81c6a-134">Weitere Informationen finden Sie unter [erteilen der Berechtigung "Anmelden als Dienst" auf dem Host Computer](granting-logon-as-service-right-on-the-host-computer.md).</span><span class="sxs-lookup"><span data-stu-id="81c6a-134">For more information, see [Granting Logon as Service Right on the Host Computer](granting-logon-as-service-right-on-the-host-computer.md).</span></span>

<span data-ttu-id="81c6a-135">Nachdem ein Dienst installiert wurde, sind Wartungs Tasks für Ihr Dienst Anmelde Konto verfügbar.</span><span class="sxs-lookup"><span data-stu-id="81c6a-135">After a service is installed, there are maintenance tasks that relate to your service logon account.</span></span> <span data-ttu-id="81c6a-136">Weitere Informationen finden Sie unter [Anmelde Konto-Wartungs Tasks](logon-account-maintenance-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="81c6a-136">For more information, see [Logon Account Maintenance Tasks](logon-account-maintenance-tasks.md).</span></span>

-   <span data-ttu-id="81c6a-137">Kenn Wort Wartung.</span><span class="sxs-lookup"><span data-stu-id="81c6a-137">Password maintenance.</span></span> <span data-ttu-id="81c6a-138">Bei einem Dienst, der unter einem Benutzerkonto ausgeführt wird, müssen Sie das Kennwort regelmäßig ändern und das Kennwort mit dem Kennwort synchron halten, das von einem oder mehreren lokalen Dienststeuerungs-Managern zum Starten des Dienstanbieter verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="81c6a-138">For a service that runs under a user account, you must periodically change the password and keep the password in sync with the password used by one or more local service control managers to start the service.</span></span>
-   <span data-ttu-id="81c6a-139">SPN-Wartung.</span><span class="sxs-lookup"><span data-stu-id="81c6a-139">SPN maintenance.</span></span> <span data-ttu-id="81c6a-140">Wenn sich ein Dienst Anmelde Konto ändert, entfernen Sie die für das alte Konto registrierten SPNs, und registrieren Sie Sie beim neuen Konto.</span><span class="sxs-lookup"><span data-stu-id="81c6a-140">If a service logon account changes, remove the SPNs registered on the old account and register them on the new account.</span></span> <span data-ttu-id="81c6a-141">Beachten Sie, dass ein Domänen Administrator das Konto, unter dem der Dienst ausgeführt wird, ändern kann, wenn ein Dienst installiert ist. Verwenden Sie Win32-Funktionen oder die Benutzeroberfläche des Verwaltungs Tools Computer Verwaltung.</span><span class="sxs-lookup"><span data-stu-id="81c6a-141">Be aware that when a service is installed, a domain administrator can change the account under which your service runs; use Win32 functions or the user interface of the Computer Management administrative tool.</span></span>
-   <span data-ttu-id="81c6a-142">ACE-Wartung.</span><span class="sxs-lookup"><span data-stu-id="81c6a-142">ACE maintenance.</span></span> <span data-ttu-id="81c6a-143">Wenn sich das Anmelde Konto eines Diensts ändert, müssen Sie ACEs und Gruppenmitgliedschaften aktualisieren, um sicherzustellen, dass der Dienst weiterhin auf die erforderlichen Ressourcen zugreifen kann.</span><span class="sxs-lookup"><span data-stu-id="81c6a-143">If a service logon account changes, you need to update ACEs and group memberships to ensure that the service can still access the necessary resources.</span></span>

 

 