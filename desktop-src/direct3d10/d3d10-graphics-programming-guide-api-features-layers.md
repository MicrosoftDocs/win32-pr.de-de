---
description: API-Ebenen (Direct3D 10)
ms.assetid: 19c81383-6ac7-49ea-98a3-bf761a32ab40
title: API-Ebenen (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4427083bdcaf389c4b01b590a1bc3fef7eb878b4
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104392994"
---
# <a name="api-layers-direct3d-10"></a><span data-ttu-id="a6172-103">API-Ebenen (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="a6172-103">API Layers (Direct3D 10)</span></span>

<span data-ttu-id="a6172-104">Die Direct3D 10-Laufzeit wird mit Ebenen erstellt, beginnend mit den grundlegenden Funktionen im Kern und der Erstellung Optionaler und Entwickler-Assist-Funktionen in äußeren Schichten.</span><span class="sxs-lookup"><span data-stu-id="a6172-104">The Direct3D 10 runtime is constructed with layers, starting with the basic functionality at the core and building optional and developer-assist functionality in outer layers.</span></span>

## <a name="core-layer"></a><span data-ttu-id="a6172-105">Kern Ebene</span><span class="sxs-lookup"><span data-stu-id="a6172-105">Core Layer</span></span>

<span data-ttu-id="a6172-106">Standardmäßig ist die Kern Ebene vorhanden. Bereitstellung einer sehr dünnen Zuordnung zwischen der API und dem Gerätetreiber, wodurch der Aufwand für hochfrequenzaufrufe minimiert wird.</span><span class="sxs-lookup"><span data-stu-id="a6172-106">The core layer exists by default; providing a very thin mapping between the API and the device driver, minimizing overhead for high-frequency calls.</span></span> <span data-ttu-id="a6172-107">Da die Kern Ebene für die Leistung wichtig ist, wird nur eine kritische Validierung durchführt.</span><span class="sxs-lookup"><span data-stu-id="a6172-107">As the core layer is essential for performance, it only performs critical validation.</span></span>

<span data-ttu-id="a6172-108">Die übrigen Ebenen sind optional.</span><span class="sxs-lookup"><span data-stu-id="a6172-108">The remaining layers are optional.</span></span> <span data-ttu-id="a6172-109">Als allgemeine Regel fügen Ebenen Funktionen hinzu, ändern jedoch das vorhandene Verhalten nicht.</span><span class="sxs-lookup"><span data-stu-id="a6172-109">As a general rule, layers add functionality, but do not modify existing behavior.</span></span> <span data-ttu-id="a6172-110">Beispielsweise haben die Kernfunktionen die gleichen Rückgabewerte, die unabhängig von der instanziierten debugschicht sind, obwohl eine zusätzliche Debugausgabe bereitgestellt werden kann, wenn die debugschicht instanziiert wird.</span><span class="sxs-lookup"><span data-stu-id="a6172-110">For example, core functions will have the same return values independent of the debug layer being instantiated, although additional debug output may be provided if the debug layer is instantiated.</span></span>

<span data-ttu-id="a6172-111">Erstellen Sie Ebenen, wenn ein Gerät durch Aufrufen von [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice) erstellt wird, und stellen Sie mindestens ein [**d3d10 \_ Flag zum Erstellen des \_ Geräts \_**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) bereit.</span><span class="sxs-lookup"><span data-stu-id="a6172-111">Create layers when a device is created by calling [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice) and supplying one or more [**D3D10\_CREATE\_DEVICE\_FLAG**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) values.</span></span>

## <a name="debug-layer"></a><span data-ttu-id="a6172-112">Ebene Debuggen</span><span class="sxs-lookup"><span data-stu-id="a6172-112">Debug Layer</span></span>

<span data-ttu-id="a6172-113">Die Debug-Ebene bietet umfassende zusätzliche Parameter-und Konsistenz Validierung (z. b. das Überprüfen der shaderverknüpfung und Ressourcen Bindung, das Überprüfen der Parameter Konsistenz und das Melden von Fehlerbeschreibungen).</span><span class="sxs-lookup"><span data-stu-id="a6172-113">The debug layer provides extensive additional parameter and consistency validation (such as validating shader linkage and resource binding, validating parameter consistency, and reporting error descriptions).</span></span> <span data-ttu-id="a6172-114">Die von der debugschicht generierte Ausgabe besteht aus einer Warteschlange von Zeichen folgen, auf die über die [**ID3D10InfoQueue-Schnittstelle**](/windows/desktop/api/D3D10SDKLayers/nn-d3d10sdklayers-id3d10infoqueue) zugegriffen werden kann (siehe [Anpassen der Debugausgabe mit ID3D10InfoQueue (Direct3D 10)](d3d10-graphics-programming-guide-api-features-layers-info-queue.md)).</span><span class="sxs-lookup"><span data-stu-id="a6172-114">The output generated by the debug layer consists of a queue of strings which are accessible using the [**ID3D10InfoQueue Interface**](/windows/desktop/api/D3D10SDKLayers/nn-d3d10sdklayers-id3d10infoqueue) (see [Customize Debug Output with ID3D10InfoQueue (Direct3D 10)](d3d10-graphics-programming-guide-api-features-layers-info-queue.md)).</span></span> <span data-ttu-id="a6172-115">Fehler, die von der Kern Ebene generiert werden, werden durch Warnungen der debugschicht hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="a6172-115">Errors generated by the core layer are highlighted with warnings by the debug layer.</span></span>

<span data-ttu-id="a6172-116">Um ein Gerät zu erstellen, das die debugschicht unterstützt, müssen Sie das DirectX SDK (zum Abrufen D3D10SDKLayers.DLL) installieren und dann \_ das \_ Flag d3d10 Create Device \_ Debug beim Aufrufen von [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice)angeben.</span><span class="sxs-lookup"><span data-stu-id="a6172-116">To create a device that supports the debug layer, you must install the DirectX SDK (to get D3D10SDKLayers.DLL), and then specify the D3D10\_CREATE\_DEVICE\_DEBUG flag when calling [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice).</span></span> <span data-ttu-id="a6172-117">Natürlich wird das Ausführen einer Anwendung mit der debugschicht wesentlich langsamer.</span><span class="sxs-lookup"><span data-stu-id="a6172-117">Of course, running an application with the debug layer will be substantially slower.</span></span> <span data-ttu-id="a6172-118">Um Debugmeldungen für d3dx10-APIs zu aktivieren/deaktivieren, wenden Sie [**D3DX10DebugMute**](d3dx10debugmute.md)an.</span><span class="sxs-lookup"><span data-stu-id="a6172-118">To enable/disable debug messages for D3DX10 APIs, call [**D3DX10DebugMute**](d3dx10debugmute.md).</span></span>

<span data-ttu-id="a6172-119">Wenn die debugschicht Speicher Verluste auflistet, gibt Sie eine Liste von Objekt Schnittstellen Zeigern zusammen mit ihren anzeigen Amen aus.</span><span class="sxs-lookup"><span data-stu-id="a6172-119">When the debug layer lists memory leaks, it outputs a list of object interface pointers along with their friendly names.</span></span> <span data-ttu-id="a6172-120">Der standardmäßige Anzeige Name ist " &lt; unbenannt &gt; ".</span><span class="sxs-lookup"><span data-stu-id="a6172-120">The default friendly name is "&lt;unnamed&gt;".</span></span> <span data-ttu-id="a6172-121">Sie können den anzeigen Amen mithilfe der [**ID3D10DeviceChild:: setprivatedata**](/windows/desktop/api/D3D10/nf-d3d10-id3d10devicechild-setprivatedata) -Methode und der **wkpdid \_ D3DDebugObjectName** GUID in D3Dcommon. h festlegen.</span><span class="sxs-lookup"><span data-stu-id="a6172-121">You can set the friendly name by using the [**ID3D10DeviceChild::SetPrivateData**](/windows/desktop/api/D3D10/nf-d3d10-id3d10devicechild-setprivatedata) method and the **WKPDID\_D3DDebugObjectName** GUID that is in D3Dcommon.h.</span></span> <span data-ttu-id="a6172-122">Verwenden Sie z. b. den folgenden Code, um ptexture mit dem Namen des sdgers mytexture.jpg zu benennen:</span><span class="sxs-lookup"><span data-stu-id="a6172-122">For example, to name pTexture with a SDKLayer name of mytexture.jpg, use the following code:</span></span>


```
const char c_szName[] = "mytexture.jpg";
pTexture->SetPrivateData( WKPDID_D3DDebugObjectName, sizeof( c_szName ) - 1, c_szName );
```



<span data-ttu-id="a6172-123">In der Regel sollten Sie diese Aufrufe aus der Produktionsversion kompilieren.</span><span class="sxs-lookup"><span data-stu-id="a6172-123">Typically, you should compile these calls out of your production version.</span></span>

## <a name="switch-to-reference-layer"></a><span data-ttu-id="a6172-124">Wechsel-zu-Verweis-Ebene</span><span class="sxs-lookup"><span data-stu-id="a6172-124">Switch-to-Reference Layer</span></span>

<span data-ttu-id="a6172-125">Diese Ebene ermöglicht es einer Anwendung, zwischen einem Hardware Gerät (HAL) und einem Referenz-oder Software Gerät (Ref) zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="a6172-125">This layer enables an application to transition between a hardware device (HAL) and a reference or software device (REF).</span></span> <span data-ttu-id="a6172-126">Um ein Gerät zu wechseln, müssen Sie zunächst ein Gerät erstellen, das die Wechsel-zu-Verweis-Schicht unterstützt (siehe [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice)) und dann [**ID3D10SwitchToRef:: setuseref**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10switchtoref-setuseref)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a6172-126">To switch a device, you must first create a device that supports the switch-to-reference layer (see [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice)) and then call [**ID3D10SwitchToRef::SetUseRef**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10switchtoref-setuseref).</span></span>

<span data-ttu-id="a6172-127">Alle Gerätezustände, Ressourcen und Objekte werden über diesen Geräte Übergang verwaltet.</span><span class="sxs-lookup"><span data-stu-id="a6172-127">All device states, resources and objects are maintained through this device transition.</span></span> <span data-ttu-id="a6172-128">Es ist jedoch manchmal nicht möglich, Ressourcen Daten genau abzugleichen.</span><span class="sxs-lookup"><span data-stu-id="a6172-128">However, it is sometimes not possible to exactly match resource data.</span></span> <span data-ttu-id="a6172-129">Dies liegt daran, dass einige Informationen für ein Hardware Gerät verfügbar sind, das für ein Referenzgerät nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="a6172-129">This is due to the fact that some information is available to a hardware device that is not available to a reference device.</span></span>

<span data-ttu-id="a6172-130">Praktisch alle Echtzeitanwendungen verwenden die HAL-Implementierung der Pipeline.</span><span class="sxs-lookup"><span data-stu-id="a6172-130">Virtually all real-time applications use the HAL implementation of the pipeline.</span></span> <span data-ttu-id="a6172-131">Wenn die Pipeline von einem Hardware Gerät zu einem Referenzgerät gewechselt wird, werden Renderingvorgänge sowohl in der Hardware als auch in der Software gleichzeitig durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="a6172-131">When the pipeline is switched from a hardware device to a reference device, rendering operations are done simultaneously in both hardware and software.</span></span> <span data-ttu-id="a6172-132">Beim Rendern des Software Geräts müssen Ressourcen in den Systemspeicher heruntergeladen werden.</span><span class="sxs-lookup"><span data-stu-id="a6172-132">As the software device is rendering, it will require that resources are downloaded to system memory.</span></span> <span data-ttu-id="a6172-133">Dies erfordert möglicherweise, dass andere im Systemspeicher zwischengespeicherte Ressourcen entfernt werden, um Platz zu schaffen.</span><span class="sxs-lookup"><span data-stu-id="a6172-133">This may require other resources cached in system memory to be evicted to make room.</span></span>

> [!Note]  
> <span data-ttu-id="a6172-134">Diese Funktion für die Switch-zu-Verweis-Ebene wird nur in Direct3D 10 und Direct3D 10,1 unterstützt und wird in Direct3D 11 und höheren Versionen nicht mehr unterstützt.</span><span class="sxs-lookup"><span data-stu-id="a6172-134">This switch-to-reference-layer feature is supported only in Direct3D 10 and Direct3D 10.1, and is no longer supported in Direct3D 11 and later versions.</span></span>

 

## <a name="thread-safe-layer"></a><span data-ttu-id="a6172-135">Thread-Safe Ebene</span><span class="sxs-lookup"><span data-stu-id="a6172-135">Thread-Safe Layer</span></span>

<span data-ttu-id="a6172-136">Diese Ebene ist so konzipiert, dass Multithreadanwendungen von mehreren Threads aus auf das Gerät zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="a6172-136">This layer is designed to allow multi-threaded applications to access the device from multiple threads.</span></span>

<span data-ttu-id="a6172-137">Eine Direct3D 10-Anwendung kann eine Geräte Synchronisierung mithilfe von Gerätefunktionen steuern.</span><span class="sxs-lookup"><span data-stu-id="a6172-137">A Direct3D 10 application can control a device synchronization using device functions.</span></span> <span data-ttu-id="a6172-138">Dies ermöglicht es einer Anwendung, kritische Abschnitte zu aktivieren bzw. zu deaktivieren (Vorübergehendes Aktivieren/Deaktivieren des Multithreading Schutzes) und eine kritische Abschnitts Sperre über mehrere Direct3D 10 API-Einstiegspunkte zu nehmen bzw. freizugeben.</span><span class="sxs-lookup"><span data-stu-id="a6172-138">This enables an application to enable/disable critical sections (temporarily enabling/disabling multithreading protection), and take/release a critical-section lock over multiple Direct3D 10 API entry points.</span></span> <span data-ttu-id="a6172-139">Die Thread sichere Ebene ist standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="a6172-139">The thread-safe layer is enabled by default.</span></span> <span data-ttu-id="a6172-140">Bei Anwendungen mit nur einem Thread hat die Thread sichere Schicht keine Auswirkung auf die Leistung.</span><span class="sxs-lookup"><span data-stu-id="a6172-140">For single-threaded applications, the thread-safe layer has no impact on performance.</span></span>



|                                                                                                                                             |
|---------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a6172-141">Unterschiede zwischen Direct3D 9 und Direct3D 10:</span><span class="sxs-lookup"><span data-stu-id="a6172-141">Differences between Direct3D 9 and Direct3D 10:</span></span><br/> <span data-ttu-id="a6172-142">Im Gegensatz zu Direct3D 9 ist die Direct3D 10-API standardmäßig vollständig Thread sicher.</span><span class="sxs-lookup"><span data-stu-id="a6172-142">Unlike Direct3D 9, the Direct3D 10 API defaults to fully thread-safe.</span></span><br/> |



 

## <a name="related-topics"></a><span data-ttu-id="a6172-143">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="a6172-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a6172-144">API-Features (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="a6172-144">API Features (Direct3D 10)</span></span>](d3d10-graphics-programming-guide-api-features.md)
</dt> </dl>

 

 




