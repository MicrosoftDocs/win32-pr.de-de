---
description: API-Ebenen (Direct3D 10)
ms.assetid: 19c81383-6ac7-49ea-98a3-bf761a32ab40
title: API-Ebenen (Direct3D 10)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8b07b33dfd8280af13ea3df74e5e6d0fd040bb2c
ms.sourcegitcommit: ca37395fd832e798375e81142b97cffcffabf184
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/24/2021
ms.locfileid: "110335414"
---
# <a name="api-layers-direct3d-10"></a><span data-ttu-id="ceef1-103">API-Ebenen (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="ceef1-103">API Layers (Direct3D 10)</span></span>

<span data-ttu-id="ceef1-104">Die Direct3D 10-Runtime wird mit Ebenen erstellt, beginnend mit der grundlegenden Funktionalität im Kern und dem Erstellen optionaler und entwicklerassistenter Funktionen in äußeren Ebenen.</span><span class="sxs-lookup"><span data-stu-id="ceef1-104">The Direct3D 10 runtime is constructed with layers, starting with the basic functionality at the core and building optional and developer-assist functionality in outer layers.</span></span>

## <a name="core-layer"></a><span data-ttu-id="ceef1-105">Kernebene</span><span class="sxs-lookup"><span data-stu-id="ceef1-105">Core Layer</span></span>

<span data-ttu-id="ceef1-106">Die Kernebene ist standardmäßig vorhanden. Stellt eine sehr schlanke Zuordnung zwischen der API und dem Gerätetreiber bereit, wodurch der Mehraufwand für hochfrequente Aufrufe minimiert wird.</span><span class="sxs-lookup"><span data-stu-id="ceef1-106">The core layer exists by default; providing a very thin mapping between the API and the device driver, minimizing overhead for high-frequency calls.</span></span> <span data-ttu-id="ceef1-107">Da die Kernebene für die Leistung unerlässlich ist, führt sie nur eine kritische Überprüfung durch.</span><span class="sxs-lookup"><span data-stu-id="ceef1-107">As the core layer is essential for performance, it only performs critical validation.</span></span>

<span data-ttu-id="ceef1-108">Die verbleibenden Ebenen sind optional.</span><span class="sxs-lookup"><span data-stu-id="ceef1-108">The remaining layers are optional.</span></span> <span data-ttu-id="ceef1-109">In der Regel fügen Ebenen Funktionen hinzu, ändern jedoch nicht das vorhandene Verhalten.</span><span class="sxs-lookup"><span data-stu-id="ceef1-109">As a general rule, layers add functionality, but do not modify existing behavior.</span></span> <span data-ttu-id="ceef1-110">Kernfunktionen verfügen beispielsweise unabhängig von der instanziierten Debugebene über dieselben Rückgabewerte, obwohl zusätzliche Debugausgabe bereitgestellt werden kann, wenn die Debugebene instanziiert wird.</span><span class="sxs-lookup"><span data-stu-id="ceef1-110">For example, core functions will have the same return values independent of the debug layer being instantiated, although additional debug output may be provided if the debug layer is instantiated.</span></span>

<span data-ttu-id="ceef1-111">Erstellen Sie Ebenen, wenn ein Gerät erstellt wird, indem [**Sie D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice) aufrufen und mindestens einen [**D3D10 \_ CREATE DEVICE \_ \_ FLAG-Wert**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) liefern.</span><span class="sxs-lookup"><span data-stu-id="ceef1-111">Create layers when a device is created by calling [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice) and supplying one or more [**D3D10\_CREATE\_DEVICE\_FLAG**](/windows/desktop/api/D3D10/ne-d3d10-d3d10_create_device_flag) values.</span></span>

## <a name="debug-layer"></a><span data-ttu-id="ceef1-112">Debugebene</span><span class="sxs-lookup"><span data-stu-id="ceef1-112">Debug Layer</span></span>

<span data-ttu-id="ceef1-113">Die Debugebene bietet umfangreiche zusätzliche Parameter- und Konsistenzüberprüfungen (z. B. Überprüfen der Shaderverknüpfung und Ressourcenbindung, Überprüfen der Parameterkonsistenz und Melden von Fehlerbeschreibungen).</span><span class="sxs-lookup"><span data-stu-id="ceef1-113">The debug layer provides extensive additional parameter and consistency validation (such as validating shader linkage and resource binding, validating parameter consistency, and reporting error descriptions).</span></span> <span data-ttu-id="ceef1-114">Die von der Debugebene generierte Ausgabe besteht aus einer Warteschlange von Zeichenfolgen, auf die über die [**ID3D10InfoQueue-Schnittstelle**](/windows/desktop/api/D3D10SDKLayers/nn-d3d10sdklayers-id3d10infoqueue) zugegriffen werden kann (siehe Anpassen der Debugausgabe mit [ID3D10InfoQueue (Direct3D 10)](d3d10-graphics-programming-guide-api-features-layers-info-queue.md)).</span><span class="sxs-lookup"><span data-stu-id="ceef1-114">The output generated by the debug layer consists of a queue of strings which are accessible using the [**ID3D10InfoQueue Interface**](/windows/desktop/api/D3D10SDKLayers/nn-d3d10sdklayers-id3d10infoqueue) (see [Customize Debug Output with ID3D10InfoQueue (Direct3D 10)](d3d10-graphics-programming-guide-api-features-layers-info-queue.md)).</span></span> <span data-ttu-id="ceef1-115">Fehler, die von der Kernebene generiert werden, werden von der Debugebene mit Warnungen hervorgehoben.</span><span class="sxs-lookup"><span data-stu-id="ceef1-115">Errors generated by the core layer are highlighted with warnings by the debug layer.</span></span>

<span data-ttu-id="ceef1-116">Um ein Gerät zu erstellen, das die Debugebene unterstützt, müssen Sie das DirectX SDK installieren (um D3D10SDKLayers.DLL zu erhalten), und dann das D3D10 CREATE DEVICE DEBUG-Flag angeben, wenn \_ \_ Sie \_ [**D3D10CreateDevice aufrufen.**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice)</span><span class="sxs-lookup"><span data-stu-id="ceef1-116">To create a device that supports the debug layer, you must install the DirectX SDK (to get D3D10SDKLayers.DLL), and then specify the D3D10\_CREATE\_DEVICE\_DEBUG flag when calling [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice).</span></span> <span data-ttu-id="ceef1-117">Natürlich wird die Ausführung einer Anwendung mit der Debugebene erheblich langsamer sein.</span><span class="sxs-lookup"><span data-stu-id="ceef1-117">Of course, running an application with the debug layer will be substantially slower.</span></span> <span data-ttu-id="ceef1-118">Rufen Sie zum Aktivieren/Deaktivieren von Debugmeldungen für D3DX10-APIs [**D3DX10DebugMute auf.**](d3dx10debugmute.md)</span><span class="sxs-lookup"><span data-stu-id="ceef1-118">To enable/disable debug messages for D3DX10 APIs, call [**D3DX10DebugMute**](d3dx10debugmute.md).</span></span>

<span data-ttu-id="ceef1-119">Wenn die Debugebene Speicherverluste auflistet, gibt sie eine Liste von Objektschnittstellenzeigern zusammen mit ihren Anzeigenamen aus.</span><span class="sxs-lookup"><span data-stu-id="ceef1-119">When the debug layer lists memory leaks, it outputs a list of object interface pointers along with their friendly names.</span></span> <span data-ttu-id="ceef1-120">Der Standardmäßige Anzeigename ist &lt; "unbenannt". &gt;</span><span class="sxs-lookup"><span data-stu-id="ceef1-120">The default friendly name is "&lt;unnamed&gt;".</span></span> <span data-ttu-id="ceef1-121">Sie können den Anzeigenamen mithilfe der [**ID3D10DeviceChild::SetPrivateData-Methode**](/windows/desktop/api/D3D10/nf-d3d10-id3d10devicechild-setprivatedata) und der **GUID WKPDID \_ D3DDebugObjectName** in D3Dcommon.h festlegen.</span><span class="sxs-lookup"><span data-stu-id="ceef1-121">You can set the friendly name by using the [**ID3D10DeviceChild::SetPrivateData**](/windows/desktop/api/D3D10/nf-d3d10-id3d10devicechild-setprivatedata) method and the **WKPDID\_D3DDebugObjectName** GUID that is in D3Dcommon.h.</span></span> <span data-ttu-id="ceef1-122">Verwenden Sie beispielsweise den folgenden Code, um pTexture mit dem SDKLayer-Namen mytexture.jpg zu benennen:</span><span class="sxs-lookup"><span data-stu-id="ceef1-122">For example, to name pTexture with a SDKLayer name of mytexture.jpg, use the following code:</span></span>


```
const char c_szName[] = "mytexture.jpg";
pTexture->SetPrivateData( WKPDID_D3DDebugObjectName, sizeof( c_szName ) - 1, c_szName );
```



<span data-ttu-id="ceef1-123">In der Regel sollten Sie diese Aufrufe aus Ihrer Produktionsversion kompilieren.</span><span class="sxs-lookup"><span data-stu-id="ceef1-123">Typically, you should compile these calls out of your production version.</span></span>

## <a name="switch-to-reference-layer"></a><span data-ttu-id="ceef1-124">Wechseln zur Referenzebene</span><span class="sxs-lookup"><span data-stu-id="ceef1-124">Switch-to-Reference Layer</span></span>

<span data-ttu-id="ceef1-125">Diese Ebene ermöglicht einer Anwendung den Übergang zwischen einem Hardwaregerät (HARDWARE Device, HALOGEN) und einem Referenz- oder Softwaregerät (Ref).</span><span class="sxs-lookup"><span data-stu-id="ceef1-125">This layer enables an application to transition between a hardware device (HAL) and a reference or software device (REF).</span></span> <span data-ttu-id="ceef1-126">Um ein Gerät zu wechseln, müssen Sie zunächst ein Gerät erstellen, das die Switch-to-Reference-Ebene unterstützt (siehe [**D3D10CreateDevice),**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice)und dann [**ID3D10SwitchToRef::SetUseRef**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10switchtoref-setuseref)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="ceef1-126">To switch a device, you must first create a device that supports the switch-to-reference layer (see [**D3D10CreateDevice**](/windows/desktop/api/D3D10Misc/nf-d3d10misc-d3d10createdevice)) and then call [**ID3D10SwitchToRef::SetUseRef**](/windows/desktop/api/D3D10SDKLayers/nf-d3d10sdklayers-id3d10switchtoref-setuseref).</span></span>

<span data-ttu-id="ceef1-127">Alle Gerätezustände, Ressourcen und Objekte werden durch diesen Geräteübergang verwaltet.</span><span class="sxs-lookup"><span data-stu-id="ceef1-127">All device states, resources and objects are maintained through this device transition.</span></span> <span data-ttu-id="ceef1-128">Es ist jedoch manchmal nicht möglich, Ressourcendaten genau abzugleichen.</span><span class="sxs-lookup"><span data-stu-id="ceef1-128">However, it is sometimes not possible to exactly match resource data.</span></span> <span data-ttu-id="ceef1-129">Dies liegt daran, dass einige Informationen für ein Hardwaregerät verfügbar sind, das für ein Referenzgerät nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="ceef1-129">This is due to the fact that some information is available to a hardware device that is not available to a reference device.</span></span>

<span data-ttu-id="ceef1-130">Praktisch alle Echtzeitanwendungen verwenden die MSI-Implementierung der Pipeline.</span><span class="sxs-lookup"><span data-stu-id="ceef1-130">Virtually all real-time applications use the HAL implementation of the pipeline.</span></span> <span data-ttu-id="ceef1-131">Wenn die Pipeline von einem Hardwaregerät auf ein Referenzgerät umgestellt wird, werden Renderingvorgänge sowohl in Hardware als auch in Software gleichzeitig ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="ceef1-131">When the pipeline is switched from a hardware device to a reference device, rendering operations are done simultaneously in both hardware and software.</span></span> <span data-ttu-id="ceef1-132">Wenn das Softwaregerät gerendert wird, müssen Ressourcen in den Systemspeicher heruntergeladen werden.</span><span class="sxs-lookup"><span data-stu-id="ceef1-132">As the software device is rendering, it will require that resources are downloaded to system memory.</span></span> <span data-ttu-id="ceef1-133">Dies erfordert möglicherweise, dass andere im Systemspeicher zwischengespeicherte Ressourcen entfernt werden, um Platz zu schaffen.</span><span class="sxs-lookup"><span data-stu-id="ceef1-133">This may require other resources cached in system memory to be evicted to make room.</span></span>

> [!Note]  
> <span data-ttu-id="ceef1-134">Dieses Feature zur Verweisebene wird nur in Direct3D 10 und Direct3D 10.1 und in Direct3D 11 und höher nicht mehr unterstützt.</span><span class="sxs-lookup"><span data-stu-id="ceef1-134">This switch-to-reference-layer feature is supported only in Direct3D 10 and Direct3D 10.1, and is no longer supported in Direct3D 11 and later versions.</span></span>

 

## <a name="thread-safe-layer"></a><span data-ttu-id="ceef1-135">Thread-Safe Ebene</span><span class="sxs-lookup"><span data-stu-id="ceef1-135">Thread-Safe Layer</span></span>

<span data-ttu-id="ceef1-136">Diese Ebene ist so konzipiert, dass Multithreadanwendungen von mehreren Threads aus auf das Gerät zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="ceef1-136">This layer is designed to allow multi-threaded applications to access the device from multiple threads.</span></span>

<span data-ttu-id="ceef1-137">Eine Direct3D 10-Anwendung kann eine Gerätesynchronisierung mithilfe von Gerätefunktionen steuern.</span><span class="sxs-lookup"><span data-stu-id="ceef1-137">A Direct3D 10 application can control a device synchronization using device functions.</span></span> <span data-ttu-id="ceef1-138">Auf diese Weise kann eine Anwendung kritische Abschnitte aktivieren/deaktivieren (vorübergehend multithreading-Schutz aktivieren/deaktivieren) und eine kritische Abschnittssperre über mehrere Direct3D 10-API-Einstiegspunkte verwenden/deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="ceef1-138">This enables an application to enable/disable critical sections (temporarily enabling/disabling multithreading protection), and take/release a critical-section lock over multiple Direct3D 10 API entry points.</span></span> <span data-ttu-id="ceef1-139">Die threadsichere Ebene ist standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="ceef1-139">The thread-safe layer is enabled by default.</span></span> <span data-ttu-id="ceef1-140">Bei Singlethreadanwendungen hat die threadsichere Ebene keine Auswirkungen auf die Leistung.</span><span class="sxs-lookup"><span data-stu-id="ceef1-140">For single-threaded applications, the thread-safe layer has no impact on performance.</span></span>




<span data-ttu-id="ceef1-141">Unterschiede zwischen Direct3D 9 und Direct3D 10:</span><span class="sxs-lookup"><span data-stu-id="ceef1-141">Differences between Direct3D 9 and Direct3D 10:</span></span>

- <span data-ttu-id="ceef1-142">Im Gegensatz zu Direct3D 9 ist die Direct3D 10-API standardmäßig vollständig threadsicher.</span><span class="sxs-lookup"><span data-stu-id="ceef1-142">Unlike Direct3D 9, the Direct3D 10 API defaults to fully thread-safe.</span></span>



 

## <a name="related-topics"></a><span data-ttu-id="ceef1-143">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ceef1-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ceef1-144">API-Features (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="ceef1-144">API Features (Direct3D 10)</span></span>](d3d10-graphics-programming-guide-api-features.md)
</dt> </dl>

 

 




