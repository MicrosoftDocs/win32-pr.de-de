---
title: Problembehandlung bei Anwendungen
description: Dieser Abschnitt enthält Lösungen für häufige Probleme.
ms.assetid: dfdc5a97-aa0a-4011-8f61-6e405e28b6f8
keywords:
- Windows Toucheingabe, Problembehandlung bei Anwendungen
- Windows Toucheingabe, Ablehnung von Handflächen
- Ablehnungsausweisung
- Windows Toucheingabe, Legacyunterstützung
- Problembehandlung bei Windows Touch
- Trägheit, Problembehandlung bei Anwendungen
- Manipulationen, Problembehandlung bei Anwendungen
- Gesten, Problembehandlung bei Anwendungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bfadf28f5582f702c27f5cb1e15aff142ae14bcf
ms.sourcegitcommit: c276a8912787b2cda74dcf54eb96df961bb1188b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2021
ms.locfileid: "122625336"
---
# <a name="troubleshooting-applications"></a>Problembehandlung bei Anwendungen

Dieser Abschnitt enthält Lösungen für häufige Probleme.

## <a name="general-troubleshooting"></a>Allgemeine Problembehandlung



| Category | Beschreibung |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Ich führe Windows Server 2008 aus, und Windows Touch-Features funktionieren nicht.                                                                                                                                                                                                                                       |
| Ursache    | Sie haben die Desktopdarstellung nicht aktiviert.                                                                                                                                                                                                                                                                        |
| Projektmappe | Öffnen Sie das Server-Manager Verwaltungstool: Klicken Sie auf **Start**, zeigen Sie auf **Verwaltung,** und klicken Sie dann auf **Server-Manager**. Klicken Sie in der linken Spalte auf das Element **Features.** Klicken Sie im Abschnitt **Features** auf **Features hinzufügen.** Wählen Sie **Desktopdarstellung** aus, klicken Sie auf **Weiter** und dann auf **Installieren.** |



 



| Category | Beschreibung |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Immer wenn ich meinen Finger schnell über meine Anwendung ziehe, wird ein Pfeil angezeigt, und meine Geste oder Bearbeitung wird nicht ordnungsgemäß registriert.                                                             |
| Ursache    | Aktivieren von Flimmern, wenn Sie sie nicht benötigen.                                                                                                                                                      |
| Projektmappe | Sie haben Flimmer aktiviert, wenn sie deaktiviert werden sollen. Informationen zum Deaktivieren von Stiftflimmern finden Sie unter Legacyunterstützung für Schwenken [mit Scrollleisten.](legacy-support-for-panning-with-scrollbars.md) |



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problem</td>
<td>Ich kann nicht zwischen Mauseingabe und Windows Toucheingabe unterscheiden.</td>
</tr>
<tr class="even">
<td>Ursache</td>
<td>Windows generiert Mausnachrichten für Legacyunterstützung, wenn ein Benutzer auf den Bildschirm klickt.</td>
</tr>
<tr class="odd">
<td>Projektmappe</td>
<td>Sie können <a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo">GetMessageExtraInfo</a> für die <strong>WM_LBUTTONDOWN</strong> aufrufen und <strong>nachrichten WM_LBUTTONUP,</strong> um die Quelle zu bestimmen. Der folgende Code zeigt, wie dies möglich ist. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#define MOUSEEVENTF_FROMTOUCH 0xFF515700

if ((GetMessageExtraInfo() & MOUSEEVENTF_FROMTOUCH) == MOUSEEVENTF_FROMTOUCH) { 
    // Click was generated by wisptis / Windows Touch
}else{ 
    // Click was generated by the mouse.
}
</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



| Category | Beschreibung |
|----------|------------------------------------------------------------------------------------|
| Problem    | Gewusst wie Microsoft PixelSense-Anwendungen auf Windows 7 ausführen?                       |
| Ursache    | Windows Touch und Microsoft PixelSense sind inkompatibel.                           |
| Projektmappe | Sie müssen entweder die Windows 7-Plattform oder die Microsoft PixelSense-Plattform als Ziel verwenden. |



 

## <a name="troubleshooting-manipulations-and-inertia"></a>Problembehandlung bei Manipulationen und Trägheit



| Category | Beschreibung |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Meine Anwendung friert ohne Grund ein. Ich erhalte Zugriffsverletzungen, wenn ich meine Objektschnittstellen initialisiere.                                                                                                                                          |
| Ursache    | Fehlender Aufruf von **CoInitialize** bei Verwendung der [**Schnittstellen IManipulationProcessor**](/windows/desktop/api/manipulations/nn-manipulations-imanipulationprocessor) oder [**IInertiaProcessor.**](/windows/desktop/api/manipulations/nn-manipulations-iinertiaprocessor)                                                                                 |
| Projektmappe | Dies kann durch instanziieren der Windows Touch Component Object Model (COM)-Objekte verursacht werden, ohne CoInitialize aufzurufen. Dies geschieht manchmal, wenn Sie Projekte von der Verwendung von Gesten in die Verwendung der Manipulationen oder Trägheitsschnittstellen konvertieren. |



 



| Category | Beschreibung |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Mein Objekt rotiert nicht ordnungsgemäß, wenn es übersetzt wird. Die Drehung mit einem Finger funktioniert nicht ordnungsgemäß.                                                                                                                                                                                                                                                                           |
| Ursache    | Nicht ordnungsgemäßes Festlegen von Pivots für ein Objekt.                                                                                                                                                                                                                                                                                                                                                 |
| Projektmappe | Sie richten die Manipulationspivotpunkte nicht ordnungsgemäß ein. Legen Sie die [**PivotPointX-**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointx) und [**PivotPointY-Eigenschaften**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointy) auf den Mittelpunkt des Objekts oder Punkts fest, um den Sie drehen möchten, und legen Sie die [**PivotRadius-Eigenschaft**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotradius) auf den Radius Ihres Objekts fest. |



 

## <a name="troubleshooting-windows-touch-input"></a>Problembehandlung bei Windows Toucheingabe



| Category | Beschreibung |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Nachdem ich die [**WM \_ TOUCH-Nachricht**](wm-touchdown.md) verarbeitet habe, erhalte ich keine Begrenzungsfeedback mehr.                                                                                                                                                                                                                                        |
| Ursache    | Nutzen sie die [**WM \_ TOUCH-Nachricht,**](wm-touchdown.md) ohne sie zu verarbeiten.                                                                                                                                                                                                                                                           |
| Projektmappe | Sie verwenden wahrscheinlich eine Windows Touch-Nachricht, ohne sie an **DefWindowProc** weiterzuleiten. Dies führt zu unerwartetem Verhalten. Weitere Informationen zum ordnungsgemäßen Umgang mit WM TOUCH-Nachrichten finden Sie unter [Erste Schritte mit Windows](getting-started-with-multi-touch-messages.md) [**\_ Touch-Nachrichten.**](wm-touchdown.md) |



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problem</td>
<td>Ich schleiere windows.h ein, aber es wird immer noch WM_TOUCH nicht definiert. <a href="wm-touchdown.md"><strong></strong></a></td>
</tr>
<tr class="even">
<td>Ursache</td>
<td>Die Windows Version in Targetver.h ist falsch.</td>
</tr>
<tr class="odd">
<td>Projektmappe</td>
<td>Sie haben nicht die richtige Windows Version in Ihrem Projekt festgelegt. Der folgende Code veranschaulicht die ordnungsgemäß festgelegten Windows Versionen für Windows Touch in Windows 7. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#ifndef WINVER                  // Specify that the minimum required platform is Windows 7.
#define WINVER 0x0601           
#endif</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problem</td>
<td>Meine Toucheingabe-X-Koordinaten und y-Koordinaten scheinen ungültig zu sein. Sie sind entweder größere Werte als erwartet, oder sie sind negative Werte.</td>
</tr>
<tr class="even">
<td>Ursache</td>
<td>Möglicherweise müssen Sie Ihre Berührungspunkte in Pixel konvertieren, oder Sie müssen die Bildschirmkoordinaten konvertieren.</td>
</tr>
<tr class="odd">
<td>Projektmappe</td>
<td>Stellen Sie sicher, dass Sie <a href="/windows/desktop/api/winuser/nf-winuser-touch_coord_to_pixel"><strong>TOUCH_COORD_TO_PIXEL</strong></a> und <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient</strong></a>aufrufen. Dies wird im folgenden Code veranschaulicht. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>      POINT ptInput;
      if (GetTouchInputInfo((HTOUCHINPUT)lParam, cInputs, pInputs, sizeof(TOUCHINPUT))){
        for (int i=0; i < static_cast<INT>(cInputs); i++){
          TOUCHINPUT ti = pInputs[i];                       
          if (ti.dwID != 0){                
            // Do something with your touch input handle.
            ptInput.x = TOUCH_COORD_TO_PIXEL(ti.x);
            ptInput.y = TOUCH_COORD_TO_PIXEL(ti.y);
            ScreenToClient(hWnd, &ptInput);
            points[ti.dwID][0] = ptInput.x;
            points[ti.dwID][1] = ptInput.y;
          }
        }
      }</code></pre></td>
</tr>
</tbody>
</table>

<div class="alert">
<blockquote>
[!Note]<br />
Um die <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient-Funktion</strong></a> verwenden zu können, benötigen Sie eine hohe DPI-Unterstützung in Ihrer Anwendung. Weitere Informationen zur Unterstützung hoher DPI-Daten finden Sie im MSDN-Abschnitt <a href=" /windows/win32/hidpi/high-dpi-desktop-application-development-on-windows">High DPI (Hohe DPI-Anzahl).</a>
</blockquote>
</div>
<div>
 
</div></td>
</tr>
</tbody>
</table>



 



| Category | Beschreibung |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Mir werden keine [**WM \_ TOUCH-Nachrichten**](wm-touchdown.md) angezeigt, aber ich weiß, dass Windows Touch funktioniert, da wm [**\_ gesture-Meldungen**](wm-gesture.md) angezeigt werden.                                                             |
| Ursache    | Es fehlt ein Aufruf von [**RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                          |
| Projektmappe | [**WM \_ TOUCH-**](wm-touchdown.md) und [**WM \_ GESTURE-Nachrichten**](wm-gesture.md) schließen sich gegenseitig aus. Wenn Sie [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)nicht aufrufen, erhalten Sie nur **WM \_ GESTURE-Meldungen.** |



 



| Category | Beschreibung |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Ich stelle kleine Verzögerungen fest, von dem Zeitpunkt, an dem ich meinen Finger nach unten befasse, bis zu dem Zeitpunkt, zu dem ich Eingaben in meiner Anwendung erhalte.                                                                                                                                                                                                                                         |
| Ursache    | Die Ablehnung von Handflächen führt zu Verzögerungen bei der Eingabe.                                                                                                                                                                                                                                                                                                            |
| Projektmappe | Wenn **TWF \_ WANTPALM** in Aufrufen von [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)festgelegt ist, ist die Ablehnung von "hand" aktiviert. Dies führt zu einer kleinen Verzögerung (100 ms), während die Software testet, ob die Eingabe von einem Finger, Stift oder der Handfläche des Benutzers stammt. Deaktivieren Sie die Ablehnung von Handflächen, indem **Sie RegisterTouchWindow** aufrufen, wobei das **TWF \_ WANTPALM-Flag** deaktiviert ist. |



 

## <a name="troubleshooting-windows-touch-gestures"></a>Problembehandlung bei Windows Touchgesten



| Category | Beschreibung |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Nachdem ich die [**WM \_ GESTURE-Nachricht**](wm-gesture.md) verarbeitet habe, erhalte ich keine Begrenzungsfeedback mehr. Oder eine Geste, die zuvor funktioniert hat, funktioniert jetzt nicht.                                                                                                                                                                                                                         |
| Ursache    | Verwenden der [**WM \_ GESTURE-Nachricht,**](wm-gesture.md) ohne sie zu verarbeiten.                                                                                                                                                                                                                                                                                                    |
| Projektmappe | Sie verwenden wahrscheinlich eine Windows Touch-Nachricht, ohne sie an [DefWindowProc](/windows/win32/api/winuser/nf-winuser-defwindowproca)weiterzuleiten. Dies führt zu unerwartetem Verhalten. Weitere Informationen zum ordnungsgemäßen Behandeln von WM GESTURE-Nachrichten finden Sie unter [Erste Schritte mit Windows Gesten.](getting-started-with-multi-touch-gestures.md) [**\_**](wm-gesture.md) |



 



| Category | Beschreibung |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Mir werden keine [**WM \_ GESTURE-Nachrichten**](wm-gesture.md) angezeigt, aber ich weiß, dass Windows Touch funktioniert, da wm [**\_ touch-Nachrichten**](wm-touchdown.md) angezeigt werden.                                                      |
| Ursache    | Aufrufen von [**RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                             |
| Projektmappe | [**WM \_ TOUCH-**](wm-touchdown.md) und [**WM \_ GESTURE-Nachrichten**](wm-gesture.md) schließen sich gegenseitig aus. Wenn Sie [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)aufrufen, erhalten Sie keine **WM \_ GESTURE-Meldungen.** |



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problem</td>
<td>Ich sehe nicht alle Gesten, die ich erwarten werde. Beispielsweise werden Gesten mit dem Bezeichner <strong>GID_PAN,</strong> aber nicht <strong>GID_ROTATE.</strong></td>
</tr>
<tr class="even">
<td>Ursache</td>
<td>Einige Gesten, z. B. die Drehbewegung, sind standardmäßig nicht aktiviert.</td>
</tr>
<tr class="odd">
<td>Projektmappe</td>
<td>Sie müssen <a href="/windows/desktop/api/winuser/nf-winuser-setgestureconfig"><strong>SetGestureConfig</strong></a> aufrufen, wenn Sie eine <a href="wm-gesturenotify.md"><strong>WM_GESTURENOTIFY</strong></a> Meldung erhalten, wie im <strong>WM_GESTURENOTIFY-Verweis</strong> beschrieben, oder Sie müssen einen Handler für die <strong>WM_GESTURENOTIFY</strong> Nachricht hinzufügen. Der folgende Code zeigt, wie ein Handler implementiert werden kann, um die Unterstützung für die Drehung zu aktivieren. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>// The message map.
BEGIN_MESSAGE_MAP()
    ON_WM_CREATE()
     ... ... ...
    ON_MESSAGE(WM_GESTURENOTIFY, OnWindowsGestureNotify)
END_MESSAGE_MAP()  

LRESULT CTestWndApp::OnWindowsGestureNotify(
    UINT    uMsg,
    WPARAM  wParam,
    LPARAM  lParam,
    BOOL&   bHandled
    ){
    GESTURECONFIG gc;
    gc.dwID    = GID_ROTATE; // The gesture identifier.
    gc.dwWant  = GC_ROTATE;  // The gesture command you are enabling for GID_ROTATE.
    gc.dwBlock = 0;          // Don&#39;t block anything.
    UINT uiGcs = 1;          // The number of gestures being set.

  BOOL bResult = SetGestureConfig(g_hMainWnd, 0, uiGcs, &gc, sizeof(GESTURECONFIG));
    if(!bResult) {
        // Something went wrong, report the error using your preferred logging.
    }

  return 0;
}  </code></pre></td>
</tr>
</tbody>
</table>

Weitere Beispiele für typische Gestenkonfigurationen finden Sie unter <strong>SetGestureConfig.</strong></td>
</tr>
</tbody>
</table>



 



| Category | Beschreibung |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Die benutzerdefinierten Bildlaufleisten in meiner Anwendung scrollen nicht, wenn ich die Schwenkbewegung führe.                                                                                                                                                                                                                                                                                                         |
| Ursache    | Fehlende Handler für die richtigen WM \_ \* SCROLL-Meldungen.                                                                                                                                                                                                                                                                                                                                            |
| Projektmappe | Sie verarbeiten nicht alle WM \_ \* SCROLL-Meldungen in Ihren benutzerdefinierten Scrollleisten. Es wird empfohlen, die [**WM \_ GESTURE-Nachricht**](wm-gesture.md) zu verarbeiten, anstatt die benutzerdefinierte Scrollleistenfunktion über legacy-Unterstützung beizubehalten. Sie müssen Meldungen unterstützen, wie im Abschnitt [Legacyunterstützung für Schwenken mit Scrollleisten](legacy-support-for-panning-with-scrollbars.md)beschrieben. |



 



| Category | Beschreibung |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problem    | Ich erhalte Verzögerungen bei Gesten.                                                                                                                                                                                                                               |
| Ursache    | Flimmer können zu Verzögerungen bei Gesten führen.                                                                                                                                                                                                                      |
| Projektmappe | Bei Flimmern kann es zu Verzögerungen kommen, wie lange es dauert, bis Ihre Anwendung [**WM \_ GESTURE-Nachrichten**](wm-gesture.md) empfängt. Informationen zum Deaktivieren von Flimmern finden Sie unter Legacyunterstützung für Schwenken [mit Scrollleisten.](legacy-support-for-panning-with-scrollbars.md) |



 

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[Programmierhandbuch](programming-guide.md)
</dt> </dl>

 

 
