---
title: Clipping (directcomposition)
description: In diesem Thema wird die Unterstützung von Microsoft directcomposition zum Abschneiden von visuellen Elementen beschrieben.
ms.assetid: B6E0D8F5-B6B9-40CC-B079-850AC8F2D538
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4feb537dfb41053dd1099eca7f122b3284dce95
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2020
ms.locfileid: "104391480"
---
# <a name="clipping-directcomposition"></a><span data-ttu-id="f5e87-103">Clipping (directcomposition)</span><span class="sxs-lookup"><span data-stu-id="f5e87-103">Clipping (DirectComposition)</span></span>

> [!NOTE]
> <span data-ttu-id="f5e87-104">Für apps unter Windows 10 wird die Verwendung von Windows. UI. Composition-APIs anstelle von directcomposition empfohlen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-104">For apps on Windows 10, we recommend using Windows.UI.Composition APIs instead of DirectComposition.</span></span> <span data-ttu-id="f5e87-105">Weitere Informationen finden Sie unter [modernisieren ihrer Desktop-App mithilfe der visuellen Ebene](/windows/uwp/composition/visual-layer-in-desktop-apps).</span><span class="sxs-lookup"><span data-stu-id="f5e87-105">For more info, see [Modernize your desktop app using the Visual layer](/windows/uwp/composition/visual-layer-in-desktop-apps).</span></span>

<span data-ttu-id="f5e87-106">Das Clipping bietet eine Möglichkeit, nur einen Teil eines visuellen Elements oder eines visuellen Baums anzuzeigen, indem das Rendering des visuellen Elements oder der Struktur auf einen bestimmten rechteckigen Bereich beschränkt wird.</span><span class="sxs-lookup"><span data-stu-id="f5e87-106">Clipping provides a way to reveal only a portion of a visual or visual tree by limiting the rendering of the visual or tree to a particular rectangular area.</span></span> <span data-ttu-id="f5e87-107">In diesem Thema wird die Unterstützung von Microsoft directcomposition zum Abschneiden von visuellen Elementen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="f5e87-107">This topic describes Microsoft DirectComposition support for clipping visuals.</span></span> <span data-ttu-id="f5e87-108">Er enthält folgende Abschnitte:</span><span class="sxs-lookup"><span data-stu-id="f5e87-108">It includes the following sections:</span></span>

-   [<span data-ttu-id="f5e87-109">Clip Rechteck</span><span class="sxs-lookup"><span data-stu-id="f5e87-109">Clip rectangle</span></span>](#clip-rectangle)
-   [<span data-ttu-id="f5e87-110">Clip-Objekt</span><span class="sxs-lookup"><span data-stu-id="f5e87-110">Clip object</span></span>](#clip-object)
-   [<span data-ttu-id="f5e87-111">Animiertes Clip Rechteck</span><span class="sxs-lookup"><span data-stu-id="f5e87-111">Animated clip rectangle</span></span>](#animated-clip-rectangle)
-   [<span data-ttu-id="f5e87-112">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="f5e87-112">Related topics</span></span>](#related-topics)

## <a name="clip-rectangle"></a><span data-ttu-id="f5e87-113">Clip Rechteck</span><span class="sxs-lookup"><span data-stu-id="f5e87-113">Clip rectangle</span></span>

<span data-ttu-id="f5e87-114">Ein visuelles Objekt verfügt über eine Clip-Eigenschaft, die einen rechteckigen Bereich oder ein *Clip Rechteck* innerhalb des Bitmapinhalts der Visualisierung definiert.</span><span class="sxs-lookup"><span data-stu-id="f5e87-114">A visual object has a Clip property that defines a rectangular region, or *clip rectangle*, within the visual's bitmap content.</span></span> <span data-ttu-id="f5e87-115">Wenn das visuelle Element auf dem Bildschirm gerendert wird, wird nur der Teil des Bitmapinhalts, der sich innerhalb des Clip Rechtecks befindet, auf dem Bildschirm gezeichnet, während der Inhalt, der sich außerhalb des Clip Rechtecks erstreckt, abgeschnitten wird (nicht gezeichnet).</span><span class="sxs-lookup"><span data-stu-id="f5e87-115">When the visual is rendered to the screen, only the portion of the bitmap content that is inside the clip rectangle is drawn on the screen, while the content that extends outside the clip rectangle is clipped (not drawn).</span></span> <span data-ttu-id="f5e87-116">Standardmäßig enthält die Clip-Eigenschaft den gesamten Bitmapinhalt.</span><span class="sxs-lookup"><span data-stu-id="f5e87-116">By default, the Clip property includes all bitmap content.</span></span>

<span data-ttu-id="f5e87-117">Die Clip-Eigenschaft eines visuellen Elements gilt für alle untergeordneten und Nachfolger visuellen Elemente.</span><span class="sxs-lookup"><span data-stu-id="f5e87-117">A visual's Clip property applies to all child and descendent visuals.</span></span> <span data-ttu-id="f5e87-118">Anders ausgedrückt: alle untergeordneten oder nachfolgenden Inhalte, die außerhalb der Grenzen des Clip Rechtecks des übergeordneten Elements liegen, werden ebenfalls abgeschnitten.</span><span class="sxs-lookup"><span data-stu-id="f5e87-118">In other words, any child or descendent content that falls outside the bounds of the parent's clip rectangle is also clipped.</span></span>

<span data-ttu-id="f5e87-119">Directcomposition wendet die Clip-Eigenschaft vor dem Anwenden der Transformations Eigenschaften OffsetX, OffsetY und 2D an, aber nach dem Anwenden des Effekts und der 3D-Transformations Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="f5e87-119">DirectComposition applies the Clip property before applying the OffsetX, OffsetY, and 2D Transform properties, but after applying the Effect and 3D Transform properties.</span></span> <span data-ttu-id="f5e87-120">Dies bedeutet, dass die 2D-Transformationen, OffsetX und OffsetY sowohl den visuellen Inhalt als auch das Clip Rechteck beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-120">This means that 2D Transforms, OffsetX, and OffsetY, will affect both the visual content, and the clip rectangle.</span></span> <span data-ttu-id="f5e87-121">Während 3D-Transformationen und-Effekte nicht auf das Clip Rechteck angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="f5e87-121">Whereas 3D transforms and effects will not apply to the clip rectangle.</span></span>

<span data-ttu-id="f5e87-122">Wenn Sie z. b. eine Offset-oder 2D-Transformation anwenden, ist das Clip Rechteck von der Transformationsmatrix betroffen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-122">For example, when applying an offset or 2D transform, the clip rectangle is affected by the transformation matrix.</span></span> <span data-ttu-id="f5e87-123">Das Hinzufügen eines Offsets und einer 2D-Drehung (45 Grad) zusammen mit einem abgerundeten Ecken-Clip Rechteck führt zum folgenden:</span><span class="sxs-lookup"><span data-stu-id="f5e87-123">So adding an offset and a 2D rotate (45 degrees) along with a rounded corner clip rectangle will result in this:</span></span>

![Diagramm der Darstellung der Auswirkung einer 2D-Transformation auf ein Clip Rechteck.](images/clipping2dtransform.png)

<span data-ttu-id="f5e87-125">Wenn Sie eine 3D-Transformation "innerhalb" des Clip Rechtecks anwenden, wird das Clip Rechteck von der Transformationsmatrix nicht beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="f5e87-125">When applying a 3D transformation “within” the clip rectangle, the clip rectangle is not affected by the transformation matrix.</span></span> <span data-ttu-id="f5e87-126">Selbst wenn eine Drehung um die Z-Achse angewendet wird (das gleiche wie das vorherige Beispiel), ist das folgende Diagramm das Ergebnis:</span><span class="sxs-lookup"><span data-stu-id="f5e87-126">Even when applying a rotation around the Z axis (effectively the same as the previous example), the following diagram is the result:</span></span>

![Diagramm, das anzeigt, dass sich eine 3D--Transformation nicht auf den Rechteck Clip auswirkt (visuelle rotiert innerhalb des Clips).](images/clipping3dtransform.png)

<span data-ttu-id="f5e87-128">Beachten Sie, dass das visuelle Element innerhalb des Clips gedreht wurde, da die 3D-Matrix nicht auf den Clip selbst angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="f5e87-128">Note that the visual rotated within the clip because the 3D matrix is not applied to the clip itself.</span></span>

<span data-ttu-id="f5e87-129">Wenn die Clip-Eigenschaft auf ein leeres Rechteck festgelegt ist, wird die Visualisierung vollständig abgeschnitten. Das heißt, das visuelle Element ist in der visuellen Struktur enthalten, aber es wird nichts angezeigt.</span><span class="sxs-lookup"><span data-stu-id="f5e87-129">If the Clip property is set to an empty rectangle, the visual is fully clipped; that is, the visual is included in the visual tree, but it does not render anything.</span></span> <span data-ttu-id="f5e87-130">Wenn Sie keine bestimmte Visualisierung in eine Komposition einschließen möchten, entfernen Sie das visuelle Element aus der visuellen Struktur, anstatt ein leeres Clip Rechteck festzulegen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-130">If you do not want to include a particular visual in a composition, remove the visual from the visual tree instead of setting an empty clip rectangle.</span></span> <span data-ttu-id="f5e87-131">Das Entfernen der Visualisierung führt zu einer besseren Leistung.</span><span class="sxs-lookup"><span data-stu-id="f5e87-131">Removing the visual results in better performance.</span></span>

<span data-ttu-id="f5e87-132">Sie legen die Clip-Eigenschaft eines visuellen Elements mithilfe der [**idcompositionvisual:: SetClip**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-setclip(constd2d_rect_f_)) -Methode fest.</span><span class="sxs-lookup"><span data-stu-id="f5e87-132">You set the Clip property of a visual by using the [**IDCompositionVisual::SetClip**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-setclip(constd2d_rect_f_)) method.</span></span> <span data-ttu-id="f5e87-133">Diese Methode umfasst über Ladungen, die es Ihnen ermöglichen, den Wert der Clip-Eigenschaft auf ein statisches Rechteck oder ein Clip Objekt festzulegen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-133">This method includes overloads that enable you to set the value of the Clip property to a static rectangle or to a clip object.</span></span> <span data-ttu-id="f5e87-134">Verwenden Sie ein statisches Rechteck, wenn Sie die Dimensionen des Clip Rechtecks während der Lebensdauer des visuellen Elements nicht ändern müssen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-134">Use a static rectangle if you do not need to change the dimensions of the clip rectangle during the lifetime of the visual.</span></span> <span data-ttu-id="f5e87-135">Wenn Sie die Dimensionen ändern oder das Clip Rechteck animieren müssen, verwenden Sie ein Clip-Objekt.</span><span class="sxs-lookup"><span data-stu-id="f5e87-135">If you do need to change the dimensions or animate the clip rectangle, use a clip object.</span></span>

## <a name="clip-object"></a><span data-ttu-id="f5e87-136">Clip-Objekt</span><span class="sxs-lookup"><span data-stu-id="f5e87-136">Clip object</span></span>

<span data-ttu-id="f5e87-137">Bei einem Clip-Objekt handelt es sich um ein Component Object Model (com)-Objekt, das ein Clip Rechteck darstellt.</span><span class="sxs-lookup"><span data-stu-id="f5e87-137">A clip object is a Component Object Model (COM) object that represents a clip rectangle.</span></span> <span data-ttu-id="f5e87-138">Zum Erstellen eines Clip-Objekts verwenden Sie die [**idcompositiondevice:: samaterectangleclip**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrectangleclip) -Methode, und verwenden Sie dann die [**idcompositionrechgleclip**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrectangleclip) -Schnittstelle des Objekts, um die Eigenschaften des Objekts festzulegen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-138">You create a clip object by using the [**IDCompositionDevice::CreateRectangleClip**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrectangleclip) method, and then use the object's [**IDCompositionRectangleClip**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrectangleclip) interface to set the properties of the object.</span></span> <span data-ttu-id="f5e87-139">Ein neu erstelltes Clip-Objekt verfügt über die minimal möglichen Werte für die linke und die obere Eigenschaft sowie über die maximal möglichen Werte für die Eigenschaften Right und Bottom, wodurch es zu einem No-op-Clip-Objekt wird.</span><span class="sxs-lookup"><span data-stu-id="f5e87-139">A newly created clip object has the minimum possible values for the Left and Top properties, and the maximum possible values for the Right and Bottom properties, effectively making it a no-op clip object.</span></span> <span data-ttu-id="f5e87-140">Das heißt, das-Objekt stellt ein Clip Rechteck dar, das den gesamten Bitmapinhalt eines visuellen Elements einschließt.</span><span class="sxs-lookup"><span data-stu-id="f5e87-140">In other words, the object represents a clip rectangle that would include the entire bitmap content of a visual.</span></span>

<span data-ttu-id="f5e87-141">Ein Clip-Objekt enthält eine Reihe von Eigenschaften, mit denen Sie abgerundete Ecken für das Clip Objekt angeben können.</span><span class="sxs-lookup"><span data-stu-id="f5e87-141">A clip object includes a set of properties that enable you to specify rounded corners for the clip object.</span></span> <span data-ttu-id="f5e87-142">Mit den-Eigenschaften können Sie den x-Radius und den y-Radius jeder Ecke des clippingobjekts festlegen.</span><span class="sxs-lookup"><span data-stu-id="f5e87-142">The properties enable you to set the x radius and y radius of each corner of the clipping object.</span></span>

## <a name="animated-clip-rectangle"></a><span data-ttu-id="f5e87-143">Animiertes Clip Rechteck</span><span class="sxs-lookup"><span data-stu-id="f5e87-143">Animated clip rectangle</span></span>

<span data-ttu-id="f5e87-144">Sie können ein Clip Rechteck animieren, indem Sie Animations Objekte auf die Eigenschaften Left, Top, Right und Bottom eines Clip-Objekts anwenden.</span><span class="sxs-lookup"><span data-stu-id="f5e87-144">You can animate a clip rectangle by applying animation objects to the Left, Top, Right, and Bottom properties of a clip object.</span></span> <span data-ttu-id="f5e87-145">Verwenden Sie die überladene Methode [**idcompositionvisual:: SetClip (idcompositionclip)**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-setclip(idcompositionclip)) , um das animierte Clip Rechteck auf die Clip-Eigenschaft eines visuellen Elements anzuwenden.</span><span class="sxs-lookup"><span data-stu-id="f5e87-145">Use the [**IDCompositionVisual::SetClip(IDCompositionClip)**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-setclip(idcompositionclip)) overloaded method to apply the animated clip rectangle to the Clip property of a visual.</span></span>

<span data-ttu-id="f5e87-146">Weitere Informationen zu Animations Objekten finden Sie unter [Animation](animation.md).</span><span class="sxs-lookup"><span data-stu-id="f5e87-146">For more information about animation objects, see [Animation](animation.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f5e87-147">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="f5e87-147">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f5e87-148">Directcomposition-Konzepte</span><span class="sxs-lookup"><span data-stu-id="f5e87-148">DirectComposition Concepts</span></span>](directcomposition-concepts.md)
</dt> <dt>

[<span data-ttu-id="f5e87-149">Vorgehensweise beim Abschneiden mit einem Rechteck Clip-Objekt</span><span class="sxs-lookup"><span data-stu-id="f5e87-149">How to Clip with a Rectangle Clip Object</span></span>](how-to--set-the-clip-rectangle-for-a-visual.md)
</dt> </dl>

 

 
