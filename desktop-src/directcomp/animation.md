---
title: Animation (directcomposition)
description: In diesem Thema werden die Grundlagen der Microsoft directcomposition-Animation erläutert.
ms.assetid: 65DA3971-97C0-4B59-BC67-287AAEAAE340
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f7462a10fd83b45c1b90450fdde806ef306a2f6
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2020
ms.locfileid: "106341982"
---
# <a name="animation-directcomposition"></a><span data-ttu-id="2ecf1-103">Animation (directcomposition)</span><span class="sxs-lookup"><span data-stu-id="2ecf1-103">Animation (DirectComposition)</span></span>

> [!NOTE]
> <span data-ttu-id="2ecf1-104">Für apps unter Windows 10 wird die Verwendung von Windows. UI. Composition-APIs anstelle von directcomposition empfohlen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-104">For apps on Windows 10, we recommend using Windows.UI.Composition APIs instead of DirectComposition.</span></span> <span data-ttu-id="2ecf1-105">Weitere Informationen finden Sie unter [modernisieren ihrer Desktop-App mithilfe der visuellen Ebene](/windows/uwp/composition/visual-layer-in-desktop-apps).</span><span class="sxs-lookup"><span data-stu-id="2ecf1-105">For more info, see [Modernize your desktop app using the Visual layer](/windows/uwp/composition/visual-layer-in-desktop-apps).</span></span>

<span data-ttu-id="2ecf1-106">In diesem Thema werden die Grundlagen der Microsoft directcomposition-Animation erläutert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-106">This topic discusses the basics of Microsoft DirectComposition animation.</span></span> <span data-ttu-id="2ecf1-107">Die Lektion enthält die folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="2ecf1-107">It contains the following topics:</span></span>

-   [<span data-ttu-id="2ecf1-108">Was ist eine Animation?</span><span class="sxs-lookup"><span data-stu-id="2ecf1-108">What is an animation?</span></span>](#what-is-an-animation)
-   [<span data-ttu-id="2ecf1-109">Eigenschaften, die animiert werden können</span><span class="sxs-lookup"><span data-stu-id="2ecf1-109">Properties that can be animated</span></span>](#properties-that-can-be-animated)
-   [<span data-ttu-id="2ecf1-110">Animations Funktionen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-110">Animation functions</span></span>](#animation-functions)
-   [<span data-ttu-id="2ecf1-111">Animations Segmente</span><span class="sxs-lookup"><span data-stu-id="2ecf1-111">Animation segments</span></span>](#animation-segments)
    -   [<span data-ttu-id="2ecf1-112">Kubisches Segment</span><span class="sxs-lookup"><span data-stu-id="2ecf1-112">Cubic segment</span></span>](#cubic-segment)
    -   [<span data-ttu-id="2ecf1-113">Sinusoidal-Segment</span><span class="sxs-lookup"><span data-stu-id="2ecf1-113">Sinusoidal segment</span></span>](#sinusoidal-segment)
    -   [<span data-ttu-id="2ecf1-114">Segment wiederholen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-114">Repeat segment</span></span>](#repeat-segment)
    -   [<span data-ttu-id="2ecf1-115">Segment Ende</span><span class="sxs-lookup"><span data-stu-id="2ecf1-115">End segment</span></span>](#end-segment)
-   [<span data-ttu-id="2ecf1-116">Kompatibilität mit Windows Animation Manager</span><span class="sxs-lookup"><span data-stu-id="2ecf1-116">Compatibility with Windows Animation Manager</span></span>](#compatibility-with-windows-animation-manager)
-   [<span data-ttu-id="2ecf1-117">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-117">Related topics</span></span>](#related-topics)

## <a name="what-is-an-animation"></a><span data-ttu-id="2ecf1-118">Was ist eine Animation?</span><span class="sxs-lookup"><span data-stu-id="2ecf1-118">What is an animation?</span></span>

<span data-ttu-id="2ecf1-119">*Animation* ist eine optische Illusion, die erstellt wird, indem in einem bestimmten Zeitraum schnell inkrementelle Änderungen an einem visuellen Element vorgenommen werden, während die Visualisierung nach jeder Änderung neu gezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-119">*Animation* is an optical illusion created by quickly making incremental changes to a visual over a period of time while redrawing the visual after each change is made.</span></span> <span data-ttu-id="2ecf1-120">Da die Neuzeichnungen schnell ausgeführt werden, spürt das Gehirn die inkrementellen Änderungen als eine einzelne, sich ändernde Szene auf, genau wie bei einem Film oder einer Live Aktion.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-120">Because the redraws occur quickly, the brain perceives the incremental changes as a single changing scene, just as in a movie or video of live action.</span></span>

<span data-ttu-id="2ecf1-121">In der folgenden Tabelle werden einige der typischen Möglichkeiten der Verwendung von Animationen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-121">The following table describes some of the typical ways of using animation.</span></span>

| <span data-ttu-id="2ecf1-122">Animation</span><span class="sxs-lookup"><span data-stu-id="2ecf1-122">Animation</span></span>                 | <span data-ttu-id="2ecf1-123">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="2ecf1-123">Description</span></span>                                                                                                                                                                                                                                          |
|---------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2ecf1-124">Bildlauf</span><span class="sxs-lookup"><span data-stu-id="2ecf1-124">Scrolling</span></span>                 | <span data-ttu-id="2ecf1-125">Verwenden Sie Animationen zum Hinzufügen von Funktionen wie "Physik-emulating Momentum" zu einem scrolllisten-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-125">Use animation to add features like physics-emulating momentum to a scrolling list control.</span></span>                                                                                                                                                           |
| <span data-ttu-id="2ecf1-126">Szenen Übergänge</span><span class="sxs-lookup"><span data-stu-id="2ecf1-126">Scene transitions</span></span>         | <span data-ttu-id="2ecf1-127">Verwenden Sie Animationen, um Navigations Szenen Übergänge zu erstellen, die die Kontinuität zwischen Aufgaben in einem Workflow bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-127">Use animation to create navigational scene transitions that provide continuity between tasks in a workflow.</span></span> <span data-ttu-id="2ecf1-128">Navigations Szenen Übergänge stellen Kontext bereit, der den Benutzer anzeigt, wo Sie sich befinden, wo Sie sich befinden und wo Sie als nächstes wechseln müssen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-128">Navigational scene transitions provide context that shows the user where they have been, where they are, and where they need to go next.</span></span> |
| <span data-ttu-id="2ecf1-129">Fenster übergreifende Interaktionen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-129">Cross-window interactions</span></span> | <span data-ttu-id="2ecf1-130">Animieren Sie Benutzeroberflächen Elemente verschiedener Anwendungen auf eine Weise, die eine nahtlose Kontinuität zwischen Ihnen ermöglicht, um dem Benutzer zu helfen, Aufgaben auszuführen, die den Wechsel von einer Anwendung zu einer anderen ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-130">Animate UI elements of different applications in a way that gives the perception of seamless continuity between them to help the user complete tasks that involve switching from one application to another.</span></span>                                         |



 

## <a name="properties-that-can-be-animated"></a><span data-ttu-id="2ecf1-131">Eigenschaften, die animiert werden können</span><span class="sxs-lookup"><span data-stu-id="2ecf1-131">Properties that can be animated</span></span>

<span data-ttu-id="2ecf1-132">In directcomposition animieren Sie ein visuelles Element durch Anwenden von Animationen auf einzelne Eigenschaften der Objekte, die die Visualisierung definieren.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-132">In DirectComposition, you animate a visual by applying animation to individual properties of the objects that define the visual.</span></span> <span data-ttu-id="2ecf1-133">Wenn Sie ein visuelles Element z. b. horizontal auf den Bildschirm verschieben möchten, wenden Sie die Animation auf die OffsetX-Eigenschaft des visuellen Elements an.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-133">For example, if you want to move a visual horizontally across the screen, you would apply animation to the OffsetX property of the visual.</span></span> <span data-ttu-id="2ecf1-134">Wenn Sie eine einfache animierte 2D-Drehung eines visuellen Elements durchführen möchten, wenden Sie die Animation auf die Angle-Eigenschaft eines 2D-Transformations Objekts an, und wenden Sie dann das 2D-Transformations Objekt auf die Transform-Eigenschaft des visuellen Elements an.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-134">Similarly, if you wanted to do a simple animated 2D rotation of a visual, you would apply animation to the Angle property of a 2D transform object, and then apply the 2D transform object to the Transform property of the visual.</span></span>

<span data-ttu-id="2ecf1-135">Directcomposition ermöglicht das Anwenden von Animationen auf jede Objekt Eigenschaft, die einen skalaren Wert annimmt.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-135">DirectComposition enables you to apply animation to any object property that takes a scalar value.</span></span> <span data-ttu-id="2ecf1-136">Sie können gleichzeitige Animationen auf mehrere Eigenschaften und mehrere Objekte anwenden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-136">You can apply simultaneous animations to multiple properties and multiple objects.</span></span>

<span data-ttu-id="2ecf1-137">Directcomposition führt Animationen in einem separaten Thread aus.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-137">DirectComposition runs animations on a separate thread.</span></span> <span data-ttu-id="2ecf1-138">Sie können eine Animation oder einen Satz von Animationen starten und dann andere Aufgaben an Ihren Anwendungsthreads ausführen oder sogar Threads in den Standbymodus versetzen, während die Kompositions-Engine die Animationen mit der entsprechenden Framerate ausführt.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-138">You can start an animation or set of animations and then do other work on your application threads, or even put threads to sleep, while the composition engine runs the animations at the appropriate frame rate.</span></span>

## <a name="animation-functions"></a><span data-ttu-id="2ecf1-139">Animations Funktionen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-139">Animation functions</span></span>

<span data-ttu-id="2ecf1-140">Directcomposition animiert eine Objekt Eigenschaft, die auf einer von Ihnen definierten Animations Funktion basiert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-140">DirectComposition animates an object property based on an animation function that you define.</span></span> <span data-ttu-id="2ecf1-141">Eine *Animations Funktion* ist ein Konstrukt, das angibt, wie sich der Wert einer Objekt Eigenschaft über einen bestimmten Zeitraum ändert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-141">An *animation function* is a construct that specifies how the value of an object property changes over a period of time.</span></span> <span data-ttu-id="2ecf1-142">Sie können z. b. eine Animations Funktion definieren, die den Wert einer Eigenschaft im Verlauf von 4 Sekunden von 1 auf 360 ändert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-142">For example, you could define an animation function that changes the value of a property from 1 to 360 over the course of 4 seconds.</span></span> <span data-ttu-id="2ecf1-143">Wenn Sie dann die Animations Funktion auf die Angle-Eigenschaft eines 2D-Transformations Objekts Drehung anwenden und dann das Transform-Objekt auf die Transform-Eigenschaft eines visuellen Elements anwenden, würde die Animations Funktion die Visualisierung im Verlauf von 4 Sekunden in einem vollständigen Kreis drehen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-143">Then, if you apply the animation function to the Angle property of a 2D rotate transform object, and then apply the transform object to the Transform property of a visual, the animation function would rotate the visual in a full circle over the course of 4 seconds.</span></span>

<span data-ttu-id="2ecf1-144">Eine Animations Funktion wird durch ein *Animations Objekt* dargestellt, das durch einen Aufrufen der [**idcompositiondevice:: up Animation**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createanimation) -Methode erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-144">An animation function is represented by an *animation object* created by a call to the [**IDCompositionDevice::CreateAnimation**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createanimation) method.</span></span> <span data-ttu-id="2ecf1-145">Sie erstellen eine Animations Funktion mithilfe der Methoden der [**idcompositionanimation**](/windows/desktop/api/DcompAnimation/nn-dcompanimation-idcompositionanimation) -Schnittstelle eines Animations Objekts, um *Animations Segmente* nacheinander an das Array anzufügen, das die Animations Funktion definiert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-145">You create an animation function by using the methods of an animation object's [**IDCompositionAnimation**](/windows/desktop/api/DcompAnimation/nn-dcompanimation-idcompositionanimation) interface to append *animation segments*, one at a time, to the array that defines the animation function.</span></span> <span data-ttu-id="2ecf1-146">Wenn Sie ein Segment anfügen, geben Sie einen NULL basierten Offset an, der die Anfangszeit des Segments relativ zum Anfang der Animations Funktion markiert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-146">When appending a segment, you specify a zero-based offset that marks the begin time of the segment, relative to the beginning of the animation function.</span></span> <span data-ttu-id="2ecf1-147">Animations Segmente müssen in zunehmender Reihenfolge der Anfangszeiten angehängt werden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-147">Animation segments must be appended in increasing order of begin times.</span></span> <span data-ttu-id="2ecf1-148">Wenn Sie versuchen, ein Animations Segment anzufügen, dessen Anfangszeit vor oder gleich einem vorangehenden Segment ist, tritt ein Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-148">Attempting to append an animation segment whose begin time is before or equal to a preceding segment will fail.</span></span> <span data-ttu-id="2ecf1-149">Eine Animations Funktion kann eine angegebene Endzeit aufweisen, die angibt, wann die Funktion abgeschlossen werden soll.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-149">An animation function can have a specified end time, indicating when the function should conclude.</span></span>

<span data-ttu-id="2ecf1-150">Sofern nicht anders angegeben, wird eine Animations Funktion gestartet, wenn der Desktopfenster-Manager (DWM) den Befehl empfängt, um die Animation auszuführen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-150">Unless otherwise specified, an animation function starts when the Desktop Window Manager (DWM) receives the command to execute the animation.</span></span> <span data-ttu-id="2ecf1-151">Jedes Segment wird ausgeführt, bis die Startzeit des nächsten Segments erreicht ist.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-151">Each segment runs until the begin time of the next segment is reached.</span></span> <span data-ttu-id="2ecf1-152">Alle diskontinuierlichen Änderungen, die im animierten Eigenschafts Wert zwischen Segmenten auftreten, gelten als diskrete Änderungen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-152">Any discontinuous changes that occur in the animated property value between segments are considered to be discrete changes.</span></span>

<span data-ttu-id="2ecf1-153">Sie wenden eine Animations Funktion auf eine Eigenschaft an, indem Sie den Eigenschafts Wert auf den [**idcompositionanimation**](/windows/desktop/api/DcompAnimation/nn-dcompanimation-idcompositionanimation) -Zeiger des Animations Objekts festlegen, das die Animations Funktion darstellt.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-153">You apply an animation function to a property by setting the property value to the [**IDCompositionAnimation**](/windows/desktop/api/DcompAnimation/nn-dcompanimation-idcompositionanimation) pointer of the animation object that represents the animation function.</span></span> <span data-ttu-id="2ecf1-154">Das gleiche Animations Objekt kann auf mehrere Eigenschaften desselben Objekts und auf die Eigenschaften anderer Objekte angewendet werden, die vom gleichen Gerät erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-154">The same animation object can be applied to multiple properties of the same object, as well as to the properties of other objects created by the same device.</span></span>

## <a name="animation-segments"></a><span data-ttu-id="2ecf1-155">Animations Segmente</span><span class="sxs-lookup"><span data-stu-id="2ecf1-155">Animation segments</span></span>

<span data-ttu-id="2ecf1-156">Animations Segmente sind die grundlegenden zeitlichen Definitionen einer Animations Funktion. Dabei handelt es sich um die primitiven, aus denen komplexere und übergeordnete Animations Funktionen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-156">Animation segments are the fundamental timing definitions of an animation function; they are the primitives from which more complex and higher level animation functions are built.</span></span> <span data-ttu-id="2ecf1-157">Ein Animations Segment wird aus einer Reihe von Parametern erstellt, die die Funktion und die Uhrzeit, zu der das Segment beginnt, relativ zum Anfang der Animations Funktion beschreiben.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-157">An animation segment is constructed from a series of parameters that describe the function and the time when the segment begins, relative to the beginning of the animation function.</span></span> <span data-ttu-id="2ecf1-158">Für jedes Segment verläuft die Zeit (*t*) entlang der horizontalen Achse und beginnt bei *t* = 0.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-158">For every segment, time (*t*) progresses along the horizontal axis and begins at *t* = 0.</span></span>

### <a name="cubic-segment"></a><span data-ttu-id="2ecf1-159">Kubisches Segment</span><span class="sxs-lookup"><span data-stu-id="2ecf1-159">Cubic segment</span></span>

<span data-ttu-id="2ecf1-160">Die zeitliche Steuerung eines kubischen Segments wird durch einen kubischen polynomal definiert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-160">The timing of a cubic segment is defined by a cubic polynomial.</span></span> <span data-ttu-id="2ecf1-161">Für eine gegebene Zeiteingabe (*t*) wird der Ausgabewert durch die folgende Gleichung angegeben:</span><span class="sxs-lookup"><span data-stu-id="2ecf1-161">For a given time input (*t*), the output value is given by the following equation:</span></span>

<span data-ttu-id="2ecf1-162">*x*(*t*) = *bei*³ + *BT*² + *CT*  +  *d*</span><span class="sxs-lookup"><span data-stu-id="2ecf1-162">*x*(*t*) = *at*³ + *bt*² + *ct* + *d*</span></span>

<span data-ttu-id="2ecf1-163">Das folgende Diagramm zeigt eine Animations Funktion, die zwei kubische Segmente enthält.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-163">The following diagram shows an animation function that contains of two cubic segments.</span></span> <span data-ttu-id="2ecf1-164">Im ersten Segment wird ein Wert von 0 (null) zu 16 über 4 Sekunden übergegangen, während der zweite Wert in den nächsten 4 Sekunden den Wert linear von 16 in 0 ändert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-164">The first segment transitions a value from 0 to 16 over 4 seconds, and the second changes the value linearly from 16 to 0 over the next 4 seconds.</span></span> <span data-ttu-id="2ecf1-165">Der erste Übergang erfolgt entlang dieses kubischen Polynomen:</span><span class="sxs-lookup"><span data-stu-id="2ecf1-165">The first transition occurs along this cubic polynomial:</span></span>

<span data-ttu-id="2ecf1-166">*x*(*t*) = *t*³-6 *t*² + 12 *t*</span><span class="sxs-lookup"><span data-stu-id="2ecf1-166">*x*(*t*) = *t*³ - 6 *t*² + 12 *t*</span></span>

<span data-ttu-id="2ecf1-167">der zweite Übergang erfolgt an dieser:</span><span class="sxs-lookup"><span data-stu-id="2ecf1-167">and the second transition occurs along this one:</span></span>

<span data-ttu-id="2ecf1-168">*x*(*t*) =-4 *t* + 16</span><span class="sxs-lookup"><span data-stu-id="2ecf1-168">*x*(*t*) = - 4 *t* + 16</span></span>

![Diagramm einer Animations Funktion mit zwei kubischen Segmenten](images/cubicsegment.png)

<span data-ttu-id="2ecf1-170">Mithilfe der [**idcompositionanimation:: addcubic**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-addcubic) -Methode fügen Sie einer Animations Funktion ein kubisches Segment hinzu.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-170">You add a cubic segment to an animation function by using the [**IDCompositionAnimation::AddCubic**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-addcubic) method.</span></span>

### <a name="sinusoidal-segment"></a><span data-ttu-id="2ecf1-171">Sinusoidal-Segment</span><span class="sxs-lookup"><span data-stu-id="2ecf1-171">Sinusoidal segment</span></span>

<span data-ttu-id="2ecf1-172">Die zeitliche Steuerung eines Sinus förmigem-Segments wird durch die folgende Gleichung definiert:</span><span class="sxs-lookup"><span data-stu-id="2ecf1-172">The timing of a sinusoidal segment is defined by the following equation:</span></span>

<span data-ttu-id="2ecf1-173">*x*(*t*) = *Bias*  +  *Amplitude* \* Sin (*t* \* *Frequency* \* 2 \* Pi + *Phase* \* PI/180,0)</span><span class="sxs-lookup"><span data-stu-id="2ecf1-173">*x*(*t*) = *Bias* + *Amplitude* \* sin(*t*\**Frequency*\*2\*PI + *Phase*\*PI/180.0)</span></span>

<span data-ttu-id="2ecf1-174">Sie fügen ein Sinus förmigem-Segment zu einer Animations Funktion hinzu, indem Sie die [**idcompositionanimation:: addsinusoidal**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-addsinusoidal) -Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-174">You add a sinusoidal segment to an animation function by using the [**IDCompositionAnimation::AddSinusoidal**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-addsinusoidal) method.</span></span>

### <a name="repeat-segment"></a><span data-ttu-id="2ecf1-175">Segment wiederholen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-175">Repeat segment</span></span>

<span data-ttu-id="2ecf1-176">Ein Wiederholungs Segment wiederholt einen angegebenen vorangehenden Teil einer Animations Funktion.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-176">A repeat segment repeats a specified preceding portion of an animation function.</span></span> <span data-ttu-id="2ecf1-177">Ein Wiederholungs Segment bewirkt, dass der angegebene Teil der Animations Funktion eine unbegrenzte Schleife durchläuft, bis das nächste Segment erreicht oder das angegebene Ende der Animation erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-177">A repeat segment causes the specified portion of the animation function to loop indefinitely until the next segment is encountered or the specified end of the animation is reached.</span></span> <span data-ttu-id="2ecf1-178">Der vorherige Teil einer Animation besteht aus anderen Segmenten, einschließlich anderer Wiederholungs Segmente.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-178">The preceding portion of an animation is made of other segments, including other repeat segments.</span></span> <span data-ttu-id="2ecf1-179">Ein Wiederholungs Segment kann nicht als erstes Segment in einer Animations Funktion verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-179">A repeat segment cannot be used as the first segment in an animation function.</span></span>

<span data-ttu-id="2ecf1-180">Das folgende Diagramm zeigt eine Animations Funktion, die zwei eckige Segmente mit jeweils einer Dauer von 4 Sekunden umfasst, gefolgt von einem Wiederholungs Segment, das 12 Sekunden dauert.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-180">The following diagram shows an animation function that consists two cubic segments of 4 seconds duration each, followed by a repeat segment that lasts 12 seconds.</span></span> <span data-ttu-id="2ecf1-181">Das Wiederholungs Segment beginnt 8 Sekunden in der Animation und wiederholt die vorhergehenden 6 Sekunden der Animation zweimal, bis das Endsegment um 20 Sekunden erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-181">The repeat segment begins 8 seconds into the animation and repeats the previous 6 seconds of the animation two times until the end segment is reached at 20 seconds.</span></span>

![Diagramm einer Animations Funktion, die zwei kubische Segmente und ein Wiederholungs Segment enthält](images/repeatsegment.png)

<span data-ttu-id="2ecf1-183">Verwenden Sie zum Hinzufügen eines Wiederholungs Segments zu einer Animations Funktion die [**idcompositionanimation:: adresspeat**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-addrepeat) -Methode.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-183">To add a repeat segment to an animation function, use the [**IDCompositionAnimation::AddRepeat**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-addrepeat) method.</span></span>

### <a name="end-segment"></a><span data-ttu-id="2ecf1-184">Segment Ende</span><span class="sxs-lookup"><span data-stu-id="2ecf1-184">End segment</span></span>

<span data-ttu-id="2ecf1-185">Nachdem Sie eine Animations Funktion aus Segmenten erstellt haben, können Sie ein Endsegment anfügen, um die Animation zu einem bestimmten Zeitpunkt zu beenden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-185">After constructing an animation function from segments, you can append an end segment to cause the animation function to end at a particular time.</span></span> <span data-ttu-id="2ecf1-186">Wenn Sie kein Endsegment anfügen, wird das letzte Segment der Animations Funktion unbegrenzt ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-186">If you do not append an end segment, the final segment of the animation function runs indefinitely.</span></span>

<span data-ttu-id="2ecf1-187">Sie fügen ein Endsegment an, indem Sie die [**idcompositionanimation:: End**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-end) -Methode aufrufen und einen Offset vom Anfang der Animations Funktion angeben, die den Endpunkt der Funktion angibt.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-187">You append an end segment by calling the [**IDCompositionAnimation::End**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-end) method, specifying an offset from the beginning of the animation function which indicates the function's end point.</span></span> <span data-ttu-id="2ecf1-188">Der Offset muss größer sein als der Anfangs Offset des vorangehenden Segments.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-188">The offset must be greater than the beginning offset of the preceding segment.</span></span> <span data-ttu-id="2ecf1-189">Außerdem kann ein Endsegment nicht als erstes primitiv in einer Animations Funktion verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-189">Also, an end segment cannot be used as the first primitive in an animation function.</span></span>

<span data-ttu-id="2ecf1-190">Wenn Sie " [**Ende**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-end)" aufgerufen haben, geben Sie auch einen Endwert für die zu animierende Eigenschaft an.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-190">When you call [**End**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-end), you also specify a final value for the property being animated.</span></span> <span data-ttu-id="2ecf1-191">Die-Eigenschaft wird auf den angegebenen endgültigen Wert festgelegt, wenn der Endpunkt der Animations Funktion erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-191">The property is set to the specified final value at the moment when the end point of the animation function is reached.</span></span>

<span data-ttu-id="2ecf1-192">Nachdem Sie ein Endsegment angefügt haben, können Sie keine weiteren Segmente an die Animations Funktion anfügen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-192">After appending an end segment, you cannot append any other segments to the animation function.</span></span> <span data-ttu-id="2ecf1-193">Das heißt, dass alle Methodenaufrufe für das Animations Objekt mit Ausnahme von [**idcompositionanimation:: Reset**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-reset)fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-193">That is, all method calls on the animation object fail except [**IDCompositionAnimation::Reset**](/windows/desktop/api/DcompAnimation/nf-dcompanimation-idcompositionanimation-reset).</span></span> <span data-ttu-id="2ecf1-194">Beim Aufrufen von **Reset** wird das Animations Objekt zum Bereinigen des Zustands zurückgegeben, in dem die Animations Funktion keine Segmente enthält. an diesem Punkt können Sie erneut Segmente hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-194">Calling **Reset** returns the animation object to clean state in which the animation function contains no segments, at which point you can once again add segments.</span></span>

## <a name="compatibility-with-windows-animation-manager"></a><span data-ttu-id="2ecf1-195">Kompatibilität mit Windows Animation Manager</span><span class="sxs-lookup"><span data-stu-id="2ecf1-195">Compatibility with Windows Animation Manager</span></span>

<span data-ttu-id="2ecf1-196">Windows Animation Manager (Windows-Animation) gibt Animations primitive in einem Format aus, das mit der directcomposition-API kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-196">Windows Animation Manager (Windows Animation) outputs animation primitives in a format that is compatible with the DirectComposition API.</span></span> <span data-ttu-id="2ecf1-197">Dies bedeutet, dass directcomposition Animationen auf der Grundlage von Animations primitiven erstellen kann, die von der Windows-Animation erstellt wurden.</span><span class="sxs-lookup"><span data-stu-id="2ecf1-197">This means that DirectComposition can create animations based on animation primitives created by Windows Animation.</span></span>

<span data-ttu-id="2ecf1-198">Weitere Informationen finden Sie unter [Windows Animation Manager](/windows/desktop/UIAnimation/-main-portal), the [**IUIAnimationVariable2:: getcurve**](/windows/desktop/api/uianimation/nf-uianimation-iuianimationvariable2-getcurve) Method und [Managing directcomposition Animation with Windows Animation Manager v2](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/DirectCompositionWindowsAnimationManager).</span><span class="sxs-lookup"><span data-stu-id="2ecf1-198">For more information, see [Windows Animation Manager](/windows/desktop/UIAnimation/-main-portal), the [**IUIAnimationVariable2::GetCurve**](/windows/desktop/api/uianimation/nf-uianimation-iuianimationvariable2-getcurve) method, and [Managing DirectComposition Animation with Windows Animation Manager v2](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/DirectCompositionWindowsAnimationManager).</span></span>

## <a name="related-topics"></a><span data-ttu-id="2ecf1-199">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="2ecf1-199">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2ecf1-200">Directcomposition-Konzepte</span><span class="sxs-lookup"><span data-stu-id="2ecf1-200">DirectComposition Concepts</span></span>](directcomposition-concepts.md)
</dt> </dl>

 

 
