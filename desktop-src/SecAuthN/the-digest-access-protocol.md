---
description: Das Digest-Zugriffsprotokoll
ms.assetid: 7b2fd75e-dd0d-4a63-a84b-a64f08f883f2
title: Das Digest-Zugriffsprotokoll
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86aa8f05580c27c866c0568dbc67c4d5ba5c2016
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104557663"
---
# <a name="the-digest-access-protocol"></a><span data-ttu-id="07b78-103">Das Digest-Zugriffsprotokoll</span><span class="sxs-lookup"><span data-stu-id="07b78-103">The Digest Access Protocol</span></span>

<span data-ttu-id="07b78-104">Das von [RFC 2617](https://www.ietf.org/rfc/rfc2617.txt) angegebene Digest-Zugriffsprotokoll wird von der Microsoft Digest [*Security Support Provider*](../secgloss/s-gly.md) (SSP) implementiert.</span><span class="sxs-lookup"><span data-stu-id="07b78-104">The Digest Access protocol specified by [RFC 2617](https://www.ietf.org/rfc/rfc2617.txt) is implemented by the Microsoft Digest [*security support provider*](../secgloss/s-gly.md) (SSP).</span></span> <span data-ttu-id="07b78-105">Die-Implementierung besteht aus einer Reihe von Sicherheitskontext Funktionen von [Microsoft Security Support Provider Interface](sspi.md) (SSPI), die von Client-/Serveranwendungen aufgerufen werden:</span><span class="sxs-lookup"><span data-stu-id="07b78-105">The implementation consists of a set of [Microsoft Security Support Provider Interface](sspi.md) (SSPI) security context functions that client/server applications call to:</span></span>

-   <span data-ttu-id="07b78-106">Einrichten eines [*Sicherheits Kontexts*](../secgloss/s-gly.md) für den Nachrichtenaustausch.</span><span class="sxs-lookup"><span data-stu-id="07b78-106">Establish a [*security context*](../secgloss/s-gly.md) for message exchange.</span></span>
-   <span data-ttu-id="07b78-107">Abrufen von Datenobjekten, die vom Digest-SSP benötigt werden, z. b. [*Anmelde*](../secgloss/c-gly.md) Informationen und Kontext Handles.</span><span class="sxs-lookup"><span data-stu-id="07b78-107">Obtain data objects required by the Digest SSP, such as [*credentials*](../secgloss/c-gly.md) and context handles.</span></span>
-   <span data-ttu-id="07b78-108">Zugriffs Mechanismen für die Nachrichten [*Integrität*](../secgloss/i-gly.md) und-Vertraulichkeit.</span><span class="sxs-lookup"><span data-stu-id="07b78-108">Access message [*integrity*](../secgloss/i-gly.md) and confidentiality mechanisms.</span></span>

<span data-ttu-id="07b78-109">Die Digest-Zugriffs Authentifizierung erfolgt innerhalb von gekoppelten Anforderungs-/Antwort-Transaktionen mit Anforderungen, die auf dem Client und den auf dem Server ursprünglichen Antworten liegen.</span><span class="sxs-lookup"><span data-stu-id="07b78-109">Digest Access authentication takes place within paired request/response transactions, with requests originating on the client and responses originating on the server.</span></span> <span data-ttu-id="07b78-110">Für eine erfolgreiche Digest-Zugriffs Authentifizierung sind zwei Anforderungs-/Antwort-Paare erforderlich.</span><span class="sxs-lookup"><span data-stu-id="07b78-110">A successful Digest Access authentication requires two request/response pairs.</span></span>

<span data-ttu-id="07b78-111">Wenn der Digest-SSP für die HTTP-Authentifizierung verwendet wird, besteht keine Verbindung zwischen dem ersten und dem zweiten Anforderungs-/Antwort-Paar.</span><span class="sxs-lookup"><span data-stu-id="07b78-111">When the Digest SSP is used for HTTP authentication, there is no connection maintained between the first and second request/response pair.</span></span> <span data-ttu-id="07b78-112">Das heißt, der Server wartet nicht auf die zweite Anforderung, nachdem die erste Antwort gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="07b78-112">In other words, the server does not wait for the second request after it sends the first response.</span></span>

<span data-ttu-id="07b78-113">In der folgenden Abbildung werden die Schritte beschrieben, die für den HTTP-Pfad von einem Client und Server ausgeführt werden, um eine Authentifizierung mit dem Digest-SSP abzuschließen.</span><span class="sxs-lookup"><span data-stu-id="07b78-113">The following illustration shows the steps taken on the HTTP path by a client and server to complete an authentication using the Digest SSP.</span></span> <span data-ttu-id="07b78-114">Der SASL-Mechanismus nutzt die gegenseitige Authentifizierung, sodass die Authentifizierungsdaten beim letzten ASC-Server-Rückruf an den Client zurückgesendet werden, der überprüft, ob der Client mit dem richtigen Server kommuniziert.</span><span class="sxs-lookup"><span data-stu-id="07b78-114">The SASL mechanism makes use of mutual authentication, so authentication data is sent back on the final ASC server call to the client that verifies that the client is communicating with the correct server.</span></span>

![Digest-Zugriffsprotokoll](images/digest1.png)

<span data-ttu-id="07b78-116">Der Prozess beginnt mit dem Client, der vom Server eine durch den Zugriff geschützte Ressource anfordert, indem er die HTTP-Anforderung 1 sendet.</span><span class="sxs-lookup"><span data-stu-id="07b78-116">The process starts with the client requesting an access-protected resource from the server by sending HTTP Request 1.</span></span>

<span data-ttu-id="07b78-117">Der Server empfängt die HTTP-Anforderung 1 und ermittelt, dass die Ressource Authentifizierungsinformationen erfordert, die nicht in der Anforderung enthalten waren.</span><span class="sxs-lookup"><span data-stu-id="07b78-117">The server receives HTTP Request 1 and determines that the resource requires authentication information that was not included in the request.</span></span> <span data-ttu-id="07b78-118">Der Server generiert eine Herausforderung für den Client wie folgt:</span><span class="sxs-lookup"><span data-stu-id="07b78-118">The server generates a challenge for the client as follows:</span></span>

1.  <span data-ttu-id="07b78-119">Der Server erhält seine [*Anmelde*](../secgloss/c-gly.md) Informationen, indem er die [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) -Funktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="07b78-119">The server obtains its [*credentials*](../secgloss/c-gly.md) by calling the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function.</span></span>
2.  <span data-ttu-id="07b78-120">Der Server generiert die Digestherausforderung durch Aufrufen der Funktion " [**akzeptsecuritycontext (allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) ".</span><span class="sxs-lookup"><span data-stu-id="07b78-120">The server generates the Digest challenge by calling the [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span>
3.  <span data-ttu-id="07b78-121">Der Server sendet einen WWW-Authenticate-Header als Antwort auf die Anforderung des Clients (als HTTP-Antwort 1 angezeigt).</span><span class="sxs-lookup"><span data-stu-id="07b78-121">The server sends a WWW-Authenticate header as its response to the client's request (shown as HTTP Response 1).</span></span> <span data-ttu-id="07b78-122">Der-Header enthält die Digestherausforderung und eine nicht transparente-Direktive, die einen Verweis auf einen für den Client festgelegten partiellen [*Sicherheitskontext*](../secgloss/s-gly.md) enthält.</span><span class="sxs-lookup"><span data-stu-id="07b78-122">The header contains the Digest challenge and an opaque directive that contains a reference to a partial [*security context*](../secgloss/s-gly.md) established for the client.</span></span> <span data-ttu-id="07b78-123">Der-Header wird mit einem 401-Statuscode gesendet, der angibt, dass die Client Anforderung einen nicht autorisierten Zugriffsfehler generiert hat.</span><span class="sxs-lookup"><span data-stu-id="07b78-123">The header is sent with a 401 status code that indicates that the client request generated an unauthorized access error.</span></span> <span data-ttu-id="07b78-124">Weitere Informationen zur Digestherausforderung finden Sie unter [Inhalt einer](contents-of-a-digest-challenge.md) digestaufforderung und [Erstellen der Digestherausforderung](generating-the-digest-challenge.md).</span><span class="sxs-lookup"><span data-stu-id="07b78-124">For more information about the Digest challenge, see [Contents of a Digest Challenge](contents-of-a-digest-challenge.md) and [Generating the Digest Challenge](generating-the-digest-challenge.md).</span></span>
4.  <span data-ttu-id="07b78-125">Der Client empfängt die HTTP-Antwort 1, extrahiert die vom Server gesendete Digest-Abfrage und generiert wie folgt eine digestaufforderungs-Antwort:</span><span class="sxs-lookup"><span data-stu-id="07b78-125">The client receives HTTP Response 1, extracts the Digest challenge sent by the server, and generates a Digest challenge response as follows:</span></span>
    1.  <span data-ttu-id="07b78-126">Die Anmelde Informationen des Benutzers werden abgerufen, indem die [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) -Funktion aufgerufen oder der Benutzer interaktiv zur Eingabe von Anmelde Informationen aufgefordert wird.</span><span class="sxs-lookup"><span data-stu-id="07b78-126">The user's credentials are obtained either by calling the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function or by interactively prompting the user for credentials.</span></span>
    2.  <span data-ttu-id="07b78-127">Die Informationen und Anmelde Informationen werden an die [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) -Funktion übergeben, die die digestaufforderungs-Antwort generiert.</span><span class="sxs-lookup"><span data-stu-id="07b78-127">The challenge and credentials information are passed to the [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) function, which generates the Digest challenge response.</span></span>
5.  <span data-ttu-id="07b78-128">Der Client sendet einen Autorisierungs Header, der die Abfrage Antwort an den Server enthält (angezeigt als HTTP-Anforderung 2).</span><span class="sxs-lookup"><span data-stu-id="07b78-128">The client sends an Authorization header that contains the challenge response to the server (shown as HTTP Request 2).</span></span> <span data-ttu-id="07b78-129">Weitere Informationen zur digestaufforderungs-Antwort finden Sie unter [Inhalt einer digestaufforderungs](contents-of-a-digest-challenge-response.md) -Antwort und [Erstellen der Digest](generating-the-digest-challenge-response.md)-Abfrage Antwort.</span><span class="sxs-lookup"><span data-stu-id="07b78-129">For more information about the Digest challenge response, see [Contents of a Digest Challenge Response](contents-of-a-digest-challenge-response.md) and [Generating the Digest Challenge Response](generating-the-digest-challenge-response.md).</span></span>
6.  <span data-ttu-id="07b78-130">Der Server empfängt die HTTP-Anforderung 2, extrahiert die vom Client gesendete Abfrage Antwort und authentifiziert die Informationen durch Aufrufen der Funktion " [**akzeptsecuritycontext (allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) ".</span><span class="sxs-lookup"><span data-stu-id="07b78-130">The server receives HTTP Request 2, extracts the challenge response sent by the client, and authenticates the information by calling the [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="07b78-131">Ausführliche Informationen zum Authentifizierungsprozess finden Sie unter [erste Authentifizierung mit Microsoft Digest](initial-authentication-using-microsoft-digest.md).</span><span class="sxs-lookup"><span data-stu-id="07b78-131">For details about the authentication process, see [Initial Authentication using Microsoft Digest](initial-authentication-using-microsoft-digest.md).</span></span>
7.  <span data-ttu-id="07b78-132">Der Server sendet HTTP-Antwort 2 als zweite und letzte Antwort an den Client zurück, die für das Digest-Zugriffsprotokoll erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="07b78-132">The server sends HTTP Response 2 back to the client as the second and final response required by the Digest Access protocol.</span></span> <span data-ttu-id="07b78-133">Wenn die Authentifizierung erfolgreich ist, enthält diese Antwort die angeforderte Ressource.</span><span class="sxs-lookup"><span data-stu-id="07b78-133">If the authentication is successful, this response contains the requested resource.</span></span>

## <a name="related-topics"></a><span data-ttu-id="07b78-134">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="07b78-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="07b78-135">Inhalt einer digestaufforderungs-Antwort</span><span class="sxs-lookup"><span data-stu-id="07b78-135">Contents of a Digest Challenge Response</span></span>](contents-of-a-digest-challenge-response.md)
</dt> </dl>

 

 
