---
description: Alle SChannel-Protokolle erfordern, dass der Server ein Zertifikat von einer vertrauenswürdigen Zertifizierungsstelle (Certification Authority, ca) als Nachweis seiner Identität bereitstellt.
ms.assetid: 060981e0-b52a-4cc2-bfd2-4cf24f921f16
title: Durchführen der Authentifizierung mithilfe von SChannel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4a37b8dedf07680286288234c7ca4422f44c2c3e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106356191"
---
# <a name="performing-authentication-using-schannel"></a><span data-ttu-id="45562-103">Durchführen der Authentifizierung mithilfe von SChannel</span><span class="sxs-lookup"><span data-stu-id="45562-103">Performing Authentication Using Schannel</span></span>

<span data-ttu-id="45562-104">Alle SChannel-Protokolle erfordern, dass der Server ein [*Zertifikat*](../secgloss/c-gly.md) von einer vertrauenswürdigen Zertifizierungsstelle ( [*Certification Authority*](../secgloss/c-gly.md) , ca) als Nachweis seiner Identität bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="45562-104">All Schannel protocols require the server to provide a [*certificate*](../secgloss/c-gly.md) from a trusted [*certification authority*](../secgloss/c-gly.md) (CA) as proof of its identity.</span></span> <span data-ttu-id="45562-105">Dieser Vorgang wird als Server Authentifizierung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="45562-105">This process is called server authentication.</span></span> <span data-ttu-id="45562-106">Die Client Authentifizierung, bei der der Client einen Nachweis seiner Identität bereitstellt, ist optional und kann vom Server jederzeit angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="45562-106">Client authentication, where the client provides proof of its identity, is optional and may be requested by the server at any time.</span></span>

## <a name="authenticating-the-server"></a><span data-ttu-id="45562-107">Authentifizieren des Servers</span><span class="sxs-lookup"><span data-stu-id="45562-107">Authenticating the Server</span></span>

<span data-ttu-id="45562-108">Das Standardverhalten von SChannel besteht darin, die [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust) -Funktion zu verwenden, um die [*Integrität*](../secgloss/i-gly.md) und den Besitz des [*Serverzertifikats*](../secgloss/s-gly.md)zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="45562-108">The default behavior of Schannel is to use the [**WinVerifyTrust**](/windows/win32/api/wintrust/nf-wintrust-winverifytrust) function to verify the [*integrity*](../secgloss/i-gly.md) and ownership of the [*server certificate*](../secgloss/s-gly.md).</span></span> <span data-ttu-id="45562-109">Wenn Sie diese Funktion deaktivieren möchten, geben Sie \_ \_ \_ \_ beim Aufrufen der [**InitializeSecurityContext-Funktion (SChannel)**](./initializesecuritycontext--schannel.md) die "ISC req Manual cred Validation" an.</span><span class="sxs-lookup"><span data-stu-id="45562-109">To disable this feature, specify ISC\_REQ\_MANUAL\_CRED\_VALIDATION when calling the [**InitializeSecurityContext (Schannel)**](./initializesecuritycontext--schannel.md) function.</span></span> <span data-ttu-id="45562-110">Weitere Informationen finden Sie unter [Manuelles Validieren von SChannel-Anmelde](manually-validating-schannel-credentials.md)Informationen.</span><span class="sxs-lookup"><span data-stu-id="45562-110">For more information, see [Manually Validating Schannel Credentials](manually-validating-schannel-credentials.md).</span></span>

## <a name="authenticating-the-client"></a><span data-ttu-id="45562-111">Authentifizieren des Clients</span><span class="sxs-lookup"><span data-stu-id="45562-111">Authenticating the Client</span></span>

<span data-ttu-id="45562-112">SChannel überprüft nicht die Zertifikate des Clients. der Server muss diese Authentifizierung manuell ausführen.</span><span class="sxs-lookup"><span data-stu-id="45562-112">Schannel does not validate client's certificates; the server must perform this authentication manually.</span></span> <span data-ttu-id="45562-113">In der Regel überprüft der Server die Identität des Clients in einer Datenbank, die Benutzerkontoinformationen enthält.</span><span class="sxs-lookup"><span data-stu-id="45562-113">Typically, the server will check the client's identity in a database containing user account information.</span></span> <span data-ttu-id="45562-114">Für Server, die ein Client Konto mithilfe eines Zertifikats abrufen müssen, finden Sie weitere Informationen unter [Mapping von Zertifikaten](mapping-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="45562-114">For servers that need to obtain a client's account using a certificate, see [Mapping Certificates](mapping-certificates.md).</span></span>

<span data-ttu-id="45562-115">Wenn der Server die Client Authentifizierung anfordert, muss der Client den Server eines seiner Zertifikate senden.</span><span class="sxs-lookup"><span data-stu-id="45562-115">When the server requests client authentication, the client must send the server one of its certificates.</span></span> <span data-ttu-id="45562-116">Standardmäßig versucht SChannel ohne Benachrichtigung an den Client, ein [*Client Zertifikat*](../secgloss/c-gly.md) zu finden und an den Server zu senden.</span><span class="sxs-lookup"><span data-stu-id="45562-116">By default, Schannel will, with no notification to the client, attempt to locate a [*client certificate*](../secgloss/c-gly.md) and send it to the server.</span></span> <span data-ttu-id="45562-117">Um dieses Feature zu deaktivieren, geben Clients \_ die von ISC req \_ verwendete Verwendung von \_ creds an, \_ Wenn Sie die Funktion [**InitializeSecurityContext (SChannel)**](./initializesecuritycontext--schannel.md) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="45562-117">To disable this feature, clients specify ISC\_REQ\_USE\_SUPPLIED\_CREDS when calling the [**InitializeSecurityContext (Schannel)**](./initializesecuritycontext--schannel.md) function.</span></span> <span data-ttu-id="45562-118">Wenn dieses Flag angegeben wird, gibt SChannel \_ \_ \_ die Anmelde Informationen für den Client nicht unvollständig an den Client zurück, wenn der Server die Authentifizierung anfordert und der Client zuvor noch kein Zertifikat bereitgestellt hat.</span><span class="sxs-lookup"><span data-stu-id="45562-118">When this flag is specified, Schannel will return SEC\_I\_INCOMPLETE\_CREDENTIALS to the client when the server requests authentication and the client has not previously supplied a certificate.</span></span>

 

 
