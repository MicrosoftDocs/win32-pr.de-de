---
description: Kontext Anforderungen werden als eine Kombination von Bitflags ausgedrückt, die an die Funktion "InitializeSecurityContext (allgemein)" oder "akzeptsecuritycontext (allgemein)" übergeben werden.
ms.assetid: 4a44b829-4202-46c0-b17e-04943fa067ab
title: Kontext Anforderungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86af5f71557bdd53229b5c8ed6afc14dc24edb46
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104216537"
---
# <a name="context-requirements"></a>Kontext Anforderungen

Kontext Anforderungen werden als eine Kombination von Bitflags ausgedrückt, die an die Funktion " [**InitializeSecurityContext (allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) " oder " [**akzeptsecuritycontext (allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) " übergeben werden. Diese Flags wirken sich auf verschiedene Weise auf den [*Kontext*](/windows/desktop/SecGloss/c-gly) aus. Nicht alle Flags gelten für alle Kontexte. Einige sind nur für den Server gültig, andere nur für den-Client.

Der Aufrufer verwendet den *fContextReq* -Parameter des [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) -oder [**Accept-SecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) -Aufrufers, um einen Satz von Flags anzugeben, die die erforderlichen Funktionen angeben. Wenn die Funktion zurückgegeben wird, gibt der Parameter *pfContextAttr* die Attribute des eingerichteten Kontexts an. Der Aufrufer bestimmt, ob die abschließenden Kontext Attribute zulässig sind.

Flags, die von [**InitializeSecurityContext (allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) angefordert oder zurückgegeben werden, werden von ISC vorangestellt. Die von " [**akzeptsecuritycontext (allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) " angeforderten oder zurückgegebenen werden als Präfix ASC vorangestellt. Zu den an eine Funktion übergebenen Flags zählen req, während zurückgegebene Flags "ret" einschließen. Beispielsweise ist ein anforderungsflag für die gegenseitige Authentifizierung, das an " **InitializeSecurityContext (allgemein)** " übergeben wird, "ISC \_ req \_ Mutual \_ auth" Ein Server, der gegenseitige Authentifizierung anfordert \_ \_ , übergibt die gegenseitige Authentifizierung von ASC req an "Accept- \_ **SecurityContext (allgemein)**" Wenn die gegenseitige Authentifizierung erreicht wird, gibt **InitializeSecurityContext (allgemein)** die gegenseitige Prüfung von ISC ret zurück, und der Wert von " \_ \_ \_ **Accept-SecurityContext (allgemein)** " gibt die \_ \_ gegenseitige Authentifizierung von ASC ret \_ Wenn der Aufrufer gegenseitige Authentifizierung anfordert, das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) jedoch angibt, dass er nicht ausgeführt werden kann, muss der Aufrufer entscheiden, ob der Kontext abgebrochen oder fortgesetzt werden

In der folgenden Tabelle werden die verschiedenen Kontext Anforderungs Flags beschrieben.



| Flag                             | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Führers<br/>              | Der Server in der Transport Anwendung kann neue Sicherheits Kontexte erstellen, die die Identität des Clients annehmen, der von anderen Servern als Client Kontexte akzeptiert wird. Der Delegat funktioniert nur, wenn die gegenseitige Authentifizierung \_ festgelegt ist. Der Delegat wird derzeit nur von [*Kerberos*](/windows/desktop/SecGloss/k-gly)unterstützt. Außerdem delegiert Kerberos nur an einen Server, der das Flag für die Delegierung als vertrauenswürdig eingestuft hat \_ \_ . Verwenden Sie dieses Flag nicht für die [*eingeschränkte Delegierung*](/windows/desktop/SecGloss/c-gly).<br/> |
| gegen \_ seitige Authentifizierung<br/>          | Die kommunizierenden Parteien müssen Ihre Identitäten untereinander authentifizieren. Ohne gegenseitige \_ Authentifizierung wird die Identität des Clients gegenüber dem Server authentifiziert. Bei gegenseitiger \_ Authentifizierung muss der Server seine Identität auch für den Client authentifizieren.<br/> Wenn Sie das [*SChannel*](/windows/desktop/SecGloss/s-gly) -Sicherheitspaket verwenden, legt der Server die ASC ret-Konstante für die **\_ \_ gegenseitige \_** Authentifizierung nur beim letzten aufrufungsesecuritycontext [**(aushandeln)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext)fest, nachdem die Zertifikat Zuordnung erfolgreich abgeschlossen wurde.<br/>           |
| Wiedergabe \_ Erkennung<br/>        | Das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) erkennt wiedergegebene Pakete und benachrichtigt den Aufrufer, wenn ein Paket wiedergegeben wurde. Die Verwendung dieses Flags impliziert alle Bedingungen, die durch das integritätsflag angegeben werden.<br/>                                                                                                                                                                                                                                                                                                                      |
| Sequenz \_ Erkennung<br/>      | Der Kontext muss zugelassen werden, um die Übermittlung von Paketen außerhalb der Reihenfolge später über die Funktionen der Nachrichten Unterstützung zu erkennen. Die Verwendung dieses Flags impliziert alle Bedingungen, die durch das integritätsflag angegeben werden.<br/>                                                                                                                                                                                                                                                                                                                                                                                             |
| Wahren<br/>       | Der Kontext kann Daten während der Übertragung mithilfe der Funktionen " [**verschlüsseltmessage (allgemein)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) " und " [**DecryptMessage" (allgemein)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) schützen. Das Vertraulichkeits Kennzeichen funktioniert nicht, wenn der generierte Kontext für das Gastkonto gilt.<br/>                                                                                                                                                                                                                                                                                                      |
| \_Sitzungs \_ Schlüssel verwenden<br/>     | Ein neuer [*Sitzungsschlüssel*](/windows/desktop/SecGloss/s-gly) muss ausgehandelt werden.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Eingabeaufforderung für Anmelde Informationen \_ \_<br/>    | Wenn der Client ein interaktiver Benutzer ist, muss das Sicherheitspaket, wenn möglich, den Benutzer zur Eingabe der entsprechenden [*Anmelde*](/windows/desktop/SecGloss/c-gly)Informationen auffordern.<br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| Verwenden von \_ bereitgestellten Anmelde-IDs \_<br/>  | Paket spezifische Anmelde Informationen sind im Eingabepuffer verfügbar. Das Sicherheitspaket kann diese [*Anmelde*](/windows/desktop/SecGloss/c-gly) Informationen verwenden, um die Verbindung zu authentifizieren.<br/>                                                                                                                                                                                                                                                                                                                                                                |
| bereitgestellte Anmelde- \_ \_ Befehle Speichern<br/> | Die angegebenen Anmelde Informationen sollten mit den ergänzenden Anmelde Informationen zwischengespeichert werden.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Arbeits \_ Speicher zuweisen<br/>      | Das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) muss Arbeitsspeicher zuweisen. Der Aufrufer muss schließlich die [**freecontextbuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) -Funktion aufzurufen, um vom Sicherheitspaket zugeordnete Arbeitsspeicher freizugeben.<br/>                                                                                                                                                                                                                                                                                                                      |
| \_DCE- \_ Stil verwenden<br/>       | Der Aufrufer erwartet eine drei-Drittel-Authentifizierungs [*Transaktion*](/windows/desktop/SecGloss/t-gly).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Datagram<br/>              | [*Datagramm*](/windows/desktop/SecGloss/d-gly) -Semantik muss verwendet werden. Weitere Informationen finden Sie unter [Datagramm-Kontexte](datagram-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CONNECTION<br/>            | Die Verbindungs Semantik muss verwendet werden. Weitere Informationen finden Sie unter [Verbindungs orientierte Kontexte](connection-oriented-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Datenstrom<br/>                | Die Datenstrom Semantik muss verwendet werden. Weitere Informationen finden Sie unter [streamkontexte](stream-contexts.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| erweiterter \_ Fehler<br/>       | Fehler Antwort Nachrichten für den Peer müssen generiert werden, wenn der Kontext fehlschlägt.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Integrität<br/>             | Die Puffer Integrität kann überprüft werden, es ist jedoch keine Sequenzierung oder Antwort Erkennung aktiviert.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| keine \_ Integrität<br/>         | Die **Integritäts** Anforderung wird ignoriert.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Identifizieren<br/>              | Wenn ein Server die Identität eines Kontexts annimmt, für den dieses Flag festgelegt ist, ergibt dieser Identitätswechsel einen extrem eingeschränkten Zugriff. Der Identitätswechsel mit der Identifizierungs Gruppe wird verwendet, um die Identität des Clients zu überprüfen.<br/>                                                                                                                                                                                                                                                                                                                                                                                                       |



 

 

