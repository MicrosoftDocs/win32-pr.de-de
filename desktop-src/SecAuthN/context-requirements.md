---
description: Kontextanforderungen werden als Kombination von Bitflags ausgedrückt, die entweder an die Funktion InitializeSecurityContext (Allgemein) oder AcceptSecurityContext (Allgemein) übergeben werden.
ms.assetid: 4a44b829-4202-46c0-b17e-04943fa067ab
title: Kontextanforderungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4f15baafe2d6dc9d9bf383fecdd8cf30c387d3def16089128346ee60d79d0fc
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/11/2021
ms.locfileid: "119008938"
---
# <a name="context-requirements"></a>Kontextanforderungen

Kontextanforderungen werden als Kombination von Bitflags ausgedrückt, die entweder an die [**Funktion InitializeSecurityContext (Allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) oder [**AcceptSecurityContext (Allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) übergeben werden. Diese Flags wirken sich auf verschiedene Weise auf den [*Kontext*](/windows/desktop/SecGloss/c-gly) aus. Nicht alle Flags gelten für alle Kontexte. Einige sind nur für den Server gültig, andere nur für den Client.

Der Aufrufer verwendet den *fContextReq-Parameter* des [**Aufrufs InitializeSecurityContext (Allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) oder [**AcceptSecurityContext (Allgemein),**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) um einen Satz von Flags anzugeben, die die erforderlichen Funktionen angeben. Wenn die Funktion zurückgegeben wird, gibt der *pfContextAttr-Parameter* die Attribute des eingerichteten Kontexts an. Der Aufrufer bestimmt, ob die endgültigen Kontextattribute akzeptabel sind.

Flags, die von [**InitializeSecurityContext (Allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) angefordert oder zurückgegeben werden, haben das Präfix ISC. Diejenigen, die von [**AcceptSecurityContext (Allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) angefordert oder zurückgegeben werden, haben das Präfix ASC. An eine Funktion übergebene Flags enthalten REQ, während zurückgegebene Flags RET enthalten. Ein Anforderungsflag für die gegenseitige Authentifizierung, das an **InitializeSecurityContext (Allgemein)** übergeben wird, ist beispielsweise ISC \_ REQ \_ MUTUAL \_ AUTH. Ein Server, der gegenseitige Authentifizierung anfordert, übergibt ASC \_ REQ \_ MUTUAL \_ AUTH an **AcceptSecurityContext (Allgemein).** Wenn gegenseitige Authentifizierung erreicht wird, gibt **InitializeSecurityContext (General)** ISC \_ RET \_ MUTUAL \_ AUTH zurück, und **AcceptSecurityContext (General)** gibt ASC \_ RET \_ MUTUAL \_ AUTH zurück. Wenn der Aufrufer gegenseitige Authentifizierung anfordert, das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) jedoch angibt, dass er nicht ausgeführt werden kann, muss der Aufrufer entscheiden, ob der Kontext abgebrochen oder fortgesetzt werden soll.

In der folgenden Tabelle werden die verschiedenen Kontextanforderungsflags beschrieben.



| Flag                             | Beschreibung                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| delegieren<br/>              | Der Server in der Transportanwendung kann neue Sicherheitskontexte erstellen, die die Identität des Clients annehmen, die von anderen Servern als Kontexte des Clients akzeptiert werden. Der Delegat funktioniert nur, wenn MUTUAL \_ AUTH festgelegt ist. DELEGATE wird derzeit nur von [*Kerberos*](/windows/desktop/SecGloss/k-gly)unterstützt. Darüber hinaus delegiert Kerberos nur an einen Server mit dem Flag TRUSTED \_ FOR \_ DELEGATION. Verwenden Sie dieses Flag nicht für [*die eingeschränkte Delegierung.*](/windows/desktop/SecGloss/c-gly)<br/> |
| GEGENSEITIGE \_ AUTHENTIFIZIERUNG<br/>          | Die kommunizierenden Parteien müssen ihre Identitäten untereinander authentifizieren. Ohne MUTUAL \_ AUTH authentifiziert der Client seine Identität beim Server. Bei MUTUAL \_ AUTH muss der Server auch seine Identität beim Client authentifizieren.<br/> Bei Verwendung des [*Schannel-Sicherheitspakets*](/windows/desktop/SecGloss/s-gly) legt der Server die **ASC \_ RET MUTUAL \_ \_ AUTH-Konstante** nur im letzten Aufruf von [**AcceptSecurityContext (Negotiate)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext)fest, nachdem die Zertifikatzuordnung erfolgreich abgeschlossen wurde.<br/>           |
| REPLAY \_ DETECT<br/>        | Das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) erkennt wiedergegebene Pakete und benachrichtigt den Aufrufer, wenn ein Paket wiedergegeben wurde. Die Verwendung dieses Flags impliziert alle vom INTEGRITY-Flag angegebenen Bedingungen.<br/>                                                                                                                                                                                                                                                                                                                      |
| SEQUENCE \_ DETECT<br/>      | Der Kontext muss zugelassen werden, um die Zustellung von Paketen in nicht ordnungsgemäßer Reihenfolge später über die Nachrichtenunterstützungsfunktionen zu erkennen. Die Verwendung dieses Flags impliziert alle vom INTEGRITY-Flag angegebenen Bedingungen.<br/>                                                                                                                                                                                                                                                                                                                                                                                             |
| Vertraulichkeit<br/>       | Der Kontext kann Daten während der Übertragung mithilfe der Funktionen [**EncryptMessage (Allgemein)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) und [**DecryptMessage (Allgemein)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) schützen. Das FLAG VERTRAULICHKEIT funktioniert nicht, wenn der generierte Kontext für das Gastkonto gilt.<br/>                                                                                                                                                                                                                                                                                                      |
| VERWENDEN DES \_ \_ SITZUNGSSCHLÜSSELS<br/>     | Ein neuer [*Sitzungsschlüssel*](/windows/desktop/SecGloss/s-gly) muss ausgehandelt werden.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| EINGABEAUFFORDERUNG \_ FÜR \_ CREDS<br/>    | Wenn der Client ein interaktiver Benutzer ist, muss das Sicherheitspaket den Benutzer nach Möglichkeit zur Eingabe der entsprechenden [*Anmeldeinformationen*](/windows/desktop/SecGloss/c-gly)auffordern.<br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| VERWENDEN \_ VON BEREITGESTELLTEN \_ CREDS<br/>  | Paketspezifische Anmeldeinformationen sind im Eingabepuffer verfügbar. Das Sicherheitspaket kann diese Anmeldeinformationen verwenden, um die Verbindung zu [*authentifizieren.*](/windows/desktop/SecGloss/c-gly)<br/>                                                                                                                                                                                                                                                                                                                                                                |
| \_GESPEICHERTE \_ CREDS<br/> | Die angegebenen Anmeldeinformationen sollten mit den zusätzlichen Anmeldeinformationen zwischengespeichert werden.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| BELEGEN VON \_ ARBEITSSPEICHER<br/>      | Das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) muss Arbeitsspeicher zuordnen. Der Aufrufer muss schließlich die [**FreeContextBuffer-Funktion**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) aufrufen, um vom Sicherheitspaket belegten Arbeitsspeicher freizugeben.<br/>                                                                                                                                                                                                                                                                                                                      |
| VERWENDEN DES \_ \_ DCE-STILS<br/>       | Der Aufrufer erwartet eine dreistufige [*Authentifizierungstransaktion.*](/windows/desktop/SecGloss/t-gly)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| Datagramm<br/>              | [*Datagrammsemantik*](/windows/desktop/SecGloss/d-gly) muss verwendet werden. Weitere Informationen finden Sie unter [Datagrammkontexte.](datagram-contexts.md)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| CONNECTION<br/>            | Verbindungssemantik muss verwendet werden. Weitere Informationen finden Sie unter [Verbindungsorientierte Kontexte.](connection-oriented-contexts.md)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| Datenstrom<br/>                | Streamsemantik muss verwendet werden. Weitere Informationen finden Sie unter [Streamkontexte.](stream-contexts.md)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| ERWEITERTER \_ FEHLER<br/>       | Fehlerantwortmeldungen für den Peer müssen generiert werden, wenn der Kontext fehlschlägt.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Integrität<br/>             | Die Pufferintegrität kann überprüft werden, aber es ist keine Sequenzierung oder Antworterkennung aktiviert.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| KEINE \_ INTEGRITÄT<br/>         | Die **INTEGRITÄTsanforderung** wird ignoriert.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Identifizieren<br/>              | Wenn ein Server die Identität eines Kontexts angibt, für den dieses Flag festgelegt ist, ergibt dieser Identitätswechsel einen äußerst eingeschränkten Zugriff. Der Identitätswechsel mit festgelegter IDENTIFY-Einstellung wird verwendet, um die Identität des Clients zu überprüfen.<br/>                                                                                                                                                                                                                                                                                                                                                                                                       |



 

 

