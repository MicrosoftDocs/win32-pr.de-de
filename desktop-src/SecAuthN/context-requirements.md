---
description: Kontext Anforderungen werden als eine Kombination von Bitflags ausgedrückt, die an die Funktion "InitializeSecurityContext (allgemein)" oder "akzeptsecuritycontext (allgemein)" übergeben werden.
ms.assetid: 4a44b829-4202-46c0-b17e-04943fa067ab
title: Kontext Anforderungen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 86af5f71557bdd53229b5c8ed6afc14dc24edb46
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104216537"
---
# <a name="context-requirements"></a><span data-ttu-id="870cd-103">Kontext Anforderungen</span><span class="sxs-lookup"><span data-stu-id="870cd-103">Context Requirements</span></span>

<span data-ttu-id="870cd-104">Kontext Anforderungen werden als eine Kombination von Bitflags ausgedrückt, die an die Funktion " [**InitializeSecurityContext (allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) " oder " [**akzeptsecuritycontext (allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) " übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-104">Context requirements are expressed as a combination of bit flags passed to either the [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) or [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="870cd-105">Diese Flags wirken sich auf verschiedene Weise auf den [*Kontext*](/windows/desktop/SecGloss/c-gly) aus.</span><span class="sxs-lookup"><span data-stu-id="870cd-105">These flags affect the [*context*](/windows/desktop/SecGloss/c-gly) in a number of ways.</span></span> <span data-ttu-id="870cd-106">Nicht alle Flags gelten für alle Kontexte.</span><span class="sxs-lookup"><span data-stu-id="870cd-106">Not all flags apply to all contexts.</span></span> <span data-ttu-id="870cd-107">Einige sind nur für den Server gültig, andere nur für den-Client.</span><span class="sxs-lookup"><span data-stu-id="870cd-107">Some are valid only for the server, others only for the client.</span></span>

<span data-ttu-id="870cd-108">Der Aufrufer verwendet den *fContextReq* -Parameter des [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) -oder [**Accept-SecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) -Aufrufers, um einen Satz von Flags anzugeben, die die erforderlichen Funktionen angeben.</span><span class="sxs-lookup"><span data-stu-id="870cd-108">The caller uses the *fContextReq* parameter of the [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) or [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) call to specify a set of flags that indicate the required capabilities.</span></span> <span data-ttu-id="870cd-109">Wenn die Funktion zurückgegeben wird, gibt der Parameter *pfContextAttr* die Attribute des eingerichteten Kontexts an.</span><span class="sxs-lookup"><span data-stu-id="870cd-109">When the function returns, the *pfContextAttr* parameter indicates the attributes of the established context.</span></span> <span data-ttu-id="870cd-110">Der Aufrufer bestimmt, ob die abschließenden Kontext Attribute zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="870cd-110">The caller determines whether the final context attributes are acceptable.</span></span>

<span data-ttu-id="870cd-111">Flags, die von [**InitializeSecurityContext (allgemein)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) angefordert oder zurückgegeben werden, werden von ISC vorangestellt.</span><span class="sxs-lookup"><span data-stu-id="870cd-111">Flags requested from or returned by [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) are prefixed by ISC.</span></span> <span data-ttu-id="870cd-112">Die von " [**akzeptsecuritycontext (allgemein)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) " angeforderten oder zurückgegebenen werden als Präfix ASC vorangestellt.</span><span class="sxs-lookup"><span data-stu-id="870cd-112">Those requested from or returned by [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) are prefixed by ASC.</span></span> <span data-ttu-id="870cd-113">Zu den an eine Funktion übergebenen Flags zählen req, während zurückgegebene Flags "ret" einschließen.</span><span class="sxs-lookup"><span data-stu-id="870cd-113">Flags passed into a function include REQ, while returned flags include RET.</span></span> <span data-ttu-id="870cd-114">Beispielsweise ist ein anforderungsflag für die gegenseitige Authentifizierung, das an " **InitializeSecurityContext (allgemein)** " übergeben wird, "ISC \_ req \_ Mutual \_ auth"</span><span class="sxs-lookup"><span data-stu-id="870cd-114">For example, a request flag for mutual authentication passed to **InitializeSecurityContext (General)** is ISC\_REQ\_MUTUAL\_AUTH.</span></span> <span data-ttu-id="870cd-115">Ein Server, der gegenseitige Authentifizierung anfordert \_ \_ , übergibt die gegenseitige Authentifizierung von ASC req an "Accept- \_ **SecurityContext (allgemein)**"</span><span class="sxs-lookup"><span data-stu-id="870cd-115">A server requesting mutual authentication passes ASC\_REQ\_MUTUAL\_AUTH to **AcceptSecurityContext (General)**.</span></span> <span data-ttu-id="870cd-116">Wenn die gegenseitige Authentifizierung erreicht wird, gibt **InitializeSecurityContext (allgemein)** die gegenseitige Prüfung von ISC ret zurück, und der Wert von " \_ \_ \_ **Accept-SecurityContext (allgemein)** " gibt die \_ \_ gegenseitige Authentifizierung von ASC ret \_</span><span class="sxs-lookup"><span data-stu-id="870cd-116">If mutual authentication is achieved, **InitializeSecurityContext (General)** returns ISC\_RET\_MUTUAL\_AUTH and **AcceptSecurityContext (General)** returns ASC\_RET\_MUTUAL\_AUTH.</span></span> <span data-ttu-id="870cd-117">Wenn der Aufrufer gegenseitige Authentifizierung anfordert, das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) jedoch angibt, dass er nicht ausgeführt werden kann, muss der Aufrufer entscheiden, ob der Kontext abgebrochen oder fortgesetzt werden</span><span class="sxs-lookup"><span data-stu-id="870cd-117">If the caller requests mutual authentication, but the [*security package*](/windows/desktop/SecGloss/s-gly) indicates that it cannot be performed, the caller must decide whether to cancel the context or continue.</span></span>

<span data-ttu-id="870cd-118">In der folgenden Tabelle werden die verschiedenen Kontext Anforderungs Flags beschrieben.</span><span class="sxs-lookup"><span data-stu-id="870cd-118">The following table describes the various context requirement flags.</span></span>



| <span data-ttu-id="870cd-119">Flag</span><span class="sxs-lookup"><span data-stu-id="870cd-119">Flag</span></span>                             | <span data-ttu-id="870cd-120">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="870cd-120">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="870cd-121">Führers</span><span class="sxs-lookup"><span data-stu-id="870cd-121">DELEGATE</span></span><br/>              | <span data-ttu-id="870cd-122">Der Server in der Transport Anwendung kann neue Sicherheits Kontexte erstellen, die die Identität des Clients annehmen, der von anderen Servern als Client Kontexte akzeptiert wird.</span><span class="sxs-lookup"><span data-stu-id="870cd-122">The server in the transport application can build new security contexts impersonating the client that will be accepted by other servers as the client's contexts.</span></span> <span data-ttu-id="870cd-123">Der Delegat funktioniert nur, wenn die gegenseitige Authentifizierung \_ festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="870cd-123">Delegate works only if MUTUAL\_AUTH is set.</span></span> <span data-ttu-id="870cd-124">Der Delegat wird derzeit nur von [*Kerberos*](/windows/desktop/SecGloss/k-gly)unterstützt.</span><span class="sxs-lookup"><span data-stu-id="870cd-124">DELEGATE is currently supported only by [*Kerberos*](/windows/desktop/SecGloss/k-gly).</span></span> <span data-ttu-id="870cd-125">Außerdem delegiert Kerberos nur an einen Server, der das Flag für die Delegierung als vertrauenswürdig eingestuft hat \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="870cd-125">Further, Kerberos will delegate only to a server that has the flag TRUSTED\_FOR\_DELEGATION.</span></span> <span data-ttu-id="870cd-126">Verwenden Sie dieses Flag nicht für die [*eingeschränkte Delegierung*](/windows/desktop/SecGloss/c-gly).</span><span class="sxs-lookup"><span data-stu-id="870cd-126">Do not use this flag for [*constrained delegation*](/windows/desktop/SecGloss/c-gly).</span></span><br/> |
| <span data-ttu-id="870cd-127">gegen \_ seitige Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="870cd-127">MUTUAL\_AUTH</span></span><br/>          | <span data-ttu-id="870cd-128">Die kommunizierenden Parteien müssen Ihre Identitäten untereinander authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="870cd-128">The communicating parties must authenticate their identities to each other.</span></span> <span data-ttu-id="870cd-129">Ohne gegenseitige \_ Authentifizierung wird die Identität des Clients gegenüber dem Server authentifiziert.</span><span class="sxs-lookup"><span data-stu-id="870cd-129">Without MUTUAL\_AUTH, the client authenticates its identity to the server.</span></span> <span data-ttu-id="870cd-130">Bei gegenseitiger \_ Authentifizierung muss der Server seine Identität auch für den Client authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="870cd-130">With MUTUAL\_AUTH, the server also must authenticate its identity to the client.</span></span><br/> <span data-ttu-id="870cd-131">Wenn Sie das [*SChannel*](/windows/desktop/SecGloss/s-gly) -Sicherheitspaket verwenden, legt der Server die ASC ret-Konstante für die **\_ \_ gegenseitige \_** Authentifizierung nur beim letzten aufrufungsesecuritycontext [**(aushandeln)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext)fest, nachdem die Zertifikat Zuordnung erfolgreich abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="870cd-131">When using the [*Schannel*](/windows/desktop/SecGloss/s-gly) security package, the server sets the **ASC\_RET\_MUTUAL\_AUTH** constant only in the last call to [**AcceptSecurityContext (Negotiate)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext), after certificate mapping has successfully completed.</span></span><br/>           |
| <span data-ttu-id="870cd-132">Wiedergabe \_ Erkennung</span><span class="sxs-lookup"><span data-stu-id="870cd-132">REPLAY\_DETECT</span></span><br/>        | <span data-ttu-id="870cd-133">Das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) erkennt wiedergegebene Pakete und benachrichtigt den Aufrufer, wenn ein Paket wiedergegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="870cd-133">The [*security package*](/windows/desktop/SecGloss/s-gly) detects replayed packets and notifies the caller if a packet has been replayed.</span></span> <span data-ttu-id="870cd-134">Die Verwendung dieses Flags impliziert alle Bedingungen, die durch das integritätsflag angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-134">The use of this flag implies all of the conditions specified by the INTEGRITY flag.</span></span><br/>                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="870cd-135">Sequenz \_ Erkennung</span><span class="sxs-lookup"><span data-stu-id="870cd-135">SEQUENCE\_DETECT</span></span><br/>      | <span data-ttu-id="870cd-136">Der Kontext muss zugelassen werden, um die Übermittlung von Paketen außerhalb der Reihenfolge später über die Funktionen der Nachrichten Unterstützung zu erkennen.</span><span class="sxs-lookup"><span data-stu-id="870cd-136">The context must be allowed to detect out-of-order delivery of packets later through the message support functions.</span></span> <span data-ttu-id="870cd-137">Die Verwendung dieses Flags impliziert alle Bedingungen, die durch das integritätsflag angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-137">Use of this flag implies all of the conditions specified by the INTEGRITY flag.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="870cd-138">Wahren</span><span class="sxs-lookup"><span data-stu-id="870cd-138">CONFIDENTIALITY</span></span><br/>       | <span data-ttu-id="870cd-139">Der Kontext kann Daten während der Übertragung mithilfe der Funktionen " [**verschlüsseltmessage (allgemein)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) " und " [**DecryptMessage" (allgemein)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) schützen.</span><span class="sxs-lookup"><span data-stu-id="870cd-139">The context can protect data while in transit using the [**EncryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-encryptmessage) and [**DecryptMessage (General)**](/windows/win32/api/sspi/nf-sspi-decryptmessage) functions.</span></span> <span data-ttu-id="870cd-140">Das Vertraulichkeits Kennzeichen funktioniert nicht, wenn der generierte Kontext für das Gastkonto gilt.</span><span class="sxs-lookup"><span data-stu-id="870cd-140">The CONFIDENTIALITY flag does not work if the generated context is for the Guest account.</span></span><br/>                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="870cd-141">\_Sitzungs \_ Schlüssel verwenden</span><span class="sxs-lookup"><span data-stu-id="870cd-141">USE\_SESSION\_KEY</span></span><br/>     | <span data-ttu-id="870cd-142">Ein neuer [*Sitzungsschlüssel*](/windows/desktop/SecGloss/s-gly) muss ausgehandelt werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-142">A new [*session key*](/windows/desktop/SecGloss/s-gly) must be negotiated.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="870cd-143">Eingabeaufforderung für Anmelde Informationen \_ \_</span><span class="sxs-lookup"><span data-stu-id="870cd-143">PROMPT\_FOR\_CREDS</span></span><br/>    | <span data-ttu-id="870cd-144">Wenn der Client ein interaktiver Benutzer ist, muss das Sicherheitspaket, wenn möglich, den Benutzer zur Eingabe der entsprechenden [*Anmelde*](/windows/desktop/SecGloss/c-gly)Informationen auffordern.</span><span class="sxs-lookup"><span data-stu-id="870cd-144">If the client is an interactive user, the security package must, if possible, prompt the user for the appropriate [*credentials*](/windows/desktop/SecGloss/c-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="870cd-145">Verwenden von \_ bereitgestellten Anmelde-IDs \_</span><span class="sxs-lookup"><span data-stu-id="870cd-145">USE\_SUPPLIED\_CREDS</span></span><br/>  | <span data-ttu-id="870cd-146">Paket spezifische Anmelde Informationen sind im Eingabepuffer verfügbar.</span><span class="sxs-lookup"><span data-stu-id="870cd-146">Package-specific credential information is available in the input buffer.</span></span> <span data-ttu-id="870cd-147">Das Sicherheitspaket kann diese [*Anmelde*](/windows/desktop/SecGloss/c-gly) Informationen verwenden, um die Verbindung zu authentifizieren.</span><span class="sxs-lookup"><span data-stu-id="870cd-147">The security package can use these [*credentials*](/windows/desktop/SecGloss/c-gly) to authenticate the connection.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="870cd-148">bereitgestellte Anmelde- \_ \_ Befehle Speichern</span><span class="sxs-lookup"><span data-stu-id="870cd-148">SAVE\_SUPPLIED\_CREDS</span></span><br/> | <span data-ttu-id="870cd-149">Die angegebenen Anmelde Informationen sollten mit den ergänzenden Anmelde Informationen zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-149">The supplied credentials should be cached with the supplemental credentials.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="870cd-150">Arbeits \_ Speicher zuweisen</span><span class="sxs-lookup"><span data-stu-id="870cd-150">ALLOCATE\_MEMORY</span></span><br/>      | <span data-ttu-id="870cd-151">Das [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) muss Arbeitsspeicher zuweisen.</span><span class="sxs-lookup"><span data-stu-id="870cd-151">The [*security package*](/windows/desktop/SecGloss/s-gly) must allocate memory.</span></span> <span data-ttu-id="870cd-152">Der Aufrufer muss schließlich die [**freecontextbuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) -Funktion aufzurufen, um vom Sicherheitspaket zugeordnete Arbeitsspeicher freizugeben.</span><span class="sxs-lookup"><span data-stu-id="870cd-152">The caller must eventually call the [**FreeContextBuffer**](/windows/desktop/api/Sspi/nf-sspi-freecontextbuffer) function to free memory allocated by the security package.</span></span><br/>                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="870cd-153">\_DCE- \_ Stil verwenden</span><span class="sxs-lookup"><span data-stu-id="870cd-153">USE\_DCE\_STYLE</span></span><br/>       | <span data-ttu-id="870cd-154">Der Aufrufer erwartet eine drei-Drittel-Authentifizierungs [*Transaktion*](/windows/desktop/SecGloss/t-gly).</span><span class="sxs-lookup"><span data-stu-id="870cd-154">The caller expects a three-leg authentication [*transaction*](/windows/desktop/SecGloss/t-gly).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="870cd-155">Datagram</span><span class="sxs-lookup"><span data-stu-id="870cd-155">DATAGRAM</span></span><br/>              | <span data-ttu-id="870cd-156">[*Datagramm*](/windows/desktop/SecGloss/d-gly) -Semantik muss verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-156">[*Datagram*](/windows/desktop/SecGloss/d-gly) semantics must be used.</span></span> <span data-ttu-id="870cd-157">Weitere Informationen finden Sie unter [Datagramm-Kontexte](datagram-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="870cd-157">For more information, see [Datagram Contexts](datagram-contexts.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="870cd-158">CONNECTION</span><span class="sxs-lookup"><span data-stu-id="870cd-158">CONNECTION</span></span><br/>            | <span data-ttu-id="870cd-159">Die Verbindungs Semantik muss verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-159">Connection semantics must be used.</span></span> <span data-ttu-id="870cd-160">Weitere Informationen finden Sie unter [Verbindungs orientierte Kontexte](connection-oriented-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="870cd-160">For more information, see [Connection-Oriented Contexts](connection-oriented-contexts.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="870cd-161">Datenstrom</span><span class="sxs-lookup"><span data-stu-id="870cd-161">STREAM</span></span><br/>                | <span data-ttu-id="870cd-162">Die Datenstrom Semantik muss verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="870cd-162">Stream semantics must be used.</span></span> <span data-ttu-id="870cd-163">Weitere Informationen finden Sie unter [streamkontexte](stream-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="870cd-163">For more information, see [Stream Contexts](stream-contexts.md).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="870cd-164">erweiterter \_ Fehler</span><span class="sxs-lookup"><span data-stu-id="870cd-164">EXTENDED\_ERROR</span></span><br/>       | <span data-ttu-id="870cd-165">Fehler Antwort Nachrichten für den Peer müssen generiert werden, wenn der Kontext fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="870cd-165">Error reply messages for the peer must be generated if the context fails.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="870cd-166">Integrität</span><span class="sxs-lookup"><span data-stu-id="870cd-166">INTEGRITY</span></span><br/>             | <span data-ttu-id="870cd-167">Die Puffer Integrität kann überprüft werden, es ist jedoch keine Sequenzierung oder Antwort Erkennung aktiviert.</span><span class="sxs-lookup"><span data-stu-id="870cd-167">Buffer integrity can be verified but no sequencing or reply detection is enabled.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="870cd-168">keine \_ Integrität</span><span class="sxs-lookup"><span data-stu-id="870cd-168">NO\_INTEGRITY</span></span><br/>         | <span data-ttu-id="870cd-169">Die **Integritäts** Anforderung wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="870cd-169">The **INTEGRITY** requirement is ignored.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="870cd-170">Identifizieren</span><span class="sxs-lookup"><span data-stu-id="870cd-170">IDENTIFY</span></span><br/>              | <span data-ttu-id="870cd-171">Wenn ein Server die Identität eines Kontexts annimmt, für den dieses Flag festgelegt ist, ergibt dieser Identitätswechsel einen extrem eingeschränkten Zugriff.</span><span class="sxs-lookup"><span data-stu-id="870cd-171">When a server impersonates a context that has this flag set, that impersonation yields extremely limited access.</span></span> <span data-ttu-id="870cd-172">Der Identitätswechsel mit der Identifizierungs Gruppe wird verwendet, um die Identität des Clients zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="870cd-172">Impersonation with IDENTIFY set is used to verify the client's identity.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                       |



 

 

