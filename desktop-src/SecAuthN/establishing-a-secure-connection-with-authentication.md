---
description: In einem Client/Server-Anwendungsprotokoll bindet ein Server an einen Kommunikationsport, z. b. einen Socket oder eine RPC-Schnittstelle.
ms.assetid: 176d4ca5-83dd-42ef-b116-227d4badc0dd
title: Einrichten einer sicheren Verbindung mit der Authentifizierung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0a43483893c8dcf56e6db6b3c7d7aa1451bf9540
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106353907"
---
# <a name="establishing-a-secure-connection-with-authentication"></a><span data-ttu-id="ab602-103">Einrichten einer sicheren Verbindung mit der Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="ab602-103">Establishing a Secure Connection with Authentication</span></span>

<span data-ttu-id="ab602-104">In einem Client/Server- [*Anwendungsprotokoll*](/windows/desktop/SecGloss/a-gly)bindet ein Server an einen Kommunikationsport, z. b. einen Socket oder eine RPC-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="ab602-104">In a client/server [*application protocol*](/windows/desktop/SecGloss/a-gly), a server binds to a communication port such as a socket or an RPC interface.</span></span> <span data-ttu-id="ab602-105">Der Server wartet dann darauf, dass ein Client eine Verbindung herstellt und den Dienst anfordert.</span><span class="sxs-lookup"><span data-stu-id="ab602-105">The server then waits for a client to connect and request service.</span></span> <span data-ttu-id="ab602-106">Die Rolle der Sicherheit beim Einrichten der Verbindung erfolgt im Fall einer gegenseitigen Authentifizierung aus zwei Fällen:</span><span class="sxs-lookup"><span data-stu-id="ab602-106">The role of security at connection setup is two-fold in the case of mutual authentication:</span></span>

-   <span data-ttu-id="ab602-107">Client Authentifizierung durch den Server.</span><span class="sxs-lookup"><span data-stu-id="ab602-107">Client authentication by the server.</span></span>
-   <span data-ttu-id="ab602-108">Server Authentifizierung durch den Client.</span><span class="sxs-lookup"><span data-stu-id="ab602-108">Server authentication by the client.</span></span>

<span data-ttu-id="ab602-109">Die Client-und Serverkomponenten einer Transport Anwendung verwenden ein [*Sicherheitspaket*](/windows/desktop/SecGloss/s-gly) zum Herstellen einer sicheren Verbindung zum Übertragen von Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="ab602-109">The client and server components of a transport application use a [*security package*](/windows/desktop/SecGloss/s-gly) to establish a secure connection for transmitting messages.</span></span> <span data-ttu-id="ab602-110">Der erste Schritt beim Einrichten einer sicheren Verbindung besteht darin, einen [*Sicherheitskontext*](/windows/desktop/SecGloss/s-gly)zu erstellen. Das heißt, eine nicht transparente Datenstruktur, die die für eine Verbindung relevanten Sicherheitsdaten enthält, z. b. einen [*Sitzungsschlüssel*](/windows/desktop/SecGloss/s-gly) und die Dauer der Sitzung.</span><span class="sxs-lookup"><span data-stu-id="ab602-110">The first step in establishing a secure connection is to create a [*security context*](/windows/desktop/SecGloss/s-gly); that is, an opaque data structure that contains the security data relevant to a connection, such as a [*session key*](/windows/desktop/SecGloss/s-gly) and the duration of the session.</span></span>

<span data-ttu-id="ab602-111">Bei einem Sicherheitskontext handelt es sich im Wesentlichen um eine Meldung von dem Sicherheitspaket, das dem Client zugeordnet ist, mit dem dem Server zugeordneten Sicherheitspaket.</span><span class="sxs-lookup"><span data-stu-id="ab602-111">A security context is essentially a message from the security package associated with the client to the security package associated with the server.</span></span> <span data-ttu-id="ab602-112">Folglich erfordert das Erstellen eines Sicherheits Kontexts in der Regel, dass sowohl der Client als auch der Server Aufrufe an die entsprechenden Sicherheitspakete durchführen.</span><span class="sxs-lookup"><span data-stu-id="ab602-112">Consequently, creating a security context typically requires both client and server to make calls to their respective security packages.</span></span> <span data-ttu-id="ab602-113">Weitere Informationen zu Kontextfunktionen finden Sie unter [Context Management (Kontext Verwaltung](authentication-functions.md)).</span><span class="sxs-lookup"><span data-stu-id="ab602-113">For more information on context functions, see [Context Management](authentication-functions.md).</span></span>

<span data-ttu-id="ab602-114">Das Protokoll, das zum Einrichten einer sicheren, authentifizierten Verbindung verwendet wird, umfasst den Austausch von einem oder mehreren "Sicherheits Token" zwischen dem Client und dem Server.</span><span class="sxs-lookup"><span data-stu-id="ab602-114">The protocol used to establish a secure, authenticated connection involves the exchange of one or more "security tokens" between the client and the server.</span></span> <span data-ttu-id="ab602-115">Diese Token werden von den beiden Seiten als nicht transparente Nachrichten zusammen mit anderen [*Anwendungsprotokoll*](/windows/desktop/SecGloss/a-gly)spezifischen Informationen gesendet.</span><span class="sxs-lookup"><span data-stu-id="ab602-115">These tokens are sent as opaque messages by the two sides along with any other [*application protocol*](/windows/desktop/SecGloss/a-gly)-specific information.</span></span> <span data-ttu-id="ab602-116">Als nicht transparente Nachricht wird das Token von einer Sicherheitspaket Funktion vom Client empfangen, die es nicht interpretieren oder ändern kann und als Nachricht an den Server weitergeleitet wird.</span><span class="sxs-lookup"><span data-stu-id="ab602-116">As an opaque message, the token is received from a security package function by the client, which cannot interpret or change it, and forwarded as a message to the server.</span></span> <span data-ttu-id="ab602-117">Das Token ist auch für den Server nicht transparent, wodurch das Token weder interpretiert noch geändert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ab602-117">The token is also opaque to the server, which can neither interpret nor change the token.</span></span> <span data-ttu-id="ab602-118">Der Server leitet das nicht transparente Token zur Interpretation an das Sicherheitspaket weiter.</span><span class="sxs-lookup"><span data-stu-id="ab602-118">The server forwards the opaque token to its security package for interpretation.</span></span> <span data-ttu-id="ab602-119">Das Paket informiert den Server dann über die Client Authentifizierung oder den Fehler bei der Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="ab602-119">The package then informs the server of the client authentication or failure to authenticate.</span></span>

<span data-ttu-id="ab602-120">Der Client empfängt das Token des Servers in einer Nachricht, ruft das Token von der empfangenen Nachricht ab und verwendet dieses Token in einem aufgerufenen Sicherheitspaket.</span><span class="sxs-lookup"><span data-stu-id="ab602-120">The client receives the server's token in a message, retrieves the token from the received message, and uses that token in a call to its security package.</span></span> <span data-ttu-id="ab602-121">Der Client ruft dann das Sicherheitspaket erneut auf, um anzugeben, ob eine sichere Verbindung hergestellt wurde oder ob weitere Austausch Vorgänge erforderlich sind, bevor eine sichere Verbindung bereit ist.</span><span class="sxs-lookup"><span data-stu-id="ab602-121">The client then calls the security package again indicating whether a secure connection has been established or whether further exchanges are needed before a secure connection is ready.</span></span> <span data-ttu-id="ab602-122">Theoretisch gibt es keine Beschränkung für die Anzahl der erforderlichen Austausch Vorgänge für Sicherheits Token.</span><span class="sxs-lookup"><span data-stu-id="ab602-122">Theoretically, there is no limit to the number of exchanges of security tokens needed.</span></span> <span data-ttu-id="ab602-123">In der Praxis ist nur eine begrenzte Anzahl von Austausch Vorgängen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="ab602-123">In practice, only a limited number of exchanges is required.</span></span> <span data-ttu-id="ab602-124">Die NTLM-Authentifizierung basiert auf dem Challenge/Response-Schema und verwendet drei Beine zum Authentifizieren eines Clients beim Server.</span><span class="sxs-lookup"><span data-stu-id="ab602-124">NTLM authentication is based on the challenge/response scheme, and uses three legs to authenticate a client to the server.</span></span> <span data-ttu-id="ab602-125">Das [*Kerberos*](/windows/desktop/SecGloss/k-gly) -Protokoll, Version 5,0, kann zusätzlichen Nachrichtenaustausch erfordern.</span><span class="sxs-lookup"><span data-stu-id="ab602-125">The [*Kerberos*](/windows/desktop/SecGloss/k-gly) version 5.0 protocol can require additional message exchanges.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ab602-126">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ab602-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ab602-127">Client kontextinitialisierung</span><span class="sxs-lookup"><span data-stu-id="ab602-127">Client Context Initialization</span></span>](client-context-initialization.md)
</dt> <dt>

[<span data-ttu-id="ab602-128">Initialisierung des Server Kontexts</span><span class="sxs-lookup"><span data-stu-id="ab602-128">Server Context Initialization</span></span>](server-context-initialization.md)
</dt> </dl>

 

 
