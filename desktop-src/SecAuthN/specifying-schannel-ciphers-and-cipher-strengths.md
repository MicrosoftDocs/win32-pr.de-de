---
description: Angeben von SChannel-Chiffren und Verschlüsselungs stärken
ms.assetid: b87d3e72-df7b-4a00-854e-c3706565ed7d
title: Angeben von SChannel-Chiffren und Verschlüsselungs stärken
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b04ec37cfea633814881fba5bfd71ad15205a1bd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "106373228"
---
# <a name="specifying-schannel-ciphers-and-cipher-strengths"></a><span data-ttu-id="b6310-103">Angeben von SChannel-Chiffren und Verschlüsselungs stärken</span><span class="sxs-lookup"><span data-stu-id="b6310-103">Specifying Schannel Ciphers and Cipher Strengths</span></span>

<span data-ttu-id="b6310-104">Für den Austausch von Client/Server-Informationen besteht das Standardverhalten von SChannel darin, die beste Verschlüsselung zu aushandeln, die auf den in der Registrierung aktivierten Einstellungen basiert.</span><span class="sxs-lookup"><span data-stu-id="b6310-104">For client/server information exchanges, the default behavior of Schannel is to negotiate the best cipher available based on those enabled in the registry.</span></span> <span data-ttu-id="b6310-105">Anwendungen können die Chiffren und Chiffre stärken, die für eine Verbindung zulässig sind, mithilfe der Schannel-Struktur der [**SChannel \_ -**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) Struktur wie folgt einschränken:</span><span class="sxs-lookup"><span data-stu-id="b6310-105">Applications may limit the ciphers and cipher strengths allowed for a connection by using members of the [**SCHANNEL\_CRED**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) structure as follows:</span></span>

1.  <span data-ttu-id="b6310-106">Legen Sie den Member **palgsupportedalgs** auf ein Array von [**ALG- \_ IDs**](../seccrypto/alg-id.md) fest, das die zulässigen Chiffren enthält.</span><span class="sxs-lookup"><span data-stu-id="b6310-106">Set the **palgSupportedAlgs** member to an array of [**ALG\_ID**](../seccrypto/alg-id.md) containing the allowable ciphers.</span></span> <span data-ttu-id="b6310-107">Weitere Informationen finden Sie unter Chiffre-IDs.</span><span class="sxs-lookup"><span data-stu-id="b6310-107">For more information, see Cipher IDs.</span></span>
2.  <span data-ttu-id="b6310-108">Legen Sie die Member **dwminimumcipherstrength** und/oder **dwmaximumcipherstrength** auf die zulässigen minimalen und maximalen stärken fest.</span><span class="sxs-lookup"><span data-stu-id="b6310-108">Set the **dwMinimumCipherStrength** and/or **dwMaximumCipherStrength** members to the allowable minimum and maximum strengths.</span></span> <span data-ttu-id="b6310-109">Weitere Informationen finden Sie unter Verschlüsselungsstärke-Werte.</span><span class="sxs-lookup"><span data-stu-id="b6310-109">For more information, see Cipher Strength Values.</span></span>
3.  <span data-ttu-id="b6310-110">Übergeben Sie die [**SChannel- \_ Kred-**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) Struktur (mithilfe des *pauthdata* -Parameters) in einem Aufrufen der [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) -Funktion.</span><span class="sxs-lookup"><span data-stu-id="b6310-110">Pass the [**SCHANNEL\_CRED**](/windows/desktop/api/Schannel/ns-schannel-schannel_cred) structure (by means of the *pAuthData* parameter) in a call to the [**AcquireCredentialsHandle**](/windows/win32/api/sspi/nf-sspi-acquirecredentialshandlea) function.</span></span> <span data-ttu-id="b6310-111">Diese Funktion gibt ein Handle für die Anmelde Informationen zurück.</span><span class="sxs-lookup"><span data-stu-id="b6310-111">This function returns a credentials handle.</span></span>
4.  <span data-ttu-id="b6310-112">Geben Sie das Handle für die Anmelde Informationen in einem Aufrufe der Client seitigen [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) -Funktion oder der serverseitigen [**Accept-SecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) -Funktion an.</span><span class="sxs-lookup"><span data-stu-id="b6310-112">Specify the credentials handle in a call to the client-side [**InitializeSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-initializesecuritycontexta) function or the server-side [**AcceptSecurityContext (General)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span>

## <a name="cipher-ids"></a><span data-ttu-id="b6310-113">Chiffre-IDs</span><span class="sxs-lookup"><span data-stu-id="b6310-113">Cipher IDs</span></span>

<span data-ttu-id="b6310-114">Das Standardverhalten von SChannel besteht darin, die beste Chiffre anzufordern, die auf SChannel-Einträgen in der Systemregistrierung basiert.</span><span class="sxs-lookup"><span data-stu-id="b6310-114">The default behavior of Schannel is to request the best cipher available based on Schannel entries in the system registry.</span></span> <span data-ttu-id="b6310-115">Ändern Sie die Systemregistrierung nicht. die Einstellungen, die in Schannel enthalten sind, werden global verwendet und wirken sich auf andere Anwendungen aus.</span><span class="sxs-lookup"><span data-stu-id="b6310-115">Do not change the system registry; the settings it contains for Schannel are used globally and will affect other applications.</span></span> <span data-ttu-id="b6310-116">Eine Liste der gültigen Konstanten finden Sie unter [**ALG- \_ ID**](../seccrypto/alg-id.md).</span><span class="sxs-lookup"><span data-stu-id="b6310-116">For the list of valid constants, see [**ALG\_ID**](../seccrypto/alg-id.md).</span></span>

## <a name="cipher-strength-values"></a><span data-ttu-id="b6310-117">Werte für Verschlüsselungsstärke</span><span class="sxs-lookup"><span data-stu-id="b6310-117">Cipher Strength Values</span></span>

<span data-ttu-id="b6310-118">Diese SChannel-Funktion wird normalerweise verwendet, um eine Verbindung zu den Chiffren für die nationale oder die Exportstärke einzuschränken.</span><span class="sxs-lookup"><span data-stu-id="b6310-118">This Schannel feature is typically used to limit a connection to either domestic or export strength ciphers.</span></span> <span data-ttu-id="b6310-119">Zu den inländischen stärken zählen 56 und 128 Bits, während die Exportstärke auf 56 Bits beschränkt ist.</span><span class="sxs-lookup"><span data-stu-id="b6310-119">Domestic strengths include 56, and 128 bits, while export strength is limited to 56 bits.</span></span> <span data-ttu-id="b6310-120">Wenn Sie die Mindest-und Höchstwerte auf NULL festlegen, verwendet SChannel alle verfügbaren Verschlüsselungs stärken.</span><span class="sxs-lookup"><span data-stu-id="b6310-120">If you set the minimum and maximum values to zero Schannel will use all available cipher strengths.</span></span>

<span data-ttu-id="b6310-121">Legen Sie mithilfe von TLS oder SSL 3,0 den **dwminimumcipherstrength** -Member auf-1 (negatives 1) fest, um die Verschlüsselungs Sammlungen "Null-Verschlüsselung" zu aktivieren, die Signaturen, aber keine Verschlüsselung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="b6310-121">Using TLS or SSL 3.0, set the **dwMinimumCipherStrength** member to -1 (negative one) to enable the "Null Cipher" cipher suites, which provide signatures but no encryption.</span></span> <span data-ttu-id="b6310-122">Wenn **dwmaximumcipherstrength** auch auf-1 festgelegt ist, wird nur die "Null-Verschlüsselungs Sammlungen" aktiviert.</span><span class="sxs-lookup"><span data-stu-id="b6310-122">If **dwMaximumCipherStrength** is also set to -1 then only the "Null Cipher" suites will be enabled.</span></span> <span data-ttu-id="b6310-123">Diese Einstellung ist nur für die Entwicklung vorgesehen und sollte nicht in Produktionssystemen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b6310-123">This setting is intended for development only and should not be used in production systems.</span></span>

## <a name="querying-cipher-information"></a><span data-ttu-id="b6310-124">Abfragen von Verschlüsselungs Informationen</span><span class="sxs-lookup"><span data-stu-id="b6310-124">Querying Cipher Information</span></span>

<span data-ttu-id="b6310-125">Um die Einstellungen für die Verschlüsselungsstärke für Anmelde Informationen abzurufen, rufen Sie die Funktion [**querykredentialsattributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) auf, und geben Sie secpkg \_ attr \_ Verschlüsselungs \_ stärken als *ulattribute* -Parameter an.</span><span class="sxs-lookup"><span data-stu-id="b6310-125">To retrieve the cipher strength settings for a credential, call the [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) function and specify SECPKG\_ATTR\_CIPHER\_STRENGTHS as the *ulAttribute* parameter.</span></span>

<span data-ttu-id="b6310-126">Um die Liste der unterstützten Algorithmen für Anmelde Informationen abzurufen, rufen Sie [**querykredentialsattributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) mit von secpkg \_ attr \_ unterstützten \_ ALGs als *ulattribute* -Parameter auf.</span><span class="sxs-lookup"><span data-stu-id="b6310-126">To retrieve the list of supported algorithms for a credential, call the [**QueryCredentialsAttributes**](/windows/desktop/api/Sspi/nf-sspi-querycredentialsattributesa) with SECPKG\_ATTR\_SUPPORTED\_ALGS as the *ulAttribute* parameter.</span></span>

 

 
