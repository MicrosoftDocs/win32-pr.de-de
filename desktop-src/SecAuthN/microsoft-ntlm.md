---
description: Windows Challenge/Response (NTLM) ist das Authentifizierungsprotokoll, das in Netzwerken verwendet wird, die Systeme mit dem Betriebssystem Windows und eigenständigen Systemen enthalten.
ms.assetid: 35a38858-d36f-45c9-95f4-2541a182f5ac
title: Microsoft-NTLM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9723f24d5913adefe70d4e238de0591790a34bfd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104525862"
---
# <a name="microsoft-ntlm"></a><span data-ttu-id="e4569-103">Microsoft-NTLM</span><span class="sxs-lookup"><span data-stu-id="e4569-103">Microsoft NTLM</span></span>

<span data-ttu-id="e4569-104">Windows Challenge/Response (NTLM) ist das Authentifizierungsprotokoll, das in Netzwerken verwendet wird, die Systeme mit dem Betriebssystem Windows und eigenständigen Systemen enthalten.</span><span class="sxs-lookup"><span data-stu-id="e4569-104">Windows Challenge/Response (NTLM) is the authentication protocol used on networks that include systems running the Windows operating system and on stand-alone systems.</span></span>

<span data-ttu-id="e4569-105">Das Microsoft [*Kerberos*](../secgloss/k-gly.md) - [*Sicherheitspaket*](../secgloss/s-gly.md) erhöht die Sicherheit von NTLM zu Systemen in einem Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="e4569-105">The Microsoft [*Kerberos*](../secgloss/k-gly.md) [*security package*](../secgloss/s-gly.md) adds greater security than NTLM to systems on a network.</span></span> <span data-ttu-id="e4569-106">Obwohl es sich bei Microsoft *Kerberos* um das Protokoll der Wahl handelt, wird NTLM weiterhin unterstützt.</span><span class="sxs-lookup"><span data-stu-id="e4569-106">Although Microsoft *Kerberos* is the protocol of choice, NTLM is still supported.</span></span> <span data-ttu-id="e4569-107">NTLM muss auch für die Anmelde Authentifizierung auf eigenständigen Systemen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e4569-107">NTLM must also be used for logon authentication on stand-alone systems.</span></span> <span data-ttu-id="e4569-108">Weitere Informationen zu Kerberos finden Sie unter [Microsoft Kerberos](microsoft-kerberos.md).</span><span class="sxs-lookup"><span data-stu-id="e4569-108">For more information about Kerberos, see [Microsoft Kerberos](microsoft-kerberos.md).</span></span>

<span data-ttu-id="e4569-109">NTLM-Anmelde Informationen basieren auf Daten, die während des interaktiven Anmeldevorgangs abgerufen werden. Sie bestehen aus einem Domänen Namen, einem Benutzernamen und einem unidirektionalen [*Hash*](../secgloss/h-gly.md) des Benutzer Kennworts.</span><span class="sxs-lookup"><span data-stu-id="e4569-109">NTLM credentials are based on data obtained during the interactive logon process and consist of a domain name, a user name, and a one-way [*hash*](../secgloss/h-gly.md) of the user's password.</span></span> <span data-ttu-id="e4569-110">NTLM verwendet ein verschlüsseltes Challenge/Response-Protokoll, um einen Benutzer zu authentifizieren, ohne das Kennwort des Benutzers über das Netzwerk zu senden.</span><span class="sxs-lookup"><span data-stu-id="e4569-110">NTLM uses an encrypted challenge/response protocol to authenticate a user without sending the user's password over the wire.</span></span> <span data-ttu-id="e4569-111">Stattdessen muss das System, das eine Authentifizierung anfordert, eine Berechnung durchführen, die bestätigt, dass es Zugriff auf die gesicherten NTLM-Anmelde Informationen</span><span class="sxs-lookup"><span data-stu-id="e4569-111">Instead, the system requesting authentication must perform a calculation that proves it has access to the secured NTLM credentials.</span></span>

<span data-ttu-id="e4569-112">Die interaktive NTLM-Authentifizierung über ein Netzwerk umfasst in der Regel zwei Systeme: ein Client System, in dem der Benutzer eine Authentifizierung anfordert, und einen Domänen Controller, auf dem Informationen im Zusammenhang mit dem Kennwort des Benutzers aufbewahrt werden.</span><span class="sxs-lookup"><span data-stu-id="e4569-112">Interactive NTLM authentication over a network typically involves two systems: a client system, where the user is requesting authentication, and a domain controller, where information related to the user's password is kept.</span></span> <span data-ttu-id="e4569-113">Die nicht interaktive Authentifizierung, die möglicherweise erforderlich ist, um einem bereits angemeldeten Benutzer den Zugriff auf eine Ressource wie z. b. eine Serveranwendung zu gestatten, umfasst in der Regel drei Systeme: einen Client, einen Server und einen Domänen Controller, der die Authentifizierungs Berechnungen für den Server ausführt.</span><span class="sxs-lookup"><span data-stu-id="e4569-113">Noninteractive authentication, which may be required to permit an already logged-on user to access a resource such as a server application, typically involves three systems: a client, a server, and a domain controller that does the authentication calculations on behalf of the server.</span></span>

<span data-ttu-id="e4569-114">Die folgenden Schritte zeigen eine Übersicht über die nicht interaktive NTLM-Authentifizierung.</span><span class="sxs-lookup"><span data-stu-id="e4569-114">The following steps present an outline of NTLM noninteractive authentication.</span></span> <span data-ttu-id="e4569-115">Der erste Schritt stellt die NTLM-Anmelde Informationen des Benutzers bereit und tritt nur im Rahmen des interaktiven Authentifizierungs Vorgangs (Logon) auf.</span><span class="sxs-lookup"><span data-stu-id="e4569-115">The first step provides the user's NTLM credentials and occurs only as part of the interactive authentication (logon) process.</span></span>

1.  <span data-ttu-id="e4569-116">(Nur interaktive Authentifizierung) Ein Benutzer greift auf einen Client Computer zu und stellt einen Domänen Namen, einen Benutzernamen und ein Kennwort bereit.</span><span class="sxs-lookup"><span data-stu-id="e4569-116">(Interactive authentication only) A user accesses a client computer and provides a domain name, user name, and password.</span></span> <span data-ttu-id="e4569-117">Der Client berechnet einen kryptografischen [*Hash*](../secgloss/h-gly.md) des Kennworts und verwirft das tatsächliche Kennwort.</span><span class="sxs-lookup"><span data-stu-id="e4569-117">The client computes a cryptographic [*hash*](../secgloss/h-gly.md) of the password and discards the actual password.</span></span>
2.  <span data-ttu-id="e4569-118">Der Client sendet den Benutzernamen an den Server (als [*Klartext).*](../secgloss/p-gly.md)</span><span class="sxs-lookup"><span data-stu-id="e4569-118">The client sends the user name to the server (in [*plaintext*](../secgloss/p-gly.md)).</span></span>
3.  <span data-ttu-id="e4569-119">Der Server generiert eine 16-Byte-Zufallszahl, die als " *Challenge* " oder " [*Nonce*](../secgloss/n-gly.md)" bezeichnet wird, und sendet Sie an den Client.</span><span class="sxs-lookup"><span data-stu-id="e4569-119">The server generates a 16-byte random number, called a *challenge* or [*nonce*](../secgloss/n-gly.md), and sends it to the client.</span></span>
4.  <span data-ttu-id="e4569-120">Der Client verschlüsselt diese Aufforderung mit dem Hashwert des Benutzer Kennworts und gibt das Ergebnis an den Server zurück.</span><span class="sxs-lookup"><span data-stu-id="e4569-120">The client encrypts this challenge with the hash of the user's password and returns the result to the server.</span></span> <span data-ttu-id="e4569-121">Dies wird *als Antwort* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="e4569-121">This is called the *response*.</span></span>
5.  <span data-ttu-id="e4569-122">Der Server sendet die folgenden drei Elemente an den Domänen Controller:</span><span class="sxs-lookup"><span data-stu-id="e4569-122">The server sends the following three items to the domain controller:</span></span>

    -   <span data-ttu-id="e4569-123">Benutzername</span><span class="sxs-lookup"><span data-stu-id="e4569-123">User name</span></span>
    -   <span data-ttu-id="e4569-124">Die Anforderung wurde an den Client gesendet.</span><span class="sxs-lookup"><span data-stu-id="e4569-124">Challenge sent to the client</span></span>
    -   <span data-ttu-id="e4569-125">Vom Client empfangene Antwort</span><span class="sxs-lookup"><span data-stu-id="e4569-125">Response received from the client</span></span>

6.  <span data-ttu-id="e4569-126">Der Domänen Controller verwendet den Benutzernamen, um den Hash des Benutzer Kennworts aus der Security Account Manager-Datenbank abzurufen.</span><span class="sxs-lookup"><span data-stu-id="e4569-126">The domain controller uses the user name to retrieve the hash of the user's password from the Security Account Manager database.</span></span> <span data-ttu-id="e4569-127">Dieser Kenn Wort Hash wird verwendet, um die Abfrage zu verschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="e4569-127">It uses this password hash to encrypt the challenge.</span></span>
7.  <span data-ttu-id="e4569-128">Der Domänen Controller vergleicht die verschlüsselte, berechnete Abfrage (in Schritt 6) mit der vom Client berechneten Antwort (in Schritt 4).</span><span class="sxs-lookup"><span data-stu-id="e4569-128">The domain controller compares the encrypted challenge it computed (in step 6) to the response computed by the client (in step 4).</span></span> <span data-ttu-id="e4569-129">Wenn Sie identisch sind, ist die Authentifizierung erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="e4569-129">If they are identical, authentication is successful.</span></span>

<span data-ttu-id="e4569-130">Die Anwendung sollte nicht direkt auf das NTLM- [*Sicherheitspaket*](../secgloss/s-gly.md) zugreifen. Stattdessen sollte das [*Aushandlungs*](../secgloss/n-gly.md) Sicherheitspaket verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e4569-130">Your application should not access the NTLM [*security package*](../secgloss/s-gly.md) directly; instead, it should use the [*Negotiate*](../secgloss/n-gly.md) security package.</span></span> <span data-ttu-id="e4569-131">Aushandeln ermöglicht der Anwendung die Nutzung erweiterter [*Sicherheitsprotokolle*](../secgloss/s-gly.md) , wenn Sie von den Systemen, die an der Authentifizierung beteiligt sind, unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="e4569-131">Negotiate allows your application to take advantage of more advanced [*security protocols*](../secgloss/s-gly.md) if they are supported by the systems involved in the authentication.</span></span> <span data-ttu-id="e4569-132">Derzeit wählt das Aushandlungs Sicherheitspaket zwischen [*Kerberos*](../secgloss/k-gly.md) und NTLM aus.</span><span class="sxs-lookup"><span data-stu-id="e4569-132">Currently, the Negotiate security package selects between [*Kerberos*](../secgloss/k-gly.md) and NTLM.</span></span> <span data-ttu-id="e4569-133">Aushandeln wählt Kerberos aus, es sei denn, Sie kann von einem der an der Authentifizierung beteiligten Systeme verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e4569-133">Negotiate selects Kerberos unless it cannot be used by one of the systems involved in the authentication.</span></span>

 

 
