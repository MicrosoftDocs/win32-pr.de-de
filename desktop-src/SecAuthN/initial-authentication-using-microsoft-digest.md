---
description: Die erste Authentifizierung findet statt, wenn der Server eine Abfrage Antwort von einem Client empfängt.
ms.assetid: 8a5cf26b-0b2a-4f19-807b-9ec4d533cdd4
title: Anfängliche Authentifizierung mit Microsoft Digest
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8ed4960d947bbc60df962e6a9b71be755e158c8e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103867860"
---
# <a name="initial-authentication-using-microsoft-digest"></a><span data-ttu-id="7bfb5-103">Anfängliche Authentifizierung mit Microsoft Digest</span><span class="sxs-lookup"><span data-stu-id="7bfb5-103">Initial Authentication Using Microsoft Digest</span></span>

<span data-ttu-id="7bfb5-104">Die erste Authentifizierung findet statt, wenn der Server eine Abfrage Antwort von einem Client empfängt.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-104">The initial authentication takes place when the server receives a challenge response from a client.</span></span> <span data-ttu-id="7bfb5-105">Die Authentifizierung einer Challenge-Antwort umfasst in der Regel mindestens zwei Server:</span><span class="sxs-lookup"><span data-stu-id="7bfb5-105">Authenticating a challenge response typically involves a minimum of two servers:</span></span>

-   <span data-ttu-id="7bfb5-106">Der Ursprungsserver – empfängt die Anforderung vom Client und gibt eine Herausforderung aus und empfängt dann die Anforderungs Antwort vom Client, die authentifiziert werden muss.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-106">The originating server—receives the request from the client and issues a challenge, and then receives the challenge response from the client which must be authenticated.</span></span>
-   <span data-ttu-id="7bfb5-107">Der authentifizier Ende Server – empfängt Autorisierungs Informationen vom ursprünglichen Server und führt die Authentifizierung aus.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-107">The authenticating server—receives authorization information from the originating server, and performs the authentication.</span></span> <span data-ttu-id="7bfb5-108">Dieser Server ist in der Regel ein Domänen Controller, der mehrere Ursprungsserver unterstützt.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-108">This server is typically a domain controller that supports multiple originating servers.</span></span>

<span data-ttu-id="7bfb5-109">Wenn der Ursprungsserver eine Anforderung mit einem Autorisierungs Header empfängt, der eine digestaufforderungs-Antwort enthält, erfolgt die Authentifizierung wie folgt:</span><span class="sxs-lookup"><span data-stu-id="7bfb5-109">When the originating server receives a request with an Authorization header containing a Digest challenge response, the authentication proceeds as follows:</span></span>

-   <span data-ttu-id="7bfb5-110">Die Identität des Ursprungs Servers wird anhand des Servers überprüft, der in der Nonce der Challenge codiert ist.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-110">The identity of the originating server is checked against the server encoded in the challenge's nonce.</span></span>
-   <span data-ttu-id="7bfb5-111">Der in der Nonce codierte Zeitstempel wird geprüft.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-111">The time stamp encoded in the nonce is checked.</span></span> <span data-ttu-id="7bfb5-112">Wenn die Nonce abgelaufen ist und die Benutzernamen-/Kennwortinformationen gültig sind, beendet der Ursprungsserver die Authentifizierung, indem er eine neue digestfrage ausgibt, bei der die veraltete Direktive auf "true" festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-112">If the nonce has expired and the user name/password information is valid, the originating server ends the authentication by issuing a new Digest challenge with the stale directive set to "true".</span></span> <span data-ttu-id="7bfb5-113">Dies deutet darauf hin, dass nur das Nonce-Element "veraltet" war, und der Client kann auf die neue Abfrage mit dem Kennwort reagieren, das in der vorherigen Antwort verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-113">This indicates that only the nonce was "stale" and the client can respond to the new challenge using the password it used in the previous response.</span></span> <span data-ttu-id="7bfb5-114">Wenn der Client nach dem Senden der Abfrage Antwort für die veraltete Herausforderung eine neue Herausforderung erhält, muss der Client eine neue Abfrage Antwort generieren.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-114">If the client receives a new challenge after sending the challenge response for the stale challenge, the client must generate a new challenge response.</span></span>
-   <span data-ttu-id="7bfb5-115">Wenn die Wiedergabe Erkennung erzwungen wird, wird die NC-Direktive (Nonce count) anhand der Nonce-sitzungsdatenbank überprüft, die vom Server verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-115">If replay detection is enforced, the nc directive (nonce count) is checked against the nonce session database maintained by the server.</span></span>
-   <span data-ttu-id="7bfb5-116">Der authentifizier Ende Server wird identifiziert und sendet die Autorisierungs Informationen des Clients.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-116">The authenticating server is identified and sent the client's authorization information.</span></span>
-   <span data-ttu-id="7bfb5-117">Der authentifizier Ende Server überprüft die Identität des Servers, der in der Nonce verschlüsselt ist, anhand der Identität des Ursprungs Servers.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-117">The authenticating server checks the identity of the server encoded in the nonce against the identity of the originating server.</span></span>
-   <span data-ttu-id="7bfb5-118">Der authentifizier Ende Server, bei dem es sich um einen Domänen Controller handelt, ruft das Kennwort des Benutzers ab.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-118">The authenticating server, which is a domain controller, retrieves the user's password.</span></span>
-   <span data-ttu-id="7bfb5-119">Mithilfe der Autorisierungs Informationen, des Kennworts und der Ursprungsserver Identifikation berechnet der authentifizier Ende Server den Wert, den der Client in der Response-Direktive der Abfrage Antwort bereitstellen sollte.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-119">Using the authorization information, password, and originating server identification, the authenticating server computes the value that the client should have supplied in the challenge response's response directive.</span></span> <span data-ttu-id="7bfb5-120">Der authentifizier Ende Server vergleicht den berechneten Wert mit der Antwort des Clients, um zu ermitteln, ob die Authentifizierung erfolgreich war oder fehlgeschlagen ist.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-120">The authenticating server compares the computed value to the client's response to determine the success or failure of the authentication.</span></span>

<span data-ttu-id="7bfb5-121">Wenn die Authentifizierung erfolgreich ist, werden der [*Sicherheitskontext*](../secgloss/s-gly.md) des Benutzers und ein Digest- [*Sitzungsschlüssel*](../secgloss/s-gly.md) an den ursprünglichen Server zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-121">If authentication is successful, the user's [*security context*](../secgloss/s-gly.md) and a Digest [*session key*](../secgloss/s-gly.md) are returned to the originating server.</span></span> <span data-ttu-id="7bfb5-122">Wenn die Authentifizierung fehlschlägt, muss der Ursprungsserver eine Fehler Antwort generieren.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-122">If authentication fails, the originating server must generate an error response.</span></span> <span data-ttu-id="7bfb5-123">Nach erfolgreicher Authentifizierung gibt der Ursprungsserver die angeforderte Ressource an den Client zurück.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-123">After a successful authentication the originating server returns the requested resource to the client.</span></span>

<span data-ttu-id="7bfb5-124">Der vom authentifizier enden Server zurückgegebene Digest-Sitzungsschlüssel wird vom Ursprungsserver für die Authentifizierung zukünftiger Anforderungen zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="7bfb5-124">The Digest session key returned by the authenticating server is cached by the originating server for use in authenticating future requests.</span></span> <span data-ttu-id="7bfb5-125">Weitere Informationen finden Sie unter [Authentifizieren von nachfolgenden Anforderungen mit Microsoft Digest](authenticating-subsequent-requests-using-microsoft-digest.md).</span><span class="sxs-lookup"><span data-stu-id="7bfb5-125">For more information, see [Authenticating Subsequent Requests using Microsoft Digest](authenticating-subsequent-requests-using-microsoft-digest.md).</span></span>

 

 
