---
description: Wenn Sie eine Gina schreiben, um die Microsoft Standard Gina DLL (MSGina.dll) zu ersetzen, können Sie einige oder alle der standardmäßigen Gina-Funktionalität bereitstellen.
ms.assetid: cd2ce7b7-6167-4451-9f6e-881676a2145c
title: MSGina.dll Features
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51833ab92e47dad01c13df004797e3ab3552b09a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "103867255"
---
# <a name="msginadll-features"></a><span data-ttu-id="4bc43-103">MSGina.dll Features</span><span class="sxs-lookup"><span data-stu-id="4bc43-103">MSGina.dll Features</span></span>

<span data-ttu-id="4bc43-104">Wenn Sie eine [*Gina*](../secgloss/g-gly.md) schreiben, um die Microsoft Standard Gina DLL (MSGina.dll) zu ersetzen, können Sie einige oder alle der standardmäßigen Gina-Funktionalität bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="4bc43-104">If you are writing a [*GINA*](../secgloss/g-gly.md) to replace the Microsoft standard GINA DLL (MSGina.dll), you may want to provide some or all of the standard GINA functionality.</span></span> <span data-ttu-id="4bc43-105">Im folgenden finden Sie eine Liste der Standard Features und eine kurze Beschreibung ihrer Kontrolle.</span><span class="sxs-lookup"><span data-stu-id="4bc43-105">Following is a list of standard features and a brief description of how they are controlled.</span></span>

> [!Note]  
> <span data-ttu-id="4bc43-106">Gina-DLLs werden in Windows Vista ignoriert.</span><span class="sxs-lookup"><span data-stu-id="4bc43-106">GINA DLLs are ignored in Windows Vista.</span></span>

 

<span data-ttu-id="4bc43-107">Registrierungsschlüssel Werte steuern die Verfügbarkeit oder das Verhalten vieler dieser Standard-Gina-Features.</span><span class="sxs-lookup"><span data-stu-id="4bc43-107">Registry key values control the availability or behavior of many of these standard GINA features.</span></span> <span data-ttu-id="4bc43-108">Sofern nicht anders angegeben, gehören diese Schlüsselwerte zum Registrierungsschlüssel Winlogon und haben den Werttyp \[ reg \_ SZ \] .</span><span class="sxs-lookup"><span data-stu-id="4bc43-108">Unless otherwise noted, these key values belong to the Winlogon registry key and have a value type of \[REG\_SZ\].</span></span> <span data-ttu-id="4bc43-109">Der tatsächliche Pfad des [*Winlogon*](../secgloss/w-gly.md) -Schlüssels lautet:</span><span class="sxs-lookup"><span data-stu-id="4bc43-109">The actual path of the [*Winlogon*](../secgloss/w-gly.md) key is:</span></span>

<span data-ttu-id="4bc43-110">**\\HKEY \_ local \_ Machine \\ Software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Winlogon**</span><span class="sxs-lookup"><span data-stu-id="4bc43-110">**\\HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon**</span></span>

-   <span data-ttu-id="4bc43-111">**Dialog Feld "rechtliche Benachrichtigung"**</span><span class="sxs-lookup"><span data-stu-id="4bc43-111">**Legal Notification Dialog Box**</span></span>

    <span data-ttu-id="4bc43-112">An manchen Stellen ist es für alle Benutzer zulässig, die Zugriff auf eine Arbeitsstation haben, um sich anzumelden und mit der Arbeit zu beginnen, es sei denn, es gibt eine Benachrichtigung, die angibt, dass das System nur autorisierten Benutzern entspricht.</span><span class="sxs-lookup"><span data-stu-id="4bc43-112">In some places, it is legal for anyone who has access to a workstation to log on and begin working unless there is a notice that indicates that the system is for authorized users only.</span></span> <span data-ttu-id="4bc43-113">Viele Benutzer wünschen sich außerdem, dass unternehmensspezifische Meldungen vor der normalen Anmeldung angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="4bc43-113">Also, many users want company-specific messages displayed before normal logon.</span></span> <span data-ttu-id="4bc43-114">Der Standard Gina verwendet zwei Winlogon-Registrierungsschlüssel Werte, damit ein System vor der Anmeldung Informationen anzeigen kann.</span><span class="sxs-lookup"><span data-stu-id="4bc43-114">The standard GINA uses two Winlogon registry key values to allow a system to display information before logon.</span></span> <span data-ttu-id="4bc43-115">Wenn ein Schlüsselwert vorhanden ist und eine Zeichenfolge ungleich NULL enthält, wird vor der herkömmlichen Willkommensseite ein Rechtshinweis Dialogfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="4bc43-115">If either key value is present and contains a non-null string, then a Legal Notice dialog box is displayed before the usual Welcome screen.</span></span> <span data-ttu-id="4bc43-116">Diese Namen der Schlüsselwerte sind in der folgenden Tabelle aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="4bc43-116">These key value names are shown in the following table.</span></span>

    

    | <span data-ttu-id="4bc43-117">Schlüsselwert Name</span><span class="sxs-lookup"><span data-stu-id="4bc43-117">Key value name</span></span>         | <span data-ttu-id="4bc43-118">Inhalte</span><span class="sxs-lookup"><span data-stu-id="4bc43-118">Contents</span></span>                                                            |
    |------------------------|---------------------------------------------------------------------|
    | <span data-ttu-id="4bc43-119">**LegalNoticeCaption**</span><span class="sxs-lookup"><span data-stu-id="4bc43-119">**LegalNoticeCaption**</span></span> | <span data-ttu-id="4bc43-120">Die Zeichenfolge, die als Beschriftung des Dialog Felds rechtliche Hinweise angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="4bc43-120">The string to display as the caption of the legal notice dialog box</span></span> |
    | <span data-ttu-id="4bc43-121">**Legalnotiz-Text**</span><span class="sxs-lookup"><span data-stu-id="4bc43-121">**LegalNoticeText**</span></span>    | <span data-ttu-id="4bc43-122">Die Zeichenfolge, die als Meldung des Dialog Felds rechtliche Hinweise angezeigt werden soll.</span><span class="sxs-lookup"><span data-stu-id="4bc43-122">The string to display as the message of the legal notice dialog box</span></span> |

    

     

-   <span data-ttu-id="4bc43-123">**Letzten Benutzernamen anzeigen**</span><span class="sxs-lookup"><span data-stu-id="4bc43-123">**Display Last User Name**</span></span>

    <span data-ttu-id="4bc43-124">Der Anmeldebildschirm zeigt standardmäßig den Namen des letzten Benutzers an, um sich erfolgreich bei der Arbeitsstation anzumelden.</span><span class="sxs-lookup"><span data-stu-id="4bc43-124">By default, the logon screen displays the name of the last user to successfully log on to the workstation.</span></span> <span data-ttu-id="4bc43-125">Diese Funktion wird durch den Registrierungsschlüssel Wert " **DontDisplayLastUserName** " gesteuert.</span><span class="sxs-lookup"><span data-stu-id="4bc43-125">This feature is controlled by the **DontDisplayLastUserName** registry key value.</span></span> <span data-ttu-id="4bc43-126">Wenn dieser Schlüsselwert auf 1 festgelegt ist, wird der Benutzername nicht im Anmelde Dialogfeld angezeigt.</span><span class="sxs-lookup"><span data-stu-id="4bc43-126">When this key value is set to one, the user name is not displayed in the logon dialog box.</span></span>

-   <span data-ttu-id="4bc43-127">**Automatische Anmeldung**</span><span class="sxs-lookup"><span data-stu-id="4bc43-127">**Automatic Logon**</span></span>

    <span data-ttu-id="4bc43-128">Diese Funktion ermöglicht es einem System, sich bei jedem Start des Systems automatisch anzumelden, indem Standardinformationen verwendet und das Anmeldefeld STRG + ALT + ENTF deaktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="4bc43-128">This feature allows a system to log on a user automatically every time the system starts by using default information and disabling the CTRL+ALT+DEL logon box.</span></span>

    <span data-ttu-id="4bc43-129">Diese Funktion verwendet die folgenden Werte für den Winlogon-Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="4bc43-129">This feature uses the following values of the Winlogon key.</span></span>

    

    | <span data-ttu-id="4bc43-130">Wert</span><span class="sxs-lookup"><span data-stu-id="4bc43-130">Value</span></span>                 | <span data-ttu-id="4bc43-131">Inhalte</span><span class="sxs-lookup"><span data-stu-id="4bc43-131">Contents</span></span>                                           |
    |-----------------------|----------------------------------------------------|
    | <span data-ttu-id="4bc43-132">**AutoAdminLogon**</span><span class="sxs-lookup"><span data-stu-id="4bc43-132">**AutoAdminLogon**</span></span>    | <span data-ttu-id="4bc43-133">1</span><span class="sxs-lookup"><span data-stu-id="4bc43-133">1</span></span>                                                  |
    | <span data-ttu-id="4bc43-134">**AutoLogonCount**</span><span class="sxs-lookup"><span data-stu-id="4bc43-134">**AutoLogonCount**</span></span>    | <span data-ttu-id="4bc43-135">Gibt an, wie oft eine automatische Anmeldung durchzuführen ist.</span><span class="sxs-lookup"><span data-stu-id="4bc43-135">The number of times to do an automatic logon</span></span>       |
    | <span data-ttu-id="4bc43-136">**DefaultUserName**</span><span class="sxs-lookup"><span data-stu-id="4bc43-136">**DefaultUserName**</span></span>   | <span data-ttu-id="4bc43-137">Der Name des Benutzerkontos.</span><span class="sxs-lookup"><span data-stu-id="4bc43-137">The name of the user account</span></span>                       |
    | <span data-ttu-id="4bc43-138">**Defaultdomain Name**</span><span class="sxs-lookup"><span data-stu-id="4bc43-138">**DefaultDomainName**</span></span> | <span data-ttu-id="4bc43-139">Der Name der Domäne, in der sich das Benutzerkonto befindet.</span><span class="sxs-lookup"><span data-stu-id="4bc43-139">The name of the domain that the user account is in</span></span> |

    

     

    <span data-ttu-id="4bc43-140">Wenn der **AutoAdminLogon** -Schlüsselwert vorhanden ist und einen enthält und der Wert für den **AutoLogonCount** -Schlüssel nicht vorhanden ist, wird jedes Mal eine automatische Anmeldung durchführt, wenn der aktuelle Benutzer sich abmeldet oder das System neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="4bc43-140">If the **AutoAdminLogon** key value is present and contains a one, and the **AutoLogonCount** key value is not present, an automatic logon will occur every time the current user logs off or the system is restarted.</span></span> <span data-ttu-id="4bc43-141">Das Konto, bei dem die Anmeldung erfolgt, wird mit den Schlüsselwerten **DefaultUserName** und **DefaultDomainName** angegeben.</span><span class="sxs-lookup"><span data-stu-id="4bc43-141">The account being logged onto is specified using the **DefaultUserName** and **DefaultDomainName** key values.</span></span> <span data-ttu-id="4bc43-142">Das Kennwort für das Konto kann auf zwei Arten angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="4bc43-142">The password for the account can be specified in one of two ways.</span></span> <span data-ttu-id="4bc43-143">Bei Computern, auf denen eines der Windows Server 2003-oder Windows XP-Betriebssysteme ausgeführt wird, sollte das Kennwort mithilfe der [**lsastoreprivatedata**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) -Funktion als geheimer Schlüssel gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="4bc43-143">For computers running one of the Windows Server 2003 or Windows XP operating systems, the password should be stored as a secret using the [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) function.</span></span> <span data-ttu-id="4bc43-144">Weitere Informationen finden Sie unter [Schützen des Kennworts für die automatische Anmeldung](protecting-the-automatic-logon-password.md).</span><span class="sxs-lookup"><span data-stu-id="4bc43-144">For details, see [Protecting the Automatic Logon Password](protecting-the-automatic-logon-password.md).</span></span> <span data-ttu-id="4bc43-145">Die andere Möglichkeit, das Kennwort zu speichern, ist im **DefaultPassword** -Eintrag des Winlogon-Schlüssels Klartext. aus Sicherheitsgründen sollte diese Technik vermieden werden.</span><span class="sxs-lookup"><span data-stu-id="4bc43-145">The other way to store the password is in plaintext in the **DefaultPassword** entry of the Winlogon key; for security purposes, this technique should be avoided.</span></span> <span data-ttu-id="4bc43-146">Wenn Sie das Kennwort mit der **lsastoreprivatedata** -Funktion speichern, geben Sie keinen **DefaultPassword** -Eintrag im Winlogon-Schlüssel an.</span><span class="sxs-lookup"><span data-stu-id="4bc43-146">If you store the password using the **LsaStorePrivateData** function, then do not provide a **DefaultPassword** entry in the Winlogon key.</span></span>

    <span data-ttu-id="4bc43-147">Wenn der **AutoAdminLogon** -Schlüsselwert vorhanden ist und einen enthält und wenn der Schlüsselwert " **AutoLogonCount** " vorhanden und nicht NULL ist, bestimmt " **AutoLogonCount** " die Anzahl der auftretenden automatischen Anmeldungen.</span><span class="sxs-lookup"><span data-stu-id="4bc43-147">If the **AutoAdminLogon** key value is present and contains a one, and if the **AutoLogonCount** key value is present and is not zero, **AutoLogonCount** will determine the number of automatic logons that occur.</span></span> <span data-ttu-id="4bc43-148">Jedes Mal, wenn das System neu gestartet wird, wird der Wert von " **AutoLogonCount** " um 1 dekrementiert, bis Null erreicht wird.</span><span class="sxs-lookup"><span data-stu-id="4bc43-148">Each time the system is restarted, the value of **AutoLogonCount** will be decremented by one, until it reaches zero.</span></span> <span data-ttu-id="4bc43-149">Wenn die Funktion " **AutoLogonCount** " den Wert Null erreicht, wird kein Konto automatisch angemeldet, der Schlüsselwert " **AutoLogonCount** " und der **DefaultPassword** -Schlüsselwert, falls verwendet, aus der Registrierung gelöscht und " **AutoAdminLogon** " auf 0 (null) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="4bc43-149">When **AutoLogonCount** reaches zero, no account will be logged on automatically, the **AutoLogonCount** key value and **DefaultPassword** key value, if used, will be deleted from the registry, and **AutoAdminLogon** will be set to zero.</span></span>

    <span data-ttu-id="4bc43-150">Es gibt einen zusätzlichen Nachteil bei der Verwendung von **AutoAdminLogon**: standardmäßig MSGina.dll den Status der Umschalttaste überprüft, wenn **AutoAdminLogon** eine solche ist.</span><span class="sxs-lookup"><span data-stu-id="4bc43-150">There is one additional caveat to using **AutoAdminLogon**: By default, MSGina.dll checks the state of the SHIFT key when **AutoAdminLogon** is one.</span></span> <span data-ttu-id="4bc43-151">Wenn die UMSCHALTTASTE während des Startvorgangs gedrückt gehalten wird, ignoriert MSGina.dll den **AutoAdminLogon** -Schlüsselwert und fordert den Benutzer zur interaktiven Identifizierung und Authentifizierung auf.</span><span class="sxs-lookup"><span data-stu-id="4bc43-151">If the SHIFT key is held down during the boot process, MSGina.dll will ignore the **AutoAdminLogon** key value and prompt the user for identification and authentication information interactively.</span></span> <span data-ttu-id="4bc43-152">Dies ist ein nützliches Feature, wenn Sie eine dedizierte Anwendung debuggen.</span><span class="sxs-lookup"><span data-stu-id="4bc43-152">This is a useful feature when you are debugging a dedicated application.</span></span> <span data-ttu-id="4bc43-153">Um die Bedeutung der Umschalttaste zu deaktivieren, legen Sie den **ignoreshiftoverride** -Schlüsselwert auf 1 fest.</span><span class="sxs-lookup"><span data-stu-id="4bc43-153">To disable the meaning of the SHIFT key, set the **IgnoreShiftOverride** key value to one.</span></span>

-   <span data-ttu-id="4bc43-154">**Nicht authentifiziertes Herunterfahren zulassen**</span><span class="sxs-lookup"><span data-stu-id="4bc43-154">**Allow Unauthenticated Shutdown**</span></span>

    <span data-ttu-id="4bc43-155">Sie können die Standard- [*Gina*](../secgloss/g-gly.md) so konfigurieren, dass die Schaltfläche **herunter** fahren im Anmelde Dialogfeld enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="4bc43-155">You can configure the default [*GINA*](../secgloss/g-gly.md) to include a **Shutdown** button in the logon dialog box.</span></span> <span data-ttu-id="4bc43-156">Dadurch können Benutzer das System Herunterfahren, ohne sich zuerst anzumelden.</span><span class="sxs-lookup"><span data-stu-id="4bc43-156">This lets users shut down the system without first logging on.</span></span> <span data-ttu-id="4bc43-157">Mit dem folgenden Schlüsselwert wird gesteuert, ob diese Schaltfläche eingeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="4bc43-157">The following key value controls whether this button is included.</span></span>

    

    | <span data-ttu-id="4bc43-158">Wert</span><span class="sxs-lookup"><span data-stu-id="4bc43-158">Value</span></span>                    | <span data-ttu-id="4bc43-159">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="4bc43-159">Description</span></span>                                           |
    |--------------------------|-------------------------------------------------------|
    | <span data-ttu-id="4bc43-160">**ShutdownWithoutLogon**</span><span class="sxs-lookup"><span data-stu-id="4bc43-160">**ShutdownWithoutLogon**</span></span> | <span data-ttu-id="4bc43-161">Eine, die die Schaltfläche einschließt. NULL, um die Schaltfläche auszuschließen.</span><span class="sxs-lookup"><span data-stu-id="4bc43-161">One to include the button; zero to exclude the button</span></span> |

    

     

-   <span data-ttu-id="4bc43-162">**Userinit.exe Aktivierung**</span><span class="sxs-lookup"><span data-stu-id="4bc43-162">**Userinit.exe Activation**</span></span>

    <span data-ttu-id="4bc43-163">Userinit.exe ist eine Anwendung, die von MSGina.dll ausgeführt wird, wenn sich der Benutzer angemeldet hat.</span><span class="sxs-lookup"><span data-stu-id="4bc43-163">Userinit.exe is an application that is executed by MSGina.dll when the user has logged on.</span></span> <span data-ttu-id="4bc43-164">Er wird im [*Kontext*](../secgloss/c-gly.md) des neu angemeldeten Benutzers und auf dem Anwendungs Desktop ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="4bc43-164">It runs in the newly logged-on user's [*context*](../secgloss/c-gly.md) and on the application desktop.</span></span> <span data-ttu-id="4bc43-165">Der Zweck besteht darin, die Umgebung des Benutzers einzurichten, einschließlich der Wiederherstellung der Netzwerk Verwendung, dem Einrichten von Profileinstellungen wie Schriftarten und Bildschirmfarben sowie der Ausführung von Anmelde Skripts.</span><span class="sxs-lookup"><span data-stu-id="4bc43-165">Its purpose is to set up the user's environment, including restoring network uses, establishing profile settings such as fonts and screen colors, and running logon scripts.</span></span> <span data-ttu-id="4bc43-166">Nach Abschluss dieser Aufgaben führt Userinit.exe die benutzershellprogramme aus.</span><span class="sxs-lookup"><span data-stu-id="4bc43-166">After completing those tasks, Userinit.exe executes the user shell programs.</span></span> <span data-ttu-id="4bc43-167">Die Shellprogramme erben die Umgebung, die Userinit.exe einrichten.</span><span class="sxs-lookup"><span data-stu-id="4bc43-167">The shell programs inherit the environment that Userinit.exe sets up.</span></span> <span data-ttu-id="4bc43-168">Die spezifischen Shellprogramme, die Userinit.exe ausgeführt werden, werden  im shellschlüsselwert unter dem Registrierungsschlüssel Winlogon gespeichert.</span><span class="sxs-lookup"><span data-stu-id="4bc43-168">The specific shell programs that Userinit.exe executes are stored in the **Shell** key value under the Winlogon registry key.</span></span>

    <span data-ttu-id="4bc43-169">Der **shellschlüsselwert** kann eine durch Trennzeichen getrennte Liste der auszuführenden Programme enthalten.</span><span class="sxs-lookup"><span data-stu-id="4bc43-169">The **Shell** key value can contain a comma-separated list of programs to be executed.</span></span> <span data-ttu-id="4bc43-170">Windows-Explorer ist das standardmäßige Shellprogramm und wird ausgeführt,  wenn der shellschlüsselwert NULL oder nicht vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="4bc43-170">Windows Explorer is the default shell program and will be executed if the **Shell** key value is null or not present.</span></span> <span data-ttu-id="4bc43-171">Standardmäßig wird Windows-Explorer aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="4bc43-171">By default, Windows Explorer is listed.</span></span>

-   <span data-ttu-id="4bc43-172">**Sicherheitsoptionen bei der Anmeldung**</span><span class="sxs-lookup"><span data-stu-id="4bc43-172">**Logged-On Security Options**</span></span>

    <span data-ttu-id="4bc43-173">Wenn ein Benutzer bei der Anmeldung eine Sicherheits Ansicht ( [*Secure Attention Sequence*](../secgloss/s-gly.md) , SAS) eingibt, wird dem Benutzer ein Bildschirm mit den Sicherheitsoptionen angezeigt.</span><span class="sxs-lookup"><span data-stu-id="4bc43-173">When logged on, if a user enters a [*secure attention sequence*](../secgloss/s-gly.md) (SAS), the user is presented with a security options screen.</span></span> <span data-ttu-id="4bc43-174">Zu den aufgeführten Optionen gehören:</span><span class="sxs-lookup"><span data-stu-id="4bc43-174">Among the options listed are:</span></span>

    -   <span data-ttu-id="4bc43-175">Fahren Sie das System herunter.</span><span class="sxs-lookup"><span data-stu-id="4bc43-175">Shut down the system.</span></span>
    -   <span data-ttu-id="4bc43-176">Melden Sie sich ab.</span><span class="sxs-lookup"><span data-stu-id="4bc43-176">Log off.</span></span>
    -   <span data-ttu-id="4bc43-177">Ändern Sie das Kennwort.</span><span class="sxs-lookup"><span data-stu-id="4bc43-177">Change the password.</span></span>
    -   <span data-ttu-id="4bc43-178">Wechseln Sie zur Aufgabenliste.</span><span class="sxs-lookup"><span data-stu-id="4bc43-178">Go to the task list.</span></span>
    -   <span data-ttu-id="4bc43-179">Sperren Sie die Arbeitsstation.</span><span class="sxs-lookup"><span data-stu-id="4bc43-179">Lock the workstation.</span></span>

    <span data-ttu-id="4bc43-180">Ein Ersatz-GINA kann ähnliche Optionen bereitstellen, wenn ein SAS-Ereignis empfangen wird, während ein Benutzer angemeldet ist.</span><span class="sxs-lookup"><span data-stu-id="4bc43-180">A replacement GINA can provide similar options when a SAS event is received while a user is logged on.</span></span>

 

 
