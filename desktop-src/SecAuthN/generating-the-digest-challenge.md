---
description: Die Microsoft Digest Challenge wird durch den ursprünglichen Rückruf des Servers an die Funktion "akzeptsecuritycontext (Digest)" generiert.
ms.assetid: d33383c2-5c0d-401f-ab28-2a985f6508e0
title: Die Digest-Abfrage wird erzeugt.
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 511ec4f01c90acf08669835f9728cc711dfd1023
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104217780"
---
# <a name="generating-the-digest-challenge"></a><span data-ttu-id="bb623-103">Die Digest-Abfrage wird erzeugt.</span><span class="sxs-lookup"><span data-stu-id="bb623-103">Generating the Digest Challenge</span></span>

<span data-ttu-id="bb623-104">Die Microsoft Digest Challenge wird durch den ursprünglichen Rückruf des Servers an die Funktion " [**akzeptsecuritycontext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) " generiert.</span><span class="sxs-lookup"><span data-stu-id="bb623-104">The Microsoft Digest challenge is generated by the server's initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="bb623-105">Dieser Funktions Aufrufwert generiert eine Nonce, bei der es sich um einen eindeutigen Wert handelt, der Informationen enthält, die zum Erkennen von Sicherheitsverletzungen verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="bb623-105">This function call generates a nonce, which is a unique value that contains information that can be used to detect security violations.</span></span> <span data-ttu-id="bb623-106">Dieser Befehl generiert außerdem einen partiellen [*Sicherheitskontext*](/windows/desktop/SecGloss/s-gly) , der verwendet wird, um Zustandsinformationen zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="bb623-106">This call also generates a partial [*security context*](/windows/desktop/SecGloss/s-gly) which is used to maintain state information.</span></span> <span data-ttu-id="bb623-107">Beim Aufrufen von " **Accept-SecurityContext (Digest)** " geben Sie kontextanstellungsflags an, um das Verhalten von Microsoft Digest zu steuern und die Qualität des Schutzes festzulegen.</span><span class="sxs-lookup"><span data-stu-id="bb623-107">When calling **AcceptSecurityContext (Digest)** you specify context requirements flags to control the behavior of Microsoft Digest and to set the quality of protection.</span></span> <span data-ttu-id="bb623-108">Weitere Informationen finden Sie unter [Digest-Abfrage Kontext Anforderungen](#digest-challenge-context-requirements).</span><span class="sxs-lookup"><span data-stu-id="bb623-108">For more information, see [Digest Challenge Context Requirements](#digest-challenge-context-requirements).</span></span>

<span data-ttu-id="bb623-109">Bei der Ausgabe des ersten Aufrufes der [**Accept-SecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) - [*Funktion*](/windows/desktop/SecGloss/c-gly) handelt es sich um einen Sicherheitspuffer, der ein Token enthält, das mit einer HTTP 401-Antwort (Zugriff verweigert) an den Client gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="bb623-109">The output from the initial call to the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) [*function*](/windows/desktop/SecGloss/c-gly) is a security buffer that contains a token that is sent to the client with an HTTP 401 response (Access Denied).</span></span>

> [!Note]  
> <span data-ttu-id="bb623-110">Aufrufe von [**akzeptsecuritycontext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) , die keine Informationen in den Eingabe Puffern enthalten, geben eine Digestherausforderung zurück.</span><span class="sxs-lookup"><span data-stu-id="bb623-110">Calls to [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) that do not contain information in the input buffers return a Digest challenge.</span></span>

 

## <a name="digest-challenge-context-requirements"></a><span data-ttu-id="bb623-111">Kontext Anforderungen für Digest-Anforderungen</span><span class="sxs-lookup"><span data-stu-id="bb623-111">Digest Challenge Context Requirements</span></span>

<span data-ttu-id="bb623-112">Kontext Anforderungen sind Flags, die Folgendes bestimmen:</span><span class="sxs-lookup"><span data-stu-id="bb623-112">Context requirements are flags that determine:</span></span>

-   <span data-ttu-id="bb623-113">Gibt an, ob Microsoft Digest als SASL-Mechanismus oder http-Authentifizierungsprotokoll fungiert.</span><span class="sxs-lookup"><span data-stu-id="bb623-113">Whether Microsoft Digest functions as a SASL mechanism or HTTP authentication protocol.</span></span>
-   <span data-ttu-id="bb623-114">Die Qualität des Schutzes, der durch den vom Client und vom Server gemeinsam genutzten Sicherheitskontext unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="bb623-114">The quality of protection supported by the security context shared by the client and server.</span></span>

<span data-ttu-id="bb623-115">Standardmäßig Microsoft Digest Funktionen als SASL-Mechanismus.</span><span class="sxs-lookup"><span data-stu-id="bb623-115">By default, Microsoft Digest functions as a SASL mechanism.</span></span> <span data-ttu-id="bb623-116">Um es für die HTTP-Authentifizierung zu verwenden, muss das ASC \_ req \_ http (0x10000000)-Flag vom Server festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="bb623-116">To use it for HTTP authentication, the ASC\_REQ\_HTTP ( 0x10000000) flag must be set by the server.</span></span>

<span data-ttu-id="bb623-117">Kontext Anforderungen werden als Flags angegeben, die an den Parameter *fContextReq* der Funktion " [**Accept-SecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) " übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="bb623-117">Context requirements are specified as flags passed to the *fContextReq* parameter of the [**AcceptSecurityContext (Digest)**](/windows/win32/api/sspi/nf-sspi-acceptsecuritycontext) function.</span></span> <span data-ttu-id="bb623-118">Die Flags wirken sich auf die Qualität des Sicherheits Kontexts aus, indem Sie die QoP-Direktive in der Herausforderung steuern.</span><span class="sxs-lookup"><span data-stu-id="bb623-118">The flags affect the security context's quality of protection by controlling the qop directive in the challenge.</span></span>

<span data-ttu-id="bb623-119">Standardmäßig ist die QoP-Direktive auf "auth" festgelegt.</span><span class="sxs-lookup"><span data-stu-id="bb623-119">By default, the qop directive is set to "auth".</span></span> <span data-ttu-id="bb623-120">Um eine Aufforderung zu generieren, die die QoP-Direktive auf "auth-int" festlegt, muss der Server mindestens eines der folgenden Flags angeben:</span><span class="sxs-lookup"><span data-stu-id="bb623-120">To generate a challenge that sets the qop directive to "auth-int", the server must specify one or more of the following flags:</span></span>

-   <span data-ttu-id="bb623-121">ASC \_ req- \_ Integrität</span><span class="sxs-lookup"><span data-stu-id="bb623-121">ASC\_REQ\_INTEGRITY</span></span>
-   <span data-ttu-id="bb623-122">ASC \_ req \_ Replay \_ Detect</span><span class="sxs-lookup"><span data-stu-id="bb623-122">ASC\_REQ\_REPLAY\_DETECT</span></span>
-   <span data-ttu-id="bb623-123">ASC \_ req- \_ Sequenz \_ Erkennung</span><span class="sxs-lookup"><span data-stu-id="bb623-123">ASC\_REQ\_SEQUENCE\_DETECT</span></span>

<span data-ttu-id="bb623-124">Nur für SASL: Generieren Sie eine Herausforderung, wenn die QoP-Direktive auf "auth-conf" festgelegt ist, indem Sie das Flag "ASC \_ req \_ Vertraulichkeit Context Requirements" angeben.</span><span class="sxs-lookup"><span data-stu-id="bb623-124">For SASL only: Generate a challenge with the qop directive set to "auth-conf" by specifying the ASC\_REQ\_CONFIDENTIALITY context requirement flag.</span></span> <span data-ttu-id="bb623-125">Da dieses Flag für die HTTP-Authentifizierung nicht gültig ist, kann es nicht mit dem ASC \_ req-http-Flag verwendet werden \_ .</span><span class="sxs-lookup"><span data-stu-id="bb623-125">Because this flag is not valid for HTTP authentication, it cannot be used with the ASC\_REQ\_HTTP flag.</span></span>

<span data-ttu-id="bb623-126">Weitere Informationen zur QoP-Direktive finden Sie unter [Qualität von Schutz und Chiffren](quality-of-protection-and-ciphers.md).</span><span class="sxs-lookup"><span data-stu-id="bb623-126">For more information about the qop directive, see [Quality of Protection and Ciphers](quality-of-protection-and-ciphers.md).</span></span>

<span data-ttu-id="bb623-127">Weitere Informationen zu den Herausforderungen finden Sie unter [Content of a Digest Challenge](contents-of-a-digest-challenge.md).</span><span class="sxs-lookup"><span data-stu-id="bb623-127">For more information about challenges, see [Contents of a Digest Challenge](contents-of-a-digest-challenge.md).</span></span>

 

 
