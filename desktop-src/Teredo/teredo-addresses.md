---
title: Teredo-Adressen
ms.assetid: e2e185c2-e53d-471d-aedb-54d75f9db0bb
description: 'Weitere Informationen: Teredo-Adressen'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc08a53da2f710423d948e9479df2aeb08f20178
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104349648"
---
# <a name="teredo-addresses"></a><span data-ttu-id="40553-103">Teredo-Adressen</span><span class="sxs-lookup"><span data-stu-id="40553-103">Teredo Addresses</span></span>

<span data-ttu-id="40553-104">Eine Teredo-Adresse besteht aus den folgenden Elementen:</span><span class="sxs-lookup"><span data-stu-id="40553-104">A Teredo address consists of the following:</span></span>

-   <span data-ttu-id="40553-105">**Teredo-Präfix**</span><span class="sxs-lookup"><span data-stu-id="40553-105">**Teredo prefix**</span></span>

    <span data-ttu-id="40553-106">Die ersten 32 Bits gelten für das Teredo-Präfix, das für alle Teredo-Adressen gleich ist.</span><span class="sxs-lookup"><span data-stu-id="40553-106">The first 32 bits are for the Teredo prefix, which is the same for all Teredo addresses.</span></span> <span data-ttu-id="40553-107">Windows XP und Windows Server 2003 verwendeten zunächst das Teredo-Präfix 3FFE: 831F::/32.</span><span class="sxs-lookup"><span data-stu-id="40553-107">Windows XP and Windows Server 2003 initially used the 3FFE:831F::/32 Teredo prefix.</span></span> <span data-ttu-id="40553-108">Das für Teredo in RFC 4380 definierte Präfix ist 2001::/32 und ist das Präfix, das von Teredo in Windows Vista und Windows Server 2008 verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="40553-108">The prefix defined for Teredo in RFC 4380 is 2001::/32 and is the prefix used by Teredo in Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="40553-109">Bei Computern unter Windows XP und Windows Server 2003 wird das 2001::/32 Teredo-Präfix verwendet, wenn dieses mit dem Microsoft-Sicherheits Bulletin MS06-064 aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="40553-109">Computers running Windows XP and Windows Server 2003 will use the 2001::/32 Teredo prefix when updated with Microsoft Security Bulletin MS06-064.</span></span>

-   <span data-ttu-id="40553-110">**IPv4-Adresse des Teredo-Servers**</span><span class="sxs-lookup"><span data-stu-id="40553-110">**Teredo server IPv4 address**</span></span>

    <span data-ttu-id="40553-111">Die nächsten 32 Bits enthalten die öffentliche IPv4-Adresse des Teredo-Servers, der die Konfiguration dieser Teredo-Adresse unterstützt.</span><span class="sxs-lookup"><span data-stu-id="40553-111">The next 32 bits contain the IPv4 public address of the Teredo server that helped configure this Teredo address.</span></span> <span data-ttu-id="40553-112">Weitere Informationen finden Sie unter "Erstkonfiguration für Teredo-Clients" in diesem Artikel.</span><span class="sxs-lookup"><span data-stu-id="40553-112">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

-   <span data-ttu-id="40553-113">**Flags**</span><span class="sxs-lookup"><span data-stu-id="40553-113">**Flags**</span></span>

    <span data-ttu-id="40553-114">Die nächsten 16 Bits für sind für Teredo-Flags reserviert.</span><span class="sxs-lookup"><span data-stu-id="40553-114">The next 16 bits for are reserved for Teredo flags.</span></span> <span data-ttu-id="40553-115">Bei Windows XP-basierten Teredo-Clients ist das einzige definierte Flag das hohe Bestell Bit, das als Cone-Flag bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="40553-115">For Windows XP-based Teredo clients, the only defined flag is the high order bit known as the Cone flag.</span></span> <span data-ttu-id="40553-116">Das Cone-Flag wird festgelegt, wenn der Teredo-Client hinter einer Kegel-NAT liegt.</span><span class="sxs-lookup"><span data-stu-id="40553-116">The Cone flag is set when Teredo client is behind a cone NAT.</span></span> <span data-ttu-id="40553-117">Die Bestimmung, ob es sich bei der mit dem Internet verbundenen NAT um eine Kegel-NAT handelt, tritt während der Erstkonfiguration des Teredo-Clients auf.</span><span class="sxs-lookup"><span data-stu-id="40553-117">The determination of whether the NAT connected to the Internet is a cone NAT occurs during the Teredo client's initial configuration.</span></span> <span data-ttu-id="40553-118">Weitere Informationen finden Sie unter "Erstkonfiguration für Teredo-Clients" in diesem Artikel.</span><span class="sxs-lookup"><span data-stu-id="40553-118">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

    <span data-ttu-id="40553-119">Bei Windows Vista-und Windows Server 2008-basierten Teredo-Clients bieten nicht verwendete Bits innerhalb des Flags-Felds eine Schutz Ebene vor Adress Scans durch böswillige Benutzer.</span><span class="sxs-lookup"><span data-stu-id="40553-119">For Windows Vista and Windows Server 2008-based Teredo clients, unused bits within the Flags field provide a level of protection from address scans by malicious users.</span></span> <span data-ttu-id="40553-120">Die 16 Bits innerhalb des Flags-Felds für Windows Vista-und Windows Server 2008-basierte Teredo-Clients bestehen aus folgendem: craaaaug aaaaaaaa.</span><span class="sxs-lookup"><span data-stu-id="40553-120">The 16 bits within the Flags field for Windows Vista and Windows Server 2008-based Teredo clients consists of the following: CRAAAAUG AAAAAAAA.</span></span> <span data-ttu-id="40553-121">Das C-Bit ist für das Cone-Flag.</span><span class="sxs-lookup"><span data-stu-id="40553-121">The C bit is for the Cone flag.</span></span> <span data-ttu-id="40553-122">Das R-Bit ist für die zukünftige Verwendung reserviert.</span><span class="sxs-lookup"><span data-stu-id="40553-122">The R bit is reserved for future use.</span></span> <span data-ttu-id="40553-123">Das U-Bit ist für das Universal/local-Flag (auf 0 festgelegt).</span><span class="sxs-lookup"><span data-stu-id="40553-123">The U bit is for the Universal/Local flag (set to 0).</span></span> <span data-ttu-id="40553-124">Das G-Bit ist ein Einzel-/gruppenflag (auf 0 festgelegt).</span><span class="sxs-lookup"><span data-stu-id="40553-124">The G bit is Individual/Group flag (set to 0).</span></span> <span data-ttu-id="40553-125">Die Bits werden auf eine nach dem Zufallsprinzip generierte 12-Bit-Zahl festgelegt.</span><span class="sxs-lookup"><span data-stu-id="40553-125">The A bits are set to a 12-bit randomly generated number.</span></span> <span data-ttu-id="40553-126">Durch die Verwendung einer Zufallszahl für eine Bits muss ein böswilliger Benutzer, der den Rest der Teredo-Adresse ermittelt hat, indem er den anfänglichen Konfigurations Austausch von Paketen zwischen dem Teredo-Client und dem Teredo-Server erfasst, bis zu 4.096 (212) verschiedene Adressen testen, um die Adresse eines Teredo-Clients während eines Adress Scans zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="40553-126">By using a random number for the A bits, a malicious user that has determined the rest of the Teredo address by capturing the initial configuration exchange of packets between the Teredo client and Teredo server will have to try up to 4,096 (212) different addresses to determine a Teredo client's address during an address scan.</span></span>

-   <span data-ttu-id="40553-127">**Verschlüsselter externer Port**</span><span class="sxs-lookup"><span data-stu-id="40553-127">**Obscured external port**</span></span>

    <span data-ttu-id="40553-128">Die nächsten 16 Bits speichern eine verdeckte Version des externen UDP-Ports, die dem gesamten Teredo-Datenverkehr für diesen Teredo-Client entspricht.</span><span class="sxs-lookup"><span data-stu-id="40553-128">The next 16 bits store an obscured version of the external UDP port corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="40553-129">Wenn der Teredo-Client sein erstes Paket an einen Teredo-Server sendet, wird der UDP-Quellport des Pakets durch die NAT einem anderen, externen UDP-Port zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="40553-129">When the Teredo client sends its initial packet to a Teredo server, the source UDP port of the packet is mapped by the NAT to a different, external UDP port.</span></span> <span data-ttu-id="40553-130">Der Teredo-Client verwaltet diese Port Zuordnung, sodass er in der Übersetzungstabelle der NAT verbleibt.</span><span class="sxs-lookup"><span data-stu-id="40553-130">The Teredo client maintains this port mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="40553-131">Daher verwendet sämtlicher Teredo-Datenverkehr für den Host denselben externen, zugeordneten UDP-Port.</span><span class="sxs-lookup"><span data-stu-id="40553-131">Therefore, all Teredo traffic for the host uses the same external, mapped UDP port.</span></span> <span data-ttu-id="40553-132">Der externe UDP-Port wird vom Teredo-Server vom UDP-Quell Port des eingehenden anfänglichen Pakets bestimmt, das vom Teredo-Client gesendet und zurück an den Teredo-Client gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="40553-132">The external UDP port is determined by the Teredo server from the source UDP port of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="40553-133">Der externe Port wird durch das XORing des externen Ports mit 0xFFFF verdeckt.</span><span class="sxs-lookup"><span data-stu-id="40553-133">The external port is obscured by XORing the external port with 0xFFFF.</span></span> <span data-ttu-id="40553-134">Die verdeckte Version des externen Ports 5000 im hexadezimalen Format lautet beispielsweise EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xec77).</span><span class="sxs-lookup"><span data-stu-id="40553-134">For example, the obscured version of the external port 5000 in hexadecimal format is EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span></span> <span data-ttu-id="40553-135">Das verdecken des externen Ports verhindert, dass NATs den externen Port in der Nutzlast der weitergeleiteten Pakete übersetzen.</span><span class="sxs-lookup"><span data-stu-id="40553-135">Obscuring the external port prevents NATs from translating the external port within the payload of the packets that they are forwarding.</span></span>

-   <span data-ttu-id="40553-136">**Verdeckte externe Adresse**</span><span class="sxs-lookup"><span data-stu-id="40553-136">**Obscured external address**</span></span>

    <span data-ttu-id="40553-137">Die letzten 32 Bits speichern eine verdeckte Version der externen IPv4-Adresse, die dem gesamten Teredo-Datenverkehr für diesen Teredo-Client entspricht.</span><span class="sxs-lookup"><span data-stu-id="40553-137">The last 32 bits store an obscured version of the external IPv4 address corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="40553-138">Ebenso wie der externe Port, wenn der Teredo-Client sein erstes Paket an einen Teredo-Server sendet, wird die Quell-IP-Adresse des Pakets durch den NAT einer anderen externen (öffentlichen) Adresse zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="40553-138">Just like the external port, when the Teredo client sends its initial packet to a Teredo server, the source IP address of the packet is mapped by the NAT to a different, external (public) address.</span></span> <span data-ttu-id="40553-139">Der Teredo-Client verwaltet diese Adress Zuordnung, sodass er in der Übersetzungstabelle der NAT verbleibt.</span><span class="sxs-lookup"><span data-stu-id="40553-139">The Teredo client maintains this address mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="40553-140">Daher wird für den gesamten Teredo-Datenverkehr für den Host dieselbe externe, zugeordnete öffentliche IPv4-Adresse verwendet.</span><span class="sxs-lookup"><span data-stu-id="40553-140">Therefore, all Teredo traffic for the host uses the same external, mapped, public IPv4 address.</span></span> <span data-ttu-id="40553-141">Die externe IPv4-Adresse wird durch den Teredo-Server von der IPv4-Quelladresse des eingehenden anfänglichen Pakets bestimmt, das vom Teredo-Client gesendet und an den Teredo-Client zurückgesendet wird.</span><span class="sxs-lookup"><span data-stu-id="40553-141">The external IPv4 address is determined by the Teredo server from the source IPv4 address of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="40553-142">Die externe Adresse wird durch das XORing der externen Adresse mit 0xFFFFFFFF verdeckt.</span><span class="sxs-lookup"><span data-stu-id="40553-142">The external address is obscured by XORing the external address with 0xFFFFFFFF.</span></span> <span data-ttu-id="40553-143">Beispielsweise ist die verdeckte Version der öffentlichen IPv4-Adresse 131.107.0.1 im Doppelpunkt-Hexadezimal Format 7c94: FFFE (131.107.0.1 = 0x836b0001, 0x836b0001 XOR 0xFFFFFFFF = 0x7c94fffe).</span><span class="sxs-lookup"><span data-stu-id="40553-143">For example, the obscured version of the public IPv4 address 131.107.0.1 in colon-hexadecimal format is 7C94:FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span></span> <span data-ttu-id="40553-144">Durch das Verschleiern der externen Adresse können NATs die externe Adresse in der Nutzlast der weitergeleiteten Pakete übersetzen.</span><span class="sxs-lookup"><span data-stu-id="40553-144">Obscuring the external address prevents NATs from translating the external address within the payload of the packets that they are forwarding.</span></span>

 

 




