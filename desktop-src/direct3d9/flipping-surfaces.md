---
description: In einer Direct3D-Anwendung wird in der Regel eine animierte Sequenz angezeigt, indem die Rahmen der Animation in backpuffern erstellt und nacheinander dargestellt werden.
ms.assetid: 4ca9a845-f433-4d4a-939e-4b9ab2983927
title: Flipping-Oberflächen (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1dafd263de0f907b33ff6f20ffcbb2cce69943da
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "103746865"
---
# <a name="flipping-surfaces-direct3d-9"></a><span data-ttu-id="908ab-103">Flipping-Oberflächen (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="908ab-103">Flipping Surfaces (Direct3D 9)</span></span>

<span data-ttu-id="908ab-104">In einer Direct3D-Anwendung wird in der Regel eine animierte Sequenz angezeigt, indem die Rahmen der Animation in backpuffern erstellt und nacheinander dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="908ab-104">A Direct3D application typically displays an animated sequence by generating the frames of the animation in back buffers and presenting them in sequence.</span></span> <span data-ttu-id="908ab-105">Backpuffer werden in Austausch Ketten organisiert.</span><span class="sxs-lookup"><span data-stu-id="908ab-105">Back buffers are organized into swap chains.</span></span> <span data-ttu-id="908ab-106">Eine austauschkette ist eine Reihe von Puffern, die nacheinander auf den Bildschirm kippen.</span><span class="sxs-lookup"><span data-stu-id="908ab-106">A swap chain is a series of buffers that "flip" to the screen one after another.</span></span> <span data-ttu-id="908ab-107">Dies kann verwendet werden, um eine Szene im Speicher zu rendern und die Szene nach Abschluss des Renderings auf den Bildschirm zu kippen.</span><span class="sxs-lookup"><span data-stu-id="908ab-107">This can be used to render one scene in memory and then flip the scene to the screen when rendering is complete.</span></span> <span data-ttu-id="908ab-108">Dadurch wird das als "zerreißen" bezeichnete Phänomen vermieden und eine reibungslosere Animation ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="908ab-108">This avoids the phenomenon known as tearing and allows for smoother animation.</span></span>

<span data-ttu-id="908ab-109">Jedes in Direct3D erstellte Gerät weist mindestens eine SwapChain auf.</span><span class="sxs-lookup"><span data-stu-id="908ab-109">Each device created in Direct3D has at least one swap chain.</span></span> <span data-ttu-id="908ab-110">Wenn Sie das erste Direct3D-Gerät initialisieren, legen Sie das BackBufferCount-Element der [**D3DPRESENT- \_ Parameter**](d3dpresent-parameters.md)fest, das Direct3D die Anzahl der Back Puffer angibt, die in der SwapChain sein werden.</span><span class="sxs-lookup"><span data-stu-id="908ab-110">When you initialize the first Direct3D device, you set the BackBufferCount member of [**D3DPRESENT\_PARAMETERS**](d3dpresent-parameters.md), which tells Direct3D the number of back buffers that will be in the swap chain.</span></span> <span data-ttu-id="908ab-111">Durch den Aufrufen von [**IDirect3D9:: kreatedevice**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice) werden dann das Direct3D-Gerät und die zugehörige austauschkette erstellt.</span><span class="sxs-lookup"><span data-stu-id="908ab-111">The call to [**IDirect3D9::CreateDevice**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-createdevice) then creates the Direct3D device and corresponding swap chain.</span></span>

<span data-ttu-id="908ab-112">Bei Verwendung von [**IDirect3DDevice9::P erneut gesendet**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present) , um einen Surface-Flip-Vorgang anzufordern, werden die Zeiger auf den Speicherplatz für den Vorder-und den Hintergrund Puffer vertauscht.</span><span class="sxs-lookup"><span data-stu-id="908ab-112">When you use [**IDirect3DDevice9::Present**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-present) to request a surface flip operation, the pointers to surface memory for the front buffer and back buffers are swapped.</span></span> <span data-ttu-id="908ab-113">Das Kippen erfolgt durch das Wechseln von Zeigern, die das Anzeigegerät für den Verweis auf den Speicher verwendet, nicht durch Kopieren von Oberflächen Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="908ab-113">Flipping is performed by switching pointers that the display device uses for referencing memory, not by copying surface memory.</span></span> <span data-ttu-id="908ab-114">Wenn eine flippingkette einen Vorder-und mehr als einen Hintergrund Puffer enthält, werden die Zeiger in einem Zirkel Muster umgeschaltet, wie im folgenden Diagramm dargestellt.</span><span class="sxs-lookup"><span data-stu-id="908ab-114">When a flipping chain contains a front buffer and more than one back buffer, the pointers are switched in a circular pattern, as shown in the following diagram.</span></span>

![Diagramm einer flippingkette mit einem Vorder-und zwei hinteren Puffern](images/trplflip.png)

<span data-ttu-id="908ab-116">Sie können durch Aufrufen von [**IDirect3DDevice9:: createadditionalswapchain**](/windows/desktop/api)Additions Austausch Ketten für ein Gerät erstellen.</span><span class="sxs-lookup"><span data-stu-id="908ab-116">You can create addition swap chains for a device by calling [**IDirect3DDevice9::CreateAdditionalSwapChain**](/windows/desktop/api).</span></span> <span data-ttu-id="908ab-117">Eine Anwendung kann eine Austausch Kette pro Ansicht erstellen und jede Swapkette einem bestimmten Fenster zuordnen.</span><span class="sxs-lookup"><span data-stu-id="908ab-117">An application can create one swap chain per view and associate each swap chain with a particular window.</span></span> <span data-ttu-id="908ab-118">Die Anwendung rendert Bilder in den backpuffern jeder SwapChain und zeigt Sie dann einzeln an.</span><span class="sxs-lookup"><span data-stu-id="908ab-118">The application renders images in the back buffers of each swap chain, and then presents them individually.</span></span> <span data-ttu-id="908ab-119">Die zwei Parameter, die **IDirect3DDevice9:: kreateadditionalswapchain** annimmt, sind ein Zeiger auf eine [**D3DPRESENT- \_ Parameter**](d3dpresent-parameters.md) Struktur und die Adresse eines Zeigers auf eine [**IDirect3DSwapChain9**](/windows/desktop/api) -Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="908ab-119">The two parameters that **IDirect3DDevice9::CreateAdditionalSwapChain** takes are a pointer to a [**D3DPRESENT\_PARAMETERS**](d3dpresent-parameters.md) structure and the address of a pointer to an [**IDirect3DSwapChain9**](/windows/desktop/api) interface.</span></span> <span data-ttu-id="908ab-120">Anschließend können Sie [**IDirect3DSwapChain9::P Resent**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dswapchain9-present) verwenden, um den Inhalt des nächsten hinterpuffers für den Frontpuffer anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="908ab-120">You can then use [**IDirect3DSwapChain9::Present**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dswapchain9-present) to display the contents of the next back buffer to the front buffer.</span></span> <span data-ttu-id="908ab-121">Beachten Sie, dass ein Gerät nur über eine voll Bildaustausch Kette verfügen kann.</span><span class="sxs-lookup"><span data-stu-id="908ab-121">Note that a device can only have one full-screen swap chain.</span></span>

<span data-ttu-id="908ab-122">Sie erhalten Zugriff auf einen bestimmten Back Puffer, indem Sie die [**IDirect3DDevice9:: GetBackBuffer**](/windows/desktop/api) -Methode oder die [**IDirect3DSwapChain9:: GetBackBuffer**](/windows/desktop/api) -Methode aufrufen, die einen Zeiger auf eine [**IDirect3DSurface9**](/windows/desktop/api) -Schnittstelle zurückgibt, die die zurückgegebene Hintergrund Puffer Oberfläche darstellt.</span><span class="sxs-lookup"><span data-stu-id="908ab-122">You can gain access to a specific back buffer by calling the [**IDirect3DDevice9::GetBackBuffer**](/windows/desktop/api) or [**IDirect3DSwapChain9::GetBackBuffer**](/windows/desktop/api) methods, which return a pointer to an [**IDirect3DSurface9**](/windows/desktop/api) interface that represents the returned back buffer surface.</span></span> <span data-ttu-id="908ab-123">Beachten Sie, dass das Aufrufen dieser Methode den internen Verweis Zähler in der [**IDirect3DDevice9**](/windows/desktop/api) -Schnittstelle erhöht. Achten Sie daher darauf, [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) aufzurufen, wenn Sie die Verwendung dieser Oberfläche abgeschlossen haben oder wenn Sie einen Speicherplatz haben.</span><span class="sxs-lookup"><span data-stu-id="908ab-123">Note that calling this method increases the internal reference count on the [**IDirect3DDevice9**](/windows/desktop/api) interface so be sure to call [**IUnknown**](/windows/win32/api/unknwn/nn-unknwn-iunknown) when you are done using this surface or you will have a memory leak.</span></span>

<span data-ttu-id="908ab-124">Beachten Sie, dass Direct3D kippt-Oberflächen durch Austauschen von Oberflächen Speicher Zeigern innerhalb der Austausch Kette, nicht durch Austauschen der Oberflächen selbst.</span><span class="sxs-lookup"><span data-stu-id="908ab-124">Remember, Direct3D flips surfaces by swapping surface memory pointers within the swap chain, not by swapping the surfaces themselves.</span></span> <span data-ttu-id="908ab-125">Dies bedeutet, dass Sie immer in den Hintergrund Puffer Rendering werden, der als nächstes angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="908ab-125">This means that you will always render to the back buffer that will be displayed next.</span></span>

<span data-ttu-id="908ab-126">Es ist wichtig, den Unterschied zwischen einem "flippingvorgang" zu beachten, wie er von einem Anzeige Adapter Treiber ausgeführt wird, und einem "Present"-Vorgang, der auf eine mit D3DSWAPEFFECT Flip erstellte Austausch Kette angewendet wird \_ .</span><span class="sxs-lookup"><span data-stu-id="908ab-126">It is important to note the distinction between a "flipping operation," as performed by a display adapter driver, and a "Present" operation applied to a swap chain created with D3DSWAPEFFECT\_FLIP.</span></span>

<span data-ttu-id="908ab-127">Der Begriff "Kippen" bezeichnet einen Vorgang, durch den der Bereich der Videospeicher Adressen geändert wird, der von einem Anzeige Adapter verwendet wird, um sein Ausgabesignal zu generieren, wodurch der Inhalt eines zuvor ausgeblendeten Hintergrund Puffers angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="908ab-127">The term "flip" conventionally denotes an operation that alters the range of video memory addresses that a display adapter uses to generate its output signal, thus causing the contents of a previously hidden back buffer to be displayed.</span></span> <span data-ttu-id="908ab-128">In Direct3D 9 wird der Begriff häufig allgemeiner verwendet, um die Darstellung eines Hintergrund Puffers in jeder SwapChain zu beschreiben, die mit dem D3DSWAPEFFECT Flip-Swap-Effekt erstellt wurde \_ .</span><span class="sxs-lookup"><span data-stu-id="908ab-128">In Direct3D 9, the term is often used more generally to describe the presentation of a back buffer in any swap chain created with the D3DSWAPEFFECT\_FLIP swap effect.</span></span>

<span data-ttu-id="908ab-129">Obwohl solche "Present"-Vorgänge fast ausnahmslos von Flip-Vorgängen implementiert werden, wenn die SwapChain ein voll Bildschirm ist, werden Sie notwendigerweise von Kopier Vorgängen implementiert, wenn die SwapChain angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="908ab-129">While such "Present" operations are almost invariably implemented by flip operations when the swap chain is a full-screen one, they are necessarily implemented by copy operations when the swap chain is windowed.</span></span> <span data-ttu-id="908ab-130">Darüber hinaus kann ein Anzeige Adapter Treiber das Kippen verwenden, um vorhandene Vorgänge für Vollbild-Swapketten basierend auf den D3DSWAPEFFECT \_ DISCARD-und D3DSWAPEFFECT-Kopien zu implementieren \_ .</span><span class="sxs-lookup"><span data-stu-id="908ab-130">Furthermore, a display adapter driver may use flipping to implement Present operations against full-screen swap chains based on the D3DSWAPEFFECT\_DISCARD and D3DSWAPEFFECT\_COPY.</span></span>

<span data-ttu-id="908ab-131">Die obige Erörterung gilt für den häufig verwendeten Fall einer mit D3DSWAPEFFECT Flip erstellten Vollbild-SwapChain \_ .</span><span class="sxs-lookup"><span data-stu-id="908ab-131">The discussion above applies to the commonly used case of a full-screen swap chain created with D3DSWAPEFFECT\_FLIP.</span></span>

<span data-ttu-id="908ab-132">Eine allgemeinere Erläuterung der unterschiedlichen Auslagerungs Effekte für Fenster-und voll Bildaustausch Ketten finden Sie unter [**D3DSWAPEFFECT**](./d3dswapeffect.md).</span><span class="sxs-lookup"><span data-stu-id="908ab-132">For a more general discussion of the different swap effects for both windowed and full-screen swap chains, see [**D3DSWAPEFFECT**](./d3dswapeffect.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="908ab-133">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="908ab-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="908ab-134">Direct3D-Oberflächen</span><span class="sxs-lookup"><span data-stu-id="908ab-134">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> </dl>

 

 
