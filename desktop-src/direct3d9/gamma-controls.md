---
description: Mit Gamma Steuerelementen können Sie ändern, wie das System den Inhalt der Oberfläche anzeigt, ohne dass sich dies auf den Inhalt der Oberfläche auswirkt.
ms.assetid: 74f106be-8f47-4875-9908-32ff35912968
title: Gamma Steuerelemente (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6484bcf7e8fa5e07a3bf4bb718cd361330560f8c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104569434"
---
# <a name="gamma-controls-direct3d-9"></a><span data-ttu-id="64f3f-103">Gamma Steuerelemente (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="64f3f-103">Gamma Controls (Direct3D 9)</span></span>

<span data-ttu-id="64f3f-104">Mit Gamma Steuerelementen können Sie ändern, wie das System den Inhalt der Oberfläche anzeigt, ohne dass sich dies auf den Inhalt der Oberfläche auswirkt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-104">Gamma controls allow you to change how the system displays the contents of the surface, without affecting the contents of the surface itself.</span></span> <span data-ttu-id="64f3f-105">Stellen Sie sich diese Steuerelemente als sehr einfache Filter vor, die Direct3D auf Daten anwenden, wenn Sie eine Oberfläche verlassen und bevor Sie auf dem Bildschirm gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-105">Think of these controls as very simple filters that Direct3D applies to data as it leaves a surface and before it is rendered on the screen.</span></span>

<span data-ttu-id="64f3f-106">Gamma Steuerelemente sind eine Eigenschaft einer Swapkette.</span><span class="sxs-lookup"><span data-stu-id="64f3f-106">Gamma controls are a property of a swap chain.</span></span> <span data-ttu-id="64f3f-107">Gamma Steuerelemente ermöglichen es, dynamisch zu ändern, wie die roten, grünen und blauen Ebenen einer Oberfläche den tatsächlich vom System angezeigten Ebenen zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-107">Gamma controls make it possible to dynamically change how a surface's red, green, and blue levels map to the actual levels that the system displays.</span></span> <span data-ttu-id="64f3f-108">Durch Festlegen von Gamma Levels können Sie bewirken, dass der Bildschirm des Benutzers Farben blinkt, wenn das Zeichen des Benutzers gedreht wird, grün, wenn das Zeichen ein neues Element aufnimmt, usw., ohne neue Bilder in den Frame Puffer zu kopieren, um den Effekt zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="64f3f-108">By setting gamma levels, you can cause the user's screen to flash colors - red when the user's character is shot, green when the character picks up a new item, and so on - without copying new images to the frame buffer to achieve the effect.</span></span> <span data-ttu-id="64f3f-109">Oder Sie können Farbebenen so anpassen, dass Sie eine Farbabweichung auf die Bilder im Hintergrund Puffer anwenden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-109">Or, you might adjust color levels to apply a color bias to the images in the back buffer.</span></span>

<span data-ttu-id="64f3f-110">Es gibt immer mindestens eine Austausch Kette (die implizite SwapChain) für jedes Gerät, da Direct3D 9 eine SwapChain als Eigenschaft des Geräts aufweist.</span><span class="sxs-lookup"><span data-stu-id="64f3f-110">There is always at least one swap chain (the implicit swap chain) for each device because Direct3D 9 has one swap chain as a property of the device.</span></span> <span data-ttu-id="64f3f-111">Da es sich bei der Gamma-Rampe um eine Eigenschaft der Swapkette handelt, kann die Gamma-Rampe angewendet werden, wenn die SwapChain angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="64f3f-111">Because the gamma ramp is a property of the swap chain, the gamma ramp can be applied when the swap chain is windowed.</span></span> <span data-ttu-id="64f3f-112">Die Gamma-Rampe tritt sofort in Kraft.</span><span class="sxs-lookup"><span data-stu-id="64f3f-112">The gamma ramp takes effect immediately.</span></span> <span data-ttu-id="64f3f-113">Es wird nicht auf einen vertikalen Synchronisierungs Vorgang gewartet.</span><span class="sxs-lookup"><span data-stu-id="64f3f-113">There is no waiting for a vertical sync operation.</span></span>

<span data-ttu-id="64f3f-114">Mit den Methoden [**setgammaramp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) und [**getgammaramp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) können Sie die von den roten, grünen und blauen Farbkomponenten von Pixeln betroffenen Ebenen auf der Oberfläche bearbeiten, bevor Sie zur Anzeige an den Digital-to-Analog Converter (DAC) gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-114">The [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) and [**GetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) methods allow you to manipulate ramp levels that affect the red, green, and blue color components of pixels from the surface before they are sent to the digital-to-analog converter (DAC) for display.</span></span>

## <a name="gamma-ramp-levels"></a><span data-ttu-id="64f3f-115">Gamma-Rampen Ebenen</span><span class="sxs-lookup"><span data-stu-id="64f3f-115">Gamma Ramp Levels</span></span>

<span data-ttu-id="64f3f-116">In Direct3D beschreibt der Begriff "Gamma Rampe" eine Reihe von Werten, die die Ebene einer bestimmten Farbkomponente (rot, grün, blau) für alle Pixel im Frame Puffer neuen Ebenen zuordnen, die von der DAC zur Anzeige empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-116">In Direct3D, the term gamma ramp describes a set of values that map the level of a particular color component - red, green, blue - for all pixels in the frame buffer to new levels that are received by the DAC for display.</span></span> <span data-ttu-id="64f3f-117">Die Neuzuordnung erfolgt mithilfe von drei Nachschlage Tabellen, einer für jede Farbkomponente.</span><span class="sxs-lookup"><span data-stu-id="64f3f-117">The remapping is performed by way of three look-up tables, one for each color component.</span></span>

<span data-ttu-id="64f3f-118">So funktioniert es: Direct3D nimmt ein Pixel aus dem Frame Puffer und wertet seine einzelnen roten, grünen und blauen Farbkomponenten aus.</span><span class="sxs-lookup"><span data-stu-id="64f3f-118">Here's how it works: Direct3D takes a pixel from the frame buffer and evaluates its individual red, green, and blue color components.</span></span> <span data-ttu-id="64f3f-119">Jede Komponente wird durch einen Wert zwischen 0 und 65535 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-119">Each component is represented by a value from 0 to 65535.</span></span> <span data-ttu-id="64f3f-120">Direct3D nimmt den ursprünglichen Wert an und verwendet ihn, um ein 256-Element-Array (die-Rampe) zu indizieren, wobei jedes Element einen Wert enthält, der das ursprüngliche-Element ersetzt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-120">Direct3D takes the original value and uses it to index a 256-element array (the ramp), where each element contains a value that replaces the original one.</span></span> <span data-ttu-id="64f3f-121">Direct3D führt diesen Such-und Ersetzungs Prozess für jede Farbkomponente jedes Pixels im Frame Puffer aus, sodass die endgültigen Farben für alle auf dem Bildschirm angezeigten Pixel geändert werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-121">Direct3D performs this look-up and replace process for each color component of each pixel in the frame buffer, thereby changing the final colors for all the on-screen pixels.</span></span>

<span data-ttu-id="64f3f-122">Es ist praktisch, die Schleifen Werte zu visualisieren, indem Sie Sie grafisch darstellen, wie in den folgenden beiden Diagrammen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-122">It's handy to visualize the ramp values by graphing them, as shown in the following two graphs.</span></span> <span data-ttu-id="64f3f-123">Das linke Diagramm zeigt eine Rampe, bei der keine Farben geändert werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-123">The left graph shows a ramp that doesn't modify colors at all.</span></span> <span data-ttu-id="64f3f-124">Das rechte Diagramm zeigt eine Abweichung, die der Farbkomponente, auf die Sie angewendet wird, einen negativen Bias auferlegt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-124">The right graph shows a ramp that imposes a negative bias to the color component to which it is applied.</span></span>

![Diagramme der Gamma-Ramp-Werte](images/gammalv.png)

<span data-ttu-id="64f3f-126">Die Array Elemente für das Diagramm auf der linken Seite enthalten Werte, die mit Ihrem Index 0 im-Element bei Index 0 und 65535 bei Index 255 identisch sind.</span><span class="sxs-lookup"><span data-stu-id="64f3f-126">The array elements for the graph on the left contain values identical to their index - 0 in the element at index 0, and 65535 at index 255.</span></span> <span data-ttu-id="64f3f-127">Diese Art von Rampe ist die Standardeinstellung, da Sie die Eingabewerte nicht ändert, bevor Sie angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-127">This type of ramp is the default, as it doesn't change the input values before they're displayed.</span></span> <span data-ttu-id="64f3f-128">Das rechte Diagramm bietet mehr Variation. die zugehörige-Rampe enthält Werte zwischen 0 (null) im ersten Element und 32768 im letzten-Element, wobei die Werte gleichmäßig dazwischen liegen.</span><span class="sxs-lookup"><span data-stu-id="64f3f-128">The right graph provides more variation; its ramp contains values that range from 0 in the first element to 32768 in the last element, with values ranging uniformly in between.</span></span> <span data-ttu-id="64f3f-129">Der Effekt besteht darin, dass die Farbkomponente, die diese Rampe verwendet, auf der Anzeige stumm erscheint.</span><span class="sxs-lookup"><span data-stu-id="64f3f-129">The effect is that the color component that uses this ramp appears muted on the display.</span></span> <span data-ttu-id="64f3f-130">Sie sind nicht auf die Verwendung von linearen Diagrammen beschränkt. , wenn Ihre Anwendung bei Bedarf eine beliebige Zuordnung zuweisen kann.</span><span class="sxs-lookup"><span data-stu-id="64f3f-130">You are not limited to using linear graphs; if your application can assign arbitrary mapping if needed.</span></span> <span data-ttu-id="64f3f-131">Sie können sogar die Einträge auf alle Nullen festlegen, um eine Farbkomponente vollständig aus der Anzeige zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="64f3f-131">You can even set the entries to all zeroes to remove a color component completely from the display.</span></span>

## <a name="setting-and-retrieving-gamma-ramp-levels"></a><span data-ttu-id="64f3f-132">Festlegen und Abrufen von Gamma-Verlaufs Ebenen</span><span class="sxs-lookup"><span data-stu-id="64f3f-132">Setting and Retrieving Gamma Ramp Levels</span></span>

<span data-ttu-id="64f3f-133">Gamma-Verlaufs Ebenen sind effektive Nachschlage Tabellen, die von Direct3D verwendet werden, um die Komponenten von Frame-Puffer Farben neuen Ebenen zuzuordnen, die angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-133">Gamma ramp levels are effectively look-up tables that Direct3D uses to map the frame buffer color components to new levels that will be displayed.</span></span> <span data-ttu-id="64f3f-134">Sie können die hubebenen für die primäre Oberfläche festlegen und abrufen, indem Sie die Methoden [**setgammaramp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) und [**getgammaramp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="64f3f-134">You can set and retrieve ramp levels for the primary surface by calling the [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) and [**GetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-getgammaramp) methods.</span></span> <span data-ttu-id="64f3f-135">**Setgammaramp** akzeptiert zwei Parameter, und **getgammaramp** akzeptiert einen Parameter.</span><span class="sxs-lookup"><span data-stu-id="64f3f-135">**SetGammaRamp** accepts two parameters and **GetGammaRamp** accepts one parameter.</span></span> <span data-ttu-id="64f3f-136">Bei **setgammaramp** lautet der erste Parameter entweder D3DSGR \_ kalibriate oder D3DSGR \_ No- \_ Kalibrierung.</span><span class="sxs-lookup"><span data-stu-id="64f3f-136">For **SetGammaRamp**, the first parameter is either D3DSGR\_CALIBRATE or D3DSGR\_NO\_CALIBRATION.</span></span> <span data-ttu-id="64f3f-137">Der zweite Parameter, "pramp", ist ein Zeiger auf eine [**D3DGAMMARAMP**](d3dgammaramp.md) -Struktur.</span><span class="sxs-lookup"><span data-stu-id="64f3f-137">The second parameter, pRamp, is a pointer to a [**D3DGAMMARAMP**](d3dgammaramp.md) structure.</span></span> <span data-ttu-id="64f3f-138">Die **D3DGAMMARAMP** -Struktur enthält 3 256-Element Arrays von Wörtern, jeweils ein Array, das die roten, grünen und blauen Gamma Rampen enthalten soll.</span><span class="sxs-lookup"><span data-stu-id="64f3f-138">The **D3DGAMMARAMP** structure contains three 256-element arrays of WORDs, one array each to contain the red, green, and blue gamma ramps.</span></span> <span data-ttu-id="64f3f-139">**Getgammaramp** verfügt über einen Parameter, der einen Zeiger auf einen **D3DGAMMARAMP** -Typ annimmt, der mit der aktuellen Gamma-Rampe gefüllt wird.</span><span class="sxs-lookup"><span data-stu-id="64f3f-139">**GetGammaRamp** has one parameter that takes a pointer to a **D3DGAMMARAMP** type that will be filled with the current gamma ramp.</span></span>

<span data-ttu-id="64f3f-140">Sie können den Wert D3DSGR \_ kaliate für den ersten Parameter von [**setgammaramp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) einschließen, um beim Festlegen neuer Gamma Ebenen den kalierer aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="64f3f-140">You can include the D3DSGR\_CALIBRATE value for the first parameter of [**SetGammaRamp**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setgammaramp) to invoke the calibrator when setting new gamma levels.</span></span> <span data-ttu-id="64f3f-141">Die Kalibrierung von Gamma Rampen verursacht einen gewissen Verarbeitungsaufwand und sollte nicht häufig verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="64f3f-141">Calibrating gamma ramps incurs some processing overhead, and should not be used frequently.</span></span> <span data-ttu-id="64f3f-142">Das Festlegen einer kalibrierten Gamma-Rampe bietet einen konsistenten und absoluten Gamma Wert für den Benutzer, unabhängig vom Anzeige Adapter und-Monitor.</span><span class="sxs-lookup"><span data-stu-id="64f3f-142">Setting a calibrated gamma ramp provides a consistent and absolute gamma value for the user, regardless of the display adapter and monitor.</span></span>

<span data-ttu-id="64f3f-143">Nicht alle Systeme unterstützen die Gamma-Kalibrierung.</span><span class="sxs-lookup"><span data-stu-id="64f3f-143">Not all systems support gamma calibration.</span></span> <span data-ttu-id="64f3f-144">Um zu ermitteln, ob die Gamma-Kalibrierung unterstützt wird, nennen Sie [**GetDeviceCaps**](/windows/desktop/api), und untersuchen Sie den Caps2-Member der zugeordneten [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) -Struktur, nachdem die-Methode</span><span class="sxs-lookup"><span data-stu-id="64f3f-144">To determine if gamma calibration is supported, call [**GetDeviceCaps**](/windows/desktop/api), and examine the Caps2 member of the associated [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) structure after the method returns.</span></span> <span data-ttu-id="64f3f-145">Wenn das D3DCAPS2 \_ cancalibrategamma-funktionsflag vorhanden ist, wird die Gamma-Kalibrierung unterstützt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-145">If the D3DCAPS2\_CANCALIBRATEGAMMA capability flag is present, then gamma calibration is supported.</span></span>

<span data-ttu-id="64f3f-146">Beachten Sie beim Festlegen neuer Rampen Ebenen, dass die Ebenen, die Sie in den Arrays festlegen, nur verwendet werden, wenn sich die Anwendung im Vollbildmodus im exklusiven Modus befindet.</span><span class="sxs-lookup"><span data-stu-id="64f3f-146">When setting new ramp levels, keep in mind that the levels you set in the arrays are only used when your application is in full-screen, exclusive mode.</span></span> <span data-ttu-id="64f3f-147">Wenn sich die Anwendung im normalen Modus ändert, werden die Schwellenwerte außer Kraft gesetzt und werden erneut wirksam, wenn die Anwendung den Vollbildmodus wieder aufnimmt.</span><span class="sxs-lookup"><span data-stu-id="64f3f-147">Whenever your application changes to normal mode, the ramp levels are set aside, taking effect again when the application reinstates full-screen mode.</span></span>

<span data-ttu-id="64f3f-148">Wenn das Gerät Gamma Rampen im aktuellen Präsentationsmodus der SwapChain (Vollbild oder Fenster) nicht unterstützt, wird kein Fehlerwert zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="64f3f-148">If the device does not support gamma ramps in the swap chain's current presentation mode (full-screen or windowed), no error value is returned.</span></span> <span data-ttu-id="64f3f-149">Anwendungen können die D3DCAPS2 \_ fullscreengamma-und D3DCAPS2 \_ cancalibrategamma-Funktions Bits im Caps2-Member des D3DCAPS9-Typs überprüfen, um die Funktionen des Geräts zu ermitteln und festzulegen, ob ein kalikalierer installiert ist.</span><span class="sxs-lookup"><span data-stu-id="64f3f-149">Applications can check the D3DCAPS2\_FULLSCREENGAMMA and D3DCAPS2\_CANCALIBRATEGAMMA capability bits in the Caps2 member of the D3DCAPS9 type to determine the capabilities of the device and whether a calibrator is installed.</span></span>

## <a name="related-topics"></a><span data-ttu-id="64f3f-150">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="64f3f-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="64f3f-151">Direct3D-Oberflächen</span><span class="sxs-lookup"><span data-stu-id="64f3f-151">Direct3D Surfaces</span></span>](direct3d-surfaces.md)
</dt> </dl>

 

 
