---
description: Bei der Textur Verwaltung wird festgelegt, welche Texturen zum Rendern zu einem bestimmten Zeitpunkt benötigt werden, und sicherstellen, dass diese Texturen in den Videospeicher geladen werden.
ms.assetid: ea6d64ee-f570-49eb-b5fd-67fcde3f8ddc
title: Automatische Textur Verwaltung (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0eb14eede197661bc127a062229ebed31274ae8
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103861543"
---
# <a name="automatic-texture-management-direct3d-9"></a><span data-ttu-id="9f326-103">Automatische Textur Verwaltung (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="9f326-103">Automatic Texture Management (Direct3D 9)</span></span>

<span data-ttu-id="9f326-104">Bei der Textur Verwaltung wird festgelegt, welche Texturen zum Rendern zu einem bestimmten Zeitpunkt benötigt werden, und sicherstellen, dass diese Texturen in den Videospeicher geladen werden.</span><span class="sxs-lookup"><span data-stu-id="9f326-104">Texture management is the process of determining which textures are needed for rendering at a given time and ensuring that those textures are loaded into video memory.</span></span> <span data-ttu-id="9f326-105">Wie bei jedem beliebigen Algorithmus variieren Textur Verwaltungs Schemas in der Komplexität, aber jeder Ansatz für die Textur Verwaltung umfasst die folgenden wichtigen Aufgaben.</span><span class="sxs-lookup"><span data-stu-id="9f326-105">As with any algorithm, texture management schemes vary in complexity, but any approach to texture management involves the following key tasks.</span></span>

-   <span data-ttu-id="9f326-106">Die Menge des verfügbaren Textur Speichers wird nachverfolgt.</span><span class="sxs-lookup"><span data-stu-id="9f326-106">Tracking the amount of available texture memory.</span></span>
-   <span data-ttu-id="9f326-107">Berechnen, welche Texturen zum Rendern benötigt werden und welche nicht.</span><span class="sxs-lookup"><span data-stu-id="9f326-107">Calculating which textures are needed for rendering, and which are not.</span></span>
-   <span data-ttu-id="9f326-108">Bestimmen, welche vorhandenen Textur Ressourcen mit einem anderen Textur Bild neu geladen werden können, und welche Oberflächen zerstört und durch neue Textur Ressourcen ersetzt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="9f326-108">Determining which existing texture resources can be reloaded with another texture image, and which surfaces should be destroyed and replaced with new texture resources.</span></span>

<span data-ttu-id="9f326-109">Direct3D implementiert eine vom System unterstützte Textur Verwaltung, um sicherzustellen, dass Texturen für eine optimale Leistung geladen werden.</span><span class="sxs-lookup"><span data-stu-id="9f326-109">Direct3D implements system-supported texture management to ensure that textures are loaded for optimal performance.</span></span> <span data-ttu-id="9f326-110">Textur Ressourcen, die von Direct3D verwaltet werden, werden als verwaltete Texturen bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="9f326-110">Texture resources that Direct3D manages are referred to as managed textures.</span></span>

<span data-ttu-id="9f326-111">Der Textur-Manager verfolgt Texturen mit einem Zeitstempel, der angibt, wann die Textur zuletzt verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="9f326-111">The texture manager tracks textures with a time-stamp that identifies when the texture was last used.</span></span> <span data-ttu-id="9f326-112">Anschließend wird mithilfe eines selten verwendeten Algorithmus festgelegt, welche Texturen entfernt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="9f326-112">It then uses a least-recently-used algorithm to determine which textures should be removed.</span></span> <span data-ttu-id="9f326-113">Textur Prioritäten werden als Trennschalter verwendet, wenn zwei Texturen zum Entfernen aus dem Arbeitsspeicher verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="9f326-113">Texture priorities are used as tie breakers when two textures are targeted for removal from memory.</span></span> <span data-ttu-id="9f326-114">Wenn zwei Texturen denselben Prioritätswert aufweisen, wird die nicht zuletzt verwendete Textur entfernt.</span><span class="sxs-lookup"><span data-stu-id="9f326-114">If two textures have the same priority value, the least-recently-used texture is removed.</span></span> <span data-ttu-id="9f326-115">Wenn jedoch zwei Texturen denselben Zeitstempel aufweisen, wird die Textur mit niedrigerer Priorität zuerst entfernt.</span><span class="sxs-lookup"><span data-stu-id="9f326-115">However, if two textures have the same time-stamp, the texture that has a lower priority is removed first.</span></span>

<span data-ttu-id="9f326-116">Sie fordern bei der Erstellung eine automatische Textur Verwaltung für Textur Oberflächen an.</span><span class="sxs-lookup"><span data-stu-id="9f326-116">You request automatic texture management for texture surfaces when you create them.</span></span> <span data-ttu-id="9f326-117">Um eine verwaltete Textur in einer C++-Anwendung abzurufen, erstellen Sie eine Textur Ressource, indem Sie [**IDirect3DDevice9:: CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture) aufrufen und die D3DPOOL angeben, die \_ für den Pool Parameter verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="9f326-117">To retrieve a managed texture in a C++ application, create a texture resource by calling [**IDirect3DDevice9::CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture) and specifying the D3DPOOL\_MANAGED for the Pool parameter.</span></span> <span data-ttu-id="9f326-118">Sie dürfen nicht angeben, wo die Textur erstellt werden soll.</span><span class="sxs-lookup"><span data-stu-id="9f326-118">You are not allowed to specify where you want the texture created.</span></span> <span data-ttu-id="9f326-119">\_Beim Erstellen einer verwalteten Textur können die D3DPOOL default-oder D3DPOOL SystemMem-Flags nicht verwendet werden \_ .</span><span class="sxs-lookup"><span data-stu-id="9f326-119">You cannot use the D3DPOOL\_DEFAULT or D3DPOOL\_SYSTEMMEM flags when creating a managed texture.</span></span> <span data-ttu-id="9f326-120">Nachdem Sie die verwaltete Textur erstellt haben, können Sie die [**IDirect3DDevice9:: SetTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture) -Methode aufrufen, um Sie auf eine Stufe in der Textur Cascade des renderinggeräts festzulegen.</span><span class="sxs-lookup"><span data-stu-id="9f326-120">After creating the managed texture, you can call the [**IDirect3DDevice9::SetTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture) method to set it to a stage in the rendering device's texture cascade.</span></span>

<span data-ttu-id="9f326-121">Sie können verwalteten Texturen eine Priorität zuweisen, indem Sie die [**IDirect3DResource9:: SetPriority**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dresource9-setpriority) -Methode für die Textur Oberfläche aufrufen.</span><span class="sxs-lookup"><span data-stu-id="9f326-121">You can assign a priority to managed textures by calling the [**IDirect3DResource9::SetPriority**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dresource9-setpriority) method for the texture surface.</span></span>

<span data-ttu-id="9f326-122">Direct3D lädt Texturen nach Bedarf automatisch in den Videospeicher herunter.</span><span class="sxs-lookup"><span data-stu-id="9f326-122">Direct3D automatically downloads textures into video memory as needed.</span></span> <span data-ttu-id="9f326-123">Das System kann verwaltete Texturen im lokalen oder nicht lokalen Videospeicher Zwischenspeichern, je nach Verfügbarkeit von nicht lokalem Videospeicher oder anderen Faktoren.</span><span class="sxs-lookup"><span data-stu-id="9f326-123">The system might cache managed textures in local or nonlocal video memory, depending on the availability of nonlocal video memory or other factors.</span></span> <span data-ttu-id="9f326-124">Der Cache Speicherort Ihrer verwalteten Texturen wird nicht an die Anwendung übermittelt, und diese Informationen sind für die Verwendung der automatischen Textur Verwaltung nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="9f326-124">The cache location of your managed textures is not communicated to your application, nor is this information required to use automatic texture management.</span></span> <span data-ttu-id="9f326-125">Wenn Ihre Anwendung mehr Texturen verwendet, als in den Videospeicher passen, entfernt Direct3D ältere Texturen aus dem Videospeicher, um Platz für die neuen Texturen zu schaffen.</span><span class="sxs-lookup"><span data-stu-id="9f326-125">If your application uses more textures than can fit in video memory, Direct3D removes older textures from video memory to make room for the new textures.</span></span> <span data-ttu-id="9f326-126">Wenn Sie eine entfernte Textur wieder verwenden, verwendet das System die ursprüngliche Textur Oberfläche des System Speichers, um die Textur im Video-Memory-Cache neu zu laden.</span><span class="sxs-lookup"><span data-stu-id="9f326-126">If you use a removed texture again, the system uses the original system-memory texture surface to reload the texture in the video-memory cache.</span></span> <span data-ttu-id="9f326-127">Obwohl das erneute Laden der Textur notwendig ist, wird auch die Leistung der Anwendung verringert.</span><span class="sxs-lookup"><span data-stu-id="9f326-127">Although reloading the texture is necessary, it also decreases the application's performance.</span></span>

<span data-ttu-id="9f326-128">Sie können die ursprüngliche Systemspeicher Kopie der Textur dynamisch ändern, indem Sie die Textur Ressource aktualisieren oder sperren.</span><span class="sxs-lookup"><span data-stu-id="9f326-128">You can dynamically modify the original system-memory copy of the texture by updating or locking the texture resource.</span></span> <span data-ttu-id="9f326-129">Wenn das System eine modifizierte Oberfläche erkennt, nachdem ein Update abgeschlossen wurde, oder wenn die Oberfläche entsperrt ist, aktualisiert der Textur-Manager automatisch die Videospeicher Kopie der Textur.</span><span class="sxs-lookup"><span data-stu-id="9f326-129">When the system detects a dirty surface - after an update is completed, or when the surface is unlocked - the texture manager automatically updates the video-memory copy of the texture.</span></span> <span data-ttu-id="9f326-130">Der entstandene Leistungs Treffer ähnelt dem erneuten Laden einer entfernten Textur.</span><span class="sxs-lookup"><span data-stu-id="9f326-130">The performance hit incurred is similar to reloading a removed texture.</span></span>

<span data-ttu-id="9f326-131">Wenn Sie eine neue Ebene in ein Spiel eingeben, muss Ihre Anwendung möglicherweise alle verwalteten Texturen aus dem Videospeicher leeren (durch Aufrufen von [**IDirect3DDevice9:: evictmanagedresources**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-evictmanagedresources)).</span><span class="sxs-lookup"><span data-stu-id="9f326-131">When entering a new level in a game, your application might need to flush all managed textures from video memory (by calling [**IDirect3DDevice9::EvictManagedResources**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-evictmanagedresources)).</span></span>

<span data-ttu-id="9f326-132">Weitere Informationen zur Ressourcenverwaltung finden Sie unter [Verwalten von Ressourcen (Direct3D 9)](managing-resources.md).</span><span class="sxs-lookup"><span data-stu-id="9f326-132">For more information about resource management, see [Managing Resources (Direct3D 9)](managing-resources.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="9f326-133">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="9f326-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9f326-134">Direct3D-Texturen</span><span class="sxs-lookup"><span data-stu-id="9f326-134">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 
