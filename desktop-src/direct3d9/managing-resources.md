---
description: Die Ressourcenverwaltung ist der Prozess, bei dem Ressourcen aus dem Speicher des System Speichers in den Gerät zugänglichen Speicher herauf gestuft und aus dem Speicher des Geräts verworfen werden.
ms.assetid: 4aa55313-b86c-48e7-829a-a0917c2ebae7
title: Verwalten von Ressourcen (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 30ef7a8be0e71c652b6e3f2ed467e866fd922791
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104213880"
---
# <a name="managing-resources-direct3d-9"></a><span data-ttu-id="937ff-103">Verwalten von Ressourcen (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="937ff-103">Managing Resources (Direct3D 9)</span></span>

<span data-ttu-id="937ff-104">Die Ressourcenverwaltung ist der Prozess, bei dem Ressourcen aus dem Speicher des System Speichers in den Gerät zugänglichen Speicher herauf gestuft und aus dem Speicher des Geräts verworfen werden.</span><span class="sxs-lookup"><span data-stu-id="937ff-104">Resource management is the process where resources are promoted from system-memory storage to device-accessible storage and discarded from device-accessible storage.</span></span> <span data-ttu-id="937ff-105">Die Direct3D-Laufzeit verfügt über einen eigenen Verwaltungs Algorithmus, der auf einer zuletzt verwendeten Prioritäts Methode basiert.</span><span class="sxs-lookup"><span data-stu-id="937ff-105">The Direct3D run time has its own management algorithm based on a least-recently-used priority technique.</span></span> <span data-ttu-id="937ff-106">Direct3D wechselt zu einer zuletzt verwendeten Prioritäts Methode, wenn erkannt wird, dass mehr Ressourcen vorhanden sind, als auf dem Gerät zugänglichen Arbeitsspeicher vorhanden sind, werden in einem einzelnen Frame zwischen [**IDirect3DDevice9:: BeginScene**](/windows/desktop/api) und [**IDirect3DDevice9:: EndScene**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-endscene) -Aufrufen verwendet.</span><span class="sxs-lookup"><span data-stu-id="937ff-106">Direct3D switches to a most-recently-used priority technique when it detects that more resources than can coexist in device-accessible memory are used in a single frame - between [**IDirect3DDevice9::BeginScene**](/windows/desktop/api) and [**IDirect3DDevice9::EndScene**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-endscene) calls.</span></span>

<span data-ttu-id="937ff-107">Verwenden Sie das [**D3DPOOL- \_ Standardflag**](./d3dpool.md) zum Zeitpunkt der Erstellung, um anzugeben, dass eine Ressource in den Speicherpool eingefügt wird, der sich am besten für die für die angegebene Ressource angeforderten Verwendungen eignet.</span><span class="sxs-lookup"><span data-stu-id="937ff-107">Use the [**D3DPOOL\_DEFAULT**](./d3dpool.md) flag at creation time to specify that a resource are placed in the memory pool most appropriate for the set of usages requested for the given resource.</span></span> <span data-ttu-id="937ff-108">Dabei handelt es sich normalerweise um Videospeicher, einschließlich lokaler Video Arbeitsspeicher und Accelerated Graphics Port Speicher (AGP).</span><span class="sxs-lookup"><span data-stu-id="937ff-108">This is usually video memory, including both local video memory and accelerated graphics port (AGP) memory.</span></span> <span data-ttu-id="937ff-109">Ressourcen im Standard Pool bleiben nicht durch Übergänge zwischen den verlorenen und Betriebszuständen des Geräts erhalten.</span><span class="sxs-lookup"><span data-stu-id="937ff-109">Resources in the default pool do not persist through transitions between the lost and operational states of the device.</span></span> <span data-ttu-id="937ff-110">Diese Ressourcen müssen vor dem Aufrufen von Reset freigegeben werden und müssen dann neu erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="937ff-110">These resources must be released before calling reset and must then be re-created.</span></span>

<span data-ttu-id="937ff-111">Verwenden Sie das [**D3DPOOL \_ Managed**](./d3dpool.md) -Flag zum Zeitpunkt der Erstellung, um eine verwaltete Ressource anzugeben.</span><span class="sxs-lookup"><span data-stu-id="937ff-111">Use the [**D3DPOOL\_MANAGED**](./d3dpool.md) flag at creation time to specify a managed resource.</span></span> <span data-ttu-id="937ff-112">Verwaltete Ressourcen bleiben durch Übergänge zwischen den verlorenen und Betriebszuständen des Geräts erhalten.</span><span class="sxs-lookup"><span data-stu-id="937ff-112">Managed resources persist through transitions between the lost and operational states of the device.</span></span> <span data-ttu-id="937ff-113">Diese Ressourcen sind sowohl im Video-als auch im Systemspeicher vorhanden.</span><span class="sxs-lookup"><span data-stu-id="937ff-113">These resources exist both in video and system memory.</span></span> <span data-ttu-id="937ff-114">Eine verwaltete Ressource wird in den Videospeicher kopiert, wenn Sie während des Renderings benötigt wird.</span><span class="sxs-lookup"><span data-stu-id="937ff-114">A managed resource will be copied into video memory when it is needed during rendering.</span></span> <span data-ttu-id="937ff-115">Das Gerät kann mit einem Rückruf von [**IDirect3DDevice9:: Reset**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset)wieder hergestellt werden, und solche Ressourcen funktionieren weiterhin normal, ohne dass Sie mit Daten neu geladen werden.</span><span class="sxs-lookup"><span data-stu-id="937ff-115">The device can be restored with a call to [**IDirect3DDevice9::Reset**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-reset), and such resources continue to function normally without being reloaded with data.</span></span> <span data-ttu-id="937ff-116">Wenn das Gerät jedoch zerstört und neu erstellt werden muss, müssen alle Ressourcen neu erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="937ff-116">However, if the device must be destroyed and re-created, all resources must be re-created.</span></span>

<span data-ttu-id="937ff-117">Die Ressourcenverwaltung wird nicht für Ressourcen empfohlen, die sich mit hoher Häufigkeit ändern.</span><span class="sxs-lookup"><span data-stu-id="937ff-117">Resource management is not recommended for resources which change with high frequency.</span></span> <span data-ttu-id="937ff-118">Beispielsweise werden Vertex-und Index Puffer, die zum Durchlaufen eines Szenen Diagramms verwendet werden, jedes Frame Rendering, das nur für den Benutzer sichtbar ist, in jedem Rahmen geändert.</span><span class="sxs-lookup"><span data-stu-id="937ff-118">For example, vertex and index buffers which are used to traverse a scene graph every frame rendering only geometry visible to the user changes every frame.</span></span> <span data-ttu-id="937ff-119">Da verwaltete Ressourcen vom Systemspeicher unterstützt werden, müssen die Konstanten Änderungen im Systemspeicher aktualisiert werden, was zu einer schwerwiegenden Beeinträchtigung der Leistung führen kann.</span><span class="sxs-lookup"><span data-stu-id="937ff-119">Since managed resources are backed by system memory, the constant changes must be updated in system memory, which can cause a severe degradation in performance.</span></span> <span data-ttu-id="937ff-120">In diesem speziellen Szenario sollte [**D3DPOOL \_ default**](./d3dpool.md) zusammen mit [**D3DUSAGE \_ Dynamic**](d3dusage.md) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="937ff-120">For this particular scenario, [**D3DPOOL\_DEFAULT**](./d3dpool.md) along with [**D3DUSAGE\_DYNAMIC**](d3dusage.md) should be used.</span></span>

<span data-ttu-id="937ff-121">Ein weiteres Beispiel, für das die Ressourcenverwaltung nicht empfohlen wird (und von der Laufzeit explizit nicht zulässig ist) ist die Verwaltung einer mit [**D3DUSAGE \_ renderTarget**](d3dusage.md)erstellten Textur.</span><span class="sxs-lookup"><span data-stu-id="937ff-121">Another example for which resource management is not recommended (and explicitly not allowed by the runtime) is management of a texture created with [**D3DUSAGE\_RENDERTARGET**](d3dusage.md).</span></span> <span data-ttu-id="937ff-122">Wenn der von Renderingzielen verwendete Arbeitsspeicher von der Laufzeit verwaltet wird, müsste der Inhalt während des Renderings ständig in den Systemspeicher kopiert werden, was zu hohen Leistungseinbußen führen würde.</span><span class="sxs-lookup"><span data-stu-id="937ff-122">If the memory used by render targets were managed by the runtime, it's contents would have to constantly be copied to system memory during rendering, causing large performance penalties.</span></span> <span data-ttu-id="937ff-123">Aus diesem Grund müssen Renderziele im Standard Pool erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="937ff-123">For this reason, render targets must be created in the default pool.</span></span> <span data-ttu-id="937ff-124">Wenn der CPU-Zugriff der in einem Renderziel enthaltenen Daten erforderlich ist, müssen die Daten in eine Ressource kopiert werden, die in [**D3DPOOL \_ SystemMem**](./d3dpool.md) mithilfe von [**IDirect3DDevice9:: UpdateTexture**](/windows/desktop/api)oder [**IDirect3DDevice9:: updatesurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="937ff-124">If CPU access of the data contained in a render target is needed, the data must be copied to a resource created in [**D3DPOOL\_SYSTEMMEM**](./d3dpool.md) using [**IDirect3DDevice9::UpdateTexture**](/windows/desktop/api), or [**IDirect3DDevice9::UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface)</span></span>

<span data-ttu-id="937ff-125">Weitere Informationen zum verlorenen Status eines Geräts finden Sie unter [verlorene Geräte (Direct3D 9)](lost-devices.md).</span><span class="sxs-lookup"><span data-stu-id="937ff-125">For more information about the lost state of a device, see [Lost Devices (Direct3D 9)](lost-devices.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="937ff-126">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="937ff-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="937ff-127">Direct3D-Ressourcen</span><span class="sxs-lookup"><span data-stu-id="937ff-127">Direct3D Resources</span></span>](direct3d-resources.md)
</dt> </dl>

 

 
