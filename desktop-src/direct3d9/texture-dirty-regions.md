---
description: Anwendungen können optimieren, welche Teilmenge einer Textur kopiert wird, indem Sie &\# 0034; Dirty&\# 0034; Bereiche in Texturen angeben.
ms.assetid: 102081bc-d5d5-4ec1-b935-00d4eda8f470
title: Struktur Änderungs Bereiche (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35e3f1ce350a2728c99c49455b5fb8b638c47d10
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "106344570"
---
# <a name="texture-dirty-regions-direct3d-9"></a><span data-ttu-id="38a33-103">Struktur Änderungs Bereiche (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="38a33-103">Texture Dirty Regions (Direct3D 9)</span></span>

<span data-ttu-id="38a33-104">Anwendungen können optimieren, welche Teilmenge einer Textur kopiert wird, indem Sie "Dirty"-Bereiche in Texturen angeben.</span><span class="sxs-lookup"><span data-stu-id="38a33-104">Applications can optimize which subset of a texture is copied by specifying "dirty" regions on textures.</span></span> <span data-ttu-id="38a33-105">Nur die als geändert markierten Regionen werden durch einen [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture)-Aufrufwert kopiert.</span><span class="sxs-lookup"><span data-stu-id="38a33-105">Only those regions marked as dirty are copied by a call to [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span></span> <span data-ttu-id="38a33-106">Die geänderten Bereiche können jedoch erweitert werden, um die Ausrichtung zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="38a33-106">However, the dirty regions may be expanded to optimize alignment.</span></span> <span data-ttu-id="38a33-107">Wenn eine Textur erstellt wird, wird die gesamte Textur als geändert betrachtet.</span><span class="sxs-lookup"><span data-stu-id="38a33-107">When a texture is created, the entire texture is considered dirty.</span></span> <span data-ttu-id="38a33-108">Nur die folgenden Vorgänge wirken sich auf den geänderten Zustand einer Textur aus:</span><span class="sxs-lookup"><span data-stu-id="38a33-108">Only the following operations affect the dirty state of a texture:</span></span>

-   <span data-ttu-id="38a33-109">Hinzufügen eines geänderten Bereichs zu einer Textur</span><span class="sxs-lookup"><span data-stu-id="38a33-109">Adding a dirty region to a texture.</span></span>
-   <span data-ttu-id="38a33-110">Sperren eines Puffers in der Textur.</span><span class="sxs-lookup"><span data-stu-id="38a33-110">Locking some buffer in the texture.</span></span> <span data-ttu-id="38a33-111">Mit diesem Vorgang wird der gesperrte Bereich als Änderungs Bereich hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="38a33-111">This operation adds the locked region as a dirty region.</span></span> <span data-ttu-id="38a33-112">Die Anwendung kann diese automatische Aktualisierung von Änderungs Regionen deaktivieren, wenn Sie über bessere Kenntnisse der tatsächlich geänderten Regionen verfügt.</span><span class="sxs-lookup"><span data-stu-id="38a33-112">The application can turn off this automatic dirty region update if it has better knowledge of the actual dirty regions.</span></span>
-   <span data-ttu-id="38a33-113">Durch die Verwendung einer Oberflächenebene der Textur als Ziel in [**IDirect3DDevice9:: updatesurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) wird die gesamte Textur als geändert markiert.</span><span class="sxs-lookup"><span data-stu-id="38a33-113">Using a surface level of the texture as a destination in [**IDirect3DDevice9::UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="38a33-114">Durch die Verwendung der Textur als Quelle in [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) werden alle geänderten Bereiche in der Quell Textur gelöscht.</span><span class="sxs-lookup"><span data-stu-id="38a33-114">Using the texture as a source in [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) clears all the dirty regions on the source texture.</span></span>
-   <span data-ttu-id="38a33-115">Verwenden von [**IDirect3DSurface9:: GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) zum Zurückgeben eines Geräte Kontexts.</span><span class="sxs-lookup"><span data-stu-id="38a33-115">Using [**IDirect3DSurface9::GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) to return a device context.</span></span>
-   <span data-ttu-id="38a33-116">Durch Aufrufen von [**IDirect3DBaseTexture9:: generatemipsublevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) wird die gesamte Textur als geändert markiert.</span><span class="sxs-lookup"><span data-stu-id="38a33-116">Calling [**IDirect3DBaseTexture9::GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="38a33-117">Durch den Aufruf von [**IDirect3DBaseTexture9:: settautogenfiltertype**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) wird die gesamte Textur als geändert markiert.</span><span class="sxs-lookup"><span data-stu-id="38a33-117">Calling [**IDirect3DBaseTexture9::SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) marks the entire texture as dirty.</span></span>

<span data-ttu-id="38a33-118">Geänderte Bereiche werden auf der obersten Ebene einer mipzugeordneten Textur festgelegt, und [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) kann den geänderten Bereich in der MIP-Kette vergrößern, um die Anzahl der für jede Unterebene kopierten Bytes zu minimieren.</span><span class="sxs-lookup"><span data-stu-id="38a33-118">Dirty regions are set on the top level of a mipmapped texture, and [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) can expand the dirty region down the mip chain in order to minimize the number of bytes copied for each sublevel.</span></span> <span data-ttu-id="38a33-119">Beachten Sie, dass die Koordinaten der untergeordneten Ebene für geänderte Bereiche gerundet werden, d. h., dass Ihre Bruchteile auf den nächsten Rand der Textur gerundet werden.</span><span class="sxs-lookup"><span data-stu-id="38a33-119">Note that the sublevel dirty region coordinates are rounded outward, that is, their fractional parts are rounded toward the nearest edge of the texture.</span></span>

<span data-ttu-id="38a33-120">Da jeder Typ der Textur verschiedene Typen von Änderungs Bereichen hat, gibt es Methoden für jeden Texttyp.</span><span class="sxs-lookup"><span data-stu-id="38a33-120">Because each type of texture has different types of dirty regions, there are methods on each texture type.</span></span> <span data-ttu-id="38a33-121">2D-Texturen verwenden ein Dirty Rechteck und volumetexturen verwenden Felder.</span><span class="sxs-lookup"><span data-stu-id="38a33-121">2D textures use dirty rectangle, and volume textures use boxes.</span></span>

-   [<span data-ttu-id="38a33-122">**IDirect3DCubeTexture9:: AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="38a33-122">**IDirect3DCubeTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-adddirtyrect)
-   [<span data-ttu-id="38a33-123">**IDirect3DTexture9:: AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="38a33-123">**IDirect3DTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dtexture9-adddirtyrect)
-   [<span data-ttu-id="38a33-124">**IDirect3DVolumeTexture9:: adddirtybox**</span><span class="sxs-lookup"><span data-stu-id="38a33-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dvolumetexture9-adddirtybox)

<span data-ttu-id="38a33-125">Wenn **null** für die Parameter pdirtyrect oder pdirtybox für die oben genannten Methoden übergeben wird, wird der geänderte Bereich erweitert, sodass die gesamte Textur abgedeckt wird.</span><span class="sxs-lookup"><span data-stu-id="38a33-125">Passing **NULL** for the pDirtyRect or pDirtyBox parameters for the above methods expands the dirty region to cover the entire texture.</span></span>

<span data-ttu-id="38a33-126">Jede Lock-Methode kann D3DLOCK \_ No \_ Dirty \_ Update verwenden, was Änderungen am geänderten Zustand der Textur verhindert.</span><span class="sxs-lookup"><span data-stu-id="38a33-126">Each lock method can take D3DLOCK\_NO\_DIRTY\_UPDATE, which prevents any changes to the dirty state of the texture.</span></span> <span data-ttu-id="38a33-127">Weitere Informationen finden Sie unter [Sperren von Ressourcen (Direct3D 9)](locking-resources.md).</span><span class="sxs-lookup"><span data-stu-id="38a33-127">For more information, see [Locking Resources (Direct3D 9)](locking-resources.md).</span></span>

<span data-ttu-id="38a33-128">Wenn weitere Informationen über die tatsächliche Gruppe von Regionen verfügbar sind, die während eines Sperr Vorgangs geändert werden, sollten Anwendungen D3DLOCK \_ No \_ Dirty \_ Update verwenden.</span><span class="sxs-lookup"><span data-stu-id="38a33-128">When more information about the true set of regions that are changed during a lock operation is available, applications should use D3DLOCK\_NO\_DIRTY\_UPDATE.</span></span> <span data-ttu-id="38a33-129">Beachten Sie, dass eine Sperre oder eine Kopie in eine Textur Unterebene (d. h. ohne Sperren oder Kopieren auf der obersten Ebene) nicht die geänderten Bereiche für diese Textur aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="38a33-129">Note that a lock or a copy to a texture sublevel only (that is, without locking or copying to the top level) does not update the dirty regions for that texture.</span></span> <span data-ttu-id="38a33-130">Anwendungen nehmen die gleiche Verantwortung für die Aktualisierung von Änderungs Regionen an, wenn Sie niedrigere Ebenen sperren, ohne die oberste Ebene zu sperren.</span><span class="sxs-lookup"><span data-stu-id="38a33-130">Applications assume the same responsibility for updating dirty regions when they lock lower levels without locking the topmost level.</span></span>

## <a name="related-topics"></a><span data-ttu-id="38a33-131">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="38a33-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="38a33-132">Grundlegende Konzepte der Texturierung</span><span class="sxs-lookup"><span data-stu-id="38a33-132">Basic Texturing Concepts</span></span>](basic-texturing-concepts.md)
</dt> </dl>

 

 
