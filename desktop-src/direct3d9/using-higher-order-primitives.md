---
description: In diesem Abschnitt wird gezeigt, wie Sie in Ihrer Anwendung höher geordnete primitive verwenden.
ms.assetid: 7aa4f3ab-cfce-4f8f-a538-384f038fd324
title: Verwenden von Higher-Order primitiven (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7e8d1447635c38e5e5df3d16ebca5ee3ee142020
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/06/2021
ms.locfileid: "104567916"
---
# <a name="using-higher-order-primitives-direct3d-9"></a><span data-ttu-id="631c2-103">Verwenden von Higher-Order primitiven (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="631c2-103">Using Higher-Order Primitives (Direct3D 9)</span></span>

<span data-ttu-id="631c2-104">In diesem Abschnitt wird gezeigt, wie Sie in Ihrer Anwendung höher geordnete primitive verwenden.</span><span class="sxs-lookup"><span data-stu-id="631c2-104">This section shows you how to use higher-order primitives in your application.</span></span>

-   [<span data-ttu-id="631c2-105">Bestimmen Higher-Order primitiver Unterstützung</span><span class="sxs-lookup"><span data-stu-id="631c2-105">Determining Higher-Order Primitive Support</span></span>](#determining-higher-order-primitive-support)
-   [<span data-ttu-id="631c2-106">Zeichnen von Patches</span><span class="sxs-lookup"><span data-stu-id="631c2-106">Drawing Patches</span></span>](#drawing-patches)
-   [<span data-ttu-id="631c2-107">Erstellen von normalen und Texturkoordinaten</span><span class="sxs-lookup"><span data-stu-id="631c2-107">Generating Normals and Texture Coordinates</span></span>](#generating-normals-and-texture-coordinates)

## <a name="determining-higher-order-primitive-support"></a><span data-ttu-id="631c2-108">Bestimmen Higher-Order primitiver Unterstützung</span><span class="sxs-lookup"><span data-stu-id="631c2-108">Determining Higher-Order Primitive Support</span></span>

<span data-ttu-id="631c2-109">Der devcaps-Member der [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) -Struktur kann abgefragt werden, um den Grad der Unterstützung für Vorgänge zu bestimmen, die in einer höheren Reihenfolge primitiv sind.</span><span class="sxs-lookup"><span data-stu-id="631c2-109">The [**D3DCAPS9**](/windows/desktop/api/D3D9Caps/ns-d3d9caps-d3dcaps9) structure's DevCaps member can be queried to determine the level of support for operations involving higher-order primitives.</span></span> <span data-ttu-id="631c2-110">In der folgenden Tabelle sind die Gerätefunktionen im Zusammenhang mit höherwertigen primitiven in Direct3D 9 aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="631c2-110">The following table lists the device capabilities related to higher-order primitives in Direct3D 9.</span></span>



| <span data-ttu-id="631c2-111">Gerätefunktion</span><span class="sxs-lookup"><span data-stu-id="631c2-111">Device capability</span></span>             | <span data-ttu-id="631c2-112">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="631c2-112">Description</span></span>                                                                                                                                                  |
|-------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="631c2-113">D3DDEVCAPS \_ npatches</span><span class="sxs-lookup"><span data-stu-id="631c2-113">D3DDEVCAPS\_NPATCHES</span></span>          | <span data-ttu-id="631c2-114">Das Gerät unterstützt N-Patches und basiert auf [gekrümmten PN-Dreiecken](https://alex.vlachos.com/graphics/CurvedPNTriangles.pdf) (eine besondere Art von kubischer-Dreiecke).</span><span class="sxs-lookup"><span data-stu-id="631c2-114">Device supports N-patches and is based on [Curved PN Triangles](https://alex.vlachos.com/graphics/CurvedPNTriangles.pdf) (a special kind of cubic Bézier triangles).</span></span> |
| <span data-ttu-id="631c2-115">D3DDEVCAPS \_ quinticrtpatches</span><span class="sxs-lookup"><span data-stu-id="631c2-115">D3DDEVCAPS\_QUINTICRTPATCHES</span></span>  | <span data-ttu-id="631c2-116">Das Gerät unterstützt Quintic Bezier-Kurven und B-Splines.</span><span class="sxs-lookup"><span data-stu-id="631c2-116">Device supports quintic Bezier curves and B-splines.</span></span>                                                                                                         |
| <span data-ttu-id="631c2-117">D3DDEVCAPS \_ rtpatches</span><span class="sxs-lookup"><span data-stu-id="631c2-117">D3DDEVCAPS\_RTPATCHES</span></span>         | <span data-ttu-id="631c2-118">Das Gerät unterstützt rechteckige und dreieckige Patches (RT-Patches).</span><span class="sxs-lookup"><span data-stu-id="631c2-118">Device supports rectangular and triangular patches (RT-patches).</span></span>                                                                                             |
| <span data-ttu-id="631c2-119">D3DDEVCAPS \_ rtpatchlenker NULL</span><span class="sxs-lookup"><span data-stu-id="631c2-119">D3DDEVCAPS\_RTPATCHHANDLEZERO</span></span> | <span data-ttu-id="631c2-120">RT-Patches können mithilfe von Handle 0 (null) effizient gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="631c2-120">RT-patches might be drawn efficiently using handle zero.</span></span>                                                                                                     |



 

<span data-ttu-id="631c2-121">Beachten Sie, dass D3DDEVCAPS \_ rtpatchlenker NULL nicht bedeutet, dass ein Patch mit handle NULL gezeichnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="631c2-121">Note that D3DDEVCAPS\_RTPATCHHANDLEZERO does not mean that a patch with handle zero can be drawn.</span></span> <span data-ttu-id="631c2-122">Ein Patch für Handle 0 (null) kann immer gezeichnet werden, unabhängig davon, ob diese Geräte Funktion festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="631c2-122">A handle zero patch can always be drawn, whether this device capability is set or not.</span></span> <span data-ttu-id="631c2-123">Wenn diese Funktion festgelegt ist, muss für die Hardwarearchitektur keine Informationen zwischengespeichert werden, und nicht zwischengespeicherte Patches (handle null) müssen so effizient wie zwischengespeicherte Patches gezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="631c2-123">When this capability is set, the hardware architecture does not require caching of any information and that uncached patches (handle zero) be drawn as efficiently as cached ones.</span></span>

## <a name="drawing-patches"></a><span data-ttu-id="631c2-124">Zeichnen von Patches</span><span class="sxs-lookup"><span data-stu-id="631c2-124">Drawing Patches</span></span>

<span data-ttu-id="631c2-125">Direct3D 9 unterstützt zwei Typen von primitiven höherer Ordnung oder Patches.</span><span class="sxs-lookup"><span data-stu-id="631c2-125">Direct3D 9 supports two types of higher-order primitives, or patches.</span></span> <span data-ttu-id="631c2-126">Diese werden als N-Patches und Rect/Tri-Patches bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="631c2-126">These are referred to as N-Patches and Rect/Tri patches.</span></span> <span data-ttu-id="631c2-127">N-Patches können mithilfe eines beliebigen Dreiecks Rendering gerendert werden, indem n-Patches durch den Aufrufen von [**IDirect3DDevice9:: setnpatchmode**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setnpatchmode)(nsegments) mit dem nsegments-Wert größer als 1,0 aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="631c2-127">N-patches can be rendered using any triangle rendering call by enabling N-patches through the call to [**IDirect3DDevice9::SetNPatchMode**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setnpatchmode)( nSegments ) with nSegments value greater than 1.0.</span></span> <span data-ttu-id="631c2-128">Rect/Tri-Patches müssen mit den folgenden expliziten Einstiegspunkten gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="631c2-128">Rect/Tri patches must be rendered using the following explicit entry points.</span></span>

<span data-ttu-id="631c2-129">Sie können die folgenden Methoden verwenden, um Patches zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="631c2-129">You can use the following methods to draw patches.</span></span>

-   <span data-ttu-id="631c2-130">[**IDirect3DDevice9::D rawrectpatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch).</span><span class="sxs-lookup"><span data-stu-id="631c2-130">[**IDirect3DDevice9::DrawRectPatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch).</span></span> <span data-ttu-id="631c2-131">Informationen zum besseren Verständnis der Referenzierung der Patchdaten im Vertex-Puffer finden Sie unter [**D3DRECTPATCH \_ Info**](d3drectpatch-info.md).</span><span class="sxs-lookup"><span data-stu-id="631c2-131">To better understand how the patch data is referenced in the vertex buffer, see [**D3DRECTPATCH\_INFO**](d3drectpatch-info.md).</span></span>
-   <span data-ttu-id="631c2-132">[**IDirect3DDevice9::D RAW-Patch**](/windows/desktop/api).</span><span class="sxs-lookup"><span data-stu-id="631c2-132">[**IDirect3DDevice9::DrawTriPatch**](/windows/desktop/api).</span></span> <span data-ttu-id="631c2-133">Informationen zum besseren Verständnis der Referenzierung der Patchdaten im Vertex-Puffer finden Sie unter [**D3DTRIPATCH \_ Info**](d3dtripatch-info.md).</span><span class="sxs-lookup"><span data-stu-id="631c2-133">To better understand how the patch data is referenced in the vertex buffer, see [**D3DTRIPATCH\_INFO**](d3dtripatch-info.md).</span></span>

<span data-ttu-id="631c2-134">[**IDirect3DDevice9::D rawrectpatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch) zeichnet einen rechteckigen, hochwertigen Patch, der durch den prectpatchinfo-Parameter angegeben wird, mithilfe der zurzeit festgelegten Streams.</span><span class="sxs-lookup"><span data-stu-id="631c2-134">[**IDirect3DDevice9::DrawRectPatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch) draws a rectangular high-order patch specified by the pRectPatchInfo parameter using the currently set streams.</span></span> <span data-ttu-id="631c2-135">Der handle-Parameter wird verwendet, um den Patch einem Handle zuzuordnen, sodass beim nächsten Zeichnen des Patches keine prectpatchinfo-Angabe mehr erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="631c2-135">The Handle parameter is used to associate the patch with a handle, so that the next time the patch is drawn, there is no need to respecify pRectPatchInfo.</span></span> <span data-ttu-id="631c2-136">Dies ermöglicht das vorberechnen und Zwischenspeichern von Forward-Differenz Koeffizienten oder anderen Informationen, die wiederum nachfolgende Aufrufe von **IDirect3DDevice9::D rawrectpatch** mit dem gleichen Handle zur effizienten Ausführungszeit ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="631c2-136">This makes it possible to precompute and cache forward difference coefficients or other information, which in turn enables subsequent calls to **IDirect3DDevice9::DrawRectPatch** using the same handle to run efficiently.</span></span>

<span data-ttu-id="631c2-137">Dies ist beabsichtigt, wenn eine Anwendung für statische Patches den Vertex-Shader und entsprechende Streams festlegt, Patchinformationen im prectpatchinfo-Parameter bereitstellt und ein Handle angibt, damit Direct3D Informationen erfassen und Zwischenspeichern kann.</span><span class="sxs-lookup"><span data-stu-id="631c2-137">It is intended that for static patches, an application would set the vertex shader and appropriate streams, supply patch information in the pRectPatchInfo parameter, and specify a handle so that Direct3D can capture and cache information.</span></span> <span data-ttu-id="631c2-138">Die Anwendung kann anschließend [**IDirect3DDevice9::D rawrectpatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch) aufrufen, wobei prectpatchinfo auf **null** festgelegt ist, um den Patch effizient zu zeichnen.</span><span class="sxs-lookup"><span data-stu-id="631c2-138">The application can then call [**IDirect3DDevice9::DrawRectPatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch) subsequently with pRectPatchInfo set to **NULL** to efficiently draw the patch.</span></span> <span data-ttu-id="631c2-139">Beim Zeichnen eines zwischengespeicherten Patches werden die derzeit festgelegten Streams ignoriert.</span><span class="sxs-lookup"><span data-stu-id="631c2-139">When drawing a cached patch, the currently set streams are ignored.</span></span> <span data-ttu-id="631c2-140">Es ist jedoch möglich, die zwischengespeicherten pnumsekunden zu überschreiben, indem Sie neue Werte für pnumsekunden angeben.</span><span class="sxs-lookup"><span data-stu-id="631c2-140">However, it is possible to override the cached pNumSegs by specifying new values for pNumSegs.</span></span> <span data-ttu-id="631c2-141">Außerdem muss beim Rendern eines zwischengespeicherten Patches, das bei der Erfassung festgelegt wurde, derselbe Vertex-Shader festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="631c2-141">Also, it is required to set the same vertex shader when rendering a cached patch as was set when it was captured.</span></span>

<span data-ttu-id="631c2-142">Bei dynamischen Patches werden die Patchdaten für jedes Rendering des Patches geändert, sodass keine Informationen zwischengespeichert werden können.</span><span class="sxs-lookup"><span data-stu-id="631c2-142">For dynamic patches, the patch data changes for every rendering of the patch, so it is not efficient to cache information.</span></span> <span data-ttu-id="631c2-143">Die Anwendung kann diese an Direct3D übermitteln, indem Handle auf 0 festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="631c2-143">The application can convey this to Direct3D by setting Handle to 0.</span></span> <span data-ttu-id="631c2-144">In diesem Fall zeichnet Direct3D den Patch mithilfe der zurzeit festgelegten Streams und der pnumsegs-Werte und speichert keine Informationen zwischen.</span><span class="sxs-lookup"><span data-stu-id="631c2-144">In this case, Direct3D draws the patch using the currently set streams and the pNumSegs values and does not cache any information.</span></span> <span data-ttu-id="631c2-145">Es ist nicht zulässig, das Handle gleichzeitig auf 0 und ppatch auf **null** festzulegen.</span><span class="sxs-lookup"><span data-stu-id="631c2-145">It is not valid to simultaneously set Handle to 0 and pPatch to **NULL**.</span></span>

<span data-ttu-id="631c2-146">Durch das erneute angeben von prectpatchinfo für das gleiche Handle kann die Anwendung die zuvor zwischengespeicherten Informationen überschreiben.</span><span class="sxs-lookup"><span data-stu-id="631c2-146">By respecifying pRectPatchInfo for the same handle, the application can overwrite the previously cached information.</span></span>

<span data-ttu-id="631c2-147">[**IDirect3DDevice9::D rawdreipatch**](/windows/desktop/api) ähnelt [**IDirect3DDevice9::D rawrectpatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch) , mit dem Unterschied, dass Sie einen dreieckigen Patch für eine hohe Reihenfolge zeichnet.</span><span class="sxs-lookup"><span data-stu-id="631c2-147">[**IDirect3DDevice9::DrawTriPatch**](/windows/desktop/api) is similar to [**IDirect3DDevice9::DrawRectPatch**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawrectpatch) except that it draws a triangular high-order patch.</span></span>

## <a name="generating-normals-and-texture-coordinates"></a><span data-ttu-id="631c2-148">Erstellen von normalen und Texturkoordinaten</span><span class="sxs-lookup"><span data-stu-id="631c2-148">Generating Normals and Texture Coordinates</span></span>

<span data-ttu-id="631c2-149">Wenn Sie einen FVF-Shader (Flexible Vertex-Format) verwenden, ist die automatische Generierung von normalen und Texturkoordinaten nicht möglich.</span><span class="sxs-lookup"><span data-stu-id="631c2-149">If you are using a flexible vertex format (FVF) shader, automatic generation of normals and texture coordinates is not possible.</span></span>

<span data-ttu-id="631c2-150">Bei normalen können Sie Sie entweder direkt bereitstellen oder von Direct3D für Sie berechnen.</span><span class="sxs-lookup"><span data-stu-id="631c2-150">For normals, you can either directly supply them or have Direct3D calculate them for you.</span></span>

<span data-ttu-id="631c2-151">Die für rechteckige Patches generierten Koordinaten sind Spline-basierte Koordinaten, wie in den folgenden Abbildungen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="631c2-151">The coordinates generated for rectangular patches are spline-based coordinates, as shown in the following illustrations.</span></span>

![Abbildung einer ursprünglichen Textur und der Textur mit Spline-basierten Koordinaten](images/texturespline.png)

<span data-ttu-id="631c2-153">Die für dreieckige Patches generierten Koordinaten sind auf den Seiten basierende Spline-basierte Koordinaten, wie in den folgenden Abbildungen dargestellt.</span><span class="sxs-lookup"><span data-stu-id="631c2-153">The coordinates generated for triangular patches are barycentric spline-based coordinates, as shown in the following illustrations.</span></span>

![Abbildung einer ursprünglichen Textur und der Textur mit nicht auf Spline basierenden Koordinaten](images/texturebarycentricspline.png)

<span data-ttu-id="631c2-155">Wenn eine Anwendung den Bereich der generierten Texturkoordinaten ändern muss, kann dies mithilfe von Textur Transformationen erfolgen.</span><span class="sxs-lookup"><span data-stu-id="631c2-155">If an application must change the range of the generated texture coordinates, this can be done using texture transforms.</span></span>

## <a name="related-topics"></a><span data-ttu-id="631c2-156">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="631c2-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="631c2-157">Primitives höherer Ordnung</span><span class="sxs-lookup"><span data-stu-id="631c2-157">Higher-Order Primitives</span></span>](higher-order-primitives.md)
</dt> </dl>

 

 
