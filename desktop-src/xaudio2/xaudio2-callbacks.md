---
description: XAudio2 kann vom Client bereitgestellte Funktionen aufzurufen, um Sie asynchron über bestimmte Ereignisse zu benachrichtigen, die im Audioverarbeitungs Thread stattfinden.
ms.assetid: 4fbd4229-f7ac-33b3-b4b7-f09150a60598
title: XAudio2-Rückrufe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4ee191ad8c15d238a065c837c6fb192befbe7a51
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2021
ms.locfileid: "104349809"
---
# <a name="xaudio2-callbacks"></a><span data-ttu-id="ad749-103">XAudio2-Rückrufe</span><span class="sxs-lookup"><span data-stu-id="ad749-103">XAudio2 Callbacks</span></span>

<span data-ttu-id="ad749-104">XAudio2 kann vom Client bereitgestellte Funktionen aufzurufen, um Sie asynchron über bestimmte Ereignisse zu benachrichtigen, die im Audioverarbeitungs Thread stattfinden.</span><span class="sxs-lookup"><span data-stu-id="ad749-104">XAudio2 can call functions provided by the client to notify it asynchronously of certain events taking place in the audio processing thread.</span></span> <span data-ttu-id="ad749-105">Diese Rückrufe können global oder spezifisch für eine bestimmte Quell Stimme sein.</span><span class="sxs-lookup"><span data-stu-id="ad749-105">These callbacks can be global or specific to a given source voice.</span></span> <span data-ttu-id="ad749-106">Um globale Engine-Rückrufe zu erhalten, muss der Client eine Instanz einer Klasse bereitstellen, die die [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) -Schnittstelle implementiert, wenn XAudio2 initialisiert wird.</span><span class="sxs-lookup"><span data-stu-id="ad749-106">To receive global engine callbacks, the client must provide an instance of a class implementing the [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) interface when initializing XAudio2.</span></span> <span data-ttu-id="ad749-107">Um Quellcode-Rückrufe zu erhalten, muss der Client eine Instanz einer Klasse bereitstellen, die die [**IXAudio2VoiceCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2voicecallback) -Schnittstelle implementiert, wenn Quell Stimmen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="ad749-107">To receive source voice callbacks, the client must provide an instance of a class implementing the [**IXAudio2VoiceCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2voicecallback) interface when creating source voices.</span></span> <span data-ttu-id="ad749-108">Weitere Informationen finden Sie unter **IXAudio2EngineCallback** und **IXAudio2VoiceCallback**.</span><span class="sxs-lookup"><span data-stu-id="ad749-108">For more details, see **IXAudio2EngineCallback** and **IXAudio2VoiceCallback**.</span></span>

<span data-ttu-id="ad749-109">Sie müssen Rückrufe sorgfältig implementieren, um zu vermeiden, dass die Audiodaten beeinträchtigt werden.</span><span class="sxs-lookup"><span data-stu-id="ad749-109">You must implement callbacks carefully to avoid causing breaks in the audio.</span></span> <span data-ttu-id="ad749-110">Wenn ein Rückruf ausgeführt wird, kann XAudio2 keine Audiodaten generieren.</span><span class="sxs-lookup"><span data-stu-id="ad749-110">Whenever a callback is running, XAudio2 cannot generate any audio.</span></span> <span data-ttu-id="ad749-111">Verzögerungen mit mehr als wenigen Millisekunden können zu einem Audioproblem führen.</span><span class="sxs-lookup"><span data-stu-id="ad749-111">Delays of more than a few milliseconds can cause an audio problem.</span></span> <span data-ttu-id="ad749-112">Bei Verzögerungen dieser Art wird auch eine Debugger-Ausgabe generiert.</span><span class="sxs-lookup"><span data-stu-id="ad749-112">Delays of this nature also generate debugger output.</span></span> <span data-ttu-id="ad749-113">Dies deutet auf potenzielle Leistungsprobleme hin.</span><span class="sxs-lookup"><span data-stu-id="ad749-113">This indicates potential performance issues.</span></span> <span data-ttu-id="ad749-114">Rückruf Funktionen dürfen mindestens nicht folgende Aktionen ausführen:</span><span class="sxs-lookup"><span data-stu-id="ad749-114">At a minimum, callback functions must not do the following:</span></span>

-   <span data-ttu-id="ad749-115">Zugreifen auf die Festplatte oder einen anderen permanenten Speicher</span><span class="sxs-lookup"><span data-stu-id="ad749-115">Access the hard disk or other permanent storage</span></span>
-   <span data-ttu-id="ad749-116">Tätigen Sie teure oder blockierende API-Aufrufe</span><span class="sxs-lookup"><span data-stu-id="ad749-116">Make expensive or blocking API calls</span></span>
-   <span data-ttu-id="ad749-117">Mit anderen Teilen des Client Codes synchronisieren</span><span class="sxs-lookup"><span data-stu-id="ad749-117">Synchronize with other parts of client code</span></span>
-   <span data-ttu-id="ad749-118">Beträchtliche CPU-Auslastung erforderlich</span><span class="sxs-lookup"><span data-stu-id="ad749-118">Require significant CPU usage</span></span>

<span data-ttu-id="ad749-119">Wenn der Client Entwurf einen Rückruf zum Auslassen von Aktionen erfordert, wie z. b. die zuvor aufgeführten, sollte der Rückruf einem anderen Client Thread signalisieren, dass die Arbeit ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="ad749-119">If the client design requires a callback to trigger actions such as those listed previously, the callback should signal a different client thread to do the work.</span></span> <span data-ttu-id="ad749-120">Hierfür können Sie einen einfachen **SetEvent** -Mechanismus oder anspruchsvollere Mechanismen wie eine nicht blockierende Befehls Warteschlange verwenden, die von einem anderen Thread verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ad749-120">You can do this with a simple **SetEvent** mechanism or more sophisticated mechanisms like a nonblocking command queue that is consumed by another thread.</span></span>

## <a name="ixaudio2enginecallback"></a><span data-ttu-id="ad749-121">IXAudio2EngineCallback</span><span class="sxs-lookup"><span data-stu-id="ad749-121">IXAudio2EngineCallback</span></span>

<span data-ttu-id="ad749-122">Die [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) -Klasse enthält Methoden, die den Client Benachrichtigen, wenn bestimmte Ereignisse in der XAudio2-Engine auftreten.</span><span class="sxs-lookup"><span data-stu-id="ad749-122">The [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) class contains methods that notify the client when certain events happen in the XAudio2 engine.</span></span> <span data-ttu-id="ad749-123">Diese Methoden sollten vom XAudio2-Client implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="ad749-123">These methods should be implemented by the XAudio2 client.</span></span> <span data-ttu-id="ad749-124">XAudio2 ruft diese Methoden mithilfe eines Schnittstellen Zeigers auf, der vom Client mithilfe der [**IXAudio2:: registerforcallbacks**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-registerforcallbacks) -Methode bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ad749-124">XAudio2 calls these methods by means of an interface pointer provided by the client using the [**IXAudio2::RegisterForCallbacks**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-registerforcallbacks) method.</span></span> <span data-ttu-id="ad749-125">Alle diese Methoden geben **void** anstelle eines **HRESULT** zurück.</span><span class="sxs-lookup"><span data-stu-id="ad749-125">All these methods return **void**, rather than an **HRESULT**.</span></span>

## <a name="ixaudio2voicecallback"></a><span data-ttu-id="ad749-126">IXAudio2VoiceCallback</span><span class="sxs-lookup"><span data-stu-id="ad749-126">IXAudio2VoiceCallback</span></span>

<span data-ttu-id="ad749-127">Die [**IXAudio2VoiceCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2voicecallback) -Klasse enthält Methoden, die den Client Benachrichtigen, wenn bestimmte Ereignisse in einer bestimmten XAudio2-Quellsprache auftreten.</span><span class="sxs-lookup"><span data-stu-id="ad749-127">The [**IXAudio2VoiceCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2voicecallback) class contains methods that notify the client when certain events happen in a specific XAudio2 source voice.</span></span> <span data-ttu-id="ad749-128">XAudio2 ruft diese Methoden mithilfe eines Schnittstellen Zeigers auf, der vom Client in [**IXAudio2:: kreatesourcevoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice)bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ad749-128">XAudio2 calls these methods by means of an interface pointer provided by the client in [**IXAudio2::CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice).</span></span> <span data-ttu-id="ad749-129">Wie bei [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback)sollten diese Methoden vom XAudio2-Client implementiert werden und anstelle eines **HRESULT**" **void** " zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="ad749-129">As with [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback), these methods should be implemented by the XAudio2 client, and return **void** rather than an **HRESULT**.</span></span>

<span data-ttu-id="ad749-130">Wie bereits erwähnt, ist es von entscheidender Bedeutung, dass die vom Client bereitgestellten Implementierungen dieser Rückrufe so schnell wie möglich zurückgegeben werden, vorzugsweise innerhalb einer Millisekunde.</span><span class="sxs-lookup"><span data-stu-id="ad749-130">As mentioned previously, it is crucial that the client-provided implementations of these callbacks return as quickly as possible, preferably within a millisecond.</span></span> <span data-ttu-id="ad749-131">Die Rückrufe werden im Audioverarbeitungs Thread ausgeführt, und die gesamte Verarbeitung wird unterbrochen, bis der Rückruf zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="ad749-131">The callbacks are executed in the audio processing thread, and all processing is interrupted until the callback returns.</span></span> <span data-ttu-id="ad749-132">Eine Verzögerung in einem Rückruf kann problemlos zu einem Audioproblem führen.</span><span class="sxs-lookup"><span data-stu-id="ad749-132">A delay in a callback can easily cause an audio problem.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ad749-133">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="ad749-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ad749-134">Rückrufe</span><span class="sxs-lookup"><span data-stu-id="ad749-134">Callbacks</span></span>](callbacks.md)
</dt> <dt>

[<span data-ttu-id="ad749-135">XAudio2-Programmieranleitung</span><span class="sxs-lookup"><span data-stu-id="ad749-135">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="ad749-136">So wird's gemacht: Verwenden der Rückrufe für Quellstimmen</span><span class="sxs-lookup"><span data-stu-id="ad749-136">How to: Use Source Voice Callbacks</span></span>](how-to--use-source-voice-callbacks.md)
</dt> <dt>

[<span data-ttu-id="ad749-137">So wird's gemacht: Verwenden der Modulrückrufe</span><span class="sxs-lookup"><span data-stu-id="ad749-137">How to: Use Engine Callbacks</span></span>](how-to--use-engine-callbacks.md)
</dt> <dt>

[<span data-ttu-id="ad749-138">So wird's gemacht: Streamen von Sound von einem Datenträger</span><span class="sxs-lookup"><span data-stu-id="ad749-138">How to: Stream a Sound from Disk</span></span>](how-to--stream-a-sound-from-disk.md)
</dt> </dl>

 

 
