---
title: Tastatureingabe (Tastatur- und Mauseingabe)
description: In diesem Abschnitt wird erläutert, wie das System Tastatureingaben generiert und wie eine Anwendung diese Eingabe empfängt und verarbeitet.
ms.assetid: vs|winui|~\winui\windowsuserinterface\userinput\keyboardinput.htm
keywords:
- Benutzereingabe, Tastatureingabe
- Erfassen von Benutzereingaben, Tastatureingaben
- Tastatureingabe
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 249e42a97c0848a9935fe700a0408989cbab90abc53c9ac2da6c7ef56fbc31da
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/11/2021
ms.locfileid: "118757589"
---
# <a name="keyboard-input-keyboard-and-mouse-input"></a>Tastatureingabe (Tastatur- und Mauseingabe)

In diesem Abschnitt wird beschrieben, wie das System Tastatureingaben generiert und wie eine Anwendung diese Eingabe empfängt und verarbeitet.

### <a name="in-this-section"></a>In diesem Abschnitt



| Name                                                     | BESCHREIBUNG                                                       |
|----------------------------------------------------------|-------------------------------------------------------------------|
| [Informationen zur Tastatureingabe](about-keyboard-input.md)         | Erläutert Tastatureingaben.<br/>                              |
| [Verwenden der Tastatureingabe](using-keyboard-input.md)         | Behandelt Aufgaben, die tastatureingaben zugeordnet sind. <br/> |
| [Referenz zur Tastatureingabe](keyboard-input-reference.md) | Enthält den API-Verweis.<br/>                            |



 

### <a name="functions"></a>Functions



| Name                                                     | BESCHREIBUNG                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) | Legt den Gebietsschemabezeichner der Eingabe (früher als Tastaturlayouthandle bezeichnet) für den aufrufenden Thread oder den aktuellen Prozess fest. Der Bezeichner des Eingabeschemas gibt ein Gebietsschema sowie das physische Layout der Tastatur an.<br/>                                                                                                                                                                |
| [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput)                         | Verhindert, dass Tastatur- und Mauseingabeereignisse Anwendungen erreichen. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**EnableWindow**](/windows/win32/api/winuser/nf-winuser-enablewindow)                     | Aktiviert oder deaktiviert Maus- und Tastatureingaben für das angegebene Fenster oder Steuerelement. Wenn die Eingabe deaktiviert ist, empfängt das Fenster keine Eingaben wie Mausklicks und Tastendrucke. Wenn die Eingabe aktiviert ist, empfängt das Fenster alle Eingaben.<br/>                                                                                                                                                     |
| [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow)               | Ruft das Fensterhandle für das aktive Fenster ab, das an die Nachrichtenwarteschlange des aufrufenden Threads angefügt ist. <br/>                                                                                                                                                                                                                                                                                          |
| [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate)             | Bestimmt, ob eine Taste zum Zeitpunkt des Aufrufs der Funktion hoch- oder herunterstempelt und ob die Taste nach einem vorherigen Aufruf von [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate)gedrückt wurde. <br/>                                                                                                                                                                                                         |
| [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus)                             | Ruft das Handle für das Fenster mit dem Tastaturfokus ab, wenn das Fenster an die Nachrichtenwarteschlange des aufrufenden Threads angefügt ist. <br/>                                                                                                                                                                                                                                                          |
| [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout)           | Ruft den aktiven Gebietsschemabezeichner für die Eingabe (ehemals Tastaturlayout) für den angegebenen Thread ab. Wenn der *idThread-Parameter* 0 (null) ist, wird der Gebietsschemabezeichner für den aktiven Thread zurückgegeben.<br/>                                                                                                                                                                           |
| [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist)   | Ruft die Eingabe-Gebietsschemabezeichner (früher als Tastaturlayouthandles bezeichnet) ab, die dem aktuellen Satz von Eingabeschemas im System entsprechen. Die Funktion kopiert die Bezeichner in den angegebenen Puffer.<br/>                                                                                                                                                                             |
| [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea)   | Ruft den Namen des aktiven Gebietsschemabezeichners für die Eingabe ab (ehemals Tastaturlayout). <br/>                                                                                                                                                                                                                                                                                           |
| [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate)             | Kopiert den Status der 256 virtuellen Schlüssel in den angegebenen Puffer. <br/>                                                                                                                                                                                                                                                                                                                        |
| [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta)                 | Ruft eine Zeichenfolge ab, die den Namen eines Schlüssels darstellt. <br/>                                                                                                                                                                                                                                                                                                                                     |
| [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate)                       | Ruft den Status des angegebenen virtuellen Schlüssels ab. Der Status gibt an, ob die Taste nach oben, unten oder umgeschaltet ist (jedes Mal, wenn die Taste gedrückt wird, abwechselnd ein-, ausgeschaltet). <br/>                                                                                                                                                                                                                       |
| [**GetLastInputInfo**](/windows/win32/api/winuser/nf-winuser-getlastinputinfo)             | Ruft die Uhrzeit des letzten Eingabeereignisses ab.<br/>                                                                                                                                                                                                                                                                                                                                                |
| [**IsWindowEnabled**](/windows/win32/api/winuser/nf-winuser-iswindowenabled)               | Bestimmt, ob das angegebene Fenster für Maus- und Tastatureingaben aktiviert ist. <br/>                                                                                                                                                                                                                                                                                                          |
| [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta)         | Lädt einen neuen Gebietsschemabezeichner (früher tastaturlayout genannt) in das System. Mehrere Eingabe-Gebietsschemabezeichner können gleichzeitig geladen werden, aber nur ein Bezeichner pro Prozess ist gleichzeitig aktiv. Durch das Laden mehrerer Gebietsschemabezeichner können Sie schnell zwischen ihnen wechseln.<br/>                                                                                             |
| [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya)                   | Übersetzt (ordnet) einen Code mit virtuellem Schlüssel in einen Scancode oder Zeichenwert oder übersetzt einen Scancode in einen Code mit virtuellem Schlüssel. <br/> Verwenden Sie die [**MapVirtualKeyEx-Funktion,**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa) um ein Handle für das Tastaturlayout anzugeben, das zum Übersetzen des angegebenen Codes verwendet werden soll.<br/>                                                                                                |
| [**MapVirtualKeyEx**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeyexa)               | Karten einen Code mit virtuellem Schlüssel in einen Scancode oder Zeichenwert oder übersetzt einen Scancode in einen Code mit virtuellem Schlüssel. Die Funktion übersetzt die Codes mithilfe der Eingabesprache und eines Bezeichners für das Eingabeschema.<br/>                                                                                                                                                                                 |
| [**OemKeyScan**](/windows/win32/api/winuser/nf-winuser-oemkeyscan)                         | Karten OEMASCII-Codes 0 bis 0x0FF in die OEM-Scancodes und Verschiebezustände. Die -Funktion stellt Informationen bereit, die es einem Programm ermöglichen, OEM-Text durch Simulieren von Tastatureingaben an ein anderes Programm zu senden. <br/>                                                                                                                                                                                   |
| [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey)                 | Definiert einen systemweiten Hot-Key.<br/>                                                                                                                                                                                                                                                                                                                                                             |
| [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput)                           | Synthetisiert Tastatureingaben, Mausbewegungen und Schaltflächenklicks.<br/>                                                                                                                                                                                                                                                                                                                                  |
| [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow)               | Aktiviert ein Fenster. Das Fenster muss an die Nachrichtenwarteschlange des aufrufenden Threads angefügt werden. <br/>                                                                                                                                                                                                                                                                                                    |
| [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus)                             | Legt den Tastaturfokus auf das angegebene Fenster fest. Das Fenster muss an die Nachrichtenwarteschlange des aufrufenden Threads angefügt werden. <br/>                                                                                                                                                                                                                                                                       |
| [**SetKeyboardState**](/windows/win32/api/winuser/nf-winuser-setkeyboardstate)             | Kopiert ein 256-Byte-Array von Tastaturtastenzuständen in die Tastatureingabezustandstabelle des aufrufenden Threads. Dies ist die gleiche Tabelle, auf die die Funktionen [**GetKeyboardState**](/windows/win32/api/winuser/nf-winuser-getkeyboardstate) und [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) zugreifen. Änderungen an dieser Tabelle wirken sich nicht auf die Tastatureingabe in einen anderen Thread aus. <br/>                                                                   |
| [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii)                               | Übersetzt den angegebenen Code mit virtuellen Tasten und den Tastaturzustand in das bzw. die entsprechenden Zeichen. Die -Funktion übersetzt den Code mithilfe der Eingabesprache und des physischen Tastaturlayouts, die durch das Tastaturlayouthandle identifiziert werden.<br/> Verwenden Sie die [**ToAsciiEx-Funktion,**](/windows/win32/api/winuser/nf-winuser-toasciiex) um ein Handle für das Tastaturlayout anzugeben, das zum Übersetzen des angegebenen Codes verwendet werden soll.<br/> |
| [**ToAsciiEx**](/windows/win32/api/winuser/nf-winuser-toasciiex)                           | Übersetzt den angegebenen Code mit virtuellen Tasten und den Tastaturzustand in das bzw. die entsprechenden Zeichen. Die Funktion übersetzt den Code mithilfe der Eingabesprache und des physischen Tastaturlayouts, die durch den Gebietsschemabezeichner der Eingabe identifiziert werden.<br/>                                                                                                                                               |
| [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode)                           | Übersetzt den angegebenen Code mit virtuellen Tasten und den Tastaturzustand in das entsprechende Unicode-Zeichen bzw. die entsprechenden Unicode-Zeichen. <br/> Verwenden Sie die [**ToUnicodeEx-Funktion,**](/windows/win32/api/winuser/nf-winuser-tounicodeex) um ein Handle für das Tastaturlayout anzugeben, das zum Übersetzen des angegebenen Codes verwendet werden soll.<br/>                                                                                                                     |
| [**ToUnicodeEx**](/windows/win32/api/winuser/nf-winuser-tounicodeex)                       | Übersetzt den angegebenen Code mit virtuellen Tasten und den Tastaturzustand in das entsprechende Unicode-Zeichen bzw. die entsprechenden Unicode-Zeichen.<br/>                                                                                                                                                                                                                                                                         |
| [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout)     | Entlädt einen Eingabe-Gebietsschemabezeichner (ehemals Tastaturlayout). <br/>                                                                                                                                                                                                                                                                                                                   |
| [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey)             | Gibt einen hot-Schlüssel frei, der zuvor vom aufrufenden Thread registriert wurde. <br/>                                                                                                                                                                                                                                                                                                                              |
| [**VkKeyScanEx**](/windows/win32/api/winuser/nf-winuser-vkkeyscanexa)                       | Übersetzt ein Zeichen in den entsprechenden Code mit virtuellen Schlüsseln und verschiebt den Zustand. Die Funktion übersetzt das Zeichen mithilfe der Eingabesprache und des physischen Tastaturlayouts, die durch den Bezeichner des Eingabeschemas identifiziert werden. <br/>                                                                                                                                                                      |



 

Die folgenden Funktionen sind veraltet.



| Funktion                               | BESCHREIBUNG                                                                                                                                                                                                                                                                   |
|----------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**GetKBCodePage**](/windows/win32/api/winuser/nf-winuser-getkbcodepage) | Ruft die aktuelle Codepage ab.<br/>                                                                                                                                                                                                                                   |
| [**\_keybd-Ereignis**](/windows/win32/api/winuser/nf-winuser-keybd_event)    | Synthetisiert eine Tastatureingabe. Das System kann eine solche synthetisierte Tastatureingabe verwenden, um eine [**WM \_ KEYUP-**](wm-keyup.md) oder [**WM \_ KEYDOWN-Nachricht**](wm-keydown.md) zu generieren. Der Interrupthandler des Tastaturtreibers ruft die [**Keybd-Ereignisfunktion auf. \_**](/windows/win32/api/winuser/nf-winuser-keybd_event)<br/> |
| [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana)         | Übersetzt ein Zeichen in den entsprechenden Code mit virtuellen Tasten und verschiebt den Zustand für die aktuelle Tastatur.<br/>                                                                                                                                                             |



 

### <a name="messages"></a>Nachrichten



| Name                                  | BESCHREIBUNG                                                                                                           |
|---------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| [**WM \_ GETHOTKEY**](wm-gethotkey.md) | Bestimmt den einem Fenster zugeordneten Hot-Schlüssel. <br/>                                                          |
| [**WM \_ SETHOTKEY**](wm-sethotkey.md) | Ordnet dem Fenster einen hot-Schlüssel zu. Wenn der Benutzer die Hot-Taste drückt, aktiviert das System das Fenster. <br/> |



 

### <a name="notifications"></a>Benachrichtigungen



| Name                                      | BESCHREIBUNG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**WM \_ ACTIVATE**](wm-activate.md)       | Wird sowohl an das zu aktivierende als auch an das zu deaktivierende Fenster gesendet. Wenn die Fenster dieselbe Eingabewarteschlange verwenden, wird die Nachricht synchron gesendet, zuerst an die Fensterprozedur des Fensters der obersten Ebene, das deaktiviert wird, und dann an die Fensterprozedur des Fensters der obersten Ebene, das aktiviert wird. Wenn die Fenster unterschiedliche Eingabewarteschlangen verwenden, wird die Nachricht asynchron gesendet, sodass das Fenster sofort aktiviert wird. <br/>                                                                                                                               |
| [**WM \_ APPCOMMAND**](wm-appcommand.md)   | Benachrichtigt ein Fenster, dass der Benutzer ein Anwendungsbefehlsereignis generiert hat, z. B. indem er mit der Maus auf eine Anwendungsbefehlsschaltfläche klickt oder eine Anwendungsbefehlstaste auf der Tastatur eingibt.<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**WM \_ CHAR**](wm-char.md)               | Wird an das Fenster mit dem Tastaturfokus gesendet, wenn eine [**WM \_ KEYDOWN-Nachricht**](wm-keydown.md) von der [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) übersetzt wird. Die [**WM \_ CHAR-Nachricht**](wm-char.md) enthält den Zeichencode der Taste, die gedrückt wurde. <br/>                                                                                                                                                                                                                                                                             |
| [**WM \_ DEADCHAR**](wm-deadchar.md)       | Wird mit dem Tastaturfokus an das Fenster gesendet, wenn eine [**WM \_ KEYUP-Nachricht**](wm-keyup.md) von der [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) übersetzt wird. [**WM \_ DEADCHAR**](wm-deadchar.md) gibt einen Zeichencode an, der von einem in dead-Schlüssel generiert wird. Ein in dead key ist ein Schlüssel, der ein Zeichen generiert, z. B. den Umlaut (doppelter Punkt), der mit einem anderen Zeichen kombiniert wird, um ein zusammengesetztes Zeichen zu bilden. Beispielsweise wird das Umlaut-O-Zeichen ( ) generiert, indem der in dead key für das Umlaut-Zeichen und dann der O-Schlüssel eingeben wird. <br/> |
| [**WM \_ HOTKEY**](wm-hotkey.md)           | Wird gesendet, wenn der Benutzer einen von der [**RegisterHotKey-Funktion**](/windows/win32/api/winuser/nf-winuser-registerhotkey) registrierten Hot-Schlüssel drückt. Die Nachricht wird oben in der Nachrichtenwarteschlange platziert, die dem Thread zugeordnet ist, der den Hot-Schlüssel registriert hat. <br/>                                                                                                                                                                                                                                                                                                                                 |
| [**WM \_ KEYDOWN**](wm-keydown.md)         | Wird an das Fenster mit dem Tastaturfokus gesendet, wenn eine Nichtsystemtaste gedrückt wird. Eine Nichtsystemtaste ist eine Taste, die gedrückt wird, wenn die ALT-TASTE nicht gedrückt wird. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**WM \_ KEYUP**](wm-keyup.md)             | Wird an das Fenster mit dem Tastaturfokus gesendet, wenn eine Nichtsystemtaste losgelassen wird. Eine Nichtsystemtaste ist eine Taste, die gedrückt wird, wenn die ALT-Taste nicht gedrückt wird, oder eine Tastaturtaste, die gedrückt wird, wenn ein Fenster den Tastaturfokus besitzt. <br/>                                                                                                                                                                                                                                                                                                                          |
| [**WM \_ KILLFOCUS**](wm-killfocus.md)     | Wird direkt vor dem Verlust des Tastaturfokus an ein Fenster gesendet. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**WM \_ SETFOCUS**](wm-setfocus.md)       | Wird an ein Fenster gesendet, nachdem es den Tastaturfokus erhalten hat. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) | Wird an das Fenster mit dem Tastaturfokus gesendet, wenn eine [**\_ WM-SYSKEYDOWN-Nachricht**](wm-syskeydown.md) von der [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) übersetzt wird. [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) gibt den Zeichencode eines systemintakten Schlüssels an, d. h. eine intakte Taste, die gedrückt wird, während die ALT-TASTE gedrückt gehalten wird. <br/>                                                                                                                                                                                                        |
| [**WM \_ SYSKEYDOWN**](wm-syskeydown.md)   | Wird mit dem Tastaturfokus an das Fenster gesendet, wenn der Benutzer die F10-Taste drückt (wodurch die Menüleiste aktiviert wird), oder die ALT-TASTE gedrückt hält und dann eine andere Taste drückt. Sie tritt auch auf, wenn derzeit kein Fenster über den Tastaturfokus verfügt. In diesem Fall wird die [**WM \_ SYSKEYDOWN-Nachricht**](wm-syskeydown.md) an das aktive Fenster gesendet. Das Fenster, das die Nachricht empfängt, kann zwischen diesen beiden Kontexten unterscheiden, indem der Kontextcode im *lParam-Parameter* überprüft wird. <br/>                                                                             |
| [**WM \_ SYSKEYUP**](wm-syskeyup.md)       | Wird an das Fenster mit dem Tastaturfokus gesendet, wenn der Benutzer eine Taste freigibt, die gedrückt wurde, während die ALT-TASTE gedrückt wurde. Sie tritt auch auf, wenn derzeit kein Fenster über den Tastaturfokus verfügt. In diesem Fall wird die [**\_ WM-SYSKEYUP-Nachricht**](wm-syskeyup.md) an das aktive Fenster gesendet. Das Fenster, das die Nachricht empfängt, kann zwischen diesen beiden Kontexten unterscheiden, indem der Kontextcode im *lParam-Parameter* überprüft wird. <br/>                                                                                                                           |
| [**WM \_ UNICHAR**](wm-unichar.md)         | Wird an das Fenster mit dem Tastaturfokus gesendet, wenn eine [**WM \_ KEYDOWN-Nachricht**](wm-keydown.md) von der [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) übersetzt wird. Die [**WM \_ UNICHAR-Nachricht**](wm-unichar.md) enthält den Zeichencode der Taste, die gedrückt wurde.<br/>                                                                                                                                                                                                                                                                        |



 

### <a name="structures"></a>Strukturen



| Name                                   | BESCHREIBUNG                                                                                                              |
|----------------------------------------|--------------------------------------------------------------------------------------------------------------------------|
| [**HARDWAREINPUT**](/windows/win32/api/winuser/ns-winuser-hardwareinput) | Enthält Informationen zu einer simulierten Nachricht, die von einem anderen Eingabegerät als einer Tastatur oder Maus generiert wird. <br/>  |
| [**Eingabe**](/windows/win32/api/winuser/ns-winuser-input)                 | Enthält Informationen zum Synthetisieren von Eingabeereignissen wie Tastatureingaben, Mausbewegungen und Mausklicks.<br/> |
| [**KEYBDINPUT**](/windows/win32/api/winuser/ns-winuser-keybdinput)       | Enthält Informationen zu einem simulierten Tastaturereignis. <br/>                                                       |
| [**LASTINPUTINFO**](/windows/win32/api/winuser/ns-winuser-lastinputinfo) | Enthält die Uhrzeit der letzten Eingabe.<br/>                                                                          |
| [**MOUSEINPUT**](/windows/win32/api/winuser/ns-winuser-mouseinput)       | Enthält Informationen zu einem simulierten Mausereignis.<br/>                                                           |



 

### <a name="constants"></a>Konstanten



| Name                                           | BESCHREIBUNG                                                                                                                                                                         |
|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**Codes für virtuelle Schlüssel**](virtual-key-codes.md) | Die symbolischen Konstantennamen, Hexadezimalwerte und Maus- oder Tastaturentsprechungen für die vom System verwendeten Virtuellen Tastencodes. Die Codes werden in numerischer Reihenfolge aufgelistet. <br/> |



 

 

