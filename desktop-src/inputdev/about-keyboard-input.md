---
title: Informationen zur Tastatureingabe
description: In diesem Thema wird die Tastatureingabe erläutert.
ms.assetid: de34727e-e8c7-481d-982d-0e42a02704db
keywords:
- Benutzereingabe,Tastatureingabe
- Erfassen von Benutzereingaben, Tastatureingabe
- Tastatureingabe
- Tastaturfokus
- Tastatureingabemeldungen
- Zeichenmeldungen
- Systemtastenanschläge
- Nichtsystemtastenanschläge
- Nichtsystemzeichenmeldungen
- In dead keys
- Nachrichten mit in dead-Zeichen
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0de85794901be3fef37156bde29520039f85702b
ms.sourcegitcommit: b3839bea8d55c981d53cb8802d666bf49093b428
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/16/2021
ms.locfileid: "114373195"
---
# <a name="about-keyboard-input"></a><span data-ttu-id="4f933-114">Informationen zur Tastatureingabe</span><span class="sxs-lookup"><span data-stu-id="4f933-114">About Keyboard Input</span></span>

<span data-ttu-id="4f933-115">Anwendungen sollten Benutzereingaben über die Tastatur und über die Maus akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-115">Applications should accept user input from the keyboard as well as from the mouse.</span></span> <span data-ttu-id="4f933-116">Eine Anwendung empfängt Tastatureingaben in Form von Nachrichten, die an ihre Fenster gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-116">An application receives keyboard input in the form of messages posted to its windows.</span></span>

<span data-ttu-id="4f933-117">Dieser Abschnitt enthält die folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="4f933-117">This section covers the following topics:</span></span>

-   [<span data-ttu-id="4f933-118">Tastatureingabemodell</span><span class="sxs-lookup"><span data-stu-id="4f933-118">Keyboard Input Model</span></span>](#keyboard-input-model)
-   [<span data-ttu-id="4f933-119">Tastaturfokus und -aktivierung</span><span class="sxs-lookup"><span data-stu-id="4f933-119">Keyboard Focus and Activation</span></span>](#keyboard-focus-and-activation)
-   [<span data-ttu-id="4f933-120">Tastatureingabemeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-120">Keystroke Messages</span></span>](#keystroke-messages)
    -   [<span data-ttu-id="4f933-121">System- und Nichtsystem-Tastatureingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-121">System and Nonsystem Keystrokes</span></span>](#system-and-nonsystem-keystrokes)
    -   [<span data-ttu-id="4f933-122">Beschriebene Codes für virtuelle Schlüssel</span><span class="sxs-lookup"><span data-stu-id="4f933-122">Virtual-Key Codes Described</span></span>](#virtual-key-codes-described)
    -   [<span data-ttu-id="4f933-123">Meldungsflags für Tastatureingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-123">Keystroke Message Flags</span></span>](#keystroke-message-flags)
-   [<span data-ttu-id="4f933-124">Zeichenmeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-124">Character Messages</span></span>](#character-messages)
    -   [<span data-ttu-id="4f933-125">Nichtsystemzeichenmeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-125">Nonsystem Character Messages</span></span>](#nonsystem-character-messages)
    -   [<span data-ttu-id="4f933-126">Nachrichten mit ungefingenen Zeichen</span><span class="sxs-lookup"><span data-stu-id="4f933-126">Dead-Character Messages</span></span>](#dead-character-messages)
-   [<span data-ttu-id="4f933-127">Schlüsselstatus</span><span class="sxs-lookup"><span data-stu-id="4f933-127">Key Status</span></span>](#key-status)
-   [<span data-ttu-id="4f933-128">Tastaturanschläge und Zeichenübersetzungen</span><span class="sxs-lookup"><span data-stu-id="4f933-128">Keystroke and Character Translations</span></span>](#keystroke-and-character-translations)
-   [<span data-ttu-id="4f933-129">Hot-Key-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="4f933-129">Hot-Key Support</span></span>](#hot-key-support)
-   [<span data-ttu-id="4f933-130">Tastaturtasten für Das Durchsuchen und andere Funktionen</span><span class="sxs-lookup"><span data-stu-id="4f933-130">Keyboard Keys for Browsing and Other Functions</span></span>](#keyboard-keys-for-browsing-and-other-functions)
-   [<span data-ttu-id="4f933-131">Simulieren von Eingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-131">Simulating Input</span></span>](#simulating-input)
-   [<span data-ttu-id="4f933-132">Sprachen, Locales und Tastaturlayouts</span><span class="sxs-lookup"><span data-stu-id="4f933-132">Languages, Locales, and Keyboard Layouts</span></span>](#languages-locales-and-keyboard-layouts)

## <a name="keyboard-input-model"></a><span data-ttu-id="4f933-133">Tastatureingabemodell</span><span class="sxs-lookup"><span data-stu-id="4f933-133">Keyboard Input Model</span></span>

<span data-ttu-id="4f933-134">Das System bietet geräteunabhängige Tastaturunterstützung für Anwendungen, indem ein Tastaturgerätetreiber installiert wird, der für die aktuelle Tastatur geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-134">The system provides device-independent keyboard support for applications by installing a keyboard device driver appropriate for the current keyboard.</span></span> <span data-ttu-id="4f933-135">Das System bietet sprachunabhängige Tastaturunterstützung mithilfe des sprachspezifischen Tastaturlayouts, das derzeit vom Benutzer oder der Anwendung ausgewählt wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-135">The system provides language-independent keyboard support by using the language-specific keyboard layout currently selected by the user or the application.</span></span> <span data-ttu-id="4f933-136">Der Tastaturgerätetreiber empfängt Scancodes von der Tastatur, die an das Tastaturlayout gesendet werden, wo sie in Nachrichten übersetzt und an die entsprechenden Fenster in Ihrer Anwendung gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-136">The keyboard device driver receives scan codes from the keyboard, which are sent to the keyboard layout where they are translated into messages and posted to the appropriate windows in your application.</span></span>

<span data-ttu-id="4f933-137">Jeder Taste auf einer Tastatur ist ein eindeutiger Wert zugewiesen, der als Scancode bezeichnet *wird.* Dabei handelt es sich um einen geräteabhängigen Bezeichner für die Taste auf der Tastatur.</span><span class="sxs-lookup"><span data-stu-id="4f933-137">Assigned to each key on a keyboard is a unique value called a *scan code*, a device-dependent identifier for the key on the keyboard.</span></span> <span data-ttu-id="4f933-138">Eine Tastatur generiert zwei Scancodes, wenn der Benutzer eine Taste ein gibt– einen, wenn der Benutzer die Taste drückt, und einen anderen, wenn der Benutzer die Taste frei gibt.</span><span class="sxs-lookup"><span data-stu-id="4f933-138">A keyboard generates two scan codes when the user types a key—one when the user presses the key and another when the user releases the key.</span></span>

<span data-ttu-id="4f933-139">Der Tastaturgerätetreiber interpretiert einen Scancode und übersetzt ihn in einen virtuellen Schlüsselcode *,einen* geräteunabhängigen Wert, der vom System definiert wird und den Zweck einer Taste identifiziert.</span><span class="sxs-lookup"><span data-stu-id="4f933-139">The keyboard device driver interprets a scan code and translates (maps) it to a *virtual-key code*, a device-independent value defined by the system that identifies the purpose of a key.</span></span> <span data-ttu-id="4f933-140">Nach der Übersetzung eines Scancodes erstellt das Tastaturlayout eine Meldung, die den Scancode, den Code der virtuellen Taste und andere Informationen über die Tastatureingabe enthält, und platziert die Nachricht dann in der Systemnachrichtenwarteschlange.</span><span class="sxs-lookup"><span data-stu-id="4f933-140">After translating a scan code, the keyboard layout creates a message that includes the scan code, the virtual-key code, and other information about the keystroke, and then places the message in the system message queue.</span></span> <span data-ttu-id="4f933-141">Das System entfernt die Nachricht aus der Systemnachrichtenwarteschlange und übermittelt sie an die Nachrichtenwarteschlange des entsprechenden Threads.</span><span class="sxs-lookup"><span data-stu-id="4f933-141">The system removes the message from the system message queue and posts it to the message queue of the appropriate thread.</span></span> <span data-ttu-id="4f933-142">Schließlich entfernt die Meldungsschleife des Threads die Nachricht und übergibt sie zur Verarbeitung an die entsprechende Fensterprozedur.</span><span class="sxs-lookup"><span data-stu-id="4f933-142">Eventually, the thread's message loop removes the message and passes it to the appropriate window procedure for processing.</span></span> <span data-ttu-id="4f933-143">Die folgende Abbildung veranschaulicht das Tastatureingabemodell.</span><span class="sxs-lookup"><span data-stu-id="4f933-143">The following figure illustrates the keyboard input model.</span></span>

![Tastatureingabeverarbeitungsmodell](images/csinp-01.png)

## <a name="keyboard-focus-and-activation"></a><span data-ttu-id="4f933-145">Tastaturfokus und -aktivierung</span><span class="sxs-lookup"><span data-stu-id="4f933-145">Keyboard Focus and Activation</span></span>

<span data-ttu-id="4f933-146">Das System übermittelt Tastaturmeldungen an die Nachrichtenwarteschlange des Vordergrundthreads, der das Fenster mit dem Tastaturfokus erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="4f933-146">The system posts keyboard messages to the message queue of the foreground thread that created the window with the keyboard focus.</span></span> <span data-ttu-id="4f933-147">Der *Tastaturfokus* ist eine temporäre Eigenschaft eines Fensters.</span><span class="sxs-lookup"><span data-stu-id="4f933-147">The *keyboard focus* is a temporary property of a window.</span></span> <span data-ttu-id="4f933-148">Das System teilt die Tastatur für alle Fenster auf der Anzeige, indem es den Tastaturfokus in Der Richtung des Benutzers von einem Fenster in ein anderes verschiebt.</span><span class="sxs-lookup"><span data-stu-id="4f933-148">The system shares the keyboard among all windows on the display by shifting the keyboard focus, at the user's direction, from one window to another.</span></span> <span data-ttu-id="4f933-149">Das Fenster mit dem Tastaturfokus empfängt (aus der Nachrichtenwarteschlange des Threads, der ihn erstellt hat) alle Tastaturmeldungen, bis sich der Fokus in ein anderes Fenster ändert.</span><span class="sxs-lookup"><span data-stu-id="4f933-149">The window that has the keyboard focus receives (from the message queue of the thread that created it) all keyboard messages until the focus changes to a different window.</span></span>

<span data-ttu-id="4f933-150">Ein Thread kann die [**GetFocus-Funktion**](/windows/win32/api/winuser/nf-winuser-getfocus) aufrufen, um zu bestimmen, welches seiner Fenster (sofern verfügbar) derzeit den Tastaturfokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="4f933-150">A thread can call the [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus) function to determine which of its windows (if any) currently has the keyboard focus.</span></span> <span data-ttu-id="4f933-151">Ein Thread kann den Tastaturfokus auf eines seiner Fenster legen, indem er die [**SetFocus-Funktion**](/windows/win32/api/winuser/nf-winuser-setfocus) aufruft.</span><span class="sxs-lookup"><span data-stu-id="4f933-151">A thread can give the keyboard focus to one of its windows by calling the [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus) function.</span></span> <span data-ttu-id="4f933-152">Wenn sich der Tastaturfokus von einem Fenster in ein anderes ändert, sendet das System eine WM KILLFOCUS-Nachricht an das Fenster, das den Fokus verloren hat, und sendet dann eine [**WM \_ SETFOCUS-Nachricht**](wm-setfocus.md) an das Fenster, das den Fokus erhalten hat. [**\_**](wm-killfocus.md)</span><span class="sxs-lookup"><span data-stu-id="4f933-152">When the keyboard focus changes from one window to another, the system sends a [**WM\_KILLFOCUS**](wm-killfocus.md) message to the window that has lost the focus, and then sends a [**WM\_SETFOCUS**](wm-setfocus.md) message to the window that has gained the focus.</span></span>

<span data-ttu-id="4f933-153">Das Konzept des Tastaturfokus bezieht sich auf das des aktiven Fensters.</span><span class="sxs-lookup"><span data-stu-id="4f933-153">The concept of keyboard focus is related to that of the active window.</span></span> <span data-ttu-id="4f933-154">Das *aktive Fenster* ist das Fenster der obersten Ebene, mit dem der Benutzer gerade arbeitet.</span><span class="sxs-lookup"><span data-stu-id="4f933-154">The *active window* is the top-level window the user is currently working with.</span></span> <span data-ttu-id="4f933-155">Das Fenster mit dem Tastaturfokus ist entweder das aktive Fenster oder ein untergeordnetes Fenster des aktiven Fensters.</span><span class="sxs-lookup"><span data-stu-id="4f933-155">The window with the keyboard focus is either the active window, or a child window of the active window.</span></span> <span data-ttu-id="4f933-156">Damit der Benutzer das aktive Fenster identifizieren kann, platziert das System es oben in der Z-Reihenfolge und hebt seine Titelleiste (sofern es eines auf hat) und den Rahmen hervor.</span><span class="sxs-lookup"><span data-stu-id="4f933-156">To help the user identify the active window, the system places it at the top of the Z order and highlights its title bar (if it has one) and border.</span></span>

<span data-ttu-id="4f933-157">Der Benutzer kann ein Fenster der obersten Ebene aktivieren, indem er darauf klickt, es mithilfe der Tastenkombination ALT+TAB oder ALT+ESC auswählt oder es aus der Aufgabenliste.</span><span class="sxs-lookup"><span data-stu-id="4f933-157">The user can activate a top-level window by clicking it, selecting it using the ALT+TAB or ALT+ESC key combination, or selecting it from the Task List.</span></span> <span data-ttu-id="4f933-158">Ein Thread kann ein Fenster der obersten Ebene mithilfe der [**SetActiveWindow-Funktion**](/windows/win32/api/winuser/nf-winuser-setactivewindow) aktivieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-158">A thread can activate a top-level window by using the [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow) function.</span></span> <span data-ttu-id="4f933-159">Mithilfe der [**GetActiveWindow-Funktion**](/windows/win32/api/winuser/nf-winuser-getactivewindow) kann ermittelt werden, ob ein erstelltes Fenster der obersten Ebene aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-159">It can determine whether a top-level window it created is active by using the [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow) function.</span></span>

<span data-ttu-id="4f933-160">Wenn ein Fenster deaktiviert und ein anderes aktiviert wird, sendet das System die [**WM \_ ACTIVATE-Nachricht.**](wm-activate.md)</span><span class="sxs-lookup"><span data-stu-id="4f933-160">When one window is deactivated and another activated, the system sends the [**WM\_ACTIVATE**](wm-activate.md) message.</span></span> <span data-ttu-id="4f933-161">Das niedrige Wort des *wParam-Parameters* ist 0 (null), wenn das Fenster deaktiviert wird, und ungleich 0 (null), wenn es aktiviert wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-161">The low-order word of the *wParam* parameter is zero if the window is being deactivated and nonzero if it is being activated.</span></span> <span data-ttu-id="4f933-162">Wenn die Standardfensterprozedur die **WM \_ ACTIVATE-Meldung** empfängt, wird der Tastaturfokus auf das aktive Fenster festgelegt.</span><span class="sxs-lookup"><span data-stu-id="4f933-162">When the default window procedure receives the **WM\_ACTIVATE** message, it sets the keyboard focus to the active window.</span></span>

<span data-ttu-id="4f933-163">Um zu blockieren, dass Tastatur- und Mauseingabeereignisse Anwendungen erreichen, verwenden [**Sie BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput).</span><span class="sxs-lookup"><span data-stu-id="4f933-163">To block keyboard and mouse input events from reaching applications, use [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput).</span></span> <span data-ttu-id="4f933-164">Beachten Sie, dass **die BlockInput-Funktion** die asynchrone Eingabezustandstabelle der Tastatur nicht beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="4f933-164">Note, the **BlockInput** function will not interfere with the asynchronous keyboard input-state table.</span></span> <span data-ttu-id="4f933-165">Dies bedeutet, dass das Aufrufen der [**SendInput-Funktion,**](/windows/win32/api/winuser/nf-winuser-sendinput) während die Eingabe blockiert wird, die asynchrone Eingabezustandstabelle ändert.</span><span class="sxs-lookup"><span data-stu-id="4f933-165">This means that calling the [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function while input is blocked will change the asynchronous keyboard input-state table.</span></span>

## <a name="keystroke-messages"></a><span data-ttu-id="4f933-166">Tastatureingabemeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-166">Keystroke Messages</span></span>

<span data-ttu-id="4f933-167">Durch Drücken einer Taste wird eine [**WM \_ KEYDOWN-**](wm-keydown.md) oder [**WM \_ SYSKEYDOWN-Nachricht**](wm-syskeydown.md) in die Threadnachrichtenwarteschlange platziert, die an das Fenster angefügt ist, das den Tastaturfokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="4f933-167">Pressing a key causes a [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message to be placed in the thread message queue attached to the window that has the keyboard focus.</span></span> <span data-ttu-id="4f933-168">Das Freigeben eines Schlüssels bewirkt, dass eine [**WM \_ KEYUP-**](wm-keyup.md) oder [**WM \_ SYSKEYUP-Nachricht**](wm-syskeyup.md) in die Warteschlange gestellt wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-168">Releasing a key causes a [**WM\_KEYUP**](wm-keyup.md) or [**WM\_SYSKEYUP**](wm-syskeyup.md) message to be placed in the queue.</span></span>

<span data-ttu-id="4f933-169">Tastenauf- und Tastenkombinationsmeldungen treten in der Regel paarweise auf. Wenn der Benutzer jedoch eine Taste hält, die lang genug ist, um die automatische Wiederholungsfunktion der Tastatur zu starten, generiert das System eine Reihe von [**WM \_ KEYDOWN-**](wm-keydown.md) oder [**WM \_ SYSKEYDOWN-Meldungen**](wm-syskeydown.md) in einer Zeile.</span><span class="sxs-lookup"><span data-stu-id="4f933-169">Key-up and key-down messages typically occur in pairs, but if the user holds down a key long enough to start the keyboard's automatic repeat feature, the system generates a number of [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages in a row.</span></span> <span data-ttu-id="4f933-170">Anschließend wird eine einzelne [**WM \_ KEYUP-**](wm-keyup.md) oder [**WM \_ SYSKEYUP-Nachricht**](wm-syskeyup.md) generiert, wenn der Benutzer den Schlüssel frei gibt.</span><span class="sxs-lookup"><span data-stu-id="4f933-170">It then generates a single [**WM\_KEYUP**](wm-keyup.md) or [**WM\_SYSKEYUP**](wm-syskeyup.md) message when the user releases the key.</span></span>

<span data-ttu-id="4f933-171">Dieser Abschnitt enthält die folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="4f933-171">This section covers the following topics:</span></span>

-   [<span data-ttu-id="4f933-172">System- und Nichtsystem-Tastatureingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-172">System and Nonsystem Keystrokes</span></span>](#system-and-nonsystem-keystrokes)
-   [<span data-ttu-id="4f933-173">Beschriebene Codes für virtuelle Schlüssel</span><span class="sxs-lookup"><span data-stu-id="4f933-173">Virtual-Key Codes Described</span></span>](#virtual-key-codes-described)
-   [<span data-ttu-id="4f933-174">Meldungsflags für Tastatureingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-174">Keystroke Message Flags</span></span>](#keystroke-message-flags)

### <a name="system-and-nonsystem-keystrokes"></a><span data-ttu-id="4f933-175">System- und Nichtsystem-Tastatureingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-175">System and Nonsystem Keystrokes</span></span>

<span data-ttu-id="4f933-176">Das System unterscheidet zwischen Systemtastenanschlägen und Nichtsystemtastenanschlägen.</span><span class="sxs-lookup"><span data-stu-id="4f933-176">The system makes a distinction between system keystrokes and nonsystem keystrokes.</span></span> <span data-ttu-id="4f933-177">Systemtasteneingaben erzeugen Systemtasteneingabemeldungen, [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) und [**WM \_ SYSKEYUP.**](wm-syskeyup.md)</span><span class="sxs-lookup"><span data-stu-id="4f933-177">System keystrokes produce system keystroke messages, [**WM\_SYSKEYDOWN**](wm-syskeydown.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md).</span></span> <span data-ttu-id="4f933-178">Nichtsystemtasteneingaben erzeugen Nichtsystem-Tastatureingabemeldungen, [**WM \_ KEYDOWN**](wm-keydown.md) und [**WM \_ KEYUP**](wm-keyup.md).</span><span class="sxs-lookup"><span data-stu-id="4f933-178">Nonsystem keystrokes produce nonsystem keystroke messages, [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_KEYUP**](wm-keyup.md).</span></span>

<span data-ttu-id="4f933-179">Wenn Ihre Fensterprozedur eine Systemtasteneingabenachricht verarbeiten muss, stellen Sie sicher, dass sie nach der Verarbeitung der Nachricht von der Prozedur an die [**DefWindowProc-Funktion übergeben**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-179">If your window procedure must process a system keystroke message, make sure that after processing the message the procedure passes it to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="4f933-180">Andernfalls werden alle Systemvorgänge mit der ALT-TASTE deaktiviert, wenn das Fenster den Tastaturfokus besitzt.</span><span class="sxs-lookup"><span data-stu-id="4f933-180">Otherwise, all system operations involving the ALT key will be disabled whenever the window has the keyboard focus.</span></span> <span data-ttu-id="4f933-181">Das heißt, der Benutzer kann nicht auf die Menüs oder das Systemmenü des Fensters zugreifen oder die Tastenkombination ALT+ESC oder ALT+TAB verwenden, um ein anderes Fenster zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-181">That is, the user won't be able to access the window's menus or System menu, or use the ALT+ESC or ALT+TAB key combination to activate a different window.</span></span>

<span data-ttu-id="4f933-182">Systemtasteneingabemeldungen sind in erster Linie für die Verwendung durch das System und nicht durch eine Anwendung.</span><span class="sxs-lookup"><span data-stu-id="4f933-182">System keystroke messages are primarily for use by the system rather than by an application.</span></span> <span data-ttu-id="4f933-183">Das System verwendet sie, um die integrierte Tastaturschnittstelle für Menüs zur Verfügung zu stellen und dem Benutzer zu ermöglichen, zu steuern, welches Fenster aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-183">The system uses them to provide its built-in keyboard interface to menus and to allow the user to control which window is active.</span></span> <span data-ttu-id="4f933-184">Systemtasteneingabemeldungen werden generiert, wenn der Benutzer eine Taste in Kombination mit der ALT-Taste ein gibt oder wenn der Benutzer ein- und kein Fenster den Tastaturfokus besitzt (z. B. wenn die aktive Anwendung minimiert ist).</span><span class="sxs-lookup"><span data-stu-id="4f933-184">System keystroke messages are generated when the user types a key in combination with the ALT key, or when the user types and no window has the keyboard focus (for example, when the active application is minimized).</span></span> <span data-ttu-id="4f933-185">In diesem Fall werden die Nachrichten an die Nachrichtenwarteschlange gesendet, die an das aktive Fenster angefügt ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-185">In this case, the messages are posted to the message queue attached to the active window.</span></span>

<span data-ttu-id="4f933-186">Nichtsystemtasteneingabemeldungen sind für die Verwendung durch Anwendungsfenster verfügbar. Die [**DefWindowProc-Funktion**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) führt nichts mit ihnen aus.</span><span class="sxs-lookup"><span data-stu-id="4f933-186">Nonsystem keystroke messages are for use by application windows; the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function does nothing with them.</span></span> <span data-ttu-id="4f933-187">Eine Fensterprozedur kann alle Nichtsystem-Tastatureingabemeldungen verwerfen, die sie nicht benötigt.</span><span class="sxs-lookup"><span data-stu-id="4f933-187">A window procedure can discard any nonsystem keystroke messages that it does not need.</span></span>

### <a name="virtual-key-codes-described"></a><span data-ttu-id="4f933-188">Virtual-Key Codes</span><span class="sxs-lookup"><span data-stu-id="4f933-188">Virtual-Key Codes Described</span></span>

<span data-ttu-id="4f933-189">Der **wParam-Parameter** einer Tastatureingabenachricht enthält den virtuellen Schlüsselcode der Taste, die gedrückt oder freigegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="4f933-189">The **wParam** parameter of a keystroke message contains the virtual-key code of the key that was pressed or released.</span></span> <span data-ttu-id="4f933-190">Eine Fensterprozedur verarbeitet oder ignoriert eine Tastatureingabemeldung, abhängig vom Wert des Codes für virtuelle Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="4f933-190">A window procedure processes or ignores a keystroke message, depending on the value of the virtual-key code.</span></span>

<span data-ttu-id="4f933-191">Eine typische Fensterprozedur verarbeitet nur eine kleine Teilmenge der Tastaturanschläge, die sie empfängt, und ignoriert den Rest.</span><span class="sxs-lookup"><span data-stu-id="4f933-191">A typical window procedure processes only a small subset of the keystroke messages that it receives and ignores the rest.</span></span> <span data-ttu-id="4f933-192">Eine Fensterprozedur kann z. B. nur [**WM \_ KEYDOWN-Tastatureingabemeldungen**](wm-keydown.md) verarbeiten, und nur solche, die virtuelle Schlüsselcodes für die Cursorbewegungsschlüssel, Umschalttasten (auch als Steuerungsschlüssel bezeichnet) und Funktionstasten enthalten.</span><span class="sxs-lookup"><span data-stu-id="4f933-192">For example, a window procedure might process only [**WM\_KEYDOWN**](wm-keydown.md) keystroke messages, and only those that contain virtual-key codes for the cursor movement keys, shift keys (also called control keys), and function keys.</span></span> <span data-ttu-id="4f933-193">Eine typische Fensterprozedur verarbeiten keine Tastatureingabemeldungen von Zeichentasten.</span><span class="sxs-lookup"><span data-stu-id="4f933-193">A typical window procedure does not process keystroke messages from character keys.</span></span> <span data-ttu-id="4f933-194">Stattdessen wird die [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) verwendet, um die Nachricht in Zeichennachrichten zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-194">Instead, it uses the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function to convert the message into character messages.</span></span> <span data-ttu-id="4f933-195">Weitere Informationen zu **TranslateMessage und Zeichennachrichten** finden Sie unter [Zeichenmeldungen](#character-messages).</span><span class="sxs-lookup"><span data-stu-id="4f933-195">For more information about **TranslateMessage** and character messages, see [Character Messages](#character-messages).</span></span>

### <a name="keystroke-message-flags"></a><span data-ttu-id="4f933-196">Meldungsflags für Tastatureingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-196">Keystroke Message Flags</span></span>

<span data-ttu-id="4f933-197">Der **lParam-Parameter** einer Tastatureingabenachricht enthält zusätzliche Informationen über die Tastatureingabe, die die Nachricht generiert hat.</span><span class="sxs-lookup"><span data-stu-id="4f933-197">The **lParam** parameter of a keystroke message contains additional information about the keystroke that generated the message.</span></span> <span data-ttu-id="4f933-198">Diese Informationen umfassen die Wiederholungsanzahl, den Überprüfungscode, das Flag für erweiterte Schlüssel, den Kontextcode, das vorherige Schlüsselzustandsflag und das Übergangszustandsflag.</span><span class="sxs-lookup"><span data-stu-id="4f933-198">This information includes the repeat count, the scan code, the extended-key flag, the context code, the previous key-state flag, and the transition-state flag.</span></span> <span data-ttu-id="4f933-199">Die folgende Abbildung zeigt die Speicherorte dieser Flags und Werte im **lParam-Parameter.**</span><span class="sxs-lookup"><span data-stu-id="4f933-199">The following illustration shows the locations of these flags and values in the **lParam** parameter.</span></span>

![die Positionen der Flags und Werte im lparam-Parameter einer Tastatureingabenachricht](images/csinp-02.png)

<span data-ttu-id="4f933-201">Eine Anwendung kann die folgenden Werte verwenden, um die Tastatureingabeflags zu bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="4f933-201">An application can use the following values to manipulate the keystroke flags.</span></span>



| <span data-ttu-id="4f933-202">Wert</span><span class="sxs-lookup"><span data-stu-id="4f933-202">Value</span></span>            | <span data-ttu-id="4f933-203">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="4f933-203">Description</span></span>                                                                       |
|------------------|-----------------------------------------------------------------------------------|
| <span data-ttu-id="4f933-204">**\_ALT-AB-ALT-TASTE**</span><span class="sxs-lookup"><span data-stu-id="4f933-204">**KF\_ALTDOWN**</span></span>  | <span data-ttu-id="4f933-205">Bearbeitet das ALT-Tastenflag, das angibt, ob die ALT-TASTE gedrückt wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-205">Manipulates the ALT key flag, which indicates whether the ALT key is pressed.</span></span>     |
| <span data-ttu-id="4f933-206">**KF \_ DLGMODE**</span><span class="sxs-lookup"><span data-stu-id="4f933-206">**KF\_DLGMODE**</span></span>  | <span data-ttu-id="4f933-207">Bearbeitet das Dialogfeldmodusflag, das angibt, ob ein Dialogfeld aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-207">Manipulates the dialog mode flag, which indicates whether a dialog box is active.</span></span> |
| <span data-ttu-id="4f933-208">**EXTENDED \_ (ERWEITERT)**</span><span class="sxs-lookup"><span data-stu-id="4f933-208">**KF\_EXTENDED**</span></span> | <span data-ttu-id="4f933-209">Bearbeitet das erweiterte Schlüsselflag.</span><span class="sxs-lookup"><span data-stu-id="4f933-209">Manipulates the extended key flag.</span></span>                                                |
| <span data-ttu-id="4f933-210">**MENUMODE \_ (MENÜMODUS)**</span><span class="sxs-lookup"><span data-stu-id="4f933-210">**KF\_MENUMODE**</span></span> | <span data-ttu-id="4f933-211">Bearbeitet das Menümodusflag, das angibt, ob ein Menü aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-211">Manipulates the menu mode flag, which indicates whether a menu is active.</span></span>         |
| <span data-ttu-id="4f933-212">**\_BESENSER WIEDERHOLUNG**</span><span class="sxs-lookup"><span data-stu-id="4f933-212">**KF\_REPEAT**</span></span>   | <span data-ttu-id="4f933-213">Bearbeitet das vorherige Schlüsselzustandsflag.</span><span class="sxs-lookup"><span data-stu-id="4f933-213">Manipulates the previous key state flag.</span></span>                                          |
| <span data-ttu-id="4f933-214">**\_NACH-OBEN**</span><span class="sxs-lookup"><span data-stu-id="4f933-214">**KF\_UP**</span></span>       | <span data-ttu-id="4f933-215">Bearbeitet das Übergangszustandsflag.</span><span class="sxs-lookup"><span data-stu-id="4f933-215">Manipulates the transition state flag.</span></span>                                            |

<span data-ttu-id="4f933-216">Beispielcode:</span><span class="sxs-lookup"><span data-stu-id="4f933-216">Example code:</span></span>

```cpp
case WM_KEYDOWN:
case WM_KEYUP:
case WM_SYSKEYDOWN:
case WM_SYSKEYUP:
{
    WORD vkCode = LOWORD(wParam);                                       // virtual-key code

    BYTE scanCode = LOBYTE(HIWORD(lParam));                             // scan code
    BOOL scanCodeE0 = (HIWORD(lParam) & KF_EXTENDED) == KF_EXTENDED;    // extended-key flag, 1 if scancode has 0xE0 prefix

    BOOL upFlag = (HIWORD(lParam) & KF_UP) == KF_UP;                    // transition-state flag, 1 on keyup
    BOOL repeatFlag = (HIWORD(lParam) & KF_REPEAT) == KF_REPEAT;        // previous key-state flag, 1 on autorepeat
    WORD repeatCount = LOWORD(lParam);                                  // repeat count, > 0 if several keydown messages was combined into one message

    BOOL altDownFlag = (HIWORD(lParam) & KF_ALTDOWN) == KF_ALTDOWN;     // ALT key was pressed

    BOOL dlgModeFlag = (HIWORD(lParam) & KF_DLGMODE) == KF_DLGMODE;     // dialog box is active
    BOOL menuModeFlag = (HIWORD(lParam) & KF_MENUMODE) == KF_MENUMODE;  // menu is active
    
    // ...
}
break;
```

### <a name="repeat-count"></a><span data-ttu-id="4f933-217">Zahl der Wiederholungen</span><span class="sxs-lookup"><span data-stu-id="4f933-217">Repeat Count</span></span>

<span data-ttu-id="4f933-218">Sie können die Wiederholungsanzahl überprüfen, um zu bestimmen, ob eine Tastatureingabenachricht mehr als einen Tastaturanschlag darstellt.</span><span class="sxs-lookup"><span data-stu-id="4f933-218">You can check the repeat count to determine whether a keystroke message represents more than one keystroke.</span></span> <span data-ttu-id="4f933-219">Das System erhöht die Anzahl, wenn die Tastatur [**WM \_ KEYDOWN-**](wm-keydown.md) oder [**WM \_ SYSKEYDOWN-Meldungen**](wm-syskeydown.md) schneller generiert, als eine Anwendung sie verarbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="4f933-219">The system increments the count when the keyboard generates [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages faster than an application can process them.</span></span> <span data-ttu-id="4f933-220">Dies tritt häufig auf, wenn der Benutzer eine Taste lang genug hält, um das Feature für automatische Wiederholungen der Tastatur zu starten.</span><span class="sxs-lookup"><span data-stu-id="4f933-220">This often occurs when the user holds down a key long enough to start the keyboard's automatic repeat feature.</span></span> <span data-ttu-id="4f933-221">Anstatt die Systemnachrichtenwarteschlange mit den resultierenden Key-Down-Nachrichten zu füllen, kombiniert das System die Nachrichten in einer einzelnen Key Down-Nachricht und erhöht die Wiederholungsanzahl.</span><span class="sxs-lookup"><span data-stu-id="4f933-221">Instead of filling the system message queue with the resulting key-down messages, the system combines the messages into a single key down message and increments the repeat count.</span></span> <span data-ttu-id="4f933-222">Das Freigeben eines Schlüssels kann das Feature für die automatische Wiederholung nicht starten, sodass die Wiederholungsanzahl für [**WM \_ KEYUP-**](wm-keyup.md) und [**WM \_ SYSKEYUP-Nachrichten**](wm-syskeyup.md) immer auf 1 festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-222">Releasing a key cannot start the automatic repeat feature, so the repeat count for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages is always set to 1.</span></span>

### <a name="scan-code"></a><span data-ttu-id="4f933-223">Scan Code</span><span class="sxs-lookup"><span data-stu-id="4f933-223">Scan Code</span></span>

<span data-ttu-id="4f933-224">Der Scancode ist der Wert, den die Tastaturhardware generiert, wenn der Benutzer eine Taste drückt.</span><span class="sxs-lookup"><span data-stu-id="4f933-224">The scan code is the value that the keyboard hardware generates when the user presses a key.</span></span> <span data-ttu-id="4f933-225">Es handelt sich um einen geräteabhängigen Wert, der den gedrückten Schlüssel identifiziert, im Gegensatz zum durch die Taste dargestellten Zeichen.</span><span class="sxs-lookup"><span data-stu-id="4f933-225">It is a device-dependent value that identifies the key pressed, as opposed to the character represented by the key.</span></span> <span data-ttu-id="4f933-226">Eine Anwendung ignoriert in der Regel Scancodes.</span><span class="sxs-lookup"><span data-stu-id="4f933-226">An application typically ignores scan codes.</span></span> <span data-ttu-id="4f933-227">Stattdessen werden geräteunabhängige Codes für virtuelle Schlüssel verwendet, um Tastatureingabemeldungen zu interpretieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-227">Instead, it uses the device-independent virtual-key codes to interpret keystroke messages.</span></span>

### <a name="extended-key-flag"></a><span data-ttu-id="4f933-228">Extended-Key Flag</span><span class="sxs-lookup"><span data-stu-id="4f933-228">Extended-Key Flag</span></span>

<span data-ttu-id="4f933-229">Das Flag für erweiterte Tasten gibt an, ob die Tastatureingabenachricht von einer der zusätzlichen Tasten auf der erweiterten Tastatur stammt.</span><span class="sxs-lookup"><span data-stu-id="4f933-229">The extended-key flag indicates whether the keystroke message originated from one of the additional keys on the enhanced keyboard.</span></span> <span data-ttu-id="4f933-230">Die erweiterten Tasten bestehen aus der ALT- und STRG-Taste auf der rechten Seite der Tastatur. DIE INS-, DEL-, HOME-, END-, PAGE UP-, PAGE DOWN- und Pfeiltasten in den Clustern links neben der numerischen Tastatur; DIE NUM-SPERRE; DIE STRG+PAUSE-TASTE; PRINT PRINTN-Taste; und die Division (/) und die EINGABETASTEn in der numerischen Tastatur.</span><span class="sxs-lookup"><span data-stu-id="4f933-230">The extended keys consist of the ALT and CTRL keys on the right-hand side of the keyboard; the INS, DEL, HOME, END, PAGE UP, PAGE DOWN, and arrow keys in the clusters to the left of the numeric keypad; the NUM LOCK key; the BREAK (CTRL+PAUSE) key; the PRINT SCRN key; and the divide (/) and ENTER keys in the numeric keypad.</span></span> <span data-ttu-id="4f933-231">Das Flag für erweiterte Schlüssel wird festgelegt, wenn der Schlüssel ein erweiterter Schlüssel ist.</span><span class="sxs-lookup"><span data-stu-id="4f933-231">The extended-key flag is set if the key is an extended key.</span></span>

<span data-ttu-id="4f933-232">Wenn angegeben, wurde dem Scancode ein Präfix byte mit dem Wert 0xE0 (224) vorangestellt.</span><span class="sxs-lookup"><span data-stu-id="4f933-232">If specified, the scan code was preceded by a prefix byte having the value 0xE0 (224).</span></span>

### <a name="context-code"></a><span data-ttu-id="4f933-233">Kontextcode</span><span class="sxs-lookup"><span data-stu-id="4f933-233">Context Code</span></span>

<span data-ttu-id="4f933-234">Der Kontextcode gibt an, ob die ALT-TASTE beim Erstellen der Tastatureingabenachricht nicht mehr verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="4f933-234">The context code indicates whether the ALT key was down when the keystroke message was generated.</span></span> <span data-ttu-id="4f933-235">Der Code ist 1, wenn die ALT-TASTE gedrückt war, und 0, wenn sie hoch war.</span><span class="sxs-lookup"><span data-stu-id="4f933-235">The code is 1 if the ALT key was down and 0 if it was up.</span></span>

### <a name="previous-key-state-flag"></a><span data-ttu-id="4f933-236">Vorheriges Key-State Flag</span><span class="sxs-lookup"><span data-stu-id="4f933-236">Previous Key-State Flag</span></span>

<span data-ttu-id="4f933-237">Das vorherige Schlüsselzustandsflag gibt an, ob der Schlüssel, der die Tastatureingabenachricht generiert hat, zuvor nach oben oder unten war.</span><span class="sxs-lookup"><span data-stu-id="4f933-237">The previous key-state flag indicates whether the key that generated the keystroke message was previously up or down.</span></span> <span data-ttu-id="4f933-238">Er ist 1, wenn der Schlüssel zuvor heruntergefahren war, und 0, wenn der Schlüssel zuvor hoch war.</span><span class="sxs-lookup"><span data-stu-id="4f933-238">It is 1 if the key was previously down and 0 if the key was previously up.</span></span> <span data-ttu-id="4f933-239">Sie können dieses Flag verwenden, um Tastatureingabemeldungen zu identifizieren, die von der Automatischen Wiederholungsfunktion der Tastatur generiert wurden.</span><span class="sxs-lookup"><span data-stu-id="4f933-239">You can use this flag to identify keystroke messages generated by the keyboard's automatic repeat feature.</span></span> <span data-ttu-id="4f933-240">Dieses Flag ist auf 1 für [**WM \_ KEYDOWN-**](wm-keydown.md) und [**WM \_ SYSKEYDOWN-Tastatureingabemeldungen**](wm-syskeydown.md) festgelegt, die von der automatischen Wiederholungsfunktion generiert werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-240">This flag is set to 1 for [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_SYSKEYDOWN**](wm-syskeydown.md) keystroke messages generated by the automatic repeat feature.</span></span> <span data-ttu-id="4f933-241">Sie ist für WM [**\_ KEYUP-**](wm-keyup.md) und [**WM \_ SYSKEYUP-Meldungen immer auf**](wm-syskeyup.md) 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="4f933-241">It is always set to 1 for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages.</span></span>

### <a name="transition-state-flag"></a><span data-ttu-id="4f933-242">Transition-State Flag</span><span class="sxs-lookup"><span data-stu-id="4f933-242">Transition-State Flag</span></span>

<span data-ttu-id="4f933-243">Das Übergangszustandsflag gibt an, ob durch Drücken einer Taste oder Freigeben einer Taste die Tastatureingabemeldung generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="4f933-243">The transition-state flag indicates whether pressing a key or releasing a key generated the keystroke message.</span></span> <span data-ttu-id="4f933-244">Dieses Flag ist für [**WM \_ KEYDOWN-**](wm-keydown.md) und [**WM \_ SYSKEYDOWN-Meldungen**](wm-syskeydown.md) immer auf 0 festgelegt. Für [**WM \_ KEYUP-**](wm-keyup.md) und [**WM \_ SYSKEYUP-Meldungen**](wm-syskeyup.md) ist es immer auf 1 festgelegt.</span><span class="sxs-lookup"><span data-stu-id="4f933-244">This flag is always set to 0 for [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages; it is always set to 1 for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages.</span></span>

## <a name="character-messages"></a><span data-ttu-id="4f933-245">Zeichenmeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-245">Character Messages</span></span>

<span data-ttu-id="4f933-246">Tastatureingabemeldungen enthalten viele Informationen zu Tastaturanschlägen, stellen jedoch keine Zeichencodes für Zeichentasteneingaben zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="4f933-246">Keystroke messages provide a lot of information about keystrokes, but they do not provide character codes for character keystrokes.</span></span> <span data-ttu-id="4f933-247">Um Zeichencodes abzurufen, muss eine Anwendung die [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) in ihre Threadnachrichtenschleife ein schließen.</span><span class="sxs-lookup"><span data-stu-id="4f933-247">To retrieve character codes, an application must include the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function in its thread message loop.</span></span> <span data-ttu-id="4f933-248">**TranslateMessage** übergibt eine [**WM \_ KEYDOWN- oder**](wm-keydown.md) WM [**\_ SYSKEYDOWN-Nachricht**](wm-syskeydown.md) an das Tastaturlayout.</span><span class="sxs-lookup"><span data-stu-id="4f933-248">**TranslateMessage** passes a [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message to the keyboard layout.</span></span> <span data-ttu-id="4f933-249">Das Layout untersucht den virtuellen Schlüsselcode der Nachricht und stellt, wenn er einem Zeichenschlüssel entspricht, das Äquivalent des Zeichencodes (unter Berücksichtigung des Zustands der UMSCHALT- und CAPS LOCK-Schlüssel) zur Lage.</span><span class="sxs-lookup"><span data-stu-id="4f933-249">The layout examines the message's virtual-key code and, if it corresponds to a character key, provides the character code equivalent (taking into account the state of the SHIFT and CAPS LOCK keys).</span></span> <span data-ttu-id="4f933-250">Anschließend wird eine Zeichenmeldung generiert, die den Zeichencode enthält, und die Nachricht wird am Anfang der Nachrichtenwarteschlange platziert.</span><span class="sxs-lookup"><span data-stu-id="4f933-250">It then generates a character message that includes the character code and places the message at the top of the message queue.</span></span> <span data-ttu-id="4f933-251">Bei der nächsten Iteration der Nachrichtenschleife wird die Zeichennachricht aus der Warteschlange entfernt und an die entsprechende Fensterprozedur gesendet.</span><span class="sxs-lookup"><span data-stu-id="4f933-251">The next iteration of the message loop removes the character message from the queue and dispatches the message to the appropriate window procedure.</span></span>

<span data-ttu-id="4f933-252">Dieser Abschnitt enthält die folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="4f933-252">This section covers the following topics:</span></span>

-   [<span data-ttu-id="4f933-253">Nichtsystemzeichenmeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-253">Nonsystem Character Messages</span></span>](#nonsystem-character-messages)
-   [<span data-ttu-id="4f933-254">Nachrichten mit ungefingenen Zeichen</span><span class="sxs-lookup"><span data-stu-id="4f933-254">Dead-Character Messages</span></span>](#dead-character-messages)

### <a name="nonsystem-character-messages"></a><span data-ttu-id="4f933-255">Nichtsystemzeichenmeldungen</span><span class="sxs-lookup"><span data-stu-id="4f933-255">Nonsystem Character Messages</span></span>

<span data-ttu-id="4f933-256">Eine Fensterprozedur kann die folgenden Zeichenmeldungen empfangen: [**WM \_ CHAR**](wm-char.md), [**WM \_ DEADCHAR**](wm-deadchar.md), [**WM \_ SYSCHAR**](/windows/desktop/menurc/wm-syschar), [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md)und [**WM \_ UNICHAR**](wm-unichar.md).</span><span class="sxs-lookup"><span data-stu-id="4f933-256">A window procedure can receive the following character messages: [**WM\_CHAR**](wm-char.md), [**WM\_DEADCHAR**](wm-deadchar.md), [**WM\_SYSCHAR**](/windows/desktop/menurc/wm-syschar), [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md), and [**WM\_UNICHAR**](wm-unichar.md).</span></span> <span data-ttu-id="4f933-257">Die [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) generiert eine **WM \_ CHAR-** oder **WM \_ DEADCHAR-Nachricht,** wenn sie eine [**WM \_ KEYDOWN-Nachricht**](wm-keydown.md) verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="4f933-257">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function generates a **WM\_CHAR** or **WM\_DEADCHAR** message when it processes a [**WM\_KEYDOWN**](wm-keydown.md) message.</span></span> <span data-ttu-id="4f933-258">Auf ähnliche Weise wird eine **WM \_ SYSCHAR-** oder **WM \_ SYSDEADCHAR-Meldung** generiert, wenn eine [**WM \_ SYSKEYDOWN-Nachricht verarbeitet**](wm-syskeydown.md) wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-258">Similarly, it generates a **WM\_SYSCHAR** or **WM\_SYSDEADCHAR** message when it processes a [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message.</span></span>

<span data-ttu-id="4f933-259">Eine Anwendung, die Tastatureingaben verarbeitet, ignoriert in der Regel alle [**WM \_ CHAR-**](wm-char.md) und [**WM \_ UNICHAR-Meldungen**](wm-unichar.md) und über gibt alle anderen Nachrichten an die [**DefWindowProc-Funktion**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) weiter.</span><span class="sxs-lookup"><span data-stu-id="4f933-259">An application that processes keyboard input typically ignores all but the [**WM\_CHAR**](wm-char.md) and [**WM\_UNICHAR**](wm-unichar.md) messages, passing any other messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="4f933-260">Beachten **Sie, dass WM \_ CHAR** das 16-Bit-Unicode-Transformationsformat (UTF) verwendet, während **WM \_ UNICHAR** UTF-32 verwendet.</span><span class="sxs-lookup"><span data-stu-id="4f933-260">Note that **WM\_CHAR** uses 16-bit Unicode Transformation Format (UTF) while **WM\_UNICHAR** uses UTF-32.</span></span> <span data-ttu-id="4f933-261">Das System verwendet die [**WM \_ SYSCHAR-**](/windows/desktop/menurc/wm-syschar) und [**WM \_ SYSDEADCHAR-Meldungen,**](wm-sysdeadchar.md) um Menü-Mnemonische Nachrichten zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-261">The system uses the [**WM\_SYSCHAR**](/windows/desktop/menurc/wm-syschar) and [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md) messages to implement menu mnemonics.</span></span>

<span data-ttu-id="4f933-262">Der **wParam-Parameter** aller Zeichenmeldungen enthält den Zeichencode der gedrückten Zeichentaste.</span><span class="sxs-lookup"><span data-stu-id="4f933-262">The **wParam** parameter of all character messages contains the character code of the character key that was pressed.</span></span> <span data-ttu-id="4f933-263">Der Wert des Zeichencodes hängt von der Fensterklasse des Fensters ab, das die Nachricht empfängt.</span><span class="sxs-lookup"><span data-stu-id="4f933-263">The value of the character code depends on the window class of the window receiving the message.</span></span> <span data-ttu-id="4f933-264">Wenn die Unicode-Version der [**RegisterClass-Funktion**](/windows/desktop/api/winuser/nf-winuser-registerclassa) verwendet wurde, um die Fensterklasse zu registrieren, stellt das System Unicode-Zeichen für alle Fenster dieser Klasse zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="4f933-264">If the Unicode version of the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function was used to register the window class, the system provides Unicode characters to all windows of that class.</span></span> <span data-ttu-id="4f933-265">Andernfalls stellt das System ASCII-Zeichencodes zur.</span><span class="sxs-lookup"><span data-stu-id="4f933-265">Otherwise, the system provides ASCII character codes.</span></span> <span data-ttu-id="4f933-266">Weitere Informationen finden Sie unter [Unicode und Zeichensätze.](/windows/desktop/Intl/unicode-and-character-sets)</span><span class="sxs-lookup"><span data-stu-id="4f933-266">For more information, see [Unicode and Character Sets](/windows/desktop/Intl/unicode-and-character-sets).</span></span>

<span data-ttu-id="4f933-267">Der Inhalt des **lParam-Parameters** einer Zeichenmeldung ist identisch mit dem Inhalt des **lParam-Parameters** der Key-Down-Nachricht, die übersetzt wurde, um die Zeichenmeldung zu erzeugen.</span><span class="sxs-lookup"><span data-stu-id="4f933-267">The contents of the **lParam** parameter of a character message are identical to the contents of the **lParam** parameter of the key-down message that was translated to produce the character message.</span></span> <span data-ttu-id="4f933-268">Weitere Informationen finden Sie unter [Keystroke Message Flags](#keystroke-message-flags).</span><span class="sxs-lookup"><span data-stu-id="4f933-268">For information, see [Keystroke Message Flags](#keystroke-message-flags).</span></span>

### <a name="dead-character-messages"></a><span data-ttu-id="4f933-269">Dead-Character Nachrichten</span><span class="sxs-lookup"><span data-stu-id="4f933-269">Dead-Character Messages</span></span>

<span data-ttu-id="4f933-270">Einige nicht englische Tastaturen enthalten Zeichentasten, von denen nicht erwartet wird, dass sie Zeichen selbst erzeugen.</span><span class="sxs-lookup"><span data-stu-id="4f933-270">Some non-English keyboards contain character keys that are not expected to produce characters by themselves.</span></span> <span data-ttu-id="4f933-271">Stattdessen werden sie verwendet, um dem Zeichen, das von der nachfolgenden Tastatureingabe erzeugt wird, ein diakritisches Zeichen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="4f933-271">Instead, they are used to add a diacritic to the character produced by the subsequent keystroke.</span></span> <span data-ttu-id="4f933-272">Diese Schlüssel werden als in dead *keys bezeichnet.*</span><span class="sxs-lookup"><span data-stu-id="4f933-272">These keys are called *dead keys*.</span></span> <span data-ttu-id="4f933-273">Die Beugetaste auf einer deutschen Tastatur ist ein Beispiel für einen unwegsamen Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="4f933-273">The circumflex key on a German keyboard is an example of a dead key.</span></span> <span data-ttu-id="4f933-274">Zum Eingeben des Zeichens, das aus einem "o" mit einem Beugeflex-Zeichen besteht, würde ein deutsches Benutzer den Beugflexschlüssel gefolgt von der Taste "o" eingeben.</span><span class="sxs-lookup"><span data-stu-id="4f933-274">To enter the character consisting of an "o" with a circumflex, a German user would type the circumflex key followed by the "o" key.</span></span> <span data-ttu-id="4f933-275">Das Fenster mit dem Tastaturfokus erhält die folgende Nachrichtensequenz:</span><span class="sxs-lookup"><span data-stu-id="4f933-275">The window with the keyboard focus would receive the following sequence of messages:</span></span>

1.  [<span data-ttu-id="4f933-276">**WM \_ KEYDOWN**</span><span class="sxs-lookup"><span data-stu-id="4f933-276">**WM\_KEYDOWN**</span></span>](wm-keydown.md)
2.  [<span data-ttu-id="4f933-277">**WM \_ DEADCHAR**</span><span class="sxs-lookup"><span data-stu-id="4f933-277">**WM\_DEADCHAR**</span></span>](wm-deadchar.md)
3.  [<span data-ttu-id="4f933-278">**WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="4f933-278">**WM\_KEYUP**</span></span>](wm-keyup.md)
4.  [<span data-ttu-id="4f933-279">**WM \_ KEYDOWN**</span><span class="sxs-lookup"><span data-stu-id="4f933-279">**WM\_KEYDOWN**</span></span>](wm-keydown.md)
5.  [<span data-ttu-id="4f933-280">**WM \_ CHAR**</span><span class="sxs-lookup"><span data-stu-id="4f933-280">**WM\_CHAR**</span></span>](wm-char.md)
6.  [<span data-ttu-id="4f933-281">**WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="4f933-281">**WM\_KEYUP**</span></span>](wm-keyup.md)

<span data-ttu-id="4f933-282">[**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) generiert die [**WM \_ DEADCHAR-Nachricht,**](wm-deadchar.md) wenn die [**WM \_ KEYDOWN-Nachricht**](wm-keydown.md) aus einem in dead key verarbeitet wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-282">[**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) generates the [**WM\_DEADCHAR**](wm-deadchar.md) message when it processes the [**WM\_KEYDOWN**](wm-keydown.md) message from a dead key.</span></span> <span data-ttu-id="4f933-283">Obwohl der *wParam-Parameter* der **WM \_ DEADCHAR-Nachricht** den Zeichencode des diakritischen für den in dead-Schlüssel enthält, ignoriert eine Anwendung die Nachricht in der Regel.</span><span class="sxs-lookup"><span data-stu-id="4f933-283">Although the *wParam* parameter of the **WM\_DEADCHAR** message contains the character code of the diacritic for the dead key, an application typically ignores the message.</span></span> <span data-ttu-id="4f933-284">Stattdessen wird die [**WM \_ CHAR-Nachricht**](wm-char.md) verarbeitet, die von der nachfolgenden Tastatureingabe generiert wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-284">Instead, it processes the [**WM\_CHAR**](wm-char.md) message generated by the subsequent keystroke.</span></span> <span data-ttu-id="4f933-285">Der *wParam-Parameter* der **WM \_ CHAR-Nachricht** enthält den Zeichencode des Buchstabens mit dem diakritischen Zeichen.</span><span class="sxs-lookup"><span data-stu-id="4f933-285">The *wParam* parameter of the **WM\_CHAR** message contains the character code of the letter with the diacritic.</span></span> <span data-ttu-id="4f933-286">Wenn die nachfolgende Tastatureingabe ein Zeichen generiert, das nicht mit einem diakritischen Zeichen kombiniert werden kann, generiert das System zwei **WM \_ CHAR-Meldungen.**</span><span class="sxs-lookup"><span data-stu-id="4f933-286">If the subsequent keystroke generates a character that cannot be combined with a diacritic, the system generates two **WM\_CHAR** messages.</span></span> <span data-ttu-id="4f933-287">Der *wParam-Parameter* des ersten enthält den Zeichencode des diakritischen - Der *wParam-Parameter* des zweiten enthält den Zeichencode des nachfolgenden Zeichenschlüssels.</span><span class="sxs-lookup"><span data-stu-id="4f933-287">The *wParam* parameter of the first contains the character code of the diacritic; the *wParam* parameter of the second contains the character code of the subsequent character key.</span></span>

<span data-ttu-id="4f933-288">Die [**TranslateMessage-Funktion**](/windows/desktop/api/winuser/nf-winuser-translatemessage) generiert die [**WM \_ SYSDEADCHAR-Nachricht,**](wm-sysdeadchar.md) wenn sie die [**WM \_ SYSKEYDOWN-Nachricht**](wm-syskeydown.md) aus einem in dead-Systemschlüssel verarbeitet (eine in dead-Taste, die in Kombination mit der ALT-Taste gedrückt wird).</span><span class="sxs-lookup"><span data-stu-id="4f933-288">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function generates the [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md) message when it processes the [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message from a system dead key (a dead key that is pressed in combination with the ALT key).</span></span> <span data-ttu-id="4f933-289">Eine Anwendung ignoriert in der Regel die **WM \_ SYSDEADCHAR-Meldung.**</span><span class="sxs-lookup"><span data-stu-id="4f933-289">An application typically ignores the **WM\_SYSDEADCHAR** message.</span></span>

## <a name="key-status"></a><span data-ttu-id="4f933-290">Schlüsselstatus</span><span class="sxs-lookup"><span data-stu-id="4f933-290">Key Status</span></span>

<span data-ttu-id="4f933-291">Während der Verarbeitung einer Tastaturmeldung muss eine Anwendung möglicherweise den Status einer anderen Taste als der, die die aktuelle Meldung generiert hat, bestimmen.</span><span class="sxs-lookup"><span data-stu-id="4f933-291">While processing a keyboard message, an application may need to determine the status of another key besides the one that generated the current message.</span></span> <span data-ttu-id="4f933-292">Beispielsweise muss eine Textverarbeitungsanwendung, die es dem Benutzer ermöglicht, UMSCHALT+END zu drücken, um einen Textblock auszuwählen, den Status der UMSCHALTTASTE überprüfen, wenn er eine Tastatureingabenachricht von der END-Taste empfängt.</span><span class="sxs-lookup"><span data-stu-id="4f933-292">For example, a word-processing application that allows the user to press SHIFT+END to select a block of text must check the status of the SHIFT key whenever it receives a keystroke message from the END key.</span></span> <span data-ttu-id="4f933-293">Die Anwendung kann die [**GetKeyState-Funktion**](/windows/win32/api/winuser/nf-winuser-getkeystate) verwenden, um den Status eines virtuellen Schlüssels zu dem Zeitpunkt zu bestimmen, zu dem die aktuelle Nachricht generiert wurde. Sie kann die [**GetAsyncKeyState-Funktion verwenden,**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) um den aktuellen Status eines virtuellen Schlüssels abzurufen.</span><span class="sxs-lookup"><span data-stu-id="4f933-293">The application can use the [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) function to determine the status of a virtual key at the time the current message was generated; it can use the [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) function to retrieve the current status of a virtual key.</span></span>

<span data-ttu-id="4f933-294">Das Tastaturlayout verwaltet eine Liste von Namen.</span><span class="sxs-lookup"><span data-stu-id="4f933-294">The keyboard layout maintains a list of names.</span></span> <span data-ttu-id="4f933-295">Der Name eines Schlüssels, der ein einzelnes Zeichen erzeugt, ist mit dem vom Schlüssel erzeugten Zeichen identisch.</span><span class="sxs-lookup"><span data-stu-id="4f933-295">The name of a key that produces a single character is the same as the character produced by the key.</span></span> <span data-ttu-id="4f933-296">Der Name eines Nichtzeichenschlüssels wie TAB und ENTER wird als Zeichenfolge gespeichert.</span><span class="sxs-lookup"><span data-stu-id="4f933-296">The name of a noncharacter key such as TAB and ENTER is stored as a character string.</span></span> <span data-ttu-id="4f933-297">Eine Anwendung kann den Namen eines beliebigen Schlüssels aus dem Gerätetreiber abrufen, indem sie die [**GetKeyNameText-Funktion**](/windows/win32/api/winuser/nf-winuser-getkeynametexta) aufruft.</span><span class="sxs-lookup"><span data-stu-id="4f933-297">An application can retrieve the name of any key from the device driver by calling the [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta) function.</span></span>

## <a name="keystroke-and-character-translations"></a><span data-ttu-id="4f933-298">Tastaturanschläge und Zeichenübersetzungen</span><span class="sxs-lookup"><span data-stu-id="4f933-298">Keystroke and Character Translations</span></span>

<span data-ttu-id="4f933-299">Das System umfasst mehrere spezielle Funktionen, die Scancodes, Zeichencodes und Codes für virtuelle Schlüssel übersetzen, die von verschiedenen Tastatureingabenachrichten bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-299">The system includes several special purpose functions that translate scan codes, character codes, and virtual-key codes provided by various keystroke messages.</span></span> <span data-ttu-id="4f933-300">Zu diesen Funktionen [**gehören MapVirtualKey,**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya) [**ToAscii,**](/windows/win32/api/winuser/nf-winuser-toascii) [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode)und [**VkKeyScan.**](/windows/win32/api/winuser/nf-winuser-vkkeyscana)</span><span class="sxs-lookup"><span data-stu-id="4f933-300">These functions include [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya), [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii), [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode), and [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana).</span></span>

<span data-ttu-id="4f933-301">Darüber hinaus unterstützt Microsoft Rich Edit 3.0 [den HexToUnicode-IME,](/windows/desktop/Intl/hextounicode-ime)der es einem Benutzer ermöglicht, mithilfe von Hot-Schlüsseln zwischen Hexadezimal- und Unicode-Zeichen zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-301">In addition, Microsoft Rich Edit 3.0 supports the [HexToUnicode IME](/windows/desktop/Intl/hextounicode-ime), which allows a user to convert between hexadecimal and Unicode characters by using hot keys.</span></span> <span data-ttu-id="4f933-302">Dies bedeutet, dass die Anwendung die Features des HexToUnicode-IME erbt, wenn Microsoft Rich Edit 3.0 in eine Anwendung integriert wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-302">This means that when Microsoft Rich Edit 3.0 is incorporated into an application, the application will inherit the features of the HexToUnicode IME.</span></span>

## <a name="hot-key-support"></a><span data-ttu-id="4f933-303">Hot-Key Support</span><span class="sxs-lookup"><span data-stu-id="4f933-303">Hot-Key Support</span></span>

<span data-ttu-id="4f933-304">Ein *heißer* Schlüssel ist eine Schlüsselkombination, die eine [**WM \_ HOTKEY-Nachricht**](wm-hotkey.md) generiert. Dabei handelt es sich um eine Nachricht, die das System am Anfang der Nachrichtenwarteschlange eines Threads platziert und alle vorhandenen Nachrichten in der Warteschlange umgeht.</span><span class="sxs-lookup"><span data-stu-id="4f933-304">A *hot key* is a key combination that generates a [**WM\_HOTKEY**](wm-hotkey.md) message, a message the system places at the top of a thread's message queue, bypassing any existing messages in the queue.</span></span> <span data-ttu-id="4f933-305">Anwendungen verwenden Hot-Tasten, um Tastatureingaben mit hoher Priorität vom Benutzer zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="4f933-305">Applications use hot keys to obtain high-priority keyboard input from the user.</span></span> <span data-ttu-id="4f933-306">Wenn Sie beispielsweise eine hot-Taste definieren, die aus der Tastenkombination STRG+C besteht, kann eine Anwendung dem Benutzer ermöglichen, einen längeren Vorgang abzubricht.</span><span class="sxs-lookup"><span data-stu-id="4f933-306">For example, by defining a hot key consisting of the CTRL+C key combination, an application can allow the user to cancel a lengthy operation.</span></span>

<span data-ttu-id="4f933-307">Um einen hot-Schlüssel zu definieren, ruft eine Anwendung die [**RegisterHotKey-Funktion**](/windows/win32/api/winuser/nf-winuser-registerhotkey) auf und gibt die Kombination der Schlüssel, die die [**WM \_ HOTKEY-Nachricht**](wm-hotkey.md) generiert, das Handle für das Fenster zum Empfangen der Nachricht und den Bezeichner des heißen Schlüssels an.</span><span class="sxs-lookup"><span data-stu-id="4f933-307">To define a hot key, an application calls the [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) function, specifying the combination of keys that generates the [**WM\_HOTKEY**](wm-hotkey.md) message, the handle to the window to receive the message, and the identifier of the hot key.</span></span> <span data-ttu-id="4f933-308">Wenn der Benutzer die heiße Taste drückt, wird eine **WM \_ HOTKEY-Nachricht** in der Nachrichtenwarteschlange des Threads platziert, der das Fenster erstellt hat.</span><span class="sxs-lookup"><span data-stu-id="4f933-308">When the user presses the hot key, a **WM\_HOTKEY** message is placed in the message queue of the thread that created the window.</span></span> <span data-ttu-id="4f933-309">Der *wParam-Parameter* der Nachricht enthält den Bezeichner des heißen Schlüssels.</span><span class="sxs-lookup"><span data-stu-id="4f933-309">The *wParam* parameter of the message contains the identifier of the hot key.</span></span> <span data-ttu-id="4f933-310">Die Anwendung kann mehrere hot-Schlüssel für einen Thread definieren, aber jeder hot-Schlüssel im Thread muss einen eindeutigen Bezeichner haben.</span><span class="sxs-lookup"><span data-stu-id="4f933-310">The application can define multiple hot keys for a thread, but each hot key in the thread must have a unique identifier.</span></span> <span data-ttu-id="4f933-311">Bevor die Anwendung beendet wird, sollte sie die [**UnregisterHotKey-Funktion**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) verwenden, um den heißen Schlüssel zu zerstören.</span><span class="sxs-lookup"><span data-stu-id="4f933-311">Before the application terminates, it should use the [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) function to destroy the hot key.</span></span>

<span data-ttu-id="4f933-312">Anwendungen können ein Hot Key-Steuerelement verwenden, um dem Benutzer die Auswahl eines hot-Schlüssels zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="4f933-312">Applications can use a hot key control to make it easy for the user to choose a hot key.</span></span> <span data-ttu-id="4f933-313">Hot Key-Steuerelemente werden in der Regel verwendet, um einen hot-Schlüssel zu definieren, der ein Fenster aktiviert. Sie verwenden nicht die [**Funktionen RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) [**und UnregisterHotKey.**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey)</span><span class="sxs-lookup"><span data-stu-id="4f933-313">Hot key controls are typically used to define a hot key that activates a window; they do not use the [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) and [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) functions.</span></span> <span data-ttu-id="4f933-314">Stattdessen sendet eine Anwendung, die ein Hot Key-Steuerelement verwendet, in der Regel die [**WM \_ SETHOTKEY-Nachricht,**](wm-sethotkey.md) um den heißen Schlüssel fest zu legen.</span><span class="sxs-lookup"><span data-stu-id="4f933-314">Instead, an application that uses a hot key control typically sends the [**WM\_SETHOTKEY**](wm-sethotkey.md) message to set the hot key.</span></span> <span data-ttu-id="4f933-315">Wenn der Benutzer die hot-Taste drückt, sendet das System eine [**WM \_ SYSCOMMAND-Nachricht,**](/windows/desktop/menurc/wm-syscommand) in der SC \_ HOTKEY angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-315">Whenever the user presses the hot key, the system sends a [**WM\_SYSCOMMAND**](/windows/desktop/menurc/wm-syscommand) message specifying SC\_HOTKEY.</span></span> <span data-ttu-id="4f933-316">Weitere Informationen zu Hot Key-Steuerelementen finden Sie unter "Verwenden von Hot Key-Steuerelementen" unter [Hot Key-Steuerelemente](../controls/hot-key-controls.md).</span><span class="sxs-lookup"><span data-stu-id="4f933-316">For more information about hot key controls, see "Using Hot Key Controls" in [Hot Key Controls](../controls/hot-key-controls.md).</span></span>

## <a name="keyboard-keys-for-browsing-and-other-functions"></a><span data-ttu-id="4f933-317">Tastaturtasten für Das Durchsuchen und andere Funktionen</span><span class="sxs-lookup"><span data-stu-id="4f933-317">Keyboard Keys for Browsing and Other Functions</span></span>

<span data-ttu-id="4f933-318">Windows bietet Unterstützung für Tastaturen mit speziellen Tasten für Browserfunktionen, Medienfunktionen, Anwendungsstart und Energieverwaltung.</span><span class="sxs-lookup"><span data-stu-id="4f933-318">Windows provides support for keyboards with special keys for browser functions, media functions, application launching, and power management.</span></span> <span data-ttu-id="4f933-319">WM [**\_ APPCOMMAND unterstützt**](wm-appcommand.md) die zusätzlichen Tastaturtasten.</span><span class="sxs-lookup"><span data-stu-id="4f933-319">The [**WM\_APPCOMMAND**](wm-appcommand.md) supports the extra keyboard keys.</span></span> <span data-ttu-id="4f933-320">Darüber hinaus wird die [**ShellProc-Funktion**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85)) geändert, um die zusätzlichen Tastaturtasten zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="4f933-320">In addition, the [**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85)) function is modified to support the extra keyboard keys.</span></span>

<span data-ttu-id="4f933-321">Es ist unwahrscheinlich, dass ein untergeordnetes Fenster in einer Komponentenanwendung Befehle für diese zusätzlichen Tastaturtasten direkt implementieren kann.</span><span class="sxs-lookup"><span data-stu-id="4f933-321">It is unlikely that a child window in a component application will be able to directly implement commands for these extra keyboard keys.</span></span> <span data-ttu-id="4f933-322">Wenn also eine dieser Tasten gedrückt wird, sendet [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) eine [**WM \_ APPCOMMAND-Nachricht**](wm-appcommand.md) an ein Fenster.</span><span class="sxs-lookup"><span data-stu-id="4f933-322">So when one of these keys is pressed, [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) will send a [**WM\_APPCOMMAND**](wm-appcommand.md) message to a window.</span></span> <span data-ttu-id="4f933-323">**DefWindowProc überlädt** auch die **WM \_ APPCOMMAND-Nachricht** im übergeordneten Fenster.</span><span class="sxs-lookup"><span data-stu-id="4f933-323">**DefWindowProc** will also bubble the **WM\_APPCOMMAND** message to its parent window.</span></span> <span data-ttu-id="4f933-324">Dies ähnelt der Art und Weise, wie Kontextmenüs mit der rechten Maustaste aufgerufen werden. **DefWindowProc** sendet eine [**WM \_ CONTEXTMENU-Nachricht**](/windows/desktop/menurc/wm-contextmenu) bei einem Rechtsklick und überlädt sie dem übergeordneten Element.</span><span class="sxs-lookup"><span data-stu-id="4f933-324">This is similar to the way context menus are invoked with the right mouse button, which is that **DefWindowProc** sends a [**WM\_CONTEXTMENU**](/windows/desktop/menurc/wm-contextmenu) message on a right button click, and bubbles it to its parent.</span></span> <span data-ttu-id="4f933-325">Wenn **DefWindowProc** außerdem eine **WM \_ APPCOMMAND-Nachricht** für ein Fenster der obersten Ebene empfängt, wird ein Shellhook mit dem Code **HSHELL \_ APPCOMMAND aufrufen.**</span><span class="sxs-lookup"><span data-stu-id="4f933-325">Additionally, if **DefWindowProc** receives a **WM\_APPCOMMAND** message for a top-level window, it will call a shell hook with code **HSHELL\_APPCOMMAND**.</span></span>

<span data-ttu-id="4f933-326">Windows unterstützt auch den Microsoft IntelliMouse-Explorer, bei dem es sich um eine Maus mit fünf Schaltflächen handelt.</span><span class="sxs-lookup"><span data-stu-id="4f933-326">Windows also supports the Microsoft IntelliMouse Explorer, which is a mouse with five buttons.</span></span> <span data-ttu-id="4f933-327">Die beiden zusätzlichen Schaltflächen unterstützen die Navigation im Vorwärts- und Rückwärtsbrowser.</span><span class="sxs-lookup"><span data-stu-id="4f933-327">The two extra buttons support forward and backward browser navigation.</span></span> <span data-ttu-id="4f933-328">Weitere Informationen finden Sie unter [XBUTTONs](about-mouse-input.md).</span><span class="sxs-lookup"><span data-stu-id="4f933-328">For more information, see [XBUTTONs](about-mouse-input.md).</span></span>

## <a name="simulating-input"></a><span data-ttu-id="4f933-329">Simulieren von Eingaben</span><span class="sxs-lookup"><span data-stu-id="4f933-329">Simulating Input</span></span>

<span data-ttu-id="4f933-330">Verwenden Sie die SendInput-Funktion, um eine ununterbrochene Reihe von [**Benutzereingabeereignissen zu**](/windows/win32/api/winuser/nf-winuser-sendinput) simulieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-330">To simulate an uninterrupted series of user input events, use the [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function.</span></span> <span data-ttu-id="4f933-331">Die Funktion akzeptiert drei Parameter.</span><span class="sxs-lookup"><span data-stu-id="4f933-331">The function accepts three parameters.</span></span> <span data-ttu-id="4f933-332">Der erste Parameter, *cInputs,* gibt die Anzahl der Eingabeereignisse an, die simuliert werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-332">The first parameter, *cInputs*, indicates the number of input events that will be simulated.</span></span> <span data-ttu-id="4f933-333">Der zweite Parameter, *rgInputs,* ist ein Array von [**INPUT-Strukturen,**](/windows/win32/api/winuser/ns-winuser-input) die jeweils einen Typ von Eingabeereignis und zusätzliche Informationen zu diesem Ereignis beschreiben.</span><span class="sxs-lookup"><span data-stu-id="4f933-333">The second parameter, *rgInputs*, is an array of [**INPUT**](/windows/win32/api/winuser/ns-winuser-input) structures, each describing a type of input event and additional information about that event.</span></span> <span data-ttu-id="4f933-334">Der letzte Parameter *cbSize* akzeptiert die Größe der **INPUT-Struktur** in Bytes.</span><span class="sxs-lookup"><span data-stu-id="4f933-334">The last parameter, *cbSize*, accepts the size of the **INPUT** structure, in bytes.</span></span>

<span data-ttu-id="4f933-335">Die [**SendInput-Funktion**](/windows/win32/api/winuser/nf-winuser-sendinput) fügt eine Reihe simulierter Eingabeereignisse in den Eingabestream eines Geräts ein.</span><span class="sxs-lookup"><span data-stu-id="4f933-335">The [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function works by injecting a series of simulated input events into a device's input stream.</span></span> <span data-ttu-id="4f933-336">Der Effekt ähnelt dem wiederholten Aufrufen [**\_**](/windows/win32/api/winuser/nf-winuser-mouse_event) des [**keybd-Ereignisses \_**](/windows/win32/api/winuser/nf-winuser-keybd_event) oder der Mausereignisfunktion, außer dass das System sicherstellt, dass sich keine anderen Eingabeereignisse mit den simulierten Ereignissen ineinander vermischen.</span><span class="sxs-lookup"><span data-stu-id="4f933-336">The effect is similar to calling the [**keybd\_event**](/windows/win32/api/winuser/nf-winuser-keybd_event) or [**mouse\_event**](/windows/win32/api/winuser/nf-winuser-mouse_event) function repeatedly, except that the system ensures that no other input events intermingle with the simulated events.</span></span> <span data-ttu-id="4f933-337">Nach Abschluss des Aufrufs gibt der Rückgabewert die Anzahl der erfolgreich abgespielten Eingabeereignisse an.</span><span class="sxs-lookup"><span data-stu-id="4f933-337">When the call completes, the return value indicates the number of input events successfully played.</span></span> <span data-ttu-id="4f933-338">Wenn dieser Wert 0 (null) ist, wurde die Eingabe blockiert.</span><span class="sxs-lookup"><span data-stu-id="4f933-338">If this value is zero, then input was blocked.</span></span>

<span data-ttu-id="4f933-339">Die [**SendInput-Funktion**](/windows/win32/api/winuser/nf-winuser-sendinput) setzt den aktuellen Zustand der Tastatur nicht zurück.</span><span class="sxs-lookup"><span data-stu-id="4f933-339">The [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function does not reset the keyboard's current state.</span></span> <span data-ttu-id="4f933-340">Wenn der Benutzer beim Aufrufen dieser Funktion tastend gedrückt wird, kann er daher die Von dieser Funktion generierten Ereignisse beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="4f933-340">Therefore, if the user has any keys pressed when you call this function, they might interfere with the events that this function generates.</span></span> <span data-ttu-id="4f933-341">Wenn Sie Bedenken über mögliche Störungen haben, überprüfen Sie den Zustand der Tastatur mit der [**GetAsyncKeyState-Funktion,**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) und korrigieren Sie sie nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="4f933-341">If you are concerned about possible interference, check the keyboard's state with the [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) function and correct as necessary.</span></span>

## <a name="languages-locales-and-keyboard-layouts"></a><span data-ttu-id="4f933-342">Sprachen, Locales und Tastaturlayouts</span><span class="sxs-lookup"><span data-stu-id="4f933-342">Languages, Locales, and Keyboard Layouts</span></span>

<span data-ttu-id="4f933-343">Eine *Sprache* ist eine natürliche Sprache, z. B. Englisch, Französisch und Japanisch.</span><span class="sxs-lookup"><span data-stu-id="4f933-343">A *language* is a natural language, such as English, French, and Japanese.</span></span> <span data-ttu-id="4f933-344">Eine *Untersprache* ist eine Variante einer natürlichen Sprache, die in einer bestimmten geografischen Region gesprochen wird, z. B. den englischen Untersprachen, die im Vereinigten Königreich gesprochen werden, und USA.</span><span class="sxs-lookup"><span data-stu-id="4f933-344">A *sublanguage* is a variant of a natural language that is spoken in a specific geographical region, such as the English sublanguages spoken in the United Kingdom and the United States.</span></span> <span data-ttu-id="4f933-345">Anwendungen verwenden Werte, die als [Sprachbezeichner bezeichnet werden,](/windows/desktop/Intl/language-identifiers)um Sprachen und Untersprachen eindeutig zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-345">Applications use values, called [language identifiers](/windows/desktop/Intl/language-identifiers), to uniquely identify languages and sublanguages.</span></span>

<span data-ttu-id="4f933-346">Anwendungen verwenden in der *Regel Locales* zum Festlegen der Sprache, in der Eingabe und Ausgabe verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-346">Applications typically use *locales* to set the language in which input and output is processed.</span></span> <span data-ttu-id="4f933-347">Das Festlegen des Locale für die Tastatur wirkt sich z. B. auf die Zeichenwerte aus, die von der Tastatur generiert werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-347">Setting the locale for the keyboard, for example, affects the character values generated by the keyboard.</span></span> <span data-ttu-id="4f933-348">Das Festlegen des Locale für die Anzeige oder den Drucker wirkt sich auf die angezeigten oder gedruckten Glyphen aus.</span><span class="sxs-lookup"><span data-stu-id="4f933-348">Setting the locale for the display or printer affects the glyphs displayed or printed.</span></span> <span data-ttu-id="4f933-349">Anwendungen legen das Locale für eine Tastatur fest, indem sie Tastaturlayouts laden und verwenden.</span><span class="sxs-lookup"><span data-stu-id="4f933-349">Applications set the locale for a keyboard by loading and using keyboard layouts.</span></span> <span data-ttu-id="4f933-350">Sie legen das Locale für eine Anzeige oder einen Drucker fest, indem sie eine Schriftart auswählen, die das angegebene Locale unterstützt.</span><span class="sxs-lookup"><span data-stu-id="4f933-350">They set the locale for a display or printer by selecting a font that supports the specified locale.</span></span>

<span data-ttu-id="4f933-351">Ein Tastaturlayout gibt nicht nur die physische Position der Tasten auf der Tastatur an, sondern bestimmt auch die Zeichenwerte, die durch Drücken dieser Tasten generiert werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-351">A keyboard layout not only specifies the physical position of the keys on the keyboard but also determines the character values generated by pressing those keys.</span></span> <span data-ttu-id="4f933-352">Jedes Layout identifiziert die aktuelle Eingabesprache und bestimmt, welche Zeichenwerte von welchen Schlüsseln und Tastenkombinationen generiert werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-352">Each layout identifies the current input language and determines which character values are generated by which keys and key combinations.</span></span>

<span data-ttu-id="4f933-353">Jedes Tastaturlayout verfügt über ein entsprechendes Handle, das das Layout und die Sprache identifiziert.</span><span class="sxs-lookup"><span data-stu-id="4f933-353">Every keyboard layout has a corresponding handle that identifies the layout and language.</span></span> <span data-ttu-id="4f933-354">Das niedrige Wort des Handles ist ein Sprachbezeichner.</span><span class="sxs-lookup"><span data-stu-id="4f933-354">The low word of the handle is a language identifier.</span></span> <span data-ttu-id="4f933-355">Das hohe Wort ist ein Gerätehand handle, das das physische Layout angibt, oder ist 0 (null), was ein physisches Standardlayout angibt.</span><span class="sxs-lookup"><span data-stu-id="4f933-355">The high word is a device handle, specifying the physical layout, or is zero, indicating a default physical layout.</span></span> <span data-ttu-id="4f933-356">Der Benutzer kann jede Eingabesprache einem physischen Layout zuordnen.</span><span class="sxs-lookup"><span data-stu-id="4f933-356">The user can associate any input language with a physical layout.</span></span> <span data-ttu-id="4f933-357">Beispielsweise kann ein englischsprachiger Benutzer, der gelegentlich in Französisch arbeitet, die Eingabesprache der Tastatur auf Französisch festlegen, ohne das physische Layout der Tastatur zu ändern.</span><span class="sxs-lookup"><span data-stu-id="4f933-357">For example, an English-speaking user who very occasionally works in French can set the input language of the keyboard to French without changing the physical layout of the keyboard.</span></span> <span data-ttu-id="4f933-358">Dies bedeutet, dass der Benutzer Text in Französisch mithilfe des vertrauten englischen Layouts eingeben kann.</span><span class="sxs-lookup"><span data-stu-id="4f933-358">This means the user can enter text in French using the familiar English layout.</span></span>

<span data-ttu-id="4f933-359">Es wird in der Regel nicht erwartet, dass Anwendungen Eingabesprachen direkt bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="4f933-359">Applications are generally not expected to manipulate input languages directly.</span></span> <span data-ttu-id="4f933-360">Stattdessen richtet der Benutzer Sprach- und Layoutkombinationen ein und wechselt dann zwischen diesen.</span><span class="sxs-lookup"><span data-stu-id="4f933-360">Instead, the user sets up language and layout combinations, then switches among them.</span></span> <span data-ttu-id="4f933-361">Wenn der Benutzer auf Text klickt, der mit einer anderen Sprache markiert ist, ruft die Anwendung die [**ActivateKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) auf, um das Standardlayout des Benutzers für diese Sprache zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="4f933-361">When the user clicks into text marked with a different language, the application calls the [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) function to activate the user's default layout for that language.</span></span> <span data-ttu-id="4f933-362">Wenn der Benutzer Text in einer Sprache bearbeitet, die nicht in der aktiven Liste enthalten ist, kann die Anwendung die [**LoadKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) mit der Sprache aufrufen, um ein Layout basierend auf dieser Sprache zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="4f933-362">If the user edits text in a language which is not in the active list, the application can call the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function with the language to get a layout based on that language.</span></span>

<span data-ttu-id="4f933-363">Die [**ActivateKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) legt die Eingabesprache für die aktuelle Aufgabe fest.</span><span class="sxs-lookup"><span data-stu-id="4f933-363">The [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) function sets the input language for the current task.</span></span> <span data-ttu-id="4f933-364">Der *hkl-Parameter* kann entweder das Handle für das Tastaturlayout oder ein bezeichner mit einer erweiterten Sprache (0) sein.</span><span class="sxs-lookup"><span data-stu-id="4f933-364">The *hkl* parameter can be either the handle to the keyboard layout or a zero-extended language identifier.</span></span> <span data-ttu-id="4f933-365">Tastaturlayouthandles können über die [**Funktion LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) oder [**GetKeyboardLayoutList ermittelt**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist) werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-365">Keyboard layout handles can be obtained from the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) or [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist) function.</span></span> <span data-ttu-id="4f933-366">Die **Werte HKL \_ NEXT** und **HKL \_ PREV** können auch verwendet werden, um die nächste oder vorherige Tastatur auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="4f933-366">The **HKL\_NEXT** and **HKL\_PREV** values can also be used to select the next or previous keyboard.</span></span>

<span data-ttu-id="4f933-367">Die [**GetKeyboardLayoutName-Funktion**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea) ruft den Namen des aktiven Tastaturlayouts für den aufrufenden Thread ab.</span><span class="sxs-lookup"><span data-stu-id="4f933-367">The [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea) function retrieves the name of the active keyboard layout for the calling thread.</span></span> <span data-ttu-id="4f933-368">Wenn eine Anwendung das aktive Layout mithilfe der [**LoadKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) erstellt, ruft **GetKeyboardLayoutName** dieselbe Zeichenfolge ab, die zum Erstellen des Layouts verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="4f933-368">If an application creates the active layout using the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function, **GetKeyboardLayoutName** retrieves the same string used to create the layout.</span></span> <span data-ttu-id="4f933-369">Andernfalls ist die Zeichenfolge der Bezeichner der primären Sprache, der dem Locale des aktiven Layouts entspricht.</span><span class="sxs-lookup"><span data-stu-id="4f933-369">Otherwise, the string is the primary language identifier corresponding to the locale of the active layout.</span></span> <span data-ttu-id="4f933-370">Dies bedeutet, dass die Funktion möglicherweise nicht notwendigerweise zwischen verschiedenen Layouts mit der gleichen primären Sprache unterscheidet und daher keine spezifischen Informationen zur Eingabesprache zurückgeben kann.</span><span class="sxs-lookup"><span data-stu-id="4f933-370">This means the function may not necessarily differentiate among different layouts with the same primary language, so cannot return specific information about the input language.</span></span> <span data-ttu-id="4f933-371">Die [**GetKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout) kann jedoch verwendet werden, um die Eingabesprache zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="4f933-371">The [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout) function, however, can be used to determine the input language.</span></span>

<span data-ttu-id="4f933-372">Die [**LoadKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) lädt ein Tastaturlayout und macht das Layout für den Benutzer verfügbar.</span><span class="sxs-lookup"><span data-stu-id="4f933-372">The [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function loads a keyboard layout and makes the layout available to the user.</span></span> <span data-ttu-id="4f933-373">Anwendungen können das Layout für den aktuellen Thread sofort aktiv machen, indem sie den **KLF \_ ACTIVATE-Wert** verwenden.</span><span class="sxs-lookup"><span data-stu-id="4f933-373">Applications can make the layout immediately active for the current thread by using the **KLF\_ACTIVATE** value.</span></span> <span data-ttu-id="4f933-374">Eine Anwendung kann den **KLF \_ REORDER-Wert** verwenden, um die Layouts neu zu anordnen, ohne auch den **KLF \_ ACTIVATE-Wert anzugeben.**</span><span class="sxs-lookup"><span data-stu-id="4f933-374">An application can use the **KLF\_REORDER** value to reorder the layouts without also specifying the **KLF\_ACTIVATE** value.</span></span> <span data-ttu-id="4f933-375">Anwendungen sollten beim Laden von Tastaturlayouts immer den **KLF \_ SUBSTITUTE \_ OK-Wert** verwenden, um sicherzustellen, dass die Einstellung des Benutzers ausgewählt ist( falls dies der Fall ist).</span><span class="sxs-lookup"><span data-stu-id="4f933-375">Applications should always use the **KLF\_SUBSTITUTE\_OK** value when loading keyboard layouts to ensure that the user's preference, if any, is selected.</span></span>

<span data-ttu-id="4f933-376">Zur Unterstützung mehrsprachiger Inhalte stellt [**die LoadKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) die **FLAGs KLF \_ REPLACELANG** und **KLF \_ NOTELLSHELL** zur Verwendung.</span><span class="sxs-lookup"><span data-stu-id="4f933-376">For multilingual support, the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function provides the **KLF\_REPLACELANG** and **KLF\_NOTELLSHELL** flags.</span></span> <span data-ttu-id="4f933-377">Das **KLF \_ REPLACELANG-Flag** leitet die Funktion an, ein vorhandenes Tastaturlayout zu ersetzen, ohne die Sprache zu ändern.</span><span class="sxs-lookup"><span data-stu-id="4f933-377">The **KLF\_REPLACELANG** flag directs the function to replace an existing keyboard layout without changing the language.</span></span> <span data-ttu-id="4f933-378">Der Versuch, ein vorhandenes Layout mit demselben Sprachbezeichner zu ersetzen, aber ohne **KLF \_ REPLACELANG** anzugeben, ist ein Fehler.</span><span class="sxs-lookup"><span data-stu-id="4f933-378">Attempting to replace an existing layout using the same language identifier but without specifying **KLF\_REPLACELANG** is an error.</span></span> <span data-ttu-id="4f933-379">Das **KLF \_ NOTELLSHELL-Flag** verhindert, dass die Funktion die Shell benachrichtigt, wenn ein Tastaturlayout hinzugefügt oder ersetzt wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-379">The **KLF\_NOTELLSHELL** flag prevents the function from notifying the shell when a keyboard layout is added or replaced.</span></span> <span data-ttu-id="4f933-380">Dies ist nützlich für Anwendungen, die mehrere Layouts in einer aufeinanderfolgenden Reihe von Aufrufen hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="4f933-380">This is useful for applications that add multiple layouts in a consecutive series of calls.</span></span> <span data-ttu-id="4f933-381">Dieses Flag sollte bis auf den letzten Aufruf verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="4f933-381">This flag should be used in all but the last call.</span></span>

<span data-ttu-id="4f933-382">Die [**UnloadKeyboardLayout-Funktion**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout) ist darauf beschränkt, dass sie die Standardeingabesprache des Systems nicht entladen kann.</span><span class="sxs-lookup"><span data-stu-id="4f933-382">The [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout) function is restricted in that it cannot unload the system default input language.</span></span> <span data-ttu-id="4f933-383">Dadurch wird sichergestellt, dass dem Benutzer immer ein Layout für die Eingabe von Text mit demselben Zeichensatz zur Verfügung steht, der von der Shell und dem Dateisystem verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="4f933-383">This ensures that the user always has one layout available for enter text using the same character set as used by the shell and file system.</span></span>

 

 
