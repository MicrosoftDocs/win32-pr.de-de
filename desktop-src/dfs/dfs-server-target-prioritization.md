---
title: Priorisierung des DFS-Server Ziels
description: Die Priorisierung des DFS-Server Ziels ist ein Feature, das in Microsoft Windows Server 2003 mit Service Pack 1 (SP1) und späteren Betriebssystemen verfügbar ist.
ms.assetid: 0aacebf7-49cc-4287-a5c4-0d25a416d227
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3e784a540a67f624ca5b8075009cd862c6063427
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "104214278"
---
# <a name="dfs-server-target-prioritization"></a><span data-ttu-id="11d73-103">Priorisierung des DFS-Server Ziels</span><span class="sxs-lookup"><span data-stu-id="11d73-103">DFS Server Target Prioritization</span></span>

<span data-ttu-id="11d73-104">Die Priorisierung des DFS-Server Ziels ist ein Feature, das in Microsoft Windows Server 2003 mit Service Pack 1 (SP1) und späteren Betriebssystemen verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="11d73-104">DFS Server Target Prioritization is a feature available in Microsoft Windows Server 2003 with Service Pack 1 (SP1) and later operating systems.</span></span> <span data-ttu-id="11d73-105">Mit diesem Feature können DFS-Server die verfügbaren Active Directory Standortkosten Informationen nutzen, um die Ziele in den Client verweisen zu priorisieren.</span><span class="sxs-lookup"><span data-stu-id="11d73-105">This feature enables DFS servers to take advantage of available Active Directory site-cost information to prioritize the targets in client referrals.</span></span>

<span data-ttu-id="11d73-106">Vor Windows Server 2003 mit SP1 wurden Ziele in zwei Gruppen unterteilt: eine Gruppe, die alle Ziele an demselben Standort wie der Client enthält. und eine weitere Gruppe für alle anderen Ziele.</span><span class="sxs-lookup"><span data-stu-id="11d73-106">Before Windows Server 2003 with SP1, targets were grouped into two sets: one group for containing all targets in the same site as the client; and another group for all other targets.</span></span> <span data-ttu-id="11d73-107">Die Ziele, die dieselbe Website wie der Client gemeinsam nutzen, werden als "in-Site" bezeichnet, und wenn Standortkosten aktiviert ist, wird Ihnen ein spezifischer Kosten Wert in Relation zum Gesamt Standort zugewiesen, wobei niedrigere Standortkosten als höher bevorzugt werden.</span><span class="sxs-lookup"><span data-stu-id="11d73-107">Those targets sharing the same site as the client are called "in-site", and if site-costing is enabled, they are assigned a specific cost value relative to the site overall, with lower site costs preferred over higher ones.</span></span>

<span data-ttu-id="11d73-108">Mit der Verfügbarkeit dieser Standortkosten Daten können Server Ziele für effektivere DFS-Server-failoverstrategien priorisiert werden.</span><span class="sxs-lookup"><span data-stu-id="11d73-108">With the availability of this site-costing data, server targets can be prioritized for more effective DFS server failover strategies.</span></span> <span data-ttu-id="11d73-109">In der Vergangenheit war dieser detaillierte Detailgrad nicht verfügbar, und Administratoren mussten auf künstliche Mittel (z. b. dummysites in AD) zurückgreifen, um auch einfache Anforderungen zu unterstützen, wie z. b. die Bezeichnung bestimmter Server als "Sicherungs-" oder "sekundärer" Server, wenn ein "primärer DFS-Server ausfällt.</span><span class="sxs-lookup"><span data-stu-id="11d73-109">In the past, this granular level of detail was not available, and administrators had to resort to artificial means (such as dummy sites in AD) to support even simple requirements like the designation of specific servers as a "backup" or "secondary" server in the case where a "primary" DFS server fails.</span></span> <span data-ttu-id="11d73-110">Mit den zusätzlichen Details der Site-Kosten sind nun mehrstufige failoverstrategien möglich.</span><span class="sxs-lookup"><span data-stu-id="11d73-110">Now, with the additional detail provided by site-costing, multi-level failover strategies are possible.</span></span>

<span data-ttu-id="11d73-111">In der folgenden Erläuterung wird davon ausgegangen, dass die Standortkosten aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="11d73-111">The following discussion assumes that site-costing is enabled.</span></span>

## <a name="target-prioritization"></a><span data-ttu-id="11d73-112">Ziel Priorisierung</span><span class="sxs-lookup"><span data-stu-id="11d73-112">Target Prioritization</span></span>

<span data-ttu-id="11d73-113">Die Ziel Priorität ist eine bestimmte Reihenfolge aus administrativer Sicht und die Klassifizierung und Rangfolge von Standort Servern in der expliziten Einstellung basierend auf Ihren Standortkosten von einem DFS-Client.</span><span class="sxs-lookup"><span data-stu-id="11d73-113">Target priority is a specific ordering from an administrative perspective, classifying and ranking in-site servers in terms of explicit preference based on their site cost from a DFS client.</span></span> <span data-ttu-id="11d73-114">Die globale Priorität ist unabhängig von den Standortkosten.</span><span class="sxs-lookup"><span data-stu-id="11d73-114">Global priority is independent of the site-cost.</span></span> <span data-ttu-id="11d73-115">Beachten Sie, dass globale Prioritäts Klassen nicht notwendigerweise die optimalen Ziele aus der Perspektive eines DFS-Clients angeben, sondern die Wichtigkeit oder fehlende Wichtigkeit bestimmter Ziele aus der Perspektive eines Website Administrators widerspiegeln.</span><span class="sxs-lookup"><span data-stu-id="11d73-115">Note that global priority classes do not necessarily indicate the most optimal targets from a DFS client's perspective, but instead reflect the importance, or lack of importance, of specific targets from a site administrator's perspective.</span></span>

<span data-ttu-id="11d73-116">Die Server Ziel Priorität ist in zwei Kategorien unterteilt: Prioritäts Klasse und Prioritäts Rang.</span><span class="sxs-lookup"><span data-stu-id="11d73-116">Server target priority is divided into two value categories: priority class and priority rank.</span></span> <span data-ttu-id="11d73-117">Prioritäts Klassen werden in zwei Ebenen unterteilt: lokal und Global.</span><span class="sxs-lookup"><span data-stu-id="11d73-117">Priority classes are divided into two levels: local and global.</span></span> <span data-ttu-id="11d73-118">Innerhalb dieser Klassen gibt es eine grobe Reihenfolge von Zielen, die auf den Standortkosten basieren und als hoch, normal und mit niedriger Priorität gruppiert sind.</span><span class="sxs-lookup"><span data-stu-id="11d73-118">Within these classes there is a rough ordering of targets based on site cost, grouped as high, normal, and low priority.</span></span> <span data-ttu-id="11d73-119">Das Ergebnis sind fünf Prioritäts Klassen, von der höchsten zur niedrigsten Priorität wie folgt:</span><span class="sxs-lookup"><span data-stu-id="11d73-119">The result is five priority classes, in order from highest to lowest priority as follows:</span></span>

- <span data-ttu-id="11d73-120">Globale hohe Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-120">Global high priority</span></span>
- <span data-ttu-id="11d73-121">Site-Kosten hohe Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-121">Site-cost high priority</span></span>
- <span data-ttu-id="11d73-122">Standort-Kosten normale Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-122">Site-cost normal priority</span></span>
- <span data-ttu-id="11d73-123">Standort-Kosten niedrige Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-123">Site-cost low priority</span></span>
- <span data-ttu-id="11d73-124">Globale niedrige Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-124">Global low priority</span></span>

<span data-ttu-id="11d73-125">Die Standortkosten Klassen können als Unterbereiche der "globalen normalen Priorität" betrachtet werden.</span><span class="sxs-lookup"><span data-stu-id="11d73-125">The site-cost classes can be considered as subdivisions of "global normal priority".</span></span> <span data-ttu-id="11d73-126">Der Prioritäts Rang ist eine einfache ganzzahlige Rangfolge auf der Grundlage von Ordinalwerten: 0, 1, 2 und weiter, wobei 0 der höchste Wert und alle nachfolgenden Werte den absteigenden Rang angibt.</span><span class="sxs-lookup"><span data-stu-id="11d73-126">Priority rank is a simple integer ranking based on ordinal values: 0, 1, 2, and onward, with 0 being the highest value and all subsequent values indicating decreasing rank.</span></span>

<span data-ttu-id="11d73-127">Die globalen High-und Low-Prioritäten werden keine Standortkosten Werte in Erwägung gezogen.</span><span class="sxs-lookup"><span data-stu-id="11d73-127">The global high and low priorities do not consider site-cost values.</span></span> <span data-ttu-id="11d73-128">Ziele mit globaler Priorität mit hoher Priorität werden für alle anderen Ziele übernommen, und Ziele mit einer globalen niedrigen Priorität erhalten die geringste Priorität.</span><span class="sxs-lookup"><span data-stu-id="11d73-128">Targets with a global high priority receive preference over all other targets, and targets with a global low priority receive the least preference.</span></span>

<span data-ttu-id="11d73-129">Beim Bestellen eines Verweises umfasst der gesamte Prozess die folgenden Schritte:</span><span class="sxs-lookup"><span data-stu-id="11d73-129">In ordering a referral, the complete process has the following steps:</span></span>

1. <span data-ttu-id="11d73-130">Die Sätze globaler High-und Low-Ziele werden zusammen mit den verbleibenden "globalen normalen" Zielen identifiziert.</span><span class="sxs-lookup"><span data-stu-id="11d73-130">The sets of global high and low targets are identified, along with the remaining "global normal" targets.</span></span>
2. <span data-ttu-id="11d73-131">Wenn die Option "Insite" festgelegt ist, werden alle Ziele außerhalb des Client Standorts entfernt.</span><span class="sxs-lookup"><span data-stu-id="11d73-131">If the "INSITE" option is set, all targets outside of the client's site are removed.</span></span> <span data-ttu-id="11d73-132">Die Option "Insite" wird nicht auf die globalen Sätze mit hoher und niedriger Priorität angewendet.</span><span class="sxs-lookup"><span data-stu-id="11d73-132">The "INSITE" option is not applied to the global high and low priority sets.</span></span>
3. <span data-ttu-id="11d73-133">Innerhalb dieser drei Sätze werden die Ziele mithilfe des AD-Standortkosten Mechanismus geordnet, wobei entweder eine lokale oder eine vollständige Website Kosten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="11d73-133">Within each of these three sets, the targets are ordered using the AD site-cost mechanism, using either local or full site costing.</span></span> <span data-ttu-id="11d73-134">Das Ergebnis sind Sätze von Zielen gleicher Standortkosten.</span><span class="sxs-lookup"><span data-stu-id="11d73-134">The result is sets of targets of equal site cost.</span></span>
4. <span data-ttu-id="11d73-135">Innerhalb der Sätze von "globalen normalen" Zielen gleicher Standortkosten wird den Zielen eine Prioritäts Klasse aus den Rang folgen Kosten für hohe, normale und niedrige Priorität zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="11d73-135">Within the sets of "global normal" targets of equal site cost, targets are assigned a priority class from the site-cost high, normal, and low priority rankings.</span></span>
5. <span data-ttu-id="11d73-136">Innerhalb der Sätze von Zielen gleicher Standortkosten und Prioritäts Klasse werden Ziele nun nach Prioritäts Rang geordnet, wobei 0 der höchste Rang ist.</span><span class="sxs-lookup"><span data-stu-id="11d73-136">Within the sets of targets of equal site cost and priority class, targets are now ordered by priority rank, with 0 being the highest rank.</span></span>
6. <span data-ttu-id="11d73-137">Innerhalb der Ziele gleicher Standortkosten, Prioritäts Klasse und Prioritäts Rang werden Ziele für den Lastenausgleich nach dem Zufallsprinzip gemischt.</span><span class="sxs-lookup"><span data-stu-id="11d73-137">Within the sets of targets of equal site cost, priority class, and priority rank, targets are randomly shuffled for load balancing.</span></span>

<span data-ttu-id="11d73-138">Grafisch gesehen wird ein Satz von Zielen wie folgt angeordnet:</span><span class="sxs-lookup"><span data-stu-id="11d73-138">Graphically, a set of targets are ordered as seen below:</span></span>

- <span data-ttu-id="11d73-139">globale Ziele mit hoher Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-139">global high priority class targets</span></span> 
- <span data-ttu-id="11d73-140">Site-Cost Class Targets mit hoher Priorität mit Standortkosten = 0</span><span class="sxs-lookup"><span data-stu-id="11d73-140">site-cost high priority class targets with site cost = 0</span></span>
- <span data-ttu-id="11d73-141">normal mit Standortkosten = 0</span><span class="sxs-lookup"><span data-stu-id="11d73-141">normal with site cost = 0</span></span>
- <span data-ttu-id="11d73-142">niedrig mit Standortkosten = 0</span><span class="sxs-lookup"><span data-stu-id="11d73-142">low with site cost = 0</span></span>
- <span data-ttu-id="11d73-143">Site-Cost Class Targets mit hoher Priorität mit Standortkosten = 1</span><span class="sxs-lookup"><span data-stu-id="11d73-143">site-cost high priority class targets with site cost = 1</span></span>
- <span data-ttu-id="11d73-144">normal mit Standortkosten = 1</span><span class="sxs-lookup"><span data-stu-id="11d73-144">normal with site cost = 1</span></span>
- <span data-ttu-id="11d73-145">niedrig mit Standortkosten = 1</span><span class="sxs-lookup"><span data-stu-id="11d73-145">low with site cost = 1</span></span>
- <span data-ttu-id="11d73-146">Durchführen weiterer Operationen</span><span class="sxs-lookup"><span data-stu-id="11d73-146">and so on</span></span>
- <span data-ttu-id="11d73-147">globale Ziel Klassenziele mit niedriger Priorität</span><span class="sxs-lookup"><span data-stu-id="11d73-147">global low priority class targets</span></span>

<span data-ttu-id="11d73-148">Innerhalb dieser Sätze werden Ziele nach Prioritäts Rang sortiert.</span><span class="sxs-lookup"><span data-stu-id="11d73-148">Within each of these sets, targets are sorted according to priority rank.</span></span> <span data-ttu-id="11d73-149">Der höchste Rang ist 0 (null), wobei jeder nachfolgende ganzzahlige Wert (1, 2 usw.) einen immer niedrigeren Rang angibt.</span><span class="sxs-lookup"><span data-stu-id="11d73-149">The highest rank is zero, with each subsequent integer value (1, 2, and so on) indicating an increasingly lower rank.</span></span>

<span data-ttu-id="11d73-150">Die Ziel Priorität wird für ein bestimmtes Ziel einer Verknüpfung (oder eines Stamms) in einem DFS-Namespace festgelegt.</span><span class="sxs-lookup"><span data-stu-id="11d73-150">Target priority is set on a specific target of a link (or root) in a DFS namespace.</span></span> <span data-ttu-id="11d73-151">Die Priorität eines Ziels für einen Link wirkt sich nicht auf die Anordnung anderer Links aus, wenn derselbe Zielpfad mehrmals verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="11d73-151">A target's priority for one link does not influence the ordering of other links if that same target path is used multiple times.</span></span> <span data-ttu-id="11d73-152">Wenn beispielsweise zwei Verknüpfungen \\ \\ Server \\ share1 als Ziel haben, wird die Priorität von \\ \\ Server \\ share1 für beide Verknüpfungen separat festgelegt.</span><span class="sxs-lookup"><span data-stu-id="11d73-152">For example, if two links have \\\\server\\share1 as a target, the priority of \\\\server\\share1 is set separately for both links.</span></span>

<span data-ttu-id="11d73-153">Die Standardpriorität für alle Links ist die Site-Cost Normal Priorität mit dem Rang 0.</span><span class="sxs-lookup"><span data-stu-id="11d73-153">The default priority for all links is the site-cost normal priority with a rank of 0.</span></span> <span data-ttu-id="11d73-154">Die Ziel Priorität wirkt sich nicht auf die Reihenfolge der Verweise aus, es sei denn, Sie wird verwendet, und alle vorhandenen Links werden nach dem Empfang geordnet.</span><span class="sxs-lookup"><span data-stu-id="11d73-154">Target priority does not affect the ordering of referrals unless it is used, and all existing links are ordered as they are received.</span></span>

<span data-ttu-id="11d73-155">Die Verweis Antwort von einem DFS-Server besteht aus Zielsätzen, wie oben angegeben, wobei jeder nicht globale Zielsatz Ziele mit den gleichen Standortkosten, der Prioritäts Klasse und dem Prioritäts Rang enthält.</span><span class="sxs-lookup"><span data-stu-id="11d73-155">The referral response from a DFS server consists of target sets ordered as indicated above, with each non-global target set containing targets of the same site cost, priority class, and priority rank.</span></span> <span data-ttu-id="11d73-156">Ziele innerhalb der einzelnen Sätze werden nach dem Zufallsprinzip geordnet.</span><span class="sxs-lookup"><span data-stu-id="11d73-156">Targets within each set are ordered randomly.</span></span> <span data-ttu-id="11d73-157">DFS-Clients, die den Verweis erhalten, beginnen mit dem ersten Ziel der ersten Gruppe und durchlaufen die Liste, bis ein verfügbares Ziel für einen bestimmten DFS-Stamm oder-Link gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="11d73-157">DFS clients that receive the referral start with the first target of the first set, and continue through the list until an available target for a given DFS root or link is found.</span></span>

<span data-ttu-id="11d73-158">Die spezifische API-Implementierung dieses Features finden Sie in den folgenden Referenz Themen:</span><span class="sxs-lookup"><span data-stu-id="11d73-158">For the specific API implementation of this feature, please see the following reference topics:</span></span>

<span data-ttu-id="11d73-159">[**DFS_INFO_6**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_info_6) 
 [**DFS_INFO_104**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_info_104) 
 [**DFS_INFO_106**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_info_106) 
 [**DFS_TARGET_PRIORITY**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_target_priority) 
 [**DFS_TARGET_PRIORITY_CLASS**](/windows/win32/api/lmdfs/ne-lmdfs-dfs_target_priority_class~r1)</span><span class="sxs-lookup"><span data-stu-id="11d73-159">[**DFS_INFO_6**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_info_6)
[**DFS_INFO_104**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_info_104)
[**DFS_INFO_106**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_info_106)
[**DFS_TARGET_PRIORITY**](/windows/desktop/api/lmdfs/ns-lmdfs-dfs_target_priority)
[**DFS_TARGET_PRIORITY_CLASS**](/windows/win32/api/lmdfs/ne-lmdfs-dfs_target_priority_class~r1)</span></span>
