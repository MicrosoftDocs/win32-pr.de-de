---
title: Sicherheits Kontexte für Tasks
description: Tasks werden registriert und in einem bestimmten Sicherheitskontext ausgeführt.
ms.assetid: be86eb9f-f6ec-4dce-afe8-e3314a74062a
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 329f354518daeb11a5f330ae3fdc2c332b66d5c3
ms.sourcegitcommit: 3e70ae762629e244028b437420ed50b5850db4e3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/20/2020
ms.locfileid: "104389948"
---
# <a name="security-contexts-for-tasks"></a><span data-ttu-id="d3467-103">Sicherheits Kontexte für Tasks</span><span class="sxs-lookup"><span data-stu-id="d3467-103">Security Contexts for Tasks</span></span>

<span data-ttu-id="d3467-104">Tasks werden registriert und in einem bestimmten Sicherheitskontext ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d3467-104">Tasks are registered and run under a specific security context.</span></span> <span data-ttu-id="d3467-105">Benutzer können Anwendungen erstellen, die Aufgaben erfolgreich registrieren, aktualisieren, löschen oder ausführen, aber der Benutzer muss die richtigen Anmelde Informationen angeben, wenn ein Task registriert wird und die Anwendung in einem Prozess mit den richtigen Berechtigungen ausgeführt werden muss.</span><span class="sxs-lookup"><span data-stu-id="d3467-105">Users can create applications that successfully register, update, delete, or run tasks, but the user must supply the correct credentials when a task is registered and the application must be running in a process with the correct privileges.</span></span>

## <a name="specifying-credentials"></a><span data-ttu-id="d3467-106">Angeben von Anmelde Informationen</span><span class="sxs-lookup"><span data-stu-id="d3467-106">Specifying Credentials</span></span>

<span data-ttu-id="d3467-107">Sie können den Sicherheitskontext für eine Aufgabe angeben, indem Sie die Anmelde Informationen in den Methoden [**ITaskFolder:: RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) oder [**ITaskFolder:: RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) ([**taskfolder. RegisterTask**](taskfolder-registertask.md) oder [**taskfolder. RegisterTaskDefinition**](taskfolder-registertaskdefinition.md) für Scripting) angeben oder indem Sie der [**Principal-Eigenschaft von itaskdefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) ([**Taskdefinition. Principal**](taskdefinition-principal.md) für Scripting) einen Prinzipal zuweisen.</span><span class="sxs-lookup"><span data-stu-id="d3467-107">You can specify the security context for a task by specifying credentials in the [**ITaskFolder::RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**ITaskFolder::RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) ([**TaskFolder.RegisterTask**](taskfolder-registertask.md) or [**TaskFolder.RegisterTaskDefinition**](taskfolder-registertaskdefinition.md) for scripting) methods or by assigning a principal to the [**Principal Property of ITaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) ([**TaskDefinition.Principal**](taskdefinition-principal.md) for scripting).</span></span> <span data-ttu-id="d3467-108">Wenn ein Prinzipal für eine Aufgabendefinition erstellt wird und die Aufgabendefinition mithilfe der **RegisterTaskDefinition** -Methode mit anderen Anmelde Informationen registriert wird, die in den Methoden Parametern angegeben sind, überschreiben die in der **RegisterTaskDefinition** -Methode angegebenen Anmelde Informationen die Anmelde Informationen im Prinzipal.</span><span class="sxs-lookup"><span data-stu-id="d3467-108">If a principal is created for a task definition, and then the task definition is registered using the **RegisterTaskDefinition** method with different credentials specified in the method parameters, then the credentials specified in the **RegisterTaskDefinition** method will overwrite the credentials in the principal.</span></span> <span data-ttu-id="d3467-109">Wenn ein Prinzipal für eine Aufgabendefinition mithilfe von XML erstellt wird und dann der XML-Code für die Aufgabe mithilfe der **RegisterTask** -Methode mit anderen Anmelde Informationen registriert wird, die in den Methoden Parametern angegeben sind, überschreiben die in der **RegisterTask** -Methode angegebenen Anmelde Informationen die Anmelde Informationen im Prinzipal.</span><span class="sxs-lookup"><span data-stu-id="d3467-109">If a principal is created for a task definition using XML, and then the XML for the task is registered using the **RegisterTask** method with different credentials specified in the method parameters, then the credentials specified in the **RegisterTask** method will overwrite the credentials in the principal.</span></span>

<span data-ttu-id="d3467-110">Sie geben ein Benutzerkonto oder eine Gruppe an, wenn Sie eine Aufgabe registrieren oder das Prinzip für eine Aufgabe angeben.</span><span class="sxs-lookup"><span data-stu-id="d3467-110">You specify a user account or group when registering a task or specifying the principle for a task.</span></span> <span data-ttu-id="d3467-111">Der Sicherheitskontext des Benutzerkontos oder der Gruppe wird für den Sicherheitskontext der Aufgabe verwendet.</span><span class="sxs-lookup"><span data-stu-id="d3467-111">The security context of the user account or group is used for the security context of the task.</span></span> <span data-ttu-id="d3467-112">In diesen Methoden und Eigenschaften definieren Sie außerdem den Anmeldetyp.</span><span class="sxs-lookup"><span data-stu-id="d3467-112">In these methods and properties, you also define the logon type.</span></span> <span data-ttu-id="d3467-113">Der Anmeldetyp wird durch eine der Konstanten in der [**\_ \_ Aufgabentyp**](/windows/desktop/api/taskschd/ne-taskschd-task_logon_type) -Enumeration der Aufgabe definiert.</span><span class="sxs-lookup"><span data-stu-id="d3467-113">The logon type is defined by one of the constants in the [**TASK\_LOGON\_TYPE**](/windows/desktop/api/taskschd/ne-taskschd-task_logon_type) enumeration.</span></span>

<span data-ttu-id="d3467-114">Aufgaben, die mit dem Kennzeichen Task \_ Logon \_ Password oder Task \_ Logon \_ S4U registriert werden, werden nur gestartet, wenn für den angegebenen Benutzer die Berechtigung Anmelden als Batch aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="d3467-114">Tasks registered with the TASK\_LOGON\_PASSWORD or TASK\_LOGON\_S4U flag will only launch if the specified user has the Logon as Batch privilege enabled.</span></span> <span data-ttu-id="d3467-115">Administratoren und die Gruppe der Sicherungs Operatoren, in denen Benutzer diese Berechtigung standardmäßig aktiviert haben.</span><span class="sxs-lookup"><span data-stu-id="d3467-115">Administrators and Backup Operators group users have this privilege enabled by default.</span></span>

<span data-ttu-id="d3467-116">Wenn Sie die [**ITaskService:: Connect**](/windows/desktop/api/taskschd/nf-taskschd-itaskservice-connect) ([**TaskService. Connect**](taskservice-connect.md) for Scripting)-Methode aufrufen, werden alle nachfolgenden Methodenaufrufe an den Taskplaner-Dienst die Anmelde Informationen verwenden, die an die **Connect** -Methode übermittelt wurden.</span><span class="sxs-lookup"><span data-stu-id="d3467-116">When you call the [**ITaskService::Connect**](/windows/desktop/api/taskschd/nf-taskschd-itaskservice-connect) ([**TaskService.Connect**](taskservice-connect.md) for scripting) method, any subsequent method calls to the Task Scheduler service will use the credentials that were passed to the **Connect** method.</span></span> <span data-ttu-id="d3467-117">Dies ist wichtig zu beachten, wenn Sie Aufgaben mit einem interaktiven Anmeldetyp registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-117">This is important to consider when registering tasks with an interactive logon type.</span></span> <span data-ttu-id="d3467-118">Wenn Sie einen Task mit dem Anmeldetyp registrieren, der mit dem interaktiven Token der Aufgaben Anmeldung identisch ist \_ \_ \_ , und für den Task keine Anmelde Informationen in der [**Principal**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) -Eigenschaft der Aufgabendefinition angegeben sind, die in den Parametern für die Register Task [**Definition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition)angegeben sind oder in der XML-Datei angegeben sind **, die** an [**Register Task**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask)weitergegeben wird, wird die Aufgabe mit den Anmelde Informationen des Benutzers registriert,</span><span class="sxs-lookup"><span data-stu-id="d3467-118">When you register a task with the logon type equal to TASK\_LOGON\_INTERACTIVE\_TOKEN and the task does not have credentials specified in the [**Principal**](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal) property of the task definition, specified in the parameters to [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition), or specified in the XML that is passed to [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask), then the task will be registered with the credentials of the user that called the **Connect** method.</span></span>

## <a name="user-account-control-uac-security-for-tasks"></a><span data-ttu-id="d3467-119">Sicherheit der Benutzerkontensteuerung (User Account Control, UAC) für Tasks</span><span class="sxs-lookup"><span data-stu-id="d3467-119">User Account Control (UAC) Security for Tasks</span></span>

<span data-ttu-id="d3467-120">Mithilfe der [Benutzerkontensteuerung (User Account Control](https://www.microsoft.com/technet/windowsvista/security/uac.mspx) , UAC) können Benutzer allgemeine Funktionen, z. b. das Ausführen von Programmen, das Speichern und Ändern von Daten, ohne</span><span class="sxs-lookup"><span data-stu-id="d3467-120">[User Account Control](https://www.microsoft.com/technet/windowsvista/security/uac.mspx) (UAC) lets users exercise general functionality such as running programs and saving and modifying data without exposing administrative privileges.</span></span> <span data-ttu-id="d3467-121">Standardmäßig wird eine Aufgabe mit Low-Level-Berechtigungen ausgeführt, wenn UAC aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="d3467-121">By default, a task runs with low level privileges when UAC is turned on.</span></span> <span data-ttu-id="d3467-122">Tasks können angeben, dass Sie mit erhöhten Rechten oder niedrigen Berechtigungen ausgeführt werden, indem Sie für die [**Runlevel-Eigenschaft von IPrincipal**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) ([**Principal. Runlevel**](principal-runlevel.md) für Scripting) eine Berechtigungsebene aus der Aufgabentyp-Enumeration der [**Aufgabe \_ \_**](/windows/win32/api/taskschd/ne-taskschd-task_runlevel_type) festlegen.</span><span class="sxs-lookup"><span data-stu-id="d3467-122">Tasks can specify that they will run with elevated privileges or low privileges by setting a privilege level from the [**TASK\_RUNLEVEL\_TYPE**](/windows/win32/api/taskschd/ne-taskschd-task_runlevel_type) enumeration for the [**RunLevel property of IPrincipal**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) ([**Principal.RunLevel**](principal-runlevel.md) for scripting).</span></span> <span data-ttu-id="d3467-123">Der Wert der **Runlevel** -Eigenschaft bestimmt die Berechtigungsstufe, unter der die Aktionen einer Aufgabe ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="d3467-123">The value of the **RunLevel** property determines the privilege level at which a task's actions will be run.</span></span> <span data-ttu-id="d3467-124">Wenn für die Ausführung einer Aufgabe erhöhte Rechte erforderlich sind, müssen Sie die **Runlevel** -Eigenschaft auf " **Task \_ Runlevel \_** Most" festlegen.</span><span class="sxs-lookup"><span data-stu-id="d3467-124">If a task's actions must have elevated privileges to run, then you must set the **RunLevel** property to **TASK\_RUNLEVEL\_HIGHEST**.</span></span> <span data-ttu-id="d3467-125">Wenn eine Aufgabe mithilfe der Gruppe "Administratoren" für den Sicherheitskontext der Aufgabe registriert wird, müssen Sie die **Runlevel** -Eigenschaft auch auf " **Task \_ Runlevel \_** " festlegen, wenn Sie die Aufgabe ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="d3467-125">If a task is registered using the Administrators group for the security context of the task, then you must also set the **RunLevel** property to **TASK\_RUNLEVEL\_HIGHEST** if you want to run the task.</span></span> <span data-ttu-id="d3467-126">Wenn ein Task mit dem integrierten \\ Administrator Konto oder dem lokalen System Konto oder dem lokalen Dienst Konto registriert wird, wird die **Runlevel** -Eigenschaft ignoriert.</span><span class="sxs-lookup"><span data-stu-id="d3467-126">If a task is registered using the Builtin\\Administrator account or the Local System or Local Service accounts, then the **RunLevel** property will be ignored.</span></span> <span data-ttu-id="d3467-127">Der Eigenschafts Wert wird auch ignoriert, wenn die Benutzerkontensteuerung (User Account Control, UAC) ausgeschaltet ist.</span><span class="sxs-lookup"><span data-stu-id="d3467-127">The property value will also be ignored if User Account Control (UAC) is turned off.</span></span> <span data-ttu-id="d3467-128">Der Wert der **Runlevel** -Eigenschaft wirkt sich nicht auf die Berechtigungen aus, die zum Ausführen oder Löschen einer Aufgabe erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="d3467-128">The value of the **RunLevel** property doesn't affect the permissions needed to run or delete a task.</span></span>

> [!Note]  
> <span data-ttu-id="d3467-129">Nach dem Upgrade eines Betriebssystems von Windows XP auf Windows Vista wird für Aufgaben, die mit dem integrierten \\ Administrator Konto unter Windows XP registriert wurden, die [**Runlevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) -Eigenschaft **auf \_ taskrunlevel \_ Lua** festgelegt.</span><span class="sxs-lookup"><span data-stu-id="d3467-129">After upgrading an operating system from Windows XP to Windows Vista, tasks that were registered using the Builtin\\Administrator account on Windows XP will have the [**RunLevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) property set to **TASK\_RUNLEVEL\_LUA**.</span></span> <span data-ttu-id="d3467-130">Dies kann dazu führen, dass einige Aufgaben fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="d3467-130">This might cause some tasks to fail.</span></span> <span data-ttu-id="d3467-131">Sie können diese Eigenschaft manuell aktualisieren, um sicherzustellen, dass alle Tasks ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="d3467-131">You can update this property manually to ensure all the tasks will run.</span></span>

 

<span data-ttu-id="d3467-132">Bei einem Prozess mit niedriger Berechtigung können Sie einen Task nicht mit der [**Runlevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) -Eigenschaft gleich **dem \_ \_ höchsten Task Runlevel** registrieren, Sie können jedoch eine Aufgabe mit der **Runlevel** -Eigenschaft registrieren, die gleich der **Aufgabe " \_ Runlevel \_ Lua**" ist.</span><span class="sxs-lookup"><span data-stu-id="d3467-132">From a low privilege process, you cannot register a task with the [**RunLevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) property equal to **TASK\_RUNLEVEL\_HIGHEST**, but you can register a task with the **RunLevel** property equal to **TASK\_RUNLEVEL\_LUA**.</span></span> <span data-ttu-id="d3467-133">Die Aufgaben Aktionen werden mit niedrigen Berechtigungen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d3467-133">The task actions will be run with low privileges.</span></span> <span data-ttu-id="d3467-134">Sie sind nicht berechtigt, den Task als "Builtin/Administrator", "Lokales System" oder für eine Gruppe zu registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-134">You are not allowed to register the task as Builtin/Administrator, Local System, or for a group.</span></span>

<span data-ttu-id="d3467-135">Bei einem Prozess mit erweiterten Berechtigungen können Sie eine Aufgabe mit der [**Runlevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) -Eigenschaft gleich der **Aufgabe \_ Runlevel " \_ hoch** " oder " **Task \_ Runlevel \_ Lua**" registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-135">From an elevated privilege process, you can register a task with the [**RunLevel**](/windows/desktop/api/taskschd/nf-taskschd-iprincipal-get_runlevel) property equal to **TASK\_RUNLEVEL\_HIGHEST** or **TASK\_RUNLEVEL\_LUA**.</span></span> <span data-ttu-id="d3467-136">Der Task wird mit einer Berechtigungsstufe ausgeführt, die von der **Runlevel** -Eigenschaft festgelegt wird, es sei denn, Sie verwenden das Administrator Konto. in diesem Fall wird der Task mit erhöhten Rechten ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d3467-136">The task will be run with a privilege level decided by the **RunLevel** property unless you are using the Administrator account, in which case the task is run with elevated privileges.</span></span>

<span data-ttu-id="d3467-137">Von einem erweiterten Prozess aus können Sie eine Taskplaner 1,0-Aufgabe registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-137">From an elevated process, you can register a Task Scheduler 1.0 task.</span></span> <span data-ttu-id="d3467-138">Der Taskplaner-Dienst legt die Ausführungs Ebene der Aufgabe auf "Task \_ Runlevel hoch" fest, \_ und der Task wird mit erhöhten Rechten ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d3467-138">The Task Scheduler service will set the run level of the task to TASK\_RUNLEVEL\_HIGHEST and the task will run with elevated privileges.</span></span>

<span data-ttu-id="d3467-139">Bei einem Prozess mit niedriger Berechtigung können Sie auch einen Taskplaner 1,0-Task registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-139">From an low privilege process, you can also register a Task Scheduler 1.0 task.</span></span> <span data-ttu-id="d3467-140">Der Taskplaner-Dienst legt die Ausführungs Ebene der Aufgabe auf Task \_ Runlevel \_ Lua fest, und der Task wird mit niedrigen Berechtigungen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d3467-140">The Task Scheduler service will set the run level of the task to TASK\_RUNLEVEL\_LUA, and the task will run with low privileges.</span></span> <span data-ttu-id="d3467-141">Wenn diese Aufgabe von einem Prozess mit erhöhten Rechten aktualisiert wird, bleibt die Ausführungs Ebene der Aufgabe in der Task Ausführung \_ \_ Lua erhalten.</span><span class="sxs-lookup"><span data-stu-id="d3467-141">If this task is updated from an elevated process, the run level of the task will remain TASK\_RUNLEVEL\_LUA.</span></span>

## <a name="security-for-registering-tasks"></a><span data-ttu-id="d3467-142">Sicherheit für das Registrieren von Tasks</span><span class="sxs-lookup"><span data-stu-id="d3467-142">Security for Registering Tasks</span></span>

<span data-ttu-id="d3467-143">Wenn Sie einen Task von einem Konto registrieren, das Mitglied der Gruppe "Administratoren" ist, müssen Sie nur ein Kennwort angeben, wenn Sie den Task in den folgenden Situationen registrieren:</span><span class="sxs-lookup"><span data-stu-id="d3467-143">When you register a task from an account that is a member of the Administrators group, then you only need to specify a password while registering the task in the following situations:</span></span>

-   <span data-ttu-id="d3467-144">Wenn Sie die Aufgabe für die unter Verwendung des Sicherheits Kontexts Ihres Kontos oder eines anderen Benutzerkontos registrieren und Sie das Kennzeichen \_ \_ Kennwort für die Aufgabe in der [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) -Methode oder der [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) -Methode verwenden.</span><span class="sxs-lookup"><span data-stu-id="d3467-144">If you register the task to run under the security context of your account or a different user's account and you use the TASK\_LOGON\_PASSWORD flag in the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) method.</span></span>
-   <span data-ttu-id="d3467-145">Wenn Sie die Aufgabe registrieren, um Sie im Sicherheitskontext eines anderen Benutzerkontos auszuführen, und Sie das Flag "Task \_ Logon \_ S4U" in der Methode " [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) " oder " [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) " verwenden.</span><span class="sxs-lookup"><span data-stu-id="d3467-145">If you register the task to run under the security context of a different user's account and you use the TASK\_LOGON\_S4U flag in the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) method.</span></span>

<span data-ttu-id="d3467-146">Eine Benutzergruppe kann nicht als Sicherheitskontext einer Aufgabe verwendet werden, wenn Sie den Task mithilfe des Task \_ Logon \_ S4U-Flags oder des Kennworts für den Task \_ Anmelde \_ Kennwort in der [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) -Methode oder der [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) -Methode registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-146">You cannot use a user group as the security context of a task when you register the task using the TASK\_LOGON\_S4U flag or the TASK\_LOGON\_PASSWORD flag in the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) method.</span></span>

<span data-ttu-id="d3467-147">Wenn Sie einen Task von einem Benutzerkonto registrieren, das kein Mitglied der Gruppe "Administratoren" ist, müssen Sie beim Registrieren des Tasks kein Kennwort angeben, wenn Sie die Aufgabe registrieren, um Sie im Sicherheitskontext Ihres Kontos auszuführen, und Sie den Anmeldetyp S4U oder Interactive verwenden.</span><span class="sxs-lookup"><span data-stu-id="d3467-147">When you register a task from a user account that is not a member of the Administrators group, then you do not need to specify a password when registering the task if you register the task to run under the security context of your account and you use the S4U or interactive logon type.</span></span> <span data-ttu-id="d3467-148">Andernfalls müssen Sie beim Registrieren der Aufgabe ein Kennwort angeben.</span><span class="sxs-lookup"><span data-stu-id="d3467-148">Otherwise, you need to specify a password when registering the task.</span></span> <span data-ttu-id="d3467-149">Außerdem können Sie den Task nicht mithilfe des lokalen Dienst Kontos oder mithilfe einer Gruppe für den Sicherheitskontext des Tasks registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-149">Also, you cannot register the task using the Local Service account or by using a group for the task's security context.</span></span>

## <a name="security-for-reading-updating-deleting-and-running-tasks"></a><span data-ttu-id="d3467-150">Sicherheit zum Lesen, aktualisieren, löschen und Ausführen von Aufgaben</span><span class="sxs-lookup"><span data-stu-id="d3467-150">Security for Reading, Updating, Deleting, and Running Tasks</span></span>

<span data-ttu-id="d3467-151">Standardmäßig kann ein Benutzer, der einen Task erstellt, den Task lesen, aktualisieren, löschen und ausführen.</span><span class="sxs-lookup"><span data-stu-id="d3467-151">By default, a user who creates a task can read, update, delete, and run the task.</span></span> <span data-ttu-id="d3467-152">Ein Benutzer muss über die Berechtigung zum Schreiben von Dateien für eine Task Datei verfügen, um eine Aufgabe zu aktualisieren, die Berechtigung Datei lesen für eine Task Datei zum Lesen eines Tasks, die [**delete-Berechtigung**](registeredtask-run.md) für eine Aufgaben Datei zum Löschen eines Tasks und die EXECUTE-Berechtigung für eine Aufgabe zum Ausführen einer Aufgabe mit der [**IRegisteredTask:: Run**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-run) [**-Methode**](registeredtask-runex.md) oder der [**RunEx**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-runex) -Methode zu verwenden</span><span class="sxs-lookup"><span data-stu-id="d3467-152">A user must have file write permission on a task file to update a task, file read permission on a task file to read a task, delete permission on a task file to delete a task, and file execute permission on a task to run a task using the [**IRegisteredTask::Run**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-run) or [**RunEx**](/windows/desktop/api/taskschd/nf-taskschd-iregisteredtask-runex) methods ([**RegisteredTask.Run**](registeredtask-run.md) and [**RunEx**](registeredtask-runex.md) for scripting).</span></span> <span data-ttu-id="d3467-153">Mitglieder der Gruppe "Administratoren" oder des System Kontos können beliebige Aufgaben lesen, aktualisieren, löschen und ausführen.</span><span class="sxs-lookup"><span data-stu-id="d3467-153">Members of the Administrators group or the SYSTEM account can read, update, delete, and run any tasks.</span></span> <span data-ttu-id="d3467-154">Mitglieder der Benutzergruppe, das LocalService-Konto und das Network Service-Konto können nur die von Ihnen erstellten Aufgaben lesen, aktualisieren, löschen und ausführen.</span><span class="sxs-lookup"><span data-stu-id="d3467-154">Members of the Users group, the LocalService account, and the NetworkService account can only read, update, delete, and run the tasks that they have created.</span></span> <span data-ttu-id="d3467-155">Dieses Standardverhalten wird geändert, wenn die DACL der Task Datei geändert wird. in diesem Fall definiert die DACL, welche Benutzer über die Berechtigung zum Schreiben, lesen, ausführen und Löschen verfügen.</span><span class="sxs-lookup"><span data-stu-id="d3467-155">This default behavior is changed when the DACL of the task file is changed, in which case the DACL defines which users have file write, read, execute, and delete permission.</span></span> <span data-ttu-id="d3467-156">Um Berechtigungen für eine Aufgaben Datei festzulegen, verwenden Sie die IRegisteredTask. SETSECURITYDESCRIPTOR-Methode (registeredtask. SETSECURITYDESCRIPTOR für die Skripterstellung), oder legen Sie die Sicherheits Beschreibung fest, wenn Sie die Aufgabe mithilfe der [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) -Methode oder der [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) -Methode registrieren.</span><span class="sxs-lookup"><span data-stu-id="d3467-156">To set permissions for a task file, use the IRegisteredTask.SetSecurityDescriptor method (RegisteredTask.SetSecurityDescriptor for scripting) or set the security descriptor when you register the task using the [**RegisterTask**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertask) or [**RegisterTaskDefinition**](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition) methods.</span></span>

<span data-ttu-id="d3467-157">Ein Benutzer muss zusätzlich zu den Lese-/Schreibberechtigungen zum Aktualisieren einer Aufgabe über die Berechtigung "schreiben" verfügen, wenn für die Task Aktualisierung eine Änderung an der DACL für den Task erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="d3467-157">A user must have WriteDAC permission in addition to the read/write permissions to update a task if the task update requires a change to the DACL for the task.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d3467-158">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d3467-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d3467-159">Aufgaben Registrierungsinformationen</span><span class="sxs-lookup"><span data-stu-id="d3467-159">Task Registration Information</span></span>](task-registration-information.md)
</dt> <dt>

[<span data-ttu-id="d3467-160">Informationen zum Taskplaner</span><span class="sxs-lookup"><span data-stu-id="d3467-160">About The Task Scheduler</span></span>](about-the-task-scheduler.md)
</dt> <dt>

[<span data-ttu-id="d3467-161">Sicherheitshärtung der Aufgabe</span><span class="sxs-lookup"><span data-stu-id="d3467-161">Task Security Hardening</span></span>](task-security-hardening.md)
</dt> <dt>

[<span data-ttu-id="d3467-162">**Taskfolder. RegisterTaskDefinition**</span><span class="sxs-lookup"><span data-stu-id="d3467-162">**TaskFolder.RegisterTaskDefinition**</span></span>](taskfolder-registertaskdefinition.md)
</dt> <dt>

[<span data-ttu-id="d3467-163">**ITaskFolder:: RegisterTaskDefinition**</span><span class="sxs-lookup"><span data-stu-id="d3467-163">**ITaskFolder::RegisterTaskDefinition**</span></span>](/windows/desktop/api/taskschd/nf-taskschd-itaskfolder-registertaskdefinition)
</dt> <dt>

[<span data-ttu-id="d3467-164">**Principal-Eigenschaft von itaskdefinition**</span><span class="sxs-lookup"><span data-stu-id="d3467-164">**Principal Property of ITaskDefinition**</span></span>](/windows/desktop/api/taskschd/nf-taskschd-itaskdefinition-get_principal)
</dt> <dt>

[<span data-ttu-id="d3467-165">**Task \_ \_ Anmeldetyp**</span><span class="sxs-lookup"><span data-stu-id="d3467-165">**TASK\_LOGON\_TYPE**</span></span>](/windows/desktop/api/taskschd/ne-taskschd-task_logon_type)
</dt> </dl>

 

 




