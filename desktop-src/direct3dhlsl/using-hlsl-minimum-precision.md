---
title: Verwenden der minimalen Genauigkeit von HLSL
description: Ab Windows 8 können Grafiktreiber minimale Genauigkeit der HLSL-Skalardatentypen implementieren, indem Sie eine beliebige Genauigkeit angeben, die größer oder gleich der angegebenen bitgenauigkeit ist.
ms.assetid: 422B0C45-5CEB-4235-AD05-62D36C36CFC6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de7f66f35aef3e870edb4e8564a280be89ce34be
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "103728168"
---
# <a name="using-hlsl-minimum-precision"></a><span data-ttu-id="d206a-103">Verwenden der minimalen Genauigkeit von HLSL</span><span class="sxs-lookup"><span data-stu-id="d206a-103">Using HLSL minimum precision</span></span>

<span data-ttu-id="d206a-104">Ab Windows 8 können Grafiktreiber minimale Genauigkeit der [HLSL-Skalardatentypen](dx-graphics-hlsl-scalar.md) implementieren, indem Sie eine beliebige Genauigkeit angeben, die größer oder gleich der angegebenen bitgenauigkeit ist.</span><span class="sxs-lookup"><span data-stu-id="d206a-104">Starting with Windows 8, graphics drivers can implement minimum precision [HLSL scalar data types](dx-graphics-hlsl-scalar.md) by using any precision greater than or equal to their specified bit precision.</span></span> <span data-ttu-id="d206a-105">Wenn der HLSL-Shader-Code mit minimaler Genauigkeit auf Hardware verwendet wird, die die minimale Genauigkeit von HLSL implementiert, werden weniger Speicherbandbreite verwendet, und daher wird auch weniger Systemleistung verwendet.</span><span class="sxs-lookup"><span data-stu-id="d206a-105">When your HLSL minimum precision shader code is used on hardware that implements HLSL minimum precision, you use less memory bandwidth and as a result you also use less system power.</span></span>

<span data-ttu-id="d206a-106">Sie können die Unterstützung der minimalen Genauigkeit Abfragen, die der Grafiktreiber bietet, indem Sie [**ID3D11Device:: checkfeaturesupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) mit dem [**D3D11 \_ Feature- \_ Shader- \_ \_ \_ Unterstützungs**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) Wert für minimale Genauigkeit aufrufen.</span><span class="sxs-lookup"><span data-stu-id="d206a-106">You can query for the minimum precision support that the graphics driver provides by calling [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) with the [**D3D11\_FEATURE\_SHADER\_MIN\_PRECISION\_SUPPORT**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) value.</span></span> <span data-ttu-id="d206a-107">Weitere Informationen finden Sie [unter Unterstützung der Unterstützung von HLSL-Mindestgenauigkeit](/windows/desktop/direct3d11/direct3d-11-1-features)</span><span class="sxs-lookup"><span data-stu-id="d206a-107">For more info, see [HLSL minimum precision support](/windows/desktop/direct3d11/direct3d-11-1-features).</span></span>

-   [<span data-ttu-id="d206a-108">Deklarieren von Variablen mit minimalen Genauigkeits Datentypen</span><span class="sxs-lookup"><span data-stu-id="d206a-108">Declare variables with minimum precision data types</span></span>](#declare-variables-with-minimum-precision-data-types)
-   [<span data-ttu-id="d206a-109">Testen des Shader-Codes mit minimaler Genauigkeit</span><span class="sxs-lookup"><span data-stu-id="d206a-109">Testing your minimum precision shader code</span></span>](#testing-your-minimum-precision-shader-code)
-   [<span data-ttu-id="d206a-110">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d206a-110">Related topics</span></span>](#related-topics)

## <a name="declare-variables-with-minimum-precision-data-types"></a><span data-ttu-id="d206a-111">Deklarieren von Variablen mit minimalen Genauigkeits Datentypen</span><span class="sxs-lookup"><span data-stu-id="d206a-111">Declare variables with minimum precision data types</span></span>

<span data-ttu-id="d206a-112">Um die minimale Genauigkeit im HLSL-Shader-Code zu verwenden, deklarieren Sie einzelne Variablen mit Typen wie **min16float** (**min16float4** für einen Vektor), **min16int**, **min10float** usw.</span><span class="sxs-lookup"><span data-stu-id="d206a-112">To use minimum precision in HLSL shader code, declare individual variables with types like **min16float** (**min16float4** for a vector), **min16int**, **min10float**, and so on.</span></span> <span data-ttu-id="d206a-113">Mit diesen Variablen gibt der Shader-Code an, dass er keine höhere Genauigkeit erfordert, als die Variablen angeben.</span><span class="sxs-lookup"><span data-stu-id="d206a-113">With these variables, your shader code indicates that it doesn’t require more precision than what the variables indicate.</span></span> <span data-ttu-id="d206a-114">Hardware kann jedoch die minimalen Genauigkeits Indikatoren ignorieren und mit vollständiger 32-Bit-Genauigkeit ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="d206a-114">But hardware can ignore the minimum precision indicators and run at full 32-bit precision.</span></span> <span data-ttu-id="d206a-115">Wenn Ihr Shader-Code auf Hardware verwendet wird, die die minimale Genauigkeit nutzt, verwenden Sie weniger Speicherbandbreite. Daher verwenden Sie auch weniger Systemleistung, solange Ihr shadercode nicht mehr Genauigkeit erwartet, als er festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="d206a-115">When your shader code is used on hardware that takes advantage of minimum precision, you use less memory bandwidth and as a result you also use less system power as long as your shader code doesn’t expect more precision than it specified.</span></span>

<span data-ttu-id="d206a-116">Sie müssen nicht mehrere Shader erstellen, die die minimale Genauigkeit nicht verwenden.</span><span class="sxs-lookup"><span data-stu-id="d206a-116">You don't need to author multiple shaders that do and don't use minimum precision.</span></span> <span data-ttu-id="d206a-117">Erstellen Sie stattdessen Shader mit minimaler Genauigkeit, und die minimalen Genauigkeits Variablen verhalten sich bei vollständiger 32-Bit-Genauigkeit, wenn der Grafiktreiber meldet, dass keine minimale Genauigkeit unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="d206a-117">Instead, create shaders with minimum precision, and the minimum precision variables behave at full 32-bit precision if the graphics driver reports that it doesn't support any minimum precision.</span></span> <span data-ttu-id="d206a-118">HLSL-Shader mit minimaler Genauigkeit funktionieren nicht für Betriebssysteme vor Windows 8. Wenn Sie also frühere Betriebssysteme als Ziel verwenden möchten, müssen Sie mehrere Shader erstellen, von denen einige etwas tun und andere keine minimale Genauigkeit verwenden.</span><span class="sxs-lookup"><span data-stu-id="d206a-118">HLSL minimum precision shaders don't work on operating systems earlier than Windows 8 so if you plan to target earlier operating systems, you'll need to author multiple shaders, some that do and others that don't use minimum precision.</span></span>

> [!Note]  
> <span data-ttu-id="d206a-119">Nehmen Sie keine Daten Wechsel zwischen verschiedenen Genauigkeits Stufen innerhalb eines Shaders vor, da diese Konvertierungs Typen verschwendet werden und die Leistung reduzieren.</span><span class="sxs-lookup"><span data-stu-id="d206a-119">Don't make data switches between different precision levels within a shader because these types of conversions are wasteful and reduce performance.</span></span> <span data-ttu-id="d206a-120">Die Ausnahme besteht darin, dass shaderkonstanten immer noch 32 Bit sind, aber die Hersteller können Grafikhardware entwerfen, die auf die niedrigere Genauigkeit zurück konvertiert werden kann, die für das Lesen der HLSL-Anweisung verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="d206a-120">The exception is that shader constants are still always 32 bit, but vendors can design graphics hardware that can freely down-convert to whatever lower precision the HLSL instruction reading might use.</span></span>

 

<span data-ttu-id="d206a-121">Mithilfe der minimalen Genauigkeit können Sie die Genauigkeit von Berechnungen in verschiedenen Teilen des Shader-Codes steuern.</span><span class="sxs-lookup"><span data-stu-id="d206a-121">By using minimum precision, you can control the precision of computations in various parts of your shader code.</span></span>

<span data-ttu-id="d206a-122">Die Regeln für die minimale Genauigkeit von HLSL sind vergleichbar mit C/C++, wobei die Typen in einem Ausdruck die Genauigkeit des Vorgangs bestimmen, nicht den Typ, in den schließlich geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="d206a-122">The rules for HLSL minimum precision are similar to C/C++, where the types in an expression determine the precision of the operation, not the type being eventually written to.</span></span>

## <a name="testing-your-minimum-precision-shader-code"></a><span data-ttu-id="d206a-123">Testen des Shader-Codes mit minimaler Genauigkeit</span><span class="sxs-lookup"><span data-stu-id="d206a-123">Testing your minimum precision shader code</span></span>

<span data-ttu-id="d206a-124">Der verweisrasterizer ([**D3D \_ Driver \_ Type \_ Reference**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) gibt Ihnen einen groben Eindruck, wie sich die minimale Genauigkeit im HLSL-Shader-Code verhält, indem jede HLSL-Anweisung mit der angegebenen Genauigkeit quantifiziert wird.</span><span class="sxs-lookup"><span data-stu-id="d206a-124">The reference rasterizer ([**D3D\_DRIVER\_TYPE\_REFERENCE**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) gives you a rough idea of how minimum precision in your HLSL shader code behaves by quantizing each HLSL instruction to the specified precision.</span></span> <span data-ttu-id="d206a-125">Dies hilft Ihnen dabei, Code zu ermitteln, der versehentlich mehr als die minimale Genauigkeit benötigt.</span><span class="sxs-lookup"><span data-stu-id="d206a-125">This helps you discover code that might accidentally rely on more than the minimum precision.</span></span> <span data-ttu-id="d206a-126">Der Verweis Raster wird nicht schneller ausgeführt, wenn der HLSL-Shader-Code eine minimale Genauigkeit verwendet, Sie können ihn jedoch verwenden, um die Richtigkeit des Codes zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="d206a-126">The reference rasterizer doesn’t run any faster when your HLSL shader code uses minimum precision, but you can use it to verify the correctness of your code.</span></span> <span data-ttu-id="d206a-127">[Warp](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**D3D \_ Driver \_ Type \_ Warp**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) unterstützt die Verwendung der minimalen Genauigkeit im HLSL-Shader-Code nicht. Warp wird nur mit vollständiger 32-Bit-Genauigkeit ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="d206a-127">[WARP](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**D3D\_DRIVER\_TYPE\_WARP**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) doesn’t support using minimum precision in HLSL shader code; WARP just runs at full 32-bit precision.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d206a-128">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="d206a-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d206a-129">Programmieranleitung für HLSL</span><span class="sxs-lookup"><span data-stu-id="d206a-129">Programming Guide for HLSL</span></span>](dx-graphics-hlsl-pguide.md)
</dt> </dl>

 

 