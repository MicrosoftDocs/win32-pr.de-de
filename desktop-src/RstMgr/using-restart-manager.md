---
title: Verwenden des Neustart-Managers
description: In den folgenden Abschnitten wird die Verwendung der Neustart-Manager-API beschrieben.
ms.assetid: 78448d5e-20f6-45b6-b833-7d7791e5e4c6
keywords:
- Neustart-Manager neu starten, Verwendung
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6e4ac72edb9f2395bbd67236806c3ab3029372cc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "103858413"
---
# <a name="using-restart-manager"></a><span data-ttu-id="349cd-104">Verwenden des Neustart-Managers</span><span class="sxs-lookup"><span data-stu-id="349cd-104">Using Restart Manager</span></span>

<span data-ttu-id="349cd-105">In den folgenden Abschnitten wird die Verwendung der Neustart-Manager-API beschrieben.</span><span class="sxs-lookup"><span data-stu-id="349cd-105">The following sections describe using the Restart Manager API.</span></span> <span data-ttu-id="349cd-106">Ihre Anwendungen und Dienste sollten auch die [Richtlinien für Anwendungen und Dienste](guidelines-for-applications-and-services.md)einhalten.</span><span class="sxs-lookup"><span data-stu-id="349cd-106">Your applications and services should also follow the [Guidelines for Applications and Services](guidelines-for-applications-and-services.md).</span></span>

## <a name="using-the-microsoft-windows-installer"></a><span data-ttu-id="349cd-107">Verwenden des Microsoft Windows Installer</span><span class="sxs-lookup"><span data-stu-id="349cd-107">Using the Microsoft Windows Installer</span></span>

<span data-ttu-id="349cd-108">Der [Microsoft Windows Installer](/windows/desktop/Msi/windows-installer-portal) Version 4,0 ist der Anwendungsinstallations Dienst von Windows Vista oder Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="349cd-108">The [Microsoft Windows Installer](/windows/desktop/Msi/windows-installer-portal) Version 4.0 is the application installation service of Windows Vista or Windows Server 2008.</span></span> <span data-ttu-id="349cd-109">Anwendungen, die die Windows Installer Version 4,0 für die Installation und Wartung verwenden, verwenden automatisch den Neustart-Manager, um die Systemneustarts zu verringern.</span><span class="sxs-lookup"><span data-stu-id="349cd-109">Applications that use the Windows Installer version 4.0 for installation and servicing automatically use the Restart Manager to reduce system restarts.</span></span> <span data-ttu-id="349cd-110">Benutzerdefinierte Installationsprogramme können auch so entworfen werden, dass Sie die Neustart-Manager-API zum direkten Herunterfahren und Neustarten von Anwendungen und Diensten für den Systemneustart benötigen.</span><span class="sxs-lookup"><span data-stu-id="349cd-110">Custom installers can also be designed to call the Restart Manager API to shut down and restart applications and services directly to avoid requiring a system restart.</span></span> <span data-ttu-id="349cd-111">In Fällen, in denen ein Systemneustart unvermeidlich ist, können Installer die [**InitiateShutdown**](/windows/desktop/api/winreg/nf-winreg-initiateshutdowna) -oder [**ExitWindowsEx**](/windows/desktop/api/winuser/nf-winuser-exitwindowsex) -Funktion verwenden, um Sie so zu planen, dass Sie die Unterbrechung des Benutzers minimiert.</span><span class="sxs-lookup"><span data-stu-id="349cd-111">In cases where a system restart is unavoidable, installers can use the [**InitiateShutdown**](/windows/desktop/api/winreg/nf-winreg-initiateshutdowna) or [**ExitWindowsEx**](/windows/desktop/api/winuser/nf-winuser-exitwindowsex) function to schedule it in such a way that it minimizes the disruption to the user.</span></span> <span data-ttu-id="349cd-112">Interaktive Windows Installer Pakete sollten eine Benutzeroberfläche implementieren, die ein [msirmfilesinuse](/windows/desktop/Msi/msirmfilesinuse-dialog) -Dialogfeld enthält.</span><span class="sxs-lookup"><span data-stu-id="349cd-112">Interactive Windows Installer packages should implement a user interface that includes a [MsiRMFilesInUse](/windows/desktop/Msi/msirmfilesinuse-dialog) dialog box.</span></span> <span data-ttu-id="349cd-113">Weitere Informationen finden Sie unter [Verwenden von Windows Installer mit dem Neustart-Manager](/windows/desktop/Msi/using-windows-installer-with-restart-manager) in der Windows Installer SDK-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="349cd-113">For more information, see [Using Windows Installer with Restart Manager](/windows/desktop/Msi/using-windows-installer-with-restart-manager) in the Windows Installer SDK documentation.</span></span>

## <a name="using-the-restart-manager-api-with-custom-installers"></a><span data-ttu-id="349cd-114">Verwenden der Neustart-Manager-API mit benutzerdefinierten Installationsprogrammen</span><span class="sxs-lookup"><span data-stu-id="349cd-114">Using the Restart Manager API with Custom Installers</span></span>

<span data-ttu-id="349cd-115">Benutzerdefinierte Installationsprogramme oder ein Windows Installer Paket, das benutzerdefinierte Aktionen enthält, die einen Systemneustart verursachen, können die Neustart-Manager-API verwenden, um Anwendungen und Dienste herunterzufahren und neu zu starten.</span><span class="sxs-lookup"><span data-stu-id="349cd-115">Custom installers, or a Windows Installer package that contains custom actions that cause a system restart, can use the Restart Manager API to shut down and restart applications and services.</span></span>

-   <span data-ttu-id="349cd-116">Alle Vorgänge, die mit der Neustart-Manager-API ausgeführt werden, müssen einer-Sitzung zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="349cd-116">All operations that are performed using the Restart Manager API must be associated with a session.</span></span> <span data-ttu-id="349cd-117">Maximal 64 Neustart-Manager-Sitzungen pro Benutzersitzung können gleichzeitig auf dem System geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="349cd-117">A maximum of 64 Restart Manager sessions per user session can be open on the system at the same time.</span></span> <span data-ttu-id="349cd-118">Das primäre Installationsprogramm startet und beendet die Neustart-Manager-Sitzung.</span><span class="sxs-lookup"><span data-stu-id="349cd-118">The primary installer starts and ends the Restart Manager session.</span></span> <span data-ttu-id="349cd-119">Weitere Informationen zum Verwenden des Neustart-Managers mit einem einzelnen Installationsprogramm finden Sie unter Verwenden des Neustart-Managers [mit einem primären Installations](using-restart-manager-with-a-primary-installer.md)Programm.</span><span class="sxs-lookup"><span data-stu-id="349cd-119">For more information about using Restart Manager with a single installer, see [Using Restart Manager with a Primary Installer](using-restart-manager-with-a-primary-installer.md).</span></span>
-   <span data-ttu-id="349cd-120">Wenn dies für die Installation erforderlich ist, kann mindestens ein sekundäres Installationsprogramm mit der Neustart-Manager-Sitzung verknüpft werden und kann entweder in-Process oder außerhalb des Prozesses des primären Installers ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="349cd-120">If necessary for the installation, one or more secondary installers can be joined to the Restart Manager session and can run either in-process or out-of-process of the primary installer.</span></span> <span data-ttu-id="349cd-121">Sekundäre Installer erfordern, dass der Sitzungsschlüssel vom primären Installer bereitgestellt wird, um einer Sitzung beizutreten.</span><span class="sxs-lookup"><span data-stu-id="349cd-121">Secondary installers require that the session key be provided by the primary installer to join a session.</span></span> <span data-ttu-id="349cd-122">Weitere Informationen und ein Beispiel für die Verwendung sekundärer Installer finden Sie unter [Verwenden des Neustart-Managers mit einem sekundären Installations](using-restart-manager-with-a-secondary-installer.md)Programm.</span><span class="sxs-lookup"><span data-stu-id="349cd-122">For more information and an example of using secondary installers, see [Using Restart Manager with a Secondary Installer](using-restart-manager-with-a-secondary-installer.md).</span></span>
-   <span data-ttu-id="349cd-123">Interaktive Installationsprogramme sollten eine Benutzeroberfläche implementieren, die ein [msirmfilesinuse](/windows/desktop/Msi/msirmfilesinuse-dialog) -Dialogfeld enthält, in dem Benutzer aufgefordert werden, Anwendungen und Dienste zu schließen.</span><span class="sxs-lookup"><span data-stu-id="349cd-123">Interactive installers should implement a user interface that includes an [MsiRMFilesInUse](/windows/desktop/Msi/msirmfilesinuse-dialog) dialog box that can ask users to close applications and services.</span></span> <span data-ttu-id="349cd-124">Weitere Informationen finden Sie unter [Verwenden von Windows Installer mit dem Neustart-Manager](/windows/desktop/Msi/using-windows-installer-with-restart-manager) in der Windows Installer SDK-Dokumentation.</span><span class="sxs-lookup"><span data-stu-id="349cd-124">For more information, see [Using Windows Installer with Restart Manager](/windows/desktop/Msi/using-windows-installer-with-restart-manager) in the Windows Installer SDK documentation.</span></span>
-   <span data-ttu-id="349cd-125">Installationsprogramme können die API für den Neustart-Manager zum ändern, Abbrechen und Abrufen des Status des aktuellen Vorgangs für den Neustart-Manager aufruft.</span><span class="sxs-lookup"><span data-stu-id="349cd-125">Installers can call the Restart Manager API to change, cancel, and get the status of the current Restart Manager operation.</span></span> <span data-ttu-id="349cd-126">Weitere Informationen finden Sie in den folgenden Themen: Abrufen [des Status eines Neustart-Manager-Vorgangs](getting-the-status-of-a-restart-manager-operation.md) und [Abbrechen des aktuellen Vorgangs für den Neustart-Manager](canceling-the-current-restart-manager-operation.md).</span><span class="sxs-lookup"><span data-stu-id="349cd-126">For more information, see the following topics: [Getting the Status of a Restart Manager Operation](getting-the-status-of-a-restart-manager-operation.md) and [Canceling the Current Restart Manager Operation](canceling-the-current-restart-manager-operation.md).</span></span>
-   <span data-ttu-id="349cd-127">Installationsprogramme sollten die Dateisystem Umleitung nicht deaktivieren, bevor Sie die Neustart-Manager-API aufrufen.</span><span class="sxs-lookup"><span data-stu-id="349cd-127">Installers should not disable file system redirection before calling the Restart Manager API.</span></span> <span data-ttu-id="349cd-128">Einige 32-Bit-Installationsprogramme, die auf 64-Bit-Windows ausgeführt werden, können eine Datei im Verzeichnis "% windir% System32" möglicherweise nicht registrieren \\ .</span><span class="sxs-lookup"><span data-stu-id="349cd-128">Some 32-bit installers run on 64-bit Windows may be unable to register a file in the %windir%\\system32 directory.</span></span>

 

 