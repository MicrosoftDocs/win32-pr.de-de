---
title: Richtlinien für Dienste
description: Dienste sollten diese Richtlinien einhalten, um sicherzustellen, dass der Neustart-Manager Dienste bei Bedarf Herunterfahren und neu starten kann, um Updates zu installieren. Anwendungen können die Richtlinien verwenden, die unter Richtlinien für Anwendungen beschrieben werden.
ms.assetid: 69a98f82-71bb-4780-8a3f-294cc5629900
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51374c0a4c6fc561b8259aadf15e3d5487e12483
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104039331"
---
# <a name="guidelines-for-services"></a><span data-ttu-id="8029c-104">Richtlinien für Dienste</span><span class="sxs-lookup"><span data-stu-id="8029c-104">Guidelines for Services</span></span>

<span data-ttu-id="8029c-105">Dienste sollten diese Richtlinien einhalten, um sicherzustellen, dass der Neustart-Manager Dienste bei Bedarf Herunterfahren und neu starten kann, um Updates zu installieren.</span><span class="sxs-lookup"><span data-stu-id="8029c-105">Services should adhere to these guidelines to ensure that the Restart Manager can shut down and restart services if necessary to install updates.</span></span> <span data-ttu-id="8029c-106">Anwendungen können die Richtlinien verwenden, die unter [Richtlinien für Anwendungen](guidelines-for-applications.md)beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="8029c-106">Applications can use the guidelines that are described in [Guidelines for Applications](guidelines-for-applications.md).</span></span>

-   <span data-ttu-id="8029c-107">Dienste sollten mit dem [Dienststeuerungs-Manager](/windows/desktop/Services/service-control-manager) heruntergefahren und neu gestartet werden können, ohne dass ein Systemneustart erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="8029c-107">Services should be capable of being shut down and restarted using the [Service Control Manager](/windows/desktop/Services/service-control-manager) without requiring a system restart.</span></span> <span data-ttu-id="8029c-108">Die Ausnahmen zu dieser Richtlinie sind wichtige System Prozesse, die im Kontext von lsass.exe oder services.exe ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="8029c-108">The exceptions to this guideline are critical system processes that run in the context of lsass.exe or services.exe.</span></span>
-   <span data-ttu-id="8029c-109">Der Neustart-Manager berücksichtigt Dienst Abhängigkeiten.</span><span class="sxs-lookup"><span data-stu-id="8029c-109">Restart Manager honors service dependencies.</span></span> <span data-ttu-id="8029c-110">Wenn ein Dienst heruntergefahren und neu gestartet wird, werden die abhängigen Dienste heruntergefahren und neu gestartet.</span><span class="sxs-lookup"><span data-stu-id="8029c-110">When a service is shut down and restarted, its dependent services are shut down and restarted.</span></span>
-   <span data-ttu-id="8029c-111">Dienste sollten das Wiederherstellungs Intervall und den Zurücksetzungs Zeitraum im [Dienststeuerungs-Manager (Service Control Manager, SCM)](/windows/desktop/Services/service-control-manager)angeben.</span><span class="sxs-lookup"><span data-stu-id="8029c-111">Services should specify the recovery interval and reset period in the [Service Control Manager (SCM)](/windows/desktop/Services/service-control-manager).</span></span> <span data-ttu-id="8029c-112">Das Wiederherstellungs Intervall ist die Zeit in msekunden nach dem letzten Fehler, den der SCM vor dem Ausführen der Wiederherstellungs Aktion wartet.</span><span class="sxs-lookup"><span data-stu-id="8029c-112">The recovery interval is the time, in msecs, after the last failure that the SCM waits before taking the recovery action.</span></span> <span data-ttu-id="8029c-113">Der Zurücksetzungs Zeitraum ist die Zeit (in Sekunden) nach dem letzten Fehler, den der Dienststeuerungs-Manager wartet, bevor die Fehler Anzahl auf 0 zurückgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="8029c-113">The reset period is the time, in seconds, after the last failure that the Service Control Manager waits before resetting the failure count to 0.</span></span> <span data-ttu-id="8029c-114">Dienste können die [**ChangeServiceConfig2**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfig2a) -Funktion verwenden, um die Konfigurationseinstellungen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="8029c-114">Services can use [**ChangeServiceConfig2**](/windows/desktop/api/winsvc/nf-winsvc-changeserviceconfig2a) function to change the configuration settings.</span></span>

    <span data-ttu-id="8029c-115">[Kritische Dienste](critical-system-services.md) sollten die folgenden Wiederherstellungs Einstellungen verwenden, um anzugeben, dass der Dienst nach dem ersten Neustart des Diensts eine Minute neu gestartet wird, zwei Minuten nach dem zweiten Fehler neu gestartet und der Computer nach dem dritten Ausfall eine Minute neu gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="8029c-115">[Critical services](critical-system-services.md) should use the following recovery settings to specify that the service be restarted one minute after the first failure to restart the service, restarted two minutes after the second failure, and that the computer be restarted one minute after the third failure.</span></span> <span data-ttu-id="8029c-116">Die Fehler Anzahl wird nach 300 Sekunden auf 0 zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="8029c-116">The failure count is reset to 0 after 300 seconds.</span></span>

    <dl> <span data-ttu-id="8029c-117">Wiederherstellungs Aktionen: Restart/60000/Restart/120000/Reboot/60000 & Reset = 300</span><span class="sxs-lookup"><span data-stu-id="8029c-117">Recovery Actions: Restart/60000/Restart/120000/Reboot/60000 & Reset =300</span></span>  
    </dl>

    <span data-ttu-id="8029c-118">[Wichtige Dienste](critical-system-services.md) sollten vor nicht kritischen Diensten gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="8029c-118">[Critical services](critical-system-services.md) should be started before non-critical services.</span></span> <span data-ttu-id="8029c-119">Dienste, bei denen es sich nicht um kritische Dienste handelt, sollten die folgenden Wiederherstellungs Einstellungen verwenden, um anzugeben, dass der Dienst zwei Minuten nach dem ersten Neustart des Diensts neu gestartet werden soll.</span><span class="sxs-lookup"><span data-stu-id="8029c-119">Services that are not critical services should use the following recovery settings to specify that the service be restarted two minutes after the first failure to restart the service.</span></span> <span data-ttu-id="8029c-120">Der Dienst wird nach dem zweiten Fehler nicht neu gestartet, und ein Administrator muss in diesem Fall eingreifen.</span><span class="sxs-lookup"><span data-stu-id="8029c-120">The service is not restarted after the second failure, and an administrator would need to intervene in this case.</span></span> <span data-ttu-id="8029c-121">Die Fehler Anzahl wird nach 900 Sekunden auf 0 zurückgesetzt.</span><span class="sxs-lookup"><span data-stu-id="8029c-121">The failure count is reset to 0 after 900 seconds.</span></span>

    <dl> <span data-ttu-id="8029c-122">Wiederherstellungs Aktionen: Restart/120000/Restart/300000/None/0 & Reset = 900</span><span class="sxs-lookup"><span data-stu-id="8029c-122">Recovery Actions: Restart/120000/Restart/300000/None/0 & Reset = 900</span></span>  
    </dl>

 

 