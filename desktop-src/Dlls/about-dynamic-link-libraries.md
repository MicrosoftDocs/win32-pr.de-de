---
description: Durch dynamisches Verknüpfen kann ein Modul nur die Informationen einschließen, die zum Auffinden einer exportierten DLL-Funktion zur Ladezeit oder zur Laufzeit erforderlich sind.
ms.assetid: df2a8e4c-7ad0-46ea-9643-1528a9ea1503
title: Informationen zu Dynamic-Link-Bibliotheken
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2bdb24048e17e9164aaf39d0ab337aea33576c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103863375"
---
# <a name="about-dynamic-link-libraries"></a><span data-ttu-id="b3ddf-103">Informationen zu Dynamic-Link-Bibliotheken</span><span class="sxs-lookup"><span data-stu-id="b3ddf-103">About Dynamic-Link Libraries</span></span>

<span data-ttu-id="b3ddf-104">Durch dynamisches Verknüpfen kann ein Modul nur die Informationen einschließen, die zum Auffinden einer exportierten DLL-Funktion zur Ladezeit oder zur Laufzeit erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-104">Dynamic linking allows a module to include only the information needed to locate an exported DLL function at load time or run time.</span></span> <span data-ttu-id="b3ddf-105">Dynamische Verknüpfungen unterscheiden sich von der vertrauten statischen Verknüpfung, bei der der Linker den Code einer Bibliotheksfunktion in jedes Modul kopiert, das Sie aufruft.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-105">Dynamic linking differs from the more familiar static linking, in which the linker copies a library function's code into each module that calls it.</span></span>

## <a name="types-of-dynamic-linking"></a><span data-ttu-id="b3ddf-106">Dynamische Verknüpfungs Typen</span><span class="sxs-lookup"><span data-stu-id="b3ddf-106">Types of Dynamic Linking</span></span>

<span data-ttu-id="b3ddf-107">Es gibt zwei Methoden zum Aufrufen einer Funktion in einer DLL:</span><span class="sxs-lookup"><span data-stu-id="b3ddf-107">There are two methods for calling a function in a DLL:</span></span>

-   <span data-ttu-id="b3ddf-108">Beim *dynamischen Verknüpfen der Ladezeit* führt ein Modul explizite Aufrufe an exportierte DLL-Funktionen aus, als wären es lokale Funktionen.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-108">In *load-time dynamic linking*, a module makes explicit calls to exported DLL functions as if they were local functions.</span></span> <span data-ttu-id="b3ddf-109">Dies erfordert, dass Sie das Modul mit der Import Bibliothek für die DLL verknüpfen, die die Funktionen enthält.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-109">This requires you to link the module with the import library for the DLL that contains the functions.</span></span> <span data-ttu-id="b3ddf-110">Eine Import Bibliothek stellt dem System die Informationen zur Verfügung, die zum Laden der dll und zum Auffinden der exportierten DLL-Funktionen erforderlich sind, wenn die Anwendung geladen wird.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-110">An import library supplies the system with the information needed to load the DLL and locate the exported DLL functions when the application is loaded.</span></span>
-   <span data-ttu-id="b3ddf-111">Bei der *dynamischen Verknüpfung zur Laufzeit* verwendet ein Modul die [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) -Funktion oder die [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) -Funktion, um die dll zur Laufzeit zu laden.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-111">In *run-time dynamic linking*, a module uses the [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) or [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) function to load the DLL at run time.</span></span> <span data-ttu-id="b3ddf-112">Nachdem die dll geladen wurde, ruft das Modul die [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) -Funktion auf, um die Adressen der exportierten DLL-Funktionen zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-112">After the DLL is loaded, the module calls the [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) function to get the addresses of the exported DLL functions.</span></span> <span data-ttu-id="b3ddf-113">Das Modul ruft die exportierten DLL-Funktionen mithilfe der von **GetProcAddress** zurückgegebenen Funktionszeiger auf.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-113">The module calls the exported DLL functions using the function pointers returned by **GetProcAddress**.</span></span> <span data-ttu-id="b3ddf-114">Dadurch entfällt die Notwendigkeit einer Import Bibliothek.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-114">This eliminates the need for an import library.</span></span>

## <a name="dlls-and-memory-management"></a><span data-ttu-id="b3ddf-115">DLLs und Speicherverwaltung</span><span class="sxs-lookup"><span data-stu-id="b3ddf-115">DLLs and Memory Management</span></span>

<span data-ttu-id="b3ddf-116">Jeder Prozess, der die dll lädt, ordnet Sie dem virtuellen Adressraum zu.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-116">Every process that loads the DLL maps it into its virtual address space.</span></span> <span data-ttu-id="b3ddf-117">Nachdem der Prozess die dll in seine virtuelle Adresse geladen hat, kann Sie die exportierten DLL-Funktionen aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-117">After the process loads the DLL into its virtual address, it can call the exported DLL functions.</span></span>

<span data-ttu-id="b3ddf-118">Das System verwaltet einen pro-Prozess-Verweis Zähler für jede DLL.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-118">The system maintains a per-process reference count for each DLL.</span></span> <span data-ttu-id="b3ddf-119">Wenn ein Thread die dll lädt, wird der Verweis Zähler um eins erhöht.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-119">When a thread loads the DLL, the reference count is incremented by one.</span></span> <span data-ttu-id="b3ddf-120">Wenn der Prozess beendet wird oder wenn der Verweis Zähler Null wird (nur Lauf Zeit dynamische Verknüpfung), wird die dll aus dem virtuellen Adressraum des Prozesses entladen.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-120">When the process terminates, or when the reference count becomes zero (run-time dynamic linking only), the DLL is unloaded from the virtual address space of the process.</span></span>

<span data-ttu-id="b3ddf-121">Wie jede andere Funktion wird eine exportierte DLL-Funktion im Kontext des Threads ausgeführt, von dem Sie aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-121">Like any other function, an exported DLL function runs in the context of the thread that calls it.</span></span> <span data-ttu-id="b3ddf-122">Daher gelten die folgenden Bedingungen:</span><span class="sxs-lookup"><span data-stu-id="b3ddf-122">Therefore, the following conditions apply:</span></span>

-   <span data-ttu-id="b3ddf-123">Die Threads des Prozesses, der die dll aufgerufen hat, können Handles verwenden, die von einer DLL-Funktion geöffnet wurden.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-123">The threads of the process that called the DLL can use handles opened by a DLL function.</span></span> <span data-ttu-id="b3ddf-124">Ebenso können Handles, die von einem beliebigen Thread des aufrufenden Prozesses geöffnet werden, in der DLL-Funktion verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-124">Similarly, handles opened by any thread of the calling process can be used in the DLL function.</span></span>
-   <span data-ttu-id="b3ddf-125">Die dll verwendet den Stapel des aufrufenden Threads und den virtuellen Adressraum des aufrufenden Prozesses.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-125">The DLL uses the stack of the calling thread and the virtual address space of the calling process.</span></span>
-   <span data-ttu-id="b3ddf-126">Die dll weist Speicher aus dem virtuellen Adressraum des aufrufenden Prozesses zu.</span><span class="sxs-lookup"><span data-stu-id="b3ddf-126">The DLL allocates memory from the virtual address space of the calling process.</span></span>

<span data-ttu-id="b3ddf-127">Weitere Informationen zu DLLs finden Sie in den folgenden Themen:</span><span class="sxs-lookup"><span data-stu-id="b3ddf-127">For more information about DLLs, see the following topics:</span></span>

-   [<span data-ttu-id="b3ddf-128">Vorteile dynamischer Verknüpfungen</span><span class="sxs-lookup"><span data-stu-id="b3ddf-128">Advantages of Dynamic Linking</span></span>](advantages-of-dynamic-linking.md)
-   [<span data-ttu-id="b3ddf-129">Erstellung von Dynamic Link Library</span><span class="sxs-lookup"><span data-stu-id="b3ddf-129">Dynamic-Link Library Creation</span></span>](dynamic-link-library-creation.md)
-   [<span data-ttu-id="b3ddf-130">Dynamic-Link Library Entry-Point-Funktion</span><span class="sxs-lookup"><span data-stu-id="b3ddf-130">Dynamic-Link Library Entry-Point Function</span></span>](dynamic-link-library-entry-point-function.md)
-   [<span data-ttu-id="b3ddf-131">Dynamische Verknüpfung der Ladezeit</span><span class="sxs-lookup"><span data-stu-id="b3ddf-131">Load-Time Dynamic Linking</span></span>](load-time-dynamic-linking.md)
-   [<span data-ttu-id="b3ddf-132">Dynamische Verknüpfung zur Laufzeit</span><span class="sxs-lookup"><span data-stu-id="b3ddf-132">Run-Time Dynamic Linking</span></span>](run-time-dynamic-linking.md)
-   [<span data-ttu-id="b3ddf-133">Dynamic Link Library-Suchreihenfolge</span><span class="sxs-lookup"><span data-stu-id="b3ddf-133">Dynamic-Link Library Search Order</span></span>](dynamic-link-library-search-order.md)
-   [<span data-ttu-id="b3ddf-134">Dynamic Link Library-Daten</span><span class="sxs-lookup"><span data-stu-id="b3ddf-134">Dynamic-Link Library Data</span></span>](dynamic-link-library-data.md)
-   [<span data-ttu-id="b3ddf-135">Umleitung von Dynamic Link Library</span><span class="sxs-lookup"><span data-stu-id="b3ddf-135">Dynamic-Link Library Redirection</span></span>](dynamic-link-library-redirection.md)
-   [<span data-ttu-id="b3ddf-136">Dynamic Link Library-Aktualisierungen</span><span class="sxs-lookup"><span data-stu-id="b3ddf-136">Dynamic-Link Library Updates</span></span>](dynamic-link-library-updates.md)
-   [<span data-ttu-id="b3ddf-137">Dynamic Link Library-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="b3ddf-137">Dynamic-Link Library Security</span></span>](dynamic-link-library-security.md)
-   [<span data-ttu-id="b3ddf-138">AppInit-DLLs und sicherer Start</span><span class="sxs-lookup"><span data-stu-id="b3ddf-138">AppInit DLLs and Secure Boot</span></span>](secure-boot-and-appinit-dlls.md)

 

 
