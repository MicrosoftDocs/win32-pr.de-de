---
title: Pixel-Shader-Phase
description: Die Pixel-Shader-Stufe (PS) ermöglicht umfassende Schattierungs Techniken wie z. b. pro Pixel-Beleuchtung und Nachbearbeitung.
ms.assetid: 09831B10-4FD1-41E7-8D81-5AA63DC90020
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 57142e9c32919a6959a7fac14bf544cca1dacd79
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104102083"
---
# <a name="pixel-shader-stage"></a><span data-ttu-id="09350-103">Pixel-Shader-Phase</span><span class="sxs-lookup"><span data-stu-id="09350-103">Pixel Shader Stage</span></span>

<span data-ttu-id="09350-104">Die Pixel-Shader-Stufe (PS) ermöglicht umfassende Schattierungs Techniken wie z. b. pro Pixel-Beleuchtung und Nachbearbeitung.</span><span class="sxs-lookup"><span data-stu-id="09350-104">The pixel-shader stage (PS) enables rich shading techniques such as per-pixel lighting and post-processing.</span></span> <span data-ttu-id="09350-105">Ein Pixelshader ist ein Programm, das Konstante Variablen, Textur Daten, interpoliert pro Scheitelpunkt Werte und andere Daten kombiniert, um pro-Pixel-Ausgaben zu liefern.</span><span class="sxs-lookup"><span data-stu-id="09350-105">A pixel shader is a program that combines constant variables, texture data, interpolated per-vertex values, and other data to produce per-pixel outputs.</span></span> <span data-ttu-id="09350-106">Die Raster-Stufe Ruft einen Pixel-Shader einmal für jedes Pixel auf, das von einem primitiven abgedeckt wird. es ist jedoch möglich, einen **null** -Shader anzugeben, um das Ausführen eines Shaders zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="09350-106">The rasterizer stage invokes a pixel shader once for each pixel covered by a primitive, however, it is possible to specify a **NULL** shader to avoid running a shader.</span></span>

## <a name="the-pixel-shader"></a><span data-ttu-id="09350-107">Der Pixelshader.</span><span class="sxs-lookup"><span data-stu-id="09350-107">The Pixel Shader</span></span>

<span data-ttu-id="09350-108">Beim multisamplinggrad einer Textur wird ein Pixelshader einmal pro abgedecktem Pixel aufgerufen, während bei jedem behandelten Multisample ein tiefen-/Schablone-Test erfolgt.</span><span class="sxs-lookup"><span data-stu-id="09350-108">When multisampling a texture, a pixel shader is invoked once per-covered pixel while a depth/stencil test occurs for each covered multisample.</span></span> <span data-ttu-id="09350-109">Beispiele, die den tiefen-/Schablone-Test bestehen, werden mit der Pixel-Shader-Ausgabe Farbe aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="09350-109">Samples that pass the depth/stencil test are updated with the pixel shader output color.</span></span>

<span data-ttu-id="09350-110">Die intrinsischen Funktionen des Pixel-Shaders liefern oder verwenden Ableitungen von Mengen in Bezug auf den Bildschirmbereich x und y.</span><span class="sxs-lookup"><span data-stu-id="09350-110">The pixel shader intrinsic functions produce or use derivatives of quantities with respect to screen space x and y.</span></span> <span data-ttu-id="09350-111">Die häufigste Verwendung von Ableitungen ist die Berechnung von Detail Berechnungen für die Textur Stichprobe und im Fall von anisotrope Filterung, indem Beispiele entlang der Achse von Anisotropie ausgewählt werden.</span><span class="sxs-lookup"><span data-stu-id="09350-111">The most common use for derivatives is to compute level-of-detail calculations for texture sampling and in the case of anisotropic filtering, selecting samples along the axis of anisotropy.</span></span> <span data-ttu-id="09350-112">In der Regel führt eine Hardware Implementierung einen Pixel-Shader auf mehreren Pixeln (z. b. ein 2 x 2-Raster) gleichzeitig aus, sodass Ableitungen von Mengen, die im Pixelshader berechnet werden, als Delta der Werte zum gleichen Zeitpunkt der Ausführung in angrenzenden Pixeln angleichen können.</span><span class="sxs-lookup"><span data-stu-id="09350-112">Typically, a hardware implementation runs a pixel shader on multiple pixels (for example a 2x2 grid) simultaneously, so that derivatives of quantities computed in the pixel shader can be reasonably approximated as deltas of the values at the same point of execution in adjacent pixels.</span></span>

### <a name="inputs"></a><span data-ttu-id="09350-113">Eingaben</span><span class="sxs-lookup"><span data-stu-id="09350-113">Inputs</span></span>

<span data-ttu-id="09350-114">Wenn die Pipeline ohne einen Geometry-Shader konfiguriert ist, ist ein Pixelshader auf 16, 32-Bit, 4-komponenteneingaben beschränkt.</span><span class="sxs-lookup"><span data-stu-id="09350-114">When the pipeline is configured without a geometry shader, a pixel shader is limited to 16, 32-bit, 4-component inputs.</span></span> <span data-ttu-id="09350-115">Andernfalls kann ein Pixelshader bis zu 32, 32-Bit, 4-komponenteneingaben annehmen.</span><span class="sxs-lookup"><span data-stu-id="09350-115">Otherwise, a pixel shader can take up to 32, 32-bit, 4-component inputs.</span></span>

<span data-ttu-id="09350-116">Die Pixel-Shader-Eingabedaten enthalten Scheitelpunkt Attribute (die mit oder ohne Perspektiven Korrektur interpoliert werden können) oder als primitive Konstanten behandelt werden können.</span><span class="sxs-lookup"><span data-stu-id="09350-116">Pixel shader input data includes vertex attributes (that can be interpolated with or without perspective correction) or can be treated as per-primitive constants.</span></span> <span data-ttu-id="09350-117">Pixel-shadereingaben werden aus den Vertex-Attributen des primitiven, das auf der Grundlage des deklarierten Interpolations Modus basiert, interpoliert.</span><span class="sxs-lookup"><span data-stu-id="09350-117">Pixel shader inputs are interpolated from the vertex attributes of the primitive being rasterized, based on the interpolation mode declared.</span></span> <span data-ttu-id="09350-118">Wenn ein primitiver vor der rasterisierung abgeschnitten wird, wird der Interpolations Modus während des clippingprozesses ebenfalls berücksichtigt.</span><span class="sxs-lookup"><span data-stu-id="09350-118">If a primitive gets clipped before rasterization, the interpolation mode is honored during the clipping process as well.</span></span>

<span data-ttu-id="09350-119">Vertex-Attribute werden an Pixel-Shader-Mittelpunkt Positionen interpoliert (oder ausgewertet).</span><span class="sxs-lookup"><span data-stu-id="09350-119">Vertex attributes are interpolated (or evaluated) at pixel shader center locations.</span></span> <span data-ttu-id="09350-120">Pixelshader-Attribut Interpolations Modi werden in einer Eingabe Register Deklaration in einer pro-Element-Basis in einem [Argument](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-function-parameters) oder einer [Eingabe Struktur](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-struct)deklariert.</span><span class="sxs-lookup"><span data-stu-id="09350-120">Pixel shader attribute interpolation modes are declared in an input register declaration, on a per-element basis in either an [argument](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-function-parameters) or an [input structure](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-struct).</span></span> <span data-ttu-id="09350-121">Attribute können linear oder mit [Schwerpunkt-Sampling](https://msdn.microsoft.com/library/Ee415231(v=VS.85).aspx)interpoliert werden.</span><span class="sxs-lookup"><span data-stu-id="09350-121">Attributes can be interpolated linearly, or with [centroid sampling](https://msdn.microsoft.com/library/Ee415231(v=VS.85).aspx).</span></span> <span data-ttu-id="09350-122">Die Centroid-Auswertung ist nur bei der multisamplinggrad relevant, um Fälle abzudecken, in denen ein Pixel durch ein primitiv abgedeckt ist, ein Pixel Center jedoch möglicherweise nicht ist. die Schwerpunkt Auswertung erfolgt so nah wie möglich im (nicht abgedeckten) Pixel Center.</span><span class="sxs-lookup"><span data-stu-id="09350-122">Centroid evaluation is relevant only during multisampling to cover cases where a pixel is covered by a primitive but a pixel center may not be; centroid evaluation occurs as close as possible to the (non-covered) pixel center.</span></span>

<span data-ttu-id="09350-123">Eingaben können auch mit einer [System Wert Semantik](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-semantics)deklariert werden, die einen Parameter markiert, der von anderen Pipeline Stufen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="09350-123">Inputs may also be declared with a [system-value semantic](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-semantics), which marks a parameter that is consumed by other pipeline stages.</span></span> <span data-ttu-id="09350-124">Beispielsweise sollte eine Pixelposition mit der SV- \_ Positions Semantik gekennzeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="09350-124">For instance, a pixel position should be marked with the SV\_Position semantic.</span></span> <span data-ttu-id="09350-125">Die IA-Phase kann einen Skalarwert für einen PixelShader (mit \_ der SV primitiveid) erzeugen; die Raster-Stufe kann auch einen Skalarwert für einen PixelShader generieren (mithilfe von SV \_ isfrontface).</span><span class="sxs-lookup"><span data-stu-id="09350-125">The IA stage can produce one scalar for a pixel shader (using SV\_PrimitiveID); the rasterizer stage can also generate one scalar for a pixel shader (using SV\_IsFrontFace).</span></span>

### <a name="outputs"></a><span data-ttu-id="09350-126">Ausgaben</span><span class="sxs-lookup"><span data-stu-id="09350-126">Outputs</span></span>

<span data-ttu-id="09350-127">Ein Pixelshader kann bis zu 8, 32-Bit, 4-Komponentenfarben oder keine Farbe ausgeben, wenn das Pixel verworfen wird.</span><span class="sxs-lookup"><span data-stu-id="09350-127">A pixel shader can output up to 8, 32-bit, 4-component colors, or no color if the pixel is discarded.</span></span> <span data-ttu-id="09350-128">Die Pixel-Shader-Ausgabe Register Komponenten müssen deklariert werden, bevor Sie verwendet werden können. jedem Register ist eine eindeutige Ausgabe-/Schreibmaske gestattet.</span><span class="sxs-lookup"><span data-stu-id="09350-128">Pixel shader output register components must be declared before they can be used; each register is allowed a distinct output-write mask.</span></span>

<span data-ttu-id="09350-129">Verwenden Sie den Status "Tiefe-Write-Enable" (in der Ausgabe-Fusion-Phase), um zu steuern, ob die Tiefendaten in einen tiefen Puffer geschrieben werden (oder verwenden Sie die Verwerfungs Anweisung, um Daten für dieses Pixel zu verwerfen).</span><span class="sxs-lookup"><span data-stu-id="09350-129">Use the depth-write-enable state (in the output-merger stage) to control whether depth data gets written to a depth buffer (or use the discard instruction to discard data for that pixel).</span></span> <span data-ttu-id="09350-130">Ein Pixelshader kann auch einen optionalen 32-Bit-, 1-Component-, Gleit Komma-und Tiefen Wert für tiefen Tests ausgeben (mit der SV- \_ tiefen Semantik).</span><span class="sxs-lookup"><span data-stu-id="09350-130">A pixel shader can also output an optional 32-bit, 1-component, floating-point, depth value for depth testing (using the SV\_Depth semantic).</span></span> <span data-ttu-id="09350-131">Der tiefen Wert wird im otiefe-Register ausgegeben und ersetzt den interinterpolated-tiefen Wert für tiefen Tests (vorausgesetzt, die tiefen Tests sind aktiviert).</span><span class="sxs-lookup"><span data-stu-id="09350-131">The depth value is output in the oDepth register, and replaces the interpolated depth value for depth testing (assuming depth testing is enabled).</span></span> <span data-ttu-id="09350-132">Es gibt keine Möglichkeit, dynamisch zwischen der Verwendung der tiefen Tiefe oder der Shader-otiefe zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="09350-132">There is no way to dynamically change between using fixed-function depth or shader oDepth.</span></span>

<span data-ttu-id="09350-133">Ein Pixelshader kann einen Schablonen Wert nicht ausgeben.</span><span class="sxs-lookup"><span data-stu-id="09350-133">A pixel shader cannot output a stencil value.</span></span>

## <a name="related-topics"></a><span data-ttu-id="09350-134">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="09350-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="09350-135">Grafik Pipeline</span><span class="sxs-lookup"><span data-stu-id="09350-135">Graphics Pipeline</span></span>](overviews-direct3d-11-graphics-pipeline.md)
</dt> <dt>

[<span data-ttu-id="09350-136">Pipeline Stufen (Direct3D 10)</span><span class="sxs-lookup"><span data-stu-id="09350-136">Pipeline Stages (Direct3D 10)</span></span>](/windows/desktop/direct3d10/d3d10-graphics-programming-guide-pipeline-stages)
</dt> </dl>

 

 