---
title: Sofortiges und verzögertes Rendering
description: Direct3D 11 unterstützt zwei renderingtypen direkt und verzögert. Beide werden mithilfe der Verknüpfung id3d11devicecontext aus-Schnittstelle implementiert.
ms.assetid: 8991be9f-c882-4752-9048-704fe4ae1725
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef954a8e794755e1405c8e1e07505a5f39189b03
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 09/16/2019
ms.locfileid: "104992822"
---
# <a name="immediate-and-deferred-rendering"></a><span data-ttu-id="48c03-104">Sofortiges und verzögertes Rendering</span><span class="sxs-lookup"><span data-stu-id="48c03-104">Immediate and Deferred Rendering</span></span>

<span data-ttu-id="48c03-105">Direct3D 11 unterstützt zwei renderingtypen: direkt und verzögert.</span><span class="sxs-lookup"><span data-stu-id="48c03-105">Direct3D 11 supports two types of rendering: immediate and deferred.</span></span> <span data-ttu-id="48c03-106">Beide werden mithilfe der [**Verknüpfung id3d11devicecontext aus**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) -Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="48c03-106">Both are implemented by using the [**ID3D11DeviceContext**](/windows/desktop/api/D3D11/nn-d3d11-id3d11devicecontext) interface.</span></span>

## <a name="immediate-rendering"></a><span data-ttu-id="48c03-107">Sofortiges Rendering</span><span class="sxs-lookup"><span data-stu-id="48c03-107">Immediate Rendering</span></span>

<span data-ttu-id="48c03-108">Sofortiges Rendering bezieht sich auf das Aufrufen von Rendering-APIs oder-Befehlen von einem Gerät, das die Befehle in einem Puffer zur Ausführung auf der GPU in die Warteschlange stellt.</span><span class="sxs-lookup"><span data-stu-id="48c03-108">Immediate rendering refers to calling rendering APIs or commands from a device, which queues the commands in a buffer for execution on the GPU.</span></span> <span data-ttu-id="48c03-109">Verwenden Sie einen unmittelbaren Kontext zum Rendering, zum Festlegen des Pipeline Zustands und zum Wiedergeben einer Befehlsliste.</span><span class="sxs-lookup"><span data-stu-id="48c03-109">Use an immediate context to render, set pipeline state, and play back a command list.</span></span>

<span data-ttu-id="48c03-110">Erstellen Sie einen unmittelbaren Kontext mithilfe von [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) oder [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain).</span><span class="sxs-lookup"><span data-stu-id="48c03-110">Create an immediate context using [**D3D11CreateDevice**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdevice) or [**D3D11CreateDeviceAndSwapChain**](/windows/desktop/api/D3D11/nf-d3d11-d3d11createdeviceandswapchain).</span></span>

## <a name="deferred-rendering"></a><span data-ttu-id="48c03-111">Verzögertes Rendering</span><span class="sxs-lookup"><span data-stu-id="48c03-111">Deferred Rendering</span></span>

<span data-ttu-id="48c03-112">Das verzögerte Rendering zeichnet Grafikbefehle in einem Befehls Puffer auf, damit Sie zu einem späteren Zeitpunkt wiedergegeben werden können.</span><span class="sxs-lookup"><span data-stu-id="48c03-112">Deferred rendering records graphics commands in a command buffer so that they can be played back at some other time.</span></span> <span data-ttu-id="48c03-113">Verwenden Sie einen verzögerten Kontext zum Aufzeichnen von Befehlen (Rendering und Zustands Einstellung) in einer Befehlsliste.</span><span class="sxs-lookup"><span data-stu-id="48c03-113">Use a deferred context to record commands (rendering as well as state setting) to a command list.</span></span> <span data-ttu-id="48c03-114">Verzögertes Rendering ist ein neues Konzept in Direct3D 11; das verzögerte Rendering unterstützt das Rendering in einem Thread beim Aufzeichnen von Befehlen für das Rendering in weiteren Threads.</span><span class="sxs-lookup"><span data-stu-id="48c03-114">Deferred rendering is a new concept in Direct3D 11; deferred rendering is designed to support rendering on one thread while recording commands for rendering on additional threads.</span></span> <span data-ttu-id="48c03-115">Diese parallele multithreadstrategie ermöglicht es Ihnen, komplexe Szenen in gleichzeitige Aufgaben zu unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="48c03-115">This parallel, multithread strategy allows you to break up complex scenes into concurrent tasks.</span></span> <span data-ttu-id="48c03-116">Weitere Informationen zum Rendern komplexer Szenen finden Sie unter [Multi-Pass-Rendering](overviews-direct3d-11-render-multipass.md).</span><span class="sxs-lookup"><span data-stu-id="48c03-116">For more information about rendering complex scenes, see [Multiple-Pass Rendering](overviews-direct3d-11-render-multipass.md).</span></span>

<span data-ttu-id="48c03-117">Erstellen Sie einen verzögerten Kontext mithilfe von [**ID3D11Device:: kreatedeferredcontext**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdeferredcontext).</span><span class="sxs-lookup"><span data-stu-id="48c03-117">Create a deferred context using [**ID3D11Device::CreateDeferredContext**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createdeferredcontext).</span></span>

<span data-ttu-id="48c03-118">Direct3D generiert renderingaufwand, wenn Befehle im Befehls Puffer in die Warteschlange eingereiht werden.</span><span class="sxs-lookup"><span data-stu-id="48c03-118">Direct3D generates rendering overhead when it queues up commands in the command buffer.</span></span> <span data-ttu-id="48c03-119">Im Gegensatz dazu wird eine [Befehlsliste](overviews-direct3d-11-render-multi-thread-command-list.md) während der Wiedergabe wesentlich effizienter ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="48c03-119">In contrast, a [command list](overviews-direct3d-11-render-multi-thread-command-list.md) executes much more efficiently during playback.</span></span> <span data-ttu-id="48c03-120">Zum Verwenden einer Befehlsliste zeichnen Sie renderingbefehle mit einem verzögerten Kontext auf und wiedergeben Sie mithilfe eines unmittelbaren Kontexts wieder.</span><span class="sxs-lookup"><span data-stu-id="48c03-120">To use a command list, record rendering commands with a deferred context and play them back using an immediate context.</span></span>

<span data-ttu-id="48c03-121">Sie können nur eine einzige Befehlsliste im Single Thread-Stil generieren.</span><span class="sxs-lookup"><span data-stu-id="48c03-121">You can generate only a single command list in a single-threaded fashion.</span></span> <span data-ttu-id="48c03-122">Sie können jedoch mehrere verzögerte Kontexte gleichzeitig erstellen und verwenden, jeweils in einem separaten Thread.</span><span class="sxs-lookup"><span data-stu-id="48c03-122">However, you can create and use multiple deferred contexts simultaneously, each in a separate thread.</span></span> <span data-ttu-id="48c03-123">Anschließend können Sie diese mehrere verzögerte Kontexte verwenden, um mehrere Befehlslisten gleichzeitig zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="48c03-123">Then, you can use those multiple deferred contexts to simultaneously create multiple command lists.</span></span>

<span data-ttu-id="48c03-124">Sie können zwei oder mehr Befehlslisten nicht gleichzeitig im unmittelbaren Kontext wiedergeben.</span><span class="sxs-lookup"><span data-stu-id="48c03-124">You cannot play back two or more command lists simultaneously on the immediate context.</span></span>

<span data-ttu-id="48c03-125">Um zu ermitteln, ob ein Gerätekontext ein unmittelbarer oder ein verzögerter Kontext ist, müssen Sie [**Verknüpfung id3d11devicecontext aus:: GetType**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gettype)aufrufen.</span><span class="sxs-lookup"><span data-stu-id="48c03-125">To determine if a device context is an immediate or a deferred context, call [**ID3D11DeviceContext::GetType**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gettype).</span></span>

<span data-ttu-id="48c03-126">Die [**Verknüpfung id3d11devicecontext aus:: Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) -Methode wird nur in einem verzögerten Kontext für dynamische Ressourcen ([**D3D11 \_ Usage \_ Dynamic**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_usage)) unterstützt, wobei der erste Befehl in der Befehlsliste [**D3D11 Map- \_ \_ Schreib \_ Verwerfungs**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_map)Wert ist.</span><span class="sxs-lookup"><span data-stu-id="48c03-126">The [**ID3D11DeviceContext::Map**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-map) method is only supported in a deferred context for dynamic resources ([**D3D11\_USAGE\_DYNAMIC**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_usage)) where the first call within the command list is [**D3D11\_MAP\_WRITE\_DISCARD**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_map).</span></span> <span data-ttu-id="48c03-127">**D3D11 \_ Das \_ schreiben \_ \_** von Zuordnungen wird für nachfolgende Aufrufe nicht unterstützt, sofern diese für den angegebenen Ressourcentyp verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="48c03-127">**D3D11\_MAP\_WRITE\_NO\_OVERWRITE** is supported on subsequent calls if available for the given type of resource.</span></span>

<span data-ttu-id="48c03-128">Abfragen in einem verzögerten Kontext sind auf die Datengenerierung und die Prädikat Zeichnung beschränkt.</span><span class="sxs-lookup"><span data-stu-id="48c03-128">Queries in a deferred context are limited to data generation and predicated drawing.</span></span> <span data-ttu-id="48c03-129">Sie können [**Verknüpfung id3d11devicecontext aus:: GetData**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-getdata) nicht in einem verzögerten Kontext aufrufen, um Daten zu einer Abfrage abzurufen. Sie können **GetData** nur im unmittelbaren Kontext aufrufen, um Daten zu einer Abfrage abzurufen.</span><span class="sxs-lookup"><span data-stu-id="48c03-129">You cannot call [**ID3D11DeviceContext::GetData**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-getdata) on a deferred context to get data about a query; you can only call **GetData** on the immediate context to get data about a query.</span></span> <span data-ttu-id="48c03-130">Sie können ein Rendering-Prädikat (einen Abfragetyp) festlegen, indem Sie [**D3D11DeviceContext:: setprediation**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-setpredication) aufrufen, um Abfrageergebnisse auf der GPU zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="48c03-130">You can set a rendering predicate (a type of query) by calling [**D3D11DeviceContext::SetPredication**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-setpredication) to use query results on the GPU.</span></span> <span data-ttu-id="48c03-131">Sie können Abfrage Daten durch Aufrufe von [**Verknüpfung id3d11devicecontext aus:: begin**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-begin) und [**Verknüpfung id3d11devicecontext aus:: End**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-end)generieren.</span><span class="sxs-lookup"><span data-stu-id="48c03-131">You can generate query data through calls to [**ID3D11DeviceContext::Begin**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-begin) and [**ID3D11DeviceContext::End**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-end).</span></span> <span data-ttu-id="48c03-132">Die Abfrage Daten sind jedoch erst verfügbar, wenn Sie [**Verknüpfung id3d11devicecontext aus:: executecommandlist**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-executecommandlist) im unmittelbaren Kontext aufrufen, um die verzögerte Kontext Befehlsliste zu übermitteln.</span><span class="sxs-lookup"><span data-stu-id="48c03-132">However, the query data will not be available until you call [**ID3D11DeviceContext::ExecuteCommandList**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-executecommandlist) on the immediate context to submit the deferred context command list.</span></span> <span data-ttu-id="48c03-133">Die Abfrage Daten werden dann von der GPU verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="48c03-133">The query data is then processed by the GPU.</span></span>

## <a name="related-topics"></a><span data-ttu-id="48c03-134">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="48c03-134">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="48c03-135">Multithreading</span><span class="sxs-lookup"><span data-stu-id="48c03-135">Multithreading</span></span>](overviews-direct3d-11-render-multi-thread.md)
</dt> </dl>

 

 




