---
title: Funktionen für Textur Stichproben der Kachel Ressourcen
description: In diesem Abschnitt werden die Funktionen für Textur Stichproben von Kacheln beschrieben
ms.assetid: E56737CE-C468-4D3C-84EE-E8EB2AB6F505
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cdd46c96219e54aea6990e91de8e340fdca5e32b
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "103728728"
---
# <a name="tiled-resources-texture-sampling-features"></a><span data-ttu-id="8c47e-103">Funktionen für Textur Stichproben der Kachel Ressourcen</span><span class="sxs-lookup"><span data-stu-id="8c47e-103">Tiled resources texture sampling features</span></span>

<span data-ttu-id="8c47e-104">In diesem Abschnitt werden die Funktionen für Textur Stichproben von Kacheln beschrieben</span><span class="sxs-lookup"><span data-stu-id="8c47e-104">This section describes tiled resources texture sampling features.</span></span>

## <a name="requirements-of-tiled-resources-texture-sampling-features"></a><span data-ttu-id="8c47e-105">Anforderungen an die Textur-Sampling-Features der Kachel Ressourcen</span><span class="sxs-lookup"><span data-stu-id="8c47e-105">Requirements of tiled resources texture sampling features</span></span>

<span data-ttu-id="8c47e-106">Die hier beschriebenen Funktionen für die Textur Stichproben erfordern die Unterstützung von untergeordneten Elementen der Ebene [2](tier-2.md) .</span><span class="sxs-lookup"><span data-stu-id="8c47e-106">The texture sampling features described here require [Tier 2](tier-2.md) level of tiled resources support.</span></span>

## <a name="shader-feedback-about-mapped-areas"></a><span data-ttu-id="8c47e-107">Shader-Feedback zu zugeordneten Bereichen</span><span class="sxs-lookup"><span data-stu-id="8c47e-107">Shader feedback about mapped areas</span></span>

<span data-ttu-id="8c47e-108">Jede shaderanweisung, die eine gekachelte Ressource liest und/oder schreibt, bewirkt, dass Statusinformationen aufgezeichnet werden.</span><span class="sxs-lookup"><span data-stu-id="8c47e-108">Any shader instruction that reads and/or writes to a tiled resource causes status information to be recorded.</span></span> <span data-ttu-id="8c47e-109">Dieser Status wird als optionaler zusätzlicher Rückgabewert für jede Ressourcen Zugriffs Anweisung verfügbar gemacht, die in ein Temp-32-Bit-Register übergeht.</span><span class="sxs-lookup"><span data-stu-id="8c47e-109">This status is exposed as an optional extra return value on every resource access instruction that goes into a 32-bit temp register.</span></span> <span data-ttu-id="8c47e-110">Der Inhalt des Rückgabewerts ist nicht transparent.</span><span class="sxs-lookup"><span data-stu-id="8c47e-110">The contents of the return value are opaque.</span></span> <span data-ttu-id="8c47e-111">Das heißt, das direkte Lesen durch das Shader-Programm ist nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="8c47e-111">That is, direct reading by the shader program is disallowed.</span></span> <span data-ttu-id="8c47e-112">Sie können jedoch die [**checkaccessfullymapping**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) -Funktion verwenden, um die Statusinformationen zu extrahieren.</span><span class="sxs-lookup"><span data-stu-id="8c47e-112">But, you can use the [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) function to extract the status info.</span></span>

## <a name="fully-mapped-check"></a><span data-ttu-id="8c47e-113">Vollständige Zuordnung überprüfen</span><span class="sxs-lookup"><span data-stu-id="8c47e-113">Fully mapped check</span></span>

<span data-ttu-id="8c47e-114">Die [**checkaccessfullymapping**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) -Funktion interpretiert den von einem Speicherzugriff zurückgegebenen Status und gibt an, ob alle Daten, auf die zugegriffen wird, in der Ressource zugeordnet wurden.</span><span class="sxs-lookup"><span data-stu-id="8c47e-114">The [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) function interprets the status returned from a memory access and indicates whether all data being accessed was mapped in the resource.</span></span> <span data-ttu-id="8c47e-115">**Checkaccessfullymapping** gibt true (0xFFFFFFFF) zurück, wenn Daten zugeordnet wurden, oder false (0x00000000), wenn die Daten nicht zugeordnet wurden.</span><span class="sxs-lookup"><span data-stu-id="8c47e-115">**CheckAccessFullyMapped** returns true (0xFFFFFFFF) if data was mapped or false (0x00000000) if data was unmapped.</span></span>

<span data-ttu-id="8c47e-116">Bei Filter Vorgängen ist die Gewichtung eines bestimmten Texttyps manchmal 0,0.</span><span class="sxs-lookup"><span data-stu-id="8c47e-116">During filter operations, sometimes the weight of a given texel ends up being 0.0.</span></span> <span data-ttu-id="8c47e-117">Ein Beispiel hierfür ist ein lineares Beispiel mit Texturkoordinaten, die sich direkt in einem texturcenter befinden: 3 andere texeln (die von der Hardware abweichen können) tragen zum Filter bei, aber mit 0 Gewichtung.</span><span class="sxs-lookup"><span data-stu-id="8c47e-117">An example is a linear sample with texture coordinates that fall directly on a texel center: 3 other texels (which ones they are can vary by hardware) contribute to the filter but with 0 weight.</span></span> <span data-ttu-id="8c47e-118">Diese 0-Gewichtungs texeln tragen überhaupt nicht zum Filterergebnis bei. Wenn Sie also auf **null** -Kacheln fallen, werden Sie nicht als nicht zugeordneter Zugriff gezählt.</span><span class="sxs-lookup"><span data-stu-id="8c47e-118">These 0 weight texels don't contribute to the filter result at all, so if they happen to fall on **NULL** tiles, they don't count as an unmapped access.</span></span> <span data-ttu-id="8c47e-119">Beachten Sie, dass die gleiche Garantie für Textur Filter gilt, die mehrere MIP-Ebenen einschließen. Wenn die texeln in einer der Mipmaps nicht zugeordnet sind, aber die Gewichtung für diese texeln gleich 0 ist, werden diese texeln nicht als nicht zugeordneter Zugriff gezählt.</span><span class="sxs-lookup"><span data-stu-id="8c47e-119">Note the same guarantee applies for texture filters that include multiple mip levels; if the texels on one of the mipmaps isn't mapped but the weight on those texels is 0, those texels don't count as an unmapped access.</span></span>

<span data-ttu-id="8c47e-120">Wenn die Stichprobenentnahme von einem Format mit weniger als 4 Komponenten (z. b. DXGI- \_ Format \_ R8 \_ unorm) erfolgt, führen alle texeln, die auf **null** -Kacheln fallen, dazu, dass ein **null** zugeordneter Zugriff gemeldet wird, unabhängig davon, welche Komponenten der Shader tatsächlich im Ergebnis untersucht.</span><span class="sxs-lookup"><span data-stu-id="8c47e-120">When sampling from a format that has fewer than 4 components (such as DXGI\_FORMAT\_R8\_UNORM), any texels that fall on **NULL** tiles result in the a **NULL** mapped access being reported regardless of which components the shader actually looks at in the result.</span></span> <span data-ttu-id="8c47e-121">Beispielsweise scheint das Lesen aus dem R8 \_ -unorm und das Maskieren des Lese Ergebnisses im Shader mit. GBA/. yzw die Textur überhaupt nicht zu lesen.</span><span class="sxs-lookup"><span data-stu-id="8c47e-121">For example, reading from R8\_UNORM and masking the read result in the shader with .gba/.yzw wouldn't appear to need to read the texture at all.</span></span> <span data-ttu-id="8c47e-122">Wenn die textrece jedoch eine **null** zugeordnete Kachel ist, wird der Vorgang weiterhin als **null** -Zuordnungs Zugriff gezählt.</span><span class="sxs-lookup"><span data-stu-id="8c47e-122">But if the texel address is a **NULL** mapped tile, the operation still counts as a **NULL** map access.</span></span>

<span data-ttu-id="8c47e-123">Der Shader kann den Status überprüfen und jede gewünschte Vorgehensweise bei einem Fehler verfolgen.</span><span class="sxs-lookup"><span data-stu-id="8c47e-123">The shader can check the status and pursue any desired course of action on failure.</span></span> <span data-ttu-id="8c47e-124">Eine Vorgehensweise kann z. b. "Fehler" protokollieren (z. b. über den UAV-Schreibvorgang) und/oder einen anderen Lesevorgang an eine gröbere-Lod ausgeben, die bekanntermaßen zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="8c47e-124">For example, a course of action can be logging 'misses' (say via UAV write) and/or issuing another read clamped to a coarser LOD known to be mapped.</span></span> <span data-ttu-id="8c47e-125">Eine Anwendung kann auch erfolgreiche Zugriffe nachverfolgen, um einen Eindruck davon zu erhalten, auf welchen Teil des zugeordneten Satzes von Kacheln zugegriffen wurde.</span><span class="sxs-lookup"><span data-stu-id="8c47e-125">An application might want to track successful accesses as well in order to get a sense of what portion of the mapped set of tiles got accessed.</span></span>

<span data-ttu-id="8c47e-126">Eine Komplikation für die Protokollierung besteht darin, dass kein Mechanismus vorhanden ist, mit dem der genaue Satz von Kacheln gemeldet werden kann</span><span class="sxs-lookup"><span data-stu-id="8c47e-126">One complication for logging is no mechanism exists for reporting the exact set of tiles that would have been accessed.</span></span> <span data-ttu-id="8c47e-127">Die Anwendung kann konservative Schätzwerte auf der Grundlage der für den Zugriff verwendeten Koordinaten und mithilfe der Lod-Anweisung (z. b. [**tex2Dlod**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-tex2dlod)), die die Berechnung der Hardware-Lod zurückgibt, durchführen.</span><span class="sxs-lookup"><span data-stu-id="8c47e-127">The application can make conservative guesses based on knowing the coordinates it used for access, as well as using the LOD instruction (for example, [**tex2Dlod**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-tex2dlod)) which returns what the hardware LOD calculation is.</span></span>

<span data-ttu-id="8c47e-128">Eine weitere Komplikation ist, dass viele Zugriffe auf die gleichen Kacheln erfolgen, sodass eine Menge redundanter Protokollierung und möglicherweise Konflikte im Speicher stattfindet.</span><span class="sxs-lookup"><span data-stu-id="8c47e-128">Another complication is that lots of accesses will be to the same tiles, so a lot of redundant logging will occur and possibly contention on memory.</span></span> <span data-ttu-id="8c47e-129">Es kann praktisch sein, wenn der Hardware die Möglichkeit eingeräumt wird, sich nicht auf den Zugriff auf Berichts Kacheln zu kümmern, wenn Sie an anderer Stelle als gemeldet wurden.</span><span class="sxs-lookup"><span data-stu-id="8c47e-129">It could be convenient if the hardware could be given the option to not bother to report tile accesses if they were reported elsewhere before.</span></span> <span data-ttu-id="8c47e-130">Möglicherweise könnte der Status einer solchen Nachverfolgung von der API zurückgesetzt werden (wahrscheinlich an Frame Grenzen).</span><span class="sxs-lookup"><span data-stu-id="8c47e-130">Perhaps the state of such tracking could be reset from the API (likely at frame boundaries).</span></span>

## <a name="per-sample-minlod-clamp"></a><span data-ttu-id="8c47e-131">Minlod-Klammer pro Stichprobe</span><span class="sxs-lookup"><span data-stu-id="8c47e-131">Per-sample MinLOD clamp</span></span>

<span data-ttu-id="8c47e-132">Um Shader bei der Vermeidung von Bereichen in falsch zugeordneten Kacheln zu unterstützen, die bekanntermaßen nicht zugeordnet sind, haben die meisten shaderanweisungen mit einem Sampler (Filterung) einen neuen Modus, der es dem Shader ermöglicht, einen zusätzlichen float32 minlod-Klammer Parameter an das Textur Beispiel zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="8c47e-132">To help shaders avoid areas in mipmapped tiled resources that are known to be non-mapped, most shader instructions that involve using a sampler (filtering) have a new mode that allows the shader to pass an additional float32 MinLOD clamp parameter to the texture sample.</span></span> <span data-ttu-id="8c47e-133">Dieser Wert befindet sich im Gegensatz zur zugrunde liegenden Ressource im MipMap-Nummernbereich der Ansicht.</span><span class="sxs-lookup"><span data-stu-id="8c47e-133">This value is in the view's mipmap number space, as opposed to the underlying resource.</span></span>

<span data-ttu-id="8c47e-134">Die Hardware führt [**Max**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-max)("f", "f", "f") am gleichen Speicherort wie die Lod-Berechnung aus, bei der die ressourcenbasierte minlod-Klammer auftritt. Dies ist auch ein **Maximum**().</span><span class="sxs-lookup"><span data-stu-id="8c47e-134">The hardware performs [**max**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-max)(fShaderMinLODClamp,fComputedLOD) in the same place in the LOD calculation where the per-resource MinLOD clamp occurs, which is also a **max**().</span></span>

<span data-ttu-id="8c47e-135">Wenn das Ergebnis der Anwendung der Lod-Klammer pro Stichprobe und sämtlicher anderer im Sampler definierter Lod-Klammern eine leere Menge ist, ist das Ergebnis das gleiche out-of-Limit-Zugriffs Ergebnis wie die pro-Ressource-minlod-Klammer: 0 für Komponenten im Oberflächen Format und Standardwerte für fehlende Komponenten.</span><span class="sxs-lookup"><span data-stu-id="8c47e-135">If the result of applying the per-sample LOD clamp and any other LOD clamps defined in the sampler is an empty set, the result is the same out of bounds access result as the per-resource minLOD clamp: 0 for components in the surface format and defaults for missing components.</span></span>

<span data-ttu-id="8c47e-136">Die Lod-Anweisung (z. b. [**tex2Dlod**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-tex2dlod)), in der die hier beschriebene minlod-Klammer für Samplingwerte vorausgeht, gibt sowohl eine angehaltene und ungebundene Lod zurück.</span><span class="sxs-lookup"><span data-stu-id="8c47e-136">The LOD instruction (for example, [**tex2Dlod**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-tex2dlod)), which predates the per-sample minLOD clamp described here, returns both a clamped and unclamped LOD.</span></span> <span data-ttu-id="8c47e-137">Die von dieser Lod-Anweisung zurückgegebene gebundene Lod spiegelt alle Klammern wider, einschließlich der pro-Ressource-Klammer, aber keine pro-Stichproben-Klammer.</span><span class="sxs-lookup"><span data-stu-id="8c47e-137">The clamped LOD returned from this LOD instruction reflects all clamping including the per-resource clamp, but not a per-sample clamp.</span></span> <span data-ttu-id="8c47e-138">Die pro-Stichproben-Klammer wird gesteuert und wird vom Shader trotzdem bekannt, sodass der Shader-Autor diese Klammer bei Bedarf manuell auf den Rückgabewert der Lod-Anweisung anwenden kann.</span><span class="sxs-lookup"><span data-stu-id="8c47e-138">Per-sample clamp is controlled and known by the shader anyway, so the shader author can manually apply that clamp to the LOD instruction's return value if desired.</span></span>

## <a name="minmax-reduction-filtering"></a><span data-ttu-id="8c47e-139">Minimale/maximale Reduzierungs Filterung</span><span class="sxs-lookup"><span data-stu-id="8c47e-139">Min/Max reduction filtering</span></span>

<span data-ttu-id="8c47e-140">Anwendungen können Ihre eigenen Datenstrukturen verwalten, die Sie über das Aussehen der Zuordnungen für eine gekachelte Ressource informieren.</span><span class="sxs-lookup"><span data-stu-id="8c47e-140">Applications can choose to manage their own data structures that inform them of what the mappings looks like for a tiled resource.</span></span> <span data-ttu-id="8c47e-141">Ein Beispiel wäre eine Oberfläche, die ein Texel enthält, das Informationen für jede Kachel in einer gekachelten Ressource enthalten soll.</span><span class="sxs-lookup"><span data-stu-id="8c47e-141">An example would be a surface that contains a texel to hold information for every tile in a tiled resource.</span></span> <span data-ttu-id="8c47e-142">Eine kann die erste Lod speichern, die an einem bestimmten Kachel Speicherort zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="8c47e-142">One might store the first LOD that is mapped at a given tile location.</span></span> <span data-ttu-id="8c47e-143">Durch die sorgfältige Stichprobenentnahme dieser Datenstruktur auf die gleiche Weise, wie die gekachelte Ressource als Stichprobe verwendet werden soll, kann man ermitteln, was die minimale Lod ist, die für einen vollständigen Textur Filter vollständig zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="8c47e-143">By careful sampling of this data structure in a similar way that the tiled resource is intended to be sampled, one might discover what the minimum LOD that is fully mapped for an entire texture filter footprint will be.</span></span> <span data-ttu-id="8c47e-144">Um diesen Prozess zu vereinfachen, bietet Direct3D 11,2 einen neuen allgemeinen Samplingmodus, Min/Max-Filterung.</span><span class="sxs-lookup"><span data-stu-id="8c47e-144">To help make this process easier, Direct3D 11.2 introduces a new general purpose sampler mode, min/max filtering.</span></span>

<span data-ttu-id="8c47e-145">Das Hilfsprogramm der Min/Max-Filterung für die Lod-Nachverfolgung kann für andere Zwecke nützlich sein, z. b. das Filtern von tiefen Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="8c47e-145">The utility of min/max filtering for LOD tracking might be useful for other purposes, such as, perhaps the filtering of depth surfaces.</span></span>

<span data-ttu-id="8c47e-146">Die minimale/maximale Reduzierungs Filterung ist ein Modus für Samplern, der denselben textursatz abruft, der von einem normalen Textur Filter abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="8c47e-146">Min/max reduction filtering is a mode on samplers that fetches the same set of texels that a normal texture filter would fetch.</span></span> <span data-ttu-id="8c47e-147">Anstatt jedoch die Werte zu mischen, um eine Antwort zu erhalten, gibt Sie die minimale () oder die maximale Anzahl () der texeln zurück, die pro Komponente abgerufen werden (z. b. die minimale Anzahl aller R-Werte, getrennt von der Summe aller G-Werte usw.).</span><span class="sxs-lookup"><span data-stu-id="8c47e-147">But instead of blending the values to produce an answer, it returns the min() or max() of the texels fetched, on a per-component basis (for example, the min of all the R values, separately from the min of all the G values and so on).</span></span>

<span data-ttu-id="8c47e-148">Die Min/Max-Vorgänge folgen den Regeln für die arithmetische Genauigkeit Direct3D.</span><span class="sxs-lookup"><span data-stu-id="8c47e-148">The min/max operations follow Direct3D arithmetic precision rules.</span></span> <span data-ttu-id="8c47e-149">Die Reihenfolge der Vergleiche spielt keine Rolle.</span><span class="sxs-lookup"><span data-stu-id="8c47e-149">The order of comparisons doesn't matter.</span></span>

<span data-ttu-id="8c47e-150">Bei Filter Vorgängen, bei denen es sich nicht um min/max handelt, ist die Gewichtung eines bestimmten Texttyps manchmal 0,0.</span><span class="sxs-lookup"><span data-stu-id="8c47e-150">During filter operations that aren't min/max, sometimes the weight of a given texel ends up being 0.0.</span></span> <span data-ttu-id="8c47e-151">Ein Beispiel hierfür ist ein lineares Beispiel mit Texturkoordinaten, die sich direkt in einem Texel-Center-3 anderen texeln (bei denen Sie je nach Hardware variieren können) zu dem Filter beitragen, aber mit 0 (null).</span><span class="sxs-lookup"><span data-stu-id="8c47e-151">An example is a linear sample with texture coordinates that fall directly on a texel center - 3 other texels (which ones they are may vary by hardware) contribute to the filter but with 0 weight.</span></span> <span data-ttu-id="8c47e-152">Bei allen diesen texeln, bei denen es sich um 0 (null) bei einem nicht-Min/Max-Filter handeln würde, tragen diese textteln nach wie vor nicht zum Ergebnis bei, und die Gewichtungen wirken sich nicht auf den Min/Max-Filter Vorgang aus.</span><span class="sxs-lookup"><span data-stu-id="8c47e-152">For any of these texels that would be 0 weight on a non-min/max filter, if the filter is min/max, these texels still do not contribute to the result (and the weights do not otherwise affect the min/max filter operation).</span></span>

<span data-ttu-id="8c47e-153">Die vollständige Liste der Filtermodi wird in der [**D3D11 \_ Filter**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_filter) -Enumeration mit dem Minimalwert und dem Maximum in den Enumerationswerten angezeigt.</span><span class="sxs-lookup"><span data-stu-id="8c47e-153">The full list of filter modes is shown in the [**D3D11\_FILTER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_filter) enumeration with MINIMUM and MAXIMUM in the enumeration values.</span></span>

<span data-ttu-id="8c47e-154">Die Unterstützung für dieses Feature hängt von der Unterstützung der [Ebene 2](tier-2.md) für gekachelte Ressourcen</span><span class="sxs-lookup"><span data-stu-id="8c47e-154">Support for this feature depends on [Tier 2](tier-2.md) support for tiled resources.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8c47e-155">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="8c47e-155">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8c47e-156">Pipeline Zugriff auf gekachelte Ressourcen</span><span class="sxs-lookup"><span data-stu-id="8c47e-156">Pipeline access to tiled resources</span></span>](pipeline-access-to-tiled-resources.md)
</dt> </dl>

 

 