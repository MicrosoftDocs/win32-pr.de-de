---
title: Einführung in Puffer in Direct3D 11
description: Eine Puffer Ressource ist eine Auflistung von vollständig typisierten Daten, die in-Elementen gruppiert sind.
ms.assetid: e33ca01e-f13c-4f91-b0db-2b2bc6b4fd8f
keywords:
- konstanter Puffer, was ist
- Vertex-Puffer, was ist
- Index Puffer, was ist
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 241ade0721ae87b1371586bc901ee18f8975b53f
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 08/20/2020
ms.locfileid: "104315452"
---
# <a name="introduction-to-buffers-in-direct3d-11"></a><span data-ttu-id="1022f-106">Einführung in Puffer in Direct3D 11</span><span class="sxs-lookup"><span data-stu-id="1022f-106">Introduction to Buffers in Direct3D 11</span></span>

<span data-ttu-id="1022f-107">Eine Puffer Ressource ist eine Auflistung von vollständig typisierten Daten, die in-Elementen gruppiert sind.</span><span class="sxs-lookup"><span data-stu-id="1022f-107">A buffer resource is a collection of fully typed data grouped into elements.</span></span> <span data-ttu-id="1022f-108">Sie können Puffer verwenden, um eine Vielzahl von Daten zu speichern, z. b. Positions Vektoren, normale Vektoren, Texturkoordinaten in einem Vertex-Puffer, Indizes in einem Index Puffer oder einen Gerätezustand.</span><span class="sxs-lookup"><span data-stu-id="1022f-108">You can use buffers to store a wide variety of data, including position vectors, normal vectors, texture coordinates in a vertex buffer, indexes in an index buffer, or device state.</span></span> <span data-ttu-id="1022f-109">Ein Puffer Element besteht aus 1 bis 4 Komponenten.</span><span class="sxs-lookup"><span data-stu-id="1022f-109">A buffer element is made up of 1 to 4 components.</span></span> <span data-ttu-id="1022f-110">Puffer Elemente können gepackte Datenwerte (z. b. R8G8B8A8 Surface Values), einzelne 8-Bit-Ganzzahlen oder Gleit Komma Werte mit 4 32 Bit enthalten.</span><span class="sxs-lookup"><span data-stu-id="1022f-110">Buffer elements can include packed data values (like R8G8B8A8 surface values), single 8-bit integers, or four 32-bit floating point values.</span></span>

<span data-ttu-id="1022f-111">Ein Puffer wird als unstrukturierte Ressource erstellt.</span><span class="sxs-lookup"><span data-stu-id="1022f-111">A buffer is created as an unstructured resource.</span></span> <span data-ttu-id="1022f-112">Da ein Puffer nicht strukturiert ist, kann er keine MipMap-Ebenen enthalten, er kann beim Lesen nicht gefiltert werden und kann nicht mit einem Multisampling verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1022f-112">Because it is unstructured, a buffer cannot contain any mipmap levels, it cannot get filtered when read, and it cannot be multisampled.</span></span>

## <a name="buffer-types"></a><span data-ttu-id="1022f-113">Puffer Typen</span><span class="sxs-lookup"><span data-stu-id="1022f-113">Buffer Types</span></span>

<span data-ttu-id="1022f-114">Die folgenden Puffer Ressourcentypen werden von Direct3D 11 unterstützt.</span><span class="sxs-lookup"><span data-stu-id="1022f-114">The following are the buffer resource types supported by Direct3D 11.</span></span> <span data-ttu-id="1022f-115">Alle Puffer Typen werden von der [**ID3D11Buffer**](/windows/desktop/api/D3D11/nn-d3d11-id3d11buffer) -Schnittstelle gekapselt.</span><span class="sxs-lookup"><span data-stu-id="1022f-115">All buffer types are encapsulated by the [**ID3D11Buffer**](/windows/desktop/api/D3D11/nn-d3d11-id3d11buffer) interface.</span></span>

-   [<span data-ttu-id="1022f-116">Vertex-Puffer</span><span class="sxs-lookup"><span data-stu-id="1022f-116">Vertex Buffer</span></span>](#vertex-buffer)
-   [<span data-ttu-id="1022f-117">Indexpuffer</span><span class="sxs-lookup"><span data-stu-id="1022f-117">Index Buffer</span></span>](#index-buffer)
-   [<span data-ttu-id="1022f-118">Konstanter Puffer</span><span class="sxs-lookup"><span data-stu-id="1022f-118">Constant Buffer</span></span>](#constant-buffer)

### <a name="vertex-buffer"></a><span data-ttu-id="1022f-119">Vertex-Puffer</span><span class="sxs-lookup"><span data-stu-id="1022f-119">Vertex Buffer</span></span>

<span data-ttu-id="1022f-120">Ein Vertex-Puffer enthält die Vertexdaten, die zum Definieren der Geometrie verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1022f-120">A vertex buffer contains the vertex data used to define your geometry.</span></span> <span data-ttu-id="1022f-121">Vertex-Daten enthalten Positionskoordinaten, Farbdaten, Texturkoordinaten Daten, normale Daten usw.</span><span class="sxs-lookup"><span data-stu-id="1022f-121">Vertex data includes position coordinates, color data, texture coordinate data, normal data, and so on.</span></span>

<span data-ttu-id="1022f-122">Das einfachste Beispiel für einen Vertex-Puffer ist eine, die nur Positionsdaten enthält.</span><span class="sxs-lookup"><span data-stu-id="1022f-122">The simplest example of a vertex buffer is one that only contains position data.</span></span> <span data-ttu-id="1022f-123">Es kann wie in der folgenden Abbildung dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="1022f-123">It can be visualized like the following illustration.</span></span>

![Abbildung eines Scheitelpunkt Puffers, der Positionsdaten enthält](images/d3d10-resources-single-element-vb2.png)

<span data-ttu-id="1022f-125">Häufig enthält ein Vertex-Puffer alle Daten, die erforderlich sind, um 3D-Vertices vollständig anzugeben.</span><span class="sxs-lookup"><span data-stu-id="1022f-125">More often, a vertex buffer contains all the data needed to fully specify 3D vertices.</span></span> <span data-ttu-id="1022f-126">Ein Beispiel hierfür könnte ein Vertex-Puffer sein, der die Position des einzelnen Vertex, die normalen und die Texturkoordinaten enthält.</span><span class="sxs-lookup"><span data-stu-id="1022f-126">An example of this could be a vertex buffer that contains per-vertex position, normal and texture coordinates.</span></span> <span data-ttu-id="1022f-127">Diese Daten werden in der Regel als Sätze von pro-Vertex-Elementen organisiert, wie in der folgenden Abbildung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="1022f-127">This data is usually organized as sets of per-vertex elements, as shown in the following illustration.</span></span>

![Abbildung eines Scheitelpunkt Puffers, der Positions-, normal-und Textur Daten enthält](images/d3d10-vertex-buffer-element.png)

<span data-ttu-id="1022f-129">Dieser Vertex-Puffer enthält pro-Vertex-Daten. jeder Scheitelpunkt speichert drei Elemente (Positions-, normal-und Texturkoordinaten).</span><span class="sxs-lookup"><span data-stu-id="1022f-129">This vertex buffer contains per-vertex data; each vertex stores three elements (position, normal, and texture coordinates).</span></span> <span data-ttu-id="1022f-130">Die Position und normal werden üblicherweise mit 3 32-Bit-Gleit Komma Zahlen (DXGI- \_ Format \_ R32G32B32 \_ float) und den Texturkoordinaten mit 2 32-Bit-Gleit Komma Zahlen (DXGI- \_ Format \_ R32G32 \_ float) angegeben.</span><span class="sxs-lookup"><span data-stu-id="1022f-130">The position and normal are each typically specified using three 32-bit floats (DXGI\_FORMAT\_R32G32B32\_FLOAT) and the texture coordinates using two 32-bit floats (DXGI\_FORMAT\_R32G32\_FLOAT).</span></span>

<span data-ttu-id="1022f-131">Für den Zugriff auf Daten aus einem Vertex-Puffer müssen Sie wissen, auf welchen Scheitelpunkt zugegriffen werden soll. Außerdem müssen Sie die folgenden zusätzlichen Puffer Parameter angeben:</span><span class="sxs-lookup"><span data-stu-id="1022f-131">To access data from a vertex buffer you need to know which vertex to access, plus the following additional buffer parameters:</span></span>

-   <span data-ttu-id="1022f-132">Offset: die Anzahl der Bytes vom Anfang des Puffers bis zu den Daten für den ersten Scheitelpunkt.</span><span class="sxs-lookup"><span data-stu-id="1022f-132">Offset - the number of bytes from the start of the buffer to the data for the first vertex.</span></span> <span data-ttu-id="1022f-133">Sie können den Offset mithilfe der [**Verknüpfung id3d11devicecontext aus:: iasetvertexbuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetvertexbuffers) -Methode angeben.</span><span class="sxs-lookup"><span data-stu-id="1022f-133">You can specify the offset using the [**ID3D11DeviceContext::IASetVertexBuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetvertexbuffers) method.</span></span>
-   <span data-ttu-id="1022f-134">Basevertexlocation: die Anzahl der Bytes vom Offset bis zum ersten Vertex, der vom entsprechenden zeichnen-Befehl verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1022f-134">BaseVertexLocation - the number of bytes from the offset to the first vertex used by the appropriate draw call.</span></span>

<span data-ttu-id="1022f-135">Vor dem Erstellen eines Scheitelpunkt Puffers müssen Sie sein Layout definieren, indem Sie eine [**ID3D11InputLayout**](/windows/win32/api/d3d11/nn-d3d11-id3d11inputlayout) -Schnittstelle erstellen. Dies erfolgt durch Aufrufen der [**ID3D11Device:: createinputlayout**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createinputlayout) -Methode.</span><span class="sxs-lookup"><span data-stu-id="1022f-135">Before you create a vertex buffer, you need to define its layout by creating an [**ID3D11InputLayout**](/windows/win32/api/d3d11/nn-d3d11-id3d11inputlayout) interface; this is done by calling the [**ID3D11Device::CreateInputLayout**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createinputlayout) method.</span></span> <span data-ttu-id="1022f-136">Nachdem das Eingabe Layout-Objekt erstellt wurde, können Sie es mit der Eingabe-Assembler-Phase durch Aufrufen von [**Verknüpfung id3d11devicecontext aus:: iasetinputlayout**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetinputlayout)binden.</span><span class="sxs-lookup"><span data-stu-id="1022f-136">After the input-layout object is created, you can bind it to the input-assembler stage by calling the [**ID3D11DeviceContext::IASetInputLayout**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetinputlayout).</span></span>

<span data-ttu-id="1022f-137">Rufen Sie zum Erstellen eines Scheitelpunkt Puffers [**ID3D11Device:: up Buffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer)auf.</span><span class="sxs-lookup"><span data-stu-id="1022f-137">To create a vertex buffer, call [**ID3D11Device::CreateBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer).</span></span>

### <a name="index-buffer"></a><span data-ttu-id="1022f-138">Indexpuffer</span><span class="sxs-lookup"><span data-stu-id="1022f-138">Index Buffer</span></span>

<span data-ttu-id="1022f-139">Index Puffer enthalten ganzzahlige Offsets in Scheitelpunkt Puffer und dienen zum effizienteren Rendering von primitiven.</span><span class="sxs-lookup"><span data-stu-id="1022f-139">Index buffers contain integer offsets into vertex buffers and are used to render primitives more efficiently.</span></span> <span data-ttu-id="1022f-140">Ein Index Puffer enthält einen sequenziellen Satz von 16-Bit-oder 32-Bit-Indizes. Jeder Index wird zum Identifizieren eines Scheitel Punkts in einem Scheitelpunkt Puffer verwendet.</span><span class="sxs-lookup"><span data-stu-id="1022f-140">An index buffer contains a sequential set of 16-bit or 32-bit indices; each index is used to identify a vertex in a vertex buffer.</span></span> <span data-ttu-id="1022f-141">Ein Index Puffer kann wie in der folgenden Abbildung dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="1022f-141">An index buffer can be visualized like the following illustration.</span></span>

![Abbildung eines Index Puffers](images/d3d10-index-buffer.png)

<span data-ttu-id="1022f-143">Die in einem Index Puffer gespeicherten sequenziellen Indizes befinden sich mit den folgenden Parametern:</span><span class="sxs-lookup"><span data-stu-id="1022f-143">The sequential indices stored in an index buffer are located with the following parameters:</span></span>

-   <span data-ttu-id="1022f-144">Offset: die Anzahl von Bytes aus der Basisadresse des Index Puffers.</span><span class="sxs-lookup"><span data-stu-id="1022f-144">Offset - the number of bytes from the base address of the index buffer.</span></span> <span data-ttu-id="1022f-145">Der Offset wird der [**Verknüpfung id3d11devicecontext aus:: iasetindexbuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetindexbuffer) -Methode bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="1022f-145">The offset is supplied to the [**ID3D11DeviceContext::IASetIndexBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetindexbuffer) method.</span></span>
-   <span data-ttu-id="1022f-146">Startindexlocation: gibt das erste Index Puffer Element aus der Basisadresse und den Offset an, der in [**iasetindexbuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetindexbuffer)bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="1022f-146">StartIndexLocation - specifies the first index buffer element from the base address and the offset provided in [**IASetIndexBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-iasetindexbuffer).</span></span> <span data-ttu-id="1022f-147">Die Startposition wird an die [**Verknüpfung id3d11devicecontext aus::D rawindexed**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawindexed) -oder [**Verknüpfung id3d11devicecontext aus::D rawindexedinstanxed**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawindexedinstanced) -Methode übergeben und stellt den ersten zu Rendering-Index dar.</span><span class="sxs-lookup"><span data-stu-id="1022f-147">The start location is supplied to the [**ID3D11DeviceContext::DrawIndexed**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawindexed) or [**ID3D11DeviceContext::DrawIndexedInstanced**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawindexedinstanced) method and represents the first index to render.</span></span>
-   <span data-ttu-id="1022f-148">IndexCount: die Anzahl der zu renderenden Indizes.</span><span class="sxs-lookup"><span data-stu-id="1022f-148">IndexCount - the number of indices to render.</span></span> <span data-ttu-id="1022f-149">Die Zahl wird der [**drawindexed**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawindexed) -Methode bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="1022f-149">The number is supplied to the [**DrawIndexed**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-drawindexed) method</span></span>

<span data-ttu-id="1022f-150">Anfang des Index Puffers = Basisadresse des Index Puffers + Offset (Bytes) + startindexlocation \* Element Size (Bytes);</span><span class="sxs-lookup"><span data-stu-id="1022f-150">Start of Index Buffer = Index Buffer Base Address + Offset (bytes) + StartIndexLocation \* ElementSize (bytes);</span></span>

<span data-ttu-id="1022f-151">In dieser Berechnung entspricht Element Size der Größe der einzelnen Index Puffer Elemente, die entweder zwei oder vier Bytes groß sind.</span><span class="sxs-lookup"><span data-stu-id="1022f-151">In this calculation, ElementSize is the size of each index buffer element, which is either two or four bytes.</span></span>

<span data-ttu-id="1022f-152">Um einen Index Puffer zu erstellen, rufen Sie [**ID3D11Device:: up Buffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer)auf.</span><span class="sxs-lookup"><span data-stu-id="1022f-152">To create an index buffer, call [**ID3D11Device::CreateBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer).</span></span>

### <a name="constant-buffer"></a><span data-ttu-id="1022f-153">Konstanter Puffer</span><span class="sxs-lookup"><span data-stu-id="1022f-153">Constant Buffer</span></span>

<span data-ttu-id="1022f-154">Ein konstanter Puffer ermöglicht die effiziente Bereitstellung von Shader-Konstanten Daten an die Pipeline.</span><span class="sxs-lookup"><span data-stu-id="1022f-154">A constant buffer allows you to efficiently supply shader constants data to the pipeline.</span></span> <span data-ttu-id="1022f-155">Sie können einen konstanten Puffer verwenden, um die Ergebnisse der Stream-Output-Phase zu speichern.</span><span class="sxs-lookup"><span data-stu-id="1022f-155">You can use a constant buffer to store the results of the stream-output stage.</span></span> <span data-ttu-id="1022f-156">Konzeptionell sieht ein konstanter Puffer wie in der folgenden Abbildung dargestellt genau wie ein Einzelelement-Vertex-Puffer aus.</span><span class="sxs-lookup"><span data-stu-id="1022f-156">Conceptually, a constant buffer looks just like a single-element vertex buffer, as shown in the following illustration.</span></span>

![Abbildung eines Shaders-konstantenpuffers](images/d3d10-shader-resource-buffer.png)

<span data-ttu-id="1022f-158">Jedes Element speichert eine 1-zu-4-Komponenten Konstante, die durch das Format der gespeicherten Daten bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="1022f-158">Each element stores a 1-to-4 component constant, determined by the format of the data stored.</span></span> <span data-ttu-id="1022f-159">Um einen Shader-Constant-Puffer zu erstellen, rufen Sie [**ID3D11Device:: up Buffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer) auf, und geben Sie den **D3D11 \_ Bind \_ Constant- \_ Puffer** Mitglied des enumerierten Typs [**D3D11 \_ Bind \_ Flag**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bind_flag) an.</span><span class="sxs-lookup"><span data-stu-id="1022f-159">To create a shader-constant buffer, call [**ID3D11Device::CreateBuffer**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-createbuffer) and specify the **D3D11\_BIND\_CONSTANT\_BUFFER** member of the [**D3D11\_BIND\_FLAG**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_bind_flag) enumerated type.</span></span>

<span data-ttu-id="1022f-160">Ein konstanter Puffer kann nur ein einzelnes Bindungsflag (**D3D11 \_ Bind \_ Constant \_ buffer**) verwenden, das nicht mit einem anderen Bindungsflag kombiniert werden kann.</span><span class="sxs-lookup"><span data-stu-id="1022f-160">A constant buffer can only use a single bind flag (**D3D11\_BIND\_CONSTANT\_BUFFER**), which cannot be combined with any other bind flag.</span></span> <span data-ttu-id="1022f-161">Um einen Shader-Konstantenpuffer an die Pipeline zu binden, wenden Sie eine der folgenden Methoden an: [**Verknüpfung id3d11devicecontext aus:: gssetconstantbuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gssetconstantbuffers), [**Verknüpfung id3d11devicecontext aus::P ssetconstantbuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-pssetconstantbuffers)oder [**Verknüpfung id3d11devicecontext aus:: vssetconstantbuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-vssetconstantbuffers).</span><span class="sxs-lookup"><span data-stu-id="1022f-161">To bind a shader-constant buffer to the pipeline, call one of the following methods: [**ID3D11DeviceContext::GSSetConstantBuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-gssetconstantbuffers), [**ID3D11DeviceContext::PSSetConstantBuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-pssetconstantbuffers), or [**ID3D11DeviceContext::VSSetConstantBuffers**](/windows/desktop/api/D3D11/nf-d3d11-id3d11devicecontext-vssetconstantbuffers).</span></span>

<span data-ttu-id="1022f-162">Um einen Shader-Konstantenpuffer aus einem Shader zu lesen, verwenden Sie eine HLSL-Ladefunktion (z. b. " [**Laden**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-load)").</span><span class="sxs-lookup"><span data-stu-id="1022f-162">To read a shader-constant buffer from a shader, use a HLSL load function (for example, [**Load**](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-load)).</span></span> <span data-ttu-id="1022f-163">Jede Shader-Stufe ermöglicht bis zu 15 Shader-Konstante Puffer. jeder Puffer kann bis zu 4096 Konstanten enthalten.</span><span class="sxs-lookup"><span data-stu-id="1022f-163">Each shader stage allows up to 15 shader-constant buffers; each buffer can hold up to 4096 constants.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1022f-164">Zugehörige Themen</span><span class="sxs-lookup"><span data-stu-id="1022f-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1022f-165">Puffer</span><span class="sxs-lookup"><span data-stu-id="1022f-165">Buffers</span></span>](overviews-direct3d-11-resources-buffers.md)
</dt> </dl>

 

 