---
description: Es gab bedeutende Änderungen am Dienstmodell, um die Leistung, Zuverlässigkeit, Sicherheit, Verwaltung und Administration von Diensten zu verbessern.
ms.assetid: b1c09468-51e1-4ffd-bf07-6faa9f9336dd
title: Dienst Änderungen für Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e6ba96cc0c69e2bda4e19e7d093098c578e31c4b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2021
ms.locfileid: "103862387"
---
# <a name="service-changes-for-windows-vista"></a>Dienst Änderungen für Windows Vista

Es gab bedeutende Änderungen am Dienstmodell, um die Leistung, Zuverlässigkeit, Sicherheit, Verwaltung und Administration von Diensten zu verbessern.

In der folgenden Tabelle sind die Verbesserungen der Dienste für Windows Vista zusammengefasst.



| Erweiterung                                                                                                                                                                                                  | BESCHREIBUNG                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="Delayed_Auto-Start"></span><span id="delayed_auto-start"></span><span id="DELAYED_AUTO-START"></span>Verzögerter automatischer Start<br/>                                                                 | Verzögerte Auto Start Dienste werden kurz nach dem Start des Systems gestartet. Dadurch wird die Systemstart Leistung verbessert, und es werden weiterhin automatische Starts für diese Dienste bereitgestellt. Um das verzögerte Autostart-Flag festzulegen, müssen Sie die [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) -Funktion mit **\_ \_ verzögerten \_ automatischen \_ Start \_ Informationen für die Dienst Konfiguration** aufzurufen.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="Failure_Detection_and_Recovery"></span><span id="failure_detection_and_recovery"></span><span id="FAILURE_DETECTION_AND_RECOVERY"></span>Fehlererkennung und-Wiederherstellung<br/>                 | Wenn ein Dienst ausfällt, kann der Dienststeuerungs-Manager (Service Control Manager, SCM) eine Fehler Aktion ausführen, z. b. den Neustart des Dienstanbieter bei einem Versuch, diesen Fehler zu beheben. Um eine Fehler Aktion zu konfigurieren, wenden Sie [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) mit **Dienst \_ Konfigurations \_ Fehler \_ Aktionen** an.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="Preshutdown_Notifications"></span><span id="preshutdown_notifications"></span><span id="PRESHUTDOWN_NOTIFICATIONS"></span>Benachrichtigungen vor dem Herunterfahren<br/>                                     | Ein Dienst kann sich registrieren, um eine Benachrichtigung vor dem **\_ \_ Herunterfahren des Diensts** in der [*handlerex*](/windows/desktop/api/WinSvc/nc-winsvc-lphandler_function_ex) -Funktion zu empfangen, bevor er die tatsächliche Benachrichtigung zum Herunterfahren empfängt Dies ermöglicht es, dass Dienste mit einem längeren Herunterfahren länger heruntergefahren werden. Um den Timeout Wert festzulegen, rufen Sie [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) mit **Dienst \_ konfigurationsvor dem \_ herunter \_** fahren auf.<br/>                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="Restricted_Network_Access"></span><span id="restricted_network_access"></span><span id="RESTRICTED_NETWORK_ACCESS"></span>Eingeschränkter Netzwerk Zugriff<br/>                                     | Sie können Dienst-SIDs verwenden, um den Zugriff auf Ports, Protokolle oder die Richtung des Netzwerk Datenverkehrs einzuschränken. Um den Zugriff eines Dienstanbieter auf das Netzwerk einzuschränken, verwenden Sie die [**INetFwServiceRestriction**](/windows/desktop/api/netfw/nn-netfw-inetfwservicerestriction) -Schnittstelle.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="Running_with_Least_Privilege"></span><span id="running_with_least_privilege"></span><span id="RUNNING_WITH_LEAST_PRIVILEGE"></span>Ausführung mit geringstmöglichen Berechtigungen<br/>                         | Dienste können unter jedem Konto ausgeführt werden, das die erforderlichen Berechtigungen (LocalService, Network Service, LocalSystem, ein Domänen Konto oder ein lokales Konto) enthält, und die erforderlichen Berechtigungen durch Aufrufen von [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) mit der **Dienst \_ Konfiguration erforderliche Berechtigungs \_ \_ \_ Informationen** anzeigen. Der SCM entfernt alle Berechtigungen, die nicht erforderlich sind.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="Service_Isolation"></span><span id="service_isolation"></span><span id="SERVICE_ISOLATION"></span>Dienst Isolation<br/>                                                                     | Ein Dienst kann Objekte (z. b. Dateien oder Registrierungsschlüssel) für seine ausschließliche Verwendung isolieren, indem er Sie mit einem Zugriffs Steuerungs Eintrag sichert, der eine Dienst-sid enthält. Nachdem diese SID einem Dienst zugewiesen wurde, kann der Dienst Besitzer die Zugriffs Steuerungs Listen der Objekte ändern, um Zugriff auf die SID zu gewähren. Dadurch kann ein Dienst auf bestimmte Objekte zugreifen, ohne dass er unter einem Konto mit hohen Berechtigungen ausgeführt wird oder die Sicherheit der Objekte verringert. Um die Dienst-SID festzulegen, wenden Sie [**ChangeServiceConfig2**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a) mit **Dienst \_ Konfigurations \_ Dienst-SID- \_ \_ Informationen** an.<br/>                                                                                                                                                                                                                                     |
| <span id="Service_State_Change_Notifications"></span><span id="service_state_change_notifications"></span><span id="SERVICE_STATE_CHANGE_NOTIFICATIONS"></span>Benachrichtigungen zu Dienststatus Änderungen<br/> | Dienste können registriert werden, um benachrichtigt zu werden, wenn ein Dienst erstellt, gelöscht oder eine Änderung des Status mithilfe der [**NotifyServiceStatusChange**](/windows/desktop/api/Winsvc/nf-winsvc-notifyservicestatuschangea) -Funktion erfolgt. Dies ist effizienter als das Aufrufen der [**queryservicestatusex**](/windows/desktop/api/Winsvc/nf-winsvc-queryservicestatusex) -Funktion in einer Schleife zum Abrufen des Status.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="Session_0_Isolation"></span><span id="session_0_isolation"></span><span id="SESSION_0_ISOLATION"></span>Sitzung 0-Isolation<br/>                                                             | Dienste wurden immer in Sitzung 0 ausgeführt. Vor Windows Vista wurde der erste Benutzer, der sich anmelden möchte, auch Sitzung 0 zugewiesen. Die Sitzung 0 ist nun ausschließlich für Dienste und andere Anwendungen reserviert, die keiner interaktiven Benutzersitzung zugeordnet sind. (Der erste Benutzer, der sich anmelden möchte, ist mit Sitzung 1 verbunden, der zweite Benutzer, der sich anmelden möchte, ist mit Sitzung 2 verbunden usw.) Sitzung 0 unterstützt keine Prozesse, die mit dem Benutzer interagieren.<br/> Diese Änderung bedeutet, dass ein Dienst eine Nachricht nicht veröffentlichen oder an eine Anwendung senden kann, und eine Anwendung kann keine Nachricht an einen Dienst senden oder senden. Außerdem kann ein Benutzeroberflächen Element, z. b. ein Dialogfeld, nicht direkt in Diensten angezeigt werden. Ein Dienst kann die [**wtssendmessage**](/windows/desktop/api/wtsapi32/nf-wtsapi32-wtssendmessagea) -Funktion verwenden, um ein Dialogfeld in einer anderen Sitzung anzuzeigen.<br/> |



 

## <a name="related-topics"></a>Zugehörige Themen

<dl> <dt>

[Dienste](services.md)
</dt> </dl>

 

